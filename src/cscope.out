cscope 15 $HOME/IRMA/src               0003318025
	@common/CDA/camBlobDataArea.h

16 #i‚de‡
_OBJ_CAMBLOB_COMMON_DATA_AREA_H_


17 
	#_OBJ_CAMBLOB_COMMON_DATA_AREA_H_


	)

19 
	~"c⁄åﬁD©aAªa.h
"

20 
	~"../CogMem/∑ømëîs.h
"

24 
	sCamBlobD©a
 {

25 
c⁄åﬁ
 
	m˘æ
;

27 
	m√wInfo
;

28 
	mmaxblobs
;

31 
	mL_nBlobs
;

32 
	mL_blobInfo
[4*
MAX_BLOBS
];

33 
	mL_sˇÀdBlobs
[
WIDTH
*
HEIGHT
*
MAX_BLOBS
*3];

34 
	mL_‹igöÆImg
[
FWIDTH
*
FHEIGHT
*3];

35 
	mL_blobbedImg
[
FWIDTH
*
FHEIGHT
*3];

38 
	mR_nBlobs
;

39 
	mR_blobInfo
[4*
MAX_BLOBS
];

40 
	mR_sˇÀdBlobs
[
WIDTH
*
HEIGHT
*
MAX_BLOBS
*3];

41 
	mR_‹igöÆImg
[
FWIDTH
*
FHEIGHT
*3];

42 
	mR_blobbedImg
[
FWIDTH
*
FHEIGHT
*3];

	@common/CDA/closeNavDataArea.h

16 #i‚de‡
_CLOSE_NAV_COMMON_DATA_AREA_H_


17 
	#_CLOSE_NAV_COMMON_DATA_AREA_H_


	)

19 
	~"c⁄åﬁD©aAªa.h
"

22 
	sClo£NavD©a
 {

23 
c⁄åﬁ
 
	m˘æ
;

24 
	m¸n_execuã
;

25 
	m¸n_•ìd
;

26 
	m¸n_°ìrög
;

27 
boﬁ
 
	m¸n_move_ªady_Êag
;

	@common/CDA/cognitiveDataArea.h

16 #i‚de‡
_OBJ_COGNITIVE_COMMON_DATA_AREA_H_


17 
	#_OBJ_COGNITIVE_COMMON_DATA_AREA_H_


	)

19 
	~"c⁄åﬁD©aAªa.h
"

20 
	~"../CogMem/∑ømëîs.h
"

24 
	sObjCognôiveD©a
 {

25 
c⁄åﬁ
 
	m˘æ
;

27 
	m√wInfo
;

28 
	mmaxblobs
;

29 
	mmaxªsu…s
;

31 
	mÆpha
;

32 
	mbëa
;

33 
	mgamma
;

37 
	mL_nBlobs
;

38 
	mL_blobInfo
[5*
MAX_BLOBS
];

39 
	mL_sˇÀdBlobs
[
WIDTH
*
HEIGHT
*
MAX_BLOBS
*3];

42 
	mL_cognôiveImg
[
FWIDTH
*
FHEIGHT
*3];

45 
	mR_nBlobs
;

46 
	mR_blobInfo
[5*
MAX_BLOBS
];

47 
	mR_sˇÀdBlobs
[
WIDTH
*
HEIGHT
*
MAX_BLOBS
*3];

50 
	mR_cognôiveImg
[
FWIDTH
*
FHEIGHT
*3];

	@common/CDA/commonDataArea.h

15 #i‚de‡
_IRMA2_COMMON_DATA_AREA_H_


16 
	#_IRMA2_COMMON_DATA_AREA_H_


	)

18 
	~<sys/shm.h
>

19 
	~"../úmaEº‹s.h
"

20 
	~"../¥o˚ss.h
"

21 
	~"../£m≠h‹es.h
"

22 
	~"˛o£NavD©aAªa.h
"

23 
	~"l⁄gNavD©aAªa.h
"

24 
	~"„©uªNavD©aAªa.h
"

25 
	~"executiveD©aAªa.h
"

26 
	~"m≠≥rD©aAªa.h
"

27 
	~"m⁄ô‹D©aAªa.h
"

28 
	~"√tw‹kD©aAªa.h
"

29 
	~"cognôiveD©aAªa.h
"

30 
	~"numCogD©aAªa.h
"

31 
	~"ˇmBlobD©aAªa.h
"

32 
	~"œ£rD©aAªa.h
"

34 ˛as†
	cCDA
 {

35 
	m¥iv©e
:

36 
boﬁ
 
m_¸ót‹
;

37 
	mnShmId
;

38 * 
	mpShmAddr
[
NUM_PROCESS_AREAS
];

39 
shmid_ds
 
	mpShmDesc
;

40 
Sem≠h‹es
 *
	m£m
;

41 
key_t
 
	mkey
;

43 
	mpublic
:

44 
CDA
(
boﬁ
 
¸ót‹
 = 
Ál£
);

45 ~
CDA
();

46 *
gëMemPå
(
íum_¥o˚ss_¨ós
 
i
);

47 
gëAâchdPro˚s£s
();

49 
lockAªa
(
íum_¥o˚ss_¨ós
 
i
, 
íum_£m_¨ós
 
¨ó
 = 
d©a_1
);

50 
u∆ockAªa
(
íum_¥o˚ss_¨ós
 
i
, 
íum_£m_¨ós
 
¨ó
 = 
d©a_1
);

56 
	sComm⁄D©aAªa
 {

57 
Clo£NavD©a
 
	m˛o£Nav
;

58 
L⁄gNavD©a
 
	ml⁄gNav
;

59 
FótuªNavD©a
 
	m„©uªNav
;

60 
ExecutiveD©a
 
	mexec
;

61 
M≠≥rD©a
 
	mm≠≥r
;

62 
M⁄ô‹D©a
 
	mm⁄
;

63 
Nëw‹kD©a
 
	m√tNav
;

64 
ObjCognôiveD©a
 
	mobjCog
;

65 
NumCogD©a
 
	mnumCog
;

66 
CamBlobD©a
 
	mˇmBlob
;

67 
La£rD©a
 
	mœ£r
;

70 
	gCDA
::
	$CDA
(
boﬁ
 
¸ót‹
) {

71 
i
;

72 
m_¸ót‹
 = 
¸ót‹
;

73 
£m
 = 
√w
 
	`Sem≠h‹es
(
¸ót‹
);

74 
key
 = 100;

75 i‡(
¸ót‹
 =
åue
) {

77 
nShmId
 = 
	`shmgë
(
key
,  (
Comm⁄D©aAªa
), 
IPC_CREAT
 | 
IPC_EXCL
 | 0766);

78 i‡(
nShmId
 == -1) {

79 
	`Ârötf
(
°dout
, "commonDataArea CDA::CDA creator shmgetÉrror\n");

81 
	`Ârötf
(
°dout
, "Do you wantÅoÑecoverÅhe Common Data Area? (y/n)\n");

82 
i
 = 
	`gëch¨
();

83 
	`gëch¨
();

85 i‡(
i
 == 'y' || i == 'Y') {

87 
nShmId
 = 
	`shmgë
(
key
,  (
Comm⁄D©aAªa
), 0766);

88 
pShmAddr
[0] = (*Ë
	`shm©
(
nShmId
, 
NULL
, 0);

89 
	`shmdt
(
pShmAddr
[0]);

90 
	`shm˘l
(
nShmId
, 
IPC_RMID
, &
pShmDesc
);

91 
	`Ârötf
(
°dout
, "Common Data Area has beenÑecovered.\n\n");

92 
	`Ârötf
(
°dout
, "Common Data Area will beávailable\n");

93 
	`Ârötf
(
°dout
, "nextÅime youÑunÅhisÖrogram.\n");

94 } i‡(
i
 == 'n' || i == 'N')

95 
	`Ârötf
(
°dout
, "Common Data Area hasÇot beenÑecovered!\n");

99 
	`Ârötf
(
°dout
, "Wrong Selection. Nothing has been done.\n\n");

100 
	`Ârötf
(
°dout
, "ToÑecoverÅhe Common Data Area,ÑunÅhisÖrogramágain\n");

101 
	`Ârötf
(
°dout
, "and make sureÅo chooseÅheÑightánswer.\n");

105 
	`exô
(
IRMA2_CDA_ERR_SHMGET
);

109 
nShmId
 = 
	`shmgë
(
key
,  (
Comm⁄D©aAªa
), 0766);

110 i‡(
nShmId
 == -1) {

111 
	`Ârötf
(
°dout
, "commonDataArea CDA::CDA shmgetÉrror\n");

112 
	`exô
(
IRMA2_CDA_ERR_SHMGET
);

117 
pShmAddr
[0] = (*Ë
	`shm©
(
nShmId
, 
NULL
, 0);

118 i‡(!
pShmAddr
[0])

120 
	`Ârötf
(
°dout
, "commonDataArea CDA::CDA shmatÉrror\n");

121 
	`exô
(
IRMA2_CDA_ERR_SHMAT
);

125 
pShmAddr
[1] = (pShmAddr[0] +  (
Clo£NavD©a
));

126 
pShmAddr
[2] = (pShmAddr[1] +  (
L⁄gNavD©a
));

127 
pShmAddr
[3] = (pShmAddr[2] +  (
FótuªNavD©a
));

128 
pShmAddr
[4] = (pShmAddr[3] +  (
ExecutiveD©a
));

129 
pShmAddr
[5] = (pShmAddr[4] +  (
M≠≥rD©a
));

130 
pShmAddr
[6] = (pShmAddr[5] +  (
M⁄ô‹D©a
));

131 
pShmAddr
[7] = (pShmAddr[6] +  (
Nëw‹kD©a
));

132 
pShmAddr
[8] = (pShmAddr[7] +  (
ObjCognôiveD©a
));

133 
pShmAddr
[9] = (pShmAddr[8] +  (
NumCogD©a
));

134 
pShmAddr
[10] = (pShmAddr[9] +  (
CamBlobD©a
));

137 
	}
}

139 
	gCDA
::~
	$CDA
() {

140 
dñëe
 
£m
;

141 
	`¥ötf
("CDA Destroy\n");

144 i‡(
	`shmdt
(
pShmAddr
[0]) == -1) {

145 
	`Ârötf
(
°dout
, "commonDataArea CDA::~CDA shmdtÉrror\n");

146 
	`exô
(
IRMA2_CDA_ERR_SHMDT
);

150 i‡(
m_¸ót‹
 =
åue
) {

151 i‡(
	`shm˘l
(
nShmId
, 
IPC_RMID
, &
pShmDesc
) == -1) {

152 
	`Ârötf
(
°dout
, "commonDataArea CDA::~CDA shmctlÉrror\n");

156 
	}
}

158 *
	gCDA
::
	$gëMemPå
(
íum_¥o˚ss_¨ós
 
i
) {

159  
pShmAddr
[
i
];

160 
	}
}

162 
	gCDA
::
	$lockAªa
(
íum_¥o˚ss_¨ós
 
i
, 
íum_£m_¨ós
 
¨ó
) {

163 
£m
->
	`lock
(
i
, 
¨ó
);

164  (
IRMA2_OK
);

165 
	}
}

167 
	gCDA
::
	$u∆ockAªa
(
íum_¥o˚ss_¨ós
 
i
, 
íum_£m_¨ós
 
¨ó
) {

168 
£m
->
	`u∆ock
(
i
, 
¨ó
);

169  (
IRMA2_OK
);

170 
	}
}

172 
	gCDA
::
	$gëAâchdPro˚s£s
() {

173 
	`shm˘l
(
nShmId
, 
IPC_STAT
, &
pShmDesc
);

174  
pShmDesc
.
shm_«âch
;

176 
	}
}

	@common/CDA/controlDataArea.h

15 #i‚de‡
_CONTROL_COMMON_DATA_AREA_H_


16 
	#_CONTROL_COMMON_DATA_AREA_H_


	)

18 
	~<sys/ty≥s.h
>

19 
	~"../c⁄åﬁ.h
"

23 
	sc⁄åﬁ
 {

24 
pid_t
 
	mpid
;

25 
íum_lo›_cmd
 
	mlo›
;

26 
	m∆o›
;

27 
íum_lo›_°©e
 
	m°©e
;

28 
	mlo›Time
;

	@common/CDA/executiveDataArea.h

17 #i‚de‡
_EXECUTIVE_COMMON_DATA_AREA_H_


18 
	#_EXECUTIVE_COMMON_DATA_AREA_H_


	)

23 
	~"c⁄åﬁD©aAªa.h
"

31 
	sExecutiveD©a
 {

32 
c⁄åﬁ
 
	m˘æ
;

34 
boﬁ
 
	m⁄_movög
;

35 
boﬁ
 
	mexec_ªady_Êag
;

36 
boﬁ
 
	mexec_move_ªady_Êag
;

37 
	mexec_•ìd
;

38 
	mexec_°ìrög
;

39 
	mexec_•ìd_≥r˚¡
;

40 
	mexec_movemít
;

41 
	mexec_adc
[5];

44 
	mcuºít_X
;

45 
	mcuºít_Y
;

47 
	mcuºít_‹õ¡©i⁄
;

50 
	mposX_¥evü
;

51 
	mposY_¥evü
;

52 
	m‹õ¡aci⁄_¥evü
;

59 
	m∑th_Àngth
;

60 
	m∑th
[5000][3];

61 
	m°ïs_numbî
;

	@common/CDA/featureNavDataArea.h

15 #i‚de‡
_FEATURE_COMMON_DATA_AREA_H_


16 
	#_FEATURE_COMMON_DATA_AREA_H_


	)

18 
	~"c⁄åﬁD©aAªa.h
"

20 
	#max_N_Fótuªs
 15

	)

23 
	sFótuªNavD©a


25 
c⁄åﬁ
 
	m˘æ
;

28 
boﬁ
 
	m‚_missi⁄_obsﬁëe_Êag
;

31 
	m‚_•ìd
;

32 
	m‚_°ìrög
;

33 
boﬁ
 
	m‚_move_ªady_Êag
;

34 
boﬁ
 
	m‚_move_a˘ive_Êag
;

35 
boﬁ
 
	m‚_rouã_obsﬁëe_Êag
;

38 
	m‚_„©uªAºay
[
max_N_Fótuªs
][2];

39 
	m‚_nFótuªs
;

40 
boﬁ
 
	m‚_„©uª_li°_ªady_Êag
;

	@common/CDA/laserDataArea.h

15 #i‚de‡
_LASER_DATA_AREA_H_


16 
	#_LASER_DATA_AREA_H_


	)

18 
	~"c⁄åﬁD©aAªa.h
"

19 
	#LASER_POINTS
 768

	)

20 
	#LASER_START
 44

	)

21 
	#LASER_END
 725

	)

22 
	#LASER_FRONT
 384

	)

23 
	#LASER_SLIT_DIVISION
 1024

	)

25 
	#MAP_WIDTH
 600

	)

26 
	#MAP_HEIGTH
 600

	)

30 
	sLa£rD©a


32 
c⁄åﬁ
 
	m˘æ
;

34 
boﬁ
 
	m£nßr
;

39 
	me°ado
;

40 
	mªad_d©a
[
LASER_POINTS
];

45 
	mm≠
[
MAP_WIDTH
][
MAP_HEIGTH
];

46 
	mtime°amp
;

47 
	mdx
;

48 
	mdy
;

49 
	mddú
;

50 
	mx
;

51 
	my
;

52 
	mdú
;

53 
	mvr
;

54 
	mvl
;

55 
	mimg_Æto
;

56 
	mimg_™cho
;

	@common/CDA/longNavDataArea.h

16 #i‚de‡
_LONG_NAV_COMMON_DATA_AREA_H_


17 
	#_LONG_NAV_COMMON_DATA_AREA_H_


	)

22 
	~"c⁄åﬁD©aAªa.h
"

26 c⁄° 
	gMAX_STEP_NUMBER
 = 200;

29 
	sL⁄gNavD©a
 {

30 
c⁄åﬁ
 
	m˘æ
;

32 
boﬁ
 
	mÃn_move_ªady_Êag
;

33 
boﬁ
 
	mÃn_rouã_obsﬁëe_Êag
;

34 
boﬁ
 
	mÃn_missi⁄_accom∂ished
;

37 
	mÃn_•ìd
;

38 
	mÃn_°ìrög
;

39 
	mÃn_•ìd_≥r˚¡
;

40 
	mÃn_movemít
;

42 
	mfô√ss_curiosôy
;

43 
	mfô√ss_íîgy
;

44 
	mfô√ss_homög
;

45 
	mfô√ss_missi⁄s
;

46 
	mrouã_Ànght
;

47 
	mrouã
[
MAX_STEP_NUMBER
][3];

	@common/CDA/mapperDataArea.h

16 #i‚de‡
_MAPPER_COMMON_DATA_AREA_H_


17 
	#_MAPPER_COMMON_DATA_AREA_H_


	)

19 
	~"c⁄åﬁD©aAªa.h
"

23 c⁄° 
	gnC©eg‹õs
 = 400;

26 c⁄° 
	ghRoom
 = 2000;

27 c⁄° 
	gwRoom
 = 2500;

31 
	sM≠≥rD©a
 {

32 
c⁄åﬁ
 
	m˘æ
;

33 
	mm≠≥r_öt
;

36 
	mˇãg‹õs
[
nC©eg‹õs
][4];

37 
	ma˘iveNodes
;

38 
boﬁ
 
	mm≠pög_Êag
;

39 
	mroom_width
;

40 
	mroom_height
;

	@common/CDA/monitorDataArea.h

16 #i‚de‡
_MONITOR_COMMON_DATA_AREA_H_


17 
	#_MONITOR_COMMON_DATA_AREA_H_


	)

21 
	~"c⁄åﬁD©aAªa.h
"

26 c⁄° 
	gCRN
 = 1;

27 c⁄° 
	gLRN
 = 2;

28 c⁄° 
	gRTN
 = 3;

29 c⁄° 
	gFN
 = 4;

30 c⁄° 
	gNN
 = 5;

33 
	sM⁄ô‹D©a
 {

34 
c⁄åﬁ
 
	m˘æ
;

35 
	mm⁄ô‹_öt
;

36 
	mm⁄ô‹_cuºít_«v
;

37 
boﬁ
 
	mm⁄ô‹_hy°îesis
;

	@common/CDA/networkDataArea.h

15 #i‚de‡
_NETWORK_COMMON_DATA_AREA_H_


16 
	#_NETWORK_COMMON_DATA_AREA_H_


	)

18 
	~"c⁄åﬁD©aAªa.h
"

21 
	sNëw‹kD©a
 {

22 
c⁄åﬁ
 
	m˘æ
;

23 
	m√t_öt
;

25 
boﬁ
 
	m£nd_m≠_Êag
;

26 
boﬁ
 
	mgë_posôi⁄_Êag
;

27 
boﬁ
 
	m°¨t_log_Êag
;

	@common/CDA/numCogDataArea.h

16 #i‚de‡
_NUM_COGNITIVE_COMMON_DATA_AREA_H_


17 
	#_NUM_COGNITIVE_COMMON_DATA_AREA_H_


	)

19 
	~"c⁄åﬁD©aAªa.h
"

23 
	sNumCogD©a
 {

24 
c⁄åﬁ
 
	m˘æ
;

27 
	mã°
;

	@common/CogMem/ANN.cpp

1 
	~"ANN.h
"

3 
	~"mem£gmít.h
"

4 
	~<m©h.h
>

6 
	#ABS
(
x
Ë(((xË> 0.0Ë? (xË: (-(x)))

	)

9 
	gANN
::
	$ANN
(
size
){

11 
li°_îr‹s
 = 0;

12 
öput_n
 = 
size
;

13 
hiddí_n
 = 
NHIDDEN
;

14 
ouçut_n
 = 
size
;

15 
öput_unôs
 = 
	`Æloc_1d_dbl
(
öput_n
);

16 
hiddí_unôs
 = 
	`Æloc_1d_dbl
(
hiddí_n
);

17 
ouçut_unôs
 = 
	`Æloc_1d_dbl
(
ouçut_n
);

19 
hiddí_dñè
 = 
	`Æloc_1d_dbl
(
hiddí_n
);

20 
ouçut_dñè
 = 
	`Æloc_1d_dbl
(
ouçut_n
);

21 
èrgë
 = 
	`Æloc_1d_dbl
(
ouçut_n
);

23 
öput_weights
 = 
	`Æloc_2d_dbl
(
öput_n
, 
hiddí_n
);

24 
hiddí_weights
 = 
	`Æloc_2d_dbl
(
hiddí_n
, 
ouçut_n
);

26 
öput_¥ev_weights
 = 
	`Æloc_2d_dbl
(
öput_n
, 
hiddí_n
);

27 
hiddí_¥ev_weights
 = 
	`Æloc_2d_dbl
(
hiddí_n
, 
ouçut_n
);

29 
	`øndomizeWeights
(
öput_weights
, 
öput_n
, 
hiddí_n
);

30 
	`øndomizeWeights
(
hiddí_weights
, 
hiddí_n
, 
ouçut_n
);

31 
	`zîoWeights
(
öput_¥ev_weights
, 
öput_n
, 
hiddí_n
);

32 
	`zîoWeights
(
hiddí_¥ev_weights
, 
hiddí_n
, 
ouçut_n
);

33 
	}
}

35 
	gANN
::~
	$ANN
(){

37 
	}
}

39 
ANN
::
	$lökToSegmít
(
MemRegi°î
 *
Regs
,*
nRegs
){

40 
Regi°ros
 = 
Regs
;

41 
nRegi°ros
 = 
nRegs
;

42 
	}
}

44 
	gANN
::
	$øndomizeWeights
(**
w
,
m
,
n
)

46 
i
, 
j
;

48 
i
 = 0; i < 
m
; i++) {

49 
j
 = 0; j < 
n
; j++) {

50 
w
[
i
][
j
] = 
	`d≤1
();

53 
	}
}

55 
	gANN
::
	$zîoWeights
(**
w
,
m
,
n
)

57 
i
, 
j
;

59 
i
 = 0; i < 
m
; i++) {

60 
j
 = 0; j < 
n
; j++) {

61 
w
[
i
][
j
] = 0.0;

64 
	}
}

66 
	gANN
::
	$œyîF‹w¨d
(*
l1
, *
l2
, **
c⁄n
, 
n1
, 
n2
)

68 
sum
;

69 
j
, 
k
;

72 
l1
[0] = 1.0;

75 
j
 = 0; j < 
n2
; j++) {

78 
sum
 = 0.0;

79 
k
 = 0; k < 
n1
; k++) {

80 
sum
 +
c⁄n
[
k
][
j
] * 
l1
[k];

82 
l2
[
j
] = 
	`squash
(
sum
);

85 
	}
}

87 
	gANN
::
	$back¥›Fa˚
(
ïoch
)

89 
åaö_n
, 
i
;

90 
sumîr
;

92 
ïochs
 = 
ïoch
;

93 
åaö_n
 = *
this
->
nRegi°ros
;

95 i‡(
ïochs
 > 0) {

96 
	`¥ötf
("Tøöög undîway (goögÅÿ%dÉpochs)\n", 
ïochs
);

97 
	`¥ötf
("Wû»ßvê√tw‹kÉvîy %dÉpochs\n", 
ßvedñè
);

98 
	`fÊush
(
°dout
);

102 
	`¥ötf
("0 0.0 ");

103 
	`fÊush
(
°dout
);

104 
	`≥rf‹m™˚OnImagñi°
();

105 
	`¥ötf
("\n"); 
	`fÊush
(
°dout
);

106 i‡(
li°_îr‹s
) {

107 
	`¥ötf
("\nFailedÅo classifyÅhe following images fromÅheÅraining set:\n");

108 
	`≥rf‹m™˚OnImagñi°
();

112 
ïoch
 = 1;Époch <
ïochs
;Époch++) {

114 
	`¥ötf
("%d ", 
ïoch
); 
	`fÊush
(
°dout
);

116 
sumîr
 = 0.0;

117 
i
 = 0; i < 
åaö_n
; i++) {

120 
	`lﬂdI≈utWôhImage
((
MemRegi°î
Ë
Regi°ros
[
i
]);

123 
k
=0;k<
IMAGESIZE
;k++){

124 
èrgë
[
k
] = (()
Regi°ros
[
i
].
imagí
[k])/ 255.0;

128 
	`åaö
(0.3, 0.3);

130 
sumîr
 +(
out_îr
 + 
hid_îr
);

132 
	`¥ötf
("%g ", 
sumîr
/
åaö_n
);

134 
	`¥ötf
("%g ", 
m£_îr
);

137 i‡(!(
ïoch
 % 10)) {

138 
	`≥rf‹m™˚OnImagñi°
();

140 
	`¥ötf
("\n"); 
	`fÊush
(
°dout
);

143 i‡(!(
ïoch
 % 
ßvedñè
)) {

149 
	`¥ötf
("\n"); 
	`fÊush
(
°dout
);

152 i‡(
ïochs
 > 0) {

153 
k
=0;k<
IMAGESIZE
;k++){

154 
Resu…ado
.
imagí
[
k
] = 
ouçut_unôs
[k]* 255.0;

158 
	}
}

160 
	gANN
::
	$åaö
(
ëa
, 
momítum
)

164 
	`œyîF‹w¨d
(
öput_unôs
, 
hiddí_unôs
,
öput_weights
, 
öput_n
, 
hiddí_n
);

165 
	`œyîF‹w¨d
(
hiddí_unôs
, 
ouçut_unôs
,
hiddí_weights
, 
hiddí_n
, 
ouçut_n
);

168 
	`ouçutEº‹
();

169 
	`hiddíEº‹
();

170 
	`MSE
(
ouçut_unôs
,
èrgë
,
ouçut_n
,0,&
m£_îr
);

174 
	`adju°Weights
(
ouçut_dñè
, 
ouçut_n
, 
hiddí_unôs
, 
hiddí_n
, 
hiddí_weights
, 
hiddí_¥ev_weights
, 
ëa
, 
momítum
);

175 
	`adju°Weights
(
hiddí_dñè
, 
hiddí_n
, 
öput_unôs
, 
öput_n
,
öput_weights
, 
öput_¥ev_weights
, 
ëa
, 
momítum
);

177 
	}
}

183 
	gANN
::
	$≥rf‹m™˚OnImagñi°
()

185 
îr
, 
vÆ
;

186 
i
, 
n
, 
j
, 
c‹ª˘
;

188 
îr
 = 0.0;

189 
c‹ª˘
 = 0;

190 
n
 = *
nRegi°ros
;

191 i‡(
n
 > 0) {

192 
i
 = 0; i < 
n
; i++) {

195 
	`lﬂdI≈utWôhImage
((
MemRegi°î
Ë
Regi°ros
[
i
]);

198 
	`„edF‹w¨d
();

201 
k
=0;k<
IMAGESIZE
;k++){

202 
èrgë
[
k
] = (()
Regi°ros
[
i
].
imagí
[k])/ 255.0;

203 
Resu…ado
.
imagí
[
i
] = 
this
->
ouçut_unôs
[i] * 255;

207 i‡(
	`evÆu©ePîf‹m™˚
(&
vÆ
)) {

208 
c‹ª˘
++;

209 } i‡(
li°_îr‹s
) {

210 
	`¥ötf
("outputs ");

211 
j
 = 1; j < 
this
->
ouçut_n
; j++) {

212 
	`¥ötf
("%.3‡", 
this
->
ouçut_unôs
[
j
]);

214 
	`putch¨
('\n');

216 
îr
 +
vÆ
;

218 
îr
 =Éº / (Ë
n
;

219 
món_îr
 = 
îr
;

221 i‡(!
li°_îr‹s
)

222 
	`¥ötf
("%g %g ", ((Ë
c‹ª˘
 / (Ë
n
Ë* 100.0, 
îr
);

224 i‡(!
li°_îr‹s
)

225 
	`¥ötf
("0.0 0.0 ");

227 
	}
}

229 
	gANN
::
	$evÆu©ePîf‹m™˚
(*
îr
)

231 
dñè
;

233 
dñè
 = 
this
->
èrgë
[1] -Åhis->
ouçut_unôs
[1];

235 *
îr
 = (0.5 * 
dñè
 * delta);

238 i‡(
this
->
èrgë
[1] > 0.5) {

241 i‡(
this
->
ouçut_unôs
[1] > 0.5) {

253 i‡(
this
->
ouçut_unôs
[1] > 0.5) {

262 
	}
}

264 
exô
();

266 
	#TARGET_HIGH
 0.9

	)

267 
	#TARGET_LOW
 0.1

	)

269 
	gANN
::
	$lﬂdI≈utWôhImage
(
MemRegi°î
 
img
)

271 *
unôs
;

272 
ƒ
, 
nc
, 
imgsize
, 
i
;

274 
ƒ
 = 
WIDTH
;

275 
nc
 = 
HEIGHT
;

276 
imgsize
 = 
IMAGESIZE
;

278 i‡(
imgsize
 !
this
->
öput_n
) {

279 
	`¥ötf
("LOAD_INPUT_WITH_IMAGE: Thi†imagêha†%dÖixñs,\n", 
imgsize
);

280 
	`¥ötf
(" buàyou∏√àha†%d i≈uàunôs. I givêup.\n", 
this
->
öput_n
);

281 
	`exô
 (-1);

284 
unôs
 = 
this
->
öput_unôs
;

285 
i
 = 0; i < 
imgsize
; i++) {

286 
unôs
[
i
] = ((Ë
img
.
imagí
[i]) / 255.0;

288 
	}
}

290 
	gANN
::
	$ouçutEº‹
()

292 
j
;

293 
o
, 
t
, 
îrsum
;

295 
îrsum
 = 0.0;

296 
j
 = 1; j < 
ouçut_n
; j++) {

297 
o
 = 
ouçut_unôs
[
j
];

298 
t
 = 
èrgë
[
j
];

299 
ouçut_dñè
[
j
] = 
o
 * (1.0 - oË* (
t
 - o);

300 
îrsum
 +
	`ABS
(
ouçut_dñè
[
j
]);

302 
out_îr
 = 
îrsum
;

303 
	}
}

306 
	gANN
::
	$hiddíEº‹
()

308 
j
, 
k
;

309 
h
, 
sum
, 
îrsum
;

311 
îrsum
 = 0.0;

312 
j
 = 1; j < 
hiddí_n
; j++) {

313 
h
 = 
hiddí_unôs
[
j
];

314 
sum
 = 0.0;

315 
k
 = 1; k < 
ouçut_n
; k++) {

316 
sum
 +
ouçut_dñè
[
k
] * 
hiddí_weights
[
j
][k];

318 
hiddí_dñè
[
j
] = 
h
 * (1.0 - hË* 
sum
;

319 
îrsum
 +
	`ABS
(
hiddí_dñè
[
j
]);

321 
hid_îr
 = 
îrsum
;

322 
	}
}

324 
	gANN
::
	$MSE
(){

325 
m£_îr
 = 
	`MSE
(
ouçut_unôs
,
öput_unôs
,
ouçut_n
,0);

326 
	}
}

327 
	gANN
::
	$MSE
(*
a
, *
b
, 
to
, 
‰om
,*
m£
){

328 *
m£
 = 
	`MSE
(
a
,
b
,
to
,
‰om
);

329 
	}
}

331 
	gANN
::
	$MSE
(*
a
, *
b
, 
to
, 
‰om
){

332 if(
a
==
NULL
 || 
b
==NULL){

333 
	`Ârötf
(
°dîr
,"MSE:Åheárrays must beÇotÇull");

335 if(
to
<
‰om
){

336 
	`Ârötf
(
°dîr
,"MSE: from must beÜest orÉqualÅhanÅo");

338 
sumîr
=0;

339 
ãmp
;

340 
i
=
‰om
;i<=
to
;i++){

341 
ãmp
 = 
b
[
i
]-
a
[i];

342 
sumîr
 +
ãmp
*temp;

344  
sumîr
/(
to
-
‰om
+1);

345 
	}
}

348 
	gANN
::
	$adju°Weights
(*
dñè
,
ndñè
,*
ly
,
∆y
, **
w
, **
ﬁdw
, 
ëa
, 
momítum
)

350 
√w_dw
;

351 
k
, 
j
;

353 
ly
[0] = 1.0;

354 
j
 = 1; j < 
ndñè
; j++) {

355 
k
 = 0; k < 
∆y
; k++) {

356 
√w_dw
 = ((
ëa
 * 
dñè
[
j
] * 
ly
[
k
]Ë+ (
momítum
 * 
ﬁdw
[k][j]));

357 
w
[
k
][
j
] +
√w_dw
;

358 
ﬁdw
[
k
][
j
] = 
√w_dw
;

361 
	}
}

364 
	gANN
::
	$„edF‹w¨d
()

367 
	`œyîF‹w¨d
(
öput_unôs
, 
hiddí_unôs
, 
öput_weights
, 
öput_n
, 
hiddí_n
);

368 
	`œyîF‹w¨d
(
hiddí_unôs
, 
ouçut_unôs
, 
hiddí_weights
, 
hiddí_n
, 
ouçut_n
);

370 
	}
}

372 
	gANN
::
	$ßveToFûe
(
FILE
 * 
fd
)

374 
i
, 
j
, 
mem˙t
;

375 
dvÆue
;

376 *
mem
;

378 
	`Ârötf
(
°dout
,"Savög %dx%dx%dÇëw‹kÅÿfûe\n", 
öput_n
, 
hiddí_n
, 
ouçut_n
);

379 
	`fÊush
(
°dout
);

381 
	`fwrôe
–(*Ë&
öput_n
, (),1,
fd
);

382 
	`fwrôe
((*Ë&
hiddí_n
, (),1,
fd
 );

383 
	`fwrôe
–(*Ë&
ouçut_n
, (),1,
fd
);

385 
mem˙t
 = 0;

386 
mem
 = (*Ë
	`mÆloc
 ((Ë((
öput_n
Ë* (
hiddí_n
) * ()));

387 
i
 = 0; i < 
öput_n
; i++) {

388 
j
 = 0; j < 
hiddí_n
; j++) {

389 
dvÆue
 = 
öput_weights
[
i
][
j
];

390 
	`Á°c›y
(&
mem
[
mem˙t
], &
dvÆue
, ())

391 
mem˙t
 += ();

394 
	`fwrôe
(
mem
, (
öput_n
Ë* (
hiddí_n
Ë* (),1,
fd
);

395 
	`‰ì
(
mem
);

397 
mem˙t
 = 0;

398 
mem
 = (*Ë
	`mÆloc
 ((Ë((
hiddí_n
Ë* (
ouçut_n
) * ()));

399 
i
 = 0; i < 
hiddí_n
; i++) {

400 
j
 = 0; j < 
ouçut_n
; j++) {

401 
dvÆue
 = 
hiddí_weights
[
i
][
j
];

402 
	`Á°c›y
(&
mem
[
mem˙t
], &
dvÆue
, ())

403 
mem˙t
 += ();

406 
	`fwrôe
–
mem
, (
hiddí_n
Ë* (
ouçut_n
Ë* (),1,
fd
);

407 
	`‰ì
(
mem
);

410 
	}
}

412 
ANN
* 
	gANN
::
	$lﬂdFromFûe
(
FILE
 * 
fd
)

414 *
mem
;

415 
ANN
 * 
_√w
;

416 
n1
, 
n2
, 
n3
, 
i
, 
j
, 
mem˙t
;

418 
	`‰ód
((*Ë&
n1
, (),1,
fd
);

419 
	`‰ód
((*Ë&
n2
, (),1,
fd
);

420 
	`‰ód
((*Ë&
n3
, (),1,
fd
);

421 
_√w
 = 
√w
 
	`ANN
(
n1
);

423 
	`Ârötf
(
°dîr
,"c⁄èö†®%dx%dx%dÇëw‹k\n",
n1
, 
n2
, 
n3
);

424 
	`Ârötf
(
°dîr
,"Ródög i≈uàweights..."); 
	`fÊush
(
°dout
);

426 
mem˙t
 = 0;

427 
mem
 = (*Ë
	`mÆloc
 ((Ë((
n1
Ë* (
n2
) * ()));

428 
	`‰ód
–
mem
, (
n1
Ë* (
n2
Ë* (),1,
fd
);

429 
i
 = 0; i < 
n1
; i++) {

430 
j
 = 0; j < 
n2
; j++) {

431 
	`Á°c›y
(&(
_√w
->
öput_weights
[
i
][
j
]), &
mem
[
mem˙t
], ())

432 
mem˙t
 += ();

435 
	`‰ì
(
mem
);

437 
	`Ârötf
(
°dîr
,"D⁄e\nRódög hiddí weights..."); 
	`fÊush
(
°dout
);

439 
mem˙t
 = 0;

440 
mem
 = (*Ë
	`mÆloc
 ((Ë((
n2
Ë* (
n3
) * ()));

441 
	`‰ód
(
mem
, (
n2
Ë* (
n3
Ë* (),1,
fd
);

442 
i
 = 0; i < 
n2
; i++) {

443 
j
 = 0; j < 
n3
; j++) {

444 
	`Á°c›y
(&(
_√w
->
hiddí_weights
[
i
][
j
]), &
mem
[
mem˙t
], ())

445 
mem˙t
 += ();

448 
	`‰ì
(
mem
);

450 
	`Ârötf
(
°dîr
,"D⁄e\n"); 
	`fÊush
(
°dout
);

452 
	`zîoWeights
(
_√w
->
öput_¥ev_weights
, 
n1
, 
n2
);

453 
	`zîoWeights
(
_√w
->
hiddí_¥ev_weights
, 
n2
, 
n3
);

455  
_√w
;

456 
	}
}

459 
	gANN
::
	$d∫d
()

461  ((Ë
	`ønd
(Ë/ (Ë
RAND_MAX
);

462 
	}
}

465 
	gANN
::
	$d≤1
()

467  ((
	`d∫d
() * 2.0) - 1.0);

468 
	}
}

472 *
	gANN
::
	$Æloc_1d_dbl
(
n
)

474 *
_√w
;

476 
_√w
 = (*Ë
	`mÆloc
 ((Ë(
n
 *  ()));

477 i‡(
_√w
 =
NULL
) {

478 
	`Ârötf
(
°dîr
,"ALLOC_1D_DBL: Couldn'tállocateárray of doubles\n");

479  (
NULL
);

481  (
_√w
);

482 
	}
}

487 **
	gANN
::
	$Æloc_2d_dbl
(
m
,
n
)

489 
i
;

490 **
_√w
;

492 
_√w
 = (**Ë
	`mÆloc
 ((Ë(
m
 *  (*)));

493 i‡(
_√w
 =
NULL
) {

494 
	`Ârötf
(
°dîr
,"ALLOC_2D_DBL: Couldn'tállocateárray of dblÖtrs\n");

495  (
NULL
);

498 
i
 = 0; i < 
m
; i++) {

499 
_√w
[
i
] = 
	`Æloc_1d_dbl
(
n
);

502  (
_√w
);

503 
	}
}

	@common/CogMem/ANN.h

1 #i‚de‡
ANN_H


2 
	#ANN_H


	)

3 
	~"memªgi°î.h
"

4 
	~"m©h.h
"

5 
	~<c°dio
>

6 
	~<QtGui/QMaöWödow
>

7 
	~<QSåög
>

10 
	#NHIDDEN
 400

	)

12 
	#ABS
(
x
Ë(((xË> 0.0Ë? (xË: (-(x)))

	)

14 
	#Á°c›y
(
to
,
‰om
,
Àn
)\

	)

16 *
	g_to
,*
	g_‰om
;\

17 
	g_i
,
	g_l
;\

18 
	g_to
 = (*)(
to
);\

19 
	g_‰om
 = (*)(
‰om
);\

20 
	g_l
 = (
Àn
);\

21 
	g_i
 = 0; _ò< 
	g_l
; _i++Ë*
	g_to
++ = *
_‰om
++;\

26 ˛as†
	cANN


28 
	mpublic
:

30 
ANN
(
size
);

31 
ANN
(
QSåög
 *
åaö«me
,QSåög *
ã°1«me
,QSåög *
ã°2«me
);

32 ~
ANN
();

36 
	möput_n
;

37 
	mhiddí_n
;

38 
	mouçut_n
;

40 *
	möput_unôs
;

41 *
	mhiddí_unôs
;

42 *
	mouçut_unôs
;

44 *
	mhiddí_dñè
;

45 *
	mouçut_dñè
;

47 *
	mèrgë
;

49 **
	möput_weights
;

50 **
	mhiddí_weights
;

53 **
	möput_¥ev_weights
;

54 **
	mhiddí_¥ev_weights
;

56 
	mhid_îr
;

57 
	mout_îr
;

58 
	mm£_îr
;

60 
	mmón_îr
;

61 
	msum_îr
;

63 
MemRegi°î
 *
	mRegi°ros
;

64 
MemRegi°î
 
	mResu…ado
;

65 *
	mnRegi°ros
;

66 
	mïochs
;

67 
	mßvedñè
;

68 
	mli°_îr‹s
;

69 *
	m√äame
;

71 
lökToSegmít
(
MemRegi°î
 *
Regs
,*
nRegs
);

72 
back¥›Fa˚
(
ïoch
);

73 
≥rf‹m™˚OnImagñi°
();

74 
evÆu©ePîf‹m™˚
(*
îr
);

75 
lﬂdI≈utWôhImage
(
MemRegi°î
);

76 
lﬂdT¨gë
(
MemRegi°î
);

77 
åaö
(
ëa
, 
momítum
);

78 
œyîF‹w¨d
(*
l1
, *
l2
, **
c⁄n
, 
n1
, 
n2
);

79 
„edF‹w¨d
();

80 
adju°Weights
(*
dñè
,
ndñè
,*
ly
,
∆y
, **
w
, **
ﬁdw
, 
ëa
, 
momítum
);

81 
hiddíEº‹
();

82 
ouçutEº‹
();

83 
ßveToFûe
(
FILE
 * 
fd
);

84 *
Æloc_1d_dbl
(
n
);

85 **
Æloc_2d_dbl
(
m
,
n
);

86 
MSE
(*
a
, *
b
, 
to
, 
‰om
,*
m£
);

87 
MSE
(*
a
, *
b
, 
to
, 
‰om
);

88 
MSE
();

90 
øndomizeWeights
(** 
w
,
m
,
n
);

91 
zîoWeights
(** 
w
,
m
,
n
);

92 
ANN
* 
lﬂdFromFûe
(
FILE
 * 
fd
);

93 
d∫d
();

94 
d≤1
();

97 
	$squash
(
x
)

99  (1.0 / (1.0 + 
	`exp
(-
x
/100)));

101 
	}
};

	@common/CogMem/bpnn/backprop.cpp

10 
	~<°dio.h
>

11 
	~<°dlib.h
>

12 
	~"back¥›.h
"

13 
	~<m©h.h
>

14 
	~<f°ªam
>

15 
	~<io°ªam
>

17 
	#ABS
(
x
Ë(((xË> 0.0Ë? (xË: (-(x)))

	)

19 
	#Á°c›y
(
to
,
‰om
,
Àn
)\

21 *
_to
,*
_‰om
;\

22 
_i
,
_l
;\

23 
_to
 = (*)(
to
);\

24 
_‰om
 = (*)(
‰om
);\

25 
_l
 = (
Àn
);\

26 
_i
 = 0; _ò< 
_l
; _i++Ë*
_to
++ = *
_‰om
++;\

27 }

	)

30 
	$d∫d
()

32  ((Ë
	`ønd
(Ë/ (Ë
BIGRND
);

33 
	}
}

36 
	$d≤1
()

38  ((
	`d∫d
() * 2.0) - 1.0);

39 
	}
}

51 *
	$Æloc_1d_dbl
(
n
)

53 *
_√w
;

55 
_√w
 = (*Ë
	`mÆloc
 ((Ë(
n
 *  ()));

56 i‡(
_√w
 =
NULL
) {

57 
	`Ârötf
(
°dîr
,"ALLOC_1D_DBL: Couldn'tállocateárray of doubles\n");

58  (
NULL
);

60  (
_√w
);

61 
	}
}

66 **
	$Æloc_2d_dbl
(
m
,
n
)

68 
i
;

69 **
_√w
;

71 
_√w
 = (**Ë
	`mÆloc
 ((Ë(
m
 *  (*)));

72 i‡(
_√w
 =
NULL
) {

73 
	`Ârötf
(
°dîr
,"ALLOC_2D_DBL: Couldn'tállocateárray of dblÖtrs\n");

74  (
NULL
);

77 
i
 = 0; i < 
m
; i++) {

78 
_√w
[
i
] = 
	`Æloc_1d_dbl
(
n
);

81  (
_√w
);

82 
	}
}

85 
	$b≤n_øndomize_weights
(**
w
,
m
,
n
)

87 
i
, 
j
;

89 
i
 = 0; i < 
m
; i++) {

90 
j
 = 0; j < 
n
; j++) {

91 
w
[
i
][
j
] = 
	`d≤1
();

94 
	}
}

97 
	$b≤n_zîo_weights
(**
w
,
m
,
n
)

99 
i
, 
j
;

101 
i
 = 0; i < 
m
; i++) {

102 
j
 = 0; j < 
n
; j++) {

103 
w
[
i
][
j
] = 0.0;

106 
	}
}

109 
	$b≤n_öôülize
(
£ed
)

111 
	`Ârötf
(
°dîr
,"R™domÇumbî gíî©‹ sìd: %d\n", 
£ed
);

112 
	`§™d
(
£ed
);

113 
	}
}

116 
BPNN
 *
	$b≤n_öã∫Æ_¸óã
(
n_ö
,
n_hiddí
,
n_out
)

118 
BPNN
 *
√w√t
;

120 
√w√t
 = (
BPNN
 *Ë
	`mÆloc
 ( (BPNN));

121 i‡(
√w√t
 =
NULL
) {

122 
	`Ârötf
(
°dîr
,"BPNN_CREATE: Couldn'tállocateÇeuralÇetwork\n");

123  (
NULL
);

126 
√w√t
->
öput_n
 = 
n_ö
;

127 
√w√t
->
hiddí_n
 = 
n_hiddí
;

128 
√w√t
->
ouçut_n
 = 
n_out
;

129 
√w√t
->
öput_unôs
 = 
	`Æloc_1d_dbl
(
n_ö
 + 1);

130 
√w√t
->
hiddí_unôs
 = 
	`Æloc_1d_dbl
(
n_hiddí
 + 1);

131 
√w√t
->
ouçut_unôs
 = 
	`Æloc_1d_dbl
(
n_out
 + 1);

133 
√w√t
->
hiddí_dñè
 = 
	`Æloc_1d_dbl
(
n_hiddí
 + 1);

134 
√w√t
->
ouçut_dñè
 = 
	`Æloc_1d_dbl
(
n_out
 + 1);

135 
√w√t
->
èrgë
 = 
	`Æloc_1d_dbl
(
n_out
 + 1);

137 
√w√t
->
öput_weights
 = 
	`Æloc_2d_dbl
(
n_ö
 + 1, 
n_hiddí
 + 1);

138 
√w√t
->
hiddí_weights
 = 
	`Æloc_2d_dbl
(
n_hiddí
 + 1, 
n_out
 + 1);

140 
√w√t
->
öput_¥ev_weights
 = 
	`Æloc_2d_dbl
(
n_ö
 + 1, 
n_hiddí
 + 1);

141 
√w√t
->
hiddí_¥ev_weights
 = 
	`Æloc_2d_dbl
(
n_hiddí
 + 1, 
n_out
 + 1);

143  (
√w√t
);

144 
	}
}

147 
	$b≤n_‰ì
(
BPNN
 *
√t
)

149 
n1
, 
n2
, 
i
;

151 
n1
 = 
√t
->
öput_n
;

152 
n2
 = 
√t
->
hiddí_n
;

154 
	`‰ì
((*Ë
√t
->
öput_unôs
);

155 
	`‰ì
((*Ë
√t
->
hiddí_unôs
);

156 
	`‰ì
((*Ë
√t
->
ouçut_unôs
);

158 
	`‰ì
((*Ë
√t
->
hiddí_dñè
);

159 
	`‰ì
((*Ë
√t
->
ouçut_dñè
);

160 
	`‰ì
((*Ë
√t
->
èrgë
);

162 
i
 = 0; i <
n1
; i++) {

163 
	`‰ì
((*Ë
√t
->
öput_weights
[
i
]);

164 
	`‰ì
((*Ë
√t
->
öput_¥ev_weights
[
i
]);

166 
	`‰ì
((*Ë
√t
->
öput_weights
);

167 
	`‰ì
((*Ë
√t
->
öput_¥ev_weights
);

169 
i
 = 0; i <
n2
; i++) {

170 
	`‰ì
((*Ë
√t
->
hiddí_weights
[
i
]);

171 
	`‰ì
((*Ë
√t
->
hiddí_¥ev_weights
[
i
]);

173 
	`‰ì
((*Ë
√t
->
hiddí_weights
);

174 
	`‰ì
((*Ë
√t
->
hiddí_¥ev_weights
);

176 
	`‰ì
((*Ë
√t
);

177 
	}
}

189 
BPNN
 *
	$b≤n_¸óã
(
n_ö
, 
n_hiddí
, 
n_out
)

192 
BPNN
 *
√w√t
;

194 
√w√t
 = 
	`b≤n_öã∫Æ_¸óã
(
n_ö
, 
n_hiddí
, 
n_out
);

196 #ifde‡
INITZERO


197 
	`b≤n_zîo_weights
(
√w√t
->
öput_weights
, 
n_ö
, 
n_hiddí
);

199 
	`b≤n_øndomize_weights
(
√w√t
->
öput_weights
, 
n_ö
, 
n_hiddí
);

201 
	`b≤n_øndomize_weights
(
√w√t
->
hiddí_weights
, 
n_hiddí
, 
n_out
);

202 
	`b≤n_zîo_weights
(
√w√t
->
öput_¥ev_weights
, 
n_ö
, 
n_hiddí
);

203 
	`b≤n_zîo_weights
(
√w√t
->
hiddí_¥ev_weights
, 
n_hiddí
, 
n_out
);

205  (
√w√t
);

206 
	}
}

232 
	$b≤n_ouçut_îr‹
(*
dñè
,* 
èrgë
,* 
ouçut
, 
nj
,* 
îr
)

234 
j
;

235 
o
, 
t
, 
îrsum
;

237 
îrsum
 = 0.0;

238 
j
 = 1; j <
nj
; j++) {

239 
o
 = 
ouçut
[
j
];

240 
t
 = 
èrgë
[
j
];

241 
dñè
[
j
] = 
o
 * (1.0 - oË* (
t
 - o);

242 
îrsum
 +
	`ABS
(
dñè
[
j
]);

244 *
îr
 = 
îrsum
;

245 
	}
}

248 
	$b≤n_hiddí_îr‹
(*
dñè_h
,
nh
,* 
dñè_o
,
no
,**
who
,*
hiddí
,*
îr
)

250 
j
, 
k
;

251 
h
, 
sum
, 
îrsum
;

253 
îrsum
 = 0.0;

254 
j
 = 1; j <
nh
; j++) {

255 
h
 = 
hiddí
[
j
];

256 
sum
 = 0.0;

257 
k
 = 1; k <
no
; k++) {

258 
sum
 +
dñè_o
[
k
] * 
who
[
j
][k];

260 
dñè_h
[
j
] = 
h
 * (1.0 - hË* 
sum
;

261 
îrsum
 +
	`ABS
(
dñè_h
[
j
]);

263 *
îr
 = 
îrsum
;

264 
	}
}

267 
	$b≤n_adju°_weights
(*
dñè
,
ndñè
,*
ly
,
∆y
, **
w
, **
ﬁdw
, 
ëa
, 
momítum
)

269 
√w_dw
;

270 
k
, 
j
;

272 
ly
[0] = 1.0;

273 
j
 = 1; j <
ndñè
; j++) {

274 
k
 = 0; k <
∆y
; k++) {

275 
√w_dw
 = ((
ëa
 * 
dñè
[
j
] * 
ly
[
k
]Ë+ (
momítum
 * 
ﬁdw
[k][j]));

276 
w
[
k
][
j
] +
√w_dw
;

277 
ﬁdw
[
k
][
j
] = 
√w_dw
;

280 
	}
}

334 
	$b≤n_ßve
(
BPNN
 *
√t
,*
fûíame
)

336 
FILE
 *
fd
;

337 
n1
, 
n2
, 
n3
, 
i
, 
j
, 
mem˙t
;

338 
dvÆue
, **
w
;

339 *
mem
;

340 
ãmp
[256];

341 
	`•rötf
(
ãmp
,"../√ts/%s",
fûíame
);

342 i‡((
fd
 = 
	`f›í
(
ãmp
, "wb+")Ë=
NULL
) {

343 
	`Ârötf
(
°dîr
,"BPNN_SAVE: C™nŸ cª©ê'%s'\n", 
ãmp
);

347 
n1
 = 
√t
->
öput_n
; 
n2
 =Çë->
hiddí_n
; 
n3
 =Çë->
ouçut_n
;

348 
	`Ârötf
(
°dîr
,"Savög %dx%dx%dÇëw‹kÅÿ'%s'\n", 
n1
, 
n2
, 
n3
, 
ãmp
);

349 
	`fÊush
(
°dout
);

351 
	`fwrôe
–(*Ë&
n1
, (),1,
fd
);

352 
	`fwrôe
((*Ë&
n2
, (),1,
fd
 );

353 
	`fwrôe
–(*Ë&
n3
, (),1,
fd
);

355 
mem˙t
 = 0;

356 
w
 = 
√t
->
öput_weights
;

357 
mem
 = (*Ë
	`mÆloc
 ((Ë((
n1
+1Ë* (
n2
+1) * ()));

358 
i
 = 0; i <
n1
; i++) {

359 
j
 = 0; j <
n2
; j++) {

360 
dvÆue
 = 
w
[
i
][
j
];

361 
	`Á°c›y
(&
mem
[
mem˙t
], &
dvÆue
, ());

362 
mem˙t
 += ();

365 
	`fwrôe
(
mem
, (
n1
+1Ë* (
n2
+1Ë* (),1,
fd
);

366 
	`‰ì
(
mem
);

368 
mem˙t
 = 0;

369 
w
 = 
√t
->
hiddí_weights
;

370 
mem
 = (*Ë
	`mÆloc
 ((Ë((
n2
+1Ë* (
n3
+1) * ()));

371 
i
 = 0; i <
n2
; i++) {

372 
j
 = 0; j <
n3
; j++) {

373 
dvÆue
 = 
w
[
i
][
j
];

374 
	`Á°c›y
(&
mem
[
mem˙t
], &
dvÆue
, ());

375 
mem˙t
 += ();

378 
	`fwrôe
–
mem
, (
n2
+1Ë* (
n3
+1Ë* (),1,
fd
);

379 
	`‰ì
(
mem
);

381 
	`f˛o£
(
fd
);

383 
	}
}

386 
BPNN
 *
	$b≤n_ªad
(*
fûíame
)

388 *
mem
;

389 
BPNN
 *
_√w
;

390 
FILE
 * 
fd
;

391 
n1
, 
n2
, 
n3
, 
i
, 
j
, 
mem˙t
;

392 
	`Ârötf
(
°dîr
,"%s",
fûíame
);

393 i‡((
fd
 = 
	`f›í
(
fûíame
, "wb+")Ë=
NULL
) {

394  (
NULL
);

397 
	`Ârötf
(
°dîr
,"Ródög '%s'\n", 
fûíame
); 
	`fÊush
(
°dout
);

399 
	`‰ód
((*Ë&
n1
, (),1,
fd
);

400 
	`‰ód
((*Ë&
n2
, (),1,
fd
);

401 
	`‰ód
((*Ë&
n3
, (),1,
fd
);

402 
_√w
 = 
	`b≤n_öã∫Æ_¸óã
(
n1
, 
n2
, 
n3
);

404 
	`Ârötf
(
°dîr
,"'%s' c⁄èö†®%dx%dx%dÇëw‹k\n", 
fûíame
, 
n1
, 
n2
, 
n3
);

405 
	`Ârötf
(
°dîr
,"Ródög i≈uàweights..."); 
	`fÊush
(
°dout
);

407 
mem˙t
 = 0;

408 
mem
 = (*Ë
	`mÆloc
 ((Ë((
n1
+1Ë* (
n2
+1) * ()));

409 
	`‰ód
–
mem
, (
n1
+1Ë* (
n2
+1Ë* (),1,
fd
);

410 
i
 = 0; i <
n1
; i++) {

411 
j
 = 0; j <
n2
; j++) {

412 
	`Á°c›y
(&(
_√w
->
öput_weights
[
i
][
j
]), &
mem
[
mem˙t
], ());

413 
mem˙t
 += ();

416 
	`‰ì
(
mem
);

418 
	`Ârötf
(
°dîr
,"D⁄e\nRódög hiddí weights..."); 
	`fÊush
(
°dout
);

420 
mem˙t
 = 0;

421 
mem
 = (*Ë
	`mÆloc
 ((Ë((
n2
+1Ë* (
n3
+1) * ()));

422 
	`‰ód
(
mem
, (
n2
+1Ë* (
n3
+1Ë* (),1,
fd
);

423 
i
 = 0; i <
n2
; i++) {

424 
j
 = 0; j <
n3
; j++) {

425 
	`Á°c›y
(&(
_√w
->
hiddí_weights
[
i
][
j
]), &
mem
[
mem˙t
], ());

426 
mem˙t
 += ();

429 
	`‰ì
(
mem
);

430 
	`f˛o£
(
fd
);

432 
	`Ârötf
(
°dîr
,"D⁄e\n"); 
	`fÊush
(
°dout
);

434 
	`b≤n_zîo_weights
(
_√w
->
öput_¥ev_weights
, 
n1
, 
n2
);

435 
	`b≤n_zîo_weights
(
_√w
->
hiddí_¥ev_weights
, 
n2
, 
n3
);

437  (
_√w
);

438 
	}
}

	@common/CogMem/memregister.h

1 #i‚de‡
MEMREGISTER_H


2 
	#MEMREGISTER_H


	)

4 
	~<c°dlib
>

5 
	~<î∫o.h
>

6 
	~"../../comm⁄/CogMem/∑ømëîs.h
"

10 ˛as†
	cMemRegi°î
{

11 
	mpublic
:

12 
	$MemRegi°î
(){}

14 ~
	$MemRegi°î
(){
	}
}

16 
	$MemRegi°î
(c⁄° 
MemRegi°î
 &
o
){

17 
i
=0;i<
IMAGESIZE
;i++){

18 
imagí
[
i
]=
o
.imagen[i];

20 
	}
}

23 
	gimagí
[
IMAGESIZE
];

	@common/CogMem/memsegment.cpp

3 
	~"mem£gmít.h
"

5 
	gMemSegmít
::
	$MemSegmít
(* 
fûíame
)

7 
nRegi°ros
 = 0;

8 
	`Lﬂd
(
fûíame
);

9 
	}
}

11 
	gMemSegmít
::
	$MemSegmít
()

13 
nRegi°ros
 = 0;

14 
™n
 = 
√w
 
	`ANN
(
IMAGESIZE
);

15 
™n
->
	`lökToSegmít
(
Regi°ros
,&
nRegi°ros
);

16 
	}
}

18 
	gMemSegmít
::
	$MemSegmít
(
ANN
* 
™n_
)

20 
nRegi°ros
 = 0;

21 
™n
 = 
™n_
;

22 
™n
->
	`lökToSegmít
(
Regi°ros
,&
nRegi°ros
);

23 
	}
}

25 
	gMemSegmít
::
	$Add
(
MemRegi°î
 
nuevo
){

26 if–
nRegi°ros
++ < 
NREG
){

27 
Regi°ros
[
nRegi°ros
-1]=
nuevo
;

29 
nRegi°ros
 --;

32 
	`¥ötf
("myÑegi°îs: %d\n",
nRegi°ros
);

34 
	}
}

36 
	gMemSegmít
::
	$Add
(c⁄° * 
nuevoBôs
){

37 
MemRegi°î
 *
ªgi°ro
 = 
√w
 
	`MemRegi°î
();

39 
i
=0;i<
IMAGESIZE
;i++){

40 
ªgi°ro
->
imagí
[
i
] = 
nuevoBôs
[i];

42 
	`Add
(*
ªgi°ro
);

44 
	}
}

59 
	gMemSegmít
::
	$Save
(*
fûíame
){

60 
FILE
 * 
fd
 = 
	`f›í
(
fûíame
,"wb+");

61 if(
fd
 > 0){

62 
	`¥ötf
("Gu¨d¨ Segmíto: %d byãs\n",(*
this
));

63 
	`fÊush
(
°dout
);

64 
	`fwrôe
(
this
,(*this),1,
fd
);

65 
	`¥ötf
("Guardar ANN\n");

66 
	`fÊush
(
°dout
);

67 
™n
->
	`ßveToFûe
(
fd
);

68 
	`f˛o£
(
fd
);

70 
	`Ârötf
(
°dîr
,"MEMSEGMENT: Faûed o≥nög fûêdes¸ùt‹ '%s',Åhêd©®wû»bêlo°.\n",
fûíame
);

72 
	}
}

74 
	gMemSegmít
::
	$Lﬂd
(*
fûíame
){

75 
FILE
 * 
fd
 = 
	`f›í
(
fûíame
,"rb+");

77 
	`¥ötf
("Àyídÿ£gmíto: %d byãs\n",(*(
this
)));

78 
	`fÊush
(
°dout
);

79 
	`‰ód
(
this
,(*this),1,
fd
);

81 
i
=0;i<960;i++){

82 
	`¥ötf
("%d ",
this
->
Regi°ros
[0].
imagí
[
i
]);

85 
	`¥ötf
("leyendo ANN\n");

86 
	`fÊush
(
°dout
);

88 
™n
 = 
ANN
::
	`lﬂdFromFûe
(
fd
);

89 
™n
->
	`lökToSegmít
(
Regi°ros
,&
nRegi°ros
);

90 
	`f˛o£
(
fd
);

91 
	}
}

	@common/CogMem/memsegment.h

1 #i‚de‡
MEMSEGMENT_H


2 
	#MEMSEGMENT_H


	)

4 
	~"ANN.h
"

5 
	~"../../comm⁄/CogMem/∑ømëîs.h
"

6 
	~<QThªad
>

8 
	#FILEVER
 1

	)

12 ˛as†
	cMemSegmít


14 
	mpublic
:

15 
MemSegmít
();

16 
MemSegmít
(
ANN
* 
™n
);

17 
MemSegmít
(* 
fûíame
);

19 
Add
(
MemRegi°î
 
nuevo
);

21 
Add
(c⁄° * 
nuevoBôs
);

22 
Save
(* 
fûíame
);

23 
Lﬂd
(* 
fûíame
);

24 
ANN
 * 
	m™n
;

26 
	mnRegi°ros
;

27 
MemRegi°î
 
	mRegi°ros
[
NREG
];

	@common/CogMem/parameters.h

1 #i‚de‡
MEMCOG_PARAMETERS_H


2 
	#MEMCOG_PARAMETERS_H


	)

5 
	#WIDTH
 32

6 
	#HEIGHT
 30

7 
	#NREG
 100

8 

	)

10 
	#IMAGESIZE
 960

11 

	)

13 
	#ALPHA
 70

14 
	#BETA
 90

15 
	#GAMMA
 130

16 
	#RESULTS
 10

17 
	#MSE_FACTOR
 10000

18 

	)

20 
	#LAMBDA
 70

21 
	#BLOB_EDGE
 10

22 
	#MAX_BLOBS
 10

23 
	#FWIDTH
 640

24 
	#FHEIGHT
 480

25 

	)

	@common/configFile/configFile.cpp

16 
	~"c⁄figFûe.h
"

18 
usög
 
	g°d
::
°rög
;

20 
	gC⁄figFûe
::
	$C⁄figFûe
–
°rög
 
fûíame
, såög 
dñimôî
,

21 
°rög
 
commít
, såög 
£¡ry
 )

22 : 
	`myDñimôî
(
dñimôî
), 
	`myCommít
(
commít
), 
	$mySíåy
(
£¡ry
)

26 
°d
::
if°ªam
 
	`ö
–
fûíame
.
	`c_°r
() );

28 if–!
ö
 ) 
throw
 
	`fûe_nŸ_found
–
fûíame
 );

30 
ö
 >> (*
this
);

31 
	}
}

34 
	gC⁄figFûe
::
	$C⁄figFûe
()

35 : 
	`myDñimôî
–
	`°rög
(1,'='Ë), 
	`myCommít
( string(1,'#') )

38 
	}
}

41 
	gC⁄figFûe
::
	$ªmove
–c⁄° 
°rög
& 
key
 )

44 
myC⁄ã¡s
.
	`îa£
–myC⁄ã¡s.
	`föd
–
key
 ) );

46 
	}
}

49 
boﬁ
 
	gC⁄figFûe
::
	$keyExi°s
–c⁄° 
°rög
& 
key
 ) const

52 
m≠ci
 
p
 = 
myC⁄ã¡s
.
	`föd
–
key
 );

53  ( 
p
 !
myC⁄ã¡s
.
	`íd
() );

54 
	}
}

58 
	gC⁄figFûe
::
	$åim
–
°rög
& 
s
 )

61 c⁄° 
whôe•a˚
[] = " \n\t\v\r\f";

62 
s
.
	`îa£
–0, s.
	`föd_fú°_nŸ_of
(
whôe•a˚
) );

63 
s
.
	`îa£
–s.
	`föd_œ°_nŸ_of
(
whôe•a˚
) + 1U );

64 
	}
}

67 
	g°d
::
o°ªam
& 
›î©‹
<<–
°d
::o°ªam& 
os
, c⁄° 
	gC⁄figFûe
& 
	gcf
 )

70  
	gC⁄figFûe
::
m≠ci
 
p
 = 
cf
.
myC⁄ã¡s
.
begö
();

71 
	gp
 !
cf
.
myC⁄ã¡s
.
íd
();

72 ++
	gp
 )

74 
	gos
 << 
	gp
->
	gfú°
 << " " << 
	gcf
.
	gmyDñimôî
 << " ";

75 
	gos
 << 
	gp
->
	g£c⁄d
 << 
	g°d
::
ídl
;

77  
	gos
;

81 
	g°d
::
i°ªam
& 
›î©‹
>>–
°d
::i°ªam& 
is
, 
	gC⁄figFûe
& 
	gcf
 )

85 
	g°rög
::
	tsize_ty≥
 
	tpos
;

86 c⁄° 
	g°rög
& 
	gdñim
 = 
cf
.
myDñimôî
;

87 c⁄° 
	g°rög
& 
	gcomm
 = 
cf
.
myCommít
;

88 c⁄° 
	g°rög
& 
	g£¡ry
 = 
cf
.
mySíåy
;

89 c⁄° 
pos
 
	gskù
 = 
dñim
.
Àngth
();

91 
°rög
 
	g√xéöe
 = "";

93  
	gis
 || 
	g√xéöe
.
Àngth
() > 0 )

96 
°rög
 
	glöe
;

97 if–
	g√xéöe
.
Àngth
() > 0 )

99 
	glöe
 = 
√xéöe
;

100 
	g√xéöe
 = "";

104 
	g°d
::
gëlöe
–
is
, 
löe
 );

108 
	glöe
 = 
löe
.
sub°r
–0,Üöe.
föd
(
comm
) );

111 if–
	g£¡ry
 !"" && 
löe
.
föd
(
£¡ry
Ë!
°rög
::
≈os
 )  
is
;

114 
pos
 
	gdñimPos
 = 
löe
.
föd
–
dñim
 );

115 if–
	gdñimPos
 < 
	g°rög
::
≈os
 )

118 
°rög
 
key
 = 
löe
.
sub°r
–0, 
dñimPos
 );

119 
	glöe
.
ª∂a˚
–0, 
dñimPos
+
skù
, "" );

124 
boﬁ
 
	gãrmö©e
 = 
Ál£
;

125  !
	gãrmö©e
 && 
	gis
 )

127 
	g°d
::
gëlöe
–
is
, 
√xéöe
 );

128 
	gãrmö©e
 = 
åue
;

130 
°rög
 
	g∆c›y
 = 
√xéöe
;

131 
	gC⁄figFûe
::
åim
(
∆c›y
);

132 if–
	g∆c›y
 == "" ) ;

134 
	g√xéöe
 = 
√xéöe
.
sub°r
–0,Çexéöe.
föd
(
comm
) );

135 if–
	g√xéöe
.
föd
(
dñim
Ë!
°rög
::
≈os
 )

137 if–
	g£¡ry
 !"" && 
√xéöe
.
föd
(
£¡ry
Ë!
°rög
::
≈os
 )

140 
	g∆c›y
 = 
√xéöe
;

141 
	gC⁄figFûe
::
åim
(
∆c›y
);

142 if–
	g∆c›y
 !"" ) 
löe
 += "\n";

143 
	glöe
 +
√xéöe
;

144 
	gãrmö©e
 = 
Ál£
;

148 
	gC⁄figFûe
::
åim
(
key
);

149 
	gC⁄figFûe
::
åim
(
löe
);

150 
	gcf
.
	gmyC⁄ã¡s
[
key
] = 
löe
;

154  
	gis
;

	@common/configFile/configFile.h

43 #i‚de‡
CONFIGFILE_H


44 
	#CONFIGFILE_H


	)

46 
	~<°rög
>

47 
	~<m≠
>

48 
	~<io°ªam
>

49 
	~<f°ªam
>

50 
	~<s°ªam
>

52 
usög
 
	g°d
::
°rög
;

54 ˛as†
	cC⁄figFûe
 {

56 
	m¥Ÿe˘ed
:

57 
°rög
 
myDñimôî
;

58 
°rög
 
	mmyCommít
;

59 
°rög
 
	mmySíåy
;

60 
	m°d
::
m≠
<
°rög
,
	m°rög
> 
	mmyC⁄ã¡s
;

62 
	m°d
::
	tm≠
<
	t°rög
,°rög>::
	tôî©‹
 
	tm≠i
;

63 
	m°d
::
	tm≠
<
	t°rög
,°rög>::
	tc⁄°_ôî©‹
 
	tm≠ci
;

66 
	mpublic
:

67 
C⁄figFûe
–
°rög
 
fûíame
,

68 
°rög
 
dñimôî
 = "=",

69 
°rög
 
commít
 = "#",

70 
°rög
 
£¡ry
 = "EndConfigFile" );

71 
C⁄figFûe
();

74 
	mãm∂©e
<
˛ass
 
	mT
> 
T
 
	$ªad
–c⁄° 
°rög
& 
key
 ) const;

75 
ãm∂©e
<
˛ass
 
T
> T 
	$ªad
–c⁄° 
°rög
& 
key
, c⁄° 
T
& 
vÆue
 ) const;

76 
ãm∂©e
<
˛ass
 
T
> 
boﬁ
 
	$ªadI¡o
–
T
& 
v¨
, c⁄° 
°rög
& 
key
 ) const;

77 
ãm∂©e
<
˛ass
 
T
>

78 
boﬁ
 
	$ªadI¡o
–
T
& 
v¨
, c⁄° 
°rög
& 
key
, c⁄° T& 
vÆue
 ) const;

81 
ãm∂©e
<
˛ass
 
T
> 
	`add
–
°rög
 
key
, c⁄° T& 
vÆue
 );

82 
	`ªmove
–c⁄° 
°rög
& 
key
 );

85 
boﬁ
 
	$keyExi°s
–c⁄° 
°rög
& 
key
 ) const;

88 
°rög
 
	$gëDñimôî
(Ëc⁄° {  
myDñimôî
; }

89 
°rög
 
	$gëCommít
(Ëc⁄° {  
myCommít
; 
	}
}

90 
°rög
 
	$gëSíåy
(Ëc⁄° {  
mySíåy
; 
	}
}

91 
°rög
 
	$£tDñimôî
–c⁄° 
°rög
& 
s
 )

92 { 
°rög
 
ﬁd
 = 
myDñimôî
; myDñimôî = 
s
;  old; 
	}
}

93 
°rög
 
	$£tCommít
–c⁄° 
°rög
& 
s
 )

94 { 
°rög
 
ﬁd
 = 
myCommít
; myCommíà
s
;  old; 
	}
}

97 
‰õnd
 
	g°d
::
o°ªam
& 
›î©‹
<<–
°d
::o°ªam& 
os
, c⁄° 
	gC⁄figFûe
& 
	gcf
 );

98 
‰õnd
 
	g°d
::
i°ªam
& 
›î©‹
>>–
°d
::i°ªam& 
is
, 
	gC⁄figFûe
& 
	gcf
 );

100 
	g¥Ÿe˘ed
:

101 
ãm∂©e
<
˛ass
 
T
> 
°rög
 
T_as_°rög
–c⁄° T& 
t
 );

102 
	gãm∂©e
<
˛ass
 
	gT
> 
T
 
°rög_as_T
–c⁄° 
°rög
& 
s
 );

103 
åim
–
°rög
& 
s
 );

107 
	gpublic
:

108 
	sfûe_nŸ_found
 {

109 
°rög
 
fûíame
;

110 
fûe_nŸ_found
–c⁄° 
°rög
& 
fûíame_
 = string() )

111 : 
fûíame
(
fûíame_
) {} };

112 
	skey_nŸ_found
 {

113 
°rög
 
	gkey
;

114 
key_nŸ_found
–c⁄° 
°rög
& 
key_
 = string() )

115 : 
key
(
key_
) {} };

120 
	gãm∂©e
<
˛ass
 
	gT
>

121 
°rög
 
	gC⁄figFûe
::
	$T_as_°rög
–c⁄° 
T
& 
t
 )

125 
°d
::
o°rög°ªam
 
o°
;

126 
o°
 << 
t
;

127  
o°
.
	`°r
();

128 
	}
}

132 
	gãm∂©e
<
˛ass
 
	gT
>

133 
T
 
	gC⁄figFûe
::
	$°rög_as_T
–c⁄° 
°rög
& 
s
 )

137 
T
 
t
;

138 
°d
::
i°rög°ªam
 
	`i°
(
s
);

139 
i°
 >> 
t
;

140  
t
;

141 
	}
}

145 
	gãm∂©e
<>

146 
ölöe
 
°rög
 
	gC⁄figFûe
::
°rög_as_T
<°rög>–c⁄° såög& 
s
 )

150  
s
;

155 
	gãm∂©e
<>

156 
ölöe
 
boﬁ
 
	gC⁄figFûe
::
°rög_as_T
<boﬁ>–c⁄° 
°rög
& 
s
 )

161 
boﬁ
 
b
 = 
åue
;

162 
°rög
 
	gsup
 = 
s
;

163  
	g°rög
::
ôî©‹
 
p
 = 
sup
.
begö
(); 
	gp
 !sup.
íd
(); ++p )

164 *
	gp
 = 
touµî
(*
p
);

165 if–
	gsup
==
°rög
("FALSE"Ë|| 
sup
==string("F") ||

166 
sup
==
°rög
("NO") || sup==string("N") ||

167 
sup
==
°rög
("0") || sup==string("NONE") )

168 
b
 = 
Ál£
;

169  
	gb
;

173 
	gãm∂©e
<
˛ass
 
	gT
>

174 
T
 
	gC⁄figFûe
::
	$ªad
–c⁄° 
°rög
& 
key
 ) const

177 
m≠ci
 
p
 = 
myC⁄ã¡s
.
	`föd
(
key
);

178 if–
p
 =
myC⁄ã¡s
.
	`íd
(ËË
throw
 
	`key_nŸ_found
(
key
);

179  
°rög_as_T
<
T
>–
p
->
£c⁄d
 );

180 
	}
}

183 
	gãm∂©e
<
˛ass
 
	gT
>

184 
T
 
	gC⁄figFûe
::
	$ªad
–c⁄° 
°rög
& 
key
, c⁄° 
T
& 
vÆue
 ) const

188 
m≠ci
 
p
 = 
myC⁄ã¡s
.
	`föd
(
key
);

189 if–
p
 =
myC⁄ã¡s
.
	`íd
(ËË 
vÆue
;

190  
°rög_as_T
<
T
>–
p
->
£c⁄d
 );

191 
	}
}

194 
	gãm∂©e
<
˛ass
 
	gT
>

195 
boﬁ
 
	gC⁄figFûe
::
	$ªadI¡o
–
T
& 
v¨
, c⁄° 
°rög
& 
key
 ) const

200 
m≠ci
 
p
 = 
myC⁄ã¡s
.
	`föd
(
key
);

201 
boﬁ
 
found
 = ( 
p
 !
myC⁄ã¡s
.
	`íd
() );

202 if–
found
 ) 
v¨
 = 
°rög_as_T
<
T
>–
p
->
£c⁄d
 );

203  
found
;

204 
	}
}

207 
	gãm∂©e
<
˛ass
 
	gT
>

208 
boﬁ
 
	gC⁄figFûe
::
	$ªadI¡o
–
T
& 
v¨
, c⁄° 
°rög
& 
key
, c⁄° T& 
vÆue
 ) const

213 
m≠ci
 
p
 = 
myC⁄ã¡s
.
	`föd
(
key
);

214 
boﬁ
 
found
 = ( 
p
 !
myC⁄ã¡s
.
	`íd
() );

215 if–
found
 )

216 
v¨
 = 
°rög_as_T
<
T
>–
p
->
£c⁄d
 );

218 
v¨
 = 
vÆue
;

219  
found
;

220 
	}
}

223 
	gãm∂©e
<
˛ass
 
	gT
>

224 
	gC⁄figFûe
::
	$add
–
°rög
 
key
, c⁄° 
T
& 
vÆue
 )

227 
°rög
 
v
 = 
	`T_as_°rög
–
vÆue
 );

228 
	`åim
(
key
);

229 
	`åim
(
v
);

230 
myC⁄ã¡s
[
key
] = 
v
;

232 
	}
}

	@common/control.h

15 #i‚de‡
_CONTROL_H_


16 
	#_CONTROL_H_


	)

18 
	eíum_lo›_cmd
 {

19 
	m°ï_cmd
,

20 
	m°›_cmd
,

21 
	mrun_cmd
,

22 
	mhÆt_cmd


25 
	eíum_lo›_°©e
 {

26 
	m°›≥d_°©e
,

27 
	mru¬ög_°©e
,

28 
	m°ïpög_°©e
,

29 
	mîr‹_°©e


	@common/irmaErrors.h

15 #i‚de‡
_IRMA2_ERRORS_H_


16 
	#_IRMA2_ERRORS_H_


	)

18 
	#IRMA2_OK
 0

	)

21 
	#IRMA2_CDA_ERR_SHMGET
 10

	)

22 
	#IRMA2_CDA_ERR_SHMAT
 11

	)

23 
	#IRMA2_CDA_ERR_SHMCTL
 12

	)

24 
	#IRMA2_CDA_ERR_SHMDT
 13

	)

35 
	#IRMA2_CAM_ERR_C


	)

	@common/process.h

15 #i‚de‡
_IRMA2_PROCESS_H_


16 
	#_IRMA2_PROCESS_H_


	)

18 
	#NUM_PROCESS_AREAS
 11

	)

22 
	eíum_¥o˚ss_¨ós
 {

23 
	mCLOSE_NAV_AREA
=0,

24 
	mLONG_NAV_AREA
=1,

25 
	mFEATURE_NAV_AREA
=2,

26 
	mEXECUTIVE_AREA
=3,

27 
	mMAPPER_AREA
=4,

28 
	mMONITOR_AREA
=5,

29 
	mNETWORK_AREA
=6,

30 
	mOBJ_COGNITIVE_AREA
=7,

31 
	mNUM_COGNITIVE_AREA
=8,

32 
	mCAM_BLOB_AREA
=9,

33 
	mLASER_AREA
 = 
NUM_PROCESS_AREAS
 -1

	@common/semaphores.h

15 #i‚de‡
_IRMA2_SEMAPHORES_H_


16 
	#_IRMA2_SEMAPHORES_H_


	)

18 
	~<sys/ty≥s.h
>

19 
	~<uni°d.h
>

20 
	~<sys/ùc.h
>

21 
	~<sys/£m.h
>

22 
	~<°dio.h
>

23 
	~<°dlib.h
>

25 
	~"¥o˚ss.h
"

27 
	#DUMMY
 0

	)

29 
	#SEMKEY
 250

30 

	)

31 
	eíum_£m_¨ós
 { 
	mc⁄åﬁ
, 
	mdebuggî
, 
	md©a_1
, 
	md©a_2
, 
	md©a_3
, 
	md©a_4
 };

32 
	#SEM_AREAS
 6

	)

34 ˛as†
	cSem≠h‹es


36 
	m¥iv©e
:

37 
£m_£t_id
[
NUM_PROCESS_AREAS
];

38 
öôSem
(
íum_¥o˚ss_¨ós
 
i
);

39 
de°roySem
(
íum_¥o˚ss_¨ós
 
i
);

40 
boﬁ
 
	m¸ót‹
;

41 
	mpublic
:

42 
Sem≠h‹es
(
boﬁ
 
¸ót‹Arg
);

43 ~
Sem≠h‹es
();

44 
lock
 (
íum_¥o˚ss_¨ós
 
i
, 
íum_£m_¨ós
 
¨ó
);

45 
u∆ock
(
íum_¥o˚ss_¨ós
 
i
, 
íum_£m_¨ós
 
¨ó
);

48 
	gSem≠h‹es
::
	$öôSem
(
íum_¥o˚ss_¨ós
 
i
)

51 
£mid
;

52 
	`¥ötf
("íum_¥o˚ss_¨ó†%d\n",
i
);

53 i‡(
¸ót‹
)

55 i‡((
£mid
 = 
	`£mgë
(
SEMKEY
 + 
i
, 
SEM_AREAS
, 
IPC_CREAT
 | 0666)) != -1)

61 
	`¥ötf
("error semget(SEMKEY +i, SEM_AREAS...)/n");

64 
	`¥ötf
("semctl doing SETVAL\n");

66 
j
=0; j < 
SEM_AREAS
; j++)

68 i‡(
	`£m˘l
(
£mid
, 
j
, 
SETVAL
, 1))

70 
	`¥ötf
("îr‹ sem˘l(%d, %d, SETVAL, 1)\n",
£mid
, 
j
);

71 
i
=0; i < 
NUM_PROCESS_AREAS
 ; i++)

73 
	`de°roySem
((
íum_¥o˚ss_¨ós
Ë
i
);

75 
	`exô
(2);

82 i‡((
£mid
 = 
	`£mgë
(
SEMKEY
 + 
i
, 
SEM_AREAS
, 0)) == -1)

84 
	`¥ötf
("Error\n");

85 
	`¥ötf
("îr‹ semgë(SEMKEY,%d,0)\n", 
SEM_AREAS
);

86 
	`exô
(1);

92  
£mid
;

94 
	}
}

96 
	gSem≠h‹es
::
	$de°roySem
(
íum_¥o˚ss_¨ós
 
i
)

98 i‡(
	`£m˘l
(
£m_£t_id
[
i
], 
DUMMY
, 
IPC_RMID
, DUMMY)==-1)

100 
	`¥ötf
("error semctl(semid, DUMMY, IPC_RMID, DUMMY)==-1)\n");

103 
	}
}

105 
	gSem≠h‹es
::
	$Sem≠h‹es
(
boﬁ
 
¸ót‹Arg
)

107 
¸ót‹
 = 
¸ót‹Arg
;

109 
i
=0; i < 
NUM_PROCESS_AREAS
 ; i++)

111 i‡((
£m_£t_id
[
i
] = 
	`öôSem
((
íum_¥o˚ss_¨ós
) i)) == -1)

113 
	`Ârötf
(
°dout
,"%s:%d Sem≠h‹es::öôSem:%dÉº‹\¿",
__FILE__
,
__LINE__
,
i
);

114 
	`exô
(1);

117 
	}
}

119 
	gSem≠h‹es
::~
	$Sem≠h‹es
()

121 i‡(
¸ót‹
)

123 
i
=0; i < 
NUM_PROCESS_AREAS
 ; i++)

125 
	`de°roySem
((
íum_¥o˚ss_¨ós
Ë
i
);

128 
	}
}

130 
	gSem≠h‹es
::
	$lock
 (
íum_¥o˚ss_¨ós
 
i
, 
íum_£m_¨ós
 
¨ó
)

132 
£mbuf
 
lock
 = {
¨ó
, -1, 
SEM_UNDO
};

133 i‡(
	`£m›
(
£m_£t_id
[
i
], &
lock
, 1) == -1)

135 
	`¥ötf
("error semop(semid, &lock, 1) == -1)\n");

136 
	`exô
(3);

139  
IRMA2_OK
;

140 
	}
}

142 
	gSem≠h‹es
::
	$u∆ock
(
íum_¥o˚ss_¨ós
 
i
, 
íum_£m_¨ós
 
¨ó
)

144 
£mbuf
 
u∆ock
 = {
¨ó
, 1, 
SEM_UNDO
};

146 i‡(
	`£m›
(
£m_£t_id
[
i
], &
u∆ock
,1)==-1)

148 
	`¥ötf
("error semop(semid, &unlock, 1) == -1)\n");

149 
	`exô
(4);

152  
IRMA2_OK
;

153 
	}
}

	@init/init-cda.cpp

27 
	~"öô-cda.h
"

28 
	~<sys/shm.h
>

29 
	~<uni°d.h
>

30 
	~<°dio.h
>

32 
	$maö
()

34 
CDA
 
	`cda
(
åue
);

35 
i
;

37 
ExecutiveD©a
 *
pTemp
;

39 
	`Ârötf
(
°dout
, "\nIRMA2: Init CDA Process \n");

41 
pTemp
 = (
ExecutiveD©a
 *)
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

43 
	`Ârötf
(
°dout
, "init: LoadállÅhe modules you wishÅo use.\n");

44 
	`Ârötf
(
°dout
, "init: When done,Öress 'ENTER' keyÅo continue...\n");

45 
	`gëch¨
();

47 
pTemp
->
˘æ
.
lo›
 = 
run_cmd
;

51 
	`¶ìp
(1);

54 
cda
.
	`gëAâchdPro˚s£s
()>1);

56 
	`Ârötf
(
°dout
, "\nIRMA2: Init CDA Process Exit\n");

58 
	}
}

	@init/init-cda.h

16 #i‚de‡
_IRMA2_INIT_CDA_H_


17 
	#_IRMA2_INIT_CDA_H_


	)

19 
	~<°rög
>

21 
	~<°dio.h
>

22 
	~<ve˘‹
>

23 
	~"../comm⁄/CDA/comm⁄D©aAªa.h
"

	@processors/base/processor.h

15 #i‚de‡
_IRMA2_PROCESSOR_H_


16 
	#_IRMA2_PROCESSOR_H_


	)

18 
	~<°rög
>

19 
	~<°dio.h
>

20 
	~"../../comm⁄/CDA/comm⁄D©aAªa.h
"

24 ˛as†
	cPro˚ss‹I¡îÁ˚
 {

25 
	m¥Ÿe˘ed
:

26 
c⁄åﬁ
 *
pCål
;

27 
CDA
 
	mcda
;

28 
íum_¥o˚ss_¨ós
 
	m£m_¨ó
;

29 
	mpublic
:

31 
	$Pro˚ss‹I¡îÁ˚
() {

32 
pCål
 = 0;

35 ~
	$Pro˚ss‹I¡îÁ˚
() {

36 
	}
}

37 
vútuÆ
 
öô
() = 0;

38 
vútuÆ
 
°ï
() = 0;

39 
vútuÆ
 
˛ónup
() = 0;

41 
	$execuã
() {

43 
	`öô
();

45 
cda
.
	`lockAªa
(
£m_¨ó
, 
c⁄åﬁ
);

46 
pCål
->
pid
 = 
	`gëpid
();

47 
cda
.
	`u∆ockAªa
(
£m_¨ó
, 
c⁄åﬁ
);

49 
lo›_cmd
;

53 
lo›_cmd
 = 
pCål
->
lo›
;

55 
lo›_cmd
) {

56 
°ï_cmd
:

57 
cda
.
	`lockAªa
(
£m_¨ó
, 
c⁄åﬁ
);

58 
pCål
->
lo›
 = 
°›_cmd
;

59 
cda
.
	`u∆ockAªa
(
£m_¨ó
, 
c⁄åﬁ
);

60 
run_cmd
:

61 
	`°ï
();

63 
hÆt_cmd
:

65 
°›_cmd
:

67 
	`u¶ìp
(10000);

69 } 
lo›_cmd
 !
hÆt_cmd
);

71 
	`˛ónup
();

72 
	}
}

	@processors/cameraBlobber/cameraBlobber.cpp

1 
	~"ˇmîaBlobbî.h
"

2 
	~"../../comm⁄/CogMem/∑ømëîs.h
"

4 
usög
 
«me•a˚
 
	gcv
;

5 
	$maö
( ){

6 
CamîaBlobbî
 
m
;

7 
m
.
	`execuã
();

14 
	}
}

16 
	gCamîaBlobbî
::
	$CamîaBlobbî
(Ë: 
	$Pro˚ss‹I¡îÁ˚
()

19 
	}
}

23 
	gCamîaBlobbî
::
	$öô
(){

24 
	`¥ötf
("CameraBlobber: init... \n");

26 
pCamîaBlobbî
 = (
CamBlobD©a
 *)
cda
.
	`gëMemPå
(
CAM_BLOB_AREA
);

28 
pCål
 = &(
pCamîaBlobbî
->
˘æ
);

29 
pCål
->
lo›
=
°›_cmd
;

30 
£m_¨ó
 = 
CAM_BLOB_AREA
;

33 
L_ˇp
 = 
√w
 
	`VideoC≠tuª
(0);

34 
L_Img
 = 
√w
 
	`M©
();

35 
L_HSLImg
 = 
√w
 
	`M©
();

36 
L_GøyImg
 = 
√w
 
	`M©
();

39 
R_ˇp
 = 
L_ˇp
;

40 
R_Img
 = 
√w
 
	`M©
();

41 
R_HSLImg
 = 
√w
 
	`M©
();

42 
R_GøyImg
 = 
√w
 
	`M©
();

45 
kî√l
 = 
√w
 
	`M©
(3,3,
CV_8UC1
);

46 
kî√l
->
d©a
[1]=kernel->data[3]=kernel->data[4]=kernel->data[5]=kernel->data[7]=255;

47 
kî√l
->
d©a
[0]=kernel->data[2]=kernel->data[6]=kernel->data[8]=0;

50 
bö¨yThªshﬁd
 = 
LAMBDA
;

52 
edge
 = 
BLOB_EDGE
;

55 
cda
.
	`lockAªa
(
CAM_BLOB_AREA
);

56 
pCamîaBlobbî
->
maxblobs
=10;

57 
cda
.
	`u∆ockAªa
(
CAM_BLOB_AREA
);

60 
L_ˇp
->
›î©‹
 >>(*
L_Img
);

61 
R_ˇp
->
›î©‹
 >>(*
R_Img
);

62 
L_ˇp
->
›î©‹
 >>(*
L_Img
);

63 
R_ˇp
->
›î©‹
 >>(*
R_Img
);

64 
L_ˇp
->
›î©‹
 >>(*
L_Img
);

65 
R_ˇp
->
›î©‹
 >>(*
R_Img
);

66 
L_ˇp
->
›î©‹
 >>(*
L_Img
);

67 
R_ˇp
->
›î©‹
 >>(*
R_Img
);

68 
L_ˇp
->
›î©‹
 >>(*
L_Img
);

69 
R_ˇp
->
›î©‹
 >>(*
R_Img
);

72 
L_gøySˇÀd
 = 
√w
 
	`M©
();

73 
L_sˇÀd
 = 
√w
 
	`M©
(
WIDTH
,
HEIGHT
,
L_Img
->
	`ty≥
());

75 
L_ouçutI
 = 
	`cvCª©eImage
(
	`cvSize
(
L_Img
->
cﬁs
,L_Img->
rows
),
IPL_DEPTH_8U
,3);

77 
R_gøySˇÀd
 = 
√w
 
	`M©
();

78 
R_sˇÀd
 = 
√w
 
	`M©
(
WIDTH
,
HEIGHT
,
R_Img
->
	`ty≥
());

80 
R_ouçutI
 = 
	`cvCª©eImage
(
	`cvSize
(
R_Img
->
cﬁs
,R_Img->
rows
),
IPL_DEPTH_8U
,3);

81 
	}
}

86 
	gCamîaBlobbî
::
	$°ï
(){

89 
	`¥ötf
("CameraBlobber: step... \n");

91 
nImg
=0;

92 
maxblobs
 = 
pCamîaBlobbî
->maxblobs;

93 
wrôeOuçut
 = 0;

94 
videoPixñs
,
videoWidth
,
videoHeight
;

100 
L_ˇp
->
›î©‹
 >>(*
L_Img
);

101 
R_ˇp
->
›î©‹
 >>(*
R_Img
);

104 if(
wrôeOuçut
){

105 
	`imwrôe
("L_out.jpg",*
L_Img
);

106 
	`imwrôe
("R_out.jpg",*
R_Img
);

110 
videoPixñs
 = 
L_Img
->
rows
 * L_Img->
cﬁs
;

111 
videoWidth
 = 
L_Img
->
cﬁs
;

112 
videoHeight
 = 
L_Img
->
rows
;

116 
‰om_to
[] = {2,0,2,1,2,2};

119 
cv
::
	`cvtCﬁ‹
(*
L_Img
,*
L_HSLImg
,
CV_RGB2HLS
);

121 
	`mixCh™√ls
(
L_HSLImg
,1,L_HSLImg,1,
‰om_to
,3);

122 
cv
::
	`cvtCﬁ‹
(*
L_Img
,*
L_GøyImg
,
CV_RGB2GRAY
);

123 
	`thªshﬁd
(*
L_GøyImg
,*L_GøyImg,
bö¨yThªshﬁd
,255,
THRESH_BINARY
);

126 
cv
::
	`cvtCﬁ‹
(*
R_Img
,*
R_HSLImg
,
CV_RGB2HLS
);

128 
	`mixCh™√ls
(
R_HSLImg
,1,R_HSLImg,1,
‰om_to
,3);

129 
cv
::
	`cvtCﬁ‹
(*
R_Img
,*
R_GøyImg
,
CV_RGB2GRAY
);

130 
	`thªshﬁd
(*
R_GøyImg
,*R_GøyImg,
bö¨yThªshﬁd
,255,
THRESH_BINARY
);

134 
Poöt
 
p
;

135 
p
.
x
=-1;

136 
p
.
y
=-1;

139 
	`îode
(*
L_GøyImg
,*L_GøyImg,*
kî√l
,
p
,4);

140 
	`dû©e
(*
L_GøyImg
,*L_GøyImg,*
kî√l
,
p
,3);

143 
	`îode
(*
R_GøyImg
,*R_GøyImg,*
kî√l
,
p
,4);

144 
	`dû©e
(*
R_GøyImg
,*R_GøyImg,*
kî√l
,
p
,3);

147 if(
wrôeOuçut
){

148 
	`imwrôe
("L_outGøy.jpg",*
L_GøyImg
);

149 
	`imwrôe
("R_outGøy.jpg",*
R_GøyImg
);

155 
CBlobResu…
 
L_blobs
,
R_blobs
;

158 
I∂Image
 
L_öputI
,*
L_öputImage
;

159 
L_öputI
 = *
L_GøyImg
;

160 
L_öputImage
 = &
L_öputI
;

162 
I∂Image
 
R_öputI
,*
R_öputImage
;

163 
R_öputI
 = *
R_GøyImg
;

164 
R_öputImage
 = &
R_öputI
;

166 
L_blobs
 = 
	`CBlobResu…
(
L_öputImage
 , 
NULL
, 128, 
åue
 );

167 
R_blobs
 = 
	`CBlobResu…
(
R_öputImage
 , 
NULL
, 128, 
åue
 );

171 
L_blobs
.
	`Fûãr
–L_blobs, 
B_INCLUDE
, 
	`CBlobGëAªa
(), 
B_GREATER
, 5000);

172 
R_blobs
.
	`Fûãr
–R_blobs, 
B_INCLUDE
, 
	`CBlobGëAªa
(), 
B_GREATER
, 5000);

176 
i
=
L_ouçutI
->
width
*L_ouçutI->
height
*3;i>=0;i--){

177 
L_ouçutI
->
imageD©a
[
i
]=0;

178 
R_ouçutI
->
imageD©a
[
i
]=0;

182 
L_nBlobs
 = 
L_blobs
.
	`GëNumBlobs
();

183 
R_nBlobs
 = 
R_blobs
.
	`GëNumBlobs
();

184 
xmö
,
xmax
,
ymö
,
ymax
,
øngox
,
øngoy
;

185 
CBlob
 *
ãmpBlob
;

186 
M©
 * 
img2
;

187 
img2
=
NULL
;

191 
cda
.
	`lockAªa
(
CAM_BLOB_AREA
);

194 
i
=0;i<(
L_nBlobs
-1Ë&& i<
maxblobs
;i++){

197 
ãmpBlob
 = 
L_blobs
.
	`GëBlob
(
i
+1);

199 
ãmpBlob
->
	`FûlBlob
(
L_ouçutI
,
	`CV_RGB
(255,20*
i
,255-20*i));

204 
xmö
 = ((
ãmpBlob
->
möx
>
edge
)?tempBlob->minx-edge:0);

205 
ymö
 = ((
ãmpBlob
->
möy
>
edge
)?tempBlob->miny-edge:0);

206 
xmax
 = ((
ãmpBlob
->
maxx
<(
videoWidth
-
edge
))?tempBlob->maxx+edge:videoWidth);

207 
ymax
 = ((
ãmpBlob
->
maxy
<(
videoHeight
-
edge
))?tempBlob->maxy+edge:videoHeight);

209 
øngox
 = 
xmax
 - 
xmö
;

210 
øngoy
 = 
ymax
 - 
ymö
;

211 
Re˘
 
	`ROI
(
xmö
,
ymö
 ,
øngox
 ,
øngoy
 );

212 
img2
 = 
√w
 
	`M©
(*
L_Img
,
ROI
);

214 
Size
 
	`s
(
WIDTH
,
HEIGHT
);

215 
	`ªsize
(*
img2
,*
L_sˇÀd
,
s
);

216 
	`cvtCﬁ‹
(*
L_sˇÀd
,*
L_gøySˇÀd
,
CV_RGB2GRAY
);

222 if(
wrôeOuçut
){

223 
«me
[100];

224 
	`•rötf
(
«me
,"L_out%d.jpg",++
nImg
);

225 
cv
::
	`imwrôe
(
«me
,*
img2
);

227 
	`•rötf
(
«me
,"L_outsc%d.jpg",
nImg
);

228 
cv
::
	`imwrôe
(
«me
,*
L_sˇÀd
);

232 
pCamîaBlobbî
->
L_blobInfo
[4*
i
]=
ãmpBlob
->
möx
;

233 
pCamîaBlobbî
->
L_blobInfo
[4*
i
+1]=
ãmpBlob
->
möy
;

234 
pCamîaBlobbî
->
L_blobInfo
[4*
i
+2]=
ãmpBlob
->
maxx
;

235 
pCamîaBlobbî
->
L_blobInfo
[4*
i
+3]=
ãmpBlob
->
maxy
;

238 
j
=0;j<(960*3);j++){

239 
pCamîaBlobbî
->
L_sˇÀdBlobs
[(
i
*960*3)+
j
]=
L_sˇÀd
->
d©a
[j+2-2*(j%3)];

243 
pCamîaBlobbî
->
L_nBlobs
=
i
+1;

247 
i
=0;i<(
R_nBlobs
-1Ë&& i<
maxblobs
;i++){

250 
ãmpBlob
 = 
R_blobs
.
	`GëBlob
(
i
+1);

252 
ãmpBlob
->
	`FûlBlob
(
R_ouçutI
,
	`CV_RGB
(255,20*
i
,255-20*i));

257 
xmö
 = ((
ãmpBlob
->
möx
>
edge
)?tempBlob->minx-edge:0);

258 
ymö
 = ((
ãmpBlob
->
möy
>
edge
)?tempBlob->miny-edge:0);

259 
xmax
 = ((
ãmpBlob
->
maxx
<(
videoWidth
-
edge
))?tempBlob->maxx+edge:videoWidth);

260 
ymax
 = ((
ãmpBlob
->
maxy
<(
videoHeight
-
edge
))?tempBlob->maxy+edge:videoHeight);

262 
øngox
 = 
xmax
 - 
xmö
;

263 
øngoy
 = 
ymax
 - 
ymö
;

264 
Re˘
 
	`ROI
(
xmö
,
ymö
 ,
øngox
 ,
øngoy
 );

265 
img2
 = 
√w
 
	`M©
(*
R_Img
,
ROI
);

267 
Size
 
	`s
(
WIDTH
,
HEIGHT
);

268 
	`ªsize
(*
img2
,*
R_sˇÀd
,
s
);

269 
	`cvtCﬁ‹
(*
R_sˇÀd
,*
R_gøySˇÀd
,
CV_RGB2GRAY
);

275 if(
wrôeOuçut
){

276 
«me
[100];

277 
	`•rötf
(
«me
,"R_out%d.jpg",++
nImg
);

278 
cv
::
	`imwrôe
(
«me
,*
img2
);

280 
	`•rötf
(
«me
,"R_outsc%d.jpg",
nImg
);

281 
cv
::
	`imwrôe
(
«me
,*
R_sˇÀd
);

285 
pCamîaBlobbî
->
R_blobInfo
[4*
i
]=
ãmpBlob
->
möx
;

286 
pCamîaBlobbî
->
R_blobInfo
[4*
i
+1]=
ãmpBlob
->
möy
;

287 
pCamîaBlobbî
->
R_blobInfo
[4*
i
+2]=
ãmpBlob
->
maxx
;

288 
pCamîaBlobbî
->
R_blobInfo
[4*
i
+3]=
ãmpBlob
->
maxy
;

291 
j
=0;j<(960*3);j++){

292 
pCamîaBlobbî
->
R_sˇÀdBlobs
[(
i
*960*3)+
j
]=
R_sˇÀd
->
d©a
[j+2-2*(j%3)];

296 
pCamîaBlobbî
->
R_nBlobs
=
i
+1;

300 
i
=0;i<
videoPixñs
*3;i++){

301 
pCamîaBlobbî
->
L_‹igöÆImg
[
i
]=
L_Img
->
d©a
[i+2-2*(i%3)];

302 
pCamîaBlobbî
->
R_‹igöÆImg
[
i
]=
R_Img
->
d©a
[i+2-2*(i%3)];

305 
i
=0;i<
videoPixñs
*3;i++){

306 
pCamîaBlobbî
->
L_blobbedImg
[
i
]=
L_ouçutI
->
imageD©a
[i+2-2*(i%3)];

307 
pCamîaBlobbî
->
R_blobbedImg
[
i
]=
R_ouçutI
->
imageD©a
[i+2-2*(i%3)];

310 
pCamîaBlobbî
->
√wInfo
=1;

313 
cda
.
	`u∆ockAªa
(
CAM_BLOB_AREA
);

315 if(
wrôeOuçut
){

316 
	`imwrôe
("L_blobs.jpg",
L_ouçutI
);

317 
	`imwrôe
("R_blobs.jpg",
R_ouçutI
);

320 if(
img2
!=
NULL
){

321 
	`‰ì
(
img2
);

324 
	}
}

	@processors/cameraBlobber/cameraBlobber.h

1 
	~"../ba£/¥o˚ss‹.h
"

2 
	~"›ícv/cv.h
"

3 
	~"›ícv/highgui.h
"

4 
	~"cvblob¶ib/Blob.h
"

5 
	~"cvblob¶ib/BlobResu….h
"

7 
usög
 
«me•a˚
 
	gcv
;

9 ˛as†
	cCamîaBlobbî
 : 
public
 
Pro˚ss‹I¡îÁ˚


11 
¥iv©e
:

13 
VideoC≠tuª
 *
L_ˇp
;

14 
M©
 *
	mL_Img
;

15 
M©
 *
	mL_HSLImg
;

16 
M©
 *
	mL_GøyImg
;

17 
M©
 *
	mL_sˇÀd
;

18 
M©
 *
	mL_gøySˇÀd
;

19 
I∂Image
 *
	mL_ouçutI
;

22 
VideoC≠tuª
 *
	mR_ˇp
;

23 
M©
 *
	mR_Img
;

24 
M©
 *
	mR_HSLImg
;

25 
M©
 *
	mR_GøyImg
;

26 
M©
 *
	mR_sˇÀd
;

27 
M©
 *
	mR_gøySˇÀd
;

28 
I∂Image
 *
	mR_ouçutI
;

30 
CamBlobD©a
 *
	mpCamîaBlobbî
;

32 
M©
 *
	mkî√l
;

33 
	mbö¨yThªshﬁd
;

34 
	medge
;

36 
	mpublic
:

38 
CamîaBlobbî
();

40 
öô
();

41 
°ï
();

42 
	$˛ónup
(){;}

44 
	}
};

	@processors/cameraBlobber/cvblobslib/Blob.cpp

17 
	~<limôs.h
>

18 
	~"Blob.h
"

19 
	~"cv.h
"

44 
	gCBlob
::
	$CBlob
()

46 
ëiquëa
 = -1;

47 
exãri‹
 = 0;

48 
¨ó
 = 0.0f;

49 
≥rimëî
 = 0.0f;

50 
∑ª¡
 = -1;

51 
möx
 = 
LONG_MAX
;

52 
maxx
 = 0;

53 
möy
 = 
LONG_MAX
;

54 
maxy
 = 0;

55 
sumx
 = 0;

56 
sumy
 = 0;

57 
sumxx
 = 0;

58 
sumyy
 = 0;

59 
sumxy
 = 0;

60 
món
 = 0;

61 
°ddev
 = 0;

62 
exã∫Pîimëî
 = 0;

64 
m_°‹age
 = 
	`cvCª©eMemSt‹age
(0);

65 
edges
 = 
	`cvCª©eSeq
–
CV_SEQ_KIND_GENERIC
|
CV_32SC2
,

66 (
CvC⁄tour
),

67 (
CvPoöt
),
m_°‹age
);

68 
	}
}

90 
	gCBlob
::
	$CBlob
–c⁄° 
CBlob
 &
§c
 )

93 
ëiquëa
 = 
§c
.etiqueta;

94 
exãri‹
 = 
§c
.exterior;

95 
¨ó
 = 
§c
.
	`Aªa
();

96 
≥rimëî
 = 
§c
.
	`Pîimëî
();

97 
∑ª¡
 = 
§c
.parent;

98 
möx
 = 
§c
.minx;

99 
maxx
 = 
§c
.maxx;

100 
möy
 = 
§c
.miny;

101 
maxy
 = 
§c
.maxy;

102 
sumx
 = 
§c
.sumx;

103 
sumy
 = 
§c
.sumy;

104 
sumxx
 = 
§c
.sumxx;

105 
sumyy
 = 
§c
.sumyy;

106 
sumxy
 = 
§c
.sumxy;

107 
món
 = 
§c
.mean;

108 
°ddev
 = 
§c
.stddev;

109 
exã∫Pîimëî
 = 
§c
.externPerimeter;

112 
CvSeqRódî
 
ªadî
;

113 
CvSeqWrôî
 
wrôî
;

114 
CvPoöt
 
edgó˘uÆ
;

117 
m_°‹age
 = 
	`cvCª©eMemSt‹age
(0);

118 
edges
 = 
	`cvCª©eSeq
–
CV_SEQ_KIND_GENERIC
|
CV_32SC2
,

119 (
CvC⁄tour
),

120 (
CvPoöt
),
m_°‹age
);

122 
	`cvSèπRódSeq
–
§c
.
	`Edges
(), &
ªadî
);

123 
	`cvSèπAµídToSeq
–
edges
, &
wrôî
 );

125  
i
=0; i< 
§c
.
	`Edges
()->
tŸÆ
; i++)

127 
	`CV_READ_SEQ_ELEM
–
edgó˘uÆ
 ,
ªadî
);

128 
	`CV_WRITE_SEQ_ELEM
–
edgó˘uÆ
 , 
wrôî
 );

131 
	`cvEndWrôeSeq
–&
wrôî
 );

132 
	}
}

133 
	gCBlob
::
	$CBlob
–c⁄° 
CBlob
 *
§c
 )

136 
ëiquëa
 = 
§c
->etiqueta;

137 
exãri‹
 = 
§c
->exterior;

138 
¨ó
 = 
§c
->
	`Aªa
();

139 
≥rimëî
 = 
§c
->
	`Pîimëî
();

140 
∑ª¡
 = 
§c
->parent;

141 
möx
 = 
§c
->minx;

142 
maxx
 = 
§c
->maxx;

143 
möy
 = 
§c
->miny;

144 
maxy
 = 
§c
->maxy;

145 
sumx
 = 
§c
->sumx;

146 
sumy
 = 
§c
->sumy;

147 
sumxx
 = 
§c
->sumxx;

148 
sumyy
 = 
§c
->sumyy;

149 
sumxy
 = 
§c
->sumxy;

150 
món
 = 
§c
->mean;

151 
°ddev
 = 
§c
->stddev;

152 
exã∫Pîimëî
 = 
§c
->externPerimeter;

155 
CvSeqRódî
 
ªadî
;

156 
CvSeqWrôî
 
wrôî
;

157 
CvPoöt
 
edgó˘uÆ
;

160 
m_°‹age
 = 
	`cvCª©eMemSt‹age
(0);

161 
edges
 = 
	`cvCª©eSeq
–
CV_SEQ_KIND_GENERIC
|
CV_32SC2
,

162 (
CvC⁄tour
),

163 (
CvPoöt
),
m_°‹age
);

165 
	`cvSèπRódSeq
–
§c
->
	`Edges
(), &
ªadî
);

166 
	`cvSèπAµídToSeq
–
edges
, &
wrôî
 );

168  
i
=0; i< 
§c
->
	`Edges
()->
tŸÆ
; i++)

170 
	`CV_READ_SEQ_ELEM
–
edgó˘uÆ
 ,
ªadî
);

171 
	`CV_WRITE_SEQ_ELEM
–
edgó˘uÆ
 , 
wrôî
 );

174 
	`cvEndWrôeSeq
–&
wrôî
 );

175 
	}
}

197 
	gCBlob
::~
	$CBlob
()

200 
	`cvCÀ¨Seq
(
edges
);

202 
	`cvRñó£MemSt‹age
–&
m_°‹age
 );

203 
	}
}

229 
	gCBlob
& CBlob::
›î©‹
=(c⁄° 
CBlob
 &
§c
 )

232 i‡(
this
 !&
§c
)

235 
cvCÀ¨Seq
(
edges
);

237 
cvRñó£MemSt‹age
–&
m_°‹age
 );

240 
	gm_°‹age
 = 
cvCª©eMemSt‹age
(0);

241 
	gedges
 = 
cvCª©eSeq
–
CV_SEQ_KIND_GENERIC
|
CV_32SC2
,

242 (
CvC⁄tour
),

243 (
CvPoöt
),
m_°‹age
);

246 
	gëiquëa
 = 
§c
.
ëiquëa
;

247 
	gexãri‹
 = 
§c
.
exãri‹
;

248 
	g¨ó
 = 
§c
.
Aªa
();

249 
	g≥rimëî
 = 
§c
.
Pîimëî
();

250 
	g∑ª¡
 = 
§c
.
∑ª¡
;

251 
	gmöx
 = 
§c
.
möx
;

252 
	gmaxx
 = 
§c
.
maxx
;

253 
	gmöy
 = 
§c
.
möy
;

254 
	gmaxy
 = 
§c
.
maxy
;

255 
	gsumx
 = 
§c
.
sumx
;

256 
	gsumy
 = 
§c
.
sumy
;

257 
	gsumxx
 = 
§c
.
sumxx
;

258 
	gsumyy
 = 
§c
.
sumyy
;

259 
	gsumxy
 = 
§c
.
sumxy
;

260 
	gmón
 = 
§c
.
món
;

261 
	g°ddev
 = 
§c
.
°ddev
;

262 
	gexã∫Pîimëî
 = 
§c
.
exã∫Pîimëî
;

265 
CvSeqRódî
 
	gªadî
;

266 
CvSeqWrôî
 
	gwrôî
;

267 
CvPoöt
 
	gedgó˘uÆ
;

269 
cvSèπRódSeq
–
§c
.
Edges
(), &
ªadî
);

270 
cvSèπAµídToSeq
–
edges
, &
wrôî
 );

272  
	gi
=0; i< 
	g§c
.
Edges
()->
	gtŸÆ
; i++)

274 
CV_READ_SEQ_ELEM
–
edgó˘uÆ
 ,
ªadî
);

275 
CV_WRITE_SEQ_ELEM
–
edgó˘uÆ
 , 
wrôî
 );

278 
cvEndWrôeSeq
–&
wrôî
 );

280  *
	gthis
;

311 
	gCBlob
::
	$FûlBlob
–
I∂Image
 *
im©ge
, 
CvSˇœr
 
cﬁ‹
, 
off£tX
 , 
off£tY
 ) const

315 if–
edges
 =
NULL
 ||Édges->
tŸÆ
 == 0 ) ;

317 
CvPoöt
 
edgó˘uÆ
, 
±1
, 
±2
;

318 
CvSeqRódî
 
ªadî
;

319 
ve˘‹Pu¡s
 
ve˘‹Edges
 = 
	`ve˘‹Pu¡s
–
edges
->
tŸÆ
 );

320 
ve˘‹Pu¡s
::
ôî©‹
 
ôEdges
, 
ôEdgesSeguít
;

321 
boﬁ
 
dösBlob
;

322 
yA˘uÆ
;

325 
	`cvSèπRódSeq
–
edges
, &
ªadî
);

326 
ôEdges
 = 
ve˘‹Edges
.
	`begö
();

327  
ôEdges
 !
ve˘‹Edges
.
	`íd
() )

329 
	`CV_READ_SEQ_ELEM
–
edgó˘uÆ
 ,
ªadî
);

330 *
ôEdges
 = 
edgó˘uÆ
;

331 
ôEdges
++;

334 
°d
::
	`s‹t
–
ve˘‹Edges
.
	`begö
(), ve˘‹Edges.
	`íd
(), 
	`com∑øCvPoöt
() );

337 
ôEdges
 = 
ve˘‹Edges
.
	`begö
();

338 
ôEdgesSeguít
 = 
ve˘‹Edges
.
	`begö
() + 1;

339 
dösBlob
 = 
åue
;

340  
ôEdges
 !(
ve˘‹Edges
.
	`íd
() - 1))

342 
yA˘uÆ
 = (*
ôEdges
).
y
;

344 if––(*
ôEdges
).
x
 !(*
ôEdgesSeguít
).x ) &&

345 –(*
ôEdgesSeguít
).
y
 =
yA˘uÆ
 )

348 if–
dösBlob
 )

350 
±1
 = *
ôEdges
;

351 
±1
.
x
 +
off£tX
;

352 
±1
.
y
 +
off£tY
;

354 
±2
 = *
ôEdgesSeguít
;

355 
±2
.
x
 +
off£tX
;

356 
±2
.
y
 +
off£tY
;

358 
	`cvLöe
–
im©ge
, 
±1
, 
±2
, 
cﬁ‹
 );

360 
dösBlob
 =! dinsBlob;

362 
ôEdges
++;

363 
ôEdgesSeguít
++;

364 if–(*
ôEdges
).
y
 !
yA˘uÆ
 ) 
dösBlob
 = 
åue
;

366 
ve˘‹Edges
.
	`˛ór
();

367 
	}
}

391 
	gCBlob
::
	$C›yEdges
–
CBlob
 &
de°ö©i⁄
 ) const

393 
CvSeqRódî
 
ªadî
;

394 
CvSeqWrôî
 
wrôî
;

395 
CvPoöt
 
edgó˘uÆ
;

397 
	`cvSèπRódSeq
–
edges
, &
ªadî
);

398 
	`cvSèπAµídToSeq
–
de°ö©i⁄
.
	`Edges
(), &
wrôî
 );

400  
i
=0; i<
edges
->
tŸÆ
; i++)

402 
	`CV_READ_SEQ_ELEM
–
edgó˘uÆ
 ,
ªadî
);

403 
	`CV_WRITE_SEQ_ELEM
–
edgó˘uÆ
 , 
wrôî
 );

406 
	`cvEndWrôeSeq
–&
wrôî
 );

407 
	}
}

429 
	gCBlob
::
	$CÀ¨Edges
()

432 
	`cvCÀ¨Seq
–
edges
 );

433 
	}
}

459 
boﬁ
 
	gCBlob
::
	$GëC⁄vexHuŒ
–
CvSeq
 **
d°
 ) const

461 if–
edges
 !
NULL
 &&Édges->
tŸÆ
 > 0)

463 *
d°
 = 
	`cvC⁄vexHuŒ2
–
edges
, 0, 
CV_CLOCKWISE
, 0 );

464  
åue
;

466  
Ál£
;

467 
	}
}

491 
CvBox2D
 
	gCBlob
::
	$GëEŒù£
() const

493 
CvBox2D
 
ñù£
;

495 if–
edges
 !
NULL
 &&Édges->
tŸÆ
 > 6)

497 
ñù£
 = 
	`cvFôEŒù£2
–
edges
 );

501 
ñù£
.
˚¡î
.
x
 = 0.0;

502 
ñù£
.
˚¡î
.
y
 = 0.0;

503 
ñù£
.
size
.
width
 = 0.0;

504 
ñù£
.
size
.
height
 = 0.0;

505 
ñù£
.
™gÀ
 = 0.0;

507  
ñù£
;

508 
	}
}

541 
	gCBlobGëMomít
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

544 if((
m_p
==0Ë&& (
m_q
==0))

545  
blob
.
	`Aªa
();

548 if((
m_p
==1Ë&& (
m_q
==0))

549  
blob
.
	`SumX
();

552 if((
m_p
==0Ë&& (
m_q
==1))

553  
blob
.
	`SumY
();

556 if((
m_p
==2Ë&& (
m_q
==0))

557  
blob
.
	`SumXX
();

560 if((
m_p
==0Ë&& (
m_q
==2))

561  
blob
.
	`SumYY
();

564 
	}
}

593 
	gCBlobGëHuŒPîimëî
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

595 if(
blob
.
	`Edges
(Ë!
NULL
 && blob.Edges()->
tŸÆ
 > 0)

597 
CvSeq
 *
huŒ
 = 
	`cvC⁄vexHuŒ2
–
blob
.
	`Edges
(), 0, 
CV_CLOCKWISE
, 1 );

598  
	`Ábs
(
	`cvArcLígth
(
huŒ
,
CV_WHOLE_SEQ
,1));

600  
blob
.
	`Pîimëî
();

601 
	}
}

603 
	gCBlobGëHuŒAªa
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

605 if(
blob
.
	`Edges
(Ë!
NULL
 && blob.Edges()->
tŸÆ
 > 0)

607 
CvSeq
 *
huŒ
 = 
	`cvC⁄vexHuŒ2
–
blob
.
	`Edges
(), 0, 
CV_CLOCKWISE
, 1 );

608  
	`Ábs
(
	`cvC⁄tourAªa
(
huŒ
));

610  
blob
.
	`Pîimëî
();

611 
	}
}

635 
	gCBlobGëMöX©MöY
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

637 
MöX_©_MöY
 = 
LONG_MAX
;

639 
CvSeqRódî
 
ªadî
;

640 
CvPoöt
 
edgó˘uÆ
;

642 
	`cvSèπRódSeq
(
blob
.
	`Edges
(),&
ªadî
);

644 
j
=0;j<
blob
.
	`Edges
()->
tŸÆ
;j++)

646 
	`CV_READ_SEQ_ELEM
(
edgó˘uÆ
,
ªadî
);

647 if–(
edgó˘uÆ
.
y
 =
blob
.
	`MöY
()Ë&& (edgó˘uÆ.
x
 < 
MöX_©_MöY
) )

649 
MöX_©_MöY
 = 
edgó˘uÆ
.
x
;

653  
MöX_©_MöY
;

654 
	}
}

678 
	gCBlobGëMöY©MaxX
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

680 
MöY_©_MaxX
 = 
LONG_MAX
;

682 
CvSeqRódî
 
ªadî
;

683 
CvPoöt
 
edgó˘uÆ
;

685 
	`cvSèπRódSeq
(
blob
.
	`Edges
(),&
ªadî
);

687 
j
=0;j<
blob
.
	`Edges
()->
tŸÆ
;j++)

689 
	`CV_READ_SEQ_ELEM
(
edgó˘uÆ
,
ªadî
);

690 if–(
edgó˘uÆ
.
x
 =
blob
.
	`MaxX
()Ë&& (edgó˘uÆ.
y
 < 
MöY_©_MaxX
) )

692 
MöY_©_MaxX
 = 
edgó˘uÆ
.
y
;

696  
MöY_©_MaxX
;

697 
	}
}

721 
	gCBlobGëMaxX©MaxY
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

723 
MaxX_©_MaxY
 = 
LONG_MIN
;

725 
CvSeqRódî
 
ªadî
;

726 
CvPoöt
 
edgó˘uÆ
;

728 
	`cvSèπRódSeq
(
blob
.
	`Edges
(),&
ªadî
);

730 
j
=0;j<
blob
.
	`Edges
()->
tŸÆ
;j++)

732 
	`CV_READ_SEQ_ELEM
(
edgó˘uÆ
,
ªadî
);

733 if–(
edgó˘uÆ
.
y
 =
blob
.
	`MaxY
()Ë&& (edgó˘uÆ.
x
 > 
MaxX_©_MaxY
) )

735 
MaxX_©_MaxY
 = 
edgó˘uÆ
.
x
;

739  
MaxX_©_MaxY
;

740 
	}
}

764 
	gCBlobGëMaxY©MöX
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

766 
MaxY_©_MöX
 = 
LONG_MIN
;

768 
CvSeqRódî
 
ªadî
;

769 
CvPoöt
 
edgó˘uÆ
;

771 
	`cvSèπRódSeq
(
blob
.
	`Edges
(),&
ªadî
);

773 
j
=0;j<
blob
.
	`Edges
()->
tŸÆ
;j++)

775 
	`CV_READ_SEQ_ELEM
(
edgó˘uÆ
,
ªadî
);

776 if–(
edgó˘uÆ
.
x
 =
blob
.
	`MöY
()Ë&& (edgó˘uÆ.
y
 > 
MaxY_©_MöX
) )

778 
MaxY_©_MöX
 = 
edgó˘uÆ
.
y
;

782  
MaxY_©_MöX
;

783 
	}
}

799 
	gCBlobGëEl⁄g©i⁄
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

801 
am∂adaC
,
l⁄gôudC
,
am∂ada
,
l⁄gôud
;

803 
am∂adaC
=(Ë(
blob
.
	`Pîimëî
()+
	`sqπ
(
	`pow
(blob.Pîimëî(),2)-16*blob.
	`Aªa
()))/4;

804 if(
am∂adaC
<=0.0)  0;

805 
l⁄gôudC
=(Ë
blob
.
	`Aªa
()/
am∂adaC
;

807 
l⁄gôud
=
	`MAX
–
l⁄gôudC
 , 
am∂adaC
 );

808 
am∂ada
=
	`MIN
–
l⁄gôudC
 , 
am∂adaC
 );

810  (Ë
l⁄gôud
/
am∂ada
;

811 
	}
}

827 
	gCBlobGëCom∑˘√ss
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

829 if–
blob
.
	`Aªa
() != 0.0 )

830  (Ë
	`pow
(
blob
.
	`Pîimëî
(),2)/(4*
CV_PI
*blob.
	`Aªa
());

833 
	}
}

849 
	gCBlobGëRough√ss
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

851 
CBlobGëHuŒPîimëî
 
gëHuŒPîimëî
 = 
	`CBlobGëHuŒPîimëî
();

853 
huŒPîimëî
 = 
	`gëHuŒPîimëî
(
blob
);

855 if–
huŒPîimëî
 != 0.0 )

856  
blob
.
	`Pîimëî
(Ë/ 
huŒPîimëî
;

859 
	}
}

875 
	gCBlobGëLígth
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

877 
am∂adaC
,
l⁄gôudC
;

878 
tmp
;

880 
tmp
 = 
blob
.
	`Pîimëî
()*blob.Pîimëî(Ë- 16*blob.
	`Aªa
();

882 if–
tmp
 > 0.0 )

883 
am∂adaC
 = (Ë(
blob
.
	`Pîimëî
()+
	`sqπ
(
tmp
))/4;

886 
am∂adaC
 = (Ë(
blob
.
	`Pîimëî
())/4;

888 if(
am∂adaC
<=0.0)  0;

889 
l⁄gôudC
=(Ë
blob
.
	`Aªa
()/
am∂adaC
;

891  
	`MAX
–
l⁄gôudC
 , 
am∂adaC
 );

892 
	}
}

908 
	gCBlobGëBªadth
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

910 
am∂adaC
,
l⁄gôudC
;

911 
tmp
;

913 
tmp
 = 
blob
.
	`Pîimëî
()*blob.Pîimëî(Ë- 16*blob.
	`Aªa
();

915 if–
tmp
 > 0.0 )

916 
am∂adaC
 = (Ë(
blob
.
	`Pîimëî
()+
	`sqπ
(
tmp
))/4;

919 
am∂adaC
 = (Ë(
blob
.
	`Pîimëî
())/4;

921 if(
am∂adaC
<=0.0)  0;

922 
l⁄gôudC
 = (Ë
blob
.
	`Aªa
()/
am∂adaC
;

924  
	`MIN
–
l⁄gôudC
 , 
am∂adaC
 );

925 
	}
}

941 
	gCBlobGëDi°™˚FromPoöt
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

943 
xmôj™a
, 
ymôj™a
;

944 
CBlobGëXCíãr
 
gëXCíãr
;

945 
CBlobGëYCíãr
 
gëYCíãr
;

947 
xmôj™a
 = 
m_x
 - 
	`gëXCíãr
–
blob
 );

948 
ymôj™a
 = 
m_y
 - 
	`gëYCíãr
–
blob
 );

950  
	`sqπ
((
xmôj™a
*xmôj™a)+(
ymôj™a
*ymitjana));

951 
	}
}

976 
	gCBlobGëXYInside
::
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

978 if–
blob
.
	`Edges
(Ë=
NULL
 || blob.Edges()->
tŸÆ
 == 0 )  0.0;

981 
CvSeqRódî
 
ªadî
;

982 
CBlob
::
ve˘‹Pu¡s
 
ve˘‹Edges
;

983 
CBlob
::
ve˘‹Pu¡s
::
ôî©‹
 
ôEdges
, 
ôEdgesSeguít
;

984 
CvPoöt
 
edgó˘uÆ
;

985 
boﬁ
 
dösBlob
;

988 
	`cvSèπRódSeq
–
blob
.
	`Edges
(), &
ªadî
);

990  
i
=0; i< 
blob
.
	`Edges
()->
tŸÆ
; i++)

992 
	`CV_READ_SEQ_ELEM
–
edgó˘uÆ
 ,
ªadî
 );

993 if–
edgó˘uÆ
.
y
 =
m_p
.y )

994 
ve˘‹Edges
.
	`push_back
–
edgó˘uÆ
 );

997 if–
ve˘‹Edges
.
	`size
() == 0 )  0.0;

1000 
°d
::
	`s‹t
–
ve˘‹Edges
.
	`begö
(), ve˘‹Edges.
	`íd
(), 
CBlob
::
	`com∑øCvPoöt
() );

1005 
ôEdges
 = 
ve˘‹Edges
.
	`begö
();

1006 
ôEdgesSeguít
 = 
ve˘‹Edges
.
	`begö
() + 1;

1007 
dösBlob
 = 
åue
;

1009  
ôEdges
 !(
ve˘‹Edges
.
	`íd
() - 1) )

1011 if–(*
ôEdges
).
x
 <
m_p
.x && (*
ôEdgesSeguít
).x >m_p.x && 
dösBlob
 )

1013 
ve˘‹Edges
.
	`˛ór
();

1017 
ôEdges
++;

1018 
ôEdgesSeguít
++;

1019 
dösBlob
 = !dinsBlob;

1022 
ve˘‹Edges
.
	`˛ór
();

1024 
	}
}

1026 #ifde‡
BLOB_OBJECT_FACTORY


1042 
	$Regi°øTŸsO≥ød‹s
–
t_O≥ød‹BlobFa˘‹y
 &
ÁbriˇO≥ød‹sBlob
 )

1045 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëAªa
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëAªa
>());

1046 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëBªadth
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëBªadth
>());

1047 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëCom∑˘√ss
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëCom∑˘√ss
>());

1048 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëEl⁄g©i⁄
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëEl⁄g©i⁄
>());

1049 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëExãri‹
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëExãri‹
>());

1050 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëLígth
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëLígth
>());

1051 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëPîimëî
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëPîimëî
>());

1052 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëRough√ss
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëRough√ss
>());

1055 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëExã∫PîimëîR©io
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëExã∫PîimëîR©io
>());

1056 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëExã∫HuŒPîimëîR©io
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëExã∫HuŒPîimëîR©io
>());

1057 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëExã∫Pîimëî
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëExã∫Pîimëî
>());

1061 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëHuŒPîimëî
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëHuŒPîimëî
>());

1062 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëHuŒAªa
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëHuŒAªa
>());

1066 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMaj‹AxisLígth
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMaj‹AxisLígth
>());

1067 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMö‹AxisLígth
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMö‹AxisLígth
>());

1068 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëAxisR©io
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëAxisR©io
>());

1069 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëOrõ¡©i⁄
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëOrõ¡©i⁄
>());

1070 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëOrõ¡©i⁄Cos
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëOrõ¡©i⁄Cos
>());

1071 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëAªaElù£R©io
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëAªaElù£R©io
>());

1074 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMaxX
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMaxX
>());

1075 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMaxY
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMaxY
>());

1076 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMöX
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMöX
>());

1077 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMöY
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMöY
>());

1079 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMaxX©MaxY
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMaxX©MaxY
>());

1080 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMaxY©MöX
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMaxY©MöX
>());

1081 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMöX©MöY
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMöX©MöY
>());

1082 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMöY©MaxX
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMöY©MaxX
>());

1085 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMón
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMón
>());

1086 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëStdDev
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëStdDev
>());

1089 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëXYInside
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëXYInside
>());

1090 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëDiffY
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëDiffY
>());

1091 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëDiffX
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëDiffX
>());

1092 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëXCíãr
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëXCíãr
>());

1093 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëYCíãr
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëYCíãr
>());

1094 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëDi°™˚FromPoöt
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëDi°™˚FromPoöt
>());

1097 
ÁbriˇO≥ød‹sBlob
.
	`Regi°î
–
	`CBlobGëMomít
().
	`GëNom
(), 
Ty≥2Ty≥
<
CBlobGëMomít
>());

1099 
	}
}

	@processors/cameraBlobber/cvblobslib/Blob.h

16 #¥agm®
w¨nög
–
dißbÀ
 : 4786 )

18 #i‚de‡
CBLOB_INSPECTA_INCLUDED


19 
	#CBLOB_INSPECTA_INCLUDED


	)

21 
	~"cxc‹e.h
"

22 
	~"BlobLibøryC⁄figuøti⁄.h
"

23 
	~<fun˘i⁄Æ
>

24 
	~<ve˘‹
>

25 
	~<Æg‹ôhm
>

28 #ifde‡
BLOB_OBJECT_FACTORY


30 
	~"..\ö•e˘a\DesignP©ã∫s\Obje˘Fa˘‹y.h
"

35 
	#DEGREE2RAD
 (
CV_PI
 / 180.0)

	)

42 ˛as†
	cCBlob


44 
	mpublic
:

47 
CBlob
();

50 
CBlob
–c⁄° CBlob &
§c
 );

51 
CBlob
–c⁄° CBlob *
§c
 );

55 ~
CBlob
();

59 
	mCBlob
& 
	m›î©‹
=(c⁄° 
CBlob
 &
§c
 );

63 
boﬁ
 
	$IsEm±y
() const

65  (
¨ó
 =0.0 && 
≥rimëî
 == 0.0 );

70 
	`CÀ¨Edges
();

73 
	$C›yEdges
–
CBlob
 &
de°ö©i⁄
 ) const;

76 
boﬁ
 
	$GëC⁄vexHuŒ
–
CvSeq
 **
d°
 ) const;

79 
CvBox2D
 
	$GëEŒù£
() const;

83 
	$FûlBlob
–
I∂Image
 *
im©ge
, 
CvSˇœr
 
cﬁ‹
, 
off£tX
 = 0, 
off£tY
 = 0 ) const;

88 
ölöe
 
	$Labñ
(Ëc⁄° {  
ëiquëa
; 
	}
}

89 
ölöe
 
	$P¨ít
(Ëc⁄° {  
∑ª¡
; 
	}
}

90 
ölöe
 
	$Aªa
(Ëc⁄° {  
¨ó
; 
	}
}

91 
ölöe
 
	$Pîimëî
(Ëc⁄° {  
≥rimëî
; 
	}
}

92 
ölöe
 
	$Exã∫Pîimëî
(Ëc⁄° {  
exã∫Pîimëî
; 
	}
}

93 
ölöe
 
	$Exãri‹
(Ëc⁄° {  
exãri‹
; 
	}
}

94 
ölöe
 
	$Món
(Ëc⁄° {  
món
; 
	}
}

95 
ölöe
 
	$StdDev
(Ëc⁄° {  
°ddev
; 
	}
}

96 
ölöe
 
	$MöX
(Ëc⁄° {  
möx
; 
	}
}

97 
ölöe
 
	$MöY
(Ëc⁄° {  
möy
; 
	}
}

98 
ölöe
 
	$MaxX
(Ëc⁄° {  
maxx
; 
	}
}

99 
ölöe
 
	$MaxY
(Ëc⁄° {  
maxy
; 
	}
}

100 
ölöe
 
CvSeq
 *
	$Edges
(Ëc⁄° {  
edges
; 
	}
}

101 
ölöe
 
	$SumX
(Ëc⁄° {  
sumx
; 
	}
}

102 
ölöe
 
	$SumY
(Ëc⁄° {  
sumy
; 
	}
}

103 
ölöe
 
	$SumXX
(Ëc⁄° {  
sumxx
; 
	}
}

104 
ölöe
 
	$SumYY
(Ëc⁄° {  
sumyy
; 
	}
}

105 
ölöe
 
	$SumXY
(Ëc⁄° {  
sumxy
; 
	}
}

109 
	gëiquëa
;

112 
	gexãri‹
;

115 
	g¨ó
;

118 
	g≥rimëî
;

121 
	gexã∫Pîimëî
;

124 
	g∑ª¡
;

126 
	gsumx
;

127 
	gsumy
;

128 
	gsumxx
;

129 
	gsumyy
;

130 
	gsumxy
;

132 
	gmöx
;

133 
	gmaxx
;

134 
	gmöy
;

135 
	gmaxy
;

139 
	gmón
;

142 
	g°ddev
;

146 
CvMemSt‹age
 *
	gm_°‹age
;

149 
CvSeq
 *
	gedges
;

153 
	g°d
::
	tve˘‹
<
	tCvPoöt
> 
	tve˘‹Pu¡s
;

156 
	gcom∑øCvPoöt
 : 
public
 
°d
::
bö¨y_fun˘i⁄
<
CvPoöt
, 
	gCvPoöt
, 
	gboﬁ
>

159 
boﬁ
 
›î©‹
()(
CvPoöt
 
	ga
, CvPoöà
	gb
)

161 if–
	ga
.
	gy
 =
b
.
y
 )

162  
a
.
x
 < 
b
.x;

164  
	ga
.
	gy
 < 
	gb
.y;

180 ˛as†
	cCO≥ød‹Blob


182 
	mpublic
:

183 
vútuÆ
 ~
	$CO≥ød‹Blob
(){};

186 
vútuÆ
 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const = 0;

188 
vútuÆ
 c⁄° *
	$GëNom
() const = 0;

190 
›î©‹
 
CO≥ød‹Blob
*() const

192  (
CO≥ød‹Blob
*)
this
;

193 
	}
}

196 
CO≥ød‹Blob
 
	tfuncio_ˇlculBlob
;

198 #ifde‡
BLOB_OBJECT_FACTORY


202 
	sfun˘‹Com∑øcioIdO≥ød‹


204 
boﬁ
 
›î©‹
()(c⁄° * 
	ms1
, c⁄° * 
	ms2
) const

206  
°rcmp
(
s1
, 
s2
) < 0;

211 
	gObje˘Fa˘‹y
<
	tCO≥ød‹Blob
, c⁄° *, 
	tfun˘‹Com∑øcioIdO≥ød‹
 > 
	tt_O≥ød‹BlobFa˘‹y
;

214 
Regi°øTŸsO≥ød‹s
–
t_O≥ød‹BlobFa˘‹y
 &
ÁbriˇO≥ød‹sBlob
 );

220 ˛as†
	cCBlobGëAªa
 : 
public
 
CO≥ød‹Blob


222 
public
:

223 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

225  
blob
.
	`Aªa
();

227 c⁄° *
	$GëNom
() const

230 
	}
}

235 ˛as†
	cCBlobGëPîimëî
: 
public
 
CO≥ød‹Blob


237 
public
:

238 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

240  
blob
.
	`Pîimëî
();

242 c⁄° *
	$GëNom
() const

245 
	}
}

250 ˛as†
	cCBlobGëExãri‹
: 
public
 
CO≥ød‹Blob


252 
public
:

253 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

255  
blob
.
	`Exãri‹
();

257 c⁄° *
	$GëNom
() const

260 
	}
}

265 ˛as†
	cCBlobGëMón
: 
public
 
CO≥ød‹Blob


267 
public
:

268 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

270  
blob
.
	`Món
();

272 c⁄° *
	$GëNom
() const

275 
	}
}

280 ˛as†
	cCBlobGëStdDev
: 
public
 
CO≥ød‹Blob


282 
public
:

283 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

285  
blob
.
	`StdDev
();

287 c⁄° *
	$GëNom
() const

290 
	}
}

295 ˛as†
	cCBlobGëCom∑˘√ss
: 
public
 
CO≥ød‹Blob


297 
public
:

298 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

299 c⁄° *
	$GëNom
() const

303 
	}
};

307 ˛as†
	cCBlobGëLígth
: 
public
 
CO≥ød‹Blob


309 
public
:

310 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

311 c⁄° *
	$GëNom
() const

315 
	}
};

319 ˛as†
	cCBlobGëBªadth
: 
public
 
CO≥ød‹Blob


321 
public
:

322 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

323 c⁄° *
	$GëNom
() const

327 
	}
};

330 ˛as†
	cCBlobGëDiffX
: 
public
 
CO≥ød‹Blob


332 
public
:

333 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

335  
blob
.
maxx
 - blob.
möx
;

337 c⁄° *
	$GëNom
() const

340 
	}
}

344 ˛as†
	cCBlobGëDiffY
: 
public
 
CO≥ød‹Blob


346 
public
:

347 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

349  
blob
.
maxy
 - blob.
möy
;

351 c⁄° *
	$GëNom
() const

354 
	}
}

359 ˛as†
	cCBlobGëMomít
: 
public
 
CO≥ød‹Blob


361 
public
:

364 
	$CBlobGëMomít
()

366 
m_p
 = 
m_q
 = 0;

370 
	$CBlobGëMomít
–
p
, 
q
 )

372 
m_p
 = 
p
;

373 
m_q
 = 
q
;

374 
	}
};

375 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

376 c⁄° *
	$GëNom
() const

379 
	}
}

381 
	g¥iv©e
:

383 
m_p
, 
	gm_q
;

388 ˛as†
	cCBlobGëHuŒPîimëî
: 
public
 
CO≥ød‹Blob


390 
public
:

391 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

392 c⁄° *
	$GëNom
() const

396 
	}
};

400 ˛as†
	cCBlobGëHuŒAªa
: 
public
 
CO≥ød‹Blob


402 
public
:

403 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

404 c⁄° *
	$GëNom
() const

408 
	}
};

412 ˛as†
	cCBlobGëMöX©MöY
: 
public
 
CO≥ød‹Blob


414 
public
:

415 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

416 c⁄° *
	$GëNom
() const

420 
	}
};

424 ˛as†
	cCBlobGëMöY©MaxX
: 
public
 
CO≥ød‹Blob


426 
public
:

427 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

428 c⁄° *
	$GëNom
() const

432 
	}
};

436 ˛as†
	cCBlobGëMaxX©MaxY
: 
public
 
CO≥ød‹Blob


438 
public
:

439 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

440 c⁄° *
	$GëNom
() const

444 
	}
};

448 ˛as†
	cCBlobGëMaxY©MöX
: 
public
 
CO≥ød‹Blob


450 
public
:

451 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

452 c⁄° *
	$GëNom
() const

456 
	}
};

460 ˛as†
	cCBlobGëMöX
: 
public
 
CO≥ød‹Blob


462 
public
:

463 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

465  
blob
.
	`MöX
();

467 c⁄° *
	$GëNom
() const

470 
	}
}

475 ˛as†
	cCBlobGëMaxX
: 
public
 
CO≥ød‹Blob


477 
public
:

478 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

480  
blob
.
	`MaxX
();

482 c⁄° *
	$GëNom
() const

485 
	}
}

490 ˛as†
	cCBlobGëMöY
: 
public
 
CO≥ød‹Blob


492 
public
:

493 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

495  
blob
.
	`MöY
();

497 c⁄° *
	$GëNom
() const

500 
	}
}

505 ˛as†
	cCBlobGëMaxY
: 
public
 
CO≥ød‹Blob


507 
public
:

508 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

510  
blob
.
	`MaxY
();

512 c⁄° *
	$GëNom
() const

515 
	}
}

521 ˛as†
	cCBlobGëEl⁄g©i⁄
: 
public
 
CO≥ød‹Blob


523 
public
:

524 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

525 c⁄° *
	$GëNom
() const

529 
	}
};

533 ˛as†
	cCBlobGëRough√ss
: 
public
 
CO≥ød‹Blob


535 
public
:

536 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

537 c⁄° *
	$GëNom
() const

541 
	}
};

545 ˛as†
	cCBlobGëDi°™˚FromPoöt
: 
public
 
CO≥ød‹Blob


547 
public
:

549 
	$CBlobGëDi°™˚FromPoöt
()

551 
m_x
 = 
m_y
 = 0.0;

554 
	$CBlobGëDi°™˚FromPoöt
–c⁄° 
x
, c⁄° 
y
 )

556 
m_x
 = 
x
;

557 
m_y
 = 
y
;

558 
	}
}

560 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

561 c⁄° *
	$GëNom
() const

564 
	}
}

566 
	g¥iv©e
:

568 
m_x
, 
	gm_y
;

573 ˛as†
	cCBlobGëExã∫Pîimëî
: 
public
 
CO≥ød‹Blob


575 
public
:

576 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

578  
blob
.
	`Exã∫Pîimëî
();

580 c⁄° *
	$GëNom
() const

583 
	}
}

590 ˛as†
	cCBlobGëExã∫PîimëîR©io
: 
public
 
CO≥ød‹Blob


592 
public
:

593 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

595 if–
blob
.
	`Pîimëî
() != 0 )

596  
blob
.
	`Exã∫Pîimëî
(Ë/ blob.
	`Pîimëî
();

598  
blob
.
	`Exã∫Pîimëî
();

600 c⁄° *
	$GëNom
() const

603 
	}
}

610 ˛as†
	cCBlobGëExã∫HuŒPîimëîR©io
: 
public
 
CO≥ød‹Blob


612 
public
:

613 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

615 
CBlobGëHuŒPîimëî
 
gëHuŒPîimëî
;

616 
huŒPîimëî
;

618 if–(
huŒPîimëî
 = 
	`gëHuŒPîimëî
–
blob
 ) ) != 0 )

619  
blob
.
	`Exã∫Pîimëî
(Ë/ 
huŒPîimëî
;

621  
blob
.
	`Exã∫Pîimëî
();

623 c⁄° *
	$GëNom
() const

626 
	}
}

631 ˛as†
	cCBlobGëXCíãr
: 
public
 
CO≥ød‹Blob


633 
public
:

634 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

636  
blob
.
	`MöX
(Ë+ (–blob.
	`MaxX
() - blob.MinX() ) / 2.0);

638 c⁄° *
	$GëNom
() const

641 
	}
}

646 ˛as†
	cCBlobGëYCíãr
: 
public
 
CO≥ød‹Blob


648 
public
:

649 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

651  
blob
.
	`MöY
(Ë+ (–blob.
	`MaxY
() - blob.MinY() ) / 2.0);

653 c⁄° *
	$GëNom
() const

656 
	}
}

661 ˛as†
	cCBlobGëMaj‹AxisLígth
: 
public
 
CO≥ød‹Blob


663 
public
:

664 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

666 
CvBox2D
 
ñù£
 = 
blob
.
	`GëEŒù£
();

668  
ñù£
.
size
.
width
;

670 c⁄° *
	$GëNom
() const

673 
	}
}

678 ˛as†
	cCBlobGëAªaElù£R©io
: 
public
 
CO≥ød‹Blob


680 
public
:

681 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

683 if–
blob
.
	`Aªa
()==0.0 )  0.0;

685 
CvBox2D
 
ñù£
 = 
blob
.
	`GëEŒù£
();

686 
øtioAªaElù£AªaTaˇ
 = ( (
ñù£
.
size
.
width
/2.0)

688 (
ñù£
.
size
.
height
/2.0)

689 *
CV_PI


692 
blob
.
	`Aªa
();

694  
øtioAªaElù£AªaTaˇ
;

696 c⁄° *
	$GëNom
() const

699 
	}
}

704 ˛as†
	cCBlobGëMö‹AxisLígth
: 
public
 
CO≥ød‹Blob


706 
public
:

707 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

709 
CvBox2D
 
ñù£
 = 
blob
.
	`GëEŒù£
();

711  
ñù£
.
size
.
height
;

713 c⁄° *
	$GëNom
() const

716 
	}
}

721 ˛as†
	cCBlobGëOrõ¡©i⁄
: 
public
 
CO≥ød‹Blob


723 
public
:

724 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

726 
CvBox2D
 
ñù£
 = 
blob
.
	`GëEŒù£
();

728 if–
ñù£
.
™gÀ
 > 180.0 )

729  (–
ñù£
.
™gÀ
 - 180.0 )* 
DEGREE2RAD
);

731  ( 
ñù£
.
™gÀ
 * 
DEGREE2RAD
);

734 c⁄° *
	$GëNom
() const

737 
	}
}

742 ˛as†
	cCBlobGëOrõ¡©i⁄Cos
: 
public
 
CO≥ød‹Blob


744 
public
:

745 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

747 
CBlobGëOrõ¡©i⁄
 
gëOrõ¡©i⁄
;

748  
	`Ábs
–
	`cos
–
	`gëOrõ¡©i⁄
(
blob
) ));

750 c⁄° *
	$GëNom
() const

753 
	}
}

759 ˛as†
	cCBlobGëAxisR©io
: 
public
 
CO≥ød‹Blob


761 
public
:

762 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const

764 
CvBox2D
 
ñù£
 = 
blob
.
	`GëEŒù£
();

766  
ñù£
.
size
.
height
 /Élù£.size.
width
;

768 c⁄° *
	$GëNom
() const

771 
	}
}

777 ˛as†
	cCBlobGëXYInside
: 
public
 
CO≥ød‹Blob


779 
public
:

782 
	$CBlobGëXYInside
()

784 
m_p
 = 
	`cvPoöt
(0,0);

788 
	$CBlobGëXYInside
–
CvPoöt
 
p
 )

790 
m_p
 = 
p
;

791 
	}
};

792 
	$›î©‹
()(c⁄° 
CBlob
 &
blob
) const;

793 c⁄° *
	$GëNom
() const

796 
	}
}

798 
	g¥iv©e
:

801 
CvPoöt
 
m_p
;

	@processors/cameraBlobber/cvblobslib/BlobExtraction.cpp

14 
	#B_CONNECTIVITAT_8


	)

18 
	#IMATGE_CICLICA_VERTICAL
 1

	)

21 
	#IMATGE_CICLICA_HORITZONTAL
 0

	)

23 
	#PERIMETRE_DIAGONAL
 (1.41421356237310 - 2)

	)

24 
	#SQRT2
 1.41421356237310

	)

26 
	#PIXEL_EXTERIOR
 0

	)

29 
	~"BlobResu….h
"

30 
	~"BlobExåa˘i⁄.h
"

53 
boﬁ
 
	$BlobA«lysis
–
I∂Image
* 
öputImage
,

54 
uch¨
 
thªshﬁd
,

55 
I∂Image
* 
maskImage
,

56 
boﬁ
 
b‹dîCﬁ‹
,

57 
boﬁ
 
födmomíts
,

58 
blob_ve˘‹
 &
Regi⁄D©a
 )

61 
Cﬁs
, 
Rows
, 
°¨tCﬁ
, 
°¨tRow
;

63 if–
öputImage
->
roi
 )

65 
CvRe˘
 
imageRoi
 = 
	`cvGëImageROI
–
öputImage
 );

66 
°¨tCﬁ
 = 
imageRoi
.
x
;

67 
°¨tRow
 = 
imageRoi
.
y
;

68 
Cﬁs
 = 
imageRoi
.
width
;

69 
Rows
 = 
imageRoi
.
height
;

73 
°¨tCﬁ
 = 0;

74 
°¨tRow
 = 0;

75 
Cﬁs
 = 
öputImage
->
width
;

76 
Rows
 = 
öputImage
->
height
;

79 
Tøns
 = 
Cﬁs
;

80 * 
pMask
 = 
NULL
;

81 * 
pImage
 = 
NULL
;

85 
iCﬁ
 = 0,
iRow
 = 0,
iTøn
 = 0, 
Tøn
 = 0;

86 
boﬁ
 
ThisCñl
 = 0, 
La°Cñl
 = 0;

87 
Tønsôi⁄Off£t
 = 0;

90 
i
 = 0;

91 *
Tønsôi⁄
 = 0;

93 
nombª_pixñs_masˇø
 = 0;

95 
I∂Image
 *
im©gePîimëªExã∫
 = 
NULL
;

98 if–!
	`CV_IS_IMAGE
–
öputImage
 ) || (öputImage->
nCh™√ls
 != 1) )

100  
Ál£
;

102 if–
maskImage
 !
NULL
 )

105 if–!
	`CV_IS_IMAGE
–
öputImage
 ) || !CV_IS_IMAGE–
maskImage
 ))

106  
Ál£
;

109 if–!(
öputImage
->
width
 =
maskImage
->width && i≈utImage->
height
 == maskImage->height) )

111  
Ál£
;

115 if–
maskImage
->
nCh™√ls
 != 1 )

117  
Ál£
;

123 
Tønsôi⁄
=
√w
 [(
Rows
 + 2)*(
Cﬁs
 + 2)];

124 
	`mem£t
(
Tønsôi⁄
,0,(
Rows
 + 2Ë* (
Cﬁs
 + 2)*());

125 
Tønsôi⁄
[0] = Tønsôi⁄[(
Rows
 + 1Ë* (
Cﬁs
 + 2)] = Cols + 2;

128 
pImage
 = 
öputImage
->
imageD©a
 + 
°¨tCﬁ
 - 1 + 
°¨tRow
 * i≈utImage->
widthSãp
;

134 if(
maskImage
 =
NULL
)

136 
im©gePîimëªExã∫
 = 
NULL
;

139 
iRow
 = 1; iRow < 
Rows
 + 1; iRow++)

141 
Tønsôi⁄Off£t
 = 
iRow
*(
Cﬁs
 + 2);

142 
iTøn
 = 0;

143 
Tøn
 = 0;

144 
La°Cñl
 = 
b‹dîCﬁ‹
;

146 
iCﬁ
 = 0; iCﬁ < 
Cﬁs
 + 2; iCol++)

148 if(
iCﬁ
 =0 || iCﬁ =
Cﬁs
+1)

149 
ThisCñl
 = 
b‹dîCﬁ‹
;

151 
ThisCñl
 = ((Ë*(
pImage
)Ë> 
thªshﬁd
;

153 if(
ThisCñl
 !
La°Cñl
)

155 
Tønsôi⁄
[
Tønsôi⁄Off£t
 + 
iTøn
] = 
Tøn
;

156 
iTøn
++;

157 
La°Cñl
 = 
ThisCñl
;

160 
Tøn
++;

161 
pImage
++;

164 
Tønsôi⁄
[
Tønsôi⁄Off£t
 + 
iTøn
] = 
Tøn
;

165 i‡–(
Tønsôi⁄Off£t
 + 
iTøn
 + 1Ë< (
Rows
 + 1)*(
Cﬁs
 + 2) )

167 
Tønsôi⁄
[
Tønsôi⁄Off£t
 + 
iTøn
 + 1] = -1;

170 
pImage
 = 
öputImage
->
imageD©a
 - 1 + 
°¨tCﬁ
 + (
iRow
+
°¨tRow
)*öputImage->
widthSãp
;

177 
≥rimëî
;

178 *
pPîimëª
;

181 
im©gePîimëªExã∫
 = 
	`cvCª©eImage
–
	`cvSize
(
maskImage
->
width
, maskImage->
height
), 
IPL_DEPTH_8U
, 1);

182 
	`cvSëZîo
–
im©gePîimëªExã∫
 );

184 
pMask
 = 
maskImage
->
imageD©a
 - 1;

187 
iRow
 = 1; iRow < 
Rows
 + 1; iRow++)

189 
Tønsôi⁄Off£t
 = 
iRow
*(
Cﬁs
 + 2);

190 
iTøn
 = 0;

191 
Tøn
 = 0;

192 
La°Cñl
 = 
b‹dîCﬁ‹
;

194 
pPîimëª
 = 
im©gePîimëªExã∫
->
imageD©a
 + (
iRow
 - 1Ë* im©gePîimëªExã∫->
widthSãp
;

197 
iCﬁ
 = 0; iCﬁ < 
Cﬁs
 + 2; iCol++)

199 if(
iCﬁ
 =0 || iCﬁ =
Cﬁs
+1 || ((Ë*
pMask
Ë=
PIXEL_EXTERIOR
)

200 
ThisCñl
 = 
b‹dîCﬁ‹
;

202 
ThisCñl
 = ((Ë*(
pImage
)Ë> 
thªshﬁd
;

204 if(
ThisCñl
 !
La°Cñl
)

206 
Tønsôi⁄
[
Tønsôi⁄Off£t
 + 
iTøn
] = 
Tøn
;

207 
iTøn
++;

208 
La°Cñl
 = 
ThisCñl
;

215 if–(
iCﬁ
 > 0Ë&& (iCﬁ < 
Cﬁs
) )

217 if–*
pMask
 =
PIXEL_EXTERIOR
 )

219 *
pPîimëª
 = 0;

223 
≥rimëî
 = 0;

226 if(
iRow
>1)

228 if–*(
pMask
 - 
maskImage
->
widthSãp
 ) =
PIXEL_EXTERIOR
Ë
≥rimëî
++;

232 if–
iRow
 < 
im©gePîimëªExã∫
->
height
 )

234 if–(
iCﬁ
>0Ë&& (*(
pMask
-1Ë=
PIXEL_EXTERIOR
ËË
≥rimëî
++;

236 if––
iCﬁ
 < 
im©gePîimëªExã∫
->
width
 - 1Ë&& (*(
pMask
+1Ë=
PIXEL_EXTERIOR
ËË
≥rimëî
++;

240 if–
iRow
 < 
im©gePîimëªExã∫
->
height
 - 1)

242 if–(*(
pMask
+
maskImage
->
widthSãp
Ë=
PIXEL_EXTERIOR
ËË
≥rimëî
++;

245 *
pPîimëª
 = 
≥rimëî
;

249 
Tøn
++;

250 
pImage
++;

251 
pMask
++;

252 
pPîimëª
++;

254 
Tønsôi⁄
[
Tønsôi⁄Off£t
 + 
iTøn
] = 
Tøn
;

256 i‡–(
Tønsôi⁄Off£t
 + 
iTøn
 + 1Ë< (
Rows
 + 1)*(
Cﬁs
 + 2) )

258 
Tønsôi⁄
[
Tønsôi⁄Off£t
 + 
iTøn
 + 1] = -1;

263 
pImage
 = 
öputImage
->
imageD©a
 - 1 + 
°¨tCﬁ
 + (
iRow
+
°¨tRow
)*öputImage->
widthSãp
;

265 
pMask
 = 
maskImage
->
imageD©a
 - 1 + 
iRow
*maskImage->
widthSãp
;

326 *
SubsumedRegi⁄
 = 
NULL
;

328 
ThisP¨ít
 = 0;

329 
ThisAªa
 = 0;

330 
ThisPîimëî
 = 0;

331 
ThisSumX
 = 0;

332 
ThisSumY
 = 0;

333 
ThisSumXX
 = 0;

334 
ThisSumYY
 = 0;

335 
ThisSumXY
 = 0;

336 
ThisMöX
 = 0;

337 
ThisMaxX
 = 0;

338 
ThisMöY
 = 0;

339 
ThisMaxY
 = 0;

340 
La°Pîimëî
 = 0;

341 
ThisExã∫Pîimëî
 = 0;

343 
HighRegi⁄Num
 = 0;

344 
Eº‹Fœg
 = 0;

346 
La°Row
 = 0, 
ThisRow
 = 0;

347 
La°Sèπ
 = 0, 
ThisSèπ
 = 0;

348 
La°End
 = 0, 
ThisEnd
 = 0;

349 
La°Cﬁ‹
 = 0, 
ThisCﬁ‹
 = 0;

351 
La°Index
 = 0, 
ThisIndex
 = 0;

352 
La°IndexCou¡
 = 0, 
ThisIndexCou¡
 = 0;

353 
La°Regi⁄Num
 = 0, 
ThisRegi⁄Num
 = 0;

354 *
La°Regi⁄
 = 
NULL
;

355 *
ThisRegi⁄
 = 
NULL
;

357 
La°Off£t
 = -(
Tøns
 + 2);

358 
ThisOff£t
 = 0;

359 
CompuãD©a
 = 0;

361 
CvPoöt
 
a˘uÆedge
;

362 
uch¨
 
imagevÆue
;

363 
boﬁ
 
C™did©Exãri‹
 = 
Ál£
;

366 
CBlob
 *
ªgi⁄D©aThisRegi⁄
, *
ªgi⁄D©aLa°Regi⁄
;

368 
La°Regi⁄
=
√w
 [
Cﬁs
+2];

369 
ThisRegi⁄
=
√w
 [
Cﬁs
+2];

371 
i
 = 0; i < 
Cﬁs
 + 2; i++)

373 
La°Regi⁄
[
i
] = -1;

374 
ThisRegi⁄
[
i
] = -1;

378 
Regi⁄D©a
.
	`push_back
–
√w
 
	`CBlob
() );

379 
SubsumedRegi⁄
 = 
	`NewSubsume
(SubsumedRegion,0);

380 
Regi⁄D©a
[0]->
∑ª¡
 = -1;

381 
Regi⁄D©a
[0]->
¨ó
 = (Ë
Tønsôi⁄
[0];

382 
Regi⁄D©a
[0]->
≥rimëî
 = (Ë(2 + 2 * 
Tønsôi⁄
[0]);

384 
ThisIndexCou¡
 = 1;

385 
ThisRegi⁄
[0] = 0;

389 
pImage
 = 
öputImage
->
imageD©a
 - 1 + 
°¨tCﬁ
 + 
°¨tRow
 * i≈utImage->
widthSãp
;

391 if(
maskImage
!=
NULL
Ë
pMask
 = maskImage->
imageD©a
 - 1;

393 *
pImageAux
 = 
NULL
, *
pMaskAux
 = NULL;

396 
ThisRow
 = 1; ThisRow < 
Rows
 + 2; ThisRow++)

399 
ThisOff£t
 +
Tøns
 + 2;

400 
ThisIndex
 = 0;

401 
La°Off£t
 +
Tøns
 + 2;;

402 
La°Row
 = 
ThisRow
 - 1;

403 
La°IndexCou¡
 = 
ThisIndexCou¡
;

404 
La°Index
 = 0;

406 
EndLa°
 = 0;

407 
EndThis
 = 0;

409 
j
 = 0; j < 
Tøns
 + 2; j++)

411 
Index
 = 
ThisOff£t
 + 
j
;

412 
TønVÆ
 = 
Tønsôi⁄
[
Index
];

413 if(
TønVÆ
 > 0Ë
ThisIndexCou¡
 = 
j
 + 1;

415 if(
ThisRegi⁄
[
j
] =-1Ë{ 
EndLa°
 = 1; }

416 if(
TønVÆ
 < 0Ë{ 
EndThis
 = 1; }

418 if(
EndLa°
 > 0 && 
EndThis
 > 0) { ; }

420 
La°Regi⁄
[
j
] = 
ThisRegi⁄
[j];

421 
ThisRegi⁄
[
j
] = -1;

424 
MaxIndexCou¡
 = 
La°IndexCou¡
;

425 if(
ThisIndexCou¡
 > 
MaxIndexCou¡
) MaxIndexCount = ThisIndexCount;

428 
La°Index
 < 
La°IndexCou¡
 && 
ThisIndex
 < 
ThisIndexCou¡
)

430 
CompuãD©a
 = 0;

432 if(
La°Index
 =0Ë
La°Sèπ
 = 0;

433 
La°Sèπ
 = 
Tønsôi⁄
[
La°Off£t
 + 
La°Index
 - 1];

434 
La°End
 = 
Tønsôi⁄
[
La°Off£t
 + 
La°Index
] - 1;

435 
La°Cﬁ‹
 = 
La°Index
 - 2 * (LastIndex / 2);

436 
La°Regi⁄Num
 = 
La°Regi⁄
[
La°Index
];

438 
ªgi⁄D©aLa°Regi⁄
 = 
Regi⁄D©a
[
La°Regi⁄Num
];

441 if(
ThisIndex
 =0Ë
ThisSèπ
 = 0;

442 
ThisSèπ
 = 
Tønsôi⁄
[
ThisOff£t
 + 
ThisIndex
 - 1];

443 
ThisEnd
 = 
Tønsôi⁄
[
ThisOff£t
 + 
ThisIndex
] - 1;

444 
ThisCﬁ‹
 = 
ThisIndex
 - 2 * (ThisIndex / 2);

445 
ThisRegi⁄Num
 = 
ThisRegi⁄
[
ThisIndex
];

447 if–
ThisRegi⁄Num
 >= 0 )

448 
ªgi⁄D©aThisRegi⁄
 = 
Regi⁄D©a
[
ThisRegi⁄Num
];

450 
ªgi⁄D©aThisRegi⁄
 = 
NULL
;

454 
C™did©Exãri‹
 = 
Ál£
;

456 #i‡!
IMATGE_CICLICA_VERTICAL


457 
ThisRow
 =1 || ThisRow =
Rows
 ||

459 #i‡!
IMATGE_CICLICA_HORITZONTAL


460 
ThisSèπ
 <1 || 
ThisEnd
 >
Cﬁs
 ||

462 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
, 
öputImage
->
width
, i≈utImage->
height
, 
im©gePîimëªExã∫
 )

465 
C™did©Exãri‹
 = 
åue
;

468 
Te°A
 = (
La°End
 < 
ThisSèπ
 - 1);

469 
Te°B
 = (
ThisEnd
 < 
La°Sèπ
);

470 
Te°C
 = (
La°Sèπ
 < 
ThisSèπ
);

471 
Te°D
 = (
ThisEnd
 < 
La°End
);

472 
Te°E
 = (
ThisEnd
 =
La°End
);

474 
Te°M©ch
 = (
ThisCﬁ‹
 =
La°Cﬁ‹
);

475 
Te°Known
 = (
ThisRegi⁄
[
ThisIndex
] >= 0);

477 
Ca£
 = 0;

478 if(
Te°A
Ë
Ca£
 = 1;

479 if(
Te°B
Ë
Ca£
 = 8;

480 if(
Te°C
)

482 if(
Te°D
Ë
Ca£
 = 3;

483 if(!
Te°E
Ë
Ca£
 = 2;

484 
Ca£
 = 4;

488 if(
Te°E
Ë
Ca£
 = 5;

489 if(
Te°D
Ë
Ca£
 = 7;

490 
Ca£
 = 6;

494 
ThisAªa
 = () 0.0;

496 if(
födmomíts
)

498 
ThisSumX
 = 
ThisSumY
 = () 0.0;

499 
ThisSumXX
 = 
ThisSumYY
 = 
ThisSumXY
 = () 0.0;

501 
ThisMöX
 = 
ThisMöY
 = () 1000000.0;

502 
ThisMaxX
 = 
ThisMaxY
 = () -1.0;

504 
La°Pîimëî
 = 
ThisPîimëî
 = () 0.0;

505 
ThisP¨ít
 = () -1;

506 
ThisExã∫Pîimëî
 = 0.0;

509 
Ca£
)

514 
ThisRegi⁄
[
ThisIndex
] = 
ThisRegi⁄Num
;

515 
La°Regi⁄
[
La°Index
] = 
La°Regi⁄Num
;

516 
La°Index
++;

519 
a˘uÆedge
.
x
 = 
ThisEnd
;

520 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

521 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

524 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

525 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

526 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

534 if(
Te°M©ch
)

536 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

537 
ªgi⁄D©aThisRegi⁄
 = 
ªgi⁄D©aLa°Regi⁄
;

539 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

540 
La°Pîimëî
 = 
La°End
 - 
ThisSèπ
 + 1;

541 
ThisPîimëî
 = 2 + 2 * 
ThisAªa
 - 
La°Pîimëî
 +

542 
PERIMETRE_DIAGONAL
*2;

544 if–
C™did©Exãri‹
 )

546 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

547 
öputImage
->
width
, i≈utImage->
height
,

548 
im©gePîimëªExã∫
 );

549 
ThisExã∫Pîimëî
 +
PERIMETRE_DIAGONAL
*2;

551 
CompuãD©a
 = 1;

555 if(
ThisRegi⁄Num
!=-1)

558 if(
ThisSèπ
 - 1 !
ThisEnd
)

560 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

561 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

562 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

564 
a˘uÆedge
.
x
 = 
ThisEnd
;

565 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

566 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

569 if(
La°Regi⁄Num
!=-1 && La°Regi⁄Num !
ThisRegi⁄Num
 )

572 if(
ThisSèπ
 - 1 !
ThisEnd
)

574 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

575 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

576 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

580 
ThisRegi⁄
[
ThisIndex
] = 
ThisRegi⁄Num
;

581 
La°Regi⁄
[
La°Index
] = 
La°Regi⁄Num
;

582 
La°Index
++;

589 if(
Te°M©ch
)

591 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

592 
ªgi⁄D©aThisRegi⁄
 = 
ªgi⁄D©aLa°Regi⁄
;

594 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

595 
La°Pîimëî
 = 
ThisAªa
;

596 
ThisPîimëî
 = 2 + 
ThisAªa
 + 
PERIMETRE_DIAGONAL
*2;

597 if–
C™did©Exãri‹
 )

599 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

600 
öputImage
->
width
, i≈utImage->
height
,

601 
im©gePîimëªExã∫
 );

603 
ThisExã∫Pîimëî
 +
PERIMETRE_DIAGONAL
 * 2;

608 
ThisP¨ít
 = 
La°Regi⁄Num
;

609 
ThisRegi⁄Num
 = ++
HighRegi⁄Num
;

610 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

611 
ThisPîimëî
 = 2 + 2 * 
ThisAªa
;

612 
Regi⁄D©a
.
	`push_back
–
√w
 
	`CBlob
() );

613 
ªgi⁄D©aThisRegi⁄
 = 
Regi⁄D©a
.
	`back
();

615 
SubsumedRegi⁄
 = 
	`NewSubsume
(SubsumedRegi⁄,
HighRegi⁄Num
);

616 if–
C™did©Exãri‹
 )

617 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

618 
öputImage
->
width
, i≈utImage->
height
,

619 
im©gePîimëªExã∫
 );

623 if(
ThisRegi⁄Num
!=-1)

626 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

627 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

628 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

630 
a˘uÆedge
.
x
 = 
ThisEnd
;

631 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

632 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

635 if(!
Te°M©ch
 && 
La°Regi⁄Num
!=-1 && La°Regi⁄Num !
ThisRegi⁄Num
 )

638 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

639 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

640 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

642 
a˘uÆedge
.
x
 = 
ThisEnd
;

643 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

644 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

647 
ThisRegi⁄
[
ThisIndex
] = 
ThisRegi⁄Num
;

648 
La°Regi⁄
[
La°Index
] = 
La°Regi⁄Num
;

649 
CompuãD©a
 = 1;

650 
ThisIndex
++;

657 if(
Te°M©ch
)

659 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

660 
ªgi⁄D©aThisRegi⁄
 = 
ªgi⁄D©aLa°Regi⁄
;

661 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

662 
La°Pîimëî
 = 
ThisAªa
;

663 
ThisPîimëî
 = 2 + 
ThisAªa
 + 
PERIMETRE_DIAGONAL
;

664 if–
C™did©Exãri‹
 )

666 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

667 
öputImage
->
width
, i≈utImage->
height
,

668 
im©gePîimëªExã∫
 );

670 
ThisExã∫Pîimëî
 +
PERIMETRE_DIAGONAL
;

675 
ThisP¨ít
 = 
La°Regi⁄Num
;

676 
ThisRegi⁄Num
 = ++
HighRegi⁄Num
;

677 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

678 
ThisPîimëî
 = 2 + 2 * 
ThisAªa
;

679 
Regi⁄D©a
.
	`push_back
–
√w
 
	`CBlob
() );

680 
ªgi⁄D©aThisRegi⁄
 = 
Regi⁄D©a
.
	`back
();

681 
SubsumedRegi⁄
 = 
	`NewSubsume
(SubsumedRegi⁄,
HighRegi⁄Num
);

682 if–
C™did©Exãri‹
 )

683 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

684 
öputImage
->
width
, i≈utImage->
height
,

685 
im©gePîimëªExã∫
 );

689 if(
ThisRegi⁄Num
!=-1)

692 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

693 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

694 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

695 
a˘uÆedge
.
x
 = 
ThisEnd
;

696 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

697 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

700 if(!
Te°M©ch
 && 
La°Regi⁄Num
!=-1 && La°Regi⁄Num !
ThisRegi⁄Num
 )

702 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

703 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

704 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

705 
a˘uÆedge
.
x
 = 
ThisEnd
;

706 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

707 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

710 
ThisRegi⁄
[
ThisIndex
] = 
ThisRegi⁄Num
;

711 
La°Regi⁄
[
La°Index
] = 
La°Regi⁄Num
;

712 
CompuãD©a
 = 1;

714 #ifde‡
B_CONNECTIVITAT_8


715 if–
Te°M©ch
 )

717 
La°Index
++;

718 
ThisIndex
++;

722 
La°Index
++;

725 
La°Index
++;

726 
ThisIndex
++;

734 if(!
Te°M©ch
 && !
Te°Known
)

736 
ThisP¨ít
 = 
La°Regi⁄Num
;

737 
ThisRegi⁄Num
 = ++
HighRegi⁄Num
;

738 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

739 
ThisPîimëî
 = 2 + 2 * 
ThisAªa
;

740 
Regi⁄D©a
.
	`push_back
–
√w
 
	`CBlob
() );

741 
ªgi⁄D©aThisRegi⁄
 = 
Regi⁄D©a
.
	`back
();

742 
SubsumedRegi⁄
 = 
	`NewSubsume
(SubsumedRegi⁄,
HighRegi⁄Num
);

743 if–
C™did©Exãri‹
 )

744 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

745 
öputImage
->
width
, i≈utImage->
height
,

746 
im©gePîimëªExã∫
 );

749 if(
Te°M©ch
 && !
Te°Known
)

751 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

752 
ªgi⁄D©aThisRegi⁄
 = 
ªgi⁄D©aLa°Regi⁄
;

753 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

754 
La°Pîimëî
 = 
La°End
 - 
La°Sèπ
 + 1;

755 
ThisPîimëî
 = 2 + 2 * 
ThisAªa
 - 
La°Pîimëî


756 + 
PERIMETRE_DIAGONAL
 * (
La°Sèπ
 !
ThisSèπ
);

757 if–
C™did©Exãri‹
 )

759 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

760 
öputImage
->
width
, i≈utImage->
height
,

761 
im©gePîimëªExã∫
 );

764 
ThisExã∫Pîimëî
 +
PERIMETRE_DIAGONAL
 * (
La°Sèπ
 !
ThisSèπ
);

766 
CompuãD©a
 = 1;

768 if(
Te°M©ch
 && 
Te°Known
)

770 
La°Pîimëî
 = 
La°End
 - 
La°Sèπ
 + 1;

772 
ThisPîimëî
 = - 2 * 
La°Pîimëî


773 + 
PERIMETRE_DIAGONAL
 * (
La°Sèπ
 !
ThisSèπ
);

775 if(
ThisRegi⁄Num
 > 
La°Regi⁄Num
)

777 
	`Subsume
(
Regi⁄D©a
, 
HighRegi⁄Num
, 
SubsumedRegi⁄
, 
ªgi⁄D©aThisRegi⁄
, 
ªgi⁄D©aLa°Regi⁄
,

778 
födmomíts
, 
ThisRegi⁄Num
, 
La°Regi⁄Num
 );

779 
iOld
 = 0; iOld < 
MaxIndexCou¡
; iOld++)

781 if(
ThisRegi⁄
[
iOld
] =
ThisRegi⁄Num
ËThisRegi⁄[iOld] = 
La°Regi⁄Num
;

782 if(
La°Regi⁄
[
iOld
] =
ThisRegi⁄Num
ËLa°Regi⁄[iOld] = 
La°Regi⁄Num
;

784 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

786 if(
ThisRegi⁄Num
 < 
La°Regi⁄Num
)

788 
	`Subsume
(
Regi⁄D©a
, 
HighRegi⁄Num
, 
SubsumedRegi⁄
, 
ªgi⁄D©aLa°Regi⁄
, 
ªgi⁄D©aThisRegi⁄
,

789 
födmomíts
, 
La°Regi⁄Num
, 
ThisRegi⁄Num
 );

791 
iOld
 = 0; iOld < 
MaxIndexCou¡
; iOld++)

793 if(
ThisRegi⁄
[
iOld
] =
La°Regi⁄Num
ËThisRegi⁄[iOld] = 
ThisRegi⁄Num
;

794 if(
La°Regi⁄
[
iOld
] =
La°Regi⁄Num
ËLa°Regi⁄[iOld] = 
ThisRegi⁄Num
;

796 
La°Regi⁄Num
 = 
ThisRegi⁄Num
;

801 if(
ThisRegi⁄Num
!=-1)

803 
a˘uÆedge
.
x
 = 
ThisEnd
;

804 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

805 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

807 if–
ThisSèπ
 - 1 !
La°End
 )

810 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

811 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

812 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

816 if(!
Te°M©ch
 && 
La°Regi⁄Num
!=-1 && La°Regi⁄Num !
ThisRegi⁄Num
 )

818 
a˘uÆedge
.
x
 = 
ThisEnd
;

819 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

820 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

823 
ThisRegi⁄
[
ThisIndex
] = 
ThisRegi⁄Num
;

824 
La°Regi⁄
[
La°Index
] = 
La°Regi⁄Num
;

826 #ifde‡
B_CONNECTIVITAT_8


827 if–
Te°M©ch
 )

829 
La°Index
++;

830 
ThisIndex
++;

834 
La°Index
++;

837 
La°Index
++;

838 
ThisIndex
++;

846 if(
Te°M©ch
 && !
Te°Known
)

848 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

849 
ªgi⁄D©aThisRegi⁄
 = 
ªgi⁄D©aLa°Regi⁄
;

850 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

851 
La°Pîimëî
 = 
La°End
 - 
La°Sèπ
 + 1;

852 
ThisPîimëî
 = 2 + 2 * 
ThisAªa
 - 
La°Pîimëî


853 + 
PERIMETRE_DIAGONAL
 + PERIMETRE_DIAGONAL * (
ThisSèπ
!=
La°Sèπ
);

854 if–
C™did©Exãri‹
 )

856 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

857 
öputImage
->
width
, i≈utImage->
height
,

858 
im©gePîimëªExã∫
 );

861 
ThisExã∫Pîimëî
 +
PERIMETRE_DIAGONAL
 + PERIMETRE_DIAGONAL * (
ThisSèπ
!=
La°Sèπ
);

863 
CompuãD©a
 = 1;

865 if(
Te°M©ch
 && 
Te°Known
)

867 
La°Pîimëî
 = 
La°End
 - 
La°Sèπ
 + 1;

869 
ThisPîimëî
 = - 2 * 
La°Pîimëî


870 + 
PERIMETRE_DIAGONAL
 + PERIMETRE_DIAGONAL * (
ThisSèπ
!=
La°Sèπ
);

872 if(
ThisRegi⁄Num
 > 
La°Regi⁄Num
)

874 
	`Subsume
(
Regi⁄D©a
, 
HighRegi⁄Num
, 
SubsumedRegi⁄
, 
ªgi⁄D©aThisRegi⁄
, 
ªgi⁄D©aLa°Regi⁄
,

875 
födmomíts
, 
ThisRegi⁄Num
, 
La°Regi⁄Num
 );

876 
iOld
 = 0; iOld < 
MaxIndexCou¡
; iOld++)

878 if(
ThisRegi⁄
[
iOld
] =
ThisRegi⁄Num
ËThisRegi⁄[iOld] = 
La°Regi⁄Num
;

879 if(
La°Regi⁄
[
iOld
] =
ThisRegi⁄Num
ËLa°Regi⁄[iOld] = 
La°Regi⁄Num
;

881 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

883 if(
ThisRegi⁄Num
 < 
La°Regi⁄Num
)

885 
	`Subsume
(
Regi⁄D©a
, 
HighRegi⁄Num
, 
SubsumedRegi⁄
, 
ªgi⁄D©aLa°Regi⁄
, 
ªgi⁄D©aThisRegi⁄
,

886 
födmomíts
, 
La°Regi⁄Num
, 
ThisRegi⁄Num
 );

887 
iOld
 = 0; iOld < 
MaxIndexCou¡
; iOld++)

889 if(
ThisRegi⁄
[
iOld
] =
La°Regi⁄Num
ËThisRegi⁄[iOld] = 
ThisRegi⁄Num
;

890 if(
La°Regi⁄
[
iOld
] =
La°Regi⁄Num
ËLa°Regi⁄[iOld] = 
ThisRegi⁄Num
;

892 
La°Regi⁄Num
 = 
ThisRegi⁄Num
;

897 if(
ThisRegi⁄Num
!=-1)

900 
a˘uÆedge
.
x
 = 
ThisEnd
;

901 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

902 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

903 if–
ThisSèπ
 - 1 !
La°End
 )

905 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

906 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

907 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

911 if(!
Te°M©ch
 && 
La°Regi⁄Num
!=-1 && La°Regi⁄Num !
ThisRegi⁄Num
 )

914 if–
ThisSèπ
 - 1 !
La°End
 )

916 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

917 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

918 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

922 
ThisRegi⁄
[
ThisIndex
] = 
ThisRegi⁄Num
;

923 
La°Regi⁄
[
La°Index
] = 
La°Regi⁄Num
;

924 
La°Index
++;

931 if(!
Te°M©ch
 && !
Te°Known
)

933 
ThisP¨ít
 = 
La°Regi⁄Num
;

934 
ThisRegi⁄Num
 = ++
HighRegi⁄Num
;

935 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

936 
ThisPîimëî
 = 2 + 2 * 
ThisAªa
;

937 
Regi⁄D©a
.
	`push_back
–
√w
 
	`CBlob
() );

938 
ªgi⁄D©aThisRegi⁄
 = 
Regi⁄D©a
.
	`back
();

939 
SubsumedRegi⁄
 = 
	`NewSubsume
(SubsumedRegi⁄,
HighRegi⁄Num
);

940 if–
C™did©Exãri‹
 )

941 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

942 
öputImage
->
width
, i≈utImage->
height
,

943 
im©gePîimëªExã∫
 );

946 if(
Te°M©ch
 && !
Te°Known
)

948 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

949 
ªgi⁄D©aThisRegi⁄
 = 
ªgi⁄D©aLa°Regi⁄
;

950 
ThisAªa
 = 
ThisEnd
 - 
ThisSèπ
 + 1;

951 
ThisPîimëî
 = 2 + 
ThisAªa
;

952 
La°Pîimëî
 = 
ThisEnd
 - 
La°Sèπ
 + 1;

953 
ThisPîimëî
 = 2 + 2 * 
ThisAªa
 - 
La°Pîimëî


954 + 
PERIMETRE_DIAGONAL
 + PERIMETRE_DIAGONAL * (
ThisSèπ
!=
La°Sèπ
);

955 if–
C™did©Exãri‹
 )

957 
ThisExã∫Pîimëî
 = 
	`GëExã∫Pîimëî
–
ThisSèπ
, 
ThisEnd
, 
ThisRow
,

958 
öputImage
->
width
, i≈utImage->
height
,

959 
im©gePîimëªExã∫
 );

961 
ThisExã∫Pîimëî
 +
PERIMETRE_DIAGONAL
 + PERIMETRE_DIAGONAL * (
ThisSèπ
!=
La°Sèπ
);

963 
CompuãD©a
 = 1;

965 if(
Te°M©ch
 && 
Te°Known
)

967 
La°Pîimëî
 = 
ThisEnd
 - 
La°Sèπ
 + 1;

969 
ThisPîimëî
 = - 2 * 
La°Pîimëî


970 + 
PERIMETRE_DIAGONAL
 + PERIMETRE_DIAGONAL * (
ThisSèπ
!=
La°Sèπ
);

972 if(
ThisRegi⁄Num
 > 
La°Regi⁄Num
)

974 
	`Subsume
(
Regi⁄D©a
, 
HighRegi⁄Num
, 
SubsumedRegi⁄
, 
ªgi⁄D©aThisRegi⁄
, 
ªgi⁄D©aLa°Regi⁄
,

975 
födmomíts
, 
ThisRegi⁄Num
, 
La°Regi⁄Num
 );

976 
iOld
 = 0; iOld < 
MaxIndexCou¡
; iOld++)

978 if(
ThisRegi⁄
[
iOld
] =
ThisRegi⁄Num
ËThisRegi⁄[iOld] = 
La°Regi⁄Num
;

979 if(
La°Regi⁄
[
iOld
] =
ThisRegi⁄Num
ËLa°Regi⁄[iOld] = 
La°Regi⁄Num
;

981 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

983 if(
ThisRegi⁄Num
 < 
La°Regi⁄Num
)

985 
	`Subsume
(
Regi⁄D©a
, 
HighRegi⁄Num
, 
SubsumedRegi⁄
, 
ªgi⁄D©aLa°Regi⁄
, 
ªgi⁄D©aThisRegi⁄
,

986 
födmomíts
, 
La°Regi⁄Num
, 
ThisRegi⁄Num
 );

987 
iOld
 = 0; iOld < 
MaxIndexCou¡
; iOld++)

989 if(
ThisRegi⁄
[
iOld
] =
La°Regi⁄Num
ËThisRegi⁄[iOld] = 
ThisRegi⁄Num
;

990 if(
La°Regi⁄
[
iOld
] =
La°Regi⁄Num
ËLa°Regi⁄[iOld] = 
ThisRegi⁄Num
;

992 
La°Regi⁄Num
 = 
ThisRegi⁄Num
;

996 if(
ThisRegi⁄Num
!=-1)

999 
a˘uÆedge
.
x
 = 
ThisEnd
;

1000 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

1001 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

1002 if–
ThisSèπ
 - 1 !
La°End
 )

1004 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

1005 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

1006 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

1010 if(!
Te°M©ch
 && 
La°Regi⁄Num
!=-1 && La°Regi⁄Num !
ThisRegi⁄Num
 )

1013 
a˘uÆedge
.
x
 = 
ThisEnd
;

1014 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

1015 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

1016 if–
ThisSèπ
 - 1 !
La°End
 )

1018 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

1019 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

1020 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

1024 
ThisRegi⁄
[
ThisIndex
] = 
ThisRegi⁄Num
;

1025 
La°Regi⁄
[
La°Index
] = 
La°Regi⁄Num
;

1026 
ThisIndex
++;

1032 #ifde‡
B_CONNECTIVITAT_8


1034 if–
Te°M©ch
 )

1036 if(
ThisRegi⁄Num
 > 
La°Regi⁄Num
)

1038 
	`Subsume
(
Regi⁄D©a
, 
HighRegi⁄Num
, 
SubsumedRegi⁄
, 
ªgi⁄D©aThisRegi⁄
, 
ªgi⁄D©aLa°Regi⁄
,

1039 
födmomíts
, 
ThisRegi⁄Num
, 
La°Regi⁄Num
 );

1040 
iOld
 = 0; iOld < 
MaxIndexCou¡
; iOld++)

1042 if(
ThisRegi⁄
[
iOld
] =
ThisRegi⁄Num
ËThisRegi⁄[iOld] = 
La°Regi⁄Num
;

1043 if(
La°Regi⁄
[
iOld
] =
ThisRegi⁄Num
ËLa°Regi⁄[iOld] = 
La°Regi⁄Num
;

1045 
ThisRegi⁄Num
 = 
La°Regi⁄Num
;

1047 if(
ThisRegi⁄Num
 < 
La°Regi⁄Num
)

1049 
	`Subsume
(
Regi⁄D©a
, 
HighRegi⁄Num
, 
SubsumedRegi⁄
, 
ªgi⁄D©aLa°Regi⁄
, 
ªgi⁄D©aThisRegi⁄
,

1050 
födmomíts
, 
La°Regi⁄Num
, 
ThisRegi⁄Num
 );

1051 
iOld
 = 0; iOld < 
MaxIndexCou¡
; iOld++)

1053 if(
ThisRegi⁄
[
iOld
] =
La°Regi⁄Num
ËThisRegi⁄[iOld] = 
ThisRegi⁄Num
;

1054 if(
La°Regi⁄
[
iOld
] =
La°Regi⁄Num
ËLa°Regi⁄[iOld] = 
ThisRegi⁄Num
;

1056 
La°Regi⁄Num
 = 
ThisRegi⁄Num
;

1059 
ªgi⁄D©aThisRegi⁄
->
≥rimëî
 =Ñegi⁄D©aThisRegi⁄->≥rimëî + 
PERIMETRE_DIAGONAL
*2;

1063 if(
ThisRegi⁄Num
!=-1)

1066 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

1067 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

1068 
	`cvSeqPush
(
ªgi⁄D©aThisRegi⁄
->
edges
,&
a˘uÆedge
);

1070 #ifde‡
B_CONNECTIVITAT_8


1072 if(!
Te°M©ch
 && 
La°Regi⁄Num
!=-1 && La°Regi⁄Num !
ThisRegi⁄Num
 )

1076 
a˘uÆedge
.
x
 = 
ThisSèπ
 - 1;

1077 
a˘uÆedge
.
y
 = 
ThisRow
 - 1;

1078 
	`cvSeqPush
(
ªgi⁄D©aLa°Regi⁄
->
edges
,&
a˘uÆedge
);

1079 #ifde‡
B_CONNECTIVITAT_8


1083 
ThisRegi⁄
[
ThisIndex
] = 
ThisRegi⁄Num
;

1084 
La°Regi⁄
[
La°Index
] = 
La°Regi⁄Num
;

1085 
ThisIndex
++;

1086 #ifde‡
B_CONNECTIVITAT_8


1087 
La°Index
--;

1092 
Eº‹Fœg
 = -1;

1096 if(
CompuãD©a
 > 0)

1099 if(
födmomíts
)

1101 
ImageRow
 = (Ë(
ThisRow
 - 1);

1103 
k
 = 
ThisSèπ
; k <
ThisEnd
; k++)

1105 
ThisSumX
 +(Ë(
k
 - 1);

1106 
ThisSumXX
 +(Ë(
k
 - 1) * (k - 1);

1109 
ThisSumXY
 = 
ThisSumX
 * 
ImageRow
;

1110 
ThisSumY
 = 
ThisAªa
 * 
ImageRow
;

1111 
ThisSumYY
 = 
ThisSumY
 * 
ImageRow
;

1116 if(
ThisRow
 <
Rows
 )

1118 
pImageAux
 = 
pImage
 + 
ThisSèπ
;

1119 if(
maskImage
!=
NULL
Ë
pMaskAux
 = 
pMask
 + 
ThisSèπ
;

1120 
k
 = 
ThisSèπ
; k <
ThisEnd
; k++)

1122 if((
k
>0Ë&& (k <
Cﬁs
))

1124 if–
maskImage
!
NULL
)

1129 if–((Ë*
pMaskAux
Ë!
PIXEL_EXTERIOR
 )

1131 
imagevÆue
 = (Ë(*
pImageAux
);

1132 
ªgi⁄D©aThisRegi⁄
->
món
+=
imagevÆue
;

1133 
ªgi⁄D©aThisRegi⁄
->
°ddev
+=
imagevÆue
*imagevalue;

1137 
nombª_pixñs_masˇø
++;

1142 
imagevÆue
 = (Ë(*
pImageAux
);

1143 
ªgi⁄D©aThisRegi⁄
->
món
+=
imagevÆue
;

1144 
ªgi⁄D©aThisRegi⁄
->
°ddev
+=
imagevÆue
*imagevalue;

1148 
pImageAux
++;

1149 if(
maskImage
!=
NULL
Ë
pMaskAux
++;

1154 if(
ThisSèπ
 - 1 < (Ë
ThisMöX
) ThisMinX = () (ThisStart - 1);

1155 if(
ThisMöX
 < () 0.0) ThisMinX = () 0.0;

1156 if(
ThisEnd
 > (Ë
ThisMaxX
) ThisMaxX = () ThisEnd;

1158 if(
ThisRow
 - 1 < 
ThisMöY
) ThisMinY = ThisRow - 1;

1159 if(
ThisMöY
 < () 0.0) ThisMinY = () 0.0;

1160 if(
ThisRow
 > 
ThisMaxY
) ThisMaxY = ThisRow;

1164 if(
ThisRegi⁄Num
 >= 0)

1166 if(
ThisP¨ít
 >0Ë{ 
ªgi⁄D©aThisRegi⁄
->
∑ª¡
 = () ThisParent; }

1167 
ªgi⁄D©aThisRegi⁄
->
ëiquëa
 = 
ThisRegi⁄Num
;

1168 
ªgi⁄D©aThisRegi⁄
->
¨ó
 +
ThisAªa
;

1169 
ªgi⁄D©aThisRegi⁄
->
≥rimëî
 +
ThisPîimëî
;

1170 
ªgi⁄D©aThisRegi⁄
->
exã∫Pîimëî
 +
ThisExã∫Pîimëî
;

1172 if(
CompuãD©a
 > 0)

1174 if(
födmomíts
)

1176 
ªgi⁄D©aThisRegi⁄
->
sumx
 +
ThisSumX
;

1177 
ªgi⁄D©aThisRegi⁄
->
sumy
 +
ThisSumY
;

1178 
ªgi⁄D©aThisRegi⁄
->
sumxx
 +
ThisSumXX
;

1179 
ªgi⁄D©aThisRegi⁄
->
sumyy
 +
ThisSumYY
;

1180 
ªgi⁄D©aThisRegi⁄
->
sumxy
 +
ThisSumXY
;

1182 
ªgi⁄D©aThisRegi⁄
->
≥rimëî
 -
La°Pîimëî
;

1183 
ªgi⁄D©aThisRegi⁄
->
möx
=
	`MIN
‘egi⁄D©aThisRegi⁄->möx,
ThisMöX
);

1184 
ªgi⁄D©aThisRegi⁄
->
maxx
=
	`MAX
‘egi⁄D©aThisRegi⁄->maxx,
ThisMaxX
);

1185 
ªgi⁄D©aThisRegi⁄
->
möy
=
	`MIN
‘egi⁄D©aThisRegi⁄->möy,
ThisMöY
);

1186 
ªgi⁄D©aThisRegi⁄
->
maxy
=
	`MAX
‘egi⁄D©aThisRegi⁄->maxy,
ThisMaxY
);

1189 if–
C™did©Exãri‹
 )

1191 
ªgi⁄D©aThisRegi⁄
->
exãri‹
 = 
åue
;

1197 if(
Eº‹Fœg
 !0Ë 
Ál£
;

1199 
pImage
 = 
öputImage
->
imageD©a
 - 1 + 
°¨tCﬁ
 + (
ThisRow
+
°¨tRow
Ë* i≈utImage->
widthSãp
;

1201 if(
maskImage
!=
NULL
)

1202 
pMask
 = 
maskImage
->
imageD©a
 - 1 + 
ThisRow
 * maskImage->
widthSãp
;

1211 
Regi⁄D©a
[0]->
¨ó
 -–
Rows
 + 1 + 
Cﬁs
 + 1 )*2 + 
nombª_pixñs_masˇø
;

1218 
Regi⁄D©a
[0]->
≥rimëî
 -= 8.0;

1220 
blob_ve˘‹
::
ôî©‹
 
ôi
;

1221 
CBlob
 *
blobA˘uÆ
;

1223 if(
födmomíts
)

1225 
ôi
 = 
Regi⁄D©a
.
	`begö
();

1227 
ThisRegi⁄Num
 = 0; ThisRegi⁄Num <
HighRegi⁄Num
; ThisRegi⁄Num++, 
ôi
++)

1229 
blobA˘uÆ
 = *
ôi
;

1231 if(!
SubsumedRegi⁄
[
ThisRegi⁄Num
])

1234 
blobA˘uÆ
->
sumx
 /blobA˘uÆ->
¨ó
;

1235 
blobA˘uÆ
->
sumy
 /blobA˘uÆ->
¨ó
;

1236 
blobA˘uÆ
->
sumxx
 /blobA˘uÆ->
¨ó
;

1237 
blobA˘uÆ
->
sumyy
 /blobA˘uÆ->
¨ó
;

1238 
blobA˘uÆ
->
sumxy
 /blobA˘uÆ->
¨ó
;

1241 
blobA˘uÆ
->
sumxx
 -blobA˘uÆ->
sumx
 * blobActual->sumx;

1242 
blobA˘uÆ
->
sumyy
 -blobA˘uÆ->
sumy
 * blobActual->sumy;

1243 
blobA˘uÆ
->
sumxy
 -blobA˘uÆ->
sumx
 * blobA˘uÆ->
sumy
;

1244 if(
blobA˘uÆ
->
sumxy
 > -1.0E-14 && blobActual->sumxy < 1.0E-14)

1246 
blobA˘uÆ
->
sumxy
 = () 0.0;

1253 
ôi
 = 
Regi⁄D©a
.
	`begö
();

1254 
ThisRegi⁄Num
 = 0; ThisRegi⁄Num <
HighRegi⁄Num
; ThisRegi⁄Num++, 
ôi
++)

1256 
blobA˘uÆ
 = *
ôi
;

1257 if(!
SubsumedRegi⁄
[
ThisRegi⁄Num
])

1259 if(
blobA˘uÆ
->
¨ó
 > 1)

1261 
blobA˘uÆ
->
°ddev
 =

1262 
	`sqπ
(

1264 
blobA˘uÆ
->
°ddev
 * blobA˘uÆ->
¨ó
 -

1265 
blobA˘uÆ
->
món
 * blobActual->mean

1267 (
blobA˘uÆ
->
¨ó
*(blobActual->area-1))

1271 
blobA˘uÆ
->
°ddev
=0;

1273 if(
blobA˘uÆ
->
¨ó
 > 0)

1274 
blobA˘uÆ
->
món
/=blobA˘uÆ->
¨ó
;

1276 
blobA˘uÆ
->
món
 = 0;

1283 
blob_ve˘‹
::
ôî©‹
 
ôBlobs
 = 
Regi⁄D©a
.
	`begö
();

1285 
ThisRegi⁄Num
 = 0;

1286  
ôBlobs
 !
Regi⁄D©a
.
	`íd
() )

1288 if(
SubsumedRegi⁄
[
ThisRegi⁄Num
])

1290 
dñëe
 *
ôBlobs
;

1291 
ôBlobs
 = 
Regi⁄D©a
.
	`îa£
( itBlobs );

1294 
ôBlobs
++;

1296 
ThisRegi⁄Num
++;

1299 
	`‰ì
(
SubsumedRegi⁄
);

1300 
dñëe
 
Tønsôi⁄
;

1301 
dñëe
 
ThisRegi⁄
;

1302 
dñëe
 
La°Regi⁄
;

1304 if–
im©gePîimëªExã∫
 ) 
	`cvRñó£Image
(&imatgePerimetreExtern);

1306  
åue
;

1307 
	}
}

1310 *
	$NewSubsume
(*
subsumed
, 
ödex_subsume
)

1312 if–
ödex_subsume
 == 0 )

1314 
subsumed
 = (*)
	`mÆloc
(());

1318 
subsumed
 = (*)
	`ªÆloc
(subsumed,(
ödex_subsume
+1)*());

1320 
subsumed
[
ödex_subsume
]=0;

1321  
subsumed
;

1322 
	}
}

1328 
	$Subsume
(
blob_ve˘‹
 &
Regi⁄D©a
,

1329 
HighRegi⁄Num
,

1330 * 
SubsumedRegi⁄
,

1331 
CBlob
* 
blobHi
,

1332 
CBlob
* 
blobLo
,

1333 
boﬁ
 
födmomíts
,

1334 
HiNum
,

1335 
LoNum
)

1339 
i
;

1341 
blobLo
->
möx
=
	`MIN
(
blobHi
->minx,blobLo->minx);

1342 
blobLo
->
möy
=
	`MIN
(
blobHi
->miny,blobLo->miny);

1343 
blobLo
->
maxx
=
	`MAX
(
blobHi
->maxx,blobLo->maxx);

1344 
blobLo
->
maxy
=
	`MAX
(
blobHi
->maxy,blobLo->maxy);

1345 
blobLo
->
¨ó
+=
blobHi
->area;

1346 
blobLo
->
≥rimëî
+=
blobHi
->perimeter;

1347 
blobLo
->
exã∫Pîimëî
 +
blobHi
->externPerimeter;

1348 
blobLo
->
exãri‹
 = blobLo->exãri‹ || 
blobHi
->exterior;

1349 
blobLo
->
món
 +
blobHi
->mean;

1350 
blobLo
->
°ddev
 +
blobHi
->stddev;

1352 if–
födmomíts
 )

1354 
blobLo
->
sumx
+=
blobHi
->sumx;

1355 
blobLo
->
sumy
+=
blobHi
->sumy;

1356 
blobLo
->
sumxx
+=
blobHi
->sumxx;

1357 
blobLo
->
sumyy
+=
blobHi
->sumyy;

1358 
blobLo
->
sumxy
+=
blobHi
->sumxy;

1361 
blob_ve˘‹
::
ôî©‹
 
ô
 = (
Regi⁄D©a
.
	`begö
(Ë+ 
HiNum
 + 1);

1363 
i
 = 
HiNum
 + 1; i <
HighRegi⁄Num
; i++, 
ô
++)

1365 if((*
ô
)->
∑ª¡
 =(Ë
HiNum
Ë{ (*ô)->∑ª¡ = 
LoNum
; }

1369 
SubsumedRegi⁄
[
HiNum
] = 1;

1371 
blobHi
->
ëiquëa
=-1;

1375 
blobHi
->
	`C›yEdges
–*
blobLo
 );

1376 
blobHi
->
	`CÀ¨Edges
();

1377 
	}
}

1395 
	$GëExã∫Pîimëî
–
°¨t
, 
íd
, 
row
, 
width
, 
height
, 
I∂Image
 *
im©gePîimëªExã∫
 )

1397 
≥rimëî
 = 0.0f;

1398 *
pPîimëª
;

1402 
≥rimëî
 +–
°¨t
 <0 ) + ( 
íd
 >
width
 - 1 );

1403 if(
row
 <1 ) 
≥rimëî
+
°¨t
 - 
íd
;

1404 if(
row
 >
height
 - 1 ) 
≥rimëî
+
°¨t
 - 
íd
;

1408 if–
im©gePîimëªExã∫
 !
NULL
 )

1410 if–
row
 <0 ||Ñow >
height
 )  
≥rimëî
;

1412 if–
°¨t
 < 0 ) start = 1;

1413 if–
íd
 >
width
 )Énd = width - 2;

1415 
pPîimëª
 = 
im©gePîimëªExã∫
->
imageD©a
 + (
row
 - 1Ë* im©gePîimëªExã∫->
widthSãp
 + 
°¨t
;

1416 
x
 = 
°¨t
 - 1; x <
íd
; x++ )

1418 
≥rimëî
 +*
pPîimëª
;

1419 
pPîimëª
++;

1423  
≥rimëî
;

1424 
	}
}

	@processors/cameraBlobber/cvblobslib/BlobExtraction.h

12 #i‡!
deföed
(
_CLASSE_BLOBEXTRACTION_INCLUDED
)

13 
	#_CLASSE_BLOBEXTRACTION_INCLUDED


	)

17 
boﬁ
 
BlobA«lysis
(
I∂Image
* 
öputImage
, 
uch¨
 
thªshﬁd
, I∂Image* 
maskImage
,

18 
boﬁ
 
b‹dîCﬁ‹
, boﬁ 
födmomíts
, 
blob_ve˘‹
 &
Regi⁄D©a
 );

24 
Subsume
(
blob_ve˘‹
 &
Regi⁄D©a
, , *, 
CBlob
*, CBlob*, 
boﬁ
, , );

26 *
NewSubsume
(*
SubSumedRegi⁄
, 
ñems_öbuf„r
);

28 
GëExã∫Pîimëî
–
°¨t
, 
íd
, 
row
, 
width
, 
height
, 
I∂Image
 *
maskImage
 );

	@processors/cameraBlobber/cvblobslib/BlobLibraryConfiguration.h

	@processors/cameraBlobber/cvblobslib/BlobResult.cpp

10 
	~<limôs.h
>

11 
	~<°dio.h
>

12 
	~<fun˘i⁄Æ
>

13 
	~<Æg‹ôhm
>

14 
	~"BlobResu….h
"

15 
	~"BlobExåa˘i⁄.h
"

16 #ifde‡
_DEBUG


17 
	~<afx.h
>

18 
	~<afxwö.h
>

48 
	gCBlobResu…
::
	$CBlobResu…
()

50 
m_blobs
 = 
	`blob_ve˘‹
();

51 
	}
}

89 
	gCBlobResu…
::
	$CBlobResu…
(
I∂Image
 *
sour˚
, I∂Imagê*
mask
, 
thªshﬁd
, 
boﬁ
 
födmomíts
)

91 
boﬁ
 
suc˚ss
;

93 
åy


96 
suc˚ss
 = 
	`BlobA«lysis
(
sour˚
,(
uch¨
)
thªshﬁd
,
mask
,
åue
,
födmomíts
, 
m_blobs
 );

98 
	`ˇtch
(...)

100 
suc˚ss
 = 
Ál£
;

103 if–!
suc˚ss
 ) 
throw
 
EXCEPCIO_CALCUL_BLOBS
;

104 
	}
}

130 
	gCBlobResu…
::
	$CBlobResu…
–c⁄° 
CBlobResu…
 &
sour˚
 )

132 
m_blobs
 = 
	`blob_ve˘‹
–
sour˚
.
	`GëNumBlobs
() );

135 
m_blobs
 = 
	`blob_ve˘‹
–
sour˚
.
	`GëNumBlobs
() );

137 
blob_ve˘‹
::
c⁄°_ôî©‹
 
pBlobsSrc
 = 
sour˚
.
m_blobs
.
	`begö
();

138 
blob_ve˘‹
::
ôî©‹
 
pBlobsD°
 = 
m_blobs
.
	`begö
();

140  
pBlobsSrc
 !
sour˚
.
m_blobs
.
	`íd
() )

145 *
pBlobsD°
 = 
√w
 
	`CBlob
(**
pBlobsSrc
);

146 
pBlobsSrc
++;

147 
pBlobsD°
++;

149 
	}
}

174 
	gCBlobResu…
::~
	$CBlobResu…
()

176 
	`CÀ¨Blobs
();

177 
	}
}

206 
	gCBlobResu…
& CBlobResu…::
›î©‹
=(c⁄° 
CBlobResu…
& 
sour˚
)

209 i‡(
this
 !&
sour˚
)

212  
i
 = 0; 
	gi
 < 
GëNumBlobs
(); i++ )

214 
dñëe
 
	gm_blobs
[
i
];

216 
	gm_blobs
.
˛ór
();

218 
	gm_blobs
 = 
blob_ve˘‹
–
sour˚
.
GëNumBlobs
() );

220 
	gblob_ve˘‹
::
c⁄°_ôî©‹
 
pBlobsSrc
 = 
sour˚
.
m_blobs
.
begö
();

221 
	gblob_ve˘‹
::
ôî©‹
 
pBlobsD°
 = 
m_blobs
.
begö
();

223  
	gpBlobsSrc
 !
sour˚
.
m_blobs
.
íd
() )

228 *
pBlobsD°
 = 
√w
 
CBlob
(**
pBlobsSrc
);

229 
	gpBlobsSrc
++;

230 
	gpBlobsD°
++;

233  *
	gthis
;

262 
CBlobResu…
 
	gCBlobResu…
::
›î©‹
+–c⁄° CBlobResu…& 
sour˚
 )

265 
CBlobResu…
 
ªsu…©
–*
this
 );

268 
	gªsu…©
.
	gm_blobs
.
ªsize
–
ªsu…©
.
GëNumBlobs
(Ë+ 
sour˚
.GetNumBlobs() );

271 
	gblob_ve˘‹
::
c⁄°_ôî©‹
 
pBlobsSrc
 = 
sour˚
.
m_blobs
.
begö
();

272 
	gblob_ve˘‹
::
ôî©‹
 
pBlobsD°
 = 
ªsu…©
.
m_blobs
.
íd
();

275  
	gpBlobsSrc
 !
sour˚
.
m_blobs
.
íd
() )

277 
pBlobsD°
--;

278 *
	gpBlobsD°
 = 
√w
 
CBlob
(**
pBlobsSrc
);

279 
	gpBlobsSrc
++;

282  
	gªsu…©
;

301 
	gCBlobResu…
::
	$AddBlob
–
CBlob
 *
blob
 )

303 if–
blob
 !
NULL
 )

304 
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
blob
 ) );

305 
	}
}

308 #ifde‡
MATRIXCV_ACTIU


336 
doubÀ_ve˘‹
 
	gCBlobResu…
::
	$GëResu…
–
funcio_ˇlculBlob
 *
evÆuad‹
 ) const

338 if–
	`GëNumBlobs
() <= 0 )

340  
	`doubÀ_ve˘‹
();

344 
doubÀ_ve˘‹
 
ªsu…
 = 
	`doubÀ_ve˘‹
–
	`GëNumBlobs
() );

346 
doubÀ_ve˘‹
::
ôî©‹
 
ôResu…
 = 
ªsu…
.
	`GëIãøt‹
();

347 
blob_ve˘‹
::
c⁄°_ôî©‹
 
ôBlobs
 = 
m_blobs
.
	`begö
();

350  
ôBlobs
 !
m_blobs
.
	`íd
() )

352 *
ôResu…
 = (*
evÆuad‹
)(**
ôBlobs
);

353 
ôBlobs
++;

354 
ôResu…
++;

356  
ªsu…
;

357 
	}
}

386 
doubÀ_°l_ve˘‹
 
	gCBlobResu…
::
	$GëSTLResu…
–
funcio_ˇlculBlob
 *
evÆuad‹
 ) const

388 if–
	`GëNumBlobs
() <= 0 )

390  
	`doubÀ_°l_ve˘‹
();

394 
doubÀ_°l_ve˘‹
 
ªsu…
 = 
	`doubÀ_°l_ve˘‹
–
	`GëNumBlobs
() );

396 
doubÀ_°l_ve˘‹
::
ôî©‹
 
ôResu…
 = 
ªsu…
.
	`begö
();

397 
blob_ve˘‹
::
c⁄°_ôî©‹
 
ôBlobs
 = 
m_blobs
.
	`begö
();

400  
ôBlobs
 !
m_blobs
.
	`íd
() )

402 *
ôResu…
 = (*
evÆuad‹
)(**
ôBlobs
);

403 
ôBlobs
++;

404 
ôResu…
++;

406  
ªsu…
;

407 
	}
}

435 
	gCBlobResu…
::
	$GëNumbî
–
ödexBlob
, 
funcio_ˇlculBlob
 *
evÆuad‹
 ) const

437 if–
ödexBlob
 < 0 || indexBlob >
	`GëNumBlobs
() )

438 
	`Rai£Eº‹
–
EXCEPTION_BLOB_OUT_OF_BOUNDS
 );

439  (*
evÆuad‹
)–*
m_blobs
[
ödexBlob
] );

440 
	}
}

495 
	gCBlobResu…
::
	$Fûãr
(
CBlobResu…
 &
d°
,

496 
fûãrA˘i⁄
,

497 
funcio_ˇlculBlob
 *
evÆuad‹
,

498 
c⁄dôi⁄
,

499 
lowLimô
, 
highLimô
 )

502 
i
, 
numBlobs
;

503 
boﬁ
 
ªsu…avÆuacio
;

504 
doubÀ_°l_ve˘‹
 
avÆuacioBlobs
;

505 
doubÀ_°l_ve˘‹
::
ôî©‹
 
ôavÆuacioBlobs
;

507 if–
	`GëNumBlobs
() <= 0 ) ;

508 if–!
evÆuad‹
 ) ;

510 
avÆuacioBlobs
 = 
	`GëSTLResu…
(
evÆuad‹
);

511 
ôavÆuacioBlobs
 = 
avÆuacioBlobs
.
	`begö
();

512 
numBlobs
 = 
	`GëNumBlobs
();

513 
c⁄dôi⁄
)

515 
B_EQUAL
:

516 
i
=0;i<
numBlobs
;i++, 
ôavÆuacioBlobs
++)

518 
ªsu…avÆuacio
*
ôavÆuacioBlobs
 =
lowLimô
;

519 if––
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_INCLUDE
 ) ||

520 –!
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_EXCLUDE
 ))

522 
d°
.
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
	`GëBlob
–
i
 ) ));

526 
B_NOT_EQUAL
:

527 
i
=0;i<
numBlobs
;i++, 
ôavÆuacioBlobs
++)

529 
ªsu…avÆuacio
 = *
ôavÆuacioBlobs
 !
lowLimô
;

530 if––
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_INCLUDE
 ) ||

531 –!
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_EXCLUDE
 ))

533 
d°
.
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
	`GëBlob
–
i
 ) ));

537 
B_GREATER
:

538 
i
=0;i<
numBlobs
;i++, 
ôavÆuacioBlobs
++)

540 
ªsu…avÆuacio
*
ôavÆuacioBlobs
 > 
lowLimô
;

541 if––
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_INCLUDE
 ) ||

542 –!
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_EXCLUDE
 ))

544 
d°
.
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
	`GëBlob
–
i
 ) ));

548 
B_LESS
:

549 
i
=0;i<
numBlobs
;i++, 
ôavÆuacioBlobs
++)

551 
ªsu…avÆuacio
*
ôavÆuacioBlobs
 < 
lowLimô
;

552 if––
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_INCLUDE
 ) ||

553 –!
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_EXCLUDE
 ))

555 
d°
.
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
	`GëBlob
–
i
 ) ));

559 
B_GREATER_OR_EQUAL
:

560 
i
=0;i<
numBlobs
;i++, 
ôavÆuacioBlobs
++)

562 
ªsu…avÆuacio
*
ôavÆuacioBlobs
>
lowLimô
;

563 if––
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_INCLUDE
 ) ||

564 –!
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_EXCLUDE
 ))

566 
d°
.
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
	`GëBlob
–
i
 ) ));

570 
B_LESS_OR_EQUAL
:

571 
i
=0;i<
numBlobs
;i++, 
ôavÆuacioBlobs
++)

573 
ªsu…avÆuacio
*
ôavÆuacioBlobs
 <
lowLimô
;

574 if––
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_INCLUDE
 ) ||

575 –!
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_EXCLUDE
 ))

577 
d°
.
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
	`GëBlob
–
i
 ) ));

581 
B_INSIDE
:

582 
i
=0;i<
numBlobs
;i++, 
ôavÆuacioBlobs
++)

584 
ªsu…avÆuacio
=–*
ôavÆuacioBlobs
 >
lowLimô
Ë&& ( *ôavÆuacioBlob†<
highLimô
);

585 if––
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_INCLUDE
 ) ||

586 –!
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_EXCLUDE
 ))

588 
d°
.
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
	`GëBlob
–
i
 ) ));

592 
B_OUTSIDE
:

593 
i
=0;i<
numBlobs
;i++, 
ôavÆuacioBlobs
++)

595 
ªsu…avÆuacio
=–*
ôavÆuacioBlobs
 < 
lowLimô
Ë|| ( *ôavÆuacioBlob†> 
highLimô
);

596 if––
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_INCLUDE
 ) ||

597 –!
ªsu…avÆuacio
 && 
fûãrA˘i⁄
 =
B_EXCLUDE
 ))

599 
d°
.
m_blobs
.
	`push_back
–
√w
 
	`CBlob
–
	`GëBlob
–
i
 ) ));

608 if–&
d°
 =
this
 )

612 
blob_ve˘‹
::
ôî©‹
 
ôBlobs
 = 
m_blobs
.
	`begö
();

613  
i
 = 0; i < 
numBlobs
; i++ )

615 
dñëe
 *
ôBlobs
;

616 
ôBlobs
++;

618 
m_blobs
.
	`îa£
–m_blobs.
	`begö
(), 
ôBlobs
 );

620 
	}
}

645 
CBlob
 
	gCBlobResu…
::
	$GëBlob
(
ödexblob
) const

647 if–
ödexblob
 < 0 || indexblob >
	`GëNumBlobs
() )

648 
	`Rai£Eº‹
–
EXCEPTION_BLOB_OUT_OF_BOUNDS
 );

650  *
m_blobs
[
ödexblob
];

651 
	}
}

652 
CBlob
 *
	gCBlobResu…
::
	$GëBlob
(
ödexblob
)

654 if–
ödexblob
 < 0 || indexblob >
	`GëNumBlobs
() )

655 
	`Rai£Eº‹
–
EXCEPTION_BLOB_OUT_OF_BOUNDS
 );

657  
m_blobs
[
ödexblob
];

658 
	}
}

690 
	gCBlobResu…
::
	$GëNthBlob
–
funcio_ˇlculBlob
 *
¸ôîi
, 
nBlob
, 
CBlob
 &
d°
 ) const

693 if–
nBlob
 < 0 ||ÇBlob >
	`GëNumBlobs
() )

696 
d°
 = 
	`CBlob
();

700 
doubÀ_°l_ve˘‹
 
avÆuacioBlobs
, 
avÆuacioBlobsOrdí©
;

701 
vÆ‹E√ssim
;

704 
avÆuacioBlobs
 = 
	`GëSTLResu…
(
¸ôîi
);

706 
avÆuacioBlobsOrdí©
 = 
	`doubÀ_°l_ve˘‹
–
	`GëNumBlobs
() );

709 
°d
::
	`∑πül_s‹t_c›y
–
avÆuacioBlobs
.
	`begö
(),

710 
avÆuacioBlobs
.
	`íd
(),

711 
avÆuacioBlobsOrdí©
.
	`begö
(),

712 
avÆuacioBlobsOrdí©
.
	`íd
(),

713 
°d
::
gª©î
<>() );

715 
vÆ‹E√ssim
 = 
avÆuacioBlobsOrdí©
[
nBlob
];

718 
doubÀ_°l_ve˘‹
::
c⁄°_ôî©‹
 
ôAvÆuacio
 = 
avÆuacioBlobs
.
	`begö
();

720 
boﬁ
 
åob©Blob
 = 
Ál£
;

721 
ödexBlob
 = 0;

722  
ôAvÆuacio
 !
avÆuacioBlobs
.
	`íd
(Ë&& !
åob©Blob
 )

724 if–*
ôAvÆuacio
 =
vÆ‹E√ssim
 )

726 
åob©Blob
 = 
åue
;

727 
d°
 = 
	`CBlob
–
	`GëBlob
(
ödexBlob
));

729 
ôAvÆuacio
++;

730 
ödexBlob
++;

732 
	}
}

755 
	gCBlobResu…
::
	$CÀ¨Blobs
()

761 
blob_ve˘‹
::
ôî©‹
 
ôBlobs
 = 
m_blobs
.
	`begö
();

762  
ôBlobs
 !
m_blobs
.
	`íd
() )

764 
dñëe
 *
ôBlobs
;

765 
ôBlobs
++;

768 
m_blobs
.
	`˛ór
();

769 
	}
}

797 
	gCBlobResu…
::
	$Rai£Eº‹
(c⁄° 
îr‹Code
) const

800 #ifde‡
_DEBUG


801 
CSåög
 
msg
, 
f‹m©
 = "ErrorÉn CBlobResult: %s";

803 
îr‹Code
)

805 
EXCEPTION_BLOB_OUT_OF_BOUNDS
:

806 
msg
.
	`F‹m©
(
f‹m©
, "Intentantáccedirá un blobÇoÉxistent");

809 
msg
.
	`F‹m©
(
f‹m©
, "Codi d'error desconegut");

813 
	`AfxMesßgeBox
(
msg
);

816 
throw
 
îr‹Code
;

817 
	}
}

849 
	gCBlobResu…
::
	$PrötBlobs
–*
nom_fôxî
 ) const

851 
doubÀ_°l_ve˘‹
 
¨ó
, 
exãri‹
, 
môj™a
, 
com∑cô©
, 
l⁄gôud
,

852 
exã∫Pîimëî
, 
≥rimëªC⁄vex
, 
≥rimëª
;

853 
i
;

854 
FILE
 *
fôxî_s‹tida
;

856 
¨ó
 = 
	`GëSTLResu…
–
	`CBlobGëAªa
());

857 
≥rimëª
 = 
	`GëSTLResu…
–
	`CBlobGëPîimëî
());

858 
exãri‹
 = 
	`GëSTLResu…
–
	`CBlobGëExãri‹
());

859 
môj™a
 = 
	`GëSTLResu…
–
	`CBlobGëMón
());

860 
com∑cô©
 = 
	`GëSTLResu…
(
	`CBlobGëCom∑˘√ss
());

861 
l⁄gôud
 = 
	`GëSTLResu…
–
	`CBlobGëLígth
());

862 
exã∫Pîimëî
 = 
	`GëSTLResu…
–
	`CBlobGëExã∫Pîimëî
());

863 
≥rimëªC⁄vex
 = 
	`GëSTLResu…
–
	`CBlobGëHuŒPîimëî
());

865 
fôxî_s‹tida
 = 
	`f›í
–
nom_fôxî
, "w" );

867 
i
=0; i<
	`GëNumBlobs
(); i++)

869 
	`Ârötf
–
fôxî_s‹tida
, "blob %d ->\tá=%7.0f\tÖ=%8.2f (%8.2fÉxtern)\tÖconvex=%8.2f\tÉxt=%.0f\t m=%7.2f\t c=%3.2f\tÜ=%8.2f\n",

870 
i
, 
¨ó
[i], 
≥rimëª
[i], 
exã∫Pîimëî
[i], 
≥rimëªC⁄vex
[i], 
exãri‹
[i], 
môj™a
[i], 
com∑cô©
[i], 
l⁄gôud
[i] );

872 
	`f˛o£
–
fôxî_s‹tida
 );

874 
	}
}

	@processors/cameraBlobber/cvblobslib/BlobResult.h

15 #i‡!
deföed
(
_CLASSE_BLOBRESULT_INCLUDED
)

16 
	#_CLASSE_BLOBRESULT_INCLUDED


	)

18 #i‡
_MSC_VER
 > 1000

19 #¥agm®
⁄˚


22 
	~"BlobLibøryC⁄figuøti⁄.h
"

23 
	~<m©h.h
>

24 
	~"cxc‹e.h
"

26 #ifde‡
MATRIXCV_ACTIU


27 
	~"m©rixCV.h
"

30 
	~"ve˘‹
"

32 
	g°d
::
	tve˘‹
<> 
	tdoubÀ_°l_ve˘‹
;

35 
	~<ve˘‹
>

36 
	~<fun˘i⁄Æ
>

37 
	~"Blob.h
"

45 
	#B_INCLUDE
 1L

	)

46 
	#B_EXCLUDE
 2L

	)

50 
	#B_EQUAL
 3L

	)

51 
	#B_NOT_EQUAL
 4L

	)

52 
	#B_GREATER
 5L

	)

53 
	#B_LESS
 6L

	)

54 
	#B_GREATER_OR_EQUAL
 7L

	)

55 
	#B_LESS_OR_EQUAL
 8L

	)

56 
	#B_INSIDE
 9L

	)

57 
	#B_OUTSIDE
 10L

	)

65 
	#EXCEPTION_BLOB_OUT_OF_BOUNDS
 1000

	)

66 
	#EXCEPCIO_CALCUL_BLOBS
 1001

	)

69 
	g°d
::
	tve˘‹
<
	tCBlob
*> 
	tblob_ve˘‹
;

78 ˛as†
	cCBlobResu…


80 
	mpublic
:

84 
CBlobResu…
();

87 
CBlobResu…
(
I∂Image
 *
sour˚
, I∂Imagê*
mask
, 
thªshﬁd
, 
boﬁ
 
födmomíts
);

90 
CBlobResu…
–c⁄° CBlobResu… &
sour˚
 );

92 
	mvútuÆ
 ~
CBlobResu…
();

96 
	mCBlobResu…
& 
	m›î©‹
=(c⁄° 
CBlobResu…
& 
sour˚
);

99 
CBlobResu…
 
	m›î©‹
+–c⁄° 
	mCBlobResu…
& 
	msour˚
 );

103 
AddBlob
–
CBlob
 *
blob
 );

105 #ifde‡
MATRIXCV_ACTIU


108 
doubÀ_ve˘‹
 
	$GëResu…
–
funcio_ˇlculBlob
 *
evÆuad‹
 ) const;

112 
doubÀ_°l_ve˘‹
 
	$GëSTLResu…
–
funcio_ˇlculBlob
 *
evÆuad‹
 ) const;

116 
	$GëNumbî
–
ödexblob
, 
funcio_ˇlculBlob
 *
evÆuad‹
 ) const;

120 
	`Fûãr
(
CBlobResu…
 &
d°
,

121 
fûãrA˘i⁄
, 
funcio_ˇlculBlob
 *
evÆuad‹
,

122 
c⁄dôi⁄
, 
lowLimô
, 
highLimô
 = 0 );

126 
	$GëNthBlob
–
funcio_ˇlculBlob
 *
¸ôîi
, 
nBlob
, 
CBlob
 &
d°
 ) const;

130 
CBlob
 
	$GëBlob
(
ödexblob
) const;

131 
CBlob
 *
	`GëBlob
(
ödexblob
);

135 
	`CÀ¨Blobs
();

139 
	$PrötBlobs
–*
nom_fôxî
 ) const;

146 
	$GëNumBlobs
() const

148 (
m_blobs
.
	`size
());

152 
¥iv©e
:

156 
	$Rai£Eº‹
(c⁄° 
îr‹Code
) const;

158 
¥Ÿe˘ed
:

162 
blob_ve˘‹
 
m_blobs
;

163 
	}
};

	@processors/closeRangeNavigator/closeRangeNavigator.cpp

26 
	~<°dio.h
>

27 
	~"˛o£R™geNavig©‹.h
"

28 
	~<sys/shm.h
>

29 
	~<uni°d.h
>

31 
	gCRNPro˚ss‹
::
	$öô
()

33 
pClo£Nav
 = (
Clo£NavD©a
 *)
cda
.
	`gëMemPå
(
CLOSE_NAV_AREA
);

34 
pExecutive
 = (
ExecutiveD©a
 *)
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

36 
pCål
 = &(
pClo£Nav
->
˘æ
);

37 
£m_¨ó
 = 
CLOSE_NAV_AREA
;

39 
	`öôI≈uts
(
æ
);

40 
	`öôOuçuts
(
æ
);

42 
pCål
->
lo›
 = 
run_cmd
;

44 
cda
.
	`lockAªa
(
CLOSE_NAV_AREA
);

45 
pClo£Nav
->
¸n_move_ªady_Êag
 = 
Ál£
;

46 
cda
.
	`u∆ockAªa
(
CLOSE_NAV_AREA
);

48 
	}
}

51 
	gCRNPro˚ss‹
::
	$˛ónup
() {

52 
	`Ârötf
(
°dout
, "\nIRMA2: Close Range Navigator Finished \n");

54 
	}
}

57 
	gCRNPro˚ss‹
::
	$°ï
()

60 
x
[0]=
pExecutive
->
exec_adc
[0];

61 
x
[1]=
pExecutive
->
exec_adc
[1];

62 
x
[2]=
pExecutive
->
exec_adc
[2];

63 
x
[3]=
pExecutive
->
exec_adc
[3];

64 
x
[4]=
pExecutive
->
exec_adc
[4];

68 
	`Ârötf
(
°dout
,"%f %f %f %f %f\n",

69 
pExecutive
->
exec_adc
[0],pExecutive->exec_adc[1],pExecutive->exec_adc[2],pExecutive->exec_adc[3],pExecutive->exec_adc[4]);

81 
ö_‚s
.
	`EvÆI≈uts
(
x
);

84 
mamd™i
.
	`ˇlc
(
æ
, 
ö_‚s
, 
drive
);

89 if(
drive
.
•ìd
<0.2)

90 
drive
.
•ìd
=0.2;

91 if(
drive
.
°ìr
<0.2)

92 
drive
.
°ìr
=0.2;

93 if(
drive
.
•ìd
>0.8)

94 
drive
.
•ìd
=0.8;

95 if(
drive
.
°ìr
>0.8)

96 
drive
.
°ìr
=0.8;

98 
cda
.
	`lockAªa
(
CLOSE_NAV_AREA
);

101 
pClo£Nav
->
¸n_•ìd
=
drive
.
•ìd
;

102 
pClo£Nav
->
¸n_°ìrög
=
drive
.
°ìr
;

104 
cda
.
	`u∆ockAªa
(
CLOSE_NAV_AREA
);

106 
	`¥ötf
("I≈ut†%‡%‡%‡%‡%f\n", 
x
[0], x[1], x[2], x[3], x[4]);

107 
	`¥ötf
("Ouçut†•ìd:%‡- sãî:%f\n\n", 
drive
.
•ìd
, drive.
°ìr
);

109 
cda
.
	`lockAªa
(
CLOSE_NAV_AREA
);

111 
pClo£Nav
->
¸n_move_ªady_Êag
=
åue
;

112 
cda
.
	`u∆ockAªa
(
CLOSE_NAV_AREA
);

114 
	`u¶ìp
(500000);

117 
	}
}

119 
	$maö
()

121 
	`Ârötf
(
°dout
, "\nIRMA2: Close Range Navigator Process \n");

122 
CRNPro˚ss‹
 
¸n
;

124 
¸n
.
	`execuã
();

127 
	}
}

129 
	gCRNPro˚ss‹
::
	$öôI≈uts
(
fuzzy_ruÀs_t
& 
æ
)

141 
h
=0;

143 
g
=0; g < 3; g++)

144 
i
=0; i < 3; i++)

145 
j
=0; j < 3; j++)

146 
k
=0; k < 3; k++)

147 
l
=0;Ü < 3;Ü++)

149 
æ
.
ö
[
h
][0]=
g
;

150 
æ
.
ö
[
h
][1]=
i
;

151 
æ
.
ö
[
h
][2]=
j
;

152 
æ
.
ö
[
h
][3]=
k
;

153 
æ
.
ö
[
h
][4]=
l
;

154 
h
++;

156 
	}
}

158 
	gCRNPro˚ss‹
::
	$öôOuçuts
(
fuzzy_ruÀs_t
& 
æ
)

165 
i
=0;

166 
æ
.
out
[
i
][0]=
L
;

167 
æ
.
out
[
i
][1]=
H
;

168 
i
++;

169 
æ
.
out
[
i
][0]=
L
;

170 
æ
.
out
[
i
][1]=
H
;

171 
i
++;

172 
æ
.
out
[
i
][0]=
L
;

173 
æ
.
out
[
i
][1]=
H
;

174 
i
++;

175 
æ
.
out
[
i
][0]=
M
;

176 
æ
.
out
[
i
][1]=
H
;

177 
i
++;

178 
æ
.
out
[
i
][0]=
M
;

179 
æ
.
out
[
i
][1]=
H
;

180 
i
++;

181 
æ
.
out
[
i
][0]=
M
;

182 
æ
.
out
[
i
][1]=
H
;

183 
i
++;

184 
æ
.
out
[
i
][0]=
M
;

185 
æ
.
out
[
i
][1]=
H
;

186 
i
++;

187 
æ
.
out
[
i
][0]=
M
;

188 
æ
.
out
[
i
][1]=
H
;

189 
i
++;

190 
æ
.
out
[
i
][0]=
M
;

191 
æ
.
out
[
i
][1]=
H
;

192 
i
++;

193 
æ
.
out
[
i
][0]=
M
;

194 
æ
.
out
[
i
][1]=
H
;

195 
i
++;

196 
æ
.
out
[
i
][0]=
M
;

197 
æ
.
out
[
i
][1]=
H
;

198 
i
++;

199 
æ
.
out
[
i
][0]=
M
;

200 
æ
.
out
[
i
][1]=
H
;

201 
i
++;

202 
æ
.
out
[
i
][0]=
M
;

203 
æ
.
out
[
i
][1]=
H
;

204 
i
++;

205 
æ
.
out
[
i
][0]=
M
;

206 
æ
.
out
[
i
][1]=
H
;

207 
i
++;

208 
æ
.
out
[
i
][0]=
M
;

209 
æ
.
out
[
i
][1]=
H
;

210 
i
++;

211 
æ
.
out
[
i
][0]=
M
;

212 
æ
.
out
[
i
][1]=
H
;

213 
i
++;

214 
æ
.
out
[
i
][0]=
M
;

215 
æ
.
out
[
i
][1]=
H
;

216 
i
++;

217 
æ
.
out
[
i
][0]=
M
;

218 
æ
.
out
[
i
][1]=
H
;

219 
i
++;

220 
æ
.
out
[
i
][0]=
M
;

221 
æ
.
out
[
i
][1]=
H
;

222 
i
++;

223 
æ
.
out
[
i
][0]=
M
;

224 
æ
.
out
[
i
][1]=
H
;

225 
i
++;

226 
æ
.
out
[
i
][0]=
M
;

227 
æ
.
out
[
i
][1]=
H
;

228 
i
++;

229 
æ
.
out
[
i
][0]=
M
;

230 
æ
.
out
[
i
][1]=
H
;

231 
i
++;

232 
æ
.
out
[
i
][0]=
M
;

233 
æ
.
out
[
i
][1]=
H
;

234 
i
++;

235 
æ
.
out
[
i
][0]=
M
;

236 
æ
.
out
[
i
][1]=
H
;

237 
i
++;

238 
æ
.
out
[
i
][0]=
M
;

239 
æ
.
out
[
i
][1]=
H
;

240 
i
++;

241 
æ
.
out
[
i
][0]=
M
;

242 
æ
.
out
[
i
][1]=
H
;

243 
i
++;

244 
æ
.
out
[
i
][0]=
M
;

245 
æ
.
out
[
i
][1]=
H
;

246 
i
++;

250 
æ
.
out
[
i
][0]=
L
;

251 
æ
.
out
[
i
][1]=
H
;

252 
i
++;

253 
æ
.
out
[
i
][0]=
L
;

254 
æ
.
out
[
i
][1]=
H
;

255 
i
++;

256 
æ
.
out
[
i
][0]=
L
;

257 
æ
.
out
[
i
][1]=
H
;

258 
i
++;

259 
æ
.
out
[
i
][0]=
L
;

260 
æ
.
out
[
i
][1]=
H
;

261 
i
++;

262 
æ
.
out
[
i
][0]=
M
;

263 
æ
.
out
[
i
][1]=
H
;

264 
i
++;

265 
æ
.
out
[
i
][0]=
M
;

266 
æ
.
out
[
i
][1]=
H
;

267 
i
++;

268 
æ
.
out
[
i
][0]=
L
;

269 
æ
.
out
[
i
][1]=
H
;

270 
i
++;

271 
æ
.
out
[
i
][0]=
M
;

272 
æ
.
out
[
i
][1]=
H
;

273 
i
++;

274 
æ
.
out
[
i
][0]=
M
;

275 
æ
.
out
[
i
][1]=
H
;

276 
i
++;

277 
æ
.
out
[
i
][0]=
L
;

278 
æ
.
out
[
i
][1]=
H
;

279 
i
++;

280 
æ
.
out
[
i
][0]=
L
;

281 
æ
.
out
[
i
][1]=
H
;

282 
i
++;

283 
æ
.
out
[
i
][0]=
L
;

284 
æ
.
out
[
i
][1]=
H
;

285 
i
++;

286 
æ
.
out
[
i
][0]=
L
;

287 
æ
.
out
[
i
][1]=
H
;

288 
i
++;

289 
æ
.
out
[
i
][0]=
H
;

290 
æ
.
out
[
i
][1]=
H
;

291 
i
++;

292 
æ
.
out
[
i
][0]=
H
;

293 
æ
.
out
[
i
][1]=
H
;

294 
i
++;

295 
æ
.
out
[
i
][0]=
H
;

296 
æ
.
out
[
i
][1]=
H
;

297 
i
++;

298 
æ
.
out
[
i
][0]=
H
;

299 
æ
.
out
[
i
][1]=
H
;

300 
i
++;

301 
æ
.
out
[
i
][0]=
H
;

302 
æ
.
out
[
i
][1]=
H
;

303 
i
++;

304 
æ
.
out
[
i
][0]=
M
;

305 
æ
.
out
[
i
][1]=
L
;

306 
i
++;

307 
æ
.
out
[
i
][0]=
M
;

308 
æ
.
out
[
i
][1]=
L
;

309 
i
++;

310 
æ
.
out
[
i
][0]=
M
;

311 
æ
.
out
[
i
][1]=
L
;

312 
i
++;

313 
æ
.
out
[
i
][0]=
H
;

314 
æ
.
out
[
i
][1]=
M
;

315 
i
++;

316 
æ
.
out
[
i
][0]=
H
;

317 
æ
.
out
[
i
][1]=
H
;

318 
i
++;

319 
æ
.
out
[
i
][0]=
H
;

320 
æ
.
out
[
i
][1]=
M
;

321 
i
++;

322 
æ
.
out
[
i
][0]=
H
;

323 
æ
.
out
[
i
][1]=
M
;

324 
i
++;

325 
æ
.
out
[
i
][0]=
H
;

326 
æ
.
out
[
i
][1]=
H
;

327 
i
++;

328 
æ
.
out
[
i
][0]=
H
;

329 
æ
.
out
[
i
][1]=
H
;

330 
i
++;

334 
æ
.
out
[
i
][0]=
M
;

335 
æ
.
out
[
i
][1]=
H
;

336 
i
++;

337 
æ
.
out
[
i
][0]=
M
;

338 
æ
.
out
[
i
][1]=
H
;

339 
i
++;

340 
æ
.
out
[
i
][0]=
M
;

341 
æ
.
out
[
i
][1]=
H
;

342 
i
++;

343 
æ
.
out
[
i
][0]=
M
;

344 
æ
.
out
[
i
][1]=
H
;

345 
i
++;

346 
æ
.
out
[
i
][0]=
M
;

347 
æ
.
out
[
i
][1]=
H
;

348 
i
++;

349 
æ
.
out
[
i
][0]=
M
;

350 
æ
.
out
[
i
][1]=
H
;

351 
i
++;

352 
æ
.
out
[
i
][0]=
M
;

353 
æ
.
out
[
i
][1]=
H
;

354 
i
++;

355 
æ
.
out
[
i
][0]=
M
;

356 
æ
.
out
[
i
][1]=
H
;

357 
i
++;

358 
æ
.
out
[
i
][0]=
M
;

359 
æ
.
out
[
i
][1]=
H
;

360 
i
++;

361 
æ
.
out
[
i
][0]=
H
;

362 
æ
.
out
[
i
][1]=
L
;

363 
i
++;

364 
æ
.
out
[
i
][0]=
H
;

365 
æ
.
out
[
i
][1]=
L
;

366 
i
++;

367 
æ
.
out
[
i
][0]=
H
;

368 
æ
.
out
[
i
][1]=
L
;

369 
i
++;

370 
æ
.
out
[
i
][0]=
H
;

371 
æ
.
out
[
i
][1]=
L
;

372 
i
++;

373 
æ
.
out
[
i
][0]=
H
;

374 
æ
.
out
[
i
][1]=
M
;

375 
i
++;

376 
æ
.
out
[
i
][0]=
H
;

377 
æ
.
out
[
i
][1]=
M
;

378 
i
++;

379 
æ
.
out
[
i
][0]=
M
;

380 
æ
.
out
[
i
][1]=
H
;

381 
i
++;

382 
æ
.
out
[
i
][0]=
H
;

383 
æ
.
out
[
i
][1]=
H
;

384 
i
++;

385 
æ
.
out
[
i
][0]=
H
;

386 
æ
.
out
[
i
][1]=
H
;

387 
i
++;

388 
æ
.
out
[
i
][0]=
H
;

389 
æ
.
out
[
i
][1]=
L
;

390 
i
++;

391 
æ
.
out
[
i
][0]=
H
;

392 
æ
.
out
[
i
][1]=
L
;

393 
i
++;

394 
æ
.
out
[
i
][0]=
H
;

395 
æ
.
out
[
i
][1]=
L
;

396 
i
++;

397 
æ
.
out
[
i
][0]=
H
;

398 
æ
.
out
[
i
][1]=
M
;

399 
i
++;

400 
æ
.
out
[
i
][0]=
H
;

401 
æ
.
out
[
i
][1]=
M
;

402 
i
++;

403 
æ
.
out
[
i
][0]=
H
;

404 
æ
.
out
[
i
][1]=
M
;

405 
i
++;

406 
æ
.
out
[
i
][0]=
H
;

407 
æ
.
out
[
i
][1]=
M
;

408 
i
++;

409 
æ
.
out
[
i
][0]=
H
;

410 
æ
.
out
[
i
][1]=
H
;

411 
i
++;

412 
æ
.
out
[
i
][0]=
H
;

413 
æ
.
out
[
i
][1]=
M
;

414 
i
++;

418 
æ
.
out
[
i
][0]=
M
;

419 
æ
.
out
[
i
][1]=
L
;

420 
i
++;

421 
æ
.
out
[
i
][0]=
M
;

422 
æ
.
out
[
i
][1]=
H
;

423 
i
++;

424 
æ
.
out
[
i
][0]=
M
;

425 
æ
.
out
[
i
][1]=
H
;

426 
i
++;

427 
æ
.
out
[
i
][0]=
M
;

428 
æ
.
out
[
i
][1]=
L
;

429 
i
++;

430 
æ
.
out
[
i
][0]=
M
;

431 
æ
.
out
[
i
][1]=
H
;

432 
i
++;

433 
æ
.
out
[
i
][0]=
M
;

434 
æ
.
out
[
i
][1]=
H
;

435 
i
++;

436 
æ
.
out
[
i
][0]=
M
;

437 
æ
.
out
[
i
][1]=
L
;

438 
i
++;

439 
æ
.
out
[
i
][0]=
M
;

440 
æ
.
out
[
i
][1]=
H
;

441 
i
++;

442 
æ
.
out
[
i
][0]=
M
;

443 
æ
.
out
[
i
][1]=
H
;

444 
i
++;

445 
æ
.
out
[
i
][0]=
M
;

446 
æ
.
out
[
i
][1]=
L
;

447 
i
++;

448 
æ
.
out
[
i
][0]=
M
;

449 
æ
.
out
[
i
][1]=
H
;

450 
i
++;

451 
æ
.
out
[
i
][0]=
M
;

452 
æ
.
out
[
i
][1]=
H
;

453 
i
++;

454 
æ
.
out
[
i
][0]=
M
;

455 
æ
.
out
[
i
][1]=
L
;

456 
i
++;

457 
æ
.
out
[
i
][0]=
M
;

458 
æ
.
out
[
i
][1]=
H
;

459 
i
++;

460 
æ
.
out
[
i
][0]=
M
;

461 
æ
.
out
[
i
][1]=
H
;

462 
i
++;

463 
æ
.
out
[
i
][0]=
M
;

464 
æ
.
out
[
i
][1]=
H
;

465 
i
++;

466 
æ
.
out
[
i
][0]=
M
;

467 
æ
.
out
[
i
][1]=
H
;

468 
i
++;

469 
æ
.
out
[
i
][0]=
M
;

470 
æ
.
out
[
i
][1]=
H
;

471 
i
++;

472 
æ
.
out
[
i
][0]=
M
;

473 
æ
.
out
[
i
][1]=
L
;

474 
i
++;

475 
æ
.
out
[
i
][0]=
M
;

476 
æ
.
out
[
i
][1]=
H
;

477 
i
++;

478 
æ
.
out
[
i
][0]=
M
;

479 
æ
.
out
[
i
][1]=
H
;

480 
i
++;

481 
æ
.
out
[
i
][0]=
M
;

482 
æ
.
out
[
i
][1]=
L
;

483 
i
++;

484 
æ
.
out
[
i
][0]=
M
;

485 
æ
.
out
[
i
][1]=
H
;

486 
i
++;

487 
æ
.
out
[
i
][0]=
M
;

488 
æ
.
out
[
i
][1]=
H
;

489 
i
++;

490 
æ
.
out
[
i
][0]=
M
;

491 
æ
.
out
[
i
][1]=
H
;

492 
i
++;

493 
æ
.
out
[
i
][0]=
M
;

494 
æ
.
out
[
i
][1]=
H
;

495 
i
++;

496 
æ
.
out
[
i
][0]=
M
;

497 
æ
.
out
[
i
][1]=
H
;

498 
i
++;

502 
æ
.
out
[
i
][0]=
M
;

503 
æ
.
out
[
i
][1]=
L
;

504 
i
++;

505 
æ
.
out
[
i
][0]=
M
;

506 
æ
.
out
[
i
][1]=
L
;

507 
i
++;

508 
æ
.
out
[
i
][0]=
M
;

509 
æ
.
out
[
i
][1]=
L
;

510 
i
++;

511 
æ
.
out
[
i
][0]=
M
;

512 
æ
.
out
[
i
][1]=
L
;

513 
i
++;

514 
æ
.
out
[
i
][0]=
M
;

515 
æ
.
out
[
i
][1]=
H
;

516 
i
++;

517 
æ
.
out
[
i
][0]=
M
;

518 
æ
.
out
[
i
][1]=
H
;

519 
i
++;

520 
æ
.
out
[
i
][0]=
M
;

521 
æ
.
out
[
i
][1]=
L
;

522 
i
++;

523 
æ
.
out
[
i
][0]=
M
;

524 
æ
.
out
[
i
][1]=
H
;

525 
i
++;

526 
æ
.
out
[
i
][0]=
M
;

527 
æ
.
out
[
i
][1]=
H
;

528 
i
++;

529 
æ
.
out
[
i
][0]=
M
;

530 
æ
.
out
[
i
][1]=
L
;

531 
i
++;

532 
æ
.
out
[
i
][0]=
M
;

533 
æ
.
out
[
i
][1]=
H
;

534 
i
++;

535 
æ
.
out
[
i
][0]=
M
;

536 
æ
.
out
[
i
][1]=
H
;

537 
i
++;

538 
æ
.
out
[
i
][0]=
M
;

539 
æ
.
out
[
i
][1]=
L
;

540 
i
++;

541 
æ
.
out
[
i
][0]=
M
;

542 
æ
.
out
[
i
][1]=
H
;

543 
i
++;

544 
æ
.
out
[
i
][0]=
M
;

545 
æ
.
out
[
i
][1]=
H
;

546 
i
++;

547 
æ
.
out
[
i
][0]=
M
;

548 
æ
.
out
[
i
][1]=
L
;

549 
i
++;

550 
æ
.
out
[
i
][0]=
M
;

551 
æ
.
out
[
i
][1]=
H
;

552 
i
++;

553 
æ
.
out
[
i
][0]=
M
;

554 
æ
.
out
[
i
][1]=
H
;

555 
i
++;

556 
æ
.
out
[
i
][0]=
M
;

557 
æ
.
out
[
i
][1]=
L
;

558 
i
++;

559 
æ
.
out
[
i
][0]=
M
;

560 
æ
.
out
[
i
][1]=
H
;

561 
i
++;

562 
æ
.
out
[
i
][0]=
M
;

563 
æ
.
out
[
i
][1]=
H
;

564 
i
++;

565 
æ
.
out
[
i
][0]=
M
;

566 
æ
.
out
[
i
][1]=
H
;

567 
i
++;

568 
æ
.
out
[
i
][0]=
H
;

569 
æ
.
out
[
i
][1]=
M
;

570 
i
++;

571 
æ
.
out
[
i
][0]=
H
;

572 
æ
.
out
[
i
][1]=
M
;

573 
i
++;

574 
æ
.
out
[
i
][0]=
H
;

575 
æ
.
out
[
i
][1]=
L
;

576 
i
++;

577 
æ
.
out
[
i
][0]=
H
;

578 
æ
.
out
[
i
][1]=
M
;

579 
i
++;

580 
æ
.
out
[
i
][0]=
H
;

581 
æ
.
out
[
i
][1]=
M
;

582 
i
++;

586 
æ
.
out
[
i
][0]=
M
;

587 
æ
.
out
[
i
][1]=
L
;

588 
i
++;

589 
æ
.
out
[
i
][0]=
M
;

590 
æ
.
out
[
i
][1]=
L
;

591 
i
++;

592 
æ
.
out
[
i
][0]=
M
;

593 
æ
.
out
[
i
][1]=
L
;

594 
i
++;

595 
æ
.
out
[
i
][0]=
M
;

596 
æ
.
out
[
i
][1]=
L
;

597 
i
++;

598 
æ
.
out
[
i
][0]=
M
;

599 
æ
.
out
[
i
][1]=
L
;

600 
i
++;

601 
æ
.
out
[
i
][0]=
M
;

602 
æ
.
out
[
i
][1]=
H
;

603 
i
++;

604 
æ
.
out
[
i
][0]=
M
;

605 
æ
.
out
[
i
][1]=
L
;

606 
i
++;

607 
æ
.
out
[
i
][0]=
M
;

608 
æ
.
out
[
i
][1]=
H
;

609 
i
++;

610 
æ
.
out
[
i
][0]=
M
;

611 
æ
.
out
[
i
][1]=
H
;

612 
i
++;

613 
æ
.
out
[
i
][0]=
M
;

614 
æ
.
out
[
i
][1]=
L
;

615 
i
++;

616 
æ
.
out
[
i
][0]=
M
;

617 
æ
.
out
[
i
][1]=
L
;

618 
i
++;

619 
æ
.
out
[
i
][0]=
M
;

620 
æ
.
out
[
i
][1]=
L
;

621 
i
++;

622 
æ
.
out
[
i
][0]=
H
;

623 
æ
.
out
[
i
][1]=
L
;

624 
i
++;

625 
æ
.
out
[
i
][0]=
H
;

626 
æ
.
out
[
i
][1]=
L
;

627 
i
++;

628 
æ
.
out
[
i
][0]=
H
;

629 
æ
.
out
[
i
][1]=
L
;

630 
i
++;

631 
æ
.
out
[
i
][0]=
H
;

632 
æ
.
out
[
i
][1]=
L
;

633 
i
++;

634 
æ
.
out
[
i
][0]=
H
;

635 
æ
.
out
[
i
][1]=
H
;

636 
i
++;

637 
æ
.
out
[
i
][0]=
H
;

638 
æ
.
out
[
i
][1]=
H
;

639 
i
++;

640 
æ
.
out
[
i
][0]=
M
;

641 
æ
.
out
[
i
][1]=
L
;

642 
i
++;

643 
æ
.
out
[
i
][0]=
M
;

644 
æ
.
out
[
i
][1]=
L
;

645 
i
++;

646 
æ
.
out
[
i
][0]=
M
;

647 
æ
.
out
[
i
][1]=
L
;

648 
i
++;

649 
æ
.
out
[
i
][0]=
H
;

650 
æ
.
out
[
i
][1]=
L
;

651 
i
++;

652 
æ
.
out
[
i
][0]=
H
;

653 
æ
.
out
[
i
][1]=
M
;

654 
i
++;

655 
æ
.
out
[
i
][0]=
H
;

656 
æ
.
out
[
i
][1]=
M
;

657 
i
++;

658 
æ
.
out
[
i
][0]=
H
;

659 
æ
.
out
[
i
][1]=
L
;

660 
i
++;

661 
æ
.
out
[
i
][0]=
H
;

662 
æ
.
out
[
i
][1]=
M
;

663 
i
++;

664 
æ
.
out
[
i
][0]=
H
;

665 
æ
.
out
[
i
][1]=
M
;

666 
i
++;

668 
æ
.
out
[
i
][0]=
M
;

669 
æ
.
out
[
i
][1]=
L
;

670 
i
++;

671 
æ
.
out
[
i
][0]=
M
;

672 
æ
.
out
[
i
][1]=
L
;

673 
i
++;

674 
æ
.
out
[
i
][0]=
M
;

675 
æ
.
out
[
i
][1]=
H
;

676 
i
++;

677 
æ
.
out
[
i
][0]=
M
;

678 
æ
.
out
[
i
][1]=
L
;

679 
i
++;

680 
æ
.
out
[
i
][0]=
M
;

681 
æ
.
out
[
i
][1]=
H
;

682 
i
++;

683 
æ
.
out
[
i
][0]=
M
;

684 
æ
.
out
[
i
][1]=
H
;

685 
i
++;

686 
æ
.
out
[
i
][0]=
M
;

687 
æ
.
out
[
i
][1]=
L
;

688 
i
++;

689 
æ
.
out
[
i
][0]=
M
;

690 
æ
.
out
[
i
][1]=
H
;

691 
i
++;

692 
æ
.
out
[
i
][0]=
M
;

693 
æ
.
out
[
i
][1]=
H
;

694 
i
++;

695 
æ
.
out
[
i
][0]=
M
;

696 
æ
.
out
[
i
][1]=
L
;

697 
i
++;

698 
æ
.
out
[
i
][0]=
M
;

699 
æ
.
out
[
i
][1]=
H
;

700 
i
++;

701 
æ
.
out
[
i
][0]=
M
;

702 
æ
.
out
[
i
][1]=
H
;

703 
i
++;

704 
æ
.
out
[
i
][0]=
M
;

705 
æ
.
out
[
i
][1]=
L
;

706 
i
++;

707 
æ
.
out
[
i
][0]=
M
;

708 
æ
.
out
[
i
][1]=
H
;

709 
i
++;

710 
æ
.
out
[
i
][0]=
M
;

711 
æ
.
out
[
i
][1]=
H
;

712 
i
++;

713 
æ
.
out
[
i
][0]=
M
;

714 
æ
.
out
[
i
][1]=
H
;

715 
i
++;

716 
æ
.
out
[
i
][0]=
M
;

717 
æ
.
out
[
i
][1]=
H
;

718 
i
++;

719 
æ
.
out
[
i
][0]=
M
;

720 
æ
.
out
[
i
][1]=
H
;

721 
i
++;

722 
æ
.
out
[
i
][0]=
M
;

723 
æ
.
out
[
i
][1]=
L
;

724 
i
++;

725 
æ
.
out
[
i
][0]=
M
;

726 
æ
.
out
[
i
][1]=
H
;

727 
i
++;

728 
æ
.
out
[
i
][0]=
M
;

729 
æ
.
out
[
i
][1]=
H
;

730 
i
++;

731 
æ
.
out
[
i
][0]=
M
;

732 
æ
.
out
[
i
][1]=
H
;

733 
i
++;

734 
æ
.
out
[
i
][0]=
M
;

735 
æ
.
out
[
i
][1]=
H
;

736 
i
++;

737 
æ
.
out
[
i
][0]=
M
;

738 
æ
.
out
[
i
][1]=
H
;

739 
i
++;

740 
æ
.
out
[
i
][0]=
M
;

741 
æ
.
out
[
i
][1]=
H
;

742 
i
++;

743 
æ
.
out
[
i
][0]=
M
;

744 
æ
.
out
[
i
][1]=
H
;

745 
i
++;

746 
æ
.
out
[
i
][0]=
M
;

747 
æ
.
out
[
i
][1]=
H
;

748 
i
++;

752 
æ
.
out
[
i
][0]=
M
;

753 
æ
.
out
[
i
][1]=
L
;

754 
i
++;

755 
æ
.
out
[
i
][0]=
M
;

756 
æ
.
out
[
i
][1]=
L
;

757 
i
++;

758 
æ
.
out
[
i
][0]=
M
;

759 
æ
.
out
[
i
][1]=
L
;

760 
i
++;

761 
æ
.
out
[
i
][0]=
M
;

762 
æ
.
out
[
i
][1]=
L
;

763 
i
++;

764 
æ
.
out
[
i
][0]=
M
;

765 
æ
.
out
[
i
][1]=
L
;

766 
i
++;

767 
æ
.
out
[
i
][0]=
M
;

768 
æ
.
out
[
i
][1]=
H
;

769 
i
++;

770 
æ
.
out
[
i
][0]=
M
;

771 
æ
.
out
[
i
][1]=
L
;

772 
i
++;

773 
æ
.
out
[
i
][0]=
M
;

774 
æ
.
out
[
i
][1]=
H
;

775 
i
++;

776 
æ
.
out
[
i
][0]=
M
;

777 
æ
.
out
[
i
][1]=
H
;

778 
i
++;

779 
æ
.
out
[
i
][0]=
M
;

780 
æ
.
out
[
i
][1]=
L
;

781 
i
++;

782 
æ
.
out
[
i
][0]=
M
;

783 
æ
.
out
[
i
][1]=
L
;

784 
i
++;

785 
æ
.
out
[
i
][0]=
M
;

786 
æ
.
out
[
i
][1]=
L
;

787 
i
++;

788 
æ
.
out
[
i
][0]=
M
;

789 
æ
.
out
[
i
][1]=
L
;

790 
i
++;

791 
æ
.
out
[
i
][0]=
M
;

792 
æ
.
out
[
i
][1]=
L
;

793 
i
++;

794 
æ
.
out
[
i
][0]=
M
;

795 
æ
.
out
[
i
][1]=
H
;

796 
i
++;

797 
æ
.
out
[
i
][0]=
M
;

798 
æ
.
out
[
i
][1]=
L
;

799 
i
++;

800 
æ
.
out
[
i
][0]=
M
;

801 
æ
.
out
[
i
][1]=
H
;

802 
i
++;

803 
æ
.
out
[
i
][0]=
M
;

804 
æ
.
out
[
i
][1]=
H
;

805 
i
++;

806 
æ
.
out
[
i
][0]=
M
;

807 
æ
.
out
[
i
][1]=
L
;

808 
i
++;

809 
æ
.
out
[
i
][0]=
M
;

810 
æ
.
out
[
i
][1]=
L
;

811 
i
++;

812 
æ
.
out
[
i
][0]=
M
;

813 
æ
.
out
[
i
][1]=
L
;

814 
i
++;

815 
æ
.
out
[
i
][0]=
H
;

816 
æ
.
out
[
i
][1]=
M
;

817 
i
++;

818 
æ
.
out
[
i
][0]=
H
;

819 
æ
.
out
[
i
][1]=
M
;

820 
i
++;

821 
æ
.
out
[
i
][0]=
H
;

822 
æ
.
out
[
i
][1]=
M
;

823 
i
++;

824 
æ
.
out
[
i
][0]=
H
;

825 
æ
.
out
[
i
][1]=
L
;

826 
i
++;

827 
æ
.
out
[
i
][0]=
H
;

828 
æ
.
out
[
i
][1]=
M
;

829 
i
++;

830 
æ
.
out
[
i
][0]=
H
;

831 
æ
.
out
[
i
][1]=
M
;

832 
i
++;

836 
æ
.
out
[
i
][0]=
M
;

837 
æ
.
out
[
i
][1]=
L
;

838 
i
++;

839 
æ
.
out
[
i
][0]=
M
;

840 
æ
.
out
[
i
][1]=
L
;

841 
i
++;

842 
æ
.
out
[
i
][0]=
M
;

843 
æ
.
out
[
i
][1]=
L
;

844 
i
++;

845 
æ
.
out
[
i
][0]=
M
;

846 
æ
.
out
[
i
][1]=
L
;

847 
i
++;

848 
æ
.
out
[
i
][0]=
M
;

849 
æ
.
out
[
i
][1]=
L
;

850 
i
++;

851 
æ
.
out
[
i
][0]=
M
;

852 
æ
.
out
[
i
][1]=
L
;

853 
i
++;

854 
æ
.
out
[
i
][0]=
M
;

855 
æ
.
out
[
i
][1]=
L
;

856 
i
++;

857 
æ
.
out
[
i
][0]=
M
;

858 
æ
.
out
[
i
][1]=
H
;

859 
i
++;

860 
æ
.
out
[
i
][0]=
M
;

861 
æ
.
out
[
i
][1]=
H
;

862 
i
++;

863 
æ
.
out
[
i
][0]=
M
;

864 
æ
.
out
[
i
][1]=
L
;

865 
i
++;

866 
æ
.
out
[
i
][0]=
M
;

867 
æ
.
out
[
i
][1]=
L
;

868 
i
++;

869 
æ
.
out
[
i
][0]=
M
;

870 
æ
.
out
[
i
][1]=
L
;

871 
i
++;

872 
æ
.
out
[
i
][0]=
H
;

873 
æ
.
out
[
i
][1]=
L
;

874 
i
++;

875 
æ
.
out
[
i
][0]=
H
;

876 
æ
.
out
[
i
][1]=
L
;

877 
i
++;

878 
æ
.
out
[
i
][0]=
H
;

879 
æ
.
out
[
i
][1]=
L
;

880 
i
++;

881 
æ
.
out
[
i
][0]=
H
;

882 
æ
.
out
[
i
][1]=
L
;

883 
i
++;

884 
æ
.
out
[
i
][0]=
H
;

885 
æ
.
out
[
i
][1]=
L
;

886 
i
++;

887 
æ
.
out
[
i
][0]=
H
;

888 
æ
.
out
[
i
][1]=
H
;

889 
i
++;

890 
æ
.
out
[
i
][0]=
M
;

891 
æ
.
out
[
i
][1]=
L
;

892 
i
++;

893 
æ
.
out
[
i
][0]=
M
;

894 
æ
.
out
[
i
][1]=
L
;

895 
i
++;

896 
æ
.
out
[
i
][0]=
M
;

897 
æ
.
out
[
i
][1]=
L
;

898 
i
++;

899 
æ
.
out
[
i
][0]=
H
;

900 
æ
.
out
[
i
][1]=
L
;

901 
i
++;

902 
æ
.
out
[
i
][0]=
H
;

903 
æ
.
out
[
i
][1]=
L
;

904 
i
++;

905 
æ
.
out
[
i
][0]=
H
;

906 
æ
.
out
[
i
][1]=
L
;

907 
i
++;

908 
æ
.
out
[
i
][0]=
H
;

909 
æ
.
out
[
i
][1]=
L
;

910 
i
++;

911 
æ
.
out
[
i
][0]=
H
;

912 
æ
.
out
[
i
][1]=
M
;

913 
i
++;

914 
æ
.
out
[
i
][0]=
H
;

915 
æ
.
out
[
i
][1]=
M
;

916 
i
++;

917 
	}
}

	@processors/closeRangeNavigator/closeRangeNavigator.h

16 #i‚de‡
_IRMA2_CRNAV_H_


17 
	#_IRMA2_CRNAV_H_


	)

19 
	~<°rög
>

20 
	~<°dio.h
>

21 
	~"simfuzlib.h
"

22 
	~"../ba£/¥o˚ss‹.h
"

24 
usög
 
«me•a˚
 
	gsimfuzlib
;

26 ˛as†
	cCRNPro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚


28 
¥iv©e
:

29 
ã°
;

30 
Clo£NavD©a
 *
	mpClo£Nav
;

31 
ExecutiveD©a
 *
	mpExecutive
;

32 
	mx
[
NUM_INPUTS
];

33 
membî_‚s3_t
 
	mö_‚s
;

34 
fuzzy_ruÀs_t
 
	mæ
;

35 
mamd™i_t
 
	mmamd™i
;

36 
drive_t
 
	mdrive
;

38 
	mpublic
:

39 
	$CRNPro˚ss‹
(Ë: 
	$Pro˚ss‹I¡îÁ˚
()

44 
	`öô
();

45 
	`°ï
();

46 
	`˛ónup
();

47 
	`öôI≈uts
(
fuzzy_ruÀs_t
&);

48 
	`öôOuçuts
(
fuzzy_ruÀs_t
& 
ruÀs
);

49 
	}
};

	@processors/closeRangeNavigator/simfuzlib.cpp

29 
	~"simfuzlib.h
"

31 
usög
 
«me•a˚
 
	gsimfuzlib
;

34 
	gsimfuzlib
::
	$EvÆMF
(c⁄° 
x
, c⁄° 
tmp_‚
, & 
tmp_mf
)

36 i‡–(
x
 >= 0) && (x < 0.25) )

38 i‡(
tmp_‚
==0)

39 
tmp_mf
 = 1;

40 i‡(
tmp_‚
==1)

41 
tmp_mf
 = 0;

42 i‡(
tmp_‚
==2)

43 
tmp_mf
 = 0;

45 i‡–(
x
 >= 0.25) && (x < 0.5) )

47 i‡(
tmp_‚
==0)

48 
tmp_mf
 = 2 - 4*
x
;

49 i‡(
tmp_‚
==1)

50 
tmp_mf
 = 4*
x
 - 1;

51 i‡(
tmp_‚
==2)

52 
tmp_mf
 = 0;

54 i‡–(
x
 >= 0.5) && (x < 0.75) )

56 i‡(
tmp_‚
==0)

57 
tmp_mf
 = 0;

58 i‡(
tmp_‚
==1)

59 
tmp_mf
 = 3 - 4*
x
;

60 i‡(
tmp_‚
==2)

61 
tmp_mf
 = 4*
x
 -2;

63 i‡–(
x
 >= 0.75) && (x <= 1.0) )

65 i‡(
tmp_‚
==0)

66 
tmp_mf
 = 0;

67 i‡(
tmp_‚
==1)

68 
tmp_mf
 = 0;

69 i‡(
tmp_‚
==2)

70 
tmp_mf
 = 1;

72 i‡–
x
 < 0 )

74 i‡(
tmp_‚
==0)

75 
tmp_mf
 = 0;

76 i‡(
tmp_‚
==1)

77 
tmp_mf
 = 0;

78 i‡(
tmp_‚
==2)

79 
tmp_mf
 = 0;

81 i‡–
x
 > 1 )

83 i‡(
tmp_‚
==0)

84 
tmp_mf
 = 0;

85 i‡(
tmp_‚
==1)

86 
tmp_mf
 = 0;

87 i‡(
tmp_‚
==2)

88 
tmp_mf
 = 0;

90 
	}
}

	@processors/closeRangeNavigator/simfuzlib.h

28 #i‚de‡
SIMFUZLIB_H


29 
	#SIMFUZLIB_H


	)

31 
	~"°dio.h
"

33 
«me•a˚
 
	gsimfuzlib


37 
usög
 
«me•a˚
 
	g°d
;

39 
	#NUM_MEMBER_FNS
 3

	)

40 
	#NUM_INPUTS
 5

	)

41 
	#NUM_OUTPUTS
 2

	)

42 
	#NUM_FUZZY_RULES
 243

43 
	#NUM_ARENA_POINTS
 100

44 

	)

45 
	eFuzzyFNS3
 {
	gL
=0, 
	gM
=1, 
	gH
=2};

47 ˛as†
	cDrive


49 
	gpublic
:

50 
°ìr
;

51 
	g•ìd
;

53 
	gpublic
:

54 
Drive
()

56 
°ìr
=0.5;

57 
	g•ìd
=0.5;

60 
Drive
 
	tdrive_t
;

62 ˛as†
	cMembîFns3


64 
	gpublic
:

65 
mf
[
NUM_INPUTS
][3];

67 
MembîFns3
()

69 
	gi
=0;i<
	gNUM_INPUTS
;i++)

71 
	gj
=0;j<3;j++)

72 
	gmf
[
i
][
j
]=0;

76 
Di•œy
()

78 
	gi
=0;i<
	gNUM_INPUTS
;i++)

80 
Ârötf
(
°dout
,"Membî fns: %f:%f:%f\n",
mf
[
i
][0],mf[i][1],mf[i][2]);

87 
EvÆI≈uts
(
x
[
NUM_INPUTS
])

89 
	gi
=0;ò< 
	gNUM_INPUTS
;i++)

91 i‡–(
	gx
[
i
] >0Ë&& (
x
[i] < 0.25) )

93 
mf
[
i
][0] = 1;

94 
	gmf
[
i
][1] = 0;

95 
	gmf
[
i
][2] = 0;

97 i‡–(
	gx
[
i
] >0.25Ë&& (
x
[i] < 0.5) )

99 
mf
[
i
][0] = 2 - 4*
x
[i];

100 
	gmf
[
i
][1] = 4*
x
[i] - 1;

101 
	gmf
[
i
][2] = 0;

103 i‡–(
	gx
[
i
] >0.5Ë&& (
x
[i] < 0.75) )

105 
mf
[
i
][0] = 0;

106 
	gmf
[
i
][1] = 3 - 4*
x
[i];

107 
	gmf
[
i
][2] = 4*
x
[i] -2;

109 i‡–(
	gx
[
i
] >0.75Ë&& (
x
[i] <= 1.0) )

111 
mf
[
i
][0] = 0;

112 
	gmf
[
i
][1] = 0;

113 
	gmf
[
i
][2] = 1;

115 i‡–
	gx
[
i
] < 0 )

117 
	gmf
[
i
][0] = 0;

118 
	gmf
[
i
][1] = 0;

119 
	gmf
[
i
][2] = 0;

121 i‡–
	gx
[
i
] > 1 )

123 
	gmf
[
i
][0] = 0;

124 
	gmf
[
i
][1] = 0;

125 
	gmf
[
i
][2] = 0;

131 
MembîFns3
 
	tmembî_‚s3_t
;

133 ˛as†
	cFuzzyRuÀs


135 
	gpublic
:

136 
ö
[
NUM_FUZZY_RULES
][
NUM_INPUTS
];

137 
	gout
[
NUM_FUZZY_RULES
][
NUM_OUTPUTS
];

138 
FuzzyRuÀs
()

140 
CÀ¨FuzzyRuÀs
();

142 
CÀ¨FuzzyRuÀs
()

144 
	gi
=0;i<
	gNUM_FUZZY_RULES
;i++)

146 
	gj
=0;j<
	gNUM_INPUTS
;j++)

147 
	gö
[
i
][
j
]=0;

148 
	gj
=0;j<
	gNUM_INPUTS
;j++)

149 
	gout
[
i
][
j
]=0;

153 
FuzzyRuÀs
 
	tfuzzy_ruÀs_t
;

155 
EvÆMF
(c⁄° 
x
, c⁄° 
tmp_‚
, & 
tmp_mf
);

157 ˛as†
	cMamd™i


159 
	g¥iv©e
:

160 
¨ía1
[
NUM_ARENA_POINTS
];

161 
	g¨ía2
[
NUM_ARENA_POINTS
];

162 
	gmö
[
NUM_FUZZY_RULES
];

164 
CÀ¨Mö
()

166 
	gi
=0;i<
	gNUM_FUZZY_RULES
;i++)

168 
	gmö
[
i
]=0;

172 
	gpublic
:

173 
Mamd™i
()

175 
CÀ¨Aª«1
();

176 
CÀ¨Aª«2
();

177 
CÀ¨Mö
();

179 
CÀ¨Aª«1
()

181 
	gi
=0;i<
	gNUM_ARENA_POINTS
;i++)

183 
	g¨ía1
[
i
]=0;

186 
CÀ¨Aª«2
()

188 
	gi
=0;i<
	gNUM_ARENA_POINTS
;i++)

190 
	g¨ía2
[
i
]=0;

194 
möVÆ
(c⁄° 
v
,c⁄° 
w
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
)

196 
	gm
 = 1;

197 i‡–
	gv
 < 
	gm
 ) m = 
v
;

198 i‡–
	gw
 < 
	gm
 ) m = 
w
;

199 i‡–
	gx
 < 
	gm
 ) m = 
x
;

200 i‡–
	gy
 < 
	gm
 ) m = 
y
;

201 i‡–
	gz
 < 
	gm
 ) m = 
z
;

202 (
	gm
);

205 
maxVÆ
(c⁄° 
v
,c⁄° 
w
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
)

207 
	gm
 = 0;

208 i‡–
	gv
 > 
	gm
 ) m = 
v
;

209 i‡–
	gw
 > 
	gm
 ) m = 
w
;

210 i‡–
	gx
 > 
	gm
 ) m = 
x
;

211 i‡–
	gy
 > 
	gm
 ) m = 
y
;

212 i‡–
	gz
 > 
	gm
 ) m = 
z
;

213 (
	gm
);

217 
ˇlcMö
(c⁄° 
fuzzy_ruÀs_t
& 
ruÀs
, c⁄° 
membî_‚s3_t
 
membî_‚s
 )

219 
	gi
=0;i<
	gNUM_FUZZY_RULES
;i++)

221 
	gmö
[
i
]=
möVÆ
–
membî_‚s
.
mf
[0][
ruÀs
.
ö
[i][0]],

222 
membî_‚s
.
mf
[1][
ruÀs
.
ö
[
i
][1]],

223 
membî_‚s
.
mf
[2][
ruÀs
.
ö
[
i
][2]],

224 
membî_‚s
.
mf
[3][
ruÀs
.
ö
[
i
][3]],

225 
membî_‚s
.
mf
[
NUM_INPUTS
-1][
ruÀs
.
ö
[
i
][NUM_INPUTS-1]]);

228 
FûlAª«s
(c⁄° 
fuzzy_ruÀs_t
& 
ruÀs
, c⁄° 
membî_‚s3_t
 
membî_‚s
)

230 
	gx
=0;

231 
	gx_öc
=1.0/
NUM_ARENA_POINTS
;

232 
	gãmpMax
;

233 
	gãmpEvÆOuçutMF
;

235 
	gi
=0;i<
	gNUM_ARENA_POINTS
;i++)

237 
	g¨ía1
[
i
]=0;

238 
	g¨ía2
[
i
]=0;

239 
	gx
=
x
+
x_öc
;

242 
	gãmpMax
=0;

245 
	gj
=0;j<
	gNUM_FUZZY_RULES
;j++)

247 
	gsimfuzlib
::
EvÆMF
(
x
, 
ruÀs
.
out
[
j
][0], 
ãmpEvÆOuçutMF
 );

249 i‡(
	gãmpEvÆOuçutMF
 > 
	gmö
[
j
])

251 i‡(
	gmö
[
j
] > 
	gãmpMax
)

252 
	gãmpMax
 = 
mö
[
j
];

256 i‡(
	gãmpEvÆOuçutMF
 > 
	gãmpMax
)

257 
	gãmpMax
 = 
ãmpEvÆOuçutMF
;

260 
	g¨ía1
[
i
]=
ãmpMax
;

263 
	gãmpMax
=0;

266 
	gj
=0;j<
	gNUM_FUZZY_RULES
;j++)

269 
	gsimfuzlib
::
EvÆMF
(
x
, 
ruÀs
.
out
[
j
][1], 
ãmpEvÆOuçutMF
 );

271 i‡(
	gãmpEvÆOuçutMF
 > 
	gmö
[
j
])

273 i‡(
	gmö
[
j
] > 
	gãmpMax
)

274 
	gãmpMax
 = 
mö
[
j
];

278 i‡(
	gãmpEvÆOuçutMF
 > 
	gãmpMax
)

279 
	gãmpMax
 = 
ãmpEvÆOuçutMF
;

282 
	g¨ía2
[
i
]=
ãmpMax
;

286 
Cíåoids
(
drive_t
 &
drive
)

288 
	g¥odSum1
=0;

289 
	gSum1
=0;

290 
	g¥odSum2
=0;

291 
	gSum2
=0;

292 
	gx
=0;

293 
	gx_öc
=1.0/
NUM_ARENA_POINTS
;

295 
	gi
=0;i<
	gNUM_ARENA_POINTS
;i++)

297 
	gx
=
x
+
x_öc
;

298 
	gSum1
+=
¨ía1
[
i
];

299 
	g¥odSum1
+=
¨ía1
[
i
]*
x
;

300 
	gSum2
+=
¨ía2
[
i
];

301 
	g¥odSum2
+=
¨ía2
[
i
]*
x
;

305 
	gdrive
.
	g°ìr
=
¥odSum2
/
Sum2
;

306 
	gdrive
.
	g•ìd
=
¥odSum1
/
Sum1
;

308 
ˇlc
(c⁄° 
fuzzy_ruÀs_t
& 
ruÀs
, c⁄° 
membî_‚s3_t
& 
membî_‚s
, 
drive_t
& 
drive
 )

311 
ˇlcMö
(
ruÀs
, 
membî_‚s
);

314 
FûlAª«s
(
ruÀs
, 
membî_‚s
);

317 
Cíåoids
(
drive
);

321 
Mamd™i
 
	tmamd™i_t
;

	@processors/executive/Common/AvrInfo.c

26 
	~<°dlib.h
>

27 
	~"AvrInfo.h
"

33 
	#AVR_ENTRY
–
∑πNum
 ) \

35 
	`AVR_PART_STRING
–
∑πNum
 ), \

36 
	`AVR_PART_SIGNATURE
–
∑πNum
 ), \

37 
	`AVR_PART_FLASH_SIZE
–
∑πNum
 ), \

38 
	`AVR_PART_BOOT_SIZE
–
∑πNum
 ), \

39 
	`AVR_PART_PAGE_SIZE
–
∑πNum
 ), \

40 
	`AVR_PART_PAGE_SHIFT
–
∑πNum
 ) \

41 }

	)

45 c⁄° 
AvrInfo_t
 
	ggAvrInfo
[] =

47 
AVR_ENTRY
–
ATMEGA_48
 ),

48 
AVR_ENTRY
–
ATMEGA_8
 ),

49 
AVR_ENTRY
–
ATMEGA_88
 ),

50 
AVR_ENTRY
–
ATMEGA_16
 ),

51 
AVR_ENTRY
–
ATMEGA_168
 ),

52 
AVR_ENTRY
–
ATMEGA_169
 ),

53 
AVR_ENTRY
–
ATMEGA_32
 ),

54 
AVR_ENTRY
–
ATMEGA_64
 ),

55 
AVR_ENTRY
–
ATMEGA_128
 ),

58 c⁄° 
	ggNumAvrInfoE¡rõs
 = –
gAvrInfo
 ) / ( gAvrInfo[ 0 ]);

68 c⁄° 
AvrInfo_t
 *
	$FödAvrInfoBySig«tuª
–
uöt16_t
 
sig«tuª
 )

70 
i
;

72  
i
 = 0; i < 
gNumAvrInfoE¡rõs
; i++ )

74 i‡–
gAvrInfo
[ 
i
 ].
m_sig«tuª
 =
sig«tuª
 )

76  &
gAvrInfo
[ 
i
 ];

80  
NULL
;

82 
	}
}

	@processors/executive/Common/AvrInfo.h

24 #i‡!
deföed
–
AVRINFO_H
 )

25 
	#AVRINFO_H


26 

	)

29 
	~<öây≥s.h
>

35 c⁄° *
	mm_°rög
;

36 
uöt16_t
 
	mm_sig«tuª
;

37 
uöt32_t
 
	mm_ÊashSize
;

38 
uöt16_t
 
	mm_boŸSize
;

39 
uöt16_t
 
	mm_ì¥omSize
;

40 
uöt16_t
 
	mm_∑geSize
;

41 
uöt8_t
 
	mm_∑geShi·
;

43 } 
	tAvrInfo_t
;

48 
	#AVR_ATMEGA_48_STRING
 "ATMega48"

	)

49 
	#AVR_ATMEGA_48_SIGNATURE
 0x9205

	)

50 
	#AVR_ATMEGA_48_FLASH_SIZE
 ( 4 * 1024 )

	)

51 
	#AVR_ATMEGA_48_BOOT_SIZE
 ( 4 * 1024 )

	)

52 
	#AVR_ATMEGA_48_EEPROM_SIZE
 256

	)

53 
	#AVR_ATMEGA_48_PAGE_SHIFT
 6

	)

54 
	#AVR_ATMEGA_48_PAGE_SIZE
 64

	)

56 
	#AVR_ATMEGA_8_STRING
 "ATMega8"

	)

57 
	#AVR_ATMEGA_8_SIGNATURE
 0x9307

	)

58 
	#AVR_ATMEGA_8_FLASH_SIZE
 ( 8 * 1024 )

	)

59 
	#AVR_ATMEGA_8_BOOT_SIZE
 ( 2 * 1024 )

	)

60 
	#AVR_ATMEGA_8_EEPROM_SIZE
 512

	)

61 
	#AVR_ATMEGA_8_PAGE_SHIFT
 6

	)

62 
	#AVR_ATMEGA_8_PAGE_SIZE
 64

	)

64 
	#AVR_ATMEGA_88_STRING
 "ATMega88"

	)

65 
	#AVR_ATMEGA_88_SIGNATURE
 0x930A

	)

66 
	#AVR_ATMEGA_88_FLASH_SIZE
 ( 8 * 1024 )

	)

67 
	#AVR_ATMEGA_88_BOOT_SIZE
 ( 2 * 1024 )

	)

68 
	#AVR_ATMEGA_88_EEPROM_SIZE
 512

	)

69 
	#AVR_ATMEGA_88_PAGE_SHIFT
 6

	)

70 
	#AVR_ATMEGA_88_PAGE_SIZE
 64

	)

72 
	#AVR_ATMEGA_16_STRING
 "ATMega16"

	)

73 
	#AVR_ATMEGA_16_SIGNATURE
 0x9403

	)

74 
	#AVR_ATMEGA_16_FLASH_SIZE
 ( 16 * 1024 )

	)

75 
	#AVR_ATMEGA_16_BOOT_SIZE
 ( 2 * 1024 )

	)

76 
	#AVR_ATMEGA_16_EEPROM_SIZE
 512

	)

77 
	#AVR_ATMEGA_16_PAGE_SHIFT
 7

	)

78 
	#AVR_ATMEGA_16_PAGE_SIZE
 128

	)

80 
	#AVR_ATMEGA_168_STRING
 "ATMega168"

	)

81 
	#AVR_ATMEGA_168_SIGNATURE
 0x9406

	)

82 
	#AVR_ATMEGA_168_FLASH_SIZE
 ( 16 * 1024 )

	)

83 
	#AVR_ATMEGA_168_BOOT_SIZE
 ( 2 * 1024 )

	)

84 
	#AVR_ATMEGA_168_EEPROM_SIZE
 512

	)

85 
	#AVR_ATMEGA_168_PAGE_SHIFT
 7

	)

86 
	#AVR_ATMEGA_168_PAGE_SIZE
 128

	)

88 
	#AVR_ATMEGA_169_STRING
 "ATMega169"

	)

89 
	#AVR_ATMEGA_169_SIGNATURE
 0x9405

	)

90 
	#AVR_ATMEGA_169_FLASH_SIZE
 ( 16 * 1024 )

	)

91 
	#AVR_ATMEGA_169_BOOT_SIZE
 ( 2 * 1024 )

	)

92 
	#AVR_ATMEGA_169_EEPROM_SIZE
 512

	)

93 
	#AVR_ATMEGA_169_PAGE_SHIFT
 7

	)

94 
	#AVR_ATMEGA_169_PAGE_SIZE
 128

	)

96 
	#AVR_ATMEGA_32_STRING
 "ATMega32"

	)

97 
	#AVR_ATMEGA_32_SIGNATURE
 0x9502

	)

98 
	#AVR_ATMEGA_32_FLASH_SIZE
 ( 32 * 1024 )

	)

99 
	#AVR_ATMEGA_32_BOOT_SIZE
 ( 4 * 1024 )

	)

100 
	#AVR_ATMEGA_32_EEPROM_SIZE
 ( 1 * 1024 )

	)

101 
	#AVR_ATMEGA_32_PAGE_SHIFT
 7

	)

102 
	#AVR_ATMEGA_32_PAGE_SIZE
 128

	)

104 
	#AVR_ATMEGA_64_STRING
 "ATMega64"

	)

105 
	#AVR_ATMEGA_64_SIGNATURE
 0x9602

	)

106 
	#AVR_ATMEGA_64_FLASH_SIZE
 ( 64 * 1024 )

	)

107 
	#AVR_ATMEGA_64_BOOT_SIZE
 ( 8 * 1024 )

	)

108 
	#AVR_ATMEGA_64_EEPROM_SIZE
 ( 2 * 1024 )

	)

109 
	#AVR_ATMEGA_64_PAGE_SHIFT
 8

	)

110 
	#AVR_ATMEGA_64_PAGE_SIZE
 256

	)

112 
	#AVR_ATMEGA_128_STRING
 "ATMega128"

	)

113 
	#AVR_ATMEGA_128_SIGNATURE
 0x9702

	)

114 
	#AVR_ATMEGA_128_FLASH_SIZE
 ( 128 * 1024 )

	)

115 
	#AVR_ATMEGA_128_BOOT_SIZE
 ( 8 * 1024 )

	)

116 
	#AVR_ATMEGA_128_EEPROM_SIZE
 ( 4 * 1024 )

	)

117 
	#AVR_ATMEGA_128_PAGE_SHIFT
 8

	)

118 
	#AVR_ATMEGA_128_PAGE_SIZE
 256

	)

120 
	#AVR_PART_STRING
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_STRING


	)

121 
	#AVR_PART_SIGNATURE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_SIGNATURE


	)

122 
	#AVR_PART_FLASH_SIZE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_FLASH_SIZE


	)

123 
	#AVR_PART_BOOT_SIZE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_BOOT_SIZE


	)

124 
	#AVR_PART_EEPROM_SIZE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_EEPROM_SIZE


	)

125 
	#AVR_PART_PAGE_SHIFT
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_PAGE_SHIFT


	)

126 
	#AVR_PART_PAGE_SIZE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_PAGE_SIZE


	)

128 #i‡
deföed
–
__AVR__
 )

130 #i‡
deföed
 ( 
__AVR_ATmega48__
 )

131 
	#AVR_PART_NUM
 
ATMEGA_48


	)

133 #ñi‡
deföed
–
__AVR_ATmega8__
 )

134 
	#AVR_PART_NUM
 
ATMEGA_8


	)

136 #ñi‡
deföed
–
__AVR_ATmega88__
 )

137 
	#AVR_PART_NUM
 
ATMEGA_88


	)

139 #ñi‡
deföed
–
__AVR_ATmega16__
 )

140 
	#AVR_PART_NUM
 
ATMEGA_16


	)

142 #ñi‡
deföed
–
__AVR_ATmega168__
 )

143 
	#AVR_PART_NUM
 
ATMEGA_168


	)

145 #ñi‡
deföed
–
__AVR_ATmega169__
 )

146 
	#AVR_PART_NUM
 
ATMEGA_169


	)

148 #ñi‡
deföed
–
__AVR_ATmega32__
 )

149 
	#AVR_PART_NUM
 
ATMEGA_32


	)

151 #ñi‡
deföed
–
__AVR_ATmega64__
 )

152 
	#AVR_PART_NUM
 
ATMEGA_64


	)

154 #ñi‡
deföed
–
__AVR_ATmega128__
 )

155 
	#AVR_PART_NUM
 
ATMEGA_128


	)

158 #îr‹ 
Uƒecognized
 
AVR
 
Devi˚


161 
	#AVR_PART_STRING2
–
∑π
 ) 
	`AVR_PART_STRING
–∑π )

	)

162 
	#AVR_PART_SIGNATURE2
–
∑π
 ) 
	`AVR_PART_SIGNATURE
–∑π )

	)

163 
	#AVR_PART_FLASH_SIZE2
–
∑π
 ) 
	`AVR_PART_FLASH_SIZE
–∑π )

	)

164 
	#AVR_PART_BOOT_SIZE2
–
∑π
 ) 
	`AVR_PART_BOOT_SIZE
–∑π )

	)

165 
	#AVR_PART_EEPROM_SIZE2
–
∑π
 ) 
	`AVR_PART_EEPROM_SIZE
–∑π )

	)

166 
	#AVR_PART_PAGE_SHIFT2
–
∑π
 ) 
	`AVR_PART_PAGE_SHIFT
–∑π )

	)

167 
	#AVR_PART_PAGE_SIZE2
–
∑π
 ) 
	`AVR_PART_PAGE_SIZE
–∑π )

	)

169 
	#AVR_STRING
 
	`AVR_PART_STRING2
–
AVR_PART_NUM
 )

	)

170 
	#AVR_SIGNATURE
 
	`AVR_PART_SIGNATURE2
–
AVR_PART_NUM
 )

	)

171 
	#AVR_FLASH_SIZE
 
	`AVR_PART_FLASH_SIZE2
–
AVR_PART_NUM
 )

	)

172 
	#AVR_BOOT_SIZE
 
	`AVR_PART_BOOT_SIZE2
–
AVR_PART_NUM
 )

	)

173 
	#AVR_EEPROM_SIZE
 
	`AVR_PART_EEPROM_SIZE2
–
AVR_PART_NUM
 )

	)

174 
	#AVR_PAGE_SHIFT
 
	`AVR_PART_PAGE_SHIFT2
–
AVR_PART_NUM
 )

	)

175 
	#AVR_PAGE_SIZE
 
	`AVR_PART_PAGE_SIZE2
–
AVR_PART_NUM
 )

	)

183 #i‡
deföed
–
__˝lu•lus
 )

188 c⁄° 
AvrInfo_t
 *
FödAvrInfoBySig«tuª
–
uöt16_t
 
sig«tuª
 );

190 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Common/BootLoader-api.c

26 
	~<°ddef.h
>

27 
	~<°dlib.h
>

28 
	~<°rög.h
>

29 
	~<î∫o.h
>

31 
	~"i2c-≠i.h
"

32 
	~"AvrInfo.h
"

33 
	~"BoŸLﬂdî.h
"

34 
	~"BoŸLﬂdî-≠i.h
"

35 
	~"DumpMem.h
"

36 
	~"Log.h
"

42 
	#TRUE
 1

	)

43 
	#FALSE
 0

	)

49 
BoŸLﬂdîSëSåu˘Size
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
 );

58 
	$BoŸLﬂdîCheckVîsi⁄
–c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
 )

63 i‡–
boŸInfo
->
möVîsi⁄
 > 
BL_API_VERSION
 )

65 
	`LogEº‹
( "BootLoader device isÅooÇew; Host is (%d-%d) Device is (%d-%d)\n",

66 
BL_API_MIN_VERSION
, 
BL_API_VERSION
,

67 
boŸInfo
->
möVîsi⁄
, boŸInfo->
vîsi⁄
 );

72 i‡–
BL_API_MIN_VERSION
 > 
boŸInfo
->
vîsi⁄
 )

74 
	`LogEº‹
( "BootLoader device isÅoo old; Host is (%d-%d) Device is (%d-%d)\n",

75 
BL_API_MIN_VERSION
, 
BL_API_VERSION
,

76 
boŸInfo
->
möVîsi⁄
, boŸInfo->
vîsi⁄
 );

82 
	}
}

89 
	$BoŸLﬂdîGëBoŸDñay
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
uöt8_t
 *
boŸDñay
 )

91 
uöt32_t
 
boŸDñayAddr
;

93 
boŸDñayAddr
 = 
boŸInfo
->
ì¥omSize
 - –
BoŸLﬂdîEïromD©a_t
 )

94 + 
	`off£tof
–
BoŸLﬂdîEïromD©a_t
, 
boŸDñay
 );

96  
	`BoŸLﬂdîRód
–
i2cDev
, 
BL_MEM_TYPE_EEPROM
, 
boŸDñayAddr
, 1, 
boŸDñay
 );

98 
	}
}

105 
	$BoŸLﬂdîGëI2cAddr
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
I2C_Addr_t
 *
i2cAddr
 )

107 
uöt32_t
 
i2cAddrAddr
;

109 
	`LogDebug
( "----- BootLoaderGetI2cAddr -----\n" );

111 
i2cAddrAddr
 = 
boŸInfo
->
ì¥omSize
 - –
BoŸLﬂdîEïromD©a_t
 )

112 + 
	`off£tof
–
BoŸLﬂdîEïromD©a_t
, 
i2cAddr
 );

114  
	`BoŸLﬂdîRód
–
i2cDev
, 
BL_MEM_TYPE_EEPROM
, 
i2cAddrAddr
, 1, 
i2cAddr
 );

116 
	}
}

123 
	$BoŸLﬂdîGëInfo
–
i2cDev
, 
BoŸLﬂdîInfo_t
 *
boŸInfo
 )

125 
	`LogDebug
( "----- BootLoaderGetInfo -----\n" );

127 i‡–
	`I2cRódBlock
–
i2cDev
, 
BL_REG_GET_INFO
, 
boŸInfo
, –*boŸInfÿ), 
NULL
 ) != 0 )

129 
	`LogEº‹
( "I2cReadBlock failed\n" );

130  
FALSE
;

133  
TRUE
;

135 
	}
}

142 
	$BoŸLﬂdîGëNodeName
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, *
nodeName
 )

144 
uöt32_t
 
nodeNameAddr
;

146 
nodeNameAddr
 = 
boŸInfo
->
ì¥omSize
 - –
BoŸLﬂdîEïromD©a_t
 )

147 + 
	`off£tof
–
BoŸLﬂdîEïromD©a_t
, 
«me
 );

149  
	`BoŸLﬂdîRód
–
i2cDev
, 
BL_MEM_TYPE_EEPROM
, 
nodeNameAddr
, 
BL_NODE_NAME_LEN
, 
nodeName
 );

151 
	}
}

158 
	$BoŸLﬂdîPrötInfo
–c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
vîbo£
 )

160 c⁄° 
AvrInfo_t
 *
avrInfo
 = 
	`FödAvrInfoBySig«tuª
–
boŸInfo
->
∑πNumbî
 );

161 c⁄° *
avrSåög
;

163 i‡–
avrInfo
 =
NULL
 )

165 
avrSåög
 = "*** Unknown ***";

169 
avrSåög
 = 
avrInfo
->
m_°rög
;

172 i‡–
vîbo£
 )

174 
	`Log
–"I2C Dev Addr: 0x%02x\n", 
boŸInfo
->
devAddr
 );

175 
	`Log
–" Vîsi⁄: %d\n", 
boŸInfo
->
vîsi⁄
 );

176 
	`Log
–" MöVîsi⁄: %d\n", 
boŸInfo
->
möVîsi⁄
 );

177 
	`Log
–" P¨àNumbî: 0x%04x (%s)\n", 
boŸInfo
->
∑πNumbî
, 
avrSåög
 );

178 
	`Log
–" Reg Size: %4d\n", 
boŸInfo
->
ªgSize
 );

179 
	`Log
–" RAM Size: %4d\n", 
boŸInfo
->
ømSize
 );

180 
	`Log
–" EEPROM Size: %4d\n", 
boŸInfo
->
ì¥omSize
 );

181 
	`Log
–" PagêSize: %4d\n", 
boŸInfo
->
•mPageSize
 );

182 
	`Log
–" Fœsh Size: %4dk\n", 
boŸInfo
->
ÊashSize
 / 1024 );

186 
	`Log
–"Dëe˘ed %s\n", 
avrSåög
 );

189 
	}
}

196 
	$BoŸLﬂdîSëBoŸDñay
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
uöt8_t
 
boŸDñay
 )

198 
uöt32_t
 
boŸDñayAddr
;

200 
boŸDñayAddr
 = 
boŸInfo
->
ì¥omSize
 - –
BoŸLﬂdîEïromD©a_t
 )

201 + 
	`off£tof
–
BoŸLﬂdîEïromD©a_t
, 
boŸDñay
 );

203 
	`BoŸLﬂdîSëSåu˘Size
–
i2cDev
, 
boŸInfo
 );

205  
	`BoŸLﬂdîWrôe
–
i2cDev
, 
BL_MEM_TYPE_EEPROM
, 
boŸDñayAddr
, 1, &
boŸDñay
 );

207 
	}
}

214 
	$BoŸLﬂdîSëI2cAddr
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
I2C_Addr_t
 
i2cAddr
 )

216 
uöt32_t
 
i2cAddrAddr
;

218 
i2cAddrAddr
 = 
boŸInfo
->
ì¥omSize
 - –
BoŸLﬂdîEïromD©a_t
 )

219 + 
	`off£tof
–
BoŸLﬂdîEïromD©a_t
, 
i2cAddr
 );

221 
	`BoŸLﬂdîSëSåu˘Size
–
i2cDev
, 
boŸInfo
 );

223  
	`BoŸLﬂdîWrôe
–
i2cDev
, 
BL_MEM_TYPE_EEPROM
, 
i2cAddrAddr
, 1, &
i2cAddr
 );

225 
	}
}

232 
	$BoŸLﬂdîSëNodeName
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, c⁄° *
nodeName
 )

234 
uöt32_t
 
nodeNameAddr
;

235 
nodeNameBuf
[ 
BL_NODE_NAME_LEN
 ];

237 
nodeNameAddr
 = 
boŸInfo
->
ì¥omSize
 - –
BoŸLﬂdîEïromD©a_t
 )

238 + 
	`off£tof
–
BoŸLﬂdîEïromD©a_t
, 
«me
 );

240 
	`mem£t
–
nodeNameBuf
, 0, (ÇodeNameBuf ));

241 
	`°∫˝y
–
nodeNameBuf
, 
nodeName
, (ÇodeNameBuf ));

242 
nodeNameBuf
[ (ÇodeNameBuf ) - 1 ] = '\0';

244 
	`BoŸLﬂdîSëSåu˘Size
–
i2cDev
, 
boŸInfo
 );

246  
	`BoŸLﬂdîWrôe
–
i2cDev
, 
BL_MEM_TYPE_EEPROM
, 
nodeNameAddr
, 
BL_NODE_NAME_LEN
, 
nodeNameBuf
 );

248 
	}
}

255 
	$BoŸLﬂdîSëSåu˘Size
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
 )

257 
uöt32_t
 
sizeAddr
;

258 
uöt8_t
 
°ru˘Size
;

259 
rc
;

261 
sizeAddr
 = 
boŸInfo
->
ì¥omSize
 - –
BoŸLﬂdîEïromD©a_t
 )

262 + 
	`off£tof
–
BoŸLﬂdîEïromD©a_t
, 
°ru˘Size
 );

264 i‡(–
rc
 = 
	`BoŸLﬂdîRód
–
i2cDev
, 
BL_MEM_TYPE_EEPROM
, 
sizeAddr
, 1, &
°ru˘Size
 )Ë=
TRUE
 )

266 i‡–
°ru˘Size
 !–*
boŸInfo
 ))

268 
°ru˘Size
 = –*
boŸInfo
 );

269 
rc
 = 
	`BoŸLﬂdîWrôe
–
i2cDev
, 
BL_MEM_TYPE_EEPROM
, 
sizeAddr
, 1, &
°ru˘Size
 );

273  
rc
;

275 
	}
}

282 
	$BoŸLﬂdîRód
–
i2cDev
, 
uöt8_t
 
memTy≥
, 
uöt32_t
 
memAddr
, uöt8_à
numByãs
, *
ªadBuf
 )

284 
BoŸLﬂdîRód_t
 
ªq
;

285 
uöt8_t
 
byãsRód
 = 0;

287 
	`LogDebug
( "----- BootLoaderRead memType:%d memAddr:0x%08xÇumBytes:%d -----\n",

288 
memTy≥
, 
memAddr
, 
numByãs
 );

290 
ªq
.
addr
.
vÆ32
 = 
memAddr
;

291 
ªq
.
addr
.
byã
[3] = 
memTy≥
;

292 
ªq
.
Àn
 = 
numByãs
;

293 
ªq
.
∑d
[ 0 ] = 0;

294 
ªq
.
∑d
[ 1 ] = 0;

295 
ªq
.
∑d
[ 2 ] = 0;

297 i‡–
	`I2cPro˚ssBlock
–
i2cDev
, 
BL_REG_READ_DATA
, &
ªq
, –ªq ), 
ªadBuf
, 
numByãs
, &
byãsRód
 ) != 0 )

299 
	`LogEº‹
–"BoŸLﬂdîRód: I2cRódBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

300  
FALSE
;

303 i‡–
gDebug
 )

305 
	`DumpMem
–"Ród", 0, 
ªadBuf
, 
byãsRód
 );

308  
TRUE
;

310 
	}
}

317 
	$BoŸLﬂdîReboŸ
–
i2cDev
 )

319 i‡–
	`I2cWrôeBlock
–
i2cDev
, 
BL_CMD_REBOOT
, 
NULL
, 0 ) != 0 )

321 
	`LogEº‹
–"BoŸLﬂdîReboŸ: I2cWrôeBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

322  
FALSE
;

324  
TRUE
;

326 
	}
}

333 
	$BoŸLﬂdîRunProgøm
–
i2cDev
 )

335 i‡–
	`I2cWrôeBlock
–
i2cDev
, 
BL_CMD_RUN_APP
, 
NULL
, 0 ) != 0 )

337 
	`LogEº‹
–"BoŸLﬂdîRunProgøm: I2cWrôeBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

338  
FALSE
;

340  
TRUE
;

342 
	}
}

349 
	$BoŸLﬂdîWrôe
–
i2cDev
, 
uöt8_t
 
memTy≥
, 
uöt32_t
 
memAddr
, uöt8_à
numByãs
, *
wrôeBuf
 )

351 
BoŸLﬂdîWrôe_t
 
ªq
;

353 
	`LogDebug
( "----- BootLoaderWrite memType:%d memAddr:0x%08xÇumBytes:%d -----\n",

354 
memTy≥
, 
memAddr
, 
numByãs
 );

356 
ªq
.
addr
.
vÆ32
 = 
memAddr
;

357 
ªq
.
addr
.
byã
[ 3 ] = 
memTy≥
;

359 i‡–
numByãs
 > –
ªq
.
d©a
 ))

361 
numByãs
 = –
ªq
.
d©a
 );

363 i‡–
numByãs
 > 0 )

365 
	`mem˝y
–&
ªq
.
d©a
[ 0 ], 
wrôeBuf
, 
numByãs
 );

368 i‡–
	`I2cWrôeBlock
–
i2cDev
, 
BL_REG_WRITE_DATA
, &
ªq
, 
	`off£tof
–
BoŸLﬂdîWrôe_t
, 
d©a
 ) + 
numByãs
 ) != 0 )

370 
	`LogEº‹
–"BoŸLﬂdîWrôe: I2cWrôeBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

371  
FALSE
;

374 i‡–
gDebug
 )

376 
	`DumpMem
–"Wrôe", 
memAddr
, 
wrôeBuf
, 
numByãs
 );

379  
TRUE
;

381 
	}
}

	@processors/executive/Common/BootLoader-api.h

24 #i‡!
deföed
–
BOOTLOADER_API_H
 )

25 
	#BOOTLOADER_API_H


	)

29 
	~<öây≥s.h
>

30 
	~"../Sh¨ed/BoŸLﬂdî.h
"

38 
BoŸLﬂdîCheckVîsi⁄
–c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
 );

40 
BoŸLﬂdîGëBoŸDñay
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
uöt8_t
 *
boŸDñay
 );

41 
BoŸLﬂdîGëI2cAddr
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
I2C_Addr_t
 *
i2cAddr
 );

42 
BoŸLﬂdîGëInfo
–
i2cDev
, 
BoŸLﬂdîInfo_t
 *
boŸInfo
 );

43 
BoŸLﬂdîGëNodeName
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, *
nodeName
 );

45 
BoŸLﬂdîPrötInfo
–c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
vîbo£
 );

47 
BoŸLﬂdîSëBoŸDñay
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
uöt8_t
 
boŸDñay
 );

48 
BoŸLﬂdîSëI2cAddr
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, 
I2C_Addr_t
 
i2cAddr
 );

49 
BoŸLﬂdîSëNodeName
–
i2cDev
, c⁄° 
BoŸLﬂdîInfo_t
 *
boŸInfo
, c⁄° *
nodeName
 );

51 
BoŸLﬂdîReboŸ
–
i2cDev
 );

52 
BoŸLﬂdîRunProgøm
–
i2cDev
 );

54 
BoŸLﬂdîRód
–
i2cDev
, 
uöt8_t
 
memTy≥
, 
uöt32_t
 
memAddr
, uöt8_à
numByãs
, *
ªadBuf
 );

55 
BoŸLﬂdîWrôe
–
i2cDev
, 
uöt8_t
 
memTy≥
, 
uöt32_t
 
memAddr
, uöt8_à
numByãs
, *
wrôeBuf
 );

	@processors/executive/Common/FILE_Data.c

25 
	~<°dio.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

28 
	~<î∫o.h
>

30 
	~"FILE_D©a.h
"

38 
SèπSegmít
–*
u£rD©a
, 
FILE_Addr_t
 
addr
 );

39 
P¨£dD©a
–*
u£rD©a
, 
FILE_P¨£dD©a_t
 *
∑r£dD©a
 );

48 
FILE_D©a_t
 *
	$FILE_RódD©a
–c⁄° *
fûeName
 )

50 
FILE_P¨£rCÆlback_t
 
ˇŒback
;

51 
FILE_D©a_t
 *
fûeD©a
;

53 i‡(–
fûeD©a
 = 
	`ˇŒoc
–1, –*fûeD©®))Ë=
NULL
 )

55  
NULL
;

57 
fûeD©a
->
fûeName
 = 
	`°rdup
( fileName );

59 
	`mem£t
–&
ˇŒback
, 0, ( callback ));

61 
ˇŒback
.
u£rD©a
 = 
fûeD©a
;

62 
ˇŒback
.
SèπSegmít
 = StartSegment;

63 
ˇŒback
.
P¨£dD©a
 = ParsedData;

65 i‡–!
	`FILE_P¨£Fûe
–
fûeName
, &
ˇŒback
 ))

67 
	`FILE_FªeD©a
–
fûeD©a
 );

68 
fûeD©a
 = 
NULL
;

71  
fûeD©a
;

73 
	}
}

80 
	$FILE_FªeD©a
–
FILE_D©a_t
 *
fûeD©a
 )

82 
FILE_Block_t
 *
block
;

84 
block
 = 
fûeD©a
->
hód
;

86  
block
 !
NULL
 )

88 
FILE_Block_t
 *
√xtBlock
 = 
block
->
√xt
;

90 
	`‰ì
–
block
->
d©a
 );

91 
	`‰ì
–
block
 );

93 
block
 = 
√xtBlock
;

96 
	`‰ì
–
fûeD©a
->
fûeName
 );

97 
	`‰ì
–
fûeD©a
 );

99 
	}
}

106 
	$SèπSegmít
–*
u£rD©a
, 
FILE_Addr_t
 
addr
 )

108 
FILE_D©a_t
 *
fûeD©a
 = 
u£rD©a
;

109 
FILE_Block_t
 *
block
;

111 i‡(–
block
 = 
	`ˇŒoc
–1, –*block ))Ë=
NULL
 )

113 
î∫o
 = 
ENOMEM
;

116 
block
->
addªss
 = 
addr
;

117 
block
->
blockLí
 = 0;

119 i‡(–
block
->
d©a
 = 
	`ˇŒoc
–1, 
FILE_BLOCK_SIZE
 )Ë=
NULL
 )

121 
î∫o
 = 
ENOMEM
;

124 i‡–
fûeD©a
->
èû
 !
NULL
 )

126 
fûeD©a
->
èû
->
√xt
 = 
block
;

128 i‡–
fûeD©a
->
hód
 =
NULL
 )

130 
fûeD©a
->
hód
 = 
block
;

132 
fûeD©a
->
èû
 = 
block
;

136 
	}
}

143 
	$P¨£dD©a
–*
u£rD©a
, 
FILE_P¨£dD©a_t
 *
∑r£dD©a
 )

145 
FILE_D©a_t
 *
fûeD©a
 = 
u£rD©a
;

146 
FILE_Block_t
 *
block
 = 
fûeD©a
->
èû
;

147 
•a˚Remaöög
 = 
FILE_BLOCK_SIZE
 - 
block
->
blockLí
;

148 
off£t
 = 0;

152 
c›yLí
 = 
∑r£dD©a
->
d©aLí
;

153 i‡–
c›yLí
 > 
•a˚Remaöög
 )

155 
c›yLí
 = 
•a˚Remaöög
;

157 i‡–
c›yLí
 > 0 )

159 
	`mem˝y
–&
block
->
d©a
[ block->
blockLí
 ], &
∑r£dD©a
->d©a[ 0 ], 
c›yLí
 );

160 
block
->
blockLí
 +
c›yLí
;

161 
off£t
 +
c›yLí
;

167 i‡–
off£t
 < 
∑r£dD©a
->
d©aLí
 )

171 
	`SèπSegmít
–
fûeD©a
, 
∑r£dD©a
->
addr
 + 
off£t
 );

173 
c›yLí
 = 
∑r£dD©a
->
d©aLí
 - 
off£t
;

174 
block
 = 
fûeD©a
->
èû
;

175 
	`mem˝y
–&
block
->
d©a
[ 0 ], &
∑r£dD©a
->d©a[ 
off£t
 ], 
c›yLí
 );

176 
block
->
blockLí
 = 
c›yLí
;

181 
	}
}

	@processors/executive/Common/FILE_Data.h

23 #i‡!
deföed
–
FILE_DATA_H
 )

24 
	#FILE_DATA_H


25 

	)

28 
	~<öây≥s.h
>

29 
	~"FILE_P¨£r.h
"

33 
	#FILE_BLOCK_SIZE
 1024

	)

35 
uöt32_t
 
	tFILE_BlockLí_t
;

39 
	gFILE_Block_s
;

40 
FILE_Block_s
 
	tFILE_Block_t
;

42 
	sFILE_Block_s


44 
FILE_Addr_t
 
	maddªss
;

45 
FILE_BlockLí_t
 
	mblockLí
;

46 
uöt8_t
 *
	md©a
;

48 
FILE_Block_t
 *
	m√xt
;

53 *
	mfûeName
;

55 
FILE_Block_t
 *
	mhód
;

56 
FILE_Block_t
 *
	mèû
;

58 } 
	tFILE_D©a_t
;

62 #i‡
deföed
–
__˝lu•lus
 )

67 
FILE_D©a_t
 *
FILE_RódD©a
–c⁄° *
fûeName
 );

69 
FILE_FªeD©a
–
FILE_D©a_t
 *
fûeD©a
 );

71 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Common/FILE_Parser.c

	@processors/executive/Common/FILE_Parser.h

23 #i‡!
deföed
–
FILE_PARSER_H
 )

24 
	#FILE_PARSER_H


25 

	)

28 
	~<°d¨g.h
>

29 
	~<öây≥s.h
>

33 
uöt32_t
 
	tFILE_Addr_t
;

34 
uöt32_t
 
	tFILE_SegmítLí_t
;

35 
	tFILE_LöeNum_t
;

36 
uöt8_t
 
	tFILE_P¨£dLí_t
;

40 
FILE_LöeNum_t
 
	mlöeNum
;

41 
FILE_Addr_t
 
	maddr
;

42 
FILE_P¨£dLí_t
 
	md©aLí
;

43 
FILE_P¨£dLí_t
 
	md©aAŒoc
;

44 
uöt8_t
 *
	md©a
;

46 } 
	tFILE_P¨£dD©a_t
;

50 
	gFILE_P¨£rCÆlback_s
;

51 
FILE_P¨£rCÆlback_s
 
	tFILE_P¨£rCÆlback_t
;

53 
	sFILE_P¨£rCÆlback_s


55 *
	mu£rD©a
;

66 (*
	mSèπSegmít
)–*
	mu£rD©a
, 
FILE_Addr_t
 
	maddr
 );

76 (*
	mP¨£dD©a
)–*
	mu£rD©a
, 
FILE_P¨£dD©a_t
 *
	m∑r£dD©a
 );

86 (*
	mFöishSegmít
)–*
	mu£rD©a
, 
FILE_Addr_t
 
	maddr
, 
FILE_SegmítLí_t
 
	m£gLí
 );

93 (*
	mP¨£Eº‹
)–*
	mu£rD©a
, 
FILE_LöeNum_t
 
	mlöeNum
, c⁄° *
	mfmt
, 
va_li°
 
	m¨gs
 );

99 #i‡
deföed
–
__˝lu•lus
 )

104 
FILE_P¨£Fûe
–c⁄° *
fûeName
, 
FILE_P¨£rCÆlback_t
 *
ˇŒback
 );

106 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Common/SerialLog.c

	@processors/executive/Common/SerialLog.h

29 #i‡!
deföed
–
SERIALLOG_H
 )

30 
	#SERIALLOG_H


31 

	)

34 
	~<ãrmios.h
>

38 
	#SERIAL_LOG_FFUART
 0

	)

39 
	#SERIAL_LOG_BTUART
 1

	)

40 
	#SERIAL_LOG_STUART
 2

	)

41 
	#SERIAL_LOG_HWUART
 3

	)

43 
	#SERIAL_LOG_NO_COLOR
 0

	)

44 
	#SERIAL_LOG_COLORIZE
 1

	)

46 
gSîülLogCﬁ‹ize
;

50 #i‡
deföed
–
__˝lu•lus
 )

55 
GëSîülLogFûeDes¸ùt‹
( );

57 
SèπSîülLog
–
•ìd_t
 
•ìd
, 
p‹t
 );

58 
St›SîülLog
( );

60 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Common/i2c-api.c

26 
	~<°rög.h
>

27 
	~<î∫o.h
>

29 
	~"i2c.h
"

30 
	~"i2c-dev.h
"

31 
	~"i2c-≠i.h
"

33 
	~"Crc8.h
"

34 
	~"DumpMem.h
"

35 
	~"Log.h
"

43 
I2C_Addr_t
 
	ggI2cAddr
;

44 
	ggU£Crc
;

57 
	$I2cSëSœveAddªss
–
i2cDev
, 
I2C_Addr_t
 
i2cAddr
, 
u£Crc
 )

59 
gI2cAddr
 = 
i2cAddr
;

60 
gU£Crc
 = 
u£Crc
;

62 
	`LogDebug
( "----- I2cSetSlaveAddress i2cAddr:0x%02x useCrc:%d -----\n",

63 
i2cAddr
, 
u£Crc
 );

67 i‡–
	`io˘l
–
i2cDev
, 
I2C_SLAVE
, 
gI2cAddr
 ) < 0 )

69 
	`LogEº‹
( "I2cSetSlaveAddress: ErrorÅryingÅo set slaveáddressÅo 0x%02x (%d %s)\n",

70 
gI2cAddr
, 
î∫o
, 
	`°ªº‹
(Érrno ));

79 i‡–
	`io˘l
–
i2cDev
, 
I2C_PEC
, 1 ) < 0 )

81 
	`LogEº‹
( "I2cSetSlaveAddress: ErrorÅryingÅo set PEC mode\n" );

85 
	}
}

108 
	gI2cTøns„r


110 
	gi2cDev
,

111 
uöt8_t
 
	gcmd
,

112 c⁄° *
	gwrD©a
,

113 
uöt8_t
 
	gwrLí
,

114 *
	grdD©a
,

115 
uöt8_t
 
	grdLí
,

116 
uöt8_t
 *
	gbyãsRódp


119 
i2c_rdwr_io˘l_d©a
 
	grdwr
;

120 
i2c_msg
 
	gmsg
[ 2 ];

121 
uöt8_t
 
	gwrBuf
[ 
I2C_MAX_DATA_LEN
 + 3 ];

122 
uöt8_t
 
	grdBuf
[ 
I2C_MAX_DATA_LEN
 + 2 ];

123 
uöt8_t
 
	g¸c
 = 0;

124 
uöt8_t
 
	gwrBlock
 = (–
wrLí
 & 0x80 ) != 0 );

125 
uöt8_t
 
	grdBlock
 = (–
rdLí
 & 0x80 ) != 0 );

126 
	grc
 = 0;

128 
LogDebug
( "----- I2cTransfer: cmd:0x%02x wrLen:0x%02xÑdLen:0x%02x wrBlock:%dÑdBlock:%d -----\n",

129 
cmd
, 
wrLí
, 
rdLí
, 
wrBlock
, 
rdBlock
 );

130 i‡–
	gwrD©a
 !
NULL
 )

132 
LogDebug
–"----- wrD©a:0x%08x *wrD©a:0x%02x -----\n", 
wrD©a
, *(c⁄° 
uöt8_t
 *)wrData );

135 
	grdLí
 &= 0x7f;

136 
	gwrLí
 &= 0x7f;

138 i‡–
	gbyãsRódp
 !
NULL
 )

140 *
byãsRódp
 = 0;

143 i‡–
	gwrLí
 > 
	gI2C_MAX_DATA_LEN
 )

145 
LogEº‹
( "I2cTransfer: wrLenÅoo big: %d, max is %d\n",

146 
wrLí
, 
I2C_MAX_DATA_LEN
 );

147 
	gî∫o
 = 
ENOBUFS
;

151 i‡–
	grdLí
 > 
	gI2C_MAX_DATA_LEN
 )

153 
LogEº‹
( "I2cTransfer:ÑdLenÅoo big: %d, max is %d\n",

154 
rdLí
, 
I2C_MAX_DATA_LEN
 );

155 
	gî∫o
 = 
ENOBUFS
;

162 
	gmsg
[ 0 ].
	gaddr
 = 
gI2cAddr
;

163 
	gmsg
[ 0 ].
	gÊags
 = 0;

164 
	gmsg
[ 0 ].
	gÀn
 = 
wrLí
 + 1 + 
wrBlock
;

165 
	gmsg
[ 0 ].
	gbuf
 = (*)&
wrBuf
[ 0 ];

167 i‡–
	ggU£Crc
 )

169 
	g¸c
 = 
Crc8
–0, 
gI2cAddr
 << 1 );

170 
	g¸c
 = 
Crc8
–
¸c
, 
cmd
 );

173 
	gwrBuf
[ 0 ] = 
cmd
;

175 i‡–
	gwrLí
 > 0 )

179 i‡–
	gwrBlock
 )

181 
	gwrBuf
[ 1 ] = 
wrLí
;

182 
mem˝y
–&
wrBuf
[ 2 ], 
wrD©a
, 
wrLí
 );

183 
	gwrLí
++;

187 
mem˝y
–&
wrBuf
[ 1 ], 
wrD©a
, 
wrLí
 );

189 i‡–
	ggU£Crc
 )

191 
	g¸c
 = 
Crc8Block
–
¸c
, &
wrBuf
[ 1 ], 
wrLí
 );

193 i‡–
	grdLí
 == 0 )

197 
wrBuf
[ 
wrLí
 + 1 ] = 
¸c
;

198 
	gmsg
[ 0 ].
	gÀn
++;

203 i‡–
	ggDebug
 )

205 
Log
–"msg[ 0 ].add∏ = 0x%02x\n", 
msg
[ 0 ].
addr
 );

206 
Log
–"msg[ 0 ].Êag†0x%04x\n", 
msg
[ 0 ].
Êags
 );

207 
Log
–"msg[ 0 ].À¿ = %d\n", 
msg
[ 0 ].
Àn
 );

208 
DumpMem
–"I2cTøns„∏W", 0, &
wrBuf
[ 0 ], 
msg
[ 0 ].
Àn
 );

211 
	grdwr
.
	gmsgs
 = 
msg
;

212 
	grdwr
.
	gnmsgs
 = 1;

214 i‡–
	grdLí
 > 0 )

218 
	gmsg
[ 1 ].
	gaddr
 = 
gI2cAddr
;

219 
	gmsg
[ 1 ].
	gÊags
 = 
I2C_M_RD
;

220 
	gmsg
[ 1 ].
	gÀn
 = 
rdLí
 + 
rdBlock
 + 
gU£Crc
;

221 
	gmsg
[ 1 ].
	gbuf
 = (*)&
rdBuf
[ 0 ];

223 
	grdwr
.
	gnmsgs
 = 2;

225 i‡–
	ggU£Crc
 )

227 
	g¸c
 = 
Crc8
–
¸c
, ( 
gI2cAddr
 << 1 ) | 1 );

230 i‡–
	ggDebug
 )

232 
Log
–"msg[ 1 ].add∏ = 0x%02x\n", 
msg
[ 1 ].
addr
 );

233 
Log
–"msg[ 1 ].Êag†0x%04x\n", 
msg
[ 1 ].
Êags
 );

234 
Log
–"msg[ 1 ].À¿ = %d\n", 
msg
[ 1 ].
Àn
 );

238 i‡–
io˘l
–
i2cDev
, 
I2C_RDWR
, &
rdwr
 ) < 0 )

240 
LogEº‹
–"I2cTøns„r: io˘»Áûed: %†(%d)\n", 
°ªº‹
–
î∫o
 ),Érrno );

244 i‡–
	grdLí
 > 0 )

246 i‡–
	grdBlock
 )

248 i‡–
	grdBuf
[ 0 ] > 
	grdLí
 )

250 
LogEº‹
–"I2cTøns„r:Üígth i†toÿbig: %d max: %d\n", 
rdBuf
[ 0 ], 
rdLí
 );

252 
	grc
 = 
EMSGSIZE
;

256 
	grdLí
 = 
rdBuf
[ 0 ];

260 i‡–
	ggU£Crc
 )

262 
	g¸c
 = 
Crc8Block
–
¸c
, &
rdBuf
[ 0 ], 
rdLí
 + 
rdBlock
 );

264 i‡–
	g¸c
 !
rdBuf
[ 
rdLí
 + 
rdBlock
 ] )

266 
LogEº‹
( "I2cTransfer: CRC failed: Rcvd: 0x%02x,Éxpecting: 0x%02x\n",

267 
rdBuf
[ 
rdLí
 + 
rdBlock
 ], 
¸c
 );

268 
	grc
 = 
EBADMSG
;

272 i‡–
	ggDebug
 )

274 
DumpMem
–"I2cTøns„∏R", 0, &
rdBuf
[ 0 ], 
msg
[ 1 ].
Àn
 );

276 
mem˝y
–
rdD©a
, &
rdBuf
[ 
rdBlock
 ], 
rdLí
 );

278 i‡–
	gbyãsRódp
 !
NULL
 )

280 *
byãsRódp
 = 
rdLí
;

283  
	grc
;

292 
	gI2cPro˚ssBlock


294 
	gi2cDev
,

295 
uöt8_t
 
	gcmd
,

296 c⁄° *
	gwrD©a
,

297 
uöt8_t
 
	gwrLí
,

298 *
	grdD©a
,

299 
uöt8_t
 
	grdLí
,

300 
uöt8_t
 *
	gbyãsRódp


303 
LogDebug
–"----- I2cPro˚ssBlock cmd: 0x%02x wrLí:0x%02xÑdLí:0x%02x -----\n", 
cmd
, 
wrLí
, 
rdLí
 );

305  
I2cTøns„r
–
i2cDev
, 
cmd
, 
wrD©a
, 0x80 | 
wrLí
, 
rdD©a
, 0x80 | 
rdLí
, 
byãsRódp
 );

314 
	gI2cRódBlock


316 
	gi2cDev
,

317 
uöt8_t
 
	gcmd
,

318 *
	grdD©a
,

319 
uöt8_t
 
	grdLí
,

320 
uöt8_t
 *
	gbyãsRódp


323 
LogDebug
–"----- I2cRódBlock cmd: 0x%02xÑdLí:0x%02x -----\n", 
cmd
, 
rdLí
 );

325  
I2cTøns„r
–
i2cDev
, 
cmd
, 
NULL
, 0, 
rdD©a
, 0x80 | 
rdLí
, 
byãsRódp
 );

334 
	gI2cRódByã


336 
	gi2cDev
,

337 
uöt8_t
 
	gcmd
,

338 
uöt8_t
 *
	grdByã


341 
LogDebug
–"----- I2cRódByã cmd: 0x%02x -----\n", 
cmd
 );

343  
I2cTøns„r
–
i2cDev
, 
cmd
, 
NULL
, 0, 
rdByã
, 1, NULL );

352 
	gI2cRódByãs


354 
	gi2cDev
,

355 
uöt8_t
 
	gcmd
,

356 *
	grdByã
,

357 
uöt8_t
 
	grdLí


360 
LogDebug
–"----- I2cRódByã†cmd: 0x%02xÑdLí: 0x%02x -----\n", 
cmd
, 
rdLí
 );

362  
I2cTøns„r
–
i2cDev
, 
cmd
, 
NULL
, 0, 
rdByã
, 
rdLí
, NULL );

371 
	gI2cWrôeBlock


373 
	gi2cDev
,

374 
uöt8_t
 
	gcmd
,

375 c⁄° *
	gwrD©a
,

376 
uöt8_t
 
	gwrLí


379 
LogDebug
–"----- I2cWrôeBlock cmd: 0x%02x wrLí:0x%02x -----\n", 
cmd
, 
wrLí
 );

381  
I2cTøns„r
–
i2cDev
, 
cmd
, 
wrD©a
, 0x80 | 
wrLí
, 
NULL
, 0, NULL );

390 
	gI2cWrôeByã


392 
	gi2cDev
,

393 
uöt8_t
 
	gcmd
,

394 
uöt8_t
 
	gwrByã


397 
LogDebug
–"----- I2cWrôeByã cmd: 0x%02x wrByã:0x%02x -----\n", 
cmd
, 
wrByã
 );

398 
LogDebug
–"----- &wrByã = 0x%08x wrByã = 0x%02x -----\n", &
wrByã
, *&wrByte );

400  
I2cTøns„r
–
i2cDev
, 
cmd
, &
wrByã
, 1, 
NULL
, 0, NULL );

409 
	gI2cWrôeByãs


411 
	gi2cDev
,

412 
uöt8_t
 
	gcmd
,

413 c⁄° *
	gwrByã
,

414 
uöt8_t
 
	gwrLí


417 
LogDebug
–"----- I2cWrôeByã†cmd: 0x%02x wrLí: 0x%02x -----\n", 
cmd
, 
wrLí
 );

419  
I2cTøns„r
–
i2cDev
, 
cmd
, 
wrByã
, 
wrLí
, 
NULL
, 0, NULL );

428 
	gI2cRe˚iveByã


430 
	gi2cDev
,

431 
uöt8_t
 *
	grdByã


434  
I2cRe˚iveByãs
–
i2cDev
, 
rdByã
, 1 );

443 
	gI2cRe˚iveByãs


445 
	gi2cDev
,

446 
uöt8_t
 *
	grdD©a
,

447 
uöt8_t
 
	grdLí


450 
i2c_rdwr_io˘l_d©a
 
	grdwr
;

451 
i2c_msg
 
	gmsg
;

453 
LogDebug
( "----- I2cReceiveBytes -----\n" );

455 
	gmsg
.
	gaddr
 = 
gI2cAddr
;

456 
	gmsg
.
	gÊags
 = 
I2C_M_RD
;

457 
	gmsg
.
	gÀn
 = 
rdLí
;

458 
	gmsg
.
	gbuf
 = (*)
rdD©a
;

460 
	grdwr
.
	gmsgs
 = &
msg
;

461 
	grdwr
.
	gnmsgs
 = 1;

463 i‡–
io˘l
–
i2cDev
, 
I2C_RDWR
, &
rdwr
 ) < 0 )

465 
LogEº‹
–"I2cRe˚iveByãs: io˘»Áûed: %†(%d)\n", 
°ªº‹
–
î∫o
 ),Érrno );

478 
	gI2cSídByã


480 
	gi2cDev
,

481 
uöt8_t
 
	gwrByã


484  
I2cSídByãs
–
i2cDev
, &
wrByã
, 1 );

493 
	gI2cSídByãs


495 
	gi2cDev
,

496 
uöt8_t
 *
	gwrD©a
,

497 
uöt8_t
 
	gwrLí


500 
i2c_rdwr_io˘l_d©a
 
	grdwr
;

501 
i2c_msg
 
	gmsg
;

503 
LogDebug
–"----- I2cSídByã†wrLí = 0x%02x -----\n", 
wrLí
 );

505 
	gmsg
.
	gaddr
 = 
gI2cAddr
;

506 
	gmsg
.
	gÊags
 = 0;

507 
	gmsg
.
	gÀn
 = 
wrLí
;

508 
	gmsg
.
	gbuf
 = (*)
wrD©a
;

510 
	grdwr
.
	gmsgs
 = &
msg
;

511 
	grdwr
.
	gnmsgs
 = 1;

513 i‡–
io˘l
–
i2cDev
, 
I2C_RDWR
, &
rdwr
 ) < 0 )

515 
LogEº‹
–"I2cSídByãs: io˘»Áûed: %†(%d)\n", 
°ªº‹
–
î∫o
 ),Érrno );

	@processors/executive/Common/i2c-api.h

24 #i‡!
deföed
–
I2C_API_H
 )

25 
	#I2C_API_H


	)

29 
	~<öây≥s.h
>

30 
	~"../Sh¨ed/i2c.h
"

34 
	#I2C_USE_CRC
 1

	)

35 
	#I2C_NO_CRC
 0

	)

41 
	gI2cSëSœveAddªss


43 
	gi2cDev
,

44 
I2C_Addr_t
 
	gi2cAddr
,

45 
	gu£Crc
 );

47 
	gI2cTøns„r


49 
	gi2cDev
,

50 
uöt8_t
 
	gcmd
,

51 c⁄° *
	gwrD©a
,

52 
uöt8_t
 
	gwrLí
,

53 *
	grdD©a
,

54 
uöt8_t
 
	grdLí
,

55 
uöt8_t
 *
	gbyãsRódp


58 
	gI2cPro˚ssBlock


60 
	gi2cDev
,

61 
uöt8_t
 
	gcmd
,

62 c⁄° *
	gwrD©a
,

63 
uöt8_t
 
	gwrLí
,

64 *
	grdD©a
,

65 
uöt8_t
 
	grdLí
,

66 
uöt8_t
 *
	gbyãsRódp


69 
	gI2cRódBlock


71 
	gi2cDev
,

72 
uöt8_t
 
	gcmd
,

73 *
	grdD©a
,

74 
uöt8_t
 
	grdLí
,

75 
uöt8_t
 *
	gbyãsRódp


78 
	gI2cRódByã


80 
	gi2cDev
,

81 
uöt8_t
 
	gcmd
,

82 
uöt8_t
 *
	grdByã


85 
	gI2cRódByãs


87 
	gi2cDev
,

88 
uöt8_t
 
	gcmd
,

89 *
	grdByã
,

90 
uöt8_t
 
	grdLí


93 
	gI2cWrôeBlock


95 
	gi2cDev
,

96 
uöt8_t
 
	gcmd
,

97 c⁄° *
	gwrD©a
,

98 
uöt8_t
 
	gwrLí


101 
	gI2cWrôeByã


103 
	gi2cDev
,

104 
uöt8_t
 
	gcmd
,

105 
uöt8_t
 
	gwrByã


108 
	gI2cWrôeByãs


110 
	gi2cDev
,

111 
uöt8_t
 
	gcmd
,

112 c⁄° *
	gwrByã
,

113 
uöt8_t
 
	gwrLí


116 
	gI2cRe˚iveByã


118 
	gi2cDev
,

119 
uöt8_t
 *
	grdByã


122 
	gI2cRe˚iveByãs


124 
	gi2cDev
,

125 
uöt8_t
 *
	grdD©a
,

126 
uöt8_t
 
	grdLí


129 
	gI2cSídByã


131 
	gi2cDev
,

132 
uöt8_t
 
	gwrByã


135 
	gI2cSídByãs


137 
	gi2cDev
,

138 
uöt8_t
 *
	gwrD©a
,

139 
uöt8_t
 
	gwrLí


	@processors/executive/Common/i2c-dev.h

24 #i‚de‡
LIB_I2CDEV_H


25 
	#LIB_I2CDEV_H


	)

27 
	~<löux/ty≥s.h
>

28 
	~<sys/io˘l.h
>

37 
	si2c_msg
 {

38 
__u16
 
	maddr
;

39 
	mÊags
;

40 
	#I2C_M_TEN
 0x10

	)

41 
	#I2C_M_RD
 0x01

	)

42 
	#I2C_M_NOSTART
 0x4000

	)

43 
	#I2C_M_REV_DIR_ADDR
 0x2000

	)

44 
	#I2C_M_IGNORE_NAK
 0x1000

	)

45 
	#I2C_M_NO_RD_ACK
 0x0800

	)

46 
	mÀn
;

47 *
	mbuf
;

52 
	#I2C_FUNC_I2C
 0x00000001

	)

53 
	#I2C_FUNC_10BIT_ADDR
 0x00000002

	)

54 
	#I2C_FUNC_PROTOCOL_MANGLING
 0x00000004

	)

55 
	#I2C_FUNC_SMBUS_HWPEC_CALC
 0x00000008

	)

56 
	#I2C_FUNC_SMBUS_READ_WORD_DATA_PEC
 0x00000800

	)

57 
	#I2C_FUNC_SMBUS_WRITE_WORD_DATA_PEC
 0x00001000

	)

58 
	#I2C_FUNC_SMBUS_PROC_CALL_PEC
 0x00002000

	)

59 
	#I2C_FUNC_SMBUS_BLOCK_PROC_CALL_PEC
 0x00004000

	)

60 
	#I2C_FUNC_SMBUS_BLOCK_PROC_CALL
 0x00008000

	)

61 
	#I2C_FUNC_SMBUS_QUICK
 0x00010000

	)

62 
	#I2C_FUNC_SMBUS_READ_BYTE
 0x00020000

	)

63 
	#I2C_FUNC_SMBUS_WRITE_BYTE
 0x00040000

	)

64 
	#I2C_FUNC_SMBUS_READ_BYTE_DATA
 0x00080000

	)

65 
	#I2C_FUNC_SMBUS_WRITE_BYTE_DATA
 0x00100000

	)

66 
	#I2C_FUNC_SMBUS_READ_WORD_DATA
 0x00200000

	)

67 
	#I2C_FUNC_SMBUS_WRITE_WORD_DATA
 0x00400000

	)

68 
	#I2C_FUNC_SMBUS_PROC_CALL
 0x00800000

	)

69 
	#I2C_FUNC_SMBUS_READ_BLOCK_DATA
 0x01000000

	)

70 
	#I2C_FUNC_SMBUS_WRITE_BLOCK_DATA
 0x02000000

	)

71 
	#I2C_FUNC_SMBUS_READ_I2C_BLOCK
 0x04000000

	)

72 
	#I2C_FUNC_SMBUS_WRITE_I2C_BLOCK
 0x08000000

	)

73 
	#I2C_FUNC_SMBUS_READ_I2C_BLOCK_2
 0x10000000

	)

74 
	#I2C_FUNC_SMBUS_WRITE_I2C_BLOCK_2
 0x20000000

	)

75 
	#I2C_FUNC_SMBUS_READ_BLOCK_DATA_PEC
 0x40000000

	)

76 
	#I2C_FUNC_SMBUS_WRITE_BLOCK_DATA_PEC
 0x80000000

	)

78 
	#I2C_FUNC_SMBUS_BYTE
 
I2C_FUNC_SMBUS_READ_BYTE
 | \

79 
I2C_FUNC_SMBUS_WRITE_BYTE


	)

80 
	#I2C_FUNC_SMBUS_BYTE_DATA
 
I2C_FUNC_SMBUS_READ_BYTE_DATA
 | \

81 
I2C_FUNC_SMBUS_WRITE_BYTE_DATA


	)

82 
	#I2C_FUNC_SMBUS_WORD_DATA
 
I2C_FUNC_SMBUS_READ_WORD_DATA
 | \

83 
I2C_FUNC_SMBUS_WRITE_WORD_DATA


	)

84 
	#I2C_FUNC_SMBUS_BLOCK_DATA
 
I2C_FUNC_SMBUS_READ_BLOCK_DATA
 | \

85 
I2C_FUNC_SMBUS_WRITE_BLOCK_DATA


	)

86 
	#I2C_FUNC_SMBUS_I2C_BLOCK
 
I2C_FUNC_SMBUS_READ_I2C_BLOCK
 | \

87 
I2C_FUNC_SMBUS_WRITE_I2C_BLOCK


	)

88 
	#I2C_FUNC_SMBUS_I2C_BLOCK_2
 
I2C_FUNC_SMBUS_READ_I2C_BLOCK_2
 | \

89 
I2C_FUNC_SMBUS_WRITE_I2C_BLOCK_2


	)

90 
	#I2C_FUNC_SMBUS_BLOCK_DATA_PEC
 
I2C_FUNC_SMBUS_READ_BLOCK_DATA_PEC
 | \

91 
I2C_FUNC_SMBUS_WRITE_BLOCK_DATA_PEC


	)

92 
	#I2C_FUNC_SMBUS_WORD_DATA_PEC
 
I2C_FUNC_SMBUS_READ_WORD_DATA_PEC
 | \

93 
I2C_FUNC_SMBUS_WRITE_WORD_DATA_PEC


	)

95 
	#I2C_FUNC_SMBUS_READ_BYTE_PEC
 
I2C_FUNC_SMBUS_READ_BYTE_DATA


	)

96 
	#I2C_FUNC_SMBUS_WRITE_BYTE_PEC
 
I2C_FUNC_SMBUS_WRITE_BYTE_DATA


	)

97 
	#I2C_FUNC_SMBUS_READ_BYTE_DATA_PEC
 
I2C_FUNC_SMBUS_READ_WORD_DATA


	)

98 
	#I2C_FUNC_SMBUS_WRITE_BYTE_DATA_PEC
 
I2C_FUNC_SMBUS_WRITE_WORD_DATA


	)

99 
	#I2C_FUNC_SMBUS_BYTE_PEC
 
I2C_FUNC_SMBUS_BYTE_DATA


	)

100 
	#I2C_FUNC_SMBUS_BYTE_DATA_PEC
 
I2C_FUNC_SMBUS_WORD_DATA


	)

102 
	#I2C_FUNC_SMBUS_EMUL
 
I2C_FUNC_SMBUS_QUICK
 | \

103 
I2C_FUNC_SMBUS_BYTE
 | \

104 
I2C_FUNC_SMBUS_BYTE_DATA
 | \

105 
I2C_FUNC_SMBUS_WORD_DATA
 | \

106 
I2C_FUNC_SMBUS_PROC_CALL
 | \

107 
I2C_FUNC_SMBUS_WRITE_BLOCK_DATA
 | \

108 
I2C_FUNC_SMBUS_WRITE_BLOCK_DATA_PEC
 | \

109 
I2C_FUNC_SMBUS_I2C_BLOCK


	)

114 
	#I2C_SMBUS_BLOCK_MAX
 32

	)

115 
	#I2C_SMBUS_I2C_BLOCK_MAX
 32

	)

116 
	ui2c_smbus_d©a
 {

117 
__u8
 
	mbyã
;

118 
__u16
 
	mw‹d
;

119 
__u8
 
	mblock
[
I2C_SMBUS_BLOCK_MAX
 + 3];

125 
	#I2C_SMBUS_READ
 1

	)

126 
	#I2C_SMBUS_WRITE
 0

	)

130 
	#I2C_SMBUS_QUICK
 0

	)

131 
	#I2C_SMBUS_BYTE
 1

	)

132 
	#I2C_SMBUS_BYTE_DATA
 2

	)

133 
	#I2C_SMBUS_WORD_DATA
 3

	)

134 
	#I2C_SMBUS_PROC_CALL
 4

	)

135 
	#I2C_SMBUS_BLOCK_DATA
 5

	)

136 
	#I2C_SMBUS_I2C_BLOCK_DATA
 6

	)

137 
	#I2C_SMBUS_BLOCK_PROC_CALL
 7

	)

138 
	#I2C_SMBUS_BLOCK_DATA_PEC
 8

	)

139 
	#I2C_SMBUS_PROC_CALL_PEC
 9

	)

140 
	#I2C_SMBUS_BLOCK_PROC_CALL_PEC
 10

	)

141 
	#I2C_SMBUS_WORD_DATA_PEC
 11

	)

150 
	#I2C_RETRIES
 0x0701

	)

153 
	#I2C_TIMEOUT
 0x0702

	)

157 
	#I2C_SLAVE
 0x0703

	)

159 
	#I2C_SLAVE_FORCE
 0x0706

	)

163 
	#I2C_TENBIT
 0x0704

	)

165 
	#I2C_FUNCS
 0x0705

	)

166 
	#I2C_RDWR
 0x0707

	)

167 
	#I2C_PEC
 0x0708

	)

169 
	#I2C_ACK_TEST
 0x0710

	)

172 
	#I2C_SMBUS
 0x0720

	)

180 
	si2c_smbus_io˘l_d©a
 {

181 
	mªad_wrôe
;

182 
__u8
 
	mcomm™d
;

183 
	msize
;

184 
i2c_smbus_d©a
 *
	md©a
;

188 
	si2c_rdwr_io˘l_d©a
 {

189 
i2c_msg
 *
	mmsgs
;

190 
	mnmsgs
;

194 
ölöe
 
__s32
 
	$i2c_smbus_ac˚ss
(
fûe
, 
ªad_wrôe
, 
__u8
 
comm™d
,

195 
size
, 
i2c_smbus_d©a
 *
d©a
)

197 
i2c_smbus_io˘l_d©a
 
¨gs
;

198 
rc
;

200 
¨gs
.
ªad_wrôe
 =Ñead_write;

201 
¨gs
.
comm™d
 = command;

202 
¨gs
.
size
 = size;

203 
¨gs
.
d©a
 = data;

205 
rc
 = 
	`io˘l
(
fûe
,
I2C_SMBUS
,&
¨gs
);

207  
rc
;

208 
	}
}

211 
ölöe
 
__s32
 
	$i2c_smbus_wrôe_quick
(
fûe
, 
__u8
 
vÆue
)

213  
	`i2c_smbus_ac˚ss
(
fûe
,
vÆue
,0,
I2C_SMBUS_QUICK
,
NULL
);

214 
	}
}

216 
ölöe
 
__s32
 
	$i2c_smbus_ªad_byã
(
fûe
)

218 
i2c_smbus_d©a
 
d©a
;

219 i‡(
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_READ
,0,
I2C_SMBUS_BYTE
,&
d©a
))

222  0x0FF & 
d©a
.
byã
;

223 
	}
}

225 
ölöe
 
__s32
 
	$i2c_smbus_wrôe_byã
(
fûe
, 
__u8
 
vÆue
)

227  
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_WRITE
,
vÆue
,

228 
I2C_SMBUS_BYTE
,
NULL
);

229 
	}
}

231 
ölöe
 
__s32
 
	$i2c_smbus_ªad_byã_d©a
(
fûe
, 
__u8
 
comm™d
)

233 
i2c_smbus_d©a
 
d©a
;

234 i‡(
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_READ
,
comm™d
,

235 
I2C_SMBUS_BYTE_DATA
,&
d©a
))

238  0x0FF & 
d©a
.
byã
;

239 
	}
}

241 
ölöe
 
__s32
 
	$i2c_smbus_wrôe_byã_d©a
(
fûe
, 
__u8
 
comm™d
,

242 
__u8
 
vÆue
)

244 
i2c_smbus_d©a
 
d©a
;

245 
d©a
.
byã
 = 
vÆue
;

246  
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_WRITE
,
comm™d
,

247 
I2C_SMBUS_BYTE_DATA
, &
d©a
);

248 
	}
}

250 
ölöe
 
__s32
 
	$i2c_smbus_ªad_w‹d_d©a
(
fûe
, 
__u8
 
comm™d
)

252 
i2c_smbus_d©a
 
d©a
;

253 i‡(
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_READ
,
comm™d
,

254 
I2C_SMBUS_WORD_DATA
,&
d©a
))

257  0x0FFFF & 
d©a
.
w‹d
;

258 
	}
}

260 
ölöe
 
__s32
 
	$i2c_smbus_wrôe_w‹d_d©a
(
fûe
, 
__u8
 
comm™d
,

261 
__u16
 
vÆue
)

263 
i2c_smbus_d©a
 
d©a
;

264 
d©a
.
w‹d
 = 
vÆue
;

265  
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_WRITE
,
comm™d
,

266 
I2C_SMBUS_WORD_DATA
, &
d©a
);

267 
	}
}

269 
ölöe
 
__s32
 
	$i2c_smbus_¥o˚ss_ˇŒ
(
fûe
, 
__u8
 
comm™d
, 
__u16
 
vÆue
)

271 
i2c_smbus_d©a
 
d©a
;

272 
d©a
.
w‹d
 = 
vÆue
;

273 i‡(
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_WRITE
,
comm™d
,

274 
I2C_SMBUS_PROC_CALL
,&
d©a
))

277  0x0FFFF & 
d©a
.
w‹d
;

278 
	}
}

282 
ölöe
 
__s32
 
	$i2c_smbus_ªad_block_d©a
(
fûe
, 
__u8
 
comm™d
,

283 
__u8
 *
vÆues
)

285 
i2c_smbus_d©a
 
d©a
;

286 
i
;

287 i‡(
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_READ
,
comm™d
,

288 
I2C_SMBUS_BLOCK_DATA
,&
d©a
))

291 
i
 = 1; i <
d©a
.
block
[0]; i++)

292 
vÆues
[
i
-1] = 
d©a
.
block
[i];

293  
d©a
.
block
[0];

295 
	}
}

297 
ölöe
 
__s32
 
	$i2c_smbus_wrôe_block_d©a
(
fûe
, 
__u8
 
comm™d
,

298 
__u8
 
Àngth
, __u8 *
vÆues
)

300 
i2c_smbus_d©a
 
d©a
;

301 
i
;

302 i‡(
Àngth
 > 32)

303 
Àngth
 = 32;

304 
i
 = 1; i <
Àngth
; i++)

305 
d©a
.
block
[
i
] = 
vÆues
[i-1];

306 
d©a
.
block
[0] = 
Àngth
;

307  
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_WRITE
,
comm™d
,

308 
I2C_SMBUS_BLOCK_DATA
, &
d©a
);

309 
	}
}

312 
ölöe
 
__s32
 
	$i2c_smbus_ªad_i2c_block_d©a
(
fûe
, 
__u8
 
comm™d
,

313 
__u8
 *
vÆues
)

315 
i2c_smbus_d©a
 
d©a
;

316 
i
;

317 i‡(
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_READ
,
comm™d
,

318 
I2C_SMBUS_I2C_BLOCK_DATA
,&
d©a
))

321 
i
 = 1; i <
d©a
.
block
[0]; i++)

322 
vÆues
[
i
-1] = 
d©a
.
block
[i];

323  
d©a
.
block
[0];

325 
	}
}

327 
ölöe
 
__s32
 
	$i2c_smbus_wrôe_i2c_block_d©a
(
fûe
, 
__u8
 
comm™d
,

328 
__u8
 
Àngth
, __u8 *
vÆues
)

330 
i2c_smbus_d©a
 
d©a
;

331 
i
;

332 i‡(
Àngth
 > 32)

333 
Àngth
 = 32;

334 
i
 = 1; i <
Àngth
; i++)

335 
d©a
.
block
[
i
] = 
vÆues
[i-1];

336 
d©a
.
block
[0] = 
Àngth
;

337  
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_WRITE
,
comm™d
,

338 
I2C_SMBUS_I2C_BLOCK_DATA
, &
d©a
);

339 
	}
}

342 
ölöe
 
__s32
 
	$i2c_smbus_block_¥o˚ss_ˇŒ
(
fûe
, 
__u8
 
comm™d
,

343 
__u8
 
Àngth
, __u8 *
vÆues
)

345 
i2c_smbus_d©a
 
d©a
;

346 
i
;

347 i‡(
Àngth
 > 32)

348 
Àngth
 = 32;

349 
i
 = 1; i <
Àngth
; i++)

350 
d©a
.
block
[
i
] = 
vÆues
[i-1];

351 
d©a
.
block
[0] = 
Àngth
;

352 
i
 = 
	`i2c_smbus_ac˚ss
(
fûe
,
I2C_SMBUS_WRITE
,
comm™d
,

353 
I2C_SMBUS_BLOCK_PROC_CALL
,&
d©a
);

354 i‡–
i
 )

357 
i
 = 1; i <
d©a
.
block
[0]; i++)

358 
vÆues
[
i
-1] = 
d©a
.
block
[i];

359  
d©a
.
block
[0];

361 
	}
}

	@processors/executive/Common/i2c-io-api.c

25 
	~<°rög.h
>

26 
	~<î∫o.h
>

28 
	~"i2c-≠i.h
"

29 
	~"i2c-io.h
"

30 
	~"i2c-io-≠i.h
"

31 
	~"Log.h
"

37 
	#TRUE
 1

	)

38 
	#FALSE
 0

	)

51 
	$I2C_IO_CheckVîsi⁄
–c⁄° 
I2C_IO_Info_t
 *
öfo
 )

56 i‡–
öfo
->
möVîsi⁄
 > 
I2C_IO_API_VERSION
 )

58 
	`LogEº‹
( "BootLoader device isÅooÇew; Host is (%d-%d) Device is (%d-%d)\n",

59 
I2C_IO_API_MIN_VERSION
, 
I2C_IO_API_VERSION
,

60 
öfo
->
möVîsi⁄
, info->
vîsi⁄
 );

65 i‡–
I2C_IO_API_MIN_VERSION
 > 
öfo
->
vîsi⁄
 )

67 
	`LogEº‹
( "BootLoader device isÅoo old; Host is (%d-%d) Device is (%d-%d)\n",

68 
I2C_IO_API_MIN_VERSION
, 
I2C_IO_API_VERSION
,

69 
öfo
->
möVîsi⁄
, info->
vîsi⁄
 );

76 
	}
}

83 
	$I2C_IO_GëInfo
–
i2cDev
, 
I2C_IO_Info_t
 *
öfo
 )

85 
	`LogDebug
( "----- I2C_IO_GetInfo -----\n" );

87 i‡–
	`I2cRódBlock
–
i2cDev
, 
I2C_IO_GET_INFO
, 
öfo
, –*öfÿ), 
NULL
 ) != 0 )

89 
	`LogEº‹
( "I2cReadBlock failed\n" );

95 
	}
}

102 
	$I2C_IO_GëGPIO
–
i2cDev
, 
uöt8_t
 
p‹tNum
, uöt8_à*
pöVÆ
 )

104 
I2C_IO_Gë_GPIO_t
 
gëReq
;

105 
uöt8_t
 
byãsRód
 = 0;

107 
gëReq
.
p‹tNum
 =ÖortNum;

109 i‡–
	`I2cPro˚ssBlock
–
i2cDev
, 
I2C_IO_GET_GPIO
, &
gëReq
, –gëReq ), 
pöVÆ
, –*pöVÆ ), &
byãsRód
 ) != 0 )

111 
	`LogEº‹
–"I2C_IO_GëGPIO: I2cPro˚ssBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

112  
FALSE
;

114  
TRUE
;

116 
	}
}

123 
	$I2C_IO_SëGPIO
–
i2cDev
, 
uöt8_t
 
p‹tNum
, uöt8_à
pöMask
, uöt8_à
pöVÆ
 )

125 
I2C_IO_Së_GPIO_t
 
£tReq
;

127 
£tReq
.
p‹tNum
 =ÖortNum;

128 
£tReq
.
pöMask
 =ÖinMask;

129 
£tReq
.
pöVÆ
 =ÖinVal;

131 i‡–
	`I2cWrôeBlock
–
i2cDev
, 
I2C_IO_SET_GPIO
, &
£tReq
, ( setReq )) != 0 )

133 
	`LogEº‹
–"I2C_IO_SëGPIO: I2cWrôeBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

134  
FALSE
;

136  
TRUE
;

138 
	}
}

145 
	$I2C_IO_GëGPIODú
–
i2cDev
, 
uöt8_t
 
p‹tNum
, uöt8_à*
pöVÆ
 )

147 
I2C_IO_Gë_GPIO_t
 
gëReq
;

148 
uöt8_t
 
byãsRód
 = 0;

150 
gëReq
.
p‹tNum
 =ÖortNum;

152 i‡–
	`I2cPro˚ssBlock
–
i2cDev
, 
I2C_IO_GET_GPIO_DIR
, &
gëReq
, –gëReq ), 
pöVÆ
, –*pöVÆ ), &
byãsRód
 ) != 0 )

154 
	`LogEº‹
–"I2C_IO_GëGPIODú: I2cPro˚ssBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

155  
FALSE
;

157  
TRUE
;

159 
	}
}

166 
	$I2C_IO_SëGPIODú
–
i2cDev
, 
uöt8_t
 
p‹tNum
, uöt8_à
pöMask
, uöt8_à
pöVÆ
 )

168 
I2C_IO_Së_GPIO_t
 
£tReq
;

170 
£tReq
.
p‹tNum
 =ÖortNum;

171 
£tReq
.
pöMask
 =ÖinMask;

172 
£tReq
.
pöVÆ
 =ÖinVal;

174 i‡–
	`I2cWrôeBlock
–
i2cDev
, 
I2C_IO_SET_GPIO_DIR
, &
£tReq
, ( setReq )) != 0 )

176 
	`LogEº‹
–"I2C_IO_SëGPIODú: I2cWrôeBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

177  
FALSE
;

179  
TRUE
;

181 
	}
}

188 
	$I2C_IO_GëADC
–
i2cDev
, 
uöt8_t
 
mux
, 
uöt16_t
 *
adcVÆ
 )

190 
I2C_IO_Gë_ADC_t
 
adcReq
;

191 
uöt8_t
 
byãsRód
 = 0;

193 
adcReq
.
mux
 = mux;

195 i‡–
	`I2cPro˚ssBlock
–
i2cDev
, 
I2C_IO_GET_ADC
, &
adcReq
, –adcReq ), 
adcVÆ
, –*adcVÆ ), &
byãsRód
 ) != 0 )

197 
	`LogEº‹
–"I2C_IO_GëADC: I2cPro˚ssBlock faûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

198  
FALSE
;

200  
TRUE
;

202 
	}
}

209 
	$I2C_IO_RódReg8
–
i2cDev
, 
uöt8_t
 
ªg
, uöt8_à*
ªgVÆ
 )

211 
I2C_IO_RódReg8_t
 
ªadReg
;

212 
uöt8_t
 
byãsRód
;

214 
ªadReg
.
ªg
 =Ñeg;

216 i‡–
	`I2cPro˚ssBlock
–
i2cDev
, 
I2C_IO_READ_REG_8
, &
ªadReg
, –ªadReg ), 
ªgVÆ
, –*ªgVÆ ), &
byãsRód
 ) != 0 )

218 
	`LogEº‹
–"I2C_IO_RódReg8: I2cPro˚ssBlockFaûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

219  
FALSE
;

222  
TRUE
;

224 
	}
}

231 
	$I2C_IO_RódReg16
–
i2cDev
, 
uöt8_t
 
ªg
, 
uöt16_t
 *
ªgVÆ
 )

233 
I2C_IO_RódReg16_t
 
ªadReg
;

234 
uöt8_t
 
byãsRód
;

236 
ªadReg
.
ªg
 =Ñeg;

238 i‡–
	`I2cPro˚ssBlock
–
i2cDev
, 
I2C_IO_READ_REG_16
, &
ªadReg
, –ªadReg ), 
ªgVÆ
, –*ªgVÆ ), &
byãsRód
 ) != 0 )

240 
	`LogEº‹
–"I2C_IO_RódReg16: I2cPro˚ssBlockFaûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

241  
FALSE
;

244  
TRUE
;

246 
	}
}

253 
	$I2C_IO_WrôeReg8
–
i2cDev
, 
uöt8_t
 
ªg
, uöt8_à
ªgVÆ
 )

255 
I2C_IO_WrôeReg8_t
 
wrôeReg
;

257 
wrôeReg
.
ªg
 =Ñeg;

258 
wrôeReg
.
vÆ
 = 
ªgVÆ
;

260 i‡–
	`I2cWrôeBlock
–
i2cDev
, 
I2C_IO_WRITE_REG_8
, &
wrôeReg
, ( writeReg )) != 0 )

262 
	`LogEº‹
–"I2C_IO_WrôeReg8: I2cWrôeBlockFaûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

263  
FALSE
;

266  
TRUE
;

268 
	}
}

275 
	$I2C_IO_WrôeReg16
–
i2cDev
, 
uöt8_t
 
ªg
, 
uöt16_t
 
ªgVÆ
 )

277 
I2C_IO_WrôeReg16_t
 
wrôeReg
;

279 
wrôeReg
.
ªg
 =Ñeg;

280 
wrôeReg
.
vÆ
 = 
ªgVÆ
;

282 i‡–
	`I2cWrôeBlock
–
i2cDev
, 
I2C_IO_WRITE_REG_16
, &
wrôeReg
, ( writeReg )) != 0 )

284 
	`LogEº‹
–"I2C_IO_WrôeReg16: I2cWrôeBlockFaûed: %†(%d)\n", 
	`°ªº‹
–
î∫o
 ),Érrno );

285  
FALSE
;

288  
TRUE
;

290 
	}
}

	@processors/executive/Common/i2c-io-api.h

24 #i‡!
deföed
–
I2C_IO_API_H
 )

25 
	#I2C_IO_API_H


	)

29 
	~<öây≥s.h
>

30 
	~"i2c-io.h
"

38 
I2C_IO_CheckVîsi⁄
–c⁄° 
I2C_IO_Info_t
 *
öfo
 );

40 
I2C_IO_GëInfo
–
i2cDev
, 
I2C_IO_Info_t
 *
öfo
 );

41 
I2C_IO_GëGPIO
–
i2cDev
, 
uöt8_t
 
p‹tNum
, uöt8_à*
pöVÆ
 );

42 
I2C_IO_SëGPIO
–
i2cDev
, 
uöt8_t
 
p‹tNum
, uöt8_à
pöMask
, uöt8_à
pöVÆ
 );

43 
I2C_IO_GëGPIODú
–
i2cDev
, 
uöt8_t
 
p‹tNum
, uöt8_à*
pöVÆ
 );

44 
I2C_IO_SëGPIODú
–
i2cDev
, 
uöt8_t
 
p‹tNum
, uöt8_à
pöMask
, uöt8_à
pöVÆ
 );

45 
I2C_IO_GëADC
–
i2cDev
, 
uöt8_t
 
mux
, 
uöt16_t
 *
adcVÆ
 );

46 
I2C_IO_RódReg8
–
i2cDev
, 
uöt8_t
 
ªg
, uöt8_à*
ªgVÆ
 );

47 
I2C_IO_RódReg16
–
i2cDev
, 
uöt8_t
 
ªg
, 
uöt16_t
 *
ªgVÆ
 );

48 
I2C_IO_WrôeReg8
–
i2cDev
, 
uöt8_t
 
ªg
, uöt8_à
ªgVÆ
 );

49 
I2C_IO_WrôeReg16
–
i2cDev
, 
uöt8_t
 
ªg
, 
uöt16_t
 
ªgVÆ
 );

	@processors/executive/Config.h

23 #i‡!
deföed
–
CONFIG_H
 )

24 
	#CONFIG_H


	)

34 
	#CFG_LOG_TO_BUFFER
 0

	)

36 
	#CFG_CRC8BLOCK
 1

	)

	@processors/executive/Shared/AvrInfo.c

26 
	~<°dlib.h
>

27 
	~"AvrInfo.h
"

33 
	#AVR_ENTRY
–
∑πNum
 ) \

	)

35 .
	gm_°rög
 = 
AVR_PART_STRING
–
∑πNum
 ), \

36 .
	gm_sig«tuª
 = 
AVR_PART_SIGNATURE
–
∑πNum
 ), \

37 .
	gm_ÊashSize
 = 
AVR_PART_FLASH_SIZE
–
∑πNum
 ), \

38 .
	gm_boŸSize
 = 
AVR_PART_BOOT_SIZE
–
∑πNum
 ), \

39 .
	gm_ì¥omSize
 = 
AVR_PART_EEPROM_SIZE
–
∑πNum
 ), \

40 .
	gm_∑geSize
 = 
AVR_PART_PAGE_SIZE
–
∑πNum
 ), \

41 .
	gm_∑geShi·
 = 
AVR_PART_PAGE_SHIFT
–
∑πNum
 ) \

46 c⁄° 
AvrInfo_t
 
	ggAvrInfo
[] =

48 
AVR_ENTRY
–
ATMEGA_48
 ),

49 
AVR_ENTRY
–
ATMEGA_8
 ),

50 
AVR_ENTRY
–
ATMEGA_88
 ),

51 
AVR_ENTRY
–
ATMEGA_16
 ),

52 
AVR_ENTRY
–
ATMEGA_168
 ),

53 
AVR_ENTRY
–
ATMEGA_169
 ),

54 
AVR_ENTRY
–
ATMEGA_32
 ),

55 
AVR_ENTRY
–
ATMEGA_64
 ),

56 
AVR_ENTRY
–
ATMEGA_128
 ),

59 c⁄° 
	ggNumAvrInfoE¡rõs
 = –
gAvrInfo
 ) / ( gAvrInfo[ 0 ]);

69 c⁄° 
AvrInfo_t
 *
	$FödAvrInfoBySig«tuª
–
uöt16_t
 
sig«tuª
 )

71 
i
;

73  
i
 = 0; i < 
gNumAvrInfoE¡rõs
; i++ )

75 i‡–
gAvrInfo
[ 
i
 ].
m_sig«tuª
 =
sig«tuª
 )

77  &
gAvrInfo
[ 
i
 ];

81  
NULL
;

83 
	}
}

	@processors/executive/Shared/AvrInfo.h

23 #i‡!
deföed
–
AVRINFO_H
 )

24 
	#AVRINFO_H


25 

	)

28 
	~<öây≥s.h
>

34 c⁄° *
	mm_°rög
;

35 
uöt16_t
 
	mm_sig«tuª
;

36 
uöt32_t
 
	mm_ÊashSize
;

37 
uöt16_t
 
	mm_boŸSize
;

38 
uöt16_t
 
	mm_∑geSize
;

39 
uöt8_t
 
	mm_∑geShi·
;

41 } 
	tAvrInfo_t
;

46 
	#AVR_ATMEGA_48_STRING
 "ATMega48"

	)

47 
	#AVR_ATMEGA_48_SIGNATURE
 0x9205

	)

48 
	#AVR_ATMEGA_48_FLASH_SIZE
 ( 4 * 1024 )

	)

49 
	#AVR_ATMEGA_48_BOOT_SIZE
 ( 4 * 1024 )

	)

50 
	#AVR_ATMEGA_48_PAGE_SHIFT
 6

	)

51 
	#AVR_ATMEGA_48_PAGE_SIZE
 64

	)

53 
	#AVR_ATMEGA_8_STRING
 "ATMega8"

	)

54 
	#AVR_ATMEGA_8_SIGNATURE
 0x9307

	)

55 
	#AVR_ATMEGA_8_FLASH_SIZE
 ( 8 * 1024 )

	)

56 
	#AVR_ATMEGA_8_BOOT_SIZE
 ( 2 * 1024 )

	)

57 
	#AVR_ATMEGA_8_PAGE_SHIFT
 6

	)

58 
	#AVR_ATMEGA_8_PAGE_SIZE
 64

	)

60 
	#AVR_ATMEGA_88_STRING
 "ATMega88"

	)

61 
	#AVR_ATMEGA_88_SIGNATURE
 0x930A

	)

62 
	#AVR_ATMEGA_88_FLASH_SIZE
 ( 8 * 1024 )

	)

63 
	#AVR_ATMEGA_88_BOOT_SIZE
 ( 2 * 1024 )

	)

64 
	#AVR_ATMEGA_88_PAGE_SHIFT
 6

	)

65 
	#AVR_ATMEGA_88_PAGE_SIZE
 64

	)

67 
	#AVR_ATMEGA_16_STRING
 "ATMega16"

	)

68 
	#AVR_ATMEGA_16_SIGNATURE
 0x9403

	)

69 
	#AVR_ATMEGA_16_FLASH_SIZE
 ( 16 * 1024 )

	)

70 
	#AVR_ATMEGA_16_BOOT_SIZE
 ( 2 * 1024 )

	)

71 
	#AVR_ATMEGA_16_PAGE_SHIFT
 7

	)

72 
	#AVR_ATMEGA_16_PAGE_SIZE
 128

	)

74 
	#AVR_ATMEGA_168_STRING
 "ATMega168"

	)

75 
	#AVR_ATMEGA_168_SIGNATURE
 0x9406

	)

76 
	#AVR_ATMEGA_168_FLASH_SIZE
 ( 16 * 1024 )

	)

77 
	#AVR_ATMEGA_168_BOOT_SIZE
 ( 2 * 1024 )

	)

78 
	#AVR_ATMEGA_168_PAGE_SHIFT
 7

	)

79 
	#AVR_ATMEGA_168_PAGE_SIZE
 128

	)

81 
	#AVR_ATMEGA_169_STRING
 "ATMega169"

	)

82 
	#AVR_ATMEGA_169_SIGNATURE
 0x9405

	)

83 
	#AVR_ATMEGA_169_FLASH_SIZE
 ( 16 * 1024 )

	)

84 
	#AVR_ATMEGA_169_BOOT_SIZE
 ( 2 * 1024 )

	)

85 
	#AVR_ATMEGA_169_PAGE_SHIFT
 7

	)

86 
	#AVR_ATMEGA_169_PAGE_SIZE
 128

	)

88 
	#AVR_ATMEGA_32_STRING
 "ATMega32"

	)

89 
	#AVR_ATMEGA_32_SIGNATURE
 0x9502

	)

90 
	#AVR_ATMEGA_32_FLASH_SIZE
 ( 32 * 1024 )

	)

91 
	#AVR_ATMEGA_32_BOOT_SIZE
 ( 4 * 1024 )

	)

92 
	#AVR_ATMEGA_32_PAGE_SHIFT
 7

	)

93 
	#AVR_ATMEGA_32_PAGE_SIZE
 128

	)

95 
	#AVR_ATMEGA_64_STRING
 "ATMega64"

	)

96 
	#AVR_ATMEGA_64_SIGNATURE
 0x9602

	)

97 
	#AVR_ATMEGA_64_FLASH_SIZE
 ( 64 * 1024 )

	)

98 
	#AVR_ATMEGA_64_BOOT_SIZE
 ( 8 * 1024 )

	)

99 
	#AVR_ATMEGA_64_PAGE_SHIFT
 8

	)

100 
	#AVR_ATMEGA_64_PAGE_SIZE
 256

	)

102 
	#AVR_ATMEGA_128_STRING
 "ATMega128"

	)

103 
	#AVR_ATMEGA_128_SIGNATURE
 0x9702

	)

104 
	#AVR_ATMEGA_128_FLASH_SIZE
 ( 128 * 1024 )

	)

105 
	#AVR_ATMEGA_128_BOOT_SIZE
 ( 8 * 1024 )

	)

106 
	#AVR_ATMEGA_128_PAGE_SHIFT
 8

	)

107 
	#AVR_ATMEGA_128_PAGE_SIZE
 256

	)

109 
	#AVR_PART_STRING
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_STRING


	)

110 
	#AVR_PART_SIGNATURE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_SIGNATURE


	)

111 
	#AVR_PART_FLASH_SIZE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_FLASH_SIZE


	)

112 
	#AVR_PART_BOOT_SIZE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_BOOT_SIZE


	)

113 
	#AVR_PART_PAGE_SHIFT
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_PAGE_SHIFT


	)

114 
	#AVR_PART_PAGE_SIZE
–
∑π
 ) 
AVR_
 ##Ö¨à## 
_PAGE_SIZE


	)

116 #i‡
deföed
–
__AVR__
 )

118 #i‡
deföed
 ( 
__AVR_ATmega48__
 )

119 
	#AVR_PART_NUM
 
ATMEGA_48


	)

121 #ñi‡
deföed
–
__AVR_ATmega8__
 )

122 
	#AVR_PART_NUM
 
ATMEGA_8


	)

124 #ñi‡
deföed
–
__AVR_ATmega88__
 )

125 
	#AVR_PART_NUM
 
ATMEGA_88


	)

127 #ñi‡
deföed
–
__AVR_ATmega16__
 )

128 
	#AVR_PART_NUM
 
ATMEGA_16


	)

130 #ñi‡
deföed
–
__AVR_ATmega168__
 )

131 
	#AVR_PART_NUM
 
ATMEGA_168


	)

133 #ñi‡
deföed
–
__AVR_ATmega169__
 )

134 
	#AVR_PART_NUM
 
ATMEGA_169


	)

136 #ñi‡
deföed
–
__AVR_ATmega32__
 )

137 
	#AVR_PART_NUM
 
ATMEGA_32


	)

139 #ñi‡
deföed
–
__AVR_ATmega64__
 )

140 
	#AVR_PART_NUM
 
ATMEGA_64


	)

142 #ñi‡
deföed
–
__AVR_ATmega128__
 )

143 
	#AVR_PART_NUM
 
ATMEGA_128


	)

146 #îr‹ 
Uƒecognized
 
AVR
 
Devi˚


149 
	#AVR_PART_STRING2
–
∑π
 ) 
	`AVR_PART_STRING
–∑π )

	)

150 
	#AVR_PART_SIGNATURE2
–
∑π
 ) 
	`AVR_PART_SIGNATURE
–∑π )

	)

151 
	#AVR_PART_FLASH_SIZE2
–
∑π
 ) 
	`AVR_PART_FLASH_SIZE
–∑π )

	)

152 
	#AVR_PART_BOOT_SIZE2
–
∑π
 ) 
	`AVR_PART_BOOT_SIZE
–∑π )

	)

153 
	#AVR_PART_PAGE_SHIFT2
–
∑π
 ) 
	`AVR_PART_PAGE_SHIFT
–∑π )

	)

154 
	#AVR_PART_PAGE_SIZE2
–
∑π
 ) 
	`AVR_PART_PAGE_SIZE
–∑π )

	)

156 
	#AVR_STRING
 
	`AVR_PART_STRING2
–
AVR_PART_NUM
 )

	)

157 
	#AVR_SIGNATURE
 
	`AVR_PART_SIGNATURE2
–
AVR_PART_NUM
 )

	)

158 
	#AVR_FLASH_SIZE
 
	`AVR_PART_FLASH_SIZE2
–
AVR_PART_NUM
 )

	)

159 
	#AVR_BOOT_SIZE
 
	`AVR_PART_BOOT_SIZE2
–
AVR_PART_NUM
 )

	)

160 
	#AVR_PAGE_SHIFT
 
	`AVR_PART_PAGE_SHIFT2
–
AVR_PART_NUM
 )

	)

161 
	#AVR_PAGE_SIZE
 
	`AVR_PART_PAGE_SIZE2
–
AVR_PART_NUM
 )

	)

169 #i‡
deföed
–
__˝lu•lus
 )

174 c⁄° 
AvrInfo_t
 *
FödAvrInfoBySig«tuª
–
uöt16_t
 
sig«tuª
 );

176 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Shared/BootLoader.h

31 #i‡!
deföed
–
BOOTLOADER_H
 )

32 
	#BOOTLOADER_H


33 

	)

36 
	~<öây≥s.h
>

38 #i‡
deföed
–
AVR
 )

39 
	~<avr/io.h
>

42 
	~"i2c.h
"

53 
uöt32_t
 
	mvÆ32
;

54 
uöt16_t
 
	mvÆ16
;

55 
uöt8_t
 
	mbyã
[ 4 ];

57 } 
	tBL_Addr_t
;

59 
	#BL_ADDR_MASK
 0x00FFFFFFuL

	)

68 
	#BL_API_VERSION
 1

	)

77 
	#BL_API_MIN_VERSION
 1

	)

86 
	#BL_MAX_DATA_BYTES
 28

	)

88 
	#BL_REG_BASE
 0xB0

	)

99 
	#BL_REG_GET_INFO
 0xB0

	)

110 
I2C_Addr_t
 
	mdevAddr
;

111 
uöt8_t
 
	mvîsi⁄
;

112 
uöt8_t
 
	mmöVîsi⁄
;

113 
uöt8_t
 
	m∑d
[ 3 ];

114 
uöt16_t
 
	m∑πNumbî
;

115 
uöt16_t
 
	mªgSize
;

116 
uöt16_t
 
	mømSize
;

117 
uöt16_t
 
	mì¥omSize
;

118 
uöt16_t
 
	m•mPageSize
;

119 
uöt32_t
 
	mÊashSize
;

121 } 
	tBoŸLﬂdîInfo_t
;

129 
	#BL_MEM_TYPE_MASK
 0xC0

	)

130 
	#BL_MEM_TYPE_FLASH
 0x00

	)

131 
	#BL_MEM_TYPE_SRAM
 0x40

	)

132 
	#BL_MEM_TYPE_EEPROM
 0x80

	)

144 
	#BL_REG_READ_DATA
 0xB1

	)

148 
BL_Addr_t
 
	maddr
;

149 
uöt8_t
 
	mÀn
;

150 
uöt8_t
 
	m∑d
[ 3 ];

152 } 
	tBoŸLﬂdîRód_t
;

163 
	#BL_REG_WRITE_DATA
 0xB2

	)

167 
BL_Addr_t
 
	maddr
;

168 
uöt8_t
 
	md©a
[ 
BL_MAX_DATA_BYTES
 ];

170 } 
	tBoŸLﬂdîWrôe_t
;

179 
	#BL_CMD_RUN_APP
 0xB3

	)

189 
	#BL_CMD_REBOOT
 0xB4

	)

202 
	#BL_NODE_NAME_LEN
 16

	)

206 
	m«me
[ 
BL_NODE_NAME_LEN
 ];

207 
uöt8_t
 
	m∑d
;

208 
uöt8_t
 
	mboŸDñay
;

209 
uöt8_t
 
	mi2cAddr
;

210 
uöt8_t
 
	m°ru˘Size
;

212 } 
	tBoŸLﬂdîEïromD©a_t
;

221 
	#BL_DEFAULT_I2C_ADDR
 0x0B

	)

229 
	#BL_DEFAULT_BOOT_DELAY
 5

	)

236 
	#BL_TEST_CMDS
 1

	)

238 #i‡
BL_TEST_CMDS


240 
	#BL_CMD_TEST_READ
 0xC0

	)

241 
	#BL_CMD_TEST_WRITE
 0xC1

	)

242 
	#BL_CMD_TEST_CALL
 0xC2

	)

243 
	#BL_CMD_TEST_NOTIFY
 0xCC

	)

247 #i‡
deföed
–
AVR
 )

256 
uöt32_t
 
	mm_∑geAddªss
;

257 
uöt8_t
 
	mm_∑geDúty
;

258 
uöt8_t
 
	mm_∑geBuf
[ 
SPM_PAGESIZE
 ];

260 } 
	tBoŸLﬂdîGlobÆs_t
;

	@processors/executive/Shared/Crc8.c

27 
	~"C⁄fig.h
"

29 
	~"Crc8.h
"

31 
	~"Log.h
"

52 
	#POLYNOMIAL
 (0x1070U << 3)

	)

54 
	$Crc8
–
öCrc
, 
öD©a
 )

56 
i
;

57 
d©a
;

59 
d©a
 = 
öCrc
 ^ 
öD©a
;

60 
d©a
 <<= 8;

62  
i
 = 0; i < 8; i++ )

64 i‡(–
d©a
 & 0x8000 ) != 0 )

66 
d©a
 = d©®^ 
POLYNOMIAL
;

68 
d©a
 = data << 1;

72 #i‡
	`deföed
–
LogBuf2
 )

73 
	`LogBuf2
–"Crc8: d©a:0x%02x crc:0x%02x\n", 
öD©a
, ()–
d©a
 >> 8 ));

75 
	`Log
–"Crc8: d©a:0x%02x crc:0x%02x\n", 
öD©a
, ()–
d©a
 >> 8 ));

79  ()–
d©a
 >> 8 );

81 
	}
}

85 
	$Crc8
–
öCrc
, 
öD©a
 )

87 
i
;

88 
d©a
;

90 
d©a
 = 
öCrc
 ^ 
öD©a
;

92  
i
 = 0; i < 8; i++ )

94 i‡(–
d©a
 & 0x80 ) != 0 )

96 
d©a
 <<= 1;

97 
d©a
 ^= 0x07;

101 
d©a
 <<= 1;

106 #i‡
	`deföed
–
LogBuf2
 )

107 
	`LogBuf2
–"Crc8: d©a:0x%02x crc:0x%02x\n", 
öD©a
, 
d©a
 );

109 
	`Log
–"Crc8: d©a:0x%02x crc:0x%02x\n", 
öD©a
, 
d©a
 );

113  
d©a
;

115 
	}
}

119 #i‡
deföed
–
CFG_CRC8BLOCK
 )

126 
uöt8_t
 
	$Crc8Block
–
uöt8_t
 
¸c
, uöt8_à*
d©a
, uöt8_à
Àn
 )

128  
Àn
 > 0 )

130 
¸c
 = 
	`Crc8
–¸c, *
d©a
++ );

131 
Àn
--;

134  
¸c
;

136 
	}
}

	@processors/executive/Shared/Crc8.h

24 #i‡!
deföed
–
CRC8_H
 )

25 
	#CRC_H


26 

	)

29 
	~<öây≥s.h
>

31 #i‡
deföed
–
__˝lu•lus
 )

40 
uöt8_t
 
Crc8
–uöt8_à
¸c
, uöt8_à
d©a
 );

42 
uöt8_t
 
Crc8Block
–uöt8_à
¸c
, uöt8_à*
d©a
, uöt8_à
Àn
 );

45 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Shared/Delay.h

23 #i‡!
deföed
–
DELAY_H
 )

24 
	#DELAY_H


	)

28 
	~<öây≥s.h
>

36 #i‡
deföed
–
__˝lu•lus
 )

41 
us_•ö
–
us
 );

42 
ms_•ö
–
ms
 );

44 
Dñay100uSec
–
uöt8_t
 
num100uSec
 );

45 
Dñay10uSec
–
uöt8_t
 
num10uSec
 );

47 
Dñay100mSec
–
uöt8_t
 
num100mSec
 );

48 
Dñay10mSec
–
uöt8_t
 
num10mSec
 );

49 
Dñay1mSec
–
uöt8_t
 
num1mSec
 );

51 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Shared/DumpMem.c

25 
	~<öây≥s.h
>

26 
	~"DumpMem.h
"

27 
	~"Log.h
"

40 
	$DumpMem
–c⁄° *
¥efix
, 
addªss
, c⁄° *
öD©a
, 
numByãs
 )

42 c⁄° 
uöt8_t
 *
d©a
 = (c⁄° uöt8_à*)
öD©a
;

43 
byãOff£t
;

45 i‡–
numByãs
 == 0 )

47 
	`Log
–"%s: Nÿd©a\n", 
¥efix
 );

51 
	#LINE_WIDTH
 16

	)

53  
byãOff£t
 = 0; byãOff£à< 
numByãs
; byãOff£à+
LINE_WIDTH
 )

55 
i
;

57 
	`Log
–"%s: %04x: ", 
¥efix
, 
addªss
 + 
byãOff£t
 );

59  
i
 = 0; i < 
LINE_WIDTH
; i++ )

61 i‡(–
byãOff£t
 + 
i
 ) < 
numByãs
 )

63 
	`Log
–"%02.2X ", 
d©a
[ 
byãOff£t
 + 
i
 ] );

67 
	`Log
( " " );

70  
i
 = 0; i < 
LINE_WIDTH
; i++ )

72 i‡(–
byãOff£t
 + 
i
 ) < 
numByãs
 )

74 
ch
 = 
d©a
[ 
byãOff£t
 + 
i
 ];

75 i‡(–
ch
 < ' ' ) || ( ch > '~' ))

77 
	`Log
( "." );

81 
	`Log
–"%c", 
ch
 );

89 
	`Log
( "\n" );

92 
	}
}

	@processors/executive/Shared/DumpMem.h

23 #i‡!
deföed
–
DUMPMEM_H
 )

24 
	#DUMPMEM_H


25 

	)

33 #i‡
deföed
–
__˝lu•lus
 )

38 
DumpMem
–c⁄° *
¥efix
, 
addªss
, c⁄° *
d©a
, 
numByãs
 );

40 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Shared/Log.c

25 
	~"Log.h
"

27 #i‡
CFG_LOG_USE_STDIO


28 
	~<°dio.h
>

30 
	~"Så.h
"

31 
	~"UART.h
"

37 #i‡
deföed
–
AVR
 )

39 #unde‡
Log


40 #unde‡
LogEº‹


41 #unde‡
vLog


43 
	#Log
 
Log_P


	)

44 
	#LogEº‹
 
LogEº‹_P


	)

45 
	#vLog
 
vLog_P


	)

46 
	#LogBuf
 
LogBuf_P


	)

48 
¥og_ch¨


	)

52 
	#PSTR
(
°r
Ë
	)
str

54 
	ggVîbo£
 = 0;

55 
	ggDebug
 = 0;

56 
	ggQuõt
 = 0;

60 #i‡
CFG_LOG_TO_BUFFER


62 vﬁ©ûê
LOG_Buf„r_t
 
	gLOG_gBuf„r
;

68 #i‡
CFG_LOG_USE_STDIO


70 
FILE
 *
	ggLogFs
 = 
NULL
;

83 #i‡!
deföed
–
AVR
 )

85 
	$DeÁu…LogFunc
–
logLevñ
, c⁄° *
fmt
, 
va_li°
 
¨gs
 )

87 
FILE
 *
fs
;

89 i‡–
gQuõt
 && ( 
logLevñ
 =
LOG_LEVEL_NORMAL
 ))

94 i‡–
gLogFs
 =
NULL
 )

96 
fs
 = 
°dîr
;

100 
fs
 = 
gLogFs
;

103 i‡–
logLevñ
 =
LOG_LEVEL_ERROR
 )

105 
	`Ârötf
–
fs
, "ERROR: " );

107 
	`vÂrötf
–
fs
, 
fmt
, 
¨gs
 );

108 
	`fÊush
–
fs
 );

110 
	}
}

112 
LogFunc_t
 
	ggLogFunc
 = 
DeÁu…LogFunc
;

114 
	$SëLogFunc
–
LogFunc_t
 
logFunc
 )

117 
gLogFunc
 = 
logFunc
;

119 
	}
}

128 #i‡
CFG_LOG_USE_STDIO


129 
	$LogInô
–
FILE
 *
logFs
 )

131 
gLogFs
 = 
logFs
;

133 
	}
}

137 
	$LogToU¨tFunc
–*
outP¨m
, 
ch
 )

139 
	`UART0_PutCh¨
–
ch
 );

142 
	}
}

150 
	gLog


152 c⁄° *
	gfmt
,

156 
va_li°
 
	g¨gs
;

158 
va_°¨t
–
¨gs
, 
fmt
 );

159 
vLog
–
fmt
, 
¨gs
 );

160 
va_íd
–
¨gs
 );

168 
	gvLog


170 c⁄° *
	gfmt
,

171 
va_li°
 
	g¨gs


177 #i‡
deföed
–
AVR
 )

178 #i‡
CFG_LOG_USE_STDIO


179 i‡–
	ggLogFs
 !
NULL
 )

181 
vÂrötf_P
–
gLogFs
, 
fmt
, 
¨gs
 );

184 
vSåXPrötf_P
–
LogToU¨tFunc
, 
NULL
, 
fmt
, 
¨gs
 );

187 i‡–
	ggLogFunc
 !
NULL
 )

189 
gLogFunc
–
LOG_LEVEL_NORMAL
, 
fmt
, 
¨gs
 );

194 #i‡!
deföed
–
AVR
 )

201 
	gvLogEº‹


203 c⁄° *
	gfmt
,

204 
va_li°
 
	g¨gs


207 i‡–
	ggLogFunc
 !
NULL
 )

209 
gLogFunc
–
LOG_LEVEL_ERROR
, 
fmt
, 
¨gs
 );

220 
	gLogEº‹


222 c⁄° *
	gfmt
,

226 
va_li°
 
	g¨gs
;

228 #i‡
deföed
–
AVR
 )

232 
va_°¨t
–
¨gs
, 
fmt
 );

233 
vLog
–
fmt
, 
¨gs
 );

234 
va_íd
–
¨gs
 );

236 
va_°¨t
–
¨gs
, 
fmt
 );

237 
vLogEº‹
–
fmt
, 
¨gs
 );

238 
va_íd
–
¨gs
 );

248 #i‡
CFG_LOG_TO_BUFFER


250 
	$LogBuf
–c⁄° *
fmt
, 
uöt8_t
 
¨g1
, uöt8_à
¨g2
 
LOG_EXTRA_PARAMS_DECL
 )

252 #i‡
	`deföed
–
AVR
 )

253 
uöt8_t
 
§eg
 = 
SREG
;

254 
	`˛i
();

257 i‡–
	`CBUF_IsFuŒ
–
LOG_gBuf„r
 ))

259 vﬁ©ûê
LOG_E¡ry_t
 *
íåy
 = 
	`CBUF_GëLa°E¡ryPå
–
LOG_gBuf„r
 );

261 
íåy
->
fmt
 = 
	`PSTR
( "*** Lost Messages ***\n" );

265 vﬁ©ûê
LOG_E¡ry_t
 *
íåy
 = 
	`CBUF_GëPushE¡ryPå
–
LOG_gBuf„r
 );

267 
íåy
->
fmt
 = fmt;

268 
íåy
->
∑øm1
 = 
¨g1
;

269 
íåy
->
∑øm2
 = 
¨g2
;

271 #i‡
CFG_LOG_EXTRA_PARAMS


272 
íåy
->
∑øm3
 = 
¨g3
;

273 
íåy
->
∑øm4
 = 
¨g4
;

276 
	`CBUF_Adv™˚PushIdx
–
LOG_gBuf„r
 );

279 #i‡
	`deföed
–
AVR
 )

280 
SREG
 = 
§eg
;

283 
	}
}

292 #i‡
CFG_LOG_TO_BUFFER


294 
	$LogBufDump
( )

296  !
	`CBUF_IsEm±y
–
LOG_gBuf„r
 ))

298 vﬁ©ûê
LOG_E¡ry_t
 *
íåy
 = 
	`CBUF_GëP›E¡ryPå
–
LOG_gBuf„r
 );

300 #i‡
CFG_LOG_EXTRA_PARAMS


301 
	`Log
–
íåy
->
fmt
,É¡ry->
∑øm1
,É¡ry->
∑øm2
,É¡ry->
∑øm3
,É¡ry->
∑øm4
 );

303 
	`Log
–
íåy
->
fmt
,É¡ry->
∑øm1
,É¡ry->
∑øm2
 );

306 
	`CBUF_Adv™˚P›Idx
–
LOG_gBuf„r
 );

309 
	}
}

	@processors/executive/Shared/Log.h

29 #i‡!
deföed
–
LOG_H
 )

30 
	#LOG_H


31 

	)

34 
	~<°d¨g.h
>

35 
	~<°dio.h
>

37 #i‡!
deföed
–
CONFIG_H
 )

38 
	~"C⁄fig.h
"

40 #i‡!
deföed
–
CFG_LOG_USE_STDIO
 )

41 
	#CFG_LOG_USE_STDIO
 1

	)

44 #i‡
deföed
–
AVR
 )

45 
	~<avr/pgm•a˚.h
>

46 
	~<avr/öãºu±.h
>

49 #i‡
CFG_LOG_TO_BUFFER


50 #i‡!
deföed
–
CBUF_H
 )

51 
	~"CBUF.h
"

61 #i‡!
deföed
–
CFG_LOG_ENABLED
 )

62 
	#CFG_LOG_ENABLED
 1

	)

65 #i‡!
CFG_LOG_ENABLED


67 
	#Log
–
fmt
, 
¨gs
... )

	)

68 
	#LogEº‹
–
fmt
, 
¨gs
... )

	)

72 #i‡
deföed
–
__˝lu•lus
 )

82 #i‡
CFG_LOG_TO_BUFFER


84 #i‡
deföed
–
AVR
 )

88 c⁄° 
¥og_ch¨
 *
fmt
;

89 
uöt8_t
 
∑øm1
;

90 
uöt8_t
 
∑øm2
;

91 #i‡
CFG_LOG_EXTRA_PARAMS


92 
uöt8_t
 
∑øm3
;

93 
uöt8_t
 
∑øm4
;

96 } 
	tLOG_E¡ry_t
;

98 #i‡
CFG_LOG_EXTRA_PARAMS


99 
	#LOG_EXTRA_PARAMS_DECL
 , 
uöt8_t
 
¨g3
, uöt8_à
¨g4


	)

100 
	#LOG_EXTRA_PARAMS
 , 0, 0

	)

102 
	#LOG_EXTRA_PARAMS_DECL


	)

103 
	#LOG_EXTRA_PARAMS


	)

106 
LogBuf_P
–c⁄° 
¥og_ch¨
 *
fmt
, 
uöt8_t
 
¨g1
, uöt8_à
¨g2
 
LOG_EXTRA_PARAMS_DECL
 );

108 
	#LogBuf0
–
fmt
 ) 
	`LogBuf_P
–
	`PSTR
–fmà), 0, 0 
LOG_EXTRA_PARAMS
 )

	)

109 
	#LogBuf1
–
fmt
, 
¨g1
 ) 
	`LogBuf_P
–
	`PSTR
–fmà),árg1, 0 
LOG_EXTRA_PARAMS
 )

	)

110 
	#LogBuf2
–
fmt
, 
¨g1
, 
¨g2
 ) 
	`LogBuf_P
–
	`PSTR
–fmà),árg1,árg2 
LOG_EXTRA_PARAMS
 )

	)

112 #i‡
CFG_LOG_EXTRA_PARAMS


113 
	#LogBuf3
–
fmt
, 
¨g1
, 
¨g2
, 
¨g3
 ) 
	`LogBuf_P
–
	`PSTR
–fmà),árg1,árg2,árg3, 0 )

	)

114 
	#LogBuf4
–
fmt
, 
¨g1
, 
¨g2
, 
¨g3
, 
¨g4
 ) 
	`LogBuf_P
–
	`PSTR
–fmà),árg1,árg2,árg3,árg4 )

	)

121 c⁄° *
	mfmt
;

122 
uöt8_t
 
	m∑øm1
;

123 
uöt8_t
 
	m∑øm2
;

125 } 
	tLOG_E¡ry_t
;

127 
LogBuf
–c⁄° *
fmt
, 
uöt8_t
 
¨g1
, uöt8_à
¨g2
 );

129 
	#LogBuf0
–
fmt
, 
¨g1
 ) 
	`LogBuf
–fmt, 0, 0 )

	)

130 
	#LogBuf1
–
fmt
, 
¨g1
 ) 
	`LogBuf
–fmt,árg1, 0 )

	)

131 
	#LogBuf2
–
fmt
, 
¨g1
, 
¨g2
 ) 
	`LogBuf
–fmt,árg1,árg2 )

	)

135 #i‡–
CFG_LOG_NUM_BUFFER_ENTRIES
 > 128 )

136 
uöt16_t
 
	tLOG_Buf„rIdx_t
;

138 
uöt8_t
 
	tLOG_Buf„rIdx_t
;

143 
LOG_Buf„rIdx_t
 
	mm_gëIdx
;

144 
LOG_Buf„rIdx_t
 
	mm_putIdx
;

145 
LOG_E¡ry_t
 
	mm_íåy
[ 
CFG_LOG_NUM_BUFFER_ENTRIES
 ];

147 } 
	tLOG_Buf„r_t
;

149 vﬁ©ûê
LOG_Buf„r_t
 
LOG_gBuf„r
;

151 
	#LOG_gBuf„r_SIZE
 ( –
LOG_gBuf„r
.
m_íåy
 ) / –LOG_gBuf„r.m_íåy[ 0 ] ))

	)

153 
LogBufDump
( );

162 #i‡
CFG_LOG_USE_STDIO


163 
FILE
 *
gLogFs
;

165 
LogInô
–
FILE
 *
logFs
 );

168 #i‡
deföed
–
AVR
 )

170 
Log_P
–c⁄° 
¥og_ch¨
 *
fmt
, ... );

171 
LogEº‹_P
–c⁄° 
¥og_ch¨
 *
fmt
, ... );

172 
vLog_P
–c⁄° 
¥og_ch¨
 *
fmt
, 
va_li°
 
¨gs
 );

174 
	#Log
–
fmt
, 
¨gs
... ) 
	`Log_P
–
	`PSTR
–fmà), ##árg†)

	)

175 
	#LogEº‹
–
fmt
, 
¨gs
... ) 
	`LogEº‹_P
–
	`PSTR
–fmà), ##árg†)

	)

176 
	#vLog
–
fmt
, 
va_li°
, 
¨gs
 ) 
	`vLog_P
–
	`PSTR
–fmà),árg†)

	)

180 
	#LOG_LEVEL_NORMAL
 0

	)

181 
	#LOG_LEVEL_ERROR
 1

	)

183 (*
	gLogFunc_t
)–
	tlogLevñ
, c⁄° *
	tfmt
, 
	tva_li°
 
	t¨gs
 );

185 
gVîbo£
;

186 
gDebug
;

187 
gQuõt
;

189 
Log
–c⁄° *
fmt
, ... );

190 
LogEº‹
–c⁄° *
fmt
, ... );

191 
vLog
–c⁄° *
fmt
, 
va_li°
 
¨gs
 );

192 
vLogEº‹
–c⁄° *
fmt
, 
va_li°
 
¨gs
 );

194 
	#Log_P
–
fmt
, 
¨gs
... ) 
	`Log
–fmt, ##árg†)

	)

195 
	#LogEº‹_P
–
fmt
, 
¨gs
... ) 
	`LogEº‹
–fmt, ##árg†)

	)

196 
	#vLog_P
–
fmt
, 
¨gs
 ) 
	`vLog
–fmt,árg†)

	)

198 
	#LogDebug
–
fmt
, 
¨gs
... ) dÿ{ i‡–
gDebug
 ) { 
	`Log
–fmt, ##árg†); }} 0)

	)

199 
	#LogVîbo£
–
fmt
, 
¨gs
... ) dÿ{ i‡–
gVîbo£
 ) { 
	`Log
–fmt, ##árg†); }} 0)

	)

201 
SëLogFunc
–
LogFunc_t
 
logFunc
 );

202 
DeÁu…LogFunc
–
logLevñ
, c⁄° *
fmt
, 
va_li°
 
¨gs
 );

206 #i‡
deföed
–
__˝lu•lus
 )

	@processors/executive/Shared/Str.h

33 #i‡!
deföed
–
STR_H
 )

34 
	#STR_H


35 

	)

36 
	~<°ddef.h
>

37 
	~<°d¨g.h
>

52 (*
	tSåXPrötfFunc
)–*
	toutP¨m
, 
	tch
 );

61 *
	`SåMaxCpy
–*
d°
, c⁄° *
§c
, 
size_t
 
maxLí
 );

62 *
	`SåMaxC©
–*
d°
, c⁄° *
§c
, 
size_t
 
maxLí
 );

64 #i‡
	`deföed
–
AVR
 )

66 
	~<avr/pgm•a˚.h
>

68 
	`SåPrötf_P
–*
outSå
, 
maxLí
, c⁄° 
¥og_ch¨
 *
fmt
, ... );

69 
	`vSåPrötf_P
–*
outSå
, 
maxLí
, c⁄° 
¥og_ch¨
 *
fmt
, 
va_li°
 
¨gs
 );

71 
	`SåXPrötf_P
–
SåXPrötfFunc
 
func
, *
u£rP¨m
, c⁄° 
¥og_ch¨
 *
fmt
, ... );

72 
	`vSåXPrötf_P
–
SåXPrötfFunc
 
func
, *
u£rP¨m
, c⁄° 
¥og_ch¨
 *
fmt
, 
va_li°
 
¨gs
 );

74 
	#SåPrötf
–
outSå
, 
maxLí
, 
fmt
, 
¨gs
... ) 
	`SåPrötf_P
–outSå, maxLí, 
	`PSTR
–fmà), ##árg†)

	)

75 
	#vSåPrötf
–
outSå
, 
maxLí
, 
fmt
, 
¨gs
 ) 
	`vSåPrötf_P
–outSå, maxLí, 
	`PSTR
–fmà),árg†)

	)

77 
	#SåXPrötf
–
func
, 
u£rP¨m
, 
fmt
, 
¨gs
... ) 
	`SåXPrötf_P
–func, u£rP¨m, 
	`PSTR
–fmà), ##árg†)

	)

78 
	#vSåXPrötf
–
func
, 
u£rP¨m
, 
fmt
, 
¨gs
 ) 
	`vSåXPrötf_P
–func, u£rP¨m, 
	`PSTR
–fmà),árg†)

	)

82 
	`SåPrötf
–*
outSå
, 
maxLí
, c⁄° *
fmt
, ... );

83 
	`vSåPrötf
–*
outSå
, 
maxLí
, c⁄° *
fmt
, 
va_li°
 
¨gs
 );

85 
	`SåXPrötf
–
SåXPrötfFunc
 
func
, *
u£rP¨m
, c⁄° *
fmt
, ... );

86 
	`vSåXPrötf
–
SåXPrötfFunc
 
func
, *
u£rP¨m
, c⁄° *
fmt
, 
va_li°
 
¨gs
 );

	@processors/executive/Shared/StrPrintf.c

38 
	~"Så.h
"

39 
	~<limôs.h
>

40 
	~<°rög.h
>

42 #i‡
deföed
–
AVR
 )

44 #unde‡
SåPrötf


45 #unde‡
vSåPrötf


47 #unde‡
SåXPrötf


48 #unde‡
vSåXPrötf


50 
	#SåPrötf
 
SåPrötf_P


	)

51 
	#vSåPrötf
 
vSåPrötf_P


	)

53 
	#SåXPrötf
 
SåXPrötf_P


	)

54 
	#vSåXPrötf
 
vSåXPrötf_P


	)

58 
	#¥og_ch¨
 

	)

59 
	#pgm_ªad_byã
–
addr
 ) *
	)
addr

77 
	mNO_OPTION
 = 0x00,

78 
	mMINUS_SIGN
 = 0x01,

79 
	mRIGHT_JUSTIFY
 = 0x02,

80 
	mZERO_PAD
 = 0x04,

81 
	mCAPITAL_HEX
 = 0x08

83 } 
	tFmtO±i⁄
;

90 
	#IsO±i⁄Së
–
p
, 
x
 ) (–’)->
›ti⁄s
 & (x)Ë!0 )

	)

91 
	#IsO±i⁄CÀ¨
–
p
, 
x
 ) (–’)->
›ti⁄s
 & (x)Ë=0 )

	)

92 
	#SëO±i⁄
–
p
, 
x
 ) (p)->
›ti⁄s
 = (
FmtO±i⁄
)(’)->›ti⁄†| (x))

	)

93 
	#CÀ¨O±i⁄
–
p
, 
x
 ) (p)->
›ti⁄s
 = (
FmtO±i⁄
)(’)->›ti⁄†& ~(x))

	)

102 
	mnumOuçutCh¨s
;

105 
FmtO±i⁄
 
	m›ti⁄s
;

108 
	mmöFõldWidth
;

111 
	medôedSåögLí
;

114 
	mÀadögZîos
;

117 
SåXPrötfFunc
 
	moutFunc
;

120 *
	moutP¨m
;

122 } 
	tP¨amëîs
;

129 *
	m°r
;

130 
	mmaxLí
;

132 } 
	tSåPrötfP¨ms
;

137 
OuçutCh¨
–
P¨amëîs
 *
p
, 
c
 );

138 
OuçutFõld
–
P¨amëîs
 *
p
, *
s
 );

139 
SåPrötfFunc
–*
outP¨m
, 
ch
 );

159 
	$SåPrötf
–*
outSå
, 
maxLí
, c⁄° *
fmt
, ... )

161 
rc
;

162 
va_li°
 
¨gs
;

164 
	`va_°¨t
–
¨gs
, 
fmt
 );

165 
rc
 = 
	`vSåPrötf
–
outSå
, 
maxLí
, 
fmt
, 
¨gs
 );

166 
	`va_íd
–
¨gs
 );

168  
rc
;

170 
	}
}

190 
	$SåXPrötf
–
SåXPrötfFunc
 
outFunc
, *
outP¨m
, c⁄° 
¥og_ch¨
 *
fmt
, ... )

192 
rc
;

193 
va_li°
 
¨gs
;

195 
	`va_°¨t
–
¨gs
, 
fmt
 );

196 
rc
 = 
	`vSåXPrötf
–
outFunc
, 
outP¨m
, 
fmt
, 
¨gs
 );

197 
	`va_íd
–
¨gs
 );

199  
rc
;

201 
	}
}

213 
	$vSåPrötf
–*
outSå
, 
maxLí
, c⁄° 
¥og_ch¨
 *
fmt
, 
va_li°
 
¨gs
 )

215 
SåPrötfP¨ms
 
°rP¨m
;

217 
°rP¨m
.
°r
 = 
outSå
;

218 
°rP¨m
.
maxLí
 = maxLen - 1;

220  
	`vSåXPrötf
–
SåPrötfFunc
, &
°rP¨m
, 
fmt
, 
¨gs
 );

222 
	}
}

313 
	gvSåXPrötf


315 
SåXPrötfFunc
 
	goutFunc
,

316 *
	goutP¨m
,

317 c⁄° 
¥og_ch¨
 *
	gfmt
,

318 
va_li°
 
	g¨gs


321 
P¨amëîs
 
	gp
;

322 
	gc⁄åﬁCh¨
;

324 
	gp
.
	gnumOuçutCh¨s
 = 0;

325 
	gp
.
	goutFunc
 = 
outFunc
;

326 
	gp
.
	goutP¨m
 = 
outP¨m
;

328 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

330  
	gc⁄åﬁCh¨
 != '\0' )

332 i‡–
c⁄åﬁCh¨
 == '%' )

334 
¥ecisi⁄
 = -1;

335 
	gl⁄gArg
 = 0;

336 
	gba£
 = 0;

338 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

339 
	gp
.
	gmöFõldWidth
 = 0;

340 
	gp
.
	gÀadögZîos
 = 0;

341 
	gp
.
	g›ti⁄s
 = 
NO_OPTION
;

343 
SëO±i⁄
–&
p
, 
RIGHT_JUSTIFY
 );

349 i‡–
	gc⁄åﬁCh¨
 == '-' )

351 
CÀ¨O±i⁄
–&
p
, 
RIGHT_JUSTIFY
 );

352 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

355 i‡–
	gc⁄åﬁCh¨
 == '0' )

357 
SëO±i⁄
–&
p
, 
ZERO_PAD
 );

358 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

365 i‡–
	gc⁄åﬁCh¨
 == '*' )

367 
p
.
möFõldWidth
 = ()
va_¨g
–
¨gs
, );

368 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

372 –'0' <
c⁄åﬁCh¨
 ) && ( controlChar <= '9' ))

374 
p
.
möFõldWidth
 =

375 
p
.
möFõldWidth
 * 10 + 
c⁄åﬁCh¨
 - '0';

376 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

384 i‡–
	gc⁄åﬁCh¨
 == '.' )

386 
c⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

387 i‡–
	gc⁄åﬁCh¨
 == '*' )

389 
¥ecisi⁄
 = ()
va_¨g
–
¨gs
, );

390 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

394 
	g¥ecisi⁄
 = 0;

395 –'0' <
c⁄åﬁCh¨
 ) && ( controlChar <= '9' ))

397 
¥ecisi⁄
 =Öªcisi⁄ * 10 + 
c⁄åﬁCh¨
 - '0';

398 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

407 i‡–
	gc⁄åﬁCh¨
 == 'l' )

409 
l⁄gArg
 = 1;

410 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

417 i‡–
	gc⁄åﬁCh¨
 == 'd' )

419 
ba£
 = 10;

422 i‡–
	gc⁄åﬁCh¨
 == 'x' )

424 
ba£
 = 16;

427 i‡–
	gc⁄åﬁCh¨
 == 'X' )

429 
ba£
 = 16;

430 
SëO±i⁄
–&
p
, 
CAPITAL_HEX
 );

433 i‡–
	gc⁄åﬁCh¨
 == 'u' )

435 
ba£
 = 10;

438 i‡–
	gc⁄åﬁCh¨
 == 'o' )

440 
ba£
 = 8;

443 i‡–
	gc⁄åﬁCh¨
 == 'b' )

445 
ba£
 = 2;

448 i‡–
	gc⁄åﬁCh¨
 == 'c' )

450 
ba£
 = -1;

451 
CÀ¨O±i⁄
–&
p
, 
ZERO_PAD
 );

454 i‡–
	gc⁄åﬁCh¨
 == 's' )

456 
ba£
 = -2;

457 
CÀ¨O±i⁄
–&
p
, 
ZERO_PAD
 );

460 i‡–
	gba£
 == 0 )

462 i‡–
c⁄åﬁCh¨
 != '\0' )

464 
OuçutCh¨
–&
p
, 
c⁄åﬁCh¨
 );

465 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

470 i‡–
	gba£
 == -1 )

472 
c
 = ()
va_¨g
–
¨gs
, );

473 
	gp
.
	gedôedSåögLí
 = 1;

474 
OuçutFõld
–&
p
, &
c
 );

476 i‡–
	gba£
 == -2 )

478 *
°rög
 = 
va_¨g
–
¨gs
, * );

480 
	gp
.
	gedôedSåögLí
 = 0;

481  
	g°rög
[ 
p
.
edôedSåögLí
 ] != '\0' )

483 i‡(–
¥ecisi⁄
 >0 ) && ( 
p
.
edôedSåögLí
 >=Örecision ))

492 
	gp
.
	gedôedSåögLí
++;

494 
OuçutFõld
–&
p
, 
°rög
 );

498 
	gx
;

505 
	gbuf„r
[ 
CHAR_BIT
 * ( ) + 1 ];

507 
	gp
.
	gedôedSåögLí
 = 0;

508 i‡–
	gl⁄gArg
 )

510 
	gx
 = 
va_¨g
–
¨gs
, );

513 i‡–
	gc⁄åﬁCh¨
 == 'd' )

515 
x
 = 
va_¨g
–
¨gs
, );

519 
	gx
 = 
va_¨g
–
¨gs
, );

522 i‡(–
	gc⁄åﬁCh¨
 ='d' ) && ((Ë
x
 < 0 ))

524 
SëO±i⁄
–&
p
, 
MINUS_SIGN
 );

525 
	gx
 = - (Ë
x
;

530 
	gc
;

531 
	gc
 = 
x
 % 
ba£
 + '0';

532 i‡–
	gc
 > '9' )

534 i‡–
IsO±i⁄Së
–&
p
, 
CAPITAL_HEX
 ))

536 
	gc
 += 'A'-'9'-1;

540 
	gc
 += 'a'-'9'-1;

543 
	gbuf„r
[ –
buf„r
 ) - 1 - 
p
.
edôedSåögLí
++ ] = ()
c
;

545 –
	gx
 /
ba£
 ) != 0 );

547 i‡(–
	g¥ecisi⁄
 >0 ) && ( 
¥ecisi⁄
 > 
p
.
edôedSåögLí
 ))

549 
p
.
ÀadögZîos
 = 
¥ecisi⁄
 -Ö.
edôedSåögLí
;

551 
OuçutFõld
–&
p
, 
buf„r
 + (buf„rË-Ö.
edôedSåögLí
 );

553 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

563 
OuçutCh¨
–&
p
, 
c⁄åﬁCh¨
 );

564 
	gc⁄åﬁCh¨
 = 
pgm_ªad_byã
–
fmt
++ );

567  
	gp
.
	gnumOuçutCh¨s
;

587 
	$OuçutCh¨
–
P¨amëîs
 *
p
, 
c
 )

589 i‡–
p
->
numOuçutCh¨s
 >= 0 )

591 
n
 = (*
p
->
outFunc
)’->
outP¨m
, 
c
);

593 i‡–
n
 >= 0 )

595 
p
->
numOuçutCh¨s
++;

599 
p
->
numOuçutCh¨s
 = 
n
;

603 
	}
}

615 
	$OuçutFõld
–
P¨amëîs
 *
p
, *
s
 )

617 
∑dLí
 = 
p
->
möFõldWidth
 -Ö->
ÀadögZîos
 -Ö->
edôedSåögLí
;

619 i‡–
	`IsO±i⁄Së
–
p
, 
MINUS_SIGN
 ))

621 i‡–
	`IsO±i⁄Së
–
p
, 
ZERO_PAD
 ))

628 
	`OuçutCh¨
–
p
, '-' );

636 
∑dLí
--;

639 i‡–
	`IsO±i⁄Së
–
p
, 
RIGHT_JUSTIFY
 ))

645  --
∑dLí
 >= 0 )

647 
	`OuçutCh¨
–
p
,Ö->
›ti⁄s
 & 
ZERO_PAD
 ? '0' : ' ' );

650 i‡–
	`IsO±i⁄Së
–
p
, 
MINUS_SIGN
 ) && 
	`IsO±i⁄CÀ¨
–p, 
ZERO_PAD
 ))

657 
	`OuçutCh¨
–
p
, '-' );

664  --
p
->
ÀadögZîos
 >= 0 )

666 
	`OuçutCh¨
–
p
, '0' );

673  --
p
->
edôedSåögLí
 >= 0 )

675 
	`OuçutCh¨
–
p
, *
s
++ );

683  --
∑dLí
 >= 0 )

685 
	`OuçutCh¨
–
p
, ' ' );

688 
	}
}

702 
	$SåPrötfFunc
–*
outP¨m
, 
ch
 )

704 
SåPrötfP¨ms
 *
°rP¨m
 = (SåPrötfP¨m†*)
outP¨m
;

706 i‡–
°rP¨m
->
maxLí
 > 0 )

708 *
°rP¨m
->
°r
++ = ()
ch
;

709 *
°rP¨m
->
°r
 = '\0';

710 
°rP¨m
->
maxLí
--;

721 
	}
}

	@processors/executive/Shared/i2c-io.h

24 #i‡!
deföed
–
I2C_IO_H
 )

25 
	#I2C_IO_H


	)

40 
	#I2C_IO_API_VERSION
 2

	)

49 
	#I2C_IO_API_MIN_VERSION
 1

	)

58 
	#I2C_IO_GET_INFO
 0x01

	)

62 
uöt8_t
 
	mvîsi⁄
;

63 
uöt8_t
 
	mmöVîsi⁄
;

64 
uöt16_t
 
	msvnRevisi⁄
;

66 } 
	tI2C_IO_Info_t
;

80 
uöt8_t
 
	mp‹tNum
;

82 } 
	tI2C_IO_Gë_GPIO_t
;

84 
	#I2C_IO_GET_GPIO
 0x02

	)

99 
uöt8_t
 
	mp‹tNum
;

100 
uöt8_t
 
	mpöMask
;

101 
uöt8_t
 
	mpöVÆ
;

103 } 
	tI2C_IO_Së_GPIO_t
;

105 
	#I2C_IO_SET_GPIO
 0x03

	)

123 
	#I2C_IO_GET_GPIO_DIR
 0x04

	)

135 
	#I2C_IO_SET_GPIO_DIR
 0x05

	)

150 
uöt8_t
 
	mmux
;

152 } 
	tI2C_IO_Gë_ADC_t
;

154 
	#I2C_IO_GET_ADC
 0x06

	)

165 
uöt8_t
 
	mªg
;

167 } 
	tI2C_IO_RódReg8_t
;

169 
	#I2C_IO_READ_REG_8
 0x07

	)

180 
uöt8_t
 
	mªg
;

182 } 
	tI2C_IO_RódReg16_t
;

184 
	#I2C_IO_READ_REG_16
 0x08

	)

193 
uöt8_t
 
	mªg
;

194 
uöt8_t
 
	mvÆ
;

196 } 
	tI2C_IO_WrôeReg8_t
;

198 
	#I2C_IO_WRITE_REG_8
 0x09

	)

207 
uöt8_t
 
	mªg
;

208 
uöt8_t
 
	m∑d
;

209 
uöt16_t
 
	mvÆ
;

211 } 
	tI2C_IO_WrôeReg16_t
;

213 
	#I2C_IO_WRITE_REG_16
 0x0A

	)

	@processors/executive/Shared/i2c.h

32 #i‡!
deföed
–
I2C_H
 )

33 
	#I2C_H


	)

37 
	~<öây≥s.h
>

39 #i‡!
deföed
–
CONFIG_H
 )

40 
	~"../C⁄fig.h
"

54 
	#I2C_ERROR_NONE
 0

55 
	#I2C_ERROR_ADDR_NACK
 -1

56 
	#I2C_ERROR_DATA_NACK
 -2

57 
	#I2C_ERROR_ARBITRATION_LOST
 -3

58 
	#I2C_ERROR_BAD_LEN
 -4

59 
	#I2C_ERROR_BAD_CRC
 -5

60 
	#I2C_ERROR_BUS_ERROR
 -6

61 

	)

62 
öt8_t
 
	tI2C_Eº‹_t
;

69 
	#I2C_MAX_DATA_LEN
 32

	)

76 
uöt8_t
 
	tI2C_Addr_t
;

82 #i‡
CFG_I2C_USE_CRC


83 
	#I2C_CRC
(
x
Ë
	)
x

85 
	#I2C_CRC
(
x
)

	)

96 #i‡
CFG_I2C_USE_CRC


97 
uöt8_t
 
	mm_¸c
;

104 
uöt8_t
 
	mm_Àn
;

111 
uöt8_t
 
	mm_d©a
[ 
I2C_MAX_DATA_LEN
 + 2];

113 } 
	tI2C_D©a_t
;

	@processors/executive/Shared/lcd-api.c

39 
	~<°d¨g.h
>

40 
	~<°dio.h
>

42 
	~"lcd.h
"

43 
	~"lcd-hÆ.h
"

51 
uöt8_t
 
	ggNumLöes
;

52 
uöt8_t
 
	ggNumCﬁs
;

53 
uöt8_t
 
	ggX
;

54 
uöt8_t
 
	ggY
;

66 
ölöe
 
	$LCD_WrôeComm™d
–
uöt8_t
 
cmd
 )

68 
	`LCD_HAL_Wrôe
–
LCD_RS_CMD
, 
cmd
 );

70 i‡–
cmd
 <= 3 )

74 
	`LCD_HAL_Dñay
( 5 );

80 
	`LCD_HAL_Dñay
( 1 );

83 
	}
}

95 
	$LCD_BlökCurs‹
–
⁄Off
 )

97 i‡–
⁄Off
 )

99 
	`LCD_WrôeComm™d
–
LCD_ON_CTRL
 | 
LCD_ON_DISPLAY
 | 
LCD_ON_CURSOR
 | 
LCD_ON_BLINK
 );

103 
	`LCD_WrôeComm™d
–
LCD_ON_CTRL
 | 
LCD_ON_DISPLAY
 | 
LCD_ON_CURSOR
 );

106 
	}
}

115 
	$LCD_CÀ¨
( )

117 
	`LCD_WrôeComm™d
–
LCD_CLR
 );

118 
	`LCD_WrôeComm™d
–
LCD_HOME
 );

120 
gX
 = 0;

121 
gY
 = 0;

123 
	}
}

132 
	$LCD_Di•œyOff
( )

134 
	`LCD_WrôeComm™d
–
LCD_ON_CTRL
 );

136 
	}
}

145 
	$LCD_Di•œyOn
( )

147 
	`LCD_WrôeComm™d
–
LCD_ON_CTRL
 | 
LCD_ON_DISPLAY
 );

149 
	}
}

158 
	$LCD_HideCurs‹
( )

160 
	`LCD_WrôeComm™d
–
LCD_ON_CTRL
 | 
LCD_ON_DISPLAY
 );

162 
	}
}

171 
	$LCD_Inô
–
uöt8_t
 
numLöes
, uöt8_à
numCﬁs
 )

173 i‡–
numLöes
 > 4 )

175 
numLöes
 = 4;

177 
gNumLöes
 = 
numLöes
;

179 i‡–
numCﬁs
 > 40 )

181 
numCﬁs
 = 40;

183 
gNumCﬁs
 = 
numCﬁs
;

187 
	`LCD_HAL_Inô
();

189 
	`LCD_Di•œyOff
();

191 
	`LCD_CÀ¨
();

193 
	`LCD_WrôeComm™d
–
LCD_ENTRY_MODE
 | 
LCD_ENTRY_INC
 );

195 
	`LCD_HideCurs‹
();

197 
	}
}

207 
	$LCD_MoveTo
–
x
, 
y
 )

209 
uöt8_t
 
addr
 = 
x
 & 0x3f;

211 i‡–
y
 & 1 )

213 
addr
 += 0x40;

215 i‡–
y
 & 2 )

217 
addr
 += 0x14;

220 
	`LCD_WrôeComm™d
–
LCD_DDRAM
 | 
addr
 );

222 
gX
 = 
x
;

223 
gY
 = 
y
;

225 
	}
}

234 
uöt8_t
 
	$LCD_NumCﬁs
( )

236  
gNumCﬁs
;

238 
	}
}

247 
uöt8_t
 
	$LCD_NumLöes
( )

249  
gNumLöes
;

251 
	}
}

261 
	$LCD_PutCh¨
–
ch
 )

263 i‡(–
gX
 >
gNumCﬁs
 ) || ( 
ch
 == '\n' ))

265 
gX
 = 0;

266 
gY
++;

268 i‡–
gY
 >
gNumLöes
 )

270 
gY
 = 0;

273 
	`LCD_MoveTo
–
gX
, 
gY
 );

275 i‡–
ch
 != '\n' )

277 
	`LCD_HAL_Wrôe
–
LCD_RS_DATA
, 
ch
 );

278 
	`LCD_HAL_Dñay
( 1 );

281 
	}
}

294 #i‡
deföed
–
AVR
 )

296 
	$LCD_PutSå_P
–c⁄° 
¥og_ch¨
 *
s
 )

298 
ch
;

300 –
ch
 = 
	`pgm_ªad_byã
–
s
 )) != '\0' )

302 
	`LCD_PutCh¨
–
ch
 );

304 
s
++;

307 
	}
}

311 
	$LCD_PutSå
–c⁄° *
s
 )

313 
ch
;

315 –
ch
 = *
s
++ ) != '\0' )

317 
	`LCD_PutCh¨
–
ch
 );

321 
	}
}

332 
	$LCD_ShowCurs‹
( )

334 
	`LCD_WrôeComm™d
–
LCD_ON_CTRL
 | 
LCD_ON_DISPLAY
 | 
LCD_ON_CURSOR
 );

336 
	}
}

	@processors/executive/Shared/lcd-hal.h

23 #i‡!
deföed
–
LCD_HAL_H
 )

24 
	#LCD_HAL_H


	)

28 
	~<°döt.h
>

38 
	#LCD_CLR
 0x01

39 
	#LCD_HOME
 0x02

40 

	)

41 
	#LCD_ENTRY_MODE
 0x04

42 
	#LCD_ENTRY_INC
 0x02

43 
	#LCD_ENTRY_SHIFT
 0x01

44 

	)

45 
	#LCD_ON_CTRL
 0x08

46 
	#LCD_ON_DISPLAY
 0x04

47 
	#LCD_ON_CURSOR
 0x02

48 
	#LCD_ON_BLINK
 0x01

49 

	)

50 
	#LCD_MOVE
 0x10

51 
	#LCD_MOVE_DISP
 0x08

52 
	#LCD_MOVE_RIGHT
 0x04

53 

	)

54 
	#LCD_FUNCTION
 0x20

55 
	#LCD_FUNCTION_8BIT
 0x10

56 
	#LCD_FUNCTION_2LINES
 0x08

57 
	#LCD_FUNCTION_10DOTS
 0x04

58 
	#LCD_FUNCTION_RESET
 0x30

59 

	)

60 
	#LCD_CGRAM
 0x40

61 
	#LCD_DDRAM
 0x80

62 

	)

63 
	#LCD_RS_CMD
 0

	)

64 
	#LCD_RS_DATA
 1

	)

68 
	#LCD_BUSY
 0x80

69 

	)

74 
LCD_HAL_Inô
( );

76 
LCD_HAL_Dñay
–
uöt8_t
 
m£c
 );

77 
LCD_HAL_Wrôe
–
uöt8_t
 
rs
, uöt8_à
cmd
 );

	@processors/executive/Shared/lcd-printf.c

27 
	~<°d¨g.h
>

29 
	~"lcd.h
"

30 
	~"lcd-hÆ.h
"

31 
	~"Så.h
"

43 
	$lcdPrötfFunc
–*
outP¨m
, 
ch
 )

45 
	`LCD_HAL_Wrôe
–1, 
ch
 );

49 
	}
}

51 #i‡
deföed
–
AVR
 )

68 
	$LCD_Prötf_P
–c⁄° 
¥og_ch¨
 *
fmt
, ... )

70 
va_li°
 
¨gs
;

72 
	`va_°¨t
–
¨gs
, 
fmt
 );

74 
	`vSåXPrötf_P
–
lcdPrötfFunc
, 0, 
fmt
, 
¨gs
 );

76 
	`va_íd
–
¨gs
 );

78 
	}
}

89 
	$LCD_Prötf
–c⁄° *
fmt
, ... )

91 
va_li°
 
¨gs
;

93 
	`va_°¨t
–
¨gs
, 
fmt
 );

95 
	`vSåXPrötf
–
lcdPrötfFunc
, 0, 
fmt
, 
¨gs
 );

97 
	`va_íd
–
¨gs
 );

99 
	}
}

	@processors/executive/Shared/lcd.h

24 #i‡!
deföed
–
LCD_H
 )

25 
	#LCD_H


	)

29 
	~<°döt.h
>

31 #i‡
deföed
–
AVR
 )

32 
	~<°dio.h
>

33 
	~<avr/pgm•a˚.h
>

35 
	#PSTR
(
°r
Ë
	)
str

44 
LCD_Inô
–
uöt8_t
 
numLöes
, uöt8_à
numCﬁumns
 );

46 
LCD_CÀ¨
( );

48 
LCD_ShowCurs‹
( );

49 
LCD_HideCurs‹
( );

51 
LCD_BlökCurs‹
–
⁄Off
 );

53 
LCD_Di•œyOff
( );

54 
LCD_Di•œyOn
( );

56 
LCD_MoveTo
–
x
, 
y
 );

57 
LCD_PutCh¨
–
ch
 );

59 
uöt8_t
 
LCD_NumCﬁs
( );

60 
uöt8_t
 
LCD_NumLöes
( );

62 #i‡
deföed
–
AVR
 )

64 
LCD_PutCh¨Stdio
–
ch
, 
FILE
 *
fs
 );

66 
LCD_PutSå_P
–c⁄° 
¥og_ch¨
 *
s
 );

67 
LCD_Prötf_P
–c⁄° 
¥og_ch¨
 *
fmt
, ... );

69 
	#LCD_PutSå
–
°r
 ) 
	`LCD_PutSå_P
–
	`PSTR
–°∏))

	)

70 
	#LCD_Prötf
–
fmt
, 
¨gs
... ) 
	`LCD_Prötf_P
–
	`PSTR
–fmà), ##árg†)

	)

74 
LCD_PutSå
–c⁄° *
s
 );

75 
LCD_Prötf
–c⁄° *
fmt
, ... );

77 
	#LCD_PutSå_P
–
°r
 ) 
	`LCD_PutSå
–°∏)

	)

78 
	#LCD_Prötf_P
–
fmt
, 
¨gs
... ) 
	`LCD_Prötf
–fmt, ##árg†)

	)

	@processors/executive/arduino.cpp

8 
	~"¨duöo.h
"

10 
	gArduöo
::
	$Arduöo
() {

11 
u¨tDev
 = 
	`°¨t_m•
("/dev/rfcomm1");

12 
	}
}

14 
	gArduöo
::
	$Arduöo
(c⁄° 
Arduöo
& 
‹ig
) {

15 
	}
}

17 
Arduöo
::~
	$Arduöo
() {

18 
	`°›_m•
(
u¨tDev
);

19 
	}
}

20 
	gArduöo
::
	$£n£
(
ch™√l
) {

21 
tmp
;

22 
tmp
 = 
	`£n£_adc
 (
ch™√l
, 
u¨tDev
);

23  
tmp
;

24 
	}
}

25 
	gArduöo
::
	$gúo
() {

26 
tmp
;

27 
tmp
 = 
	`£n£_gúo
(
u¨tDev
);

28  
tmp
;

29 
	}
}

30 
	gArduöo
::
	$ícodî
(
ch™√l
) {

31 
tmp
;

33  
tmp
;

34 
	}
}

36 
	gArduöo
::
	$move
(
•ìd
, 
°ìrög
) {

38 
•ìd
-=0.5;

42 
°ìrög
-=0.5;

44 
°ìrög
/=-1.0;

45 if(
°ìrög
>0) {

46 
	`£t_M_À·
 (0.5+(
•ìd
-
°ìrög
), 
u¨tDev
);

47 
	`£t_M_right
 (0.5+(
•ìd
), 
u¨tDev
);

49 
	`£t_M_À·
 (0.5+(
•ìd
), 
u¨tDev
);

50 
	`£t_M_right
 (0.5+(
•ìd
+
°ìrög
), 
u¨tDev
);

58 
	}
}

	@processors/executive/arduino.h

8 #i‚de‡
ARDUINO_H


9 
	#ARDUINO_H


	)

11 
	~"drivîSîül.h
"

13 ˛as†
	cArduöo
 : 
DrivîSîül
 {

14 
public
:

15 
Arduöo
();

16 
Arduöo
(c⁄° Arduöo& 
‹ig
);

17 
	mvútuÆ
 ~
Arduöo
();

18 
vútuÆ
 
£n£
(
ch™√l
);

19 
vútuÆ
 
ícodî
(
ch™√l
);

20 
vútuÆ
 
gúo
();

21 
vútuÆ
 
move
(
•ìd
, 
°ìrög
);

22 
	m¥iv©e
:

23 
u¨tDev
;

	@processors/executive/clientdummy.cpp

8 
	~"˛õ¡dummy.h
"

9 
	~<sys/ty≥s.h
>

10 
	~<sys/sockë.h
>

11 
	~<√töë/ö.h
>

12 
	~<¨∑/öë.h
>

13 
	~<°dio.h
>

14 
	~<°rög.h
>

15 
	~<uni°d.h
>

16 
	~<sys/waô.h
>

17 
	~<√tdb.h
>

19 
	g˛õ¡dummy
::
	$˛õ¡dummy
() {

20 
	`öô
();

21 
	}
}

23 
	g˛õ¡dummy
::
	$˛õ¡dummy
(c⁄° 
˛õ¡dummy
& 
‹ig
) {

24 
	}
}

26 
˛õ¡dummy
::~
	$˛õ¡dummy
() {

28 
	`˛o£
(
sockfd
);

29 
	}
}

31 
	g˛õ¡dummy
::
	$£n£
(
ch™√l
) {

32 
	`Ârötf
(
°dout
, "\¿£n£(%dËI¿\n",
ch™√l
);

33 
tmp
;

34 
ssize_t
 
byã§e˚ived
 = 0;

35 c⁄° 
size_t
 
bufÊí
 = 4096;

36 
buff
[
bufÊí
];

37 c⁄° * 
que°i⁄
 = "Hello howáre you?";

38 i‡(-1 =
	`£nd
(
sockfd
, 
que°i⁄
, (
size_t
Ë
	`°æí
(question) + 1, 0)) {

39 
	`≥º‹
("send");

43 
byã§e˚ived
 = 
	`ªcv
(
sockfd
, 
buff
, 
bufÊí
, 0);

44 
	`Ârötf
(
°dout
, "\¿ byã§e˚ived (%zd)\n",
byã§e˚ived
);

45 i‡(-1 =
byã§e˚ived
) {

46 
	`≥º‹
("recv");

49 
	`¥ötf
("%s\n", 
buff
);

50 
	`Ârötf
(
°dout
, "\¿£n£(%dËOuà\n",
ch™√l
);

51  
tmp
;

52 
	}
}

53 
uöt16_t
 
	$sockëd©a
(c⁄° * 
gCmdSå
, c⁄° * 
gVÆ
)

56 
	}
}

58 
	g˛õ¡dummy
::
	$move
(
•ìd
, 
°ìrög
){

60 
	}
}

63 
	g˛õ¡dummy
::
	$gúo
(){

65 
	}
}

67 
	g˛õ¡dummy
::
	$ícodî
(
ch™√l
)

70 
	}
}

72 
	g˛õ¡dummy
::
	$öô
() {

73 
	`Ârötf
(
°dout
, "\n init \n");

74 
sockaddr_ö
 
£rvî
;

75 
addröfo
 *
£rvîöfo
;

78 
sockfd
 = 
	`sockë
(
AF_INET
, 
SOCK_STREAM
, 0);

79 i‡(-1 =
sockfd
) {

80 
	`≥º‹
("socket");

81 
	`Ârötf
(
°dout
, "\n socket \n");

85 i‡(0 !
	`gëaddröfo
("mùc.mag™a.˛", 
NULL
, NULL, &
£rvîöfo
)) {

86 
	`≥º‹
("getaddrinfo");

87 
	`Ârötf
(
°dout
, "\n getaddrinfo \n");

90  
	`mem˝y
(&
£rvî
, 
£rvîöfo
->
ai_addr
,  (
sockaddr_ö
));

91 
£rvî
.
sö_Ámûy
 = 
AF_INET
;

92 
£rvî
.
sö_p‹t
 = 
	`ht⁄s
(80);

93 
	`‰ìaddröfo
(
£rvîöfo
);

94 i‡(-1 =
	`c⁄√˘
(
sockfd
, (c⁄° 
sockaddr
 *Ë&
£rvî
,  (
sockaddr_ö
))) {

95 
	`≥º‹
("connect");

96 
	`Ârötf
(
°dout
, "\n connect \n");

100 
	`Ârötf
(
°dout
, "\n connect ok \n");

104 
	}
}

	@processors/executive/clientdummy.h

8 #i‚de‡
CLIENTDUMMY_H


9 
	#CLIENTDUMMY_H


	)

11 ˛as†
	c˛õ¡dummy
 {

13 
	mpublic
:

14 
˛õ¡dummy
();

15 
˛õ¡dummy
(c⁄° clõ¡dummy& 
‹ig
);

16 
	mvútuÆ
 ~
˛õ¡dummy
();

17 
öô
();

18 
vútuÆ
 
£n£
(
ch™√l
);

19 
vútuÆ
 
ícodî
(
ch™√l
);

20 
vútuÆ
 
gúo
();

21 
vútuÆ
 
move
(
•ìd
, 
°ìrög
);

22 
	m¥iv©e
:

23 
sockfd
;

	@processors/executive/driverSerial.cpp

15 
	~<time.h
>

16 
	~"drivîSîül.h
"

21 
	gDrivîSîül
::
	$DrivîSîül
(Ë{
	}
}

24 
DrivîSîül
::~
	$DrivîSîül
(Ë{
	}
}

27 
DrivîSîül
::
	$£n£
(
ch™√l
Ë{
	}
}

29 
DrivîSîül
::
	$ícodî
(
ch™√l
Ë{
	}
}

30 
DrivîSîül
::
	$gúo
(Ë{
	}
}

31 
DrivîSîül
::
	$move
(
•ìd
, 
°ìrög
Ë{
	}
}

32 
	gDrivîSîül
::
	$move_Ãn
(
£ed_≥r˚¡
, 
movemít
Ë{
	}
}

33 
	gDrivîSîül
::
	$move_v
(
vd
,
vi
){
	}
}

34 
	gDrivîSîül
::
	$move_ã°
(
_•ìd_≥r˚¡
,
_movemít
){
	}
}

	@processors/executive/driverSerial.h

1 #i‚de‡
_DRIVER_SERIAL_H_


2 
	#_DRIVER_SERIAL_H_


	)

4 ˛as†
	cDrivîSîül


6 
	m¥iv©e
:

8 
public
:

10 
DrivîSîül
();

12 
	mvútuÆ
 ~
DrivîSîül
();

14 
vútuÆ
 
£n£
(
ch™√l
);

15 
vútuÆ
 
ícodî
(
ch™√l
);

16 
vútuÆ
 
gúo
();

17 
vútuÆ
 
move
(
•ìd
, 
°ìrög
);

18 
vútuÆ
 
move_Ãn
(
£ed_≥r˚¡
, 
movemít
);

19 
vútuÆ
 
move_v
(
vd
, 
vi
);

20 
vútuÆ
 
move_ã°
(
_•ìd_≥r˚¡
, 
_movemít
);

	@processors/executive/executive.cpp

30 
	~"executive.h
"

40 
°©
 
	g°
 = {0};

41 
	gdt
 = 0.001;

43 
	$gëRVñ
(
•ìd
, 
°ìrög
) {

45 
•ìd
 -= 0.5;

48 
°ìrög
 -= 0.5;

50 
°ìrög
 /= -1.0;

51 
gVÆ
 = 0;

52 i‡(
°ìrög
 > 0) {

53 
gVÆ
 = 0.5 + (
•ìd
);

56 
gVÆ
 = 0.5 + (
•ìd
 + 
°ìrög
);

58 
gVÆ
 -= 0.5;

59 
gVÆ
 *= 200;

60  
gVÆ
;

62 
	}
}

64 
	$gëLVñ
(
•ìd
, 
°ìrög
) {

66 
•ìd
 -= 0.5;

69 
°ìrög
 -= 0.5;

71 
°ìrög
 /= -1.0;

72 
gVÆ
 = 0;

73 i‡(
°ìrög
 < 0) {

74 
gVÆ
 = 0.5 + (
•ìd
);

77 
gVÆ
 = 0.5 + (
•ìd
 + 
°ìrög
);

79 
gVÆ
 -= 0.5;

80 
gVÆ
 *= 200;

81  
gVÆ
;

83 
	}
}

85 
	$£tLoˇlTime
(*
ßlida
) {

86 
timevÆ
 
a˘uÆ
;

87 
	`gëtimeofday
(&
a˘uÆ
, 
NULL
);

88 
time_t
 
t
;

89 
t
 = 
a˘uÆ
.
tv_£c
;

90 i‡(
	`°r·ime
(
ßlida
, 100, "%H%M%S", 
	`loˇ…ime
(&
t
)) == 0) {

91 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

92 
	`exô
(
EXIT_FAILURE
);

94 
	`•rötf
(
ßlida
, "%s_%06ld", sÆida, 
a˘uÆ
.
tv_u£c
);

95 
	}
}

97 
	gExecutivePro˚ss‹
::
	$ßveLog
(
°rög
 
°r
) {

98 
h‹a
[100];

99 
	`£tLoˇlTime
(
h‹a
);

100 
fout
 << "\nt:";

101 
fout
 << 
h‹a
;

102 
fout
 << 
°r
 << "\n";

103 
fout
.
	`Êush
();

104 
	}
}

106 
	gExecutivePro˚ss‹
::
	$öô
() {

109 
pExecutive
 = (
ExecutiveD©a
 *Ë
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

110 
pNëw‹k
 = (
Nëw‹kD©a
 *Ë
cda
.
	`gëMemPå
(
NETWORK_AREA
);

111 
pM≠≥r
 = (
M≠≥rD©a
 *Ë
cda
.
	`gëMemPå
(
MAPPER_AREA
);

112 
pLa£r
 = (
La£rD©a
 *Ë
cda
.
	`gëMemPå
(
LASER_AREA
);

113 
pM⁄ô‹
 = (
M⁄ô‹D©a
 *Ë
cda
.
	`gëMemPå
(
MONITOR_AREA
);

115 
pCål
 = &(
pExecutive
->
˘æ
);

116 
£m_¨ó
 = 
EXECUTIVE_AREA
;

118 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
, 
c⁄åﬁ
);

119 
pCål
->
lo›
 = 
run_cmd
;

120 
pExecutive
->
exec_move_ªady_Êag
 = 
åue
;

122 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
, 
c⁄åﬁ
);

124 #ifde‡
LOG


126 
fûíame
[100];

127 
out°r_fﬁdî
[100];

129 
timevÆ
 
a˘uÆ
;

130 
	`gëtimeofday
(&
a˘uÆ
, 
NULL
);

131 
time_t
 
t
;

132 
t
 = 
a˘uÆ
.
tv_£c
;

133 i‡(
	`°r·ime
(
out°r_fﬁdî
,  (out°r_fﬁdî), "%Y%2m%2d", 
	`loˇ…ime
(&
t
)) == 0) {

134 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0 (UNO)");

135 
	`exô
(
EXIT_FAILURE
);

138 i‡(
	`°©
(
out°r_fﬁdî
, &
°
) == -1) {

139 
	`mkdú
(
out°r_fﬁdî
, 0700);

141 
out°r_fûe
[100];

142 
	`£tLoˇlTime
(
out°r_fûe
);

143 
	`•rötf
(
fûíame
, "%s/executive_%s.log", 
out°r_fﬁdî
, 
out°r_fûe
);

145 
fout
.
	`›í
(
fûíame
, 
°d
::
ios
::
≠p
);

146 
	`ßveLog
(
	`°rög
("Inicio Prueba"));

151 
C⁄figFûe
 
	`c⁄fig
("config/executive.conf");

153 
c⁄fig
.
	`ªadI¡o
(
MAX_STEPS
, "MAX_STEPS", 400);

161 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

162 
pExecutive
->
∑th_Àngth
 = 
MAX_STEPS
;

163 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

179 #ifde‡
MANUAL_MOVE


180 
times
 = 1;

181 
movemít_times
 = 0;

182 
ãmp_•ìd_≥r˚¡
 = 0;

183 
ãmp_movemít
 = 0;

186 
cout
 << "\n\n*****************\n";

187 
cout
 << "*Executive Start*\n";

188 
cout
 << "*****************\n";

190 
num_execuãd_°ïs
 = 0;

191 
‹õ¡_°ïs
 = 0;

192 
‰ì_°ïs
 = 
åue
;

211 
dñèXtŸÆ
 = 0;

212 
dñèYtŸÆ
 = 0;

214 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

215 
pExecutive
->
exec_ªady_Êag
 = 
åue
;

216 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

219 
	}
}

224 
	gExecutivePro˚ss‹
::
	$°ï
() {

227 
•ìd
, 
°ìr
;

228 
•ìd_≥r˚¡
 = 0;

229 
movemít
 = 0;

230 
cuºít_«v
;

232 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

233 
move_ªady_Êag
 = 
pExecutive
->
exec_move_ªady_Êag
;

234 
•ìd
 = 
pExecutive
->
exec_•ìd
;

235 
°ìr
 = 
pExecutive
->
exec_°ìrög
;

236 
•ìd_≥r˚¡
 = 
pExecutive
->
exec_•ìd_≥r˚¡
;

237 
movemít
 = 
pExecutive
->
exec_movemít
;

238 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

240 
cda
.
	`lockAªa
(
MONITOR_AREA
);

241 
cuºít_«v
 = 
pM⁄ô‹
->
m⁄ô‹_cuºít_«v
;

242 
cda
.
	`u∆ockAªa
(
MONITOR_AREA
);

245 #ifde‡
MANUAL_MOVE


246 i‡(
u£_m™uÆ_to_move
Ë
move_ªady_Êag
 = 
åue
;

249 i‡(
move_ªady_Êag
 =
åue
) {

251 
	`gëLa£rRódög
(
pExecutive
, 
pLa£r
, 0, 0, 0);

254 #ifde‡
MANUAL_MOVE


255 i‡(
u£_m™uÆ_to_move
 && 
times
 > 
movemít_times
) {

256 
times
 = 1;

257 
cout
 << "\n";

258 
cout
 << "Ingrese movimiento (forward=9 /Ñight=1 /Üeft=2 / back=3): ";

259 
cö
 >> 
ãmp_movemít
;

260 
cout
 << "IngreseÖorcentaje: ";

261 
cö
 >> 
ãmp_•ìd_≥r˚¡
;

262 
cout
 << "Ingrese Repeticiones: ";

263 
cö
 >> 
movemít_times
;

264 
•ìd_≥r˚¡
 = 
ãmp_•ìd_≥r˚¡
;

265 
movemít
 = 
ãmp_movemít
;

267 i‡(
times
 <
movemít_times
) {

268 
cout
 << "\n";

269 
cout
 << 
times
 << "/" << 
movemít_times
 << " -- ";

270 
•ìd_≥r˚¡
 = 
ãmp_•ìd_≥r˚¡
;

271 
movemít
 = 
ãmp_movemít
;

272 
times
++;

275 
vR
 = 0;

276 
vL
 = 0;

278 i‡(
movemít
 == 9){

279 
vR
 = 
•ìd_≥r˚¡
;

280 
vL
 = 
•ìd_≥r˚¡
;

282 if(
movemít
 == 1){

283 
vR
 = -
•ìd_≥r˚¡
;

284 
vL
 = 
•ìd_≥r˚¡
;

286 if(
movemít
 == 2){

287 
vR
 = 
•ìd_≥r˚¡
;

288 
vL
 = -
•ìd_≥r˚¡
;

290 if(
movemít
 == 3){

291 
vR
 = -
•ìd_≥r˚¡
;

292 
vL
 = -
•ìd_≥r˚¡
;

296 
vR
 = 
	`gëRVñ
(
•ìd
, 
°ìr
);

297 
vL
 = 
	`gëLVñ
(
•ìd
, 
°ìr
);

298 i‡(
•ìd
 > 1 || 
°ìr
 > 1) {

299 
vR
 = 
•ìd
;

300 
vL
 = 
°ìr
;

306 #ifde‡
LOG


307 i‡(
fout
 !
NULL
) {

308 
°d
::
o°rög°ªam
 
ss
;

309 
ss
 << "\t|•ìr:\t" << 
°ìr
 << "\t|•ìd:\t" << 
•ìd
 << "\t|";

310 
ss
 << "\t|vR:\t" << 
vR
 << "\t|vL:\t" << 
vL
 << "\t|";

311 
	`ßveLog
(
ss
.
	`°r
());

315 
pExecutive
->
⁄_movög
 = 1;

317 i‡(
cuºít_«v
 =
LRN
 || cuºít_«v =
NN
) {

318 
£rül
->
	`move_Ãn
(
•ìd_≥r˚¡
, 
movemít
);

319 
	`u¶ìp
(
STEP_SIZE
);

320 
£rül
->
	`move_Ãn
(0, 9);

321 } i‡(
cuºít_«v
 =
CRN
) {

322 
£rül
->
	`move_v
(
vR
, 
vL
);

323 
	`u¶ìp
(
STEP_SIZE
);

324 
£rül
->
	`move_v
(0, 0);

325 } i‡(
u£_m™uÆ_to_move
) {

326 
£rül
->
	`move_Ãn
(
•ìd_≥r˚¡
, 
movemít
);

327 
	`u¶ìp
(
STEP_SIZE
);

328 
£rül
->
	`move_Ãn
(0, 9);

330 
pExecutive
->
⁄_movög
 = 0;

331 
	`Ârötf
(
°dout
," ###########\n");

333 #ifde‡
LOG


334 i‡(
fout
 !
NULL
) {

335 
°d
::
o°rög°ªam
 
ss
;

336 
ss
 << "\t|speer:\t0.5\t|speed:\t0.5\t|";

337 
	`ßveLog
(
ss
.
	`°r
());

341 
num_execuãd_°ïs
++;

342 
ãmp1
=0;

343 
ãmp2
=0;

344 
smedü
=0;

345 
amedü
=0;

346 
	`u¶ìp
(
STEP_SIZE
 * 3);

347 
	`gëLa£rRódög
(
pExecutive
, 
pLa£r
, 1, 
vR
, 
vL
);

348 i‡(
num_execuãd_°ïs
 < 
pExecutive
->
∑th_Àngth
) {

350 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

352 
pExecutive
->
∑th
[
num_execuãd_°ïs
][1] = 
pLa£r
->
x
;

353 
pExecutive
->
∑th
[
num_execuãd_°ïs
][2] = 
pLa£r
->
y
;

354 
pExecutive
->
∑th
[
num_execuãd_°ïs
][0] = 
pLa£r
->
dú
;

355 
pExecutive
->
cuºít_X
 = 
pLa£r
->
x
;

356 
pExecutive
->
cuºít_Y
 = 
pLa£r
->
y
;

357 
pExecutive
->
cuºít_‹õ¡©i⁄
 = 
pLa£r
->
dú
;

358 
pExecutive
->
°ïs_numbî
 = 
num_execuãd_°ïs
;

359 
	`Ârötf
(
°dout
,"CuºíàPosôi⁄ (%f,%f,%f¬∞Ë--- ",
pLa£r
->
x
,pLa£r->
y
,pLa£r->
dú
);

360 
	`Ârötf
(
°dout
,"dñè (%f,%f,%f¬∞Ë ",
pLa£r
->
dx
,pLa£r->
dy
,pLa£r->
ddú
);

362 
smedü
 = 
	`sqπ
(
	`pow
(
pLa£r
->
dx
,2.0)+pow’La£r->
dy
,2.0));

363 
	`Ârötf
(
°dout
,"d°ï = %ò\¿",
smedü
);

365 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

368 
move_ªady_Êag
 = 
Ál£
;

369 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

370 
pExecutive
->
exec_move_ªady_Êag
 = 
move_ªady_Êag
;

371 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

375 
	}
}

380 
	gExecutivePro˚ss‹
::
	$move
() {

382 
boﬁ
 
move_ªady_Êag
 = 
Ál£
;

383 
•ìd
, 
°ìr
;

384 
•ìd_≥r˚¡
 = 0;

385 
movemít
 = 0;

386 
cuºít_«v
;

388 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

389 
move_ªady_Êag
 = 
pExecutive
->
exec_move_ªady_Êag
;

390 
•ìd
 = 
pExecutive
->
exec_•ìd
;

391 
°ìr
 = 
pExecutive
->
exec_°ìrög
;

392 
•ìd_≥r˚¡
 = 
pExecutive
->
exec_•ìd_≥r˚¡
;

393 
movemít
 = 
pExecutive
->
exec_movemít
;

394 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

396 
cda
.
	`lockAªa
(
MONITOR_AREA
);

397 
cuºít_«v
 = 
pM⁄ô‹
->
m⁄ô‹_cuºít_«v
;

398 
cda
.
	`u∆ockAªa
(
MONITOR_AREA
);

401 
	`gëLa£rRódög
(
pExecutive
, 
pLa£r
, 0, 0, 0);

407 
modño
 = 2;

416 #ifde‡
MANUAL_MOVE


417 i‡(
u£_m™uÆ_to_move
 && 
times
 > 
movemít_times
) {

418 
times
 = 1;

419 
cout
 << "\n";

420 
cout
 << "Ingrese movimiento (forward=9 /Ñight=1 /Üeft=2 / back=3): ";

421 
cö
 >> 
ãmp_movemít
;

422 
cout
 << "IngreseÖorcentaje: ";

423 
cö
 >> 
ãmp_•ìd_≥r˚¡
;

424 
cout
 << "Ingrese Repeticiones: ";

425 
cö
 >> 
movemít_times
;

426 
•ìd_≥r˚¡
 = 
ãmp_•ìd_≥r˚¡
;

427 
movemít
 = 
ãmp_movemít
;

429 i‡(
times
 <
movemít_times
) {

430 
cout
 << "\n";

431 
cout
 << 
times
 << "/" << 
movemít_times
 << " -- ";

432 
•ìd_≥r˚¡
 = 
ãmp_•ìd_≥r˚¡
;

433 
movemít
 = 
ãmp_movemít
;

434 
times
++;

437 
vR
 = 
	`gëRVñ
(
•ìd
, 
°ìr
);

438 
vL
 = 
	`gëLVñ
(
•ìd
, 
°ìr
);

439 i‡(
•ìd
 > 1 || 
°ìr
 > 1) {

440 
vR
 = 
•ìd
;

441 
vL
 = 
°ìr
;

443 
pExecutive
->
⁄_movög
 = 1;

446 #ifde‡
LOG


447 i‡(
fout
 !
NULL
) {

448 
°d
::
o°rög°ªam
 
ss
;

449 
ss
 << "\t|•ìr:\t" << 
°ìr
 << "\t|•ìd:\t" << 
•ìd
 << "\t|";

450 
ss
 << "\t|vR:\t" << 
vR
 << "\t|vL:\t" << 
vL
 << "\t|";

451 
	`ßveLog
(
ss
.
	`°r
());

454 i‡(
cuºít_«v
 =
LRN
) {

455 
£rül
->
	`move_Ãn
(
•ìd_≥r˚¡
, 
movemít
);

456 
	`u¶ìp
(
STEP_SIZE
);

457 
£rül
->
	`move_Ãn
(0, 9);

458 } i‡(
cuºít_«v
 =
CRN
) {

459 
£rül
->
	`move_v
(
vR
, 
vL
);

460 
	`u¶ìp
(
STEP_SIZE
);

461 
£rül
->
	`move_v
(0, 0);

462 } i‡(
u£_m™uÆ_to_move
) {

463 
£rül
->
	`move_Ãn
(
•ìd_≥r˚¡
, 
movemít
);

464 
	`u¶ìp
(
STEP_SIZE
);

465 
£rül
->
	`move_Ãn
(0, 9);

468 
pExecutive
->
⁄_movög
 = 0;

469 #ifde‡
LOG


470 i‡(
fout
 !
NULL
) {

471 
°d
::
o°rög°ªam
 
ss
;

472 
ss
 << "\t|speer:\t0.5\t|speed:\t0.5\t|";

473 
	`ßveLog
(
ss
.
	`°r
());

479 
num_execuãd_°ïs
++;

492 
	`u¶ìp
(
STEP_SIZE
 * 3);

493 
	`gëLa£rRódög
(
pExecutive
, 
pLa£r
, 1, 
vR
, 
vL
);

494 i‡(
num_execuãd_°ïs
 < 
pExecutive
->
∑th_Àngth
) {

496 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

498 
pExecutive
->
∑th
[
num_execuãd_°ïs
][1] = 
pLa£r
->
x
;

499 
pExecutive
->
∑th
[
num_execuãd_°ïs
][2] = 
pLa£r
->
y
;

500 
pExecutive
->
∑th
[
num_execuãd_°ïs
][0] = 
pLa£r
->
dú
;

501 
pExecutive
->
cuºít_X
 = 
pLa£r
->
x
 + 
InôPosX
;

502 
pExecutive
->
cuºít_Y
 = 
pLa£r
->
y
 + 
InôPosY
;

503 
pExecutive
->
cuºít_‹õ¡©i⁄
 = 
pLa£r
->
dú
;

504 
pExecutive
->
°ïs_numbî
 = 
num_execuãd_°ïs
;

506 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

509 
move_ªady_Êag
 = 
Ál£
;

510 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

511 
pExecutive
->
exec_move_ªady_Êag
 = 
move_ªady_Êag
;

512 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

515 
	}
}

520 
	gExecutivePro˚ss‹
::
	$˛ónup
() {

522 
	}
}

528 
	gExecutivePro˚ss‹
::
	$gëEncodîSèã
() {

529 
À·Encodî
 = 
£rül
->
	`ícodî
(0);

530 
rightEncodî
 = 
£rül
->
	`ícodî
(1);

531 
	}
}

537 
	gExecutivePro˚ss‹
::
	$gëLa£rRódög
(
ExecutiveD©a
 *
pExecutive
, 
La£rD©a
 *
pLa£r
, 
e°ado
, 
vr
, 
vl
) {

539 
cda
.
	`lockAªa
(
LASER_AREA
);

540 
pLa£r
 -> 
e°ado
 =Éstado;

541 
pLa£r
-> 
x
 = 
pExecutive
->
cuºít_X
;

542 
pLa£r
-> 
y
 = 
pExecutive
->
cuºít_Y
;

543 
pLa£r
-> 
dú
 = 
pExecutive
->
cuºít_‹õ¡©i⁄
;

544 
pLa£r
-> 
vr
 = vr;

545 
pLa£r
-> 
vl
 = vl;

546 
pLa£r
-> 
£nßr
 = 1;

548 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

549 
åue
) {

550 i‡(
pLa£r
->
£nßr
 == 0) {

551 
cda
.
	`lockAªa
(
LASER_AREA
, 
c⁄åﬁ
);

552 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
, 
c⁄åﬁ
);

553 
pExecutive
->
exec_adc
[4] = 
	`gëN‹mÆized
(
pLa£r
->
ªad_d©a
[128] / 10);

554 
pExecutive
->
exec_adc
[3] = 
	`gëN‹mÆized
(
pLa£r
->
ªad_d©a
[256] / 10);

555 
pExecutive
->
exec_adc
[2] = 
	`gëN‹mÆized
(
pLa£r
->
ªad_d©a
[384] / 10);

556 
pExecutive
->
exec_adc
[1] = 
	`gëN‹mÆized
(
pLa£r
->
ªad_d©a
[512] / 10);

557 
pExecutive
->
exec_adc
[0] = 
	`gëN‹mÆized
(
pLa£r
->
ªad_d©a
[635] / 10);

558 #ifde‡
LOG


559 i‡(
fout
 !
NULL
) {

560 
°d
::
o°rög°ªam
 
ss
;

561 
ss
 << "\t|di°™cü:\t" << 
pExecutive
->
exec_adc
[4] << "," <<ÖExecutive->exec_adc[3] << "," <<ÖExecutive->exec_adc[2] << "," <<ÖExecutive->exec_adc[1] << "," <<ÖExecutive->exec_adc[0];

562 
	`ßveLog
(
ss
.
	`°r
());

565 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
, 
c⁄åﬁ
);

566 
cda
.
	`u∆ockAªa
(
LASER_AREA
, 
c⁄åﬁ
);

571 
	}
}

573 
	gExecutivePro˚ss‹
::
	$gëN‹mÆized
(
f
) {

574 i‡(
f
 < 30)

576 i‡(
f
 > 60)

579  0.1 + ((
f
 - 30.0) / 60.0);

580 
	}
}

582 
	gExecutivePro˚ss‹
::
	$gëSís‹Ródögs
(
ExecutiveD©a
 *
pExecutive
) {

583 
	`Ârötf
(
°dout
, "\n getSensorReadings In \n");

584 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
, 
c⁄åﬁ
);

585 
pExecutive
->
exec_adc
[0] = 
£rül
->
	`£n£
(1);

586 
pExecutive
->
exec_adc
[1] = 
£rül
->
	`£n£
(2);

587 
pExecutive
->
exec_adc
[2] = 
£rül
->
	`£n£
(3);

588 
pExecutive
->
exec_adc
[3] = 
£rül
->
	`£n£
(4);

589 
pExecutive
->
exec_adc
[4] = 
£rül
->
	`£n£
(5);

590 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
, 
c⁄åﬁ
);

591 
	`Ârötf
(
°dout
, "\n getSensorReadings Out \n");

595 
	}
}

600 
	gExecutivePro˚ss‹
::
	$ˇŒM≠≥r
() {

602 
cda
.
	`lockAªa
(
MAPPER_AREA
);

603 
pM≠≥r
->
m≠pög_Êag
 = 
åue
;

604 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

606 
pM≠≥r
->
m≠pög_Êag
 =
åue
) {

607 
	`u¶ìp
(50);

609 
	}
}

616 
	gExecutivePro˚ss‹
::
	$loˇliz©i⁄LSQ
(
•
, 
°
, 
modñ
) {

617 
i
, 
j
;

618 
i11
, 
i12
, 
i22
, 
i111
, 
i112
, 
i122
, 
i222
, 
i1111
, 
i1112
, 
i1122
, 
i1222
, 
i2222
;

620 
dñè
[3] = {0, 0, 0};

621 
sizeof_dñè
 = 3;

624 
i11
 = 
•
*sp;

625 
i12
 = 
•
*
°
;

626 
i22
 = 
°
*st;

627 
i111
 = 
	`pow
(
•
, 3);

628 
i112
 = 
	`pow
(
•
, 2Ë* 
°
;

629 
i122
 = 
	`pow
(
°
, 2Ë* 
•
;

630 
i222
 = 
	`pow
(
°
, 3);

631 
i1111
 = 
	`pow
(
•
, 4);

632 
i1112
 = 
	`pow
(
•
, 3Ë* 
°
;

633 
i1122
 = 
	`pow
(
•
, 2Ë*Öow(
°
, 2);

634 
i1222
 = 
	`pow
(
°
, 3Ë* 
•
;

635 
i2222
 = 
	`pow
(
°
, 4);

637 
ve˘‹M4
[15] = {1, 
•
, 
°
, 
i11
, 
i12
, 
i22
, 
i111
, 
i112
, 
i122
, 
i222
, 
i1111
, 
i1112
, 
i1122
, 
i1222
, 
i2222
};

638 
sizeof_ve˘‹M4
 = 15;

640 
ve˘‹M3
[10] = {1, 
•
, 
°
, 
i11
, 
i12
, 
i22
, 
i111
, 
i112
, 
i122
, 
i222
};

641 
sizeof_ve˘‹M3
 = 10;

643 
ve˘‹M2
[6] = {1, 
•
, 
°
, 
i11
, 
i12
, 
i22
};

644 
sizeof_ve˘‹M2
 = 6;

646 
ve˘‹M1
[3] = {1, 
•
, 
°
};

647 
sizeof_ve˘‹M1
 = 3;

663 
modñ
) {

665 
i
 = 0; i < 
sizeof_dñè
; i++) {

666 
j
 = 0; j < 
sizeof_ve˘‹M4
; j++) {

667 
dñè
[
i
] = dñè[i]+(
modño4
[i][
j
] * 
ve˘‹M4
[j]);

672 
i
 = 0; i < 
sizeof_dñè
; i++) {

673 
j
 = 0; j < 
sizeof_ve˘‹M3
; j++) {

674 
dñè
[
i
] = dñè[i]+(
modño3
[i][
j
] * 
ve˘‹M3
[j]);

679 
i
 = 0; i < 
sizeof_dñè
; i++) {

680 
j
 = 0; j < 
sizeof_ve˘‹M2
; j++) {

681 
dñè
[
i
] = dñè[i]+(
modño2
[i][
j
] * 
ve˘‹M2
[j]);

686 
i
 = 0; i < 
sizeof_dñè
; i++) {

687 
j
 = 0; j < 
sizeof_ve˘‹M1
; j++) {

688 
dñè
[
i
] = dñè[i]+(
modño1
[i][
j
] * 
ve˘‹M1
[j]);

694 
	`loˇliz©i⁄
(
dñè
);

695 
	}
}

700 
	gExecutivePro˚ss‹
::
	$loˇliz©i⁄S∂öe
(
•
, 
°
) {

701 
i
, 
j
, 
k
;

702 
dñè
[3];

705 
i
 = 
	`Ãound
((100 * 
•
) - 20);

706 
j
 = 
	`Ãound
((100 * 
°
) - 20);

708 
k
 = 0; k < 3; k++)

709 
dñè
[
k
] = 
modñoS∂öe
[
i
][
j
][k];

711 
	`loˇliz©i⁄
(
dñè
);

712 
	}
}

717 
	gExecutivePro˚ss‹
::
	$loˇliz©i⁄
(
dñè
[]) {

718 
posX
, 
posY
, 
‹õ¡©i⁄
;

719 
dñèx
, 
dñèy
;

721 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

722 
posX
 = 
pExecutive
->
cuºít_X
;

723 
posY
 = 
pExecutive
->
cuºít_Y
;

724 
‹õ¡©i⁄
 = 
pExecutive
->
cuºít_‹õ¡©i⁄
;

725 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

727 
	`¥ötf
("****************************************************************\n");

728 
	`¥ötf
("Posôi⁄ BEFOREÜa° movemíà--> (x,y,‹õ¡©i⁄Ë(%i,%i,%i)\n", 
posX
, 
posY
, 
‹õ¡©i⁄
);

732 i‡(
‹õ¡©i⁄
 > 180) {

733 
dñèx
 = (
dñè
[1] * 
	`cos
((360 - 
‹õ¡©i⁄
Ë* 
PI
 / 180)Ë+ (dñè[2] * 
	`sö
((360 - orientation) * PI / 180));

734 
dñèy
 = (-1 * 
dñè
[1] * 
	`sö
((360 - 
‹õ¡©i⁄
Ë* 
PI
 / 180)Ë+ (dñè[2] * 
	`cos
((360 - orientation) * PI / 180));

736 
dñèx
 = (
dñè
[1] * 
	`cos
(-
‹õ¡©i⁄
 * 
PI
 / 180)Ë+ (dñè[2] * 
	`sö
(-orientation * PI / 180));

737 
dñèy
 = (-1 * 
dñè
[1] * 
	`sö
(-
‹õ¡©i⁄
 * 
PI
 / 180)Ë+ (dñè[2] * 
	`cos
(-orientation * PI / 180));

745 
dñèXtŸÆ
 +
	`Ãound
(
dñèx
);

746 
dñèYtŸÆ
 +
	`Ãound
(
dñèy
);

752 
posX
 =ÖosX + 
	`Ãound
(
dñèx
);

753 
posY
 =ÖosY + 
	`Ãound
(
dñèy
);

755 
‹õ¡©i⁄
 = orõ¡©i⁄ + 
	`Ãound
(
dñè
[0]);

757 i‡(
‹õ¡©i⁄
 > 360)

758 
‹õ¡©i⁄
 = orientation - 360;

759 i‡(
‹õ¡©i⁄
 < 0)

760 
‹õ¡©i⁄
 = orientation + 360;

764 
	`¥ötf
("Posôi⁄ AFTERÜa° movemíà--> (x,y,‹õ¡©i⁄Ë(%i,%i,%i)\n", 
posX
, 
posY
, 
‹õ¡©i⁄
);

765 
	`¥ötf
("****************************************************************");

768 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

769 
pExecutive
->
cuºít_‹õ¡©i⁄
 = 
‹õ¡©i⁄
;

770 
pExecutive
->
cuºít_X
 = 
posX
;

771 
pExecutive
->
cuºít_Y
 = 
posY
;

772 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

773 
	}
}

778 
	gExecutivePro˚ss‹
::
	$lﬂdLSQmodñs
() {

779 
FILE
 *
modños
;

780 
modñSize
;

781 
i
, 
j
, 
k
;

782 
ãmp
[1024];

816 
k
 = 0; k < 4; k++) {

817 
k
) {

819 
modños
 = 
	`f›í
("modelo4", "r");

820 
modñSize
 =  (
modño4
) / (3 *  ());

823 
modños
 = 
	`f›í
("modelo3", "r");

824 
modñSize
 =  (
modño3
) / (3 *  ());

827 
modños
 = 
	`f›í
("modelo2", "r");

828 
modñSize
 =  (
modño2
) / (3 *  ());

831 
modños
 = 
	`f›í
("modelo1", "r");

832 
modñSize
 =  (
modño1
) / (3 *  ());

836 i‡(
modños
 =
NULL
) {

837 
	`Ârötf
(
°dout
, "No se haÉncontrado unárchivo de modelos.\n");

838 
	`Ârötf
(
°dout
, "Compruebe suÉxistencia.\n");

839 
	`exô
(1);

842 
k
) {

844 
i
 = 0; i < 3; i++)

845 
j
 = 0; j < 
modñSize
; j++)

846 
	`fsˇnf
(
modños
, "%f", &
modño4
[
i
][
j
]);

850 
i
 = 0; i < 3; i++)

851 
j
 = 0; j < 
modñSize
; j++)

852 
	`fsˇnf
(
modños
, "%f", &
modño3
[
i
][
j
]);

856 
i
 = 0; i < 3; i++)

857 
j
 = 0; j < 
modñSize
; j++)

858 
	`fsˇnf
(
modños
, "%f", &
modño2
[
i
][
j
]);

862 
i
 = 0; i < 3; i++)

863 
j
 = 0; j < 
modñSize
; j++)

864 
	`fsˇnf
(
modños
, "%f", &
modño1
[
i
][
j
]);

868 
	`f˛o£
(
modños
);

870 
	}
}

875 
	gExecutivePro˚ss‹
::
	$lﬂdS∂öeModñ
() {

876 
FILE
 *
modños
;

877 
i
, 
j
, 
k
;

878 
ãmp
[1024];

914 
modños
 = 
	`f›í
("modeloSpline", "r");

915 i‡(
modños
 =
NULL
) {

916 
	`Ârötf
(
°dout
, "No se haÉncontradoÉlárchivo modeloSpline.\n");

917 
	`Ârötf
(
°dout
, "Compruebe suÉxistencia.\n");

918 
	`exô
(1);

920 
k
 = 0; k < 3; k++) {

921 
i
 = 0; i < 61; i++)

922 
j
 = 0; j < 61; j++) {

923 
	`fsˇnf
(
modños
, "%f", &
modñoS∂öe
[
i
][
j
][
k
]);

931 
	`f˛o£
(
modños
);

933 
	}
}

938 
	gExecutivePro˚ss‹
::
	$gëGPSPosôi⁄
() {

939 
x0
, 
y0
;

940 
x1
, 
y1
;

942 
‹õ¡
;

943 
hù
;

944 
ˇ
, 
co
;

948 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

949 
pExecutive
->
‹õ¡aci⁄_¥evü
 =ÖExecutive->
cuºít_‹õ¡©i⁄
;

950 
pExecutive
->
posX_¥evü
 =ÖExecutive->
cuºít_X
;

951 
pExecutive
->
posY_¥evü
 =ÖExecutive->
cuºít_Y
;

952 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

955 
£rül
->
	`move
(0.5, 0.5);

956 
	`u¶ìp
(
STEP_SIZE
);

957 
£rül
->
	`move
(0.2, 0.5);

958 
	`u¶ìp
(
STEP_SIZE
);

959 
£rül
->
	`move
(0.5, 0.5);

960 
	`u¶ìp
(
STEP_SIZE
);

961 
£rül
->
	`move
(0.2, 0.5);

962 
	`u¶ìp
(
STEP_SIZE
);

963 
£rül
->
	`move
(0.5, 0.5);

964 
£rül
->
	`move
(0.2, 0.5);

965 
	`u¶ìp
(
STEP_SIZE
);

966 
£rül
->
	`move
(0.5, 0.5);

967 
	`u¶ìp
(30 * 
STEP_SIZE
);

969 
	`gëCo‹dö©e
(&
x0
, &
y0
);

974 
	`¥ötf
("\n");

976 
£rül
->
	`move
(0.8, 0.5);

977 
	`u¶ìp
(
STEP_SIZE
);

978 
£rül
->
	`move
(0.8, 0.5);

979 
	`u¶ìp
(
STEP_SIZE
);

980 
£rül
->
	`move
(0.8, 0.5);

981 
	`u¶ìp
(
STEP_SIZE
);

982 
£rül
->
	`move
(0.5, 0.5);

983 
£rül
->
	`move
(0.8, 0.5);

984 
	`u¶ìp
(
STEP_SIZE
);

985 
£rül
->
	`move
(0.5, 0.5);

986 
	`u¶ìp
(30 * 
STEP_SIZE
);

988 
	`gëCo‹dö©e
(&
x1
, &
y1
);

991 
hù
 = 
	`sqπ
(
	`pow
((
x1
 - 
x0
), 2Ë+Öow((
y1
 - 
y0
), 2));

992 
ˇ
 = 
	`abs
(
x1
 - 
x0
);

993 
co
 = 
	`abs
(
y1
 - 
y0
);

997 i‡(
y1
 >
y0
 && 
x1
 >
x0
)

998 
‹õ¡
 = 
	`Ãound
(
	`acos
(
ˇ
 / 
hù
)*180 / 
PI
);

1000 i‡(
y1
 > 
y0
 && 
x0
 >
x1
)

1001 
‹õ¡
 = 180 - 
	`Ãound
(
	`acos
(
ˇ
 / 
hù
)*180 / 
PI
);

1003 i‡(
x0
 >
x1
 && 
y0
 >
y1
)

1004 
‹õ¡
 = 
	`Ãound
(
	`acos
(
ˇ
 / 
hù
)*180 / 
PI
) + 180;

1007 
‹õ¡
 = 360 - 
	`Ãound
(
	`asö
(
co
 / 
hù
)*180 / 
PI
);

1008 } 
	`abs
(
‹õ¡
 - 
pExecutive
->
cuºít_‹õ¡©i⁄
Ë> 
MAX_DEV
);

1011 i‡(
c‹ª˘i⁄_mode
 == 1) {

1012 
	`adju°_öãΩﬁ©ed
(&
x1
, &
y1
, 
‹õ¡
);

1013 
	`Ârötf
(
°dout
, "I¡îpﬁ©i⁄ mëhod: \¿x:%òy:%ò\n", 
x1
, 
y1
);

1015 } i‡(
c‹ª˘i⁄_mode
 == 2) {

1016 
	`adju°_c⁄°™t
(&
x1
, &
y1
);

1017 
	`Ârötf
(
°dout
, "C⁄°™àmëhod: \¿x:%òy:%ò\n", 
x1
, 
y1
);

1020 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

1021 
pExecutive
->
cuºít_X
 = 
x1
;

1022 
pExecutive
->
cuºít_Y
 = 
y1
;

1023 
pExecutive
->
cuºít_‹õ¡©i⁄
 = 
‹õ¡
;

1024 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

1026 
cuºít_X
 = 
x1
;

1027 
cuºít_Y
 = 
y1
;

1028 
cuºít_‹õ¡©i⁄
 = 
‹õ¡
;

1029 
	}
}

1034 
	gExecutivePro˚ss‹
::
	$gëCo‹dö©e
(*
x
, *
y
) {

1035 
x0
[3];

1036 
y0
[3];

1038 
îr‹X
[3];

1039 
îr‹Y
[3];

1040 
i
;

1042 
max_îr‹X
, 
max_îr‹Y
;

1044 
i
 = 0; i < 3; i++) {

1045 
cda
.
	`lockAªa
(
NETWORK_AREA
);

1046 
pNëw‹k
->
gë_posôi⁄_Êag
 = 
åue
;

1047 
cda
.
	`u∆ockAªa
(
NETWORK_AREA
);

1049 
pNëw‹k
->
gë_posôi⁄_Êag
Ë
	`u¶ìp
(100);

1051 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

1052 
x0
[
i
] = 
pExecutive
->
cuºít_X
;

1053 
y0
[
i
] = 
pExecutive
->
cuºít_Y
;

1054 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

1055 
	`¥ötf
("X[%i] = %i, Y[%i] = %i\n", 
i
, 
x0
[i], i, 
y0
[i]);

1057 i‡(
i
 == 1) {

1058 
îr‹X
[0] = 
	`abs
(
x0
[1] - x0[0]);

1059 
îr‹Y
[0] = 
	`abs
(
y0
[1] - y0[0]);

1060 } i‡(
i
 == 2) {

1061 
îr‹X
[1] = 
	`abs
(
x0
[2] - x0[1]);

1062 
îr‹X
[2] = 
	`abs
(
x0
[2] - x0[0]);

1063 
îr‹Y
[1] = 
	`abs
(
y0
[2] - y0[1]);

1064 
îr‹Y
[2] = 
	`abs
(
y0
[2] - y0[0]);

1066 
	`u¶ìp
(9000);

1069 i‡(
îr‹X
[0] >=ÉrrorX[1]) {

1070 i‡(
îr‹X
[0] >=ÉrrorX[2])

1071 
max_îr‹X
 = 0;

1073 
max_îr‹X
 = 2;

1075 i‡(
îr‹X
[1] >=ÉrrorX[2])

1076 
max_îr‹X
 = 1;

1078 
max_îr‹X
 = 2;

1081 i‡(
îr‹Y
[0] >=ÉrrorY[1]) {

1082 i‡(
îr‹Y
[0] >=ÉrrorY[2])

1083 
max_îr‹Y
 = 0;

1085 
max_îr‹Y
 = 2;

1087 i‡(
îr‹Y
[1] >=ÉrrorY[2])

1088 
max_îr‹Y
 = 1;

1090 
max_îr‹Y
 = 2;

1093 *
x
 = (
x0
[0] + x0[1] + x0[2] - x0[
max_îr‹X
]) / 2;

1094 *
y
 = (
y0
[0] + y0[1] + y0[2] - y0[
max_îr‹Y
]) / 2;

1095 
	}
}

1104 
	gExecutivePro˚ss‹
::
	$adju°_c⁄°™t
(*
ãmpX
, *
ãmpY
) {

1105 i‡(*
ãmpX
 <833 && *
ãmpY
 <= 666) {

1106 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1107 *
ãmpX
 = *tempX - 7;

1108 *
ãmpY
 = *tempY - 77;

1109 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1110 *
ãmpX
 = *tempX + 109;

1111 *
ãmpY
 = *tempY - 203;

1112 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225) {

1113 *
ãmpX
 = *tempX + 195;

1114 *
ãmpY
 = *tempY - 86;

1116 *
ãmpX
 = *tempX + 94;

1117 *
ãmpY
 = *tempY + 18;

1119 } i‡(*
ãmpX
 <833 && *
ãmpY
 > 666 && *tempY <= 1332) {

1120 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1121 *
ãmpX
 = *tempX + 8;

1122 *
ãmpY
 = *tempY - 139;

1123 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1124 *
ãmpX
 = *tempX + 116;

1125 *
ãmpY
 = *tempY - 242;

1126 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225) {

1127 *
ãmpX
 = *tempX + 206;

1128 *
ãmpY
 = *tempY - 126;

1130 *
ãmpX
 = *tempX + 116;

1131 *
ãmpY
 = *tempY - 31;

1133 } i‡(*
ãmpX
 <833 && *
ãmpY
 > 1332) {

1134 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1135 *
ãmpX
 = *tempX - 11;

1136 *
ãmpY
 = *tempY - 94;

1137 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1138 *
ãmpX
 = *tempX + 87;

1139 *
ãmpY
 = *tempY - 172;

1140 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225) {

1141 *
ãmpX
 = *tempX + 195;

1142 *
ãmpY
 = *tempY - 77;

1144 *
ãmpX
 = *tempX + 109;

1145 } i‡(*
ãmpX
 > 833 && *ãmpX <1666 && *
ãmpY
 <= 666) {

1146 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1147 *
ãmpX
 = *tempX - 139;

1148 *
ãmpY
 = *tempY - 43;

1149 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1150 *
ãmpX
 = *tempX - 15;

1151 *
ãmpY
 = *tempY - 164;

1152 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225) {

1153 *
ãmpX
 = *tempX + 105;

1154 *
ãmpY
 = *tempY - 47;

1156 *
ãmpX
 = *tempX - 23;

1157 *
ãmpY
 = *tempY + 87;

1159 } i‡(*
ãmpX
 > 833 && *ãmpX <1666 && *
ãmpY
 > 666 && *tempY <= 1332) {

1160 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1161 *
ãmpX
 = *tempX - 131;

1162 *
ãmpY
 = *tempY - 143;

1163 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1164 *
ãmpX
 = *tempX - 8;

1165 *
ãmpY
 = *tempY - 247;

1166 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225) {

1167 *
ãmpX
 = *tempX + 112;

1168 *
ãmpY
 = *tempY - 139;

1170 *
ãmpX
 = *tempX - 8;

1171 *
ãmpY
 = *tempY - 31;

1173 } i‡(*
ãmpX
 > 833 && *ãmpX <1666 && *
ãmpY
 > 1332) {

1174 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1175 *
ãmpX
 = *tempX - 101;

1176 *
ãmpY
 = *tempY - 111;

1177 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1178 *
ãmpX
 = *tempX + 22;

1179 *
ãmpY
 = *tempY - 189;

1180 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225) {

1181 *
ãmpX
 = *tempX + 127;

1182 *
ãmpY
 = *tempY - 116;

1184 *
ãmpX
 = *tempX + 11;

1185 *
ãmpY
 = *tempY - 29;

1187 } i‡(*
ãmpX
 > 1666 && *
ãmpY
 <= 666) {

1188 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1189 *
ãmpX
 = *tempX - 229;

1190 *
ãmpY
 = *tempY - 129;

1191 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1192 *
ãmpX
 = *tempX - 135;

1193 *
ãmpY
 = *tempY - 220;

1194 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225) {

1195 *
ãmpX
 = *tempX - 30;

1196 *
ãmpY
 = *tempY - 103;

1198 *
ãmpX
 = *tempX - 105;

1199 *
ãmpY
 = *tempY - 21;

1201 } i‡(*
ãmpX
 > 1666 && *
ãmpY
 > 666 && *tempY <= 1332) {

1202 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1203 *
ãmpX
 = *tempX - 244;

1204 *
ãmpY
 = *tempY - 139;

1205 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1206 *
ãmpX
 = *tempX - 143;

1207 *
ãmpY
 = *tempY - 242;

1208 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225) {

1209 *
ãmpX
 = *tempX - 45;

1210 *
ãmpY
 = *tempY - 147;

1212 *
ãmpX
 = *tempX - 150;

1213 *
ãmpY
 = *tempY - 35;

1215 } i‡(*
ãmpX
 > 1666 && *
ãmpY
 <= 666) {

1216 i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 315 ||ÖExecutive->orientacion_previa <= 45) {

1217 *
ãmpX
 = *tempX - 199;

1218 *
ãmpY
 = *tempY - 64;

1219 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 45 &&ÖExecutive->orientacion_previa <= 135) {

1220 *
ãmpX
 = *tempX - 90;

1221 *
ãmpY
 = *tempY - 155;

1222 } i‡(
pExecutive
->
‹õ¡aci⁄_¥evü
 > 135 &&ÖExecutive->orientacion_previa <= 225)

1223 *
ãmpY
 = *tempY - 90;

1225 *
ãmpX
 = *tempX - 113;

1226 *
ãmpY
 = *tempY + 9;

1229 
	`Ârötf
(
°dout
, "Constant Correction finished \n");

1230 
	}
}

1235 
	gExecutivePro˚ss‹
::
	$£tM™uÆMove
(
boﬁ
 
m™uÆ_move
) {

1236 
u£_m™uÆ_to_move
 = 
m™uÆ_move
;

1237 
	}
}

1239 
	gExecutivePro˚ss‹
::
	$adju°_öãΩﬁ©ed
(*
ãmpX
, *
ãmpY
, 
‹õ¡©i⁄
) {

1241 
p
 = 2;

1244 
P_mid
[2][10] = {

1250 
T
[2][10];

1251 
T_1
[2][10] = {

1255 
T_2
[2][10] = {

1259 
T_3
[2][10] = {

1263 
T_4
[2][10] = {

1269 
x_y_di°™˚
[2][10];

1270 
H
[10];

1271 
W
[10];

1272 
sum
 = 0;

1273 
c‹ª˘i⁄_x
 = 0;

1274 
c‹ª˘i⁄_y
 = 0;

1277 i‡(
‹õ¡©i⁄
 > 315 || orientation <= 45) {

1278 
i
 = 0; i < 2; i++) {

1279 
j
 = 0; j < 10; j++) {

1280 
T
[
i
][
j
] = 
T_1
[i][j];

1283 } i‡(
‹õ¡©i⁄
 > 45 && orientation <= 135) {

1284 
i
 = 0; i < 2; i++) {

1285 
j
 = 0; j < 10; j++) {

1286 
T
[
i
][
j
] = 
T_2
[i][j];

1289 } i‡(
‹õ¡©i⁄
 > 135 && orientation <= 225) {

1290 
i
 = 0; i < 2; i++) {

1291 
j
 = 0; j < 10; j++) {

1292 
T
[
i
][
j
] = 
T_3
[i][j];

1296 
i
 = 0; i < 2; i++) {

1297 
j
 = 0; j < 10; j++) {

1298 
T
[
i
][
j
] = 
T_4
[i][j];

1305 
i
 = 1; i < 10; i++) {

1306 
x_y_di°™˚
[0][
i
] = *
ãmpX
 - 
P_mid
[0][i];

1307 
x_y_di°™˚
[1][
i
] = *
ãmpY
 - 
P_mid
[1][i];

1312 
i
 = 1; i < 10; i++) {

1313 
H
[
i
] = 
	`sqπ
(
x_y_di°™˚
[0][i] * x_y_distance[0][i] + x_y_distance[1][i] * x_y_distance[1][i]);

1314 i‡(
H
[
i
] == 0) {

1315 
H
[
i
] = 0.000001;

1321 
i
 = 1; i < 10; i++) {

1322 
sum
 = sum + 
	`pow
(
H
[
i
], -
p
);

1327 
i
 = 1; i < 10; i++) {

1328 
W
[
i
] = 
	`pow
(
H
[i], -
p
Ë/ 
sum
;

1333 
i
 = 1; i < 10; i++) {

1334 
c‹ª˘i⁄_x
 = 
W
[
i
] * 
T
[0][i] + correction_x;

1335 
c‹ª˘i⁄_y
 = 
W
[
i
] * 
T
[1][i] + correction_y;

1340 *
ãmpX
 = *ãmpX + (Ë
c‹ª˘i⁄_x
;

1341 *
ãmpY
 = *ãmpY + (Ë
c‹ª˘i⁄_y
;

1343 
	`Ârötf
(
°dout
, "Interpolated Correction finished \n");

1351 
	}
}

1360 
	$maö
(
¨gc
, * 
¨gv
[]) {

1361 
	`Ârötf
(
°dout
, "\nIRMA2: Executive Process \n");

1362 
∑ømëro
 = 1;

1363 
ExecutivePro˚ss‹
 
exe
;

1364 i‡(
¨gc
 == 2) {

1365 
∑ømëro
 = 
	`©oi
(
¨gv
[1]);

1366 
exe
.
	`£tM™uÆMove
(
∑ømëro
 == 1);

1369 
exe
.
	`execuã
();

1372 
	}
}

	@processors/executive/executive.h

30 #i‚de‡
_IRMA2_EXECUTIVE_H_


31 
	#_IRMA2_EXECUTIVE_H_


	)

37 
	~<uni°d.h
>

38 
	~<°rög
>

39 
	~<°dio.h
>

40 
	~<°dlib.h
>

41 
	~<sys/shm.h
>

42 
	~<sys/°©.h
>

43 
	~<uni°d.h
>

44 
	~<m©h.h
>

45 
	~"robo°ix.h
"

46 
	~"m•.h
"

47 
	~"../ba£/¥o˚ss‹.h
"

48 
	~"../../comm⁄/c⁄figFûe/c⁄figFûe.h
"

49 
	~"˛õ¡dummy.h
"

50 
	~<time.h
>

51 
	~<sys/time.h
>

52 
	~<io°ªam
>

53 
usög
 
«me•a˚
 
	g°d
;

55 
	#MANUAL_MOVE


56 
	#LOG


57 #ifde‡
LOG


	)

58 
	~<io°ªam
>

59 
	~<f°ªam
>

65 c⁄° 
	gSTEP_SIZE
 = 250000;

69 c⁄° 
	gMAX_DEV
 = 360;

71 c⁄° 
	gPI
 = 3.14159265;

74 c⁄° 
	gInôPosX
 = 280;

75 c⁄° 
	gInôPosY
 = 185;

76 c⁄° 
	gInôPosOrõ¡©i⁄
 = 90;

83 c⁄° 
	gLocModñ
 = 1;

90 ˛as†
	cExecutivePro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚
 {

91 
¥iv©e
:

92 
ã°
;

95 
DrivîSîül
* 
	m£rül
;

97 
	mrightWhìlCou¡î
;

98 
	mÀ·WhìlCou¡î
;

99 
	mrightEncodî
;

100 
	mÀ·Encodî
;

101 
	mÀ·EncodîPS
;

102 
	mrightEncodîPS
;

103 
	m°d
::
of°ªam
 
fout
;

104 
ExecutiveD©a
 *
	mpExecutive
;

105 
La£rD©a
 *
	mpLa£r
;

106 
Nëw‹kD©a
 *
	mpNëw‹k
;

107 
M≠≥rD©a
 *
	mpM≠≥r
;

108 
M⁄ô‹D©a
 *
	mpM⁄ô‹
;

109 
boﬁ
 
	mu£_m™uÆ_to_move
;

110 
	mnum_execuãd_°ïs
;

111 
	m‹õ¡_°ïs
;

112 
boﬁ
 
	m‰ì_°ïs
;

113 
boﬁ
 
	mmove_ªady_Êag
;

115 
	mmodño4
[3][15], 
	mmodño3
[3][10], 
	mmodño2
[3][6], 
	mmodño1
[3][3];

116 
	mmodñoS∂öe
[61][61][3];

118 
	mdñèXtŸÆ
, 
	mdñèYtŸÆ
;

121 
	mMAX_STEPS
;

122 
	mGPS_STEPS
;

123 
	mInôPosX
;

124 
	mInôPosY
;

125 
	mInôPosOrõ¡©i⁄
;

126 
	mc‹ª˘i⁄_mode
;

128 
	mcuºít_X
;

129 
	mcuºít_Y
;

131 
	mcuºít_‹õ¡©i⁄
;

133 
ˇŒM≠≥r
();

134 
gëN‹mÆized
(
f
);

135 
ßveLog
(
°rög
 string);

137 
	mpublic
:

138 
times
;

139 
	mmovemít_times
;

140 
	mãmp_•ìd_≥r˚¡
;

141 
	mãmp_movemít
 ;

143 ~
	$ExecutivePro˚ss‹
() {

144 #ifde‡
LOG


145 
fout
 << "FInalizado";

146 
fout
.
	`˛o£
();

150 
	$ExecutivePro˚ss‹
(Ë: 
	$Pro˚ss‹I¡îÁ˚
() {

151 #ifde‡
MSP_


153 
£rül
 = (
DrivîSîül
*Ë
√w
 
	`MSP
();

157 
£rül
 = (
DrivîSîül
*Ë
√w
 
	`Robo°ix
();

159 
u£_m™uÆ_to_move
 = 
åue
;

160 
rightWhìlCou¡î
 = 0;

161 
À·WhìlCou¡î
 = 0;

163 
À·Encodî
 = 
£rül
->
	`ícodî
(0);

164 
À·EncodîPS
 = 
À·Encodî
;

165 
rightEncodî
 = 
£rül
->
	`ícodî
(1);

166 
rightEncodîPS
 = 
rightEncodî
;

168 
	}
}

170 
öô
();

171 
°ï
();

172 
˛ónup
();

173 
move
();

174 
m™uÆ_move
();

176 
gëEncodîSèã
();

177 
gëSís‹Ródögs
(
ExecutiveD©a
 *);

178 
gëLa£rRódög
(
ExecutiveD©a
 *, 
La£rD©a
 *,
e°ado
,
vr
,
vl
);

179 
loˇliz©i⁄LSQ
(, , );

180 
loˇliz©i⁄S∂öe
(, );

181 
loˇliz©i⁄
(*);

182 
lﬂdLSQmodñs
();

183 
lﬂdS∂öeModñ
();

185 
gëGPSPosôi⁄
();

186 
gëCo‹dö©e
(*, *);

187 
adju°_c⁄°™t
(*, *);

188 
adju°_öãΩﬁ©ed
(*, *, );

189 
£tM™uÆMove
(
boﬁ
 
m™uÆ_move
);

	@processors/executive/i2c-adc.cpp

25 
	~<°dio.h
>

26 
	~<°dlib.h
>

27 
	~<°rög.h
>

28 
	~<î∫o.h
>

29 
	~<f˙é.h
>

30 
	~<time.h
>

31 
	~<uni°d.h
>

33 
	~"i2c-≠i.h
"

34 
	~"i2c-io-≠i.h
"

35 
	~"Log.h
"

44 
	$maö
–
¨gc
, **
¨gv
 )

46 
i2cDev
;

47 c⁄° *
i2cDevName
 = "/dev/i2c-0";

48 
time_t
 
¥evTime
;

49 
time_t
 
ídTime
;

50 
cou¡
 = 0;

52 
	`LogInô
–
°dout
 );

54 i‡(–
i2cDev
 = 
	`›í
–
i2cDevName
, 
O_RDWR
 )) < 0 )

56 
	`LogEº‹
–"Eº‹ o≥nög '%s': %s\n", 
i2cDevName
, 
	`°ªº‹
–
î∫o
 ));

57 
	`exô
( 1 );

60 
	`I2cSëSœveAddªss
–
i2cDev
, 0x0B, 
I2C_USE_CRC
 );

64 
¥evTime
 = 
	`time
–
NULL
 );

65  
	`time
–
NULL
 ) =
¥evTime
 )

69 
ídTime
 = 
¥evTime
 + 10;

71  
	`time
–
NULL
 ) <
ídTime
 )

73 
uöt16_t
 
adcVÆ
;

75 i‡–
	`I2C_IO_GëADC
–
i2cDev
, 0, &
adcVÆ
 ))

77 
cou¡
++;

81 
	`LogEº‹
( "FailedÅoÑetrieve ADC value\n" );

85 
	`¥ötf
–"Rërõved %d ADC vÆue†ö 10 sec⁄ds\n", 
cou¡
 );

87 
	`˛o£
–
i2cDev
 );

90 
	}
}

	@processors/executive/i2c-io.cpp

26 
	~<°dio.h
>

27 
	~<°dlib.h
>

28 
	~<gë›t.h
>

29 
	~<f˙é.h
>

30 
	~<î∫o.h
>

31 
	~<°rög.h
>

32 
	~<sig«l.h
>

33 
	~<uni°d.h
>

34 
	~<sys/timeb.h
>

36 
	~"AvrInfo.h
"

37 
	~"i2c-dev.h
"

38 
	~"i2c-≠i.h
"

39 
	~"i2c-io-≠i.h
"

40 
	~"BoŸLﬂdî-≠i.h
"

41 
	~"Log.h
"

42 
	~"svn-vîsi⁄.h
"

44 
	~<io°ªam
>

45 
usög
 
«me•a˚
 
	g°d
;

54 
	mOPT_MEM_DEFAULT
 = 0,

59 
	mOPT_BASE_DECIMAL
 = 'd',

60 
	mOPT_BASE_HEX
 = 'x',

64 
	mOPT_FIRST_LONG_OPT
 = 0x80,

66 
	mOPT_VERSION
,

68 
	mOPT_HELP
,

73 
	mCMD_DEFAULT
,

75 
	mCMD_INFO
,

76 
	mCMD_GET
,

77 
	mCMD_SET
,

78 
	mCMD_GET_DIR
,

79 
	mCMD_SET_DIR
,

80 
	mCMD_READ_REG
,

81 
	mCMD_WRITE_REG
,

86 
	mcmd
;

87 c⁄° *
	mcmdSå
;

89 } 
	ggCmdM≠
[] =

91 { 
CMD_INFO
, "Info" },

92 { 
CMD_GET
, "Get" },

93 { 
CMD_SET
, "Set" },

94 { 
CMD_GET_DIR
, "GetDir" },

95 { 
CMD_SET_DIR
, "SetDir" },

96 { 
CMD_READ_REG
, "ReadReg" },

97 { 
CMD_WRITE_REG
, "WriteReg" },

98 { 
CMD_READ_REG
, "rr" },

99 { 
CMD_WRITE_REG
, "wr" },

102 
	ggNumCmds
 = –
gCmdM≠
 ) / ( gCmdMap[ 0 ]);

104 
	#REG_IO8
–
«me
, 
off£t
 ) {Çame, 0, off£à+ 0x20 }

	)

105 
	#REG_IO16
–
«me
, 
off£t
 ) {Çame, 1, off£à+ 0x20 }

	)

106 
	#REG_MEM8
–
«me
, 
off£t
 ) {Çame, 0, off£à}

	)

107 
	#REG_MEM16
–
«me
, 
off£t
 ) {Çame, 1, off£à}

	)

113 c⁄° *
	mªgSå
;

114 
uöt8_t
 
	mis16Bô
;

115 
uöt8_t
 
	mªg
;

117 } 
	tRegM≠_t
;

121 
uöt16_t
 
	msig«tuª
;

122 
uöt16_t
 
	mnumRegs
;

123 
RegM≠_t
 *
	mªgM≠
;

125 } 
	tRegs_t
;

127 
RegM≠_t
 
	ggRegM≠ATMega8
[] =

129 
REG_IO8
( "TWBR", 0x00 ),

130 
REG_IO8
( "TWSR", 0x01 ),

131 
REG_IO8
( "TWAR", 0x02 ),

132 
REG_IO8
( "TWDR", 0x03 ),

133 
REG_IO16
( "ADC", 0x04 ),

134 
REG_IO8
( "ADCL", 0x04 ),

135 
REG_IO8
( "ADCH", 0x05 ),

136 
REG_IO8
( "ADCSRA", 0x06 ),

137 
REG_IO8
( "ADMUX", 0x07 ),

138 
REG_IO8
( "ACSR", 0x08 ),

139 
REG_IO8
( "UBRRL", 0x09 ),

140 
REG_IO8
( "UCSRB", 0x0A ),

141 
REG_IO8
( "UCSRA", 0x0B ),

142 
REG_IO8
( "UDR", 0x0C ),

143 
REG_IO8
( "SPCR", 0x0D ),

144 
REG_IO8
( "SPSR", 0x0E ),

145 
REG_IO8
( "SPDR", 0x0F ),

146 
REG_IO8
( "PIND", 0x10 ),

147 
REG_IO8
( "DDRD", 0x11 ),

148 
REG_IO8
( "PORTD", 0x12 ),

149 
REG_IO8
( "PINC", 0x13 ),

150 
REG_IO8
( "DDRC", 0x14 ),

151 
REG_IO8
( "PORTC", 0x15 ),

152 
REG_IO8
( "PINB", 0x16 ),

153 
REG_IO8
( "DDRB", 0x17 ),

154 
REG_IO8
( "PORTB", 0x18 ),

155 
REG_IO8
( "EECR", 0x1C ),

156 
REG_IO8
( "EEDR", 0x1D ),

157 
REG_IO16
( "EEAR", 0x1E ),

158 
REG_IO8
( "EEARL", 0x1E ),

159 
REG_IO8
( "EEARH", 0x1F ),

160 
REG_IO8
( "UCSRC", 0x20 ),

161 
REG_IO8
( "UBRRH", 0x20 ),

162 
REG_IO8
( "WDTCR", 0x21 ),

163 
REG_IO8
( "ASSR", 0x22 ),

164 
REG_IO8
( "OCR2", 0x23 ),

165 
REG_IO8
( "TCNT2", 0x24 ),

166 
REG_IO8
( "TCCR2", 0x25 ),

167 
REG_IO16
( "ICR1", 0x26 ),

168 
REG_IO8
( "ICR1L", 0x26 ),

169 
REG_IO8
( "ICR1H", 0x27 ),

170 
REG_IO16
( "OCR1B", 0x28 ),

171 
REG_IO8
( "OCR1BL", 0x28 ),

172 
REG_IO8
( "OCR1BH", 0x29 ),

173 
REG_IO16
( "OCR1A", 0x2A ),

174 
REG_IO8
( "OCR1AL", 0x2A ),

175 
REG_IO8
( "OCR1AH", 0x2B ),

176 
REG_IO16
( "TCNT1", 0x2C ),

177 
REG_IO8
( "TCNT1L", 0x2C ),

178 
REG_IO8
( "TCNT1H", 0x2D ),

179 
REG_IO8
( "TCCR1B", 0x2E ),

180 
REG_IO8
( "TCCR1A", 0x2F ),

181 
REG_IO8
( "SFIOR", 0x30 ),

182 
REG_IO8
( "OSCCAL", 0x31 ),

183 
REG_IO8
( "TCNT0", 0x32 ),

184 
REG_IO8
( "TCCR0", 0x33 ),

185 
REG_IO8
( "MCUCSR", 0x34 ),

186 
REG_IO8
( "MCUCR", 0x35 ),

187 
REG_IO8
( "TWCR", 0x36 ),

188 
REG_IO8
( "SPMCR", 0x37 ),

189 
REG_IO8
( "TIFR", 0x38 ),

190 
REG_IO8
( "TIMSK", 0x39 ),

191 
REG_IO8
( "GIFR", 0x3A ),

192 
REG_IO8
( "GICR", 0x3B )

195 
RegM≠_t
 
	ggRegM≠ATMega128
[] =

197 
REG_IO8
( "PINF", 0x00 ),

198 
REG_IO8
( "PINE", 0x01 ),

199 
REG_IO8
( "DDRE", 0x02 ),

200 
REG_IO8
( "PORTE", 0x03 ),

201 
REG_IO8
( "ADCL", 0x04 ),

202 
REG_IO8
( "ADCH", 0x05 ),

203 
REG_IO8
( "ADCSR", 0x06 ),

204 
REG_IO8
( "ADMUX", 0x07 ),

205 
REG_IO8
( "ACSR", 0x08 ),

206 
REG_IO8
( "UBRR0L", 0x09 ),

207 
REG_IO8
( "UCSR0B", 0x0A ),

208 
REG_IO8
( "UCSR0A", 0x0B ),

209 
REG_IO8
( "UDR0", 0x0C ),

210 
REG_IO8
( "SPCR", 0x0D ),

211 
REG_IO8
( "SPSR", 0x0E ),

212 
REG_IO8
( "SPDR", 0x0F ),

213 
REG_IO8
( "PIND", 0x10 ),

214 
REG_IO8
( "DDRD", 0x11 ),

215 
REG_IO8
( "PORTD", 0x12 ),

216 
REG_IO8
( "PINC", 0x13 ),

217 
REG_IO8
( "DDRC", 0x14 ),

218 
REG_IO8
( "PORTC", 0x15 ),

219 
REG_IO8
( "PINB", 0x16 ),

220 
REG_IO8
( "DDRB", 0x17 ),

221 
REG_IO8
( "PORTB", 0x18 ),

222 
REG_IO8
( "PINA", 0x19 ),

223 
REG_IO8
( "DDRA", 0x1A ),

224 
REG_IO8
( "PORTA", 0x1B ),

225 
REG_IO8
( "SFIOR", 0x20 ),

226 
REG_IO8
( "WDTCR", 0x21 ),

227 
REG_IO8
( "OCDR", 0x22 ),

228 
REG_IO8
( "OCR2", 0x23 ),

229 
REG_IO8
( "TCNT2", 0x24 ),

230 
REG_IO8
( "TCCR2", 0x25 ),

231 
REG_IO8
( "ICR1L", 0x26 ),

232 
REG_IO8
( "ICR1H", 0x27 ),

233 
REG_IO8
( "OCR1BL", 0x28 ),

234 
REG_IO8
( "OCR1BH", 0x29 ),

235 
REG_IO8
( "OCR1AL", 0x2A ),

236 
REG_IO8
( "OCR1AH", 0x2B ),

237 
REG_IO8
( "TCNT1L", 0x2C ),

238 
REG_IO8
( "TCNT1H", 0x2D ),

239 
REG_IO8
( "TCCR1B", 0x2E ),

240 
REG_IO8
( "TCCR1A", 0x2F ),

241 
REG_IO8
( "ASSR", 0x30 ),

242 
REG_IO8
( "OCR0", 0x31 ),

243 
REG_IO8
( "TCNT0", 0x32 ),

244 
REG_IO8
( "TCCR0", 0x33 ),

245 
REG_IO8
( "MCUSR", 0x34 ),

246 
REG_IO8
( "MCUCR", 0x35 ),

247 
REG_IO8
( "TIFR", 0x36 ),

248 
REG_IO8
( "TIMSK", 0x37 ),

249 
REG_IO8
( "EIFR", 0x38 ),

250 
REG_IO8
( "EIMSK", 0x39 ),

251 
REG_IO8
( "EICRB", 0x3A ),

252 
REG_IO8
( "RAMPZ", 0x3B ),

253 
REG_IO8
( "XDIV", 0x3C ),

255 
REG_IO16
( "ADC", 0x04 ),

256 
REG_IO16
( "ICR1", 0x26 ),

257 
REG_IO16
( "OCR1B", 0x28 ),

258 
REG_IO16
( "OCR1A", 0x2A ),

259 
REG_IO16
( "TCNT1", 0x2C ),

261 
REG_MEM8
( "DDRF", 0x61 ),

262 
REG_MEM8
( "PORTF", 0x62 ),

263 
REG_MEM8
( "PING", 0x63 ),

264 
REG_MEM8
( "DDRG", 0x64 ),

265 
REG_MEM8
( "PORTG", 0x65 ),

266 
REG_MEM8
( "SPMCR", 0x68 ),

267 
REG_MEM8
( "EICRA", 0x6A ),

268 
REG_MEM8
( "XMCRB", 0x6C ),

269 
REG_MEM8
( "XMCRA", 0x6D ),

270 
REG_MEM8
( "OSCCAL", 0x6F ),

271 
REG_MEM8
( "TWBR", 0x70 ),

272 
REG_MEM8
( "TWSR", 0x71 ),

273 
REG_MEM8
( "TWAR", 0x72 ),

274 
REG_MEM8
( "TWDR", 0x73 ),

275 
REG_MEM8
( "TWCR", 0x74 ),

276 
REG_MEM8
( "OCR1CL", 0x78 ),

277 
REG_MEM8
( "OCR1CH", 0x79 ),

278 
REG_MEM8
( "TCCR1C", 0x7A ),

279 
REG_MEM8
( "ETIFR", 0x7C ),

280 
REG_MEM8
( "ETIMSK", 0x7D ),

281 
REG_MEM8
( "ICR3L", 0x80 ),

282 
REG_MEM8
( "ICR3H", 0x81 ),

283 
REG_MEM8
( "OCR3CL", 0x82 ),

284 
REG_MEM8
( "OCR3CH", 0x83 ),

285 
REG_MEM8
( "OCR3BL", 0x84 ),

286 
REG_MEM8
( "OCR3BH", 0x85 ),

287 
REG_MEM8
( "OCR3AL", 0x86 ),

288 
REG_MEM8
( "OCR3AH", 0x87 ),

289 
REG_MEM8
( "TCNT3L", 0x88 ),

290 
REG_MEM8
( "TCNT3H", 0x89 ),

291 
REG_MEM8
( "TCCR3B", 0x8A ),

292 
REG_MEM8
( "TCCR3A", 0x8B ),

293 
REG_MEM8
( "TCCR3C", 0x8C ),

294 
REG_MEM8
( "UBRR0H", 0x90 ),

295 
REG_MEM8
( "UCSR0C", 0x95 ),

296 
REG_MEM8
( "UBRR1H", 0x98 ),

297 
REG_MEM8
( "UBRR1L", 0x99 ),

298 
REG_MEM8
( "UCSR1B", 0x9A ),

299 
REG_MEM8
( "UCSR1A", 0x9B ),

300 
REG_MEM8
( "UDR1", 0x9C ),

301 
REG_MEM8
( "UCSR1C", 0x9D ),

303 
REG_MEM16
( "OCR1C", 0x78 ),

304 
REG_MEM16
( "ICR3", 0x80 ),

305 
REG_MEM16
( "OCR3C", 0x82 ),

306 
REG_MEM16
( "OCR3B", 0x84 ),

307 
REG_MEM16
( "OCR3A", 0x86 ),

308 
REG_MEM16
( "TCNT3", 0x88 ),

311 
	#ARRAY_LEN
–
x
 ) ( –x ) / –x[0] ))

	)

313 
Regs_t
 
	ggRegs
[] =

315 { 
AVR_ATMEGA_8_SIGNATURE
, 
ARRAY_LEN
–
gRegM≠ATMega8
 ), gRegMapATMega8 },

316 { 
AVR_ATMEGA_128_SIGNATURE
, 
ARRAY_LEN
–
gRegM≠ATMega128
 ), gRegMapATMega128 },

319 
	ggI2cAddr
 = -1;

321 c⁄° *
	ggCmdSå
;

322 
	ggCmd
 = 
CMD_DEFAULT
;

323 c⁄° *
	ggP‹tPöSå
 = 
NULL
;

324 c⁄° *
	ggVÆSå
 = 
NULL
;

325 c⁄° *
	ggRegSå
 = 
NULL
;

326 
	ggBa£
 = 
OPT_BASE_HEX
;

328 
›ti⁄
 
	ggO±i⁄
[] =

330 { "decimÆ", 
no_¨gumít
, 
NULL
, 
OPT_BASE_DECIMAL
 },

331 { "hex", 
no_¨gumít
, 
NULL
, 
OPT_BASE_HEX
 },

332 { "vîsi⁄", 
no_¨gumít
, 
NULL
, 
OPT_VERSION
 },

333 { "vîbo£", 
no_¨gumít
, &
gVîbo£
, 1 },

334 { "debug", 
no_¨gumít
, &
gDebug
, 1 },

335 { "hñp", 
no_¨gumít
, 
NULL
, 
OPT_HELP
 },

336 { 
NULL
 }

339 
	#TRUE
 1

	)

340 
	#FALSE
 0

	)

344 
	mNoADC
,

345 
	mAŒowADC
,

347 } 
	tAŒowADC_t
;

349 
	#ADC_PORT
 8

	)

353 
P¨£Byã
–c⁄° *
byãSå
, 
uöt8_t
 *
byã
 );

354 
P¨£UI¡16
–c⁄° *
°r
, 
uöt16_t
 *
vÆ16
 );

355 
P¨£P‹tPöSå
–c⁄° *
p‹tPöSå
, 
uöt8_t
 *
p‹tNum
, uöt8_à*
pö
, 
AŒowADC_t
 
ÆlowAdc
 );

356 
P¨£Reg
–
i2cDev
, c⁄° *
ªgSå
, 
RegM≠_t
 *
ªgFound
 );

358 
Pro˚ssInfoComm™d
–
i2cDev
 );

359 
uöt16_t
 
Pro˚ssGëComm™d
–
i2cDev
, c⁄° *
p‹tPöSå
 );

360 
Pro˚ssSëComm™d
–
i2cDev
, c⁄° *
p‹tPöSå
, c⁄° *
vÆSå
 );

361 
Pro˚ssGëDúComm™d
–
i2cDev
, c⁄° *
p‹tPöSå
 );

362 
Pro˚ssSëDúComm™d
–
i2cDev
, c⁄° *
p‹tPöSå
, c⁄° *
vÆSå
 );

363 
Pro˚ssRódRegComm™d
–
i2cDev
, c⁄° *
ªgSå
 );

364 
Pro˚ssWrôeRegComm™d
–
i2cDev
, c⁄° *
ªgSå
, c⁄° *
vÆSå
 );

365 
Ußge
( );

369 
uöt16_t
 
i2c_löus
–
gCmdSå
[], 
gP‹tPöSå
[], 
gVÆ
, 
gRegSå
[], 
i2cDev
 );

371 
°¨t_pwm
(
i2cDev
);

373 
£t_M_À·
 (
gVÆ
, 
i2cDev
);

374 
£t_M_right
 (
gVÆ
, 
i2cDev
);

376 
£n£_adc
 (
ch™√l
, 
i2cDev
);

377 
£n£_c
 (
ch™√l
, 
i2cDev
);

378 
°¨t_robo°ix
(c⁄° *
i2cDevName
);

379 
°›_robo°ix
(
i2cDev
);

386 
	$°¨t_robo°ix
(c⁄° *
i2cDevName
)

388 
i2cDev
;

389 
	`LogInô
–
°dout
 );

393 i‡(–
i2cDev
 = 
	`›í
–
i2cDevName
, 
O_RDWR
 )) < 0 )

395 
	`LogEº‹
–"Eº‹ o≥nög '%s': %s\n", 
i2cDevName
, 
	`°ªº‹
–
î∫o
 ));

396 
	`exô
( 1 );

401 
	`I2cSëSœveAddªss
–
i2cDev
, 0x0b, 
I2C_USE_CRC
 );

403 
	`°¨t_pwm
(
i2cDev
);

405  
i2cDev
;

406 
	}
}

408 
	$°›_robo°ix
(
i2cDev
)

410 
	`˛o£
–
i2cDev
 );

411 
	}
}

459 
	$£n£_c
 (
ch™√l
, 
i2cDev
)

461 
tmp
[10];

462 
uöt16_t
 
d©a
;

463 
	`•rötf
(
tmp
, "c.%d", 
ch™√l
);

464 
d©a
 = 
	`i2c_löus
("gë", 
tmp
, 0, "", 
i2cDev
);

465  
d©a
;

466 
	}
}

468 
	$£n£_adc
 (
ch™√l
, 
i2cDev
)

470 
tmp
[10];

471 
uöt16_t
 
d©a_¨øy
[8];

472 
uöt16_t
 
d©a
=0;

473 
tmp_ªtu∫
 = -1;

474 
i
, 
fú°_max
, 
£c⁄d_max
, 
fú°_mö
, 
£c⁄d_mö
;

475 
j
=0;

476 
medici⁄
[40];

477 
medici⁄_max
;

479 
	`•rötf
(
tmp
, "adc.%d", 
ch™√l
-1);

481 
d©a_¨øy
[0] = 
	`i2c_löus
("gë", 
tmp
, 0, "", 
i2cDev
);

482 
fú°_max
=0;

483 
£c⁄d_max
=0;

484 
fú°_mö
=0;

485 
£c⁄d_mö
=0;

498 
i
=1; i<8; i++)

500 
d©a_¨øy
[
i
] = 
	`i2c_löus
("gë", 
tmp
, 0, "", 
i2cDev
);

502 i‡(
d©a_¨øy
[
i
] > d©a_¨øy[
fú°_max
])

503 
fú°_max
=
i
;

504 i‡(
d©a_¨øy
[
i
] > d©a_¨øy[
£c⁄d_max
])

505 
£c⁄d_max
=
i
;

506 i‡(
d©a_¨øy
[
i
] < d©a_¨øy[
fú°_mö
])

507 
fú°_mö
=
i
;

508 i‡(
d©a_¨øy
[
i
] > d©a_¨øy[
£c⁄d_mö
])

509 
£c⁄d_mö
=
i
;

512 
i
=0; i<8; i++)

514 i‡(
i
!=
fú°_max
 || i!=
fú°_mö
 || i!=
£c⁄d_max
 || i!=
£c⁄d_mö
)

516 
d©a
+=
d©a_¨øy
[
i
];

517 
j
++;

521 if(
j
!=0)

522 
d©a
 /
j
;

524 
d©a
 = 0;

527 
medici⁄
[4]=560;

528 
medici⁄
[5]=475;

529 
medici⁄
[6]=422;

530 
medici⁄
[7]=362;

531 
medici⁄
[8]=320;

532 
medici⁄
[9]=290;

533 
medici⁄
[10]=262;

534 
medici⁄
[11]=240;

535 
medici⁄
[12]=220;

536 
medici⁄
[13]=205;

537 
medici⁄
[14]=190;

538 
medici⁄
[15]=175;

539 
medici⁄
[16]=165;

540 
medici⁄
[17]=157;

541 
medici⁄
[18]=147;

542 
medici⁄
[19]=142;

543 
medici⁄
[20]=135;

544 
medici⁄
[21]=128;

545 
medici⁄
[22]=122;

546 
medici⁄
[23]=117;

547 
medici⁄
[24]=110;

548 
medici⁄
[25]=104;

549 
medici⁄
[26]=100;

550 
medici⁄
[27]=96;

551 
medici⁄
[28]=92;

552 
medici⁄
[29]=90;

553 
medici⁄
[30]=87;

554 
medici⁄
[31]=84;

555 
medici⁄
[32]=82;

556 
medici⁄
[33]=80;

557 
medici⁄
[34]=78;

558 
medici⁄
[35]=76;

559 
medici⁄
[36]=74;

560 
medici⁄
[37]=72;

561 
medici⁄
[38]=70;

562 
medici⁄
[39]=68;

563 
medici⁄
[40]=60;

564 
medici⁄_max
 = 40;

566 i‡(
d©a
 > 
medici⁄
[5])

568 
tmp_ªtu∫
 = 0.0;

572 
i
=4; i<
medici⁄_max
; i++)

573 i‡(
d©a
 > 
medici⁄
[
i
])

575 
tmp_ªtu∫
 = ()(
i
 + ()(
d©a
-
medici⁄
[i-1])/()(medicion[i]-medicion[i-1]));

579 i‡(
tmp_ªtu∫
 =-1Ëtmp_ªtu∫ = (Ë
medici⁄_max
;

582 i‡(
tmp_ªtu∫
 == 0.0)Åmp_return = 4.0;

584 
tmp_ªtu∫
 -= 4.0;

585 
tmp_ªtu∫
 /(Ë
medici⁄_max
-4.0;

588  
tmp_ªtu∫
;

589 
	}
}

592 
	$£t_M_À·
 (
gVÆ
, 
i2cDev
)

595 
gVÆ
 -= 0.5;

596 
gVÆ
 *= 2;

597 
gVÆ
 *= 250;

598 
gVÆ
 += 3060;

601 
	`i2c_löus
("wrôîeg", "", (Ë
gVÆ
, "OCR3B", 
i2cDev
);

602 
	}
}

604 
	$£t_M_right
 (
gVÆ
, 
i2cDev
)

607 
gVÆ
 -= 0.5;

608 
gVÆ
 *= 2;

609 
gVÆ
 *= -250;

610 
gVÆ
 += 3060;

613 
	`i2c_löus
("wrôîeg", "", (Ë
gVÆ
, "OCR3A", 
i2cDev
);

614 
	}
}

616 
	$°¨t_pwm
(
i2cDev
)

619 
	`i2c_löus
("wrôîeg", "", 40000, "ICR3", 
i2cDev
);

620 
	`i2c_löus
("wrôîeg", "", 3060, "OCR3A", 
i2cDev
);

621 
	`i2c_löus
("wrôîeg", "", 3060, "OCR3B", 
i2cDev
);

622 
	`i2c_löus
("wrôîeg", "", 162, "TCCR3A", 
i2cDev
);

623 
	`i2c_löus
("wrôîeg", "", 26, "TCCR3B", 
i2cDev
);

624 
	`i2c_löus
("wrôîeg", "", 24, "DDRE", 
i2cDev
);

626 
	}
}

628 
uöt16_t
 
	$i2c_löus
–
gCmdSå
[], 
gP‹tPöSå
[], 
gVÆ
, 
gRegSå
[], 
i2cDev
 )

635 
cmdIdx
;

636 
gVÆSå
[20] = "0";

637 
¨gc
 = 4;

639 
	`•rötf
(
gVÆSå
, "%d", 
gVÆ
);

641 
gBa£
 = () 'd';

645  
cmdIdx
 = 0; cmdIdx < 
gNumCmds
; cmdIdx++ )

647 i‡–
	`°rˇ£cmp
–
gCmdSå
, 
gCmdM≠
[ 
cmdIdx
 ].
cmdSå
 ) == 0 )

649 
gCmd
 = 
gCmdM≠
[ 
cmdIdx
 ].
cmd
;

653 i‡–
gCmd
 =
CMD_DEFAULT
 )

655 
	`LogEº‹
–"Uƒecognized comm™d '%s'\n", 
gCmdSå
 );

656 
	`exô
( 1 );

661 i‡–
gCmd
 =
CMD_INFO
 )

663 i‡–
¨gc
 != 2 )

665 
	`LogEº‹
( "UnexpectedÉxtraÖarameters\n" );

666 
	`Ußge
();

667 
	`exô
( 1 );

671 i‡(–
gCmd
 =
CMD_GET
 )

672 || ( 
gCmd
 =
CMD_GET_DIR
 ))

674 i‡–
¨gc
 < 3 )

676 
	`LogEº‹
( "ExpectingÖort.pin\n" );

677 
	`Ußge
();

678 
	`exô
( 1 );

684 i‡(–
gCmd
 =
CMD_SET
 )

685 || ( 
gCmd
 =
CMD_SET_DIR
 ))

687 i‡–
¨gc
 < 4 )

689 
	`LogEº‹
( "port.pin followed by value\n" );

690 
	`Ußge
();

691 
	`exô
( 1 );

697 i‡–
gCmd
 =
CMD_READ_REG
 )

699 i‡–
¨gc
 < 3 )

701 
	`LogEº‹
( "ExpectingÑegister index\n" );

702 
	`Ußge
();

703 
	`exô
( 1 );

708 i‡–
gCmd
 =
CMD_WRITE_REG
 )

710 i‡–
¨gc
 < 4 )

712 
	`LogEº‹
( "ExpectingÑegister indexánd value\n" );

713 
	`Ußge
();

714 
	`exô
( 1 );

720 i‡–
gDebug
 )

722 
	`Log
–"i2cAddr:0x%02x Cmd: %†(%d)", 
gI2cAddr
, 
gCmdSå
, 
gCmd
 );

723 i‡–
gP‹tPöSå
 !
NULL
 )

725 
	`Log
–" Pö: %s", 
gP‹tPöSå
 );

727 i‡–
gVÆSå
 !
NULL
 )

729 
	`Log
–" VÆ: %s", 
gVÆSå
 );

731 
	`Log
( "\n" );

735  
gCmd
 )

737 
CMD_INFO
:

739 
	`Pro˚ssInfoComm™d
–
i2cDev
 );

743 
CMD_GET
:

745  
	`Pro˚ssGëComm™d
–
i2cDev
, 
gP‹tPöSå
 );

749 
CMD_SET
:

751 
	`Pro˚ssSëComm™d
–
i2cDev
, 
gP‹tPöSå
, 
gVÆSå
 );

755 
CMD_GET_DIR
:

757 
	`Pro˚ssGëDúComm™d
–
i2cDev
, 
gP‹tPöSå
 );

761 
CMD_SET_DIR
:

763 
	`Pro˚ssSëDúComm™d
–
i2cDev
, 
gP‹tPöSå
, 
gVÆSå
 );

767 
CMD_READ_REG
:

769 
	`Pro˚ssRódRegComm™d
–
i2cDev
, 
gRegSå
 );

773 
CMD_WRITE_REG
:

775 
	`Pro˚ssWrôeRegComm™d
–
i2cDev
, 
gRegSå
, 
gVÆSå
 );

782 
	}
}

789 
	$P¨£Byã
–c⁄° *
byãSå
, 
uöt8_t
 *
byã
 )

791 *
ídPå
;

793 *
byã
 = (
uöt8_t
)
	`°πﬁ
–
byãSå
, &
ídPå
, 0 );

795 i‡–*
ídPå
 != '\0' )

797 
	`LogEº‹
–"Ex≥˘ögÇumîi¯vÆue, found '%s'\n", 
byãSå
 );

798  
FALSE
;

801  
TRUE
;

803 
	}
}

810 
	$P¨£UI¡16
–c⁄° *
°r
, 
uöt16_t
 *
vÆ16
 )

812 *
ídPå
;

814 *
vÆ16
 = (
uöt16_t
)
	`°πﬁ
–
°r
, &
ídPå
, 0 );

816 i‡–*
ídPå
 != '\0' )

818 
	`LogEº‹
–"Ex≥˘ögÇumîi¯vÆue, found '%s'\n", 
°r
 );

819  
FALSE
;

822  
TRUE
;

824 
	}
}

831 
	$P¨£P‹tPöSå
–c⁄° *
p‹tPöSå
, 
uöt8_t
 *
p‹tNum
, uöt8_à*
pö
, 
AŒowADC_t
 
ÆlowAdc
 )

833 c⁄° *
s
;

834 *
ídPå
;

836 *
p‹tNum
 = 0;

837 *
pö
 = 0;

839 i‡(–
s
 = 
	`°rchr
–
p‹tPöSå
, '.' )Ë=
NULL
 )

841 
	`LogEº‹
–"Ex≥˘ögÖ‹t.pö, found: '%s'\n", 
p‹tPöSå
 );

842  
FALSE
;

844 i‡(–
s
 - 
p‹tPöSå
 ) > 3 )

848 
	`LogEº‹
–"InvÆid P‹t: '%s'\n", 
p‹tPöSå
 );

849  
FALSE
;

851 
s
++;

853 *
pö
 = (
uöt8_t
)
	`°πﬁ
–
s
, &
ídPå
, 10 );

855 i‡–*
ídPå
 != '\0' )

857 
	`LogEº‹
–"Ex≥˘ögÇumîi¯pö, found '%s'\n", 
s
 );

858  
FALSE
;

861 i‡–
p‹tPöSå
[ 1 ] == '.' )

863 i‡((–
p‹tPöSå
[ 0 ] >= 'A' ) && (ÖortPinStr[ 0 ] <= 'G' ))

864 || (–
p‹tPöSå
[ 0 ] >= 'a' ) && (ÖortPinStr[ 0 ] <= 'g' )))

866 i‡(–
p‹tPöSå
[ 0 ] >= 'A' ) && (ÖortPinStr[ 0 ] <= 'G' ))

868 *
p‹tNum
 = 
p‹tPöSå
[ 0 ] - 'A';

872 *
p‹tNum
 = 
p‹tPöSå
[ 0 ] - 'a';

875 i‡–*
pö
 <= 7 )

877  
TRUE
;

880 
	`LogEº‹
–"Ex≥˘ögÖöÅÿbê0-7, found: %d\n", *
pö
 );

881  
FALSE
;

884 
	`LogEº‹
–"Ex≥˘ögÖ‹àtÿbêA-G, found: '%c'\n", 
p‹tPöSå
[ 0 ]);

885  
FALSE
;

888 i‡(–
ÆlowAdc
 =
AŒowADC
 ) && ( 
	`°∫ˇ£cmp
–
p‹tPöSå
, "ADC", 3 ) == 0 ) && (ÖortPinStr[ 3 ] == '.' ))

890 *
p‹tNum
 = 
ADC_PORT
;

892 i‡–*
pö
 <= 31 )

894  
TRUE
;

897 
	`LogEº‹
–"Ex≥˘ög ADC muxÅÿbêöÑ™gê0-31, found: %d\n", *
pö
 );

898  
FALSE
;

900 
	`LogEº‹
–"UƒecognizedÖ‹t: '%s'\n", 
p‹tPöSå
 );

901  
FALSE
;

903 
	}
}

910 
	$P¨£Reg
–
i2cDev
, c⁄° *
ªgSå
, 
RegM≠_t
 *
ªgFound
 )

912 *
ídPå
;

913 
i
;

914 
uöt8_t
 
ªg
;

915 
BoŸLﬂdîInfo_t
 
boŸInfo
;

916 
RegM≠_t
 *
ªgLi°
 = 
NULL
;

917 
numRegs
 = 0;

919 
ªgNumSå
[ 10 ];

924 i‡–!
	`BoŸLﬂdîGëInfo
–
i2cDev
, &
boŸInfo
 ))

926 
	`LogEº‹
–"U«bÀÅÿªåõvêBoŸLﬂdî inf‹m©i⁄ from i2¯addªs†0x%02x\n", 
gI2cAddr
 );

927  
FALSE
;

930  
i
 = 0; i < 
	`ARRAY_LEN
–
gRegs
 ); i++ )

932 i‡–
boŸInfo
.
∑πNumbî
 =
gRegs
[ 
i
 ].
sig«tuª
 )

934 
ªgLi°
 = 
gRegs
[ 
i
 ].
ªgM≠
;

935 
numRegs
 = 
gRegs
[ 
i
 ].numRegs;

938 i‡–
ªgLi°
 =
NULL
 )

940 
	`LogEº‹
–"Uƒecognized sig«tuª: 0x%04x\n", 
boŸInfo
.
∑πNumbî
 );

941  
FALSE
;

946  
i
 = 0; i < 
numRegs
; i++ )

948 i‡–
	`°rˇ£cmp
–
ªgSå
, 
ªgLi°
[ 
i
 ].regStr ) == 0 )

950 *
ªgFound
 = 
ªgLi°
[ 
i
 ];

951  
TRUE
;

957 
ªg
 = (
uöt8_t
)
	`°πﬁ
–
ªgSå
, &
ídPå
, 0 );

959 i‡–*
ídPå
 != '\0' )

961 
	`LogEº‹
–"UƒecognizedÑegi°î, found '%s'\n", 
ªgSå
 );

962  
FALSE
;

965 
	`¢¥ötf
–
ªgNumSå
, –ªgNumSå ), "0x%02x", 
ªg
 );

967 
ªgFound
->
ªg
 =Ñeg;

968 
ªgFound
->
ªgSå
 = 
ªgNumSå
;

969 
ªgFound
->
is16Bô
 = 0;

971  
TRUE
;

974 
	}
}

981 
	$Pro˚ssInfoComm™d
–
i2cDev
 )

983 
I2C_IO_Info_t
 
öfo
;

985 i‡–!
	`I2C_IO_GëInfo
–
i2cDev
, &
öfo
 ))

987 
	`LogEº‹
–"U«bÀÅÿªåõvêöf‹m©i⁄ from i2¯addªs†0x%02x\n", 
gI2cAddr
 );

988 
	`exô
( 1 );

991 
	`Log
–" vîsi⁄: %d\n", 
öfo
.
vîsi⁄
 );

992 
	`Log
–" möVîsi⁄: %d\n", 
öfo
.
möVîsi⁄
 );

993 
	`Log
–"SVN Revisi⁄: %d\n", 
öfo
.
svnRevisi⁄
 );

995 i‡–!
	`I2C_IO_CheckVîsi⁄
–&
öfo
 ))

997 
	`exô
( 1 );

1000 
	}
}

1007 
uöt16_t
 
	$Pro˚ssGëComm™d
–
i2cDev
, c⁄° *
p‹tPöSå
 )

1009 
uöt8_t
 
p‹tNum
;

1010 
uöt8_t
 
pö
;

1011 
uöt8_t
 
pöVÆ
;

1012 i‡–!
	`P¨£P‹tPöSå
–
p‹tPöSå
, &
p‹tNum
, &
pö
, 
AŒowADC
 ))

1016 i‡–
p‹tNum
 =
ADC_PORT
 )

1018 
uöt16_t
 
adcVÆ
;

1020 i‡–
	`I2C_IO_GëADC
–
i2cDev
, 
pö
, &
adcVÆ
 ))

1022  
adcVÆ
;

1027 
	`LogEº‹
–"FaûedÅÿªåõvêvÆuêf‹ ADC.%d\n", 
pö
 );

1032 
ª
;

1033 i‡–
	`I2C_IO_GëGPIO
–
i2cDev
, 
p‹tNum
, &
pöVÆ
 ))

1035  (–
pöVÆ
 & ( 1 << 
pö
 )) != 0 );

1040 
	`LogEº‹
( "FailedÅoÑetrieve value for %c.%d\n",

1041 
p‹tNum
 + 'A', 
pö
 );

1045 
	}
}

1052 
	$Pro˚ssSëComm™d
–
i2cDev
, c⁄° *
p‹tPöSå
, c⁄° *
vÆSå
 )

1054 
uöt8_t
 
p‹tNum
;

1055 
uöt8_t
 
pö
;

1056 
uöt8_t
 
pöMask
;

1057 
uöt8_t
 
pöVÆ
;

1059 i‡–!
	`P¨£P‹tPöSå
–
p‹tPöSå
, &
p‹tNum
, &
pö
, 
NoADC
 ))

1063 
pöMask
 = 1 << 
pö
;

1065 i‡(–
	`°rcmp
–
vÆSå
, "0" ) =0 ) || ( 
	`°rˇ£cmp
( valStr, "off" ) == 0 ))

1067 
pöVÆ
 = 0;

1070 i‡(–
	`°rcmp
–
vÆSå
, "1" ) =0 ) || ( 
	`°rˇ£cmp
( valStr, "on" ) == 0 ))

1072 
pöVÆ
 = 
pöMask
;

1076 
	`LogEº‹
–"UƒecognizedÖö vÆuê'%s'\n", 
vÆSå
 );

1080 i‡–
	`I2C_IO_SëGPIO
–
i2cDev
, 
p‹tNum
, 
pöMask
, 
pöVÆ
 ))

1082 
	`LogVîbo£
–"P‹à%c.%d sëÅÿ%d\n", 'A' + 
p‹tNum
, 
pö
, 
pöVÆ
 != 0 );

1086 
	`LogEº‹
–"FaûedÅÿ£àvÆuêf‹ %c.%d\n", 
p‹tNum
 + 'A', 
pö
 );

1089 
	}
}

1096 
	$Pro˚ssGëDúComm™d
–
i2cDev
, c⁄° *
p‹tPöSå
 )

1098 
uöt8_t
 
p‹tNum
;

1099 
uöt8_t
 
pö
;

1100 
uöt8_t
 
pöVÆ
;

1102 i‡–!
	`P¨£P‹tPöSå
–
p‹tPöSå
, &
p‹tNum
, &
pö
, 
NoADC
 ))

1107 i‡–
	`I2C_IO_GëGPIODú
–
i2cDev
, 
p‹tNum
, &
pöVÆ
 ))

1109 
	`Log
–"%s\n", (–
pöVÆ
 & ( 1 << 
pö
 )) != 0 ) ? "out" : "in" );

1113 
	`LogEº‹
( "FailedÅoÑetrieve direction for %s.%d\n",

1114 
p‹tNum
 + 'A', 
pö
 );

1117 
	}
}

1124 
	$Pro˚ssSëDúComm™d
–
i2cDev
, c⁄° *
p‹tPöSå
, c⁄° *
vÆSå
 )

1126 
uöt8_t
 
p‹tNum
;

1127 
uöt8_t
 
pö
;

1128 
uöt8_t
 
pöMask
;

1129 
uöt8_t
 
pöVÆ
;

1131 i‡–!
	`P¨£P‹tPöSå
–
p‹tPöSå
, &
p‹tNum
, &
pö
, 
NoADC
 ))

1135 
pöMask
 = 1 << 
pö
;

1137 i‡(–
	`°rcmp
–
vÆSå
, "0" ) =0 ) || ( 
	`°rˇ£cmp
( valStr, "in" ) == 0 ))

1139 
pöVÆ
 = 0;

1142 i‡(–
	`°rcmp
–
vÆSå
, "1" ) =0 ) || ( 
	`°rˇ£cmp
( valStr, "out" ) == 0 ))

1144 
pöVÆ
 = 
pöMask
;

1148 
	`LogEº‹
–"UƒecognizedÖö vÆuê'%s'\n", 
vÆSå
 );

1152 i‡–
	`I2C_IO_SëGPIODú
–
i2cDev
, 
p‹tNum
, 
pöMask
, 
pöVÆ
 ))

1154 
	`LogVîbo£
–"P‹à%c.%d dú sëÅÿ%d\n", 'A' + 
p‹tNum
, 
pö
, ( 
pöVÆ
 != 0 ) ? "out" : "in" );

1158 
	`LogEº‹
–"FaûedÅÿ£àdú f‹ %c.%d\n", 
p‹tNum
 + 'A', 
pö
 );

1161 
	}
}

1169 
	$Pro˚ssRódRegComm™d
–
i2cDev
, c⁄° *
ªgSå
 )

1171 
RegM≠_t
 
ªgFound
;

1172 
I2C_IO_Info_t
 
öfo
;

1174 i‡–!
	`P¨£Reg
–
i2cDev
, 
ªgSå
, &
ªgFound
 ))

1181 i‡–!
	`I2C_IO_GëInfo
–
i2cDev
, &
öfo
 ))

1183 
	`LogEº‹
–"U«bÀÅÿªåõvêöf‹m©i⁄ from i2¯addªs†0x%02x\n", 
gI2cAddr
 );

1184 
	`exô
( 1 );

1186 i‡–
öfo
.
vîsi⁄
 < 2 )

1188 
	`LogEº‹
( "i2c-io.hex onÅheÑobostix isÅoo oldándÇeedsÅo be updated\n" );

1193 i‡–
ªgFound
.
is16Bô
 )

1195 
uöt16_t
 
ªgVÆ16
;

1197 i‡–!
	`I2C_IO_RódReg16
–
i2cDev
, 
ªgFound
.
ªg
, &
ªgVÆ16
 ))

1199 
	`LogEº‹
–"Eº‹Ñódög from %s\n", 
ªgFound
.
ªgSå
 );

1203 i‡–
gBa£
 =
OPT_BASE_HEX
 )

1205 
	`Log
–"0x%04x\n", 
ªgVÆ16
 );

1209 
	`Log
–"%d\n", 
ªgVÆ16
 );

1214 
uöt8_t
 
ªgVÆ8
;

1216 i‡–!
	`I2C_IO_RódReg8
–
i2cDev
, 
ªgFound
.
ªg
, &
ªgVÆ8
 ))

1218 
	`LogEº‹
–"Eº‹Ñódög from %s\n", 
ªgFound
.
ªgSå
 );

1222 i‡–
gBa£
 =
OPT_BASE_HEX
 )

1224 
	`Log
–"0x%02x\n", 
ªgVÆ8
 );

1228 
	`Log
–"%d\n", 
ªgVÆ8
 );

1232 
	}
}

1239 
	$Pro˚ssWrôeRegComm™d
–
i2cDev
, c⁄° *
ªgSå
, c⁄° *
vÆSå
 )

1241 
RegM≠_t
 
ªgM≠
;

1242 
I2C_IO_Info_t
 
öfo
;

1244 i‡–!
	`P¨£Reg
–
i2cDev
, 
ªgSå
, &
ªgM≠
 ))

1251 i‡–!
	`I2C_IO_GëInfo
–
i2cDev
, &
öfo
 ))

1253 
	`LogEº‹
–"U«bÀÅÿªåõvêöf‹m©i⁄ from i2¯addªs†0x%02x\n", 
gI2cAddr
 );

1254 
	`exô
( 1 );

1256 i‡–
öfo
.
vîsi⁄
 < 2 )

1258 
	`LogEº‹
( "i2c-io.hex onÅheÑobostix isÅoo oldándÇeedsÅo be updated\n" );

1262 i‡–
ªgM≠
.
is16Bô
 )

1264 
uöt16_t
 
ªgVÆ16
;

1266 i‡–!
	`P¨£UI¡16
–
vÆSå
, &
ªgVÆ16
 ))

1271 i‡–!
	`I2C_IO_WrôeReg16
–
i2cDev
, 
ªgM≠
.
ªg
, 
ªgVÆ16
 ))

1273 
	`LogEº‹
–"Eº‹ wrôögÅÿ%s\n", 
ªgM≠
.
ªgSå
 );

1279 
uöt8_t
 
ªgVÆ8
;

1281 i‡–!
	`P¨£Byã
–
vÆSå
, &
ªgVÆ8
 ))

1285 i‡–!
	`I2C_IO_WrôeReg8
–
i2cDev
, 
ªgM≠
.
ªg
, 
ªgVÆ8
 ))

1287 
	`LogEº‹
–"Eº‹ wrôögÅÿ%s\n", 
ªgM≠
.
ªgSå
 );

1292 
	}
}

1299 
	$Ußge
( )

1301 
	`Ârötf
–
°dîr
, "Usage: i2c-io [options] i2c-addr cmd [cmd-options]\n" );

1302 
	`Ârötf
–
°dîr
, "ManipulateÑobostix I/OÖins\n" );

1303 
	`Ârötf
–
°dîr
, "\n" );

1304 
	`Ârötf
–
°dîr
, "The following commandsáre supported:\n" );

1305 
	`Ârötf
–
°dîr
, "Info Retrieves informationáboutÅheÑobostixÖrogram\n" );

1306 
	`Ârötf
–
°dîr
, "GetÖort.pin RetrievesÅhe value ofáÖin\n" );

1307 
	`Ârötf
–
°dîr
, "SetÖort.pin val SetsÅhe value ofáÖin\n" );

1308 
	`Ârötf
–
°dîr
, "SetDirÖort.pin dir SetsÅhe direction ofáÖin\n" );

1309 
	`Ârötf
–
°dîr
, "ReadRegÑegIdx Readsán 8 bitÑegister\n" );

1310 
	`Ârötf
–
°dîr
, "WriteRegÑegIdx val Writesá value intoán 8 bitÑegister\n" );

1311 
	`Ârötf
–
°dîr
, "\n" );

1312 
	`Ârötf
–
°dîr
, "port.pin specifiesáÖort usingáÜetter (A-G)ándáÖin (0-7)\n" );

1313 
	`Ârötf
–
°dîr
, "ForÉxample, C.3 means Port CÖin 3\n" );

1314 
	`Ârötf
–
°dîr
, "TheÖort mayálso be specified usingÅhe specialÖort ADC\n" );

1315 
	`Ârötf
–
°dîr
, "\n" );

1316 
	`Ârötf
–
°dîr
, "The followingárguments may be usedÅo modifyÅhe behaviour\n" );

1317 
	`Ârötf
–
°dîr
, "--hex (or -x) Print ReadRegÑesults in hex\n" );

1318 
	`Ârötf
–
°dîr
, "--decimal (or -d) Print ReadRegÑesults in decimal\n" );

1319 
	`Ârötf
–
°dîr
, "--version PrintÅhe version information forÅhisÖrogram\n" );

1320 
	`Ârötf
–
°dîr
, "--verbose Printádditional information\n" );

1321 
	`Ârötf
–
°dîr
, "--help PrintsÅhis information\n" );

1322 
	}
}

	@processors/executive/i2c-io_linus.h

1 
°¨t_pwm
(
i2cDev
);

3 
£t_M_À·
 (
gVÆ
, 
i2cDev
);

4 
£t_M_right
 (
gVÆ
, 
i2cDev
);

6 
£n£_adc
 (
ch™√l
, 
i2cDev
);

7 
£n£_c
 (
ch™√l
, 
i2cDev
);

8 
°¨t_robo°ix
(c⁄° *
i2cDevName
);

9 
°›_robo°ix
(
i2cDev
);

	@processors/executive/msp.cpp

2 
	~<time.h
>

3 
	~<°dio.h
>

4 
	~<°dio.h
>

5 
	~<°dlib.h
>

6 
	~<gë›t.h
>

7 
	~<f˙é.h
>

8 
	~<î∫o.h
>

9 
	~<°rög.h
>

10 
	~<sig«l.h
>

11 
	~<uni°d.h
>

12 
	~<sys/timeb.h
>

13 
	~<ãrmios.h
>

14 
	~<ªgex.h
>

15 
	~<sys/ty≥s.h
>

16 
	~<°döt.h
>

18 
	~"u¨t-io.h
"

19 
	~"m•.h
"

20 
	#DEBUG
 1

	)

21 
	#UART_WAIT
 100

	)

25 
	gMSP
::
	$MSP
() {

27 
u¨tDev
 = 
	`°¨t_m•
("/dev/ttyUSB0");

30 
	}
}

32 
	gMSP
::~
	$MSP
() {

33 
	`°›_m•
(
u¨tDev
);

34 
	}
}

36 
	gMSP
::
	$£n£
(
ch™√l
) {

37 
tmp
;

38 
	`Ârötf
(
°dout
,"C™Æ %d\n",
ch™√l
);

39 
tmp
 = 
	`£n£_adc
(
ch™√l
, 
u¨tDev
);

41  
tmp
;

42 
	}
}

43 
	gMSP
::
	$gúo
() {

44 
tmp
;

45 
tmp
 = 
	`£n£_gúo
(
u¨tDev
);

46  
tmp
;

47 
	}
}

48 
	gMSP
::
	$ícodî
(
ch™√l
) {

49 
tmp
;

51  
tmp
;

52 
	}
}

53 
	gMSP
::
	$move_v
(
vd
,
vi
)

55 
	`£t_M_À·_v
(
vd
,
u¨tDev
);

56 
	`Ârötf
(
°dout
," - ");

57 
	`£t_M_right_v
(
vi
,
u¨tDev
);

58 
	`Ârötf
(
°dout
,"\n ");

60 
	}
}

61 
	gMSP
::
	$move_ã°
(
vd
,
vi
)

63 if–
vd
 =
vi
){

64 i‡(
vd
 >= 0)

65 
	`£t_f
(
vd
,
u¨tDev
);

67 
	`£t_b
(
vd
,
u¨tDev
);

70 
	`£t_ml
(
vd
,
u¨tDev
);

71 
	`£t_mr
(
vi
,
u¨tDev
);

73 
	}
}

74 
	gMSP
::
	$move_Ãn
(
_•ìd_≥r˚¡
, 
_movemít
){

76 i‡(
_movemít
 == 9)

77 
	`£t_f
(
_•ìd_≥r˚¡
,
u¨tDev
);

78 if(
_movemít
 == 1)

79 
	`£t_r
(
_•ìd_≥r˚¡
,
u¨tDev
);

80 if(
_movemít
 == 2)

81 
	`£t_l
(
_•ìd_≥r˚¡
,
u¨tDev
);

82 if(
_movemít
 == 3)

83 
	`£t_b
(
_•ìd_≥r˚¡
,
u¨tDev
);

85 
	}
}

87 
	gMSP
::
	$move
(
•ìd
, 
°ìrög
) {

89 
•ìd
-=0.5;

94 
°ìrög
-=0.5;

96 
°ìrög
/=-1.0;

98 if(
°ìrög
>0) {

99 
	`£t_M_À·
 (0.5+(
•ìd
-
°ìrög
), 
u¨tDev
);

100 
	`£t_M_right
 (0.5+(
•ìd
), 
u¨tDev
);

102 
	`£t_M_À·
 (0.5+(
•ìd
), 
u¨tDev
);

103 
	`£t_M_right
 (0.5+(
•ìd
+
°ìrög
), 
u¨tDev
);

111 
	}
}

	@processors/executive/msp.h

1 
	#LEFT
 0

	)

2 
	#RIGHT
 1

	)

3 
	~"drivîSîül.h
"

5 ˛as†
	cMSP
 : 
DrivîSîül
 {

6 
¥iv©e
:

7 
u¨tDev
;

8 
	mpublic
:

10 
MSP
();

12 
	mvútuÆ
 ~
MSP
();

14 
vútuÆ
 
£n£
(
ch™√l
);

15 
vútuÆ
 
ícodî
(
ch™√l
);

16 
vútuÆ
 
gúo
();

17 
vútuÆ
 
move
(
•ìd
, 
°ìrög
);

18 
vútuÆ
 
move_Ãn
(
_•ìd_≥r˚¡
, 
_movemít
);

19 
vútuÆ
 
move_v
(
vd
, 
vi
);

20 
vútuÆ
 
move_ã°
(
vd
,
vi
);

	@processors/executive/robostix.cpp

15 
	~<time.h
>

16 
	~"i2c-io_löus.h
"

17 
	~"robo°ix.h
"

23 
	gRobo°ix
::
	$Robo°ix
() {

24 
i2cDev
 = 
	`°¨t_robo°ix
("/dev/i2c-0");

25 
	}
}

27 
	gRobo°ix
::~
	$Robo°ix
() {

28 
	`°›_robo°ix
(
i2cDev
);

29 
	}
}

31 
	gRobo°ix
::
	$£n£
(
ch™√l
) {

32 
tmp
;

33 
tmp
 = 
	`£n£_adc
 (
ch™√l
, 
i2cDev
);

35  
tmp
;

36 
	}
}

38 
	gRobo°ix
::
	$ícodî
(
ch™√l
) {

39 
tmp
;

40 
tmp
 = 
	`£n£_c
 (
ch™√l
, 
i2cDev
);

42  
tmp
;

43 
	}
}

44 
	gRobo°ix
::
	$move_v
(
vd
, 
vi
)

47 
	}
}

48 
	gRobo°ix
::
	$move
(
•ìd
, 
°ìrög
) {

49 
•ìd
-=0.5;

51 
•ìd
/=4.0;

53 
°ìrög
-=0.5;

54 
°ìrög
/=-2.0;

55 if(
°ìrög
>0) {

56 
	`£t_M_À·
 (0.5+(
•ìd
-
°ìrög
), 
i2cDev
);

57 
	`£t_M_right
 (0.5+(
•ìd
), 
i2cDev
);

59 
	`£t_M_À·
 (0.5+(
•ìd
), 
i2cDev
);

60 
	`£t_M_right
 (0.5+(
•ìd
+
°ìrög
), 
i2cDev
);

68 
	}
}

70 
	gRobo°ix
::
	$gúo
() {

71 
	}
}

	@processors/executive/robostix.h

1 
	#LEFT
 0

	)

2 
	#RIGHT
 1

	)

3 
	~"drivîSîül.h
"

5 ˛as†
	cRobo°ix
 : 
DrivîSîül


7 
¥iv©e
:

8 
i2cDev
;

9 
	mpublic
:

11 
Robo°ix
();

13 
	mvútuÆ
 ~
Robo°ix
();

15 
vútuÆ
 
£n£
(
ch™√l
);

16 
vútuÆ
 
ícodî
(
ch™√l
);

17 
vútuÆ
 
gúo
();

18 
vútuÆ
 
move
(
•ìd
, 
°ìrög
);

19 
vútuÆ
 
move_v
(
vd
, 
vi
);

	@processors/executive/svn-version.h

5 
	#SVN_REVISION
 0

	)

	@processors/executive/uart-io.cpp

26 
	~<°dio.h
>

27 
	~<°dlib.h
>

28 
	~<gë›t.h
>

29 
	~<f˙é.h
>

30 
	~<î∫o.h
>

31 
	~<°rög.h
>

32 
	~<sig«l.h
>

33 
	~<uni°d.h
>

34 
	~<sys/timeb.h
>

35 
	~<ãrmios.h
>

36 
	~<ªgex.h
>

37 
	~<sys/ty≥s.h
>

38 
	~<°döt.h
>

41 
	~"Log.h
"

42 
	~"svn-vîsi⁄.h
"

44 
	~<io°ªam
>

46 
	#UART_WAIT
 100

	)

47 
	#LEDM_WAIT
 100000

	)

49 
usög
 
«me•a˚
 
	g°d
;

57 
	mOPT_MEM_DEFAULT
 = 0,

62 
	mOPT_BASE_DECIMAL
 = 'd',

63 
	mOPT_BASE_HEX
 = 'x',

67 
	mOPT_FIRST_LONG_OPT
 = 0x80,

69 
	mOPT_VERSION
,

71 
	mOPT_HELP
,

75 
	mCMD_DEFAULT
,

76 
	mCMD_INFO
,

77 
	mCMD_GET
,

78 
	mCMD_SET
,

79 
	mCMD_GET_DIR
,

80 
	mCMD_SET_DIR
,

81 
	mCMD_READ_REG
,

82 
	mCMD_WRITE_REG
,

83 
	mCMD_WHEEL_L
,

84 
	mCMD_WHEEL_R
,

85 
	mCMD_GET_DIST
,

86 
	mCMD_GET_GIRO
,

89 
	scmdm≠
 {

90 
	mcmd
;

91 c⁄° *
	mcmdSå
;

92 
ªgex_t
 
	mª
;

94 } 
	ggCmdM≠
[] = {

95 { 
CMD_INFO
, "Info"},

96 { 
CMD_GET
, "Get"},

97 { 
CMD_SET
, "Set"},

98 { 
CMD_GET_DIR
, "GetDir"},

99 { 
CMD_SET_DIR
, "SetDir"},

100 { 
CMD_READ_REG
, "ReadReg"},

101 { 
CMD_WRITE_REG
, "WriteReg"},

102 { 
CMD_READ_REG
, "rr"},

103 { 
CMD_WRITE_REG
, "wr"},

104 { 
CMD_WHEEL_L
, "WheelLeft"},

105 { 
CMD_WHEEL_R
, "WheelRight"},

106 { 
CMD_GET_DIST
, "dist"},

107 { 
CMD_GET_GIRO
, "giro"},

110 
	ggNumCmds
 =  ( 
gCmdM≠
) /  ( gCmdMap[ 0 ]);

112 
	#REG_IO8
–
«me
, 
off£t
 ) {Çame, 0, off£à+ 0x20 }

	)

113 
	#REG_IO16
–
«me
, 
off£t
 ) {Çame, 1, off£à+ 0x20 }

	)

114 
	#REG_MEM8
–
«me
, 
off£t
 ) {Çame, 0, off£à}

	)

115 
	#REG_MEM16
–
«me
, 
off£t
 ) {Çame, 1, off£à}

	)

120 c⁄° *
	mªgSå
;

121 
uöt8_t
 
	mis16Bô
;

122 
uöt8_t
 
	mªg
;

124 } 
	tRegM≠_t
;

127 
uöt16_t
 
	msig«tuª
;

128 
uöt16_t
 
	mnumRegs
;

129 
RegM≠_t
 *
	mªgM≠
;

131 } 
	tRegs_t
;

132 
	#ARRAY_LEN
–
x
 ) ( –x ) / –x[0] ))

	)

139 
	ggI2cAddr
 = -1;

141 c⁄° *
	ggCmdSå
;

142 
	ggCmd
 = 
CMD_DEFAULT
;

143 
ªgex_t
 
	ggCmdRExp
;

144 c⁄° *
	ggP‹tPöSå
 = 
NULL
;

145 c⁄° *
	ggVÆSå
 = 
NULL
;

146 c⁄° *
	ggRegSå
 = 
NULL
;

149 
›ti⁄
 
	ggO±i⁄
[] = {

150 { "decimÆ", 
no_¨gumít
, 
NULL
, 
OPT_BASE_DECIMAL
},

151 { "hex", 
no_¨gumít
, 
NULL
, 
OPT_BASE_HEX
},

152 { "vîsi⁄", 
no_¨gumít
, 
NULL
, 
OPT_VERSION
},

153 { "vîbo£", 
no_¨gumít
, &
gVîbo£
, 1},

154 { "debug", 
no_¨gumít
, &
gDebug
, 1},

155 { "hñp", 
no_¨gumít
, 
NULL
, 
OPT_HELP
},

156 { 
NULL
}

159 
	#TRUE
 1

	)

160 
	#FALSE
 0

	)

163 
	mNoADC
,

164 
	mAŒowADC
,

166 } 
	tAŒowADC_t
;

168 
	#ADC_PORT
 8

	)

186 
GëFromMSP
(* 
ªc
, 
Àn
, 
u¨tDev
);

189 
uöt16_t
 
u¨t
(c⁄° * 
gCmdSå
, c⁄° * 
gVÆ
, 
u¨tDev
);

193 
£t_M_À·
(
gVÆ
, 
u¨tDev
);

194 
£t_M_right
(
gVÆ
, 
u¨tDev
);

196 
£n£_adc
(
ch™√l
, 
u¨tDev
);

198 
°¨t_m•
(c⁄° *
u¨tDevName
);

199 
°›_m•
(
u¨tDev
);

206 
ãrmios
 
	gu¨tO±i⁄sBkp
;

208 
	#BAUDRATE
 
B9600


	)

210 
	$°¨t_m•
(c⁄° *
u¨tDevName
) {

211 
u¨tDev
;

212 
ãrmios
 
u¨tO±i⁄s
;

213 
cmdIdx
;

214 
	`LogInô
(
°dout
);

218 i‡((
u¨tDev
 = 
	`›í
(
u¨tDevName
, 
O_RDWR
 | 
O_NOCTTY
 | 
O_NDELAY
)) < 0) {

219 
	`LogEº‹
("Eº‹ o≥nög '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

220 
	`exô
(1);

222 i‡(
	`tcgë©å
(
u¨tDev
, &
u¨tO±i⁄s
) == -1) {

223 
	`LogEº‹
("C™'àgëáâribuã†‰om '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

224 
	`exô
(1);

226 
u¨tO±i⁄sBkp
 = 
u¨tO±i⁄s
;

229 i‡(
	`cf£ti•ìd
(&
u¨tO±i⁄s
, 
BAUDRATE
) == -1) {

230 
	`LogEº‹
("U«bÀÅÿ£àöput-baudøã f‹ '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

231 
	`exô
(1);

233 i‡(
	`cf£to•ìd
(&
u¨tO±i⁄s
, 
BAUDRATE
) == -1) {

234 
	`LogEº‹
("U«bÀÅÿ£àouçut-baudøã f‹ '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

235 
	`exô
(1);

239 
u¨tO±i⁄s
.
c_cÊag
 &~(
CSIZE
 | 
PARENB
 | 
CSTOPB
);

240 
u¨tO±i⁄s
.
c_cÊag
 |(
CS8
 | 
CREAD
 | 
CLOCAL
);

242 
u¨tO±i⁄s
.
c_cÊag
 &~(
CRTSCTS
);

243 
u¨tO±i⁄s
.
c_lÊag
 &~(
ICANON
 | 
ECHO
 | 
ECHOE
 | 
ISIG
);

244 
u¨tO±i⁄s
.
c_lÊag
 |(
FLUSHO
);

245 
u¨tO±i⁄s
.
c_iÊag
 &~(
IXON
 | 
IXOFF
 | 
IXANY
 | 
INPCK
 | 
ISTRIP
);

246 
u¨tO±i⁄s
.
c_iÊag
 |(
IGNBRK
);

247 
u¨tO±i⁄s
.
c_oÊag
 &~(
OPOST
);

248 
u¨tO±i⁄s
.
c_cc
[
VMIN
] = 1;

249 
u¨tO±i⁄s
.
c_cc
[
VTIME
] = 0;

252 i‡(
u¨tO±i⁄s
.
c_lÊag
 & (
ICANON
 | 
ECHO
 | 
ECHOE
 | 
ISIG
)) {

253 
	`LogEº‹
("U«bÀÅÿ£àãrmöÆmodêf‹ '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

254 
	`exô
(1);

257 i‡(
u¨tO±i⁄s
.
c_iÊag
 & (
IXON
 | 
IXOFF
 | 
IXANY
 | 
INPCK
 | 
ISTRIP
)) {

258 
	`LogEº‹
("U«bÀÅÿ£àãrmöÆmodêf‹ '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

259 
	`exô
(1);

262 i‡(
	`tcÊush
(
u¨tDev
, 
TCIOFLUSH
) == -1) {

263 
	`LogEº‹
("U«bÀÅÿÊush d©®‰om '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

264 
	`exô
(1);

267 i‡(
	`tcÊow
(
u¨tDev
, 
TCOON
) == -1) {

268 
	`LogEº‹
("U«bÀÅÿÊush d©®‰om '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

269 
	`exô
(1);

273 i‡(
	`tc£èâr
(
u¨tDev
, 
TCSANOW
, &
u¨tO±i⁄s
) == -1) {

274 
	`LogEº‹
("U«bÀÅÿ£à©åibuã†f‹ '%s': %s\n", 
u¨tDevName
, 
	`°ªº‹
(
î∫o
));

275 
	`exô
(1);

279 
°©us
;

280 
cmdIdx
 = 0; cmdIdx < 
gNumCmds
; cmdIdx++) {

281 
gCmdM≠
[ 
cmdIdx
 ].
cmd
) {

282 
CMD_GET_GIRO
:

283 i‡((
°©us
 = 
	`ªgcomp
(&(
gCmdM≠
[ 
cmdIdx
 ].
ª
), ".*\\|g\\|>([0-9]{1,4})<.*", 
REG_EXTENDED
)) != 0) {

284 
	`¥ötf
("ERROR:REGEXP:%d\n", 
°©us
);

287 
CMD_GET_DIST
:

288 i‡((
°©us
 = 
	`ªgcomp
(&(
gCmdM≠
[ 
cmdIdx
 ].
ª
), ".*\\|ADC([0-9])\\|>([0-9]{1,4})<.*", 
REG_EXTENDED
)) != 0) {

289 
	`¥ötf
("ERROR:REGEXP:%d\n", 
°©us
);

295  
u¨tDev
;

296 
	}
}

298 
	$°›_m•
(
u¨tDev
) {

299 i‡(
	`tc£èâr
(
u¨tDev
, 
TCSANOW
, &
u¨tO±i⁄sBkp
) == -1) {

300 
	`LogEº‹
("U«bÀÅÿª°‹ê©åibuã†f‹ '%s': %s\n", 
u¨tDev
, 
	`°ªº‹
(
î∫o
));

301 
	`exô
(1);

303 
	`˛o£
(
u¨tDev
);

304 
	}
}

315 
	$£n£_adc
(
ch™√l
, 
u¨tDev
) {

317 
tmp
[10];

318 
d©a
 = 0;

319 
tmp_ªtu∫
 = -1;

320 
d©a2
 = 0;

321 
i
;

322 
medici⁄
[40];

323 
medici⁄_max
;

324 
numMed
 = 3;

326 
	`•rötf
(
tmp
, "%d", 
ch™√l
 - 1);

328 
i
 = 0; i < 
numMed
; i++) {

330 
d©a
 +
	`u¨t
("di°", 
tmp
, 
u¨tDev
);

332 
	`u¶ìp
(1000);

335 
d©a2
 = (Ë
d©a
 / (Ë
numMed
;

337 
medici⁄
[4] = 560;

338 
medici⁄
[5] = 475;

339 
medici⁄
[6] = 422;

340 
medici⁄
[7] = 362;

341 
medici⁄
[8] = 320;

342 
medici⁄
[9] = 290;

343 
medici⁄
[10] = 262;

344 
medici⁄
[11] = 240;

345 
medici⁄
[12] = 220;

346 
medici⁄
[13] = 205;

347 
medici⁄
[14] = 190;

348 
medici⁄
[15] = 175;

349 
medici⁄
[16] = 165;

350 
medici⁄
[17] = 157;

351 
medici⁄
[18] = 147;

352 
medici⁄
[19] = 142;

353 
medici⁄
[20] = 135;

354 
medici⁄
[21] = 128;

355 
medici⁄
[22] = 122;

356 
medici⁄
[23] = 117;

357 
medici⁄
[24] = 110;

358 
medici⁄
[25] = 104;

359 
medici⁄
[26] = 100;

360 
medici⁄
[27] = 96;

361 
medici⁄
[28] = 92;

362 
medici⁄
[29] = 90;

363 
medici⁄
[30] = 87;

364 
medici⁄
[31] = 84;

365 
medici⁄
[32] = 82;

366 
medici⁄
[33] = 80;

367 
medici⁄
[34] = 78;

368 
medici⁄
[35] = 76;

369 
medici⁄
[36] = 74;

370 
medici⁄
[37] = 72;

371 
medici⁄
[38] = 70;

372 
medici⁄
[39] = 68;

373 
medici⁄
[40] = 60;

374 
medici⁄_max
 = 40;

376 i‡(
d©a2
 > 
medici⁄
[4]) {

377 
tmp_ªtu∫
 = 0.0;

379 
i
 = 5; i < 
medici⁄_max
; i++)

380 i‡(
d©a2
 > 
medici⁄
[
i
]) {

381 
tmp_ªtu∫
 = (Ë(
i
 + (Ë(
d©a2
 - 
medici⁄
[i - 1]) / () (medicion[i] - medicion[i - 1]));

385 i‡(
tmp_ªtu∫
 =-1Ëtmp_ªtu∫ = (Ë
medici⁄_max
;

388 i‡(
tmp_ªtu∫
 == 0.0)Åmp_return = 4.0;

390 
tmp_ªtu∫
 -= 4.0;

391 
tmp_ªtu∫
 /(Ë
medici⁄_max
 - 4.0;

392  
tmp_ªtu∫
;

393 
	}
}

395 
	$£n£_gúo
(
u¨tDev
) {

396 
ªtvÆ
 = 0;

397 
d©a
 = 0;

398 
numMed
 = 3;

399 
i
 = 0;

401 
i
 = 0; i < 
numMed
; i++) {

402 
d©a
 +
	`u¨t
("gúo", "", 
u¨tDev
);

403 
	`u¶ìp
(
UART_WAIT
);

406 
ªtvÆ
 = 
d©a
 / 
numMed
;

407 
ªtvÆ
 = (25 / 12) *Ñetval + 400;

408 
ªtvÆ
 /= 1000;

409 
ªtvÆ
 = ((retval - 0.5) / (4))*(300) - 150;

410 
ªtvÆ
 =Ñetval + 9;

412  
ªtvÆ
;

413 
	}
}

415 
	$£t_M_À·
(
gVÆ
, 
u¨tDev
) {

416 
gVÆSå
[5];

418 
gVÆ
 -= 0.5;

419 
gVÆ
 *= 200;

421 
	`•rötf
(
gVÆSå
, "%d", (Ë
gVÆ
);

423 
	`u¨t
("WhìlLe·", 
gVÆSå
, 
u¨tDev
);

424 
	`u¶ìp
(
UART_WAIT
);

425 
	}
}

427 
	$£t_M_right
(
gVÆ
, 
u¨tDev
) {

428 
gVÆSå
[5];

430 
gVÆ
 -= 0.5;

431 
gVÆ
 *= 200;

433 
	`•rötf
(
gVÆSå
, "%d", (Ë
gVÆ
);

435 
	`u¨t
("WhìlRight", 
gVÆSå
, 
u¨tDev
);

436 
	`u¶ìp
(
UART_WAIT
);

437 
	}
}

439 
	$£t_M_À·_v
(
gVÆ
, 
u¨tDev
) {

440 
gVÆSå
[5];

441 
	`•rötf
(
gVÆSå
, "%d", (Ë
gVÆ
);

443 
	`u¨t
("WhìlLe·", 
gVÆSå
, 
u¨tDev
);

444 
	`u¶ìp
(
UART_WAIT
);

445 
	}
}

447 
	$£t_M_right_v
(
gVÆ
, 
u¨tDev
) {

448 
gVÆSå
[5];

449 
	`•rötf
(
gVÆSå
, "%d", (Ë
gVÆ
);

451 
	`u¨t
("WhìlRight", 
gVÆSå
, 
u¨tDev
);

452 
	`u¶ìp
(
UART_WAIT
);

453 
	}
}

455 
	$£t_ml
(
gVÆ
, 
u¨tDev
) {

456 
TxSå
[30];

457 
	`•rötf
(
TxSå
, "mov m»%d\n", ()
gVÆ
);

458 
	`Ârötf
(
°dout
, "%s", 
TxSå
);

459 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

460 
	`u¶ìp
(
UART_WAIT
);

461 
	}
}

463 
	$£t_mr
(
gVÆ
, 
u¨tDev
) {

464 
TxSå
[30];

466 
	`•rötf
(
TxSå
, "mov m∏%d\n", ()
gVÆ
);

467 
	`Ârötf
(
°dout
, "%s", 
TxSå
);

468 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

469 
	`u¶ìp
(
UART_WAIT
);

471 
	}
}

472 
	$£t_l
(
gVÆ
, 
u¨tDev
) {

473 
TxSå
[30];

475 
	`•rötf
(
TxSå
, "movÜ %d\n", ()
gVÆ
);

476 
	`Ârötf
(
°dout
, "%s", 
TxSå
);

477 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

478 
	`u¶ìp
(
UART_WAIT
);

479 
	}
}

481 
	$£t_r
(
gVÆ
, 
u¨tDev
) {

482 
TxSå
[30];

484 
	`•rötf
(
TxSå
, "movÑ %d\n", ()
gVÆ
);

485 
	`Ârötf
(
°dout
, "%s", 
TxSå
);

486 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

487 
	`u¶ìp
(
UART_WAIT
);

489 
	}
}

490 
	$£t_f
(
gVÆ
, 
u¨tDev
) {

491 
TxSå
[30];

492 
	`•rötf
(
TxSå
, "mov f %d\n", (Ë
gVÆ
);

493 
	`Ârötf
(
°dout
, "%s", 
TxSå
);

494 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

495 
	`u¶ìp
(
UART_WAIT
);

496 
	}
}

497 
	$£t_b
(
gVÆ
, 
u¨tDev
) {

498 
TxSå
[30];

500 
	`•rötf
(
TxSå
, "mov b %d\n", ()
gVÆ
);

501 
	`Ârötf
(
°dout
, "%s", 
TxSå
);

502 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

503 
	`u¶ìp
(
UART_WAIT
);

504 
	}
}

518 
uöt16_t
 
	$u¨t
(c⁄° * 
gCmdSå
, c⁄° * 
gVÆ
, 
u¨tDev
) {

519 
cmdIdx
;

520 
gVÆSå
[20] = "0";

521 
TxSå
[30];

523 
	`•rötf
(
gVÆSå
, "%s", 
gVÆ
);

529 
cmdIdx
 = 0; cmdIdx < 
gNumCmds
; cmdIdx++) {

530 i‡(
	`°rˇ£cmp
(
gCmdSå
, 
gCmdM≠
[ 
cmdIdx
 ].
cmdSå
) == 0) {

531 
gCmd
 = 
gCmdM≠
[ 
cmdIdx
 ].
cmd
;

532 
gCmdRExp
 = 
gCmdM≠
[ 
cmdIdx
 ].
ª
;

536 i‡(
gCmd
 =
CMD_DEFAULT
) {

537 
	`LogEº‹
("Uƒecognized comm™d '%s'\n", 
gCmdSå
);

538 
	`exô
(1);

594 
gCmd
) {

596 
CMD_INFO
:

602 
CMD_GET
:

608 
CMD_SET
:

614 
CMD_GET_DIR
:

620 
CMD_SET_DIR
:

626 
CMD_READ_REG
:

632 
CMD_WRITE_REG
:

637 
CMD_WHEEL_L
:

640 
	`wrôe
(
u¨tDev
, "ledm 1\n", 7);

641 
	`u¶ìp
(
LEDM_WAIT
);

643 
	`•rötf
(
TxSå
, "mov m»%s\n", 
gVÆ
);

644 
	`Ârötf
(
°dout
, "%s\n", 
TxSå
);

645 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

646 
	`u¶ìp
(
UART_WAIT
);

648 
	`wrôe
(
u¨tDev
, "ledm 2\n", 7);

649 
	`u¶ìp
(
LEDM_WAIT
);

652 
CMD_WHEEL_R
:

654 
	`wrôe
(
u¨tDev
, "ledm 1\n", 7);

655 
	`u¶ìp
(
LEDM_WAIT
);

658 
	`•rötf
(
TxSå
, "mov m∏%s\n", 
gVÆ
);

659 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

660 
	`Ârötf
(
°dout
, "%s\n", 
TxSå
);

661 
	`u¶ìp
(
UART_WAIT
);

663 
	`wrôe
(
u¨tDev
, "ledm 2\n", 7);

664 
	`u¶ìp
(
LEDM_WAIT
);

667 
CMD_GET_DIST
:

669 
ªc
[16];

670 *
ªt
;

671 
	`•rötf
(
TxSå
, "m %s\n", 
gVÆ
);

672 
buf
[256];

673 
ªtvÆ
;

674 
size_t
 
nm©ch
 = 3;

675 
ªgm©ch_t
 
pm©ch
[
nm©ch
];

676 
ch™√lOut
 = 
	`©oi
(
gVÆ
);

677 
ch™√lIn
;

681 
i
 = 0; i < 13; i++) {

682 
ªc
[
i
] = 0;

684 i‡(
	`tcÊush
(
u¨tDev
, 
TCIOFLUSH
) == -1) {

685 
	`LogEº‹
("U«bÀÅÿÊush d©®‰om '%s': %s\n", 
u¨tDev
, 
	`°ªº‹
(
î∫o
));

686 
	`exô
(1);

689 
	`u¶ìp
(
LEDM_WAIT
);

691 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

692 
	`u¶ìp
(
UART_WAIT
);

695 
	`u¶ìp
(
LEDM_WAIT
);

696 
	`GëFromMSP
(
ªc
, 13, 
u¨tDev
);

698 } 
ªc
[0] !'|' || 
	`°æí
(rec) < 5);

704 
ªtvÆ
 = 
	`ªgexec
(&
gCmdRExp
, 
ªc
, 
nm©ch
, 
pm©ch
, 0);

706 
ªt
 = 
ªc
;

707 
ªt
 =Ñë + 
pm©ch
[1].
rm_so
;

708 *(
ªt
 + 
pm©ch
[1].
rm_eo
 -Öm©ch[1].
rm_so
) = '\0';

709 
ch™√lIn
 = 
	`©oi
(
ªt
);

710 } 
ªtvÆ
 !0 || 
ch™√lIn
 !
ch™√lOut
);

711 
ªt
 = 
ªc
;

712 
ªt
 =Ñë + 
pm©ch
[2].
rm_so
;

713 *(
ªt
 + 
pm©ch
[2].
rm_eo
 -Öm©ch[2].
rm_so
) = '\0';

714  
	`©oi
(
ªt
);

717 
CMD_GET_GIRO
:

719 
ªc
[10];

720 *
ªt
;

721 
	`•rötf
(
TxSå
, "giro ");

722 
size_t
 
nm©ch
 = 2;

723 
ªgm©ch_t
 
pm©ch
[
nm©ch
];

725 i‡(
	`tcÊush
(
u¨tDev
, 
TCIOFLUSH
) == -1) {

726 
	`LogEº‹
("U«bÀÅÿÊush d©®‰om '%s': %s\n", 
u¨tDev
, 
	`°ªº‹
(
î∫o
));

727 
	`exô
(1);

729 
	`wrôe
(
u¨tDev
, "led 1 1\n", 8);

730 
	`u¶ìp
(
UART_WAIT
);

731 
	`wrôe
(
u¨tDev
, 
TxSå
, 
	`°æí
(TxStr));

732 
	`u¶ìp
(
UART_WAIT
);

733 
	`wrôe
(
u¨tDev
, "led 1 0\n", 8);

734 
	`u¶ìp
(
UART_WAIT
);

735 
	`GëFromMSP
(
ªc
, 10, 
u¨tDev
);

736 } 
	`ªgexec
(&
gCmdRExp
, 
ªc
, 
nm©ch
, 
pm©ch
, 0) != 0);

737 
ªt
 = 
ªc
;

738 
ªt
 =Ñë + 
pm©ch
[1].
rm_so
;

739 *(
ªt
 + 
pm©ch
[1].
rm_eo
 -Öm©ch[1].
rm_so
) = '\0';

740  
	`©oi
(
ªt
);

747 
	}
}

755 
	$GëFromMSP
(* 
ªc
, 
Àn
, 
u¨tDev
) {

756 
i
 = 0;

757 
fd_£t
 
rfds
;

758 
timevÆ
 
tv
;

759 
tv
.
tv_£c
 = 5;

760 
tv
.
tv_u£c
 = 0;

761 
	`FD_ZERO
(&
rfds
);

762 
	`FD_SET
(
u¨tDev
, &
rfds
);

763 
i
 = 0; i < 
Àn
; i++) {

764 i‡(
	`£À˘
(
u¨tDev
 + 1, &
rfds
, 
NULL
, NULL, &
tv
) > 0) {

765 
	`ªad
(
u¨tDev
, &(
ªc
[
i
]), 1);

766 i‡(
ªc
[
i
] == '\n') {

770 
	`LogEº‹
("UnableÅoÑead from uart\n");

805 
	}
}

	@processors/executive/uart-io.h

2 
	~<io°ªam
>

3 
	~<°rög
>

4 
	~<s°ªam
>

5 
	~<°dlib.h
>

6 
	~<°dio.h
>

7 
usög
 
«me•a˚
 
	g°d
;

10 
£t_M_À·
 (
gVÆ
, 
u¨tDev
);

11 
£t_M_right
 (
gVÆ
, 
u¨tDev
);

12 
£t_M_À·_v
 (
gVÆ
, 
u¨tDev
);

13 
£t_M_right_v
 (
gVÆ
, 
u¨tDev
);

14 
£t_ml
(
gVÆ
, 
u¨tDev
);

15 
£t_mr
(
gVÆ
, 
u¨tDev
);

16 
£t_l
(
gVÆ
, 
u¨tDev
);

17 
£t_r
(
gVÆ
, 
u¨tDev
);

18 
£t_f
(
gVÆ
, 
u¨tDev
);

19 
£t_b
(
gVÆ
, 
u¨tDev
);

21 
£n£_adc
 (
ch™√l
, 
u¨tDev
);

22 
£n£_gúo
 (
u¨tDev
);

23 
£n£_c
 (
ch™√l
, 
u¨tDev
);

24 
°¨t_m•
(c⁄° *
u¨tDevName
);

25 
°›_m•
(
u¨tDev
);

	@processors/featureNavigator/cameraComm.cpp

15 
	~"ˇmîaComm.h
"

18 
	gˇmîaComm
::
	$ˇmîaComm
()

21 
ãrmios
 
©å
;

22 
¥zî
=0;

24 
fd_£t
 
ªad£t
;

25 
siga˘i⁄
 
ßio
;

27 i‡(–
fd
 = 
	`›í
–
MODEMDEVICE
, 
O_RDWR
 | 
O_EXCL
 )) < 0 )

29 
	`≥º‹
(
MODEMDEVICE
);

30 
	`exô
(-1);

33 
	`tcgë©å
–
fd
, &
©å
 );

35 
©å
.
c_iÊag
 = 0;

36 
©å
.
c_oÊag
 = 0;

37 
©å
.
c_cÊag
 = 
CLOCAL
 | 
CREAD
 | 
CS8
;

38 
©å
.
c_lÊag
 = 0;

39 
©å
.
c_cc
[ 
VTIME
 ] = 0;

40 
©å
.
c_cc
[ 
VMIN
 ] = 0;

42 
	`cf£ti•ìd
–&
©å
, 
BAUDRATE
 );

43 
	`cf£to•ìd
–&
©å
, 
BAUDRATE
 );

45 
	`tc£èâr
–
fd
, 
TCSAFLUSH
, &
©å
 );

49 
	`£tbuf
–
°dö
, 
NULL
 );

50 
	`£tbuf
–
°dout
, 
NULL
 );

57 
ãrmios
 
tio
;

59 
	`tcgë©å
–
	`fûío
–
°dö
 ), &
tio
 );

62 
tio
.
c_lÊag
 &~–
ICANON
 | 
ECHO
 );

63 
tio
.
c_cc
[
VTIME
] = 0;

64 
tio
.
c_cc
[
VMIN
] = 1;

66 
	`tc£èâr
–
	`fûío
–
°dö
 ), 
TCSANOW
, &
tio
 );

69 
ßio
.
ß_h™dÀr
 = 
sig«l_h™dÀr_IO
;

70 
	`sigem±y£t
(&
ßio
.
ß_mask
);

71 
ßio
.
ß_Êags
 = 0;

72 
ßio
.
ß_Êags
 = 
SA_NODEFER
;

73 
ßio
.
ß_ª°‹î
 = 
NULL
;

74 
	`siga˘i⁄
(
SIGIO
,&
ßio
,
NULL
);

77 
	`f˙é
(
fd
, 
F_SETOWN
, 
	`gëpid
());

78 
	`f˙é
(
fd
, 
F_SETFL
, 
FASYNC
);

80 
	`tcgë©å
(
fd
,&
ﬁdtio
);

81 
	}
}

84 
	gˇmîaComm
::~
	$ˇmîaComm
()

88 
	`˛o£
–
fd
 );

89 
	}
}

91 
	gˇmîaComm
::
	$cWrôe
 (
quîy
, 
pos
)

95 
cmd
[10];

96 
	`cRód
(
NONE
);

98  
quîy
 )

101 
STC
 :

102 
	`wrôe
–
fd
, "stc\n", 4);

105 
ITF
 :

106 
	`wrôe
–
fd
, "itf\n", 4);

109 
SSP
 :

110 
	`•rötf
(
cmd
,"s• %d\n",
pos
);

111 
	`wrôe
–
fd
, 
cmd
, 
	`°æí
(cmd));

114 
RTI
 :

115 
	`wrôe
–
fd
, "rti\n", 4);

118 
NET
 :

119 
	`wrôe
–
fd
, "net\n", 4);

122 
ESC
 :

123 
	`wrôe
–
fd
, "esc\n", 4);

127 
	}
}

129 
	gˇmîaComm
::
	$cRód
 (
quîy
)

131 
buf
[255];

132 
™swî
[50];

134 
i
=0, 
j
=0, 
imax
=0;

135 
ªs
 = 
	`ªad
(
fd
,
buf
,1);

136 
buf
[
ªs
]=0;

137 
™swî
[
i
] = 
buf
[0];

139 i‡(
ªs
!=1)

147 
	`¶ìp
(1);

149 
ªs
)

153 
i
++;

154 
ªs
 = 
	`ªad
(
fd
,
buf
,1);

155 
buf
[
ªs
]=0;

156 
™swî
[
i
] = 
buf
[0];

162 
imax
=
i
-2;

164 i‡–
quîy
 =
ITF
 || quîy =
RTI
)

166 
	`ssˇnf
(
™swî
,"%d:%d:%d",&
vÆue
[0],&value[1],&value[2]);

169 i‡–
quîy
 =
NET
 )

171 
vÆue
[0] = 
	`ch¨2öt
(
™swî
[0]);

175 
	}
}

177 
	gˇmîaComm
::
	$ch¨2öt
 (
c
)

179  
c
 )

205 
	}
}

207 
	gˇmîaComm
::
	$gëVÆue
 (
i
)

209  
vÆue
[
i
-1];

210 
	}
}

212 
	gˇmîaComm
::
	$gëS≥ed
()

214  
•ìd
;

215 
	}
}

217 
	gˇmîaComm
::
	$gëSãîög
 ()

219  
°ìrög
;

220 
	}
}

222 
	gˇmîaComm
::
	$gëRecognizedFótuª
 ()

224  
ªcognizedFótuª
;

225 
	}
}

227 
	gˇmîaComm
::
	$gëFótuªCﬁ‹
 ()

229  
„©uªCﬁ‹
;

230 
	}
}

232 
	gˇmîaComm
::
	$°©eFun˘i⁄
(
a˘uÆSèã
)

234 
√xtSèã
 = 0;

235 
i
 =0;

236 
r
;

238 
a˘uÆSèã
)

241 
	`¥ötf
("CAMERA : Sending STC\n");

242 
	`cWrôe
(
STC
);

243 
ˇmîaPosôi⁄
 = 134;

244 
numAsk
 = 
MAX_NUM_ASK
;

245 
√xtSèã
 = 2;

249 
	`¥ötf
("CAMERA : IsÅhereá Feature?... ");

250 
	`u¶ìp
 (500000);

251 
r
=
	`cRód
(
ITF
);

252 
	`cWrôe
(
ITF
);

254 
r
 = 1;

256 
r
 =1 && 
i
 < 5)

258 
	`u¶ìp
 (500000);

259 
r
=
	`cRód
(
ITF
);

260 
i
++;

263 i‡(
r
 != 1)

265 i‡(
vÆue
[0] == 0)

267 
	`¥ötf
("No");

268 i‡(
numAsk
 < 
MAX_NUM_ASK
)

270 
numAsk
++;;

271 
√xtSèã
 = 2;

272 
	`u¶ìp
(1000000);

273 
	`¥ötf
("–%d/15)", 
numAsk
);

276 
√xtSèã
 = 3;

278 
	`¥ötf
("\n");

280 i‡(
vÆue
[0]==1)

282 
	`¥ötf
("Yes\n");

283 
√xtSèã
 = 4;

288 
	`¥ötf
("CAMERA : Noánswer from CMUcam\n");

289 
√xtSèã
 = 1;

295 
√xtSèã
 = 2;

301 
numAsk
 = 0;

302 i‡(
vÆue
[1] >= 82 && value[1] <= 92)

304 
	`¥ötf
("CAMERA : I†„©uª i†öÅhêh‹iz⁄è»øngê(82 - 92)? Ye†(%d)\n", 
vÆue
[1]);

305 
√xtSèã
 = 6;

309 
	`¥ötf
("CAMERA : I†„©uª i†öÅhêh‹iz⁄è»øngê(82 - 92)? Nÿ(%d)\n", 
vÆue
[1]);

310 
√xtSèã
 = 5;

316 
•ìd
 = 0.5;

317 i‡(
vÆue
[1] > 92)

319 i‡(
ˇmîaPosôi⁄
 < 50)

320 
°ìrög
 = 0.55;

322 
°ìrög
 = 0.6;

323 
	`¥ötf
("CAMERA : Tu∫ögÅÿthêrighà(°ìrög=%f)\n", 
°ìrög
);

326 i‡(
vÆue
[1] < 82)

328 i‡(
ˇmîaPosôi⁄
 < 50)

329 
°ìrög
 = 0.43;

331 
°ìrög
 = 0.4;

332 
	`¥ötf
("CAMERA : Tu∫ögÅÿthêÀ· (°ìrög=%f)\n", 
°ìrög
);

336 
√xtSèã
 = 2;

342 i‡(
vÆue
[2] >= 138 && value[2] <= 148)

344 
	`¥ötf
("CAMERA : I†thê„©uª i¿thêvîtiˇ»øngê(138 - 148): Ye†(%d)\n", 
vÆue
[2]);

345 
√xtSèã
 = 8;

349 
	`¥ötf
("CAMERA : I†thê„©uª i¿thêvîtiˇ»øngê(138 - 148): Nÿ(%d)\n", 
vÆue
[2]);

350 
√xtSèã
 = 7;

356 
√wCamîaPosôi⁄
;

357 
√wCamîaPosôi⁄
 = 
ˇmîaPosôi⁄
 + ()(0.3*()(143-
vÆue
[2]));

358 i‡(
√wCamîaPosôi⁄
 < 15)

360 
√wCamîaPosôi⁄
 = 0;

362 i‡(
√wCamîaPosôi⁄
 > 134)

364 
√wCamîaPosôi⁄
 = 134;

367 i‡(
√wCamîaPosôi⁄
 < 
ˇmîaPosôi⁄
 + 20 &&ÇewCameraPosition > cameraPosition - 20 &&ÇewCameraPosition != 0 )

369 
	`¥ötf
("CAMERA : CMUˇm i†ö o±imÆÖosôi⁄: %d\n", 
ˇmîaPosôi⁄
);

370 
√xtSèã
 = 8;

374 
	`¥ötf
("CAMERA : CMUˇm i†nŸ i¿›timÆÖosôi⁄: %d\n", 
ˇmîaPosôi⁄
);

375 
ˇmîaPosôi⁄
 = 
√wCamîaPosôi⁄
;

376 
√xtSèã
 = 9;

383 
•ìd
 = 0.6 + 0.5*(()
ˇmîaPosôi⁄
/134);

384 i‡(
•ìd
 > 0.8)

385 
•ìd
 = 0.8;

386 
°ìrög
 = 0.5;

387 
	`¥ötf
("CAMERA : Movög f‹w¨d: s≥ed = %f\n", 
•ìd
);

389 
√xtSèã
 = 2;

394 
	`¥ötf
("CAMERA : SëtögÇew camî®posôi⁄: %d. \n", 
ˇmîaPosôi⁄
);

395 
	`cWrôe
(
SSP
,
ˇmîaPosôi⁄
);

397 i‡(
ˇmîaPosôi⁄
 == 0)

399 
numAsk
 = 0;

400 
√xtSèã
 = 10;

403 
√xtSèã
 = 2;

408 
	`¥ötf
("CAMERA : IsÅhe cameraÑeadyÅo identifyÅhe feature?\n");

409 
	`cWrôe
(
ITF
);

411 
r
 = 
	`cRód
(
ITF
);

412 
r
 =1 && 
i
 < 3)

414 
	`u¶ìp
 (500000);

415 
r
=
	`cRód
(
ITF
);

416 
i
++;

419 i‡(
r
 != 1)

421 i‡(
vÆue
[0] == 0)

423 
	`¥ötf
("\tNo\n");

424 
√xtSèã
 = 2;

426 i‡(
vÆue
[0]==1)

428 
	`¥ötf
("\t(%d,%dË", 
vÆue
[1], value[2]);

429 
√xtSèã
 = 11;

433 
	`u¶ìp
(1000000);

435 
	`cWrôe
(
RTI
);

437 
r
 = 1;

438 
r
 =1 && 
i
 < 6)

440 
	`u¶ìp
 (500000);

441 
r
=
	`cRód
(
RTI
);

442 
i
++;

445 i‡(
r
 != 1)

447 i‡(
vÆue
[0] == 0)

449 
	`¥ötf
("\tNo\n");

450 i‡(
numAsk
 < 
MAX_NUM_ASK
)

452 
numAsk
++;;

453 
√xtSèã
 = 10;

454 
	`¥ötf
("numAsk = %d", 
numAsk
);

457 
√xtSèã
 = 2;

459 i‡(
vÆue
[0]==1)

461 
	`¥ötf
("\tYes\n");

462 
√xtSèã
 = 11;

467 
	`¥ötf
("CAMERA : Noánswer from CMUcam\n");

468 
√xtSèã
 = 1;

474 
	`cWrôe
(
NET
);

476 
r
 = 
	`cRód
(
NET
);

477 
r
 =1 && 
i
 < 3)

479 
	`u¶ìp
 (500000);

480 
r
=
	`cRód
(
NET
);

481 
i
++;

484 i‡(
r
 != 1)

487 
ªcognizedFótuª
 = 
vÆue
[0];

488 
„©uªCﬁ‹
 = 
RED
;

489 
	`¥ötf
("CAMERA : Fótuª found: %d\n",
ªcognizedFótuª
);

490 
√xtSèã
 = 1;

491 
numAsk
 = 
MAX_NUM_ASK
;

494 
	`u¶ìp
 (500000);

498  
√xtSèã
;

499 
	}
}

501 
	$sig«l_h™dÀr_IO
 (
°©us
)

521 
	}
}

	@processors/featureNavigator/cameraComm.h

15 #i‚de‡
_IRMA2_FNAV_CAMERACOMM_H_


16 
	#_IRMA2_FNAV_CAMERACOMM_H_


	)

18 
	~<ãrmios.h
>

19 
	~<°dio.h
>

20 
	~<°dlib.h
>

21 
	~<uni°d.h
>

22 
	~<f˙é.h
>

23 
	~<io°ªam
>

24 
	~<sys/sig«l.h
>

25 
	~<queue
>

28 
	#BAUDRATE
 
B115200


	)

29 
	#MODEMDEVICE
 "/dev/âyS2"

	)

30 
	#_POSIX_SOURCE
 1

	)

31 
	#O_BINARY
 0x8000

	)

32 
	#FALSE
 0

	)

33 
	#TRUE
 1

	)

34 
	#STC
 1

	)

35 
	#ITF
 2

	)

36 
	#SSP
 3

	)

37 
	#RTI
 4

	)

38 
	#NET
 5

	)

39 
	#ESC
 6

	)

40 
	#NONE
 7

	)

42 
	#MAX_NUM_ASK
 15

	)

44 
	#RED
 0

	)

45 
	#BLUE
 1

	)

46 
	#GREEN
 2

	)

50 ˛as†
	cˇmîaComm


52 
	m¥iv©e
:

54 
ãrmios
 
ﬁdtio
,
	m√wtio
;

55 
	mfd
, 
	mªs
;

56 
ch¨2öt
 ();

57 
	mvÆue
[3];

58 
	mˇmîaPosôi⁄
, 
	mªcognizedFótuª
, 
	m„©uªCﬁ‹
;

59 
	mnumAsk
;

60 
	m°ìrög
, 
	m•ìd
;

62 
	mpublic
:

64 
ˇmîaComm
();

66 ~
ˇmîaComm
();

68 
°©eFun˘i⁄
();

69 
cWrôe
 (, = 0);

70 
cRód
 ();

71 
gëVÆue
 ();

72 
gëS≥ed
 ();

73 
gëSãîög
 ();

74 
gëRecognizedFótuª
 ();

75 
gëFótuªCﬁ‹
();

78 
sig«l_h™dÀr_IO
 ();

	@processors/featureNavigator/database.cpp

15 
	~"d©aba£.h
"

19 
	gd©aba£
::
	$d©aba£
()

21 
i
;

22 
i
=0;i<
numbîOfTabÀs
;i++)

23 
èbÀAºay
[
i
] = 
NULL
;

25 
u£dTabÀs
 = 0;

26 
	}
}

28 
	gd©aba£
::~
	$d©aba£
()

30 
i
;

31 
i
=0;i<
numbîOfTabÀs
;i++)

32 i‡(
èbÀAºay
[
i
] !
NULL
)

34 
dñëe
 
èbÀAºay
[
i
];

35 
èbÀAºay
[
i
] = 
NULL
;

38 
	}
}

40 
	gd©aba£
::
	$¸óãTabÀ
(* 
èbÀName
)

42 i‡(
u£dTabÀs
 < 
numbîOfTabÀs
 && 
	`£¨chTabÀ
(
èbÀName
Ë=
nŸFound
)

44 
èbÀAºay
[
u£dTabÀs
] = 
√w
 
	`èbÀ
(
èbÀName
);

45 
u£dTabÀs
++;

46  (
u£dTabÀs
-1);

49 
	}
}

51 
boﬁ
 
	gd©aba£
::
	$dñëeLa°TabÀ
()

53 i‡(
u£dTabÀs
 > 0)

55 
dñëe
 
èbÀAºay
[
u£dTabÀs
];

56 
u£dTabÀs
--;

57  
åue
;

59  
Ál£
;

60 
	}
}

62 
boﬁ
 
	gd©aba£
::
	$addCﬁumn
(
èbÀIndex
, * 
cName
, 
cTy≥
, 
boﬁ
 
cNŸNuŒ
)

64 i‡(
èbÀIndex
 < 0 ||ÅabÀIndex > 
numbîOfTabÀs
 -1)

65  
nŸFound
;

66 i‡(
èbÀAºay
[
èbÀIndex
] =
NULL
)

67  
nŸFound
;

69 if(!
èbÀAºay
[
èbÀIndex
]->
	`¸óãCﬁumn
(
cName
, 
cTy≥
, 
cNŸNuŒ
))

70  
Ál£
;

72  
åue
;

73 
	}
}

75 
boﬁ
 
	gd©aba£
::
	$addFótuª
(
èbÀIndex
, 
„©uª
 * 
√wFótuª
)

77 i‡(
èbÀIndex
 < 0 ||ÅabÀIndex > 
numbîOfTabÀs
 -1)

78  
nŸFound
;

79 i‡(
èbÀAºay
[
èbÀIndex
] =
NULL
)

80  
nŸFound
;

82 if(!
èbÀAºay
[
èbÀIndex
]->
	`¸óãFótuª
(
√wFótuª
))

83  
Ál£
;

85  
åue
;

86 
	}
}

88 
	gd©aba£
::
	$gëNumbîOfCﬁumns
(
èbÀIndex
)

90 i‡(
èbÀIndex
 < 0 ||ÅabÀIndex > 
numbîOfTabÀs
 -1)

91  
nŸFound
;

92 i‡(
èbÀAºay
[
èbÀIndex
] =
NULL
)

93  
nŸFound
;

95  
èbÀAºay
[
èbÀIndex
]->
	`gëU£dCﬁumns
();

96 
	}
}

98 
	gd©aba£
::
	$gëNumbîOfFótuªs
(
èbÀIndex
)

100 i‡(
èbÀIndex
 < 0 ||ÅabÀIndex > 
numbîOfTabÀs
 -1)

101  
nŸFound
;

102 i‡(
èbÀAºay
[
èbÀIndex
] =
NULL
)

103  
nŸFound
;

105  
èbÀAºay
[
èbÀIndex
]->
	`gëU£dFótuªs
();

106 
	}
}

108 
	gd©aba£
::
	$£¨chTabÀ
(* 
èbÀName
)

110 
i
;

111 
i
=0;i<
numbîOfTabÀs
;i++)

112 i‡(
èbÀAºay
[
i
] !
NULL
)

113 if(
	`°rcmp
(
èbÀAºay
[
i
]->
	`gëName
(),
èbÀName
) == 0)

114  
i
;

115  
nŸFound
;

116 
	}
}

119 
	gd©aba£
::
	$£¨chCﬁumn
 (
èbÀIndex
, * 
cﬁumnName
)

121 i‡(
èbÀIndex
 >
u£dTabÀs
)

122  
nŸFound
;

124  
èbÀAºay
[
èbÀIndex
]->
	`gëCﬁumnIndex
(
cﬁumnName
);

125 
	}
}

127 
	gd©aba£
::
	$gëCﬁumnTy≥
 (
èbÀIndex
, 
cﬁumnIndex
)

129 i‡(
èbÀIndex
 < 0 ||ÅabÀIndex > 
numbîOfTabÀs
 -1)

130  
nŸFound
;

131 i‡(
èbÀAºay
[
èbÀIndex
] =
NULL
)

132  
nŸFound
;

134  
èbÀAºay
[
èbÀIndex
]->
	`gëCﬁumnTy≥
(
cﬁumnIndex
);

135 
	}
}

137 * 
	gd©aba£
::
	$gëCﬁumnName
 (
èbÀIndex
, 
cﬁumnIndex
)

139 i‡(
èbÀIndex
 < 0 ||ÅabÀIndex > 
numbîOfTabÀs
 -1)

140  
NULL
;

141 i‡(
èbÀAºay
[
èbÀIndex
] =
NULL
)

142  
NULL
;

144  
èbÀAºay
[
èbÀIndex
]->
	`gëCﬁumnName
(
cﬁumnIndex
);

145 
	}
}

147 
„©uª
 
	gd©aba£
::
	$gëFótuª
(
èbÀIndex
, 
„©uªIndex
)

149 
„©uª
 
îr‹Fótuª
;

150 
îr‹Fótuª
.
goodFótuª
 = 
Ál£
;

152 i‡(
èbÀIndex
 < 0 ||ÅabÀIndex > 
numbîOfTabÀs
 -1)

153  
îr‹Fótuª
;

154 i‡(
èbÀAºay
[
èbÀIndex
] =
NULL
)

155  
îr‹Fótuª
;

157  
èbÀAºay
[
èbÀIndex
]->
	`gëFótuª
(
„©uªIndex
);

158 
	}
}

160 
boﬁ
 * 
	gd©aba£
::
	$sim∂eSñe˘
(
èbÀIndex
, 
cﬁumnIndex
, 
vÆueSåu˘
 
vÆue
, 
›
)

162 i‡(
èbÀIndex
 < 0 ||ÅabÀIndex > 
numbîOfTabÀs
 -1)

163  
NULL
;

164 i‡(
èbÀAºay
[
èbÀIndex
] =
NULL
)

165  
NULL
;

167  
èbÀAºay
[
èbÀIndex
]->
	`sim∂eSñe˘
(
cﬁumnIndex
, 
›
, 
vÆue
);

168 
	}
}

171 
	gèbÀ
::
	$èbÀ
(* 
èbÀName
)

173 
i
;

175 
«me
 = 
√w
 [
	`°æí
(
èbÀName
)+1];

176 
	`°r˝y
(
«me
, 
èbÀName
);

177 
u£dCﬁumns
 = 0;

178 
u£dFótuªs
 = 0;

180 
i
=0;i<
numbîOfCﬁumns
;i++)

181 
cﬁumnAºay
[
i
] = 
NULL
;

183 
i
=0;i<
numbîOfFótuªs
;i++)

184 
„©uªAºay
[
i
] = 
NULL
;

185 
	}
}

187 
	gèbÀ
::~
	$èbÀ
()

189 
i
;

191 
i
=0;i<
numbîOfCﬁumns
;i++)

192 i‡(
cﬁumnAºay
[
i
] !
NULL
)

194 
dñëe
 
cﬁumnAºay
[
i
];

195 
cﬁumnAºay
[
i
] = 
NULL
;

198 
i
=0;i<
numbîOfFótuªs
;i++)

199 i‡(
„©uªAºay
[
i
] !
NULL
)

201 
dñëe
 
„©uªAºay
[
i
];

202 
„©uªAºay
[
i
] = 
NULL
;

205 
	}
}

207 * 
	gèbÀ
::
	$gëName
()

209  
«me
;

210 
	}
}

212 
	gèbÀ
::
	$gëU£dCﬁumns
()

214  
u£dCﬁumns
;

215 
	}
}

217 
	gèbÀ
::
	$gëU£dFótuªs
()

219  
u£dFótuªs
;

220 
	}
}

222 
boﬁ
 
	gèbÀ
::
	$¸óãCﬁumn
(* 
cName
, 
cTy≥
, 
boﬁ
 
cNŸNuŒ
)

224 i‡(
u£dCﬁumns
 < 
numbîOfCﬁumns
 && 
	`gëCﬁumnIndex
(
cName
Ë=
nŸFound
)

226 
cﬁumnAºay
[
u£dCﬁumns
] = 
√w
 
	`cﬁumn
(
cName
, 
cTy≥
, 
cNŸNuŒ
);

227 
u£dCﬁumns
++;

228  
åue
;

230  
Ál£
;

231 
	}
}

233 
boﬁ
 
	gèbÀ
::
	$¸óãFótuª
(
„©uª
 * 
√wFótuª
)

235 i‡(
u£dFótuªs
 < 
numbîOfFótuªs
)

237 
„©uªAºay
[
u£dFótuªs
] = 
√wFótuª
;

238 
u£dFótuªs
++;

239  
åue
;

241  
Ál£
;

242 
	}
}

244 
	gèbÀ
::
	$gëCﬁumnIndex
(* 
cﬁumnName
)

246 
i
;

247 
i
=0;i<
numbîOfCﬁumns
;i++)

248 i‡(
cﬁumnAºay
[
i
] !
NULL
)

249 if(
	`°rcmp
(
cﬁumnAºay
[
i
]->
	`gëName
(),
cﬁumnName
) == 0)

250  
i
;

251  
nŸFound
;

252 
	}
}

254 
	gèbÀ
::
	$gëCﬁumnTy≥
 (
cﬁumnIndex
)

256 i‡(
cﬁumnIndex
 < 0 || cﬁumnIndex > 
numbîOfCﬁumns
 -1)

257  
nŸFound
;

258 i‡(
cﬁumnAºay
[
cﬁumnIndex
] =
NULL
)

259  
nŸFound
;

261  
cﬁumnAºay
[
cﬁumnIndex
]->
	`gëTy≥
();

262 
	}
}

264 * 
	gèbÀ
::
	$gëCﬁumnName
 (
cﬁumnIndex
)

266 i‡(
cﬁumnIndex
 < 0 || cﬁumnIndex > 
numbîOfCﬁumns
 -1)

267  
NULL
;

268 i‡(
cﬁumnAºay
[
cﬁumnIndex
] =
NULL
)

269  
NULL
;

271  
cﬁumnAºay
[
cﬁumnIndex
]->
	`gëName
();

272 
	}
}

274 
„©uª
 
	gèbÀ
::
	$gëFótuª
 (
„©uªIndex
)

276 
„©uª
 
îr‹Fótuª
;

277 
îr‹Fótuª
.
goodFótuª
 = 
Ál£
;

279 i‡(
„©uªIndex
 < 0 || fótuªIndex > 
numbîOfFótuªs
 -1)

280  
îr‹Fótuª
;

282  *
„©uªAºay
[
„©uªIndex
];

283 
	}
}

285 
„©uª
 
gëFótuª
 (
„©uªIndex
);

287 
boﬁ
 * 
	gèbÀ
::
	$sim∂eSñe˘
(
cﬁumnIndex
, 
›
, 
vÆueSåu˘
 
vÆue
)

290 i‡(
cﬁumnIndex
 < 0 || cﬁumnIndex > 
numbîOfCﬁumns
 -1)

291  
NULL
;

292 i‡(
cﬁumnAºay
[
cﬁumnIndex
] =
NULL
)

293  
NULL
;

295 
cﬁumnTy≥
 = 
cﬁumnAºay
[
cﬁumnIndex
]->
	`gëTy≥
();

296 i‡(
vÆue
.
ty≥
 !
cﬁumnTy≥
)

297  
NULL
;

299 
boﬁ
 * 
ouçut
 = 
√w
 boﬁ[
u£dFótuªs
];

300 
›
)

302 
›_equÆ
:

303 i‡(
cﬁumnTy≥
 =
v_öt
)

305 
i
=0; i<
u£dFótuªs
; i++)

307 i‡(
„©uªAºay
[
i
]->
vÆueAºay
[
cﬁumnIndex
].
ty≥
 =
v_öt
)

308 
ouçut
[
i
] = (
„©uªAºay
[i]->
vÆueAºay
[
cﬁumnIndex
].
ivÆ
 =
vÆue
.ival);

309 i‡(
„©uªAºay
[
i
]->
vÆueAºay
[
cﬁumnIndex
].
ty≥
 =
v_nŸDeföed
)

310 
ouçut
[
i
] = 0;

312  
NULL
;

315 i‡(
cﬁumnTy≥
 =
v_ch¨
)

317 
i
=0; i<
u£dFótuªs
; i++)

319 i‡(
„©uªAºay
[
i
]->
vÆueAºay
[
cﬁumnIndex
].
ty≥
 =
v_ch¨
)

320 
ouçut
[
i
] = (
	`°rcmp
(
„©uªAºay
[i]->
vÆueAºay
[
cﬁumnIndex
].
svÆ
, 
vÆue
.sval) == 0);

321 i‡(
„©uªAºay
[
i
]->
vÆueAºay
[
cﬁumnIndex
].
ty≥
 =
v_nŸDeföed
)

322 
ouçut
[
i
] = 0;

324  
NULL
;

328  
NULL
;

332 
›_nŸEquÆ
:

333 i‡(
cﬁumnTy≥
 =
v_öt
)

335 
i
=0; i<
u£dFótuªs
; i++)

337 i‡(
„©uªAºay
[
i
]->
vÆueAºay
[
cﬁumnIndex
].
ty≥
 =
v_öt
)

338 
ouçut
[
i
] = (
„©uªAºay
[i]->
vÆueAºay
[
cﬁumnIndex
].
ivÆ
 !
vÆue
.ival);

339 i‡(
„©uªAºay
[
i
]->
vÆueAºay
[
cﬁumnIndex
].
ty≥
 =
v_nŸDeföed
)

340 
ouçut
[
i
] = 0;

342  
NULL
;

345 i‡(
cﬁumnTy≥
 =
v_ch¨
)

347 
i
=0; i<
u£dFótuªs
; i++)

349 i‡(
„©uªAºay
[
i
]->
vÆueAºay
[
cﬁumnIndex
].
ty≥
 =
v_ch¨
)

350 
ouçut
[
i
] = (
	`°rcmp
(
„©uªAºay
[i]->
vÆueAºay
[
cﬁumnIndex
].
svÆ
, 
vÆue
.sval) != 0);

351 i‡(
„©uªAºay
[
i
]->
vÆueAºay
[
cﬁumnIndex
].
ty≥
 =
v_nŸDeföed
)

352 
ouçut
[
i
] = 0;

354  
NULL
;

358  
NULL
;

363  
ouçut
;

364 
	}
}

366 
	gcﬁumn
::
	$cﬁumn
(* 
cName
, 
cTy≥
, 
boﬁ
 
cNŸNuŒ
)

368 
«me
 = 
√w
 [
	`°æí
(
cName
)+1];

369 
	`°r˝y
(
«me
, 
cName
);

370 
ty≥
 = 
cTy≥
;

371 
nŸNuŒ
 = 
cNŸNuŒ
;

372 
	}
}

374 
	gcﬁumn
::~
	$cﬁumn
()

376 
	}
}

378 * 
cﬁumn
::
	$gëName
()

380  
«me
;

381 
	}
}

383 
	gcﬁumn
::
	$gëTy≥
()

385  
ty≥
;

386 
	}
}

390 
	g„©uª
::
	$„©uª
()

392 
i
;

394 
goodFótuª
 = 
åue
;

396 
i
=0;i<
numbîOfCﬁumns
;i++)

398 
vÆueAºay
[
i
].
ty≥
 = 
v_nŸDeföed
;

401 
	}
}

403 
	g„©uª
::~
	$„©uª
()

416 
	}
}

	@processors/featureNavigator/database.h

15 #i‚de‡
_DATABASE_H


16 
	#_DATABASE_H


	)

18 
	~<°dio.h
>

19 
	~<°rög.h
>

22 
	#numbîOfTabÀs
 3

	)

23 
	#numbîOfCﬁumns
 7

	)

24 
	#numbîOfFótuªs
 20

	)

26 
	#maxTabÀNameLígth
 30

	)

28 
	#nŸFound
 -1

	)

31 
	#v_nŸDeföed
 0

	)

32 
	#v_öt
 1

	)

33 
	#v_ch¨
 2

	)

36 
	#›_equÆ
 5

	)

37 
	#›_nŸEquÆ
 8

	)

42 
	svÆueMﬁd


44 
	mty≥
;

47 * 
	msvÆ
;

48 
	mivÆ
;

50 }
	tvÆueSåu˘
, *
	tpVÆueSåu˘
;

52 ˛as†
	c„©uª


54 
	m¥iv©e
:

57 
public
:

59 
„©uª
();

61 ~
„©uª
();

63 
vÆueSåu˘
 
	mvÆueAºay
[
numbîOfCﬁumns
];

64 
boﬁ
 
	mgoodFótuª
;

67 ˛as†
	ccﬁumn


69 
	m¥iv©e
:

71 * 
«me
;

72 
	mty≥
;

73 
boﬁ
 
	mnŸNuŒ
;

75 
	mpublic
:

77 
cﬁumn
(*, , 
boﬁ
);

79 ~
cﬁumn
();

81 * 
gëName
();

82 
gëTy≥
();

85 ˛as†
	cèbÀ


87 
	m¥iv©e
:

89 * 
«me
;

90 
cﬁumn
* 
	mcﬁumnAºay
[
numbîOfCﬁumns
];

91 
„©uª
* 
	m„©uªAºay
[
numbîOfFótuªs
];

92 
	mu£dCﬁumns
;

93 
	mu£dFótuªs
;

95 
	mpublic
:

97 
èbÀ
(*);

99 ~
èbÀ
();

101 * 
gëName
();

102 
gëU£dCﬁumns
();

103 
gëU£dFótuªs
();

104 
boﬁ
 
¸óãCﬁumn
(*, , bool);

105 
boﬁ
 
¸óãFótuª
(
„©uª
 * 
√wFótuª
);

106 
gëCﬁumnIndex
(*);

107 
gëCﬁumnTy≥
 (
cﬁumnIndex
);

108 * 
gëCﬁumnName
 (
cﬁumnIndex
);

109 
„©uª
 
gëFótuª
 (
„©uªIndex
);

110 
boﬁ
 * 
sim∂eSñe˘
(
cﬁumnIndex
, 
›
, 
vÆueSåu˘
 
vÆue
);

114 ˛as†
	cd©aba£


116 
	m¥iv©e
:

118 
èbÀ
* 
èbÀAºay
 [
numbîOfTabÀs
];

119 
	mu£dTabÀs
;

121 
	mpublic
:

123 
d©aba£
();

125 ~
d©aba£
();

128 
¸óãTabÀ
(*);

129 
boﬁ
 
dñëeLa°TabÀ
();

130 
boﬁ
 
addCﬁumn
(
èbÀIndex
, *, , bool);

131 
boﬁ
 
addFótuª
(
èbÀIndex
, 
„©uª
 * 
√wFótuª
);

132 
gëNumbîOfCﬁumns
(
èbÀIndex
);

133 
gëNumbîOfFótuªs
(
èbÀIndex
);

134 
£¨chTabÀ
 (*);

135 
£¨chCﬁumn
 (
èbÀIndex
, * 
cﬁumnName
);

136 
gëCﬁumnTy≥
 (
èbÀIndex
, 
cﬁumnIndex
);

137 * 
gëCﬁumnName
 (
èbÀIndex
, 
cﬁumnIndex
);

138 
„©uª
 
gëFótuª
 (
èbÀIndex
, 
„©uªIndex
);

139 
boﬁ
 * 
sim∂eSñe˘
(
èbÀIndex
, 
cﬁumnIndex
, 
vÆueSåu˘
 
vÆue
, 
›
);

	@processors/featureNavigator/featureNavigator.cpp

26 
	~"„©uªNavig©‹.h
"

30 
	gFNPro˚ss‹
::
	$öô
()

33 
pFótuªNav
 = (
FótuªNavD©a
 *)
cda
.
	`gëMemPå
(
FEATURE_NAV_AREA
);

34 
pExecutive
 = (
ExecutiveD©a
 *)
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

35 
pM⁄ô‹
 = (
M⁄ô‹D©a
 *)
cda
.
	`gëMemPå
(
MONITOR_AREA
);

36 
pM≠≥r
 = (
M≠≥rD©a
 *Ë
cda
.
	`gëMemPå
(
MAPPER_AREA
);

38 
pCål
 = &(
pFótuªNav
->
˘æ
);

39 
£m_¨ó
 = 
FEATURE_NAV_AREA
;

40 
pCål
->
lo›
 = 
run_cmd
;

42 
i
, 
j
,
a˘iv
;

43 ** 
ˇãg‹õs
;

46 
cda
.
	`lockAªa
(
MAPPER_AREA
);

47 
a˘iv
 = 
pM≠≥r
->
a˘iveNodes
;

48 
m≠_wight
 = 
pM≠≥r
->
room_width
;

49 
m≠_height
 = 
pM≠≥r
->
room_height
;

50 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

52 
ˇãg‹õs
 = 
√w
 * [
a˘iv
];

53 
i
=0;i<
a˘iv
;i++)

54 
ˇãg‹õs
[
i
] = 
√w
 [4];

56 
cda
.
	`lockAªa
(
MAPPER_AREA
);

57 
i
=0;i<
a˘iv
;i++)

58 
j
=0;j<4;j++)

59 
ˇãg‹õs
[
i
][
j
] = 
pM≠≥r
->categories[i][j];

60 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

62 
√ighb‹hood
.
	`£t
(
m≠_wight
, 
m≠_height
, 
a˘iv
, 
ˇãg‹õs
);

65 
„©uª_num
 = 0;

71 
C⁄figFûe
 
	`c⁄fig
( "config/featureNavigator.conf" );

73 
°rög
 
deÁu…_missi⁄_fûe
 = "missions";

75 
c⁄fig
.
	`ªadI¡o
–
›_mode
, "op_mode", 0 );

76 
c⁄fig
.
	`ªadI¡o
–
missi⁄_fûe
, "missi⁄_fûe", 
deÁu…_missi⁄_fûe
);

79 i‡(
›_mode
 =
DO_NOTHING
 )

80 
	`¥ötf
("Feature Navigator: Sleeping\n");

81 i‡(
›_mode
 =
RECOGNITION
)

82 
	`¥ötf
("Feature Navigator: Recognition Mode\n");

83 i‡(
›_mode
 = 
MISSION
)

85 
	`¥ötf
("Feature Navigator: Mission Mode\n");

87 
mFûe
 = 
	`f›í
 (
missi⁄_fûe
.
	`c_°r
(),"r");

88 i‡(
mFûe
!=
NULL
)

90 
	`¥ötf
("MISSION : Mission File opened\n");

91 
	`f£ek
(
mFûe
, 0, 
SEEK_SET
);

95 
	`¥ötf
("MISSION : Error by openingÅhe Mission File (mission)\n");

96 
no_m‹e_missi⁄s
 = 
åue
;

101 i‡(
›_mode
 !
DO_NOTHING
)

104 i‡(
I2GIS
.
	`checkPªviousDB
())

107 
™s
;

108 
™s
 = 
I2GIS
.
	`comm™d
("SELECT x,y from features");

109 i‡(
™s
 != -1)

111 
vÆueSåu˘
 ** 
¥eviousXY
;

112 
r
,
c
;

118 
¥eviousXY
 = 
I2GIS
.
	`gëSñe˘Answî
(&
r
,&
c
);

122 
i
=0;i<
r
;i++)

124 
√ighb‹hood
.
	`√wPoöt
(
¥eviousXY
[
i
][0].
ivÆ
,previousXY[i][1].ival);

125 
„©uª_num
++;

126 
dñëe
 [] 
¥eviousXY
[
i
];

129 
	`¥ötf
("%d fótuª†wîêlﬂded.\n",
„©uª_num
);

131 
dñëe
 [] 
¥eviousXY
;

138 
I2GIS
.
	`comm™d
("CREATE TABLE features ( feature_id INT, x INT, y INT,Çeighborhood INT, form INT, color INT)");

141 
no_m‹e_missi⁄s
 = 
Ál£
;

142 
°©e
 = 1;

144 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

145 
pFótuªNav
->
‚_move_ªady_Êag
 = 
Ál£
;

146 
pFótuªNav
->
‚_move_a˘ive_Êag
 = 
Ál£
;

147 
pFótuªNav
->
‚_rouã_obsﬁëe_Êag
 = 
Ál£
;

149 
pFótuªNav
->
‚_„©uª_li°_ªady_Êag
 = 
Ál£
;

150 
pFótuªNav
->
‚_nFótuªs
 = 0;

152 
pFótuªNav
->
‚_missi⁄_obsﬁëe_Êag
 = 
åue
;

154 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

158 
	}
}

160 
	gFNPro˚ss‹
::
	$˛ónup
()

163 
	}
}

165 
	gFNPro˚ss‹
::
	$°ï
()

167 
	`ªadFœgs
();

169 if(
›_mode
 =
DO_NOTHING
)

170 
	`u¶ìp
(100000);

171 i‡(
›_mode
 =
RECOGNITION
)

172 
	`doRecognôi⁄
();

173 i‡(
›_mode
 =
MISSION
)

174 
	`doMissi⁄s
();

177 
	`u¶ìp
(1000);

180 
	}
}

182 
	gFNPro˚ss‹
::
	$ªadFœgs
()

184 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

186 
loˇl_move_ªady_Êag
 = 
pFótuªNav
->
‚_move_ªady_Êag
;

187 
loˇl_move_a˘ive_Êag
 = 
pFótuªNav
->
‚_move_a˘ive_Êag
;

188 
loˇl_rouã_obsﬁëe_Êag
 = 
pFótuªNav
->
‚_rouã_obsﬁëe_Êag
;

189 
loˇl_„©uª_li°_ªady_Êag
 = 
pFótuªNav
->
‚_„©uª_li°_ªady_Êag
;

190 
loˇl_missi⁄_obsﬁëe_Êag
 = 
pFótuªNav
->
‚_missi⁄_obsﬁëe_Êag
;

192 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

193 
	}
}

195 
	gFNPro˚ss‹
::
	$doRecognôi⁄
()

199 
ﬁdSèã
;

201 
boﬁ
 
CLR_isNŸF‹˚d
;

203 
cda
.
	`lockAªa
(
MONITOR_AREA
);

204 
CLR_isNŸF‹˚d
 = 
pM⁄ô‹
-> 
m⁄ô‹_hy°îesis
;

205 
cda
.
	`u∆ockAªa
(
MONITOR_AREA
);

209 i‡(
loˇl_rouã_obsﬁëe_Êag
 =
åue
)

211 i‡(
°©e
 != 1)

213 
cmuCam
.
	`cWrôe
(
ESC
);

214 
°©e
 = 1;

217 i‡(
loˇl_move_ªady_Êag
 =
åue
)

219 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

220 
pFótuªNav
->
‚_move_ªady_Êag
 = 
Ál£
;

221 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

224 i‡(
loˇl_move_a˘ive_Êag
=
åue
)

226 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

227 
pFótuªNav
->
‚_move_a˘ive_Êag
 = 
Ál£
;

228 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

233 i‡(
CLR_isNŸF‹˚d
)

235 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

236 
pFótuªNav
->
‚_rouã_obsﬁëe_Êag
 = 
Ál£
;

237 
pFótuªNav
->
‚_move_ªady_Êag
 = 
Ál£
;

238 
pFótuªNav
->
‚_move_a˘ive_Êag
 = 
Ál£
;

239 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

246 i‡(
loˇl_move_ªady_Êag
 =
Ál£
 && 
loˇl_rouã_obsﬁëe_Êag
 == false)

248 
boﬁ
 
go
 =
åue
;

251 
go
)

254 
ﬁdSèã
 = 
°©e
;

255 
°©e
 = 
cmuCam
.
	`°©eFun˘i⁄
(
ﬁdSèã
);

258 i‡(
°©e
 == 2)

260 
go
 = 
Ál£
;

261 i‡(
ﬁdSèã
 == 1 || oldState == 3)

262 
„©uªChecked
 = 
Ál£
;

265 i‡(
°©e
 =3 && 
loˇl_move_a˘ive_Êag
 =
åue
)

268 
loˇl_move_a˘ive_Êag
 =
Ál£
;

270 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

271 
pFótuªNav
->
‚_move_a˘ive_Êag
 = 
Ál£
;

272 
pFótuªNav
->
‚_move_ªady_Êag
 = 
Ál£
;

273 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

275 
go
 = 
Ál£
;

279 i‡(
°©e
 =4 && 
loˇl_move_a˘ive_Êag
 =
Ál£
)

281 i‡(!
„©uªChecked
)

283 
„©uªIsInDB
 = 
	`isFótuªAÃódyInDB
();

284 
„©uªChecked
 = 
åue
;

285 i‡(
„©uªIsInDB
)

287 
	`¥ötf
("Feature isálready in Database\n");

291 
	`¥ötf
("New Feature Found\n");

297 if(!
„©uªIsInDB
)

299 
loˇl_move_a˘ive_Êag
 = 
åue
;

301 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

302 
pFótuªNav
->
‚_move_a˘ive_Êag
 = 
åue
;

303 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

307 
°©e
 = 3;

312 i‡(
ﬁdSèã
 == 5 || oldState == 8)

315 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

316 
pFótuªNav
->
‚_move_ªady_Êag
 = 
åue
;

317 
pFótuªNav
->
‚_rouã_obsﬁëe_Êag
 = 
Ál£
;

318 
pFótuªNav
->
‚_•ìd
 = 
cmuCam
.
	`gëS≥ed
();

319 
pFótuªNav
->
‚_°ìrög
 = 
cmuCam
.
	`gëSãîög
();

320 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

322 
go
 = 
Ál£
;

325 i‡(
ﬁdSèã
 == 11)

330 
r_posX
, 
r_posY
, 
r_‹i
, 
r_nh
;

331 c⁄° 
PI
 = 3.14159265;

334 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

335 
r_posX
 = 
pExecutive
->
cuºít_X
;

336 
r_posY
 = 
pExecutive
->
cuºít_Y
;

337 
r_‹i
 = 
pExecutive
->
cuºít_‹õ¡©i⁄
;

338 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

340 
r_posX
 =Ñ_posX + ()
	`round
(130*
	`cos
(
r_‹i
*
PI
/180));

341 
r_posY
 =Ñ_posY + ()
	`round
(130*
	`sö
(
r_‹i
*
PI
/180));

343 
r_nh
 = 
√ighb‹hood
.
	`√wPoöt
(
r_posX
,
r_posY
);

344 
„©uª_num
++;

346 
r_comm™d
[100];

347 
	`•rötf
(
r_comm™d
,"INSERT INTO fótuª†VALUES (%d, %d, %d, %d, %d, %d)", 
„©uª_num
, 
r_posX
, 
r_posY
, 
r_nh
, 
cmuCam
.
	`gëRecognizedFótuª
(), cmuCam.
	`gëFótuªCﬁ‹
());

348 
I2GIS
.
	`comm™d
(
r_comm™d
);

360 
	}
}

362 
	gFNPro˚ss‹
::
	$doMissi⁄s
()

364 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

365 
pFótuªNav
->
‚_move_a˘ive_Êag
 = 
Ál£
;

366 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

368 i‡(
loˇl_missi⁄_obsﬁëe_Êag
 =
åue
)

371 i‡(
	`„of
(
mFûe
))

373 
›_mode
 = 
DO_NOTHING
;

374 
	`f˛o£
 (
mFûe
);

378 * 
missi⁄
;

379 
n_comm™d
[100];

380 
noC⁄dôi⁄
[] = "NO_CONDITION";

381 
aux
[3];

383 
i
,
r
;

385 
size_t
 
lsize
 = 0;

387 
	`gëlöe
(&
missi⁄
, &
lsize
, 
mFûe
);

389 
i
=0;i<
	`°æí
(
missi⁄
)-4;i++)

391 
r
 = 
	`°∫cmp
–
missi⁄
+
i
, "here", 4 );

392 i‡(
r
 == 0)

394 
n_posX
, 
n_posY
, 
n_nh
;

396 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

397 
n_posX
 = 
pExecutive
->
cuºít_X
;

398 
n_posY
 = 
pExecutive
->
cuºít_Y
;

399 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

401 
n_nh
 = 
√ighb‹hood
.
	`√wPoöt
(
n_posX
, 
n_posY
, 
RETURN_NEAREST_NH
);

403 
	`•rötf
(
aux
,"%d",
n_nh
);

404 
missi⁄
[
i
] = 
aux
[0];

405 
missi⁄
[
i
+1] = ' ';

406 
missi⁄
[
i
+2] = ' ';

407 
missi⁄
[
i
+3] = ' ';

413 i‡(
	`°∫cmp
(
missi⁄
,
noC⁄dôi⁄
,12)==0)

414 
	`•rötf
(
n_comm™d
,"SELECT x,y from features");

418 i‡(
missi⁄
[
	`°æí
(mission)-1] == 10)

419 
missi⁄
[
	`°æí
(mission)-1] = 32;

420 
	`•rötf
(
n_comm™d
,"SELECT x,y from fótuª†WHERE %s", 
missi⁄
);

422 
I2GIS
.
	`comm™d
(
n_comm™d
);

424 
vÆueSåu˘
 ** 
posLi°
;

426 
nFótuª_ö_li°
, 
nCﬁumns_ö_li°
;

427 
posLi°
 = 
I2GIS
.
	`gëSñe˘Answî
(&
nFótuª_ö_li°
,&
nCﬁumns_ö_li°
);

429 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

430 
i
=0;i<
nFótuª_ö_li°
;i++)

432 
pFótuªNav
->
‚_„©uªAºay
[
i
][0] = 
posLi°
[i][0].
ivÆ
;

433 
pFótuªNav
->
‚_„©uªAºay
[
i
][1] = 
posLi°
[i][1].
ivÆ
;

435 
pFótuªNav
->
‚_nFótuªs
 = 
nFótuª_ö_li°
;

436 
pFótuªNav
->
‚_„©uª_li°_ªady_Êag
 = 
åue
;

437 
pFótuªNav
->
‚_missi⁄_obsﬁëe_Êag
 = 
Ál£
;

438 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

442 
i
=0;i<
nFótuª_ö_li°
;i++)

444 
dñëe
 [] 
posLi°
[
i
];

446 
dñëe
 [] 
posLi°
;

449 
	}
}

451 
boﬁ
 
	gFNPro˚ss‹
::
	$isFótuªAÃódyInDB
()

453 
™s
;

454 
™s
 = 
I2GIS
.
	`comm™d
("SELECT x,y from features");

455 
boﬁ
 
Æªady_ö_DB
 = 
Ál£
;

456 i‡(
™s
 != -1)

458 
vÆueSåu˘
 ** 
XY
;

459 
r
,
c
;

460 
i
;

462 
r_posX
, 
r_posY
, 
r_‹i
, 
f_posX
, 
f_posY
;

463 
dif_x
, 
dif_y
, 
di°
;

464 c⁄° 
PI
 = 3.14159265;

468 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

469 
r_posX
 = 
pExecutive
->
cuºít_X
;

470 
r_posY
 = 
pExecutive
->
cuºít_Y
;

471 
r_‹i
 = 
pExecutive
->
cuºít_‹õ¡©i⁄
;

472 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

474 
	`¥ötf
("RobŸÖosôi⁄: X = %d, Y = %d, Orõ¡©i⁄ = %d\n", 
r_posX
, 
r_posY
, 
r_‹i
);

477 
f_posX
 = 
r_posX
 + ()
	`round
(390*
	`cos
(
r_‹i
*
PI
/180));

478 
f_posY
 = 
r_posY
 + ()
	`round
(390*
	`sö
(
r_‹i
*
PI
/180));

480 
	`¥ötf
("E°im©ed fótuªÖosôi⁄: X = %d, Y = %d\n", 
f_posX
, 
f_posY
);

486 
XY
 = 
I2GIS
.
	`gëSñe˘Answî
(&
r
,&
c
);

490 
i
=0;i<
r
;i++)

492 
dif_x
 = 
XY
[
i
][0].
ivÆ
 - 
f_posX
;

493 
dif_y
 = 
XY
[
i
][1].
ivÆ
 - 
f_posY
;

495 
di°
 = ()
	`round
(
	`sqπ
(
	`pow
(
dif_x
,2)+pow(dif_x,2)));

497 i‡(
di°
 < 300)

499 
Æªady_ö_DB
 = 
åue
;

500 
	`¥ötf
("Posôi⁄ o‡Fótuª i¿DB : x = %d ; Y = %d\n", 
XY
[
i
][0].
ivÆ
, XY[i][1].ival);

501 
	`¥ötf
("X dif„ªn˚ = %d ; Y dif„ªn˚ = %d ; di°™˚ = %d\n", 
dif_x
, 
dif_y
, 
di°
);

505 
dñëe
 [] 
XY
[
i
];

509 
dñëe
 [] 
XY
;

513  
Æªady_ö_DB
;

514 
	}
}

516 
	$maö
()

518 
	`Ârötf
(
°dout
, "\n***********************************\n");

519 
	`Ârötf
(
°dout
, "* IRMA2:Feature Navigator Process *\n");

520 
	`Ârötf
(
°dout
, "***********************************\n\n");

521 
FNPro˚ss‹
 
‚
;

523 
‚
.
	`execuã
();

526 
	}
}

	@processors/featureNavigator/featureNavigator.h

15 #i‚de‡
_IRMA2_FNAV_H_


16 
	#_IRMA2_FNAV_H_


	)

18 
	~<°dio.h
>

19 
	~<sys/shm.h
>

20 
	~<uni°d.h
>

21 
	~<m©h.h
>

22 
	~"ˇmîaComm.h
"

23 
	~"sql.h
"

24 
	~"d©aba£.h
"

25 
	~"gisF¨t.h
"

26 
	~"../ba£/¥o˚ss‹.h
"

29 
	#DO_NOTHING
 0

	)

30 
	#RECOGNITION
 1

	)

31 
	#MISSION
 2

	)

33 ˛as†
	cFNPro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚


35 
¥iv©e
:

36 
FótuªNavD©a
 *
pFótuªNav
;

37 
ExecutiveD©a
 *
	mpExecutive
;

38 
M⁄ô‹D©a
 *
	mpM⁄ô‹
;

39 
M≠≥rD©a
 * 
	mpM≠≥r
;

40 
sql
 
	mI2GIS
;

41 
gisF¨t
 
	m√ighb‹hood
;

42 
ˇmîaComm
 
	mcmuCam
;

43 
	m›_mode
;

44 
°rög
 
	mmissi⁄_fûe
;

45 
	m°©e
;

46 
	m„©uª_num
;

47 
boﬁ
 
	mli°_gíî©ed_Êag
;

48 
boﬁ
 
	mno_m‹e_missi⁄s
;

49 
FILE
 * 
	mmFûe
;

53 
boﬁ
 
	mloˇl_move_ªady_Êag
;

54 
boﬁ
 
	mloˇl_move_a˘ive_Êag
;

55 
boﬁ
 
	mloˇl_rouã_obsﬁëe_Êag
;

58 
boﬁ
 
	mloˇl_„©uª_li°_ªady_Êag
;

61 
boﬁ
 
	mloˇl_missi⁄_obsﬁëe_Êag
;

64 
ªadFœgs
();

66 
doRecognôi⁄
();

67 
doMissi⁄s
();

70 
boﬁ
 
isFótuªAÃódyInDB
();

71 
boﬁ
 
	m„©uªIsInDB
;

72 
boﬁ
 
	m„©uªChecked
;

75 
	mpublic
:

76 
	$FNPro˚ss‹
(Ë: 
	$Pro˚ss‹I¡îÁ˚
()

81 
	`öô
();

82 
	`°ï
();

83 
	`˛ónup
();

85 
	}
};

	@processors/featureNavigator/gisFart.cpp

15 
	~"gisF¨t.h
"

18 
	ggisF¨t
::
	$gisF¨t
()

20 
a˘iveNeur⁄s
=0;

21 
i
,
j
;

22 
i
=0;i<4;i++)

23 
j
=0;j<
nNeur⁄s
;j++)

25 
w
[
j
][
i
]=1;

27 
	}
}

29 
	ggisF¨t
::~
	$gisF¨t
()

31 
	}
}

33 
gisF¨t
::
	$£t
(
m_W
, 
m_H
, 
m_a˘_√ur⁄s
, ** 
m_w
)

35 
m≠Width
 = 
m_W
;

36 
m≠Height
 = 
m_H
;

37 
m≠_a˘iveNeur⁄s
 = 
m_a˘_√ur⁄s
;

38 
m≠_w
 = 
m_w
;

41 
	}
}

43 
	ggisF¨t
::
	$m≠2Áπ
(
i
, 
co‹d
)

45 
f
 = ()
i
;

47 i‡(
co‹d
 ==1)

48 
f
 /
m≠Width
;

50 
f
 /
m≠Height
;

51  
f
;

52 
	}
}

55 
	ggisF¨t
::
	$√wPoöt
(
x
, 
y
, 
boﬁ
 
mode
)

57 
i
,
j
;

58 
boﬁ
 
found
;

59 
T
[
nNeur⁄s
];

60 
mö
[4];

61 
I≈ut
[4];

62 
sum1
, 
sum2
;

63 
£À˘edNeur⁄
=0, 
maxj
=0;

68 
I≈ut
[0]
	`m≠2Áπ
(
x
,1);

69 
I≈ut
[1]
	`m≠2Áπ
(
y
,2);

70 
I≈ut
[2]=1-Input[0];

71 
I≈ut
[3]=1-Input[1];

72 
found
 = 
Ál£
;

75 i‡(
a˘iveNeur⁄s
>0)

77 
j
=0;j<
a˘iveNeur⁄s
;j++)

79 
i
=0;i<4;i++)

81 i‡(
w
[
j
][
i
]<
I≈ut
[i])

82 
mö
[
i
]=
w
[
j
][i];

84 
mö
[
i
]=
I≈ut
[i];

86 
sum1
=
mö
[0]+min[1]+min[2]+min[3];

87 
sum2
=
w
[
j
][0]+w[j][1]+w[j][2]+w[j][3];

88 
T
[
j
]=
sum1
/(
AÕha
+
sum2
);

91 
c
=0;

95 !
found
 && 
a˘iveNeur⁄s
-
c
>0)

97 
j
=0;j<
a˘iveNeur⁄s
;j++)

98 i‡(
T
[
j
]>T[
maxj
])

99 
maxj
=
j
;

101 i‡(
mode
 =
RETURN_NEAREST_NH
)

102  
maxj
;

106 
i
=0;i<4;i++)

108 i‡(
w
[
maxj
][
i
]<
I≈ut
[i])

109 
mö
[
i
]=
w
[
maxj
][i];

111 
mö
[
i
]=
I≈ut
[i];

114 
boﬁ
 
°›
 = 
Ál£
;

116 i‡((
mö
[0]+min[2] < 0.5) || (min[1]+min[3] < 0.5))

117 
°›
 = 
åue
;

121 
boﬁ
 
ux_ö
, 
vx_ö
, 
uy_ö
, 
vy_ö
, 
uvx_out
, 
uvy_out
;

122 
boﬁ
 
c0
, 
c1
, 
c2
, 
c3
;

124 
i
=0;i<
m≠_a˘iveNeur⁄s
 && !
°›
;i++)

126 
c0
 = (
mö
[0] < 
m≠_w
[
i
][0]);

127 
ux_ö
 = 
c0
 && (
m≠_w
[
i
][0] < 1-
mö
[2]);

129 
c1
 = (
mö
[1] < 
m≠_w
[
i
][1]);

130 
uy_ö
 = 
c1
 && (
m≠_w
[
i
][1] < 1-
mö
[3]);

132 if(
ux_ö
 && 
uy_ö
)

134 
°›
 = 
åue
;

138 
c2
 = (
m≠_w
[
i
][2] > 
mö
[2]);

139 
vx_ö
 = (
mö
[0] < 1-
m≠_w
[
i
][2]Ë&& 
c2
;

141 
c3
 = (
m≠_w
[
i
][3] > 
mö
[3]);

142 
vy_ö
 = (
mö
[1] < 1-
m≠_w
[
i
][3]Ë&& 
c3
;

144 if(
vx_ö
 && 
vy_ö
)

146 
°›
 = 
åue
;

150 
uvx_out
 = (!
c0
Ë&& (!
c2
);

151 
uvy_out
 = (!
c1
Ë&& (!
c3
);

153 i‡((–
ux_ö
 || 
vx_ö
 ) && 
uvy_out
Ë|| (–
uy_ö
 || 
vy_ö
 ) && 
uvx_out
))

155 
°›
 = 
åue
;

162 i‡(!
°›
)

163 
found
 = 
åue
;

166 
T
[
maxj
]=-1;

167 
c
++;

174 i‡(
found
)

176 
£À˘edNeur⁄
 = 
maxj
;

180 
£À˘edNeur⁄
 = 
a˘iveNeur⁄s
;

183 
a˘iveNeur⁄s
 ++;

187 
i
=0;i<4;i++)

189 i‡(
w
[
£À˘edNeur⁄
][
i
]<
I≈ut
[i])

190 
mö
[
i
]=
w
[
£À˘edNeur⁄
][i];

192 
mö
[
i
]=
I≈ut
[i];

193 
w
[
£À˘edNeur⁄
][
i
]=
Bëa
*
mö
[i];

196  
£À˘edNeur⁄
;

197 
	}
}

199 
	ggisF¨t
::
	$¥ötw
()

201 
i
;

202 
i
=0;i<
a˘iveNeur⁄s
;i++)

203 
	`¥ötf
("%f, %f, %f, %f\n",
w
[
i
][0],w[i][1],w[i][2],w[i][3]);

206 
	}
}

	@processors/featureNavigator/gisFart.h

15 #i‚de‡
_GIS_FART_H


16 
	#_GIS_FART_H


	)

18 
	~<°dio.h
>

21 
	#nNeur⁄s
 10

	)

22 
	#AÕha
 0.000001

	)

23 
	#Bëa
 1

	)

24 
	#Rho
 0.95

	)

25 
	#m≠Size
 100

	)

26 
	#RETURN_NEAREST_NH
 
åue


	)

28 ˛as†
	cgisF¨t


30 
	m¥iv©e
:

32 
a˘iveNeur⁄s
;

33 
	mw
[
nNeur⁄s
][4];

34 
	mm≠_a˘iveNeur⁄s
;

35 **
	mm≠_w
;

36 
m≠2Áπ
 (,);

37 
	mm≠Width
, 
	mm≠Height
;

40 
	mpublic
:

42 
gisF¨t
();

44 ~
gisF¨t
();

46 
£t
(, , , ** );

47 
√wPoöt
 (
x
, 
y
, 
boﬁ
 = 
Ál£
);

48 
¥ötw
();

	@processors/featureNavigator/sql.cpp

28 
	~"sql.h
"

31 
	gsql
::
	$sql
()

33 
¸óãSåu˘
.
cﬁumnLi°
 = 
NULL
;

34 
ö£πSåu˘
.
„©uªToBeIn£π
 = 
NULL
;

35 
£À˘Såu˘
.
›î©i⁄Tªe
 = 
NULL
;

36 
£À˘Såu˘
.
™swî
 = 
NULL
;

41 
	}
}

44 
	gsql
::~
	$sql
()

46 
	`f˛o£
 (
dbFûe
);

47 
	}
}

49 
boﬁ
 
	gsql
::
	$checkPªviousDB
()

51 
ch
;

52 * 
löe
;

53 
löe
 = 
√w
 [255];

57 
C⁄figFûe
 
	`c⁄fig
( "config/featureNavigator.conf" );

58 
db_mode
;

59 
°rög
 
deÁu…_db_«me
 = "irmaDB";

61 
c⁄fig
.
	`ªadI¡o
–
db_mode
, "db_mode", 1 );

62 
c⁄fig
.
	`ªadI¡o
–
db_«me
, "db_«me", 
deÁu…_db_«me
);

64 i‡–
db_mode
 > 1 || db_mode < 0)

65 
db_mode
 = 1;

70 
dbFûe
 = 
	`f›í
 (
db_«me
.
	`c_°r
(),"r");

71 i‡(
dbFûe
!=
NULL
)

73 i‡(
db_mode
 == 1)

75 
	`f£ek
(
dbFûe
, 0, 
SEEK_SET
);

76 
size_t
 
lsize
;

78 
	`gëlöe
(&
löe
, &
lsize
,
dbFûe
) != -1)

80 
	`comm™d
(
löe
, 
DONT_WRITE_IN_FILE
);

82 
	`f˛o£
 (
dbFûe
);

84 i‡(
db_mode
 == 0)

86 
	`f˛o£
 (
dbFûe
);

87 
dbFûe
 = 
	`f›í
 (
db_«me
.
	`c_°r
(),"w");

88 
	`f˛o£
 (
dbFûe
);

89  
Ál£
;

95  
Ál£
;

97  
åue
;

99 
	}
}

101 
	gsql
::
	$comm™d
 (c⁄° * 
comm™d
, 
boﬁ
 
wrôeInFûe
)

103 
°©emít
 = 
°_n⁄e
;

104 
	`ÀxiˇlA«ly£r
(
comm™d
);

117 if(
	`∑r£r
())

120 
	`¥ötf
("SQL - %s\n",
comm™d
);

124 
	`¥ötf
("SQL - Error in SQL query\n");

125 
	`¥ötf
(" -> %s\n",
comm™d
);

129 
	`‰ìTokíLi°
();

130 if(
	`behavi‹Gíî©‹
())

133 i‡((
°©emít
 =
°_¸óã
 || sèãmíà=
°_ö£π
Ë&& 
wrôeInFûe
)

135 
dbFûe
 = 
	`f›í
 (
db_«me
.
	`c_°r
(),"a");

136 
	`Ârötf
(
dbFûe
,"%s\n",
comm™d
);

138 
	`f˛o£
 (
dbFûe
);

144 
	}
}

146 
vÆueSåu˘
 ** 
	gsql
::
	$gëSñe˘Answî
(* 
F
, *
C
)

148 
vÆueSåu˘
 ** 
aux
;

149 
aux
 = 
£À˘Såu˘
.
™swî
;

150 
£À˘Såu˘
.
™swî
 = 
NULL
;

151 *
C
 = 
£À˘Såu˘
.
™swîC
;

152 *
F
 = 
£À˘Såu˘
.
™swîF
;

154  
aux
;

155 
	}
}

159 
boﬁ
 
	gsql
::
	$ÀxiˇlA«ly£r
 (c⁄° * 
comm™d
)

163 
isNewComm™d
 = 
åue
;

164 
nSt‹edTokís
 = 0;

166 
	`gëTokí
(
comm™d
, 
bœnkSåög
, 
•ecülTokís
))

168 i‡(
	`idítifyTokí
())

171 
nSt‹edTokís
++;

175  
åue
;

176 
	}
}

178 
	gsql
::
	$isO√Of
(
c
, c⁄° *
li°
)

180 
p
;

181 
p
=0;Ö<
	`°æí
(
li°
);Ö++)

182 i‡(
c
 =*(
li°
+
p
))

183  
p
+1;

186 
	}
}

188 
boﬁ
 
	gsql
::
	$gëTokí
(c⁄° *
buf„r
, c⁄° *
dñimôîs
, c⁄° *
•ecTokís
)

190 
tokíIndex
;

191 
buf„rIndex
;

192 i‡(
isNewComm™d
)

194 
buf„rIndex
 = 0;

195 
isNewComm™d
 = 
Ál£
;

197 
	`isO√Of
(
buf„r
[
buf„rIndex
], 
dñimôîs
Ë&& (buf„r[buf„rIndex] !
EOS
))

198 
buf„rIndex
++;

200 i‡(
buf„r
[
buf„rIndex
] =
EOS
)

201  
Ál£
;

203 i‡(
	`isO√Of
(
buf„r
[
buf„rIndex
], 
•ecTokís
))

205 
tokíBuf„r
[0] = 
buf„r
[
buf„rIndex
];

206 
tokíBuf„r
[1] = 
EOS
;

207 
buf„rIndex
++;

208 i‡((
	`isO√Of
(
buf„r
[
buf„rIndex
-1], "<")Ë&& (buf„r[buf„rIndex] !
EOS
))

210 i‡(
	`isO√Of
(
buf„r
[
buf„rIndex
], ">"))

212 
tokíBuf„r
[1] = 
buf„r
[
buf„rIndex
];

213 
tokíBuf„r
[2] = 
EOS
;

214 
buf„rIndex
++;

218  
åue
;

221 i‡(
buf„r
[
buf„rIndex
] =
quŸ©i⁄M¨k
)

223 
tokíIndex
 = 0;

224 
tokíBuf„r
[
tokíIndex
++] = 
buf„r
[
buf„rIndex
++];

226 (
buf„r
[
buf„rIndex
] !
quŸ©i⁄M¨k
Ë&& (buf„r[buf„rIndex] !
EOS
))

227 
tokíBuf„r
[
tokíIndex
++] = 
buf„r
[
buf„rIndex
++];

229 i‡(
buf„r
[
buf„rIndex
] =
EOS
)

230  
Ál£
;

233 
tokíBuf„r
[
tokíIndex
++] = 
buf„r
[
buf„rIndex
++];

234 
tokíBuf„r
[
tokíIndex
] = 
EOS
;

235  
åue
;

239 
tokíIndex
 = 0;

243 
tokíBuf„r
[
tokíIndex
++] = 
buf„r
[
buf„rIndex
++];

245 !
	`isO√Of
(
buf„r
[
buf„rIndex
], 
dñimôîs
Ë&& !isO√Of(buf„r[buf„rIndex], 
•ecTokís
Ë&& (buf„r[buf„rIndex] !
EOS
));

247 
tokíBuf„r
[
tokíIndex
] = 
EOS
;

249  
åue
;

251 
	}
}

253 
boﬁ
 
	gsql
::
	$idítifyTokí
()

255 i‡(
	`ißÕha
(
tokíBuf„r
[0]))

257 i‡(
	`isTokíKeyw‹d
(Ë|| 
	`isTokíIdítifõr
())

258  
åue
;

261 i‡(
	`isdigô
(
tokíBuf„r
[0]))

263 i‡(
	`isTokíI¡egî
())

264  
åue
;

267 i‡(
tokíBuf„r
[0] =
quŸ©i⁄M¨k
)

269 i‡(
	`isTokíSåög
())

270  
åue
;

273 i‡(
	`isTokíS≥cül
())

274  
åue
;

276  
Ál£
;

277 
	}
}

280 
boﬁ
 
	gsql
::
	$isTokíKeyw‹d
 ()

282 
keyw‹dTabÀ
[
numbîOfKeyw‹ds
][
keyw‹dsLígth
] = {"CREATE", "TABLE", "CHAR", "INT", "NOT", "NULL", "INSERT", "INTO", "VALUES", "SELECT", "FROM", "WHERE", "AND", "OR"};

283 
i
;

284 
cTokí
[
maxTokíLígth
];

286 
	`°r˝y
(
cTokí
, 
tokíBuf„r
);

287 
	`c⁄vîtToUµîCa£
(
cTokí
);

289 
i
=0; i<
numbîOfKeyw‹ds
; i++)

291 i‡(
	`°rcmp
(
cTokí
, 
keyw‹dTabÀ
[
i
]) == 0)

293 
tokíLi°
[
nSt‹edTokís
].
ty≥
 = 
t_keyw‹d
;

294 
tokíLi°
[
nSt‹edTokís
].
ivÆ
 = 
i
;

295  
åue
;

298  
Ál£
;

299 
	}
}

302 
boﬁ
 
	gsql
::
	$isTokíIdítifõr
 ()

304 
i
;

305 i‡(!
	`ißÕha
(
tokíBuf„r
[0]))

306  
Ál£
;

308 
i
=1; i<
	`°æí
(
tokíBuf„r
); i++)

310 i‡(!(
	`iß um
(
tokíBuf„r
[
i
]Ë|| 
	`isO√Of
—okíBuf„r[i], 
idítifõrS≥cülCh¨s
)))

311  
Ál£
;

314 
tokíLi°
[
nSt‹edTokís
].
ty≥
 = 
t_idítifõr
;

315 
tokíLi°
[
nSt‹edTokís
].
svÆ
 = 
√w
 [
	`°æí
(
tokíBuf„r
)+1];

316 
	`°r˝y
(
tokíLi°
[
nSt‹edTokís
].
svÆ
,
tokíBuf„r
);

317  
åue
;

318 
	}
}

320 
boﬁ
 
	gsql
::
	$isTokíI¡egî
 ()

322 
i
;

324 
i
=0; i<
	`°æí
(
tokíBuf„r
); i++)

326 i‡(!
	`isdigô
(
tokíBuf„r
[
i
]))

327  
Ál£
;

330 
tokíLi°
[
nSt‹edTokís
].
ty≥
 = 
t_öãgî
;

331 
tokíLi°
[
nSt‹edTokís
].
ivÆ
 = 
	`©oi
(
tokíBuf„r
);

332  
åue
;

333 
	}
}

335 
boﬁ
 
	gsql
::
	$isTokíSåög
 ()

337 
i
;

338 
Àn
 = 
	`°æí
(
tokíBuf„r
);

339 i‡(
tokíBuf„r
[0] !
quŸ©i⁄M¨k
)

340  
Ál£
;

342 i‡(!
	`ißÕha
(
tokíBuf„r
[1]))

343  
Ál£
;

345 
i
=2; i<
Àn
-1; i++)

347 i‡(!(
	`iß um
(
tokíBuf„r
[
i
]Ë|| 
	`isO√Of
—okíBuf„r[i], 
idítifõrS≥cülCh¨s
)))

348  
Ál£
;

351 i‡(
tokíBuf„r
[
Àn
-1] !
quŸ©i⁄M¨k
)

352  
Ál£
;

354 
tokíLi°
[
nSt‹edTokís
].
ty≥
 = 
t_°rög
;

355 
tokíLi°
[
nSt‹edTokís
].
svÆ
 = 
√w
 [
Àn
+1];

356 
	`°r˝y
(
tokíLi°
[
nSt‹edTokís
].
svÆ
,
tokíBuf„r
);

357  
åue
;

358 
	}
}

360 
boﬁ
 
	gsql
::
	$isTokíS≥cül
 ()

362 
r
 = 
	`isO√Of
(
tokíBuf„r
[0], 
•ecülTokís
);

364 i‡(
r
 == 0)

365  
Ál£
;

367 
tokíLi°
[
nSt‹edTokís
].
ty≥
 = 
t_•ecül
;

368 i‡(
tokíBuf„r
[1] =
EOS
)

369 
tokíLi°
[
nSt‹edTokís
].
ivÆ
 = 
r
;

372 
tokíLi°
[
nSt‹edTokís
].
ivÆ
 = 
s_nŸEquÆ
;

374  
åue
;

377 
	}
}

379 
	gsql
::
	$c⁄vîtToUµîCa£
 (* 
°r
)

381 
p
;

383 
p
=0;Ö<
	`°æí
(
°r
);Ö++)

384 
°r
[
p
] = 
	`touµî
(str[p]);

385 
	}
}

387 
	gsql
::
	$ôﬂ
 (
x
)

389 
c
[5];

390 
	`•rötf
(
c
, "%d", 
x
);

391  
c
[0];

392 
	}
}

396 
boﬁ
 
	gsql
::
	$∑r£r
()

398 i‡(
tokíLi°
[0].
ty≥
 !
t_keyw‹d
)

399  
Ál£
;

401 
tokíLi°
[0].
ivÆ
)

403 
k_¸óã
:

404 if(!
	`∑rsCª©eStmt
())

405  
Ál£
;

406 
°©emít
 = 
°_¸óã
;

409 
k_ö£π
:

410 if(!
	`∑rsIn£πStmt
())

411  
Ál£
;

412 
°©emít
 = 
°_ö£π
;

415 
k_£À˘
:

416 if(!
	`∑rsSñe˘Stmt
())

417  
Ál£
;

418 
°©emít
 = 
°_£À˘
;

422  
Ál£
;

424  
åue
;

425 
	}
}

428 
boﬁ
 
	gsql
::
	$∑rsCª©eStmt
()

430 
tokíLi°Index
 = 0;

433 
	`checkNextTokíInLi°
();

434 
tokíLi°Index
++;

436 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_keyw‹d
)

437  
Ál£
;

438 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
k_èbÀ
)

439  
Ál£
;

442 
	`checkNextTokíInLi°
();

443 
tokíLi°Index
++;

445 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_idítifõr
)

446  
Ál£
;

449 
¸óãSåu˘
.
èbÀName
 = 
√w
 [
	`°æí
(
tokíLi°
[
tokíLi°Index
].
svÆ
)+1];

450 
	`°r˝y
(
¸óãSåu˘
.
èbÀName
,
tokíLi°
[
tokíLi°Index
].
svÆ
);

453 
	`checkNextTokíInLi°
();

454 
tokíLi°Index
++;

456 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

457  
Ál£
;

458 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_À·P¨í
)

459  
Ál£
;

464 
	`checkNextTokíInLi°
();

465 
tokíLi°Index
++;

467 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_idítifõr
)

468  
Ál£
;

470 i‡(!
	`∑rsCª©eI≈ut
(&
tokíLi°Index
))

471  
Ál£
;

474 
	`checkNextTokíInLi°
();

475 
tokíLi°Index
++;

477 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

478  
Ál£
;

479 i‡((
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_rightP¨í
Ë&& (tokíLi°[tokíLi°Index].ivÆ !
s_coma
))

480  
Ál£
;

482 
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
s_coma
);

486 i‡(
noM‹eTokís
)

487  
åue
;

489  
Ál£
;

491 
	}
}

494 
boﬁ
 
	gsql
::
	$∑rsCª©eI≈ut
(* 
±okíLi°Index
)

496 
tokíLi°Index
 = *
±okíLi°Index
;

498 
pCﬁumnSåu˘
 
ãmp
;

500 
ãmp
 = 
	`poötToLa°Cﬁumn
();

501 i‡(
ãmp
 !
NULL
)

503 
ãmp
->
√xt
 = 
√w
 
cﬁumnSåu˘
;

504 
ãmp
 =Åemp->
√xt
;

508 
ãmp
 =
√w
 
cﬁumnSåu˘
;

509 
¸óãSåu˘
.
cﬁumnLi°
 = 
ãmp
;

511 
ãmp
->
√xt
 = 
NULL
;

512 
ãmp
->
«me
 = 
√w
 [
	`°æí
(
tokíLi°
[
tokíLi°Index
].
svÆ
)+1];

513 
	`°r˝y
(
ãmp
->
«me
,
tokíLi°
[
tokíLi°Index
].
svÆ
);

516 
	`checkNextTokíInLi°
();

517 
tokíLi°Index
++;

518 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_keyw‹d
)

519  
Ál£
;

522 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
k_ch¨
)

524 
ãmp
->
ty≥
 = 
v_ch¨
;

526 
	`checkNextTokíInLi°
();

527 
tokíLi°Index
++;

529 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

530  
Ál£
;

531 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_À·P¨í
)

532  
Ál£
;

535 
	`checkNextTokíInLi°
();

536 
tokíLi°Index
++;

538 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_öãgî
)

539  
Ál£
;

543 
	`checkNextTokíInLi°
();

544 
tokíLi°Index
++;

546 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

547  
Ál£
;

548 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_rightP¨í
)

549  
Ál£
;

553 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
k_öt
)

554 
ãmp
->
ty≥
 = 
v_öt
;

556  
Ál£
;

558 
	`checkNextTokíInLi°
();

560 i‡(
tokíLi°
[
tokíLi°Index
+1].
ty≥
 =
t_keyw‹d
)

563 
tokíLi°Index
++;

565 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
k_nŸ
)

566  
Ál£
;

569 
	`checkNextTokíInLi°
();

570 
tokíLi°Index
++;

572 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_keyw‹d
)

573  
Ál£
;

574 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
k_nuŒ
)

575  
Ál£
;

577 
ãmp
->
nŸNuŒ
 = 
åue
;

581 
ãmp
->
nŸNuŒ
 = 
Ál£
;

584 *
±okíLi°Index
 = 
tokíLi°Index
;

585  
åue
;

586 
	}
}

589 
boﬁ
 
	gsql
::
	$∑rsIn£πStmt
()

591 
tokíLi°Index
 = 0;

593 
maxNumbîOfCﬁumns
;

594 
cﬁumnCou¡î
 = 0;

595 
vÆueCou¡î
 = 0;

597 
ö£πSåu˘
.
„©uªToBeIn£π
 = 
√w
 
„©uª
;

600 
	`checkNextTokíInLi°
();

601 
tokíLi°Index
++;

603 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_keyw‹d
)

604  
Ál£
;

605 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
k_öto
)

606  
Ál£
;

609 
	`checkNextTokíInLi°
();

610 
tokíLi°Index
++;

612 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_idítifõr
)

613  
Ál£
;

616 
ö£πSåu˘
.
èbÀIndex
 = 
gis
.
	`£¨chTabÀ
(
tokíLi°
[
tokíLi°Index
].
svÆ
);

617 i‡(
ö£πSåu˘
.
èbÀIndex
 =
nŸFound
)

618  
Ál£
;

621 
maxNumbîOfCﬁumns
 = 
gis
.
	`gëNumbîOfCﬁumns
(
ö£πSåu˘
.
èbÀIndex
);

622 
cﬁumnIndexAºay
[
maxNumbîOfCﬁumns
];

623 
i
=0; i<
maxNumbîOfCﬁumns
; i++)

625 
cﬁumnIndexAºay
[
i
] = -1;

631 
	`checkNextTokíInLi°
();

633 i‡(
tokíLi°
[
tokíLi°Index
+1].
ty≥
 =
t_•ecül
)

636 
tokíLi°Index
++;

638 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_À·P¨í
)

639  
Ál£
;

644 
	`checkNextTokíInLi°
();

645 
tokíLi°Index
++;

647 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_idítifõr
)

648  
Ál£
;

650 if(
cﬁumnCou¡î
 >
maxNumbîOfCﬁumns
)

651  
Ál£
;

653 
cﬁumnIndexAºay
[
cﬁumnCou¡î
] = 
gis
.
	`£¨chCﬁumn
(
ö£πSåu˘
.
èbÀIndex
, 
tokíLi°
[
tokíLi°Index
].
svÆ
);

654 i‡(
cﬁumnIndexAºay
[
cﬁumnCou¡î
] =
nŸFound
)

655  
Ál£
;

657 i‡(
ö£πSåu˘
.
„©uªToBeIn£π
->
vÆueAºay
[
cﬁumnIndexAºay
[
cﬁumnCou¡î
]].
ty≥
 !
v_nŸDeföed
)

658  
Ál£
;

660 
ö£πSåu˘
.
„©uªToBeIn£π
->
vÆueAºay
[
cﬁumnIndexAºay
[
cﬁumnCou¡î
]].
ty≥
 = 
gis
.
	`gëCﬁumnTy≥
(ö£πSåu˘.
èbÀIndex
, columnIndexArray[columnCounter]);

661 
cﬁumnCou¡î
++;

666 
	`checkNextTokíInLi°
();

667 
tokíLi°Index
++;

669 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

670  
Ál£
;

671 i‡((
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_rightP¨í
Ë&& (tokíLi°[tokíLi°Index].ivÆ !
s_coma
))

672  
Ál£
;

674 
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
s_coma
);

677 
	`checkNextTokíInLi°
();

681 
cﬁumnCou¡î
 = 
maxNumbîOfCﬁumns
;

683 
i
=0; i<
maxNumbîOfCﬁumns
; i++)

685 
cﬁumnIndexAºay
[
i
] = i;

686 
ö£πSåu˘
.
„©uªToBeIn£π
->
vÆueAºay
[
i
].
ty≥
 = 
gis
.
	`gëCﬁumnTy≥
(ö£πSåu˘.
èbÀIndex
, i);

691 
tokíLi°Index
++;

693 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_keyw‹d
)

694  
Ál£
;

695 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
k_vÆues
)

696  
Ál£
;

699 
	`checkNextTokíInLi°
();

700 
tokíLi°Index
++;

702 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

703  
Ál£
;

704 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_À·P¨í
)

705  
Ál£
;

710 
	`checkNextTokíInLi°
();

711 
tokíLi°Index
++;

713 if(
vÆueCou¡î
 >
cﬁumnCou¡î
)

714  
Ál£
;

716 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 =
t_öãgî
 && 
ö£πSåu˘
.
„©uªToBeIn£π
->
vÆueAºay
[
cﬁumnIndexAºay
[
vÆueCou¡î
]].ty≥ =
v_öt
)

718 
ö£πSåu˘
.
„©uªToBeIn£π
->
vÆueAºay
[
cﬁumnIndexAºay
[
vÆueCou¡î
]].
ivÆ
 = 
tokíLi°
[
tokíLi°Index
].ival;

720 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 =
t_°rög
 && 
ö£πSåu˘
.
„©uªToBeIn£π
->
vÆueAºay
[
cﬁumnIndexAºay
[
vÆueCou¡î
]].ty≥ =
v_ch¨
)

722 
ö£πSåu˘
.
„©uªToBeIn£π
->
vÆueAºay
[
cﬁumnIndexAºay
[
vÆueCou¡î
]].
svÆ
 = 
√w
 [
	`°æí
(
tokíLi°
[
tokíLi°Index
].sval)+1];

723 
	`°r˝y
(
ö£πSåu˘
.
„©uªToBeIn£π
->
vÆueAºay
[
cﬁumnIndexAºay
[
vÆueCou¡î
]].
svÆ
,
tokíLi°
[
tokíLi°Index
].sval);

727  
Ál£
;

730 
vÆueCou¡î
++;

733 
	`checkNextTokíInLi°
();

734 
tokíLi°Index
++;

736 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

737  
Ál£
;

738 i‡((
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_rightP¨í
Ë&& (tokíLi°[tokíLi°Index].ivÆ !
s_coma
))

739  
Ál£
;

741 
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
s_coma
);

743 i‡(
vÆueCou¡î
 !
cﬁumnCou¡î
)

744  
Ál£
;

747 i‡(
noM‹eTokís
)

748  
åue
;

750  
Ál£
;

752 
	}
}

755 
boﬁ
 
	gsql
::
	$∑rsSñe˘Stmt
()

757 
tokíLi°Index
 = 0;

758 * 
cﬁumnNames
[
numbîOfCﬁumns
];

759 
cﬁumnNameIndex
 = 0;

760 
maxNumbîOfCﬁumns
;

763 
	`checkNextTokíInLi°
();

765 i‡(
tokíLi°
[
tokíLi°Index
+1].
ty≥
 =
t_idítifõr
)

768 
£À˘Såu˘
.
Æl

Ál£
;

769 
i
=0; i<
numbîOfCﬁumns
; i++)

770 
£À˘Såu˘
.
cﬁumns
[
i
]=-1;

775 
	`checkNextTokíInLi°
();

776 
tokíLi°Index
++;

778 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_idítifõr
)

779  
Ál£
;

782 i‡(
cﬁumnNameIndex
 =
	`numbîOfIãms
(
cﬁumnNames
))

783  
Ál£
;

784 
cﬁumnNames
[
cﬁumnNameIndex
] = 
√w
 [
	`°æí
(
tokíLi°
[
tokíLi°Index
].
svÆ
)+1];

785 
	`°r˝y
(
cﬁumnNames
[
cﬁumnNameIndex
],
tokíLi°
[
tokíLi°Index
].
svÆ
);

786 
cﬁumnNameIndex
++;

790 
	`checkNextTokíInLi°
();

791 
tokíLi°Index
++;

793 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 =
t_keyw‹d
)

795 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
k_‰om
)

796  
Ál£
;

798 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 =
t_•ecül
)

800 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_coma
)

801  
Ál£
;

804  
Ál£
;

806 
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
s_coma
);

810 i‡(
tokíLi°
[
tokíLi°Index
+1].
ty≥
 =
t_•ecül
)

813 
tokíLi°Index
++;

814 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_°¨
)

815  
Ál£
;

817 
£À˘Såu˘
.
Æl

åue
;

820 
	`checkNextTokíInLi°
();

821 
tokíLi°Index
++;

823 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_keyw‹d
)

824  
Ál£
;

825 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
k_‰om
)

826  
Ál£
;

829  
Ál£
;

832 
	`checkNextTokíInLi°
();

833 
tokíLi°Index
++;

835 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_idítifõr
)

836  
Ál£
;

839 
£À˘Såu˘
.
èbÀName
 = 
√w
 [
	`°æí
(
tokíLi°
[
tokíLi°Index
].
svÆ
)+1];

840 
	`°r˝y
(
£À˘Såu˘
.
èbÀName
,
tokíLi°
[
tokíLi°Index
].
svÆ
);

843 
£À˘Såu˘
.
èbÀIndex
 = 
gis
.
	`£¨chTabÀ
(£À˘Såu˘.
èbÀName
);

844 i‡(
£À˘Såu˘
.
èbÀIndex
 =
nŸFound
)

845  
Ál£
;

847 i‡(
£À˘Såu˘
.
Æl
 =
åue
)

852 
maxNumbîOfCﬁumns
 = 
gis
.
	`gëNumbîOfCﬁumns
(
£À˘Såu˘
.
èbÀIndex
);

853 
i
=0; i<
maxNumbîOfCﬁumns
; i++)

854 
£À˘Såu˘
.
cﬁumns
[
i
] = i;

856 
£À˘Såu˘
.
nCﬁumns
 = 
maxNumbîOfCﬁumns
;

861 
i
=0; i<
cﬁumnNameIndex
; i++)

863 
£À˘Såu˘
.
cﬁumns
[
i
] = 
gis
.
	`£¨chCﬁumn
(£À˘Såu˘.
èbÀIndex
, 
cﬁumnNames
[i]);

864 i‡(
£À˘Såu˘
.
cﬁumns
[
i
] =
nŸFound
)

865  
Ál£
;

868 
£À˘Såu˘
.
nCﬁumns
 = 
cﬁumnNameIndex
;

872 i‡(
noM‹eTokís
)

873  
åue
;

877 
tokíLi°Index
++;

879 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_keyw‹d
)

880  
Ál£
;

881 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
k_whîe
)

882  
Ál£
;

885 
	`checkNextTokíInLi°
();

886 
tokíLi°Index
++;

888 
£À˘Såu˘
.
›î©i⁄Tªe
 = 
√w
 
›î©i⁄Node
;

890 i‡(!
	`∑rsWhîeI≈ut
(&
tokíLi°Index
, 
£À˘Såu˘
.
›î©i⁄Tªe
))

891  
Ál£
;

894 i‡(
noM‹eTokís
)

895  
åue
;

897  
Ál£
;

898 
	}
}

900 
boﬁ
 
	gsql
::
	$∑rsWhîeI≈ut
(* 
±okíLi°Index
, 
›î©i⁄Node
 * 
pNode
)

902 
tokíLi°Index
 = *
±okíLi°Index
;

906 
pNode
->
À·
 = 
√w
 
›î©i⁄Node
;

908 i‡(!
	`∑rsLogiˇlI≈ut
(&
tokíLi°Index
, 
pNode
->
À·
))

909  
Ál£
;

912 i‡((
noM‹eTokís
)||(
tokíLi°
[
tokíLi°Index
+1].
ty≥
 !
t_keyw‹d
))

914 *
±okíLi°Index
 = 
tokíLi°Index
;

915  
åue
;

919 
tokíLi°Index
++;

921 
pNode
->
ty≥
 = 
n_logicO≥øt‹
;

922 
pNode
->
vÆue
.
ty≥
 = 
v_öt
;

924 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
k_™d
)

925 
pNode
->
vÆue
.
ivÆ
 = 
n_™d
;

926 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
k_‹
)

927 
pNode
->
vÆue
.
ivÆ
 = 
n_‹
;

929  
Ál£
;

932 
	`checkNextTokíInLi°
();

933 
tokíLi°Index
++;

935 
pNode
->
right
 = 
√w
 
›î©i⁄Node
;

937 i‡(!
	`∑rsLogiˇlI≈ut
(&
tokíLi°Index
, 
pNode
->
right
))

938  
Ál£
;

941 *
±okíLi°Index
 = 
tokíLi°Index
;

942  
åue
;

943 
	}
}

945 
boﬁ
 
	gsql
::
	$∑rsLogiˇlI≈ut
(* 
±okíLi°Index
, 
›î©i⁄Node
 * 
pNode
)

947 
tokíLi°Index
 = *
±okíLi°Index
;

949 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 =
t_idítifõr
)

951 i‡(!
	`∑rsWhîeC⁄dôi⁄
(&
tokíLi°Index
, 
pNode
))

952  
Ál£
;

955 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 =
t_•ecül
)

957 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_À·P¨í
)

958  
Ál£
;

961 
	`checkNextTokíInLi°
();

962 
tokíLi°Index
++;

964 i‡(!
	`∑rsWhîeI≈ut
(&
tokíLi°Index
, 
pNode
))

965  
Ál£
;

968 
	`checkNextTokíInLi°
();

969 
tokíLi°Index
++;

971 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

972  
Ál£
;

973 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 !
s_rightP¨í
)

974  
Ál£
;

979  
Ál£
;

982 *
±okíLi°Index
 = 
tokíLi°Index
;

983  
åue
;

984 
	}
}

986 
boﬁ
 
	gsql
::
	$∑rsWhîeC⁄dôi⁄
(* 
±okíLi°Index
, 
›î©i⁄Node
 * 
pNode
)

988 
tokíLi°Index
 = *
±okíLi°Index
;

990 
pNode
->
À·
 = 
√w
 
›î©i⁄Node
;

991 
pNode
->
right
 = 
√w
 
›î©i⁄Node
;

994 
cﬁumIndex
 = 
gis
.
	`£¨chCﬁumn
(
£À˘Såu˘
.
èbÀIndex
, 
tokíLi°
[
tokíLi°Index
].
svÆ
);

995 i‡(
cﬁumIndex
 =
nŸFound
)

996  
Ál£
;

998 
pNode
->
À·
->
ty≥
 = 
n_cﬁumn
;

999 
pNode
->
À·
->
vÆue
.
ty≥
 = 
v_öt
;

1000 
pNode
->
À·
->
vÆue
.
ivÆ
 = 
cﬁumIndex
;

1003 
	`checkNextTokíInLi°
();

1004 
tokíLi°Index
++;

1006 
pNode
->
ty≥
 = 
n_›î©‹
;

1007 
pNode
->
vÆue
.
ty≥
 = 
v_öt
;

1009 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 !
t_•ecül
)

1010  
Ál£
;

1012 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
s_equÆ
)

1013 
pNode
->
vÆue
.
ivÆ
 = 
n_equÆ
;

1014 i‡(
tokíLi°
[
tokíLi°Index
].
ivÆ
 =
s_nŸEquÆ
)

1015 
pNode
->
vÆue
.
ivÆ
 = 
n_nŸEquÆ
;

1017  
Ál£
;

1021 
	`checkNextTokíInLi°
();

1022 
tokíLi°Index
++;

1023 
pNode
->
right
->
ty≥
 = 
n_vÆue
;

1025 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 =
t_öãgî
)

1027 
pNode
->
right
->
vÆue
.
ty≥
 = 
v_öt
;

1028 
pNode
->
right
->
vÆue
.
ivÆ
 = 
tokíLi°
[
tokíLi°Index
].ival;

1030 i‡(
tokíLi°
[
tokíLi°Index
].
ty≥
 =
t_°rög
)

1032 
pNode
->
right
->
vÆue
.
ty≥
 = 
v_ch¨
;

1033 
pNode
->
right
->
vÆue
.
svÆ
 = 
√w
 [
	`°æí
(
tokíLi°
[
tokíLi°Index
].sval)+1];

1034 
	`°r˝y
(
pNode
->
right
->
vÆue
.
svÆ
,
tokíLi°
[
tokíLi°Index
].sval);

1037  
Ál£
;

1040 *
±okíLi°Index
 = 
tokíLi°Index
;

1041  
åue
;

1042 
	}
}

1045 
boﬁ
 
	gsql
::
	$behavi‹Gíî©‹
()

1047 
°©emít
)

1049 
°_¸óã
:

1050 if(!
	`doCª©eStmt
())

1051  
Ál£
;

1054 
°_ö£π
:

1055 if(!
	`doIn£πStmt
())

1056  
Ál£
;

1059 
°_£À˘
:

1060 if(!
	`doSñe˘Stmt
())

1061  
Ál£
;

1065  
Ál£
;

1067  
åue
;

1068 
	}
}

1070 
boﬁ
 
	gsql
::
	$doCª©eStmt
()

1072 
pCﬁumnSåu˘
 
p
,
t
;

1073 
p
 = 
¸óãSåu˘
.
cﬁumnLi°
;

1075 
èbÀIndex
;

1076 
èbÀIndex
 = 
gis
.
	`¸óãTabÀ
(
¸óãSåu˘
.
èbÀName
);

1078 i‡(
èbÀIndex
 != -1)

1083 
	`¥ötf
("Eº‹ whíÅryögÅÿ¸óã TabÀ %†\n",
¸óãSåu˘
.
èbÀName
);

1085 
dñëe
 [] 
¸óãSåu˘
.
èbÀName
;

1086 
¸óãSåu˘
.
èbÀName
 = 
NULL
;

1088 
p
 !
NULL
)

1090 i‡(
èbÀIndex
 != -1)

1092 i‡(
gis
.
	`addCﬁumn
(
èbÀIndex
, 
p
->
«me
,Ö->
ty≥
,Ö->
nŸNuŒ
))

1095 
	`¥ötf
("Eº‹ whíÅryögÅÿadd cﬁum¿%†\n",
p
->
«me
);

1097 
t
 = 
p
;

1098 
p
 =Ö->
√xt
;

1099 
dñëe
 [] 
t
->
«me
;

1100 
dñëe
 
t
;

1102 
¸óãSåu˘
.
cﬁumnLi°
 = 
NULL
;

1104 i‡(
èbÀIndex
 != -1)

1105  
åue
;

1107  
Ál£
;

1108 
	}
}

1110 
boﬁ
 
	gsql
::
	$doIn£πStmt
()

1112 i‡(!
gis
.
	`addFótuª
(
ö£πSåu˘
.
èbÀIndex
, in£πSåu˘.
„©uªToBeIn£π
))

1114 
dñëe
 
ö£πSåu˘
.
„©uªToBeIn£π
;

1115 
ö£πSåu˘
.
„©uªToBeIn£π
 = 
NULL
;

1116  
Ál£
;

1118 
ö£πSåu˘
.
„©uªToBeIn£π
 = 
NULL
;

1119  
åue
;

1120 
	}
}

1122 
boﬁ
 
	gsql
::
	$doSñe˘Stmt
()

1124 
£À˘Såu˘
.
nFótuªs
 = 
gis
.
	`gëNumbîOfFótuªs
(£À˘Såu˘.
èbÀIndex
);

1127 i‡(
£À˘Såu˘
.
nFótuªs
 == 0)

1129 
£À˘Såu˘
.
™swîC
 = sñe˘Såu˘.
nCﬁumns
;

1130 
£À˘Såu˘
.
™swîF
 = 0;

1131  
åue
;

1134 
boﬁ
 * 
ouçut
 = 
NULL
;

1135 
ouçut
 = 
√w
 
boﬁ
[
£À˘Såu˘
.
nFótuªs
];

1137 i‡(
£À˘Såu˘
.
›î©i⁄Tªe
 =
NULL
)

1139 
i
=0;i<
£À˘Såu˘
.
nFótuªs
;i++)

1140 
ouçut
[
i
] = 1;

1144 
ouçut
 = 
	`gëOuçut
(
£À˘Såu˘
.
›î©i⁄Tªe
);

1145 
dñëe
 
£À˘Såu˘
.
›î©i⁄Tªe
;

1148 
„©uª
 
„©uª_aux
;

1149 i‡(
ouçut
 =
NULL
)

1151 
dñëe
 [] 
ouçut
;

1152  
Ál£
;

1155 
c
,
f
;

1156 
fCou¡î
 = 0;

1158 
f
=0;f<
£À˘Såu˘
.
nFótuªs
;f++)

1159 i‡(
ouçut
[
f
] == 1)

1160 
fCou¡î
++;

1162 
£À˘Såu˘
.
™swî
 = 
√w
 
vÆueSåu˘
 * [
fCou¡î
];

1164 
f
=0;f<
fCou¡î
;f++)

1165 
£À˘Såu˘
.
™swî
[
f
] = 
√w
 
vÆueSåu˘
[£À˘Såu˘.
nCﬁumns
];

1170 
c
=0;c<
£À˘Såu˘
.
nCﬁumns
;c++)

1172 
	`¥ötf
("%s\t", 
gis
.
	`gëCﬁumnName
(
£À˘Såu˘
.
èbÀIndex
,£À˘Såu˘.
cﬁumns
[
c
]));

1174 
	`¥ötf
("\n");

1176 
fCou¡î
 = 0;

1177 
f
=0;f<
£À˘Såu˘
.
nFótuªs
;f++)

1178 i‡(
ouçut
[
f
] == 1)

1180 
„©uª_aux
 = 
gis
.
	`gëFótuª
(
£À˘Såu˘
.
èbÀIndex
,
f
);

1181 
c
=0;c<
£À˘Såu˘
.
nCﬁumns
;c++)

1183 i‡(
„©uª_aux
.
vÆueAºay
[
£À˘Såu˘
.
cﬁumns
[
c
]].
ty≥
 =
v_öt
)

1184 
	`¥ötf
("%d\t", 
„©uª_aux
.
vÆueAºay
[
£À˘Såu˘
.
cﬁumns
[
c
]].
ivÆ
);

1185 i‡(
„©uª_aux
.
vÆueAºay
[
£À˘Såu˘
.
cﬁumns
[
c
]].
ty≥
 =
v_ch¨
)

1186 
	`¥ötf
("%s\t", 
„©uª_aux
.
vÆueAºay
[
£À˘Såu˘
.
cﬁumns
[
c
]].
svÆ
);

1188 
	`¥ötf
("\t");

1190 
£À˘Såu˘
.
™swî
[
fCou¡î
][
c
] = 
„©uª_aux
.
vÆueAºay
[£À˘Såu˘.
cﬁumns
[c]];

1193 
	`¥ötf
("\n");

1195 
fCou¡î
++;

1198 
£À˘Såu˘
.
™swîC
 = sñe˘Såu˘.
nCﬁumns
;

1199 
£À˘Såu˘
.
™swîF
 = 
fCou¡î
;

1201 
dñëe
 [] 
ouçut
;

1202  
åue
;

1203 
	}
}

1205 
boﬁ
 * 
	gsql
::
	$gëOuçut
(
›î©i⁄Node
 * 
pNode
)

1207 
pNode
->
ty≥
)

1209 
n_n⁄e
:

1211  
	`gëOuçut
(
pNode
->
À·
);

1214 
n_›î©‹
:

1216  
gis
.
	`sim∂eSñe˘
(
£À˘Såu˘
.
èbÀIndex
, 
pNode
->
À·
->
vÆue
.
ivÆ
,ÖNode->
right
->value,ÖNode->value.ival);

1219 
n_logicO≥øt‹
:

1222 
boﬁ
 *
ouçut
 = 
NULL
;

1223 
boﬁ
 *
À·Ouçut
 = 
NULL
;

1224 
boﬁ
 *
rightOuçut
 = 
NULL
;

1225 
ouçut
 = 
√w
 
boﬁ
[
£À˘Såu˘
.
nFótuªs
];

1226 
À·Ouçut
 = 
	`gëOuçut
(
pNode
->
À·
);

1227 
rightOuçut
 = 
	`gëOuçut
(
pNode
->
right
);

1228 i‡((
À·Ouçut
 =
NULL
Ë|| (
rightOuçut
 == NULL))

1234 
dñëe
 [] 
À·Ouçut
;

1235 
dñëe
 [] 
rightOuçut
;

1236  
NULL
;

1239 i‡(
pNode
->
vÆue
.
ivÆ
 =
n_™d
)

1241 
i
=0; i<
£À˘Såu˘
.
nFótuªs
; i++)

1243 
ouçut
[
i
] = (
À·Ouçut
[i] && 
rightOuçut
[i]);

1246 i‡(
pNode
->
vÆue
.
ivÆ
 =
n_‹
)

1248 
i
=0; i<
£À˘Såu˘
.
nFótuªs
; i++)

1250 
ouçut
[
i
] = (
À·Ouçut
[i] || 
rightOuçut
[i]);

1255 
dñëe
 [] 
À·Ouçut
;

1256 
dñëe
 [] 
rightOuçut
;

1257  
NULL
;

1260 
dñëe
 [] 
À·Ouçut
;

1261 
dñëe
 [] 
rightOuçut
;

1262  
ouçut
;

1267  
NULL
;

1269 
	}
}

1271 
pCﬁumnSåu˘
 
	gsql
::
	$poötToLa°Cﬁumn
()

1273 
pCﬁumnSåu˘
 
p
;

1274 
p
 = 
¸óãSåu˘
.
cﬁumnLi°
;

1275 i‡(
p
 =
NULL
)

1276  (
NULL
);

1278 
p
->
√xt
 !
NULL
)

1279 
p
 =Ö ->
√xt
;

1281  (
p
);

1282 
	}
}

1284 
	gsql
::
	$‰ìTokíLi°
()

1286 
i
=0;i<
nSt‹edTokís
;i++)

1287 i‡(
tokíLi°
[
i
].
ty≥
 =
t_idítifõr
 ||ÅokíLi°[i].ty≥ =
t_°rög
)

1289 
dñëe
 [] 
tokíLi°
[
i
].
svÆ
;

1291 
	}
}

1297 
	g›î©i⁄Node
::
	$›î©i⁄Node
()

1299 
À·
 = 
NULL
;

1300 
right
 = 
NULL
;

1301 
ty≥
 = 
n_n⁄e
;

1302 
	}
}

1305 
	g›î©i⁄Node
::~
	$›î©i⁄Node
()

1307 
dñëe
 
À·
;

1308 
dñëe
 
right
;

1309 i‡(
ty≥
 =
n_vÆue
)

1310 if(
vÆue
.
ty≥
 =
t_°rög
)

1311 
dñëe
 [] 
vÆue
.
svÆ
;

1312 
	}
}

	@processors/featureNavigator/sql.h

15 #i‚de‡
_SQL_H


16 
	#_SQL_H


	)

18 
	~"d©aba£.h
"

19 
	~"../../comm⁄/c⁄figFûe/c⁄figFûe.h
"

21 
	~<°dio.h
>

22 
	~<°rög.h
>

23 
	~<˘y≥.h
>

24 
	~<°dlib.h
>

28 
	#MAX_FEATURES
 30

	)

29 
	#numbîOfKeyw‹ds
 14

	)

30 
	#keyw‹dsLígth
 10

	)

31 
	#maxTokíLígth
 50

	)

32 
	#tokíLi°Lígth
 50

	)

34 
	#EOS
 '\0'

	)

35 
	#quŸ©i⁄M¨k
 '\''

	)

36 
	#•ecülTokís
 "(),*=<>"

	)

37 
	#idítifõrS≥cülCh¨s
 "_-."

	)

38 
	#bœnkSåög
 " "

	)

41 
	#noM‹eTokís
 
tokíLi°Index
+1 =
nSt‹edTokís


	)

42 
	#checkNextTokíInLi°
(Ëi‡(
noM‹eTokís
) 
Ál£


	)

43 
	#numbîOfIãms
(
¨øy
Ë◊ºay)/◊ºay[0])

	)

46 
	#DONT_WRITE_IN_FILE
 
Ál£


	)

47 
	#fú°Tokí
 
åue


	)

48 
	#√xtTokí
 
Ál£


	)

49 
	#tokí
 
tokíBuf„r


	)

52 
	#t_keyw‹d
 0

	)

53 
	#t_idítifõr
 1

	)

54 
	#t_öãgî
 2

	)

55 
	#t_°rög
 3

	)

56 
	#t_•ecül
 4

	)

61 
	#k_¸óã
 0

	)

62 
	#k_èbÀ
 1

	)

63 
	#k_ch¨
 2

	)

64 
	#k_öt
 3

	)

65 
	#k_nŸ
 4

	)

66 
	#k_nuŒ
 5

	)

67 
	#k_ö£π
 6

	)

68 
	#k_öto
 7

	)

69 
	#k_vÆues
 8

	)

70 
	#k_£À˘
 9

	)

71 
	#k_‰om
 10

	)

72 
	#k_whîe
 11

	)

73 
	#k_™d
 12

	)

74 
	#k_‹
 13

	)

79 
	#s_À·P¨í
 1

80 
	#s_rightP¨í
 2

81 
	#s_coma
 3

82 
	#s_°¨
 4

83 
	#s_equÆ
 5

84 
	#s_ÀssTh™
 6

85 
	#s_gª©îTh™
 7

86 
	#s_nŸEquÆ
 8

87 

	)

90 
	#°_n⁄e
 0

	)

91 
	#°_¸óã
 1

	)

92 
	#°_ö£π
 2

	)

93 
	#°_£À˘
 3

	)

97 
	#n_n⁄e
 0

	)

98 
	#n_›î©‹
 1

	)

99 
	#n_logicO≥øt‹
 2

	)

100 
	#n_cﬁumn
 3

	)

101 
	#n_vÆue
 4

	)

104 
	#n_equÆ
 5

	)

105 
	#n_nŸEquÆ
 8

	)

106 
	#n_™d
 12

	)

107 
	#n_‹
 13

	)

111 
	#c_coma
 ','

	)

112 
	#c_n⁄e
 'EOS'

	)

113 
	#c_À·P¨í
 '('

	)

114 
	#c_rightP¨í
 ')'

	)

123 
	scﬁumnSåu˘Mﬁd


125 * 
	m«me
;

126 
	mty≥
;

127 
boﬁ
 
	mnŸNuŒ
;

128 
cﬁumnSåu˘Mﬁd
 *
	m√xt
;

129 }
	tcﬁumnSåu˘
, *
	tpCﬁumnSåu˘
;

131 
	s¸óãSåu˘Mﬁd


133 * 
	mèbÀName
;

134 
pCﬁumnSåu˘
 
	mcﬁumnLi°
;

135 }
	t¸óã_°ru˘
;

137 
	sö£πSåu˘Mﬁd


139 
	mèbÀIndex
;

141 
„©uª
* 
	m„©uªToBeIn£π
;

142 }
	tö£π_°ru˘
;

144 ˛as†
	c›î©i⁄Node


146 
	m¥iv©e
:

148 
public
:

150 
›î©i⁄Node
();

152 ~
›î©i⁄Node
();

154 
›î©i⁄Node
 * 
	mÀ·
;

155 
›î©i⁄Node
 * 
	mright
;

156 
	mty≥
;

157 
vÆueSåu˘
 
	mvÆue
;

169 
	s£À˘Såu˘Mﬁd


171 * 
	mèbÀName
;

172 
	mèbÀIndex
;

173 
	mnFótuªs
;

174 
boﬁ
 
	mÆl
;

175 
	mcﬁumns
[
numbîOfCﬁumns
];

176 
	mnCﬁumns
;

178 
›î©i⁄Node
 * 
	m›î©i⁄Tªe
;

179 
vÆueSåu˘
 ** 
	m™swî
;

180 
	m™swîF
;

181 
	m™swîC
;

182 }
	t£À˘_°ru˘
;

184 ˛as†
	csql


186 
	m¥iv©e
:

188 
d©aba£
 
gis
;

189 
¸óã_°ru˘
 
	m¸óãSåu˘
;

190 
ö£π_°ru˘
 
	mö£πSåu˘
;

191 
£À˘_°ru˘
 
	m£À˘Såu˘
;

192 
boﬁ
 
	misNewComm™d
;

193 
	mtokíBuf„r
[
maxTokíLígth
];

195 
vÆueSåu˘
 
	mtokíLi°
[
tokíLi°Lígth
];

196 
	mnSt‹edTokís
;

197 
	m°©emít
;

198 
FILE
 * 
	mdbFûe
;

199 
°rög
 
	mdb_«me
;

201 
boﬁ
 
ÀxiˇlA«ly£r
 (c⁄° * 
comm™d
);

202 
boﬁ
 
gëTokí
 (c⁄° *
buf„r
, c⁄° *
dñimôîs
, c⁄° *
•ecTokís
);

203 
boﬁ
 
idítifyTokí
 ();

204 
boﬁ
 
isTokíKeyw‹d
 ();

205 
boﬁ
 
isTokíIdítifõr
 ();

206 
boﬁ
 
isTokíI¡egî
 ();

207 
boﬁ
 
isTokíSåög
 ();

208 
boﬁ
 
isTokíS≥cül
 ();

210 
isO√Of
(
c
, c⁄° *
li°
);

211 
c⁄vîtToUµîCa£
 (*);

212 
ôﬂ
 ();

214 
boﬁ
 
∑r£r
();

215 
boﬁ
 
∑rsCª©eStmt
();

216 
boﬁ
 
∑rsCª©eI≈ut
(*);

217 
boﬁ
 
∑rsIn£πStmt
();

218 
boﬁ
 
∑rsSñe˘Stmt
();

219 
boﬁ
 
∑rsWhîeI≈ut
(* 
±okíLi°Index
, 
›î©i⁄Node
 * 
pNode
);

220 
boﬁ
 
∑rsLogiˇlI≈ut
(* 
±okíLi°Index
, 
›î©i⁄Node
 * 
pNode
);

221 
boﬁ
 
∑rsWhîeC⁄dôi⁄
(* 
±okíLi°Index
, 
›î©i⁄Node
 * 
pNode
);

223 
‰ìTokíLi°
();

225 
boﬁ
 
behavi‹Gíî©‹
();

226 
boﬁ
 
doCª©eStmt
();

227 
boﬁ
 
doIn£πStmt
();

228 
boﬁ
 
doSñe˘Stmt
();

229 
boﬁ
 * 
gëOuçut
(
›î©i⁄Node
 * 
pNode
);

231 
pCﬁumnSåu˘
 
poötToLa°Cﬁumn
();

234 
	mpublic
:

236 
sql
();

238 ~
sql
();

240 
comm™d
 (c⁄° *, 
boﬁ
 = 
åue
);

241 
vÆueSåu˘
 ** 
gëSñe˘Answî
(*, *);

242 
boﬁ
 
checkPªviousDB
();

	@processors/laser/CImg.h

56 #i‚de‡
cimg_vîsi⁄


57 
	#cimg_vîsi⁄
 158

	)

73 
	~<c°dio
>

74 
	~<c°dlib
>

75 
	~<c°d¨g
>

76 
	~<c°rög
>

77 
	~<cm©h
>

78 
	~<˘ime
>

79 
	~<ex˚±i⁄
>

87 #i‚de‡
cimg_OS


88 #i‡
deföed
(
unix
Ë|| deföed(
__unix
Ë|| deföed(
__unix__
) \

89 || 
deföed
(
löux
Ë|| deföed(
__löux
Ë|| deföed(
__löux__
) \

90 || 
deföed
(
sun
Ë|| deföed(
__sun
) \

91 || 
deföed
(
BSD
Ë|| deföed(
__O≥nBSD__
Ë|| deföed(
__NëBSD__
) \

92 || 
deföed
(
__FªeBSD__
Ë|| deföed (
__Døg⁄Fly__
) \

93 || 
deföed
(
sgi
Ë|| deföed(
__sgi
) \

94 || 
deföed
(
__MACOSX__
Ë|| deföed(
__APPLE__
) \

95 || 
	$deföed
(
__CYGWIN__
)

96 
	#cimg_OS
 1

	)

97 #ñi‡
	`deföed
(
_MSC_VER
Ë|| deföed(
WIN32
Ë|| deföed(
_WIN32
Ë|| deföed(
__WIN32__
) \

98 || 
	`deföed
(
WIN64
Ë|| deföed(
_WIN64
Ë|| 
	$deföed
(
__WIN64__
)

99 
	#cimg_OS
 2

	)

101 
	#cimg_OS
 0

	)

103 #ñi‡!(
cimg_OS
==0 || cimg_OS==1 || cimg_OS==2)

104 #îr‹ 
CImg
 
Libøry
: 
InvÆid
 
c⁄figuøti⁄
 
v¨übÀ
 'cimg_OS'.

105 #îr‹ (
c‹ª˘
 
vÆues
 
¨e
 '0 = unknown OS', '1 = Unix-like OS', '2 = Microsoft Windows').

109 #ifde‡
_MSC_VER


110 #¥agm®
	`w¨nög
(
push
)

111 #¥agm®
	`w¨nög
(
dißbÀ
:4311)

112 #¥agm®
	`w¨nög
(
dißbÀ
:4312)

113 #¥agm®
	`w¨nög
(
dißbÀ
:4800)

114 #¥agm®
	`w¨nög
(
dißbÀ
:4804)

115 #¥agm®
	`w¨nög
(
dißbÀ
:4996)

116 
	#_CRT_SECURE_NO_DEPRECATE
 1

	)

117 
	#_CRT_NONSTDC_NO_DEPRECATE
 1

	)

121 #i‡
cimg_OS
==1

122 
	~<sys/ty≥s.h
>

123 
	~<sys/time.h
>

124 
	~<uni°d.h
>

125 #ñi‡
cimg_OS
==2

126 #i‚de‡
NOMINMAX


127 
	#NOMINMAX


	)

129 
	~<wödows.h
>

130 #i‚de‡
_WIN32_IE


131 
	#_WIN32_IE
 0x0400

	)

133 
	~<shlobj.h
>

134 
	~<¥o˚ss.h
>

135 
	~<io.h
>

136 
	#cimg_¢¥ötf
 
_¢¥ötf


	)

137 
	#cimg_v¢¥ötf
 
_v¢¥ötf


	)

139 #i‚de‡
cimg_¢¥ötf


140 
	~<°dio.h
>

141 
	#cimg_¢¥ötf
 
¢¥ötf


	)

142 
	#cimg_v¢¥ötf
 
v¢¥ötf


	)

148 #i‚de‡
cimg_fûe_£∑øt‹


149 #i‡
cimg_OS
==2

150 
	#cimg_fûe_£∑øt‹
 '\\'

	)

152 
	#cimg_fûe_£∑øt‹
 '/'

	)

167 #i‚de‡
cimg_vîbosôy


168 
	#cimg_vîbosôy
 2

	)

169 #ñi‡!(
cimg_vîbosôy
==0 || cimg_verbosity==1 || cimg_verbosity==2 || cimg_verbosity==3 || cimg_verbosity==4)

170 #îr‹ 
CImg
 
Libøry
: 
C⁄figuøti⁄
 
v¨übÀ
 'cimg_vîbosôy' 
is
 
badly
 
deföed
.

171 #îr‹ (
should
 
be
 { 0=
quõt
 | 1=
c⁄sﬁe
 | 2=
dülog
 | 3=c⁄sﬁe+
w¨nögs
 | 4=dülog+w¨nög†
	}
}).

179 #i‚de‡
cimg_di•œy


180 #i‡
cimg_OS
==0

181 
	#cimg_di•œy
 0

	)

182 #ñi‡
cimg_OS
==1

183 #i‡
deföed
(
__MACOSX__
Ë|| deföed(
__APPLE__
)

184 
	#cimg_di•œy
 1

	)

186 
	#cimg_di•œy
 1

	)

188 #ñi‡
cimg_OS
==2

189 
	#cimg_di•œy
 2

	)

191 #ñi‡!(
cimg_di•œy
==0 || cimg_display==1 || cimg_display==2)

192 #îr‹ 
CImg
 
Libøry
: 
C⁄figuøti⁄
 
v¨übÀ
 'cimg_di•œy' 
is
 
badly
 
deföed
.

193 #îr‹ (
should
 
be
 { 0=
n⁄e
 | 1=
X
-
Wödow
 (
X11
Ë| 2=
Mi¸oso·
 
GDI32
 }).

197 #i‡
cimg_di•œy
==1

198 
	~<X11/Xlib.h
>

199 
	~<X11/Xutû.h
>

200 
	~<X11/keysym.h
>

201 
	~<±hªad.h
>

202 #ifde‡
cimg_u£_xshm


203 
	~<sys/ùc.h
>

204 
	~<sys/shm.h
>

205 
	~<X11/exãnsi⁄s/XShm.h
>

207 #ifde‡
cimg_u£_xøndr


208 
	~<X11/exãnsi⁄s/Xøndr.h
>

211 #i‚de‡
cimg_≠≤ame


212 
	#cimg_≠≤ame
 "CImg"

	)

222 #ifde‡
cimg_u£_›ímp


223 
	~"omp.h
"

233 #ifde‡
cimg_u£_›ícv


234 #ifde‡
True


235 #unde‡
True


236 
	#_cimg_ªdeföe_True


	)

238 #ifde‡
FÆ£


239 #unde‡
FÆ£


240 
	#_cimg_ªdeföe_FÆ£


	)

242 
	~<c°ddef
>

243 
	~"cv.h
"

244 
	~"highgui.h
"

254 #ifde‡
cimg_u£_≤g


256 
	~"≤g.h
"

267 #ifde‡
cimg_u£_j≥g


269 
	~"j≥glib.h
"

270 
	~"£tjmp.h
"

281 #ifde‡
cimg_u£_tiff


283 
	#uöt64
 
uöt64_hack_


	)

284 
	#öt64
 
öt64_hack_


	)

285 
	~"tiffio.h
"

286 #unde‡
uöt64


287 #unde‡
öt64


298 #ifde‡
cimg_u£_möc2


299 
	~"möc_io_sim∂e_vﬁume.h
"

300 
	~"möc_1_sim∂e.h
"

301 
	~"möc_1_sim∂e_rw.h
"

312 #ifde‡
cimg_u£_ffm≥g


313 #i‡(
deföed
(
_STDINT_H
Ë|| deföed(
_STDINT_H_
)Ë&& !deföed(
UINT64_C
)

316 #i‚de‡
__STDC_CONSTANT_MACROS


317 
	#__STDC_CONSTANT_MACROS


319 "C" {

	)

320 
	~<libavf‹m©/avf‹m©.h
>

321 
	~<libavcodec/avcodec.h
>

322 
	~<libswsˇÀ/swsˇÀ.h
>

333 #ifde‡
cimg_u£_zlib


335 
	~"zlib.h
"

346 #ifde‡
cimg_u£_magick


347 
	~"Magick++.h
"

358 #ifde‡
cimg_u£_f·w3


360 
	~"f·w3.h
"

372 #ifde‡
cimg_u£_bﬂrd


373 #ifde‡
N⁄e


374 #unde‡
N⁄e


375 
	#_cimg_ªdeföe_N⁄e


	)

377 
	~"Bﬂrd.h
"

387 #ifde‡
cimg_u£_›íexr


388 
	~"ImfRgbaFûe.h
"

389 
	~"ImfI≈utFûe.h
"

390 
	~"ImfCh™√lLi°.h
"

391 
	~"ImfM©rixAâribuã.h
"

392 
	~"ImfAºay.h
"

402 #ifde‡
cimg_u£_œ∑ck


404 
sgërf_
(*, *, *, *, *, *);

405 
sgëri_
(*, *, *, *, *, *, *);

406 
sgërs_
(*, *, *, *, *, *, *, *, *);

407 
sgesvd_
(*, *, *, *, *, *, *, *, *, *, *, *, *, *);

408 
ssyev_
(*, *, *, *, *, *, *, *, *);

409 
dgërf_
(*, *, *, *, *, *);

410 
dgëri_
(*, *, *, *, *, *, *);

411 
dgërs_
(*, *, *, *, *, *, *, *, *);

412 
dgesvd_
(*, *, *, *, *, *, *, *, *, *, *, *, *, *);

413 
dsyev_
(*, *, *, *, *, *, *, *, *);

414 
dgñs_
(*, *,*,*,*,*,*,*,*,*,*);

415 
sgñs_
(*, *,*,*,*,*,*,*,*,*,*);

425 #ifde‡
mö


426 #unde‡
mö


427 
	#_cimg_ªdeföe_mö


	)

429 #ifde‡
max


430 #unde‡
max


431 
	#_cimg_ªdeföe_max


	)

433 #ifde‡
PI


434 #unde‡
PI


435 
	#_cimg_ªdeföe_PI


	)

442 #ifde‡
cimg_«me•a˚_suffix


443 
	#__cimg_libøry_suffixed
(
s
Ë
cimg_libøry_
##
	)
s

444 
	#_cimg_libøry_suffixed
(
s
Ë
	`__cimg_libøry_suffixed
(s)

	)

445 
	#cimg_libøry_suffixed
 
	`_cimg_libøry_suffixed
(
cimg_«me•a˚_suffix
)

	)

447 
	#cimg_libøry_suffixed
 
cimg_libøry


	)

460 
	#cimg_ußge
(
ußge
Ë
cimg_libøry_suffixed
::
cimg
::
	`›ti⁄
((*)0,
¨gc
,
¨gv
,(*)0,ußge,
Ál£
)

	)

461 
	#cimg_hñp
(
°r
Ë
cimg_libøry_suffixed
::
cimg
::
	`›ti⁄
((*)0,
¨gc
,
¨gv
,°r,(*)0)

	)

462 
	#cimg_›ti⁄
(
«me
,
deÁut
,
ußge
Ë
cimg_libøry_suffixed
::
cimg
::
	`›ti⁄
“ame,
¨gc
,
¨gv
,deÁut,ußge)

	)

463 
	#cimg_¨gumít
(
pos
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
)

	)

464 
	#cimg_¨gumít1
(
pos
,
s0
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,1,s0)

	)

465 
	#cimg_¨gumít2
(
pos
,
s0
,
s1
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,2,s0,s1)

	)

466 
	#cimg_¨gumít3
(
pos
,
s0
,
s1
,
s2
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,3,s0,s1,s2)

	)

467 
	#cimg_¨gumít4
(
pos
,
s0
,
s1
,
s2
,
s3
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,4,s0,s1,s2,s3)

	)

468 
	#cimg_¨gumít5
(
pos
,
s0
,
s1
,
s2
,
s3
,
s4
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,5,s0,s1,s2,s3,s4)

	)

469 
	#cimg_¨gumít6
(
pos
,
s0
,
s1
,
s2
,
s3
,
s4
,
s5
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,6,s0,s1,s2,s3,s4,s5)

	)

470 
	#cimg_¨gumít7
(
pos
,
s0
,
s1
,
s2
,
s3
,
s4
,
s5
,
s6
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,7,s0,s1,s2,s3,s4,s5,s6)

	)

471 
	#cimg_¨gumít8
(
pos
,
s0
,
s1
,
s2
,
s3
,
s4
,
s5
,
s6
,
s7
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,8,s0,s1,s2,s3,s4,s5,s6,s7)

	)

472 
	#cimg_¨gumít9
(
pos
,
s0
,
s1
,
s2
,
s3
,
s4
,
s5
,
s6
,
s7
,
s8
Ë
cimg_libøry_suffixed
::
cimg
::
	`¨gumít
’os,
¨gc
,
¨gv
,9,s0,s1,s2,s3,s4,s5,s6,s7,s8)

	)

475 
	#CImg_2x2
(
I
,
T
) T I[4]; \

476 
T
& 
I
##
cc
 = I[0]; T& I##
nc
 = I[1]; \

477 
T
& 
I
##
˙
 = I[2]; T& I##
¬
 = I[3]; \

478 
I
##
cc
 = I##
nc
 = \

479 
I
##
˙
 = I##
¬
 = 0

	)

481 
	#CImg_3x3
(
I
,
T
) T I[9]; \

482 
T
& 
I
##
µ
 = I[0]; T& I##
˝
 = I[1]; T& I##
≈
 = I[2]; \

483 
T
& 
I
##
pc
 = I[3]; T& I##
cc
 = I[4]; T& I##
nc
 = I[5]; \

484 
T
& 
I
##
≤
 = I[6]; T& I##
˙
 = I[7]; T& I##
¬
 = I[8]; \

485 
I
##
µ
 = I##
˝
 = I##
≈
 = \

486 
I
##
pc
 = I##
cc
 = I##
nc
 = \

487 
I
##
≤
 = I##
˙
 = I##
¬
 = 0

	)

489 
	#CImg_4x4
(
I
,
T
) T I[16]; \

490 
T
& 
I
##
µ
 = I[0]; T& I##
˝
 = I[1]; T& I##
≈
 = I[2]; T& I##
≠
 = I[3]; \

491 
T
& 
I
##
pc
 = I[4]; T& I##
cc
 = I[5]; T& I##
nc
 = I[6]; T& I##
ac
 = I[7]; \

492 
T
& 
I
##
≤
 = I[8]; T& I##
˙
 = I[9]; T& I##
¬
 = I[10]; T& I##
™
 = I[11]; \

493 
T
& 
I
##
∑
 = I[12]; T& I##
ˇ
 = I[13]; T& I##
«
 = I[14]; T& I##
Ø
 = I[15]; \

494 
I
##
µ
 = I##
˝
 = I##
≈
 = I##
≠
 = \

495 
I
##
pc
 = I##
cc
 = I##
nc
 = I##
ac
 = \

496 
I
##
≤
 = I##
˙
 = I##
¬
 = I##
™
 = \

497 
I
##
∑
 = I##
ˇ
 = I##
«
 = I##
Ø
 = 0

	)

499 
	#CImg_5x5
(
I
,
T
) T I[25]; \

500 
T
& 
I
##
bb
 = I[0]; T& I##
pb
 = I[1]; T& I##
cb
 = I[2]; T& I##
nb
 = I[3]; T& I##
ab
 = I[4]; \

501 
T
& 
I
##
bp
 = I[5]; T& I##
µ
 = I[6]; T& I##
˝
 = I[7]; T& I##
≈
 = I[8]; T& I##
≠
 = I[9]; \

502 
T
& 
I
##
bc
 = I[10]; T& I##
pc
 = I[11]; T& I##
cc
 = I[12]; T& I##
nc
 = I[13]; T& I##
ac
 = I[14]; \

503 
T
& 
I
##
bn
 = I[15]; T& I##
≤
 = I[16]; T& I##
˙
 = I[17]; T& I##
¬
 = I[18]; T& I##
™
 = I[19]; \

504 
T
& 
I
##
ba
 = I[20]; T& I##
∑
 = I[21]; T& I##
ˇ
 = I[22]; T& I##
«
 = I[23]; T& I##
Ø
 = I[24]; \

505 
I
##
bb
 = I##
pb
 = I##
cb
 = I##
nb
 = I##
ab
 = \

506 
I
##
bp
 = I##
µ
 = I##
˝
 = I##
≈
 = I##
≠
 = \

507 
I
##
bc
 = I##
pc
 = I##
cc
 = I##
nc
 = I##
ac
 = \

508 
I
##
bn
 = I##
≤
 = I##
˙
 = I##
¬
 = I##
™
 = \

509 
I
##
ba
 = I##
∑
 = I##
ˇ
 = I##
«
 = I##
Ø
 = 0

	)

511 
	#CImg_2x2x2
(
I
,
T
) T I[8]; \

512 
T
& 
I
##
ccc
 = I[0]; T& I##
ncc
 = I[1]; \

513 
T
& 
I
##
˙c
 = I[2]; T& I##
¬c
 = I[3]; \

514 
T
& 
I
##
c˙
 = I[4]; T& I##
n˙
 = I[5]; \

515 
T
& 
I
##
˙n
 = I[6]; T& I##
¬n
 = I[7]; \

516 
I
##
ccc
 = I##
ncc
 = \

517 
I
##
˙c
 = I##
¬c
 = \

518 
I
##
c˙
 = I##
n˙
 = \

519 
I
##
˙n
 = I##
¬n
 = 0

	)

521 
	#CImg_3x3x3
(
I
,
T
) T I[27]; \

522 
T
& 
I
##
µp
 = I[0]; T& I##
˝p
 = I[1]; T& I##
≈p
 = I[2]; \

523 
T
& 
I
##
p˝
 = I[3]; T& I##
c˝
 = I[4]; T& I##
n˝
 = I[5]; \

524 
T
& 
I
##
≤p
 = I[6]; T& I##
˙p
 = I[7]; T& I##
¬p
 = I[8]; \

525 
T
& 
I
##
µc
 = I[9]; T& I##
˝c
 = I[10]; T& I##
≈c
 = I[11]; \

526 
T
& 
I
##
pcc
 = I[12]; T& I##
ccc
 = I[13]; T& I##
ncc
 = I[14]; \

527 
T
& 
I
##
≤c
 = I[15]; T& I##
˙c
 = I[16]; T& I##
¬c
 = I[17]; \

528 
T
& 
I
##
µn
 = I[18]; T& I##
˝n
 = I[19]; T& I##
≈n
 = I[20]; \

529 
T
& 
I
##
p˙
 = I[21]; T& I##
c˙
 = I[22]; T& I##
n˙
 = I[23]; \

530 
T
& 
I
##
≤n
 = I[24]; T& I##
˙n
 = I[25]; T& I##
¬n
 = I[26]; \

531 
I
##
µp
 = I##
˝p
 = I##
≈p
 = \

532 
I
##
p˝
 = I##
c˝
 = I##
n˝
 = \

533 
I
##
≤p
 = I##
˙p
 = I##
¬p
 = \

534 
I
##
µc
 = I##
˝c
 = I##
≈c
 = \

535 
I
##
pcc
 = I##
ccc
 = I##
ncc
 = \

536 
I
##
≤c
 = I##
˙c
 = I##
¬c
 = \

537 
I
##
µn
 = I##
˝n
 = I##
≈n
 = \

538 
I
##
p˙
 = I##
c˙
 = I##
n˙
 = \

539 
I
##
≤n
 = I##
˙n
 = I##
¬n
 = 0

	)

541 
	#cimg_gë2x2
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

542 
I
[0] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[1] = (T)(img)(
_n1
##x,y,z,c), I[2] = (T)(img)(x,_n1##y,z,c), I[3] = (T)(img)(_n1##x,_n1##y,z,c)

	)

544 
	#cimg_gë3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

545 
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[1] = (T)(img)(x,_p1##y,z,c), I[2] = (T)(img)(
_n1
##x,_p1##y,z,c), I[3] = (T)(img)(_p1##x,y,z,c), \

546 
I
[4] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[5] = (T)(img)(
_n1
##x,y,z,c), I[6] = (T)(img)(
_p1
##x,_n1##y,z,c), I[7] = (T)(img)(x,_n1##y,z,c), \

547 
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)

	)

549 
	#cimg_gë4x4
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

550 
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[1] = (T)(img)(x,_p1##y,z,c), I[2] = (T)(img)(
_n1
##x,_p1##y,z,c), I[3] = (T)(img)(
_n2
##x,_p1##y,z,c), \

551 
I
[4] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
), I[5] = (T)(img)(x,y,z,c), I[6] = (T)(img)(
_n1
##x,y,z,c), I[7] = (T)(img)(
_n2
##x,y,z,c), \

552 
I
[8] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
), I[9] = (T)(img)(x,_n1##y,z,c), I[10] = (T)(img)(_n1##x,_n1##y,z,c), I[11] = (T)(img)(
_n2
##x,_n1##y,z,c), \

553 
I
[12] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
), I[13] = (T)(img)(x,_n2##y,z,c), I[14] = (T)(img)(
_n1
##x,_n2##y,z,c), I[15] = (T)(img)(_n2##x,_n2##y,z,c)

	)

555 
	#cimg_gë5x5
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

556 
I
[0] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
), I[1] = (T)(img)(
_p1
##x,_p2##y,z,c), I[2] = (T)(img)(x,_p2##y,z,c), I[3] = (T)(img)(
_n1
##x,_p2##y,z,c), \

557 
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
), I[5] = (T)(img)(_p2##x,
_p1
##y,z,c), I[6] = (T)(img)(_p1##x,_p1##y,z,c), I[7] = (T)(img)(x,_p1##y,z,c), \

558 
I
[8] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
), I[9] = (T)(img)(
_n2
##x,_p1##y,z,c), I[10] = (T)(img)(
_p2
##x,y,z,c), I[11] = (T)(img)(_p1##x,y,z,c), \

559 
I
[12] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[13] = (T)(img)(
_n1
##x,y,z,c), I[14] = (T)(img)(
_n2
##x,y,z,c), I[15] = (T)(img)(
_p2
##x,_n1##y,z,c), \

560 
I
[16] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
), I[17] = (T)(img)(x,_n1##y,z,c), I[18] = (T)(img)(_n1##x,_n1##y,z,c), I[19] = (T)(img)(
_n2
##x,_n1##y,z,c), \

561 
I
[20] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
), I[21] = (T)(img)(
_p1
##x,_n2##y,z,c), I[22] = (T)(img)(x,_n2##y,z,c), I[23] = (T)(img)(
_n1
##x,_n2##y,z,c), \

562 
I
[24] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)

	)

564 
	#cimg_gë6x6
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

565 
I
[0] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
), I[1] = (T)(img)(
_p1
##x,_p2##y,z,c), I[2] = (T)(img)(x,_p2##y,z,c), I[3] = (T)(img)(
_n1
##x,_p2##y,z,c), \

566 
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
), I[5] = (T)(img)(
_n3
##x,_p2##y,z,c), I[6] = (T)(img)(_p2##x,
_p1
##y,z,c), I[7] = (T)(img)(_p1##x,_p1##y,z,c), \

567 
I
[8] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
), I[9] = (T)(img)(
_n1
##x,_p1##y,z,c), I[10] = (T)(img)(
_n2
##x,_p1##y,z,c), I[11] = (T)(img)(
_n3
##x,_p1##y,z,c), \

568 
I
[12] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
), I[13] = (T)(img)(
_p1
##x,y,z,c), I[14] = (T)(img)(x,y,z,c), I[15] = (T)(img)(
_n1
##x,y,z,c), \

569 
I
[16] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
), I[17] = (T)(img)(
_n3
##x,y,z,c), I[18] = (T)(img)(
_p2
##x,
_n1
##y,z,c), I[19] = (T)(img)(
_p1
##x,_n1##y,z,c), \

570 
I
[20] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
), I[21] = (T)(img)(_n1##x,_n1##y,z,c), I[22] = (T)(img)(
_n2
##x,_n1##y,z,c), I[23] = (T)(img)(
_n3
##x,_n1##y,z,c), \

571 
I
[24] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
), I[25] = (T)(img)(
_p1
##x,_n2##y,z,c), I[26] = (T)(img)(x,_n2##y,z,c), I[27] = (T)(img)(
_n1
##x,_n2##y,z,c), \

572 
I
[28] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
), I[29] = (T)(img)(
_n3
##x,_n2##y,z,c), I[30] = (T)(img)(
_p2
##x,_n3##y,z,c), I[31] = (T)(img)(
_p1
##x,_n3##y,z,c), \

573 
I
[32] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
), I[33] = (T)(img)(
_n1
##x,_n3##y,z,c), I[34] = (T)(img)(
_n2
##x,_n3##y,z,c), I[35] = (T)(img)(_n3##x,_n3##y,z,c)

	)

575 
	#cimg_gë7x7
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

576 
I
[0] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
), I[1] = (T)(img)(
_p2
##x,_p3##y,z,c), I[2] = (T)(img)(
_p1
##x,_p3##y,z,c), I[3] = (T)(img)(x,_p3##y,z,c), \

577 
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
), I[5] = (T)(img)(
_n2
##x,_p3##y,z,c), I[6] = (T)(img)(
_n3
##x,_p3##y,z,c), I[7] = (T)(img)(_p3##x,
_p2
##y,z,c), \

578 
I
[8] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
), I[9] = (T)(img)(
_p1
##x,_p2##y,z,c), I[10] = (T)(img)(x,_p2##y,z,c), I[11] = (T)(img)(
_n1
##x,_p2##y,z,c), \

579 
I
[12] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
), I[13] = (T)(img)(
_n3
##x,_p2##y,z,c), I[14] = (T)(img)(
_p3
##x,
_p1
##y,z,c), I[15] = (T)(img)(_p2##x,_p1##y,z,c), \

580 
I
[16] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[17] = (T)(img)(x,_p1##y,z,c), I[18] = (T)(img)(
_n1
##x,_p1##y,z,c), I[19] = (T)(img)(
_n2
##x,_p1##y,z,c), \

581 
I
[20] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
), I[21] = (T)(img)(
_p3
##x,y,z,c), I[22] = (T)(img)(
_p2
##x,y,z,c), I[23] = (T)(img)(_p1##x,y,z,c), \

582 
I
[24] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[25] = (T)(img)(
_n1
##x,y,z,c), I[26] = (T)(img)(
_n2
##x,y,z,c), I[27] = (T)(img)(
_n3
##x,y,z,c), \

583 
I
[28] = (
T
)(
img
)(
_p3
##
x
,
_n1
##
y
,
z
,
c
), I[29] = (T)(img)(
_p2
##x,_n1##y,z,c), I[30] = (T)(img)(
_p1
##x,_n1##y,z,c), I[31] = (T)(img)(x,_n1##y,z,c), \

584 
I
[32] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
), I[33] = (T)(img)(
_n2
##x,_n1##y,z,c), I[34] = (T)(img)(
_n3
##x,_n1##y,z,c), I[35] = (T)(img)(
_p3
##x,_n2##y,z,c), \

585 
I
[36] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
), I[37] = (T)(img)(
_p1
##x,_n2##y,z,c), I[38] = (T)(img)(x,_n2##y,z,c), I[39] = (T)(img)(
_n1
##x,_n2##y,z,c), \

586 
I
[40] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
), I[41] = (T)(img)(
_n3
##x,_n2##y,z,c), I[42] = (T)(img)(
_p3
##x,_n3##y,z,c), I[43] = (T)(img)(
_p2
##x,_n3##y,z,c), \

587 
I
[44] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
), I[45] = (T)(img)(x,_n3##y,z,c), I[46] = (T)(img)(
_n1
##x,_n3##y,z,c), I[47] = (T)(img)(
_n2
##x,_n3##y,z,c), \

588 
I
[48] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)

	)

590 
	#cimg_gë8x8
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

591 
I
[0] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
), I[1] = (T)(img)(
_p2
##x,_p3##y,z,c), I[2] = (T)(img)(
_p1
##x,_p3##y,z,c), I[3] = (T)(img)(x,_p3##y,z,c), \

592 
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
), I[5] = (T)(img)(
_n2
##x,_p3##y,z,c), I[6] = (T)(img)(
_n3
##x,_p3##y,z,c), I[7] = (T)(img)(
_n4
##x,_p3##y,z,c), \

593 
I
[8] = (
T
)(
img
)(
_p3
##
x
,
_p2
##
y
,
z
,
c
), I[9] = (T)(img)(_p2##x,_p2##y,z,c), I[10] = (T)(img)(
_p1
##x,_p2##y,z,c), I[11] = (T)(img)(x,_p2##y,z,c), \

594 
I
[12] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
), I[13] = (T)(img)(
_n2
##x,_p2##y,z,c), I[14] = (T)(img)(
_n3
##x,_p2##y,z,c), I[15] = (T)(img)(
_n4
##x,_p2##y,z,c), \

595 
I
[16] = (
T
)(
img
)(
_p3
##
x
,
_p1
##
y
,
z
,
c
), I[17] = (T)(img)(
_p2
##x,_p1##y,z,c), I[18] = (T)(img)(_p1##x,_p1##y,z,c), I[19] = (T)(img)(x,_p1##y,z,c), \

596 
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
), I[21] = (T)(img)(
_n2
##x,_p1##y,z,c), I[22] = (T)(img)(
_n3
##x,_p1##y,z,c), I[23] = (T)(img)(
_n4
##x,_p1##y,z,c), \

597 
I
[24] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
), I[25] = (T)(img)(
_p2
##x,y,z,c), I[26] = (T)(img)(
_p1
##x,y,z,c), I[27] = (T)(img)(x,y,z,c), \

598 
I
[28] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
), I[29] = (T)(img)(
_n2
##x,y,z,c), I[30] = (T)(img)(
_n3
##x,y,z,c), I[31] = (T)(img)(
_n4
##x,y,z,c), \

599 
I
[32] = (
T
)(
img
)(
_p3
##
x
,
_n1
##
y
,
z
,
c
), I[33] = (T)(img)(
_p2
##x,_n1##y,z,c), I[34] = (T)(img)(
_p1
##x,_n1##y,z,c), I[35] = (T)(img)(x,_n1##y,z,c), \

600 
I
[36] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
), I[37] = (T)(img)(
_n2
##x,_n1##y,z,c), I[38] = (T)(img)(
_n3
##x,_n1##y,z,c), I[39] = (T)(img)(
_n4
##x,_n1##y,z,c), \

601 
I
[40] = (
T
)(
img
)(
_p3
##
x
,
_n2
##
y
,
z
,
c
), I[41] = (T)(img)(
_p2
##x,_n2##y,z,c), I[42] = (T)(img)(
_p1
##x,_n2##y,z,c), I[43] = (T)(img)(x,_n2##y,z,c), \

602 
I
[44] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
), I[45] = (T)(img)(_n2##x,_n2##y,z,c), I[46] = (T)(img)(
_n3
##x,_n2##y,z,c), I[47] = (T)(img)(
_n4
##x,_n2##y,z,c), \

603 
I
[48] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
), I[49] = (T)(img)(
_p2
##x,_n3##y,z,c), I[50] = (T)(img)(
_p1
##x,_n3##y,z,c), I[51] = (T)(img)(x,_n3##y,z,c), \

604 
I
[52] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
), I[53] = (T)(img)(
_n2
##x,_n3##y,z,c), I[54] = (T)(img)(_n3##x,_n3##y,z,c), I[55] = (T)(img)(
_n4
##x,_n3##y,z,c), \

605 
I
[56] = (
T
)(
img
)(
_p3
##
x
,
_n4
##
y
,
z
,
c
), I[57] = (T)(img)(
_p2
##x,_n4##y,z,c), I[58] = (T)(img)(
_p1
##x,_n4##y,z,c), I[59] = (T)(img)(x,_n4##y,z,c), \

606 
I
[60] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
), I[61] = (T)(img)(
_n2
##x,_n4##y,z,c), I[62] = (T)(img)(
_n3
##x,_n4##y,z,c), I[63] = (T)(img)(_n4##x,_n4##y,z,c);

	)

608 
	#cimg_gë9x9
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

609 
I
[0] = (
T
)(
img
)(
_p4
##
x
,_p4##
y
,
z
,
c
), I[1] = (T)(img)(
_p3
##x,_p4##y,z,c), I[2] = (T)(img)(
_p2
##x,_p4##y,z,c), I[3] = (T)(img)(
_p1
##x,_p4##y,z,c), \

610 
I
[4] = (
T
)(
img
)(
x
,
_p4
##
y
,
z
,
c
), I[5] = (T)(img)(
_n1
##x,_p4##y,z,c), I[6] = (T)(img)(
_n2
##x,_p4##y,z,c), I[7] = (T)(img)(
_n3
##x,_p4##y,z,c), \

611 
I
[8] = (
T
)(
img
)(
_n4
##
x
,
_p4
##
y
,
z
,
c
), I[9] = (T)(img)(_p4##x,
_p3
##y,z,c), I[10] = (T)(img)(_p3##x,_p3##y,z,c), I[11] = (T)(img)(
_p2
##x,_p3##y,z,c), \

612 
I
[12] = (
T
)(
img
)(
_p1
##
x
,
_p3
##
y
,
z
,
c
), I[13] = (T)(img)(x,_p3##y,z,c), I[14] = (T)(img)(
_n1
##x,_p3##y,z,c), I[15] = (T)(img)(
_n2
##x,_p3##y,z,c), \

613 
I
[16] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
), I[17] = (T)(img)(
_n4
##x,_p3##y,z,c), I[18] = (T)(img)(
_p4
##x,
_p2
##y,z,c), I[19] = (T)(img)(_p3##x,_p2##y,z,c), \

614 
I
[20] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
), I[21] = (T)(img)(
_p1
##x,_p2##y,z,c), I[22] = (T)(img)(x,_p2##y,z,c), I[23] = (T)(img)(
_n1
##x,_p2##y,z,c), \

615 
I
[24] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
), I[25] = (T)(img)(
_n3
##x,_p2##y,z,c), I[26] = (T)(img)(
_n4
##x,_p2##y,z,c), I[27] = (T)(img)(
_p4
##x,
_p1
##y,z,c), \

616 
I
[28] = (
T
)(
img
)(
_p3
##
x
,
_p1
##
y
,
z
,
c
), I[29] = (T)(img)(
_p2
##x,_p1##y,z,c), I[30] = (T)(img)(_p1##x,_p1##y,z,c), I[31] = (T)(img)(x,_p1##y,z,c), \

617 
I
[32] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
), I[33] = (T)(img)(
_n2
##x,_p1##y,z,c), I[34] = (T)(img)(
_n3
##x,_p1##y,z,c), I[35] = (T)(img)(
_n4
##x,_p1##y,z,c), \

618 
I
[36] = (
T
)(
img
)(
_p4
##
x
,
y
,
z
,
c
), I[37] = (T)(img)(
_p3
##x,y,z,c), I[38] = (T)(img)(
_p2
##x,y,z,c), I[39] = (T)(img)(
_p1
##x,y,z,c), \

619 
I
[40] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[41] = (T)(img)(
_n1
##x,y,z,c), I[42] = (T)(img)(
_n2
##x,y,z,c), I[43] = (T)(img)(
_n3
##x,y,z,c), \

620 
I
[44] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
), I[45] = (T)(img)(
_p4
##x,
_n1
##y,z,c), I[46] = (T)(img)(
_p3
##x,_n1##y,z,c), I[47] = (T)(img)(
_p2
##x,_n1##y,z,c), \

621 
I
[48] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
), I[49] = (T)(img)(x,_n1##y,z,c), I[50] = (T)(img)(_n1##x,_n1##y,z,c), I[51] = (T)(img)(
_n2
##x,_n1##y,z,c), \

622 
I
[52] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
), I[53] = (T)(img)(
_n4
##x,_n1##y,z,c), I[54] = (T)(img)(
_p4
##x,
_n2
##y,z,c), I[55] = (T)(img)(
_p3
##x,_n2##y,z,c), \

623 
I
[56] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
), I[57] = (T)(img)(
_p1
##x,_n2##y,z,c), I[58] = (T)(img)(x,_n2##y,z,c), I[59] = (T)(img)(
_n1
##x,_n2##y,z,c), \

624 
I
[60] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
), I[61] = (T)(img)(
_n3
##x,_n2##y,z,c), I[62] = (T)(img)(
_n4
##x,_n2##y,z,c), I[63] = (T)(img)(
_p4
##x,_n3##y,z,c), \

625 
I
[64] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
), I[65] = (T)(img)(
_p2
##x,_n3##y,z,c), I[66] = (T)(img)(
_p1
##x,_n3##y,z,c), I[67] = (T)(img)(x,_n3##y,z,c), \

626 
I
[68] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
), I[69] = (T)(img)(
_n2
##x,_n3##y,z,c), I[70] = (T)(img)(_n3##x,_n3##y,z,c), I[71] = (T)(img)(
_n4
##x,_n3##y,z,c), \

627 
I
[72] = (
T
)(
img
)(
_p4
##
x
,
_n4
##
y
,
z
,
c
), I[73] = (T)(img)(
_p3
##x,_n4##y,z,c), I[74] = (T)(img)(
_p2
##x,_n4##y,z,c), I[75] = (T)(img)(
_p1
##x,_n4##y,z,c), \

628 
I
[76] = (
T
)(
img
)(
x
,
_n4
##
y
,
z
,
c
), I[77] = (T)(img)(
_n1
##x,_n4##y,z,c), I[78] = (T)(img)(
_n2
##x,_n4##y,z,c), I[79] = (T)(img)(
_n3
##x,_n4##y,z,c), \

629 
I
[80] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)

	)

631 
	#cimg_gë2x2x2
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

632 
I
[0] = (
T
)(
img
)(
x
,
y
,
z
,
c
), I[1] = (T)(img)(
_n1
##x,y,z,c), I[2] = (T)(img)(x,_n1##y,z,c), I[3] = (T)(img)(_n1##x,_n1##y,z,c), \

633 
I
[4] = (
T
)(
img
)(
x
,
y
,
_n1
##
z
,
c
), I[5] = (T)(img)(_n1##x,y,_n1##z,c), I[6] = (T)(img)(x,_n1##y,_n1##z,c), I[7] = (T)(img)(_n1##x,_n1##y,_n1##z,c)

	)

635 
	#cimg_gë3x3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

636 
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,_p1##
z
,
c
), I[1] = (T)(img)(x,_p1##y,_p1##z,c), I[2] = (T)(img)(
_n1
##x,_p1##y,_p1##z,c), \

637 
I
[3] = (
T
)(
img
)(
_p1
##
x
,
y
,_p1##
z
,
c
), I[4] = (T)(img)(x,y,_p1##z,c), I[5] = (T)(img)(
_n1
##x,y,_p1##z,c), \

638 
I
[6] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,_p1##
z
,
c
), I[7] = (T)(img)(x,_n1##y,_p1##z,c), I[8] = (T)(img)(_n1##x,_n1##y,_p1##z,c), \

639 
I
[9] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
), I[10] = (T)(img)(x,_p1##y,z,c), I[11] = (T)(img)(
_n1
##x,_p1##y,z,c), \

640 
I
[12] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
), I[13] = (T)(img)(x,y,z,c), I[14] = (T)(img)(
_n1
##x,y,z,c), \

641 
I
[15] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
), I[16] = (T)(img)(x,_n1##y,z,c), I[17] = (T)(img)(_n1##x,_n1##y,z,c), \

642 
I
[18] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
_n1
##
z
,
c
), I[19] = (T)(img)(x,_p1##y,_n1##z,c), I[20] = (T)(img)(_n1##x,_p1##y,_n1##z,c), \

643 
I
[21] = (
T
)(
img
)(
_p1
##
x
,
y
,
_n1
##
z
,
c
), I[22] = (T)(img)(x,y,_n1##z,c), I[23] = (T)(img)(_n1##x,y,_n1##z,c), \

644 
I
[24] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,_n1##
z
,
c
), I[25] = (T)(img)(x,_n1##y,_n1##z,c), I[26] = (T)(img)(_n1##x,_n1##y,_n1##z,c)

	)

649 
	#cimg_f‹
(
img
,
±rs
,
T_±rs
ËT_±r†*±r†(img).
_d©a
, *
_max
##±r†(img)._d©®+ (img).
	`size
();Öås<_max##±rs; ++±rs)

	)

650 
	#cimg_rof
(
img
,
±rs
,
T_±rs
ËT_±r†*±r†(img).
_d©a
 + (img).
	`size
(); (±rs--)>(img)._d©a; )

	)

651 
	#cimg_f‹off
(
img
,
off
Ëof‡0, 
_max
##of‡(img).
	`size
(); off<_max##off; ++off)

	)

653 
	#cimg_f‹1
(
bound
,
i
Ëò0; i<()(bound); ++i)

	)

654 
	#cimg_f‹X
(
img
,
x
Ë
	`cimg_f‹1
((img).
_width
,x)

	)

655 
	#cimg_f‹Y
(
img
,
y
Ë
	`cimg_f‹1
((img).
_height
,y)

	)

656 
	#cimg_f‹Z
(
img
,
z
Ë
	`cimg_f‹1
((img).
_dïth
,z)

	)

657 
	#cimg_f‹C
(
img
,
c
Ë
	`cimg_f‹1
((img).
_•e˘rum
,c)

	)

658 
	#cimg_f‹XY
(
img
,
x
,
y
Ë
	`cimg_f‹Y
(img,yË
	`cimg_f‹X
(img,x)

	)

659 
	#cimg_f‹XZ
(
img
,
x
,
z
Ë
	`cimg_f‹Z
(img,zË
	`cimg_f‹X
(img,x)

	)

660 
	#cimg_f‹YZ
(
img
,
y
,
z
Ë
	`cimg_f‹Z
(img,zË
	`cimg_f‹Y
(img,y)

	)

661 
	#cimg_f‹XC
(
img
,
x
,
c
Ë
	`cimg_f‹C
(img,cË
	`cimg_f‹X
(img,x)

	)

662 
	#cimg_f‹YC
(
img
,
y
,
c
Ë
	`cimg_f‹C
(img,cË
	`cimg_f‹Y
(img,y)

	)

663 
	#cimg_f‹ZC
(
img
,
z
,
c
Ë
	`cimg_f‹C
(img,cË
	`cimg_f‹Z
(img,z)

	)

664 
	#cimg_f‹XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹Z
(img,zË
	`cimg_f‹XY
(img,x,y)

	)

665 
	#cimg_f‹XYC
(
img
,
x
,
y
,
c
Ë
	`cimg_f‹C
(img,cË
	`cimg_f‹XY
(img,x,y)

	)

666 
	#cimg_f‹XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹C
(img,cË
	`cimg_f‹XZ
(img,x,z)

	)

667 
	#cimg_f‹YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹C
(img,cË
	`cimg_f‹YZ
(img,y,z)

	)

668 
	#cimg_f‹XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹C
(img,cË
	`cimg_f‹XYZ
(img,x,y,z)

	)

670 
	#cimg_rof1
(
bound
,
i
Ëò()(bound)-1; i>=0; --i)

	)

671 
	#cimg_rofX
(
img
,
x
Ë
	`cimg_rof1
((img).
_width
,x)

	)

672 
	#cimg_rofY
(
img
,
y
Ë
	`cimg_rof1
((img).
_height
,y)

	)

673 
	#cimg_rofZ
(
img
,
z
Ë
	`cimg_rof1
((img).
_dïth
,z)

	)

674 
	#cimg_rofC
(
img
,
c
Ë
	`cimg_rof1
((img).
_•e˘rum
,c)

	)

675 
	#cimg_rofXY
(
img
,
x
,
y
Ë
	`cimg_rofY
(img,yË
	`cimg_rofX
(img,x)

	)

676 
	#cimg_rofXZ
(
img
,
x
,
z
Ë
	`cimg_rofZ
(img,zË
	`cimg_rofX
(img,x)

	)

677 
	#cimg_rofYZ
(
img
,
y
,
z
Ë
	`cimg_rofZ
(img,zË
	`cimg_rofY
(img,y)

	)

678 
	#cimg_rofXC
(
img
,
x
,
c
Ë
	`cimg_rofC
(img,cË
	`cimg_rofX
(img,x)

	)

679 
	#cimg_rofYC
(
img
,
y
,
c
Ë
	`cimg_rofC
(img,cË
	`cimg_rofY
(img,y)

	)

680 
	#cimg_rofZC
(
img
,
z
,
c
Ë
	`cimg_rofC
(img,cË
	`cimg_rofZ
(img,z)

	)

681 
	#cimg_rofXYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_rofZ
(img,zË
	`cimg_rofXY
(img,x,y)

	)

682 
	#cimg_rofXYC
(
img
,
x
,
y
,
c
Ë
	`cimg_rofC
(img,cË
	`cimg_rofXY
(img,x,y)

	)

683 
	#cimg_rofXZC
(
img
,
x
,
z
,
c
Ë
	`cimg_rofC
(img,cË
	`cimg_rofXZ
(img,x,z)

	)

684 
	#cimg_rofYZC
(
img
,
y
,
z
,
c
Ë
	`cimg_rofC
(img,cË
	`cimg_rofYZ
(img,y,z)

	)

685 
	#cimg_rofXYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_rofC
(img,cË
	`cimg_rofXYZ
(img,x,y,z)

	)

687 
	#cimg_f‹_ö1
(
bound
,
i0
,
i1
,
i
) \

688 
i
 = ()(
i0
)<0?0:()(i0), 
_max
##ò()(
i1
)<()(
bound
)?()(i1):()(bound)-1; i<=_max##i; ++i)

	)

689 
	#cimg_f‹_öX
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö1
((img).
_width
,x0,x1,x)

	)

690 
	#cimg_f‹_öY
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö1
((img).
_height
,y0,y1,y)

	)

691 
	#cimg_f‹_öZ
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö1
((img).
_dïth
,z0,z1,z)

	)

692 
	#cimg_f‹_öC
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö1
((img).
_•e˘rum
,c0,c1,c)

	)

693 
	#cimg_f‹_öXY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_öY
(img,y0,y1,yË
	`cimg_f‹_öX
(img,x0,x1,x)

	)

694 
	#cimg_f‹_öXZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_öZ
(img,z0,z1,zË
	`cimg_f‹_öX
(img,x0,x1,x)

	)

695 
	#cimg_f‹_öXC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_öC
(img,c0,c1,cË
	`cimg_f‹_öX
(img,x0,x1,x)

	)

696 
	#cimg_f‹_öYZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_öZ
(img,
x0
,z1,zË
	`cimg_f‹_öY
(img,y0,y1,y)

	)

697 
	#cimg_f‹_öYC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_öC
(img,c0,c1,cË
	`cimg_f‹_öY
(img,y0,y1,y)

	)

698 
	#cimg_f‹_öZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_öC
(img,c0,c1,cË
	`cimg_f‹_öZ
(img,z0,z1,z)

	)

699 
	#cimg_f‹_öXYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_öZ
(img,z0,z1,zË
	`cimg_f‹_öXY
(img,x0,y0,x1,y1,x,y)

	)

700 
	#cimg_f‹_öXYC
(
img
,
x0
,
y0
,
c0
,
x1
,
y1
,
c1
,
x
,
y
,
c
Ë
	`cimg_f‹_öC
(img,c0,c1,cË
	`cimg_f‹_öXY
(img,x0,y0,x1,y1,x,y)

	)

701 
	#cimg_f‹_öXZC
(
img
,
x0
,
z0
,
c0
,
x1
,
z1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_öC
(img,c0,c1,cË
	`cimg_f‹_öXZ
(img,x0,z0,x1,z1,x,z)

	)

702 
	#cimg_f‹_öYZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_öC
(img,c0,c1,cË
	`cimg_f‹_öYZ
(img,y0,z0,y1,z1,y,z)

	)

703 
	#cimg_f‹_öXYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_öC
(img,c0,c1,cË
	`cimg_f‹_öXYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

704 
	#cimg_f‹_ösideX
(
img
,
x
,
n
Ë
	`cimg_f‹_öX
(img,n,(img).
_width
-1-“),x)

	)

705 
	#cimg_f‹_ösideY
(
img
,
y
,
n
Ë
	`cimg_f‹_öY
(img,n,(img).
_height
-1-“),y)

	)

706 
	#cimg_f‹_ösideZ
(
img
,
z
,
n
Ë
	`cimg_f‹_öZ
(img,n,(img).
_dïth
-1-“),z)

	)

707 
	#cimg_f‹_ösideC
(
img
,
c
,
n
Ë
	`cimg_f‹_öC
(img,n,(img).
_•e˘rum
-1-“),c)

	)

708 
	#cimg_f‹_ösideXY
(
img
,
x
,
y
,
n
Ë
	`cimg_f‹_öXY
(img,n,n,(img).
_width
-1-“),(img).
_height
-1-“),x,y)

	)

709 
	#cimg_f‹_ösideXYZ
(
img
,
x
,
y
,
z
,
n
Ë
	`cimg_f‹_öXYZ
(img,n,n,n,(img).
_width
-1-“),(img).
_height
-1-“),(img).
_dïth
-1-“),x,y,z)

	)

710 
	#cimg_f‹_ösideXYZC
(
img
,
x
,
y
,
z
,
c
,
n
Ë
	`cimg_f‹_öXYZ
(img,n,n,n,(img).
_width
-1-“),(img).
_height
-1-“),(img).
_dïth
-1-“),x,y,z)

	)

712 
	#cimg_f‹_out1
(
boundi
,
i0
,
i1
,
i
) \

713 
i
 = ()(
i0
)>0?0:()(
i1
)+1; i<()(
boundi
); ++i, i = i==()(i0)?()(i1)+1:i)

	)

714 
	#cimg_f‹_out2
(
boundi
,
boundj
,
i0
,
j0
,
i1
,
j1
,
i
,
j
) \

715 
j
 = 0; j<()(
boundj
); ++j) \

716 
_n1j
 = ()(
j
<()(
j0
Ë|| j>()(
j1
)), 
i
 = _n1j?0:()(
i0
)>0?0:()(
i1
)+1; i<()(
boundi
); \

717 ++
i
, i = 
_n1j
?i:(i==()(
i0
)?()(
i1
)+1:i))

	)

718 
	#cimg_f‹_out3
(
boundi
,
boundj
,
boundk
,
i0
,
j0
,
k0
,
i1
,
j1
,
k1
,
i
,
j
,
k
) \

719 
k
 = 0; k<()(
boundk
); ++k) \

720 
_n1k
 = ()(
k
<()(
k0
Ë|| k>()(
k1
)), 
j
 = 0; j<()(
boundj
); ++j) \

721 
_n1j
 = ()(
j
<()(
j0
Ë|| j>()(
j1
)), 
i
 = _n1j || 
_n1k
?0:()(
i0
)>0?0:()(
i1
)+1; i<()(
boundi
); \

722 ++
i
, i = 
_n1j
 || 
_n1k
?i:(i==()(
i0
)?()(
i1
)+1:i))

	)

723 
	#cimg_f‹_out4
(
boundi
,
boundj
,
boundk
,
boundl
,
i0
,
j0
,
k0
,
l0
,
i1
,
j1
,
k1
,
l1
,
i
,
j
,
k
,
l
) \

724 
l
 = 0;Ü<()(
boundl
); ++l) \

725 
_n1l
 = ()(
l
<()(
l0
Ë||Ü>()(
l1
)), 
k
 = 0; k<()(
boundk
); ++k) \

726 
_n1k
 = ()(
k
<()(
k0
Ë|| k>()(
k1
)), 
j
 = 0; j<()(
boundj
); ++j) \

727 
_n1j
 = ()(
j
<()(
j0
Ë|| j>()(
j1
)), 
i
 = _n1j || 
_n1k
 || 
_n1l
?0:()(
i0
)>0?0:()(
i1
)+1; i<()(
boundi
); \

728 ++
i
, i = 
_n1j
 || 
_n1k
 || 
_n1l
?i:(i==()(
i0
)?()(
i1
)+1:i))

	)

729 
	#cimg_f‹_outX
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_out1
((img).
_width
,x0,x1,x)

	)

730 
	#cimg_f‹_outY
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_out1
((img).
_height
,y0,y1,y)

	)

731 
	#cimg_f‹_outZ
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_out1
((img).
_dïth
,z0,z1,z)

	)

732 
	#cimg_f‹_outC
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_out1
((img).
_•e˘rum
,c0,c1,c)

	)

733 
	#cimg_f‹_outXY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_out2
((img).
_width
,(img).
_height
,x0,y0,x1,y1,x,y)

	)

734 
	#cimg_f‹_outXZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_out2
((img).
_width
,(img).
_dïth
,x0,z0,x1,z1,x,z)

	)

735 
	#cimg_f‹_outXC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_out2
((img).
_width
,(img).
_•e˘rum
,x0,c0,x1,c1,x,c)

	)

736 
	#cimg_f‹_outYZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_out2
((img).
_height
,(img).
_dïth
,y0,z0,y1,z1,y,z)

	)

737 
	#cimg_f‹_outYC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_out2
((img).
_height
,(img).
_•e˘rum
,y0,c0,y1,c1,y,c)

	)

738 
	#cimg_f‹_outZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_out2
((img).
_dïth
,(img).
_•e˘rum
,z0,c0,z1,c1,z,c)

	)

739 
	#cimg_f‹_outXYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_out3
((img).
_width
,(img).
_height
,(img).
_dïth
,x0,y0,z0,x1,y1,z1,x,y,z)

	)

740 
	#cimg_f‹_outXYC
(
img
,
x0
,
y0
,
c0
,
x1
,
y1
,
c1
,
x
,
y
,
c
Ë
	`cimg_f‹_out3
((img).
_width
,(img).
_height
,(img).
_•e˘rum
,x0,y0,c0,x1,y1,c1,x,y,c)

	)

741 
	#cimg_f‹_outXZC
(
img
,
x0
,
z0
,
c0
,
x1
,
z1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_out3
((img).
_width
,(img).
_dïth
,(img).
_•e˘rum
,x0,z0,c0,x1,z1,c1,x,z,c)

	)

742 
	#cimg_f‹_outYZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_out3
((img).
_height
,(img).
_dïth
,(img).
_•e˘rum
,y0,z0,c0,y1,z1,c1,y,z,c)

	)

743 
	#cimg_f‹_outXYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
) \

744 
	`cimg_f‹_out4
((
img
).
_width
,(img).
_height
,(img).
_dïth
,(img).
_•e˘rum
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
)

	)

745 
	#cimg_f‹_b‹dîX
(
img
,
x
,
n
Ë
	`cimg_f‹_outX
(img,n,(img).
_width
-1-“),x)

	)

746 
	#cimg_f‹_b‹dîY
(
img
,
y
,
n
Ë
	`cimg_f‹_outY
(img,n,(img).
_height
-1-“),y)

	)

747 
	#cimg_f‹_b‹dîZ
(
img
,
z
,
n
Ë
	`cimg_f‹_outZ
(img,n,(img).
_dïth
-1-“),z)

	)

748 
	#cimg_f‹_b‹dîC
(
img
,
c
,
n
Ë
	`cimg_f‹_outC
(img,n,(img).
_•e˘rum
-1-“),c)

	)

749 
	#cimg_f‹_b‹dîXY
(
img
,
x
,
y
,
n
Ë
	`cimg_f‹_outXY
(img,n,n,(img).
_width
-1-“),(img).
_height
-1-“),x,y)

	)

750 
	#cimg_f‹_b‹dîXYZ
(
img
,
x
,
y
,
z
,
n
Ë
	`cimg_f‹_outXYZ
(img,n,n,n,(img).
_width
-1-“),(img).
_height
-1-“),(img).
_dïth
-1-“),x,y,z)

	)

751 
	#cimg_f‹_b‹dîXYZC
(
img
,
x
,
y
,
z
,
c
,
n
) \

752 
	`cimg_f‹_outXYZC
(
img
,
n
,n,n,n,(img).
_width
-1-“),(img).
_height
-1-“),(img).
_dïth
-1-“),(img).
_•e˘rum
-1-“),
x
,
y
,
z
,
c
)

	)

754 
	#cimg_f‹_•úÆXY
(
img
,
x
,
y
) \

755 
x
 = 0, 
y
 = 0, 
_n1
##x = 1, _n1##y = (
img
).
	`width
()*(img).
	`height
(); _n1##y; \

756 --
_n1
##
y
, _n1##
x
+=(_n1##x>>2)-((!(_n1##x&3)?--y:((_n1##x&3)==1?(
img
).
_width
-1-++x:((_n1##x&3)==2?(img).
_height
-1-++y:--x))))?0:1)

	)

758 
	#cimg_f‹_löeXY
(
x
,
y
,
x0
,
y0
,
x1
,
y1
) \

759 
x
 = ()(
x0
), 
y
 = ()(
y0
), 
_sx
 = 1, 
_sy
 = 1, 
_°ìp
 = 0, \

760 
_dx
=(
x1
)>(
x0
)?()(x1)-()(x0):(
_sx
=-1,()(x0)-()(x1)), \

761 
_dy
=(
y1
)>(
y0
)?()(y1)-()(y0):(
_sy
=-1,()(y0)-()(y1)), \

762 
_cou¡î
 = 
_dx
, \

763 
_îr
 = 
_dx
>
_dy
?(_dy>>1):((
_°ìp
=1),(
_cou¡î
=_dy),(_dx>>1)); \

764 
_cou¡î
>=0; \

765 --
_cou¡î
, 
x
+=
_°ìp
? \

766 (
y
+=
_sy
,(
_îr
-=
_dx
)<0?_îr+=
_dy
,
_sx
:0): \

767 (
y
+=(
_îr
-=
_dy
)<0?_îr+=
_dx
,
_sy
:0,
_sx
))

	)

769 
	#cimg_f‹2
(
bound
,
i
) \

770 
i
 = 0, 
_n1
##ò1>=(
bound
)?()(bound)-1:1; \

771 
_n1
##
i
<()(
bound
) || i==--_n1##i; \

772 ++
i
, ++
_n1
##i)

	)

773 
	#cimg_f‹2X
(
img
,
x
Ë
	`cimg_f‹2
((img).
_width
,x)

	)

774 
	#cimg_f‹2Y
(
img
,
y
Ë
	`cimg_f‹2
((img).
_height
,y)

	)

775 
	#cimg_f‹2Z
(
img
,
z
Ë
	`cimg_f‹2
((img).
_dïth
,z)

	)

776 
	#cimg_f‹2C
(
img
,
c
Ë
	`cimg_f‹2
((img).
_•e˘rum
,c)

	)

777 
	#cimg_f‹2XY
(
img
,
x
,
y
Ë
	`cimg_f‹2Y
(img,yË
	`cimg_f‹2X
(img,x)

	)

778 
	#cimg_f‹2XZ
(
img
,
x
,
z
Ë
	`cimg_f‹2Z
(img,zË
	`cimg_f‹2X
(img,x)

	)

779 
	#cimg_f‹2XC
(
img
,
x
,
c
Ë
	`cimg_f‹2C
(img,cË
	`cimg_f‹2X
(img,x)

	)

780 
	#cimg_f‹2YZ
(
img
,
y
,
z
Ë
	`cimg_f‹2Z
(img,zË
	`cimg_f‹2Y
(img,y)

	)

781 
	#cimg_f‹2YC
(
img
,
y
,
c
Ë
	`cimg_f‹2C
(img,cË
	`cimg_f‹2Y
(img,y)

	)

782 
	#cimg_f‹2ZC
(
img
,
z
,
c
Ë
	`cimg_f‹2C
(img,cË
	`cimg_f‹2Z
(img,z)

	)

783 
	#cimg_f‹2XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹2Z
(img,zË
	`cimg_f‹2XY
(img,x,y)

	)

784 
	#cimg_f‹2XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹2C
(img,cË
	`cimg_f‹2XZ
(img,x,z)

	)

785 
	#cimg_f‹2YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹2C
(img,cË
	`cimg_f‹2YZ
(img,y,z)

	)

786 
	#cimg_f‹2XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹2C
(img,cË
	`cimg_f‹2XYZ
(img,x,y,z)

	)

788 
	#cimg_f‹_ö2
(
bound
,
i0
,
i1
,
i
) \

789 
i
 = ()(
i0
)<0?0:()(i0), \

790 
_n1
##
i
 = i+1>=()(
bound
)?()(bound)-1:i+1; \

791 
i
<=()(
i1
Ë&& (
_n1
##i<()(
bound
) || i==--_n1##i); \

792 ++
i
, ++
_n1
##i)

	)

793 
	#cimg_f‹_ö2X
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö2
((img).
_width
,x0,x1,x)

	)

794 
	#cimg_f‹_ö2Y
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö2
((img).
_height
,y0,y1,y)

	)

795 
	#cimg_f‹_ö2Z
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö2
((img).
_dïth
,z0,z1,z)

	)

796 
	#cimg_f‹_ö2C
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö2
((img).
_•e˘rum
,c0,c1,c)

	)

797 
	#cimg_f‹_ö2XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_ö2Y
(img,y0,y1,yË
	`cimg_f‹_ö2X
(img,x0,x1,x)

	)

798 
	#cimg_f‹_ö2XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_ö2Z
(img,z0,z1,zË
	`cimg_f‹_ö2X
(img,x0,x1,x)

	)

799 
	#cimg_f‹_ö2XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_ö2C
(img,c0,c1,cË
	`cimg_f‹_ö2X
(img,x0,x1,x)

	)

800 
	#cimg_f‹_ö2YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_ö2Z
(img,z0,z1,zË
	`cimg_f‹_ö2Y
(img,y0,y1,y)

	)

801 
	#cimg_f‹_ö2YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_ö2C
(img,c0,c1,cË
	`cimg_f‹_ö2Y
(img,y0,y1,y)

	)

802 
	#cimg_f‹_ö2ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_ö2C
(img,c0,c1,cË
	`cimg_f‹_ö2Z
(img,z0,z1,z)

	)

803 
	#cimg_f‹_ö2XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_ö2Z
(img,z0,z1,zË
	`cimg_f‹_ö2XY
(img,x0,y0,x1,y1,x,y)

	)

804 
	#cimg_f‹_ö2XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_ö2C
(img,c0,c1,cË
	`cimg_f‹_ö2XZ
(img,x0,
y0
,x1,y1,x,z)

	)

805 
	#cimg_f‹_ö2YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_ö2C
(img,c0,c1,cË
	`cimg_f‹_ö2YZ
(img,y0,z0,y1,z1,y,z)

	)

806 
	#cimg_f‹_ö2XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_ö2C
(img,c0,c1,cË
	`cimg_f‹_ö2XYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

808 
	#cimg_f‹3
(
bound
,
i
) \

809 
i
 = 0, 
_p1
##i = 0, \

810 
_n1
##
i
 = 1>=(
bound
)?()(bound)-1:1; \

811 
_n1
##
i
<()(
bound
) || i==--_n1##i; \

812 
_p1
##
i
 = i++, ++
_n1
##i)

	)

813 
	#cimg_f‹3X
(
img
,
x
Ë
	`cimg_f‹3
((img).
_width
,x)

	)

814 
	#cimg_f‹3Y
(
img
,
y
Ë
	`cimg_f‹3
((img).
_height
,y)

	)

815 
	#cimg_f‹3Z
(
img
,
z
Ë
	`cimg_f‹3
((img).
_dïth
,z)

	)

816 
	#cimg_f‹3C
(
img
,
c
Ë
	`cimg_f‹3
((img).
_•e˘rum
,c)

	)

817 
	#cimg_f‹3XY
(
img
,
x
,
y
Ë
	`cimg_f‹3Y
(img,yË
	`cimg_f‹3X
(img,x)

	)

818 
	#cimg_f‹3XZ
(
img
,
x
,
z
Ë
	`cimg_f‹3Z
(img,zË
	`cimg_f‹3X
(img,x)

	)

819 
	#cimg_f‹3XC
(
img
,
x
,
c
Ë
	`cimg_f‹3C
(img,cË
	`cimg_f‹3X
(img,x)

	)

820 
	#cimg_f‹3YZ
(
img
,
y
,
z
Ë
	`cimg_f‹3Z
(img,zË
	`cimg_f‹3Y
(img,y)

	)

821 
	#cimg_f‹3YC
(
img
,
y
,
c
Ë
	`cimg_f‹3C
(img,cË
	`cimg_f‹3Y
(img,y)

	)

822 
	#cimg_f‹3ZC
(
img
,
z
,
c
Ë
	`cimg_f‹3C
(img,cË
	`cimg_f‹3Z
(img,z)

	)

823 
	#cimg_f‹3XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹3Z
(img,zË
	`cimg_f‹3XY
(img,x,y)

	)

824 
	#cimg_f‹3XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹3C
(img,cË
	`cimg_f‹3XZ
(img,x,z)

	)

825 
	#cimg_f‹3YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹3C
(img,cË
	`cimg_f‹3YZ
(img,y,z)

	)

826 
	#cimg_f‹3XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹3C
(img,cË
	`cimg_f‹3XYZ
(img,x,y,z)

	)

828 
	#cimg_f‹_ö3
(
bound
,
i0
,
i1
,
i
) \

829 
i
 = ()(
i0
)<0?0:()(i0), \

830 
_p1
##
i
 = i-1<0?0:i-1, \

831 
_n1
##
i
 = i+1>=()(
bound
)?()(bound)-1:i+1; \

832 
i
<=()(
i1
Ë&& (
_n1
##i<()(
bound
) || i==--_n1##i); \

833 
_p1
##
i
 = i++, ++
_n1
##i)

	)

834 
	#cimg_f‹_ö3X
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö3
((img).
_width
,x0,x1,x)

	)

835 
	#cimg_f‹_ö3Y
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö3
((img).
_height
,y0,y1,y)

	)

836 
	#cimg_f‹_ö3Z
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö3
((img).
_dïth
,z0,z1,z)

	)

837 
	#cimg_f‹_ö3C
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö3
((img).
_•e˘rum
,c0,c1,c)

	)

838 
	#cimg_f‹_ö3XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_ö3Y
(img,y0,y1,yË
	`cimg_f‹_ö3X
(img,x0,x1,x)

	)

839 
	#cimg_f‹_ö3XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_ö3Z
(img,z0,z1,zË
	`cimg_f‹_ö3X
(img,x0,x1,x)

	)

840 
	#cimg_f‹_ö3XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_ö3C
(img,c0,c1,cË
	`cimg_f‹_ö3X
(img,x0,x1,x)

	)

841 
	#cimg_f‹_ö3YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_ö3Z
(img,z0,z1,zË
	`cimg_f‹_ö3Y
(img,y0,y1,y)

	)

842 
	#cimg_f‹_ö3YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_ö3C
(img,c0,c1,cË
	`cimg_f‹_ö3Y
(img,y0,y1,y)

	)

843 
	#cimg_f‹_ö3ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_ö3C
(img,c0,c1,cË
	`cimg_f‹_ö3Z
(img,z0,z1,z)

	)

844 
	#cimg_f‹_ö3XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_ö3Z
(img,z0,z1,zË
	`cimg_f‹_ö3XY
(img,x0,y0,x1,y1,x,y)

	)

845 
	#cimg_f‹_ö3XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_ö3C
(img,c0,c1,cË
	`cimg_f‹_ö3XZ
(img,x0,
y0
,x1,y1,x,z)

	)

846 
	#cimg_f‹_ö3YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_ö3C
(img,c0,c1,cË
	`cimg_f‹_ö3YZ
(img,y0,z0,y1,z1,y,z)

	)

847 
	#cimg_f‹_ö3XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_ö3C
(img,c0,c1,cË
	`cimg_f‹_ö3XYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

849 
	#cimg_f‹4
(
bound
,
i
) \

850 
i
 = 0, 
_p1
##ò0, 
_n1
##ò1>=(
bound
)?()(bound)-1:1, \

851 
_n2
##
i
 = 2>=(
bound
)?()(bound)-1:2; \

852 
_n2
##
i
<()(
bound
Ë|| 
_n1
##i==--_n2##i || i==(_n2##i = --_n1##i); \

853 
_p1
##
i
 = i++, ++
_n1
##i, ++
_n2
##i)

	)

854 
	#cimg_f‹4X
(
img
,
x
Ë
	`cimg_f‹4
((img).
_width
,x)

	)

855 
	#cimg_f‹4Y
(
img
,
y
Ë
	`cimg_f‹4
((img).
_height
,y)

	)

856 
	#cimg_f‹4Z
(
img
,
z
Ë
	`cimg_f‹4
((img).
_dïth
,z)

	)

857 
	#cimg_f‹4C
(
img
,
c
Ë
	`cimg_f‹4
((img).
_•e˘rum
,c)

	)

858 
	#cimg_f‹4XY
(
img
,
x
,
y
Ë
	`cimg_f‹4Y
(img,yË
	`cimg_f‹4X
(img,x)

	)

859 
	#cimg_f‹4XZ
(
img
,
x
,
z
Ë
	`cimg_f‹4Z
(img,zË
	`cimg_f‹4X
(img,x)

	)

860 
	#cimg_f‹4XC
(
img
,
x
,
c
Ë
	`cimg_f‹4C
(img,cË
	`cimg_f‹4X
(img,x)

	)

861 
	#cimg_f‹4YZ
(
img
,
y
,
z
Ë
	`cimg_f‹4Z
(img,zË
	`cimg_f‹4Y
(img,y)

	)

862 
	#cimg_f‹4YC
(
img
,
y
,
c
Ë
	`cimg_f‹4C
(img,cË
	`cimg_f‹4Y
(img,y)

	)

863 
	#cimg_f‹4ZC
(
img
,
z
,
c
Ë
	`cimg_f‹4C
(img,cË
	`cimg_f‹4Z
(img,z)

	)

864 
	#cimg_f‹4XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹4Z
(img,zË
	`cimg_f‹4XY
(img,x,y)

	)

865 
	#cimg_f‹4XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹4C
(img,cË
	`cimg_f‹4XZ
(img,x,z)

	)

866 
	#cimg_f‹4YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹4C
(img,cË
	`cimg_f‹4YZ
(img,y,z)

	)

867 
	#cimg_f‹4XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹4C
(img,cË
	`cimg_f‹4XYZ
(img,x,y,z)

	)

869 
	#cimg_f‹_ö4
(
bound
,
i0
,
i1
,
i
) \

870 
i
 = ()(
i0
)<0?0:()(i0), \

871 
_p1
##
i
 = i-1<0?0:i-1, \

872 
_n1
##
i
 = i+1>=()(
bound
)?()(bound)-1:i+1, \

873 
_n2
##
i
 = i+2>=()(
bound
)?()(bound)-1:i+2; \

874 
i
<=()(
i1
Ë&& (
_n2
##i<()(
bound
Ë|| 
_n1
##i==--_n2##i || i==(_n2##i = --_n1##i)); \

875 
_p1
##
i
 = i++, ++
_n1
##i, ++
_n2
##i)

	)

876 
	#cimg_f‹_ö4X
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö4
((img).
_width
,x0,x1,x)

	)

877 
	#cimg_f‹_ö4Y
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö4
((img).
_height
,y0,y1,y)

	)

878 
	#cimg_f‹_ö4Z
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö4
((img).
_dïth
,z0,z1,z)

	)

879 
	#cimg_f‹_ö4C
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö4
((img).
_•e˘rum
,c0,c1,c)

	)

880 
	#cimg_f‹_ö4XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_ö4Y
(img,y0,y1,yË
	`cimg_f‹_ö4X
(img,x0,x1,x)

	)

881 
	#cimg_f‹_ö4XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_ö4Z
(img,z0,z1,zË
	`cimg_f‹_ö4X
(img,x0,x1,x)

	)

882 
	#cimg_f‹_ö4XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_ö4C
(img,c0,c1,cË
	`cimg_f‹_ö4X
(img,x0,x1,x)

	)

883 
	#cimg_f‹_ö4YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_ö4Z
(img,z0,z1,zË
	`cimg_f‹_ö4Y
(img,y0,y1,y)

	)

884 
	#cimg_f‹_ö4YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_ö4C
(img,c0,c1,cË
	`cimg_f‹_ö4Y
(img,y0,y1,y)

	)

885 
	#cimg_f‹_ö4ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_ö4C
(img,c0,c1,cË
	`cimg_f‹_ö4Z
(img,z0,z1,z)

	)

886 
	#cimg_f‹_ö4XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_ö4Z
(img,z0,z1,zË
	`cimg_f‹_ö4XY
(img,x0,y0,x1,y1,x,y)

	)

887 
	#cimg_f‹_ö4XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_ö4C
(img,c0,c1,cË
	`cimg_f‹_ö4XZ
(img,x0,
y0
,x1,y1,x,z)

	)

888 
	#cimg_f‹_ö4YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_ö4C
(img,c0,c1,cË
	`cimg_f‹_ö4YZ
(img,y0,z0,y1,z1,y,z)

	)

889 
	#cimg_f‹_ö4XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_ö4C
(img,c0,c1,cË
	`cimg_f‹_ö4XYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

891 
	#cimg_f‹5
(
bound
,
i
) \

892 
i
 = 0, 
_p2
##ò0, 
_p1
##i = 0, \

893 
_n1
##
i
 = 1>=(
bound
)?()(bound)-1:1, \

894 
_n2
##
i
 = 2>=(
bound
)?()(bound)-1:2; \

895 
_n2
##
i
<()(
bound
Ë|| 
_n1
##i==--_n2##i || i==(_n2##i = --_n1##i); \

896 
_p2
##
i
 = 
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i)

	)

897 
	#cimg_f‹5X
(
img
,
x
Ë
	`cimg_f‹5
((img).
_width
,x)

	)

898 
	#cimg_f‹5Y
(
img
,
y
Ë
	`cimg_f‹5
((img).
_height
,y)

	)

899 
	#cimg_f‹5Z
(
img
,
z
Ë
	`cimg_f‹5
((img).
_dïth
,z)

	)

900 
	#cimg_f‹5C
(
img
,
c
Ë
	`cimg_f‹5
((img).
_•e˘rum
,c)

	)

901 
	#cimg_f‹5XY
(
img
,
x
,
y
Ë
	`cimg_f‹5Y
(img,yË
	`cimg_f‹5X
(img,x)

	)

902 
	#cimg_f‹5XZ
(
img
,
x
,
z
Ë
	`cimg_f‹5Z
(img,zË
	`cimg_f‹5X
(img,x)

	)

903 
	#cimg_f‹5XC
(
img
,
x
,
c
Ë
	`cimg_f‹5C
(img,cË
	`cimg_f‹5X
(img,x)

	)

904 
	#cimg_f‹5YZ
(
img
,
y
,
z
Ë
	`cimg_f‹5Z
(img,zË
	`cimg_f‹5Y
(img,y)

	)

905 
	#cimg_f‹5YC
(
img
,
y
,
c
Ë
	`cimg_f‹5C
(img,cË
	`cimg_f‹5Y
(img,y)

	)

906 
	#cimg_f‹5ZC
(
img
,
z
,
c
Ë
	`cimg_f‹5C
(img,cË
	`cimg_f‹5Z
(img,z)

	)

907 
	#cimg_f‹5XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹5Z
(img,zË
	`cimg_f‹5XY
(img,x,y)

	)

908 
	#cimg_f‹5XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹5C
(img,cË
	`cimg_f‹5XZ
(img,x,z)

	)

909 
	#cimg_f‹5YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹5C
(img,cË
	`cimg_f‹5YZ
(img,y,z)

	)

910 
	#cimg_f‹5XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹5C
(img,cË
	`cimg_f‹5XYZ
(img,x,y,z)

	)

912 
	#cimg_f‹_ö5
(
bound
,
i0
,
i1
,
i
) \

913 
i
 = ()(
i0
)<0?0:()(i0), \

914 
_p2
##
i
 = i-2<0?0:i-2, \

915 
_p1
##
i
 = i-1<0?0:i-1, \

916 
_n1
##
i
 = i+1>=()(
bound
)?()(bound)-1:i+1, \

917 
_n2
##
i
 = i+2>=()(
bound
)?()(bound)-1:i+2; \

918 
i
<=()(
i1
Ë&& (
_n2
##i<()(
bound
Ë|| 
_n1
##i==--_n2##i || i==(_n2##i = --_n1##i)); \

919 
_p2
##
i
 = 
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i)

	)

920 
	#cimg_f‹_ö5X
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö5
((img).
_width
,x0,x1,x)

	)

921 
	#cimg_f‹_ö5Y
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö5
((img).
_height
,y0,y1,y)

	)

922 
	#cimg_f‹_ö5Z
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö5
((img).
_dïth
,z0,z1,z)

	)

923 
	#cimg_f‹_ö5C
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö5
((img).
_•e˘rum
,c0,c1,c)

	)

924 
	#cimg_f‹_ö5XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_ö5Y
(img,y0,y1,yË
	`cimg_f‹_ö5X
(img,x0,x1,x)

	)

925 
	#cimg_f‹_ö5XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_ö5Z
(img,z0,z1,zË
	`cimg_f‹_ö5X
(img,x0,x1,x)

	)

926 
	#cimg_f‹_ö5XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_ö5C
(img,c0,c1,cË
	`cimg_f‹_ö5X
(img,x0,x1,x)

	)

927 
	#cimg_f‹_ö5YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_ö5Z
(img,z0,z1,zË
	`cimg_f‹_ö5Y
(img,y0,y1,y)

	)

928 
	#cimg_f‹_ö5YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_ö5C
(img,c0,c1,cË
	`cimg_f‹_ö5Y
(img,y0,y1,y)

	)

929 
	#cimg_f‹_ö5ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_ö5C
(img,c0,c1,cË
	`cimg_f‹_ö5Z
(img,z0,z1,z)

	)

930 
	#cimg_f‹_ö5XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_ö5Z
(img,z0,z1,zË
	`cimg_f‹_ö5XY
(img,x0,y0,x1,y1,x,y)

	)

931 
	#cimg_f‹_ö5XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_ö5C
(img,c0,c1,cË
	`cimg_f‹_ö5XZ
(img,x0,
y0
,x1,y1,x,z)

	)

932 
	#cimg_f‹_ö5YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_ö5C
(img,c0,c1,cË
	`cimg_f‹_ö5YZ
(img,y0,z0,y1,z1,y,z)

	)

933 
	#cimg_f‹_ö5XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_ö5C
(img,c0,c1,cË
	`cimg_f‹_ö5XYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

935 
	#cimg_f‹6
(
bound
,
i
) \

936 
i
 = 0, 
_p2
##ò0, 
_p1
##i = 0, \

937 
_n1
##
i
 = 1>=(
bound
)?()(bound)-1:1, \

938 
_n2
##
i
 = 2>=(
bound
)?()(bound)-1:2, \

939 
_n3
##
i
 = 3>=(
bound
)?()(bound)-1:3; \

940 
_n3
##
i
<()(
bound
Ë|| 
_n2
##i==--_n3##ò|| 
_n1
##i==--_n2##i || i==(_n3##i = _n2##i = --_n1##i); \

941 
_p2
##
i
 = 
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i)

	)

942 
	#cimg_f‹6X
(
img
,
x
Ë
	`cimg_f‹6
((img).
_width
,x)

	)

943 
	#cimg_f‹6Y
(
img
,
y
Ë
	`cimg_f‹6
((img).
_height
,y)

	)

944 
	#cimg_f‹6Z
(
img
,
z
Ë
	`cimg_f‹6
((img).
_dïth
,z)

	)

945 
	#cimg_f‹6C
(
img
,
c
Ë
	`cimg_f‹6
((img).
_•e˘rum
,c)

	)

946 
	#cimg_f‹6XY
(
img
,
x
,
y
Ë
	`cimg_f‹6Y
(img,yË
	`cimg_f‹6X
(img,x)

	)

947 
	#cimg_f‹6XZ
(
img
,
x
,
z
Ë
	`cimg_f‹6Z
(img,zË
	`cimg_f‹6X
(img,x)

	)

948 
	#cimg_f‹6XC
(
img
,
x
,
c
Ë
	`cimg_f‹6C
(img,cË
	`cimg_f‹6X
(img,x)

	)

949 
	#cimg_f‹6YZ
(
img
,
y
,
z
Ë
	`cimg_f‹6Z
(img,zË
	`cimg_f‹6Y
(img,y)

	)

950 
	#cimg_f‹6YC
(
img
,
y
,
c
Ë
	`cimg_f‹6C
(img,cË
	`cimg_f‹6Y
(img,y)

	)

951 
	#cimg_f‹6ZC
(
img
,
z
,
c
Ë
	`cimg_f‹6C
(img,cË
	`cimg_f‹6Z
(img,z)

	)

952 
	#cimg_f‹6XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹6Z
(img,zË
	`cimg_f‹6XY
(img,x,y)

	)

953 
	#cimg_f‹6XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹6C
(img,cË
	`cimg_f‹6XZ
(img,x,z)

	)

954 
	#cimg_f‹6YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹6C
(img,cË
	`cimg_f‹6YZ
(img,y,z)

	)

955 
	#cimg_f‹6XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹6C
(img,cË
	`cimg_f‹6XYZ
(img,x,y,z)

	)

957 
	#cimg_f‹_ö6
(
bound
,
i0
,
i1
,
i
) \

958 
i
 = ()(
i0
)<0?0:()(i0), \

959 
_p2
##
i
 = i-2<0?0:i-2, \

960 
_p1
##
i
 = i-1<0?0:i-1, \

961 
_n1
##
i
 = i+1>=()(
bound
)?()(bound)-1:i+1, \

962 
_n2
##
i
 = i+2>=()(
bound
)?()(bound)-1:i+2, \

963 
_n3
##
i
 = i+3>=()(
bound
)?()(bound)-1:i+3; \

964 
i
<=()(
i1
Ë&& (
_n3
##i<()(
bound
Ë|| 
_n2
##i==--_n3##ò|| 
_n1
##i==--_n2##i || i==(_n3##i = _n2##i = --_n1##i)); \

965 
_p2
##
i
 = 
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i)

	)

966 
	#cimg_f‹_ö6X
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö6
((img).
_width
,x0,x1,x)

	)

967 
	#cimg_f‹_ö6Y
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö6
((img).
_height
,y0,y1,y)

	)

968 
	#cimg_f‹_ö6Z
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö6
((img).
_dïth
,z0,z1,z)

	)

969 
	#cimg_f‹_ö6C
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö6
((img).
_•e˘rum
,c0,c1,c)

	)

970 
	#cimg_f‹_ö6XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_ö6Y
(img,y0,y1,yË
	`cimg_f‹_ö6X
(img,x0,x1,x)

	)

971 
	#cimg_f‹_ö6XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_ö6Z
(img,z0,z1,zË
	`cimg_f‹_ö6X
(img,x0,x1,x)

	)

972 
	#cimg_f‹_ö6XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_ö6C
(img,c0,c1,cË
	`cimg_f‹_ö6X
(img,x0,x1,x)

	)

973 
	#cimg_f‹_ö6YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_ö6Z
(img,z0,z1,zË
	`cimg_f‹_ö6Y
(img,y0,y1,y)

	)

974 
	#cimg_f‹_ö6YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_ö6C
(img,c0,c1,cË
	`cimg_f‹_ö6Y
(img,y0,y1,y)

	)

975 
	#cimg_f‹_ö6ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_ö6C
(img,c0,c1,cË
	`cimg_f‹_ö6Z
(img,z0,z1,z)

	)

976 
	#cimg_f‹_ö6XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_ö6Z
(img,z0,z1,zË
	`cimg_f‹_ö6XY
(img,x0,y0,x1,y1,x,y)

	)

977 
	#cimg_f‹_ö6XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_ö6C
(img,c0,c1,cË
	`cimg_f‹_ö6XZ
(img,x0,
y0
,x1,y1,x,z)

	)

978 
	#cimg_f‹_ö6YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_ö6C
(img,c0,c1,cË
	`cimg_f‹_ö6YZ
(img,y0,z0,y1,z1,y,z)

	)

979 
	#cimg_f‹_ö6XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_ö6C
(img,c0,c1,cË
	`cimg_f‹_ö6XYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

981 
	#cimg_f‹7
(
bound
,
i
) \

982 
i
 = 0, 
_p3
##ò0, 
_p2
##ò0, 
_p1
##i = 0, \

983 
_n1
##
i
 = 1>=(
bound
)?()(bound)-1:1, \

984 
_n2
##
i
 = 2>=(
bound
)?()(bound)-1:2, \

985 
_n3
##
i
 = 3>=(
bound
)?()(bound)-1:3; \

986 
_n3
##
i
<()(
bound
Ë|| 
_n2
##i==--_n3##ò|| 
_n1
##i==--_n2##i || i==(_n3##i = _n2##i = --_n1##i); \

987 
_p3
##
i
 = 
_p2
##i, _p2##ò
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i)

	)

988 
	#cimg_f‹7X
(
img
,
x
Ë
	`cimg_f‹7
((img).
_width
,x)

	)

989 
	#cimg_f‹7Y
(
img
,
y
Ë
	`cimg_f‹7
((img).
_height
,y)

	)

990 
	#cimg_f‹7Z
(
img
,
z
Ë
	`cimg_f‹7
((img).
_dïth
,z)

	)

991 
	#cimg_f‹7C
(
img
,
c
Ë
	`cimg_f‹7
((img).
_•e˘rum
,c)

	)

992 
	#cimg_f‹7XY
(
img
,
x
,
y
Ë
	`cimg_f‹7Y
(img,yË
	`cimg_f‹7X
(img,x)

	)

993 
	#cimg_f‹7XZ
(
img
,
x
,
z
Ë
	`cimg_f‹7Z
(img,zË
	`cimg_f‹7X
(img,x)

	)

994 
	#cimg_f‹7XC
(
img
,
x
,
c
Ë
	`cimg_f‹7C
(img,cË
	`cimg_f‹7X
(img,x)

	)

995 
	#cimg_f‹7YZ
(
img
,
y
,
z
Ë
	`cimg_f‹7Z
(img,zË
	`cimg_f‹7Y
(img,y)

	)

996 
	#cimg_f‹7YC
(
img
,
y
,
c
Ë
	`cimg_f‹7C
(img,cË
	`cimg_f‹7Y
(img,y)

	)

997 
	#cimg_f‹7ZC
(
img
,
z
,
c
Ë
	`cimg_f‹7C
(img,cË
	`cimg_f‹7Z
(img,z)

	)

998 
	#cimg_f‹7XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹7Z
(img,zË
	`cimg_f‹7XY
(img,x,y)

	)

999 
	#cimg_f‹7XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹7C
(img,cË
	`cimg_f‹7XZ
(img,x,z)

	)

1000 
	#cimg_f‹7YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹7C
(img,cË
	`cimg_f‹7YZ
(img,y,z)

	)

1001 
	#cimg_f‹7XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹7C
(img,cË
	`cimg_f‹7XYZ
(img,x,y,z)

	)

1003 
	#cimg_f‹_ö7
(
bound
,
i0
,
i1
,
i
) \

1004 
i
 = ()(
i0
)<0?0:()(i0), \

1005 
_p3
##
i
 = i-3<0?0:i-3, \

1006 
_p2
##
i
 = i-2<0?0:i-2, \

1007 
_p1
##
i
 = i-1<0?0:i-1, \

1008 
_n1
##
i
 = i+1>=()(
bound
)?()(bound)-1:i+1, \

1009 
_n2
##
i
 = i+2>=()(
bound
)?()(bound)-1:i+2, \

1010 
_n3
##
i
 = i+3>=()(
bound
)?()(bound)-1:i+3; \

1011 
i
<=()(
i1
Ë&& (
_n3
##i<()(
bound
Ë|| 
_n2
##i==--_n3##ò|| 
_n1
##i==--_n2##i || i==(_n3##i = _n2##i = --_n1##i)); \

1012 
_p3
##
i
 = 
_p2
##i, _p2##ò
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i)

	)

1013 
	#cimg_f‹_ö7X
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö7
((img).
_width
,x0,x1,x)

	)

1014 
	#cimg_f‹_ö7Y
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö7
((img).
_height
,y0,y1,y)

	)

1015 
	#cimg_f‹_ö7Z
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö7
((img).
_dïth
,z0,z1,z)

	)

1016 
	#cimg_f‹_ö7C
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö7
((img).
_•e˘rum
,c0,c1,c)

	)

1017 
	#cimg_f‹_ö7XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_ö7Y
(img,y0,y1,yË
	`cimg_f‹_ö7X
(img,x0,x1,x)

	)

1018 
	#cimg_f‹_ö7XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_ö7Z
(img,z0,z1,zË
	`cimg_f‹_ö7X
(img,x0,x1,x)

	)

1019 
	#cimg_f‹_ö7XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_ö7C
(img,c0,c1,cË
	`cimg_f‹_ö7X
(img,x0,x1,x)

	)

1020 
	#cimg_f‹_ö7YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_ö7Z
(img,z0,z1,zË
	`cimg_f‹_ö7Y
(img,y0,y1,y)

	)

1021 
	#cimg_f‹_ö7YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_ö7C
(img,c0,c1,cË
	`cimg_f‹_ö7Y
(img,y0,y1,y)

	)

1022 
	#cimg_f‹_ö7ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_ö7C
(img,c0,c1,cË
	`cimg_f‹_ö7Z
(img,z0,z1,z)

	)

1023 
	#cimg_f‹_ö7XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_ö7Z
(img,z0,z1,zË
	`cimg_f‹_ö7XY
(img,x0,y0,x1,y1,x,y)

	)

1024 
	#cimg_f‹_ö7XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_ö7C
(img,c0,c1,cË
	`cimg_f‹_ö7XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1025 
	#cimg_f‹_ö7YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_ö7C
(img,c0,c1,cË
	`cimg_f‹_ö7YZ
(img,y0,z0,y1,z1,y,z)

	)

1026 
	#cimg_f‹_ö7XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_ö7C
(img,c0,c1,cË
	`cimg_f‹_ö7XYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

1028 
	#cimg_f‹8
(
bound
,
i
) \

1029 
i
 = 0, 
_p3
##ò0, 
_p2
##ò0, 
_p1
##i = 0, \

1030 
_n1
##
i
 = 1>=(
bound
)?()(bound)-1:1, \

1031 
_n2
##
i
 = 2>=(
bound
)?()(bound)-1:2, \

1032 
_n3
##
i
 = 3>=(
bound
)?()(bound)-1:3, \

1033 
_n4
##
i
 = 4>=(
bound
)?()(bound)-1:4; \

1034 
_n4
##
i
<()(
bound
Ë|| 
_n3
##i==--_n4##ò|| 
_n2
##i==--_n3##ò|| 
_n1
##i==--_n2##i || \

1035 
i
==(
_n4
##ò
_n3
##ò
_n2
##ò--
_n1
##i); \

1036 
_p3
##
i
 = 
_p2
##i, _p2##ò
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i, ++
_n4
##i)

	)

1037 
	#cimg_f‹8X
(
img
,
x
Ë
	`cimg_f‹8
((img).
_width
,x)

	)

1038 
	#cimg_f‹8Y
(
img
,
y
Ë
	`cimg_f‹8
((img).
_height
,y)

	)

1039 
	#cimg_f‹8Z
(
img
,
z
Ë
	`cimg_f‹8
((img).
_dïth
,z)

	)

1040 
	#cimg_f‹8C
(
img
,
c
Ë
	`cimg_f‹8
((img).
_•e˘rum
,c)

	)

1041 
	#cimg_f‹8XY
(
img
,
x
,
y
Ë
	`cimg_f‹8Y
(img,yË
	`cimg_f‹8X
(img,x)

	)

1042 
	#cimg_f‹8XZ
(
img
,
x
,
z
Ë
	`cimg_f‹8Z
(img,zË
	`cimg_f‹8X
(img,x)

	)

1043 
	#cimg_f‹8XC
(
img
,
x
,
c
Ë
	`cimg_f‹8C
(img,cË
	`cimg_f‹8X
(img,x)

	)

1044 
	#cimg_f‹8YZ
(
img
,
y
,
z
Ë
	`cimg_f‹8Z
(img,zË
	`cimg_f‹8Y
(img,y)

	)

1045 
	#cimg_f‹8YC
(
img
,
y
,
c
Ë
	`cimg_f‹8C
(img,cË
	`cimg_f‹8Y
(img,y)

	)

1046 
	#cimg_f‹8ZC
(
img
,
z
,
c
Ë
	`cimg_f‹8C
(img,cË
	`cimg_f‹8Z
(img,z)

	)

1047 
	#cimg_f‹8XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹8Z
(img,zË
	`cimg_f‹8XY
(img,x,y)

	)

1048 
	#cimg_f‹8XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹8C
(img,cË
	`cimg_f‹8XZ
(img,x,z)

	)

1049 
	#cimg_f‹8YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹8C
(img,cË
	`cimg_f‹8YZ
(img,y,z)

	)

1050 
	#cimg_f‹8XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹8C
(img,cË
	`cimg_f‹8XYZ
(img,x,y,z)

	)

1052 
	#cimg_f‹_ö8
(
bound
,
i0
,
i1
,
i
) \

1053 
i
 = ()(
i0
)<0?0:()(i0), \

1054 
_p3
##
i
 = i-3<0?0:i-3, \

1055 
_p2
##
i
 = i-2<0?0:i-2, \

1056 
_p1
##
i
 = i-1<0?0:i-1, \

1057 
_n1
##
i
 = i+1>=()(
bound
)?()(bound)-1:i+1, \

1058 
_n2
##
i
 = i+2>=()(
bound
)?()(bound)-1:i+2, \

1059 
_n3
##
i
 = i+3>=()(
bound
)?()(bound)-1:i+3, \

1060 
_n4
##
i
 = i+4>=()(
bound
)?()(bound)-1:i+4; \

1061 
i
<=()(
i1
Ë&& (
_n4
##i<()(
bound
Ë|| 
_n3
##i==--_n4##ò|| 
_n2
##i==--_n3##ò|| 
_n1
##i==--_n2##i || \

1062 
i
==(
_n4
##ò
_n3
##ò
_n2
##ò--
_n1
##i)); \

1063 
_p3
##
i
 = 
_p2
##i, _p2##ò
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i, ++
_n4
##i)

	)

1064 
	#cimg_f‹_ö8X
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö8
((img).
_width
,x0,x1,x)

	)

1065 
	#cimg_f‹_ö8Y
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö8
((img).
_height
,y0,y1,y)

	)

1066 
	#cimg_f‹_ö8Z
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö8
((img).
_dïth
,z0,z1,z)

	)

1067 
	#cimg_f‹_ö8C
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö8
((img).
_•e˘rum
,c0,c1,c)

	)

1068 
	#cimg_f‹_ö8XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_ö8Y
(img,y0,y1,yË
	`cimg_f‹_ö8X
(img,x0,x1,x)

	)

1069 
	#cimg_f‹_ö8XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_ö8Z
(img,z0,z1,zË
	`cimg_f‹_ö8X
(img,x0,x1,x)

	)

1070 
	#cimg_f‹_ö8XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_ö8C
(img,c0,c1,cË
	`cimg_f‹_ö8X
(img,x0,x1,x)

	)

1071 
	#cimg_f‹_ö8YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_ö8Z
(img,z0,z1,zË
	`cimg_f‹_ö8Y
(img,y0,y1,y)

	)

1072 
	#cimg_f‹_ö8YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_ö8C
(img,c0,c1,cË
	`cimg_f‹_ö8Y
(img,y0,y1,y)

	)

1073 
	#cimg_f‹_ö8ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_ö8C
(img,c0,c1,cË
	`cimg_f‹_ö8Z
(img,z0,z1,z)

	)

1074 
	#cimg_f‹_ö8XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_ö8Z
(img,z0,z1,zË
	`cimg_f‹_ö8XY
(img,x0,y0,x1,y1,x,y)

	)

1075 
	#cimg_f‹_ö8XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_ö8C
(img,c0,c1,cË
	`cimg_f‹_ö8XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1076 
	#cimg_f‹_ö8YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_ö8C
(img,c0,c1,cË
	`cimg_f‹_ö8YZ
(img,y0,z0,y1,z1,y,z)

	)

1077 
	#cimg_f‹_ö8XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_ö8C
(img,c0,c1,cË
	`cimg_f‹_ö8XYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

1079 
	#cimg_f‹9
(
bound
,
i
) \

1080 
i
 = 0, 
_p4
##ò0, 
_p3
##ò0, 
_p2
##ò0, 
_p1
##i = 0, \

1081 
_n1
##
i
 = 1>=()(
bound
)?()(bound)-1:1, \

1082 
_n2
##
i
 = 2>=()(
bound
)?()(bound)-1:2, \

1083 
_n3
##
i
 = 3>=()(
bound
)?()(bound)-1:3, \

1084 
_n4
##
i
 = 4>=()(
bound
)?()(bound)-1:4; \

1085 
_n4
##
i
<()(
bound
Ë|| 
_n3
##i==--_n4##ò|| 
_n2
##i==--_n3##ò|| 
_n1
##i==--_n2##i || \

1086 
i
==(
_n4
##ò
_n3
##ò
_n2
##ò--
_n1
##i); \

1087 
_p4
##
i
 = 
_p3
##i, _p3##ò
_p2
##i, _p2##ò
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i, ++
_n4
##i)

	)

1088 
	#cimg_f‹9X
(
img
,
x
Ë
	`cimg_f‹9
((img).
_width
,x)

	)

1089 
	#cimg_f‹9Y
(
img
,
y
Ë
	`cimg_f‹9
((img).
_height
,y)

	)

1090 
	#cimg_f‹9Z
(
img
,
z
Ë
	`cimg_f‹9
((img).
_dïth
,z)

	)

1091 
	#cimg_f‹9C
(
img
,
c
Ë
	`cimg_f‹9
((img).
_•e˘rum
,c)

	)

1092 
	#cimg_f‹9XY
(
img
,
x
,
y
Ë
	`cimg_f‹9Y
(img,yË
	`cimg_f‹9X
(img,x)

	)

1093 
	#cimg_f‹9XZ
(
img
,
x
,
z
Ë
	`cimg_f‹9Z
(img,zË
	`cimg_f‹9X
(img,x)

	)

1094 
	#cimg_f‹9XC
(
img
,
x
,
c
Ë
	`cimg_f‹9C
(img,cË
	`cimg_f‹9X
(img,x)

	)

1095 
	#cimg_f‹9YZ
(
img
,
y
,
z
Ë
	`cimg_f‹9Z
(img,zË
	`cimg_f‹9Y
(img,y)

	)

1096 
	#cimg_f‹9YC
(
img
,
y
,
c
Ë
	`cimg_f‹9C
(img,cË
	`cimg_f‹9Y
(img,y)

	)

1097 
	#cimg_f‹9ZC
(
img
,
z
,
c
Ë
	`cimg_f‹9C
(img,cË
	`cimg_f‹9Z
(img,z)

	)

1098 
	#cimg_f‹9XYZ
(
img
,
x
,
y
,
z
Ë
	`cimg_f‹9Z
(img,zË
	`cimg_f‹9XY
(img,x,y)

	)

1099 
	#cimg_f‹9XZC
(
img
,
x
,
z
,
c
Ë
	`cimg_f‹9C
(img,cË
	`cimg_f‹9XZ
(img,x,z)

	)

1100 
	#cimg_f‹9YZC
(
img
,
y
,
z
,
c
Ë
	`cimg_f‹9C
(img,cË
	`cimg_f‹9YZ
(img,y,z)

	)

1101 
	#cimg_f‹9XYZC
(
img
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹9C
(img,cË
	`cimg_f‹9XYZ
(img,x,y,z)

	)

1103 
	#cimg_f‹_ö9
(
bound
,
i0
,
i1
,
i
) \

1104 
i
 = ()(
i0
)<0?0:()(i0), \

1105 
_p4
##
i
 = i-4<0?0:i-4, \

1106 
_p3
##
i
 = i-3<0?0:i-3, \

1107 
_p2
##
i
 = i-2<0?0:i-2, \

1108 
_p1
##
i
 = i-1<0?0:i-1, \

1109 
_n1
##
i
 = i+1>=()(
bound
)?()(bound)-1:i+1, \

1110 
_n2
##
i
 = i+2>=()(
bound
)?()(bound)-1:i+2, \

1111 
_n3
##
i
 = i+3>=()(
bound
)?()(bound)-1:i+3, \

1112 
_n4
##
i
 = i+4>=()(
bound
)?()(bound)-1:i+4; \

1113 
i
<=()(
i1
Ë&& (
_n4
##i<()(
bound
Ë|| 
_n3
##i==--_n4##ò|| 
_n2
##i==--_n3##ò|| 
_n1
##i==--_n2##i || \

1114 
i
==(
_n4
##ò
_n3
##ò
_n2
##ò--
_n1
##i)); \

1115 
_p4
##
i
 = 
_p3
##i, _p3##ò
_p2
##i, _p2##ò
_p1
##i, _p1##òi++, ++
_n1
##i, ++
_n2
##i, ++
_n3
##i, ++
_n4
##i)

	)

1116 
	#cimg_f‹_ö9X
(
img
,
x0
,
x1
,
x
Ë
	`cimg_f‹_ö9
((img).
_width
,x0,x1,x)

	)

1117 
	#cimg_f‹_ö9Y
(
img
,
y0
,
y1
,
y
Ë
	`cimg_f‹_ö9
((img).
_height
,y0,y1,y)

	)

1118 
	#cimg_f‹_ö9Z
(
img
,
z0
,
z1
,
z
Ë
	`cimg_f‹_ö9
((img).
_dïth
,z0,z1,z)

	)

1119 
	#cimg_f‹_ö9C
(
img
,
c0
,
c1
,
c
Ë
	`cimg_f‹_ö9
((img).
_•e˘rum
,c0,c1,c)

	)

1120 
	#cimg_f‹_ö9XY
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
Ë
	`cimg_f‹_ö9Y
(img,y0,y1,yË
	`cimg_f‹_ö9X
(img,x0,x1,x)

	)

1121 
	#cimg_f‹_ö9XZ
(
img
,
x0
,
z0
,
x1
,
z1
,
x
,
z
Ë
	`cimg_f‹_ö9Z
(img,z0,z1,zË
	`cimg_f‹_ö9X
(img,x0,x1,x)

	)

1122 
	#cimg_f‹_ö9XC
(
img
,
x0
,
c0
,
x1
,
c1
,
x
,
c
Ë
	`cimg_f‹_ö9C
(img,c0,c1,cË
	`cimg_f‹_ö9X
(img,x0,x1,x)

	)

1123 
	#cimg_f‹_ö9YZ
(
img
,
y0
,
z0
,
y1
,
z1
,
y
,
z
Ë
	`cimg_f‹_ö9Z
(img,z0,z1,zË
	`cimg_f‹_ö9Y
(img,y0,y1,y)

	)

1124 
	#cimg_f‹_ö9YC
(
img
,
y0
,
c0
,
y1
,
c1
,
y
,
c
Ë
	`cimg_f‹_ö9C
(img,c0,c1,cË
	`cimg_f‹_ö9Y
(img,y0,y1,y)

	)

1125 
	#cimg_f‹_ö9ZC
(
img
,
z0
,
c0
,
z1
,
c1
,
z
,
c
Ë
	`cimg_f‹_ö9C
(img,c0,c1,cË
	`cimg_f‹_ö9Z
(img,z0,z1,z)

	)

1126 
	#cimg_f‹_ö9XYZ
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
Ë
	`cimg_f‹_ö9Z
(img,z0,z1,zË
	`cimg_f‹_ö9XY
(img,x0,y0,x1,y1,x,y)

	)

1127 
	#cimg_f‹_ö9XZC
(
img
,
x0
,
z0
,
c0
,
x1
,
y1
,
c1
,
x
,
z
,
c
Ë
	`cimg_f‹_ö9C
(img,c0,c1,cË
	`cimg_f‹_ö9XZ
(img,x0,
y0
,x1,y1,x,z)

	)

1128 
	#cimg_f‹_ö9YZC
(
img
,
y0
,
z0
,
c0
,
y1
,
z1
,
c1
,
y
,
z
,
c
Ë
	`cimg_f‹_ö9C
(img,c0,c1,cË
	`cimg_f‹_ö9YZ
(img,y0,z0,y1,z1,y,z)

	)

1129 
	#cimg_f‹_ö9XYZC
(
img
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
x
,
y
,
z
,
c
Ë
	`cimg_f‹_ö9C
(img,c0,c1,cË
	`cimg_f‹_ö9XYZ
(img,x0,y0,z0,x1,y1,z1,x,y,z)

	)

1131 
	#cimg_f‹2x2
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1132 
	`cimg_f‹2
((
img
).
_height
,
y
Ë
x
 = 0, \

1133 
_n1
##
x
 = ()( \

1134 (
I
[0] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1135 (
I
[2] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1136 1>=(
img
).
_width
?(img).
	`width
()-1:1); \

1137 (
_n1
##
x
<(
img
).
	`width
() && ( \

1138 (
I
[1] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1139 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

1140 
x
==--
_n1
##x; \

1141 
I
[0] = I[1], \

1142 
I
[2] = I[3], \

1143 ++
x
, ++
_n1
##x)

	)

1145 
	#cimg_f‹_ö2x2
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1146 
	`cimg_f‹_ö2
((
img
).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1147 
_n1
##
x
 = ()( \

1148 (
I
[0] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1149 (
I
[2] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1150 
x
+1>=()(
img
).
_width
?(img).
	`width
()-1:x+1); \

1151 
x
<=()(
x1
Ë&& ((
_n1
##x<(
img
).
	`width
() && ( \

1152 (
I
[1] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1153 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

1154 
x
==--
_n1
##x); \

1155 
I
[0] = I[1], \

1156 
I
[2] = I[3], \

1157 ++
x
, ++
_n1
##x)

	)

1159 
	#cimg_f‹3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1160 
	`cimg_f‹3
((
img
).
_height
,
y
Ë
x
 = 0, \

1161 
_p1
##
x
 = 0, \

1162 
_n1
##
x
 = ()( \

1163 (
I
[0] = I[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1164 (
I
[3] = I[4] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1165 (
I
[6] = I[7] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1166 1>=(
img
).
_width
?(img).
	`width
()-1:1); \

1167 (
_n1
##
x
<(
img
).
	`width
() && ( \

1168 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1169 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1170 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

1171 
x
==--
_n1
##x; \

1172 
I
[0] = I[1], I[1] = I[2], \

1173 
I
[3] = I[4], I[4] = I[5], \

1174 
I
[6] = I[7], I[7] = I[8], \

1175 
_p1
##
x
 = x++, ++
_n1
##x)

	)

1177 
	#cimg_f‹_ö3x3
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1178 
	`cimg_f‹_ö3
((
img
).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1179 
_p1
##
x
 = x-1<0?0:x-1, \

1180 
_n1
##
x
 = ()( \

1181 (
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1182 (
I
[3] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1183 (
I
[6] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1184 (
I
[1] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1185 (
I
[4] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1186 (
I
[7] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1187 
x
+1>=()(
img
).
_width
?(img).
	`width
()-1:x+1); \

1188 
x
<=()(
x1
Ë&& ((
_n1
##x<(
img
).
	`width
() && ( \

1189 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1190 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1191 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

1192 
x
==--
_n1
##x); \

1193 
I
[0] = I[1], I[1] = I[2], \

1194 
I
[3] = I[4], I[4] = I[5], \

1195 
I
[6] = I[7], I[7] = I[8], \

1196 
_p1
##
x
 = x++, ++
_n1
##x)

	)

1198 
	#cimg_f‹4x4
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1199 
	`cimg_f‹4
((
img
).
_height
,
y
Ë
x
 = 0, \

1200 
_p1
##
x
 = 0, \

1201 
_n1
##
x
 = 1>=(
img
).
_width
?(img).
	`width
()-1:1, \

1202 
_n2
##
x
 = ()( \

1203 (
I
[0] = I[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1204 (
I
[4] = I[5] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1205 (
I
[8] = I[9] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1206 (
I
[12] = I[13] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1207 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1208 (
I
[6] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1209 (
I
[10] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1210 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1211 2>=(
img
).
_width
?(img).
	`width
()-1:2); \

1212 (
_n2
##
x
<(
img
).
	`width
() && ( \

1213 (
I
[3] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1214 (
I
[7] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1215 (
I
[11] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1216 (
I
[15] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)),1)) || \

1217 
_n1
##
x
==--
_n2
##x || x==(_n2##x = --_n1##x); \

1218 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], \

1219 
I
[4] = I[5], I[5] = I[6], I[6] = I[7], \

1220 
I
[8] = I[9], I[9] = I[10], I[10] = I[11], \

1221 
I
[12] = I[13], I[13] = I[14], I[14] = I[15], \

1222 
_p1
##
x
 = x++, ++
_n1
##x, ++
_n2
##x)

	)

1224 
	#cimg_f‹_ö4x4
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1225 
	`cimg_f‹_ö4
((
img
).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1226 
_p1
##
x
 = x-1<0?0:x-1, \

1227 
_n1
##
x
 = x+1>=()(
img
).
_width
?(img).
	`width
()-1:x+1, \

1228 
_n2
##
x
 = ()( \

1229 (
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1230 (
I
[4] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1231 (
I
[8] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1232 (
I
[12] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1233 (
I
[1] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1234 (
I
[5] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1235 (
I
[9] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1236 (
I
[13] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1237 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1238 (
I
[6] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1239 (
I
[10] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1240 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1241 
x
+2>=()(
img
).
_width
?(img).
	`width
()-1:x+2); \

1242 
x
<=()(
x1
Ë&& ((
_n2
##x<(
img
).
	`width
() && ( \

1243 (
I
[3] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1244 (
I
[7] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1245 (
I
[11] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1246 (
I
[15] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)),1)) || \

1247 
_n1
##
x
==--
_n2
##x || x==(_n2##x = --_n1##x)); \

1248 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], \

1249 
I
[4] = I[5], I[5] = I[6], I[6] = I[7], \

1250 
I
[8] = I[9], I[9] = I[10], I[10] = I[11], \

1251 
I
[12] = I[13], I[13] = I[14], I[14] = I[15], \

1252 
_p1
##
x
 = x++, ++
_n1
##x, ++
_n2
##x)

	)

1254 
	#cimg_f‹5x5
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1255 
	`cimg_f‹5
((
img
).
_height
,
y
Ë
x
 = 0, \

1256 
_p2
##
x
 = 0, 
_p1
##x = 0, \

1257 
_n1
##
x
 = 1>=(
img
).
_width
?(img).
	`width
()-1:1, \

1258 
_n2
##
x
 = ()( \

1259 (
I
[0] = I[1] = I[2] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1260 (
I
[5] = I[6] = I[7] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1261 (
I
[10] = I[11] = I[12] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1262 (
I
[15] = I[16] = I[17] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1263 (
I
[20] = I[21] = I[22] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1264 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1265 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1266 (
I
[13] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1267 (
I
[18] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1268 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1269 2>=(
img
).
_width
?(img).
	`width
()-1:2); \

1270 (
_n2
##
x
<(
img
).
	`width
() && ( \

1271 (
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1272 (
I
[9] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1273 (
I
[14] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1274 (
I
[19] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1275 (
I
[24] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)),1)) || \

1276 
_n1
##
x
==--
_n2
##x || x==(_n2##x = --_n1##x); \

1277 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], \

1278 
I
[5] = I[6], I[6] = I[7], I[7] = I[8], I[8] = I[9], \

1279 
I
[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], \

1280 
I
[15] = I[16], I[16] = I[17], I[17] = I[18], I[18] = I[19], \

1281 
I
[20] = I[21], I[21] = I[22], I[22] = I[23], I[23] = I[24], \

1282 
_p2
##
x
 = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x)

	)

1284 
	#cimg_f‹_ö5x5
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1285 
	`cimg_f‹_ö5
((
img
).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1286 
_p2
##
x
 = x-2<0?0:x-2, \

1287 
_p1
##
x
 = x-1<0?0:x-1, \

1288 
_n1
##
x
 = x+1>=()(
img
).
_width
?(img).
	`width
()-1:x+1, \

1289 
_n2
##
x
 = ()( \

1290 (
I
[0] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1291 (
I
[5] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1292 (
I
[10] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1293 (
I
[15] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1294 (
I
[20] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1295 (
I
[1] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1296 (
I
[6] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1297 (
I
[11] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1298 (
I
[16] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1299 (
I
[21] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1300 (
I
[2] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1301 (
I
[7] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1302 (
I
[12] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1303 (
I
[17] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1304 (
I
[22] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1305 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1306 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1307 (
I
[13] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1308 (
I
[18] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1309 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1310 
x
+2>=()(
img
).
_width
?(img).
	`width
()-1:x+2); \

1311 
x
<=()(
x1
Ë&& ((
_n2
##x<(
img
).
	`width
() && ( \

1312 (
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1313 (
I
[9] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1314 (
I
[14] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1315 (
I
[19] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1316 (
I
[24] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)),1)) || \

1317 
_n1
##
x
==--
_n2
##x || x==(_n2##x = --_n1##x)); \

1318 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], \

1319 
I
[5] = I[6], I[6] = I[7], I[7] = I[8], I[8] = I[9], \

1320 
I
[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], \

1321 
I
[15] = I[16], I[16] = I[17], I[17] = I[18], I[18] = I[19], \

1322 
I
[20] = I[21], I[21] = I[22], I[22] = I[23], I[23] = I[24], \

1323 
_p2
##
x
 = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x)

	)

1325 
	#cimg_f‹6x6
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1326 
	`cimg_f‹6
((
img
).
_height
,
y
Ë
x
 = 0, \

1327 
_p2
##
x
 = 0, 
_p1
##x = 0, \

1328 
_n1
##
x
 = 1>=(
img
).
_width
?(img).
	`width
()-1:1, \

1329 
_n2
##
x
 = 2>=(
img
).
_width
?(img).
	`width
()-1:2, \

1330 
_n3
##
x
 = ()( \

1331 (
I
[0] = I[1] = I[2] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1332 (
I
[6] = I[7] = I[8] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1333 (
I
[12] = I[13] = I[14] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1334 (
I
[18] = I[19] = I[20] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1335 (
I
[24] = I[25] = I[26] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1336 (
I
[30] = I[31] = I[32] = (
T
)(
img
)(0,
_n3
##
y
,
z
,
c
)), \

1337 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1338 (
I
[9] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1339 (
I
[15] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1340 (
I
[21] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1341 (
I
[27] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1342 (
I
[33] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1343 (
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1344 (
I
[10] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1345 (
I
[16] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1346 (
I
[22] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1347 (
I
[28] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1348 (
I
[34] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1349 3>=(
img
).
_width
?(img).
	`width
()-1:3); \

1350 (
_n3
##
x
<(
img
).
	`width
() && ( \

1351 (
I
[5] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1352 (
I
[11] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1353 (
I
[17] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1354 (
I
[23] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1355 (
I
[29] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1356 (
I
[35] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)),1)) || \

1357 
_n2
##
x
==--
_n3
##x || 
_n1
##x==--_n2##x || x==(_n3## x = _n2##x = --_n1##x); \

1358 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], \

1359 
I
[6] = I[7], I[7] = I[8], I[8] = I[9], I[9] = I[10], I[10] = I[11], \

1360 
I
[12] = I[13], I[13] = I[14], I[14] = I[15], I[15] = I[16], I[16] = I[17], \

1361 
I
[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], \

1362 
I
[24] = I[25], I[25] = I[26], I[26] = I[27], I[27] = I[28], I[28] = I[29], \

1363 
I
[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], I[34] = I[35], \

1364 
_p2
##
x
 = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x)

	)

1366 
	#cimg_f‹_ö6x6
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1367 
	`cimg_f‹_ö6
((
img
).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()x0, \

1368 
_p2
##
x
 = x-2<0?0:x-2, \

1369 
_p1
##
x
 = x-1<0?0:x-1, \

1370 
_n1
##
x
 = x+1>=()(
img
).
_width
?(img).
	`width
()-1:x+1, \

1371 
_n2
##
x
 = x+2>=()(
img
).
_width
?(img).
	`width
()-1:x+2, \

1372 
_n3
##
x
 = ()( \

1373 (
I
[0] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1374 (
I
[6] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1375 (
I
[12] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1376 (
I
[18] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1377 (
I
[24] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1378 (
I
[30] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
)), \

1379 (
I
[1] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1380 (
I
[7] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1381 (
I
[13] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1382 (
I
[19] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1383 (
I
[25] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1384 (
I
[31] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
)), \

1385 (
I
[2] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1386 (
I
[8] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1387 (
I
[14] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1388 (
I
[20] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1389 (
I
[26] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1390 (
I
[32] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
)), \

1391 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1392 (
I
[9] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1393 (
I
[15] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1394 (
I
[21] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1395 (
I
[27] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1396 (
I
[33] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1397 (
I
[4] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1398 (
I
[10] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1399 (
I
[16] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1400 (
I
[22] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1401 (
I
[28] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1402 (
I
[34] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1403 
x
+3>=()(
img
).
_width
?(img).
	`width
()-1:x+3); \

1404 
x
<=()(
x1
Ë&& ((
_n3
##x<(
img
).
	`width
() && ( \

1405 (
I
[5] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1406 (
I
[11] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1407 (
I
[17] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1408 (
I
[23] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1409 (
I
[29] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1410 (
I
[35] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)),1)) || \

1411 
_n2
##
x
==--
_n3
##x || 
_n1
##x==--_n2##x || x==(_n3## x = _n2##x = --_n1##x)); \

1412 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], \

1413 
I
[6] = I[7], I[7] = I[8], I[8] = I[9], I[9] = I[10], I[10] = I[11], \

1414 
I
[12] = I[13], I[13] = I[14], I[14] = I[15], I[15] = I[16], I[16] = I[17], \

1415 
I
[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], \

1416 
I
[24] = I[25], I[25] = I[26], I[26] = I[27], I[27] = I[28], I[28] = I[29], \

1417 
I
[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], I[34] = I[35], \

1418 
_p2
##
x
 = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x)

	)

1420 
	#cimg_f‹7x7
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1421 
	`cimg_f‹7
((
img
).
_height
,
y
Ë
x
 = 0, \

1422 
_p3
##
x
 = 0, 
_p2
##x = 0, 
_p1
##x = 0, \

1423 
_n1
##
x
 = 1>=(
img
).
_width
?(img).
	`width
()-1:1, \

1424 
_n2
##
x
 = 2>=(
img
).
_width
?(img).
	`width
()-1:2, \

1425 
_n3
##
x
 = ()( \

1426 (
I
[0] = I[1] = I[2] = I[3] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1427 (
I
[7] = I[8] = I[9] = I[10] = (
T
)(
img
)(0,
_p2
##
y
,
z
,
c
)), \

1428 (
I
[14] = I[15] = I[16] = I[17] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1429 (
I
[21] = I[22] = I[23] = I[24] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1430 (
I
[28] = I[29] = I[30] = I[31] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1431 (
I
[35] = I[36] = I[37] = I[38] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1432 (
I
[42] = I[43] = I[44] = I[45] = (
T
)(
img
)(0,
_n3
##
y
,
z
,
c
)), \

1433 (
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1434 (
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1435 (
I
[18] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1436 (
I
[25] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1437 (
I
[32] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1438 (
I
[39] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1439 (
I
[46] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1440 (
I
[5] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1441 (
I
[12] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1442 (
I
[19] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1443 (
I
[26] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1444 (
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1445 (
I
[40] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1446 (
I
[47] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1447 3>=(
img
).
_width
?(img).
	`width
()-1:3); \

1448 (
_n3
##
x
<(
img
).
	`width
() && ( \

1449 (
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1450 (
I
[13] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1451 (
I
[20] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1452 (
I
[27] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1453 (
I
[34] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1454 (
I
[41] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1455 (
I
[48] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)),1)) || \

1456 
_n2
##
x
==--
_n3
##x || 
_n1
##x==--_n2##x || x==(_n3##x = _n2##x = --_n1##x); \

1457 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], \

1458 
I
[7] = I[8], I[8] = I[9], I[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], \

1459 
I
[14] = I[15], I[15] = I[16], I[16] = I[17], I[17] = I[18], I[18] = I[19], I[19] = I[20], \

1460 
I
[21] = I[22], I[22] = I[23], I[23] = I[24], I[24] = I[25], I[25] = I[26], I[26] = I[27], \

1461 
I
[28] = I[29], I[29] = I[30], I[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], \

1462 
I
[35] = I[36], I[36] = I[37], I[37] = I[38], I[38] = I[39], I[39] = I[40], I[40] = I[41], \

1463 
I
[42] = I[43], I[43] = I[44], I[44] = I[45], I[45] = I[46], I[46] = I[47], I[47] = I[48], \

1464 
_p3
##
x
 = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x)

	)

1466 
	#cimg_f‹_ö7x7
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1467 
	`cimg_f‹_ö7
((
img
).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1468 
_p3
##
x
 = x-3<0?0:x-3, \

1469 
_p2
##
x
 = x-2<0?0:x-2, \

1470 
_p1
##
x
 = x-1<0?0:x-1, \

1471 
_n1
##
x
 = x+1>=()(
img
).
_width
?(img).
	`width
()-1:x+1, \

1472 
_n2
##
x
 = x+2>=()(
img
).
_width
?(img).
	`width
()-1:x+2, \

1473 
_n3
##
x
 = ()( \

1474 (
I
[0] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1475 (
I
[7] = (
T
)(
img
)(
_p3
##
x
,
_p2
##
y
,
z
,
c
)), \

1476 (
I
[14] = (
T
)(
img
)(
_p3
##
x
,
_p1
##
y
,
z
,
c
)), \

1477 (
I
[21] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
)), \

1478 (
I
[28] = (
T
)(
img
)(
_p3
##
x
,
_n1
##
y
,
z
,
c
)), \

1479 (
I
[35] = (
T
)(
img
)(
_p3
##
x
,
_n2
##
y
,
z
,
c
)), \

1480 (
I
[42] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
)), \

1481 (
I
[1] = (
T
)(
img
)(
_p2
##
x
,
_p3
##
y
,
z
,
c
)), \

1482 (
I
[8] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1483 (
I
[15] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1484 (
I
[22] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1485 (
I
[29] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1486 (
I
[36] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1487 (
I
[43] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
)), \

1488 (
I
[2] = (
T
)(
img
)(
_p1
##
x
,
_p3
##
y
,
z
,
c
)), \

1489 (
I
[9] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1490 (
I
[16] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1491 (
I
[23] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1492 (
I
[30] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1493 (
I
[37] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1494 (
I
[44] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
)), \

1495 (
I
[3] = (
T
)(
img
)(
x
,
_p3
##
y
,
z
,
c
)), \

1496 (
I
[10] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1497 (
I
[17] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1498 (
I
[24] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1499 (
I
[31] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1500 (
I
[38] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1501 (
I
[45] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
)), \

1502 (
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1503 (
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1504 (
I
[18] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1505 (
I
[25] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1506 (
I
[32] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1507 (
I
[39] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1508 (
I
[46] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1509 (
I
[5] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1510 (
I
[12] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1511 (
I
[19] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1512 (
I
[26] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1513 (
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1514 (
I
[40] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1515 (
I
[47] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1516 
x
+3>=()(
img
).
_width
?(img).
	`width
()-1:x+3); \

1517 
x
<=()(
x1
Ë&& ((
_n3
##x<(
img
).
	`width
() && ( \

1518 (
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1519 (
I
[13] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1520 (
I
[20] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1521 (
I
[27] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1522 (
I
[34] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1523 (
I
[41] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1524 (
I
[48] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)),1)) || \

1525 
_n2
##
x
==--
_n3
##x || 
_n1
##x==--_n2##x || x==(_n3##x = _n2##x = --_n1##x)); \

1526 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], \

1527 
I
[7] = I[8], I[8] = I[9], I[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], \

1528 
I
[14] = I[15], I[15] = I[16], I[16] = I[17], I[17] = I[18], I[18] = I[19], I[19] = I[20], \

1529 
I
[21] = I[22], I[22] = I[23], I[23] = I[24], I[24] = I[25], I[25] = I[26], I[26] = I[27], \

1530 
I
[28] = I[29], I[29] = I[30], I[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], \

1531 
I
[35] = I[36], I[36] = I[37], I[37] = I[38], I[38] = I[39], I[39] = I[40], I[40] = I[41], \

1532 
I
[42] = I[43], I[43] = I[44], I[44] = I[45], I[45] = I[46], I[46] = I[47], I[47] = I[48], \

1533 
_p3
##
x
 = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x)

	)

1535 
	#cimg_f‹8x8
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1536 
	`cimg_f‹8
((
img
).
_height
,
y
Ë
x
 = 0, \

1537 
_p3
##
x
 = 0, 
_p2
##x = 0, 
_p1
##x = 0, \

1538 
_n1
##
x
 = 1>=((
img
).
_width
)?(img).
	`width
()-1:1, \

1539 
_n2
##
x
 = 2>=((
img
).
_width
)?(img).
	`width
()-1:2, \

1540 
_n3
##
x
 = 3>=((
img
).
_width
)?(img).
	`width
()-1:3, \

1541 
_n4
##
x
 = ()( \

1542 (
I
[0] = I[1] = I[2] = I[3] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1543 (
I
[8] = I[9] = I[10] = I[11] = (
T
)(
img
)(0,
_p2
##
y
,
z
,
c
)), \

1544 (
I
[16] = I[17] = I[18] = I[19] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1545 (
I
[24] = I[25] = I[26] = I[27] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1546 (
I
[32] = I[33] = I[34] = I[35] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1547 (
I
[40] = I[41] = I[42] = I[43] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1548 (
I
[48] = I[49] = I[50] = I[51] = (
T
)(
img
)(0,
_n3
##
y
,
z
,
c
)), \

1549 (
I
[56] = I[57] = I[58] = I[59] = (
T
)(
img
)(0,
_n4
##
y
,
z
,
c
)), \

1550 (
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1551 (
I
[12] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1552 (
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1553 (
I
[28] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1554 (
I
[36] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1555 (
I
[44] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1556 (
I
[52] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1557 (
I
[60] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
)), \

1558 (
I
[5] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1559 (
I
[13] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1560 (
I
[21] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1561 (
I
[29] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1562 (
I
[37] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1563 (
I
[45] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1564 (
I
[53] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1565 (
I
[61] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
)), \

1566 (
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1567 (
I
[14] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1568 (
I
[22] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1569 (
I
[30] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1570 (
I
[38] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1571 (
I
[46] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1572 (
I
[54] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)), \

1573 (
I
[62] = (
T
)(
img
)(
_n3
##
x
,
_n4
##
y
,
z
,
c
)), \

1574 4>=((
img
).
_width
)?(img).
	`width
()-1:4); \

1575 (
_n4
##
x
<(
img
).
	`width
() && ( \

1576 (
I
[7] = (
T
)(
img
)(
_n4
##
x
,
_p3
##
y
,
z
,
c
)), \

1577 (
I
[15] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
)), \

1578 (
I
[23] = (
T
)(
img
)(
_n4
##
x
,
_p1
##
y
,
z
,
c
)), \

1579 (
I
[31] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
)), \

1580 (
I
[39] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
)), \

1581 (
I
[47] = (
T
)(
img
)(
_n4
##
x
,
_n2
##
y
,
z
,
c
)), \

1582 (
I
[55] = (
T
)(
img
)(
_n4
##
x
,
_n3
##
y
,
z
,
c
)), \

1583 (
I
[63] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)),1)) || \

1584 
_n3
##
x
==--
_n4
##x || 
_n2
##x==--_n3##x || 
_n1
##x==--_n2##x || x==(_n4##x = _n3##x = _n2##x = --_n1##x); \

1585 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], I[6] = I[7], \

1586 
I
[8] = I[9], I[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], I[14] = I[15], \

1587 
I
[16] = I[17], I[17] = I[18], I[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], \

1588 
I
[24] = I[25], I[25] = I[26], I[26] = I[27], I[27] = I[28], I[28] = I[29], I[29] = I[30], I[30] = I[31], \

1589 
I
[32] = I[33], I[33] = I[34], I[34] = I[35], I[35] = I[36], I[36] = I[37], I[37] = I[38], I[38] = I[39], \

1590 
I
[40] = I[41], I[41] = I[42], I[42] = I[43], I[43] = I[44], I[44] = I[45], I[45] = I[46], I[46] = I[47], \

1591 
I
[48] = I[49], I[49] = I[50], I[50] = I[51], I[51] = I[52], I[52] = I[53], I[53] = I[54], I[54] = I[55], \

1592 
I
[56] = I[57], I[57] = I[58], I[58] = I[59], I[59] = I[60], I[60] = I[61], I[61] = I[62], I[62] = I[63], \

1593 
_p3
##
x
 = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x, ++
_n4
##x)

	)

1595 
	#cimg_f‹_ö8x8
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1596 
	`cimg_f‹_ö8
((
img
).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1597 
_p3
##
x
 = x-3<0?0:x-3, \

1598 
_p2
##
x
 = x-2<0?0:x-2, \

1599 
_p1
##
x
 = x-1<0?0:x-1, \

1600 
_n1
##
x
 = x+1>=(
img
).
	`width
()?(img).width()-1:x+1, \

1601 
_n2
##
x
 = x+2>=(
img
).
	`width
()?(img).width()-1:x+2, \

1602 
_n3
##
x
 = x+3>=(
img
).
	`width
()?(img).width()-1:x+3, \

1603 
_n4
##
x
 = ()( \

1604 (
I
[0] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1605 (
I
[8] = (
T
)(
img
)(
_p3
##
x
,
_p2
##
y
,
z
,
c
)), \

1606 (
I
[16] = (
T
)(
img
)(
_p3
##
x
,
_p1
##
y
,
z
,
c
)), \

1607 (
I
[24] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
)), \

1608 (
I
[32] = (
T
)(
img
)(
_p3
##
x
,
_n1
##
y
,
z
,
c
)), \

1609 (
I
[40] = (
T
)(
img
)(
_p3
##
x
,
_n2
##
y
,
z
,
c
)), \

1610 (
I
[48] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
)), \

1611 (
I
[56] = (
T
)(
img
)(
_p3
##
x
,
_n4
##
y
,
z
,
c
)), \

1612 (
I
[1] = (
T
)(
img
)(
_p2
##
x
,
_p3
##
y
,
z
,
c
)), \

1613 (
I
[9] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1614 (
I
[17] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1615 (
I
[25] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1616 (
I
[33] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1617 (
I
[41] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1618 (
I
[49] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
)), \

1619 (
I
[57] = (
T
)(
img
)(
_p2
##
x
,
_n4
##
y
,
z
,
c
)), \

1620 (
I
[2] = (
T
)(
img
)(
_p1
##
x
,
_p3
##
y
,
z
,
c
)), \

1621 (
I
[10] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1622 (
I
[18] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1623 (
I
[26] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1624 (
I
[34] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1625 (
I
[42] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1626 (
I
[50] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
)), \

1627 (
I
[58] = (
T
)(
img
)(
_p1
##
x
,
_n4
##
y
,
z
,
c
)), \

1628 (
I
[3] = (
T
)(
img
)(
x
,
_p3
##
y
,
z
,
c
)), \

1629 (
I
[11] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1630 (
I
[19] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1631 (
I
[27] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1632 (
I
[35] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1633 (
I
[43] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1634 (
I
[51] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
)), \

1635 (
I
[59] = (
T
)(
img
)(
x
,
_n4
##
y
,
z
,
c
)), \

1636 (
I
[4] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1637 (
I
[12] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1638 (
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1639 (
I
[28] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1640 (
I
[36] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1641 (
I
[44] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1642 (
I
[52] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1643 (
I
[60] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
)), \

1644 (
I
[5] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1645 (
I
[13] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1646 (
I
[21] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1647 (
I
[29] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1648 (
I
[37] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1649 (
I
[45] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1650 (
I
[53] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1651 (
I
[61] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
)), \

1652 (
I
[6] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1653 (
I
[14] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1654 (
I
[22] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1655 (
I
[30] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1656 (
I
[38] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1657 (
I
[46] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1658 (
I
[54] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)), \

1659 (
I
[62] = (
T
)(
img
)(
_n3
##
x
,
_n4
##
y
,
z
,
c
)), \

1660 
x
+4>=(
img
).
	`width
()?(img).width()-1:x+4); \

1661 
x
<=()(
x1
Ë&& ((
_n4
##x<(
img
).
	`width
() && ( \

1662 (
I
[7] = (
T
)(
img
)(
_n4
##
x
,
_p3
##
y
,
z
,
c
)), \

1663 (
I
[15] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
)), \

1664 (
I
[23] = (
T
)(
img
)(
_n4
##
x
,
_p1
##
y
,
z
,
c
)), \

1665 (
I
[31] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
)), \

1666 (
I
[39] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
)), \

1667 (
I
[47] = (
T
)(
img
)(
_n4
##
x
,
_n2
##
y
,
z
,
c
)), \

1668 (
I
[55] = (
T
)(
img
)(
_n4
##
x
,
_n3
##
y
,
z
,
c
)), \

1669 (
I
[63] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)),1)) || \

1670 
_n3
##
x
==--
_n4
##x || 
_n2
##x==--_n3##x || 
_n1
##x==--_n2##x || x==(_n4##x = _n3##x = _n2##x = --_n1##x)); \

1671 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], I[6] = I[7], \

1672 
I
[8] = I[9], I[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], I[14] = I[15], \

1673 
I
[16] = I[17], I[17] = I[18], I[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], \

1674 
I
[24] = I[25], I[25] = I[26], I[26] = I[27], I[27] = I[28], I[28] = I[29], I[29] = I[30], I[30] = I[31], \

1675 
I
[32] = I[33], I[33] = I[34], I[34] = I[35], I[35] = I[36], I[36] = I[37], I[37] = I[38], I[38] = I[39], \

1676 
I
[40] = I[41], I[41] = I[42], I[42] = I[43], I[43] = I[44], I[44] = I[45], I[45] = I[46], I[46] = I[47], \

1677 
I
[48] = I[49], I[49] = I[50], I[50] = I[51], I[51] = I[52], I[52] = I[53], I[53] = I[54], I[54] = I[55], \

1678 
I
[56] = I[57], I[57] = I[58], I[58] = I[59], I[59] = I[60], I[60] = I[61], I[61] = I[62], I[62] = I[63], \

1679 
_p3
##
x
 = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x, ++
_n4
##x)

	)

1681 
	#cimg_f‹9x9
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1682 
	`cimg_f‹9
((
img
).
_height
,
y
Ë
x
 = 0, \

1683 
_p4
##
x
 = 0, 
_p3
##x = 0, 
_p2
##x = 0, 
_p1
##x = 0, \

1684 
_n1
##
x
 = 1>=((
img
).
_width
)?(img).
	`width
()-1:1, \

1685 
_n2
##
x
 = 2>=((
img
).
_width
)?(img).
	`width
()-1:2, \

1686 
_n3
##
x
 = 3>=((
img
).
_width
)?(img).
	`width
()-1:3, \

1687 
_n4
##
x
 = ()( \

1688 (
I
[0] = I[1] = I[2] = I[3] = I[4] = (
T
)(
img
)(
_p4
##
x
,_p4##
y
,
z
,
c
)), \

1689 (
I
[9] = I[10] = I[11] = I[12] = I[13] = (
T
)(
img
)(0,
_p3
##
y
,
z
,
c
)), \

1690 (
I
[18] = I[19] = I[20] = I[21] = I[22] = (
T
)(
img
)(0,
_p2
##
y
,
z
,
c
)), \

1691 (
I
[27] = I[28] = I[29] = I[30] = I[31] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1692 (
I
[36] = I[37] = I[38] = I[39] = I[40] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1693 (
I
[45] = I[46] = I[47] = I[48] = I[49] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1694 (
I
[54] = I[55] = I[56] = I[57] = I[58] = (
T
)(
img
)(0,
_n2
##
y
,
z
,
c
)), \

1695 (
I
[63] = I[64] = I[65] = I[66] = I[67] = (
T
)(
img
)(0,
_n3
##
y
,
z
,
c
)), \

1696 (
I
[72] = I[73] = I[74] = I[75] = I[76] = (
T
)(
img
)(0,
_n4
##
y
,
z
,
c
)), \

1697 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
_p4
##
y
,
z
,
c
)), \

1698 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1699 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1700 (
I
[32] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1701 (
I
[41] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1702 (
I
[50] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1703 (
I
[59] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1704 (
I
[68] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1705 (
I
[77] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
)), \

1706 (
I
[6] = (
T
)(
img
)(
_n2
##
x
,
_p4
##
y
,
z
,
c
)), \

1707 (
I
[15] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1708 (
I
[24] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1709 (
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1710 (
I
[42] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1711 (
I
[51] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1712 (
I
[60] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1713 (
I
[69] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1714 (
I
[78] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
)), \

1715 (
I
[7] = (
T
)(
img
)(
_n3
##
x
,
_p4
##
y
,
z
,
c
)), \

1716 (
I
[16] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1717 (
I
[25] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1718 (
I
[34] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1719 (
I
[43] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1720 (
I
[52] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1721 (
I
[61] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1722 (
I
[70] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)), \

1723 (
I
[79] = (
T
)(
img
)(
_n3
##
x
,
_n4
##
y
,
z
,
c
)), \

1724 4>=((
img
).
_width
)?(img).
	`width
()-1:4); \

1725 (
_n4
##
x
<(
img
).
	`width
() && ( \

1726 (
I
[8] = (
T
)(
img
)(
_n4
##
x
,
_p4
##
y
,
z
,
c
)), \

1727 (
I
[17] = (
T
)(
img
)(
_n4
##
x
,
_p3
##
y
,
z
,
c
)), \

1728 (
I
[26] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
)), \

1729 (
I
[35] = (
T
)(
img
)(
_n4
##
x
,
_p1
##
y
,
z
,
c
)), \

1730 (
I
[44] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
)), \

1731 (
I
[53] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
)), \

1732 (
I
[62] = (
T
)(
img
)(
_n4
##
x
,
_n2
##
y
,
z
,
c
)), \

1733 (
I
[71] = (
T
)(
img
)(
_n4
##
x
,
_n3
##
y
,
z
,
c
)), \

1734 (
I
[80] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)),1)) || \

1735 
_n3
##
x
==--
_n4
##x || 
_n2
##x==--_n3##x || 
_n1
##x==--_n2##x || x==(_n4##x = _n3##x = _n2##x = --_n1##x); \

1736 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], I[6] = I[7], I[7] = I[8], \

1737 
I
[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], I[14] = I[15], I[15] = I[16], I[16] = I[17], \

1738 
I
[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], I[23] = I[24], I[24] = I[25], I[25] = I[26], \

1739 
I
[27] = I[28], I[28] = I[29], I[29] = I[30], I[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], I[34] = I[35], \

1740 
I
[36] = I[37], I[37] = I[38], I[38] = I[39], I[39] = I[40], I[40] = I[41], I[41] = I[42], I[42] = I[43], I[43] = I[44], \

1741 
I
[45] = I[46], I[46] = I[47], I[47] = I[48], I[48] = I[49], I[49] = I[50], I[50] = I[51], I[51] = I[52], I[52] = I[53], \

1742 
I
[54] = I[55], I[55] = I[56], I[56] = I[57], I[57] = I[58], I[58] = I[59], I[59] = I[60], I[60] = I[61], I[61] = I[62], \

1743 
I
[63] = I[64], I[64] = I[65], I[65] = I[66], I[66] = I[67], I[67] = I[68], I[68] = I[69], I[69] = I[70], I[70] = I[71], \

1744 
I
[72] = I[73], I[73] = I[74], I[74] = I[75], I[75] = I[76], I[76] = I[77], I[77] = I[78], I[78] = I[79], I[79] = I[80], \

1745 
_p4
##
x
 = 
_p3
##x, _p3##x = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x, ++
_n4
##x)

	)

1747 
	#cimg_f‹_ö9x9
(
img
,
x0
,
y0
,
x1
,
y1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1748 
	`cimg_f‹_ö9
((
img
).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1749 
_p4
##
x
 = x-4<0?0:x-4, \

1750 
_p3
##
x
 = x-3<0?0:x-3, \

1751 
_p2
##
x
 = x-2<0?0:x-2, \

1752 
_p1
##
x
 = x-1<0?0:x-1, \

1753 
_n1
##
x
 = x+1>=(
img
).
	`width
()?(img).width()-1:x+1, \

1754 
_n2
##
x
 = x+2>=(
img
).
	`width
()?(img).width()-1:x+2, \

1755 
_n3
##
x
 = x+3>=(
img
).
	`width
()?(img).width()-1:x+3, \

1756 
_n4
##
x
 = ()( \

1757 (
I
[0] = (
T
)(
img
)(
_p4
##
x
,_p4##
y
,
z
,
c
)), \

1758 (
I
[9] = (
T
)(
img
)(
_p4
##
x
,
_p3
##
y
,
z
,
c
)), \

1759 (
I
[18] = (
T
)(
img
)(
_p4
##
x
,
_p2
##
y
,
z
,
c
)), \

1760 (
I
[27] = (
T
)(
img
)(
_p4
##
x
,
_p1
##
y
,
z
,
c
)), \

1761 (
I
[36] = (
T
)(
img
)(
_p4
##
x
,
y
,
z
,
c
)), \

1762 (
I
[45] = (
T
)(
img
)(
_p4
##
x
,
_n1
##
y
,
z
,
c
)), \

1763 (
I
[54] = (
T
)(
img
)(
_p4
##
x
,
_n2
##
y
,
z
,
c
)), \

1764 (
I
[63] = (
T
)(
img
)(
_p4
##
x
,
_n3
##
y
,
z
,
c
)), \

1765 (
I
[72] = (
T
)(
img
)(
_p4
##
x
,
_n4
##
y
,
z
,
c
)), \

1766 (
I
[1] = (
T
)(
img
)(
_p3
##
x
,
_p4
##
y
,
z
,
c
)), \

1767 (
I
[10] = (
T
)(
img
)(
_p3
##
x
,_p3##
y
,
z
,
c
)), \

1768 (
I
[19] = (
T
)(
img
)(
_p3
##
x
,
_p2
##
y
,
z
,
c
)), \

1769 (
I
[28] = (
T
)(
img
)(
_p3
##
x
,
_p1
##
y
,
z
,
c
)), \

1770 (
I
[37] = (
T
)(
img
)(
_p3
##
x
,
y
,
z
,
c
)), \

1771 (
I
[46] = (
T
)(
img
)(
_p3
##
x
,
_n1
##
y
,
z
,
c
)), \

1772 (
I
[55] = (
T
)(
img
)(
_p3
##
x
,
_n2
##
y
,
z
,
c
)), \

1773 (
I
[64] = (
T
)(
img
)(
_p3
##
x
,
_n3
##
y
,
z
,
c
)), \

1774 (
I
[73] = (
T
)(
img
)(
_p3
##
x
,
_n4
##
y
,
z
,
c
)), \

1775 (
I
[2] = (
T
)(
img
)(
_p2
##
x
,
_p4
##
y
,
z
,
c
)), \

1776 (
I
[11] = (
T
)(
img
)(
_p2
##
x
,
_p3
##
y
,
z
,
c
)), \

1777 (
I
[20] = (
T
)(
img
)(
_p2
##
x
,_p2##
y
,
z
,
c
)), \

1778 (
I
[29] = (
T
)(
img
)(
_p2
##
x
,
_p1
##
y
,
z
,
c
)), \

1779 (
I
[38] = (
T
)(
img
)(
_p2
##
x
,
y
,
z
,
c
)), \

1780 (
I
[47] = (
T
)(
img
)(
_p2
##
x
,
_n1
##
y
,
z
,
c
)), \

1781 (
I
[56] = (
T
)(
img
)(
_p2
##
x
,
_n2
##
y
,
z
,
c
)), \

1782 (
I
[65] = (
T
)(
img
)(
_p2
##
x
,
_n3
##
y
,
z
,
c
)), \

1783 (
I
[74] = (
T
)(
img
)(
_p2
##
x
,
_n4
##
y
,
z
,
c
)), \

1784 (
I
[3] = (
T
)(
img
)(
_p1
##
x
,
_p4
##
y
,
z
,
c
)), \

1785 (
I
[12] = (
T
)(
img
)(
_p1
##
x
,
_p3
##
y
,
z
,
c
)), \

1786 (
I
[21] = (
T
)(
img
)(
_p1
##
x
,
_p2
##
y
,
z
,
c
)), \

1787 (
I
[30] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1788 (
I
[39] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1789 (
I
[48] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1790 (
I
[57] = (
T
)(
img
)(
_p1
##
x
,
_n2
##
y
,
z
,
c
)), \

1791 (
I
[66] = (
T
)(
img
)(
_p1
##
x
,
_n3
##
y
,
z
,
c
)), \

1792 (
I
[75] = (
T
)(
img
)(
_p1
##
x
,
_n4
##
y
,
z
,
c
)), \

1793 (
I
[4] = (
T
)(
img
)(
x
,
_p4
##
y
,
z
,
c
)), \

1794 (
I
[13] = (
T
)(
img
)(
x
,
_p3
##
y
,
z
,
c
)), \

1795 (
I
[22] = (
T
)(
img
)(
x
,
_p2
##
y
,
z
,
c
)), \

1796 (
I
[31] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1797 (
I
[40] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1798 (
I
[49] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1799 (
I
[58] = (
T
)(
img
)(
x
,
_n2
##
y
,
z
,
c
)), \

1800 (
I
[67] = (
T
)(
img
)(
x
,
_n3
##
y
,
z
,
c
)), \

1801 (
I
[76] = (
T
)(
img
)(
x
,
_n4
##
y
,
z
,
c
)), \

1802 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
_p4
##
y
,
z
,
c
)), \

1803 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
_p3
##
y
,
z
,
c
)), \

1804 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
_p2
##
y
,
z
,
c
)), \

1805 (
I
[32] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1806 (
I
[41] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1807 (
I
[50] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1808 (
I
[59] = (
T
)(
img
)(
_n1
##
x
,
_n2
##
y
,
z
,
c
)), \

1809 (
I
[68] = (
T
)(
img
)(
_n1
##
x
,
_n3
##
y
,
z
,
c
)), \

1810 (
I
[77] = (
T
)(
img
)(
_n1
##
x
,
_n4
##
y
,
z
,
c
)), \

1811 (
I
[6] = (
T
)(
img
)(
_n2
##
x
,
_p4
##
y
,
z
,
c
)), \

1812 (
I
[15] = (
T
)(
img
)(
_n2
##
x
,
_p3
##
y
,
z
,
c
)), \

1813 (
I
[24] = (
T
)(
img
)(
_n2
##
x
,
_p2
##
y
,
z
,
c
)), \

1814 (
I
[33] = (
T
)(
img
)(
_n2
##
x
,
_p1
##
y
,
z
,
c
)), \

1815 (
I
[42] = (
T
)(
img
)(
_n2
##
x
,
y
,
z
,
c
)), \

1816 (
I
[51] = (
T
)(
img
)(
_n2
##
x
,
_n1
##
y
,
z
,
c
)), \

1817 (
I
[60] = (
T
)(
img
)(
_n2
##
x
,_n2##
y
,
z
,
c
)), \

1818 (
I
[69] = (
T
)(
img
)(
_n2
##
x
,
_n3
##
y
,
z
,
c
)), \

1819 (
I
[78] = (
T
)(
img
)(
_n2
##
x
,
_n4
##
y
,
z
,
c
)), \

1820 (
I
[7] = (
T
)(
img
)(
_n3
##
x
,
_p4
##
y
,
z
,
c
)), \

1821 (
I
[16] = (
T
)(
img
)(
_n3
##
x
,
_p3
##
y
,
z
,
c
)), \

1822 (
I
[25] = (
T
)(
img
)(
_n3
##
x
,
_p2
##
y
,
z
,
c
)), \

1823 (
I
[34] = (
T
)(
img
)(
_n3
##
x
,
_p1
##
y
,
z
,
c
)), \

1824 (
I
[43] = (
T
)(
img
)(
_n3
##
x
,
y
,
z
,
c
)), \

1825 (
I
[52] = (
T
)(
img
)(
_n3
##
x
,
_n1
##
y
,
z
,
c
)), \

1826 (
I
[61] = (
T
)(
img
)(
_n3
##
x
,
_n2
##
y
,
z
,
c
)), \

1827 (
I
[70] = (
T
)(
img
)(
_n3
##
x
,_n3##
y
,
z
,
c
)), \

1828 (
I
[79] = (
T
)(
img
)(
_n3
##
x
,
_n4
##
y
,
z
,
c
)), \

1829 
x
+4>=(
img
).
	`width
()?(img).width()-1:x+4); \

1830 
x
<=()(
x1
Ë&& ((
_n4
##x<(
img
).
	`width
() && ( \

1831 (
I
[8] = (
T
)(
img
)(
_n4
##
x
,
_p4
##
y
,
z
,
c
)), \

1832 (
I
[17] = (
T
)(
img
)(
_n4
##
x
,
_p3
##
y
,
z
,
c
)), \

1833 (
I
[26] = (
T
)(
img
)(
_n4
##
x
,
_p2
##
y
,
z
,
c
)), \

1834 (
I
[35] = (
T
)(
img
)(
_n4
##
x
,
_p1
##
y
,
z
,
c
)), \

1835 (
I
[44] = (
T
)(
img
)(
_n4
##
x
,
y
,
z
,
c
)), \

1836 (
I
[53] = (
T
)(
img
)(
_n4
##
x
,
_n1
##
y
,
z
,
c
)), \

1837 (
I
[62] = (
T
)(
img
)(
_n4
##
x
,
_n2
##
y
,
z
,
c
)), \

1838 (
I
[71] = (
T
)(
img
)(
_n4
##
x
,
_n3
##
y
,
z
,
c
)), \

1839 (
I
[80] = (
T
)(
img
)(
_n4
##
x
,_n4##
y
,
z
,
c
)),1)) || \

1840 
_n3
##
x
==--
_n4
##x || 
_n2
##x==--_n3##x || 
_n1
##x==--_n2##x || x==(_n4##x = _n3##x = _n2##x = --_n1##x)); \

1841 
I
[0] = I[1], I[1] = I[2], I[2] = I[3], I[3] = I[4], I[4] = I[5], I[5] = I[6], I[6] = I[7], I[7] = I[8], \

1842 
I
[9] = I[10], I[10] = I[11], I[11] = I[12], I[12] = I[13], I[13] = I[14], I[14] = I[15], I[15] = I[16], I[16] = I[17], \

1843 
I
[18] = I[19], I[19] = I[20], I[20] = I[21], I[21] = I[22], I[22] = I[23], I[23] = I[24], I[24] = I[25], I[25] = I[26], \

1844 
I
[27] = I[28], I[28] = I[29], I[29] = I[30], I[30] = I[31], I[31] = I[32], I[32] = I[33], I[33] = I[34], I[34] = I[35], \

1845 
I
[36] = I[37], I[37] = I[38], I[38] = I[39], I[39] = I[40], I[40] = I[41], I[41] = I[42], I[42] = I[43], I[43] = I[44], \

1846 
I
[45] = I[46], I[46] = I[47], I[47] = I[48], I[48] = I[49], I[49] = I[50], I[50] = I[51], I[51] = I[52], I[52] = I[53], \

1847 
I
[54] = I[55], I[55] = I[56], I[56] = I[57], I[57] = I[58], I[58] = I[59], I[59] = I[60], I[60] = I[61], I[61] = I[62], \

1848 
I
[63] = I[64], I[64] = I[65], I[65] = I[66], I[66] = I[67], I[67] = I[68], I[68] = I[69], I[69] = I[70], I[70] = I[71], \

1849 
I
[72] = I[73], I[73] = I[74], I[74] = I[75], I[75] = I[76], I[76] = I[77], I[77] = I[78], I[78] = I[79], I[79] = I[80], \

1850 
_p4
##
x
 = 
_p3
##x, _p3##x = 
_p2
##x, _p2##x = 
_p1
##x, _p1##x = x++, ++
_n1
##x, ++
_n2
##x, ++
_n3
##x, ++
_n4
##x)

	)

1852 
	#cimg_f‹2x2x2
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1853 
	`cimg_f‹2
((
img
).
_dïth
,
z
Ëcimg_f‹2((img).
_height
,
y
Ë
x
 = 0, \

1854 
_n1
##
x
 = ()( \

1855 (
I
[0] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1856 (
I
[2] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1857 (
I
[4] = (
T
)(
img
)(0,
y
,
_n1
##
z
,
c
)), \

1858 (
I
[6] = (
T
)(
img
)(0,
_n1
##
y
,_n1##
z
,
c
)), \

1859 1>=(
img
).
_width
?(img).
	`width
()-1:1); \

1860 (
_n1
##
x
<(
img
).
	`width
() && ( \

1861 (
I
[1] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1862 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1863 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
)), \

1864 (
I
[7] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)),1)) || \

1865 
x
==--
_n1
##x; \

1866 
I
[0] = I[1], I[2] = I[3], I[4] = I[5], I[6] = I[7], \

1867 ++
x
, ++
_n1
##x)

	)

1869 
	#cimg_f‹_ö2x2x2
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1870 
	`cimg_f‹_ö2
((
img
).
_dïth
,
z0
,
z1
,
z
Ëcimg_f‹_ö2((img).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1871 
_n1
##
x
 = ()( \

1872 (
I
[0] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1873 (
I
[2] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1874 (
I
[4] = (
T
)(
img
)(
x
,
y
,
_n1
##
z
,
c
)), \

1875 (
I
[6] = (
T
)(
img
)(
x
,
_n1
##
y
,_n1##
z
,
c
)), \

1876 
x
+1>=()(
img
).
_width
?(img).
	`width
()-1:x+1); \

1877 
x
<=()(
x1
Ë&& ((
_n1
##x<(
img
).
	`width
() && ( \

1878 (
I
[1] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1879 (
I
[3] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1880 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
)), \

1881 (
I
[7] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)),1)) || \

1882 
x
==--
_n1
##x); \

1883 
I
[0] = I[1], I[2] = I[3], I[4] = I[5], I[6] = I[7], \

1884 ++
x
, ++
_n1
##x)

	)

1886 
	#cimg_f‹3x3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

1887 
	`cimg_f‹3
((
img
).
_dïth
,
z
Ëcimg_f‹3((img).
_height
,
y
Ë
x
 = 0, \

1888 
_p1
##
x
 = 0, \

1889 
_n1
##
x
 = ()( \

1890 (
I
[0] = I[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,_p1##
z
,
c
)), \

1891 (
I
[3] = I[4] = (
T
)(
img
)(0,
y
,
_p1
##
z
,
c
)), \

1892 (
I
[6] = I[7] = (
T
)(
img
)(0,
_n1
##
y
,
_p1
##
z
,
c
)), \

1893 (
I
[9] = I[10] = (
T
)(
img
)(0,
_p1
##
y
,
z
,
c
)), \

1894 (
I
[12] = I[13] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

1895 (
I
[15] = I[16] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

1896 (
I
[18] = I[19] = (
T
)(
img
)(0,
_p1
##
y
,
_n1
##
z
,
c
)), \

1897 (
I
[21] = I[22] = (
T
)(
img
)(0,
y
,
_n1
##
z
,
c
)), \

1898 (
I
[24] = I[25] = (
T
)(
img
)(0,
_n1
##
y
,_n1##
z
,
c
)), \

1899 1>=(
img
).
_width
?(img).
	`width
()-1:1); \

1900 (
_n1
##
x
<(
img
).
	`width
() && ( \

1901 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_p1##
z
,
c
)), \

1902 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
_p1
##
z
,
c
)), \

1903 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
_p1
##
z
,
c
)), \

1904 (
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1905 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1906 (
I
[17] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1907 (
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_n1##
z
,
c
)), \

1908 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
)), \

1909 (
I
[26] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)),1)) || \

1910 
x
==--
_n1
##x; \

1911 
I
[0] = I[1], I[1] = I[2], I[3] = I[4], I[4] = I[5], I[6] = I[7], I[7] = I[8], \

1912 
I
[9] = I[10], I[10] = I[11], I[12] = I[13], I[13] = I[14], I[15] = I[16], I[16] = I[17], \

1913 
I
[18] = I[19], I[19] = I[20], I[21] = I[22], I[22] = I[23], I[24] = I[25], I[25] = I[26], \

1914 
_p1
##
x
 = x++, ++
_n1
##x)

	)

1916 
	#cimg_f‹_ö3x3x3
(
img
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x
,
y
,
z
,
c
,
I
,
T
) \

1917 
	`cimg_f‹_ö3
((
img
).
_dïth
,
z0
,
z1
,
z
Ëcimg_f‹_ö3((img).
_height
,
y0
,
y1
,
y
Ë
x
 = ()(
x0
)<0?0:()(x0), \

1918 
_p1
##
x
 = x-1<0?0:x-1, \

1919 
_n1
##
x
 = ()( \

1920 (
I
[0] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,_p1##
z
,
c
)), \

1921 (
I
[3] = (
T
)(
img
)(
_p1
##
x
,
y
,_p1##
z
,
c
)), \

1922 (
I
[6] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,_p1##
z
,
c
)), \

1923 (
I
[9] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

1924 (
I
[12] = (
T
)(
img
)(
_p1
##
x
,
y
,
z
,
c
)), \

1925 (
I
[15] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,
z
,
c
)), \

1926 (
I
[18] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
_n1
##
z
,
c
)), \

1927 (
I
[21] = (
T
)(
img
)(
_p1
##
x
,
y
,
_n1
##
z
,
c
)), \

1928 (
I
[24] = (
T
)(
img
)(
_p1
##
x
,
_n1
##
y
,_n1##
z
,
c
)), \

1929 (
I
[1] = (
T
)(
img
)(
x
,
_p1
##
y
,_p1##
z
,
c
)), \

1930 (
I
[4] = (
T
)(
img
)(
x
,
y
,
_p1
##
z
,
c
)), \

1931 (
I
[7] = (
T
)(
img
)(
x
,
_n1
##
y
,
_p1
##
z
,
c
)), \

1932 (
I
[10] = (
T
)(
img
)(
x
,
_p1
##
y
,
z
,
c
)), \

1933 (
I
[13] = (
T
)(
img
)(
x
,
y
,
z
,
c
)), \

1934 (
I
[16] = (
T
)(
img
)(
x
,
_n1
##
y
,
z
,
c
)), \

1935 (
I
[19] = (
T
)(
img
)(
x
,
_p1
##
y
,
_n1
##
z
,
c
)), \

1936 (
I
[22] = (
T
)(
img
)(
x
,
y
,
_n1
##
z
,
c
)), \

1937 (
I
[25] = (
T
)(
img
)(
x
,
_n1
##
y
,_n1##
z
,
c
)), \

1938 
x
+1>=()(
img
).
_width
?(img).
	`width
()-1:x+1); \

1939 
x
<=()(
x1
Ë&& ((
_n1
##x<(
img
).
	`width
() && ( \

1940 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_p1##
z
,
c
)), \

1941 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
_p1
##
z
,
c
)), \

1942 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
_p1
##
z
,
c
)), \

1943 (
I
[11] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

1944 (
I
[14] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

1945 (
I
[17] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)), \

1946 (
I
[20] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,_n1##
z
,
c
)), \

1947 (
I
[23] = (
T
)(
img
)(
_n1
##
x
,
y
,_n1##
z
,
c
)), \

1948 (
I
[26] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,_n1##
z
,
c
)),1)) || \

1949 
x
==--
_n1
##x); \

1950 
I
[0] = I[1], I[1] = I[2], I[3] = I[4], I[4] = I[5], I[6] = I[7], I[7] = I[8], \

1951 
I
[9] = I[10], I[10] = I[11], I[12] = I[13], I[13] = I[14], I[15] = I[16], I[16] = I[17], \

1952 
I
[18] = I[19], I[19] = I[20], I[21] = I[22], I[22] = I[23], I[24] = I[25], I[25] = I[26], \

1953 
_p1
##
x
 = x++, ++
_n1
##x)

	)

1955 
	#cimgli°_f‹
(
li°
,
l
Ë»0;Ü<()÷i°).
_width
; ++l)

	)

1956 
	#cimgli°_f‹_ö
(
li°
,
l0
,
l1
,
l
) \

1957 
l
 = ()(
l0
)<0?0:()÷0), 
_max
##»()
l1
<(
li°
).
_width
?()÷1):()÷i°)._width-1;Ü<=_max##l; ++l)

	)

1959 
	#cimgli°_≠∂y
(
li°
,
‚
Ë
	`cimgli°_f‹
÷i°,
__
##‚Ë÷i°)[__##‚].
	)
fn

1963 
	#_cimgdi•œy_ö°™˚
 "[ö°™˚(%u,%u,%u,%c%s%c)] CImgDi•œy::"

	)

1964 
	#cimgdi•œy_ö°™˚
 
_width
,
_height
,
_n‹mÆiz©i⁄
,
_tôÀ
?'\"':'[',_tôÀ?_tôÀ:"u¡ôÀd",_tôÀ?'\"':']'

	)

1965 
	#_cimg_ö°™˚
 "[ö°™˚(%u,%u,%u,%u,%p,%ssh¨ed)] CImg<%s>::"

	)

1966 
	#cimg_ö°™˚
 
_width
,
_height
,
_dïth
,
_•e˘rum
,
_d©a
,
_is_sh¨ed
?"":"n⁄-",
	`pixñ_ty≥
()

	)

1967 
	#_cimgli°_ö°™˚
 "[ö°™˚(%u,%u,%p)] CImgLi°<%s>::"

	)

1968 
	#cimgli°_ö°™˚
 
_width
,
_Æloˇãd_width
,
_d©a
,
	`pixñ_ty≥
()

	)

1989 
«me•a˚
 
	gcimg_libøry_suffixed
 {

1992 
	gãm∂©e
<
ty≥«me
 
	gT
=> 
CImg
;

1993 
	gãm∂©e
<
ty≥«me
 
	gT
=> 
CImgLi°
;

1994 
	gCImgDi•œy
;

1995 
	gCImgEx˚±i⁄
;

2001 
«me•a˚
 
	gcimg
 {

2004 #ifde‡
cimg_u£_vt100


2005 c⁄° 
	gt_n‹mÆ
[] = { 0x1b, '[', '0', ';', '0', ';', '0', 'm', 0 };

2006 c⁄° 
	gt_bœck
[] = { 0x1b, '[', '0', ';', '3', '0', ';', '5', '9', 'm', 0 };

2007 c⁄° 
	gt_ªd
[] = { 0x1b, '[', '0', ';', '3', '1', ';', '5', '9', 'm', 0 };

2008 c⁄° 
	gt_gªí
[] = { 0x1b, '[', '0', ';', '3', '2', ';', '5', '9', 'm', 0 };

2009 c⁄° 
	gt_yñlow
[] = { 0x1b, '[', '0', ';', '3', '3', ';', '5', '9', 'm', 0 };

2010 c⁄° 
	gt_blue
[] = { 0x1b, '[', '0', ';', '3', '4', ';', '5', '9', 'm', 0 };

2011 c⁄° 
	gt_magíè
[] = { 0x1b, '[', '0', ';', '3', '5', ';', '5', '9', 'm', 0 };

2012 c⁄° 
	gt_cy™
[] = { 0x1b, '[', '0', ';', '3', '6', ';', '5', '9', 'm', 0 };

2013 c⁄° 
	gt_whôe
[] = { 0x1b, '[', '0', ';', '3', '7', ';', '5', '9', 'm', 0 };

2014 c⁄° 
	gt_bﬁd
[] = { 0x1b, '[', '1', 'm', 0 };

2015 c⁄° 
	gt_undîsc‹e
[] = { 0x1b, '[', '4', 'm', 0 };

2017 c⁄° 
	gt_n‹mÆ
[] = { 0 };

2018 c⁄° *c⁄° 
	gt_bœck
 = 
cimg
::
t_n‹mÆ
,

2019 *c⁄° 
	gt_ªd
 = 
cimg
::
t_n‹mÆ
,

2020 *c⁄° 
	gt_gªí
 = 
cimg
::
t_n‹mÆ
,

2021 *c⁄° 
	gt_yñlow
 = 
cimg
::
t_n‹mÆ
,

2022 *c⁄° 
	gt_blue
 = 
cimg
::
t_n‹mÆ
,

2023 *c⁄° 
	gt_magíè
 = 
cimg
::
t_n‹mÆ
,

2024 *c⁄° 
	gt_cy™
 = 
cimg
::
t_n‹mÆ
,

2025 *c⁄° 
	gt_whôe
 = 
cimg
::
t_n‹mÆ
,

2026 *c⁄° 
	gt_bﬁd
 = 
cimg
::
t_n‹mÆ
,

2027 *c⁄° 
	gt_undîsc‹e
 = 
cimg
::
t_n‹mÆ
;

2030 
ölöe
 
	g°d
::
FILE
* 
ouçut
(
°d
::FILE *
fûe
=0);

2031 
ölöe
 
öfo
();

2034 
	gãm∂©e
<
ty≥«me
 
	gT
>

2035 
ölöe
 
unu£d
(c⁄° 
T
&, ...) {}

2040 
ölöe
 
muãx
(c⁄° 
n
, c⁄° 
lock_mode
=1);

2042 
ölöe
 & 
_ex˚±i⁄_mode
(c⁄° 
vÆue
, c⁄° 
boﬁ
 
is_£t
) {

2043 
	gmode
 = 
cimg_vîbosôy
;

2044 
	gcimg
::
muãx
(0);

2045 i‡(
	gis_£t
Ë
	gmode
 = 
vÆue
;

2046 
	gcimg
::
muãx
(0,0);

2047  
	gmode
;

2060 
ölöe
 & 
ex˚±i⁄_mode
(c⁄° 
mode
) {

2061  
_ex˚±i⁄_mode
(
mode
,
åue
);

2068 
ölöe
 & 
ex˚±i⁄_mode
() {

2069  
_ex˚±i⁄_mode
(0,
Ál£
);

2072 
ölöe
 
dülog
(c⁄° *c⁄° 
tôÀ
, c⁄° *c⁄° 
msg
, c⁄° *c⁄° 
buâ⁄1_œbñ
="OK",

2073 c⁄° *c⁄° 
buâ⁄2_œbñ
=0, c⁄° *c⁄° 
buâ⁄3_œbñ
=0,

2074 c⁄° *c⁄° 
buâ⁄4_œbñ
=0, c⁄° *c⁄° 
buâ⁄5_œbñ
=0,

2075 c⁄° *c⁄° 
buâ⁄6_œbñ
=0, c⁄° 
boﬁ
 
˚¡îög
=
Ál£
);

2077 
ölöe
 
evÆ
(c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0);

2144 
	gCImgEx˚±i⁄
 : 
public
 
°d
::
ex˚±i⁄
 {

2145 
	#_cimg_ex˚±i⁄_îr
(
ëy≥
,
di•_Êag
) \

2146 
°d
::
va_li°
 
≠
; 
	`va_°¨t
◊p,
f‹m©
); 
	`cimg_v¢¥ötf
(
_mesßge
,(_mesßge),f‹m©,≠); 
	`va_íd
(ap); \

2147 i‡(
cimg
::
	`ex˚±i⁄_mode
()) { \

2148 
°d
::
	`Ârötf
(
cimg
::
	`ouçut
(),"\n%s[CImg] *** %†***%†%s\n",cimg::
t_ªd
,
ëy≥
,cimg::
t_n‹mÆ
,
_mesßge
); \

2149 i‡(
cimg_di•œy
 && 
di•_Êag
 && !(
cimg
::
	`ex˚±i⁄_mode
()%2)Ë
åy
 { cimg::
	`dülog
(
ëy≥
,
_mesßge
,"Ab‹t"); } 
	`ˇtch
 (
CImgEx˚±i⁄
&) {} \

2150 i‡(
cimg
::
	`ex˚±i⁄_mode
()>=3Ë
cimg_libøry_suffixed
::cimg::
	`öfo
(); \

2151 }

	)

2153 
	g_mesßge
[16384];

2154 
CImgEx˚±i⁄
(Ë{ *
	g_mesßge
 = 0; }

2155 
CImgEx˚±i⁄
(c⁄° *c⁄° 
f‹m©
, ...Ë{ 
_cimg_ex˚±i⁄_îr
("CImgEx˚±i⁄",
åue
); }

2157 c⁄° *
wh©
(Ëc⁄° 
throw
(Ë{  
	g_mesßge
; }

2162 
	gCImgIn°™˚Ex˚±i⁄
 : 
public
 
CImgEx˚±i⁄
 {

2163 
CImgIn°™˚Ex˚±i⁄
(c⁄° *c⁄° 
f‹m©
, ...Ë{ 
_cimg_ex˚±i⁄_îr
("CImgIn°™˚Ex˚±i⁄",
åue
); }

2168 
	gCImgArgumítEx˚±i⁄
 : 
public
 
CImgEx˚±i⁄
 {

2169 
CImgArgumítEx˚±i⁄
(c⁄° *c⁄° 
f‹m©
, ...Ë{ 
_cimg_ex˚±i⁄_îr
("CImgArgumítEx˚±i⁄",
åue
); }

2174 
	gCImgIOEx˚±i⁄
 : 
public
 
CImgEx˚±i⁄
 {

2175 
CImgIOEx˚±i⁄
(c⁄° *c⁄° 
f‹m©
, ...Ë{ 
_cimg_ex˚±i⁄_îr
("CImgIOEx˚±i⁄",
åue
); }

2180 
	gCImgDi•œyEx˚±i⁄
 : 
public
 
CImgEx˚±i⁄
 {

2181 
CImgDi•œyEx˚±i⁄
(c⁄° *c⁄° 
f‹m©
, ...Ë{ 
_cimg_ex˚±i⁄_îr
("CImgDi•œyEx˚±i⁄",
Ál£
); }

2186 
	gCImgW¨nögEx˚±i⁄
 : 
public
 
CImgEx˚±i⁄
 {

2187 
CImgW¨nögEx˚±i⁄
(c⁄° *c⁄° 
f‹m©
, ...Ë{ 
_cimg_ex˚±i⁄_îr
("CImgW¨nögEx˚±i⁄",
Ál£
); }

2202 
«me•a˚
 
	gcimg
 {

2206 
	gãm∂©e
<
ty≥«me
 
	gT
> 
	sty≥
 {

2207 c⁄° * 
°rög
() {

2208 c⁄° * 
	gs
[] = { "unknown", "unknown8", "unknown16", "unknown24",

2213  
	gs
[((
T
)<17)?(T):0];

2215 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2216 
boﬁ
 
is_öf
(c⁄° 
T
Ë{  
	gÁl£
; }

2217 
boﬁ
 
is_«n
(c⁄° 
T
Ë{  
	gÁl£
; }

2218 
T
 
mö
(Ë{  (
	gT
)-1>0?(T)0:(T)-1<<(8*(T)-1); }

2219 
T
 
max
(Ë{  (
	gT
)-1>0?(T)-1:~((T)-1<<(8*(T)-1)); }

2220 
T
 
öf
(Ë{  
max
(); }

2221 
T
 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():(T)val; }

2222 c⁄° * 
f‹m©
() {  "%s"; }

2223 c⁄° * 
f‹m©
(c⁄° 
T
 
vÆ
Ë{ c⁄° *c⁄° 
	gs
 = "unknown"; 
	gcimg
::
unu£d
(val);  s; }

2226 
	gãm∂©e
<> 
	gty≥
<
	gboﬁ
> {

2227 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "bool";  s; }

2228 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2229 
boﬁ
 
is_öf
(c⁄° boﬁË{  
	gÁl£
; }

2230 
boﬁ
 
is_«n
(c⁄° boﬁË{  
	gÁl£
; }

2231 
boﬁ
 
mö
(Ë{  
	gÁl£
; }

2232 
boﬁ
 
max
(Ë{  
	gåue
; }

2233 
boﬁ
 
öf
(Ë{  
max
(); }

2234 
boﬁ
 
is_öf
(Ë{  
	gÁl£
; }

2235 
boﬁ
 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():(bool)val; }

2236 c⁄° * 
f‹m©
() {  "%s"; }

2237 c⁄° * 
f‹m©
(c⁄° 
boﬁ
 
vÆ
Ë{ c⁄° * 
	gs
[] = { "false", "true" };  s[val?1:0]; }

2240 
	gãm∂©e
<> 
	gty≥
<> {

2241 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "unsigned char";  s; }

2242 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2243 
boﬁ
 
is_öf
(c⁄° Ë{  
	gÁl£
; }

2244 
boﬁ
 
is_«n
(c⁄° Ë{  
	gÁl£
; }

2245 
mö
() {  0; }

2246 
max
() {  ()~0U; }

2247 
öf
(Ë{  
max
(); }

2248 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2249 c⁄° * 
f‹m©
() {  "%u"; }

2250 
f‹m©
(c⁄° 
vÆ
Ë{  ()
	gvÆ
; }

2253 
	gãm∂©e
<> 
	gty≥
<> {

2254 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "char";  s; }

2255 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2256 
boﬁ
 
is_öf
(c⁄° Ë{  
	gÁl£
; }

2257 
boﬁ
 
is_«n
(c⁄° Ë{  
	gÁl£
; }

2258 
mö
() {  ()(-1L<<(8*()-1)); }

2259 
max
() {  ()~(()(-1L<<(8*()-1))); }

2260 
öf
(Ë{  
max
(); }

2261 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2262 c⁄° * 
f‹m©
() {  "%d"; }

2263 
f‹m©
(c⁄° 
vÆ
Ë{  ()
	gvÆ
; }

2266 
	gãm∂©e
<> 
	gty≥
<signed > {

2267 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "signed char";  s; }

2268 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2269 
boﬁ
 
is_öf
(c⁄° sig√d Ë{  
	gÁl£
; }

2270 
boﬁ
 
is_«n
(c⁄° sig√d Ë{  
	gÁl£
; }

2271 sig√d 
mö
() {  (signed )(-1L<<(8*(signed )-1)); }

2272 sig√d 
max
() {  ~((signed )(-1L<<(8*(signed )-1))); }

2273 sig√d 
öf
(Ë{  
max
(); }

2274 sig√d 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():(signed )val; }

2275 c⁄° * 
f‹m©
() {  "%d"; }

2276 
f‹m©
(c⁄° sig√d 
vÆ
Ë{  ()
	gvÆ
; }

2279 
	gãm∂©e
<> 
	gty≥
<> {

2280 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "unsigned short";  s; }

2281 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2282 
boﬁ
 
is_öf
(c⁄° Ë{  
	gÁl£
; }

2283 
boﬁ
 
is_«n
(c⁄° Ë{  
	gÁl£
; }

2284 
mö
() {  0; }

2285 
max
() {  ()~0U; }

2286 
öf
(Ë{  
max
(); }

2287 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2288 c⁄° * 
f‹m©
() {  "%u"; }

2289 
f‹m©
(c⁄° 
vÆ
Ë{  ()
	gvÆ
; }

2292 
	gãm∂©e
<> 
	gty≥
<> {

2293 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "short";  s; }

2294 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2295 
boﬁ
 
is_öf
(c⁄° Ë{  
	gÁl£
; }

2296 
boﬁ
 
is_«n
(c⁄° Ë{  
	gÁl£
; }

2297 
mö
() {  ()(-1L<<(8*()-1)); }

2298 
max
() {  ~(()(-1L<<(8*()-1))); }

2299 
öf
(Ë{  
max
(); }

2300 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2301 c⁄° * 
f‹m©
() {  "%d"; }

2302 
f‹m©
(c⁄° 
vÆ
Ë{  ()
	gvÆ
; }

2305 
	gãm∂©e
<> 
	gty≥
<> {

2306 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "unsigned int";  s; }

2307 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2308 
boﬁ
 
is_öf
(c⁄° Ë{  
	gÁl£
; }

2309 
boﬁ
 
is_«n
(c⁄° Ë{  
	gÁl£
; }

2310 
mö
() {  0; }

2311 
max
() {  ()~0U; }

2312 
öf
(Ë{  
max
(); }

2313 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2314 c⁄° * 
f‹m©
() {  "%u"; }

2315 
f‹m©
(c⁄° 
vÆ
Ë{  
	gvÆ
; }

2318 
	gãm∂©e
<> 
	gty≥
<> {

2319 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "int";  s; }

2320 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2321 
boﬁ
 
is_öf
(c⁄° Ë{  
	gÁl£
; }

2322 
boﬁ
 
is_«n
(c⁄° Ë{  
	gÁl£
; }

2323 
mö
() {  ()(-1L<<(8*()-1)); }

2324 
max
() {  ~(()(-1L<<(8*()-1))); }

2325 
öf
(Ë{  
max
(); }

2326 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2327 c⁄° * 
f‹m©
() {  "%d"; }

2328 
f‹m©
(c⁄° 
vÆ
Ë{  
	gvÆ
; }

2331 
	gãm∂©e
<> 
	gty≥
<> {

2332 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "unsignedÜong";  s; }

2333 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2334 
boﬁ
 
is_öf
(c⁄° Ë{  
	gÁl£
; }

2335 
boﬁ
 
is_«n
(c⁄° Ë{  
	gÁl£
; }

2336 
mö
() {  0; }

2337 
max
() {  ()~0UL; }

2338 
öf
(Ë{  
max
(); }

2339 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2340 c⁄° * 
f‹m©
() {  "%lu"; }

2341 
f‹m©
(c⁄° 
vÆ
Ë{  
	gvÆ
; }

2344 
	gãm∂©e
<> 
	gty≥
<> {

2345 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "long";  s; }

2346 
boﬁ
 
is_Êﬂt
(Ë{  
	gÁl£
; }

2347 
boﬁ
 
is_öf
(c⁄° Ë{  
	gÁl£
; }

2348 
boﬁ
 
is_«n
(c⁄° Ë{  
	gÁl£
; }

2349 
mö
() {  ()(-1L<<(8*()-1)); }

2350 
max
() {  ~(()(-1L<<(8*()-1))); }

2351 
öf
(Ë{  
max
(); }

2352 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2353 c⁄° * 
f‹m©
() {  "%ld"; }

2354 
f‹m©
(c⁄° 
vÆ
Ë{  
	gvÆ
; }

2357 
	gãm∂©e
<> 
	gty≥
<> {

2358 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "double";  s; }

2359 
boﬁ
 
is_Êﬂt
(Ë{  
	gåue
; }

2360 
boﬁ
 
is_öf
(c⁄° 
vÆ
) {

2361 #ifde‡
isöf


2362  (
	gboﬁ
)
isöf
(
vÆ
);

2364  !
is_«n
(
vÆ
Ë&& (
	gvÆ
<
	gcimg
::
ty≥
<>::
mö
(Ë|| vÆ>
cimg
::ty≥<>::
max
());

2367 
boﬁ
 
is_«n
(c⁄° 
vÆ
) {

2368 #ifde‡
i¢™


2369  (
	gboﬁ
)
i¢™
(
vÆ
);

2371  !(
	gvÆ
==
vÆ
);

2374 
mö
() {  -1.7E308; }

2375 
max
() {  1.7E308; }

2376 
öf
(Ë{  
max
()*max(); }

2377 
«n
(Ë{ c⁄° 
	gvÆ_«n
 = -
°d
::
sqπ
(-1.0);  val_nan; }

2378 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<
mö
()?mö():vÆ>
max
()?max():val; }

2379 c⁄° * 
f‹m©
() {  "%.16g"; }

2380 
f‹m©
(c⁄° 
vÆ
Ë{  
	gvÆ
; }

2383 
	gãm∂©e
<> 
	gty≥
<> {

2384 c⁄° * 
°rög
(Ë{ c⁄° *c⁄° 
	gs
 = "float";  s; }

2385 
boﬁ
 
is_Êﬂt
(Ë{  
	gåue
; }

2386 
boﬁ
 
is_öf
(c⁄° 
vÆ
) {

2387 #ifde‡
isöf


2388  (
	gboﬁ
)
isöf
(
vÆ
);

2390  !
is_«n
(
vÆ
Ë&& (
	gvÆ
<
	gcimg
::
ty≥
<>::
mö
(Ë|| vÆ>
cimg
::ty≥<>::
max
());

2393 
boﬁ
 
is_«n
(c⁄° 
vÆ
) {

2394 #ifde‡
i¢™


2395  (
	gboﬁ
)
i¢™
(
vÆ
);

2397  !(
	gvÆ
==
vÆ
);

2400 
mö
() {  -3.4E38f; }

2401 
max
() {  3.4E38f; }

2402 
öf
(Ë{  ()
	gcimg
::
ty≥
<>::inf(); }

2403 
«n
(Ë{  ()
	gcimg
::
ty≥
<>::nan(); }

2404 
cut
(c⁄° 
vÆ
Ë{  
	gvÆ
<()
mö
()?mö():vÆ>()
max
()?max():()val; }

2405 c⁄° * 
f‹m©
() {  "%.16g"; }

2406 
f‹m©
(c⁄° 
vÆ
Ë{  ()
	gvÆ
; }

2409 
	gãm∂©e
<
ty≥«me
 
	gT
,Åy≥«mê
	gt
> 
	ssu≥r£t
 { 
T
 
	tty≥
; };

2410 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2411 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2412 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,sig√d > { sig√d 
	tty≥
; };

2413 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2414 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2415 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2416 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2417 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2418 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2419 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2420 
	gãm∂©e
<> 
	gsu≥r£t
<
	gboﬁ
,> { 
	tty≥
; };

2421 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2422 
	gãm∂©e
<> 
	gsu≥r£t
<,sig√d > { 
	tty≥
; };

2423 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2424 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2425 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2426 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2427 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2428 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2429 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2430 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2431 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2432 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2433 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2434 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2435 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2436 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2437 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2438 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2439 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2440 
	gãm∂©e
<> 
	gsu≥r£t
<sig√d ,> { 
	tty≥
; };

2441 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2442 
	gãm∂©e
<> 
	gsu≥r£t
<,sig√d > { 
	tty≥
; };

2443 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2444 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2445 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2446 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2447 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2448 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2449 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2450 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2451 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2452 
	gãm∂©e
<> 
	gsu≥r£t
<,sig√d > { 
	tty≥
; };

2453 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2454 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2455 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2456 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2457 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2458 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2459 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2460 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2461 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2462 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2463 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2464 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2465 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2466 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2467 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2468 
	gãm∂©e
<> 
	gsu≥r£t
<,sig√d > { 
	tty≥
; };

2469 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2470 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2471 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2472 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2473 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2474 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2475 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2476 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2477 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2478 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2479 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2480 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2481 
	gãm∂©e
<> 
	gsu≥r£t
<,sig√d > { 
	tty≥
; };

2482 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2483 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2484 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2485 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2486 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2487 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2488 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2489 
	gãm∂©e
<> 
	gsu≥r£t
<,> { 
	tty≥
; };

2491 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
> 
	ssu≥r£t2
 {

2492 
ty≥«me
 
	tsu≥r£t
<
	tt1
, 
	tty≥«me
 su≥r£t<
	tt2
,
	tt3
>::
	tty≥
>::typeÅype;

2495 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
> 
	ssu≥r£t3
 {

2496 
ty≥«me
 
	tsu≥r£t
<
	tt1
, 
	tty≥«me
 
	tsu≥r£t2
<
	tt2
,
	tt3
,
	tt4
>::
	tty≥
>::typeÅype;

2499 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
> 
	sœ°
 { 
t2
 
	tty≥
; };

2501 
	#_cimg_Tt
 
ty≥«me
 
cimg
::
su≥r£t
<
T
,
t
>::
ty≥


	)

2502 
	#_cimg_TÊﬂt
 
ty≥«me
 
cimg
::
su≥r£t
<
T
,>::
ty≥


	)

2503 
	#_cimg_TtÊﬂt
 
ty≥«me
 
cimg
::
su≥r£t2
<
T
,
t
,>::
ty≥


	)

2504 
	#_cimg_TtdoubÀ
 
ty≥«me
 
cimg
::
su≥r£t2
<
T
,
t
,>::
ty≥


	)

2507 #i‡
cimg_di•œy
==1

2508 
	sX11_öfo
 {

2509 vﬁ©ûê
	gnb_wös
;

2510 
±hªad_t
* 
	gevíts_thªad
;

2511 
±hªad_c⁄d_t
 
	gwaô_evít
;

2512 
±hªad_muãx_t
 
	gwaô_evít_muãx
;

2513 
CImgDi•œy
* 
	gwös
[1024];

2514 
Di•œy
* 
	gdi•œy
;

2515 
	gnb_bôs
;

2516 
boﬁ
 
	gis_blue_fú°
;

2517 
boﬁ
 
	gis_shm_íabÀd
;

2518 
boﬁ
 
	gbyã_‹dî
;

2519 #ifde‡
cimg_u£_xøndr


2520 
XRRS¸ìnSize
 *
	gªsﬁuti⁄s
;

2521 
RŸ©i⁄
 
	gcuº_rŸ©i⁄
;

2522 
	gcuº_ªsﬁuti⁄
;

2523 
	gnb_ªsﬁuti⁄s
;

2525 
X11_öfo
():
nb_wös
(0),
evíts_thªad
(0),
di•œy
(0),

2526 
nb_bôs
(0),
is_blue_fú°
(
Ál£
),
is_shm_íabÀd
(Ál£),
byã_‹dî
(false) {

2527 
XInôThªads
();

2528 
±hªad_muãx_öô
(&
waô_evít_muãx
,0);

2529 
±hªad_c⁄d_öô
(&
waô_evít
,0);

2530 #ifde‡
cimg_u£_xøndr


2531 
	gªsﬁuti⁄s
 = 0;

2532 
	gcuº_rŸ©i⁄
 = 0;

2533 
	gcuº_ªsﬁuti⁄
 = 
nb_ªsﬁuti⁄s
 = 0;

2537 ~
X11_öfo
() {

2538 i‡(
	gevíts_thªad
) {

2539 
±hªad_ˇn˚l
(*
evíts_thªad
);

2540 
dñëe
 
	gevíts_thªad
;

2542 i‡(
	gdi•œy
Ë
XClo£Di•œy
(
di•œy
);

2543 
±hªad_c⁄d_de°roy
(&
waô_evít
);

2544 
±hªad_muãx_u∆ock
(&
waô_evít_muãx
);

2545 
±hªad_muãx_de°roy
(&
waô_evít_muãx
);

2548 #i‡
deföed
(
cimg_moduÀ
)

2549 
	gX11_öfo
& 
X11_©å
();

2550 #ñi‡
deföed
(
cimg_maö
)

2551 
	gX11_öfo
& 
X11_©å
(Ë{ 
X11_öfo
 
	gvÆ
;  val; }

2553 
ölöe
 
	gX11_öfo
& 
X11_©å
(Ë{ 
X11_öfo
 
	gvÆ
;  val; }

2556 #ñi‡
cimg_di•œy
==2

2557 
	sWö32_öfo
 {

2558 
HANDLE
 
	gwaô_evít
;

2559 
Wö32_öfo
(Ë{ 
	gwaô_evít
 = 
Cª©eEvít
(0,
FALSE
,FALSE,0); }

2561 #i‡
deföed
(
cimg_moduÀ
)

2562 
	gWö32_öfo
& 
Wö32_©å
();

2563 #ñi‡
deföed
(
cimg_maö
)

2564 
	gWö32_öfo
& 
Wö32_©å
(Ë{ 
Wö32_öfo
 
	gvÆ
;  val; }

2566 
ölöe
 
	gWö32_öfo
& 
Wö32_©å
(Ë{ 
Wö32_öfo
 
	gvÆ
;  val; }

2570 
	sMuãx_öfo
 {

2571 #i‡
cimg_OS
==2

2572 
HANDLE
 
	gmuãx
[32];

2573 
Muãx_öfo
(Ë{ 
	gi
 = 0; i<32; ++iË
	gmuãx
[
i
] = 
Cª©eMuãx
(0,
FALSE
,0); }

2574 
lock
(c⁄° 
n
Ë{ 
WaôF‹SögÀObje˘
(
muãx
[n],
INFINITE
); }

2575 
u∆ock
(c⁄° 
n
Ë{ 
Rñó£Muãx
(
muãx
[n]); }

2576 
åylock
(const ) {  0; }

2577 #ñi‡
deföed
(
_PTHREAD_H
)

2578 
±hªad_muãx_t
 
	gmuãx
[32];

2579 
Muãx_öfo
(Ë{ 
	gi
 = 0; i<32; ++iË
±hªad_muãx_öô
(&
muãx
[
i
],0); }

2580 
lock
(c⁄° 
n
Ë{ 
±hªad_muãx_lock
(&
muãx
[n]); }

2581 
u∆ock
(c⁄° 
n
Ë{ 
±hªad_muãx_u∆ock
(&
muãx
[n]); }

2582 
åylock
(c⁄° 
n
Ë{  
±hªad_muãx_åylock
(&
muãx
[n]); }

2584 
Muãx_öfo
() {}

2585 
lock
(const ) {}

2586 
u∆ock
(const ) {}

2587 
åylock
(const ) {  0; }

2590 #i‡
deföed
(
cimg_moduÀ
)

2591 
	gMuãx_öfo
& 
Muãx_©å
();

2592 #ñi‡
deföed
(
cimg_maö
)

2593 
	gMuãx_öfo
& 
Muãx_©å
(Ë{ 
Muãx_öfo
 
	gvÆ
;  val; }

2595 
ölöe
 
	gMuãx_öfo
& 
Muãx_©å
(Ë{ 
Muãx_öfo
 
	gvÆ
;  val; }

2598 #i‡
deföed
(
cimg_u£_magick
)

2599 
	sMagick_öfo
 {

2600 
Magick_öfo
() {

2601 
	gMagick
::
InôülizeMagick
("");

2603 } 
	g_Magick_öfo
;

2606 #i‡
cimg_di•œy
==1

2608 c⁄° 
	gkeyESC
 = 
XK_Esˇ≥
;

2609 c⁄° 
	gkeyF1
 = 
XK_F1
;

2610 c⁄° 
	gkeyF2
 = 
XK_F2
;

2611 c⁄° 
	gkeyF3
 = 
XK_F3
;

2612 c⁄° 
	gkeyF4
 = 
XK_F4
;

2613 c⁄° 
	gkeyF5
 = 
XK_F5
;

2614 c⁄° 
	gkeyF6
 = 
XK_F6
;

2615 c⁄° 
	gkeyF7
 = 
XK_F7
;

2616 c⁄° 
	gkeyF8
 = 
XK_F8
;

2617 c⁄° 
	gkeyF9
 = 
XK_F9
;

2618 c⁄° 
	gkeyF10
 = 
XK_F10
;

2619 c⁄° 
	gkeyF11
 = 
XK_F11
;

2620 c⁄° 
	gkeyF12
 = 
XK_F12
;

2621 c⁄° 
	gkeyPAUSE
 = 
XK_Pau£
;

2622 c⁄° 
	gkey1
 = 
XK_1
;

2623 c⁄° 
	gkey2
 = 
XK_2
;

2624 c⁄° 
	gkey3
 = 
XK_3
;

2625 c⁄° 
	gkey4
 = 
XK_4
;

2626 c⁄° 
	gkey5
 = 
XK_5
;

2627 c⁄° 
	gkey6
 = 
XK_6
;

2628 c⁄° 
	gkey7
 = 
XK_7
;

2629 c⁄° 
	gkey8
 = 
XK_8
;

2630 c⁄° 
	gkey9
 = 
XK_9
;

2631 c⁄° 
	gkey0
 = 
XK_0
;

2632 c⁄° 
	gkeyBACKSPACE
 = 
XK_BackS∑˚
;

2633 c⁄° 
	gkeyINSERT
 = 
XK_In£π
;

2634 c⁄° 
	gkeyHOME
 = 
XK_Home
;

2635 c⁄° 
	gkeyPAGEUP
 = 
XK_Page_Up
;

2636 c⁄° 
	gkeyTAB
 = 
XK_Tab
;

2637 c⁄° 
	gkeyQ
 = 
XK_q
;

2638 c⁄° 
	gkeyW
 = 
XK_w
;

2639 c⁄° 
	gkeyE
 = 
XK_e
;

2640 c⁄° 
	gkeyR
 = 
XK_r
;

2641 c⁄° 
	gkeyT
 = 
XK_t
;

2642 c⁄° 
	gkeyY
 = 
XK_y
;

2643 c⁄° 
	gkeyU
 = 
XK_u
;

2644 c⁄° 
	gkeyI
 = 
XK_i
;

2645 c⁄° 
	gkeyO
 = 
XK_o
;

2646 c⁄° 
	gkeyP
 = 
XK_p
;

2647 c⁄° 
	gkeyDELETE
 = 
XK_Dñëe
;

2648 c⁄° 
	gkeyEND
 = 
XK_End
;

2649 c⁄° 
	gkeyPAGEDOWN
 = 
XK_Page_Down
;

2650 c⁄° 
	gkeyCAPSLOCK
 = 
XK_C≠s_Lock
;

2651 c⁄° 
	gkeyA
 = 
XK_a
;

2652 c⁄° 
	gkeyS
 = 
XK_s
;

2653 c⁄° 
	gkeyD
 = 
XK_d
;

2654 c⁄° 
	gkeyF
 = 
XK_f
;

2655 c⁄° 
	gkeyG
 = 
XK_g
;

2656 c⁄° 
	gkeyH
 = 
XK_h
;

2657 c⁄° 
	gkeyJ
 = 
XK_j
;

2658 c⁄° 
	gkeyK
 = 
XK_k
;

2659 c⁄° 
	gkeyL
 = 
XK_l
;

2660 c⁄° 
	gkeyENTER
 = 
XK_Rëu∫
;

2661 c⁄° 
	gkeySHIFTLEFT
 = 
XK_Shi·_L
;

2662 c⁄° 
	gkeyZ
 = 
XK_z
;

2663 c⁄° 
	gkeyX
 = 
XK_x
;

2664 c⁄° 
	gkeyC
 = 
XK_c
;

2665 c⁄° 
	gkeyV
 = 
XK_v
;

2666 c⁄° 
	gkeyB
 = 
XK_b
;

2667 c⁄° 
	gkeyN
 = 
XK_n
;

2668 c⁄° 
	gkeyM
 = 
XK_m
;

2669 c⁄° 
	gkeySHIFTRIGHT
 = 
XK_Shi·_R
;

2670 c⁄° 
	gkeyARROWUP
 = 
XK_Up
;

2671 c⁄° 
	gkeyCTRLLEFT
 = 
XK_C⁄åﬁ_L
;

2672 c⁄° 
	gkeyAPPLEFT
 = 
XK_Su≥r_L
;

2673 c⁄° 
	gkeyALT
 = 
XK_A…_L
;

2674 c⁄° 
	gkeySPACE
 = 
XK_•a˚
;

2675 c⁄° 
	gkeyALTGR
 = 
XK_A…_R
;

2676 c⁄° 
	gkeyAPPRIGHT
 = 
XK_Su≥r_R
;

2677 c⁄° 
	gkeyMENU
 = 
XK_Míu
;

2678 c⁄° 
	gkeyCTRLRIGHT
 = 
XK_C⁄åﬁ_R
;

2679 c⁄° 
	gkeyARROWLEFT
 = 
XK_Le·
;

2680 c⁄° 
	gkeyARROWDOWN
 = 
XK_Down
;

2681 c⁄° 
	gkeyARROWRIGHT
 = 
XK_Right
;

2682 c⁄° 
	gkeyPAD0
 = 
XK_KP_0
;

2683 c⁄° 
	gkeyPAD1
 = 
XK_KP_1
;

2684 c⁄° 
	gkeyPAD2
 = 
XK_KP_2
;

2685 c⁄° 
	gkeyPAD3
 = 
XK_KP_3
;

2686 c⁄° 
	gkeyPAD4
 = 
XK_KP_4
;

2687 c⁄° 
	gkeyPAD5
 = 
XK_KP_5
;

2688 c⁄° 
	gkeyPAD6
 = 
XK_KP_6
;

2689 c⁄° 
	gkeyPAD7
 = 
XK_KP_7
;

2690 c⁄° 
	gkeyPAD8
 = 
XK_KP_8
;

2691 c⁄° 
	gkeyPAD9
 = 
XK_KP_9
;

2692 c⁄° 
	gkeyPADADD
 = 
XK_KP_Add
;

2693 c⁄° 
	gkeyPADSUB
 = 
XK_KP_Subåa˘
;

2694 c⁄° 
	gkeyPADMUL
 = 
XK_KP_Mu…ùly
;

2695 c⁄° 
	gkeyPADDIV
 = 
XK_KP_Divide
;

2697 #ñi‡
cimg_di•œy
==2

2699 c⁄° 
	gkeyESC
 = 
VK_ESCAPE
;

2700 c⁄° 
	gkeyF1
 = 
VK_F1
;

2701 c⁄° 
	gkeyF2
 = 
VK_F2
;

2702 c⁄° 
	gkeyF3
 = 
VK_F3
;

2703 c⁄° 
	gkeyF4
 = 
VK_F4
;

2704 c⁄° 
	gkeyF5
 = 
VK_F5
;

2705 c⁄° 
	gkeyF6
 = 
VK_F6
;

2706 c⁄° 
	gkeyF7
 = 
VK_F7
;

2707 c⁄° 
	gkeyF8
 = 
VK_F8
;

2708 c⁄° 
	gkeyF9
 = 
VK_F9
;

2709 c⁄° 
	gkeyF10
 = 
VK_F10
;

2710 c⁄° 
	gkeyF11
 = 
VK_F11
;

2711 c⁄° 
	gkeyF12
 = 
VK_F12
;

2712 c⁄° 
	gkeyPAUSE
 = 
VK_PAUSE
;

2713 c⁄° 
	gkey1
 = '1';

2714 c⁄° 
	gkey2
 = '2';

2715 c⁄° 
	gkey3
 = '3';

2716 c⁄° 
	gkey4
 = '4';

2717 c⁄° 
	gkey5
 = '5';

2718 c⁄° 
	gkey6
 = '6';

2719 c⁄° 
	gkey7
 = '7';

2720 c⁄° 
	gkey8
 = '8';

2721 c⁄° 
	gkey9
 = '9';

2722 c⁄° 
	gkey0
 = '0';

2723 c⁄° 
	gkeyBACKSPACE
 = 
VK_BACK
;

2724 c⁄° 
	gkeyINSERT
 = 
VK_INSERT
;

2725 c⁄° 
	gkeyHOME
 = 
VK_HOME
;

2726 c⁄° 
	gkeyPAGEUP
 = 
VK_PRIOR
;

2727 c⁄° 
	gkeyTAB
 = 
VK_TAB
;

2728 c⁄° 
	gkeyQ
 = 'Q';

2729 c⁄° 
	gkeyW
 = 'W';

2730 c⁄° 
	gkeyE
 = 'E';

2731 c⁄° 
	gkeyR
 = 'R';

2732 c⁄° 
	gkeyT
 = 'T';

2733 c⁄° 
	gkeyY
 = 'Y';

2734 c⁄° 
	gkeyU
 = 'U';

2735 c⁄° 
	gkeyI
 = 'I';

2736 c⁄° 
	gkeyO
 = 'O';

2737 c⁄° 
	gkeyP
 = 'P';

2738 c⁄° 
	gkeyDELETE
 = 
VK_DELETE
;

2739 c⁄° 
	gkeyEND
 = 
VK_END
;

2740 c⁄° 
	gkeyPAGEDOWN
 = 
VK_NEXT
;

2741 c⁄° 
	gkeyCAPSLOCK
 = 
VK_CAPITAL
;

2742 c⁄° 
	gkeyA
 = 'A';

2743 c⁄° 
	gkeyS
 = 'S';

2744 c⁄° 
	gkeyD
 = 'D';

2745 c⁄° 
	gkeyF
 = 'F';

2746 c⁄° 
	gkeyG
 = 'G';

2747 c⁄° 
	gkeyH
 = 'H';

2748 c⁄° 
	gkeyJ
 = 'J';

2749 c⁄° 
	gkeyK
 = 'K';

2750 c⁄° 
	gkeyL
 = 'L';

2751 c⁄° 
	gkeyENTER
 = 
VK_RETURN
;

2752 c⁄° 
	gkeySHIFTLEFT
 = 
VK_SHIFT
;

2753 c⁄° 
	gkeyZ
 = 'Z';

2754 c⁄° 
	gkeyX
 = 'X';

2755 c⁄° 
	gkeyC
 = 'C';

2756 c⁄° 
	gkeyV
 = 'V';

2757 c⁄° 
	gkeyB
 = 'B';

2758 c⁄° 
	gkeyN
 = 'N';

2759 c⁄° 
	gkeyM
 = 'M';

2760 c⁄° 
	gkeySHIFTRIGHT
 = 
VK_SHIFT
;

2761 c⁄° 
	gkeyARROWUP
 = 
VK_UP
;

2762 c⁄° 
	gkeyCTRLLEFT
 = 
VK_CONTROL
;

2763 c⁄° 
	gkeyAPPLEFT
 = 
VK_LWIN
;

2764 c⁄° 
	gkeyALT
 = 
VK_LMENU
;

2765 c⁄° 
	gkeySPACE
 = 
VK_SPACE
;

2766 c⁄° 
	gkeyALTGR
 = 
VK_CONTROL
;

2767 c⁄° 
	gkeyAPPRIGHT
 = 
VK_RWIN
;

2768 c⁄° 
	gkeyMENU
 = 
VK_APPS
;

2769 c⁄° 
	gkeyCTRLRIGHT
 = 
VK_CONTROL
;

2770 c⁄° 
	gkeyARROWLEFT
 = 
VK_LEFT
;

2771 c⁄° 
	gkeyARROWDOWN
 = 
VK_DOWN
;

2772 c⁄° 
	gkeyARROWRIGHT
 = 
VK_RIGHT
;

2773 c⁄° 
	gkeyPAD0
 = 0x60;

2774 c⁄° 
	gkeyPAD1
 = 0x61;

2775 c⁄° 
	gkeyPAD2
 = 0x62;

2776 c⁄° 
	gkeyPAD3
 = 0x63;

2777 c⁄° 
	gkeyPAD4
 = 0x64;

2778 c⁄° 
	gkeyPAD5
 = 0x65;

2779 c⁄° 
	gkeyPAD6
 = 0x66;

2780 c⁄° 
	gkeyPAD7
 = 0x67;

2781 c⁄° 
	gkeyPAD8
 = 0x68;

2782 c⁄° 
	gkeyPAD9
 = 0x69;

2783 c⁄° 
	gkeyPADADD
 = 
VK_ADD
;

2784 c⁄° 
	gkeyPADSUB
 = 
VK_SUBTRACT
;

2785 c⁄° 
	gkeyPADMUL
 = 
VK_MULTIPLY
;

2786 c⁄° 
	gkeyPADDIV
 = 
VK_DIVIDE
;

2791 c⁄° 
	gkeyESC
 = 1U;

2792 c⁄° 
	gkeyF1
 = 2U;

2793 c⁄° 
	gkeyF2
 = 3U;

2794 c⁄° 
	gkeyF3
 = 4U;

2795 c⁄° 
	gkeyF4
 = 5U;

2796 c⁄° 
	gkeyF5
 = 6U;

2797 c⁄° 
	gkeyF6
 = 7U;

2798 c⁄° 
	gkeyF7
 = 8U;

2799 c⁄° 
	gkeyF8
 = 9U;

2800 c⁄° 
	gkeyF9
 = 10U;

2801 c⁄° 
	gkeyF10
 = 11U;

2802 c⁄° 
	gkeyF11
 = 12U;

2803 c⁄° 
	gkeyF12
 = 13U;

2804 c⁄° 
	gkeyPAUSE
 = 14U;

2805 c⁄° 
	gkey1
 = 15U;

2806 c⁄° 
	gkey2
 = 16U;

2807 c⁄° 
	gkey3
 = 17U;

2808 c⁄° 
	gkey4
 = 18U;

2809 c⁄° 
	gkey5
 = 19U;

2810 c⁄° 
	gkey6
 = 20U;

2811 c⁄° 
	gkey7
 = 21U;

2812 c⁄° 
	gkey8
 = 22U;

2813 c⁄° 
	gkey9
 = 23U;

2814 c⁄° 
	gkey0
 = 24U;

2815 c⁄° 
	gkeyBACKSPACE
 = 25U;

2816 c⁄° 
	gkeyINSERT
 = 26U;

2817 c⁄° 
	gkeyHOME
 = 27U;

2818 c⁄° 
	gkeyPAGEUP
 = 28U;

2819 c⁄° 
	gkeyTAB
 = 29U;

2820 c⁄° 
	gkeyQ
 = 30U;

2821 c⁄° 
	gkeyW
 = 31U;

2822 c⁄° 
	gkeyE
 = 32U;

2823 c⁄° 
	gkeyR
 = 33U;

2824 c⁄° 
	gkeyT
 = 34U;

2825 c⁄° 
	gkeyY
 = 35U;

2826 c⁄° 
	gkeyU
 = 36U;

2827 c⁄° 
	gkeyI
 = 37U;

2828 c⁄° 
	gkeyO
 = 38U;

2829 c⁄° 
	gkeyP
 = 39U;

2830 c⁄° 
	gkeyDELETE
 = 40U;

2831 c⁄° 
	gkeyEND
 = 41U;

2832 c⁄° 
	gkeyPAGEDOWN
 = 42U;

2833 c⁄° 
	gkeyCAPSLOCK
 = 43U;

2834 c⁄° 
	gkeyA
 = 44U;

2835 c⁄° 
	gkeyS
 = 45U;

2836 c⁄° 
	gkeyD
 = 46U;

2837 c⁄° 
	gkeyF
 = 47U;

2838 c⁄° 
	gkeyG
 = 48U;

2839 c⁄° 
	gkeyH
 = 49U;

2840 c⁄° 
	gkeyJ
 = 50U;

2841 c⁄° 
	gkeyK
 = 51U;

2842 c⁄° 
	gkeyL
 = 52U;

2843 c⁄° 
	gkeyENTER
 = 53U;

2844 c⁄° 
	gkeySHIFTLEFT
 = 54U;

2845 c⁄° 
	gkeyZ
 = 55U;

2846 c⁄° 
	gkeyX
 = 56U;

2847 c⁄° 
	gkeyC
 = 57U;

2848 c⁄° 
	gkeyV
 = 58U;

2849 c⁄° 
	gkeyB
 = 59U;

2850 c⁄° 
	gkeyN
 = 60U;

2851 c⁄° 
	gkeyM
 = 61U;

2852 c⁄° 
	gkeySHIFTRIGHT
 = 62U;

2853 c⁄° 
	gkeyARROWUP
 = 63U;

2854 c⁄° 
	gkeyCTRLLEFT
 = 64U;

2855 c⁄° 
	gkeyAPPLEFT
 = 65U;

2856 c⁄° 
	gkeyALT
 = 66U;

2857 c⁄° 
	gkeySPACE
 = 67U;

2858 c⁄° 
	gkeyALTGR
 = 68U;

2859 c⁄° 
	gkeyAPPRIGHT
 = 69U;

2860 c⁄° 
	gkeyMENU
 = 70U;

2861 c⁄° 
	gkeyCTRLRIGHT
 = 71U;

2862 c⁄° 
	gkeyARROWLEFT
 = 72U;

2863 c⁄° 
	gkeyARROWDOWN
 = 73U;

2864 c⁄° 
	gkeyARROWRIGHT
 = 74U;

2865 c⁄° 
	gkeyPAD0
 = 75U;

2866 c⁄° 
	gkeyPAD1
 = 76U;

2867 c⁄° 
	gkeyPAD2
 = 77U;

2868 c⁄° 
	gkeyPAD3
 = 78U;

2869 c⁄° 
	gkeyPAD4
 = 79U;

2870 c⁄° 
	gkeyPAD5
 = 80U;

2871 c⁄° 
	gkeyPAD6
 = 81U;

2872 c⁄° 
	gkeyPAD7
 = 82U;

2873 c⁄° 
	gkeyPAD8
 = 83U;

2874 c⁄° 
	gkeyPAD9
 = 84U;

2875 c⁄° 
	gkeyPADADD
 = 85U;

2876 c⁄° 
	gkeyPADSUB
 = 86U;

2877 c⁄° 
	gkeyPADMUL
 = 87U;

2878 c⁄° 
	gkeyPADDIV
 = 88U;

2881 c⁄° 
	gPI
 = 3.14159265358979323846;

2884 c⁄° 
	gf⁄t10x13
[256*10*13/32] = {

2947 c⁄° 
	gf⁄t12x24
[12*24*256/32] = {

3086 c⁄° 
	gf⁄t16x32
[16*32*256/32] = {

3320 c⁄° 
	gf⁄t29x57
[29*57*256/32] = {

4031 c⁄° 
	glogo40x38
[4576] = {

4062 
ölöe
 
	g°d
::
FILE
* 
ouçut
(
°d
::FILE *
fûe
) {

4063 
cimg
::
muãx
(1);

4064 
	g°d
::
FILE
 *
ªs
 = 
°dîr
;

4065 i‡(
	gfûe
Ë
	gªs
 = 
fûe
;

4066 
	gcimg
::
muãx
(1,0);

4067  
	gªs
;

4071 
ölöe
 
nb_˝us
() {

4072 
	gªs
 = 1;

4073 #i‡
cimg_OS
==2

4074 
SYSTEM_INFO
 
	gsysöfo
;

4075 
GëSy°emInfo
(&
sysöfo
);

4076 
	gªs
 = ()
sysöfo
.
dwNumbîOfPro˚ss‹s
;

4078 
	gªs
 = ()
sysc⁄f
(
_SC_NPROCESSORS_ONLN
);

4080  
	gªs
?res:1U;

4084 
ölöe
 
muãx
(c⁄° 
n
, c⁄° 
lock_mode
) {

4085 
	glock_mode
) {

4086 0 : 
cimg
::
Muãx_©å
().
u∆ock
(
n
);  0;

4087 1 : 
cimg
::
Muãx_©å
().
lock
(
n
);  0;

4088  :  
cimg
::
Muãx_©å
().
åylock
(
n
);

4106 
ölöe
 
w¨n
(c⁄° *c⁄° 
f‹m©
, ...) {

4107 i‡(
	gcimg
::
ex˚±i⁄_mode
()>=1) {

4108 
mesßge
[16384] = { 0 };

4109 
	g°d
::
va_li°
 
≠
;

4110 
va_°¨t
(
≠
,
f‹m©
);

4111 
cimg_v¢¥ötf
(
mesßge
,(mesßge),
f‹m©
,
≠
);

4112 
va_íd
(
≠
);

4113 #ifde‡
cimg_°ri˘_w¨nögs


4114 
throw
 
CImgW¨nögEx˚±i⁄
(
mesßge
);

4116 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"\n%s[CImg] *** W¨nög ***%s%s",cimg::
t_ªd
,cimg::
t_n‹mÆ
,
mesßge
);

4130 
ölöe
 
sy°em
(c⁄° *c⁄° 
comm™d
, c⁄° *c⁄° 
moduÀ_«me
=0) {

4131 #ifde‡
cimg_no_sy°em_ˇŒs


4134 #i‡
cimg_OS
==2

4135 
PROCESS_INFORMATION
 
	gpi
;

4136 
STARTUPINFO
 
	gsi
;

4137 
	g°d
::
mem£t
(&
pi
,0,(
PROCESS_INFORMATION
));

4138 
	g°d
::
mem£t
(&
si
,0,(
STARTUPINFO
));

4139 
GëSèπupInfo
(&
si
);

4140 
	gsi
.
	gcb
 = (
si
);

4141 
	gsi
.
	gwShowWödow
 = 
SW_HIDE
;

4142 
	gsi
.
	gdwFœgs
 |
SW_HIDE
 | 
STARTF_USESHOWWINDOW
;

4143 c⁄° 
BOOL
 
	gªs
 = 
Cª©ePro˚ss
((
LPCTSTR
)
moduÀ_«me
,(
LPTSTR
)
comm™d
,0,0,
FALSE
,0,0,0,&
si
,&
pi
);

4144 i‡(
	gªs
) {

4145 
WaôF‹SögÀObje˘
(
pi
.
hPro˚ss
, 
INFINITE
);

4146 
Clo£H™dÀ
(
pi
.
hThªad
);

4147 
Clo£H™dÀ
(
pi
.
hPro˚ss
);

4151  
	g°d
::
sy°em
(
comm™d
);

4152  
	gmoduÀ_«me
?0:1;

4157 
	gãm∂©e
<
ty≥«me
 
	gT
>

4158 
ölöe
 
	gT
& 
ãmp‹¨y
(c⁄° 
T
&) {

4159 
T
 
	gãmp
;

4160  
	gãmp
;

4164 
	gãm∂©e
<
ty≥«me
 
	gT
>

4165 
ölöe
 
sw≠
(
T
& 
a
, T& 
b
Ë{ T 
	gt
 =á; 
	ga
 = b; 
	gb
 = 
t
; }

4168 
	gãm∂©e
<
ty≥«me
 
	gT1
,Åy≥«mê
	gT2
>

4169 
ölöe
 
sw≠
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
) {

4170 
	gcimg
::
sw≠
(
a1
,
b1
); cimg::sw≠(
a2
,
b2
);

4174 
	gãm∂©e
<
ty≥«me
 
	gT1
,Åy≥«mê
	gT2
,Åy≥«mê
	gT3
>

4175 
ölöe
 
sw≠
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
) {

4176 
	gcimg
::
sw≠
(
a1
,
b1
,
a2
,
b2
); cimg::sw≠(
a3
,
b3
);

4180 
	gãm∂©e
<
ty≥«me
 
	gT1
,Åy≥«mê
	gT2
,Åy≥«mê
	gT3
,Åy≥«mê
	gT4
>

4181 
ölöe
 
sw≠
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
) {

4182 
	gcimg
::
sw≠
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
); cimg::sw≠(
a4
,
b4
);

4186 
	gãm∂©e
<
ty≥«me
 
	gT1
,Åy≥«mê
	gT2
,Åy≥«mê
	gT3
,Åy≥«mê
	gT4
,Åy≥«mê
	gT5
>

4187 
ölöe
 
sw≠
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
, 
T5
& 
a5
, T5& 
b5
) {

4188 
	gcimg
::
sw≠
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
,
a4
,
b4
); cimg::sw≠(
a5
,
b5
);

4192 
	gãm∂©e
<
ty≥«me
 
	gT1
,Åy≥«mê
	gT2
,Åy≥«mê
	gT3
,Åy≥«mê
	gT4
,Åy≥«mê
	gT5
,Åy≥«mê
	gT6
>

4193 
ölöe
 
sw≠
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
, 
T5
& 
a5
, T5& 
b5
, 
T6
& 
a6
, T6& 
b6
) {

4194 
	gcimg
::
sw≠
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
,
a4
,
b4
,
a5
,
b5
); cimg::sw≠(
a6
,
b6
);

4198 
	gãm∂©e
<
ty≥«me
 
	gT1
,Åy≥«mê
	gT2
,Åy≥«mê
	gT3
,Åy≥«mê
	gT4
,Åy≥«mê
	gT5
,Åy≥«mê
	gT6
,Åy≥«mê
	gT7
>

4199 
ölöe
 
sw≠
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
, 
T5
& 
a5
, T5& 
b5
, 
T6
& 
a6
, T6& 
b6
,

4200 
T7
& 
a7
, T7& 
b7
) {

4201 
	gcimg
::
sw≠
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
,
a4
,
b4
,
a5
,
b5
,
a6
,
b6
); cimg::sw≠(
a7
,
b7
);

4205 
	gãm∂©e
<
ty≥«me
 
	gT1
,Åy≥«mê
	gT2
,Åy≥«mê
	gT3
,Åy≥«mê
	gT4
,Åy≥«mê
	gT5
,Åy≥«mê
	gT6
,Åy≥«mê
	gT7
,Åy≥«mê
	gT8
>

4206 
ölöe
 
sw≠
(
T1
& 
a1
, T1& 
b1
, 
T2
& 
a2
, T2& 
b2
, 
T3
& 
a3
, T3& 
b3
, 
T4
& 
a4
, T4& 
b4
, 
T5
& 
a5
, T5& 
b5
, 
T6
& 
a6
, T6& 
b6
,

4207 
T7
& 
a7
, T7& 
b7
, 
T8
& 
a8
, T8& 
b8
) {

4208 
	gcimg
::
sw≠
(
a1
,
b1
,
a2
,
b2
,
a3
,
b3
,
a4
,
b4
,
a5
,
b5
,
a6
,
b6
,
a7
,
b7
); cimg::sw≠(
a8
,
b8
);

4215 
ölöe
 
boﬁ
 
ídü¬ess
() {

4216 c⁄° 
	gx
 = 1;

4217  ((*)&
	gx
)[0]?
	gÁl£
:
åue
;

4225 
	gãm∂©e
<
ty≥«me
 
	gT
>

4226 
ölöe
 
övît_ídü¬ess
(
T
* c⁄° 
buf„r
, c⁄° 
size
) {

4227 i‡(
	gsize
Ë(
	gT
)) {

4229 2 : { *
±r
 = (*)
buf„r
+
size
; 
	g±r
>(*)
	gbuf„r
; ) {

4230 c⁄° 
	gvÆ
 = *(--
±r
);

4231 *
	g±r
 = ()((
vÆ
>>8)|((val<<8)));

4234 4 : { *
±r
 = (*)
buf„r
+
size
; 
	g±r
>(*)
	gbuf„r
; ) {

4235 c⁄° 
	gvÆ
 = *(--
±r
);

4236 *
	g±r
 = (
vÆ
>>24)|((val>>8)&0xff00)|((val<<8)&0xff0000)|(val<<24);

4239  : { 
T
* 
±r
 = 
buf„r
+
size
; 
	g±r
>
	gbuf„r
; ) {

4240 *
	gpb
 = (*)(--
±r
), *
	g≥
 = 
pb
 + (
T
);

4241 
	gi
 = 0; i<()(
	gT
)/2; ++iË
sw≠
(*(
pb
++),*(--
≥
));

4252 
	gãm∂©e
<
ty≥«me
 
	gT
>

4253 
ölöe
 
	gT
& 
övît_ídü¬ess
(
T
& 
a
) {

4254 
övît_ídü¬ess
(&
a
,1);

4255  
	ga
;

4259 
ölöe
 
Êﬂt2uöt
(c⁄° 
f
) {

4260 
	gtmp
 = 0;

4261 
	g°d
::
mem˝y
(&
tmp
,&
f
,());

4262 i‡(
	gtmp
>=0Ë ()
f
;

4263 
	gu
;

4264 
	g°d
::
mem˝y
(&
u
,&
f
,());

4265  ((
	gu
)<<1)>>1;

4268 
ölöe
 
uöt2Êﬂt
(c⁄° 
u
) {

4269 i‡(
	gu
<(1U<<19))  ()u;

4270 
	gf
;

4271 c⁄° 
	gv
 = 
u
|(1U<<(8*()-1));

4272 
	g°d
::
mem˝y
(&
f
,&
v
,());

4273  
	gf
;

4280 
ölöe
 
time
() {

4281 #i‡
cimg_OS
==1

4282 
timevÆ
 
	g°_time
;

4283 
gëtimeofday
(&
°_time
,0);

4284  ()(
	g°_time
.
	gtv_u£c
/1000 + st_time.
	gtv_£c
*1000);

4285 #ñi‡
cimg_OS
==2

4286 
SYSTEMTIME
 
	g°_time
;

4287 
GëSy°emTime
(&
°_time
);

4288  ()(
	g°_time
.
	gwMûli£c⁄ds
 + 1000*(°_time.
	gwSec⁄d
 + 60*(°_time.
	gwMöuã
 + 60*°_time.
	gwHour
)));

4295 
ölöe
 
ti˘oc
(c⁄° 
boﬁ
 
is_tic
);

4301 
ölöe
 
tic
() {

4302  
	gcimg
::
ti˘oc
(
åue
);

4309 
ölöe
 
toc
() {

4310  
	gcimg
::
ti˘oc
(
Ál£
);

4319 
ölöe
 
¶ìp
(c⁄° 
mûli£c⁄ds
) {

4320 #i‡
cimg_OS
==1

4321 
time•ec
 
	gtv
;

4322 
	gtv
.
	gtv_£c
 = 
mûli£c⁄ds
/1000;

4323 
	gtv
.
	gtv_n£c
 = (
mûli£c⁄ds
%1000)*1000000;

4324 
«no¶ìp
(&
tv
,0);

4325 #ñi‡
cimg_OS
==2

4326 
SÀï
(
mûli£c⁄ds
);

4330 
ölöe
 
_waô
(c⁄° 
mûli£c⁄ds
, & 
timî
) {

4331 i‡(!
	gtimî
Ëtimî = 
cimg
::
time
();

4332 c⁄° 
	gcuºít_time
 = 
cimg
::
time
();

4333 i‡(
	gcuºít_time
>=
timî
+
mûli£c⁄ds
Ë{Åimî = 
cuºít_time
;  0; }

4334 c⁄° 
	gtime_diff
 = 
timî
 + 
mûli£c⁄ds
 - 
cuºít_time
;

4335 
	gtimî
 = 
cuºít_time
 + 
time_diff
;

4336 
	gcimg
::
¶ìp
(
time_diff
);

4337  ()
	gtime_diff
;

4347 
ölöe
 
waô
(c⁄° 
mûli£c⁄ds
) {

4348 
	gcimg
::
muãx
(3);

4349 
	gtimî
 = 0;

4350 i‡(!
	gtimî
Ëtimî = 
cimg
::
time
();

4351 
	gcimg
::
muãx
(3,0);

4352  
_waô
(
mûli£c⁄ds
,
timî
);

4359 #ifde‡
cimg_u£_∫g


4361 
	~<°döt.h
>

4364 
ölöe
 
_ønd
(c⁄° 
£ed
=0, c⁄° 
boﬁ
 
£t_£ed
=
Ál£
) {

4365 
√xt
 = 1;

4366 
	gcimg
::
muãx
(4);

4367 i‡(
	g£t_£ed
Ë
	g√xt
 = ()
£ed
;

4368 
	g√xt
 = 
√xt
*1103515245 + 12345 + 
ønd
();

4369 
	gcimg
::
muãx
(4,0);

4370  ()((
	g√xt
>>16)&0x7FFF);

4373 
ölöe
 
§™d
() {

4374 c⁄° 
	gt
 = ()
cimg
::
time
();

4375 #i‡
cimg_OS
==1

4376 
	gcimg
::
_ønd
(
t
+()
gëpid
(),
åue
);

4377 #ñi‡
cimg_OS
==2

4378 
	gcimg
::
_ønd
(
t
+()
_gëpid
(),
åue
);

4380 
	gcimg
::
_ønd
(
t
,
åue
);

4384 
ölöe
 
§™d
(c⁄° 
£ed
) {

4385 
_ønd
(
£ed
,
åue
);

4388 
ölöe
 
ønd
() {

4389  
	gcimg
::
_ønd
()/32767.;

4395 
ölöe
 
§™d
() {

4396 c⁄° 
	gt
 = ()
cimg
::
time
();

4397 #i‡
cimg_OS
==1

4398 
	g°d
::
§™d
(
t
+()
gëpid
());

4399 #ñi‡
cimg_OS
==2

4400 
	g°d
::
§™d
(
t
+()
_gëpid
());

4402 
	g°d
::
§™d
(
t
);

4406 
ölöe
 
§™d
(c⁄° 
£ed
) {

4407 
	g°d
::
§™d
(
£ed
);

4413 
ölöe
 
ønd
() {

4414  ()
	g°d
::
ønd
()/
RAND_MAX
;

4421 
ölöe
 
¸™d
() {

4422  1-2*
	gcimg
::
ønd
();

4428 
ölöe
 
gønd
() {

4429 
	gx1
, 
	gw
;

4431 c⁄° 
	gx2
 = 2*
cimg
::
ønd
() - 1.0;

4432 
	gx1
 = 2*
cimg
::
ønd
()-1.0;

4433 
	gw
 = 
x1
*x1 + 
x2
*x2;

4434 } 
	gw
<=0 || 
w
>=1.0);

4435  
x1
*
	g°d
::
sqπ
((-2*
°d
::
log
(
w
))/w);

4441 
ölöe
 
¥™d
(c⁄° 
z
) {

4442 i‡(
	gz
<=1.0e-10)  0;

4443 i‡(
	gz
>100Ë ()((
	g°d
::
sqπ
(
z
Ë* 
cimg
::
gønd
()) + z);

4444 
	gk
 = 0;

4445 c⁄° 
	gy
 = 
°d
::
exp
(-
z
);

4446 
	gs
 = 1.0; s>=
y
; ++
	gk
Ës*=
cimg
::
ønd
();

4447  
	gk
-1;

4451 
	gãm∂©e
<
ty≥«me
 
	gT
>

4452 
ölöe
 
T
 
rﬁ
(c⁄° T 
a
, c⁄° 
n
=1) {

4453  
n
?(
T
)((
a
<<n)|(a>>(((T)<<3)-n))):a;

4456 
ölöe
 
rﬁ
(c⁄° 
a
, c⁄° 
n
=1) {

4457  ()
rﬁ
(()
a
,
n
);

4460 
ölöe
 
rﬁ
(c⁄° 
a
, c⁄° 
n
=1) {

4461  ()
rﬁ
(()
a
,
n
);

4465 
	gãm∂©e
<
ty≥«me
 
	gT
>

4466 
ölöe
 
T
 
r‹
(c⁄° T 
a
, c⁄° 
n
=1) {

4467  
n
?(
T
)((
a
>>n)|(a<<(((T)<<3)-n))):a;

4470 
ölöe
 
r‹
(c⁄° 
a
, c⁄° 
n
=1) {

4471  ()
r‹
(()
a
,
n
);

4474 
ölöe
 
r‹
(c⁄° 
a
, c⁄° 
n
=1) {

4475  ()
r‹
(()
a
,
n
);

4479 
	gãm∂©e
<
ty≥«me
 
	gT
>

4480 
ölöe
 
T
 
abs
(c⁄° T 
a
) {

4481  
	ga
>=0?
a
:-a;

4483 
ölöe
 
boﬁ
 
abs
(c⁄° boﬁ 
a
) {

4484  
	ga
;

4486 
ölöe
 
abs
(c⁄° 
a
) {

4487  
	ga
;

4489 
ölöe
 
abs
(c⁄° 
a
) {

4490  
	ga
;

4492 
ölöe
 
abs
(c⁄° 
a
) {

4493  
	ga
;

4495 
ölöe
 
abs
(c⁄° 
a
) {

4496  
	ga
;

4498 
ölöe
 
abs
(c⁄° 
a
) {

4499  
	g°d
::
Ábs
(
a
);

4501 
ölöe
 
abs
(c⁄° 
a
) {

4502  ()
	g°d
::
Ábs
(()
a
);

4504 
ölöe
 
abs
(c⁄° 
a
) {

4505  
	g°d
::
abs
(
a
);

4509 
	gãm∂©e
<
ty≥«me
 
	gT
>

4510 
ölöe
 
T
 
sqr
(c⁄° T 
vÆ
) {

4511  
vÆ
*
	gvÆ
;

4515 
ölöe
 
x 
(c⁄° 
x
) {

4516  
	gx
>0?()(1+
	g°d
::
log10
(()
x
)):1;

4520 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
>

4521 
ölöe
 
ty≥«me
 
	gcimg
::
su≥r£t
<
t1
,
	gt2
>::
ty≥
 
mö
(c⁄°Å1& 
a
, c⁄° 
t2
& 
b
) {

4522 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tt1
,
	tt2
>::
	tty≥
 
	tt1t2
;

4523  (
	gt1t2
)(
	ga
<=
b
?
a
:b);

4527 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
>

4528 
ölöe
 
ty≥«me
 
	gcimg
::
su≥r£t2
<
t1
,
	gt2
,
	gt3
>::
ty≥
 
mö
(c⁄°Å1& 
a
, c⁄° 
t2
& 
b
, c⁄° 
t3
& 
c
) {

4529 
ty≥«me
 
	tcimg
::
	tsu≥r£t2
<
	tt1
,
	tt2
,
	tt3
>::
	tty≥
 
	tt1t2t3
;

4530  (
	gt1t2t3
)
	gcimg
::
mö
(
cimg
::mö(
a
,
b
),
c
);

4534 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
>

4535 
ölöe
 
ty≥«me
 
	gcimg
::
su≥r£t3
<
t1
,
	gt2
,
	gt3
,
	gt4
>::
ty≥
 
mö
(c⁄°Å1& 
a
, c⁄° 
t2
& 
b
, c⁄° 
t3
& 
c
, c⁄° 
t4
& 
d
) {

4536 
ty≥«me
 
	tcimg
::
	tsu≥r£t3
<
	tt1
,
	tt2
,
	tt3
,
	tt4
>::
	tty≥
 
	tt1t2t3t4
;

4537  (
	gt1t2t3t4
)
	gcimg
::
mö
(
cimg
::mö(
a
,
b
,
c
),
d
);

4541 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
>

4542 
ölöe
 
ty≥«me
 
	gcimg
::
su≥r£t
<
t1
,
	gt2
>::
ty≥
 
max
(c⁄°Å1& 
a
, c⁄° 
t2
& 
b
) {

4543 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tt1
,
	tt2
>::
	tty≥
 
	tt1t2
;

4544  (
	gt1t2
)(
	ga
>=
b
?
a
:b);

4548 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
>

4549 
ölöe
 
ty≥«me
 
	gcimg
::
su≥r£t2
<
t1
,
	gt2
,
	gt3
>::
ty≥
 
max
(c⁄°Å1& 
a
, c⁄° 
t2
& 
b
, c⁄° 
t3
& 
c
) {

4550 
ty≥«me
 
	tcimg
::
	tsu≥r£t2
<
	tt1
,
	tt2
,
	tt3
>::
	tty≥
 
	tt1t2t3
;

4551  (
	gt1t2t3
)
	gcimg
::
max
(
cimg
::max(
a
,
b
),
c
);

4555 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
>

4556 
ölöe
 
ty≥«me
 
	gcimg
::
su≥r£t3
<
t1
,
	gt2
,
	gt3
,
	gt4
>::
ty≥
 
max
(c⁄°Å1& 
a
, c⁄° 
t2
& 
b
, c⁄° 
t3
& 
c
, c⁄° 
t4
& 
d
) {

4557 
ty≥«me
 
	tcimg
::
	tsu≥r£t3
<
	tt1
,
	tt2
,
	tt3
,
	tt4
>::
	tty≥
 
	tt1t2t3t4
;

4558  (
	gt1t2t3t4
)
	gcimg
::
max
(
cimg
::max(
a
,
b
,
c
),
d
);

4562 
	gãm∂©e
<
ty≥«me
 
	gT
>

4563 
ölöe
 
T
 
sign
(c⁄° T 
x
) {

4564  (
	gx
<0)?(
	gT
)(-1):(
x
==0?(
T
)0:(T)1);

4568 
	gãm∂©e
<
ty≥«me
 
	gT
>

4569 
ölöe
 
√¨e°_pow2
(c⁄° 
T
 
x
) {

4570 
	gi
 = 1;

4571 
	gx
>
	gi
) i<<=1;

4572  
	gi
;

4576 
ölöe
 
söc
(c⁄° 
x
) {

4577  
	gx
?
	g°d
::
sö
(
x
)/x:1;

4586 
	gãm∂©e
<
ty≥«me
 
	gT
>

4587 
ölöe
 
T
 
mod
(c⁄° T& 
x
, c⁄° T& 
m
) {

4588 c⁄° 
	gdx
 = ()
x
, 
	gdm
 = ()
m
;

4589  (
	gT
)(
	gdx
 - 
dm
 * 
	g°d
::
Êo‹
(
dx
 / dm));

4591 
ölöe
 
mod
(c⁄° 
boﬁ
 
x
, c⁄° boﬁ 
m
) {

4592  
	gm
?(
	gx
?1:0):0;

4594 
ölöe
 
mod
(c⁄° 
x
, c⁄° 
m
) {

4595  
	gx
>=0?
x
%
m
:(x%m?m+x%m:0);

4597 
ölöe
 
mod
(c⁄° 
x
, c⁄° 
m
) {

4598  
	gx
>=0?
x
%
m
:(x%m?m+x%m:0);

4600 
ölöe
 
mod
(c⁄° 
x
, c⁄° 
m
) {

4601  
	gx
>=0?
x
%
m
:(x%m?m+x%m:0);

4603 
ölöe
 
mod
(c⁄° 
x
, c⁄° 
m
) {

4604  
	gx
>=0?
x
%
m
:(x%m?m+x%m:0);

4606 
ölöe
 
mod
(c⁄° 
x
, c⁄° 
m
) {

4607  
	gx
%
	gm
;

4609 
ölöe
 
mod
(c⁄° 
x
, c⁄° 
m
) {

4610  
	gx
%
	gm
;

4612 
ölöe
 
mod
(c⁄° 
x
, c⁄° 
m
) {

4613  
	gx
%
	gm
;

4615 
ölöe
 
mod
(c⁄° 
x
, c⁄° 
m
) {

4616  
	gx
%
	gm
;

4625 
	gãm∂©e
<
ty≥«me
 
	gT
>

4626 
ölöe
 
T
 
mömod
(c⁄° T 
a
, c⁄° T 
b
) {

4627  
a
*
	gb
<=0?0:◊>0?◊<
b
?a:b):(a<b?b:a));

4631 
ölöe
 
log2
(c⁄° 
x
) {

4632 c⁄° 
	gba£
 = 
°d
::
log
(2.0);

4633  
	g°d
::
log
(
x
)/
ba£
;

4643 
	gãm∂©e
<
ty≥«me
 
	gT
>

4644 
ölöe
 
T
 
round
(c⁄° T 
x
, c⁄° 
y
=1, c⁄° 
roundög_ty≥
=0) {

4645 i‡(
y
<=0Ë 
x
;

4646 c⁄° 
	gsx
 = ()
x
/
y
, 
	gÊo‹
 = 
°d
::
Êo‹
(
sx
), 
	gdñè
 = sx - floor;

4647  (
	gT
)(
	gy
*(
	groundög_ty≥
<0?
	gÊo‹
:
roundög_ty≥
>0?
°d
::
˚û
(
sx
):
dñè
<0.5?
Êo‹
:std::ceil(sx)));

4650 
ölöe
 
_pythag‹e
(
a
, 
b
) {

4651 c⁄° 
	gabß
 = 
cimg
::
abs
(
a
), 
	gabsb
 = cimg::abs(
b
);

4652 i‡(
	gabß
>
	gabsb
Ë{ c⁄° 
	gtmp
 = 
absb
/
abß
; ábß*
	g°d
::
sqπ
(1.0+
tmp
*tmp); }

4653 { c⁄° 
	gtmp
 = 
abß
/
absb
;  
	gabsb
==0?0:absb*
°d
::
sqπ
(1.0+
tmp
*tmp); }

4656 
ölöe
 
boﬁ
 
_is_£lf_ex¥
(c⁄° *
ex¥essi⁄
) {

4657 i‡(!
	gex¥essi⁄
Ë 
	gÁl£
;

4658 c⁄° *
	gs
 = 
ex¥essi⁄
; *s; ++s)

4659 i‡((*
	gs
=='i' || *
s
=='j'Ë&& (s[1]=='(' || s[1]=='[')Ë 
åue
;

4660  
	gÁl£
;

4664 
ölöe
 
unˇ£
(c⁄° 
x
) {

4665  ()((
	gx
<'A'||x>'Z')?x:
x
-'A'+'a');

4669 
ölöe
 
unˇ£
(*c⁄° 
°r
) {

4670 i‡(
	g°r
Ë*
	g±r
 = 
°r
; *±r; ++±rË*±∏
unˇ£
(*
±r
);

4679 
ölöe
 
©of
(c⁄° *c⁄° 
°r
) {

4680 
	gx
 = 0, 
	gy
 = 1;

4681 i‡(!
	g°r
Ë 0; { 
	g°d
::
ssˇnf
(
°r
,"%lf/%lf",&
x
,&
y
);  
	gx
/
	gy
; }

4692 
ölöe
 
°∫ˇ£cmp
(c⁄° *c⁄° 
°r1
, c⁄° *c⁄° 
°r2
, c⁄° 
l
) {

4693 i‡(!
	gl
)  0;

4694 i‡(!
	g°r1
Ë 
	g°r2
?-1:0;

4695 c⁄° *
	gn°r1
 = 
°r1
, *
	gn°r2
 = 
°r2
;

4696 
	gk
, 
	gdiff
 = 0; k = 0; k<
	gl
 && !(dif‡
unˇ£
(*
n°r1
)-unˇ£(*
n°r2
)); ++kË{ ++
	gn°r1
; ++
	gn°r2
; }

4697  
	gk
!=
l
?
diff
:0;

4707 
ölöe
 
°rˇ£cmp
(c⁄° *c⁄° 
°r1
, c⁄° *c⁄° 
°r2
) {

4708 i‡(!
	g°r1
Ë 
	g°r2
?-1:0;

4710 
	gl1
 = ()
°d
::
°æí
(
°r1
),

4711 
	gl2
 = ()
°d
::
°æí
(
°r2
);

4712  
	gcimg
::
°∫ˇ£cmp
(
°r1
,
°r2
,1+(
l1
<
l2
?l1:l2));

4723 
ölöe
 
boﬁ
 
°Ω¨e
(*c⁄° 
°r
, c⁄° 
dñimôî
=' ', c⁄° boﬁ 
is_symmëric
=
Ál£
, c⁄° boﬁ 
is_ôî©ive
=false) {

4724 i‡(!
°r
Ë 
Ál£
;

4725 c⁄° 
	gl
 = ()
°d
::
°æí
(
°r
);

4726 
	gp
, 
	gq
;

4727 i‡(
	gis_symmëric
Ë
	gp
 = 0, 
	gq
 = 
l
-1;Ö<q && 
	g°r
[
p
]==
dñimôî
 && 
°r
[
q
]==dñimôî; ) { --q; ++p; i‡(!
	gis_ôî©ive
) ; }

4729 
	gp
 = 0;Ö<
	gl
 && 
	g°r
[
p
]==
dñimôî
; ) { ++p; i‡(!
	gis_ôî©ive
) ; }

4730 
	gq
 = 
l
-1; q>
	gp
 && 
	g°r
[
q
]==
dñimôî
; ) { --q; i‡(!
	gis_ôî©ive
) ; }

4732 c⁄° 
	gn
 = 
q
 - 
p
 + 1;

4733 i‡(
	gn
!=
l
Ë{ 
°d
::
memmove
(
°r
,°r+
p
,
n
); 
	g°r
[n] = 0;  
	gåue
; }

4734  
	gÁl£
;

4741 
ölöe
 
°ru√sˇ≥
(*c⁄° 
°r
) {

4742 
	#cimg_°ru√sˇ≥
(
ci
,
co
Ëci: *
nd
 = co; ++
ns
; ;

	)

4743 
	gvÆ
 = 0;

4744 *
	gns
 = 
°r
, *
	gnd
 = så; *n†|| (
	gboﬁ
)(*nd=0); ++ndËi‡(*ns=='\\'Ë*(++
ns
)) {

4745 
cimg_°ru√sˇ≥
('n','\n');

4746 
cimg_°ru√sˇ≥
('t','\t');

4747 
cimg_°ru√sˇ≥
('v','\v');

4748 
cimg_°ru√sˇ≥
('b','\b');

4749 
cimg_°ru√sˇ≥
('r','\r');

4750 
cimg_°ru√sˇ≥
('f','\f');

4751 
cimg_°ru√sˇ≥
('a','\a');

4752 
cimg_°ru√sˇ≥
('\\','\\');

4753 
cimg_°ru√sˇ≥
('\?','\?');

4754 
cimg_°ru√sˇ≥
('\'','\'');

4755 
cimg_°ru√sˇ≥
('\"','\"');

4756 0 : *
nd
 = 0; ;

4758 
°d
::
ssˇnf
(
ns
,"%o",&
vÆ
); *
	gns
>='0' && *ns<='7') ++ns;

4759 *
	gnd
 = 
vÆ
; ;

4761 
°d
::
ssˇnf
(++
ns
,"%x",&
vÆ
); (*
	gns
>='0' && *ns<='7') || (*ns>='a' && *ns<='f') || (*ns>='A' && *ns<='F')) ++ns;

4762 *
	gnd
 = 
vÆ
; ;

4763  : *
nd
 = *(
ns
++);

4764 } *
	gnd
 = *(
ns
++);

4768 
ölöe
 c⁄° *
°rbuf„rsize
(c⁄° 
size
) {

4769 
	gªs
[256] = { 0 };

4770 
	gcimg
::
muãx
(5);

4771 i‡(
	gsize
<1024LUË
cimg_¢¥ötf
(
ªs
,‘es),"%lu byã%s",
size
,size>1?"s":"");

4772 i‡(
	gsize
<1024*1024LUË{ c⁄° 
	gnsize
 = 
size
/1024.0f; 
cimg_¢¥ötf
(
ªs
,‘es),"%.1‡Kio",
nsize
); }

4773 i‡(
	gsize
<1024*1024*1024LUË{ c⁄° 
	gnsize
 = 
size
/(1024*1024.0f); 
cimg_¢¥ötf
(
ªs
,‘es),"%.1‡Mio",
nsize
); }

4774 { c⁄° 
	gnsize
 = 
size
/(1024*1024*1024.0f); 
cimg_¢¥ötf
(
ªs
,‘es),"%.1‡Gio",
nsize
); }

4775 
	gcimg
::
muãx
(5,0);

4776  
	gªs
;

4780 
ölöe
 c⁄° *
°ros
() {

4781 #i‡
deföed
(
löux
Ë|| deföed(
__löux
Ë|| deföed(
__löux__
)

4782 c⁄° *c⁄° 
	g°r
 = "Linux";

4783 #ñi‡
deföed
(
sun
Ë|| deföed(
__sun
)

4784 c⁄° *c⁄° 
	g°r
 = "Sun OS";

4785 #ñi‡
deföed
(
BSD
Ë|| deföed(
__O≥nBSD__
Ë|| deföed(
__NëBSD__
Ë|| deföed(
__FªeBSD__
Ë|| deföed (
__Døg⁄Fly__
)

4786 c⁄° *c⁄° 
	g°r
 = "BSD";

4787 #ñi‡
deföed
(
sgi
Ë|| deföed(
__sgi
)

4788 c⁄° *c⁄° 
	g°r
 = "Irix";

4789 #ñi‡
deföed
(
__MACOSX__
Ë|| deföed(
__APPLE__
)

4790 c⁄° *c⁄° 
	g°r
 = "Mac OS";

4791 #ñi‡
deföed
(
unix
Ë|| deföed(
__unix
Ë|| deföed(
__unix__
)

4792 c⁄° *c⁄° 
	g°r
 = "Generic Unix";

4793 #ñi‡
deföed
(
_MSC_VER
Ë|| deföed(
WIN32
Ë|| deföed(
_WIN32
Ë|| deföed(
__WIN32__
Ë|| deföed(
WIN64
Ë|| deföed(
_WIN64
Ë|| deföed(
__WIN64__
)

4794 c⁄° *c⁄° 
	g°r
 = "Windows";

4797 *c⁄° 
	g_°r1
 = 
°d
::
gëív
("OSTYPE"),

4798 *c⁄° 
	g_°r2
 = 
_°r1
?_°r1:
°d
::
gëív
("OS"),

4799 *c⁄° 
	g°r
 = 
_°r2
?_str2:"Unknown OS";

4801  
	g°r
;

4805 
ölöe
 c⁄° * 
ba£«me
(c⁄° *c⁄° 
°r
) {

4806 c⁄° *
	gp
 = 0;

4807 c⁄° *
	g≈
 = 
°r
;Çp>=°∏&& (
p
=
≈
);Ç∞
°d
::
°rchr
“p,
cimg_fûe_£∑øt‹
)+1) {}

4808  
	gp
;

4812 
ölöe
 c⁄° * 
fûíamî™d
() {

4813 
	gcimg
::
muãx
(6);

4814 
	gøndomid
[9] = { 0 };

4815 
	gcimg
::
§™d
();

4816 
	gk
 = 0; k<8; ++k) {

4817 c⁄° 
	gv
 = ()
°d
::
ønd
()%3;

4818 
	gøndomid
[
k
] = ()(
v
==0?('0'+(
°d
::
ønd
()%10)):(v==1?('a'+(std::rand()%26)):('A'+(std::rand()%26))));

4820 
	gcimg
::
muãx
(6,0);

4821  
	gøndomid
;

4825 
ölöe
 
wöf‹m©_°rög
(*c⁄° 
°r
) {

4826 i‡(
	g°r
 && *str) {

4827 #i‡
cimg_OS
==2

4828 *c⁄° 
	gn°r
 = 
√w
 [
MAX_PATH
];

4829 i‡(
GëSh‹tP©hNameA
(
°r
,
n°r
,
MAX_PATH
)Ë
	g°d
::
°r˝y
(str,nstr);

4842 
ölöe
 
	g°d
::
FILE
 *
f›í
(c⁄° *c⁄° 
∑th
, c⁄° *c⁄° 
mode
) {

4843 i‡(!
	g∑th
)

4844 
throw
 
CImgArgumítEx˚±i⁄
("cimg::fopen(): Specified fileÖath is (null).");

4845 i‡(!
	gmode
)

4846 
throw
 
CImgArgumítEx˚±i⁄
("cimg::fopen(): File '%s', specified mode is (null).",

4847 
∑th
);

4848 
	g°d
::
FILE
 *
ªs
 = 0;

4849 i‡(*
	g∑th
=='-' && (!
∑th
[1] ||Öath[1]=='.')) {

4850 
ªs
 = (*
mode
=='r')?
°dö
:
°dout
;

4851 #i‡
cimg_OS
==2

4852 i‡(*
	gmode
 && mode[1]=='b') {

4853 i‡(
_£tmode
(
_fûío
(
ªs
),0x8000)==-1)Ñes = 0;

4856 } 
	gªs
 = 
°d
::
f›í
(
∑th
,
mode
);

4857 i‡(!
	gªs
Ë
throw
 
CImgIOEx˚±i⁄
("cimg::fopen(): FailedÅo open file '%s' with mode '%s'.",

4858 
∑th
,
mode
);

4859  
	gªs
;

4869 
ölöe
 
f˛o£
(
°d
::
FILE
 *
fûe
) {

4870 i‡(!
fûe
Ë
w¨n
("cimg::fclose(): Specified file is (null).");

4871 i‡(!
	gfûe
 || fûe==
°dö
 || 
fûe
==
°dout
)  0;

4872 c⁄° 
	gî∫
 = 
°d
::
f˛o£
(
fûe
);

4873 i‡(
	gî∫
!=0Ë
w¨n
("cimg::fclose(): Error code %dÑeturned during file closing.",

4874 
î∫
);

4875  
	gî∫
;

4884 
ölöe
 c⁄° * 
ãmp‹¨y_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

4885 
	#_cimg_ã°_ãmp‹¨y_∑th
(
p
) \

4886 i‡(!
∑th_found
) { \

4887 
	`cimg_¢¥ötf
(
s_∑th
,1024,"%s",
p
); \

4888 
	`cimg_¢¥ötf
(
tmp
,—mp),"%s%c%s",
s_∑th
,
cimg_fûe_£∑øt‹
,
fûëmp
); \

4889 i‡((
fûe
=
°d
::
	`f›í
(
tmp
,"wb"))!=0Ë{ 
cimg
::
	`f˛o£
(fûe); std::
	`ªmove
—mp); 
∑th_found
 = 
åue
; } \

4890 }

	)

4891 *
	gs_∑th
 = 0;

4892 
	gcimg
::
muãx
(7);

4893 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

4894 i‡(
	gu£r_∑th
) {

4895 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

4896 
	g°d
::
mem£t
(
s_∑th
,0,1024);

4897 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

4898 } i‡(!
	gs_∑th
) {

4899 
	gs_∑th
 = 
√w
 [1024];

4900 
	g°d
::
mem£t
(
s_∑th
,0,1024);

4901 
boﬁ
 
	g∑th_found
 = 
Ál£
;

4902 
	gtmp
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 };

4903 
	g°d
::
FILE
 *
fûe
 = 0;

4904 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s.tmp",
cimg
::
fûíamî™d
());

4905 *
	gtmpP©h
 = 
°d
::
gëív
("TMP");

4906 i‡(!
	gtmpP©h
Ë{ÅmpP©h = 
°d
::
gëív
("TEMP"); 
wöf‹m©_°rög
(
tmpP©h
); }

4907 i‡(
	gtmpP©h
Ë
_cimg_ã°_ãmp‹¨y_∑th
(
tmpP©h
);

4908 #i‡
cimg_OS
==2

4909 
_cimg_ã°_ãmp‹¨y_∑th
("C:\\WINNT\\Temp");

4910 
_cimg_ã°_ãmp‹¨y_∑th
("C:\\WINDOWS\\Temp");

4911 
_cimg_ã°_ãmp‹¨y_∑th
("C:\\Temp");

4912 
_cimg_ã°_ãmp‹¨y_∑th
("C:");

4913 
_cimg_ã°_ãmp‹¨y_∑th
("D:\\WINNT\\Temp");

4914 
_cimg_ã°_ãmp‹¨y_∑th
("D:\\WINDOWS\\Temp");

4915 
_cimg_ã°_ãmp‹¨y_∑th
("D:\\Temp");

4916 
_cimg_ã°_ãmp‹¨y_∑th
("D:");

4918 
_cimg_ã°_ãmp‹¨y_∑th
("/tmp");

4919 
_cimg_ã°_ãmp‹¨y_∑th
("/var/tmp");

4921 i‡(!
	g∑th_found
) {

4922 *
	gs_∑th
 = 0;

4923 
	g°d
::
°∫˝y
(
tmp
,
fûëmp
,(tmp)-1);

4924 i‡((
	gfûe
=
°d
::
f›í
(
tmp
,"wb"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g°d
::
ªmove
—mp); 
	g∑th_found
 = 
åue
; }

4926 i‡(!
	g∑th_found
) {

4927 
	gcimg
::
muãx
(7,0);

4928 
throw
 
CImgIOEx˚±i⁄
("cimg::temporary_path(): FailedÅoÜocateÖath for writingÅemporary files.\n");

4931 
	gcimg
::
muãx
(7,0);

4932  
	gs_∑th
;

4941 #i‡
cimg_OS
==2

4942 
ölöe
 c⁄° * 
¥ogømfûes_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

4943 *
s_∑th
 = 0;

4944 
	gcimg
::
muãx
(7);

4945 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

4946 i‡(
	gu£r_∑th
) {

4947 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

4948 
	g°d
::
mem£t
(
s_∑th
,0,1024);

4949 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

4950 } i‡(!
	gs_∑th
) {

4951 
	gs_∑th
 = 
√w
 [
MAX_PATH
];

4952 
	g°d
::
mem£t
(
s_∑th
,0,
MAX_PATH
);

4954 #i‡!
deföed
(
__INTEL_COMPILER
)

4955 i‡(!
SHGëS≥cülFﬁdîP©hA
(0,
s_∑th
,0x0026,
Ál£
)) {

4956 c⁄° *c⁄° 
	gpfP©h
 = 
°d
::
gëív
("PROGRAMFILES");

4957 i‡(
	gpfP©h
Ë
	g°d
::
°∫˝y
(
s_∑th
,
pfP©h
,
MAX_PATH
-1);

4958 
	g°d
::
°r˝y
(
s_∑th
,"C:\\PROGRA~1");

4961 
	g°d
::
°r˝y
(
s_∑th
,"C:\\PROGRA~1");

4964 
	gcimg
::
muãx
(7,0);

4965  
	gs_∑th
;

4975 
ölöe
 c⁄° * 
imagemagick_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

4976 *
s_∑th
 = 0;

4977 
	gcimg
::
muãx
(7);

4978 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

4979 i‡(
	gu£r_∑th
) {

4980 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

4981 
	g°d
::
mem£t
(
s_∑th
,0,1024);

4982 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

4983 } i‡(!
	gs_∑th
) {

4984 
	gs_∑th
 = 
√w
 [1024];

4985 
	g°d
::
mem£t
(
s_∑th
,0,1024);

4986 
boﬁ
 
	g∑th_found
 = 
Ál£
;

4987 
	g°d
::
FILE
 *
fûe
 = 0;

4988 #i‡
cimg_OS
==2

4989 c⁄° *c⁄° 
	gpf_∑th
 = 
¥ogømfûes_∑th
();

4990 i‡(!
	g∑th_found
) {

4991 
	g°d
::
°r˝y
(
s_∑th
,".\\convert.exe");

4992 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

4994 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

4995 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\IMAGEM~1.%.2d-\\c⁄vît.exe",
pf_∑th
,
k
);

4996 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

4998 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

4999 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\IMAGEM~1.%d-Q\\c⁄vît.exe",
pf_∑th
,
k
);

5000 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5002 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5003 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\IMAGEM~1.%d\\c⁄vît.exe",
pf_∑th
,
k
);

5004 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5006 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5007 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\IMAGEM~1.%.2d-\\VISUA~1\\BIN\\c⁄vît.exe",
pf_∑th
,
k
);

5008 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5010 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5011 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\IMAGEM~1.%d-Q\\VISUA~1\\BIN\\c⁄vît.exe",
pf_∑th
,
k
);

5012 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5014 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5015 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\IMAGEM~1.%d\\VISUA~1\\BIN\\c⁄vît.exe",
pf_∑th
,
k
);

5016 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5018 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5019 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\IMAGEM~1.%.2d-\\c⁄vît.exe",
k
);

5020 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5022 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5023 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\IMAGEM~1.%d-Q\\c⁄vît.exe",
k
);

5024 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5026 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5027 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\IMAGEM~1.%d\\c⁄vît.exe",
k
);

5028 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5030 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5031 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\IMAGEM~1.%.2d-\\VISUA~1\\BIN\\c⁄vît.exe",
k
);

5032 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5034 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5035 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\IMAGEM~1.%d-Q\\VISUA~1\\BIN\\c⁄vît.exe",
k
);

5036 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5038 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5039 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\IMAGEM~1.%d\\VISUA~1\\BIN\\c⁄vît.exe",
k
);

5040 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5042 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5043 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\IMAGEM~1.%.2d-\\c⁄vît.exe",
k
);

5044 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5046 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5047 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\IMAGEM~1.%d-Q\\c⁄vît.exe",
k
);

5048 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5050 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5051 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\IMAGEM~1.%d\\c⁄vît.exe",
k
);

5052 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5054 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5055 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\IMAGEM~1.%.2d-\\VISUA~1\\BIN\\c⁄vît.exe",
k
);

5056 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5058 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5059 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\IMAGEM~1.%d-Q\\VISUA~1\\BIN\\c⁄vît.exe",
k
);

5060 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5062 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5063 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\IMAGEM~1.%d\\VISUA~1\\BIN\\c⁄vît.exe",
k
);

5064 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5066 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"convert.exe");

5068 i‡(!
	g∑th_found
) {

5069 
	g°d
::
°r˝y
(
s_∑th
,"./convert");

5070 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5072 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"convert");

5074 
wöf‹m©_°rög
(
s_∑th
);

5076 
	gcimg
::
muãx
(7,0);

5077  
	gs_∑th
;

5086 
ölöe
 c⁄° * 
gøphicsmagick_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

5087 *
s_∑th
 = 0;

5088 
	gcimg
::
muãx
(7);

5089 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

5090 i‡(
	gu£r_∑th
) {

5091 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

5092 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5093 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

5094 } i‡(!
	gs_∑th
) {

5095 
	gs_∑th
 = 
√w
 [1024];

5096 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5097 
boﬁ
 
	g∑th_found
 = 
Ál£
;

5098 
	g°d
::
FILE
 *
fûe
 = 0;

5099 #i‡
cimg_OS
==2

5100 c⁄° *c⁄° 
	gpf_∑th
 = 
¥ogømfûes_∑th
();

5101 i‡(!
	g∑th_found
) {

5102 
	g°d
::
°r˝y
(
s_∑th
,".\\gm.exe");

5103 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5105 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5106 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\GRAPHI~1.%.2d-\\gm.exe",
pf_∑th
,
k
);

5107 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5109 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5110 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\GRAPHI~1.%d-Q\\gm.exe",
pf_∑th
,
k
);

5111 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5113 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5114 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\GRAPHI~1.%d\\gm.exe",
pf_∑th
,
k
);

5115 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5117 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5118 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\GRAPHI~1.%.2d-\\VISUA~1\\BIN\\gm.exe",
pf_∑th
,
k
);

5119 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5121 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5122 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\GRAPHI~1.%d-Q\\VISUA~1\\BIN\\gm.exe",
pf_∑th
,
k
);

5123 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5125 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5126 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\GRAPHI~1.%d\\VISUA~1\\BIN\\gm.exe",
pf_∑th
,
k
);

5127 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5129 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5130 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\GRAPHI~1.%.2d-\\gm.exe",
k
);

5131 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5133 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5134 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\GRAPHI~1.%d-Q\\gm.exe",
k
);

5135 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5137 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5138 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\GRAPHI~1.%d\\gm.exe",
k
);

5139 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5141 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5142 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\GRAPHI~1.%.2d-\\VISUA~1\\BIN\\gm.exe",
k
);

5143 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5145 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5146 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\GRAPHI~1.%d-Q\\VISUA~1\\BIN\\gm.exe",
k
);

5147 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5149 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5150 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"C:\\GRAPHI~1.%d\\VISUA~1\\BIN\\gm.exe",
k
);

5151 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5153 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5154 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\GRAPHI~1.%.2d-\\gm.exe",
k
);

5155 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5157 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5158 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\GRAPHI~1.%d-Q\\gm.exe",
k
);

5159 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5161 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5162 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\GRAPHI~1.%d\\gm.exe",
k
);

5163 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5165 
	gk
 = 32; k>=10 && !
∑th_found
; --k) {

5166 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\GRAPHI~1.%.2d-\\VISUA~1\\BIN\\gm.exe",
k
);

5167 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5169 
	gk
 = 9; k>=0 && !
∑th_found
; --k) {

5170 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\GRAPHI~1.%d-Q\\VISUA~1\\BIN\\gm.exe",
k
);

5171 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5173 
	gk
 = 32; k>=0 && !
∑th_found
; --k) {

5174 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"D:\\GRAPHI~1.%d\\VISUA~1\\BIN\\gm.exe",
k
);

5175 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5177 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"gm.exe");

5179 i‡(!
	g∑th_found
) {

5180 
	g°d
::
°r˝y
(
s_∑th
,"./gm");

5181 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5183 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"gm");

5185 
wöf‹m©_°rög
(
s_∑th
);

5187 
	gcimg
::
muãx
(7,0);

5188  
	gs_∑th
;

5197 
ölöe
 c⁄° * 
medc⁄_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

5198 *
s_∑th
 = 0;

5199 
	gcimg
::
muãx
(7);

5200 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

5201 i‡(
	gu£r_∑th
) {

5202 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

5203 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5204 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

5205 } i‡(!
	gs_∑th
) {

5206 
	gs_∑th
 = 
√w
 [1024];

5207 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5208 
boﬁ
 
	g∑th_found
 = 
Ál£
;

5209 
	g°d
::
FILE
 *
fûe
 = 0;

5210 #i‡
cimg_OS
==2

5211 c⁄° *c⁄° 
	gpf_∑th
 = 
¥ogømfûes_∑th
();

5212 i‡(!
	g∑th_found
) {

5213 
	g°d
::
°r˝y
(
s_∑th
,".\\medcon.exe");

5214 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5216 i‡(!
	g∑th_found
) {

5217 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\XMedC⁄\\bö\\medc⁄.b©",
pf_∑th
);

5218 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5220 i‡(!
	g∑th_found
) {

5221 
cimg_¢¥ötf
(
s_∑th
,(s_∑th),"%s\\XMedC⁄\\bö\\medc⁄.exe",
pf_∑th
);

5222 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5224 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"medcon.exe");

5226 i‡(!
	g∑th_found
) {

5227 
	g°d
::
°r˝y
(
s_∑th
,"./medcon");

5228 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5230 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"medcon");

5232 
wöf‹m©_°rög
(
s_∑th
);

5234 
	gcimg
::
muãx
(7,0);

5235  
	gs_∑th
;

5244 
ölöe
 c⁄° *
ffm≥g_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

5245 *
s_∑th
 = 0;

5246 
	gcimg
::
muãx
(7);

5247 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

5248 i‡(
	gu£r_∑th
) {

5249 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

5250 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5251 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

5252 } i‡(!
	gs_∑th
) {

5253 
	gs_∑th
 = 
√w
 [1024];

5254 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5255 
boﬁ
 
	g∑th_found
 = 
Ál£
;

5256 
	g°d
::
FILE
 *
fûe
 = 0;

5257 #i‡
cimg_OS
==2

5258 i‡(!
	g∑th_found
) {

5259 
	g°d
::
°r˝y
(
s_∑th
,".\\ffmpeg.exe");

5260 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5262 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"ffmpeg.exe");

5264 i‡(!
	g∑th_found
) {

5265 
	g°d
::
°r˝y
(
s_∑th
,"./ffmpeg");

5266 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5268 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"ffmpeg");

5270 
wöf‹m©_°rög
(
s_∑th
);

5272 
	gcimg
::
muãx
(7,0);

5273  
	gs_∑th
;

5282 
ölöe
 c⁄° *
gzù_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

5283 *
s_∑th
 = 0;

5284 
	gcimg
::
muãx
(7);

5285 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

5286 i‡(
	gu£r_∑th
) {

5287 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

5288 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5289 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

5290 } i‡(!
	gs_∑th
) {

5291 
	gs_∑th
 = 
√w
 [1024];

5292 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5293 
boﬁ
 
	g∑th_found
 = 
Ál£
;

5294 
	g°d
::
FILE
 *
fûe
 = 0;

5295 #i‡
cimg_OS
==2

5296 i‡(!
	g∑th_found
) {

5297 
	g°d
::
°r˝y
(
s_∑th
,".\\gzip.exe");

5298 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5300 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"gzip.exe");

5302 i‡(!
	g∑th_found
) {

5303 
	g°d
::
°r˝y
(
s_∑th
,"./gzip");

5304 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5306 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"gzip");

5308 
wöf‹m©_°rög
(
s_∑th
);

5310 
	gcimg
::
muãx
(7,0);

5311  
	gs_∑th
;

5320 
ölöe
 c⁄° *
gunzù_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

5321 *
s_∑th
 = 0;

5322 
	gcimg
::
muãx
(7);

5323 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

5324 i‡(
	gu£r_∑th
) {

5325 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

5326 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5327 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

5328 } i‡(!
	gs_∑th
) {

5329 
	gs_∑th
 = 
√w
 [1024];

5330 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5331 
boﬁ
 
	g∑th_found
 = 
Ál£
;

5332 
	g°d
::
FILE
 *
fûe
 = 0;

5333 #i‡
cimg_OS
==2

5334 i‡(!
	g∑th_found
) {

5335 
	g°d
::
°r˝y
(
s_∑th
,".\\gunzip.exe");

5336 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5338 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"gunzip.exe");

5340 i‡(!
	g∑th_found
) {

5341 
	g°d
::
°r˝y
(
s_∑th
,"./gunzip");

5342 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5344 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"gunzip");

5346 
wöf‹m©_°rög
(
s_∑th
);

5348 
	gcimg
::
muãx
(7,0);

5349  
	gs_∑th
;

5358 
ölöe
 c⁄° *
d¸aw_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

5359 *
s_∑th
 = 0;

5360 
	gcimg
::
muãx
(7);

5361 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

5362 i‡(
	gu£r_∑th
) {

5363 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

5364 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5365 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

5366 } i‡(!
	gs_∑th
) {

5367 
	gs_∑th
 = 
√w
 [1024];

5368 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5369 
boﬁ
 
	g∑th_found
 = 
Ál£
;

5370 
	g°d
::
FILE
 *
fûe
 = 0;

5371 #i‡
cimg_OS
==2

5372 i‡(!
	g∑th_found
) {

5373 
	g°d
::
°r˝y
(
s_∑th
,".\\dcraw.exe");

5374 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5376 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"dcraw.exe");

5378 i‡(!
	g∑th_found
) {

5379 
	g°d
::
°r˝y
(
s_∑th
,"./dcraw");

5380 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5382 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"dcraw");

5384 
wöf‹m©_°rög
(
s_∑th
);

5386 
	gcimg
::
muãx
(7,0);

5387  
	gs_∑th
;

5396 
ölöe
 c⁄° *
wgë_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

5397 *
s_∑th
 = 0;

5398 
	gcimg
::
muãx
(7);

5399 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

5400 i‡(
	gu£r_∑th
) {

5401 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

5402 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5403 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

5404 } i‡(!
	gs_∑th
) {

5405 
	gs_∑th
 = 
√w
 [1024];

5406 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5407 
boﬁ
 
	g∑th_found
 = 
Ál£
;

5408 
	g°d
::
FILE
 *
fûe
 = 0;

5409 #i‡
cimg_OS
==2

5410 i‡(!
	g∑th_found
) {

5411 
	g°d
::
°r˝y
(
s_∑th
,".\\wget.exe");

5412 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5414 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"wget.exe");

5416 i‡(!
	g∑th_found
) {

5417 
	g°d
::
°r˝y
(
s_∑th
,"./wget");

5418 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5420 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"wget");

5422 
wöf‹m©_°rög
(
s_∑th
);

5424 
	gcimg
::
muãx
(7,0);

5425  
	gs_∑th
;

5434 
ölöe
 c⁄° *
cuæ_∑th
(c⁄° *c⁄° 
u£r_∑th
=0, c⁄° 
boﬁ
 
ªöô_∑th
=
Ál£
) {

5435 *
s_∑th
 = 0;

5436 
	gcimg
::
muãx
(7);

5437 i‡(
	gªöô_∑th
Ë{ 
	gdñëe
[] 
	gs_∑th
; s_path = 0; }

5438 i‡(
	gu£r_∑th
) {

5439 i‡(!
	gs_∑th
Ës_∑th = 
√w
 [1024];

5440 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5441 
	g°d
::
°∫˝y
(
s_∑th
,
u£r_∑th
,1023);

5442 } i‡(!
	gs_∑th
) {

5443 
	gs_∑th
 = 
√w
 [1024];

5444 
	g°d
::
mem£t
(
s_∑th
,0,1024);

5445 
boﬁ
 
	g∑th_found
 = 
Ál£
;

5446 
	g°d
::
FILE
 *
fûe
 = 0;

5447 #i‡
cimg_OS
==2

5448 i‡(!
	g∑th_found
) {

5449 
	g°d
::
°r˝y
(
s_∑th
,".\\curl.exe");

5450 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5452 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"curl.exe");

5454 i‡(!
	g∑th_found
) {

5455 
	g°d
::
°r˝y
(
s_∑th
,"./curl");

5456 i‡((
	gfûe
=
°d
::
f›í
(
s_∑th
,"r"))!=0Ë{ 
cimg
::
f˛o£
(
fûe
); 
	g∑th_found
 = 
åue
; }

5458 i‡(!
	g∑th_found
Ë
	g°d
::
°r˝y
(
s_∑th
,"curl");

5460 
wöf‹m©_°rög
(
s_∑th
);

5462 
	gcimg
::
muãx
(7,0);

5463  
	gs_∑th
;

5467 
ölöe
 c⁄° *
•lô_fûíame
(c⁄° *c⁄° 
fûíame
, *c⁄° 
body
=0) {

5468 i‡(!
fûíame
Ë{ i‡(
body
) *body = 0;  0; }

5469 c⁄° *
	gp
 = 0; c⁄° *
	g≈
 = 
fûíame
;Çp>=fûíamê&& (
p
=
≈
);Ç∞
°d
::
°rchr
(np,'.')+1) {}

5470 i‡(
	gp
==
fûíame
) {

5471 i‡(
body
Ë
°d
::
°r˝y
(body,
fûíame
);

5472  
	gfûíame
 + 
	g°d
::
°æí
(
fûíame
);

5474 c⁄° 
	gl
 = ()(
p
 - 
fûíame
 - 1);

5475 i‡(
	gbody
Ë{ 
	g°d
::
mem˝y
(
body
,
fûíame
,
l
); body[l] = 0; }

5476  
	gp
;

5480 
ölöe
 * 
numbî_fûíame
(c⁄° *c⁄° 
fûíame
, c⁄° 
numbî
, c⁄° 
digôs
, *c⁄° 
°r
) {

5481 i‡(!
	gfûíame
Ë{ i‡(
	g°r
) *str = 0;  0; }

5482 
	gf‹m©
[1024] = { 0 }, 
	gbody
[1024] = { 0 };

5483 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
,
body
);

5484 
cimg_¢¥ötf
(
f‹m©
,(f‹m©),"%%s_%%.%ud.%%s",
digôs
);

5485 
	g°d
::
•rötf
(
°r
,
f‹m©
,
body
,
numbî
,
ext
);

5486  
	g°r
;

5495 
ölöe
 c⁄° *
fûe_ty≥
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

5496 i‡(!
	gfûe
 && !
	gfûíame
)

5497 
throw
 
CImgArgumítEx˚±i⁄
("cimg::file_type(): Specified filename is (null).");

5499 *c⁄° 
	g_≤m
 = "pnm",

5500 *c⁄° 
	g_pfm
 = "pfm",

5501 *c⁄° 
	g_bmp
 = "bmp",

5502 *c⁄° 
	g_gif
 = "gif",

5503 *c⁄° 
	g_jpg
 = "jpg",

5504 *c⁄° 
	g_off
 = "off",

5505 *c⁄° 
	g_∑n
 = "pan",

5506 *c⁄° 
	g_≤g
 = "png",

5507 *c⁄° 
	g_tif
 = "tif",

5508 *c⁄° 
	g_ör
 = "inr",

5509 *c⁄° 
	g_dcm
 = "dcm";

5510 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

5511 c⁄° *
	gf_ty≥
 = 0, *
	ghód
;

5512 
	ghódî
[2048] = { 0 }, 
	gôem
[1024] = { 0 };

5513 c⁄° *c⁄° 
	guhódî
 = (*)
hódî
;

5514 
	gîr
; 
	g˚º
;

5515 c⁄° 
	gsiz
 = ()
°d
::
‰ód
(
hódî
,2048,1,
nfûe
);

5516 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

5518 i‡(!
	g°d
::
°∫cmp
(
hódî
,"OFF\n",4)Ë
	gf_ty≥
 = 
_off
;

5519 i‡(!
	g°d
::
°∫cmp
(
hódî
,"#INRIMAGE",9)Ë
	gf_ty≥
 = 
_ör
;

5520 i‡(!
	g°d
::
°∫cmp
(
hódî
,"PANDORE",7)Ë
	gf_ty≥
 = 
_∑n
;

5521 i‡(!
	g°d
::
°∫cmp
(
hódî
+128,"DICM",4)Ë
	gf_ty≥
 = 
_dcm
;

5522 i‡(
	guhódî
[0]==0xFF && 
uhódî
[1]==0xD8 && uhódî[2]==0xFFË
f_ty≥
 = 
_jpg
;

5523 i‡(
	ghódî
[0]=='B' && 
hódî
[1]=='M'Ë
f_ty≥
 = 
_bmp
;

5524 i‡(
	ghódî
[0]=='G' && 
hódî
[1]=='I' && header[2]=='F' && header[3]=='8' && header[5]=='a' &&

5525 (
hódî
[4]=='7' || hódî[4]=='9')Ë
f_ty≥
 = 
_gif
;

5526 i‡(
	guhódî
[0]==0x89 && 
uhódî
[1]==0x50 && uheader[2]==0x4E && uheader[3]==0x47 &&

5527 
uhódî
[4]==0x0D && uhódî[5]==0x0A && uhódî[6]==0x1A && uhódî[7]==0x0AË
f_ty≥
 = 
_≤g
;

5528 i‡((
	guhódî
[0]==0x49 && 
uhódî
[1]==0x49Ë|| (uhódî[0]==0x4D && uhódî[1]==0x4D)Ë
f_ty≥
 = 
_tif
;

5530 
	ghód
 = 
hódî
;

5531 
	ghód
<
	ghódî
+
	gsiz
 && (
	gîr
=
°d
::
ssˇnf
(
hód
,"%1023[^\n]",
ôem
))!=
EOF
 && (*ôem=='#' || !
îr
))

5532 
hód
+=1+(
îr
?
°d
::
°æí
(
ôem
):0);

5533 i‡(
	g°d
::
ssˇnf
(
ôem
," P%d",&
îr
)==1Ë
f_ty≥
 = 
_≤m
;

5534 i‡(
	g°d
::
ssˇnf
(
ôem
," P%c",&
˚º
)==1 && (˚º=='f' || cîr=='F')Ë
f_ty≥
 = 
_pfm
;

5536  
	gf_ty≥
;

5547 
	gãm∂©e
<
ty≥«me
 
	gT
>

5548 
ölöe
 
‰ód
(
T
 *c⁄° 
±r
, c⁄° 
nmemb
, 
°d
::
FILE
 *
°ªam
) {

5549 i‡(!
±r
 || 
nmemb
<=0 || !
°ªam
)

5550 
throw
 
CImgArgumítEx˚±i⁄
("cimg::fread(): InvalidÑeadingÑequest of %u %s%s from file %pÅo buffer %p.",

5551 
nmemb
,
cimg
::
ty≥
<
T
>::
°rög
(),nmemb>1?"s":"",
°ªam
,
±r
);

5553 c⁄° 
	gwlimôT
 = 63*1024*1024, 
	gwlimô
 = 
wlimôT
/(
T
);

5554 
	gto_ªad
 = 
nmemb
, 
	gÆ_ªad
 = 0, 
	gl_to_ªad
 = 0, 
	gl_Æ_ªad
 = 0;

5556 
	gl_to_ªad
 = (
to_ªad
*(
T
))<
wlimôT
?to_ªad:
wlimô
;

5557 
	gl_Æ_ªad
 = ()
°d
::
‰ód
((*)(
±r
+
Æ_ªad
),(
T
),
l_to_ªad
,
°ªam
);

5558 
	gÆ_ªad
+=
l_Æ_ªad
;

5559 
	gto_ªad
-=
l_Æ_ªad
;

5560 } 
	gl_to_ªad
==
l_Æ_ªad
 && 
to_ªad
>0);

5561 i‡(
	gto_ªad
>0)

5562 
w¨n
("cimg::fread(): Only %u/%uÉlements could beÑead from file.",

5563 
Æ_ªad
,
nmemb
);

5564  
	gÆ_ªad
;

5575 
	gãm∂©e
<
ty≥«me
 
	gT
>

5576 
ölöe
 
fwrôe
(c⁄° 
T
 *
±r
, c⁄° 
nmemb
, 
°d
::
FILE
 *
°ªam
) {

5577 i‡(!
±r
 || !
°ªam
)

5578 
throw
 
CImgArgumítEx˚±i⁄
("cimg::fwrite(): Invalid writingÑequest of %u %s%s from buffer %pÅo file %p.",

5579 
nmemb
,
cimg
::
ty≥
<
T
>::
°rög
(),nmemb>1?"s":"",
±r
,
°ªam
);

5580 i‡(
	gnmemb
<=0)  0;

5581 c⁄° 
	gwlimôT
 = 63*1024*1024, 
	gwlimô
 = 
wlimôT
/(
T
);

5582 
	gto_wrôe
 = 
nmemb
, 
	gÆ_wrôe
 = 0, 
	gl_to_wrôe
 = 0, 
	gl_Æ_wrôe
 = 0;

5584 
	gl_to_wrôe
 = (
to_wrôe
*(
T
))<
wlimôT
?to_wrôe:
wlimô
;

5585 
	gl_Æ_wrôe
 = ()
°d
::
fwrôe
((*)(
±r
+
Æ_wrôe
),(
T
),
l_to_wrôe
,
°ªam
);

5586 
	gÆ_wrôe
+=
l_Æ_wrôe
;

5587 
	gto_wrôe
-=
l_Æ_wrôe
;

5588 } 
	gl_to_wrôe
==
l_Æ_wrôe
 && 
to_wrôe
>0);

5589 i‡(
	gto_wrôe
>0)

5590 
w¨n
("cimg::fwrite(): Only %u/%uÉlements could be written in file.",

5591 
Æ_wrôe
,
nmemb
);

5592  
	gÆ_wrôe
;

5600 
ölöe
 
„m±y
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

5601 i‡(!
	gfûe
 && !
	gfûíame
)

5602 
throw
 
CImgArgumítEx˚±i⁄
("cimg::file_type(): Specified filename is (null).");

5603 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

5604 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

5615 
ölöe
 *
lﬂd_√tw‹k_exã∫Æ
(c⁄° *c⁄° 
fûíame
, *c⁄° 
fûíame_loˇl
) {

5616 i‡(!
	gfûíame
)

5617 
throw
 
CImgArgumítEx˚±i⁄
("cimg::load_network_external(): Specified filename is (null).");

5618 i‡(!
	gfûíame_loˇl
)

5619 
throw
 
CImgArgumítEx˚±i⁄
("cimg::load_network_external(): Specified destination string is (null).");

5620 c⁄° *c⁄° 
	g_ext
 = 
cimg
::
•lô_fûíame
(
fûíame
), *c⁄° 
	gext
 = (*
_ext
 && _ext>filename)?_ext-1:_ext;

5621 
	gcomm™d
[1024] = { 0 };

5622 
	g°d
::
FILE
 *
fûe
 = 0;

5623 *
	gfûíame_loˇl
 = 0;

5625 
cimg_¢¥ötf
(
fûíame_loˇl
,512,"%s%c%s%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext
);

5626 i‡((
	gfûe
=
°d
::
f›í
(
fûíame_loˇl
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

5627 } 
	gfûe
);

5630 
cimg_¢¥ötf
(
comm™d
,(command),"%s -f --silent --compressed -o \"%s\" \"%s\"",

5631 
cimg
::
cuæ_∑th
(),
fûíame_loˇl
,
fûíame
);

5632 
	gcimg
::
sy°em
(
comm™d
);

5633 i‡(!(
	gfûe
 = 
°d
::
f›í
(
fûíame_loˇl
,"rb"))) {

5636 
cimg_¢¥ötf
(
comm™d
,(command),"%s -q -r -l 0 --no-cache -O \"%s\" \"%s\"",

5637 
cimg
::
wgë_∑th
(),
fûíame_loˇl
,
fûíame
);

5638 
	gcimg
::
sy°em
(
comm™d
);

5639 i‡(!(
	gfûe
 = 
°d
::
f›í
(
fûíame_loˇl
,"rb")))

5640 
throw
 
CImgIOEx˚±i⁄
("cimg::lﬂd_√tw‹k_exã∫Æ(): FaûedÅÿlﬂd fûê'%s' wôhÉxã∫ÆÅoﬁ†'wgë' o∏'cuæ'.",
fûíame
);

5641 
	gcimg
::
f˛o£
(
fûe
);

5644 
cimg_¢¥ötf
(
comm™d
,(comm™d),"%s.gz",
fûíame_loˇl
);

5645 
	g°d
::
ª«me
(
fûíame_loˇl
,
comm™d
);

5646 
cimg_¢¥ötf
(
comm™d
,(command),"%s --quiet \"%s.gz\"",

5647 
gunzù_∑th
(),
fûíame_loˇl
);

5648 
	gcimg
::
sy°em
(
comm™d
);

5649 
	gfûe
 = 
°d
::
f›í
(
fûíame_loˇl
,"rb");

5650 i‡(!
	gfûe
) {

5651 
cimg_¢¥ötf
(
comm™d
,(comm™d),"%s.gz",
fûíame_loˇl
);

5652 
	g°d
::
ª«me
(
comm™d
,
fûíame_loˇl
);

5653 
	gfûe
 = 
°d
::
f›í
(
fûíame_loˇl
,"rb");

5656 
	g°d
::
f£ek
(
fûe
,0,
SEEK_END
);

5657 i‡(
	g°d
::
·ñl
(
fûe
)<=0)

5658 
throw
 
CImgIOEx˚±i⁄
("cimg::lﬂd_√tw‹k_exã∫Æ(): FaûedÅÿlﬂd fûê'%s' wôhÉxã∫Æ comm™d†'wgë' o∏'cuæ'.",
fûíame
);

5659 
	gcimg
::
f˛o£
(
fûe
);

5660  
	gfûíame_loˇl
;

5664 
ölöe
 c⁄° * 
›ti⁄
(c⁄° *c⁄° 
«me
, c⁄° 
¨gc
, c⁄° *c⁄° *c⁄° 
¨gv
,

5665 c⁄° *c⁄° 
deÁut
, c⁄° *c⁄° 
ußge
, c⁄° 
boﬁ
 
ª£t_°©ic
) {

5666 
boﬁ
 
	gfú°
 = 
åue
, 
	gvisu
 = 
Ál£
;

5667 i‡(
	gª£t_°©ic
Ë{ 
	gfú°
 = 
åue
;  0; }

5668 c⁄° *
	gªs
 = 0;

5669 i‡(
	gfú°
) {

5670 
	gfú°
 = 
Ál£
;

5671 
	gvisu
 = 
cimg
::
›ti⁄
("-h",
¨gc
,
¨gv
,(*)0,(*)0,
Ál£
)!=0;

5672 
	gvisu
 |
cimg
::
›ti⁄
("-hñp",
¨gc
,
¨gv
,(*)0,(*)0,
Ál£
)!=0;

5673 
	gvisu
 |
cimg
::
›ti⁄
("--hñp",
¨gc
,
¨gv
,(*)0,(*)0,
Ál£
)!=0;

5675 i‡(!
	g«me
 && 
	gvisu
) {

5676 i‡(
	gußge
) {

5677 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"\¿%s%s%s",cimg::
t_ªd
,cimg::
ba£«me
(
¨gv
[0]),cimg::
t_n‹mÆ
);

5678 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),": %s",
ußge
);

5679 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," (%s, %s)\n\n",
__DATE__
,
__TIME__
);

5681 i‡(
	gdeÁut
Ë
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s\n",
deÁut
);

5683 i‡(
	g«me
) {

5684 i‡(
	g¨gc
>0) {

5685 
	gk
 = 0;

5686 
	gk
<
	g¨gc
 && 
	g°d
::
°rcmp
(
¨gv
[
k
],
«me
)) ++k;

5687 
	gªs
 = (
k
++==
¨gc
?
deÁut
:(k=˜rgc?
¨gv
[--k]:argv[k]));

5688 } 
	gªs
 = 
deÁut
;

5689 i‡(
	gvisu
 && 
	gußge
Ë
	g°d
::
Ârötf
(
cimg
::
ouçut
()," %s%-16s%s %-24s %s%s%s\n",

5690 
cimg
::
t_bﬁd
,
«me
,cimg::
t_n‹mÆ
,
ªs
?ªs:"0",cimg::
t_gªí
,
ußge
,cimg::t_normal);

5692  
	gªs
;

5695 
ölöe
 c⁄° * 
›ti⁄
(c⁄° *c⁄° 
«me
, c⁄° 
¨gc
, c⁄° *c⁄° *c⁄° 
¨gv
,

5696 c⁄° *c⁄° 
deÁut
, c⁄° *c⁄° 
ußge
=0) {

5697  
›ti⁄
(
«me
,
¨gc
,
¨gv
,
deÁut
,
ußge
,
Ál£
);

5700 
ölöe
 
boﬁ
 
›ti⁄
(c⁄° *c⁄° 
«me
, c⁄° 
¨gc
, c⁄° *c⁄° *c⁄° 
¨gv
,

5701 c⁄° 
boﬁ
 
deÁut
, c⁄° *c⁄° 
ußge
=0) {

5702 c⁄° *c⁄° 
s
 = 
cimg
::
›ti⁄
(
«me
,
¨gc
,
¨gv
,(*)0);

5703 c⁄° 
boﬁ
 
	gªs
 = 
s
?(
cimg
::
°rˇ£cmp
(s,"Ál£"Ë&& 
	gcimg
::°rˇ£cmp(s,"off"Ë&& cimg::°rˇ£cmp(s,"0")):
deÁut
;

5704 
	gcimg
::
›ti⁄
(
«me
,0,0,
ªs
?"åue":"Ál£",
ußge
);

5705  
	gªs
;

5708 
ölöe
 
›ti⁄
(c⁄° *c⁄° 
«me
, c⁄° 
¨gc
, c⁄° *c⁄° *c⁄° 
¨gv
,

5709 c⁄° 
deÁut
, c⁄° *c⁄° 
ußge
=0) {

5710 c⁄° *c⁄° 
s
 = 
cimg
::
›ti⁄
(
«me
,
¨gc
,
¨gv
,(*)0);

5711 c⁄° 
	gªs
 = 
s
?
°d
::
©oi
(s):
deÁut
;

5712 
	gtmp
[256] = { 0 };

5713 
cimg_¢¥ötf
(
tmp
,—mp),"%d",
ªs
);

5714 
	gcimg
::
›ti⁄
(
«me
,0,0,
tmp
,
ußge
);

5715  
	gªs
;

5718 
ölöe
 
›ti⁄
(c⁄° *c⁄° 
«me
, c⁄° 
¨gc
, c⁄° *c⁄° *c⁄° 
¨gv
,

5719 c⁄° 
deÁut
, c⁄° *c⁄° 
ußge
=0) {

5720 c⁄° *c⁄° 
s
 = 
cimg
::
›ti⁄
(
«me
,
¨gc
,
¨gv
,(*)0);

5721 c⁄° 
	gªs
 = 
s
?*s:
deÁut
;

5722 
	gtmp
[8] = { 0 };

5723 *
	gtmp
 = 
ªs
;

5724 
	gcimg
::
›ti⁄
(
«me
,0,0,
tmp
,
ußge
);

5725  
	gªs
;

5728 
ölöe
 
›ti⁄
(c⁄° *c⁄° 
«me
, c⁄° 
¨gc
, c⁄° *c⁄° *c⁄° 
¨gv
,

5729 c⁄° 
deÁut
, c⁄° *c⁄° 
ußge
=0) {

5730 c⁄° *c⁄° 
s
 = 
cimg
::
›ti⁄
(
«me
,
¨gc
,
¨gv
,(*)0);

5731 c⁄° 
	gªs
 = 
s
?()
cimg
::
©of
(s):
deÁut
;

5732 
	gtmp
[256] = { 0 };

5733 
cimg_¢¥ötf
(
tmp
,—mp),"%g",
ªs
);

5734 
	gcimg
::
›ti⁄
(
«me
,0,0,
tmp
,
ußge
);

5735  
	gªs
;

5738 
ölöe
 
›ti⁄
(c⁄° *c⁄° 
«me
, c⁄° 
¨gc
, c⁄° *c⁄° *c⁄° 
¨gv
,

5739 c⁄° 
deÁut
, c⁄° *c⁄° 
ußge
=0) {

5740 c⁄° *c⁄° 
s
 = 
cimg
::
›ti⁄
(
«me
,
¨gc
,
¨gv
,(*)0);

5741 c⁄° 
	gªs
 = 
s
?
cimg
::
©of
(s):
deÁut
;

5742 
	gtmp
[256] = { 0 };

5743 
cimg_¢¥ötf
(
tmp
,—mp),"%g",
ªs
);

5744 
	gcimg
::
›ti⁄
(
«me
,0,0,
tmp
,
ußge
);

5745  
	gªs
;

5748 
ölöe
 c⁄° * 
¨gumít
(c⁄° 
nb
, c⁄° 
¨gc
, c⁄° *c⁄° *c⁄° 
¨gv
, c⁄° 
nb_sögÀs
=0, ...) {

5749 
	gk
 = 1, 
	gpos
 = 0; k<
	g¨gc
;) {

5750 c⁄° *c⁄° 
	gôem
 = 
¨gv
[
k
];

5751 
boﬁ
 
	g›ti⁄
 = (*
ôem
=='-'), 
	gsögÀ_›ti⁄
 = 
Ál£
;

5752 i‡(
	g›ti⁄
) {

5753 
va_li°
 
	g≠
;

5754 
va_°¨t
(
≠
,
nb_sögÀs
);

5755 
	gi
 = 0; i<
	gnb_sögÀs
; ++iËi‡(!
	gcimg
::
°rˇ£cmp
(
ôem
,
va_¨g
(
≠
,*))Ë{ 
	gsögÀ_›ti⁄
 = 
åue
; ; }

5756 
va_íd
(
≠
);

5758 i‡(
	g›ti⁄
Ë{ ++
	gk
; i‡(!
	gsögÀ_›ti⁄
) ++k; }

5759 { i‡(
	gpos
++==()
nb
Ë 
ôem
; ++
	gk
; }

5768 
ölöe
 
öfo
() {

5769 
	gtmp
[1024] = { 0 };

5770 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"\n %s%sCImg Library %u.%u.%u%s, compiled %s ( %s ) withÅhe following flags:\n\n",

5771 
cimg
::
t_ªd
,cimg::
t_bﬁd
,
cimg_vîsi⁄
/100,(cimg_version/10)%10,cimg_version%10,

5772 
cimg
::
t_n‹mÆ
,
__DATE__
,
__TIME__
);

5774 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Operating System: %s%-13s%s %s('cimg_OS'=%d)%s\n",

5775 
cimg
::
t_bﬁd
,

5776 
cimg_OS
==1?"Unix":(cimg_OS==2?"Windows":"Unknow"),

5777 
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,

5778 
cimg_OS
,

5779 
cimg
::
t_n‹mÆ
);

5781 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > CPUÉndianness: %s%s Endian%s\n",

5782 
cimg
::
t_bﬁd
,

5783 
cimg
::
ídü¬ess
()?"Big":"Little",

5784 
cimg
::
t_n‹mÆ
);

5786 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Verbosity mode: %s%-13s%s %s('cimg_verbosity'=%d)%s\n",

5787 
cimg
::
t_bﬁd
,

5788 
cimg_vîbosôy
==0?"Quiet":(cimg_verbosity==1?"Console":(cimg_verbosity==2?"Dialog":(cimg_verbosity==3?"Console+Warnings":"Dialog+Warnings"))),

5789 
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,

5790 
cimg_vîbosôy
,

5791 
cimg
::
t_n‹mÆ
);

5793 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Stricts warnings: %s%-13s%s %s('cimg_strict_warnings' %s)%s\n",

5794 
cimg
::
t_bﬁd
,

5795 #ifde‡
cimg_°ri˘_w¨nögs


5796 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5798 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5800 
cimg
::
t_n‹mÆ
);

5802 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using VT100 messages: %s%-13s%s %s('cimg_use_vt100' %s)%s\n",

5803 
cimg
::
t_bﬁd
,

5804 #ifde‡
cimg_u£_vt100


5805 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5807 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5809 
cimg
::
t_n‹mÆ
);

5811 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > DisplayÅype: %s%-13s%s %s('cimg_display'=%d)%s\n",

5812 
cimg
::
t_bﬁd
,

5813 
cimg_di•œy
==0?"No display":cimg_display==1?"X11":cimg_display==2?"Windows GDI":"Unknown",

5814 
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,

5815 
cimg_di•œy
,

5816 
cimg
::
t_n‹mÆ
);

5818 #i‡
cimg_di•œy
==1

5819 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using XShm for X11: %s%-13s%s %s('cimg_use_xshm' %s)%s\n",

5820 
cimg
::
t_bﬁd
,

5821 #ifde‡
cimg_u£_xshm


5822 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5824 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5826 
cimg
::
t_n‹mÆ
);

5828 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using XRand for X11: %s%-13s%s %s('cimg_use_xrandr' %s)%s\n",

5829 
cimg
::
t_bﬁd
,

5830 #ifde‡
cimg_u£_xøndr


5831 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5833 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5835 
cimg
::
t_n‹mÆ
);

5837 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using OpenMP: %s%-13s%s %s('cimg_use_openmp' %s)%s\n",

5838 
cimg
::
t_bﬁd
,

5839 #ifde‡
cimg_u£_›ímp


5840 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5842 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5844 
cimg
::
t_n‹mÆ
);

5845 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using PNGÜibrary: %s%-13s%s %s('cimg_use_png' %s)%s\n",

5846 
cimg
::
t_bﬁd
,

5847 #ifde‡
cimg_u£_≤g


5848 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5850 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5852 
cimg
::
t_n‹mÆ
);

5853 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using JPEGÜibrary: %s%-13s%s %s('cimg_use_jpeg' %s)%s\n",

5854 
cimg
::
t_bﬁd
,

5855 #ifde‡
cimg_u£_j≥g


5856 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5858 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5860 
cimg
::
t_n‹mÆ
);

5862 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using TIFFÜibrary: %s%-13s%s %s('cimg_use_tiff' %s)%s\n",

5863 
cimg
::
t_bﬁd
,

5864 #ifde‡
cimg_u£_tiff


5865 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5867 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5869 
cimg
::
t_n‹mÆ
);

5871 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using Magick++Üibrary: %s%-13s%s %s('cimg_use_magick' %s)%s\n",

5872 
cimg
::
t_bﬁd
,

5873 #ifde‡
cimg_u£_magick


5874 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5876 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5878 
cimg
::
t_n‹mÆ
);

5880 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using FFTW3Üibrary: %s%-13s%s %s('cimg_use_fftw3' %s)%s\n",

5881 
cimg
::
t_bﬁd
,

5882 #ifde‡
cimg_u£_f·w3


5883 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5885 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5887 
cimg
::
t_n‹mÆ
);

5889 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Using LAPACKÜibrary: %s%-13s%s %s('cimg_use_lapack' %s)%s\n",

5890 
cimg
::
t_bﬁd
,

5891 #ifde‡
cimg_u£_œ∑ck


5892 "Yes",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"defined",

5894 "No",
cimg
::
t_n‹mÆ
,cimg::
t_gªí
,"undefined",

5896 
cimg
::
t_n‹mÆ
);

5898 
cimg_¢¥ötf
(
tmp
,—mp),"\"%.1020s\"",
cimg
::
imagemagick_∑th
());

5899 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Path of ImageMagick: %s%-13s%s\n",

5900 
cimg
::
t_bﬁd
,

5901 
tmp
,

5902 
cimg
::
t_n‹mÆ
);

5904 
cimg_¢¥ötf
(
tmp
,—mp),"\"%.1020s\"",
cimg
::
gøphicsmagick_∑th
());

5905 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Path of GraphicsMagick: %s%-13s%s\n",

5906 
cimg
::
t_bﬁd
,

5907 
tmp
,

5908 
cimg
::
t_n‹mÆ
);

5910 
cimg_¢¥ötf
(
tmp
,—mp),"\"%.1020s\"",
cimg
::
medc⁄_∑th
());

5911 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > Path of 'medcon': %s%-13s%s\n",

5912 
cimg
::
t_bﬁd
,

5913 
tmp
,

5914 
cimg
::
t_n‹mÆ
);

5916 
cimg_¢¥ötf
(
tmp
,—mp),"\"%.1020s\"",
cimg
::
ãmp‹¨y_∑th
());

5917 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," > TemporaryÖath: %s%-13s%s\n",

5918 
cimg
::
t_bﬁd
,

5919 
tmp
,

5920 
cimg
::
t_n‹mÆ
);

5922 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"\n");

5926 #ifde‡
cimg_u£_œ∑ck


5927 
	gãm∂©e
<
ty≥«me
 
	gT
>

5928 
ölöe
 
gërf
(&
N
, 
T
 *
œpA
, *
IPIV
, &
INFO
) {

5929 
dgërf_
(&
N
,&N,
œpA
,&N,
IPIV
,&
INFO
);

5932 
ölöe
 
gërf
(&
N
, *
œpA
, *
IPIV
, &
INFO
) {

5933 
sgërf_
(&
N
,&N,
œpA
,&N,
IPIV
,&
INFO
);

5936 
	gãm∂©e
<
ty≥«me
 
	gT
>

5937 
ölöe
 
gëri
(&
N
, 
T
 *
œpA
, *
IPIV
, T* 
WORK
, &
LWORK
, &
INFO
) {

5938 
dgëri_
(&
N
,
œpA
,&N,
IPIV
,
WORK
,&
LWORK
,&
INFO
);

5941 
ölöe
 
gëri
(&
N
, *
œpA
, *
IPIV
, * 
WORK
, &
LWORK
, &
INFO
) {

5942 
sgëri_
(&
N
,
œpA
,&N,
IPIV
,
WORK
,&
LWORK
,&
INFO
);

5945 
	gãm∂©e
<
ty≥«me
 
	gT
>

5946 
ölöe
 
gesvd
(&
JOB
, &
M
, &
N
, 
T
 *
œpA
, &
MN
,

5947 
T
 *
œpS
, T *
œpU
, T *
œpV
, T *
WORK
, &
LWORK
, &
INFO
) {

5948 
dgesvd_
(&
JOB
,&JOB,&
M
,&
N
,
œpA
,&
MN
,
œpS
,
œpU
,&M,
œpV
,&N,
WORK
,&
LWORK
,&
INFO
);

5951 
ölöe
 
gesvd
(&
JOB
, &
M
, &
N
, *
œpA
, &
MN
,

5952 *
œpS
, *
œpU
, *
œpV
, *
WORK
, &
LWORK
, &
INFO
) {

5953 
sgesvd_
(&
JOB
,&JOB,&
M
,&
N
,
œpA
,&
MN
,
œpS
,
œpU
,&M,
œpV
,&N,
WORK
,&
LWORK
,&
INFO
);

5956 
	gãm∂©e
<
ty≥«me
 
	gT
>

5957 
ölöe
 
gërs
(&
TRANS
, &
N
, 
T
 *
œpA
, *
IPIV
, T *
œpB
, &
INFO
) {

5958 
	g⁄e
 = 1;

5959 
dgërs_
(&
TRANS
,&
N
,&
⁄e
,
œpA
,&N,
IPIV
,
œpB
,&N,&
INFO
);

5962 
ölöe
 
gërs
(&
TRANS
, &
N
, *
œpA
, *
IPIV
, *
œpB
, &
INFO
) {

5963 
	g⁄e
 = 1;

5964 
sgërs_
(&
TRANS
,&
N
,&
⁄e
,
œpA
,&N,
IPIV
,
œpB
,&N,&
INFO
);

5967 
	gãm∂©e
<
ty≥«me
 
	gT
>

5968 
ölöe
 
syev
(&
JOB
, &
UPLO
, &
N
, 
T
 *
œpA
, T *
œpW
, T *
WORK
, &
LWORK
, &
INFO
) {

5969 
dsyev_
(&
JOB
,&
UPLO
,&
N
,
œpA
,&N,
œpW
,
WORK
,&
LWORK
,&
INFO
);

5972 
ölöe
 
syev
(&
JOB
, &
UPLO
, &
N
, *
œpA
, *
œpW
, *
WORK
, &
LWORK
, &
INFO
) {

5973 
ssyev_
(&
JOB
,&
UPLO
,&
N
,
œpA
,&N,
œpW
,
WORK
,&
LWORK
,&
INFO
);

5976 
	gãm∂©e
<
ty≥«me
 
	gT
>

5977 
ölöe
 
sgñs
(& 
TRANS
, &
M
, &
N
, &
NRHS
, 
T
* 
œpA
, &
LDA
,

5978 
T
* 
œpB
, &
LDB
, T* 
WORK
, &
LWORK
, &
INFO
){

5979 
dgñs_
(&
TRANS
, &
M
, &
N
, &
NRHS
, 
œpA
, &
LDA
, 
œpB
, &
LDB
, 
WORK
, &
LWORK
, &
INFO
);

5982 
ölöe
 
sgñs
(& 
TRANS
, &
M
, &
N
, &
NRHS
, * 
œpA
, &
LDA
,

5983 * 
œpB
, &
LDB
, * 
WORK
, &
LWORK
, &
INFO
){

5984 
sgñs_
(&
TRANS
, &
M
, &
N
, &
NRHS
, 
œpA
, &
LDA
, 
œpB
, &
LDB
, 
WORK
, &
LWORK
, &
INFO
);

6001 
	#_cimg_¸óã_ext_›î©‹s
(
typ
) \

6002 
ãm∂©e
<
ty≥«me
 
T
> \

6003 
ölöe
 
CImg
<
ty≥«me
 
cimg
::
su≥r£t
<
T
,
typ
>::
ty≥
> 
›î©‹
+(c⁄°Åy∞
vÆ
, c⁄° CImg<T>& 
img
) { \

6004  
img
 + 
vÆ
; \

6006 
ãm∂©e
<
ty≥«me
 
T
> \

6007 
ölöe
 
CImg
<
ty≥«me
 
cimg
::
su≥r£t
<
T
,
typ
>::
ty≥
> 
›î©‹
-(c⁄°Åy∞
vÆ
, c⁄° CImg<T>& 
img
) { \

6008 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,
	ttyp
>::
	tty≥
 
	tTt
; \

6009  
CImg
<
Tt
>(
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,
vÆ
)-=img; \

6011 
ãm∂©e
<
ty≥«me
 
T
> \

6012 
ölöe
 
CImg
<
ty≥«me
 
cimg
::
su≥r£t
<
T
,
typ
>::
ty≥
> 
›î©‹
*(c⁄°Åy∞
vÆ
, c⁄° CImg<T>& 
img
) { \

6013  
img
*
vÆ
; \

6015 
ãm∂©e
<
ty≥«me
 
T
> \

6016 
ölöe
 
CImg
<
ty≥«me
 
cimg
::
su≥r£t
<
T
,
typ
>::
ty≥
> 
›î©‹
/(c⁄°Åy∞
vÆ
, c⁄° CImg<T>& 
img
) { \

6017  
vÆ
*
img
.
	`gë_övît
(); \

6019 
ãm∂©e
<
ty≥«me
 
T
> \

6020 
ölöe
 
CImg
<
ty≥«me
 
cimg
::
su≥r£t
<
T
,
typ
>::
ty≥
> 
›î©‹
&(c⁄°Åy∞
vÆ
, c⁄° CImg<T>& 
img
) { \

6021  
img
 & 
vÆ
; \

6023 
ãm∂©e
<
ty≥«me
 
T
> \

6024 
ölöe
 
CImg
<
ty≥«me
 
cimg
::
su≥r£t
<
T
,
typ
>::
ty≥
> 
›î©‹
|(c⁄°Åy∞
vÆ
, c⁄° CImg<T>& 
img
) { \

6025  
img
 | 
vÆ
; \

6027 
ãm∂©e
<
ty≥«me
 
T
> \

6028 
ölöe
 
CImg
<
ty≥«me
 
cimg
::
su≥r£t
<
T
,
typ
>::
ty≥
> 
›î©‹
^(c⁄°Åy∞
vÆ
, c⁄° CImg<T>& 
img
) { \

6029  
img
 ^ 
vÆ
; \

6031 
ãm∂©e
<
ty≥«me
 
T
> \

6032 
ölöe
 
boﬁ
 
›î©‹
==(c⁄° 
typ
 
vÆ
, c⁄° 
CImg
<
T
>& 
img
) { \

6033  
img
 =
vÆ
; \

6035 
ãm∂©e
<
ty≥«me
 
T
> \

6036 
ölöe
 
boﬁ
 
›î©‹
!=(c⁄° 
typ
 
vÆ
, c⁄° 
CImg
<
T
>& 
img
) { \

6037  
img
 !
vÆ
; \

6038 }

	)

6040 
_cimg_¸óã_ext_›î©‹s
(
boﬁ
)

6041 
_cimg_¸óã_ext_›î©‹s
()

6042 
_cimg_¸óã_ext_›î©‹s
()

6043 
_cimg_¸óã_ext_›î©‹s
(signed )

6044 
_cimg_¸óã_ext_›î©‹s
()

6045 
_cimg_¸óã_ext_›î©‹s
()

6046 
_cimg_¸óã_ext_›î©‹s
()

6047 
_cimg_¸óã_ext_›î©‹s
()

6048 
_cimg_¸óã_ext_›î©‹s
()

6049 
_cimg_¸óã_ext_›î©‹s
()

6050 
_cimg_¸óã_ext_›î©‹s
()

6051 
_cimg_¸óã_ext_›î©‹s
()

6053 
	gãm∂©e
<
ty≥«me
 
	gT
>

6054 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
	g›î©‹
+(c⁄° *c⁄° 
	gex¥essi⁄
, c⁄° CImg<
	gT
>& 
	gimg
) {

6055  
	gimg
 + 
	gex¥essi⁄
;

6058 
	gãm∂©e
<
ty≥«me
 
	gT
>

6059 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
	g›î©‹
-(c⁄° *c⁄° 
	gex¥essi⁄
, c⁄° CImg<
	gT
>& 
	gimg
) {

6060  
	gCImg
<
	g_cimg_TÊﬂt
>(
	gimg
.
	g_width
,img.
	g_height
,img.
	g_dïth
,img.
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
)-=
img
;

6063 
	gãm∂©e
<
ty≥«me
 
	gT
>

6064 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
	g›î©‹
*(c⁄° *c⁄° 
	gex¥essi⁄
, c⁄° CImg<
	gT
>& 
	gimg
) {

6065  
img
*
	gex¥essi⁄
;

6068 
	gãm∂©e
<
ty≥«me
 
	gT
>

6069 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
	g›î©‹
/(c⁄° *c⁄° 
	gex¥essi⁄
, c⁄° CImg<
	gT
>& 
	gimg
) {

6070  
ex¥essi⁄
*
	gimg
.
gë_övît
();

6073 
	gãm∂©e
<
ty≥«me
 
	gT
>

6074 
ölöe
 
	gCImg
<
	gT
> 
	g›î©‹
&(c⁄° *c⁄° 
	gex¥essi⁄
, c⁄° CImg<T>& 
	gimg
) {

6075  
	gimg
 & 
	gex¥essi⁄
;

6078 
	gãm∂©e
<
ty≥«me
 
	gT
>

6079 
ölöe
 
	gCImg
<
	gT
> 
	g›î©‹
|(c⁄° *c⁄° 
	gex¥essi⁄
, c⁄° CImg<T>& 
	gimg
) {

6080  
	gimg
 | 
	gex¥essi⁄
;

6083 
	gãm∂©e
<
ty≥«me
 
	gT
>

6084 
ölöe
 
	gCImg
<
	gT
> 
	g›î©‹
^(c⁄° *c⁄° 
	gex¥essi⁄
, c⁄° CImg<T>& 
	gimg
) {

6085  
	gimg
 ^ 
	gex¥essi⁄
;

6088 
	gãm∂©e
<
ty≥«me
 
	gT
>

6089 
ölöe
 
boﬁ
 
	g›î©‹
==(c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
	gCImg
<
	gT
>& 
	gimg
) {

6090  
	gimg
 =
ex¥essi⁄
;

6093 
	gãm∂©e
<
ty≥«me
 
	gT
>

6094 
ölöe
 
boﬁ
 
	g›î©‹
!=(c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
	gCImg
<
	gT
>& 
	gimg
) {

6095  
	gimg
 !
ex¥essi⁄
;

6098 
	gãm∂©e
<
ty≥«me
 
	gT
>

6099 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
sqr
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6100  
	gö°™˚
.
gë_sqr
();

6103 
	gãm∂©e
<
ty≥«me
 
	gT
>

6104 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
sqπ
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6105  
	gö°™˚
.
gë_sqπ
();

6108 
	gãm∂©e
<
ty≥«me
 
	gT
>

6109 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
exp
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6110  
	gö°™˚
.
gë_exp
();

6113 
	gãm∂©e
<
ty≥«me
 
	gT
>

6114 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
log
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6115  
	gö°™˚
.
gë_log
();

6118 
	gãm∂©e
<
ty≥«me
 
	gT
>

6119 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
log2
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6120  
	gö°™˚
.
gë_log2
();

6123 
	gãm∂©e
<
ty≥«me
 
	gT
>

6124 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
log10
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6125  
	gö°™˚
.
gë_log10
();

6128 
	gãm∂©e
<
ty≥«me
 
	gT
>

6129 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
abs
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6130  
	gö°™˚
.
gë_abs
();

6133 
	gãm∂©e
<
ty≥«me
 
	gT
>

6134 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
sign
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6135  
	gö°™˚
.
gë_sign
();

6138 
	gãm∂©e
<
ty≥«me
 
	gT
>

6139 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
cos
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6140  
	gö°™˚
.
gë_cos
();

6143 
	gãm∂©e
<
ty≥«me
 
	gT
>

6144 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
sö
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6145  
	gö°™˚
.
gë_sö
();

6148 
	gãm∂©e
<
ty≥«me
 
	gT
>

6149 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
söc
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6150  
	gö°™˚
.
gë_söc
();

6153 
	gãm∂©e
<
ty≥«me
 
	gT
>

6154 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
èn
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6155  
	gö°™˚
.
gë_èn
();

6158 
	gãm∂©e
<
ty≥«me
 
	gT
>

6159 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
acos
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6160  
	gö°™˚
.
gë_acos
();

6163 
	gãm∂©e
<
ty≥«me
 
	gT
>

6164 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
asö
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6165  
	gö°™˚
.
gë_asö
();

6168 
	gãm∂©e
<
ty≥«me
 
	gT
>

6169 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
©™
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6170  
	gö°™˚
.
gë_©™
();

6173 
	gãm∂©e
<
ty≥«me
 
	gT
>

6174 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
cosh
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6175  
	gö°™˚
.
gë_cosh
();

6178 
	gãm∂©e
<
ty≥«me
 
	gT
>

6179 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
söh
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6180  
	gö°™˚
.
gë_söh
();

6183 
	gãm∂©e
<
ty≥«me
 
	gT
>

6184 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
ènh
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6185  
	gö°™˚
.
gë_ènh
();

6188 
	gãm∂©e
<
ty≥«me
 
	gT
>

6189 
ölöe
 
	gCImg
<
	gT
> 
å™•o£
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6190  
	gö°™˚
.
gë_å™•o£
();

6193 
	gãm∂©e
<
ty≥«me
 
	gT
>

6194 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
övît
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6195  
	gö°™˚
.
gë_övît
();

6198 
	gãm∂©e
<
ty≥«me
 
	gT
>

6199 
ölöe
 
	gCImg
<
	g_cimg_TÊﬂt
> 
p£udoövît
(c⁄° 
CImg
<
T
>& 
ö°™˚
) {

6200  
	gö°™˚
.
gë_p£udoövît
();

6224 
	sCImgDi•œy
 {

6225 
	g_timî
, 
	g_Âs_‰ames
, 
	g_Âs_timî
;

6226 
	g_width
, 
	g_height
, 
	g_n‹mÆiz©i⁄
;

6227 
	g_Âs_Âs
, 
	g_mö
, 
	g_max
;

6228 
boﬁ
 
	g_is_fuŒs¸ìn
;

6229 *
	g_tôÀ
;

6230 vﬁ©ûê
	g_wödow_width
, 
	g_wödow_height
, 
	g_buâ⁄
, 
	g_keys
[128], 
	g_ªÀa£d_keys
[128];

6231 vﬁ©ûê
	g_wödow_x
, 
	g_wödow_y
, 
	g_mou£_x
, 
	g_mou£_y
, 
	g_whìl
;

6232 vﬁ©ûê
boﬁ
 
	g_is_˛o£d
, 
	g_is_ªsized
, 
	g_is_moved
, 
	g_is_evít
,

6233 
	g_is_keyESC
, 
	g_is_keyF1
, 
	g_is_keyF2
, 
	g_is_keyF3
, 
	g_is_keyF4
, 
	g_is_keyF5
, 
	g_is_keyF6
, 
	g_is_keyF7
,

6234 
	g_is_keyF8
, 
	g_is_keyF9
, 
	g_is_keyF10
, 
	g_is_keyF11
, 
	g_is_keyF12
, 
	g_is_keyPAUSE
, 
	g_is_key1
, 
	g_is_key2
,

6235 
	g_is_key3
, 
	g_is_key4
, 
	g_is_key5
, 
	g_is_key6
, 
	g_is_key7
, 
	g_is_key8
, 
	g_is_key9
, 
	g_is_key0
,

6236 
	g_is_keyBACKSPACE
, 
	g_is_keyINSERT
, 
	g_is_keyHOME
, 
	g_is_keyPAGEUP
, 
	g_is_keyTAB
, 
	g_is_keyQ
, 
	g_is_keyW
, 
	g_is_keyE
,

6237 
	g_is_keyR
, 
	g_is_keyT
, 
	g_is_keyY
, 
	g_is_keyU
, 
	g_is_keyI
, 
	g_is_keyO
, 
	g_is_keyP
, 
	g_is_keyDELETE
,

6238 
	g_is_keyEND
, 
	g_is_keyPAGEDOWN
, 
	g_is_keyCAPSLOCK
, 
	g_is_keyA
, 
	g_is_keyS
, 
	g_is_keyD
, 
	g_is_keyF
, 
	g_is_keyG
,

6239 
	g_is_keyH
, 
	g_is_keyJ
, 
	g_is_keyK
, 
	g_is_keyL
, 
	g_is_keyENTER
, 
	g_is_keySHIFTLEFT
, 
	g_is_keyZ
, 
	g_is_keyX
,

6240 
	g_is_keyC
, 
	g_is_keyV
, 
	g_is_keyB
, 
	g_is_keyN
, 
	g_is_keyM
, 
	g_is_keySHIFTRIGHT
, 
	g_is_keyARROWUP
, 
	g_is_keyCTRLLEFT
,

6241 
	g_is_keyAPPLEFT
, 
	g_is_keyALT
, 
	g_is_keySPACE
, 
	g_is_keyALTGR
, 
	g_is_keyAPPRIGHT
, 
	g_is_keyMENU
, 
	g_is_keyCTRLRIGHT
, 
	g_is_keyARROWLEFT
,

6242 
	g_is_keyARROWDOWN
, 
	g_is_keyARROWRIGHT
, 
	g_is_keyPAD0
, 
	g_is_keyPAD1
, 
	g_is_keyPAD2
, 
	g_is_keyPAD3
, 
	g_is_keyPAD4
, 
	g_is_keyPAD5
,

6243 
	g_is_keyPAD6
, 
	g_is_keyPAD7
, 
	g_is_keyPAD8
, 
	g_is_keyPAD9
, 
	g_is_keyPADADD
, 
	g_is_keyPADSUB
, 
	g_is_keyPADMUL
, 
	g_is_keyPADDIV
;

6252 #ifde‡
cimgdi•œy_∂ugö


6253 #ö˛udê
cimgdi•œy_∂ugö


6255 #ifde‡
cimgdi•œy_∂ugö1


6256 #ö˛udê
cimgdi•œy_∂ugö1


6258 #ifde‡
cimgdi•œy_∂ugö2


6259 #ö˛udê
cimgdi•œy_∂ugö2


6261 #ifde‡
cimgdi•œy_∂ugö3


6262 #ö˛udê
cimgdi•œy_∂ugö3


6264 #ifde‡
cimgdi•œy_∂ugö4


6265 #ö˛udê
cimgdi•œy_∂ugö4


6267 #ifde‡
cimgdi•œy_∂ugö5


6268 #ö˛udê
cimgdi•œy_∂ugö5


6270 #ifde‡
cimgdi•œy_∂ugö6


6271 #ö˛udê
cimgdi•œy_∂ugö6


6273 #ifde‡
cimgdi•œy_∂ugö7


6274 #ö˛udê
cimgdi•œy_∂ugö7


6276 #ifde‡
cimgdi•œy_∂ugö8


6277 #ö˛udê
cimgdi•œy_∂ugö8


6291 ~
CImgDi•œy
() {

6292 
assign
();

6306 
CImgDi•œy
():

6307 
_width
(0),
_height
(0),
_n‹mÆiz©i⁄
(0),

6308 
_mö
(0),
_max
(0),

6309 
_is_fuŒs¸ìn
(
Ál£
),

6310 
_tôÀ
(0),

6311 
_wödow_width
(0),
_wödow_height
(0),
_buâ⁄
(0),

6312 
_wödow_x
(0),
_wödow_y
(0),
_mou£_x
(-1),
_mou£_y
(-1),
_whìl
(0),

6313 
_is_˛o£d
(
åue
),
_is_ªsized
(
Ál£
),
_is_moved
(Ál£),
_is_evít
(false) {

6314 
assign
();

6326 
CImgDi•œy
(c⁄° 
width
, c⁄° 
height
,

6327 c⁄° *c⁄° 
tôÀ
=0, c⁄° 
n‹mÆiz©i⁄
=3,

6328 c⁄° 
boﬁ
 
is_fuŒs¸ìn
=
Ál£
, c⁄° boﬁ 
is_˛o£d
=false):

6329 
_width
(0),
_height
(0),
_n‹mÆiz©i⁄
(0),

6330 
_mö
(0),
_max
(0),

6331 
_is_fuŒs¸ìn
(
Ál£
),

6332 
_tôÀ
(0),

6333 
_wödow_width
(0),
_wödow_height
(0),
_buâ⁄
(0),

6334 
_wödow_x
(0),
_wödow_y
(0),
_mou£_x
(-1),
_mou£_y
(-1),
_whìl
(0),

6335 
_is_˛o£d
(
åue
),
_is_ªsized
(
Ál£
),
_is_moved
(Ál£),
_is_evít
(false) {

6336 
assign
(
width
,
height
,
tôÀ
,
n‹mÆiz©i⁄
,
is_fuŒs¸ìn
,
is_˛o£d
);

6347 
	gãm∂©e
<
ty≥«me
 
	gT
>

6348 
ex∂icô
 
CImgDi•œy
(c⁄° 
CImg
<
T
>& 
img
,

6349 c⁄° *c⁄° 
tôÀ
=0, c⁄° 
n‹mÆiz©i⁄
=3,

6350 c⁄° 
boﬁ
 
is_fuŒs¸ìn
=
Ál£
, c⁄° boﬁ 
is_˛o£d
=false):

6351 
_width
(0),
_height
(0),
_n‹mÆiz©i⁄
(0),

6352 
_mö
(0),
_max
(0),

6353 
_is_fuŒs¸ìn
(
Ál£
),

6354 
_tôÀ
(0),

6355 
_wödow_width
(0),
_wödow_height
(0),
_buâ⁄
(0),

6356 
_wödow_x
(0),
_wödow_y
(0),
_mou£_x
(-1),
_mou£_y
(-1),
_whìl
(0),

6357 
_is_˛o£d
(
åue
),
_is_ªsized
(
Ál£
),
_is_moved
(Ál£),
_is_evít
(false) {

6358 
assign
(
img
,
tôÀ
,
n‹mÆiz©i⁄
,
is_fuŒs¸ìn
,
is_˛o£d
);

6369 
	gãm∂©e
<
ty≥«me
 
	gT
>

6370 
ex∂icô
 
CImgDi•œy
(c⁄° 
CImgLi°
<
T
>& 
li°
,

6371 c⁄° *c⁄° 
tôÀ
=0, c⁄° 
n‹mÆiz©i⁄
=3,

6372 c⁄° 
boﬁ
 
is_fuŒs¸ìn
=
Ál£
, c⁄° boﬁ 
is_˛o£d
=false):

6373 
_width
(0),
_height
(0),
_n‹mÆiz©i⁄
(0),

6374 
_mö
(0),
_max
(0),

6375 
_is_fuŒs¸ìn
(
Ál£
),

6376 
_tôÀ
(0),

6377 
_wödow_width
(0),
_wödow_height
(0),
_buâ⁄
(0),

6378 
_wödow_x
(0),
_wödow_y
(0),
_mou£_x
(-1),
_mou£_y
(-1),
_whìl
(0),

6379 
_is_˛o£d
(
åue
),
_is_ªsized
(
Ál£
),
_is_moved
(Ál£),
_is_evít
(false) {

6380 
assign
(
li°
,
tôÀ
,
n‹mÆiz©i⁄
,
is_fuŒs¸ìn
,
is_˛o£d
);

6388 
CImgDi•œy
(c⁄° CImgDi•œy& 
di•
):

6389 
_width
(0),
_height
(0),
_n‹mÆiz©i⁄
(0),

6390 
_mö
(0),
_max
(0),

6391 
_is_fuŒs¸ìn
(
Ál£
),

6392 
_tôÀ
(0),

6393 
_wödow_width
(0),
_wödow_height
(0),
_buâ⁄
(0),

6394 
_wödow_x
(0),
_wödow_y
(0),
_mou£_x
(-1),
_mou£_y
(-1),
_whìl
(0),

6395 
_is_˛o£d
(
åue
),
_is_ªsized
(
Ál£
),
_is_moved
(Ál£),
_is_evít
(false) {

6396 
assign
(
di•
);

6399 #i‡
cimg_di•œy
==0

6401 
_no_di•œy_ex˚±i⁄
() {

6402 
throw
 
CImgDi•œyEx˚±i⁄
("CImgDisplay(): No displayávailable.");

6409 
	gCImgDi•œy
& 
assign
() {

6410  
Êush
();

6416 
	gCImgDi•œy
& 
assign
(c⁄° 
width
, c⁄° 
height
,

6417 c⁄° *c⁄° 
tôÀ
=0, c⁄° 
n‹mÆiz©i⁄
=3,

6418 c⁄° 
boﬁ
 
is_fuŒs¸ìn
=
Ál£
, c⁄° boﬁ 
is_˛o£d
=false) {

6419 
cimg
::
unu£d
(
width
,
height
,
tôÀ
,
n‹mÆiz©i⁄
,
is_fuŒs¸ìn
,
is_˛o£d
);

6420 
_no_di•œy_ex˚±i⁄
();

6421  
assign
();

6427 
	gãm∂©e
<
ty≥«me
 
	gT
>

6428 
	gCImgDi•œy
& 
assign
(c⁄° 
CImg
<
T
>& 
img
,

6429 c⁄° *c⁄° 
tôÀ
=0, c⁄° 
n‹mÆiz©i⁄
=3,

6430 c⁄° 
boﬁ
 
is_fuŒs¸ìn
=
Ál£
, c⁄° boﬁ 
is_˛o£d
=false) {

6431 
_no_di•œy_ex˚±i⁄
();

6432  
assign
(
img
.
_width
,img.
_height
,
tôÀ
,
n‹mÆiz©i⁄
,
is_fuŒs¸ìn
,
is_˛o£d
);

6438 
	gãm∂©e
<
ty≥«me
 
	gT
>

6439 
	gCImgDi•œy
& 
assign
(c⁄° 
CImgLi°
<
T
>& 
li°
,

6440 c⁄° *c⁄° 
tôÀ
=0, c⁄° 
n‹mÆiz©i⁄
=3,

6441 c⁄° 
boﬁ
 
is_fuŒs¸ìn
=
Ál£
, c⁄° boﬁ 
is_˛o£d
=false) {

6442 
_no_di•œy_ex˚±i⁄
();

6443  
assign
(
li°
.
_width
,li°._width,
tôÀ
,
n‹mÆiz©i⁄
,
is_fuŒs¸ìn
,
is_˛o£d
);

6449 
	gCImgDi•œy
& 
assign
(c⁄° 
CImgDi•œy
 &
di•
) {

6450 
_no_di•œy_ex˚±i⁄
();

6451  
assign
(
di•
.
_width
,di•.
_height
);

6465 
	gCImgDi•œy
& 
em±y
() {

6466 
CImgDi•œy
 
	g_em±y
;

6467  
	g_em±y
.
assign
();

6470 
	#cimg_fôs¸ìn
(
dx
,
dy
,
dz
Ë
CImgDi•œy
::
	`_fôs¸ìn
(dx,dy,dz,128,-85,
Ál£
),CImgDi•œy::_fôs¸ìn(dx,dy,dz,128,-85,
åue
)

	)

6471 
_fôs¸ìn
(c⁄° 
dx
, c⁄° 
dy
, c⁄° 
dz
,

6472 c⁄° 
dmö
, c⁄° 
dmax
,c⁄° 
boﬁ
 
ªtu∫_y
) {

6473 c⁄° 
	g_nw
 = 
dx
 + (
dz
>1?dz:0), 
	g_nh
 = 
dy
 + (dz>1?dz:0);

6474 
	gnw
 = 
_nw
?_nw:1, 
	gnh
 = 
_nh
?_nh:1;

6476 
	gsw
 = 
CImgDi•œy
::
s¸ìn_width
(), 
	gsh
 = CImgDi•œy::
s¸ìn_height
(),

6477 
	gmw
 = 
dmö
<0?()(
sw
*-dmin/100):()dmin,

6478 
	gmh
 = 
dmö
<0?()(
sh
*-dmin/100):()dmin,

6479 
	gMw
 = 
dmax
<0?()(
sw
*-dmax/100):()dmax,

6480 
	gMh
 = 
dmax
<0?()(
sh
*-dmax/100):()dmax;

6481 i‡(
	gnw
<
	gmw
Ë{ 
	gnh
 = 
nh
*
mw
/
nw
;Çh+=(nh==0?1:0);Çw = mw; }

6482 i‡(
	gnh
<
	gmh
Ë{ 
	gnw
 = 
nw
*
mh
/
nh
;Çw+=(nw==0?1:0);Çh = mh; }

6483 i‡(
	gnw
>
	gMw
Ë{ 
	gnh
 = 
nh
*
Mw
/
nw
;Çh+=(nh==0?1:0);Çw = Mw; }

6484 i‡(
	gnh
>
	gMh
Ë{ 
	gnw
 = 
nw
*
Mh
/
nh
;Çw+=(nw==0?1:0);Çh = Mh; }

6485 i‡(
	gnw
<
	gmw
Ënw = 
mw
;

6486 i‡(
	gnh
<
	gmh
Ënh = 
mh
;

6487  
	gªtu∫_y
?
	gnh
:
nw
;

6501 
	gãm∂©e
<
ty≥«me
 
	gt
>

6502 
	gCImgDi•œy
& 
	g›î©‹
=(c⁄° 
CImg
<
t
>& 
img
) {

6503  
di•œy
(
img
);

6510 
	gãm∂©e
<
ty≥«me
 
	gt
>

6511 
	gCImgDi•œy
& 
	g›î©‹
=(c⁄° 
CImgLi°
<
t
>& 
li°
) {

6512  
di•œy
(
li°
);

6519 
	gCImgDi•œy
& 
	g›î©‹
=(c⁄° 
CImgDi•œy
& 
di•
) {

6520  
assign
(
di•
);

6527 
›î©‹
 
boﬁ
() const {

6528  !
is_em±y
();

6541 
boﬁ
 
is_em±y
() const {

6542  !(
	g_width
 && 
	g_height
);

6551 
boﬁ
 
is_˛o£d
() const {

6552  
	g_is_˛o£d
;

6558 
boﬁ
 
is_ªsized
() const {

6559  
	g_is_ªsized
;

6565 
boﬁ
 
is_moved
() const {

6566  
	g_is_moved
;

6572 
boﬁ
 
is_evít
() const {

6573  
	g_is_evít
;

6579 
boﬁ
 
is_fuŒs¸ìn
() const {

6580  
	g_is_fuŒs¸ìn
;

6587 
boﬁ
 
is_key
() const {

6588  
	g_is_keyESC
 || 
	g_is_keyF1
 || 
	g_is_keyF2
 || 
	g_is_keyF3
 ||

6589 
	g_is_keyF4
 || 
	g_is_keyF5
 || 
	g_is_keyF6
 || 
	g_is_keyF7
 ||

6590 
	g_is_keyF8
 || 
	g_is_keyF9
 || 
	g_is_keyF10
 || 
	g_is_keyF11
 ||

6591 
	g_is_keyF12
 || 
	g_is_keyPAUSE
 || 
	g_is_key1
 || 
	g_is_key2
 ||

6592 
	g_is_key3
 || 
	g_is_key4
 || 
	g_is_key5
 || 
	g_is_key6
 ||

6593 
	g_is_key7
 || 
	g_is_key8
 || 
	g_is_key9
 || 
	g_is_key0
 ||

6594 
	g_is_keyBACKSPACE
 || 
	g_is_keyINSERT
 || 
	g_is_keyHOME
 ||

6595 
	g_is_keyPAGEUP
 || 
	g_is_keyTAB
 || 
	g_is_keyQ
 || 
	g_is_keyW
 ||

6596 
	g_is_keyE
 || 
	g_is_keyR
 || 
	g_is_keyT
 || 
	g_is_keyY
 ||

6597 
	g_is_keyU
 || 
	g_is_keyI
 || 
	g_is_keyO
 || 
	g_is_keyP
 ||

6598 
	g_is_keyDELETE
 || 
	g_is_keyEND
 || 
	g_is_keyPAGEDOWN
 ||

6599 
	g_is_keyCAPSLOCK
 || 
	g_is_keyA
 || 
	g_is_keyS
 || 
	g_is_keyD
 ||

6600 
	g_is_keyF
 || 
	g_is_keyG
 || 
	g_is_keyH
 || 
	g_is_keyJ
 ||

6601 
	g_is_keyK
 || 
	g_is_keyL
 || 
	g_is_keyENTER
 ||

6602 
	g_is_keySHIFTLEFT
 || 
	g_is_keyZ
 || 
	g_is_keyX
 || 
	g_is_keyC
 ||

6603 
	g_is_keyV
 || 
	g_is_keyB
 || 
	g_is_keyN
 || 
	g_is_keyM
 ||

6604 
	g_is_keySHIFTRIGHT
 || 
	g_is_keyARROWUP
 || 
	g_is_keyCTRLLEFT
 ||

6605 
	g_is_keyAPPLEFT
 || 
	g_is_keyALT
 || 
	g_is_keySPACE
 || 
	g_is_keyALTGR
 ||

6606 
	g_is_keyAPPRIGHT
 || 
	g_is_keyMENU
 || 
	g_is_keyCTRLRIGHT
 ||

6607 
	g_is_keyARROWLEFT
 || 
	g_is_keyARROWDOWN
 || 
	g_is_keyARROWRIGHT
 ||

6608 
	g_is_keyPAD0
 || 
	g_is_keyPAD1
 || 
	g_is_keyPAD2
 ||

6609 
	g_is_keyPAD3
 || 
	g_is_keyPAD4
 || 
	g_is_keyPAD5
 ||

6610 
	g_is_keyPAD6
 || 
	g_is_keyPAD7
 || 
	g_is_keyPAD8
 ||

6611 
	g_is_keyPAD9
 || 
	g_is_keyPADADD
 || 
	g_is_keyPADSUB
 ||

6612 
	g_is_keyPADMUL
 || 
	g_is_keyPADDIV
;

6629 
boﬁ
 
is_key
(c⁄° 
keycode
) const {

6630 
	#_cimg_iskey_ã°
(
k
Ëi‡(
keycode
==
cimg
::
key
##kË 
_is_key
##k;

	)

6631 
_cimg_iskey_ã°
(
ESC
); _cimg_iskey_ã°(
F1
); _cimg_iskey_ã°(
F2
); _cimg_iskey_ã°(
F3
);

6632 
_cimg_iskey_ã°
(
F4
); _cimg_iskey_ã°(
F5
); _cimg_iskey_ã°(
F6
); _cimg_iskey_ã°(
F7
);

6633 
_cimg_iskey_ã°
(
F8
); _cimg_iskey_ã°(
F9
); _cimg_iskey_ã°(
F10
); _cimg_iskey_ã°(
F11
);

6634 
_cimg_iskey_ã°
(
F12
); _cimg_iskey_ã°(
PAUSE
); _cimg_iskey_test(1); _cimg_iskey_test(2);

6635 
_cimg_iskey_ã°
(3); _cimg_iskey_test(4); _cimg_iskey_test(5); _cimg_iskey_test(6);

6636 
_cimg_iskey_ã°
(7); _cimg_iskey_test(8); _cimg_iskey_test(9); _cimg_iskey_test(0);

6637 
_cimg_iskey_ã°
(
BACKSPACE
); _cimg_iskey_ã°(
INSERT
); _cimg_iskey_ã°(
HOME
);

6638 
_cimg_iskey_ã°
(
PAGEUP
); _cimg_iskey_ã°(
TAB
); _cimg_iskey_ã°(
Q
); _cimg_iskey_ã°(
W
);

6639 
_cimg_iskey_ã°
(
E
); _cimg_iskey_ã°(
R
); _cimg_iskey_ã°(
T
); _cimg_iskey_ã°(
Y
);

6640 
_cimg_iskey_ã°
(
U
); _cimg_iskey_ã°(
I
); _cimg_iskey_ã°(
O
); _cimg_iskey_ã°(
P
);

6641 
_cimg_iskey_ã°
(
DELETE
); _cimg_iskey_ã°(
END
); _cimg_iskey_ã°(
PAGEDOWN
);

6642 
_cimg_iskey_ã°
(
CAPSLOCK
); _cimg_iskey_ã°(
A
); _cimg_iskey_ã°(
S
); _cimg_iskey_ã°(
D
);

6643 
_cimg_iskey_ã°
(
F
); _cimg_iskey_ã°(
G
); _cimg_iskey_ã°(
H
); _cimg_iskey_ã°(
J
);

6644 
_cimg_iskey_ã°
(
K
); _cimg_iskey_ã°(
L
); _cimg_iskey_ã°(
ENTER
);

6645 
_cimg_iskey_ã°
(
SHIFTLEFT
); _cimg_iskey_ã°(
Z
); _cimg_iskey_ã°(
X
); _cimg_iskey_ã°(
C
);

6646 
_cimg_iskey_ã°
(
V
); _cimg_iskey_ã°(
B
); _cimg_iskey_ã°(
N
); _cimg_iskey_ã°(
M
);

6647 
_cimg_iskey_ã°
(
SHIFTRIGHT
); _cimg_iskey_ã°(
ARROWUP
); _cimg_iskey_ã°(
CTRLLEFT
);

6648 
_cimg_iskey_ã°
(
APPLEFT
); _cimg_iskey_ã°(
ALT
); _cimg_iskey_ã°(
SPACE
); _cimg_iskey_ã°(
ALTGR
);

6649 
_cimg_iskey_ã°
(
APPRIGHT
); _cimg_iskey_ã°(
MENU
); _cimg_iskey_ã°(
CTRLRIGHT
);

6650 
_cimg_iskey_ã°
(
ARROWLEFT
); _cimg_iskey_ã°(
ARROWDOWN
); _cimg_iskey_ã°(
ARROWRIGHT
);

6651 
_cimg_iskey_ã°
(
PAD0
); _cimg_iskey_ã°(
PAD1
); _cimg_iskey_ã°(
PAD2
);

6652 
_cimg_iskey_ã°
(
PAD3
); _cimg_iskey_ã°(
PAD4
); _cimg_iskey_ã°(
PAD5
);

6653 
_cimg_iskey_ã°
(
PAD6
); _cimg_iskey_ã°(
PAD7
); _cimg_iskey_ã°(
PAD8
);

6654 
_cimg_iskey_ã°
(
PAD9
); _cimg_iskey_ã°(
PADADD
); _cimg_iskey_ã°(
PADSUB
);

6655 
_cimg_iskey_ã°
(
PADMUL
); _cimg_iskey_ã°(
PADDIV
);

6656  
	gÁl£
;

6673 
boﬁ
 
is_key
(c⁄° *c⁄° 
keycode
) const {

6674 
	#_cimg_iskey_ã°2
(
k
Ëi‡(!
cimg
::
	`°rˇ£cmp
(
keycode
,#k)Ë 
_is_key
##k;

	)

6675 
_cimg_iskey_ã°2
(
ESC
); _cimg_iskey_ã°2(
F1
); _cimg_iskey_ã°2(
F2
); _cimg_iskey_ã°2(
F3
);

6676 
_cimg_iskey_ã°2
(
F4
); _cimg_iskey_ã°2(
F5
); _cimg_iskey_ã°2(
F6
); _cimg_iskey_ã°2(
F7
);

6677 
_cimg_iskey_ã°2
(
F8
); _cimg_iskey_ã°2(
F9
); _cimg_iskey_ã°2(
F10
); _cimg_iskey_ã°2(
F11
);

6678 
_cimg_iskey_ã°2
(
F12
); _cimg_iskey_ã°2(
PAUSE
); _cimg_iskey_test2(1); _cimg_iskey_test2(2);

6679 
_cimg_iskey_ã°2
(3); _cimg_iskey_test2(4); _cimg_iskey_test2(5); _cimg_iskey_test2(6);

6680 
_cimg_iskey_ã°2
(7); _cimg_iskey_test2(8); _cimg_iskey_test2(9); _cimg_iskey_test2(0);

6681 
_cimg_iskey_ã°2
(
BACKSPACE
); _cimg_iskey_ã°2(
INSERT
); _cimg_iskey_ã°2(
HOME
);

6682 
_cimg_iskey_ã°2
(
PAGEUP
); _cimg_iskey_ã°2(
TAB
); _cimg_iskey_ã°2(
Q
); _cimg_iskey_ã°2(
W
);

6683 
_cimg_iskey_ã°2
(
E
); _cimg_iskey_ã°2(
R
); _cimg_iskey_ã°2(
T
); _cimg_iskey_ã°2(
Y
);

6684 
_cimg_iskey_ã°2
(
U
); _cimg_iskey_ã°2(
I
); _cimg_iskey_ã°2(
O
); _cimg_iskey_ã°2(
P
);

6685 
_cimg_iskey_ã°2
(
DELETE
); _cimg_iskey_ã°2(
END
); _cimg_iskey_ã°2(
PAGEDOWN
);

6686 
_cimg_iskey_ã°2
(
CAPSLOCK
); _cimg_iskey_ã°2(
A
); _cimg_iskey_ã°2(
S
); _cimg_iskey_ã°2(
D
);

6687 
_cimg_iskey_ã°2
(
F
); _cimg_iskey_ã°2(
G
); _cimg_iskey_ã°2(
H
); _cimg_iskey_ã°2(
J
);

6688 
_cimg_iskey_ã°2
(
K
); _cimg_iskey_ã°2(
L
); _cimg_iskey_ã°2(
ENTER
);

6689 
_cimg_iskey_ã°2
(
SHIFTLEFT
); _cimg_iskey_ã°2(
Z
); _cimg_iskey_ã°2(
X
); _cimg_iskey_ã°2(
C
);

6690 
_cimg_iskey_ã°2
(
V
); _cimg_iskey_ã°2(
B
); _cimg_iskey_ã°2(
N
); _cimg_iskey_ã°2(
M
);

6691 
_cimg_iskey_ã°2
(
SHIFTRIGHT
); _cimg_iskey_ã°2(
ARROWUP
); _cimg_iskey_ã°2(
CTRLLEFT
);

6692 
_cimg_iskey_ã°2
(
APPLEFT
); _cimg_iskey_ã°2(
ALT
); _cimg_iskey_ã°2(
SPACE
); _cimg_iskey_ã°2(
ALTGR
);

6693 
_cimg_iskey_ã°2
(
APPRIGHT
); _cimg_iskey_ã°2(
MENU
); _cimg_iskey_ã°2(
CTRLRIGHT
);

6694 
_cimg_iskey_ã°2
(
ARROWLEFT
); _cimg_iskey_ã°2(
ARROWDOWN
); _cimg_iskey_ã°2(
ARROWRIGHT
);

6695 
_cimg_iskey_ã°2
(
PAD0
); _cimg_iskey_ã°2(
PAD1
); _cimg_iskey_ã°2(
PAD2
);

6696 
_cimg_iskey_ã°2
(
PAD3
); _cimg_iskey_ã°2(
PAD4
); _cimg_iskey_ã°2(
PAD5
);

6697 
_cimg_iskey_ã°2
(
PAD6
); _cimg_iskey_ã°2(
PAD7
); _cimg_iskey_ã°2(
PAD8
);

6698 
_cimg_iskey_ã°2
(
PAD9
); _cimg_iskey_ã°2(
PADADD
); _cimg_iskey_ã°2(
PADSUB
);

6699 
_cimg_iskey_ã°2
(
PADMUL
); _cimg_iskey_ã°2(
PADDIV
);

6700  
	gÁl£
;

6720 
boﬁ
 
is_key_£quí˚
(c⁄° *c⁄° 
keycodes_£quí˚
, c⁄° 
Àngth
, c⁄° boﬁ 
ªmove_£quí˚
=
Ál£
) {

6721 i‡(
keycodes_£quí˚
 && 
Àngth
) {

6723 *c⁄° 
ps_íd
 = 
keycodes_£quí˚
 + 
Àngth
 - 1,

6724 *c⁄° 
	gpk_íd
 = (*)
_keys
 + 1 + (_keys)/(Ë- 
Àngth
,

6725 
	gk
 = *
ps_íd
;

6726 *
	gpk
 = (*)
_keys
;Ök<
	gpk_íd
; ) {

6727 i‡(*(
	gpk
++)==
k
) {

6728 
boﬁ
 
ªs
 = 
åue
;

6729 c⁄° *
	gps
 = 
ps_íd
, *
	gpk2
 = 
pk
;

6730 
	gi
 = 1; i<
	gÀngth
; ++iË
	gªs
 = (*(--
ps
)==*(
pk2
++));

6731 i‡(
	gªs
) {

6732 i‡(
	gªmove_£quí˚
Ë
	g°d
::
mem£t
((*)(
pk
-1),0,()*
Àngth
);

6733  
	gåue
;

6738  
	gÁl£
;

6741 
	#_cimg_iskey_def
(
k
) \

6742 
boﬁ
 
is_key
##
	`k
() const { \

6743  
_is_key
##
k
; \

6744 }

	)

6750 
_cimg_iskey_def
(
ESC
); _cimg_iskey_def(
F1
); _cimg_iskey_def(
F2
); _cimg_iskey_def(
F3
);

6751 
_cimg_iskey_def
(
F4
); _cimg_iskey_def(
F5
); _cimg_iskey_def(
F6
); _cimg_iskey_def(
F7
);

6752 
_cimg_iskey_def
(
F8
); _cimg_iskey_def(
F9
); _cimg_iskey_def(
F10
); _cimg_iskey_def(
F11
);

6753 
_cimg_iskey_def
(
F12
); _cimg_iskey_def(
PAUSE
); _cimg_iskey_def(1); _cimg_iskey_def(2);

6754 
_cimg_iskey_def
(3); _cimg_iskey_def(4); _cimg_iskey_def(5); _cimg_iskey_def(6);

6755 
_cimg_iskey_def
(7); _cimg_iskey_def(8); _cimg_iskey_def(9); _cimg_iskey_def(0);

6756 
_cimg_iskey_def
(
BACKSPACE
); _cimg_iskey_def(
INSERT
); _cimg_iskey_def(
HOME
);

6757 
_cimg_iskey_def
(
PAGEUP
); _cimg_iskey_def(
TAB
); _cimg_iskey_def(
Q
); _cimg_iskey_def(
W
);

6758 
_cimg_iskey_def
(
E
); _cimg_iskey_def(
R
); _cimg_iskey_def(
T
); _cimg_iskey_def(
Y
);

6759 
_cimg_iskey_def
(
U
); _cimg_iskey_def(
I
); _cimg_iskey_def(
O
); _cimg_iskey_def(
P
);

6760 
_cimg_iskey_def
(
DELETE
); _cimg_iskey_def(
END
); _cimg_iskey_def(
PAGEDOWN
);

6761 
_cimg_iskey_def
(
CAPSLOCK
); _cimg_iskey_def(
A
); _cimg_iskey_def(
S
); _cimg_iskey_def(
D
);

6762 
_cimg_iskey_def
(
F
); _cimg_iskey_def(
G
); _cimg_iskey_def(
H
); _cimg_iskey_def(
J
);

6763 
_cimg_iskey_def
(
K
); _cimg_iskey_def(
L
); _cimg_iskey_def(
ENTER
);

6764 
_cimg_iskey_def
(
SHIFTLEFT
); _cimg_iskey_def(
Z
); _cimg_iskey_def(
X
); _cimg_iskey_def(
C
);

6765 
_cimg_iskey_def
(
V
); _cimg_iskey_def(
B
); _cimg_iskey_def(
N
); _cimg_iskey_def(
M
);

6766 
_cimg_iskey_def
(
SHIFTRIGHT
); _cimg_iskey_def(
ARROWUP
); _cimg_iskey_def(
CTRLLEFT
);

6767 
_cimg_iskey_def
(
APPLEFT
); _cimg_iskey_def(
ALT
); _cimg_iskey_def(
SPACE
); _cimg_iskey_def(
ALTGR
);

6768 
_cimg_iskey_def
(
APPRIGHT
); _cimg_iskey_def(
MENU
); _cimg_iskey_def(
CTRLRIGHT
);

6769 
_cimg_iskey_def
(
ARROWLEFT
); _cimg_iskey_def(
ARROWDOWN
); _cimg_iskey_def(
ARROWRIGHT
);

6770 
_cimg_iskey_def
(
PAD0
); _cimg_iskey_def(
PAD1
); _cimg_iskey_def(
PAD2
);

6771 
_cimg_iskey_def
(
PAD3
); _cimg_iskey_def(
PAD4
); _cimg_iskey_def(
PAD5
);

6772 
_cimg_iskey_def
(
PAD6
); _cimg_iskey_def(
PAD7
); _cimg_iskey_def(
PAD8
);

6773 
_cimg_iskey_def
(
PAD9
); _cimg_iskey_def(
PADADD
); _cimg_iskey_def(
PADSUB
);

6774 
_cimg_iskey_def
(
PADMUL
); _cimg_iskey_def(
PADDIV
);

6783 #i‡
cimg_di•œy
==0

6788 
s¸ìn_width
() {

6789 
_no_di•œy_ex˚±i⁄
();

6796 
s¸ìn_height
() {

6797 
_no_di•œy_ex˚±i⁄
();

6808 
width
() const {

6809  ()
	g_width
;

6817 
height
() const {

6818  ()
	g_height
;

6841 
n‹mÆiz©i⁄
() const {

6842  
	g_n‹mÆiz©i⁄
;

6849 c⁄° *
tôÀ
() const {

6850  
	g_tôÀ
;

6858 
wödow_width
() const {

6859  ()
	g_wödow_width
;

6867 
wödow_height
() const {

6868  ()
	g_wödow_height
;

6875 
wödow_x
() const {

6876  
	g_wödow_x
;

6883 
wödow_y
() const {

6884  
	g_wödow_y
;

6893 
mou£_x
() const {

6894  
	g_mou£_x
;

6903 
mou£_y
() const {

6904  
	g_mou£_y
;

6932 
buâ⁄
() const {

6933  
	g_buâ⁄
;

6959 
whìl
() const {

6960  
	g_whìl
;

6976 
key
(c⁄° 
pos
=0) const {

6977  
pos
<((
_keys
)/())?_keys[pos]:0;

6993 
ªÀa£d_key
(c⁄° 
pos
=0) const {

6994  
pos
<((
_ªÀa£d_keys
)/())?_released_keys[pos]:0;

7006 
keycode
(const *const keycode) {

7007 
	#_cimg_keycode
(
k
Ëi‡(!
cimg
::
	`°rˇ£cmp
(
keycode
,#k)Ë cimg::
key
##k;

	)

7008 
_cimg_keycode
(
ESC
); _cimg_keycode(
F1
); _cimg_keycode(
F2
); _cimg_keycode(
F3
);

7009 
_cimg_keycode
(
F4
); _cimg_keycode(
F5
); _cimg_keycode(
F6
); _cimg_keycode(
F7
);

7010 
_cimg_keycode
(
F8
); _cimg_keycode(
F9
); _cimg_keycode(
F10
); _cimg_keycode(
F11
);

7011 
_cimg_keycode
(
F12
); _cimg_keycode(
PAUSE
); _cimg_keycode(1); _cimg_keycode(2);

7012 
_cimg_keycode
(3); _cimg_keycode(4); _cimg_keycode(5); _cimg_keycode(6);

7013 
_cimg_keycode
(7); _cimg_keycode(8); _cimg_keycode(9); _cimg_keycode(0);

7014 
_cimg_keycode
(
BACKSPACE
); _cimg_keycode(
INSERT
); _cimg_keycode(
HOME
);

7015 
_cimg_keycode
(
PAGEUP
); _cimg_keycode(
TAB
); _cimg_keycode(
Q
); _cimg_keycode(
W
);

7016 
_cimg_keycode
(
E
); _cimg_keycode(
R
); _cimg_keycode(
T
); _cimg_keycode(
Y
);

7017 
_cimg_keycode
(
U
); _cimg_keycode(
I
); _cimg_keycode(
O
); _cimg_keycode(
P
);

7018 
_cimg_keycode
(
DELETE
); _cimg_keycode(
END
); _cimg_keycode(
PAGEDOWN
);

7019 
_cimg_keycode
(
CAPSLOCK
); _cimg_keycode(
A
); _cimg_keycode(
S
); _cimg_keycode(
D
);

7020 
_cimg_keycode
(
F
); _cimg_keycode(
G
); _cimg_keycode(
H
); _cimg_keycode(
J
);

7021 
_cimg_keycode
(
K
); _cimg_keycode(
L
); _cimg_keycode(
ENTER
);

7022 
_cimg_keycode
(
SHIFTLEFT
); _cimg_keycode(
Z
); _cimg_keycode(
X
); _cimg_keycode(
C
);

7023 
_cimg_keycode
(
V
); _cimg_keycode(
B
); _cimg_keycode(
N
); _cimg_keycode(
M
);

7024 
_cimg_keycode
(
SHIFTRIGHT
); _cimg_keycode(
ARROWUP
); _cimg_keycode(
CTRLLEFT
);

7025 
_cimg_keycode
(
APPLEFT
); _cimg_keycode(
ALT
); _cimg_keycode(
SPACE
); _cimg_keycode(
ALTGR
);

7026 
_cimg_keycode
(
APPRIGHT
); _cimg_keycode(
MENU
); _cimg_keycode(
CTRLRIGHT
);

7027 
_cimg_keycode
(
ARROWLEFT
); _cimg_keycode(
ARROWDOWN
); _cimg_keycode(
ARROWRIGHT
);

7028 
_cimg_keycode
(
PAD0
); _cimg_keycode(
PAD1
); _cimg_keycode(
PAD2
);

7029 
_cimg_keycode
(
PAD3
); _cimg_keycode(
PAD4
); _cimg_keycode(
PAD5
);

7030 
_cimg_keycode
(
PAD6
); _cimg_keycode(
PAD7
); _cimg_keycode(
PAD8
);

7031 
_cimg_keycode
(
PAD9
); _cimg_keycode(
PADADD
); _cimg_keycode(
PADSUB
);

7032 
_cimg_keycode
(
PADMUL
); _cimg_keycode(
PADDIV
);

7041 
‰ames_≥r_£c⁄d
() {

7042 i‡(!
	g_Âs_timî
Ë_Âs_timî = 
cimg
::
time
();

7043 c⁄° 
	gdñè
 = (
cimg
::
time
()-
_Âs_timî
)/1000.0f;

7044 ++
	g_Âs_‰ames
;

7045 i‡(
	gdñè
>=1) {

7046 
_Âs_Âs
 = 
_Âs_‰ames
/
dñè
;

7047 
	g_Âs_‰ames
 = 0;

7048 
	g_Âs_timî
 = 
cimg
::
time
();

7050  
	g_Âs_Âs
;

7060 #i‡
cimg_di•œy
==0

7067 
	gãm∂©e
<
ty≥«me
 
	gT
>

7068 
	gCImgDi•œy
& 
di•œy
(c⁄° 
CImg
<
T
>& 
img
) {

7069  
assign
(
img
);

7082 
	gãm∂©e
<
ty≥«me
 
	gT
>

7083 
	gCImgDi•œy
& 
di•œy
(c⁄° 
CImgLi°
<
T
>& 
li°
, c⁄° 
axis
='x', c⁄° 
Æign
=0) {

7084  
di•œy
(
li°
.
gë_≠≥nd
(
axis
,
Æign
));

7087 #i‡
cimg_di•œy
==0

7095 
	gCImgDi•œy
& 
show
() {

7096  
assign
();

7106 
	gCImgDi•œy
& 
˛o£
() {

7107  
assign
();

7116 
	gCImgDi•œy
& 
move
(c⁄° 
pos_x
, c⁄° 
pos_y
) {

7117  
assign
(
pos_x
,
pos_y
);

7129 
	gCImgDi•œy
& 
ªsize
(c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

7130 
ªsize
(
_wödow_width
,
_wödow_height
,
f‹˚_ªdøw
);

7131  *
	gthis
;

7134 #i‡
cimg_di•œy
==0

7143 
	gCImgDi•œy
& 
ªsize
(c⁄° 
width
, c⁄° 
height
, c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

7144  
assign
(
width
,
height
,0,3,
f‹˚_ªdøw
);

7157 
	gãm∂©e
<
ty≥«me
 
	gT
>

7158 
	gCImgDi•œy
& 
ªsize
(c⁄° 
CImg
<
T
>& 
img
, c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

7159  
ªsize
(
img
.
_width
,img.
_height
,
f‹˚_ªdøw
);

7170 
	gCImgDi•œy
& 
ªsize
(c⁄° 
CImgDi•œy
& 
di•
, c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

7171  
ªsize
(
di•
.
_width
,di•.
_height
,
f‹˚_ªdøw
);

7175 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gT
>

7176 
_ªndî_ªsize
(c⁄° 
T
 *
±rs
, c⁄° 
ws
, c⁄° 
hs
,

7177 
t
 *
±rd
, c⁄° 
wd
, c⁄° 
hd
) {

7178 *c⁄° 
	goffx
 = 
√w
 [
wd
], *c⁄° 
	goffy
 =Çew [
hd
+1], *
	gpoffx
, *
	gpoffy
;

7179 
	gs
, 
	gcuº
, 
	gﬁd
;

7180 
	gs
 = ()
ws
/
wd
;

7181 
	gpoffx
 = 
offx
; 
	gcuº
 = 0; 
	gx
 = 0; x<
	gwd
; ++xË{ 
	gﬁd
 = 
cuº
; cuº+=
s
; *’offx++Ë()cuº - ()
ﬁd
; }

7182 
	gs
 = ()
hs
/
hd
;

7183 
	gpoffy
 = 
offy
; 
	gcuº
 = 0; 
	gy
 = 0; y<
	ghd
; ++yË{ 
	gﬁd
 = 
cuº
; cuº+=
s
; *’offy++Ë
ws
*(()cuº - ()
ﬁd
); }

7184 *
	gpoffy
 = 0;

7185 
	gpoffy
 = 
offy
;

7186 
	gy
 = 0; y<
	ghd
; ) {

7187 c⁄° 
T
 *
	g±r
 = 
±rs
;

7188 
	gpoffx
 = 
offx
;

7189 
	gx
 = 0; x<
	gwd
; ++xË{ *(
	g±rd
++Ë*
±r
; 
	g±r
+=*(
poffx
++); }

7190 ++
	gy
;

7191 
	gdy
 = *(
poffy
++);

7192  ; !
	gdy
 && 
	gy
<
	ghd
; 
	g°d
::
mem˝y
(
±rd
,±rd - 
wd
,(
t
)*wd), ++y, 
	g±rd
+=wd, dy = *(
poffy
++)) {}

7193 
±rs
+=
dy
;

7195 
	gdñëe
[] 
	goffx
; dñëe[] 
	goffy
;

7202 
	gCImgDi•œy
& 
£t_n‹mÆiz©i⁄
(c⁄° 
n‹mÆiz©i⁄
) {

7203 
	g_n‹mÆiz©i⁄
 = 
n‹mÆiz©i⁄
;

7204 
	g_mö
 = 
_max
 = 0;

7205  *
	gthis
;

7208 #i‡
cimg_di•œy
==0

7223 
	gCImgDi•œy
& 
£t_tôÀ
(c⁄° *c⁄° 
f‹m©
, ...) {

7224  
assign
(0,0,
f‹m©
);

7240 
	gCImgDi•œy
& 
£t_fuŒs¸ìn
(c⁄° 
boﬁ
 
is_fuŒs¸ìn
, c⁄° boﬁ 
f‹˚_ªdøw
=
åue
) {

7241 i‡(
is_em±y
(Ë|| 
_is_fuŒs¸ìn
==
is_fuŒs¸ìn
Ë *
this
;

7242  
toggÀ_fuŒs¸ìn
(
f‹˚_ªdøw
);

7245 #i‡
cimg_di•œy
==0

7252 
	gCImgDi•œy
& 
toggÀ_fuŒs¸ìn
(c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

7253  
assign
(
_width
,
_height
,0,3,
f‹˚_ªdøw
);

7260 
	gCImgDi•œy
& 
show_mou£
() {

7261  
assign
();

7268 
	gCImgDi•œy
& 
hide_mou£
() {

7269  
assign
();

7276 
	gCImgDi•œy
& 
£t_mou£
(c⁄° 
pos_x
, c⁄° 
pos_y
) {

7277  
assign
(
pos_x
,
pos_y
);

7286 
	gCImgDi•œy
& 
£t_buâ⁄
() {

7287 
	g_buâ⁄
 = 0;

7288 
	g_is_evít
 = 
åue
;

7289 #i‡
cimg_di•œy
==1

7290 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7291 #ñi‡
cimg_di•œy
==2

7292 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

7294  *
	gthis
;

7302 
	gCImgDi•œy
& 
£t_buâ⁄
(c⁄° 
buâ⁄
, c⁄° 
boﬁ
 
is_¥es£d
=
åue
) {

7303 c⁄° 
buâ⁄code
 = 
buâ⁄
==1?1:button==2?2:button==3?4:0;

7304 i‡(
	gis_¥es£d
Ë
	g_buâ⁄
 |
buâ⁄code
; _button &= ~buttoncode;

7305 
	g_is_evít
 = 
buâ⁄code
?
åue
:
Ál£
;

7306 i‡(
	gbuâ⁄code
) {

7307 #i‡
cimg_di•œy
==1

7308 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7309 #ñi‡
cimg_di•œy
==2

7310 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

7313  *
	gthis
;

7320 
	gCImgDi•œy
& 
£t_whìl
() {

7321 
	g_whìl
 = 0;

7322 
	g_is_evít
 = 
åue
;

7323 #i‡
cimg_di•œy
==1

7324 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7325 #ñi‡
cimg_di•œy
==2

7326 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

7328  *
	gthis
;

7336 
	gCImgDi•œy
& 
£t_whìl
(c⁄° 
am∂ôude
) {

7337 
	g_whìl
+=
am∂ôude
;

7338 
	g_is_evít
 = 
am∂ôude
?
åue
:
Ál£
;

7339 i‡(
	gam∂ôude
) {

7340 #i‡
cimg_di•œy
==1

7341 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7342 #ñi‡
cimg_di•œy
==2

7343 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

7346  *
	gthis
;

7353 
	gCImgDi•œy
& 
£t_key
() {

7354 
	g°d
::
mem£t
((*)
_keys
,0,(_keys));

7355 
	g°d
::
mem£t
((*)
_ªÀa£d_keys
,0,(_released_keys));

7356 
	g_is_keyESC
 = 
_is_keyF1
 = 
_is_keyF2
 = 
_is_keyF3
 = 
_is_keyF4
 = 
_is_keyF5
 = 
_is_keyF6
 = 
_is_keyF7
 = 
_is_keyF8
 = 
_is_keyF9
 =

7357 
_is_keyF10
 = 
_is_keyF11
 = 
_is_keyF12
 = 
_is_keyPAUSE
 = 
_is_key1
 = 
_is_key2
 = 
_is_key3
 = 
_is_key4
 = 
_is_key5
 = 
_is_key6
 =

7358 
_is_key7
 = 
_is_key8
 = 
_is_key9
 = 
_is_key0
 = 
_is_keyBACKSPACE
 = 
_is_keyINSERT
 = 
_is_keyHOME
 = 
_is_keyPAGEUP
 = 
_is_keyTAB
 =

7359 
_is_keyQ
 = 
_is_keyW
 = 
_is_keyE
 = 
_is_keyR
 = 
_is_keyT
 = 
_is_keyY
 = 
_is_keyU
 = 
_is_keyI
 = 
_is_keyO
 = 
_is_keyP
 = 
_is_keyDELETE
 =

7360 
_is_keyEND
 = 
_is_keyPAGEDOWN
 = 
_is_keyCAPSLOCK
 = 
_is_keyA
 = 
_is_keyS
 = 
_is_keyD
 = 
_is_keyF
 = 
_is_keyG
 = 
_is_keyH
 = 
_is_keyJ
 =

7361 
_is_keyK
 = 
_is_keyL
 = 
_is_keyENTER
 = 
_is_keySHIFTLEFT
 = 
_is_keyZ
 = 
_is_keyX
 = 
_is_keyC
 = 
_is_keyV
 = 
_is_keyB
 = 
_is_keyN
 =

7362 
_is_keyM
 = 
_is_keySHIFTRIGHT
 = 
_is_keyARROWUP
 = 
_is_keyCTRLLEFT
 = 
_is_keyAPPLEFT
 = 
_is_keyALT
 = 
_is_keySPACE
 = 
_is_keyALTGR
 = 
_is_keyAPPRIGHT
 =

7363 
_is_keyMENU
 = 
_is_keyCTRLRIGHT
 = 
_is_keyARROWLEFT
 = 
_is_keyARROWDOWN
 = 
_is_keyARROWRIGHT
 = 
_is_keyPAD0
 = 
_is_keyPAD1
 = 
_is_keyPAD2
 =

7364 
_is_keyPAD3
 = 
_is_keyPAD4
 = 
_is_keyPAD5
 = 
_is_keyPAD6
 = 
_is_keyPAD7
 = 
_is_keyPAD8
 = 
_is_keyPAD9
 = 
_is_keyPADADD
 = 
_is_keyPADSUB
 =

7365 
_is_keyPADMUL
 = 
_is_keyPADDIV
 = 
Ál£
;

7366 
	g_is_evít
 = 
åue
;

7367 #i‡
cimg_di•œy
==1

7368 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7369 #ñi‡
cimg_di•œy
==2

7370 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

7372  *
	gthis
;

7382 
	gCImgDi•œy
& 
£t_key
(c⁄° 
keycode
, c⁄° 
boﬁ
 
is_¥es£d
=
åue
) {

7383 
	#_cimg_£t_key
(
k
Ëi‡(
keycode
==
cimg
::
key
##kË
_is_key
##k = 
is_¥es£d
;

	)

7384 
_cimg_£t_key
(
ESC
); _cimg_£t_key(
F1
); _cimg_£t_key(
F2
); _cimg_£t_key(
F3
);

7385 
_cimg_£t_key
(
F4
); _cimg_£t_key(
F5
); _cimg_£t_key(
F6
); _cimg_£t_key(
F7
);

7386 
_cimg_£t_key
(
F8
); _cimg_£t_key(
F9
); _cimg_£t_key(
F10
); _cimg_£t_key(
F11
);

7387 
_cimg_£t_key
(
F12
); _cimg_£t_key(
PAUSE
); _cimg_set_key(1); _cimg_set_key(2);

7388 
_cimg_£t_key
(3); _cimg_set_key(4); _cimg_set_key(5); _cimg_set_key(6);

7389 
_cimg_£t_key
(7); _cimg_set_key(8); _cimg_set_key(9); _cimg_set_key(0);

7390 
_cimg_£t_key
(
BACKSPACE
); _cimg_£t_key(
INSERT
); _cimg_£t_key(
HOME
);

7391 
_cimg_£t_key
(
PAGEUP
); _cimg_£t_key(
TAB
); _cimg_£t_key(
Q
); _cimg_£t_key(
W
);

7392 
_cimg_£t_key
(
E
); _cimg_£t_key(
R
); _cimg_£t_key(
T
); _cimg_£t_key(
Y
);

7393 
_cimg_£t_key
(
U
); _cimg_£t_key(
I
); _cimg_£t_key(
O
); _cimg_£t_key(
P
);

7394 
_cimg_£t_key
(
DELETE
); _cimg_£t_key(
END
); _cimg_£t_key(
PAGEDOWN
);

7395 
_cimg_£t_key
(
CAPSLOCK
); _cimg_£t_key(
A
); _cimg_£t_key(
S
); _cimg_£t_key(
D
);

7396 
_cimg_£t_key
(
F
); _cimg_£t_key(
G
); _cimg_£t_key(
H
); _cimg_£t_key(
J
);

7397 
_cimg_£t_key
(
K
); _cimg_£t_key(
L
); _cimg_£t_key(
ENTER
);

7398 
_cimg_£t_key
(
SHIFTLEFT
); _cimg_£t_key(
Z
); _cimg_£t_key(
X
); _cimg_£t_key(
C
);

7399 
_cimg_£t_key
(
V
); _cimg_£t_key(
B
); _cimg_£t_key(
N
); _cimg_£t_key(
M
);

7400 
_cimg_£t_key
(
SHIFTRIGHT
); _cimg_£t_key(
ARROWUP
); _cimg_£t_key(
CTRLLEFT
);

7401 
_cimg_£t_key
(
APPLEFT
); _cimg_£t_key(
ALT
); _cimg_£t_key(
SPACE
); _cimg_£t_key(
ALTGR
);

7402 
_cimg_£t_key
(
APPRIGHT
); _cimg_£t_key(
MENU
); _cimg_£t_key(
CTRLRIGHT
);

7403 
_cimg_£t_key
(
ARROWLEFT
); _cimg_£t_key(
ARROWDOWN
); _cimg_£t_key(
ARROWRIGHT
);

7404 
_cimg_£t_key
(
PAD0
); _cimg_£t_key(
PAD1
); _cimg_£t_key(
PAD2
);

7405 
_cimg_£t_key
(
PAD3
); _cimg_£t_key(
PAD4
); _cimg_£t_key(
PAD5
);

7406 
_cimg_£t_key
(
PAD6
); _cimg_£t_key(
PAD7
); _cimg_£t_key(
PAD8
);

7407 
_cimg_£t_key
(
PAD9
); _cimg_£t_key(
PADADD
); _cimg_£t_key(
PADSUB
);

7408 
_cimg_£t_key
(
PADMUL
); _cimg_£t_key(
PADDIV
);

7409 i‡(
	gis_¥es£d
) {

7410 i‡(*
	g_keys
)

7411 
	g°d
::
memmove
((*)(
_keys
+1),(*)_keys,(_keys) - ());

7412 *
	g_keys
 = 
keycode
;

7413 i‡(*
	g_ªÀa£d_keys
) {

7414 
	g°d
::
memmove
((*)(
_ªÀa£d_keys
+1),(*)_released_keys,(_released_keys) - ());

7415 *
	g_ªÀa£d_keys
 = 0;

7418 i‡(*
	g_keys
) {

7419 
	g°d
::
memmove
((*)(
_keys
+1),(*)_keys,(_keys) - ());

7420 *
	g_keys
 = 0;

7422 i‡(*
	g_ªÀa£d_keys
)

7423 
	g°d
::
memmove
((*)(
_ªÀa£d_keys
+1),(*)_released_keys,(_released_keys) - ());

7424 *
	g_ªÀa£d_keys
 = 
keycode
;

7426 
	g_is_evít
 = 
keycode
?
åue
:
Ál£
;

7427 i‡(
	gkeycode
) {

7428 #i‡
cimg_di•œy
==1

7429 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7430 #ñi‡
cimg_di•œy
==2

7431 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

7434  *
	gthis
;

7441 
	gCImgDi•œy
& 
Êush
() {

7442 
£t_key
().
£t_buâ⁄
().
£t_whìl
();

7443 
	g_is_ªsized
 = 
_is_moved
 = 
_is_evít
 = 
Ál£
;

7444 
	g_Âs_timî
 = 
_Âs_‰ames
 = 
_timî
 = 0;

7445 
	g_Âs_Âs
 = 0;

7446  *
	gthis
;

7450 
	gCImgDi•œy
& 
waô
() {

7451 
waô
(*
this
);

7452  *
	gthis
;

7460 
	gCImgDi•œy
& 
waô
(c⁄° 
mûli£c⁄ds
) {

7461 
	gcimg
::
_waô
(
mûli£c⁄ds
,
_timî
);

7462  *
	gthis
;

7466 
waô
(
CImgDi•œy
& 
di•1
) {

7467 
	gdi•1
.
	g_is_evít
 = 
Ál£
;

7468 !
	gdi•1
.
	g_is_˛o£d
 && !di•1.
	g_is_evít
Ë
waô_Æl
();

7472 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
) {

7473 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
Ál£
;

7474 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_closed) &&

7475 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evítË
waô_Æl
();

7479 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
, CImgDi•œy& 
di•3
) {

7480 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
di•3
._is_evíà
Ál£
;

7481 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_˛o£d || !
	gdi•3
._is_closed) &&

7482 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evíà&& !
	gdi•3
._is_evítË
waô_Æl
();

7486 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
, CImgDi•œy& 
di•3
, CImgDi•œy& 
di•4
) {

7487 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
di•3
._is_evíà
di•4
._is_evíà
Ál£
;

7488 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_˛o£d || !
	gdi•3
._is_˛o£d || !
	gdi•4
._is_closed) &&

7489 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evíà&& !
	gdi•3
._is_evíà&& !
	gdi•4
._is_evítË
waô_Æl
();

7493 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
, CImgDi•œy& 
di•3
, CImgDi•œy& 
di•4
, CImgDi•œy& 
di•5
) {

7494 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
di•3
._is_evíà
di•4
._is_evíà
di•5
._is_evíà
Ál£
;

7495 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_˛o£d || !
	gdi•3
._is_˛o£d || !
	gdi•4
._is_˛o£d || !
	gdi•5
._is_closed) &&

7496 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evíà&& !
	gdi•3
._is_evíà&& !
	gdi•4
._is_evíà&& !
	gdi•5
._is_evítË
waô_Æl
();

7500 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
, CImgDi•œy& 
di•3
, CImgDi•œy& 
di•4
, CImgDi•œy& 
di•5
,

7501 
CImgDi•œy
& 
di•6
) {

7502 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
di•3
._is_evíà
di•4
._is_evíà
di•5
._is_event =

7503 
di•6
.
_is_evít
 = 
Ál£
;

7504 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_˛o£d || !
	gdi•3
._is_˛o£d || !
	gdi•4
._is_˛o£d || !
	gdi•5
._is_closed ||

7505 !
	gdi•6
.
	g_is_˛o£d
) &&

7506 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evíà&& !
	gdi•3
._is_evíà&& !
	gdi•4
._is_evíà&& !
	gdi•5
._is_event &&

7507 !
	gdi•6
.
	g_is_evít
Ë
waô_Æl
();

7511 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
, CImgDi•œy& 
di•3
, CImgDi•œy& 
di•4
, CImgDi•œy& 
di•5
,

7512 
CImgDi•œy
& 
di•6
, CImgDi•œy& 
di•7
) {

7513 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
di•3
._is_evíà
di•4
._is_evíà
di•5
._is_event =

7514 
di•6
.
_is_evít
 = 
di•7
._is_evíà
Ál£
;

7515 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_˛o£d || !
	gdi•3
._is_˛o£d || !
	gdi•4
._is_˛o£d || !
	gdi•5
._is_closed ||

7516 !
	gdi•6
.
	g_is_˛o£d
 || !
	gdi•7
._is_closed) &&

7517 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evíà&& !
	gdi•3
._is_evíà&& !
	gdi•4
._is_evíà&& !
	gdi•5
._is_event &&

7518 !
	gdi•6
.
	g_is_evít
 && !
	gdi•7
._is_evítË
waô_Æl
();

7522 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
, CImgDi•œy& 
di•3
, CImgDi•œy& 
di•4
, CImgDi•œy& 
di•5
,

7523 
CImgDi•œy
& 
di•6
, CImgDi•œy& 
di•7
, CImgDi•œy& 
di•8
) {

7524 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
di•3
._is_evíà
di•4
._is_evíà
di•5
._is_event =

7525 
di•6
.
_is_evít
 = 
di•7
._is_evíà
di•8
._is_evíà
Ál£
;

7526 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_˛o£d || !
	gdi•3
._is_˛o£d || !
	gdi•4
._is_˛o£d || !
	gdi•5
._is_closed ||

7527 !
	gdi•6
.
	g_is_˛o£d
 || !
	gdi•7
._is_˛o£d || !
	gdi•8
._is_closed) &&

7528 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evíà&& !
	gdi•3
._is_evíà&& !
	gdi•4
._is_evíà&& !
	gdi•5
._is_event &&

7529 !
	gdi•6
.
	g_is_evít
 && !
	gdi•7
._is_evíà&& !
	gdi•8
._is_evítË
waô_Æl
();

7533 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
, CImgDi•œy& 
di•3
, CImgDi•œy& 
di•4
, CImgDi•œy& 
di•5
,

7534 
CImgDi•œy
& 
di•6
, CImgDi•œy& 
di•7
, CImgDi•œy& 
di•8
, CImgDi•œy& 
di•9
) {

7535 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
di•3
._is_evíà
di•4
._is_evíà
di•5
._is_event =

7536 
di•6
.
_is_evít
 = 
di•7
._is_evíà
di•8
._is_evíà
di•9
._is_evíà
Ál£
;

7537 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_˛o£d || !
	gdi•3
._is_˛o£d || !
	gdi•4
._is_˛o£d || !
	gdi•5
._is_closed ||

7538 !
	gdi•6
.
	g_is_˛o£d
 || !
	gdi•7
._is_˛o£d || !
	gdi•8
._is_˛o£d || !
	gdi•9
._is_closed) &&

7539 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evíà&& !
	gdi•3
._is_evíà&& !
	gdi•4
._is_evíà&& !
	gdi•5
._is_event &&

7540 !
	gdi•6
.
	g_is_evít
 && !
	gdi•7
._is_evíà&& !
	gdi•8
._is_evíà&& !
	gdi•9
._is_evítË
waô_Æl
();

7544 
waô
(
CImgDi•œy
& 
di•1
, CImgDi•œy& 
di•2
, CImgDi•œy& 
di•3
, CImgDi•œy& 
di•4
, CImgDi•œy& 
di•5
,

7545 
CImgDi•œy
& 
di•6
, CImgDi•œy& 
di•7
, CImgDi•œy& 
di•8
, CImgDi•œy& 
di•9
, CImgDi•œy& 
di•10
) {

7546 
	gdi•1
.
	g_is_evít
 = 
di•2
.
_is_evít
 = 
di•3
._is_evíà
di•4
._is_evíà
di•5
._is_event =

7547 
di•6
.
_is_evít
 = 
di•7
._is_evíà
di•8
._is_evíà
di•9
._is_evíà
di•10
._is_evíà
Ál£
;

7548 (!
	gdi•1
.
	g_is_˛o£d
 || !
	gdi•2
._is_˛o£d || !
	gdi•3
._is_˛o£d || !
	gdi•4
._is_˛o£d || !
	gdi•5
._is_closed ||

7549 !
	gdi•6
.
	g_is_˛o£d
 || !
	gdi•7
._is_˛o£d || !
	gdi•8
._is_˛o£d || !
	gdi•9
._is_˛o£d || !
	gdi•10
._is_closed) &&

7550 !
	gdi•1
.
	g_is_evít
 && !
	gdi•2
._is_evíà&& !
	gdi•3
._is_evíà&& !
	gdi•4
._is_evíà&& !
	gdi•5
._is_event &&

7551 !
	gdi•6
.
	g_is_evít
 && !
	gdi•7
._is_evíà&& !
	gdi•8
._is_evíà&& !
	gdi•9
._is_evíà&& !
	gdi•10
._is_evítË
waô_Æl
();

7554 #i‡
cimg_di•œy
==0

7557 
waô_Æl
() {

7558  
_no_di•œy_ex˚±i⁄
();

7569 
	gãm∂©e
<
ty≥«me
 
	gT
>

7570 
	gCImgDi•œy
& 
ªndî
(c⁄° 
CImg
<
T
>& 
img
) {

7571  
assign
(
img
);

7580 
	gCImgDi•œy
& 
∑öt
() {

7581  
assign
();

7588 
	gãm∂©e
<
ty≥«me
 
	gT
>

7589 c⁄° 
	gCImgDi•œy
& 
¢≠shŸ
(
CImg
<
T
>& 
img
) const {

7590 
	gcimg
::
unu£d
(
img
);

7591 
_no_di•œy_ex˚±i⁄
();

7592  *
	gthis
;

7598 #i‡
cimg_di•œy
==1

7600 
Atom
 
	g_wm_wödow_©om
, 
	g_wm_¥Ÿocﬁ_©om
;

7601 
Wödow
 
	g_wödow
, 
	g_background_wödow
;

7602 
Cﬁ‹m≠
 
	g_cﬁ‹m≠
;

7603 
XImage
 *
	g_image
;

7604 *
	g_d©a
;

7605 #ifde‡
cimg_u£_xshm


7606 
XShmSegmítInfo
 *
	g_shmöfo
;

7609 
s¸ìn_width
() {

7610 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7611 
	gªs
 = 0;

7612 i‡(!
	gdpy
) {

7613 
Di•œy
 *c⁄° 
	g_dpy
 = 
XO≥nDi•œy
(0);

7614 i‡(!
	g_dpy
)

7615 
throw
 
CImgDi•œyEx˚±i⁄
("CImgDisplay::screen_width(): FailedÅo open X11 display.");

7616 
	gªs
 = 
Di•œyWidth
(
_dpy
,
DeÁu…S¸ìn
(_dpy));

7617 
XClo£Di•œy
(
_dpy
);

7619 #ifde‡
cimg_u£_xøndr


7620 i‡(
	gcimg
::
X11_©å
().
ªsﬁuti⁄s
 && 
cimg
::X11_©å().
cuº_ªsﬁuti⁄
)

7621 
ªs
 = 
cimg
::
X11_©å
().
ªsﬁuti⁄s
[cimg::X11_©å().
cuº_ªsﬁuti⁄
].
width
;

7622 
	gªs
 = 
Di•œyWidth
(
dpy
,
DeÁu…S¸ìn
(dpy));

7624 
	gªs
 = 
Di•œyWidth
(
dpy
,
DeÁu…S¸ìn
(dpy));

7627  
	gªs
;

7630 
s¸ìn_height
() {

7631 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7632 
	gªs
 = 0;

7633 i‡(!
	gdpy
) {

7634 
Di•œy
 *c⁄° 
	g_dpy
 = 
XO≥nDi•œy
(0);

7635 i‡(!
	g_dpy
)

7636 
throw
 
CImgDi•œyEx˚±i⁄
("CImgDisplay::screen_height(): FailedÅo open X11 display.");

7637 
	gªs
 = 
Di•œyHeight
(
_dpy
,
DeÁu…S¸ìn
(_dpy));

7638 
XClo£Di•œy
(
_dpy
);

7640 #ifde‡
cimg_u£_xøndr


7641 i‡(
	gcimg
::
X11_©å
().
ªsﬁuti⁄s
 && 
cimg
::X11_©å().
cuº_ªsﬁuti⁄
)

7642 
ªs
 = 
cimg
::
X11_©å
().
ªsﬁuti⁄s
[cimg::X11_©å().
cuº_ªsﬁuti⁄
].
height
;

7643 
	gªs
 = 
Di•œyHeight
(
dpy
,
DeÁu…S¸ìn
(dpy));

7645 
	gªs
 = 
Di•œyHeight
(
dpy
,
DeÁu…S¸ìn
(dpy));

7648  
	gªs
;

7651 
waô_Æl
() {

7652 i‡(!
	gcimg
::
X11_©å
().
di•œy
) ;

7653 i‡(
	gcimg
::
muãx
(13,2)Ë{ cimg::
¶ìp
(10); ; }

7654 
±hªad_c⁄d_waô
(&
cimg
::
X11_©å
().
waô_evít
,&cimg::X11_©å().
waô_evít_muãx
);

7655 
	gcimg
::
muãx
(13,0);

7658 
_h™dÀ_evíts
(c⁄° 
XEvít
 *c⁄° 
≥vít
) {

7659 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7660 
XEvít
 
	gevít
 = *
≥vít
;

7661 
	gevít
.
	gty≥
) {

7662 
	gClõ¡Mesßge
 : {

7663 i‡(()
evít
.
x˛õ¡
.
mesßge_ty≥
==()
_wm_¥Ÿocﬁ_©om
 &&

7664 ()
evít
.
x˛õ¡
.
d©a
.
l
[0]==()
_wm_wödow_©om
) {

7665 
XUnm≠Wödow
(
cimg
::
X11_©å
().
di•œy
,
_wödow
);

7666 
	g_is_˛o£d
 = 
_is_evít
 = 
åue
;

7667 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7670 
	gC⁄figuªNŸify
 : {

7671 
XCheckWödowEvít
(
dpy
,
_wödow
,
Såu˘uªNŸifyMask
,&
evít
)) {}

7672 c⁄° 
	gnw
 = 
evít
.
xc⁄figuª
.
width
, 
	gnh
 =Évít.xc⁄figuª.
height
;

7673 c⁄° 
	gnx
 = 
evít
.
xc⁄figuª
.
x
, 
	gny
 =Évít.xc⁄figuª.
y
;

7674 i‡(
	gnw
 && 
	gnh
 && (nw!=
_wödow_width
 || 
nh
!=
_wödow_height
)) {

7675 
_wödow_width
 = 
nw
; 
	g_wödow_height
 = 
nh
; 
	g_mou£_x
 = 
_mou£_y
 = -1;

7676 
XResizeWödow
(
dpy
,
_wödow
,
_wödow_width
,
_wödow_height
);

7677 
	g_is_ªsized
 = 
_is_evít
 = 
åue
;

7678 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7680 i‡(
	gnx
!=
_wödow_x
 || 
ny
!=
_wödow_y
) {

7681 
_wödow_x
 = 
nx
; 
	g_wödow_y
 = 
ny
; 
	g_is_moved
 = 
_is_evít
 = 
åue
;

7682 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7685 
	gExpo£
 : {

7686 
XCheckWödowEvít
(
dpy
,
_wödow
,
ExposuªMask
,&
evít
)) {}

7687 
_∑öt
(
Ál£
);

7688 i‡(
	g_is_fuŒs¸ìn
) {

7689 
XWödowAâribuãs
 
	g©å
;

7690 
XGëWödowAâribuãs
(
dpy
,
_wödow
,&
©å
);

7691 
	g©å
.
	gm≠_°©e
!=
IsVõwabÀ
Ë
XSync
(
dpy
,0);

7692 
XSëI≈utFocus
(
dpy
,
_wödow
,
RevîtToP¨ít
,
CuºítTime
);

7695 
	gBuâ⁄Pªss
 : {

7697 
_mou£_x
 = 
evít
.
xmŸi⁄
.
x
; 
	g_mou£_y
 =Évít.xmŸi⁄.
y
;

7698 i‡(
	g_mou£_x
<0 || 
	g_mou£_y
<0 || _mou£_x>=
width
(Ë|| 
_mou£_y
>=
height
()Ë
_mou£_x
 = _mouse_y = -1;

7699 
	gevít
.
	gxbuâ⁄
.
	gbuâ⁄
) {

7700 1 : 
£t_buâ⁄
(1); ;

7701 3 : 
£t_buâ⁄
(2); ;

7702 2 : 
£t_buâ⁄
(3); ;

7704 } 
XCheckWödowEvít
(
dpy
,
_wödow
,
Buâ⁄PªssMask
,&
evít
));

7706 
	gBuâ⁄Rñó£
 : {

7708 
_mou£_x
 = 
evít
.
xmŸi⁄
.
x
; 
	g_mou£_y
 =Évít.xmŸi⁄.
y
;

7709 i‡(
	g_mou£_x
<0 || 
	g_mou£_y
<0 || _mou£_x>=
width
(Ë|| 
_mou£_y
>=
height
()Ë
_mou£_x
 = _mouse_y = -1;

7710 
	gevít
.
	gxbuâ⁄
.
	gbuâ⁄
) {

7711 1 : 
£t_buâ⁄
(1,
Ál£
); ;

7712 3 : 
£t_buâ⁄
(2,
Ál£
); ;

7713 2 : 
£t_buâ⁄
(3,
Ál£
); ;

7714 4 : 
£t_whìl
(1); ;

7715 5 : 
£t_whìl
(-1); ;

7717 } 
XCheckWödowEvít
(
dpy
,
_wödow
,
Buâ⁄Rñó£Mask
,&
evít
));

7719 
	gKeyPªss
 : {

7720 
tmp
 = 0; 
KeySym
 
	gksym
;

7721 
XLookupSåög
(&
evít
.
xkey
,&
tmp
,1,&
ksym
,0);

7722 
£t_key
(()
ksym
,
åue
);

7724 
	gKeyRñó£
 : {

7725 
keys_ªtu∫
[32];

7726 
XQuîyKeym≠
(
dpy
,
keys_ªtu∫
);

7727 c⁄° 
	gkc
 = 
evít
.
xkey
.
keycode
, 
	gkc1
 = 
kc
/8, 
	gkc2
 = kc%8;

7728 c⁄° 
boﬁ
 
	gis_key_¥es£d
 = 
kc1
>=32?
Ál£
:(
keys_ªtu∫
[kc1]>>
kc2
)&1;

7729 i‡(!
	gis_key_¥es£d
) {

7730 
	gtmp
 = 0; 
KeySym
 
	gksym
;

7731 
XLookupSåög
(&
evít
.
xkey
,&
tmp
,1,&
ksym
,0);

7732 
£t_key
(()
ksym
,
Ál£
);

7735 
	gE¡îNŸify
: {

7736 
XCheckWödowEvít
(
dpy
,
_wödow
,
E¡îWödowMask
,&
evít
)) {}

7737 
	g_mou£_x
 = 
evít
.
xmŸi⁄
.
x
;

7738 
	g_mou£_y
 = 
evít
.
xmŸi⁄
.
y
;

7739 i‡(
	g_mou£_x
<0 || 
	g_mou£_y
<0 || _mou£_x>=
width
(Ë|| 
_mou£_y
>=
height
()Ë
_mou£_x
 = _mouse_y = -1;

7741 
	gLóveNŸify
 : {

7742 
XCheckWödowEvít
(
dpy
,
_wödow
,
LóveWödowMask
,&
evít
)) {}

7743 
	g_mou£_x
 = 
_mou£_y
 =-1; 
	g_is_evít
 = 
åue
;

7744 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7746 
	gMŸi⁄NŸify
 : {

7747 
XCheckWödowEvít
(
dpy
,
_wödow
,
PoöãrMŸi⁄Mask
,&
evít
)) {}

7748 
	g_mou£_x
 = 
evít
.
xmŸi⁄
.
x
;

7749 
	g_mou£_y
 = 
evít
.
xmŸi⁄
.
y
;

7750 i‡(
	g_mou£_x
<0 || 
	g_mou£_y
<0 || _mou£_x>=
width
(Ë|| 
_mou£_y
>=
height
()Ë
_mou£_x
 = _mouse_y = -1;

7751 
	g_is_evít
 = 
åue
;

7752 
±hªad_c⁄d_brﬂdˇ°
(&
cimg
::
X11_©å
().
waô_evít
);

7757 * 
_evíts_thªad
(*) {

7758 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7759 
XEvít
 
	gevít
;

7760 
±hªad_£tˇn˚…y≥
(
PTHREAD_CANCEL_DEFERRED
,0);

7761 
±hªad_£tˇn˚l°©e
(
PTHREAD_CANCEL_ENABLE
,0);

7763 
XLockDi•œy
(
dpy
);

7764 
boﬁ
 
	gevít_Êag
 = 
XCheckTy≥dEvít
(
dpy
,
Clõ¡Mesßge
,&
evít
);

7765 i‡(!
	gevít_Êag
Ëevít_Êag = 
XCheckMaskEvít
(
dpy
,

7766 
ExposuªMask
 | 
Såu˘uªNŸifyMask
 | 
Buâ⁄PªssMask
 |

7767 
KeyPªssMask
 | 
PoöãrMŸi⁄Mask
 | 
E¡îWödowMask
 | 
LóveWödowMask
|

7768 
Buâ⁄Rñó£Mask
 | 
KeyRñó£Mask
,&
evít
);

7769 i‡(
	gevít_Êag
)

7770 
	gi
 = 0; i<
	gcimg
::
X11_©å
().
nb_wös
; ++i)

7771 i‡(!
	gcimg
::
X11_©å
().
wös
[
i
]->
_is_˛o£d
 && 
evít
.
x™y
.
wödow
==
cimg
::X11_©å().wös[i]->
_wödow
)

7772 
cimg
::
X11_©å
().
wös
[
i
]->
_h™dÀ_evíts
(&
evít
);

7773 
XU∆ockDi•œy
(
dpy
);

7774 
±hªad_ã°ˇn˚l
();

7775 
	gcimg
::
¶ìp
(8);

7780 
_£t_cﬁ‹m≠
(
Cﬁ‹m≠
& 
_cﬁ‹m≠
, c⁄° 
dim
) {

7781 
XCﬁ‹
 
	gcﬁ‹m≠
[256];

7782 
	gdim
) {

7784 
ödex
 = 0; 
	gödex
<256; ++index) {

7785 
	gcﬁ‹m≠
[
ödex
].
	gpixñ
 = index;

7786 
	gcﬁ‹m≠
[
ödex
].
	gªd
 = 
cﬁ‹m≠
[ödex].
gªí
 = cﬁ‹m≠[ödex].
blue
 = ()(index<<8);

7787 
	gcﬁ‹m≠
[
ödex
].
	gÊags
 = 
DoRed
 | 
DoGªí
 | 
DoBlue
;

7791 
ödex
 = 0, 
	gr
 = 8;Ñ<256;Ñ+=16)

7792 
g
 = 8; 
	gg
<256; g+=16) {

7793 
cﬁ‹m≠
[
ödex
].
pixñ
 = index;

7794 
	gcﬁ‹m≠
[
ödex
].
	gªd
 = 
cﬁ‹m≠
[ödex].
blue
 = ()(
r
<<8);

7795 
	gcﬁ‹m≠
[
ödex
].
	ggªí
 = ()(
g
<<8);

7796 
	gcﬁ‹m≠
[
ödex
++].
	gÊags
 = 
DoRed
 | 
DoGªí
 | 
DoBlue
;

7800 
ödex
 = 0, 
	gr
 = 16;Ñ<256;Ñ+=32)

7801 
g
 = 16; 
	gg
<256; g+=32)

7802 
b
 = 32; 
	gb
<256; b+=64) {

7803 
cﬁ‹m≠
[
ödex
].
pixñ
 = index;

7804 
	gcﬁ‹m≠
[
ödex
].
	gªd
 = ()(
r
<<8);

7805 
	gcﬁ‹m≠
[
ödex
].
	ggªí
 = ()(
g
<<8);

7806 
	gcﬁ‹m≠
[
ödex
].
	gblue
 = ()(
b
<<8);

7807 
	gcﬁ‹m≠
[
ödex
++].
	gÊags
 = 
DoRed
 | 
DoGªí
 | 
DoBlue
;

7811 
XSt‹eCﬁ‹s
(
cimg
::
X11_©å
().
di•œy
,
_cﬁ‹m≠
,
cﬁ‹m≠
,256);

7814 
_m≠_wödow
() {

7815 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7816 
boﬁ
 
	gis_expo£d
 = 
Ál£
, 
	gis_m≠≥d
 = false;

7817 
XWödowAâribuãs
 
	g©å
;

7818 
XEvít
 
	gevít
;

7819 
XM≠Rai£d
(
dpy
,
_wödow
);

7821 
XWödowEvít
(
dpy
,
_wödow
,
Såu˘uªNŸifyMask
 | 
ExposuªMask
,&
evít
);

7822 
	gevít
.
	gty≥
) {

7823 
	gM≠NŸify
 : 
is_m≠≥d
 = 
åue
; ;

7824 
	gExpo£
 : 
is_expo£d
 = 
åue
; ;

7826 } !
	gis_expo£d
 || !
	gis_m≠≥d
);

7828 
XGëWödowAâribuãs
(
dpy
,
_wödow
,&
©å
);

7829 i‡(
	g©å
.
	gm≠_°©e
!=
IsVõwabÀ
Ë{ 
XSync
(
dpy
,0); 
	gcimg
::
¶ìp
(10); }

7830 } 
	g©å
.
	gm≠_°©e
!=
IsVõwabÀ
);

7831 
	g_wödow_x
 = 
©å
.
x
;

7832 
	g_wödow_y
 = 
©å
.
y
;

7835 
_∑öt
(c⁄° 
boﬁ
 
waô_expo£
=
åue
) {

7836 i‡(
_is_˛o£d
 || !
_image
) ;

7837 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7838 i‡(
	gwaô_expo£
) {

7839 
XEvít
 
	gevít
;

7840 
	gevít
.
	gxexpo£
.
	gty≥
 = 
Expo£
;

7841 
	gevít
.
	gxexpo£
.
	g£rül
 = 0;

7842 
	gevít
.
	gxexpo£
.
	g£nd_evít
 = 1;

7843 
	gevít
.
	gxexpo£
.
	gdi•œy
 = 
dpy
;

7844 
	gevít
.
	gxexpo£
.
	gwödow
 = 
_wödow
;

7845 
	gevít
.
	gxexpo£
.
	gx
 = 0;

7846 
	gevít
.
	gxexpo£
.
	gy
 = 0;

7847 
	gevít
.
	gxexpo£
.
	gwidth
 = 
width
();

7848 
	gevít
.
	gxexpo£
.
	gheight
 = 
height
();

7849 
	gevít
.
	gxexpo£
.
	gcou¡
 = 0;

7850 
XSídEvít
(
dpy
,
_wödow
,0,0,&
evít
);

7852 
GC
 
	ggc
 = 
DeÁu…GC
(
dpy
,
DeÁu…S¸ìn
(dpy));

7853 #ifde‡
cimg_u£_xshm


7854 i‡(
	g_shmöfo
Ë
XShmPutImage
(
dpy
,
_wödow
,
gc
,
_image
,0,0,0,0,
_width
,
_height
,1);

7855 
XPutImage
(
dpy
,
_wödow
,
gc
,
_image
,0,0,0,0,
_width
,
_height
);

7857 
XPutImage
(
dpy
,
_wödow
,
gc
,
_image
,0,0,0,0,
_width
,
_height
);

7862 
	gãm∂©e
<
ty≥«me
 
	gT
>

7863 
_ªsize
(
T
 
pixñ_ty≥
, c⁄° 
ndimx
, c⁄° 
ndimy
, c⁄° 
boﬁ
 
f‹˚_ªdøw
) {

7864 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7865 
	gcimg
::
unu£d
(
pixñ_ty≥
);

7867 #ifde‡
cimg_u£_xshm


7868 i‡(
	g_shmöfo
) {

7869 
XShmSegmítInfo
 *c⁄° 
	gnshmöfo
 = 
√w
 XShmSegmentInfo;

7870 
XImage
 *c⁄° 
	gnimage
 = 
XShmCª©eImage
(
dpy
,
DeÁu…VisuÆ
(dpy,
DeÁu…S¸ìn
(dpy)),

7871 
cimg
::
X11_©å
().
nb_bôs
,
ZPixm≠
,0,
nshmöfo
,
ndimx
,
ndimy
);

7872 i‡(!
	gnimage
Ë{ 
dñëe
 
	gnshmöfo
; ; }

7874 
	gnshmöfo
->
	gshmid
 = 
shmgë
(
IPC_PRIVATE
,
ndimx
*
ndimy
*(
T
),
IPC_CREAT
 | 0777);

7875 i‡(
	gnshmöfo
->
	gshmid
==-1Ë{ 
XDe°royImage
(
nimage
); 
dñëe
Çshminfo; ; }

7877 
	gnshmöfo
->
	gshmaddr
 = 
nimage
->
d©a
 = (*)
shm©
(
nshmöfo
->
shmid
,0,0);

7878 i‡(
	gnshmöfo
->
	gshmaddr
==(*)-1Ë{ 
shm˘l
(
nshmöfo
->
shmid
,
IPC_RMID
,0); 
XDe°royImage
(
nimage
); 
dñëe
Çshminfo; ; }

7880 
	gnshmöfo
->
	gªadO∆y
 = 0;

7881 
	gcimg
::
X11_©å
().
is_shm_íabÀd
 = 
åue
;

7882 
XEº‹H™dÀr
 
	gﬁdXEº‹H™dÀr
 = 
XSëEº‹H™dÀr
(
_assign_xshm
);

7883 
XShmAâach
(
dpy
,
nshmöfo
);

7884 
XFlush
(
dpy
);

7885 
XSëEº‹H™dÀr
(
ﬁdXEº‹H™dÀr
);

7886 i‡(!
	gcimg
::
X11_©å
().
is_shm_íabÀd
) {

7887 
shmdt
(
nshmöfo
->
shmaddr
);

7888 
shm˘l
(
nshmöfo
->
shmid
,
IPC_RMID
,0);

7889 
XDe°royImage
(
nimage
);

7890 
dñëe
 
	gnshmöfo
;

7893 
T
 *c⁄° 
	gnd©a
 = (T*)
nimage
->
d©a
;

7894 i‡(
	gf‹˚_ªdøw
Ë
_ªndî_ªsize
((
T
*)
_d©a
,
_width
,
_height
,
nd©a
,
ndimx
,
ndimy
);

7895 
	g°d
::
mem£t
(
nd©a
,0,(
T
)*
ndimx
*
ndimy
);

7896 
XShmDëach
(
dpy
,
_shmöfo
);

7897 
XDe°royImage
(
_image
);

7898 
shmdt
(
_shmöfo
->
shmaddr
);

7899 
shm˘l
(
_shmöfo
->
shmid
,
IPC_RMID
,0);

7900 
dñëe
 
	g_shmöfo
;

7901 
	g_shmöfo
 = 
nshmöfo
;

7902 
	g_image
 = 
nimage
;

7903 
	g_d©a
 = (*)
nd©a
;

7911 
T
 *
	gnd©a
 = (T*)
°d
::
mÆloc
(
ndimx
*
ndimy
*(T));

7912 i‡(
	gf‹˚_ªdøw
Ë
_ªndî_ªsize
((
T
*)
_d©a
,
_width
,
_height
,
nd©a
,
ndimx
,
ndimy
);

7913 
	g°d
::
mem£t
(
nd©a
,0,(
T
)*
ndimx
*
ndimy
);

7914 
	g_d©a
 = (*)
nd©a
;

7915 
XDe°royImage
(
_image
);

7916 
	g_image
 = 
XCª©eImage
(
dpy
,
DeÁu…VisuÆ
(dpy,
DeÁu…S¸ìn
(dpy)),

7917 
cimg
::
X11_©å
().
nb_bôs
,
ZPixm≠
,0,(*)
_d©a
,
ndimx
,
ndimy
,8,0);

7921 
_öô_fuŒs¸ìn
() {

7922 i‡(!
	g_is_fuŒs¸ìn
 || 
	g_is_˛o£d
) ;

7923 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7924 
	g_background_wödow
 = 0;

7926 #ifde‡
cimg_u£_xøndr


7927 
	gfoo
;

7928 i‡(
XRRQuîyExãnsi⁄
(
dpy
,&
foo
,&foo)) {

7929 
XRRRŸ©i⁄s
(
dpy
,
DeÁu…S¸ìn
(dpy),&
cimg
::
X11_©å
().
cuº_rŸ©i⁄
);

7930 i‡(!
	gcimg
::
X11_©å
().
ªsﬁuti⁄s
) {

7931 
cimg
::
X11_©å
().
ªsﬁuti⁄s
 = 
XRRSizes
(
dpy
,
DeÁu…S¸ìn
(dpy),&
foo
);

7932 
	gcimg
::
X11_©å
().
nb_ªsﬁuti⁄s
 = ()
foo
;

7934 i‡(
	gcimg
::
X11_©å
().
ªsﬁuti⁄s
) {

7935 
cimg
::
X11_©å
().
cuº_ªsﬁuti⁄
 = 0;

7936 
	gi
 = 0; i<
	gcimg
::
X11_©å
().
nb_ªsﬁuti⁄s
; ++i) {

7938 
	gnw
 = ()(
cimg
::
X11_©å
().
ªsﬁuti⁄s
[
i
].
width
),

7939 
	gnh
 = ()(
cimg
::
X11_©å
().
ªsﬁuti⁄s
[
i
].
height
);

7940 i‡(
	gnw
>=
_width
 && 
nh
>=
_height
 &&

7941 
nw
<=()(
cimg
::
X11_©å
().
ªsﬁuti⁄s
[cimg::X11_©å().
cuº_ªsﬁuti⁄
].
width
) &&

7942 
nh
<=()(
cimg
::
X11_©å
().
ªsﬁuti⁄s
[cimg::X11_©å().
cuº_ªsﬁuti⁄
].
height
))

7943 
cimg
::
X11_©å
().
cuº_ªsﬁuti⁄
 = 
i
;

7945 i‡(
	gcimg
::
X11_©å
().
cuº_ªsﬁuti⁄
>0) {

7946 
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
 = 
XRRGëS¸ìnInfo
(
dpy
,
DeÁu…RoŸWödow
(dpy));

7947 
XRRSëS¸ìnC⁄fig
(
dpy
,
c⁄fig
,
DeÁu…RoŸWödow
(dpy),

7948 
cimg
::
X11_©å
().
cuº_ªsﬁuti⁄
,cimg::X11_©å().
cuº_rŸ©i⁄
,
CuºítTime
);

7949 
XRRFªeS¸ìnC⁄figInfo
(
c⁄fig
);

7950 
XSync
(
dpy
,0);

7954 i‡(!
	gcimg
::
X11_©å
().
ªsﬁuti⁄s
)

7955 
cimg
::
w¨n
(
_cimgdi•œy_ö°™˚


7957 
cimgdi•œy_ö°™˚
);

7960 c⁄° 
	gsx
 = 
s¸ìn_width
(), 
	gsy
 = 
s¸ìn_height
();

7961 i‡(
	gsx
==
_width
 && 
sy
==
_height
) ;

7962 
XSëWödowAâribuãs
 
	gwö©å
;

7963 
	gwö©å
.
	govîride_ªdúe˘
 = 1;

7964 
	g_background_wödow
 = 
XCª©eWödow
(
dpy
,
DeÁu…RoŸWödow
(dpy),0,0,
sx
,
sy
,0,0,

7965 
I≈utOuçut
,
C›yFromP¨ít
,
CWOvîrideRedúe˘
,&
wö©å
);

7966 c⁄° 
	gbuf_size
 = ()
sx
*
sy
*(
cimg
::
X11_©å
().
nb_bôs
==8?1:(cimg::X11_attr().nb_bits==16?2:4));

7967 *
	gbackground_d©a
 = 
°d
::
mÆloc
(
buf_size
);

7968 
	g°d
::
mem£t
(
background_d©a
,0,
buf_size
);

7969 
XImage
 *
	gbackground_image
 = 
XCª©eImage
(
dpy
,
DeÁu…VisuÆ
(dpy,
DeÁu…S¸ìn
(dpy)),
cimg
::
X11_©å
().
nb_bôs
,

7970 
ZPixm≠
,0,(*)
background_d©a
,
sx
,
sy
,8,0);

7971 
XEvít
 
	gevít
;

7972 
XSñe˘I≈ut
(
dpy
,
_background_wödow
,
Såu˘uªNŸifyMask
);

7973 
XM≠Rai£d
(
dpy
,
_background_wödow
);

7974 dÿ
XWödowEvít
(
dpy
,
_background_wödow
,
Såu˘uªNŸifyMask
,&
evít
);

7975 
	gevít
.
	gty≥
!=
M≠NŸify
);

7976 
GC
 
	ggc
 = 
DeÁu…GC
(
dpy
,
DeÁu…S¸ìn
(dpy));

7977 #ifde‡
cimg_u£_xshm


7978 i‡(
	g_shmöfo
Ë
XShmPutImage
(
dpy
,
_background_wödow
,
gc
,
background_image
,0,0,0,0,
sx
,
sy
,0);

7979 
XPutImage
(
dpy
,
_background_wödow
,
gc
,
background_image
,0,0,0,0,
sx
,
sy
);

7981 
XPutImage
(
dpy
,
_background_wödow
,
gc
,
background_image
,0,0,0,0,
sx
,
sy
);

7983 
XWödowAâribuãs
 
	g©å
;

7984 
XGëWödowAâribuãs
(
dpy
,
_background_wödow
,&
©å
);

7985 
	g©å
.
	gm≠_°©e
!=
IsVõwabÀ
Ë
XSync
(
dpy
,0);

7986 
XDe°royImage
(
background_image
);

7989 
_desöô_fuŒs¸ìn
() {

7990 i‡(!
	g_is_fuŒs¸ìn
) ;

7991 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

7992 
XUngøbKeybﬂrd
(
dpy
,
CuºítTime
);

7993 #ifde‡
cimg_u£_xøndr


7994 i‡(
	gcimg
::
X11_©å
().
ªsﬁuti⁄s
 && 
cimg
::X11_©å().
cuº_ªsﬁuti⁄
) {

7995 
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
 = 
XRRGëS¸ìnInfo
(
dpy
,
DeÁu…RoŸWödow
(dpy));

7996 
XRRSëS¸ìnC⁄fig
(
dpy
,
c⁄fig
,
DeÁu…RoŸWödow
(dpy),0,
cimg
::
X11_©å
().
cuº_rŸ©i⁄
,
CuºítTime
);

7997 
XRRFªeS¸ìnC⁄figInfo
(
c⁄fig
);

7998 
XSync
(
dpy
,0);

7999 
	gcimg
::
X11_©å
().
cuº_ªsﬁuti⁄
 = 0;

8002 i‡(
	g_background_wödow
Ë
XDe°royWödow
(
dpy
,
_background_wödow
);

8003 
	g_background_wödow
 = 0;

8004 
	g_is_fuŒs¸ìn
 = 
Ál£
;

8007 
_assign_xshm
(
Di•œy
 *
dpy
, 
XEº‹Evít
 *
îr‹
) {

8008 
	gcimg
::
unu£d
(
dpy
,
îr‹
);

8009 
	gcimg
::
X11_©å
().
is_shm_íabÀd
 = 
Ál£
;

8013 
_assign
(c⁄° 
dimw
, c⁄° 
dimh
, c⁄° *c⁄° 
±ôÀ
=0,

8014 c⁄° 
n‹mÆiz©i⁄_ty≥
=3,

8015 c⁄° 
boﬁ
 
fuŒs¸ìn_Êag
=
Ál£
, c⁄° boﬁ 
˛o£d_Êag
=false) {

8016 
cimg
::
muãx
(14);

8019 c⁄° *c⁄° 
	g≈tôÀ
 = 
±ôÀ
?ptitle:"";

8020 c⁄° 
	gs
 = 
°d
::
°æí
(
≈tôÀ
) + 1;

8021 *c⁄° 
	gtmp_tôÀ
 = 
s
?
√w
 [s]:0;

8022 i‡(
	gs
Ë
	g°d
::
mem˝y
(
tmp_tôÀ
,
≈tôÀ
,
s
*());

8025 i‡(!
is_em±y
()Ë
assign
();

8028 
	gDi•œy
* &
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8029 i‡(!
	gdpy
) {

8030 
	gdpy
 = 
XO≥nDi•œy
(0);

8031 i‡(!
	gdpy
)

8032 
throw
 
CImgDi•œyEx˚±i⁄
(
_cimgdi•œy_ö°™˚


8034 
cimgdi•œy_ö°™˚
);

8036 
	gcimg
::
X11_©å
().
nb_bôs
 = 
DeÁu…Dïth
(
dpy
,
DeÁu…S¸ìn
(dpy));

8037 i‡(
	gcimg
::
X11_©å
().
nb_bôs
!=8 && 
cimg
::X11_attr().nb_bits!=16 && cimg::X11_attr().nb_bits!=24 && cimg::X11_attr().nb_bits!=32)

8038 
throw
 
CImgDi•œyEx˚±i⁄
(
_cimgdi•œy_ö°™˚


8041 
cimgdi•œy_ö°™˚
,

8042 
cimg
::
X11_©å
().
nb_bôs
);

8043 
XVisuÆInfo
 
	gvãm∂©e
;

8044 
	gvãm∂©e
.
	gvisuÆid
 = 
XVisuÆIDFromVisuÆ
(
DeÁu…VisuÆ
(
dpy
,
DeÁu…S¸ìn
(dpy)));

8045 
	gnb_visuÆs
;

8046 
XVisuÆInfo
 *
	gvöfo
 = 
XGëVisuÆInfo
(
dpy
,
VisuÆIDMask
,&
vãm∂©e
,&
nb_visuÆs
);

8047 i‡(
	gvöfo
 && vöfo->
	gªd_mask
<vöfo->
	gblue_mask
Ë
	gcimg
::
X11_©å
().
is_blue_fú°
 = 
åue
;

8048 
	gcimg
::
X11_©å
().
byã_‹dî
 = 
ImageByãOrdî
(
dpy
);

8049 
XFªe
(
vöfo
);

8051 
XLockDi•œy
(
dpy
);

8052 
	gcimg
::
X11_©å
().
evíts_thªad
 = 
√w
 
±hªad_t
;

8053 
±hªad_¸óã
(
cimg
::
X11_©å
().
evíts_thªad
,0,
_evíts_thªad
,0);

8054 } 
XLockDi•œy
(
dpy
);

8057 
	g_width
 = 
cimg
::
mö
(
dimw
,()
s¸ìn_width
());

8058 
	g_height
 = 
cimg
::
mö
(
dimh
,()
s¸ìn_height
());

8059 
	g_n‹mÆiz©i⁄
 = 
n‹mÆiz©i⁄_ty≥
<4?normalization_type:3;

8060 
	g_is_fuŒs¸ìn
 = 
fuŒs¸ìn_Êag
;

8061 
	g_wödow_x
 = 
_wödow_y
 = 0;

8062 
	g_is_˛o£d
 = 
˛o£d_Êag
;

8063 
	g_tôÀ
 = 
tmp_tôÀ
;

8064 
Êush
();

8067 i‡(
	g_is_fuŒs¸ìn
) {

8068 i‡(!
	g_is_˛o£d
Ë
_öô_fuŒs¸ìn
();

8069 c⁄° 
	gsx
 = 
s¸ìn_width
(), 
	gsy
 = 
s¸ìn_height
();

8070 
XSëWödowAâribuãs
 
	gwö©å
;

8071 
	gwö©å
.
	govîride_ªdúe˘
 = 1;

8072 
	g_wödow
 = 
XCª©eWödow
(
dpy
,
DeÁu…RoŸWödow
(dpy),(
sx
-
_width
)/2,(
sy
-
_height
)/2,_width,_height,0,0,

8073 
I≈utOuçut
,
C›yFromP¨ít
,
CWOvîrideRedúe˘
,&
wö©å
);

8075 
	g_wödow
 = 
XCª©eSim∂eWödow
(
dpy
,
DeÁu…RoŸWödow
(dpy),0,0,
_width
,
_height
,0,0L,0L);

8077 
XSñe˘I≈ut
(
dpy
,
_wödow
,

8078 
ExposuªMask
 | 
Såu˘uªNŸifyMask
 | 
Buâ⁄PªssMask
 | 
KeyPªssMask
 | 
PoöãrMŸi⁄Mask
 |

8079 
E¡îWödowMask
 | 
LóveWödowMask
 | 
Buâ⁄Rñó£Mask
 | 
KeyRñó£Mask
);

8081 
XSt‹eName
(
dpy
,
_wödow
,
_tôÀ
?_title:" ");

8082 i‡(
	gcimg
::
X11_©å
().
nb_bôs
==8) {

8083 
_cﬁ‹m≠
 = 
XCª©eCﬁ‹m≠
(
dpy
,
_wödow
,
DeÁu…VisuÆ
(dpy,
DeÁu…S¸ìn
(dpy)),
AŒocAŒ
);

8084 
_£t_cﬁ‹m≠
(
_cﬁ‹m≠
,3);

8085 
XSëWödowCﬁ‹m≠
(
dpy
,
_wödow
,
_cﬁ‹m≠
);

8088 c⁄° *c⁄° 
	g_wödow_˛ass
 = 
cimg_≠≤ame
;

8089 
XCœssHöt
 *c⁄° 
	gwödow_˛ass
 = 
XAŒocCœssHöt
();

8090 
	gwödow_˛ass
->
	gªs_«me
 = (*)
_wödow_˛ass
;

8091 
	gwödow_˛ass
->
	gªs_˛ass
 = (*)
_wödow_˛ass
;

8092 
XSëCœssHöt
(
dpy
,
_wödow
,
wödow_˛ass
);

8093 
XFªe
(
wödow_˛ass
);

8095 
	g_wödow_width
 = 
_width
;

8096 
	g_wödow_height
 = 
_height
;

8099 #ifde‡
cimg_u£_xshm


8100 
	g_shmöfo
 = 0;

8101 i‡(
XShmQuîyExãnsi⁄
(
dpy
)) {

8102 
	g_shmöfo
 = 
√w
 
XShmSegmítInfo
;

8103 
	g_image
 = 
XShmCª©eImage
(
dpy
,
DeÁu…VisuÆ
(dpy,
DeÁu…S¸ìn
(dpy)),
cimg
::
X11_©å
().
nb_bôs
,
ZPixm≠
,0,
_shmöfo
,
_width
,
_height
);

8104 i‡(!
	g_image
Ë{ 
dñëe
 
	g_shmöfo
; _shminfo = 0; }

8106 
	g_shmöfo
->
	gshmid
 = 
shmgë
(
IPC_PRIVATE
,
_image
->
byãs_≥r_löe
*_image->
height
,
IPC_CREAT
|0777);

8107 i‡(
	g_shmöfo
->
	gshmid
==-1Ë{ 
XDe°royImage
(
_image
); 
dñëe
 _shminfo; _shminfo = 0; }

8109 
	g_shmöfo
->
	gshmaddr
 = 
_image
->
d©a
 = (*)(
_d©a
 = 
shm©
(
_shmöfo
->
shmid
,0,0));

8110 i‡(
	g_shmöfo
->
	gshmaddr
==(*)-1Ë{ 
shm˘l
(
_shmöfo
->
shmid
,
IPC_RMID
,0); 
XDe°royImage
(
_image
); 
dñëe
 _shminfo; _shminfo = 0; }

8112 
	g_shmöfo
->
	gªadO∆y
 = 0;

8113 
	gcimg
::
X11_©å
().
is_shm_íabÀd
 = 
åue
;

8114 
XEº‹H™dÀr
 
	gﬁdXEº‹H™dÀr
 = 
XSëEº‹H™dÀr
(
_assign_xshm
);

8115 
XShmAâach
(
dpy
,
_shmöfo
);

8116 
XSync
(
dpy
,0);

8117 
XSëEº‹H™dÀr
(
ﬁdXEº‹H™dÀr
);

8118 i‡(!
	gcimg
::
X11_©å
().
is_shm_íabÀd
) {

8119 
shmdt
(
_shmöfo
->
shmaddr
); 
shm˘l
(_shmöfo->
shmid
,
IPC_RMID
,0); 
XDe°royImage
(
_image
); 
dñëe
 
	g_shmöfo
; _shminfo = 0;

8125 i‡(!
	g_shmöfo
)

8128 c⁄° 
	gbuf_size
 = ()
_width
*
_height
*(
cimg
::
X11_©å
().
nb_bôs
==8?1:(cimg::X11_attr().nb_bits==16?2:4));

8129 
	g_d©a
 = 
°d
::
mÆloc
(
buf_size
);

8130 
	g_image
 = 
XCª©eImage
(
dpy
,
DeÁu…VisuÆ
(dpy,
DeÁu…S¸ìn
(dpy)),
cimg
::
X11_©å
().
nb_bôs
,
ZPixm≠
,0,(*)
_d©a
,
_width
,
_height
,8,0);

8133 
	g_wm_wödow_©om
 = 
XI¡înAtom
(
dpy
,"WM_DELETE_WINDOW",0);

8134 
	g_wm_¥Ÿocﬁ_©om
 = 
XI¡înAtom
(
dpy
,"WM_PROTOCOLS",0);

8135 
XSëWMPrŸocﬁs
(
dpy
,
_wödow
,&
_wm_wödow_©om
,1);

8137 i‡(
	g_is_fuŒs¸ìn
Ë
XGøbKeybﬂrd
(
dpy
,
_wödow
,1,
GøbModeAsync
,GøbModeAsync,
CuºítTime
);

8138 
	gcimg
::
X11_©å
().
wös
[
cimg
::X11_©å().
nb_wös
++]=
this
;

8139 i‡(!
	g_is_˛o£d
Ë
_m≠_wödow
(); { 
	g_wödow_x
 = 
_wödow_y
 = 
cimg
::
ty≥
<>::
mö
(); }

8140 
XU∆ockDi•œy
(
dpy
);

8141 
	gcimg
::
muãx
(14,0);

8144 
	gCImgDi•œy
& 
assign
() {

8145 i‡(
is_em±y
()Ë 
Êush
();

8146 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8147 
XLockDi•œy
(
dpy
);

8150 
	gi
;

8151 
	gi
 = 0; i<
	gcimg
::
X11_©å
().
nb_wös
 && 
cimg
::X11_©å().
wös
[
i
]!=
this
; ++i) {}

8152 ; 
	gi
<
	gcimg
::
X11_©å
().
nb_wös
-1; ++iËcimg::X11_©å().
wös
[
i
] = 
cimg
::X11_attr().wins[i+1];

8153 --
	gcimg
::
X11_©å
().
nb_wös
;

8156 i‡(
	g_is_fuŒs¸ìn
 && !
	g_is_˛o£d
Ë
_desöô_fuŒs¸ìn
();

8157 
XDe°royWödow
(
dpy
,
_wödow
);

8158 
	g_wödow
 = 0;

8159 #ifde‡
cimg_u£_xshm


8160 i‡(
	g_shmöfo
) {

8161 
XShmDëach
(
dpy
,
_shmöfo
);

8162 
XDe°royImage
(
_image
);

8163 
shmdt
(
_shmöfo
->
shmaddr
);

8164 
shm˘l
(
_shmöfo
->
shmid
,
IPC_RMID
,0);

8165 
dñëe
 
	g_shmöfo
;

8166 
	g_shmöfo
 = 0;

8169 
XDe°royImage
(
_image
);

8170 
	g_d©a
 = 0; 
	g_image
 = 0;

8171 i‡(
	gcimg
::
X11_©å
().
nb_bôs
==8Ë
XFªeCﬁ‹m≠
(
dpy
,
_cﬁ‹m≠
);

8172 
	g_cﬁ‹m≠
 = 0;

8173 
XSync
(
dpy
,0);

8176 
	gdñëe
[] 
	g_tôÀ
;

8177 
	g_width
 = 
_height
 = 
_n‹mÆiz©i⁄
 = 
_wödow_width
 = 
_wödow_height
 = 0;

8178 
	g_wödow_x
 = 
_wödow_y
 = 0;

8179 
	g_is_fuŒs¸ìn
 = 
Ál£
;

8180 
	g_is_˛o£d
 = 
åue
;

8181 
	g_mö
 = 
_max
 = 0;

8182 
	g_tôÀ
 = 0;

8183 
Êush
();

8185 
XU∆ockDi•œy
(
dpy
);

8186  *
	gthis
;

8189 
	gCImgDi•œy
& 
assign
(c⁄° 
dimw
, c⁄° 
dimh
, c⁄° *c⁄° 
tôÀ
=0,

8190 c⁄° 
n‹mÆiz©i⁄_ty≥
=3,

8191 c⁄° 
boﬁ
 
fuŒs¸ìn_Êag
=
Ál£
, c⁄° boﬁ 
˛o£d_Êag
=false) {

8192 i‡(!
dimw
 || !
dimh
Ë 
assign
();

8193 
_assign
(
dimw
,
dimh
,
tôÀ
,
n‹mÆiz©i⁄_ty≥
,
fuŒs¸ìn_Êag
,
˛o£d_Êag
);

8194 
	g_mö
 = 
_max
 = 0;

8195 
	g°d
::
mem£t
(
_d©a
,0,(
cimg
::
X11_©å
().
nb_bôs
==8?():

8196 (
cimg
::
X11_©å
().
nb_bôs
==16?():()))*()
_width
*
_height
);

8197  
∑öt
();

8200 
	gãm∂©e
<
ty≥«me
 
	gT
>

8201 
	gCImgDi•œy
& 
assign
(c⁄° 
CImg
<
T
>& 
img
, c⁄° *c⁄° 
tôÀ
=0,

8202 c⁄° 
n‹mÆiz©i⁄_ty≥
=3,

8203 c⁄° 
boﬁ
 
fuŒs¸ìn_Êag
=
Ál£
, c⁄° boﬁ 
˛o£d_Êag
=false) {

8204 i‡(!
img
Ë 
assign
();

8205 
	gCImg
<
	gT
> 
	gtmp
;

8206 c⁄° 
	gCImg
<
	gT
>& 
	gnimg
 = (
img
.
_dïth
==1)?img:(
tmp
=img.
gë_¥oje˘i⁄s2d
((img.
_width
-1)/2,(img.
_height
-1)/2,(img._depth-1)/2));

8207 
_assign
(
nimg
.
_width
,nimg.
_height
,
tôÀ
,
n‹mÆiz©i⁄_ty≥
,
fuŒs¸ìn_Êag
,
˛o£d_Êag
);

8208 i‡(
	g_n‹mÆiz©i⁄
==2Ë
_mö
 = ()
nimg
.
mö_max
(
_max
);

8209  
ªndî
(
nimg
).
∑öt
();

8212 
	gãm∂©e
<
ty≥«me
 
	gT
>

8213 
	gCImgDi•œy
& 
assign
(c⁄° 
CImgLi°
<
T
>& 
li°
, c⁄° *c⁄° 
tôÀ
=0,

8214 c⁄° 
n‹mÆiz©i⁄_ty≥
=3,

8215 c⁄° 
boﬁ
 
fuŒs¸ìn_Êag
=
Ál£
, c⁄° boﬁ 
˛o£d_Êag
=false) {

8216 i‡(!
li°
Ë 
assign
();

8217 
	gCImg
<
	gT
> 
	gtmp
;

8218 c⁄° 
	gCImg
<
	gT
> 
	gimg
 = 
li°
>'x', &
	gnimg
 = (
img
.
_dïth
==1)?img:(
tmp
=img.
gë_¥oje˘i⁄s2d
((img.
_width
-1)/2,(img.
_height
-1)/2,(img._depth-1)/2));

8219 
_assign
(
nimg
.
_width
,nimg.
_height
,
tôÀ
,
n‹mÆiz©i⁄_ty≥
,
fuŒs¸ìn_Êag
,
˛o£d_Êag
);

8220 i‡(
	g_n‹mÆiz©i⁄
==2Ë
_mö
 = ()
nimg
.
mö_max
(
_max
);

8221  
ªndî
(
nimg
).
∑öt
();

8224 
	gCImgDi•œy
& 
assign
(c⁄° 
CImgDi•œy
& 
di•
) {

8225 i‡(!
	gdi•
Ë 
assign
();

8226 
_assign
(
di•
.
_width
,di•.
_height
,di•.
_tôÀ
,di•.
_n‹mÆiz©i⁄
,di•.
_is_fuŒs¸ìn
,di•.
_is_˛o£d
);

8227 
	g°d
::
mem˝y
(
_d©a
,
di•
._d©a,(
cimg
::
X11_©å
().
nb_bôs
==8?():

8228 
cimg
::
X11_©å
().
nb_bôs
==16?():

8229 ())*()
_width
*
_height
);

8230  
∑öt
();

8233 
	gCImgDi•œy
& 
ªsize
(c⁄° 
nwidth
, c⁄° 
nheight
, c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

8234 i‡(!
nwidth
 || !
nheight
 || (
is_em±y
(Ë&& (nwidth<0 ||Çheight<0))Ë 
assign
();

8235 i‡(
is_em±y
()Ë 
assign
(
nwidth
,
nheight
);

8236 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8238 
	gtmpdimx
 = (
nwidth
>0)?nwidth:(-nwidth*
width
()/100),

8239 
	gtmpdimy
 = (
nheight
>0)?nheight:(-nheight*
height
()/100),

8240 
	gdimx
 = 
tmpdimx
?tmpdimx:1,

8241 
	gdimy
 = 
tmpdimy
?tmpdimy:1;

8242 
XLockDi•œy
(
dpy
);

8243 i‡(
	g_wödow_width
!=
dimx
 || 
_wödow_height
!=
dimy
) {

8244 
XWödowAâribuãs
 
©å
;

8245 
	gi
 = 0; i<10; ++i) {

8246 
XResizeWödow
(
dpy
,
_wödow
,
dimx
,
dimy
);

8247 
XGëWödowAâribuãs
(
dpy
,
_wödow
,&
©å
);

8248 i‡(
	g©å
.
	gwidth
==()
dimx
 && 
©å
.
height
==()
dimy
) ;

8249 
	gcimg
::
waô
(5);

8252 i‡(
	g_width
!=
dimx
 || 
_height
!=
dimy
Ë
cimg
::
X11_©å
().
nb_bôs
) {

8253 8 : { 
pixñ_ty≥
 = 0; 
_ªsize
’ixñ_ty≥,
dimx
,
dimy
,
f‹˚_ªdøw
); } ;

8254 16 : { 
pixñ_ty≥
 = 0; 
_ªsize
’ixñ_ty≥,
dimx
,
dimy
,
f‹˚_ªdøw
); } ;

8255  : { 
pixñ_ty≥
 = 0; 
_ªsize
’ixñ_ty≥,
dimx
,
dimy
,
f‹˚_ªdøw
); }

8257 
	g_wödow_width
 = 
_width
 = 
dimx
; 
	g_wödow_height
 = 
_height
 = 
dimy
;

8258 
	g_is_ªsized
 = 
Ál£
;

8259 
XU∆ockDi•œy
(
dpy
);

8260 i‡(
	g_is_fuŒs¸ìn
Ë
move
((
s¸ìn_width
()-
_width
)/2,(
s¸ìn_height
()-
_height
)/2);

8261 i‡(
	gf‹˚_ªdøw
Ë 
∑öt
();

8262  *
	gthis
;

8265 
	gCImgDi•œy
& 
toggÀ_fuŒs¸ìn
(c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

8266 i‡(
is_em±y
()Ë *
this
;

8267 i‡(
	gf‹˚_ªdøw
) {

8268 c⁄° 
	gbuf_size
 = ()
_width
*
_height
*(
cimg
::
X11_©å
().
nb_bôs
==8?1:(cimg::X11_attr().nb_bits==16?2:4));

8269 *
	gimage_d©a
 = 
°d
::
mÆloc
(
buf_size
);

8270 
	g°d
::
mem˝y
(
image_d©a
,
_d©a
,
buf_size
);

8271 
assign
(
_width
,
_height
,
_tôÀ
,
_n‹mÆiz©i⁄
,!
_is_fuŒs¸ìn
,
Ál£
);

8272 
	g°d
::
mem˝y
(
_d©a
,
image_d©a
,
buf_size
);

8273 
	g°d
::
‰ì
(
image_d©a
);

8274  
∑öt
();

8276  
assign
(
_width
,
_height
,
_tôÀ
,
_n‹mÆiz©i⁄
,!
_is_fuŒs¸ìn
,
Ál£
);

8279 
	gCImgDi•œy
& 
show
() {

8280 i‡(
is_em±y
(Ë|| !
	g_is_˛o£d
Ë *
	gthis
;

8281 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8282 
XLockDi•œy
(
dpy
);

8283 i‡(
	g_is_fuŒs¸ìn
Ë
_öô_fuŒs¸ìn
();

8284 
_m≠_wödow
();

8285 
	g_is_˛o£d
 = 
Ál£
;

8286 
XU∆ockDi•œy
(
dpy
);

8287  
∑öt
();

8290 
	gCImgDi•œy
& 
˛o£
() {

8291 i‡(
is_em±y
(Ë|| 
	g_is_˛o£d
Ë *
	gthis
;

8292 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8293 
XLockDi•œy
(
dpy
);

8294 i‡(
	g_is_fuŒs¸ìn
Ë
_desöô_fuŒs¸ìn
();

8295 
XUnm≠Wödow
(
dpy
,
_wödow
);

8296 
	g_wödow_x
 = 
_wödow_y
 = -1;

8297 
	g_is_˛o£d
 = 
åue
;

8298 
XU∆ockDi•œy
(
dpy
);

8299  *
	gthis
;

8302 
	gCImgDi•œy
& 
move
(c⁄° 
posx
, c⁄° 
posy
) {

8303 i‡(
is_em±y
()Ë *
	gthis
;

8304 
show
();

8305 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8306 
XLockDi•œy
(
dpy
);

8307 
XMoveWödow
(
dpy
,
_wödow
,
posx
,
posy
);

8308 
	g_wödow_x
 = 
posx
; 
	g_wödow_y
 = 
posy
;

8309 
	g_is_moved
 = 
Ál£
;

8310 
XU∆ockDi•œy
(
dpy
);

8311  
∑öt
();

8314 
	gCImgDi•œy
& 
show_mou£
() {

8315 i‡(
is_em±y
()Ë *
	gthis
;

8316 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8317 
XLockDi•œy
(
dpy
);

8318 
XUndeföeCurs‹
(
dpy
,
_wödow
);

8319 
XU∆ockDi•œy
(
dpy
);

8320  *
	gthis
;

8323 
	gCImgDi•œy
& 
hide_mou£
() {

8324 i‡(
is_em±y
()Ë *
	gthis
;

8325 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8326 
XLockDi•œy
(
dpy
);

8327 c⁄° 
	gpix_d©a
[8] = { 0 };

8328 
XCﬁ‹
 
	gcﬁ
;

8329 
	gcﬁ
.
	gªd
 = 
cﬁ
.
gªí
 = cﬁ.
blue
 = 0;

8330 
Pixm≠
 
	gpix
 = 
XCª©eBôm≠FromD©a
(
dpy
,
_wödow
,
pix_d©a
,8,8);

8331 
Curs‹
 
	gcur
 = 
XCª©ePixm≠Curs‹
(
dpy
,
pix
,pix,&
cﬁ
,&col,0,0);

8332 
XFªePixm≠
(
dpy
,
pix
);

8333 
XDeföeCurs‹
(
dpy
,
_wödow
,
cur
);

8334 
XU∆ockDi•œy
(
dpy
);

8335  *
	gthis
;

8338 
	gCImgDi•œy
& 
£t_mou£
(c⁄° 
posx
, c⁄° 
posy
) {

8339 i‡(
is_em±y
(Ë|| 
	g_is_˛o£d
Ë *
	gthis
;

8340 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8341 
XLockDi•œy
(
dpy
);

8342 
XW¨pPoöãr
(
dpy
,0L,
_wödow
,0,0,0,0,
posx
,
posy
);

8343 
	g_mou£_x
 = 
posx
; 
	g_mou£_y
 = 
posy
;

8344 
	g_is_moved
 = 
Ál£
;

8345 
XSync
(
dpy
,0);

8346 
XU∆ockDi•œy
(
dpy
);

8347  *
	gthis
;

8350 
	gCImgDi•œy
& 
£t_tôÀ
(c⁄° *c⁄° 
f‹m©
, ...) {

8351 i‡(
is_em±y
()Ë *
	gthis
;

8352 
	gtmp
[1024] = { 0 };

8353 
va_li°
 
	g≠
;

8354 
va_°¨t
(
≠
, 
f‹m©
);

8355 
cimg_v¢¥ötf
(
tmp
,—mp),
f‹m©
,
≠
);

8356 
va_íd
(
≠
);

8357 i‡(!
	g°d
::
°rcmp
(
_tôÀ
,
tmp
)Ë *
	gthis
;

8358 
	gdñëe
[] 
	g_tôÀ
;

8359 c⁄° 
	gs
 = 
°d
::
°æí
(
tmp
) + 1;

8360 
	g_tôÀ
 = 
√w
 [
s
];

8361 
	g°d
::
mem˝y
(
_tôÀ
,
tmp
,
s
*());

8362 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8363 
XLockDi•œy
(
dpy
);

8364 
XSt‹eName
(
dpy
,
_wödow
,
tmp
);

8365 
XU∆ockDi•œy
(
dpy
);

8366  *
	gthis
;

8369 
	gãm∂©e
<
ty≥«me
 
	gT
>

8370 
	gCImgDi•œy
& 
di•œy
(c⁄° 
CImg
<
T
>& 
img
) {

8371 i‡(!
	gimg
)

8372 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgdi•œy_ö°™˚


8374 
cimgdi•œy_ö°™˚
);

8375 i‡(
is_em±y
()Ë 
assign
(
img
);

8376  
ªndî
(
img
).
∑öt
(
Ál£
);

8379 
	gCImgDi•œy
& 
∑öt
(c⁄° 
boﬁ
 
waô_expo£
=
åue
) {

8380 i‡(
is_em±y
()Ë *
this
;

8381 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8382 
XLockDi•œy
(
dpy
);

8383 
_∑öt
(
waô_expo£
);

8384 
XU∆ockDi•œy
(
dpy
);

8385  *
	gthis
;

8388 
	gãm∂©e
<
ty≥«me
 
	gT
>

8389 
	gCImgDi•œy
& 
ªndî
(c⁄° 
CImg
<
T
>& 
img
, c⁄° 
boﬁ
 
Êag8
=
Ál£
) {

8390 i‡(!
img
)

8391 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgdi•œy_ö°™˚


8393 
cimgdi•œy_ö°™˚
);

8394 i‡(
is_em±y
()Ë *
	gthis
;

8395 i‡(
	gimg
.
	g_dïth
!=1Ë 
ªndî
(
img
.
gë_¥oje˘i⁄s2d
((img.
_width
-1)/2,(img.
_height
-1)/2,(img.
_dïth
-1)/2));

8396 i‡(
	gcimg
::
X11_©å
().
nb_bôs
==8 && (
img
.
_width
!=_width || img.
_height
!=_height)Ë 
ªndî
(img.
gë_ªsize
(_width,_height,1,-100,1));

8397 i‡(
	gcimg
::
X11_©å
().
nb_bôs
==8 && !
Êag8
 && 
img
.
_•e˘rum
==3) {

8398 c⁄° 
CImg
<
ty≥«me
 CImg<
T
>::
uch¨T
> 
deÁu…_cﬁ‹m≠
 = CImg<ty≥«mêCImg<T>::uch¨T>::
deÁu…_LUT256
();

8399  
ªndî
(
img
.
gë_ödex
(
deÁu…_cﬁ‹m≠
,1,
Ál£
));

8402 
Di•œy
 *c⁄° 
	gdpy
 = 
cimg
::
X11_©å
().
di•œy
;

8403 c⁄° 
T


8404 *
	gd©a1
 = 
img
.
_d©a
,

8405 *
	gd©a2
 = (
img
.
_•e˘rum
>1)?img.
d©a
(0,0,0,1):
d©a1
,

8406 *
	gd©a3
 = (
img
.
_•e˘rum
>2)?img.
d©a
(0,0,0,2):
d©a1
;

8408 i‡(
	gcimg
::
X11_©å
().
is_blue_fú°
Ë
cimg
::
sw≠
(
d©a1
,
d©a3
);

8409 
XLockDi•œy
(
dpy
);

8411 i‡(!
	g_n‹mÆiz©i⁄
 || (_n‹mÆiz©i⁄==3 && 
cimg
::
ty≥
<
T
>::
°rög
()==cimg::type<>::string())) {

8412 
_mö
 = 
_max
 = 0;

8413 
	gcimg
::
X11_©å
().
nb_bôs
) {

8415 
_£t_cﬁ‹m≠
(
_cﬁ‹m≠
,
img
.
_•e˘rum
);

8416 *c⁄° 
	gnd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:
√w
 [()img._width*img._height];

8417 *
	g±rd
 = (*)
nd©a
;

8418 
	gimg
.
	g_•e˘rum
) {

8419 1 : 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xyË(*
	g±rd
++Ë()*(
d©a1
++);

8421 2 : 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8422 c⁄° 
	gR
 = ()*(
d©a1
++), 
	gG
 = ()*(
d©a2
++);

8423 (*
	g±rd
++Ë(
R
&0xf0Ë| (
G
>>4);

8425  : 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8426 c⁄° 
	gR
 = ()*(
d©a1
++), 
	gG
 = ()*(
d©a2
++), 
	gB
 = ()*(
d©a3
++);

8427 (*
	g±rd
++Ë(
R
&0xe0Ë| ((
G
>>5)<<2Ë| (
B
>>6);

8430 i‡(
	gnd©a
!=
_d©a
Ë{ 
_ªndî_ªsize
(
nd©a
,
img
.
_width
,img.
_height
,(*)_d©a,_width,_height); 
	gdñëe
[]Çdata; }

8433 *c⁄° 
nd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:
√w
 [()img._width*img._height];

8434 *
	g±rd
 = (*)
nd©a
;

8435 c⁄° 
	gM
 = 248;

8436 
	gimg
.
	g_•e˘rum
) {

8438 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8439 c⁄° 
	gvÆ
 = ()*(
d©a1
++), 
	gG
 = 
vÆ
>>2;

8440 *(
	g±rd
++Ë(
vÆ
&
M
Ë| (
G
>>3);

8441 *(
	g±rd
++Ë(
G
<<5) | (G>>1);

8442 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8443 c⁄° 
	gvÆ
 = ()*(
d©a1
++), 
	gG
 = 
vÆ
>>2;

8444 *(
	g±rd
++Ë(
G
<<5) | (G>>1);

8445 *(
	g±rd
++Ë(
vÆ
&
M
Ë| (
G
>>3);

8449 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8450 c⁄° 
	gG
 = ()*(
d©a2
++)>>2;

8451 *(
	g±rd
++Ë(()*(
d©a1
++)&
M
Ë| (
G
>>3);

8452 *(
	g±rd
++Ë(
G
<<5);

8453 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8454 c⁄° 
	gG
 = ()*(
d©a2
++)>>2;

8455 *(
	g±rd
++Ë(
G
<<5);

8456 *(
	g±rd
++Ë(()*(
d©a1
++)&
M
Ë| (
G
>>3);

8460 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8461 c⁄° 
	gG
 = ()*(
d©a2
++)>>2;

8462 *(
	g±rd
++Ë(()*(
d©a1
++)&
M
Ë| (
G
>>3);

8463 *(
	g±rd
++Ë(
G
<<5Ë| (()*(
d©a3
++)>>3);

8464 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8465 c⁄° 
	gG
 = ()*(
d©a2
++)>>2;

8466 *(
	g±rd
++Ë(
G
<<5Ë| (()*(
d©a3
++)>>3);

8467 *(
	g±rd
++Ë(()*(
d©a1
++)&
M
Ë| (
G
>>3);

8470 i‡(
	gnd©a
!=
_d©a
Ë{ 
_ªndî_ªsize
(
nd©a
,
img
.
_width
,img.
_height
,(*)_d©a,_width,_height); 
	gdñëe
[]Çdata; }

8473 *c⁄° 
nd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:
√w
 [()img._width*img._height];

8475 *
±rd
 = 
nd©a
;

8476 
	gimg
.
	g_•e˘rum
) {

8478 i‡(
cimg
::
X11_©å
().
byã_‹dî
==cimg::
ídü¬ess
())

8479 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8480 c⁄° 
	gvÆ
 = ()*(
d©a1
++);

8481 *(
	g±rd
++Ë(
vÆ
<<16) | (val<<8) | val;

8484 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8485 c⁄° 
	gvÆ
 = ()*(
d©a1
++);

8486 *(
	g±rd
++Ë(
vÆ
<<16) | (val<<8) | val;

8490 i‡(
cimg
::
X11_©å
().
byã_‹dî
==cimg::
ídü¬ess
())

8491 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

8492 *(
	g±rd
++Ë(()*(
d©a1
++)<<16Ë| (()*(
d©a2
++)<<8);

8494 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy)

8495 *(
	g±rd
++Ë(()*(
d©a2
++)<<16Ë| (()*(
d©a1
++)<<8);

8498 i‡(
cimg
::
X11_©å
().
byã_‹dî
==cimg::
ídü¬ess
())

8499 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

8500 *(
	g±rd
++Ë(()*(
d©a1
++)<<16Ë| (()*(
d©a2
++)<<8Ë| ()*(
d©a3
++);

8502 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy)

8503 *(
	g±rd
++Ë(()*(
d©a3
++)<<24Ë| (()*(
d©a2
++)<<16Ë| (()*(
d©a1
++)<<8);

8506 *
	g±rd
 = (*)
nd©a
;

8507 
	gimg
.
	g_•e˘rum
) {

8509 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8510 *(
	g±rd
++) = 0;

8511 *(
	g±rd
++Ë()*(
d©a1
++);

8512 *(
	g±rd
++) = 0;

8513 *(
	g±rd
++) = 0;

8514 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8515 *(
	g±rd
++) = 0;

8516 *(
	g±rd
++) = 0;

8517 *(
	g±rd
++Ë()*(
d©a1
++);

8518 *(
	g±rd
++) = 0;

8522 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ëcimg::
sw≠
(
d©a1
,
d©a2
);

8523 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8524 *(
	g±rd
++) = 0;

8525 *(
	g±rd
++Ë()*(
d©a2
++);

8526 *(
	g±rd
++Ë()*(
d©a1
++);

8527 *(
	g±rd
++) = 0;

8531 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8532 *(
	g±rd
++) = 0;

8533 *(
	g±rd
++Ë()*(
d©a1
++);

8534 *(
	g±rd
++Ë()*(
d©a2
++);

8535 *(
	g±rd
++Ë()*(
d©a3
++);

8536 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8537 *(
	g±rd
++Ë()*(
d©a3
++);

8538 *(
	g±rd
++Ë()*(
d©a2
++);

8539 *(
	g±rd
++Ë()*(
d©a1
++);

8540 *(
	g±rd
++) = 0;

8544 i‡(
	gnd©a
!=
_d©a
Ë{ 
_ªndî_ªsize
(
nd©a
,
img
.
_width
,img.
_height
,(*)_d©a,_width,_height); 
	gdñëe
[]Çdata; }

8548 i‡(
	g_n‹mÆiz©i⁄
==3) {

8549 i‡(
cimg
::
ty≥
<
T
>::
is_Êﬂt
()Ë
_mö
 = ()
img
.
mö_max
(
_max
);

8550 { 
	g_mö
 = ()
cimg
::
ty≥
<
T
>::
mö
(); 
	g_max
 = ()cimg::ty≥<T>::
max
(); }

8551 } i‡((
	g_mö
>
	g_max
Ë|| 
	g_n‹mÆiz©i⁄
==1Ë
_mö
 = ()
img
.
mö_max
(
_max
);

8552 c⁄° 
	gdñè
 = 
_max
 - 
_mö
, 
	gmm
 = 255/(
dñè
?delta:1.0f);

8553 
	gcimg
::
X11_©å
().
nb_bôs
) {

8555 
_£t_cﬁ‹m≠
(
_cﬁ‹m≠
,
img
.
_•e˘rum
);

8556 *c⁄° 
	gnd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:
√w
 [()img._width*img._height];

8557 *
	g±rd
 = (*)
nd©a
;

8558 
	gimg
.
	g_•e˘rum
) {

8559 1 : 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8560 c⁄° 
	gR
 = ()((*(
d©a1
++)-
_mö
)*
mm
);

8561 *(
	g±rd
++Ë
R
;

8563 2 : 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8565 
	gR
 = ()((*(
d©a1
++)-
_mö
)*
mm
),

8566 
	gG
 = ()((*(
d©a2
++)-
_mö
)*
mm
);

8567 (*
	g±rd
++Ë(
R
&0xf0Ë| (
G
>>4);

8570 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8572 
	gR
 = ()((*(
d©a1
++)-
_mö
)*
mm
),

8573 
	gG
 = ()((*(
d©a2
++)-
_mö
)*
mm
),

8574 
	gB
 = ()((*(
d©a3
++)-
_mö
)*
mm
);

8575 *(
	g±rd
++Ë(
R
&0xe0Ë| ((
G
>>5)<<2Ë| (
B
>>6);

8578 i‡(
	gnd©a
!=
_d©a
Ë{ 
_ªndî_ªsize
(
nd©a
,
img
.
_width
,img.
_height
,(*)_d©a,_width,_height); 
	gdñëe
[]Çdata; }

8581 *c⁄° 
nd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:
√w
 [()img._width*img._height];

8582 *
	g±rd
 = (*)
nd©a
;

8583 c⁄° 
	gM
 = 248;

8584 
	gimg
.
	g_•e˘rum
) {

8586 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8587 c⁄° 
	gvÆ
 = ()((*(
d©a1
++)-
_mö
)*
mm
), 
	gG
 = 
vÆ
>>2;

8588 *(
	g±rd
++Ë(
vÆ
&
M
Ë| (
G
>>3);

8589 *(
	g±rd
++Ë(
G
<<5Ë| (
vÆ
>>3);

8590 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8591 c⁄° 
	gvÆ
 = ()((*(
d©a1
++)-
_mö
)*
mm
), 
	gG
 = 
vÆ
>>2;

8592 *(
	g±rd
++Ë(
G
<<5Ë| (
vÆ
>>3);

8593 *(
	g±rd
++Ë(
vÆ
&
M
Ë| (
G
>>3);

8597 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8598 c⁄° 
	gG
 = ()((*(
d©a2
++)-
_mö
)*
mm
)>>2;

8599 *(
	g±rd
++Ë(()((*(
d©a1
++)-
_mö
)*
mm
)&
M
Ë| (
G
>>3);

8600 *(
	g±rd
++Ë(
G
<<5);

8601 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8602 c⁄° 
	gG
 = ()((*(
d©a2
++)-
_mö
)*
mm
)>>2;

8603 *(
	g±rd
++Ë(
G
<<5);

8604 *(
	g±rd
++Ë(()((*(
d©a1
++)-
_mö
)*
mm
)&
M
Ë| (
G
>>3);

8608 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8609 c⁄° 
	gG
 = ()((*(
d©a2
++)-
_mö
)*
mm
)>>2;

8610 *(
	g±rd
++Ë(()((*(
d©a1
++)-
_mö
)*
mm
)&
M
Ë| (
G
>>3);

8611 *(
	g±rd
++Ë(
G
<<5Ë| (()((*(
d©a3
++)-
_mö
)*
mm
)>>3);

8612 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8613 c⁄° 
	gG
 = ()((*(
d©a2
++)-
_mö
)*
mm
)>>2;

8614 *(
	g±rd
++Ë(
G
<<5Ë| (()((*(
d©a3
++)-
_mö
)*
mm
)>>3);

8615 *(
	g±rd
++Ë(()((*(
d©a1
++)-
_mö
)*
mm
)&
M
Ë| (
G
>>3);

8618 i‡(
	gnd©a
!=
_d©a
Ë{ 
_ªndî_ªsize
(
nd©a
,
img
.
_width
,img.
_height
,(*)_d©a,_width,_height); 
	gdñëe
[]Çdata; }

8621 *c⁄° 
nd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?(*)
_d©a
:
√w
 [()img._width*img._height];

8623 *
±rd
 = 
nd©a
;

8624 
	gimg
.
	g_•e˘rum
) {

8626 i‡(
cimg
::
X11_©å
().
byã_‹dî
==cimg::
ídü¬ess
())

8627 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8628 c⁄° 
	gvÆ
 = ()((*(
d©a1
++)-
_mö
)*
mm
);

8629 *(
	g±rd
++Ë(
vÆ
<<16) | (val<<8) | val;

8632 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8633 c⁄° 
	gvÆ
 = ()((*(
d©a1
++)-
_mö
)*
mm
);

8634 *(
	g±rd
++Ë(
vÆ
<<24) | (val<<16) | (val<<8);

8638 i‡(
cimg
::
X11_©å
().
byã_‹dî
==cimg::
ídü¬ess
())

8639 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

8640 *(
	g±rd
++) =

8641 (()((*(
d©a1
++)-
_mö
)*
mm
)<<16) |

8642 (()((*(
d©a2
++)-
_mö
)*
mm
)<<8);

8644 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy)

8645 *(
	g±rd
++) =

8646 (()((*(
d©a2
++)-
_mö
)*
mm
)<<16) |

8647 (()((*(
d©a1
++)-
_mö
)*
mm
)<<8);

8650 i‡(
cimg
::
X11_©å
().
byã_‹dî
==cimg::
ídü¬ess
())

8651 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

8652 *(
	g±rd
++) =

8653 (()((*(
d©a1
++)-
_mö
)*
mm
)<<16) |

8654 (()((*(
d©a2
++)-
_mö
)*
mm
)<<8) |

8655 ()((*(
d©a3
++)-
_mö
)*
mm
);

8657 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy)

8658 *(
	g±rd
++) =

8659 (()((*(
d©a3
++)-
_mö
)*
mm
)<<24) |

8660 (()((*(
d©a2
++)-
_mö
)*
mm
)<<16) |

8661 (()((*(
d©a1
++)-
_mö
)*
mm
)<<8);

8664 *
	g±rd
 = (*)
nd©a
;

8665 
	gimg
.
	g_•e˘rum
) {

8667 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8668 c⁄° 
	gvÆ
 = ()((*(
d©a1
++)-
_mö
)*
mm
);

8669 (*
	g±rd
++) = 0;

8670 (*
	g±rd
++Ë
vÆ
;

8671 (*
	g±rd
++Ë
vÆ
;

8672 (*
	g±rd
++Ë
vÆ
;

8673 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8674 c⁄° 
	gvÆ
 = ()((*(
d©a1
++)-
_mö
)*
mm
);

8675 (*
	g±rd
++Ë
vÆ
;

8676 (*
	g±rd
++Ë
vÆ
;

8677 (*
	g±rd
++Ë
vÆ
;

8678 (*
	g±rd
++) = 0;

8682 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ëcimg::
sw≠
(
d©a1
,
d©a2
);

8683 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8684 (*
	g±rd
++) = 0;

8685 (*
	g±rd
++Ë()((*(
d©a2
++)-
_mö
)*
mm
);

8686 (*
	g±rd
++Ë()((*(
d©a1
++)-
_mö
)*
mm
);

8687 (*
	g±rd
++) = 0;

8691 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8692 (*
	g±rd
++) = 0;

8693 (*
	g±rd
++Ë()((*(
d©a1
++)-
_mö
)*
mm
);

8694 (*
	g±rd
++Ë()((*(
d©a2
++)-
_mö
)*
mm
);

8695 (*
	g±rd
++Ë()((*(
d©a3
++)-
_mö
)*
mm
);

8696 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8697 (*
	g±rd
++Ë()((*(
d©a3
++)-
_mö
)*
mm
);

8698 (*
	g±rd
++Ë()((*(
d©a2
++)-
_mö
)*
mm
);

8699 (*
	g±rd
++Ë()((*(
d©a1
++)-
_mö
)*
mm
);

8700 (*
	g±rd
++) = 0;

8704 i‡(
	gnd©a
!=
_d©a
Ë{ 
_ªndî_ªsize
(
nd©a
,
img
.
_width
,img.
_height
,(*)_d©a,_width,_height); 
	gdñëe
[]Çdata; }

8708 
XU∆ockDi•œy
(
dpy
);

8709  *
	gthis
;

8712 
	gãm∂©e
<
ty≥«me
 
	gT
>

8713 c⁄° 
	gCImgDi•œy
& 
¢≠shŸ
(
CImg
<
T
>& 
img
) const {

8714 i‡(
is_em±y
()Ë{ 
	gimg
.
assign
();  *
	gthis
; }

8715 c⁄° *
	g±rs
 = (*)
_d©a
;

8716 
	gimg
.
assign
(
_width
,
_height
,1,3);

8717 
T


8718 *
	gd©a1
 = 
img
.
d©a
(0,0,0,0),

8719 *
	gd©a2
 = 
img
.
d©a
(0,0,0,1),

8720 *
	gd©a3
 = 
img
.
d©a
(0,0,0,2);

8721 i‡(
	gcimg
::
X11_©å
().
is_blue_fú°
Ë
cimg
::
sw≠
(
d©a1
,
d©a3
);

8722 
	gcimg
::
X11_©å
().
nb_bôs
) {

8724 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8725 c⁄° 
	gvÆ
 = *(
±rs
++);

8726 *(
	gd©a1
++Ë(
T
)(
vÆ
&0xe0);

8727 *(
	gd©a2
++Ë(
T
)((
vÆ
&0x1c)<<3);

8728 *(
	gd©a3
++Ë(
T
)(
vÆ
<<6);

8732 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8733 c⁄° 
	gvÆ0
 = *(
±rs
++), 
	gvÆ1
 = *(ptrs++);

8734 *(
	gd©a1
++Ë(
T
)(
vÆ0
&0xf8);

8735 *(
	gd©a2
++Ë(
T
)((
vÆ0
<<5Ë| ((
vÆ1
&0xe0)>>5));

8736 *(
	gd©a3
++Ë(
T
)(
vÆ1
<<3);

8737 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8738 c⁄° 
	gvÆ0
 = *(
±rs
++), 
	gvÆ1
 = *(ptrs++);

8739 *(
	gd©a1
++Ë(
T
)(
vÆ1
&0xf8);

8740 *(
	gd©a2
++Ë(
T
)((
vÆ1
<<5Ë| ((
vÆ0
&0xe0)>>5));

8741 *(
	gd©a3
++Ë(
T
)(
vÆ0
<<3);

8745 i‡(
cimg
::
X11_©å
().
byã_‹dî
Ë
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

8746 ++
	g±rs
;

8747 *(
	gd©a1
++Ë(
T
)*(
±rs
++);

8748 *(
	gd©a2
++Ë(
T
)*(
±rs
++);

8749 *(
	gd©a3
++Ë(
T
)*(
±rs
++);

8750 } 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

8751 *(
	gd©a3
++Ë(
T
)*(
±rs
++);

8752 *(
	gd©a2
++Ë(
T
)*(
±rs
++);

8753 *(
	gd©a1
++Ë(
T
)*(
±rs
++);

8754 ++
	g±rs
;

8758  *
	gthis
;

8763 #ñi‡
cimg_di•œy
==2

8765 
boﬁ
 
	g_is_mou£_åacked
, 
	g_is_curs‹_visibÀ
;

8766 
HANDLE
 
	g_thªad
, 
	g_is_¸óãd
, 
	g_muãx
;

8767 
HWND
 
	g_wödow
, 
	g_background_wödow
;

8768 
CLIENTCREATESTRUCT
 
	g_ccs
;

8769 *
	g_d©a
;

8770 
DEVMODE
 
	g_cuº_mode
;

8771 
BITMAPINFO
 
	g_bmi
;

8772 
HDC
 
	g_hdc
;

8774 
s¸ìn_width
() {

8775 
DEVMODE
 
	gmode
;

8776 
	gmode
.
	gdmSize
 = (
DEVMODE
);

8777 
	gmode
.
	gdmDrivîExåa
 = 0;

8778 
EnumDi•œySëtögs
(0,
ENUM_CURRENT_SETTINGS
,&
mode
);

8779  
	gmode
.
	gdmPñsWidth
;

8782 
s¸ìn_height
() {

8783 
DEVMODE
 
	gmode
;

8784 
	gmode
.
	gdmSize
 = (
DEVMODE
);

8785 
	gmode
.
	gdmDrivîExåa
 = 0;

8786 
EnumDi•œySëtögs
(0,
ENUM_CURRENT_SETTINGS
,&
mode
);

8787  
	gmode
.
	gdmPñsHeight
;

8790 
waô_Æl
() {

8791 
WaôF‹SögÀObje˘
(
cimg
::
Wö32_©å
().
waô_evít
,
INFINITE
);

8794 
LRESULT
 
APIENTRY
 
_h™dÀ_evíts
(
HWND
 
wödow
, 
UINT
 
msg
, 
WPARAM
 
wP¨am
, 
LPARAM
 
lP¨am
) {

8795 #ifde‡
_WIN64


8796 
CImgDi•œy
 *c⁄° 
	gdi•
 = (CImgDi•œy*)
GëWödowL⁄gPå
(
wödow
,
GWLP_USERDATA
);

8798 
CImgDi•œy
 *c⁄° 
	gdi•
 = (CImgDi•œy*)
GëWödowL⁄g
(
wödow
,
GWL_USERDATA
);

8800 
MSG
 
	g°_msg
;

8801 
	gmsg
) {

8802 
	gWM_CLOSE
 :

8803 
di•
->
_mou£_x
 = di•->
_mou£_y
 = -1;

8804 
	gdi•
->
	g_wödow_x
 = 
di•
->
_wödow_y
 = 0;

8805 
	gdi•
->
£t_buâ⁄
().
£t_key
(0).£t_key(0,
Ál£
).
	g_is_˛o£d
 = 
åue
;

8806 
Rñó£Muãx
(
di•
->
_muãx
);

8807 
ShowWödow
(
di•
->
_wödow
,
SW_HIDE
);

8808 
	gdi•
->
	g_is_evít
 = 
åue
;

8809 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8811 
	gWM_SIZE
 : {

8812 
PìkMesßge
(&
°_msg
,
wödow
,
WM_SIZE
,WM_SIZE,
PM_REMOVE
)) {}

8813 
WaôF‹SögÀObje˘
(
di•
->
_muãx
,
INFINITE
);

8814 c⁄° 
	gnw
 = 
LOWORD
(
lP¨am
),
	gnh
 = 
HIWORD
(lParam);

8815 i‡(
	gnw
 && 
	gnh
 && (nw!=
di•
->
_width
 || 
nh
!=di•->
_height
)) {

8816 
di•
->
_wödow_width
 = 
nw
;

8817 
	gdi•
->
	g_wödow_height
 = 
nh
;

8818 
	gdi•
->
	g_mou£_x
 = 
di•
->
_mou£_y
 = -1;

8819 
	gdi•
->
	g_is_ªsized
 = 
di•
->
_is_evít
 = 
åue
;

8820 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8822 
Rñó£Muãx
(
di•
->
_muãx
);

8824 
	gWM_MOVE
 : {

8825 
PìkMesßge
(&
°_msg
,
wödow
,
WM_SIZE
,WM_SIZE,
PM_REMOVE
)) {}

8826 
WaôF‹SögÀObje˘
(
di•
->
_muãx
,
INFINITE
);

8827 c⁄° 
	gnx
 = ()()(
LOWORD
(
lP¨am
)), 
	gny
 = ()()(
HIWORD
(lParam));

8828 i‡(
	gnx
!=
di•
->
_wödow_x
 || 
ny
!=di•->
_wödow_y
) {

8829 
di•
->
_wödow_x
 = 
nx
;

8830 
	gdi•
->
	g_wödow_y
 = 
ny
;

8831 
	gdi•
->
	g_is_moved
 = 
di•
->
_is_evít
 = 
åue
;

8832 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8834 
Rñó£Muãx
(
di•
->
_muãx
);

8836 
	gWM_PAINT
 :

8837 
di•
->
∑öt
();

8839 
	gWM_KEYDOWN
 :

8840 
di•
->
£t_key
(()
wP¨am
);

8841 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8843 
	gWM_KEYUP
 :

8844 
di•
->
£t_key
(()
wP¨am
,
Ál£
);

8845 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8847 
	gWM_MOUSEMOVE
 : {

8848 
PìkMesßge
(&
°_msg
,
wödow
,
WM_MOUSEMOVE
,WM_MOUSEMOVE,
PM_REMOVE
)) {}

8849 
	gdi•
->
	g_mou£_x
 = 
LOWORD
(
lP¨am
);

8850 
	gdi•
->
	g_mou£_y
 = 
HIWORD
(
lP¨am
);

8851 #i‡(
_WIN32_WINNT
>=0x0400Ë&& !
deföed
(
NOTRACKMOUSEEVENT
)

8852 i‡(!
	gdi•
->
	g_is_mou£_åacked
) {

8853 
TRACKMOUSEEVENT
 
	gtme
;

8854 
	gtme
.
	gcbSize
 = (
TRACKMOUSEEVENT
);

8855 
	gtme
.
	gdwFœgs
 = 
TME_LEAVE
;

8856 
	gtme
.
	ghwndTøck
 = 
di•
->
_wödow
;

8857 i‡(
TøckMou£Evít
(&
tme
)Ë
	gdi•
->
	g_is_mou£_åacked
 = 
åue
;

8860 i‡(
	gdi•
->
	g_mou£_x
<0 || di•->
	g_mou£_y
<0 || di•->_mou£_x>=
di•
->
width
(Ë|| di•->
_mou£_y
>=di•->
height
())

8861 
di•
->
_mou£_x
 = di•->
_mou£_y
 = -1;

8862 
	gdi•
->
	g_is_evít
 = 
åue
;

8863 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8865 
	gWM_MOUSELEAVE
 : {

8866 
di•
->
_mou£_x
 = di•->
_mou£_y
 = -1;

8867 
	gdi•
->
	g_is_mou£_åacked
 = 
Ál£
;

8869 
	gWM_LBUTTONDOWN
 :

8870 
di•
->
£t_buâ⁄
(1);

8871 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8873 
	gWM_RBUTTONDOWN
 :

8874 
di•
->
£t_buâ⁄
(2);

8875 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8877 
	gWM_MBUTTONDOWN
 :

8878 
di•
->
£t_buâ⁄
(3);

8879 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8881 
	gWM_LBUTTONUP
 :

8882 
di•
->
£t_buâ⁄
(1,
Ál£
);

8883 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8885 
	gWM_RBUTTONUP
 :

8886 
di•
->
£t_buâ⁄
(2,
Ál£
);

8887 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8889 
	gWM_MBUTTONUP
 :

8890 
di•
->
£t_buâ⁄
(3,
Ál£
);

8891 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8894 
di•
->
£t_whìl
(()(()
HIWORD
(
wP¨am
))/120);

8895 
SëEvít
(
cimg
::
Wö32_©å
().
waô_evít
);

8896 
	gWM_SETCURSOR
 :

8897 i‡(
di•
->
_is_curs‹_visibÀ
Ë
ShowCurs‹
(
TRUE
)<0);

8898 
ShowCurs‹
(
FALSE
)>=0);

8901  
DefWödowProc
(
wödow
,
msg
,
wP¨am
,
lP¨am
);

8904 
DWORD
 
WINAPI
 
_evíts_thªad
(* 
¨g
) {

8905 
CImgDi•œy
 *c⁄° 
	gdi•
 = (CImgDi•œy*)(((**)
¨g
)[0]);

8906 c⁄° *c⁄° 
	gtôÀ
 = (c⁄° *)(((**)
¨g
)[1]);

8907 
MSG
 
	gmsg
;

8908 
	gdñëe
[] (**)
	g¨g
;

8909 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiSize
 = (
BITMAPINFOHEADER
);

8910 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiWidth
 = 
di•
->
width
();

8911 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiHeight
 = -
di•
->
height
();

8912 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiPœ√s
 = 1;

8913 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiBôCou¡
 = 32;

8914 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiCom¥essi⁄
 = 
BI_RGB
;

8915 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiSizeImage
 = 0;

8916 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiXPñsPîMëî
 = 1;

8917 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiYPñsPîMëî
 = 1;

8918 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiCÃU£d
 = 0;

8919 
	gdi•
->
	g_bmi
.
	gbmiHódî
.
	gbiCÃImp‹è¡
 = 0;

8920 
	gdi•
->
	g_d©a
 = 
√w
 [()
di•
->
_width
*di•->
_height
];

8921 i‡(!
	gdi•
->
	g_is_fuŒs¸ìn
) {

8922 
RECT
 
	gª˘
;

8923 
	gª˘
.
	gÀ·
 = 
ª˘
.
t›
 = 0;Ñe˘.
	gright
 = 
di•
->
_width
-1;Ñe˘.
	gbŸtom
 = di•->
_height
-1;

8924 
Adju°WödowRe˘
(&
ª˘
,
WS_CAPTION
 | 
WS_SYSMENU
 | 
WS_THICKFRAME
 | 
WS_MINIMIZEBOX
 | 
WS_MAXIMIZEBOX
,
Ál£
);

8926 
	gb‹dî1
 = (
ª˘
.
right
 -Ñe˘.
À·
 + 1 - 
di•
->
_width
)/2,

8927 
	gb‹dî2
 = 
ª˘
.
bŸtom
 -Ñe˘.
t›
 + 1 - 
di•
->
_height
 - 
b‹dî1
;

8928 
	gdi•
->
	g_wödow
 = 
Cª©eWödowA
("MDICLIENT",
tôÀ
?title:" ",

8929 
WS_OVERLAPPEDWINDOW
 | (
di•
->
_is_˛o£d
?0:
WS_VISIBLE
), 
CW_USEDEFAULT
,CW_USEDEFAULT,

8930 
di•
->
_width
 + 2*
b‹dî1
, di•->
_height
 + b‹dî1 + 
b‹dî2
,

8931 0,0,0,&(
di•
->
_ccs
));

8932 i‡(!
	gdi•
->
	g_is_˛o£d
) {

8933 
GëWödowRe˘
(
di•
->
_wödow
,&
ª˘
);

8934 
	gdi•
->
	g_wödow_x
 = 
ª˘
.
À·
 + 
b‹dî1
;

8935 
	gdi•
->
	g_wödow_y
 = 
ª˘
.
t›
 + 
b‹dî2
;

8936 } 
	gdi•
->
	g_wödow_x
 = 
di•
->
_wödow_y
 = 0;

8938 c⁄° 
	gsx
 = 
s¸ìn_width
(), 
	gsy
 = 
s¸ìn_height
();

8939 
	gdi•
->
	g_wödow
 = 
Cª©eWödowA
("MDICLIENT",
tôÀ
?title:" ",

8940 
WS_POPUP
 | (
di•
->
_is_˛o£d
?0:
WS_VISIBLE
), (
sx
-di•->
_width
)/2, (
sy
-di•->
_height
)/2,

8941 
di•
->
_width
,di•->
_height
,0,0,0,&(di•->
_ccs
));

8942 
	gdi•
->
	g_wödow_x
 = 
di•
->
_wödow_y
 = 0;

8944 
SëF‹egroundWödow
(
di•
->
_wödow
);

8945 
	gdi•
->
	g_hdc
 = 
GëDC
(
di•
->
_wödow
);

8946 
	gdi•
->
	g_wödow_width
 = 
di•
->
_width
;

8947 
	gdi•
->
	g_wödow_height
 = 
di•
->
_height
;

8948 
	gdi•
->
Êush
();

8949 #ifde‡
_WIN64


8950 
SëWödowL⁄gPå
(
di•
->
_wödow
,
GWLP_USERDATA
,(
LONG_PTR
)disp);

8951 
SëWödowL⁄gPå
(
di•
->
_wödow
,
GWLP_WNDPROC
,(
LONG_PTR
)
_h™dÀ_evíts
);

8953 
SëWödowL⁄g
(
di•
->
_wödow
,
GWL_USERDATA
,(
LONG
)disp);

8954 
SëWödowL⁄g
(
di•
->
_wödow
,
GWL_WNDPROC
,(
LONG
)
_h™dÀ_evíts
);

8956 
SëEvít
(
di•
->
_is_¸óãd
);

8957 
GëMesßge
(&
msg
,0,0,0)Ë
Di•©chMesßge
(&msg);

8961 
	gCImgDi•œy
& 
_upd©e_wödow_pos
() {

8962 i‡(
	g_is_˛o£d
Ë
	g_wödow_x
 = 
_wödow_y
 = -1;

8964 
RECT
 
	gª˘
;

8965 
	gª˘
.
	gÀ·
 = 
ª˘
.
t›
 = 0;Ñe˘.
	gright
 = 
_width
-1;Ñe˘.
	gbŸtom
 = 
_height
-1;

8966 
Adju°WödowRe˘
(&
ª˘
,
WS_CAPTION
 | 
WS_SYSMENU
 | 
WS_THICKFRAME
 | 
WS_MINIMIZEBOX
 | 
WS_MAXIMIZEBOX
,
Ál£
);

8968 
	gb‹dî1
 = (
ª˘
.
right
 -Ñe˘.
À·
 + 1 - 
_width
)/2,

8969 
	gb‹dî2
 = 
ª˘
.
bŸtom
 -Ñe˘.
t›
 + 1 - 
_height
 - 
b‹dî1
;

8970 
GëWödowRe˘
(
_wödow
,&
ª˘
);

8971 
	g_wödow_x
 = 
ª˘
.
À·
 + 
b‹dî1
;

8972 
	g_wödow_y
 = 
ª˘
.
t›
 + 
b‹dî2
;

8974  *
	gthis
;

8977 
_öô_fuŒs¸ìn
() {

8978 
	g_background_wödow
 = 0;

8979 i‡(!
	g_is_fuŒs¸ìn
 || 
	g_is_˛o£d
Ë
	g_cuº_mode
.
	gdmSize
 = 0;

8981 
DEVMODE
 
	gmode
;

8982 
	gimode
 = 0, 
	gibe°
 = 0, 
	gbe°bµ
 = 0, 
	gbw
 = ~0U, 
	gbh
 = ~0U;

8983 
	gmode
.
	gdmSize
 = (
DEVMODE
), mode.
	gdmDrivîExåa
 = 0; 
EnumDi•œySëtögs
(0,
imode
,&
mode
); ++
	gimode
) {

8984 c⁄° 
	gnw
 = 
mode
.
dmPñsWidth
, 
	gnh
 = mode.
dmPñsHeight
;

8985 i‡(
	gnw
>=
_width
 && 
nh
>=
_height
 && 
mode
.
dmBôsPîPñ
>=
be°bµ
 && 
nw
<=
bw
 &&Çh<=
bh
) {

8986 
be°bµ
 = 
mode
.
dmBôsPîPñ
;

8987 
	gibe°
 = 
imode
;

8988 
	gbw
 = 
nw
; 
	gbh
 = 
nh
;

8991 i‡(
	gbe°bµ
) {

8992 
	g_cuº_mode
.
	gdmSize
 = (
DEVMODE
); _cuº_mode.
	gdmDrivîExåa
 = 0;

8993 
EnumDi•œySëtögs
(0,
ENUM_CURRENT_SETTINGS
,&
_cuº_mode
);

8994 
EnumDi•œySëtögs
(0,
ibe°
,&
mode
);

8995 
Ch™geDi•œySëtögs
(&
mode
,0);

8996 } 
	g_cuº_mode
.
	gdmSize
 = 0;

8998 c⁄° 
	gsx
 = 
s¸ìn_width
(), 
	gsy
 = 
s¸ìn_height
();

8999 i‡(
	gsx
!=
_width
 || 
sy
!=
_height
) {

9000 
CLIENTCREATESTRUCT
 
background_ccs
;

9001 
	g_background_wödow
 = 
Cª©eWödowA
("MDICLIENT","",
WS_POPUP
 | 
WS_VISIBLE
, 0,0,
sx
,
sy
,0,0,0,&
background_ccs
);

9002 
SëF‹egroundWödow
(
_background_wödow
);

9007 
_desöô_fuŒs¸ìn
() {

9008 i‡(!
	g_is_fuŒs¸ìn
) ;

9009 i‡(
	g_background_wödow
Ë
De°royWödow
(
_background_wödow
);

9010 
	g_background_wödow
 = 0;

9011 i‡(
	g_cuº_mode
.
	gdmSize
Ë
Ch™geDi•œySëtögs
(&
_cuº_mode
,0);

9012 
	g_is_fuŒs¸ìn
 = 
Ál£
;

9015 
	gCImgDi•œy
& 
_assign
(c⁄° 
dimw
, c⁄° 
dimh
, c⁄° *c⁄° 
±ôÀ
=0,

9016 c⁄° 
n‹mÆiz©i⁄_ty≥
=3,

9017 c⁄° 
boﬁ
 
fuŒs¸ìn_Êag
=
Ál£
, c⁄° boﬁ 
˛o£d_Êag
=false) {

9020 c⁄° *c⁄° 
≈tôÀ
 = 
±ôÀ
?ptitle:"";

9021 c⁄° 
	gs
 = ()
°d
::
°æí
(
≈tôÀ
) + 1;

9022 *c⁄° 
	gtmp_tôÀ
 = 
s
?
√w
 [s]:0;

9023 i‡(
	gs
Ë
	g°d
::
mem˝y
(
tmp_tôÀ
,
≈tôÀ
,
s
*());

9026 i‡(!
is_em±y
()Ë
assign
();

9029 
	g_width
 = 
cimg
::
mö
(
dimw
,()
s¸ìn_width
());

9030 
	g_height
 = 
cimg
::
mö
(
dimh
,()
s¸ìn_height
());

9031 
	g_n‹mÆiz©i⁄
 = 
n‹mÆiz©i⁄_ty≥
<4?normalization_type:3;

9032 
	g_is_fuŒs¸ìn
 = 
fuŒs¸ìn_Êag
;

9033 
	g_wödow_x
 = 
_wödow_y
 = 0;

9034 
	g_is_˛o£d
 = 
˛o£d_Êag
;

9035 
	g_is_curs‹_visibÀ
 = 
åue
;

9036 
	g_is_mou£_åacked
 = 
Ál£
;

9037 
	g_tôÀ
 = 
tmp_tôÀ
;

9038 
Êush
();

9039 i‡(
	g_is_fuŒs¸ìn
Ë
_öô_fuŒs¸ìn
();

9042 *c⁄° 
	g¨g
 = (*)(
√w
 *[2]);

9043 ((**)
	g¨g
)[0] = (*)
this
;

9044 ((**)
	g¨g
)[1] = (*)
_tôÀ
;

9045 
	g_muãx
 = 
Cª©eMuãx
(0,
FALSE
,0);

9046 
	g_is_¸óãd
 = 
Cª©eEvít
(0,
FALSE
,FALSE,0);

9047 
	g_thªad
 = 
Cª©eThªad
(0,0,
_evíts_thªad
,
¨g
,0,0);

9048 
WaôF‹SögÀObje˘
(
_is_¸óãd
,
INFINITE
);

9049  *
	gthis
;

9052 
	gCImgDi•œy
& 
assign
() {

9053 i‡(
is_em±y
()Ë 
Êush
();

9054 
De°royWödow
(
_wödow
);

9055 
Tîmö©eThªad
(
_thªad
,0);

9056 
	gdñëe
[] 
	g_d©a
;

9057 
	gdñëe
[] 
	g_tôÀ
;

9058 
	g_d©a
 = 0;

9059 
	g_tôÀ
 = 0;

9060 i‡(
	g_is_fuŒs¸ìn
Ë
_desöô_fuŒs¸ìn
();

9061 
	g_width
 = 
_height
 = 
_n‹mÆiz©i⁄
 = 
_wödow_width
 = 
_wödow_height
 = 0;

9062 
	g_wödow_x
 = 
_wödow_y
 = 0;

9063 
	g_is_fuŒs¸ìn
 = 
Ál£
;

9064 
	g_is_˛o£d
 = 
åue
;

9065 
	g_mö
 = 
_max
 = 0;

9066 
	g_tôÀ
 = 0;

9067 
Êush
();

9068  *
	gthis
;

9071 
	gCImgDi•œy
& 
assign
(c⁄° 
dimw
, c⁄° 
dimh
, c⁄° *c⁄° 
tôÀ
=0,

9072 c⁄° 
n‹mÆiz©i⁄_ty≥
=3,

9073 c⁄° 
boﬁ
 
fuŒs¸ìn_Êag
=
Ál£
, c⁄° boﬁ 
˛o£d_Êag
=false) {

9074 i‡(!
dimw
 || !
dimh
Ë 
assign
();

9075 
_assign
(
dimw
,
dimh
,
tôÀ
,
n‹mÆiz©i⁄_ty≥
,
fuŒs¸ìn_Êag
,
˛o£d_Êag
);

9076 
	g_mö
 = 
_max
 = 0;

9077 
	g°d
::
mem£t
(
_d©a
,0,()*
_width
*
_height
);

9078  
∑öt
();

9081 
	gãm∂©e
<
ty≥«me
 
	gT
>

9082 
	gCImgDi•œy
& 
assign
(c⁄° 
CImg
<
T
>& 
img
, c⁄° *c⁄° 
tôÀ
=0,

9083 c⁄° 
n‹mÆiz©i⁄_ty≥
=3,

9084 c⁄° 
boﬁ
 
fuŒs¸ìn_Êag
=
Ál£
, c⁄° boﬁ 
˛o£d_Êag
=false) {

9085 i‡(!
img
Ë 
assign
();

9086 
	gCImg
<
	gT
> 
	gtmp
;

9087 c⁄° 
	gCImg
<
	gT
>& 
	gnimg
 = (
img
.
_dïth
==1)?img:(
tmp
=img.
gë_¥oje˘i⁄s2d
((img.
_width
-1)/2,(img.
_height
-1)/2,(img._depth-1)/2));

9088 
_assign
(
nimg
.
_width
,nimg.
_height
,
tôÀ
,
n‹mÆiz©i⁄_ty≥
,
fuŒs¸ìn_Êag
,
˛o£d_Êag
);

9089 i‡(
	g_n‹mÆiz©i⁄
==2Ë
_mö
 = ()
nimg
.
mö_max
(
_max
);

9090  
di•œy
(
nimg
);

9093 
	gãm∂©e
<
ty≥«me
 
	gT
>

9094 
	gCImgDi•œy
& 
assign
(c⁄° 
CImgLi°
<
T
>& 
li°
, c⁄° *c⁄° 
tôÀ
=0,

9095 c⁄° 
n‹mÆiz©i⁄_ty≥
=3,

9096 c⁄° 
boﬁ
 
fuŒs¸ìn_Êag
=
Ál£
, c⁄° boﬁ 
˛o£d_Êag
=false) {

9097 i‡(!
li°
Ë 
assign
();

9098 
	gCImg
<
	gT
> 
	gtmp
;

9099 c⁄° 
	gCImg
<
	gT
> 
	gimg
 = 
li°
>'x', &
	gnimg
 = (
img
.
_dïth
==1)?img:(
tmp
=img.
gë_¥oje˘i⁄s2d
((img.
_width
-1)/2,(img.
_height
-1)/2,(img._depth-1)/2));

9100 
_assign
(
nimg
.
_width
,nimg.
_height
,
tôÀ
,
n‹mÆiz©i⁄_ty≥
,
fuŒs¸ìn_Êag
,
˛o£d_Êag
);

9101 i‡(
	g_n‹mÆiz©i⁄
==2Ë
_mö
 = ()
nimg
.
mö_max
(
_max
);

9102  
di•œy
(
nimg
);

9105 
	gCImgDi•œy
& 
assign
(c⁄° 
CImgDi•œy
& 
di•
) {

9106 i‡(!
	gdi•
Ë 
assign
();

9107 
_assign
(
di•
.
_width
,di•.
_height
,di•.
_tôÀ
,di•.
_n‹mÆiz©i⁄
,di•.
_is_fuŒs¸ìn
,di•.
_is_˛o£d
);

9108 
	g°d
::
mem˝y
(
_d©a
,
di•
._d©a,()*
_width
*
_height
);

9109  
∑öt
();

9112 
	gCImgDi•œy
& 
ªsize
(c⁄° 
nwidth
, c⁄° 
nheight
, c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

9113 i‡(!
nwidth
 || !
nheight
 || (
is_em±y
(Ë&& (nwidth<0 ||Çheight<0))Ë 
assign
();

9114 i‡(
is_em±y
()Ë 
assign
(
nwidth
,
nheight
);

9116 
	gtmpdimx
 = (
nwidth
>0)?nwidth:(-nwidth*
_width
/100),

9117 
	gtmpdimy
 = (
nheight
>0)?nheight:(-nheight*
_height
/100),

9118 
	gdimx
 = 
tmpdimx
?tmpdimx:1,

9119 
	gdimy
 = 
tmpdimy
?tmpdimy:1;

9120 i‡(
	g_wödow_width
!=
dimx
 || 
_wödow_height
!=
dimy
) {

9121 
RECT
 
ª˘
; 
	gª˘
.
	gÀ·
 =Ñe˘.
t›
 = 0;Ñe˘.
	gright
 = 
dimx
 - 1;Ñe˘.
	gbŸtom
 = 
dimy
 - 1;

9122 
Adju°WödowRe˘
(&
ª˘
,
WS_CAPTION
 | 
WS_SYSMENU
 | 
WS_THICKFRAME
 | 
WS_MINIMIZEBOX
 | 
WS_MAXIMIZEBOX
,
Ál£
);

9123 c⁄° 
	gcwidth
 = 
ª˘
.
right
 -Ñe˘.
À·
 + 1, 
	gcheight
 =Ñe˘.
bŸtom
 -Ñe˘.
t›
 + 1;

9124 
SëWödowPos
(
_wödow
,0,0,0,
cwidth
,
cheight
,
SWP_NOMOVE
 | 
SWP_NOZORDER
 | 
SWP_NOCOPYBITS
);

9126 i‡(
	g_width
!=
dimx
 || 
_height
!=
dimy
) {

9127 *c⁄° 
nd©a
 = 
√w
 [
dimx
*
dimy
];

9128 i‡(
	gf‹˚_ªdøw
Ë
_ªndî_ªsize
(
_d©a
,
_width
,
_height
,
nd©a
,
dimx
,
dimy
);

9129 
	g°d
::
mem£t
(
nd©a
,0x80,()*
dimx
*
dimy
);

9130 
	gdñëe
[] 
	g_d©a
;

9131 
	g_d©a
 = 
nd©a
;

9132 
	g_bmi
.
	gbmiHódî
.
	gbiWidth
 = 
dimx
;

9133 
	g_bmi
.
	gbmiHódî
.
	gbiHeight
 = -()
dimy
;

9134 
	g_width
 = 
dimx
;

9135 
	g_height
 = 
dimy
;

9137 
	g_wödow_width
 = 
dimx
; 
	g_wödow_height
 = 
dimy
;

9138 
	g_is_ªsized
 = 
Ál£
;

9139 i‡(
	g_is_fuŒs¸ìn
Ë
move
((
s¸ìn_width
()-
_width
)/2,(
s¸ìn_height
()-
_height
)/2);

9140 i‡(
	gf‹˚_ªdøw
Ë 
∑öt
();

9141  *
	gthis
;

9144 
	gCImgDi•œy
& 
toggÀ_fuŒs¸ìn
(c⁄° 
boﬁ
 
f‹˚_ªdøw
=
åue
) {

9145 i‡(
is_em±y
()Ë *
this
;

9146 i‡(
	gf‹˚_ªdøw
) {

9147 c⁄° 
	gbuf_size
 = 
_width
*
_height
*4UL;

9148 *
	god©a
 = 
°d
::
mÆloc
(
buf_size
);

9149 
	g°d
::
mem˝y
(
od©a
,
_d©a
,
buf_size
);

9150 
assign
(
_width
,
_height
,
_tôÀ
,
_n‹mÆiz©i⁄
,!
_is_fuŒs¸ìn
,
Ál£
);

9151 
	g°d
::
mem˝y
(
_d©a
,
od©a
,
buf_size
);

9152 
	g°d
::
‰ì
(
od©a
);

9153  
∑öt
();

9155  
assign
(
_width
,
_height
,
_tôÀ
,
_n‹mÆiz©i⁄
,!
_is_fuŒs¸ìn
,
Ál£
);

9158 
	gCImgDi•œy
& 
show
() {

9159 i‡(
is_em±y
(Ë|| !
	g_is_˛o£d
Ë *
	gthis
;

9160 
	g_is_˛o£d
 = 
Ál£
;

9161 i‡(
	g_is_fuŒs¸ìn
Ë
_öô_fuŒs¸ìn
();

9162 
ShowWödow
(
_wödow
,
SW_SHOW
);

9163 
_upd©e_wödow_pos
();

9164  
∑öt
();

9167 
	gCImgDi•œy
& 
˛o£
() {

9168 i‡(
is_em±y
(Ë|| 
	g_is_˛o£d
Ë *
	gthis
;

9169 
	g_is_˛o£d
 = 
åue
;

9170 i‡(
	g_is_fuŒs¸ìn
Ë
_desöô_fuŒs¸ìn
();

9171 
ShowWödow
(
_wödow
,
SW_HIDE
);

9172 
	g_wödow_x
 = 
_wödow_y
 = 0;

9173  *
	gthis
;

9176 
	gCImgDi•œy
& 
move
(c⁄° 
posx
, c⁄° 
posy
) {

9177 i‡(
is_em±y
()Ë *
	gthis
;

9178 i‡(!
	g_is_fuŒs¸ìn
) {

9179 
RECT
 
	gª˘
;Ñe˘.
	gÀ·
 = 
ª˘
.
t›
 = 0;Ñe˘.
	gright
 = 
_wödow_width
-1;Ñe˘.
	gbŸtom
 = 
_wödow_height
-1;

9180 
Adju°WödowRe˘
(&
ª˘
,
WS_CAPTION
 | 
WS_SYSMENU
 | 
WS_THICKFRAME
 | 
WS_MINIMIZEBOX
 | 
WS_MAXIMIZEBOX
,
Ál£
);

9181 c⁄° 
	gb‹dî1
 = (
ª˘
.
right
-ª˘.
À·
+1-
_width
)/2, 
	gb‹dî2
 =Ñe˘.
bŸtom
-ª˘.
t›
+1-
_height
-
b‹dî1
;

9182 
SëWödowPos
(
_wödow
,0,
posx
-
b‹dî1
,
posy
-
b‹dî2
,0,0,
SWP_NOSIZE
 | 
SWP_NOZORDER
);

9183 } 
SëWödowPos
(
_wödow
,0,
posx
,
posy
,0,0,
SWP_NOSIZE
 | 
SWP_NOZORDER
);

9184 
	g_wödow_x
 = 
posx
;

9185 
	g_wödow_y
 = 
posy
;

9186 
	g_is_moved
 = 
Ál£
;

9187  
show
();

9190 
	gCImgDi•œy
& 
show_mou£
() {

9191 i‡(
is_em±y
()Ë *
	gthis
;

9192 
	g_is_curs‹_visibÀ
 = 
åue
;

9193 
SídMesßge
(
_wödow
,
WM_SETCURSOR
,0,0);

9194  *
	gthis
;

9197 
	gCImgDi•œy
& 
hide_mou£
() {

9198 i‡(
is_em±y
()Ë *
	gthis
;

9199 
	g_is_curs‹_visibÀ
 = 
Ál£
;

9200 
SídMesßge
(
_wödow
,
WM_SETCURSOR
,0,0);

9201  *
	gthis
;

9204 
	gCImgDi•œy
& 
£t_mou£
(c⁄° 
posx
, c⁄° 
posy
) {

9205 i‡(
	g_is_˛o£d
 || 
	gposx
<0 || 
	gposy
<0Ë *
	gthis
;

9206 
_upd©e_wödow_pos
();

9207 c⁄° 
	gªs
 = ()
SëCurs‹Pos
(
_wödow_x
 + 
posx
,
_wödow_y
 + 
posy
);

9208 i‡(
	gªs
Ë{ 
	g_mou£_x
 = 
posx
; 
	g_mou£_y
 = 
posy
; }

9209  *
	gthis
;

9212 
	gCImgDi•œy
& 
£t_tôÀ
(c⁄° *c⁄° 
f‹m©
, ...) {

9213 i‡(
is_em±y
()Ë *
	gthis
;

9214 
	gtmp
[1024] = { 0 };

9215 
va_li°
 
	g≠
;

9216 
va_°¨t
(
≠
, 
f‹m©
);

9217 
cimg_v¢¥ötf
(
tmp
,—mp),
f‹m©
,
≠
);

9218 
va_íd
(
≠
);

9219 i‡(!
	g°d
::
°rcmp
(
_tôÀ
,
tmp
)Ë *
	gthis
;

9220 
	gdñëe
[] 
	g_tôÀ
;

9221 c⁄° 
	gs
 = ()
°d
::
°æí
(
tmp
) + 1;

9222 
	g_tôÀ
 = 
√w
 [
s
];

9223 
	g°d
::
mem˝y
(
_tôÀ
,
tmp
,
s
*());

9224 
SëWödowTextA
(
_wödow
, 
tmp
);

9225  *
	gthis
;

9228 
	gãm∂©e
<
ty≥«me
 
	gT
>

9229 
	gCImgDi•œy
& 
di•œy
(c⁄° 
CImg
<
T
>& 
img
) {

9230 i‡(!
	gimg
)

9231 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgdi•œy_ö°™˚


9233 
cimgdi•œy_ö°™˚
);

9234 i‡(
is_em±y
()Ë 
assign
(
img
);

9235  
ªndî
(
img
).
∑öt
();

9238 
	gCImgDi•œy
& 
∑öt
() {

9239 i‡(
	g_is_˛o£d
Ë *
	gthis
;

9240 
WaôF‹SögÀObje˘
(
_muãx
,
INFINITE
);

9241 
SëDIBôsToDevi˚
(
_hdc
,0,0,
_width
,
_height
,0,0,0,_height,
_d©a
,&
_bmi
,
DIB_RGB_COLORS
);

9242 
Rñó£Muãx
(
_muãx
);

9243  *
	gthis
;

9246 
	gãm∂©e
<
ty≥«me
 
	gT
>

9247 
	gCImgDi•œy
& 
ªndî
(c⁄° 
CImg
<
T
>& 
img
) {

9248 i‡(!
	gimg
)

9249 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgdi•œy_ö°™˚


9251 
cimgdi•œy_ö°™˚
);

9253 i‡(
is_em±y
()Ë *
	gthis
;

9254 i‡(
	gimg
.
	g_dïth
!=1Ë 
ªndî
(
img
.
gë_¥oje˘i⁄s2d
((img.
_width
-1)/2,(img.
_height
-1)/2,(img.
_dïth
-1)/2));

9256 c⁄° 
T


9257 *
	gd©a1
 = 
img
.
_d©a
,

9258 *
	gd©a2
 = (
img
.
_•e˘rum
>=2)?img.
d©a
(0,0,0,1):
d©a1
,

9259 *
	gd©a3
 = (
img
.
_•e˘rum
>=3)?img.
d©a
(0,0,0,2):
d©a1
;

9261 
WaôF‹SögÀObje˘
(
_muãx
,
INFINITE
);

9263 *c⁄° 
	gnd©a
 = (
img
.
_width
==_width && img.
_height
==_height)?
_d©a
:
√w
 [()img._width*img._height],

9264 *
	g±rd
 = 
nd©a
;

9266 i‡(!
	g_n‹mÆiz©i⁄
 || (_n‹mÆiz©i⁄==3 && 
cimg
::
ty≥
<
T
>::
°rög
()==cimg::type<>::string())) {

9267 
_mö
 = 
_max
 = 0;

9268 
	gimg
.
	g_•e˘rum
) {

9270 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

9271 c⁄° 
	gvÆ
 = ()*(
d©a1
++);

9272 *(
	g±rd
++Ë(
vÆ
<<16) | (val<<8) | val;

9276 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

9277 *(
	g±rd
++Ë(()*(
d©a1
++)<<16Ë| (()*(
d©a2
++)<<8);

9280 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy)

9281 *(
	g±rd
++Ë(()*(
d©a1
++)<<16Ë| (()*(
d©a2
++)<<8Ë| ()*(
d©a3
++);

9285 i‡(
	g_n‹mÆiz©i⁄
==3) {

9286 i‡(
cimg
::
ty≥
<
T
>::
is_Êﬂt
()Ë
_mö
 = ()
img
.
mö_max
(
_max
);

9287 { 
	g_mö
 = ()
cimg
::
ty≥
<
T
>::
mö
(); 
	g_max
 = ()cimg::ty≥<T>::
max
(); }

9288 } i‡((
	g_mö
>
	g_max
Ë|| 
	g_n‹mÆiz©i⁄
==1Ë
_mö
 = ()
img
.
mö_max
(
_max
);

9289 c⁄° 
	gdñè
 = 
_max
 - 
_mö
, 
	gmm
 = 255/(
dñè
?delta:1.0f);

9290 
	gimg
.
	g_•e˘rum
) {

9292 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

9293 c⁄° 
	gvÆ
 = ()((*(
d©a1
++)-
_mö
)*
mm
);

9294 *(
	g±rd
++Ë(
vÆ
<<16) | (val<<8) | val;

9298 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

9300 
	gR
 = ()((*(
d©a1
++)-
_mö
)*
mm
),

9301 
	gG
 = ()((*(
d©a2
++)-
_mö
)*
mm
);

9302 *(
	g±rd
++Ë(
R
<<16Ë| (
G
<<8);

9306 
xy
 = ()
img
.
_width
*img.
_height
; 
	gxy
>0; --xy) {

9308 
	gR
 = ()((*(
d©a1
++)-
_mö
)*
mm
),

9309 
	gG
 = ()((*(
d©a2
++)-
_mö
)*
mm
),

9310 
	gB
 = ()((*(
d©a3
++)-
_mö
)*
mm
);

9311 *(
	g±rd
++Ë(
R
<<16Ë| (
G
<<8Ë| 
B
;

9316 i‡(
	gnd©a
!=
_d©a
Ë{ 
_ªndî_ªsize
(
nd©a
,
img
.
_width
,img.
_height
,_d©a,_width,_height); 
	gdñëe
[]Çdata; }

9317 
Rñó£Muãx
(
_muãx
);

9318  *
	gthis
;

9321 
	gãm∂©e
<
ty≥«me
 
	gT
>

9322 c⁄° 
	gCImgDi•œy
& 
¢≠shŸ
(
CImg
<
T
>& 
img
) const {

9323 i‡(
is_em±y
()Ë{ 
	gimg
.
assign
();  *
	gthis
; }

9324 c⁄° *
	g±rs
 = 
_d©a
;

9325 
	gimg
.
assign
(
_width
,
_height
,1,3);

9326 
T


9327 *
	gd©a1
 = 
img
.
d©a
(0,0,0,0),

9328 *
	gd©a2
 = 
img
.
d©a
(0,0,0,1),

9329 *
	gd©a3
 = 
img
.
d©a
(0,0,0,2);

9330 
	gxy
 = ()
img
.
_width
*img.
_height
; xy>0; --xy) {

9331 c⁄° 
	gvÆ
 = *(
±rs
++);

9332 *(
	gd©a1
++Ë(
T
)()(
vÆ
>>16);

9333 *(
	gd©a2
++Ë(
T
)()((
vÆ
>>8)&0xFF);

9334 *(
	gd©a3
++Ë(
T
)()(
vÆ
&0xFF);

9336  *
	gthis
;

9446 
	gãm∂©e
<
ty≥«me
 
	gT
>

9447 
	sCImg
 {

9449 
	g_width
, 
	g_height
, 
	g_dïth
, 
	g_•e˘rum
;

9450 
boﬁ
 
	g_is_sh¨ed
;

9451 
T
 *
	g_d©a
;

9466 
T
* 
	tôî©‹
;

9482 c⁄° 
	tT
* 
	tc⁄°_ôî©‹
;

9492 
T
 
	tvÆue_ty≥
;

9495 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,
	tboﬁ
>::
	tty≥
 
	tTboﬁ
;

9496 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTuch¨
;

9497 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTch¨
;

9498 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTush‹t
;

9499 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTsh‹t
;

9500 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTuöt
;

9501 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTöt
;

9502 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTul⁄g
;

9503 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTl⁄g
;

9504 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTÊﬂt
;

9505 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTdoubÀ
;

9506 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,
	tboﬁ
>::
	tty≥
 
	tboﬁT
;

9507 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tuch¨T
;

9508 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tch¨T
;

9509 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tush‹tT
;

9510 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tsh‹tT
;

9511 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tuötT
;

9512 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tötT
;

9513 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tul⁄gT
;

9514 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tl⁄gT
;

9515 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tÊﬂtT
;

9516 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tdoubÀT
;

9524 #ifde‡
cimg_∂ugö


9525 #ö˛udê
cimg_∂ugö


9527 #ifde‡
cimg_∂ugö1


9528 #ö˛udê
cimg_∂ugö1


9530 #ifde‡
cimg_∂ugö2


9531 #ö˛udê
cimg_∂ugö2


9533 #ifde‡
cimg_∂ugö3


9534 #ö˛udê
cimg_∂ugö3


9536 #ifde‡
cimg_∂ugö4


9537 #ö˛udê
cimg_∂ugö4


9539 #ifde‡
cimg_∂ugö5


9540 #ö˛udê
cimg_∂ugö5


9542 #ifde‡
cimg_∂ugö6


9543 #ö˛udê
cimg_∂ugö6


9545 #ifde‡
cimg_∂ugö7


9546 #ö˛udê
cimg_∂ugö7


9548 #ifde‡
cimg_∂ugö8


9549 #ö˛udê
cimg_∂ugö8


9568 ~
CImg
() {

9569 i‡(!
	g_is_sh¨ed
Ë
	gdñëe
[] 
	g_d©a
;

9588 
CImg
():
_width
(0),
_height
(0),
_dïth
(0),
_•e˘rum
(0),
_is_sh¨ed
(
Ál£
),
_d©a
(0) {}

9610 
ex∂icô
 
CImg
(c⁄° 
size_x
, c⁄° 
size_y
=1, c⁄° 
size_z
=1, c⁄° 
size_c
=1):

9611 
_is_sh¨ed
(
Ál£
) {

9612 c⁄° 
siz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

9613 i‡(
	gsiz
) {

9614 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_dïth
 = 
size_z
; 
	g_•e˘rum
 = 
size_c
;

9615 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9616 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9617 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9619 
cimg_ö°™˚
,

9620 
cimg
::
°rbuf„rsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),size_x,size_y,size_z,size_c);

9622 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0; }

9639 
CImg
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
, c⁄° 
T
 
vÆue
):

9640 
_is_sh¨ed
(
Ál£
) {

9641 c⁄° 
siz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

9642 i‡(
	gsiz
) {

9643 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_dïth
 = 
size_z
; 
	g_•e˘rum
 = 
size_c
;

9644 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9645 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9646 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9648 
cimg_ö°™˚
,

9649 
cimg
::
°rbuf„rsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),size_x,size_y,size_z,size_c);

9651 
fûl
(
vÆue
);

9652 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0; }

9682 
CImg
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
,

9683 c⁄° 
vÆue0
, c⁄° 
vÆue1
, ...):
_width
(0),
_height
(0),
_dïth
(0),
_•e˘rum
(0),
_is_sh¨ed
(
Ál£
),
_d©a
(0) {

9684 
	#_CImg_°d¨g
(
img
,
a0
,
a1
,
N
,
t
) { \

9685 
_siz
 = ()
N
; \

9686 i‡(
_siz
--) { \

9687 
va_li°
 
≠
; \

9688 
	`va_°¨t
(
≠
,
a1
); \

9689 
T
 *
±rd
 = (
img
).
_d©a
; \

9690 *(
±rd
++Ë(
T
)
a0
; \

9691 i‡(
_siz
--) { \

9692 *(
±rd
++Ë(
T
)
a1
; \

9693 ; 
_siz
; --_sizË*(
±rd
++Ë(
T
)
	`va_¨g
(
≠
,
t
); \

9695 
	`va_íd
(
≠
); \

9697 }

	)

9698 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

9699 
_CImg_°d¨g
(*
this
,
vÆue0
,
vÆue1
,()
size_x
*
size_y
*
size_z
*
size_c
,);

9724 
CImg
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
,

9725 c⁄° 
vÆue0
, c⁄° 
vÆue1
, ...):
_width
(0),
_height
(0),
_dïth
(0),
_•e˘rum
(0),
_is_sh¨ed
(
Ál£
),
_d©a
(0) {

9726 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

9727 
_CImg_°d¨g
(*
this
,
vÆue0
,
vÆue1
,()
size_x
*
size_y
*
size_z
*
size_c
,);

9758 
CImg
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
,

9759 c⁄° *c⁄° 
vÆues
, c⁄° 
boﬁ
 
ª≥©_vÆues
):
_is_sh¨ed
(
Ál£
) {

9760 c⁄° 
siz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

9761 i‡(
	gsiz
) {

9762 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_dïth
 = 
size_z
; 
	g_•e˘rum
 = 
size_c
;

9763 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9764 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9765 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9767 
cimg_ö°™˚
,

9768 
cimg
::
°rbuf„rsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),size_x,size_y,size_z,size_c);

9770 
fûl
(
vÆues
,
ª≥©_vÆues
);

9771 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0; }

9801 
	gãm∂©e
<
ty≥«me
 
	gt
>

9802 
CImg
(c⁄° 
t
 *c⁄° 
vÆues
, c⁄° 
size_x
, c⁄° 
size_y
=1,

9803 c⁄° 
size_z
=1, c⁄° 
size_c
=1, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):
_is_sh¨ed
(false) {

9804 i‡(
is_sh¨ed
) {

9805 
_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9806 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


9809 
cimg_ö°™˚
,

9810 
size_x
,
size_y
,
size_z
,
size_c
,
CImg
<
t
>::
pixñ_ty≥
());

9812 c⁄° 
	gsiz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

9813 i‡(
	gvÆues
 && 
	gsiz
) {

9814 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_dïth
 = 
size_z
; 
	g_•e˘rum
 = 
size_c
;

9815 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9816 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9817 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9819 
cimg_ö°™˚
,

9820 
cimg
::
°rbuf„rsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),size_x,size_y,size_z,size_c);

9823 c⁄° 
t
 *
	g±rs
 = 
vÆues
; 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)*(
±rs
++);

9824 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0; }

9828 
CImg
(c⁄° 
T
 *c⁄° 
vÆues
, c⁄° 
size_x
, c⁄° 
size_y
=1,

9829 c⁄° 
size_z
=1, c⁄° 
size_c
=1, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

9830 c⁄° 
siz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

9831 i‡(
	gvÆues
 && 
	gsiz
) {

9832 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_dïth
 = 
size_z
; 
	g_•e˘rum
 = 
size_c
; 
	g_is_sh¨ed
 = 
is_sh¨ed
;

9833 i‡(
	g_is_sh¨ed
Ë
	g_d©a
 = 
c⁄°_ˇ°
<
T
*>(
vÆues
);

9835 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9836 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9837 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9839 
cimg_ö°™˚
,

9840 
cimg
::
°rbuf„rsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),size_x,size_y,size_z,size_c);

9842 
	g°d
::
mem˝y
(
_d©a
,
vÆues
,
siz
*(
T
)); }

9843 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_is_sh¨ed
 = 
Ál£
; 
	g_d©a
 = 0; }

9865 
ex∂icô
 
CImg
(c⁄° *c⁄° 
fûíame
):
_width
(0),
_height
(0),
_dïth
(0),
_•e˘rum
(0),
_is_sh¨ed
(
Ál£
),
_d©a
(0) {

9866 
assign
(
fûíame
);

9884 
	gãm∂©e
<
ty≥«me
 
	gt
>

9885 
CImg
(c⁄° CImg<
t
>& 
img
):
_is_sh¨ed
(
Ál£
) {

9886 c⁄° 
siz
 = 
img
.
size
();

9887 i‡(
	gimg
.
	g_d©a
 && 
	gsiz
) {

9888 
	g_width
 = 
img
.
_width
; 
	g_height
 = img.
_height
; 
	g_dïth
 = img.
_dïth
; 
	g_•e˘rum
 = img.
_•e˘rum
;

9889 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9890 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9891 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9893 
cimg_ö°™˚
,

9894 
cimg
::
°rbuf„rsize
((
T
)*
img
.
_width
*img.
_height
*img.
_dïth
*img.
_•e˘rum
),

9895 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
);

9897 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)*(
±rs
++);

9898 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0; }

9902 
CImg
(c⁄° CImg<
T
>& 
img
) {

9903 c⁄° 
	gsiz
 = 
img
.
size
();

9904 i‡(
	gimg
.
	g_d©a
 && 
	gsiz
) {

9905 
	g_width
 = 
img
.
_width
; 
	g_height
 = img.
_height
; 
	g_dïth
 = img.
_dïth
; 
	g_•e˘rum
 = img.
_•e˘rum
; 
	g_is_sh¨ed
 = img.
_is_sh¨ed
;

9906 i‡(
	g_is_sh¨ed
Ë
	g_d©a
 = 
c⁄°_ˇ°
<
T
*>(
img
.
_d©a
);

9908 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9909 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9910 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9912 
cimg_ö°™˚
,

9913 
cimg
::
°rbuf„rsize
((
T
)*
img
.
_width
*img.
_height
*img.
_dïth
*img.
_•e˘rum
),

9914 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
);

9917 
	g°d
::
mem˝y
(
_d©a
,
img
._d©a,
siz
*(
T
));

9919 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_is_sh¨ed
 = 
Ál£
; 
	g_d©a
 = 0; }

9937 
	gãm∂©e
<
ty≥«me
 
	gt
>

9938 
CImg
(c⁄° CImg<
t
>& 
img
, c⁄° 
boﬁ
 
is_sh¨ed
):
_is_sh¨ed
(
Ál£
) {

9939 i‡(
is_sh¨ed
) {

9940 
_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9941 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


9944 
cimg_ö°™˚
,

9945 
CImg
<
t
>::
pixñ_ty≥
(),
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,img.
_d©a
);

9947 c⁄° 
	gsiz
 = 
img
.
size
();

9948 i‡(
	gimg
.
	g_d©a
 && 
	gsiz
) {

9949 
	g_width
 = 
img
.
_width
; 
	g_height
 = img.
_height
; 
	g_dïth
 = img.
_dïth
; 
	g_•e˘rum
 = img.
_•e˘rum
;

9950 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9951 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9952 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9954 
cimg_ö°™˚
,

9955 
cimg
::
°rbuf„rsize
((
T
)*
img
.
_width
*img.
_height
*img.
_dïth
*img.
_•e˘rum
),

9956 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
);

9958 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)*(
±rs
++);

9959 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0; }

9963 
CImg
(c⁄° CImg<
T
>& 
img
, c⁄° 
boﬁ
 
is_sh¨ed
) {

9964 c⁄° 
	gsiz
 = 
img
.
size
();

9965 i‡(
	gimg
.
	g_d©a
 && 
	gsiz
) {

9966 
	g_width
 = 
img
.
_width
; 
	g_height
 = img.
_height
; 
	g_dïth
 = img.
_dïth
; 
	g_•e˘rum
 = img.
_•e˘rum
; 
	g_is_sh¨ed
 = 
is_sh¨ed
;

9967 i‡(
	g_is_sh¨ed
Ë
	g_d©a
 = 
c⁄°_ˇ°
<
T
*>(
img
.
_d©a
);

9969 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

9970 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

9971 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


9973 
cimg_ö°™˚
,

9974 
cimg
::
°rbuf„rsize
((
T
)*
img
.
_width
*img.
_height
*img.
_dïth
*img.
_•e˘rum
),

9975 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
);

9977 
	g°d
::
mem˝y
(
_d©a
,
img
._d©a,
siz
*(
T
));

9979 } { 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_is_sh¨ed
 = 
Ál£
; 
	g_d©a
 = 0; }

10000 
	gãm∂©e
<
ty≥«me
 
	gt
>

10001 
CImg
(c⁄° CImg<
t
>& 
img
, c⁄° *c⁄° 
dimísi⁄s
):
_width
(0),
_height
(0),
_dïth
(0),
_•e˘rum
(0),
_is_sh¨ed
(
Ál£
),
_d©a
(0) {

10002 
assign
(
img
,
dimísi⁄s
);

10015 
	gãm∂©e
<
ty≥«me
 
	gt
>

10016 
CImg
(c⁄° CImg<
t
>& 
img
, c⁄° *c⁄° 
dimísi⁄s
, c⁄° 
T
 
vÆue
):

10017 
_width
(0),
_height
(0),
_dïth
(0),
_•e˘rum
(0),
_is_sh¨ed
(
Ál£
),
_d©a
(0) {

10018 
assign
(
img
,
dimísi⁄s
).
fûl
(
vÆue
);

10030 
ex∂icô
 
CImg
(c⁄° 
CImgDi•œy
 &
di•
):
_width
(0),
_height
(0),
_dïth
(0),
_•e˘rum
(0),
_is_sh¨ed
(
Ál£
),
_d©a
(0) {

10031 
	gdi•
.
¢≠shŸ
(*
this
);

10038 
	gCImg
<
	gT
>& 
assign
() {

10039 i‡(!
	g_is_sh¨ed
Ë
	gdñëe
[] 
	g_d©a
;

10040 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_is_sh¨ed
 = 
Ál£
; 
	g_d©a
 = 0;

10041  *
	gthis
;

10048 
	gCImg
<
	gT
>& 
assign
(c⁄° 
size_x
, c⁄° 
size_y
=1, c⁄° 
size_z
=1, c⁄° 
size_c
=1) {

10049 c⁄° 
siz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

10050 i‡(!
	gsiz
Ë 
assign
();

10051 c⁄° 
	gcuº_siz
 = 
size
();

10052 i‡(
	gsiz
!=
cuº_siz
) {

10053 i‡(
_is_sh¨ed
)

10054 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


10056 
cimg_ö°™˚
,

10057 
size_x
,
size_y
,
size_z
,
size_c
);

10059 
	gdñëe
[] 
	g_d©a
;

10060 
	gåy
 { 
	g_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

10061 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

10062 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


10064 
cimg_ö°™˚
,

10065 
cimg
::
°rbuf„rsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),size_x,size_y,size_z,size_c);

10069 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_dïth
 = 
size_z
; 
	g_•e˘rum
 = 
size_c
;

10070  *
	gthis
;

10077 
	gCImg
<
	gT
>& 
assign
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
, c⁄° 
T
 
vÆue
) {

10078  
assign
(
size_x
,
size_y
,
size_z
,
size_c
).
fûl
(
vÆue
);

10085 
	gCImg
<
	gT
>& 
assign
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
,

10086 c⁄° 
vÆue0
, c⁄° 
vÆue1
, ...) {

10087 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

10088 
_CImg_°d¨g
(*
this
,
vÆue0
,
vÆue1
,()
size_x
*
size_y
*
size_z
*
size_c
,);

10089  *
	gthis
;

10096 
	gCImg
<
	gT
>& 
assign
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
,

10097 c⁄° 
vÆue0
, c⁄° 
vÆue1
, ...) {

10098 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

10099 
_CImg_°d¨g
(*
this
,
vÆue0
,
vÆue1
,()
size_x
*
size_y
*
size_z
*
size_c
,);

10100  *
	gthis
;

10107 
	gCImg
<
	gT
>& 
assign
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
,

10108 c⁄° *c⁄° 
vÆues
, c⁄° 
boﬁ
 
ª≥©_vÆues
) {

10109  
assign
(
size_x
,
size_y
,
size_z
,
size_c
).
fûl
(
vÆues
,
ª≥©_vÆues
);

10116 
	gãm∂©e
<
ty≥«me
 
	gt
>

10117 
	gCImg
<
	gT
>& 
assign
(c⁄° 
t
 *c⁄° 
vÆues
, c⁄° 
size_x
, c⁄° 
size_y
=1,

10118 c⁄° 
size_z
=1, c⁄° 
size_c
=1) {

10119 c⁄° 
siz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

10120 i‡(!
	gvÆues
 || !
	gsiz
Ë 
assign
();

10121 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

10122 c⁄° 
t
 *
	g±rs
 = 
vÆues
; 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)*(
±rs
++);

10123  *
	gthis
;

10127 
	gCImg
<
	gT
>& 
assign
(c⁄° 
T
 *c⁄° 
vÆues
, c⁄° 
size_x
, c⁄° 
size_y
=1,

10128 c⁄° 
size_z
=1, c⁄° 
size_c
=1) {

10129 c⁄° 
siz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

10130 i‡(!
	gvÆues
 || !
	gsiz
Ë 
assign
();

10131 c⁄° 
	gcuº_siz
 = 
size
();

10132 i‡(
	gvÆues
==
_d©a
 && 
siz
==
cuº_siz
Ë 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

10133 i‡(
	g_is_sh¨ed
 || 
	gvÆues
+
	gsiz
<
	g_d©a
 || vÆues>=
_d©a
+
size
()) {

10134 
assign
(
size_x
,
size_y
,
size_z
,
size_c
);

10135 i‡(
	g_is_sh¨ed
Ë
	g°d
::
memmove
(
_d©a
,
vÆues
,
siz
*(
T
));

10136 
	g°d
::
mem˝y
(
_d©a
,
vÆues
,
siz
*(
T
));

10138 
T
 *
	g√w_d©a
 = 0;

10139 
	gåy
 { 
	g√w_d©a
 = 
√w
 
T
[
siz
]; } 
ˇtch
 (...) {

10140 
	g_width
 = 
_height
 = 
_dïth
 = 
_•e˘rum
 = 0; 
	g_d©a
 = 0;

10141 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


10143 
cimg_ö°™˚
,

10144 
cimg
::
°rbuf„rsize
((
T
)*
size_x
*
size_y
*
size_z
*
size_c
),size_x,size_y,size_z,size_c);

10146 
	g°d
::
mem˝y
(
√w_d©a
,
vÆues
,
siz
*(
T
));

10147 
	gdñëe
[] 
	g_d©a
; _d©®
√w_d©a
; 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_dïth
 = 
size_z
; 
	g_•e˘rum
 = 
size_c
;

10149  *
	gthis
;

10153 
	gãm∂©e
<
ty≥«me
 
	gt
>

10154 
	gCImg
<
	gT
>& 
assign
(c⁄° 
t
 *c⁄° 
vÆues
, c⁄° 
size_x
, c⁄° 
size_y
,

10155 c⁄° 
size_z
, c⁄° 
size_c
, c⁄° 
boﬁ
 
is_sh¨ed
) {

10156 i‡(
	gis_sh¨ed
)

10157 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


10160 
cimg_ö°™˚
,

10161 
CImg
<
t
>::
pixñ_ty≥
());

10162  
assign
(
vÆues
,
size_x
,
size_y
,
size_z
,
size_c
);

10166 
	gCImg
<
	gT
>& 
assign
(c⁄° 
T
 *c⁄° 
vÆues
, c⁄° 
size_x
, c⁄° 
size_y
,

10167 c⁄° 
size_z
, c⁄° 
size_c
, c⁄° 
boﬁ
 
is_sh¨ed
) {

10168 c⁄° 
	gsiz
 = ()
size_x
*
size_y
*
size_z
*
size_c
;

10169 i‡(!
	gvÆues
 || !
	gsiz
) {

10170 i‡(
	gis_sh¨ed
)

10171 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


10173 
cimg_ö°™˚
);

10174  
assign
();

10176 i‡(!
	gis_sh¨ed
Ë{ i‡(
	g_is_sh¨ed
Ë
assign
();ássign(
vÆues
,
size_x
,
size_y
,
size_z
,
size_c
); }

10178 i‡(!
	g_is_sh¨ed
) {

10179 i‡(
	gvÆues
+
	gsiz
<
	g_d©a
 || vÆues>=
_d©a
+
size
()Ë
assign
();

10180 
	gcimg
::
w¨n
(
_cimg_ö°™˚


10182 
cimg_ö°™˚
);

10184 
	g_width
 = 
size_x
; 
	g_height
 = 
size_y
; 
	g_dïth
 = 
size_z
; 
	g_•e˘rum
 = 
size_c
; 
	g_is_sh¨ed
 = 
åue
;

10185 
	g_d©a
 = 
c⁄°_ˇ°
<
T
*>(
vÆues
);

10187  *
	gthis
;

10194 
	gCImg
<
	gT
>& 
assign
(c⁄° *c⁄° 
fûíame
) {

10195  
lﬂd
(
fûíame
);

10202 
	gãm∂©e
<
ty≥«me
 
	gt
>

10203 
	gCImg
<
	gT
>& 
assign
(c⁄° 
CImg
<
t
>& 
img
) {

10204  
assign
(
img
.
_d©a
,img.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
);

10211 
	gãm∂©e
<
ty≥«me
 
	gt
>

10212 
	gCImg
<
	gT
>& 
assign
(c⁄° 
CImg
<
t
>& 
img
, c⁄° 
boﬁ
 
is_sh¨ed
) {

10213  
assign
(
img
.
_d©a
,img.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,
is_sh¨ed
);

10220 
	gãm∂©e
<
ty≥«me
 
	gt
>

10221 
	gCImg
<
	gT
>& 
assign
(c⁄° 
CImg
<
t
>& 
img
, c⁄° *c⁄° 
dimísi⁄s
) {

10222 i‡(!
	gdimísi⁄s
 || !*dimísi⁄sË 
assign
(
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
);

10223 
	gsiz
[4] = { 0,1,1,1 }, 
	gk
 = 0;

10224 c⁄° *
	gs
 = 
dimísi⁄s
; *†&& 
	gk
<4; ++k) {

10225 
	gôem
[256] = { 0 };

10226 i‡(
	g°d
::
ssˇnf
(
s
,"%255[^0-9%xyzvwhdcXYZVWHDC]",
ôem
)>0Ë
	gs
+=
°d
::
°æí
(item);

10227 i‡(*
	gs
) {

10228 
	gvÆ
 = 0; 
	g£p
 = 0;

10229 i‡(
	g°d
::
ssˇnf
(
s
,"%u%c",&
vÆ
,&
£p
)>0) {

10230 i‡(
	g£p
=='%'Ë
siz
[
k
] = 
vÆ
*(k==0?
_width
:k==1?
_height
:k==2?
_dïth
:
_•e˘rum
)/100;

10231 
	gsiz
[
k
] = 
vÆ
;

10232 *
	gs
>='0' && *
s
<='9'Ë++s; i‡(
	g£p
=='%') ++s;

10233 } 
	gcimg
::
unˇ£
(*
s
)) {

10234 'x' : 'w' : 
siz
[
k
] = 
img
.
_width
; ++
	gs
; ;

10235 'y' : 'h' : 
siz
[
k
] = 
img
.
_height
; ++
	gs
; ;

10236 'z' : 'd' : 
siz
[
k
] = 
img
.
_dïth
; ++
	gs
; ;

10237 'c' : 's' : 
siz
[
k
] = 
img
.
_•e˘rum
; ++
	gs
; ;

10239 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


10241 
cimg_ö°™˚
,

10242 *
s
,
dimísi⁄s
);

10246  
assign
(
siz
[0],siz[1],siz[2],siz[3]);

10253 
	gãm∂©e
<
ty≥«me
 
	gt
>

10254 
	gCImg
<
	gT
>& 
assign
(c⁄° 
CImg
<
t
>& 
img
, c⁄° *c⁄° 
dimísi⁄s
, c⁄° 
T
 
vÆue
) {

10255  
assign
(
img
,
dimísi⁄s
).
fûl
(
vÆue
);

10262 
	gCImg
<
	gT
>& 
assign
(c⁄° 
CImgDi•œy
 &
di•
) {

10263 
	gdi•
.
¢≠shŸ
(*
this
);

10264  *
	gthis
;

10273 
	gCImg
<
	gT
>& 
˛ór
() {

10274  
assign
();

10293 
	gãm∂©e
<
ty≥«me
 
	gt
>

10294 
	gCImg
<
	gt
>& 
move_to
(
CImg
<
t
>& 
img
) {

10295 
	gimg
.
assign
(*
this
);

10296 
assign
();

10297  
	gimg
;

10301 
	gCImg
<
	gT
>& 
move_to
(
CImg
<
T
>& 
img
) {

10302 i‡(
	g_is_sh¨ed
 || 
	gimg
._is_sh¨edËimg.
assign
(*
this
);

10303 
sw≠
(
img
);

10304 
assign
();

10305  
	gimg
;

10326 
	gãm∂©e
<
ty≥«me
 
	gt
>

10327 
	gCImgLi°
<
	gt
>& 
move_to
(
CImgLi°
<
t
>& 
li°
, c⁄° 
pos
=~0U) {

10328 c⁄° 
≈os
 = 
pos
>
li°
.
_width
?list._width:pos;

10329 
move_to
(
li°
.
ö£π
(1,
≈os
)[npos]);

10330  
	gli°
;

10346 
	gCImg
<
	gT
>& 
sw≠
(
CImg
<
T
>& 
img
) {

10347 
	gcimg
::
sw≠
(
_width
,
img
._width);

10348 
	gcimg
::
sw≠
(
_height
,
img
._height);

10349 
	gcimg
::
sw≠
(
_dïth
,
img
._depth);

10350 
	gcimg
::
sw≠
(
_•e˘rum
,
img
._spectrum);

10351 
	gcimg
::
sw≠
(
_d©a
,
img
._data);

10352 
	gcimg
::
sw≠
(
_is_sh¨ed
,
img
._is_shared);

10353  
	gimg
;

10364 
	gCImg
<
	gT
>& 
em±y
() {

10365 
	gCImg
<
	gT
> 
	g_em±y
;

10366  
	g_em±y
.
assign
();

10406 #i‡
cimg_vîbosôy
>=3

10407 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
=0, c⁄° 
	gz
=0, c⁄° 
	gc
=0) {

10408 c⁄° 
off
 = ()
off£t
(
x
,
y
,
z
,
c
);

10409 i‡(!
	g_d©a
 || 
	goff
>=
size
()) {

10410 
cimg
::
w¨n
(
_cimg_ö°™˚


10412 
cimg_ö°™˚
,

10413 
x
,
y
,
z
,
c
,
off
);

10414  *
	g_d©a
;

10416  
	g_d©a
[
off
];

10420 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
=0, c⁄° 
	gz
=0, c⁄° 
	gc
=0) const {

10421  
c⁄°_ˇ°
<
CImg
<
T
>*>(
this
)->
›î©‹
()(
x
,
y
,
z
,
c
);

10437 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
,

10438 c⁄° 
	gwh
, c⁄° 
	gwhd
=0) {

10439 
cimg
::
unu£d
(
wh
,
whd
);

10440  (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
);

10444 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
,

10445 c⁄° 
	gwh
, c⁄° 
	gwhd
=0) const {

10446 
cimg
::
unu£d
(
wh
,
whd
);

10447  (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
);

10450 
	gT
& 
›î©‹
()(c⁄° 
	gx
) {

10451  
	g_d©a
[
x
];

10454 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gx
) const {

10455  
	g_d©a
[
x
];

10458 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
) {

10459  
	g_d©a
[
x
 + 
y
*
_width
];

10462 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
) const {

10463  
	g_d©a
[
x
 + 
y
*
_width
];

10466 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
) {

10467  
	g_d©a
[
x
 + 
y
*()
_width
 + 
z
*()_width*
_height
];

10470 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
) const {

10471  
	g_d©a
[
x
 + 
y
*()
_width
 + 
z
*()_width*
_height
];

10474 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
) {

10475  
	g_d©a
[
x
 + 
y
*()
_width
 + 
z
*()_width*
_height
 + 
c
*()_width*_height*
_dïth
];

10478 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
) const {

10479  
	g_d©a
[
x
 + 
y
*()
_width
 + 
z
*()_width*
_height
 + 
c
*()_width*_height*
_dïth
];

10482 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, const ,

10483 c⁄° 
	gwh
) {

10484  
	g_d©a
[
x
 + 
y
*
_width
 + 
z
*
wh
];

10487 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, const ,

10488 c⁄° 
	gwh
) const {

10489  
	g_d©a
[
x
 + 
y
*
_width
 + 
z
*
wh
];

10492 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
,

10493 c⁄° 
	gwh
, c⁄° 
	gwhd
) {

10494  
	g_d©a
[
x
 + 
y
*
_width
 + 
z
*
wh
 + 
c
*
whd
];

10497 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
,

10498 c⁄° 
	gwh
, c⁄° 
	gwhd
) const {

10499  
	g_d©a
[
x
 + 
y
*
_width
 + 
z
*
wh
 + 
c
*
whd
];

10525 
›î©‹
 
	gT
*() {

10526  
	g_d©a
;

10530 
›î©‹
 c⁄° 
	gT
*() const {

10531  
	g_d©a
;

10548 
	gCImg
<
	gT
>& 
	g›î©‹
=(c⁄° 
T
 
vÆue
) {

10549  
fûl
(
vÆue
);

10572 
	gCImg
<
	gT
>& 
	g›î©‹
=(c⁄° *c⁄° 
ex¥essi⁄
) {

10573 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

10574 
	gcimg
::
ex˚±i⁄_mode
() = 0;

10575 
	gåy
 {

10576 
fûl
(
ex¥essi⁄
,
åue
);

10577 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

10578 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10579 
lﬂd
(
ex¥essi⁄
);

10581 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10582  *
	gthis
;

10589 
	gãm∂©e
<
ty≥«me
 
	gt
>

10590 
	gCImg
<
	gT
>& 
	g›î©‹
=(c⁄° 
CImg
<
t
>& 
img
) {

10591  
assign
(
img
);

10595 
	gCImg
<
	gT
>& 
	g›î©‹
=(c⁄° 
CImg
<
T
>& 
img
) {

10596  
assign
(
img
);

10603 
	gCImg
<
	gT
>& 
	g›î©‹
=(c⁄° 
CImgDi•œy
& 
di•
) {

10604 
di•
.
¢≠shŸ
(*
this
);

10605  *
	gthis
;

10633 
	gãm∂©e
<
ty≥«me
 
	gt
>

10634 
	gCImg
<
	gT
>& 
	g›î©‹
+=(c⁄° 
t
 
vÆue
) {

10635 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)(*±rd + 
vÆue
);

10636  *
	gthis
;

10647 
	gCImg
<
	gT
>& 
	g›î©‹
+=(c⁄° *c⁄° 
ex¥essi⁄
) {

10648 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

10649 
	gcimg
::
ex˚±i⁄_mode
() = 0;

10650 
	gåy
 {

10651 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

10652 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator+=");

10653 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

10654 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(*
±rd
 + 
mp
.
evÆ
(x,y,z,c)); --ptrd; }

10655 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(*
±rd
 + 
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

10656 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

10657 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10658 *
	gthis
+=
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
);

10660 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10661  *
	gthis
;

10684 
	gãm∂©e
<
ty≥«me
 
	gt
>

10685 
	gCImg
<
	gT
>& 
	g›î©‹
+=(c⁄° 
CImg
<
t
>& 
img
) {

10686 c⁄° 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

10687 i‡(
	gsiz
 && 
	gisiz
) {

10688 i‡(
is_ovîœµed
(
img
)Ë *
	gthis
+=+img;

10689 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

10690 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

10691 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(*
±rd
 + *(ptrs++));

10692 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(*
±rd
 + *(
±rs
++));

10694  *
	gthis
;

10703 
	gCImg
<
	gT
>& 
	g›î©‹
++() {

10704 
cimg_f‹
(*
this
,
±rd
,
T
Ë++*
	g±rd
;

10705  *
	gthis
;

10715 
	gCImg
<
	gT
> 
	g›î©‹
++() {

10716 c⁄° 
	gCImg
<
	gT
> 
c›y
(*
this
,
Ál£
);

10717 ++*
	gthis
;

10718  
	gc›y
;

10730 
	gCImg
<
	gT
> 
	g›î©‹
+() const {

10731  
	gCImg
<
	gT
>(*
	gthis
,
	gÁl£
);

10739 
	gãm∂©e
<
ty≥«me
 
	gt
>

10740 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
+(c⁄° 
t
 
	gvÆue
) const {

10741  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
)+=
vÆue
;

10749 
	gCImg
<
	gTÊﬂt
> 
	g›î©‹
+(c⁄° *c⁄° 
	gex¥essi⁄
) const {

10750  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
)+=
ex¥essi⁄
;

10758 
	gãm∂©e
<
ty≥«me
 
	gt
>

10759 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
+(c⁄° CImg<
	gt
>& 
	gimg
) const {

10760  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
)+=
img
;

10767 
	gãm∂©e
<
ty≥«me
 
	gt
>

10768 
	gCImg
<
	gT
>& 
	g›î©‹
-=(c⁄° 
t
 
vÆue
) {

10769 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)(*±rd - 
vÆue
);

10770  *
	gthis
;

10777 
	gCImg
<
	gT
>& 
	g›î©‹
-=(c⁄° *c⁄° 
ex¥essi⁄
) {

10778 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

10779 
	gcimg
::
ex˚±i⁄_mode
() = 0;

10780 
	gåy
 {

10781 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

10782 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator-=");

10783 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

10784 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(*
±rd
 - 
mp
.
evÆ
(x,y,z,c)); --ptrd; }

10785 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(*
±rd
 - 
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

10786 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

10787 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10788 *
	gthis
-=
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
);

10790 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10791  *
	gthis
;

10798 
	gãm∂©e
<
ty≥«me
 
	gt
>

10799 
	gCImg
<
	gT
>& 
	g›î©‹
-=(c⁄° 
CImg
<
t
>& 
img
) {

10800 c⁄° 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

10801 i‡(
	gsiz
 && 
	gisiz
) {

10802 i‡(
is_ovîœµed
(
img
)Ë *
	gthis
-=+img;

10803 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

10804 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

10805 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(*
±rd
 - *(ptrs++));

10806 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(*
±rd
 - *(
±rs
++));

10808  *
	gthis
;

10815 
	gCImg
<
	gT
>& 
	g›î©‹
--() {

10816 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = *ptrd-(T)1;

10817  *
	gthis
;

10824 
	gCImg
<
	gT
> 
	g›î©‹
--() {

10825 c⁄° 
	gCImg
<
	gT
> 
c›y
(*
this
,
Ál£
);

10826 --*
	gthis
;

10827  
	gc›y
;

10844 
	gCImg
<
	gT
> 
	g›î©‹
-() const {

10845  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,(T)0)-=*
this
;

10853 
	gãm∂©e
<
ty≥«me
 
	gt
>

10854 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
-(c⁄° 
t
 
	gvÆue
) const {

10855  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
)-=
vÆue
;

10863 
	gCImg
<
	gTÊﬂt
> 
	g›î©‹
-(c⁄° *c⁄° 
	gex¥essi⁄
) const {

10864  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
)-=
ex¥essi⁄
;

10872 
	gãm∂©e
<
ty≥«me
 
	gt
>

10873 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
-(c⁄° CImg<
	gt
>& 
	gimg
) const {

10874  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
)-=
img
;

10881 
	gãm∂©e
<
ty≥«me
 
	gt
>

10882 
	gCImg
<
	gT
>& 
	g›î©‹
*=(c⁄° 
t
 
vÆue
) {

10883 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)(*±rd * 
vÆue
);

10884  *
	gthis
;

10891 
	gCImg
<
	gT
>& 
	g›î©‹
*=(c⁄° *c⁄° 
ex¥essi⁄
) {

10892 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

10893 
	gcimg
::
ex˚±i⁄_mode
() = 0;

10894 
	gåy
 {

10895 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

10896 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator*=");

10897 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

10898 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(*
±rd
 * 
mp
.
evÆ
(x,y,z,c)); --ptrd; }

10899 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(*
±rd
 * 
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

10900 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

10901 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10902 
mul
(
CImg
<
T
>(
_width
,
_height
,
_dïth
,
_•e˘rum
,
ex¥essi⁄
,
åue
));

10904 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10905  *
	gthis
;

10923 
	gãm∂©e
<
ty≥«me
 
	gt
>

10924 
	gCImg
<
	gT
>& 
	g›î©‹
*=(c⁄° 
CImg
<
t
>& 
img
) {

10925  ((*
this
)*
img
).
move_to
(*this);

10933 
	gãm∂©e
<
ty≥«me
 
	gt
>

10934 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
*(c⁄° 
t
 
	gvÆue
) const {

10935  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
)*=
vÆue
;

10943 
	gCImg
<
	gTÊﬂt
> 
	g›î©‹
*(c⁄° *c⁄° 
	gex¥essi⁄
) const {

10944  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
)*=
ex¥essi⁄
;

10952 
	gãm∂©e
<
ty≥«me
 
	gt
>

10953 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
*(c⁄° CImg<
	gt
>& 
	gimg
) const {

10954 i‡(
	g_width
!=
img
.
_height
 || 
_dïth
!=1 || 
_•e˘rum
!=1)

10955 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


10957 
cimg_ö°™˚
,

10958 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,img.
_d©a
);

10959 
	gCImg
<
	g_cimg_Tt
> 
ªs
(
img
.
_width
,
_height
);

10960 
_cimg_TtdoubÀ
 
	gvÆue
;

10961 #ifde‡
cimg_u£_›ímp


10962 #¥agm®
omp
 
∑øŒñ
 i‡(
size
()>=1000 && 
img
.size()>=1000Ë
¥iv©e
(
vÆue
)

10963 
cimg_f‹XY
(
ªs
,
i
,
j
Ë{ 
	gvÆue
 = 0; 
cimg_f‹X
(*
this
,
k
ËvÆue+=(*this)(k,
	gj
)*
img
(i,k);Ñes(i,jË(
_cimg_Tt
)
vÆue
; }

10965 
_cimg_Tt
 *
	g±rd
 = 
ªs
.
_d©a
;

10966 
cimg_f‹XY
(
ªs
,
i
,
j
Ë{ 
	gvÆue
 = 0; 
cimg_f‹X
(*
this
,
k
ËvÆue+=(*this)(k,
	gj
)*
img
(i,k); *(
	g±rd
++Ë(
_cimg_Tt
)
vÆue
; }

10968  
	gªs
;

10975 
	gãm∂©e
<
ty≥«me
 
	gt
>

10976 
	gCImg
<
	gT
>& 
	g›î©‹
/=(c⁄° 
t
 
vÆue
) {

10977 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)(*±rd / 
vÆue
);

10978  *
	gthis
;

10985 
	gCImg
<
	gT
>& 
	g›î©‹
/=(c⁄° *c⁄° 
ex¥essi⁄
) {

10986 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

10987 
	gcimg
::
ex˚±i⁄_mode
() = 0;

10988 
	gåy
 {

10989 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

10990 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator/=");

10991 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

10992 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(*
±rd
 / 
mp
.
evÆ
(x,y,z,c)); --ptrd; }

10993 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(*
±rd
 / 
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

10994 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

10995 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10996 
div
(
CImg
<
T
>(
_width
,
_height
,
_dïth
,
_•e˘rum
,
ex¥essi⁄
,
åue
));

10998 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

10999  *
	gthis
;

11011 
	gãm∂©e
<
ty≥«me
 
	gt
>

11012 
	gCImg
<
	gT
>& 
	g›î©‹
/=(c⁄° 
CImg
<
t
>& 
img
) {

11013  (*
this
*
img
.
gë_övît
()).
move_to
(*this);

11021 
	gãm∂©e
<
ty≥«me
 
	gt
>

11022 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
/(c⁄° 
t
 
	gvÆue
) const {

11023  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
)/=
vÆue
;

11031 
	gCImg
<
	gTÊﬂt
> 
	g›î©‹
/(c⁄° *c⁄° 
	gex¥essi⁄
) const {

11032  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
)/=
ex¥essi⁄
;

11040 
	gãm∂©e
<
ty≥«me
 
	gt
>

11041 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
/(c⁄° CImg<
	gt
>& 
	gimg
) const {

11042  (*
	gthis
)*
	gimg
.
gë_övît
();

11049 
	gãm∂©e
<
ty≥«me
 
	gt
>

11050 
	gCImg
<
	gT
>& 
	g›î©‹
%=(c⁄° 
t
 
vÆue
) {

11051 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)
cimg
::
mod
(*±rd,(T)
vÆue
);

11052  *
	gthis
;

11059 
	gCImg
<
	gT
>& 
	g›î©‹
%=(c⁄° *c⁄° 
ex¥essi⁄
) {

11060 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

11061 
	gcimg
::
ex˚±i⁄_mode
() = 0;

11062 
	gåy
 {

11063 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

11064 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator%=");

11065 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

11066 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
mod
(*
±rd
,(T)
mp
.
evÆ
(x,y,z,c)); --ptrd; }

11067 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
mod
(*
±rd
,(T)
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

11068 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

11069 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11070 *
	gthis
%=
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
);

11072 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11073  *
	gthis
;

11080 
	gãm∂©e
<
ty≥«me
 
	gt
>

11081 
	gCImg
<
	gT
>& 
	g›î©‹
%=(c⁄° 
CImg
<
t
>& 
img
) {

11082 c⁄° 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

11083 i‡(
	gsiz
 && 
	gisiz
) {

11084 i‡(
is_ovîœµed
(
img
)Ë *
	gthis
%=+img;

11085 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

11086 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

11087 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = 
cimg
::
mod
(*
±rd
,(
T
)*(ptrs++));

11088 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = 
cimg
::
mod
(*
±rd
,(
T
)*(
±rs
++));

11090  *
	gthis
;

11098 
	gãm∂©e
<
ty≥«me
 
	gt
>

11099 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
%(c⁄° 
t
 
	gvÆue
) const {

11100  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
)%=
vÆue
;

11108 
	gCImg
<
	gTÊﬂt
> 
	g›î©‹
%(c⁄° *c⁄° 
	gex¥essi⁄
) const {

11109  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
)%=
ex¥essi⁄
;

11117 
	gãm∂©e
<
ty≥«me
 
	gt
>

11118 
	gCImg
<
	g_cimg_Tt
> 
	g›î©‹
%(c⁄° CImg<
	gt
>& 
	gimg
) const {

11119  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
)%=
img
;

11126 
	gãm∂©e
<
ty≥«me
 
	gt
>

11127 
	gCImg
<
	gT
>& 
	g›î©‹
&=(c⁄° 
t
 
vÆue
) {

11128 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)(()*±rd & ()
vÆue
);

11129  *
	gthis
;

11136 
	gCImg
<
	gT
>& 
	g›î©‹
&=(c⁄° *c⁄° 
ex¥essi⁄
) {

11137 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

11138 
	gcimg
::
ex˚±i⁄_mode
() = 0;

11139 
	gåy
 {

11140 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

11141 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator&=");

11142 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

11143 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 & ()
mp
.
evÆ
(x,y,z,c)); --ptrd; }

11144 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 & ()
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

11145 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

11146 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11147 *
	gthis
&=
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
);

11149 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11150  *
	gthis
;

11157 
	gãm∂©e
<
ty≥«me
 
	gt
>

11158 
	gCImg
<
	gT
>& 
	g›î©‹
&=(c⁄° 
CImg
<
t
>& 
img
) {

11159 c⁄° 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

11160 i‡(
	gsiz
 && 
	gisiz
) {

11161 i‡(
is_ovîœµed
(
img
)Ë *
	gthis
&=+img;

11162 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

11163 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

11164 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(()*
±rd
 & ()*(ptrs++));

11165 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(()*
±rd
 & ()*(
±rs
++));

11167  *
	gthis
;

11175 
	gãm∂©e
<
ty≥«me
 
	gt
>

11176 
	gCImg
<
	gT
> 
	g›î©‹
&(c⁄° 
t
 
	gvÆue
) const {

11177  (+*
	gthis
)&=
vÆue
;

11185 
	gCImg
<
	gT
> 
	g›î©‹
&(c⁄° *c⁄° 
	gex¥essi⁄
) const {

11186  (+*
	gthis
)&=
ex¥essi⁄
;

11194 
	gãm∂©e
<
ty≥«me
 
	gt
>

11195 
	gCImg
<
	gT
> 
	g›î©‹
&(c⁄° CImg<
	gt
>& 
	gimg
) const {

11196  (+*
	gthis
)&=
img
;

11203 
	gãm∂©e
<
ty≥«me
 
	gt
>

11204 
	gCImg
<
	gT
>& 
	g›î©‹
|=(c⁄° 
t
 
vÆue
) {

11205 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)(()*±rd | ()
vÆue
);

11206  *
	gthis
;

11213 
	gCImg
<
	gT
>& 
	g›î©‹
|=(c⁄° *c⁄° 
ex¥essi⁄
) {

11214 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

11215 
	gcimg
::
ex˚±i⁄_mode
() = 0;

11216 
	gåy
 {

11217 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

11218 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator|=");

11219 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

11220 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 | ()
mp
.
evÆ
(x,y,z,c)); --ptrd; }

11221 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 | ()
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

11222 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

11223 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11224 *
	gthis
|=
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
);

11226 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11227  *
	gthis
;

11234 
	gãm∂©e
<
ty≥«me
 
	gt
>

11235 
	gCImg
<
	gT
>& 
	g›î©‹
|=(c⁄° 
CImg
<
t
>& 
img
) {

11236 c⁄° 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

11237 i‡(
	gsiz
 && 
	gisiz
) {

11238 i‡(
is_ovîœµed
(
img
)Ë *
	gthis
|=+img;

11239 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

11240 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

11241 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(()*
±rd
 | ()*(ptrs++));

11242 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(()*
±rd
 | ()*(
±rs
++));

11244  *
	gthis
;

11252 
	gãm∂©e
<
ty≥«me
 
	gt
>

11253 
	gCImg
<
	gT
> 
	g›î©‹
|(c⁄° 
t
 
	gvÆue
) const {

11254  (+*
	gthis
)|=
vÆue
;

11262 
	gCImg
<
	gT
> 
	g›î©‹
|(c⁄° *c⁄° 
	gex¥essi⁄
) const {

11263  (+*
	gthis
)|=
ex¥essi⁄
;

11271 
	gãm∂©e
<
ty≥«me
 
	gt
>

11272 
	gCImg
<
	gT
> 
	g›î©‹
|(c⁄° CImg<
	gt
>& 
	gimg
) const {

11273  (+*
	gthis
)|=
img
;

11282 
	gãm∂©e
<
ty≥«me
 
	gt
>

11283 
	gCImg
<
	gT
>& 
	g›î©‹
^=(c⁄° 
t
 
vÆue
) {

11284 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)(()*±rd ^ ()
vÆue
);

11285  *
	gthis
;

11294 
	gCImg
<
	gT
>& 
	g›î©‹
^=(c⁄° *c⁄° 
ex¥essi⁄
) {

11295 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

11296 
	gcimg
::
ex˚±i⁄_mode
() = 0;

11297 
	gåy
 {

11298 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

11299 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator^=");

11300 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

11301 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 ^ ()
mp
.
evÆ
(x,y,z,c)); --ptrd; }

11302 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 ^ ()
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

11303 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

11304 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11305 *
	gthis
^=
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
);

11307 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11308  *
	gthis
;

11317 
	gãm∂©e
<
ty≥«me
 
	gt
>

11318 
	gCImg
<
	gT
>& 
	g›î©‹
^=(c⁄° 
CImg
<
t
>& 
img
) {

11319 c⁄° 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

11320 i‡(
	gsiz
 && 
	gisiz
) {

11321 i‡(
is_ovîœµed
(
img
)Ë *
	gthis
^=+img;

11322 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

11323 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

11324 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(()*
±rd
 ^ ()*(ptrs++));

11325 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(()*
±rd
 ^ ()*(
±rs
++));

11327  *
	gthis
;

11335 
	gãm∂©e
<
ty≥«me
 
	gt
>

11336 
	gCImg
<
	gT
> 
	g›î©‹
^(c⁄° 
t
 
	gvÆue
) const {

11337  (+*
	gthis
)^=
vÆue
;

11345 
	gCImg
<
	gT
> 
	g›î©‹
^(c⁄° *c⁄° 
	gex¥essi⁄
) const {

11346  (+*
	gthis
)^=
ex¥essi⁄
;

11354 
	gãm∂©e
<
ty≥«me
 
	gt
>

11355 
	gCImg
<
	gT
> 
	g›î©‹
^(c⁄° CImg<
	gt
>& 
	gimg
) const {

11356  (+*
	gthis
)^=
img
;

11363 
	gãm∂©e
<
ty≥«me
 
	gt
>

11364 
	gCImg
<
	gT
>& 
	g›î©‹
<<=(c⁄° 
t
 
vÆue
) {

11365 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)((()*±rdË<< ()
vÆue
);

11366  *
	gthis
;

11373 
	gCImg
<
	gT
>& 
	g›î©‹
<<=(c⁄° *c⁄° 
ex¥essi⁄
) {

11374 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

11375 
	gcimg
::
ex˚±i⁄_mode
() = 0;

11376 
	gåy
 {

11377 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

11378 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator<<=");

11379 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

11380 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 << ()
mp
.
evÆ
(x,y,z,c)); --ptrd; }

11381 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 << ()
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

11382 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

11383 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11384 *
	gthis
<<=
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
);

11386 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11387  *
	gthis
;

11394 
	gãm∂©e
<
ty≥«me
 
	gt
>

11395 
	gCImg
<
	gT
>& 
	g›î©‹
<<=(c⁄° 
CImg
<
t
>& 
img
) {

11396 c⁄° 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

11397 i‡(
	gsiz
 && 
	gisiz
) {

11398 i‡(
is_ovîœµed
(
img
)Ë *
	gthis
^=+img;

11399 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

11400 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

11401 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(()*
±rd
 << ()*(ptrs++));

11402 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(()*
±rd
 << ()*(
±rs
++));

11404  *
	gthis
;

11412 
	gãm∂©e
<
ty≥«me
 
	gt
>

11413 
	gCImg
<
	gT
> 
	g›î©‹
<<(c⁄° 
t
 
	gvÆue
) const {

11414  (+*
	gthis
)<<=
vÆue
;

11422 
	gCImg
<
	gT
> 
	g›î©‹
<<(c⁄° *c⁄° 
	gex¥essi⁄
) const {

11423  (+*
	gthis
)<<=
ex¥essi⁄
;

11431 
	gãm∂©e
<
ty≥«me
 
	gt
>

11432 
	gCImg
<
	gT
> 
	g›î©‹
<<(c⁄° CImg<
	gt
>& 
	gimg
) const {

11433  (+*
	gthis
)<<=
img
;

11440 
	gãm∂©e
<
ty≥«me
 
	gt
>

11441 
	gCImg
<
	gT
>& 
	g›î©‹
>>=(c⁄° 
t
 
vÆue
) {

11442 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)((()*±rdË>> ()
vÆue
);

11443  *
	gthis
;

11450 
	gCImg
<
	gT
>& 
	g›î©‹
>>=(c⁄° *c⁄° 
ex¥essi⁄
) {

11451 c⁄° 
omode
 = 
cimg
::
ex˚±i⁄_mode
();

11452 
	gcimg
::
ex˚±i⁄_mode
() = 0;

11453 
	gåy
 {

11454 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

11455 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator<<=");

11456 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

11457 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 >> ()
mp
.
evÆ
(x,y,z,c)); --ptrd; }

11458 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)(()*
±rd
 >> ()
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

11459 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

11460 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11461 *
	gthis
>>=
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
);

11463 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11464  *
	gthis
;

11471 
	gãm∂©e
<
ty≥«me
 
	gt
>

11472 
	gCImg
<
	gT
>& 
	g›î©‹
>>=(c⁄° 
CImg
<
t
>& 
img
) {

11473 c⁄° 
siz
 = 
size
(), 
	gisiz
 = 
img
.size();

11474 i‡(
	gsiz
 && 
	gisiz
) {

11475 i‡(
is_ovîœµed
(
img
)Ë *
	gthis
^=+img;

11476 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

11477 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

11478 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(()*
±rd
 >> ()*(ptrs++));

11479 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(()*
±rd
 >> ()*(
±rs
++));

11481  *
	gthis
;

11489 
	gãm∂©e
<
ty≥«me
 
	gt
>

11490 
	gCImg
<
	gT
> 
	g›î©‹
>>(c⁄° 
t
 
	gvÆue
) const {

11491  (+*
	gthis
)>>=
vÆue
;

11499 
	gCImg
<
	gT
> 
	g›î©‹
>>(c⁄° *c⁄° 
	gex¥essi⁄
) const {

11500  (+*
	gthis
)>>=
ex¥essi⁄
;

11508 
	gãm∂©e
<
ty≥«me
 
	gt
>

11509 
	gCImg
<
	gT
> 
	g›î©‹
>>(c⁄° CImg<
	gt
>& 
	gimg
) const {

11510  (+*
	gthis
)>>=
img
;

11517 
	gCImg
<
	gT
> 
	g›î©‹
~() const {

11518 
	gCImg
<
	gT
> 
ªs
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

11519 c⁄° 
T
 *
	g±rs
 = 
_d©a
;

11520 
cimg_f‹
(
ªs
,
±rd
,
T
Ë{ c⁄° 
	gvÆue
 = ()*(
±rs
++); *
	g±rd
 = (T)~
vÆue
; }

11521  
	gªs
;

11529 
	gãm∂©e
<
ty≥«me
 
	gt
>

11530 
boﬁ
 
	g›î©‹
==(c⁄° 
t
 
vÆue
) const {

11531 i‡(
is_em±y
()Ë 
Ál£
;

11532 
_cimg_Tt
 
	tTt
;

11533 
boﬁ
 
	gis_equÆ
 = 
åue
;

11534 
T
 *
	g±rd
 = 
_d©a
 + 
size
(); 
	gis_equÆ
 &&Öåd>
	g_d©a
; is_equÆ = ((
Tt
)*(--
±rd
)==(Tt)
vÆue
)) {}

11535  
is_equÆ
;

11543 
boﬁ
 
	g›î©‹
==(c⁄° *c⁄° 
ex¥essi⁄
) const {

11544 i‡(
is_em±y
()Ë !*
ex¥essi⁄
;

11545 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

11546 
	gcimg
::
ex˚±i⁄_mode
() = 0;

11547 
boﬁ
 
	gis_equÆ
 = 
åue
;

11548 
	gåy
 {

11549 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

11550 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"operator<<=");

11551 c⁄° 
T
 *
	g±rs
 = 
_d©a
;

11552 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ i‡(!
	gis_equÆ
Ë; is_equÆ = (()*(
±rs
--)==
mp
.
evÆ
(x,y,z,c)); }

11553 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ i‡(!
	gis_equÆ
Ë; is_equÆ = (()*(
±rs
++)==
mp
.
evÆ
(x,y,z,c)); }

11554 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

11555 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11556 
	gis_equÆ
 = (*
this
==
CImg
<
T
>(
_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gex¥essi⁄
,
	gåue
));

11558 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

11559  
	gis_equÆ
;

11578 
	gãm∂©e
<
ty≥«me
 
	gt
>

11579 
boﬁ
 
	g›î©‹
==(c⁄° 
CImg
<
t
>& 
img
) const {

11580 
_cimg_Tt
 
	tTt
;

11581 c⁄° 
	gsiz
 = 
size
();

11582 
boﬁ
 
	gis_equÆ
 = 
åue
;

11583 i‡(
	gsiz
!=
img
.
size
()Ë 
Ál£
;

11584 
t
 *
	g±rs
 = 
img
.
_d©a
 + 
siz
;

11585 
T
 *
	g±rd
 = 
_d©a
 + 
siz
; 
	gis_equÆ
 &&Öåd>
	g_d©a
; is_equÆ = ((
Tt
)*(--
±rd
)==(Tt)*(--
±rs
))) {}

11586  
is_equÆ
;

11594 
	gãm∂©e
<
ty≥«me
 
	gt
>

11595 
boﬁ
 
	g›î©‹
!=(c⁄° 
t
 
vÆue
) const {

11596  !((*
this
)==
vÆue
);

11604 
boﬁ
 
	g›î©‹
!=(c⁄° *c⁄° 
ex¥essi⁄
) const {

11605  !((*
this
)==
ex¥essi⁄
);

11615 
	gãm∂©e
<
ty≥«me
 
	gt
>

11616 
boﬁ
 
	g›î©‹
!=(c⁄° 
CImg
<
t
>& 
img
) const {

11617  !((*
this
)==
img
);

11649 
	gãm∂©e
<
ty≥«me
 
	gt
>

11650 
	gCImgLi°
<
	g_cimg_Tt
> 
	g›î©‹
,(c⁄° 
	gCImg
<
	gt
>& 
	gimg
) const {

11651  
	gCImgLi°
<
	g_cimg_Tt
>(*
	gthis
,
	gimg
);

11664 
	gãm∂©e
<
ty≥«me
 
	gt
>

11665 
	gCImgLi°
<
	g_cimg_Tt
> 
	g›î©‹
,(c⁄° CImgLi°<
	gt
>& 
	gli°
) const {

11666  
	gCImgLi°
<
	g_cimg_Tt
>(
	gli°
,
	gÁl£
).
ö£π
(*
this
,0);

11684 
	gCImgLi°
<
	gT
> 
	g›î©‹
<(c⁄° 
	gaxis
) const {

11685  
gë_•lô
(
axis
);

11703 c⁄° * 
pixñ_ty≥
() {

11704  
	gcimg
::
ty≥
<
T
>::
°rög
();

11718 
width
() const {

11719  ()
	g_width
;

11732 
height
() const {

11733  ()
	g_height
;

11748 
dïth
() const {

11749  ()
	g_dïth
;

11766 
•e˘rum
() const {

11767  ()
	g_•e˘rum
;

11785 
size
() const {

11786  ()
_width
*
_height
*
_dïth
*
	g_•e˘rum
;

11799 
T
* 
d©a
() {

11800  
	g_d©a
;

11804 c⁄° 
T
* 
d©a
() const {

11805  
	g_d©a
;

11820 #i‡
cimg_vîbosôy
>=3

11821 
T
 *
d©a
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) {

11822 c⁄° 
off
 = ()
off£t
(
x
,
y
,
z
,
c
);

11823 i‡(
	goff
>=
size
())

11824 
cimg
::
w¨n
(
_cimg_ö°™˚


11826 
cimg_ö°™˚
,

11827 
x
,
y
,
z
,
c
,
off
);

11828  
	g_d©a
 + 
	goff
;

11832 c⁄° 
T
* 
d©a
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

11833  
c⁄°_ˇ°
<
CImg
<
T
>*>(
this
)->
d©a
(
x
,
y
,
z
,
c
);

11836 
T
* 
d©a
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) {

11837  
_d©a
 + 
x
 + 
y
*()
_width
 + 
z
*()_width*
_height
 + 
c
*()_width*_height*
_dïth
;

11840 c⁄° 
T
* 
d©a
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

11841  
_d©a
 + 
x
 + 
y
*
_width
 + 
z
*()_width*
_height
 + 
c
*()_width*_height*
_dïth
;

11861 
off£t
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

11862  
x
 + 
y
*()
_width
 + 
z
*()_width*
_height
 + 
c
*()_width*_height*
_dïth
;

11871 
ôî©‹
 
begö
() {

11872  
	g_d©a
;

11876 
c⁄°_ôî©‹
 
begö
() const {

11877  
	g_d©a
;

11896 
ôî©‹
 
íd
() {

11897  
	g_d©a
 + 
size
();

11901 
c⁄°_ôî©‹
 
íd
() const {

11902  
	g_d©a
 + 
size
();

11911 
	gT
& 
‰⁄t
() {

11912  *
	g_d©a
;

11916 c⁄° 
	gT
& 
‰⁄t
() const {

11917  *
	g_d©a
;

11927 
	gT
& 
back
() {

11928  *(
	g_d©a
 + 
size
() - 1);

11932 c⁄° 
	gT
& 
back
() const {

11933  *(
	g_d©a
 + 
size
() - 1);

11949 
	gT
& 
©
(c⁄° 
off£t
, c⁄° 
T
 
out_vÆue
) {

11950  (
	goff£t
<0 || off£t>=()
size
())?(
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):(*
this
)[
off£t
];

11954 
T
 
©
(c⁄° 
off£t
, c⁄° T 
out_vÆue
) const {

11955  (
	goff£t
<0 || off£t>=()
size
())?
out_vÆue
:(*
this
)[
off£t
];

11972 
	gT
& 
©
(c⁄° 
off£t
) {

11973 i‡(
is_em±y
())

11974 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


11976 
cimg_ö°™˚
);

11977  
_©
(
off£t
);

11980 
	gT
& 
_©
(c⁄° 
off£t
) {

11981 c⁄° 
	gsiz
 = ()
size
();

11982  (*
	gthis
)[
off£t
<0?0:()off£t>=
siz
?siz-1:offset];

11986 
T
 
©
(c⁄° 
off£t
) const {

11987 i‡(
is_em±y
())

11988 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


11990 
cimg_ö°™˚
);

11991  
_©
(
off£t
);

11994 
T
 
_©
(c⁄° 
off£t
) const {

11995 c⁄° 
	gsiz
 = ()
size
();

11996  (*
	gthis
)[
off£t
<0?0:()off£t>=
siz
?siz-1:offset];

12015 
	gT
& 
©X
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

12016  (
	gx
<0 || x>=
width
())?(
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

12020 
T
 
©X
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

12021  (
	gx
<0 || x>=
width
())?
out_vÆue
:(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

12041 
	gT
& 
©X
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) {

12042 i‡(
is_em±y
())

12043 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12045 
cimg_ö°™˚
);

12046  
_©X
(
x
,
y
,
z
,
c
);

12049 
	gT
& 
_©X
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) {

12050  (*
this
)(
x
<0?0:(x>=
width
()?width()-1:x),
	gy
,
	gz
,
	gc
);

12054 
T
 
©X
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

12055 i‡(
is_em±y
())

12056 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12058 
cimg_ö°™˚
);

12059  
_©X
(
x
,
y
,
z
,
c
);

12062 
T
 
_©X
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

12063  (*
this
)(
x
<0?0:(x>=
width
()?width()-1:x),
	gy
,
	gz
,
	gc
);

12070 
	gT
& 
©XY
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

12071  (
	gx
<0 || 
	gy
<0 || x>=
width
(Ë|| 
y
>=
height
())?(
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):(*
this
)(
x
,y,
	gz
,
	gc
);

12075 
T
 
©XY
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

12076  (
	gx
<0 || 
	gy
<0 || x>=
width
(Ë|| 
y
>=
height
())?
out_vÆue
:(*
this
)(
x
,y,
	gz
,
	gc
);

12085 
	gT
& 
©XY
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
=0, c⁄° 
c
=0) {

12086 i‡(
is_em±y
())

12087 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12089 
cimg_ö°™˚
);

12090  
_©XY
(
x
,
y
,
z
,
c
);

12093 
	gT
& 
_©XY
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
=0, c⁄° 
c
=0) {

12094  (*
this
)(
x
<0?0:(x>=
width
()?width()-1:x), 
	gy
<0?0:(
y
>=
height
()?height()-1:y),
	gz
,
	gc
);

12098 
T
 
©XY
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
=0, c⁄° 
c
=0) const {

12099 i‡(
is_em±y
())

12100 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12102 
cimg_ö°™˚
);

12103  
_©XY
(
x
,
y
,
z
,
c
);

12106 
T
 
_©XY
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
=0, c⁄° 
c
=0) const {

12107  (*
this
)(
x
<0?0:(x>=
width
()?width()-1:x), 
	gy
<0?0:(
y
>=
height
()?height()-1:y),
	gz
,
	gc
);

12114 
	gT
& 
©XYZ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

12115  (
	gx
<0 || 
	gy
<0 || 
	gz
<0 || x>=
width
(Ë|| 
y
>=
height
(Ë|| 
z
>=
dïth
())?

12116 (
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

12120 
T
 
©XYZ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

12121  (
	gx
<0 || 
	gy
<0 || 
	gz
<0 || x>=
width
(Ë|| 
y
>=
height
(Ë|| 
z
>=
dïth
())?
out_vÆue
:(*
this
)(
x
,y,z,
	gc
);

12130 
	gT
& 
©XYZ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
=0) {

12131 i‡(
is_em±y
())

12132 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12134 
cimg_ö°™˚
);

12135  
_©XYZ
(
x
,
y
,
z
,
c
);

12138 
	gT
& 
_©XYZ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
=0) {

12139  (*
this
)(
x
<0?0:(x>=
width
()?width()-1:x),
	gy
<0?0:(
y
>=
height
()?height()-1:y),

12140 
	gz
<0?0:(
z
>=
dïth
()?dïth()-1:z),
	gc
);

12144 
T
 
©XYZ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
=0) const {

12145 i‡(
is_em±y
())

12146 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12148 
cimg_ö°™˚
);

12149  
_©XYZ
(
x
,
y
,
z
,
c
);

12152 
T
 
_©XYZ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
=0) const {

12153  (*
this
)(
x
<0?0:(x>=
width
()?width()-1:x),
	gy
<0?0:(
y
>=
height
()?height()-1:y),

12154 
	gz
<0?0:(
z
>=
dïth
()?dïth()-1:z),
	gc
);

12161 
	gT
& 
©XYZC
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

12162  (
	gx
<0 || 
	gy
<0 || 
	gz
<0 || 
	gc
<0 || x>=
width
(Ë|| 
y
>=
height
(Ë|| 
z
>=
dïth
(Ë|| 
c
>=
•e˘rum
())?

12163 (
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):(*
this
)(
x
,
	gy
,
	gz
,
	gc
);

12167 
T
 
©XYZC
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

12168  (
	gx
<0 || 
	gy
<0 || 
	gz
<0 || 
	gc
<0 || x>=
width
(Ë|| 
y
>=
height
(Ë|| 
z
>=
dïth
(Ë|| 
c
>=
•e˘rum
())?
out_vÆue
:(*
this
)(
x
,y,z,c);

12177 
	gT
& 
©XYZC
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) {

12178 i‡(
is_em±y
())

12179 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12181 
cimg_ö°™˚
);

12182  
_©XYZC
(
x
,
y
,
z
,
c
);

12185 
	gT
& 
_©XYZC
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) {

12186  (*
	gthis
)(
	gx
<0?0:(
x
>=
width
()?width()-1:x), 
	gy
<0?0:(
y
>=
height
()?height()-1:y),

12187 
	gz
<0?0:(
z
>=
dïth
()?dïth()-1:z), 
	gc
<0?0:(
c
>=
•e˘rum
()?spectrum()-1:c));

12191 
T
 
©XYZC
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) const {

12192 i‡(
is_em±y
())

12193 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12195 
cimg_ö°™˚
);

12196  
_©XYZC
(
x
,
y
,
z
,
c
);

12199 
T
 
_©XYZC
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) const {

12200  (*
	gthis
)(
	gx
<0?0:(
x
>=
width
()?width()-1:x), 
	gy
<0?0:(
y
>=
height
()?height()-1:y),

12201 
	gz
<0?0:(
z
>=
dïth
()?dïth()-1:z), 
	gc
<0?0:(
c
>=
•e˘rum
()?spectrum()-1:c));

12220 
TÊﬂt
 
löór_©X
(c⁄° 
fx
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) const {

12222 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = 
x
 + 1;

12224 
	gdx
 = 
fx
 - 
x
;

12225 c⁄° 
TÊﬂt


12226 
	gIc
 = (
TÊﬂt
)
©X
(
x
,
y
,
z
,
c
,
out_vÆue
), 
	gIn
 = (TÊﬂt)
©XY
(
nx
,y,z,c,out_value);

12227  
	gIc
 + 
	gdx
*(
	gIn
-Ic);

12245 
TÊﬂt
 
löór_©X
(c⁄° 
fx
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

12246 i‡(
is_em±y
())

12247 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12249 
cimg_ö°™˚
);

12251  
_löór_©X
(
fx
,
y
,
z
,
c
);

12254 
TÊﬂt
 
_löór_©X
(c⁄° 
fx
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

12256 
nfx
 = 
fx
<0?0:(fx>
_width
-1?_width-1:fx);

12258 
	gx
 = ()
nfx
;

12260 
	gdx
 = 
nfx
 - 
x
;

12262 
	gnx
 = 
dx
>0?
x
+1:x;

12263 c⁄° 
TÊﬂt


12264 
	gIc
 = (
TÊﬂt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gIn
 = (TÊﬂt)(*this)(
nx
,y,z,c);

12265  
	gIc
 + 
	gdx
*(
	gIn
-Ic);

12273 
TÊﬂt
 
löór_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) const {

12275 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = 
x
 + 1,

12276 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1;

12278 
	gdx
 = 
fx
 - 
x
,

12279 
	gdy
 = 
fy
 - 
y
;

12280 c⁄° 
TÊﬂt


12281 
	gIcc
 = (
TÊﬂt
)
©XY
(
x
,
y
,
z
,
c
,
out_vÆue
), 
	gInc
 = (TÊﬂtÔtXY(
nx
,y,z,c,out_value),

12282 
	gI˙
 = (
TÊﬂt
)
©XY
(
x
,
ny
,
z
,
c
,
out_vÆue
), 
	gI¬
 = (TÊﬂtÔtXY(
nx
,ny,z,c,out_value);

12283  
	gIcc
 + 
	gdx
*(
	gInc
-Ic¯+ 
	gdy
*(Icc+
	gI¬
-
	gI˙
-Inc)) + dy*(Icn-Icc);

12293 
TÊﬂt
 
löór_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
=0, c⁄° 
c
=0) const {

12294 i‡(
is_em±y
())

12295 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12297 
cimg_ö°™˚
);

12299  
_löór_©XY
(
fx
,
fy
,
z
,
c
);

12302 
TÊﬂt
 
_löór_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
=0, c⁄° 
c
=0) const {

12304 
nfx
 = 
fx
<0?0:(fx>
_width
-1?_width-1:fx),

12305 
	gnfy
 = 
fy
<0?0:(fy>
_height
-1?_height-1:fy);

12307 
	gx
 = ()
nfx
,

12308 
	gy
 = ()
nfy
;

12310 
	gdx
 = 
nfx
 - 
x
,

12311 
	gdy
 = 
nfy
 - 
y
;

12313 
	gnx
 = 
dx
>0?
x
+1:x,

12314 
	gny
 = 
dy
>0?
y
+1:y;

12315 c⁄° 
TÊﬂt


12316 
	gIcc
 = (
TÊﬂt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gInc
 = (TÊﬂt)(*this)(
nx
,y,z,c),

12317 
	gI˙
 = (
TÊﬂt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gI¬
 = (TÊﬂt)(*this)(
nx
,ny,z,c);

12318  
	gIcc
 + 
	gdx
*(
	gInc
-Ic¯+ 
	gdy
*(Icc+
	gI¬
-
	gI˙
-Inc)) + dy*(Icn-Icc);

12326 
TÊﬂt
 
löór_©XYZ
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
fz
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) const {

12328 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = 
x
 + 1,

12329 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1,

12330 
	gz
 = ()
fz
 - (fz>=0?0:1), 
	gnz
 = 
z
 + 1;

12332 
	gdx
 = 
fx
 - 
x
,

12333 
	gdy
 = 
fy
 - 
y
,

12334 
	gdz
 = 
fz
 - 
z
;

12335 c⁄° 
TÊﬂt


12336 
	gIccc
 = (
TÊﬂt
)
©XYZ
(
x
,
y
,
z
,
c
,
out_vÆue
), 
	gIncc
 = (TÊﬂtÔtXYZ(
nx
,y,z,c,out_value),

12337 
	gI˙c
 = (
TÊﬂt
)
©XYZ
(
x
,
ny
,
z
,
c
,
out_vÆue
), 
	gI¬c
 = (TÊﬂtÔtXYZ(
nx
,ny,z,c,out_value),

12338 
	gIc˙
 = (
TÊﬂt
)
©XYZ
(
x
,
y
,
nz
,
c
,
out_vÆue
), 
	gIn˙
 = (TÊﬂtÔtXYZ(
nx
,y,nz,c,out_value),

12339 
	gI˙n
 = (
TÊﬂt
)
©XYZ
(
x
,
ny
,
nz
,
c
,
out_vÆue
), 
	gI¬n
 = (TÊﬂtÔtXYZ(
nx
,ny,nz,c,out_value);

12340  
	gIccc
 +

12341 
	gdx
*(
	gIncc
-
	gIccc
 +

12342 
	gdy
*(
	gIccc
+
	gI¬c
-
	gI˙c
-
	gIncc
 +

12343 
	gdz
*(
	gIc˙
+
	gI¬n
+
	gI˙c
+
	gIncc
-
	gI˙n
-
	gIn˙
-
	gIccc
-
	gI¬c
)) +

12344 
	gdz
*(
	gIccc
+
	gIn˙
-
	gIc˙
-
	gIncc
)) +

12345 
	gdy
*(
	gI˙c
-
	gIccc
 +

12346 
	gdz
*(
	gIccc
+
	gI˙n
-
	gIc˙
-
	gI˙c
)) +

12347 
	gdz
*(
	gIc˙
-
	gIccc
);

12357 
TÊﬂt
 
löór_©XYZ
(c⁄° 
fx
, c⁄° 
fy
=0, c⁄° 
fz
=0, c⁄° 
c
=0) const {

12358 i‡(
is_em±y
())

12359 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12361 
cimg_ö°™˚
);

12363  
_löór_©XYZ
(
fx
,
fy
,
fz
,
c
);

12366 
TÊﬂt
 
_löór_©XYZ
(c⁄° 
fx
, c⁄° 
fy
=0, c⁄° 
fz
=0, c⁄° 
c
=0) const {

12368 
nfx
 = 
fx
<0?0:(fx>
_width
-1?_width-1:fx),

12369 
	gnfy
 = 
fy
<0?0:(fy>
_height
-1?_height-1:fy),

12370 
	gnfz
 = 
fz
<0?0:(fz>
_dïth
-1?_depth-1:fz);

12372 
	gx
 = ()
nfx
,

12373 
	gy
 = ()
nfy
,

12374 
	gz
 = ()
nfz
;

12376 
	gdx
 = 
nfx
 - 
x
,

12377 
	gdy
 = 
nfy
 - 
y
,

12378 
	gdz
 = 
nfz
 - 
z
;

12380 
	gnx
 = 
dx
>0?
x
+1:x,

12381 
	gny
 = 
dy
>0?
y
+1:y,

12382 
	gnz
 = 
dz
>0?
z
+1:z;

12383 c⁄° 
TÊﬂt


12384 
	gIccc
 = (
TÊﬂt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gIncc
 = (TÊﬂt)(*this)(
nx
,y,z,c),

12385 
	gI˙c
 = (
TÊﬂt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gI¬c
 = (TÊﬂt)(*this)(
nx
,ny,z,c),

12386 
	gIc˙
 = (
TÊﬂt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gc
), 
	gIn˙
 = (TÊﬂt)(*this)(
nx
,y,nz,c),

12387 
	gI˙n
 = (
TÊﬂt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gc
), 
	gI¬n
 = (TÊﬂt)(*this)(
nx
,ny,nz,c);

12388  
	gIccc
 +

12389 
	gdx
*(
	gIncc
-
	gIccc
 +

12390 
	gdy
*(
	gIccc
+
	gI¬c
-
	gI˙c
-
	gIncc
 +

12391 
	gdz
*(
	gIc˙
+
	gI¬n
+
	gI˙c
+
	gIncc
-
	gI˙n
-
	gIn˙
-
	gIccc
-
	gI¬c
)) +

12392 
	gdz
*(
	gIccc
+
	gIn˙
-
	gIc˙
-
	gIncc
)) +

12393 
	gdy
*(
	gI˙c
-
	gIccc
 +

12394 
	gdz
*(
	gIccc
+
	gI˙n
-
	gIc˙
-
	gI˙c
)) +

12395 
	gdz
*(
	gIc˙
-
	gIccc
);

12403 
TÊﬂt
 
löór_©XYZC
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
fz
, c⁄° 
fc
, c⁄° 
T
 
out_vÆue
) const {

12405 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = 
x
 + 1,

12406 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1,

12407 
	gz
 = ()
fz
 - (fz>=0?0:1), 
	gnz
 = 
z
 + 1,

12408 
	gc
 = ()
fc
 - (fc>=0?0:1), 
	gnc
 = 
c
 + 1;

12410 
	gdx
 = 
fx
 - 
x
,

12411 
	gdy
 = 
fy
 - 
y
,

12412 
	gdz
 = 
fz
 - 
z
,

12413 
	gdc
 = 
fc
 - 
c
;

12414 c⁄° 
TÊﬂt


12415 
	gIcccc
 = (
TÊﬂt
)
©XYZC
(
x
,
y
,
z
,
c
,
out_vÆue
), 
	gInccc
 = (TÊﬂtÔtXYZC(
nx
,y,z,c,out_value),

12416 
	gI˙cc
 = (
TÊﬂt
)
©XYZC
(
x
,
ny
,
z
,
c
,
out_vÆue
), 
	gI¬cc
 = (TÊﬂtÔtXYZC(
nx
,ny,z,c,out_value),

12417 
	gIc˙c
 = (
TÊﬂt
)
©XYZC
(
x
,
y
,
nz
,
c
,
out_vÆue
), 
	gIn˙c
 = (TÊﬂtÔtXYZC(
nx
,y,nz,c,out_value),

12418 
	gI˙nc
 = (
TÊﬂt
)
©XYZC
(
x
,
ny
,
nz
,
c
,
out_vÆue
), 
	gI¬nc
 = (TÊﬂtÔtXYZC(
nx
,ny,nz,c,out_value),

12419 
	gIcc˙
 = (
TÊﬂt
)
©XYZC
(
x
,
y
,
z
,
nc
,
out_vÆue
), 
	gInc˙
 = (TÊﬂtÔtXYZC(
nx
,y,z,nc,out_value),

12420 
	gI˙˙
 = (
TÊﬂt
)
©XYZC
(
x
,
ny
,
z
,
nc
,
out_vÆue
), 
	gI¬˙
 = (TÊﬂtÔtXYZC(
nx
,ny,z,nc,out_value),

12421 
	gIc˙n
 = (
TÊﬂt
)
©XYZC
(
x
,
y
,
nz
,
nc
,
out_vÆue
), 
	gIn˙n
 = (TÊﬂtÔtXYZC(
nx
,y,nz,nc,out_value),

12422 
	gI˙¬
 = (
TÊﬂt
)
©XYZC
(
x
,
ny
,
nz
,
nc
,
out_vÆue
), 
	gI¬¬
 = (TÊﬂtÔtXYZC(
nx
,ny,nz,nc,out_value);

12423  
	gIcccc
 +

12424 
	gdx
*(
	gInccc
-
	gIcccc
 +

12425 
	gdy
*(
	gIcccc
+
	gI¬cc
-
	gI˙cc
-
	gInccc
 +

12426 
	gdz
*(
	gIc˙c
+
	gI¬nc
+
	gI˙cc
+
	gInccc
-
	gI˙nc
-
	gIn˙c
-
	gIcccc
-
	gI¬cc
 +

12427 
	gdc
*(
	gIc˙n
+
	gI¬¬
+
	gI˙˙
+
	gInc˙
+
	gI˙nc
+
	gIn˙c
+
	gIcccc
+
	gI¬cc
-
	gI˙¬
-
	gIn˙n
-
	gIcc˙
-
	gI¬˙
-
	gIc˙c
-
	gI¬nc
-
	gI˙cc
-
	gInccc
)) +

12428 
	gdc
*(
	gIcc˙
+
	gI¬˙
+
	gI˙cc
+
	gInccc
-
	gI˙˙
-
	gInc˙
-
	gIcccc
-
	gI¬cc
)) +

12429 
	gdz
*(
	gIcccc
+
	gIn˙c
-
	gIc˙c
-
	gInccc
 +

12430 
	gdc
*(
	gIcc˙
+
	gIn˙n
+
	gIc˙c
+
	gInccc
-
	gIc˙n
-
	gInc˙
-
	gIcccc
-
	gIn˙c
)) +

12431 
	gdc
*(
	gIcccc
+
	gInc˙
-
	gInccc
-
	gIcc˙
)) +

12432 
	gdy
*(
	gI˙cc
-
	gIcccc
 +

12433 
	gdz
*(
	gIcccc
+
	gI˙nc
-
	gIc˙c
-
	gI˙cc
 +

12434 
	gdc
*(
	gIcc˙
+
	gI˙¬
+
	gIc˙c
+
	gI˙cc
-
	gIc˙n
-
	gI˙˙
-
	gIcccc
-
	gI˙nc
)) +

12435 
	gdc
*(
	gIcccc
+
	gI˙˙
-
	gI˙cc
-
	gIcc˙
)) +

12436 
	gdz
*(
	gIc˙c
-
	gIcccc
 +

12437 
	gdc
*(
	gIcccc
+
	gIc˙n
-
	gIc˙c
-
	gIcc˙
)) +

12438 
	gdc
*(
	gIcc˙
-
	gIcccc
);

12448 
TÊﬂt
 
löór_©XYZC
(c⁄° 
fx
, c⁄° 
fy
=0, c⁄° 
fz
=0, c⁄° 
fc
=0) const {

12449 i‡(
is_em±y
())

12450 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12452 
cimg_ö°™˚
);

12454  
_löór_©XYZC
(
fx
,
fy
,
fz
,
fc
);

12457 
TÊﬂt
 
_löór_©XYZC
(c⁄° 
fx
, c⁄° 
fy
=0, c⁄° 
fz
=0, c⁄° 
fc
=0) const {

12459 
nfx
 = 
fx
<0?0:(fx>
_width
-1?_width-1:fx),

12460 
	gnfy
 = 
fy
<0?0:(fy>
_height
-1?_height-1:fy),

12461 
	gnfz
 = 
fz
<0?0:(fz>
_dïth
-1?_depth-1:fz),

12462 
	gnfc
 = 
fc
<0?0:(fc>
_•e˘rum
-1?_spectrum-1:fc);

12464 
	gx
 = ()
nfx
,

12465 
	gy
 = ()
nfy
,

12466 
	gz
 = ()
nfz
,

12467 
	gc
 = ()
nfc
;

12469 
	gdx
 = 
nfx
 - 
x
,

12470 
	gdy
 = 
nfy
 - 
y
,

12471 
	gdz
 = 
nfz
 - 
z
,

12472 
	gdc
 = 
nfc
 - 
c
;

12474 
	gnx
 = 
dx
>0?
x
+1:x,

12475 
	gny
 = 
dy
>0?
y
+1:y,

12476 
	gnz
 = 
dz
>0?
z
+1:z,

12477 
	gnc
 = 
dc
>0?
c
+1:c;

12478 c⁄° 
TÊﬂt


12479 
	gIcccc
 = (
TÊﬂt
)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gInccc
 = (TÊﬂt)(*this)(
nx
,y,z,c),

12480 
	gI˙cc
 = (
TÊﬂt
)(*
this
)(
x
,
	gny
,
	gz
,
	gc
), 
	gI¬cc
 = (TÊﬂt)(*this)(
nx
,ny,z,c),

12481 
	gIc˙c
 = (
TÊﬂt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gc
), 
	gIn˙c
 = (TÊﬂt)(*this)(
nx
,y,nz,c),

12482 
	gI˙nc
 = (
TÊﬂt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gc
), 
	gI¬nc
 = (TÊﬂt)(*this)(
nx
,ny,nz,c),

12483 
	gIcc˙
 = (
TÊﬂt
)(*
this
)(
x
,
	gy
,
	gz
,
	gnc
), 
	gInc˙
 = (TÊﬂt)(*this)(
nx
,y,z,nc),

12484 
	gI˙˙
 = (
TÊﬂt
)(*
this
)(
x
,
	gny
,
	gz
,
	gnc
), 
	gI¬˙
 = (TÊﬂt)(*this)(
nx
,ny,z,nc),

12485 
	gIc˙n
 = (
TÊﬂt
)(*
this
)(
x
,
	gy
,
	gnz
,
	gnc
), 
	gIn˙n
 = (TÊﬂt)(*this)(
nx
,y,nz,nc),

12486 
	gI˙¬
 = (
TÊﬂt
)(*
this
)(
x
,
	gny
,
	gnz
,
	gnc
), 
	gI¬¬
 = (TÊﬂt)(*this)(
nx
,ny,nz,nc);

12487  
	gIcccc
 +

12488 
	gdx
*(
	gInccc
-
	gIcccc
 +

12489 
	gdy
*(
	gIcccc
+
	gI¬cc
-
	gI˙cc
-
	gInccc
 +

12490 
	gdz
*(
	gIc˙c
+
	gI¬nc
+
	gI˙cc
+
	gInccc
-
	gI˙nc
-
	gIn˙c
-
	gIcccc
-
	gI¬cc
 +

12491 
	gdc
*(
	gIc˙n
+
	gI¬¬
+
	gI˙˙
+
	gInc˙
+
	gI˙nc
+
	gIn˙c
+
	gIcccc
+
	gI¬cc
-
	gI˙¬
-
	gIn˙n
-
	gIcc˙
-
	gI¬˙
-
	gIc˙c
-
	gI¬nc
-
	gI˙cc
-
	gInccc
)) +

12492 
	gdc
*(
	gIcc˙
+
	gI¬˙
+
	gI˙cc
+
	gInccc
-
	gI˙˙
-
	gInc˙
-
	gIcccc
-
	gI¬cc
)) +

12493 
	gdz
*(
	gIcccc
+
	gIn˙c
-
	gIc˙c
-
	gInccc
 +

12494 
	gdc
*(
	gIcc˙
+
	gIn˙n
+
	gIc˙c
+
	gInccc
-
	gIc˙n
-
	gInc˙
-
	gIcccc
-
	gIn˙c
)) +

12495 
	gdc
*(
	gIcccc
+
	gInc˙
-
	gInccc
-
	gIcc˙
)) +

12496 
	gdy
*(
	gI˙cc
-
	gIcccc
 +

12497 
	gdz
*(
	gIcccc
+
	gI˙nc
-
	gIc˙c
-
	gI˙cc
 +

12498 
	gdc
*(
	gIcc˙
+
	gI˙¬
+
	gIc˙c
+
	gI˙cc
-
	gIc˙n
-
	gI˙˙
-
	gIcccc
-
	gI˙nc
)) +

12499 
	gdc
*(
	gIcccc
+
	gI˙˙
-
	gI˙cc
-
	gIcc˙
)) +

12500 
	gdz
*(
	gIc˙c
-
	gIcccc
 +

12501 
	gdc
*(
	gIcccc
+
	gIc˙n
-
	gIc˙c
-
	gIcc˙
)) +

12502 
	gdc
*(
	gIcc˙
-
	gIcccc
);

12521 
TÊﬂt
 
cubic_©X
(c⁄° 
fx
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) const {

12523 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gpx
 = 
x
 - 1, 
	gnx
 = x + 1, 
	gax
 = x + 2;

12525 
	gdx
 = 
fx
 - 
x
;

12526 c⁄° 
TÊﬂt


12527 
	gIp
 = (
TÊﬂt
)
©X
(
px
,
y
,
z
,
c
,
out_vÆue
), 
	gIc
 = (TÊﬂtÔtX(
x
,y,z,c,out_value),

12528 
	gIn
 = (
TÊﬂt
)
©X
(
nx
,
y
,
z
,
c
,
out_vÆue
), 
	gIa
 = (TÊﬂtÔtX(
ax
,y,z,c,out_value);

12529  
	gIc
 + 0.5f*(
	gdx
*(-
	gIp
+
	gIn
Ë+ 
dx
*dx*(2*Ip-5*Ic+4*In-
	gIa
) + dx*dx*dx*(-Ip+3*Ic-3*In+Ia));

12536 
TÊﬂt
 
cubic_©X
(c⁄° 
fx
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
,

12537 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12538 c⁄° 
TÊﬂt
 
	gvÆ
 = 
cubic_©X
(
fx
,
y
,
z
,
c
,
out_vÆue
);

12539  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12556 
TÊﬂt
 
cubic_©X
(c⁄° 
fx
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

12557 i‡(
is_em±y
())

12558 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12560 
cimg_ö°™˚
);

12561  
_cubic_©X
(
fx
,
y
,
z
,
c
);

12564 
TÊﬂt
 
_cubic_©X
(c⁄° 
fx
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

12566 
nfx
 = 
fx
<0?0:(fx>
_width
-1?_width-1:fx);

12568 
	gx
 = ()
nfx
;

12570 
	gdx
 = 
nfx
 - 
x
;

12572 
	gpx
 = 
x
-1<0?0:x-1, 
	gnx
 = 
dx
>0?x+1:x, 
	gax
 = x+2>=
width
()?width()-1:x+2;

12573 c⁄° 
TÊﬂt


12574 
	gIp
 = (
TÊﬂt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIc
 = (TÊﬂt)(*this)(
x
,y,z,c),

12575 
	gIn
 = (
TÊﬂt
)(*
this
)(
nx
,
	gy
,
	gz
,
	gc
), 
	gIa
 = (TÊﬂt)(*this)(
ax
,y,z,c);

12576  
	gIc
 + 0.5f*(
	gdx
*(-
	gIp
+
	gIn
Ë+ 
dx
*dx*(2*Ip-5*Ic+4*In-
	gIa
) + dx*dx*dx*(-Ip+3*Ic-3*In+Ia));

12583 
TÊﬂt
 
cubic_©X
(c⁄° 
fx
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
,

12584 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12585 c⁄° 
TÊﬂt
 
	gvÆ
 = 
cubic_©X
(
fx
,
y
,
z
,
c
);

12586  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12589 
TÊﬂt
 
_cubic_©X
(c⁄° 
fx
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
,

12590 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12591 c⁄° 
TÊﬂt
 
	gvÆ
 = 
_cubic_©X
(
fx
,
y
,
z
,
c
);

12592  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12600 
TÊﬂt
 
cubic_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) const {

12602 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gpx
 = 
x
 - 1, 
	gnx
 = x + 1, 
	gax
 = x + 2,

12603 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gpy
 = 
y
 - 1, 
	gny
 = y + 1, 
	gay
 = y + 2;

12604 c⁄° 
	gdx
 = 
fx
 - 
x
, 
	gdy
 = 
fy
 - 
y
;

12605 c⁄° 
TÊﬂt


12606 
	gIµ
 = (
TÊﬂt
)
©XY
(
px
,
py
,
z
,
c
,
out_vÆue
), 
	gI˝
 = (TÊﬂtÔtXY(
x
,py,z,c,out_vÆue), 
	gI≈
 = (TÊﬂtÔtXY(
nx
,py,z,c,out_vÆue), 
	gI≠
 = (TÊﬂtÔtXY(
ax
,py,z,c,out_value),

12607 
	gIp
 = 
I˝
 + 0.5f*(
dx
*(-
Iµ
+
I≈
Ë+ dx*dx*(2*Iµ-5*I˝+4*I≈-
I≠
) + dx*dx*dx*(-Ipp+3*Icp-3*Inp+Iap)),

12608 
	gIpc
 = (
TÊﬂt
)
©XY
(
px
,
y
,
z
,
c
,
out_vÆue
), 
	gIcc
 = (TÊﬂtÔtXY(
x
, y,z,c,out_vÆue), 
	gInc
 = (TÊﬂtÔtXY(
nx
,y,z,c,out_vÆue), 
	gIac
 = (TÊﬂtÔtXY(
ax
,y,z,c,out_value),

12609 
	gIc
 = 
Icc
 + 0.5f*(
dx
*(-
Ipc
+
Inc
Ë+ dx*dx*(2*Ipc-5*Icc+4*Inc-
Iac
) + dx*dx*dx*(-Ipc+3*Icc-3*Inc+Iac)),

12610 
	gI≤
 = (
TÊﬂt
)
©XY
(
px
,
ny
,
z
,
c
,
out_vÆue
), 
	gI˙
 = (TÊﬂtÔtXY(
x
,ny,z,c,out_vÆue), 
	gI¬
 = (TÊﬂtÔtXY(
nx
,ny,z,c,out_vÆue), 
	gI™
 = (TÊﬂtÔtXY(
ax
,ny,z,c,out_value),

12611 
	gIn
 = 
I˙
 + 0.5f*(
dx
*(-
I≤
+
I¬
Ë+ dx*dx*(2*I≤-5*I˙+4*I¬-
I™
) + dx*dx*dx*(-Ipn+3*Icn-3*Inn+Ian)),

12612 
	gI∑
 = (
TÊﬂt
)
©XY
(
px
,
ay
,
z
,
c
,
out_vÆue
), 
	gIˇ
 = (TÊﬂtÔtXY(
x
,ay,z,c,out_vÆue), 
	gI«
 = (TÊﬂtÔtXY(
nx
,ay,z,c,out_vÆue), 
	gIØ
 = (TÊﬂtÔtXY(
ax
,ay,z,c,out_value),

12613 
	gIa
 = 
Iˇ
 + 0.5f*(
dx
*(-
I∑
+
I«
Ë+ dx*dx*(2*I∑-5*Iˇ+4*I«-
IØ
) + dx*dx*dx*(-Ipa+3*Ica-3*Ina+Iaa));

12614  
	gIc
 + 0.5f*(
	gdy
*(-
	gIp
+
	gIn
Ë+ 
dy
*dy*(2*Ip-5*Ic+4*In-
	gIa
) + dy*dy*dy*(-Ip+3*Ic-3*In+Ia));

12621 
TÊﬂt
 
cubic_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
,

12622 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12623 c⁄° 
TÊﬂt
 
	gvÆ
 = 
cubic_©XY
(
fx
,
fy
,
z
,
c
,
out_vÆue
);

12624  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12634 
TÊﬂt
 
cubic_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
=0, c⁄° 
c
=0) const {

12635 i‡(
is_em±y
())

12636 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12638 
cimg_ö°™˚
);

12639  
_cubic_©XY
(
fx
,
fy
,
z
,
c
);

12642 
TÊﬂt
 
_cubic_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
=0, c⁄° 
c
=0) const {

12644 
nfx
 = 
fx
<0?0:(fx>
_width
-1?_width-1:fx),

12645 
	gnfy
 = 
fy
<0?0:(fy>
_height
-1?_height-1:fy);

12646 c⁄° 
	gx
 = ()
nfx
, 
	gy
 = ()
nfy
;

12647 c⁄° 
	gdx
 = 
nfx
 - 
x
, 
	gdy
 = 
nfy
 - 
y
;

12649 
	gpx
 = 
x
-1<0?0:x-1, 
	gnx
 = 
dx
>0?x+1:x, 
	gax
 = x+2>=
width
()?width()-1:x+2,

12650 
	gpy
 = 
y
-1<0?0:y-1, 
	gny
 = 
dy
>0?y+1:y, 
	gay
 = y+2>=
height
()?height()-1:y+2;

12651 c⁄° 
TÊﬂt


12652 
	gIµ
 = (
TÊﬂt
)(*
this
)(
px
,
	gpy
,
	gz
,
	gc
), 
	gI˝
 = (TÊﬂt)(*this)(
x
,py,z,c), 
	gI≈
 = (TÊﬂt)(*this)(
nx
,py,z,c), 
	gI≠
 = (TÊﬂt)(*this)(
ax
,py,z,c),

12653 
	gIp
 = 
I˝
 + 0.5f*(
dx
*(-
Iµ
+
I≈
Ë+ dx*dx*(2*Iµ-5*I˝+4*I≈-
I≠
) + dx*dx*dx*(-Ipp+3*Icp-3*Inp+Iap)),

12654 
	gIpc
 = (
TÊﬂt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIcc
 = (TÊﬂt)(*this)(
x
, y,z,c), 
	gInc
 = (TÊﬂt)(*this)(
nx
,y,z,c), 
	gIac
 = (TÊﬂt)(*this)(
ax
,y,z,c),

12655 
	gIc
 = 
Icc
 + 0.5f*(
dx
*(-
Ipc
+
Inc
Ë+ dx*dx*(2*Ipc-5*Icc+4*Inc-
Iac
) + dx*dx*dx*(-Ipc+3*Icc-3*Inc+Iac)),

12656 
	gI≤
 = (
TÊﬂt
)(*
this
)(
px
,
	gny
,
	gz
,
	gc
), 
	gI˙
 = (TÊﬂt)(*this)(
x
,ny,z,c), 
	gI¬
 = (TÊﬂt)(*this)(
nx
,ny,z,c), 
	gI™
 = (TÊﬂt)(*this)(
ax
,ny,z,c),

12657 
	gIn
 = 
I˙
 + 0.5f*(
dx
*(-
I≤
+
I¬
Ë+ dx*dx*(2*I≤-5*I˙+4*I¬-
I™
) + dx*dx*dx*(-Ipn+3*Icn-3*Inn+Ian)),

12658 
	gI∑
 = (
TÊﬂt
)(*
this
)(
px
,
	gay
,
	gz
,
	gc
), 
	gIˇ
 = (TÊﬂt)(*this)(
x
,ay,z,c), 
	gI«
 = (TÊﬂt)(*this)(
nx
,ay,z,c), 
	gIØ
 = (TÊﬂt)(*this)(
ax
,ay,z,c),

12659 
	gIa
 = 
Iˇ
 + 0.5f*(
dx
*(-
I∑
+
I«
Ë+ dx*dx*(2*I∑-5*Iˇ+4*I«-
IØ
) + dx*dx*dx*(-Ipa+3*Ica-3*Ina+Iaa));

12660  
	gIc
 + 0.5f*(
	gdy
*(-
	gIp
+
	gIn
Ë+ 
dy
*dy*(2*Ip-5*Ic+4*In-
	gIa
) + dy*dy*dy*(-Ip+3*Ic-3*In+Ia));

12667 
TÊﬂt
 
cubic_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
, c⁄° 
c
,

12668 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12669 c⁄° 
TÊﬂt
 
	gvÆ
 = 
cubic_©XY
(
fx
,
fy
,
z
,
c
);

12670  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12673 
TÊﬂt
 
_cubic_©XY
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
z
, c⁄° 
c
,

12674 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12675 c⁄° 
TÊﬂt
 
	gvÆ
 = 
_cubic_©XY
(
fx
,
fy
,
z
,
c
);

12676  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12684 
TÊﬂt
 
cubic_©XYZ
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
fz
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) const {

12686 
	gx
 = ()
fx
 - (fx>=0?0:1), 
	gpx
 = 
x
 - 1, 
	gnx
 = x + 1, 
	gax
 = x + 2,

12687 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gpy
 = 
y
 - 1, 
	gny
 = y + 1, 
	gay
 = y + 2,

12688 
	gz
 = ()
fz
 - (fz>=0?0:1), 
	gpz
 = 
z
 - 1, 
	gnz
 = z + 1, 
	gaz
 = z + 2;

12689 c⁄° 
	gdx
 = 
fx
 - 
x
, 
	gdy
 = 
fy
 - 
y
, 
	gdz
 = 
fz
 - 
z
;

12690 c⁄° 
TÊﬂt


12691 
	gIµp
 = (
TÊﬂt
)
©XYZ
(
px
,
py
,
pz
,
c
,
out_vÆue
), 
	gI˝p
 = (TÊﬂtÔtXYZ(
x
,py,pz,c,out_value),

12692 
	gI≈p
 = (
TÊﬂt
)
©XYZ
(
nx
,
py
,
pz
,
c
,
out_vÆue
), 
	gI≠p
 = (TÊﬂtÔtXYZ(
ax
,py,pz,c,out_value),

12693 
	gIµ
 = 
I˝p
 + 0.5f*(
dx
*(-
Iµp
+
I≈p
Ë+ dx*dx*(2*Iµp-5*I˝p+4*I≈p-
I≠p
) + dx*dx*dx*(-Ippp+3*Icpp-3*Inpp+Iapp)),

12694 
	gIp˝
 = (
TÊﬂt
)
©XYZ
(
px
,
y
,
pz
,
c
,
out_vÆue
), 
	gIc˝
 = (TÊﬂtÔtXYZ(
x
, y,pz,c,out_value),

12695 
	gIn˝
 = (
TÊﬂt
)
©XYZ
(
nx
,
y
,
pz
,
c
,
out_vÆue
), 
	gIa˝
 = (TÊﬂtÔtXYZ(
ax
,y,pz,c,out_value),

12696 
	gI˝
 = 
Ic˝
 + 0.5f*(
dx
*(-
Ip˝
+
In˝
Ë+ dx*dx*(2*Ip˝-5*Ic˝+4*In˝-
Ia˝
) + dx*dx*dx*(-Ipcp+3*Iccp-3*Incp+Iacp)),

12697 
	gI≤p
 = (
TÊﬂt
)
©XYZ
(
px
,
ny
,
pz
,
c
,
out_vÆue
), 
	gI˙p
 = (TÊﬂtÔtXYZ(
x
,ny,pz,c,out_value),

12698 
	gI¬p
 = (
TÊﬂt
)
©XYZ
(
nx
,
ny
,
pz
,
c
,
out_vÆue
), 
	gI™p
 = (TÊﬂtÔtXYZ(
ax
,ny,pz,c,out_value),

12699 
	gI≈
 = 
I˙p
 + 0.5f*(
dx
*(-
I≤p
+
I¬p
Ë+ dx*dx*(2*I≤p-5*I˙p+4*I¬p-
I™p
) + dx*dx*dx*(-Ipnp+3*Icnp-3*Innp+Ianp)),

12700 
	gI∑p
 = (
TÊﬂt
)
©XYZ
(
px
,
ay
,
pz
,
c
,
out_vÆue
), 
	gIˇp
 = (TÊﬂtÔtXYZ(
x
,ay,pz,c,out_value),

12701 
	gI«p
 = (
TÊﬂt
)
©XYZ
(
nx
,
ay
,
pz
,
c
,
out_vÆue
), 
	gIØp
 = (TÊﬂtÔtXYZ(
ax
,ay,pz,c,out_value),

12702 
	gI≠
 = 
Iˇp
 + 0.5f*(
dx
*(-
I∑p
+
I«p
Ë+ dx*dx*(2*I∑p-5*Iˇp+4*I«p-
IØp
) + dx*dx*dx*(-Ipap+3*Icap-3*Inap+Iaap)),

12703 
	gIp
 = 
I˝
 + 0.5f*(
dy
*(-
Iµ
+
I≈
Ë+ dy*dy*(2*Iµ-5*I˝+4*I≈-
I≠
) + dy*dy*dy*(-Ipp+3*Icp-3*Inp+Iap)),

12704 
	gIµc
 = (
TÊﬂt
)
©XYZ
(
px
,
py
,
z
,
c
,
out_vÆue
), 
	gI˝c
 = (TÊﬂtÔtXYZ(
x
,py,z,c,out_value),

12705 
	gI≈c
 = (
TÊﬂt
)
©XYZ
(
nx
,
py
,
z
,
c
,
out_vÆue
), 
	gI≠c
 = (TÊﬂtÔtXYZ(
ax
,py,z,c,out_value),

12706 
	gIpc
 = 
I˝c
 + 0.5f*(
dx
*(-
Iµc
+
I≈c
Ë+ dx*dx*(2*Iµc-5*I˝c+4*I≈c-
I≠c
) + dx*dx*dx*(-Ippc+3*Icpc-3*Inpc+Iapc)),

12707 
	gIpcc
 = (
TÊﬂt
)
©XYZ
(
px
,
y
,
z
,
c
,
out_vÆue
), 
	gIccc
 = (TÊﬂtÔtXYZ(
x
, y,z,c,out_value),

12708 
	gIncc
 = (
TÊﬂt
)
©XYZ
(
nx
,
y
,
z
,
c
,
out_vÆue
), 
	gIacc
 = (TÊﬂtÔtXYZ(
ax
,y,z,c,out_value),

12709 
	gIcc
 = 
Iccc
 + 0.5f*(
dx
*(-
Ipcc
+
Incc
Ë+ dx*dx*(2*Ipcc-5*Iccc+4*Incc-
Iacc
) + dx*dx*dx*(-Ipcc+3*Iccc-3*Incc+Iacc)),

12710 
	gI≤c
 = (
TÊﬂt
)
©XYZ
(
px
,
ny
,
z
,
c
,
out_vÆue
), 
	gI˙c
 = (TÊﬂtÔtXYZ(
x
,ny,z,c,out_value),

12711 
	gI¬c
 = (
TÊﬂt
)
©XYZ
(
nx
,
ny
,
z
,
c
,
out_vÆue
), 
	gI™c
 = (TÊﬂtÔtXYZ(
ax
,ny,z,c,out_value),

12712 
	gInc
 = 
I˙c
 + 0.5f*(
dx
*(-
I≤c
+
I¬c
Ë+ dx*dx*(2*I≤c-5*I˙c+4*I¬c-
I™c
) + dx*dx*dx*(-Ipnc+3*Icnc-3*Innc+Ianc)),

12713 
	gI∑c
 = (
TÊﬂt
)
©XYZ
(
px
,
ay
,
z
,
c
,
out_vÆue
), 
	gIˇc
 = (TÊﬂtÔtXYZ(
x
,ay,z,c,out_value),

12714 
	gI«c
 = (
TÊﬂt
)
©XYZ
(
nx
,
ay
,
z
,
c
,
out_vÆue
), 
	gIØc
 = (TÊﬂtÔtXYZ(
ax
,ay,z,c,out_value),

12715 
	gIac
 = 
Iˇc
 + 0.5f*(
dx
*(-
I∑c
+
I«c
Ë+ dx*dx*(2*I∑c-5*Iˇc+4*I«c-
IØc
) + dx*dx*dx*(-Ipac+3*Icac-3*Inac+Iaac)),

12716 
	gIc
 = 
Icc
 + 0.5f*(
dy
*(-
Ipc
+
Inc
Ë+ dy*dy*(2*Ipc-5*Icc+4*Inc-
Iac
) + dy*dy*dy*(-Ipc+3*Icc-3*Inc+Iac)),

12717 
	gIµn
 = (
TÊﬂt
)
©XYZ
(
px
,
py
,
nz
,
c
,
out_vÆue
), 
	gI˝n
 = (TÊﬂtÔtXYZ(
x
,py,nz,c,out_value),

12718 
	gI≈n
 = (
TÊﬂt
)
©XYZ
(
nx
,
py
,
nz
,
c
,
out_vÆue
), 
	gI≠n
 = (TÊﬂtÔtXYZ(
ax
,py,nz,c,out_value),

12719 
	gI≤
 = 
I˝n
 + 0.5f*(
dx
*(-
Iµn
+
I≈n
Ë+ dx*dx*(2*Iµn-5*I˝n+4*I≈n-
I≠n
) + dx*dx*dx*(-Ippn+3*Icpn-3*Inpn+Iapn)),

12720 
	gIp˙
 = (
TÊﬂt
)
©XYZ
(
px
,
y
,
nz
,
c
,
out_vÆue
), 
	gIc˙
 = (TÊﬂtÔtXYZ(
x
, y,nz,c,out_value),

12721 
	gIn˙
 = (
TÊﬂt
)
©XYZ
(
nx
,
y
,
nz
,
c
,
out_vÆue
), 
	gIa˙
 = (TÊﬂtÔtXYZ(
ax
,y,nz,c,out_value),

12722 
	gI˙
 = 
Ic˙
 + 0.5f*(
dx
*(-
Ip˙
+
In˙
Ë+ dx*dx*(2*Ip˙-5*Ic˙+4*In˙-
Ia˙
) + dx*dx*dx*(-Ipcn+3*Iccn-3*Incn+Iacn)),

12723 
	gI≤n
 = (
TÊﬂt
)
©XYZ
(
px
,
ny
,
nz
,
c
,
out_vÆue
), 
	gI˙n
 = (TÊﬂtÔtXYZ(
x
,ny,nz,c,out_value),

12724 
	gI¬n
 = (
TÊﬂt
)
©XYZ
(
nx
,
ny
,
nz
,
c
,
out_vÆue
), 
	gI™n
 = (TÊﬂtÔtXYZ(
ax
,ny,nz,c,out_value),

12725 
	gI¬
 = 
I˙n
 + 0.5f*(
dx
*(-
I≤n
+
I¬n
Ë+ dx*dx*(2*I≤n-5*I˙n+4*I¬n-
I™n
) + dx*dx*dx*(-Ipnn+3*Icnn-3*Innn+Iann)),

12726 
	gI∑n
 = (
TÊﬂt
)
©XYZ
(
px
,
ay
,
nz
,
c
,
out_vÆue
), 
	gIˇn
 = (TÊﬂtÔtXYZ(
x
,ay,nz,c,out_value),

12727 
	gI«n
 = (
TÊﬂt
)
©XYZ
(
nx
,
ay
,
nz
,
c
,
out_vÆue
), 
	gIØn
 = (TÊﬂtÔtXYZ(
ax
,ay,nz,c,out_value),

12728 
	gI™
 = 
Iˇn
 + 0.5f*(
dx
*(-
I∑n
+
I«n
Ë+ dx*dx*(2*I∑n-5*Iˇn+4*I«n-
IØn
) + dx*dx*dx*(-Ipan+3*Ican-3*Inan+Iaan)),

12729 
	gIn
 = 
I˙
 + 0.5f*(
dy
*(-
I≤
+
I¬
Ë+ dy*dy*(2*I≤-5*I˙+4*I¬-
I™
) + dy*dy*dy*(-Ipn+3*Icn-3*Inn+Ian)),

12730 
	gIµa
 = (
TÊﬂt
)
©XYZ
(
px
,
py
,
az
,
c
,
out_vÆue
), 
	gI˝a
 = (TÊﬂtÔtXYZ(
x
,py,az,c,out_value),

12731 
	gI≈a
 = (
TÊﬂt
)
©XYZ
(
nx
,
py
,
az
,
c
,
out_vÆue
), 
	gI≠a
 = (TÊﬂtÔtXYZ(
ax
,py,az,c,out_value),

12732 
	gI∑
 = 
I˝a
 + 0.5f*(
dx
*(-
Iµa
+
I≈a
Ë+ dx*dx*(2*Iµa-5*I˝a+4*I≈a-
I≠a
) + dx*dx*dx*(-Ippa+3*Icpa-3*Inpa+Iapa)),

12733 
	gIpˇ
 = (
TÊﬂt
)
©XYZ
(
px
,
y
,
az
,
c
,
out_vÆue
), 
	gIcˇ
 = (TÊﬂtÔtXYZ(
x
, y,az,c,out_value),

12734 
	gInˇ
 = (
TÊﬂt
)
©XYZ
(
nx
,
y
,
az
,
c
,
out_vÆue
), 
	gIaˇ
 = (TÊﬂtÔtXYZ(
ax
,y,az,c,out_value),

12735 
	gIˇ
 = 
Icˇ
 + 0.5f*(
dx
*(-
Ipˇ
+
Inˇ
Ë+ dx*dx*(2*Ipˇ-5*Icˇ+4*Inˇ-
Iaˇ
) + dx*dx*dx*(-Ipca+3*Icca-3*Inca+Iaca)),

12736 
	gI≤a
 = (
TÊﬂt
)
©XYZ
(
px
,
ny
,
az
,
c
,
out_vÆue
), 
	gI˙a
 = (TÊﬂtÔtXYZ(
x
,ny,az,c,out_value),

12737 
	gI¬a
 = (
TÊﬂt
)
©XYZ
(
nx
,
ny
,
az
,
c
,
out_vÆue
), 
	gI™a
 = (TÊﬂtÔtXYZ(
ax
,ny,az,c,out_value),

12738 
	gI«
 = 
I˙a
 + 0.5f*(
dx
*(-
I≤a
+
I¬a
Ë+ dx*dx*(2*I≤a-5*I˙a+4*I¬a-
I™a
) + dx*dx*dx*(-Ipna+3*Icna-3*Inna+Iana)),

12739 
	gI∑a
 = (
TÊﬂt
)
©XYZ
(
px
,
ay
,
az
,
c
,
out_vÆue
), 
	gIˇa
 = (TÊﬂtÔtXYZ(
x
,ay,az,c,out_value),

12740 
	gI«a
 = (
TÊﬂt
)
©XYZ
(
nx
,
ay
,
az
,
c
,
out_vÆue
), 
	gIØa
 = (TÊﬂtÔtXYZ(
ax
,ay,az,c,out_value),

12741 
	gIØ
 = 
Iˇa
 + 0.5f*(
dx
*(-
I∑a
+
I«a
Ë+ dx*dx*(2*I∑a-5*Iˇa+4*I«a-
IØa
) + dx*dx*dx*(-Ipaa+3*Icaa-3*Inaa+Iaaa)),

12742 
	gIa
 = 
Iˇ
 + 0.5f*(
dy
*(-
I∑
+
I«
Ë+ dy*dy*(2*I∑-5*Iˇ+4*I«-
IØ
) + dy*dy*dy*(-Ipa+3*Ica-3*Ina+Iaa));

12743  
	gIc
 + 0.5f*(
	gdz
*(-
	gIp
+
	gIn
Ë+ 
dz
*dz*(2*Ip-5*Ic+4*In-
	gIa
) + dz*dz*dz*(-Ip+3*Ic-3*In+Ia));

12750 
TÊﬂt
 
cubic_©XYZ
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
fz
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
,

12751 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12752 c⁄° 
TÊﬂt
 
	gvÆ
 = 
cubic_©XYZ
(
fx
,
fy
,
fz
,
c
,
out_vÆue
);

12753  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12763 
TÊﬂt
 
cubic_©XYZ
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
fz
, c⁄° 
c
=0) const {

12764 i‡(
is_em±y
())

12765 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


12767 
cimg_ö°™˚
);

12768  
_cubic_©XYZ
(
fx
,
fy
,
fz
,
c
);

12771 
TÊﬂt
 
_cubic_©XYZ
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
fz
, c⁄° 
c
=0) const {

12773 
nfx
 = 
fx
<0?0:(fx>
_width
-1?_width-1:fx),

12774 
	gnfy
 = 
fy
<0?0:(fy>
_height
-1?_height-1:fy),

12775 
	gnfz
 = 
fz
<0?0:(fz>
_dïth
-1?_depth-1:fz);

12776 c⁄° 
	gx
 = ()
nfx
, 
	gy
 = ()
nfy
, 
	gz
 = ()
nfz
;

12777 c⁄° 
	gdx
 = 
nfx
 - 
x
, 
	gdy
 = 
nfy
 - 
y
, 
	gdz
 = 
nfz
 - 
z
;

12779 
	gpx
 = 
x
-1<0?0:x-1, 
	gnx
 = 
dx
>0?x+1:x, 
	gax
 = x+2>=
width
()?width()-1:x+2,

12780 
	gpy
 = 
y
-1<0?0:y-1, 
	gny
 = 
dy
>0?y+1:y, 
	gay
 = y+2>=
height
()?height()-1:y+2,

12781 
	gpz
 = 
z
-1<0?0:z-1, 
	gnz
 = 
dz
>0?z+1:z, 
	gaz
 = z+2>=
dïth
()?depth()-1:z+2;

12782 c⁄° 
TÊﬂt


12783 
	gIµp
 = (
TÊﬂt
)(*
this
)(
px
,
	gpy
,
	gpz
,
	gc
), 
	gI˝p
 = (TÊﬂt)(*this)(
x
,py,pz,c),

12784 
	gI≈p
 = (
TÊﬂt
)(*
this
)(
nx
,
	gpy
,
	gpz
,
	gc
), 
	gI≠p
 = (TÊﬂt)(*this)(
ax
,py,pz,c),

12785 
	gIµ
 = 
I˝p
 + 0.5f*(
dx
*(-
Iµp
+
I≈p
Ë+ dx*dx*(2*Iµp-5*I˝p+4*I≈p-
I≠p
) + dx*dx*dx*(-Ippp+3*Icpp-3*Inpp+Iapp)),

12786 
	gIp˝
 = (
TÊﬂt
)(*
this
)(
px
,
	gy
,
	gpz
,
	gc
), 
	gIc˝
 = (TÊﬂt)(*this)(
x
, y,pz,c),

12787 
	gIn˝
 = (
TÊﬂt
)(*
this
)(
nx
,
	gy
,
	gpz
,
	gc
), 
	gIa˝
 = (TÊﬂt)(*this)(
ax
,y,pz,c),

12788 
	gI˝
 = 
Ic˝
 + 0.5f*(
dx
*(-
Ip˝
+
In˝
Ë+ dx*dx*(2*Ip˝-5*Ic˝+4*In˝-
Ia˝
) + dx*dx*dx*(-Ipcp+3*Iccp-3*Incp+Iacp)),

12789 
	gI≤p
 = (
TÊﬂt
)(*
this
)(
px
,
	gny
,
	gpz
,
	gc
), 
	gI˙p
 = (TÊﬂt)(*this)(
x
,ny,pz,c),

12790 
	gI¬p
 = (
TÊﬂt
)(*
this
)(
nx
,
	gny
,
	gpz
,
	gc
), 
	gI™p
 = (TÊﬂt)(*this)(
ax
,ny,pz,c),

12791 
	gI≈
 = 
I˙p
 + 0.5f*(
dx
*(-
I≤p
+
I¬p
Ë+ dx*dx*(2*I≤p-5*I˙p+4*I¬p-
I™p
) + dx*dx*dx*(-Ipnp+3*Icnp-3*Innp+Ianp)),

12792 
	gI∑p
 = (
TÊﬂt
)(*
this
)(
px
,
	gay
,
	gpz
,
	gc
), 
	gIˇp
 = (TÊﬂt)(*this)(
x
,ay,pz,c),

12793 
	gI«p
 = (
TÊﬂt
)(*
this
)(
nx
,
	gay
,
	gpz
,
	gc
), 
	gIØp
 = (TÊﬂt)(*this)(
ax
,ay,pz,c),

12794 
	gI≠
 = 
Iˇp
 + 0.5f*(
dx
*(-
I∑p
+
I«p
Ë+ dx*dx*(2*I∑p-5*Iˇp+4*I«p-
IØp
) + dx*dx*dx*(-Ipap+3*Icap-3*Inap+Iaap)),

12795 
	gIp
 = 
I˝
 + 0.5f*(
dy
*(-
Iµ
+
I≈
Ë+ dy*dy*(2*Iµ-5*I˝+4*I≈-
I≠
) + dy*dy*dy*(-Ipp+3*Icp-3*Inp+Iap)),

12796 
	gIµc
 = (
TÊﬂt
)(*
this
)(
px
,
	gpy
,
	gz
,
	gc
), 
	gI˝c
 = (TÊﬂt)(*this)(
x
,py,z,c),

12797 
	gI≈c
 = (
TÊﬂt
)(*
this
)(
nx
,
	gpy
,
	gz
,
	gc
), 
	gI≠c
 = (TÊﬂt)(*this)(
ax
,py,z,c),

12798 
	gIpc
 = 
I˝c
 + 0.5f*(
dx
*(-
Iµc
+
I≈c
Ë+ dx*dx*(2*Iµc-5*I˝c+4*I≈c-
I≠c
) + dx*dx*dx*(-Ippc+3*Icpc-3*Inpc+Iapc)),

12799 
	gIpcc
 = (
TÊﬂt
)(*
this
)(
px
,
	gy
,
	gz
,
	gc
), 
	gIccc
 = (TÊﬂt)(*this)(
x
, y,z,c),

12800 
	gIncc
 = (
TÊﬂt
)(*
this
)(
nx
,
	gy
,
	gz
,
	gc
), 
	gIacc
 = (TÊﬂt)(*this)(
ax
,y,z,c),

12801 
	gIcc
 = 
Iccc
 + 0.5f*(
dx
*(-
Ipcc
+
Incc
Ë+ dx*dx*(2*Ipcc-5*Iccc+4*Incc-
Iacc
) + dx*dx*dx*(-Ipcc+3*Iccc-3*Incc+Iacc)),

12802 
	gI≤c
 = (
TÊﬂt
)(*
this
)(
px
,
	gny
,
	gz
,
	gc
), 
	gI˙c
 = (TÊﬂt)(*this)(
x
,ny,z,c),

12803 
	gI¬c
 = (
TÊﬂt
)(*
this
)(
nx
,
	gny
,
	gz
,
	gc
), 
	gI™c
 = (TÊﬂt)(*this)(
ax
,ny,z,c),

12804 
	gInc
 = 
I˙c
 + 0.5f*(
dx
*(-
I≤c
+
I¬c
Ë+ dx*dx*(2*I≤c-5*I˙c+4*I¬c-
I™c
) + dx*dx*dx*(-Ipnc+3*Icnc-3*Innc+Ianc)),

12805 
	gI∑c
 = (
TÊﬂt
)(*
this
)(
px
,
	gay
,
	gz
,
	gc
), 
	gIˇc
 = (TÊﬂt)(*this)(
x
,ay,z,c),

12806 
	gI«c
 = (
TÊﬂt
)(*
this
)(
nx
,
	gay
,
	gz
,
	gc
), 
	gIØc
 = (TÊﬂt)(*this)(
ax
,ay,z,c),

12807 
	gIac
 = 
Iˇc
 + 0.5f*(
dx
*(-
I∑c
+
I«c
Ë+ dx*dx*(2*I∑c-5*Iˇc+4*I«c-
IØc
) + dx*dx*dx*(-Ipac+3*Icac-3*Inac+Iaac)),

12808 
	gIc
 = 
Icc
 + 0.5f*(
dy
*(-
Ipc
+
Inc
Ë+ dy*dy*(2*Ipc-5*Icc+4*Inc-
Iac
) + dy*dy*dy*(-Ipc+3*Icc-3*Inc+Iac)),

12809 
	gIµn
 = (
TÊﬂt
)(*
this
)(
px
,
	gpy
,
	gnz
,
	gc
), 
	gI˝n
 = (TÊﬂt)(*this)(
x
,py,nz,c),

12810 
	gI≈n
 = (
TÊﬂt
)(*
this
)(
nx
,
	gpy
,
	gnz
,
	gc
), 
	gI≠n
 = (TÊﬂt)(*this)(
ax
,py,nz,c),

12811 
	gI≤
 = 
I˝n
 + 0.5f*(
dx
*(-
Iµn
+
I≈n
Ë+ dx*dx*(2*Iµn-5*I˝n+4*I≈n-
I≠n
) + dx*dx*dx*(-Ippn+3*Icpn-3*Inpn+Iapn)),

12812 
	gIp˙
 = (
TÊﬂt
)(*
this
)(
px
,
	gy
,
	gnz
,
	gc
), 
	gIc˙
 = (TÊﬂt)(*this)(
x
, y,nz,c),

12813 
	gIn˙
 = (
TÊﬂt
)(*
this
)(
nx
,
	gy
,
	gnz
,
	gc
), 
	gIa˙
 = (TÊﬂt)(*this)(
ax
,y,nz,c),

12814 
	gI˙
 = 
Ic˙
 + 0.5f*(
dx
*(-
Ip˙
+
In˙
Ë+ dx*dx*(2*Ip˙-5*Ic˙+4*In˙-
Ia˙
) + dx*dx*dx*(-Ipcn+3*Iccn-3*Incn+Iacn)),

12815 
	gI≤n
 = (
TÊﬂt
)(*
this
)(
px
,
	gny
,
	gnz
,
	gc
), 
	gI˙n
 = (TÊﬂt)(*this)(
x
,ny,nz,c),

12816 
	gI¬n
 = (
TÊﬂt
)(*
this
)(
nx
,
	gny
,
	gnz
,
	gc
), 
	gI™n
 = (TÊﬂt)(*this)(
ax
,ny,nz,c),

12817 
	gI¬
 = 
I˙n
 + 0.5f*(
dx
*(-
I≤n
+
I¬n
Ë+ dx*dx*(2*I≤n-5*I˙n+4*I¬n-
I™n
) + dx*dx*dx*(-Ipnn+3*Icnn-3*Innn+Iann)),

12818 
	gI∑n
 = (
TÊﬂt
)(*
this
)(
px
,
	gay
,
	gnz
,
	gc
), 
	gIˇn
 = (TÊﬂt)(*this)(
x
,ay,nz,c),

12819 
	gI«n
 = (
TÊﬂt
)(*
this
)(
nx
,
	gay
,
	gnz
,
	gc
), 
	gIØn
 = (TÊﬂt)(*this)(
ax
,ay,nz,c),

12820 
	gI™
 = 
Iˇn
 + 0.5f*(
dx
*(-
I∑n
+
I«n
Ë+ dx*dx*(2*I∑n-5*Iˇn+4*I«n-
IØn
) + dx*dx*dx*(-Ipan+3*Ican-3*Inan+Iaan)),

12821 
	gIn
 = 
I˙
 + 0.5f*(
dy
*(-
I≤
+
I¬
Ë+ dy*dy*(2*I≤-5*I˙+4*I¬-
I™
) + dy*dy*dy*(-Ipn+3*Icn-3*Inn+Ian)),

12822 
	gIµa
 = (
TÊﬂt
)(*
this
)(
px
,
	gpy
,
	gaz
,
	gc
), 
	gI˝a
 = (TÊﬂt)(*this)(
x
,py,az,c),

12823 
	gI≈a
 = (
TÊﬂt
)(*
this
)(
nx
,
	gpy
,
	gaz
,
	gc
), 
	gI≠a
 = (TÊﬂt)(*this)(
ax
,py,az,c),

12824 
	gI∑
 = 
I˝a
 + 0.5f*(
dx
*(-
Iµa
+
I≈a
Ë+ dx*dx*(2*Iµa-5*I˝a+4*I≈a-
I≠a
) + dx*dx*dx*(-Ippa+3*Icpa-3*Inpa+Iapa)),

12825 
	gIpˇ
 = (
TÊﬂt
)(*
this
)(
px
,
	gy
,
	gaz
,
	gc
), 
	gIcˇ
 = (TÊﬂt)(*this)(
x
, y,az,c),

12826 
	gInˇ
 = (
TÊﬂt
)(*
this
)(
nx
,
	gy
,
	gaz
,
	gc
), 
	gIaˇ
 = (TÊﬂt)(*this)(
ax
,y,az,c),

12827 
	gIˇ
 = 
Icˇ
 + 0.5f*(
dx
*(-
Ipˇ
+
Inˇ
Ë+ dx*dx*(2*Ipˇ-5*Icˇ+4*Inˇ-
Iaˇ
) + dx*dx*dx*(-Ipca+3*Icca-3*Inca+Iaca)),

12828 
	gI≤a
 = (
TÊﬂt
)(*
this
)(
px
,
	gny
,
	gaz
,
	gc
), 
	gI˙a
 = (TÊﬂt)(*this)(
x
,ny,az,c),

12829 
	gI¬a
 = (
TÊﬂt
)(*
this
)(
nx
,
	gny
,
	gaz
,
	gc
), 
	gI™a
 = (TÊﬂt)(*this)(
ax
,ny,az,c),

12830 
	gI«
 = 
I˙a
 + 0.5f*(
dx
*(-
I≤a
+
I¬a
Ë+ dx*dx*(2*I≤a-5*I˙a+4*I¬a-
I™a
) + dx*dx*dx*(-Ipna+3*Icna-3*Inna+Iana)),

12831 
	gI∑a
 = (
TÊﬂt
)(*
this
)(
px
,
	gay
,
	gaz
,
	gc
), 
	gIˇa
 = (TÊﬂt)(*this)(
x
,ay,az,c),

12832 
	gI«a
 = (
TÊﬂt
)(*
this
)(
nx
,
	gay
,
	gaz
,
	gc
), 
	gIØa
 = (TÊﬂt)(*this)(
ax
,ay,az,c),

12833 
	gIØ
 = 
Iˇa
 + 0.5f*(
dx
*(-
I∑a
+
I«a
Ë+ dx*dx*(2*I∑a-5*Iˇa+4*I«a-
IØa
) + dx*dx*dx*(-Ipaa+3*Icaa-3*Inaa+Iaaa)),

12834 
	gIa
 = 
Iˇ
 + 0.5f*(
dy
*(-
I∑
+
I«
Ë+ dy*dy*(2*I∑-5*Iˇ+4*I«-
IØ
) + dy*dy*dy*(-Ipa+3*Ica-3*Ina+Iaa));

12835  
	gIc
 + 0.5f*(
	gdz
*(-
	gIp
+
	gIn
Ë+ 
dz
*dz*(2*Ip-5*Ic+4*In-
	gIa
) + dz*dz*dz*(-Ip+3*Ic-3*In+Ia));

12842 
TÊﬂt
 
cubic_©XYZ
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
fz
, c⁄° 
c
,

12843 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12844 c⁄° 
TÊﬂt
 
	gvÆ
 = 
cubic_©XYZ
(
fx
,
fy
,
fz
,
c
);

12845  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12848 
TÊﬂt
 
_cubic_©XYZ
(c⁄° 
fx
, c⁄° 
fy
, c⁄° 
fz
, c⁄° 
c
,

12849 c⁄° 
TÊﬂt
 
mö_vÆue
, c⁄° TÊﬂà
max_vÆue
) const {

12850 c⁄° 
TÊﬂt
 
	gvÆ
 = 
_cubic_©XYZ
(
fx
,
fy
,
fz
,
c
);

12851  
	gvÆ
<
	gmö_vÆue
?mö_vÆue:
vÆ
>
max_vÆue
?max_value:val;

12868 
	gCImg
<
	gT
>& 
£t_löór_©XY
(c⁄° 
T
& 
vÆue
, c⁄° 
fx
, c⁄° 
fy
=0, c⁄° 
z
=0, c⁄° 
c
=0,

12869 c⁄° 
boﬁ
 
is_added
=
Ál£
) {

12871 
x
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = x + 1,

12872 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1;

12874 
	gdx
 = 
fx
 - 
x
,

12875 
	gdy
 = 
fy
 - 
y
;

12876 i‡(
	gz
>=0 && 
z
<
dïth
(Ë&& 
c
>=0 && c<
•e˘rum
()) {

12877 i‡(
y
>=0 && y<
height
()) {

12878 i‡(
x
>=0 && x<
width
()) {

12879 c⁄° 
w1
 = (1-
dx
)*(1-
dy
), 
	gw2
 = 
is_added
?1:(1-w1);

12880 (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
x
,y,z,c));

12882 i‡(
	gnx
>=0 && 
nx
<
width
()) {

12883 c⁄° 
w1
 = 
dx
*(1-
dy
), 
	gw2
 = 
is_added
?1:(1-w1);

12884 (*
	gthis
)(
	gnx
,
	gy
,
	gz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
nx
,y,z,c));

12887 i‡(
	gny
>=0 && 
ny
<
height
()) {

12888 i‡(
x
>=0 && x<
width
()) {

12889 c⁄° 
w1
 = (1-
dx
)*
dy
, 
	gw2
 = 
is_added
?1:(1-w1);

12890 (*
	gthis
)(
	gx
,
	gny
,
	gz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
x
,ny,z,c));

12892 i‡(
	gnx
>=0 && 
nx
<
width
()) {

12893 c⁄° 
w1
 = 
dx
*
dy
, 
	gw2
 = 
is_added
?1:(1-w1);

12894 (*
	gthis
)(
	gnx
,
	gny
,
	gz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
nx
,ny,z,c));

12898  *
	gthis
;

12906 
	gCImg
<
	gT
>& 
£t_löór_©XYZ
(c⁄° 
T
& 
vÆue
, c⁄° 
fx
, c⁄° 
fy
=0, c⁄° 
fz
=0, c⁄° 
c
=0,

12907 c⁄° 
boﬁ
 
is_added
=
Ál£
) {

12909 
x
 = ()
fx
 - (fx>=0?0:1), 
	gnx
 = x + 1,

12910 
	gy
 = ()
fy
 - (fy>=0?0:1), 
	gny
 = 
y
 + 1,

12911 
	gz
 = ()
fz
 - (fz>=0?0:1), 
	gnz
 = 
z
 + 1;

12913 
	gdx
 = 
fx
 - 
x
,

12914 
	gdy
 = 
fy
 - 
y
,

12915 
	gdz
 = 
fz
 - 
z
;

12916 i‡(
	gc
>=0 && 
c
<
•e˘rum
()) {

12917 i‡(
z
>=0 && z<
dïth
()) {

12918 i‡(
y
>=0 && y<
height
()) {

12919 i‡(
x
>=0 && x<
width
()) {

12920 c⁄° 
w1
 = (1-
dx
)*(1-
dy
)*(1-
dz
), 
	gw2
 = 
is_added
?1:(1-w1);

12921 (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
x
,y,z,c));

12923 i‡(
	gnx
>=0 && 
nx
<
width
()) {

12924 c⁄° 
w1
 = 
dx
*(1-
dy
)*(1-
dz
), 
	gw2
 = 
is_added
?1:(1-w1);

12925 (*
	gthis
)(
	gnx
,
	gy
,
	gz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
nx
,y,z,c));

12928 i‡(
	gny
>=0 && 
ny
<
height
()) {

12929 i‡(
x
>=0 && x<
width
()) {

12930 c⁄° 
w1
 = (1-
dx
)*
dy
*(1-
dz
), 
	gw2
 = 
is_added
?1:(1-w1);

12931 (*
	gthis
)(
	gx
,
	gny
,
	gz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
x
,ny,z,c));

12933 i‡(
	gnx
>=0 && 
nx
<
width
()) {

12934 c⁄° 
w1
 = 
dx
*
dy
*(1-
dz
), 
	gw2
 = 
is_added
?1:(1-w1);

12935 (*
	gthis
)(
	gnx
,
	gny
,
	gz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
nx
,ny,z,c));

12939 i‡(
	gnz
>=0 && 
nz
<
dïth
()) {

12940 i‡(
y
>=0 && y<
height
()) {

12941 i‡(
x
>=0 && x<
width
()) {

12942 c⁄° 
w1
 = (1-
dx
)*(1-
dy
)*
dz
, 
	gw2
 = 
is_added
?1:(1-w1);

12943 (*
	gthis
)(
	gx
,
	gy
,
	gnz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
x
,y,nz,c));

12945 i‡(
	gnx
>=0 && 
nx
<
width
()) {

12946 c⁄° 
w1
 = 
dx
*(1-
dy
)*
dz
, 
	gw2
 = 
is_added
?1:(1-w1);

12947 (*
	gthis
)(
	gnx
,
	gy
,
	gnz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
nx
,y,nz,c));

12950 i‡(
	gny
>=0 && 
ny
<
height
()) {

12951 i‡(
x
>=0 && x<
width
()) {

12952 c⁄° 
w1
 = (1-
dx
)*
dy
*
dz
, 
	gw2
 = 
is_added
?1:(1-w1);

12953 (*
	gthis
)(
	gx
,
	gny
,
	gnz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
x
,ny,nz,c));

12955 i‡(
	gnx
>=0 && 
nx
<
width
()) {

12956 c⁄° 
w1
 = 
dx
*
dy
*
dz
, 
	gw2
 = 
is_added
?1:(1-w1);

12957 (*
	gthis
)(
	gnx
,
	gny
,
	gnz
,
	gc
Ë(
T
)(
w1
*
vÆue
 + 
w2
*(*
this
)(
nx
,ny,nz,c));

12962  *
	gthis
;

12978 
	gCImg
<
	gch¨T
> 
vÆue_°rög
(c⁄° 
£∑øt‹
=',', c⁄° 
max_size
=0) const {

12979 i‡(
is_em±y
()Ë 
CImg
<
ch¨T
>::
°rög
("");

12980 
	gCImgLi°
<
	gch¨T
> 
	gôems
;

12981 
	gs_ôem
[256] = { 0 };

12982 c⁄° 
T
 *
	g±rs
 = 
_d©a
;

12983 
	g°rög_size
 = 0;

12984 
	goff
 = 0, 
	gsiz
 = ()
size
(); off<siz && 
	g°rög_size
<=
max_size
; ++off) {

12985 c⁄° 
	g¥öãd_size
 = 1U + 
cimg_¢¥ötf
(
s_ôem
,(s_ôem),
cimg
::
ty≥
<
T
>::
f‹m©
(),cimg::ty≥<T>::f‹m©(*(
±rs
++)));

12986 
	gCImg
<
	gch¨T
> 
ôem
(
s_ôem
,
¥öãd_size
);

12987 
	gôem
[
¥öãd_size
-1] = 
£∑øt‹
;

12988 
	gôem
.
move_to
(
ôems
);

12989 i‡(
	gmax_size
Ë
	g°rög_size
+=
¥öãd_size
;

12991 
	gCImg
<
	gch¨T
> 
	gªs
;

12992 (
	gôems
>'x').
move_to
(
ªs
);

12993 i‡(
	gmax_size
 && 
	gªs
.
	g_width
>max_sizeËªs.
¸›
(0,
max_size
);

12994 
	gªs
.
back
() = 0;

12995  
	gªs
;

13013 
boﬁ
 
is_sh¨ed
() const {

13014  
	g_is_sh¨ed
;

13022 
boﬁ
 
is_em±y
() const {

13023  !(
	g_d©a
 && 
	g_width
 && 
	g_height
 && 
	g_dïth
 && 
	g_•e˘rum
);

13030 
boﬁ
 
is_öf
() const {

13031 i‡(
	gcimg
::
ty≥
<
T
>::
is_Êﬂt
()Ë
cimg_f‹
(*
this
,
p
,TËi‡(cimg::ty≥<T>::
is_öf
(()*p)Ë 
åue
;

13032  
	gÁl£
;

13039 
boﬁ
 
is_«n
() const {

13040 i‡(
	gcimg
::
ty≥
<
T
>::
is_Êﬂt
()Ë
cimg_f‹
(*
this
,
p
,TËi‡(cimg::ty≥<T>::
is_«n
(()*p)Ë 
åue
;

13041  
	gÁl£
;

13045 
boﬁ
 
is_ßmeX
(c⁄° 
size_x
) const {

13046  
	g_width
==
size_x
;

13050 
	gãm∂©e
<
ty≥«me
 
	gt
>

13051 
boﬁ
 
is_ßmeX
(c⁄° 
CImg
<
t
>& 
img
) const {

13052  
is_ßmeX
(
img
.
_width
);

13056 
boﬁ
 
is_ßmeX
(c⁄° 
CImgDi•œy
& 
di•
) const {

13057  
is_ßmeX
(
di•
.
_width
);

13061 
boﬁ
 
is_ßmeY
(c⁄° 
size_y
) const {

13062  
	g_height
==
size_y
;

13066 
	gãm∂©e
<
ty≥«me
 
	gt
>

13067 
boﬁ
 
is_ßmeY
(c⁄° 
CImg
<
t
>& 
img
) const {

13068  
is_ßmeY
(
img
.
_height
);

13072 
boﬁ
 
is_ßmeY
(c⁄° 
CImgDi•œy
& 
di•
) const {

13073  
is_ßmeY
(
di•
.
_height
);

13077 
boﬁ
 
is_ßmeZ
(c⁄° 
size_z
) const {

13078  
	g_dïth
==
size_z
;

13082 
	gãm∂©e
<
ty≥«me
 
	gt
>

13083 
boﬁ
 
is_ßmeZ
(c⁄° 
CImg
<
t
>& 
img
) const {

13084  
is_ßmeZ
(
img
.
_dïth
);

13088 
boﬁ
 
is_ßmeC
(c⁄° 
size_c
) const {

13089  
	g_•e˘rum
==
size_c
;

13093 
	gãm∂©e
<
ty≥«me
 
	gt
>

13094 
boﬁ
 
is_ßmeC
(c⁄° 
CImg
<
t
>& 
img
) const {

13095  
is_ßmeC
(
img
.
_•e˘rum
);

13102 
boﬁ
 
is_ßmeXY
(c⁄° 
size_x
, c⁄° 
size_y
) const {

13103  
	g_width
==
size_x
 && 
_height
==
size_y
;

13110 
	gãm∂©e
<
ty≥«me
 
	gt
>

13111 
boﬁ
 
is_ßmeXY
(c⁄° 
CImg
<
t
>& 
img
) const {

13112  
is_ßmeXY
(
img
.
_width
,img.
_height
);

13119 
boﬁ
 
is_ßmeXY
(c⁄° 
CImgDi•œy
& 
di•
) const {

13120  
is_ßmeXY
(
di•
.
_width
,di•.
_height
);

13127 
boﬁ
 
is_ßmeXZ
(c⁄° 
size_x
, c⁄° 
size_z
) const {

13128  
	g_width
==
size_x
 && 
_dïth
==
size_z
;

13135 
	gãm∂©e
<
ty≥«me
 
	gt
>

13136 
boﬁ
 
is_ßmeXZ
(c⁄° 
CImg
<
t
>& 
img
) const {

13137  
is_ßmeXZ
(
img
.
_width
,img.
_dïth
);

13144 
boﬁ
 
is_ßmeXC
(c⁄° 
size_x
, c⁄° 
size_c
) const {

13145  
	g_width
==
size_x
 && 
_•e˘rum
==
size_c
;

13152 
	gãm∂©e
<
ty≥«me
 
	gt
>

13153 
boﬁ
 
is_ßmeXC
(c⁄° 
CImg
<
t
>& 
img
) const {

13154  
is_ßmeXC
(
img
.
_width
,img.
_•e˘rum
);

13161 
boﬁ
 
is_ßmeYZ
(c⁄° 
size_y
, c⁄° 
size_z
) const {

13162  
	g_height
==
size_y
 && 
_dïth
==
size_z
;

13169 
	gãm∂©e
<
ty≥«me
 
	gt
>

13170 
boﬁ
 
is_ßmeYZ
(c⁄° 
CImg
<
t
>& 
img
) const {

13171  
is_ßmeYZ
(
img
.
_height
,img.
_dïth
);

13178 
boﬁ
 
is_ßmeYC
(c⁄° 
size_y
, c⁄° 
size_c
) const {

13179  
	g_height
==
size_y
 && 
_•e˘rum
==
size_c
;

13186 
	gãm∂©e
<
ty≥«me
 
	gt
>

13187 
boﬁ
 
is_ßmeYC
(c⁄° 
CImg
<
t
>& 
img
) const {

13188  
is_ßmeYC
(
img
.
_height
,img.
_•e˘rum
);

13195 
boﬁ
 
is_ßmeZC
(c⁄° 
size_z
, c⁄° 
size_c
) const {

13196  
	g_dïth
==
size_z
 && 
_•e˘rum
==
size_c
;

13203 
	gãm∂©e
<
ty≥«me
 
	gt
>

13204 
boﬁ
 
is_ßmeZC
(c⁄° 
CImg
<
t
>& 
img
) const {

13205  
is_ßmeZC
(
img
.
_dïth
,img.
_•e˘rum
);

13212 
boﬁ
 
is_ßmeXYZ
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
) const {

13213  
is_ßmeXY
(
size_x
,
size_y
Ë&& 
	g_dïth
==
size_z
;

13220 
	gãm∂©e
<
ty≥«me
 
	gt
>

13221 
boﬁ
 
is_ßmeXYZ
(c⁄° 
CImg
<
t
>& 
img
) const {

13222  
is_ßmeXYZ
(
img
.
_width
,img.
_height
,img.
_dïth
);

13229 
boﬁ
 
is_ßmeXYC
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_c
) const {

13230  
is_ßmeXY
(
size_x
,
size_y
Ë&& 
	g_•e˘rum
==
size_c
;

13237 
	gãm∂©e
<
ty≥«me
 
	gt
>

13238 
boﬁ
 
is_ßmeXYC
(c⁄° 
CImg
<
t
>& 
img
) const {

13239  
is_ßmeXYC
(
img
.
_width
,img.
_height
,img.
_•e˘rum
);

13246 
boﬁ
 
is_ßmeXZC
(c⁄° 
size_x
, c⁄° 
size_z
, c⁄° 
size_c
) const {

13247  
is_ßmeXZ
(
size_x
,
size_z
Ë&& 
	g_•e˘rum
==
size_c
;

13254 
	gãm∂©e
<
ty≥«me
 
	gt
>

13255 
boﬁ
 
is_ßmeXZC
(c⁄° 
CImg
<
t
>& 
img
) const {

13256  
is_ßmeXZC
(
img
.
_width
,img.
_dïth
,img.
_•e˘rum
);

13263 
boﬁ
 
is_ßmeYZC
(c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
) const {

13264  
is_ßmeYZ
(
size_y
,
size_z
Ë&& 
	g_•e˘rum
==
size_c
;

13271 
	gãm∂©e
<
ty≥«me
 
	gt
>

13272 
boﬁ
 
is_ßmeYZC
(c⁄° 
CImg
<
t
>& 
img
) const {

13273  
is_ßmeYZC
(
img
.
_height
,img.
_dïth
,img.
_•e˘rum
);

13280 
boﬁ
 
is_ßmeXYZC
(c⁄° 
size_x
, c⁄° 
size_y
, c⁄° 
size_z
, c⁄° 
size_c
) const {

13281  
is_ßmeXYZ
(
size_x
,
size_y
,
size_z
Ë&& 
	g_•e˘rum
==
size_c
;

13288 
	gãm∂©e
<
ty≥«me
 
	gt
>

13289 
boﬁ
 
is_ßmeXYZC
(c⁄° 
CImg
<
t
>& 
img
) const {

13290  
is_ßmeXYZC
(
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
);

13308 
boﬁ
 
c⁄èösXYZC
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

13309  !
is_em±y
(Ë&& 
x
>=0 && x<
width
(Ë&& 
y
>=0 && y<
height
(Ë&& 
z
>=0 && z<
dïth
(Ë&& 
c
>=0 && c<
•e˘rum
();

13332 
	gãm∂©e
<
ty≥«me
 
	gt
>

13333 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
x
,Å& 
y
,Å& 
z
,Å& 
c
) const {

13334 c⁄° 
	gwh
 = ()
_width
*
_height
, 
	gwhd
 = 
wh
*
_dïth
, 
	gsiz
 = 
whd
*
_•e˘rum
;

13335 c⁄° 
T
 *c⁄° 
	gµixñ
 = &
pixñ
;

13336 i‡(
is_em±y
(Ë|| 
	gµixñ
<
	g_d©a
 ||Öpixñ>=
_d©a
+
siz
Ë 
Ál£
;

13337 
	goff
 = ()(
µixñ
 - 
_d©a
);

13338 c⁄° 
	gnc
 = 
off
/
whd
;

13339 
	goff
%=
whd
;

13340 c⁄° 
	gnz
 = 
off
/
wh
;

13341 
	goff
%=
wh
;

13342 c⁄° 
	gny
 = 
off
/
_width
, 
	gnx
 = off%_width;

13343 
	gx
 = (
t
)
nx
; 
	gy
 = (t)
ny
; 
	gz
 = (t)
nz
; 
	gc
 = (t)
nc
;

13344  
	gåue
;

13351 
	gãm∂©e
<
ty≥«me
 
	gt
>

13352 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
x
,Å& 
y
,Å& 
z
) const {

13353 c⁄° 
	gwh
 = ()
_width
*
_height
, 
	gwhd
 = 
wh
*
_dïth
, 
	gsiz
 = 
whd
*
_•e˘rum
;

13354 c⁄° 
T
 *c⁄° 
	gµixñ
 = &
pixñ
;

13355 i‡(
is_em±y
(Ë|| 
	gµixñ
<
	g_d©a
 ||Öpixñ>=
_d©a
+
siz
Ë 
Ál£
;

13356 
	goff
 = (()(
µixñ
 - 
_d©a
))%
whd
;

13357 c⁄° 
	gnz
 = 
off
/
wh
;

13358 
	goff
%=
wh
;

13359 c⁄° 
	gny
 = 
off
/
_width
, 
	gnx
 = off%_width;

13360 
	gx
 = (
t
)
nx
; 
	gy
 = (t)
ny
; 
	gz
 = (t)
nz
;

13361  
	gåue
;

13368 
	gãm∂©e
<
ty≥«me
 
	gt
>

13369 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
x
,Å& 
y
) const {

13370 c⁄° 
	gwh
 = ()
_width
*
_height
, 
	gsiz
 = 
wh
*
_dïth
*
_•e˘rum
;

13371 c⁄° 
T
 *c⁄° 
	gµixñ
 = &
pixñ
;

13372 i‡(
is_em±y
(Ë|| 
	gµixñ
<
	g_d©a
 ||Öpixñ>=
_d©a
+
siz
Ë 
Ál£
;

13373 
	goff
 = (()(
µixñ
 - 
_d©a
))%
wh
;

13374 c⁄° 
	gny
 = 
off
/
_width
, 
	gnx
 = off%_width;

13375 
	gx
 = (
t
)
nx
; 
	gy
 = (t)
ny
;

13376  
	gåue
;

13383 
	gãm∂©e
<
ty≥«me
 
	gt
>

13384 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
x
) const {

13385 c⁄° 
T
 *c⁄° 
	gµixñ
 = &
pixñ
;

13386 i‡(
is_em±y
(Ë|| 
	gµixñ
<
	g_d©a
 ||Öpixñ>=
_d©a
+
size
()Ë 
Ál£
;

13387 
	gx
 = (
t
)((()(
µixñ
 - 
_d©a
))%
_width
);

13388  
	gåue
;

13395 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
) const {

13396 c⁄° 
T
 *c⁄° 
	gµixñ
 = &
pixñ
;

13397  !
is_em±y
(Ë&& 
	gµixñ
>=
_d©a
 && 
µixñ
<_d©®+ 
size
();

13418 
	gãm∂©e
<
ty≥«me
 
	gt
>

13419 
boﬁ
 
is_ovîœµed
(c⁄° 
CImg
<
t
>& 
img
) const {

13420 c⁄° 
	gcsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

13421  !((*)(
	g_d©a
 + 
	gcsiz
)<=(*)
img
.
_d©a
 || (*)_d©a>=(*)(img._d©®+ 
isiz
));

13438 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

13439 
boﬁ
 
is_obje˘3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

13440 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

13441 c⁄° 
to
& 
›acôõs
,

13442 c⁄° 
boﬁ
 
fuŒ_check
=
åue
,

13443 *c⁄° 
îr‹_mesßge
=0) const {

13444 i‡(
îr‹_mesßge
) *error_message = 0;

13447 i‡(
is_em±y
()) {

13448 i‡(
	g¥imôives
 || 
	gcﬁ‹s
 || 
	g›acôõs
) {

13449 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13451 
_width
,
¥imôives
._width,¥imôives._width,
cﬁ‹s
._width,()
›acôõs
.
size
());

13452  
	gÁl£
;

13454  
	gåue
;

13458 i‡(
	g_height
!=3 || 
_dïth
>1 || 
_•e˘rum
>1) {

13459 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13461 
_width
,
¥imôives
._width,_width,
_height
,
_dïth
,
_•e˘rum
);

13462  
	gÁl£
;

13464 i‡(
	gcﬁ‹s
.
	g_width
>
	g¥imôives
._width+1) {

13465 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13467 
_width
,
¥imôives
._width,
cﬁ‹s
._width);

13468  
	gÁl£
;

13470 i‡(
	g›acôõs
.
size
()>
	g¥imôives
.
	g_width
) {

13471 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13473 
_width
,
¥imôives
._width,()
›acôõs
.
size
());

13474  
	gÁl£
;

13476 i‡(!
	gfuŒ_check
Ë 
	gåue
;

13479 
cimgli°_f‹
(
¥imôives
,
l
) {

13480 c⁄° 
	gCImg
<
	gç
>& 
	g¥imôive
 = 
¥imôives
[
l
];

13481 c⁄° 
	gpsiz
 = 
¥imôive
.
size
();

13482 
	gpsiz
) {

13484 c⁄° 
i0
 = ()
¥imôive
(0);

13485 i‡(
	gi0
>=
_width
) {

13486 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13488 
_width
,
¥imôives
._width,
i0
,
l
);

13489  
	gÁl£
;

13494 
i0
 = ()
¥imôive
(0),

13495 
	gi1
 = ()
¥imôive
(1);

13496 i‡(
	gi0
>=
_width
 || 
i1
>=_width) {

13497 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13499 
_width
,
¥imôives
._width,
i0
,
i1
,
l
);

13500  
	gÁl£
;

13506 
i0
 = ()
¥imôive
(0),

13507 
	gi1
 = ()
¥imôive
(1);

13508 i‡(
	gi0
>=
_width
 || 
i1
>=_width) {

13509 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13511 
_width
,
¥imôives
._width,
i0
,
i1
,
l
);

13512  
	gÁl£
;

13518 
i0
 = ()
¥imôive
(0),

13519 
	gi1
 = ()
¥imôive
(1),

13520 
	gi2
 = ()
¥imôive
(2);

13521 i‡(
	gi0
>=
_width
 || 
i1
>=_width || 
i2
>=_width) {

13522 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13524 
_width
,
¥imôives
._width,
i0
,
i1
,
i2
,
l
);

13525  
	gÁl£
;

13531 
i0
 = ()
¥imôive
(0),

13532 
	gi1
 = ()
¥imôive
(1),

13533 
	gi2
 = ()
¥imôive
(2),

13534 
	gi3
 = ()
¥imôive
(3);

13535 i‡(
	gi0
>=
_width
 || 
i1
>=_width || 
i2
>=_width || 
i3
>=_width) {

13536 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13538 
_width
,
¥imôives
._width,
i0
,
i1
,
i2
,
i3
,
l
);

13539  
	gÁl£
;

13543 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13545 
_width
,
¥imôives
._width,
l
,()
psiz
);

13546  
	gÁl£
;

13551 
cimgli°_f‹
(
cﬁ‹s
,
c
) {

13552 c⁄° 
	gCImg
<
	gtc
>& 
	gcﬁ‹
 = 
cﬁ‹s
[
c
];

13553 i‡(!
	gcﬁ‹
) {

13554 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13556 
_width
,
¥imôives
._width,
c
);

13557  
	gÁl£
;

13562 i‡(
	gcﬁ‹s
.
	g_width
>
	g¥imôives
._width) {

13563 c⁄° 
	gCImg
<
	gtc
> &
	glight
 = 
cﬁ‹s
.
back
();

13564 i‡(!
	glight
 ||Üight.
	g_dïth
>1) {

13565 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13567 
_width
,
¥imôives
._width,
light
._width,light.
_height
,light.
_dïth
,light.
_•e˘rum
);

13568  
	gÁl£
;

13572  
	gåue
;

13585 
boﬁ
 
is_CImg3d
(c⁄° boﬁ 
fuŒ_check
=
åue
, *c⁄° 
îr‹_mesßge
=0) const {

13586 i‡(
îr‹_mesßge
) *error_message = 0;

13589 i‡(
	g_width
!=1 || 
_height
<8 || 
_dïth
!=1 || 
_•e˘rum
!=1) {

13590 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13592 
_width
,
_height
,
_dïth
,
_•e˘rum
);

13593  
	gÁl£
;

13595 c⁄° 
T
 *
	g±rs
 = 
_d©a
, *c⁄° 
	g±ª
 = 
íd
();

13596 i‡(!
_is_CImg3d
(*(
±rs
++),'C') || !_is_CImg3d(*(ptrs++),'I') || !_is_CImg3d(*(ptrs++),'m') ||

13597 !
_is_CImg3d
(*(
±rs
++),'g') || !_is_CImg3d(*(ptrs++),'3') || !_is_CImg3d(*(ptrs++),'d')) {

13598 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13600  
	gÁl£
;

13603 
	gnb_poöts
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

13604 
	gnb_¥imôives
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++));

13607 i‡(!
	gfuŒ_check
) {

13608 c⁄° 
	gmöimÆ_size
 = 8UL + 3*
nb_poöts
 + 6*
nb_¥imôives
;

13609 i‡(
	g_d©a
 + 
	gmöimÆ_size
>
	g±ª
) {

13610 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13612 
nb_poöts
,
nb_¥imôives
,
size
(),
möimÆ_size
);

13613  
	gÁl£
;

13618 i‡(!
	gnb_poöts
) {

13619 i‡(
	gnb_¥imôives
) {

13620 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13622 
nb_poöts
,
nb_¥imôives
,nb_primitives);

13623  
	gÁl£
;

13625 i‡(
	g±rs
!=
±ª
) {

13626 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13628 
nb_poöts
,
nb_¥imôives
,()(
±ª
-
±rs
),(ptre-ptrs)>1?"s":"");

13629  
	gÁl£
;

13631  
	gåue
;

13633 i‡(
	g±rs
+3*
	gnb_poöts
>
	g±ª
) {

13634 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13636 
nb_poöts
,
nb_¥imôives
,()(
±ª
-
±rs
)/3);

13637  
	gÁl£
;

13639 
	g±rs
+=3*
nb_poöts
;

13642 i‡(
	g±rs
==
±ª
) {

13643 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13645 
nb_poöts
,
nb_¥imôives
,nb_points);

13646  
	gÁl£
;

13649 i‡(!
	gfuŒ_check
Ë 
	gåue
;

13651 
	gp
 = 0;Ö<
	gnb_¥imôives
; ++p) {

13652 c⁄° 
	gnb_öds
 = ()*(
±rs
++);

13653 
	gnb_öds
) {

13655 c⁄° 
i0
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++));

13656 i‡(
	gi0
>=
nb_poöts
) {

13657 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13659 
nb_poöts
,
nb_¥imôives
,
i0
,
p
);

13660  
	gÁl£
;

13665 
i0
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

13666 
	gi1
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++));

13667 
	g±rs
+=3;

13668 i‡(
	gi0
>=
nb_poöts
 || 
i1
>=nb_points) {

13669 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13671 
nb_poöts
,
nb_¥imôives
,
i0
,
i1
,
p
);

13672  
	gÁl£
;

13677 
i0
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

13678 
	gi1
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++));

13679 i‡(
	gnb_öds
==6Ë
±rs
+=4;

13680 i‡(
	gi0
>=
nb_poöts
 || 
i1
>=nb_points) {

13681 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13683 
nb_poöts
,
nb_¥imôives
,
i0
,
i1
,
p
);

13684  
	gÁl£
;

13689 
i0
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

13690 
	gi1
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

13691 
	gi2
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++));

13692 i‡(
	gnb_öds
==9Ë
±rs
+=6;

13693 i‡(
	gi0
>=
nb_poöts
 || 
i1
>Úb_poöt†|| 
i2
>=nb_points) {

13694 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13696 
nb_poöts
,
nb_¥imôives
,
i0
,
i1
,
i2
,
p
);

13697  
	gÁl£
;

13702 
i0
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

13703 
	gi1
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

13704 
	gi2
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

13705 
	gi3
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++));

13706 i‡(
	gnb_öds
==12Ë
±rs
+=8;

13707 i‡(
	gi0
>=
nb_poöts
 || 
i1
>Úb_poöt†|| 
i2
>Úb_poöt†|| 
i3
>=nb_points) {

13708 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13710 
nb_poöts
,
nb_¥imôives
,
i0
,
i1
,
i2
,
i3
,
p
);

13711  
	gÁl£
;

13715 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13717 
nb_poöts
,
nb_¥imôives
,
p
,
nb_öds
);

13718  
	gÁl£
;

13720 i‡(
	g±rs
>
	g±ª
) {

13721 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13723 
nb_poöts
,
nb_¥imôives
,
p
,()(
±rs
-
±ª
));

13724  
	gÁl£
;

13729 i‡(
	g±rs
==
±ª
) {

13730 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13732 
nb_poöts
,
nb_¥imôives
);

13733  
	gÁl£
;

13735 
	gc
 = 0; c<
	gnb_¥imôives
; ++c) {

13736 i‡(*(
	g±rs
++)!=(
T
)-128Ë
±rs
+=2;

13737 i‡((
	g±rs
+=3)<
±ª
) {

13738 c⁄° 
w
 = ()*(
±rs
-3), 
	gh
 = ()*’ås-2), 
	gs
 = ()*(ptrs-1);

13739 i‡(!
	gh
 && !
	gs
) {

13740 i‡(
	gw
>=
c
) {

13741 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13743 
nb_poöts
,
nb_¥imôives
,
w
,
c
);

13744  
	gÁl£
;

13746 } 
	g±rs
+=
w
*
h
*
s
;

13748 i‡(
	g±rs
>
	g±ª
) {

13749 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13751 
nb_poöts
,
nb_¥imôives
,
c
,()(
±rs
-
±ª
));

13752  
	gÁl£
;

13757 i‡(
	g±rs
==
±ª
) {

13758 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13760 
nb_poöts
,
nb_¥imôives
);

13761  
	gÁl£
;

13763 
	go
 = 0; o<
	gnb_¥imôives
; ++o) {

13764 i‡(*(
	g±rs
++)==(
T
)-128 && (
±rs
+=3)<
±ª
) {

13765 c⁄° 
w
 = ()*(
±rs
-3), 
	gh
 = ()*’ås-2), 
	gs
 = ()*(ptrs-1);

13766 i‡(!
	gh
 && !
	gs
) {

13767 i‡(
	gw
>=
o
) {

13768 i‡(
îr‹_mesßge
Ë
°d
::
•rötf
(error_message,

13770 
nb_poöts
,
nb_¥imôives
,
w
,
o
);

13771  
	gÁl£
;

13773 } 
	g±rs
+=
w
*
h
*
s
;

13775 i‡(
	g±rs
>
	g±ª
) {

13776 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13778 
nb_poöts
,
nb_¥imôives
,
o
);

13779  
	gÁl£
;

13784 i‡(
	g±rs
<
	g±ª
) {

13785 i‡(
	gîr‹_mesßge
Ë
	g°d
::
•rötf
(
îr‹_mesßge
,

13787 
nb_poöts
,
nb_¥imôives
,()(
±ª
-
±rs
),(ptre-ptrs)>1?"s":"");

13788  
	gÁl£
;

13790  
	gåue
;

13793 
boﬁ
 
_is_CImg3d
(c⁄° 
T
 
vÆ
, c⁄° 
c
) {

13794  
	gvÆ
>=(
T
)
c
 && 
vÆ
<(T)(c+1);

13805 
	s_cimg_m©h_∑r£r
 {

13806 
	gCImgLi°
<
	gch¨T
> 
	gœbñM
;

13807 
	gCImgLi°
<
	guötT
> 
	gcode
;

13808 
	gCImg
<
	guötT
> 
	gÀvñ
, 
	g›code
, 
	gœbñMpos
, 
	gœbñ1pos
;

13809 c⁄° 
	gCImg
<
	guötT
>* 
	gp_code
;

13810 
	gCImg
<
	gdoubÀT
> 
	gmem
;

13811 
	gCImg
<
	gch¨T
> 
	gex¥
;

13812 c⁄° 
	gCImg
<
	gT
>& 
	gª„ªn˚
;

13813 
	gCImg
<
	gTdoubÀ
> 
	gª„ªn˚_°©s
;

13814 
	gmempos
, 
	gªsu…
;

13815 c⁄° *c⁄° 
	gˇŒög_fun˘i⁄
;

13816 (
	g_cimg_m©h_∑r£r
::*
	tmp_func
)();

13817 c⁄° 
mp_func
 *
	gmp_funcs
;

13819 
	#_cimg_mp_ªtu∫
(
x
Ë{ *
£
 = 
ßved_ch¨
;  x; }

	)

13820 
	#_cimg_mp_›code0
(
›
Ë
	`_cimg_mp_ªtu∫
(
	`›code0
(›));

	)

13821 
	#_cimg_mp_›code1
(
›
,
i1
Ë
	`_cimg_mp_ªtu∫
(
	`›code1
(›,i1));

	)

13822 
	#_cimg_mp_›code2
(
›
,
i1
,
i2
Ë{ c⁄° 
_i1
 = i1, 
_i2
 = i2; 
	`_cimg_mp_ªtu∫
(
	`›code2
(›,_i1,_i2)); }

	)

13823 
	#_cimg_mp_›code3
(
›
,
i1
,
i2
,
i3
Ë{ c⁄° 
_i1
 = i1, 
_i2
 = i2, 
_i3
 = i3; 
	`_cimg_mp_ªtu∫
(
	`›code3
(›,_i1,_i2,_i3)); }

	)

13824 
	#_cimg_mp_›code6
(
›
,
i1
,
i2
,
i3
,
i4
,
i5
,
i6
Ë{ c⁄° 
_i1
 = i1, 
_i2
 = i2, 
_i3
 = i3, 
_i4
 = i4, 
_i5
 = i5, 
_i6
 = i6; \

13825 
	`_cimg_mp_ªtu∫
(
	`›code6
(
›
,
_i1
,
_i2
,
_i3
,
_i4
,
_i5
,
_i6
)); }

	)

13828 
_cimg_m©h_∑r£r
(c⁄° 
CImg
<
T
>& 
img
, c⁄° *c⁄° 
ex¥essi⁄
, c⁄° *c⁄° 
fun˙ame
=0):

13829 
ª„ªn˚
(
img
),
ˇŒög_fun˘i⁄
(
fun˙ame
?funcname:"cimg_math_parser") {

13830 
l
 = 0;

13831 i‡(
	gex¥essi⁄
) {

13832 
	gl
 = ()
°d
::
°æí
(
ex¥essi⁄
);

13833 
	gex¥
.
assign
(
ex¥essi⁄
,
l
+1);

13834 i‡(*
	gex¥
.
	g_d©a
) {

13835 *
	gd
 = 
ex¥
.
_d©a
;

13836 c⁄° *
	gs
 = 
ex¥
.
_d©a
; *†|| (
	gboﬁ
)(*
	gd
=0); ++sËi‡(*s!=' 'Ë*(
d
++Ë*
s
;

13837 
	gl
 = ()(
d
 - 
ex¥
.
_d©a
);

13840 i‡(!
	gl
Ë
throw
 
CImgArgumítEx˚±i⁄
("[_cimg_math_parser] "

13842 
pixñ_ty≥
(),
ˇŒög_fun˘i⁄
);

13844 
	glv
 = 0;

13845 
	gÀvñ
.
assign
(
l
);

13846 *
	gpd
 = 
Àvñ
.
_d©a
;

13847 c⁄° *
	gps
 = 
ex¥
.
_d©a
; *p†&& 
	glv
>=0; ++psË*(
	gpd
++Ë()(*
ps
=='('||*ps=='['?
lv
++:*ps==')'||*ps==']'?--lv:lv);

13848 i‡(
	glv
!=0) {

13849 
throw
 
CImgArgumítEx˚±i⁄
("[_cimg_math_parser] "

13851 
pixñ_ty≥
(),
ˇŒög_fun˘i⁄
,

13852 
ex¥
.
_d©a
);

13855 
	gmem
.
assign
(512);

13856 
	gmem
[0] = 0;

13857 
	gmem
[1] = 1;

13858 
	gmem
[2] = 2;

13859 
	gmem
[3] = ()
ª„ªn˚
.
_width
;

13860 
	gmem
[4] = ()
ª„ªn˚
.
_height
;

13861 
	gmem
[5] = ()
ª„ªn˚
.
_dïth
;

13862 
	gmem
[6] = ()
ª„ªn˚
.
_•e˘rum
;

13863 
	gmem
[7] = 
cimg
::
PI
;

13864 
	gmem
[8] = 
°d
::
exp
(1.0);

13865 
	gmempos
 = 13;

13866 
	gœbñMpos
.
assign
(8);

13867 
	gœbñ1pos
.
assign
(128,1,1,1,~0U);

13868 
	gœbñ1pos
['w'] = 3;

13869 
	gœbñ1pos
['h'] = 4;

13870 
	gœbñ1pos
['d'] = 5;

13871 
	gœbñ1pos
['s'] = 6;

13872 
	gœbñ1pos
[0] = 7;

13873 
	gœbñ1pos
['e'] = 8;

13874 
	gœbñ1pos
['x'] = 9;

13875 
	gœbñ1pos
['y'] = 10;

13876 
	gœbñ1pos
['z'] = 11;

13877 
	gœbñ1pos
['c'] = 12;

13878 
	gªsu…
 = 
compûe
(
ex¥
.
_d©a
,ex¥._d©a+
l
);

13882 
›code0
(c⁄° 
›
) {

13883 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

13884 c⁄° 
	gpos
 = 
mempos
++;

13885 
	gCImg
<
	guötT
>::
ve˘‹
(
›
,
pos
).
move_to
(
code
);

13886  
	gpos
;

13889 
›code1
(c⁄° 
›
, c⁄° 
¨g1
) {

13890 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

13891 c⁄° 
	gpos
 = 
mempos
++;

13892 
	gCImg
<
	guötT
>::
ve˘‹
(
›
,
pos
,
¨g1
).
move_to
(
code
);

13893  
	gpos
;

13896 
›code2
(c⁄° 
›
, c⁄° 
¨g1
, c⁄° 
¨g2
) {

13897 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

13898 c⁄° 
	gpos
 = 
mempos
++;

13899 
	gCImg
<
	guötT
>::
ve˘‹
(
›
,
pos
,
¨g1
,
¨g2
).
move_to
(
code
);

13900  
	gpos
;

13903 
›code3
(c⁄° 
›
, c⁄° 
¨g1
, c⁄° 
¨g2
, c⁄° 
¨g3
) {

13904 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

13905 c⁄° 
	gpos
 = 
mempos
++;

13906 
	gCImg
<
	guötT
>::
ve˘‹
(
›
,
pos
,
¨g1
,
¨g2
,
¨g3
).
move_to
(
code
);

13907  
	gpos
;

13910 
›code6
(c⁄° 
›
, c⁄° 
¨g1
, c⁄° 
¨g2
, c⁄° 
¨g3
,

13911 c⁄° 
¨g4
, c⁄° 
¨g5
, c⁄° 
¨g6
) {

13912 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

13913 c⁄° 
	gpos
 = 
mempos
++;

13914 
	gCImg
<
	guötT
>::
ve˘‹
(
›
,
pos
,
¨g1
,
¨g2
,
¨g3
,
¨g4
,
¨g5
,
¨g6
).
move_to
(
code
);

13915  
	gpos
;

13919 
compûe
(*c⁄° 
ss
, *c⁄° 
£
) {

13920 i‡(!
	gss
 || 
	g£
<=
ss
 || !*ss) {

13921 
throw
 
CImgArgumítEx˚±i⁄
("[_cimg_math_parser] "

13923 
pixñ_ty≥
(),
ˇŒög_fun˘i⁄
,

13924 
ex¥
.
_d©a
);

13927 *c⁄° 
	g£1
 = 
£
-1, *c⁄° 
	g£2
 = se-2, *c⁄° 
	g£3
 = se-3, *c⁄° 
	g£4
 = se-4,

13928 *c⁄° 
	gss1
 = 
ss
+1, *c⁄° 
	gss2
 = ss+2, *c⁄° 
	gss3
 = ss+3, *c⁄° 
	gss4
 = ss+4,

13929 *c⁄° 
	gss5
 = 
ss
+5, *c⁄° 
	gss6
 = ss+6, *c⁄° 
	gss7
 = ss+7;

13930 c⁄° 
	gßved_ch¨
 = *
£
; *
	g£
 = 0;

13931 c⁄° 
	g˛evñ
 = 
Àvñ
[
ss
-
ex¥
.
_d©a
], 
	g˛evñ1
 = 
˛evñ
+1;

13932 i‡(*
	g£1
==';'Ë 
compûe
(
ss
,
£1
);

13935 
	gíd
 = 0, 
	g£p
 = 0; 
	gvÆ
 = 0;

13936 c⁄° 
	gnb
 = 
°d
::
ssˇnf
(
ss
,"%lf%c%c",&
vÆ
,&
£p
,&
íd
);

13937 i‡(
	gnb
==1) {

13938 i‡(
vÆ
==0 || vÆ==1 || vÆ==2Ë
_cimg_mp_ªtu∫
(()val);

13939 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

13940 c⁄° 
	gpos
 = 
mempos
++;

13941 
	gmem
[
pos
] = 
vÆ
;

13942 
_cimg_mp_ªtu∫
(
pos
);

13944 i‡(
	gnb
==2 && 
£p
=='%') {

13945 i‡(
vÆ
==0 || vÆ==100 || vÆ==200Ë
_cimg_mp_ªtu∫
(()(val/100));

13946 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

13947 c⁄° 
	gpos
 = 
mempos
++;

13948 
	gmem
[
pos
] = 
vÆ
/100;

13949 
_cimg_mp_ªtu∫
(
pos
);

13951 i‡(
	gss1
==
£
Ë*
ss
) {

13953 'x' : 'y' : 'z' : 'c' : 'e' : 
_cimg_mp_ªtu∫
(
œbñ1pos
[*
ss
]);

13954 'u' : i‡(
œbñ1pos
['u']!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos['u']); 
_cimg_mp_›code2
(0,0,1);

13955 'g' : i‡(
œbñ1pos
['g']!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos['g']); 
_cimg_mp_›code0
(1);

13956 'i' : i‡(
œbñ1pos
['i']!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos['i']); 
_cimg_mp_›code0
(2);

13957 '?' : 
_cimg_mp_›code2
(0,0,1);

13959 i‡(
	gss1
==
£1
) {

13960 i‡(*
ss
=='p' && *
ss1
=='i'Ë
_cimg_mp_ªtu∫
(
œbñ1pos
[0]);

13961 i‡(*
	gss
=='i') {

13962 i‡(*
ss1
=='m'Ë{ i‡(
œbñ1pos
[1]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[1]); 
_cimg_mp_›code0
(57); }

13963 i‡(*
	gss1
=='M'Ë{ i‡(
œbñ1pos
[2]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[2]); 
_cimg_mp_›code0
(58); }

13964 i‡(*
	gss1
=='a'Ë{ i‡(
œbñ1pos
[3]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[3]); 
_cimg_mp_›code0
(59); }

13965 i‡(*
	gss1
=='v'Ë{ i‡(
œbñ1pos
[4]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[4]); 
_cimg_mp_›code0
(60); }

13967 i‡(*
	gss1
=='m') {

13968 i‡(*
ss
=='x'Ë{ i‡(
œbñ1pos
[5]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[5]); 
_cimg_mp_›code0
(61); }

13969 i‡(*
	gss
=='y'Ë{ i‡(
œbñ1pos
[6]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[6]); 
_cimg_mp_›code0
(62); }

13970 i‡(*
	gss
=='z'Ë{ i‡(
œbñ1pos
[7]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[7]); 
_cimg_mp_›code0
(63); }

13971 i‡(*
	gss
=='c'Ë{ i‡(
œbñ1pos
[8]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[8]); 
_cimg_mp_›code0
(64); }

13973 i‡(*
	gss1
=='M') {

13974 i‡(*
ss
=='x'Ë{ i‡(
œbñ1pos
[9]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[9]); 
_cimg_mp_›code0
(65); }

13975 i‡(*
	gss
=='y'Ë{ i‡(
œbñ1pos
[10]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[10]); 
_cimg_mp_›code0
(66); }

13976 i‡(*
	gss
=='z'Ë{ i‡(
œbñ1pos
[11]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[11]); 
_cimg_mp_›code0
(67); }

13977 i‡(*
	gss
=='c'Ë{ i‡(
œbñ1pos
[12]!=~0UË
_cimg_mp_ªtu∫
÷abñ1pos[12]); 
_cimg_mp_›code0
(6); }

13982 *
	gs
 = 
£2
; s>
	gss
; --sËi‡(*s==';' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë{ 
compûe
(
ss
,s); 
_cimg_mp_ªtu∫
(compûe(s+1,
£
)); }

13983 *
	gs
 = 
ss1
, *
	gps
 = 
ss
, *
	gns
 = 
ss2
; s<
	g£1
; ++s, ++ps, ++ns)

13984 i‡(*
	gs
=='=' && *
ns
!='=' && *
ps
!='=' && *ps!='>' && *ps!='<' && *ps!='!' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
) {

13985 
CImg
<
ch¨T
> 
v¨übÀ_«me
(
ss
,()(
s
-ss+1));

13986 
	gv¨übÀ_«me
.
back
() = 0;

13987 
boﬁ
 
	gis_vÆid_«me
 = 
åue
;

13988 i‡(*
	gss
>='0' && *
ss
<='9'Ë
is_vÆid_«me
 = 
Ál£
;

13989 c⁄° *
	gns
 = 
ss
+1;Çs<
	gs
; ++ns)

13990 i‡((*
	gns
<'a' || *ns>'z') && (*ns<'A' || *ns>'Z') && (*ns<'0' || *ns>'9') && *ns!='_') {

13991 
is_vÆid_«me
 = 
Ál£
; ;

13993 i‡(!
	gis_vÆid_«me
) {

13994 *
	g£
 = 
ßved_ch¨
;

13995 
throw
 
CImgArgumítEx˚±i⁄
("[_cimg_math_parser] "

13997 
pixñ_ty≥
(),
ˇŒög_fun˘i⁄
,

13998 
v¨übÀ_«me
.
_d©a
,

13999 (
ss
-8)>
ex¥
.
_d©a
?"...":"",

14000 (
ss
-8)>
ex¥
.
_d©a
?ss-8:expr._data,

14001 
£
<&
ex¥
.
back
()?"...":"");

14003 c⁄° 
	gpos
 = 
compûe
(
s
+1,
£
);

14004 i‡(
	gv¨übÀ_«me
[0] && variable_name[1] && !variable_name[2]) {

14005 c⁄° 
	gc1
 = 
v¨übÀ_«me
[0], 
	gc2
 = variable_name[1];

14006 i‡(
	gc1
=='p' && 
c2
=='i'Ë
v¨übÀ_«me
.
fûl
(()0,()0);

14007 i‡(
	gc1
=='i') {

14008 i‡(
c2
=='m'Ë
v¨übÀ_«me
.
fûl
(1,0);

14009 i‡(
	gc2
=='M'Ë
v¨übÀ_«me
.
fûl
(2,0);

14010 i‡(
	gc2
=='a'Ë
v¨übÀ_«me
.
fûl
(3,0);

14011 i‡(
	gc2
=='v'Ë
v¨übÀ_«me
.
fûl
(4,0);

14012 } i‡(
	gc2
=='m') {

14013 i‡(
c1
=='x'Ë
v¨übÀ_«me
.
fûl
(5,0);

14014 i‡(
	gc1
=='y'Ë
v¨übÀ_«me
.
fûl
(6,0);

14015 i‡(
	gc1
=='z'Ë
v¨übÀ_«me
.
fûl
(7,0);

14016 i‡(
	gc1
=='c'Ë
v¨übÀ_«me
.
fûl
(8,0);

14017 } i‡(
	gc2
=='M') {

14018 i‡(
c1
=='x'Ë
v¨übÀ_«me
.
fûl
(9,0);

14019 i‡(
	gc1
=='y'Ë
v¨übÀ_«me
.
fûl
(10,0);

14020 i‡(
	gc1
=='z'Ë
v¨übÀ_«me
.
fûl
(11,0);

14021 i‡(
	gc1
=='c'Ë
v¨übÀ_«me
.
fûl
(12,0);

14024 i‡(
	gv¨übÀ_«me
[1]) {

14025 
	gœbñ_pos
 = -1;

14026 
cimgli°_f‹
(
œbñM
,
i
Ëi‡(!
	g°d
::
°rcmp
(
v¨übÀ_«me
,œbñM[i])Ë{ 
	gœbñ_pos
 = i; ; }

14027 i‡(
	gœbñ_pos
<0) {

14028 i‡(
	gœbñM
.
	g_width
>=
œbñMpos
.
_width
ËœbñMpos.
ªsize
(-200,1,1,1,0);

14029 
	gœbñ_pos
 = 
œbñM
.
_width
;

14030 
	gv¨übÀ_«me
.
move_to
(
œbñM
);

14032 
	gœbñMpos
[
œbñ_pos
] = 
pos
;

14033 } 
	gœbñ1pos
[*
v¨übÀ_«me
] = 
pos
;

14034 
_cimg_mp_ªtu∫
(
pos
);

14038 *
	gs
 = 
£3
, *
	gns
 = 
£2
; s>
	gss
; --s, --nsËi‡(*s=='|' && *
ns
=='|' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
) {

14039 c⁄° 
mem_A
 = 
compûe
(
ss
,
s
), 
	gbp1
 = 
code
.
_width
, 
	gmem_B
 = compûe(s+2,
£
);

14040 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

14041 c⁄° 
	gpos
 = 
mempos
++;

14042 
	gCImg
<
	guötT
>::
ve˘‹
(8,
pos
,
mem_A
,
mem_B
,
code
.
_width
-
bp1
).
move_to
(code,bp1);

14043 
_cimg_mp_ªtu∫
(
pos
);

14045 *
	gs
 = 
£3
, *
	gns
 = 
£2
; s>
	gss
; --s, --nsËi‡(*s=='&' && *
ns
=='&' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
) {

14046 c⁄° 
mem_A
 = 
compûe
(
ss
,
s
), 
	gbp1
 = 
code
.
_width
, 
	gmem_B
 = compûe(s+2,
£
);

14047 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

14048 c⁄° 
	gpos
 = 
mempos
++;

14049 
	gCImg
<
	guötT
>::
ve˘‹
(9,
pos
,
mem_A
,
mem_B
,
code
.
_width
-
bp1
).
move_to
(code,bp1);

14050 
_cimg_mp_ªtu∫
(
pos
);

14052 *
	gs
 = 
£2
; s>
	gss
; --sËi‡(*s=='|' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(10,
compûe
(
ss
,s),compûe(s+1,
£
));

14053 *
	gs
 = 
£2
; s>
	gss
; --sËi‡(*s=='&' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(11,
compûe
(
ss
,s),compûe(s+1,
£
));

14054 *
	gs
 = 
£3
, *
	gns
 = 
£2
; s>
	gss
; --s, --nsËi‡(*s=='!' && *
ns
=='=' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(12,
compûe
(
ss
,s),compûe(s+2,
£
));

14055 *
	gs
 = 
£3
, *
	gns
 = 
£2
; s>
	gss
; --s, --nsËi‡(*s=='=' && *
ns
=='=' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(13,
compûe
(
ss
,s),compûe(s+2,
£
));

14056 *
	gs
 = 
£3
, *
	gns
 = 
£2
; s>
	gss
; --s, --nsËi‡(*s=='<' && *
ns
=='=' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(14,
compûe
(
ss
,s),compûe(s+2,
£
));

14057 *
	gs
 = 
£3
, *
	gns
 = 
£2
; s>
	gss
; --s, --nsËi‡(*s=='>' && *
ns
=='=' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(15,
compûe
(
ss
,s),compûe(s+2,
£
));

14058 *
	gs
 = 
£2
, *
	gns
 = 
£1
, *
	gps
 = 
£3
; s>
	gss
; --s, --ns, --ps)

14059 i‡(*
	gs
=='<' && *
ns
!='<' && *
ps
!='<' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(16,
compûe
(
ss
,s),compûe(s+1,
£
));

14060 *
	gs
 = 
£2
, *
	gns
 = 
£1
, *
	gps
 = 
£3
; s>
	gss
; --s, --ns, --ps)

14061 i‡(*
	gs
=='>' && *
ns
!='>' && *
ps
!='>' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(17,
compûe
(
ss
,s),compûe(s+1,
£
));

14062 *
	gs
 = 
£3
, *
	gns
 = 
£2
; s>
	gss
; --s, --nsËi‡(*s=='<' && *
ns
=='<' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(18,
compûe
(
ss
,s),compûe(s+2,
£
));

14063 *
	gs
 = 
£3
, *
	gns
 = 
£2
; s>
	gss
; --s, --nsËi‡(*s=='>' && *
ns
=='>' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(19,
compûe
(
ss
,s),compûe(s+2,
£
));

14064 *
	gs
 = 
£2
, *
	gps
 = 
£3
; s>
	gss
; --s, --ps)

14065 i‡(*
	gs
=='+' && *
ps
!='-' && *ps!='+' && *ps!='*' && *ps!='/' && *ps!='%' && *ps!='&' && *ps!='|' && *ps!='^' && *ps!='!' && *ps!='~' &&

14066 (*
ps
!='e' || !’s>
ss
 && (*’s-1)=='.' || (*’s-1)>='0' && *’s-1)<='9')))Ë&& 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
)

14067 
_cimg_mp_›code2
(21,
compûe
(
ss
,
s
),compûe(s+1,
£
));

14068 *
	gs
 = 
£2
, *
	gps
 = 
£3
; s>
	gss
; --s, --ps)

14069 i‡(*
	gs
=='-' && *
ps
!='-' && *ps!='+' && *ps!='*' && *ps!='/' && *ps!='%' && *ps!='&' && *ps!='|' && *ps!='^' && *ps!='!' && *ps!='~' &&

14070 (*
ps
!='e' || !’s>
ss
 && (*’s-1)=='.' || (*’s-1)>='0' && *’s-1)<='9')))Ë&& 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
)

14071 
_cimg_mp_›code2
(20,
compûe
(
ss
,
s
),compûe(s+1,
£
));

14072 *
	gs
 = 
£2
; s>
	gss
; --sËi‡(*s=='*' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
) {

14073 c⁄° 
mem_A
 = 
compûe
(
ss
,
s
), 
	gbp1
 = 
code
.
_width
, 
	gmem_B
 = compûe(s+1,
£
);

14074 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

14075 c⁄° 
	gpos
 = 
mempos
++;

14076 
	gCImg
<
	guötT
>::
ve˘‹
(22,
pos
,
mem_A
,
mem_B
,
code
.
_width
-
bp1
).
move_to
(code,bp1);

14077 
_cimg_mp_ªtu∫
(
pos
);

14079 *
	gs
 = 
£2
; s>
	gss
; --sËi‡(*s=='/' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(23,
compûe
(
ss
,s),compûe(s+1,
£
));

14080 *
	gs
 = 
£2
, *
	gns
 = 
£1
; s>
	gss
; --s, --ns)

14081 i‡(*
	gs
=='%' && *
ns
!='^' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
)

14082 
_cimg_mp_›code2
(24,
compûe
(
ss
,
s
),compûe(s+1,
£
));

14083 i‡(
	gss
<
	g£1
) {

14084 i‡(*
	gss
=='+'Ë
_cimg_mp_ªtu∫
(
compûe
(
ss1
,
£
));

14085 i‡(*
	gss
=='-'Ë
_cimg_mp_›code1
(26,
compûe
(
ss1
,
£
));

14086 i‡(*
	gss
=='!'Ë
_cimg_mp_›code1
(27,
compûe
(
ss1
,
£
));

14087 i‡(*
	gss
=='~'Ë
_cimg_mp_›code1
(28,
compûe
(
ss1
,
£
));

14089 *
	gs
 = 
£2
; s>
	gss
; --sËi‡(*s=='^' && 
Àvñ
[
s
-
ex¥
.
_d©a
]==
˛evñ
Ë
_cimg_mp_›code2
(25,
compûe
(
ss
,s),compûe(s+1,
£
));

14092 i‡(*
	g£1
==']') {

14093 c⁄° 
boﬁ
 
is_ªœtive
 = *
ss
=='j';

14094 i‡((*
	gss
=='i' || 
is_ªœtive
Ë&& *
ss1
=='[') {

14095 i‡(*
ss2
==']'Ë
_cimg_mp_›code0
(2);

14096 
_cimg_mp_›code1
(
is_ªœtive
?69:68,
compûe
(
ss2
,
£1
));

14099 i‡(*
	g£1
==')') {

14100 i‡(*
ss
=='('Ë
_cimg_mp_ªtu∫
(
compûe
(
ss1
,
£1
));

14101 i‡(!
	g°d
::
°∫cmp
(
ss
,"sö(",4)Ë
_cimg_mp_›code1
(29,
compûe
(
ss4
,
£1
));

14102 i‡(!
	g°d
::
°∫cmp
(
ss
,"cos(",4)Ë
_cimg_mp_›code1
(30,
compûe
(
ss4
,
£1
));

14103 i‡(!
	g°d
::
°∫cmp
(
ss
,"èn(",4)Ë
_cimg_mp_›code1
(31,
compûe
(
ss4
,
£1
));

14104 i‡(!
	g°d
::
°∫cmp
(
ss
,"asö(",5)Ë
_cimg_mp_›code1
(32,
compûe
(
ss5
,
£1
));

14105 i‡(!
	g°d
::
°∫cmp
(
ss
,"acos(",5)Ë
_cimg_mp_›code1
(33,
compûe
(
ss5
,
£1
));

14106 i‡(!
	g°d
::
°∫cmp
(
ss
,"©™(",5)Ë
_cimg_mp_›code1
(34,
compûe
(
ss5
,
£1
));

14107 i‡(!
	g°d
::
°∫cmp
(
ss
,"söh(",5)Ë
_cimg_mp_›code1
(35,
compûe
(
ss5
,
£1
));

14108 i‡(!
	g°d
::
°∫cmp
(
ss
,"cosh(",5)Ë
_cimg_mp_›code1
(36,
compûe
(
ss5
,
£1
));

14109 i‡(!
	g°d
::
°∫cmp
(
ss
,"ènh(",5)Ë
_cimg_mp_›code1
(37,
compûe
(
ss5
,
£1
));

14110 i‡(!
	g°d
::
°∫cmp
(
ss
,"log10(",6)Ë
_cimg_mp_›code1
(38,
compûe
(
ss6
,
£1
));

14111 i‡(!
	g°d
::
°∫cmp
(
ss
,"log2(",5)Ë
_cimg_mp_›code1
(3,
compûe
(
ss5
,
£1
));

14112 i‡(!
	g°d
::
°∫cmp
(
ss
,"log(",4)Ë
_cimg_mp_›code1
(39,
compûe
(
ss4
,
£1
));

14113 i‡(!
	g°d
::
°∫cmp
(
ss
,"exp(",4)Ë
_cimg_mp_›code1
(40,
compûe
(
ss4
,
£1
));

14114 i‡(!
	g°d
::
°∫cmp
(
ss
,"sqπ(",5)Ë
_cimg_mp_›code1
(41,
compûe
(
ss5
,
£1
));

14115 i‡(!
	g°d
::
°∫cmp
(
ss
,"sign(",5)Ë
_cimg_mp_›code1
(42,
compûe
(
ss5
,
£1
));

14116 i‡(!
	g°d
::
°∫cmp
(
ss
,"abs(",4)Ë
_cimg_mp_›code1
(43,
compûe
(
ss4
,
£1
));

14117 i‡(!
	g°d
::
°∫cmp
(
ss
,"atan2(",6)) {

14118 *
	gs1
 = 
ss6
; s1<
	g£2
 && (*s1!=',' || 
Àvñ
[
s1
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s1;

14119 
_cimg_mp_›code2
(44,
compûe
(
ss6
,
s1
),compûe(s1+1,
£1
));

14121 i‡(*
	gss
=='i' && *
ss1
=='f' && *
ss2
=='(') {

14122 *
s1
 = 
ss3
; 
	gs1
<
	g£4
 && (*s1!=',' || 
Àvñ
[s1-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s1;

14123 *
	gs2
 = 
s1
+1; s2<
	g£2
 && (*s2!=',' || 
Àvñ
[
s2
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s2;

14124 c⁄° 
	gmem_c⁄d
 = 
compûe
(
ss3
,
s1
), 
	gbp1
 = 
code
.
_width
, 
	gmem_A
 = compûe(s1+1,
s2
),

14125 
	gbp2
 = 
code
.
_width
, 
	gmem_B
 = 
compûe
(
s2
+1,
£1
);

14126 i‡(
	gmempos
>=
mem
.
_width
Ëmem.
ªsize
(-200,1,1,1,0);

14127 c⁄° 
	gpos
 = 
mempos
++;

14128 
	gCImg
<
	guötT
>::
ve˘‹
(45,
pos
,
mem_c⁄d
,
mem_A
,
mem_B
,
bp2
-
bp1
,
code
.
_width
-bp2).
move_to
(code,bp1);

14129 
_cimg_mp_ªtu∫
(
pos
);

14131 i‡(!
	g°d
::
°∫cmp
(
ss
,"round(",6)) {

14132 
	gvÆue
 = 0, 
	ground
 = 1, 
	gdúe˘i⁄
 = 0;

14133 *
	gs1
 = 
ss6
; s1<
	g£2
 && (*s1!=',' || 
Àvñ
[
s1
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s1;

14134 
	gvÆue
 = 
compûe
(
ss6
,
s1
==
£2
?++s1:s1);

14135 i‡(
	gs1
<
	g£1
) {

14136 *
	gs2
 = 
s1
+1; s2<
	g£2
 && (*s2!=',' || 
Àvñ
[
s2
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s2;

14137 
	ground
 = 
compûe
(
s1
+1,
s2
==
£2
?++s2:s2);

14138 i‡(
	gs2
<
	g£1
Ë
	gdúe˘i⁄
 = 
compûe
(
s2
+1,
£1
);

14140 
_cimg_mp_›code3
(46,
vÆue
,
round
,
dúe˘i⁄
);

14142 i‡((*
	gss
=='?' || *
ss
=='u'Ë&& *
ss1
=='(') {

14143 i‡(*
ss2
==')'Ë
_cimg_mp_›code2
(0,0,1);

14144 *
	gs1
 = 
ss2
; s1<
	g£1
 && (*s1!=',' || 
Àvñ
[
s1
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s1;

14145 i‡(
	gs1
<
	g£1
Ë
_cimg_mp_›code2
(0,
compûe
(
ss2
,
s1
),compûe(s1+1,
£1
));

14146 
_cimg_mp_›code2
(0,0,
compûe
(
ss2
,
s1
));

14148 c⁄° 
boﬁ
 
	gis_ªœtive
 = *
ss
=='j';

14149 i‡((*
	gss
=='i' || 
is_ªœtive
Ë&& *
ss1
=='(') {

14150 i‡(*
ss2
==')'Ë
_cimg_mp_›code0
(2);

14152 
	gödx
 = 
is_ªœtive
?0:9, 
	gödy
 = is_relative?0:10,

14153 
	gödz
 = 
is_ªœtive
?0:11, 
	gödc
 = is_relative?0:12,

14154 
	gb‹dîs
 = 0, 
	göãΩﬁ©i⁄
 = 0;

14155 i‡(
	gss2
!=
£1
) {

14156 *
s1
 = 
ss2
; 
	gs1
<
	g£2
 && (*s1!=',' || 
Àvñ
[s1-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s1;

14157 
	gödx
 = 
compûe
(
ss2
,
s1
==
£2
?++s1:s1);

14158 i‡(
	gs1
<
	g£1
) {

14159 *
	gs2
 = 
s1
+1; s2<
	g£2
 && (*s2!=',' || 
Àvñ
[
s2
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s2;

14160 
	gödy
 = 
compûe
(
s1
+1,
s2
==
£2
?++s2:s2);

14161 i‡(
	gs2
<
	g£1
) {

14162 *
	gs3
 = 
s2
+1; s3<
	g£2
 && (*s3!=',' || 
Àvñ
[
s3
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s3;

14163 
	gödz
 = 
compûe
(
s2
+1,
s3
==
£2
?++s3:s3);

14164 i‡(
	gs3
<
	g£1
) {

14165 *
	gs4
 = 
s3
+1; s4<
	g£2
 && (*s4!=',' || 
Àvñ
[
s4
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s4;

14166 
	gödc
 = 
compûe
(
s3
+1,
s4
==
£2
?++s4:s4);

14167 i‡(
	gs4
<
	g£1
) {

14168 *
	gs5
 = 
s4
+1; s5<
	g£2
 && (*s5!=',' || 
Àvñ
[
s5
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s5;

14169 
	göãΩﬁ©i⁄
 = 
compûe
(
s4
+1,
s5
==
£2
?++s5:s5);

14170 i‡(
	gs5
<
	g£1
Ë
	gb‹dîs
 = 
compûe
(
s5
+1,
£1
);

14176 
_cimg_mp_›code6
(
is_ªœtive
?7:47,
ödx
,
ödy
,
ödz
,
ödc
,
öãΩﬁ©i⁄
,
b‹dîs
);

14178 i‡(!
	g°d
::
°∫cmp
(
ss
,"min(",4) || !std::strncmp(ss,"max(",4)) {

14179 
	gCImgLi°
<
	guötT
> 
	g›code
;

14180 i‡(
	gmempos
>=
mem
.
size
()Ëmem.
ªsize
(-200,1,1,1,0);

14181 c⁄° 
	gpos
 = 
mempos
++;

14182 
	gCImg
<
	guötT
>::
ve˘‹
(
ss
[1]=='i'?48:49,
pos
).
move_to
(
›code
);

14183 *
	gs
 = 
ss4
; s<
	g£
; ++s) {

14184 *
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Àvñ
[
ns
-
ex¥
.
_d©a
]!=
˛evñ1
Ë&& (*ns!=')' ||Üevñ[ns-ex¥._d©a]!=
˛evñ
)) ++ns;

14185 
	gCImg
<
	guötT
>::
ve˘‹
(
compûe
(
s
,
ns
)).
move_to
(
›code
);

14186 
	gs
 = 
ns
;

14188 (
	g›code
>'y').
move_to
(
code
);

14189 
_cimg_mp_ªtu∫
(
pos
);

14191 i‡(!
	g°d
::
°∫cmp
(
ss
,"arg(",4)) {

14192 
	gCImgLi°
<
	guötT
> 
	g›code
;

14193 i‡(
	gmempos
>=
mem
.
size
()Ëmem.
ªsize
(-200,1,1,1,0);

14194 c⁄° 
	gpos
 = 
mempos
++;

14195 
	gCImg
<
	guötT
>::
ve˘‹
(5,
pos
).
move_to
(
›code
);

14196 *
	gs
 = 
ss4
; s<
	g£
; ++s) {

14197 *
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Àvñ
[
ns
-
ex¥
.
_d©a
]!=
˛evñ1
Ë&& (*ns!=')' ||Üevñ[ns-ex¥._d©a]!=
˛evñ
)) ++ns;

14198 
	gCImg
<
	guötT
>::
ve˘‹
(
compûe
(
s
,
ns
)).
move_to
(
›code
);

14199 
	gs
 = 
ns
;

14201 (
	g›code
>'y').
move_to
(
code
);

14202 
_cimg_mp_ªtu∫
(
pos
);

14204 i‡(!
	g°d
::
°∫cmp
(
ss
,"narg(",5)) {

14205 i‡(*
	gss5
==')'Ë
_cimg_mp_ªtu∫
(0);

14206 
	gnb_¨gs
 = 0;

14207 *
	gs
 = 
ss5
; s<
	g£
; ++s) {

14208 *
	gns
 = 
s
; ns<
	g£
 && (*ns!=',' || 
Àvñ
[
ns
-
ex¥
.
_d©a
]!=
˛evñ1
Ë&& (*ns!=')' ||Üevñ[ns-ex¥._d©a]!=
˛evñ
)) ++ns;

14209 ++
	gnb_¨gs
; 
	gs
 = 
ns
;

14211 i‡(
	gnb_¨gs
==0 || 
nb_¨gs
==1Ë
_cimg_mp_ªtu∫
(nb_args);

14212 i‡(
	gmempos
>=
mem
.
size
()Ëmem.
ªsize
(-200,1,1,1,0);

14213 c⁄° 
	gpos
 = 
mempos
++;

14214 
	gmem
[
pos
] = 
nb_¨gs
;

14215 
_cimg_mp_ªtu∫
(
pos
);

14217 i‡(!
	g°d
::
°∫cmp
(
ss
,"isval(",6)) {

14218 
	g£p
 = 0, 
	gíd
 = 0; 
	gvÆ
 = 0;

14219 i‡(
	g°d
::
ssˇnf
(
ss6
,"%lf%c%c",&
vÆ
,&
£p
,&
íd
)==2 && sï==')'Ë
_cimg_mp_ªtu∫
(1);

14220 
_cimg_mp_ªtu∫
(0);

14222 i‡(!
	g°d
::
°∫cmp
(
ss
,"i¢™(",6)Ë
_cimg_mp_›code1
(50,
compûe
(
ss6
,
£1
));

14223 i‡(!
	g°d
::
°∫cmp
(
ss
,"isöf(",6)Ë
_cimg_mp_›code1
(51,
compûe
(
ss6
,
£1
));

14224 i‡(!
	g°d
::
°∫cmp
(
ss
,"isöt(",6)Ë
_cimg_mp_›code1
(52,
compûe
(
ss6
,
£1
));

14225 i‡(!
	g°d
::
°∫cmp
(
ss
,"isboﬁ(",7)Ë
_cimg_mp_›code1
(53,
compûe
(
ss7
,
£1
));

14226 i‡(!
	g°d
::
°∫cmp
(
ss
,"rol(",4) || !std::strncmp(ss,"ror(",4)) {

14227 
	gvÆue
 = 0, 
	gnb
 = 1;

14228 *
	gs1
 = 
ss4
; s1<
	g£2
 && (*s1!=',' || 
Àvñ
[
s1
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s1;

14229 
	gvÆue
 = 
compûe
(
ss4
,
s1
==
£2
?++s1:s1);

14230 i‡(
	gs1
<
	g£1
) {

14231 *
	gs2
 = 
s1
+1; s2<
	g£2
 && (*s2!=',' || 
Àvñ
[
s2
-
ex¥
.
_d©a
]!=
˛evñ1
)) ++s2;

14232 
	gnb
 = 
compûe
(
s1
+1,
£1
);

14234 
_cimg_mp_›code2
(*
ss2
=='l'?54:55,
vÆue
,
nb
);

14237 i‡(!
	g°d
::
°∫cmp
(
ss
,"söc(",5)Ë
_cimg_mp_›code1
(56,
compûe
(
ss5
,
£1
));

14238 i‡(!
	g°d
::
°∫cmp
(
ss
,"öt(",4)Ë
_cimg_mp_›code1
(4,
compûe
(
ss4
,
£1
));

14242 
	gCImg
<
	gch¨T
> 
v¨übÀ_«me
(
ss
,()(
£
-ss+1));

14243 
	gv¨übÀ_«me
.
back
() = 0;

14244 i‡(
	gv¨übÀ_«me
[1]Ë{ 
cimgli°_f‹
(
œbñM
,
i
Ëi‡(!
	g°d
::
°rcmp
(
v¨übÀ_«me
,œbñM[i])Ë
_cimg_mp_ªtu∫
(
œbñMpos
[i]); }

14245 i‡(
	gœbñ1pos
[*
v¨übÀ_«me
]!=~0UË
_cimg_mp_ªtu∫
(
œbñ1pos
[*variable_name]);

14246 *
	g£
 = 
ßved_ch¨
;

14247 
throw
 
CImgArgumítEx˚±i⁄
("[_cimg_math_parser] "

14249 
pixñ_ty≥
(),
ˇŒög_fun˘i⁄
,

14250 
v¨übÀ_«me
.
_d©a
,

14251 (
ss
-8)>
ex¥
.
_d©a
?"...":"",

14252 (
ss
-8)>
ex¥
.
_d©a
?ss-8:expr._data,

14253 
£
<&
ex¥
.
back
()?"...":"");

14258 
mp_u
() {

14259  
	gmem
[
›code
(2)] + 
	gcimg
::
ønd
()*(
mem
[opcode(3)]-mem[opcode(2)]);

14261 
mp_g
() {

14262  
	gcimg
::
gønd
();

14264 
mp_i
() {

14265  ()
	gª„ªn˚
.
©XYZC
(()
mem
[9],()mem[10],()mem[11],()mem[12],0);

14267 
mp_logiˇl_™d
() {

14268 c⁄° 
boﬁ
 
	gis_A
 = (boﬁ)
mem
[
›code
(2)];

14269 c⁄° 
	gCImg
<
	guötT
> *c⁄° 
	gpE
 = ++
p_code
 + 
›code
(4);

14270 i‡(!
	gis_A
Ë{ 
	gp_code
 = 
pE
 - 1;  0; }

14271 c⁄° 
	gmem_B
 = 
›code
(3);

14272  ; 
	gp_code
<
	gpE
; ++p_code) {

14273 c⁄° 
	gCImg
<
	guötT
> &
	g›
 = *
p_code
;

14274 
	g›code
.
	g_d©a
 = 
›
.
_d©a
; opcode.
	g_height
 = op.
_height
;

14275 c⁄° 
	gèrgë
 = 
›code
(1);

14276 
	gmem
[
èrgë
] = (
this
->*
mp_funcs
[
›code
[0]])();

14278 --
	gp_code
;

14279  ()(
	gboﬁ
)
	gmem
[
mem_B
];

14281 
mp_logiˇl_‹
() {

14282 c⁄° 
boﬁ
 
	gis_A
 = (boﬁ)
mem
[
›code
(2)];

14283 c⁄° 
	gCImg
<
	guötT
> *c⁄° 
	gpE
 = ++
p_code
 + 
›code
(4);

14284 i‡(
	gis_A
Ë{ 
	gp_code
 = 
pE
 - 1;  1; }

14285 c⁄° 
	gmem_B
 = 
›code
(3);

14286  ; 
	gp_code
<
	gpE
; ++p_code) {

14287 c⁄° 
	gCImg
<
	guötT
> &
	g›
 = *
p_code
;

14288 
	g›code
.
	g_d©a
 = 
›
.
_d©a
; opcode.
	g_height
 = op.
_height
;

14289 c⁄° 
	gèrgë
 = 
›code
(1);

14290 
	gmem
[
èrgë
] = (
this
->*
mp_funcs
[
›code
[0]])();

14292 --
	gp_code
;

14293  ()(
	gboﬁ
)
	gmem
[
mem_B
];

14295 
mp_ö„q
() {

14296  ()(
	gmem
[
›code
(2)]<=
mem
[opcode(3)]);

14298 
mp_su≥q
() {

14299  ()(
	gmem
[
›code
(2)]>=
mem
[opcode(3)]);

14301 
mp_nŸeq
() {

14302  ()(
	gmem
[
›code
(2)]!=
mem
[opcode(3)]);

14304 
mp_eqeq
() {

14305  ()(
	gmem
[
›code
(2)]==
mem
[opcode(3)]);

14307 
mp_öf
() {

14308  ()(
	gmem
[
›code
(2)]<mem[opcode(3)]);

14310 
mp_sup
() {

14311  ()(
	gmem
[
›code
(2)]>mem[opcode(3)]);

14313 
mp_add
() {

14314  
	gmem
[
›code
(2)] + mem[opcode(3)];

14316 
mp_sub
() {

14317  
	gmem
[
›code
(2)] - mem[opcode(3)];

14319 
mp_mul
() {

14320 c⁄° 
	gA
 = 
mem
[
›code
(2)];

14321 c⁄° 
	gCImg
<
	guötT
> *c⁄° 
	gpE
 = ++
p_code
 + 
›code
(4);

14322 i‡(!
	gA
Ë{ 
	gp_code
 = 
pE
 - 1;  0; }

14323 c⁄° 
	gmem_B
 = 
›code
(3);

14324  ; 
	gp_code
<
	gpE
; ++p_code) {

14325 c⁄° 
	gCImg
<
	guötT
> &
	g›
 = *
p_code
;

14326 
	g›code
.
	g_d©a
 = 
›
.
_d©a
; opcode.
	g_height
 = op.
_height
;

14327 c⁄° 
	gèrgë
 = 
›code
(1);

14328 
	gmem
[
èrgë
] = (
this
->*
mp_funcs
[
›code
[0]])();

14330 --
	gp_code
;

14331  
	gA
*()
	gmem
[
mem_B
];

14333 
mp_div
() {

14334  
	gmem
[
›code
(2)] / mem[opcode(3)];

14336 
mp_möus
() {

14337  -
	gmem
[
›code
(2)];

14339 
mp_nŸ
() {

14340  !
	gmem
[
›code
(2)];

14342 
mp_logiˇl_nŸ
() {

14343  !
	gmem
[
›code
(2)];

14345 
mp_bôwi£_nŸ
() {

14346  ~()
	gmem
[
›code
(2)];

14348 
mp_modulo
() {

14349  
	gcimg
::
mod
(
mem
[
›code
(2)],mem[opcode(3)]);

14351 
mp_bôwi£_™d
() {

14352  (()
	gmem
[
›code
(2)] & ()mem[opcode(3)]);

14354 
mp_bôwi£_‹
() {

14355  (()
	gmem
[
›code
(2)] | ()mem[opcode(3)]);

14357 
mp_pow
() {

14358 c⁄° 
	gv
 = 
mem
[
›code
(2)], 
	gp
 = mem[opcode(3)];

14359 i‡(
	gp
==0)  1;

14360 i‡(
	gp
==0.5Ë 
°d
::
sqπ
(
v
);

14361 i‡(
	gp
==1Ë 
v
;

14362 i‡(
	gp
==2Ë 
v
*v;

14363 i‡(
	gp
==3Ë 
v
*v*v;

14364 i‡(
	gp
==4Ë 
v
*v*v*v;

14365  
	g°d
::
pow
(
v
,
p
);

14367 
mp_sö
() {

14368  
	g°d
::
sö
(
mem
[
›code
(2)]);

14370 
mp_cos
() {

14371  
	g°d
::
cos
(
mem
[
›code
(2)]);

14373 
mp_èn
() {

14374  
	g°d
::
èn
(
mem
[
›code
(2)]);

14376 
mp_asö
() {

14377  
	g°d
::
asö
(
mem
[
›code
(2)]);

14379 
mp_acos
() {

14380  
	g°d
::
acos
(
mem
[
›code
(2)]);

14382 
mp_©™
() {

14383  
	g°d
::
©™
(
mem
[
›code
(2)]);

14385 
mp_söh
() {

14386  
	g°d
::
söh
(
mem
[
›code
(2)]);

14388 
mp_cosh
() {

14389  
	g°d
::
cosh
(
mem
[
›code
(2)]);

14391 
mp_ènh
() {

14392  
	g°d
::
ènh
(
mem
[
›code
(2)]);

14394 
mp_log10
() {

14395  
	g°d
::
log10
(
mem
[
›code
(2)]);

14397 
mp_log2
() {

14398  
	gcimg
::
log2
(
mem
[
›code
(2)]);

14400 
mp_log
() {

14401  
	g°d
::
log
(
mem
[
›code
(2)]);

14403 
mp_exp
() {

14404  
	g°d
::
exp
(
mem
[
›code
(2)]);

14406 
mp_sqπ
() {

14407  
	g°d
::
sqπ
(
mem
[
›code
(2)]);

14409 
mp_sign
() {

14410  
	gcimg
::
sign
(
mem
[
›code
(2)]);

14412 
mp_abs
() {

14413  
	gcimg
::
abs
(
mem
[
›code
(2)]);

14415 
mp_©™2
() {

14416  
	g°d
::
©™2
(
mem
[
›code
(2)],mem[opcode(3)]);

14418 
mp_if
() {

14419 c⁄° 
boﬁ
 
	gis_c⁄d
 = (boﬁ)
mem
[
›code
(2)];

14420 c⁄° 
	gmem_A
 = 
›code
(3), 
	gmem_B
 = opcode(4);

14421 c⁄° 
	gCImg
<
	guötT
>

14422 *c⁄° 
	gpB
 = ++
p_code
 + 
›code
(5),

14423 *c⁄° 
	gpE
 = 
pB
 + 
›code
(6);

14424 i‡(
	gis_c⁄d
) {

14425  ; 
	gp_code
<
	gpB
; ++p_code) {

14426 c⁄° 
	gCImg
<
	guötT
> &
	g›
 = *
p_code
;

14427 
	g›code
.
	g_d©a
 = 
›
.
_d©a
; opcode.
	g_height
 = op.
_height
;

14428 c⁄° 
	gèrgë
 = 
›code
(1);

14429 
	gmem
[
èrgë
] = (
this
->*
mp_funcs
[
›code
[0]])();

14431 
	gp_code
 = 
pE
 - 1;

14432  
	gmem
[
mem_A
];

14434 
	gp_code
 = 
pB
;Ö_code<
	gpE
; ++p_code) {

14435 c⁄° 
	gCImg
<
	guötT
> &
	g›
 = *
p_code
;

14436 
	g›code
.
	g_d©a
 = 
›
.
_d©a
; opcode.
	g_height
 = op.
_height
;

14437 c⁄° 
	gèrgë
 = 
›code
(1);

14438 
	gmem
[
èrgë
] = (
this
->*
mp_funcs
[
›code
[0]])();

14440 --
	gp_code
;

14441  
	gmem
[
mem_B
];

14443 
mp_round
() {

14444  
	gcimg
::
round
(
mem
[
›code
(2)],mem[opcode(3)],()mem[opcode(4)]);

14446 
mp_ixyzc
() {

14447 c⁄° 
	gi
 = ()
mem
[
›code
(6)], 
	gb
 = ()mem[opcode(7)];

14448 i‡(
	gi
==0) {

14449 i‡(
b
==2Ë ()
ª„ªn˚
.
©XYZC
(
cimg
::
mod
(()
mem
[
›code
(2)],ª„ªn˚.
width
()),

14450 
cimg
::
mod
(()
mem
[
›code
(3)],
ª„ªn˚
.
height
()),

14451 
cimg
::
mod
(()
mem
[
›code
(4)],
ª„ªn˚
.
dïth
()),

14452 
cimg
::
mod
(()
mem
[
›code
(5)],
ª„ªn˚
.
•e˘rum
()));

14453 i‡(
	gb
==1Ë ()
ª„ªn˚
.
©XYZC
(()
mem
[
›code
(2)],

14454 ()
mem
[
›code
(3)],

14455 ()
mem
[
›code
(4)],

14456 ()
mem
[
›code
(5)]);

14457  ()
	gª„ªn˚
.
©XYZC
(()
mem
[
›code
(2)],

14458 ()
mem
[
›code
(3)],

14459 ()
mem
[
›code
(4)],

14460 ()
mem
[
›code
(5)],0);

14462 i‡(
	gb
==2Ë ()
ª„ªn˚
.
löór_©XYZC
(
cimg
::
mod
(()
mem
[
›code
(2)],(Ïe„ªn˚.
width
()),

14463 
cimg
::
mod
(()
mem
[
›code
(3)],()
ª„ªn˚
.
height
()),

14464 
cimg
::
mod
(()
mem
[
›code
(4)],()
ª„ªn˚
.
dïth
()),

14465 
cimg
::
mod
(()
mem
[
›code
(5)],()
ª„ªn˚
.
•e˘rum
()));

14466 i‡(
	gb
==1Ë ()
ª„ªn˚
.
löór_©XYZC
(()
mem
[
›code
(2)],

14467 ()
mem
[
›code
(3)],

14468 ()
mem
[
›code
(4)],

14469 ()
mem
[
›code
(5)]);

14470  ()
	gª„ªn˚
.
löór_©XYZC
(()
mem
[
›code
(2)],

14471 ()
mem
[
›code
(3)],

14472 ()
mem
[
›code
(4)],

14473 ()
mem
[
›code
(5)],0);

14476 
mp_jxyzc
() {

14477 c⁄° 
	gx
 = 
mem
[9], 
	gy
 = mem[10], 
	gz
 = mem[11], 
	gc
 = mem[12];

14478 c⁄° 
	gi
 = ()
mem
[
›code
(6)], 
	gb
 = ()mem[opcode(7)];

14479 i‡(
	gi
==0) {

14480 i‡(
b
==2Ë ()
ª„ªn˚
.
©XYZC
(
cimg
::
mod
(()(
x
+
mem
[
›code
(2)]),ª„ªn˚.
width
()),

14481 
cimg
::
mod
(()(
y
+
mem
[
›code
(3)]),
ª„ªn˚
.
height
()),

14482 
cimg
::
mod
(()(
z
+
mem
[
›code
(4)]),
ª„ªn˚
.
dïth
()),

14483 
cimg
::
mod
(()(
c
+
mem
[
›code
(5)]),
ª„ªn˚
.
•e˘rum
()));

14484 i‡(
	gb
==1Ë ()
ª„ªn˚
.
©XYZC
(()(
x
+
mem
[
›code
(2)]),

14485 ()(
y
+
mem
[
›code
(3)]),

14486 ()(
z
+
mem
[
›code
(4)]),

14487 ()(
c
+
mem
[
›code
(5)]));

14488  ()
	gª„ªn˚
.
©XYZC
(()(
x
+
mem
[
›code
(2)]),

14489 ()(
y
+
mem
[
›code
(3)]),

14490 ()(
z
+
mem
[
›code
(4)]),

14491 ()(
c
+
mem
[
›code
(5)]),0);

14493 i‡(
	gb
==2Ë ()
ª„ªn˚
.
löór_©XYZC
(
cimg
::
mod
(()(
x
+
mem
[
›code
(2)]),(Ïe„ªn˚.
width
()),

14494 
cimg
::
mod
(()(
y
+
mem
[
›code
(3)]),()
ª„ªn˚
.
height
()),

14495 
cimg
::
mod
(()(
z
+
mem
[
›code
(4)]),()
ª„ªn˚
.
dïth
()),

14496 
cimg
::
mod
(()(
c
+
mem
[
›code
(5)]),()
ª„ªn˚
.
•e˘rum
()));

14497 i‡(
	gb
==1Ë ()
ª„ªn˚
.
löór_©XYZC
(()(
x
+
mem
[
›code
(2)]),

14498 ()(
y
+
mem
[
›code
(3)]),

14499 ()(
z
+
mem
[
›code
(4)]),

14500 ()(
c
+
mem
[
›code
(5)]));

14501  ()
	gª„ªn˚
.
löór_©XYZC
(()(
x
+
mem
[
›code
(2)]),

14502 ()(
y
+
mem
[
›code
(3)]),

14503 ()(
z
+
mem
[
›code
(4)]),

14504 ()(
c
+
mem
[
›code
(5)]),0);

14507 
mp_mö
() {

14508 
	gvÆ
 = 
mem
[
›code
(2)];

14509 
	gi
 = 3; i<
	g›code
.
	g_height
; ++iË
	gvÆ
 = 
cimg
::
mö
(
vÆ
,
mem
[
›code
(
i
)]);

14510  
	gvÆ
;

14512 
mp_max
() {

14513 
	gvÆ
 = 
mem
[
›code
(2)];

14514 
	gi
 = 3; i<
	g›code
.
	g_height
; ++iË
	gvÆ
 = 
cimg
::
max
(
vÆ
,
mem
[
›code
(
i
)]);

14515  
	gvÆ
;

14517 
mp_i¢™
() {

14518 c⁄° 
	gvÆ
 = 
mem
[
›code
(2)];

14519  
	gcimg
::
ty≥
<>::
is_«n
(
vÆ
);

14521 
mp_isöf
() {

14522 c⁄° 
	gvÆ
 = 
mem
[
›code
(2)];

14523  
	gcimg
::
ty≥
<>::
is_öf
(
vÆ
);

14525 
mp_isöt
() {

14526 c⁄° 
	gvÆ
 = 
mem
[
›code
(2)];

14527  ()(
	gcimg
::
mod
(
vÆ
,1.0)==0);

14529 
mp_isboﬁ
() {

14530 c⁄° 
	gvÆ
 = 
mem
[
›code
(2)];

14531  (
	gvÆ
==0.0 || 
vÆ
==1.0);

14533 
mp_rﬁ
() {

14534  
	gcimg
::
rﬁ
(
mem
[
›code
(2)],()mem[opcode(3)]);

14536 
mp_r‹
() {

14537  
	gcimg
::
r‹
(
mem
[
›code
(2)],()mem[opcode(3)]);

14539 
mp_l¶
() {

14540  ()
	gmem
[
›code
(2)]<<()mem[opcode(3)];

14542 
mp_l§
() {

14543  ()
	gmem
[
›code
(2)]>>()mem[opcode(3)];

14545 
mp_söc
() {

14546  
	gcimg
::
söc
(
mem
[
›code
(2)]);

14548 
mp_im
() {

14549 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14550  
	gª„ªn˚_°©s
?reference_stats[0]:0;

14552 
mp_iM
() {

14553 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14554  
	gª„ªn˚_°©s
?reference_stats[1]:0;

14556 
mp_ü
() {

14557 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14558  
	gª„ªn˚_°©s
?reference_stats[2]:0;

14560 
mp_iv
() {

14561 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14562  
	gª„ªn˚_°©s
?reference_stats[3]:0;

14564 
mp_xm
() {

14565 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14566  
	gª„ªn˚_°©s
?reference_stats[4]:0;

14568 
mp_ym
() {

14569 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14570  
	gª„ªn˚_°©s
?reference_stats[5]:0;

14572 
mp_zm
() {

14573 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14574  
	gª„ªn˚_°©s
?reference_stats[6]:0;

14576 
mp_cm
() {

14577 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14578  
	gª„ªn˚_°©s
?reference_stats[7]:0;

14580 
mp_xM
() {

14581 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14582  
	gª„ªn˚_°©s
?reference_stats[8]:0;

14584 
mp_yM
() {

14585 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14586  
	gª„ªn˚_°©s
?reference_stats[9]:0;

14588 
mp_zM
() {

14589 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14590  
	gª„ªn˚_°©s
?reference_stats[10]:0;

14592 
mp_cM
() {

14593 i‡(!
	gª„ªn˚_°©s
Ë
	gª„ªn˚
.
gë_°©s
().
move_to
(
ª„ªn˚_°©s
);

14594  
	gª„ªn˚_°©s
?reference_stats[11]:0;

14596 
mp_¨g
() {

14597 c⁄° 
	g_öd
 = ()
mem
[
›code
(2)];

14598 c⁄° 
	gnb_¨gs
 = 
›code
.
_height
-2, 
	göd
 = 
_öd
<0?_öd+
nb_¨gs
:()_ind;

14599 i‡(
	göd
>=
nb_¨gs
)  0;

14600  
	gmem
[
›code
(
öd
+2)];

14602 
mp_öt
() {

14603  ()()
	gmem
[
›code
(2)];

14605 
mp_ioff
() {

14606 c⁄° 
	goff
 = ()
mem
[
›code
(2)];

14607 i‡(
	goff
>=
ª„ªn˚
.
size
())  0;

14608  ()
	gª„ªn˚
[
off
];

14610 
mp_joff
() {

14611 c⁄° 
	gx
 = 
mem
[9], 
	gy
 = mem[10], 
	gz
 = mem[11], 
	gc
 = mem[12];

14612 c⁄° 
	goff
 = 
ª„ªn˚
.
off£t
(
x
,
y
,
z
,
c
Ë+ ()(
	gmem
[
›code
(2)]);

14613 i‡(
	goff
>=
ª„ªn˚
.
size
())  0;

14614  ()
	gª„ªn˚
[
off
];

14618 
evÆ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) {

14619 c⁄° 
mp_func
 
	gmp_funcs
[] = {

14620 &
_cimg_m©h_∑r£r
::
mp_u
,

14621 &
_cimg_m©h_∑r£r
::
mp_g
,

14622 &
_cimg_m©h_∑r£r
::
mp_i
,

14623 &
_cimg_m©h_∑r£r
::
mp_log2
,

14624 &
_cimg_m©h_∑r£r
::
mp_öt
,

14625 &
_cimg_m©h_∑r£r
::
mp_¨g
,

14626 &
_cimg_m©h_∑r£r
::
mp_cM
,

14627 &
_cimg_m©h_∑r£r
::
mp_jxyzc
,

14628 &
_cimg_m©h_∑r£r
::
mp_logiˇl_‹
,

14629 &
_cimg_m©h_∑r£r
::
mp_logiˇl_™d
,

14630 &
_cimg_m©h_∑r£r
::
mp_bôwi£_‹
,

14631 &
_cimg_m©h_∑r£r
::
mp_bôwi£_™d
,

14632 &
_cimg_m©h_∑r£r
::
mp_nŸeq
,

14633 &
_cimg_m©h_∑r£r
::
mp_eqeq
,

14634 &
_cimg_m©h_∑r£r
::
mp_ö„q
,

14635 &
_cimg_m©h_∑r£r
::
mp_su≥q
,

14636 &
_cimg_m©h_∑r£r
::
mp_öf
,

14637 &
_cimg_m©h_∑r£r
::
mp_sup
,

14638 &
_cimg_m©h_∑r£r
::
mp_l¶
,

14639 &
_cimg_m©h_∑r£r
::
mp_l§
,

14640 &
_cimg_m©h_∑r£r
::
mp_sub
,

14641 &
_cimg_m©h_∑r£r
::
mp_add
,

14642 &
_cimg_m©h_∑r£r
::
mp_mul
,

14643 &
_cimg_m©h_∑r£r
::
mp_div
,

14644 &
_cimg_m©h_∑r£r
::
mp_modulo
,

14645 &
_cimg_m©h_∑r£r
::
mp_pow
,

14646 &
_cimg_m©h_∑r£r
::
mp_möus
,

14647 &
_cimg_m©h_∑r£r
::
mp_logiˇl_nŸ
,

14648 &
_cimg_m©h_∑r£r
::
mp_bôwi£_nŸ
,

14649 &
_cimg_m©h_∑r£r
::
mp_sö
,

14650 &
_cimg_m©h_∑r£r
::
mp_cos
,

14651 &
_cimg_m©h_∑r£r
::
mp_èn
,

14652 &
_cimg_m©h_∑r£r
::
mp_asö
,

14653 &
_cimg_m©h_∑r£r
::
mp_acos
,

14654 &
_cimg_m©h_∑r£r
::
mp_©™
,

14655 &
_cimg_m©h_∑r£r
::
mp_söh
,

14656 &
_cimg_m©h_∑r£r
::
mp_cosh
,

14657 &
_cimg_m©h_∑r£r
::
mp_ènh
,

14658 &
_cimg_m©h_∑r£r
::
mp_log10
,

14659 &
_cimg_m©h_∑r£r
::
mp_log
,

14660 &
_cimg_m©h_∑r£r
::
mp_exp
,

14661 &
_cimg_m©h_∑r£r
::
mp_sqπ
,

14662 &
_cimg_m©h_∑r£r
::
mp_sign
,

14663 &
_cimg_m©h_∑r£r
::
mp_abs
,

14664 &
_cimg_m©h_∑r£r
::
mp_©™2
,

14665 &
_cimg_m©h_∑r£r
::
mp_if
,

14666 &
_cimg_m©h_∑r£r
::
mp_round
,

14667 &
_cimg_m©h_∑r£r
::
mp_ixyzc
,

14668 &
_cimg_m©h_∑r£r
::
mp_mö
,

14669 &
_cimg_m©h_∑r£r
::
mp_max
,

14670 &
_cimg_m©h_∑r£r
::
mp_i¢™
,

14671 &
_cimg_m©h_∑r£r
::
mp_isöf
,

14672 &
_cimg_m©h_∑r£r
::
mp_isöt
,

14673 &
_cimg_m©h_∑r£r
::
mp_isboﬁ
,

14674 &
_cimg_m©h_∑r£r
::
mp_rﬁ
,

14675 &
_cimg_m©h_∑r£r
::
mp_r‹
,

14676 &
_cimg_m©h_∑r£r
::
mp_söc
,

14677 &
_cimg_m©h_∑r£r
::
mp_im
,

14678 &
_cimg_m©h_∑r£r
::
mp_iM
,

14679 &
_cimg_m©h_∑r£r
::
mp_ü
,

14680 &
_cimg_m©h_∑r£r
::
mp_iv
,

14681 &
_cimg_m©h_∑r£r
::
mp_xm
,

14682 &
_cimg_m©h_∑r£r
::
mp_ym
,

14683 &
_cimg_m©h_∑r£r
::
mp_zm
,

14684 &
_cimg_m©h_∑r£r
::
mp_cm
,

14685 &
_cimg_m©h_∑r£r
::
mp_xM
,

14686 &
_cimg_m©h_∑r£r
::
mp_yM
,

14687 &
_cimg_m©h_∑r£r
::
mp_zM
,

14688 &
_cimg_m©h_∑r£r
::
mp_ioff
,

14689 &
_cimg_m©h_∑r£r
::
mp_joff


14691 i‡(!
	gmem
)  0;

14692 
	gthis
->
	gmp_funcs
 = 
mp_funcs
;

14693 
	gmem
[9] = 
x
; mem[10] = 
y
; mem[11] = 
z
; mem[12] = 
c
;

14694 
	g›code
.
	g_is_sh¨ed
 = 
åue
; opcode.
	g_width
 = 
›code
.
_dïth
 = opcode.
_•e˘rum
 = 1;

14696 
	gp_code
 = 
code
.
_d©a
;Ö_code<
	gcode
.
íd
(); ++p_code) {

14697 c⁄° 
	gCImg
<
	guötT
> &
	g›
 = *
p_code
;

14698 
	g›code
.
	g_d©a
 = 
›
.
_d©a
; opcode.
	g_height
 = op.
_height
;

14699 c⁄° 
	gèrgë
 = 
›code
(1);

14700 
	gmem
[
èrgë
] = (
this
->*
mp_funcs
[
›code
[0]])();

14702  
	gmem
[
ªsu…
];

14719 
	gCImg
<
	gT
>& 
sqr
() {

14720 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
	gvÆ
 = *±rd; *
	g±rd
 = (T)(
vÆ
*val); };

14721  *
	gthis
;

14725 
	gCImg
<
	gTÊﬂt
> 
gë_sqr
() const {

14726  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
sqr
();

14742 
	gCImg
<
	gT
>& 
sqπ
() {

14743 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
sqπ
(()*ptrd);

14744  *
	gthis
;

14748 
	gCImg
<
	gTÊﬂt
> 
gë_sqπ
() const {

14749  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
sqπ
();

14759 
	gCImg
<
	gT
>& 
exp
() {

14760 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
exp
(()*ptrd);

14761  *
	gthis
;

14765 
	gCImg
<
	gTÊﬂt
> 
gë_exp
() const {

14766  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
exp
();

14776 
	gCImg
<
	gT
>& 
log
() {

14777 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
log
(()*ptrd);

14778  *
	gthis
;

14782 
	gCImg
<
	gTÊﬂt
> 
gë_log
() const {

14783  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
log
();

14793 
	gCImg
<
	gT
>& 
log2
() {

14794 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
cimg
::
log2
(()*ptrd);

14795  *
	gthis
;

14799 
	gCImg
<
	gTÊﬂt
> 
gë_log2
() const {

14800  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
log2
();

14810 
	gCImg
<
	gT
>& 
log10
() {

14811 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
log10
(()*ptrd);

14812  *
	gthis
;

14816 
	gCImg
<
	gTÊﬂt
> 
gë_log10
() const {

14817  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
log10
();

14827 
	gCImg
<
	gT
>& 
abs
() {

14828 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = 
cimg
::
abs
(*ptrd);

14829  *
	gthis
;

14833 
	gCImg
<
	gTÊﬂt
> 
gë_abs
() const {

14834  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
abs
();

14848 
	gCImg
<
	gT
>& 
sign
() {

14849 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = 
cimg
::
sign
(*ptrd);

14850  *
	gthis
;

14854 
	gCImg
<
	gTÊﬂt
> 
gë_sign
() const {

14855  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
sign
();

14866 
	gCImg
<
	gT
>& 
cos
() {

14867 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
cos
(()*ptrd);

14868  *
	gthis
;

14872 
	gCImg
<
	gTÊﬂt
> 
gë_cos
() const {

14873  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
cos
();

14884 
	gCImg
<
	gT
>& 
sö
() {

14885 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
sö
(()*ptrd);

14886  *
	gthis
;

14890 
	gCImg
<
	gTÊﬂt
> 
gë_sö
() const {

14891  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
sö
();

14902 
	gCImg
<
	gT
>& 
söc
() {

14903 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
cimg
::
söc
(()*ptrd);

14904  *
	gthis
;

14908 
	gCImg
<
	gTÊﬂt
> 
gë_söc
() const {

14909  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
söc
();

14920 
	gCImg
<
	gT
>& 
èn
() {

14921 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
èn
(()*ptrd);

14922  *
	gthis
;

14926 
	gCImg
<
	gTÊﬂt
> 
gë_èn
() const {

14927  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
èn
();

14937 
	gCImg
<
	gT
>& 
cosh
() {

14938 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
cosh
(()*ptrd);

14939  *
	gthis
;

14943 
	gCImg
<
	gTÊﬂt
> 
gë_cosh
() const {

14944  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
cosh
();

14954 
	gCImg
<
	gT
>& 
söh
() {

14955 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
söh
(()*ptrd);

14956  *
	gthis
;

14960 
	gCImg
<
	gTÊﬂt
> 
gë_söh
() const {

14961  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
söh
();

14971 
	gCImg
<
	gT
>& 
ènh
() {

14972 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
ènh
(()*ptrd);

14973  *
	gthis
;

14977 
	gCImg
<
	gTÊﬂt
> 
gë_ènh
() const {

14978  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
ènh
();

14988 
	gCImg
<
	gT
>& 
acos
() {

14989 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
acos
(()*ptrd);

14990  *
	gthis
;

14994 
	gCImg
<
	gTÊﬂt
> 
gë_acos
() const {

14995  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
acos
();

15005 
	gCImg
<
	gT
>& 
asö
() {

15006 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
asö
(()*ptrd);

15007  *
	gthis
;

15011 
	gCImg
<
	gTÊﬂt
> 
gë_asö
() const {

15012  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
asö
();

15022 
	gCImg
<
	gT
>& 
©™
() {

15023 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
©™
(()*ptrd);

15024  *
	gthis
;

15028 
	gCImg
<
	gTÊﬂt
> 
gë_©™
() const {

15029  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
©™
();

15048 
	gãm∂©e
<
ty≥«me
 
	gt
>

15049 
	gCImg
<
	gT
>& 
©™2
(c⁄° 
CImg
<
t
>& 
img
) {

15050 c⁄° 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

15051 i‡(
	gsiz
 && 
	gisiz
) {

15052 i‡(
is_ovîœµed
(
img
)Ë 
©™2
(+img);

15053 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

15054 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

15055 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)
°d
::
©™2
(()*
±rd
,()*(ptrs++));

15056 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)
°d
::
©™2
(()*
±rd
,()*(
±rs
++));

15058  *
	gthis
;

15062 
	gãm∂©e
<
ty≥«me
 
	gt
>

15063 
	gCImg
<
	gTÊﬂt
> 
gë_©™2
(c⁄° 
CImg
<
t
>& 
img
) const {

15064  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
©™2
(
img
);

15083 
	gãm∂©e
<
ty≥«me
 
	gt
>

15084 
	gCImg
<
	gT
>& 
mul
(c⁄° 
CImg
<
t
>& 
img
) {

15085 c⁄° 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

15086 i‡(
	gsiz
 && 
	gisiz
) {

15087 i‡(
is_ovîœµed
(
img
)Ë 
mul
(+img);

15088 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

15089 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

15090 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(*
±rd
 * *(ptrs++));

15091 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(*
±rd
 * *(
±rs
++));

15093  *
	gthis
;

15097 
	gãm∂©e
<
ty≥«me
 
	gt
>

15098 
	gCImg
<
	g_cimg_Tt
> 
gë_mul
(c⁄° 
CImg
<
t
>& 
img
) const {

15099  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
).
mul
(
img
);

15106 
	gãm∂©e
<
ty≥«me
 
	gt
>

15107 
	gCImg
<
	gT
>& 
div
(c⁄° 
CImg
<
t
>& 
img
) {

15108 c⁄° 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

15109 i‡(
	gsiz
 && 
	gisiz
) {

15110 i‡(
is_ovîœµed
(
img
)Ë 
div
(+img);

15111 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

15112 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

15113 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)(*
±rd
 / *(ptrs++));

15114 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)(*
±rd
 / *(
±rs
++));

15116  *
	gthis
;

15120 
	gãm∂©e
<
ty≥«me
 
	gt
>

15121 
	gCImg
<
	g_cimg_Tt
> 
gë_div
(c⁄° 
CImg
<
t
>& 
img
) const {

15122  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
).
div
(
img
);

15141 
	gCImg
<
	gT
>& 
pow
(c⁄° 
p
) {

15142 i‡(
	gp
==-4Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = (T)(1.0/(vÆ*vÆ*vÆ*vÆ)); }  *
	gthis
; }

15143 i‡(
	gp
==-3Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = (T)(1.0/(vÆ*vÆ*vÆ)); }  *
	gthis
; }

15144 i‡(
	gp
==-2Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = (T)(1.0/(vÆ*vÆ)); }  *
	gthis
; }

15145 i‡(
	gp
==-1Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = (T)(1.0/vÆ); }  *
	gthis
; }

15146 i‡(
	gp
==-0.5Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = (T)(1/
°d
::
sqπ
(()vÆ)); }  *
	gthis
; }

15147 i‡(
	gp
==0Ë 
fûl
(1);

15148 i‡(
	gp
==0.5Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = (T)
°d
::
sqπ
(()vÆ); }  *
	gthis
; }

15149 i‡(
	gp
==1Ë *
this
;

15150 i‡(
	gp
==2Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = vÆ*vÆ; }  *
	gthis
; }

15151 i‡(
	gp
==3Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = vÆ*vÆ*vÆ; }  *
	gthis
; }

15152 i‡(
	gp
==4Ë{ 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
vÆ
 = *±rd; *
	g±rd
 = vÆ*vÆ*vÆ*vÆ; }  *
	gthis
; }

15153 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
°d
::
pow
(()*±rd,
p
);

15154  *
	gthis
;

15158 
	gCImg
<
	gTÊﬂt
> 
gë_pow
(c⁄° 
p
) const {

15159  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
pow
(
p
);

15166 
	gCImg
<
	gT
>& 
pow
(c⁄° *c⁄° 
ex¥essi⁄
) {

15167 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

15168 
	gcimg
::
ex˚±i⁄_mode
() = 0;

15169 
	gåy
 {

15170 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

15171 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"pow");

15172 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

15173 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
°d
::
pow
(()*
±rd
,
mp
.
evÆ
(x,y,z,c)); --ptrd; }

15174 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
°d
::
pow
(()*
±rd
,
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

15175 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15176 
	gCImg
<
	gTÊﬂt
> 
vÆues
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

15177 
	gåy
 {

15178 
	gvÆues
.
fûl
(
ex¥essi⁄
,
åue
);

15179 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15180 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15181 
	gvÆues
.
lﬂd
(
ex¥essi⁄
);

15183 
pow
(
vÆues
);

15185 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15186  *
	gthis
;

15190 
	gCImg
<
	gTÊﬂt
> 
gë_pow
(c⁄° *c⁄° 
ex¥essi⁄
) const {

15191  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
pow
(
ex¥essi⁄
);

15198 
	gãm∂©e
<
ty≥«me
 
	gt
>

15199 
	gCImg
<
	gT
>& 
pow
(c⁄° 
CImg
<
t
>& 
img
) {

15200 c⁄° 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

15201 i‡(
	gsiz
 && 
	gisiz
) {

15202 i‡(
is_ovîœµed
(
img
)Ë 
pow
(+img);

15203 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

15204 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

15205 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)
°d
::
pow
(()*
±rd
,()(*(ptrs++)));

15206 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)
°d
::
pow
(()*
±rd
,()(*(
±rs
++)));

15208  *
	gthis
;

15212 
	gãm∂©e
<
ty≥«me
 
	gt
>

15213 
	gCImg
<
	gTÊﬂt
> 
gë_pow
(c⁄° 
CImg
<
t
>& 
img
) const {

15214  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
pow
(
img
);

15221 
	gCImg
<
	gT
>& 
rﬁ
(c⁄° 
n
=1) {

15222 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)
cimg
::
rﬁ
(*±rd,
n
);

15223  *
	gthis
;

15227 
	gCImg
<
	gT
> 
gë_rﬁ
(c⁄° 
n
=1) const {

15228  (+*
this
).
rﬁ
(
n
);

15235 
	gCImg
<
	gT
>& 
rﬁ
(c⁄° *c⁄° 
ex¥essi⁄
) {

15236 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

15237 
	gcimg
::
ex˚±i⁄_mode
() = 0;

15238 
	gåy
 {

15239 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

15240 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"rol");

15241 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

15242 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
rﬁ
(*
±rd
,()
mp
.
evÆ
(x,y,z,c)); --ptrd; }

15243 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
rﬁ
(*
±rd
,()
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

15244 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15245 
	gCImg
<
	gTÊﬂt
> 
vÆues
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

15246 
	gåy
 {

15247 
	gvÆues
.
fûl
(
ex¥essi⁄
,
åue
);

15248 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15249 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15250 
	gvÆues
.
lﬂd
(
ex¥essi⁄
);

15252 
rﬁ
(
vÆues
);

15254 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15255  *
	gthis
;

15259 
	gCImg
<
	gT
> 
gë_rﬁ
(c⁄° *c⁄° 
ex¥essi⁄
) const {

15260  (+*
	gthis
).
rﬁ
(
ex¥essi⁄
);

15267 
	gãm∂©e
<
ty≥«me
 
	gt
>

15268 
	gCImg
<
	gT
>& 
rﬁ
(c⁄° 
CImg
<
t
>& 
img
) {

15269 c⁄° 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

15270 i‡(
	gsiz
 && 
	gisiz
) {

15271 i‡(
is_ovîœµed
(
img
)Ë 
rﬁ
(+img);

15272 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

15273 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

15274 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)
cimg
::
rﬁ
(*
±rd
,()(*(ptrs++)));

15275 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)
cimg
::
rﬁ
(*
±rd
,()(*(
±rs
++)));

15277  *
	gthis
;

15281 
	gãm∂©e
<
ty≥«me
 
	gt
>

15282 
	gCImg
<
	gT
> 
gë_rﬁ
(c⁄° 
CImg
<
t
>& 
img
) const {

15283  (+*
	gthis
).
rﬁ
(
img
);

15290 
	gCImg
<
	gT
>& 
r‹
(c⁄° 
n
=1) {

15291 
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = (T)
cimg
::
r‹
(*±rd,
n
);

15292  *
	gthis
;

15296 
	gCImg
<
	gT
> 
gë_r‹
(c⁄° 
n
=1) const {

15297  (+*
this
).
r‹
(
n
);

15304 
	gCImg
<
	gT
>& 
r‹
(c⁄° *c⁄° 
ex¥essi⁄
) {

15305 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

15306 
	gcimg
::
ex˚±i⁄_mode
() = 0;

15307 
	gåy
 {

15308 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

15309 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"ror");

15310 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

15311 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
r‹
(*
±rd
,()
mp
.
evÆ
(x,y,z,c)); --ptrd; }

15312 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
r‹
(*
±rd
,()
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

15313 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15314 
	gCImg
<
	gTÊﬂt
> 
vÆues
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

15315 
	gåy
 {

15316 
	gvÆues
.
fûl
(
ex¥essi⁄
,
åue
);

15317 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15318 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15319 
	gvÆues
.
lﬂd
(
ex¥essi⁄
);

15321 
r‹
(
vÆues
);

15323 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15324  *
	gthis
;

15328 
	gCImg
<
	gT
> 
gë_r‹
(c⁄° *c⁄° 
ex¥essi⁄
) const {

15329  (+*
	gthis
).
r‹
(
ex¥essi⁄
);

15336 
	gãm∂©e
<
ty≥«me
 
	gt
>

15337 
	gCImg
<
	gT
>& 
r‹
(c⁄° 
CImg
<
t
>& 
img
) {

15338 c⁄° 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

15339 i‡(
	gsiz
 && 
	gisiz
) {

15340 i‡(
is_ovîœµed
(
img
)Ë 
r‹
(+img);

15341 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

15342 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

15343 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = (
T
)
cimg
::
r‹
(*
±rd
,()(*(ptrs++)));

15344 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = (
T
)
cimg
::
r‹
(*
±rd
,()(*(
±rs
++)));

15346  *
	gthis
;

15350 
	gãm∂©e
<
ty≥«me
 
	gt
>

15351 
	gCImg
<
	gT
> 
gë_r‹
(c⁄° 
CImg
<
t
>& 
img
) const {

15352  (+*
	gthis
).
r‹
(
img
);

15360 
	gCImg
<
	gT
>& 
mö
(c⁄° 
T
 
vÆ
) {

15361 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = 
cimg
::
mö
(*±rd,
vÆ
);

15362  *
	gthis
;

15366 
	gCImg
<
	gT
> 
gë_mö
(c⁄° 
T
 
vÆ
) const {

15367  (+*
	gthis
).
mö
(
vÆ
);

15375 
	gãm∂©e
<
ty≥«me
 
	gt
>

15376 
	gCImg
<
	gT
>& 
mö
(c⁄° 
CImg
<
t
>& 
img
) {

15377 c⁄° 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

15378 i‡(
	gsiz
 && 
	gisiz
) {

15379 i‡(
is_ovîœµed
(
img
)Ë 
mö
(+img);

15380 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

15381 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

15382 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = 
cimg
::
mö
((
T
)*’ås++),*
±rd
);

15383 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = 
cimg
::
mö
((
T
)*(
±rs
++),*
±rd
);

15385  *
	gthis
;

15389 
	gãm∂©e
<
ty≥«me
 
	gt
>

15390 
	gCImg
<
	g_cimg_Tt
> 
gë_mö
(c⁄° 
CImg
<
t
>& 
img
) const {

15391  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
).
mö
(
img
);

15399 
	gCImg
<
	gT
>& 
mö
(c⁄° *c⁄° 
ex¥essi⁄
) {

15400 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

15401 
	gcimg
::
ex˚±i⁄_mode
() = 0;

15402 
	gåy
 {

15403 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

15404 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"min");

15405 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

15406 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
mö
(*
±rd
,(T)
mp
.
evÆ
(x,y,z,c)); --ptrd; }

15407 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
mö
(*
±rd
,(T)
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

15408 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15409 
	gCImg
<
	gT
> 
vÆues
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

15410 
	gåy
 {

15411 
	gvÆues
.
fûl
(
ex¥essi⁄
,
åue
);

15412 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15413 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15414 
	gvÆues
.
lﬂd
(
ex¥essi⁄
);

15416 
mö
(
vÆues
);

15418 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15419  *
	gthis
;

15423 
	gCImg
<
	gTÊﬂt
> 
gë_mö
(c⁄° *c⁄° 
ex¥essi⁄
) const {

15424  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
mö
(
ex¥essi⁄
);

15432 
	gCImg
<
	gT
>& 
max
(c⁄° 
T
 
vÆ
) {

15433 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = 
cimg
::
max
(*±rd,
vÆ
);

15434  *
	gthis
;

15438 
	gCImg
<
	gT
> 
gë_max
(c⁄° 
T
 
vÆ
) const {

15439  (+*
	gthis
).
max
(
vÆ
);

15447 
	gãm∂©e
<
ty≥«me
 
	gt
>

15448 
	gCImg
<
	gT
>& 
max
(c⁄° 
CImg
<
t
>& 
img
) {

15449 c⁄° 
	gsiz
 = 
size
(), 
	gisiz
 = 
img
.size();

15450 i‡(
	gsiz
 && 
	gisiz
) {

15451 i‡(
is_ovîœµed
(
img
)Ë 
max
(+img);

15452 
T
 *
	g±rd
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
;

15453 i‡(
	gsiz
>
	gisiz
Ë
	gn
 = 
siz
/
isiz
;Ç; --n)

15454 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
isiz
;Öås<±rs_íd; ++
	g±rd
Ë*±rd = 
cimg
::
max
((
T
)*’ås++),*
±rd
);

15455 c⁄° 
t
 *
	g±rs
 = 
img
.
_d©a
; 
	g±rd
<
	g±ª
; ++±rdË*±rd = 
cimg
::
max
((
T
)*(
±rs
++),*
±rd
);

15457  *
	gthis
;

15461 
	gãm∂©e
<
ty≥«me
 
	gt
>

15462 
	gCImg
<
	g_cimg_Tt
> 
gë_max
(c⁄° 
CImg
<
t
>& 
img
) const {

15463  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
,
	gÁl£
).
max
(
img
);

15471 
	gCImg
<
	gT
>& 
max
(c⁄° *c⁄° 
ex¥essi⁄
) {

15472 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

15473 
	gcimg
::
ex˚±i⁄_mode
() = 0;

15474 
	gåy
 {

15475 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

15476 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"max");

15477 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

15478 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
max
(*
±rd
,(T)
mp
.
evÆ
(x,y,z,c)); --ptrd; }

15479 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë{ *
	g±rd
 = (
T
)
cimg
::
max
(*
±rd
,(T)
mp
.
evÆ
(x,y,z,c)); ++ptrd; }

15480 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15481 
	gCImg
<
	gT
> 
vÆues
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

15482 
	gåy
 {

15483 
	gvÆues
.
fûl
(
ex¥essi⁄
,
åue
);

15484 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

15485 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15486 
	gvÆues
.
lﬂd
(
ex¥essi⁄
);

15488 
max
(
vÆues
);

15490 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

15491  *
	gthis
;

15495 
	gCImg
<
	gTÊﬂt
> 
gë_max
(c⁄° *c⁄° 
ex¥essi⁄
) const {

15496  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
max
(
ex¥essi⁄
);

15502 
	gT
& 
mö
() {

15503 i‡(
is_em±y
())

15504 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15506 
cimg_ö°™˚
);

15507 
T
 *
	g±r_mö
 = 
_d©a
;

15508 
T
 
	gmö_vÆue
 = *
±r_mö
;

15509 
cimg_f‹
(*
this
,
±rs
,
T
Ëi‡(*
	g±rs
<
	gmö_vÆue
Ëmö_vÆuê*(
±r_mö
=ptrs);

15510  *
	g±r_mö
;

15514 c⁄° 
	gT
& 
mö
() const {

15515 i‡(
is_em±y
())

15516 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15518 
cimg_ö°™˚
);

15519 c⁄° 
T
 *
	g±r_mö
 = 
_d©a
;

15520 
T
 
	gmö_vÆue
 = *
±r_mö
;

15521 
cimg_f‹
(*
this
,
±rs
,
T
Ëi‡(*
	g±rs
<
	gmö_vÆue
Ëmö_vÆuê*(
±r_mö
=ptrs);

15522  *
	g±r_mö
;

15528 
	gT
& 
max
() {

15529 i‡(
is_em±y
())

15530 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15532 
cimg_ö°™˚
);

15533 
T
 *
	g±r_max
 = 
_d©a
;

15534 
T
 
	gmax_vÆue
 = *
±r_max
;

15535 
cimg_f‹
(*
this
,
±rs
,
T
Ëi‡(*
	g±rs
>
	gmax_vÆue
Ëmax_vÆuê*(
±r_max
=ptrs);

15536  *
	g±r_max
;

15540 c⁄° 
	gT
& 
max
() const {

15541 i‡(
is_em±y
())

15542 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15544 
cimg_ö°™˚
);

15545 c⁄° 
T
 *
	g±r_max
 = 
_d©a
;

15546 
T
 
	gmax_vÆue
 = *
±r_max
;

15547 
cimg_f‹
(*
this
,
±rs
,
T
Ëi‡(*
	g±rs
>
	gmax_vÆue
Ëmax_vÆuê*(
±r_max
=ptrs);

15548  *
	g±r_max
;

15555 
	gãm∂©e
<
ty≥«me
 
	gt
>

15556 
	gT
& 
mö_max
(
t
& 
max_vÆ
) {

15557 i‡(
is_em±y
())

15558 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15560 
cimg_ö°™˚
);

15561 
T
 *
	g±r_mö
 = 
_d©a
;

15562 
T
 
	gmö_vÆue
 = *
±r_mö
, 
	gmax_vÆue
 = 
mö_vÆue
;

15563 
cimg_f‹
(*
this
,
±rs
,
T
) {

15564 c⁄° 
T
 
	gvÆ
 = *
±rs
;

15565 i‡(
	gvÆ
<
	gmö_vÆue
Ë{ mö_vÆuê
vÆ
; 
	g±r_mö
 = 
±rs
; }

15566 i‡(
	gvÆ
>
	gmax_vÆue
Ëmax_vÆuê
vÆ
;

15568 
	gmax_vÆ
 = (
t
)
max_vÆue
;

15569  *
	g±r_mö
;

15573 
	gãm∂©e
<
ty≥«me
 
	gt
>

15574 c⁄° 
	gT
& 
mö_max
(
t
& 
max_vÆ
) const {

15575 i‡(
is_em±y
())

15576 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15578 
cimg_ö°™˚
);

15579 c⁄° 
T
 *
	g±r_mö
 = 
_d©a
;

15580 
T
 
	gmö_vÆue
 = *
±r_mö
, 
	gmax_vÆue
 = 
mö_vÆue
;

15581 
cimg_f‹
(*
this
,
±rs
,
T
) {

15582 c⁄° 
T
 
	gvÆ
 = *
±rs
;

15583 i‡(
	gvÆ
<
	gmö_vÆue
Ë{ mö_vÆuê
vÆ
; 
	g±r_mö
 = 
±rs
; }

15584 i‡(
	gvÆ
>
	gmax_vÆue
Ëmax_vÆuê
vÆ
;

15586 
	gmax_vÆ
 = (
t
)
max_vÆue
;

15587  *
	g±r_mö
;

15594 
	gãm∂©e
<
ty≥«me
 
	gt
>

15595 
	gT
& 
max_mö
(
t
& 
mö_vÆ
) {

15596 i‡(
is_em±y
())

15597 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15599 
cimg_ö°™˚
);

15600 
T
 *
	g±r_max
 = 
_d©a
;

15601 
T
 
	gmax_vÆue
 = *
±r_max
, 
	gmö_vÆue
 = 
max_vÆue
;

15602 
cimg_f‹
(*
this
,
±rs
,
T
) {

15603 c⁄° 
T
 
	gvÆ
 = *
±rs
;

15604 i‡(
	gvÆ
>
	gmax_vÆue
Ë{ max_vÆuê
vÆ
; 
	g±r_max
 = 
±rs
; }

15605 i‡(
	gvÆ
<
	gmö_vÆue
Ëmö_vÆuê
vÆ
;

15607 
	gmö_vÆ
 = (
t
)
mö_vÆue
;

15608  *
	g±r_max
;

15612 
	gãm∂©e
<
ty≥«me
 
	gt
>

15613 c⁄° 
	gT
& 
max_mö
(
t
& 
mö_vÆ
) const {

15614 i‡(
is_em±y
())

15615 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15617 
cimg_ö°™˚
);

15618 c⁄° 
T
 *
	g±r_max
 = 
_d©a
;

15619 
T
 
	gmax_vÆue
 = *
±r_max
, 
	gmö_vÆue
 = 
max_vÆue
;

15620 
cimg_f‹
(*
this
,
±rs
,
T
) {

15621 c⁄° 
T
 
	gvÆ
 = *
±rs
;

15622 i‡(
	gvÆ
>
	gmax_vÆue
Ë{ max_vÆuê
vÆ
; 
	g±r_max
 = 
±rs
; }

15623 i‡(
	gvÆ
<
	gmö_vÆue
Ëmö_vÆuê
vÆ
;

15625 
	gmö_vÆ
 = (
t
)
mö_vÆue
;

15626  *
	g±r_max
;

15633 
T
 
kth_smÆÀ°
(c⁄° 
k
) const {

15634 i‡(
is_em±y
())

15635 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15637 
cimg_ö°™˚
);

15638 
	gCImg
<
	gT
> 
¨r
(*
this
);

15639 
	gl
 = 0, 
	gú
 = 
size
() - 1;

15641 i‡(
	gú
<=
l
+1) {

15642 i‡(
ú
==
l
+1 && 
¨r
[ú]<¨r[l]Ë
cimg
::
sw≠
(arr[l],arr[ir]);

15643  
	g¨r
[
k
];

15645 c⁄° 
	gmid
 = (
l
 + 
ú
)>>1;

15646 
	gcimg
::
sw≠
(
¨r
[
mid
],¨r[
l
+1]);

15647 i‡(
	g¨r
[
l
]>¨r[
ú
]Ë
	gcimg
::
sw≠
(
¨r
[l],arr[ir]);

15648 i‡(
	g¨r
[
l
+1]>¨r[
ú
]Ë
	gcimg
::
sw≠
(
¨r
[l+1],arr[ir]);

15649 i‡(
	g¨r
[
l
]>¨r[l+1]Ë
	gcimg
::
sw≠
(
¨r
[l],arr[l+1]);

15650 
	gi
 = 
l
 + 1, 
	gj
 = 
ú
;

15651 c⁄° 
T
 
	gpivŸ
 = 
¨r
[
l
+1];

15653 dÿ++
	gi
; 
	g¨r
[
i
]<
	gpivŸ
);

15654 dÿ--
	gj
; 
	g¨r
[
j
]>
	gpivŸ
);

15655 i‡(
	gj
<
	gi
) ;

15656 
	gcimg
::
sw≠
(
¨r
[
i
],¨r[
j
]);

15658 
	g¨r
[
l
+1] = 
¨r
[
j
];

15659 
	g¨r
[
j
] = 
pivŸ
;

15660 i‡(
	gj
>=
k
Ë
ú
 = 
j
 - 1;

15661 i‡(
	gj
<=
k
Ë
l
 = 
i
;

15670 
T
 
medün
() const {

15671 i‡(
is_em±y
())

15672 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15674 
cimg_ö°™˚
);

15675 c⁄° 
	gs
 = 
size
();

15676 c⁄° 
T
 
	gªs
 = 
kth_smÆÀ°
(
s
>>1);

15677  (
	gs
%2)?
	gªs
:((
ªs
+
kth_smÆÀ°
((
s
>>1)-1))/2);

15683 
TdoubÀ
 
sum
() const {

15684 i‡(
is_em±y
())

15685 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15687 
cimg_ö°™˚
);

15688 
TdoubÀ
 
	gªs
 = 0;

15689 
cimg_f‹
(*
this
,
±rs
,
T
Ë
	gªs
+=(
TdoubÀ
)*ptrs;

15690  
	gªs
;

15696 
TdoubÀ
 
món
() const {

15697 i‡(
is_em±y
())

15698 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15700 
cimg_ö°™˚
);

15701 
TdoubÀ
 
	gªs
 = 0;

15702 
cimg_f‹
(*
this
,
±rs
,
T
Ë
	gªs
+=(
TdoubÀ
)*ptrs;

15703  
	gªs
/
size
();

15716 
TdoubÀ
 
v¨ün˚
(c⁄° 
v¨ün˚_mëhod
=1) const {

15717 
TdoubÀ
 
foo
;

15718  
v¨ün˚_món
(
v¨ün˚_mëhod
,
foo
);

15726 
	gãm∂©e
<
ty≥«me
 
	gt
>

15727 
TdoubÀ
 
v¨ün˚_món
(c⁄° 
v¨ün˚_mëhod
, 
t
& 
món
) const {

15728 i‡(
is_em±y
())

15729 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15731 
cimg_ö°™˚
);

15733 
TdoubÀ
 
	gv¨ün˚
 = 0, 
	gavîage
 = 0;

15734 c⁄° 
	gsiz
 = 
size
();

15735 
	gv¨ün˚_mëhod
) {

15737 
TdoubÀ
 
S
 = 0, 
	gS2
 = 0;

15738 
cimg_f‹
(*
this
,
±rs
,
T
Ë{ c⁄° 
TdoubÀ
 
	gvÆ
 = (TdoubÀ)*±rs; 
	gS
+=
vÆ
; 
	gS2
+=val*val; }

15739 
	gv¨ün˚
 = (
S2
 - 
S
*S/
siz
)/siz;

15740 
	gavîage
 = 
S
;

15743 
TdoubÀ
 
S
 = 0, 
	gS2
 = 0;

15744 
cimg_f‹
(*
this
,
±rs
,
T
Ë{ c⁄° 
TdoubÀ
 
	gvÆ
 = (TdoubÀ)*±rs; 
	gS
+=
vÆ
; 
	gS2
+=val*val; }

15745 
	gv¨ün˚
 = 
siz
>1?(
S2
 - 
S
*S/siz)/(siz - 1):0;

15746 
	gavîage
 = 
S
;

15749 
CImg
<
TÊﬂt
> 
buf
(*
this
,
Ál£
);

15750 
	gbuf
.
s‹t
();

15751 c⁄° 
	gsiz2
 = 
siz
>>1;

15752 c⁄° 
TdoubÀ
 
	gmed_i
 = ()
buf
[
siz2
];

15753 
cimg_f‹
(
buf
,
±rs
,
TÊﬂt
Ë{ c⁄° 
TdoubÀ
 
	gvÆ
 = (TdoubÀ)*±rs; *
	g±rs
 = (TÊﬂt)
cimg
::
abs
(
vÆ
 - 
med_i
); 
	gavîage
+=val; }

15754 
	gbuf
.
s‹t
();

15755 c⁄° 
TdoubÀ
 
	gsig
 = (TdoubÀ)(1.4828*
buf
[
siz2
]);

15756 
	gv¨ün˚
 = 
sig
*sig;

15759 
CImg
<
TÊﬂt
> 
buf
(*
this
,
Ál£
);

15760 c⁄° 
	gsiz2
 = 
siz
>>1;

15761 
cimg_f‹
(
buf
,
±rs
,
TÊﬂt
Ë{ c⁄° 
TdoubÀ
 
	gvÆ
 = (TdoubÀ)*±rs; (*
	g±rs
)=(TÊﬂt)((*±rs)*
vÆ
); 
	gavîage
+=val; }

15762 
	gbuf
.
s‹t
();

15763 
TdoubÀ
 
	ga
 = 0;

15764 c⁄° 
TÊﬂt
 *
	g±rs
 = 
buf
.
_d©a
;

15765 
	gj
 = 0; j<
	gsiz2
; ++jË
	ga
+=(
TdoubÀ
)*(
±rs
++);

15766 c⁄° 
TdoubÀ
 
	gsig
 = (TdoubÀ)(2.6477*
°d
::
sqπ
(
a
/
siz2
));

15767 
	gv¨ün˚
 = 
sig
*sig;

15770 
	gmón
 = (
t
)(
avîage
/
siz
);

15771  
	gv¨ün˚
>0?variance:0;

15783 
TdoubÀ
 
v¨ün˚_noi£
(c⁄° 
v¨ün˚_mëhod
=2) const {

15784 i‡(
is_em±y
())

15785 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15787 
cimg_ö°™˚
);

15789 c⁄° 
	gsiz
 = 
size
();

15790 i‡(!
	gsiz
 || !
	g_d©a
)  0;

15791 i‡(
	gv¨ün˚_mëhod
>1) {

15792 
	gCImg
<
	gTdoubÀ
> 
tmp
(*
this
);

15793 i‡(
	g_dïth
==1) {

15794 c⁄° 
TdoubÀ
 
c°e
 = 1.0/
°d
::
sqπ
(20.0);

15795 
CImg_3x3
(
I
,
T
);

15796 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
T
) {

15797 
tmp
(
x
,
y
,
c
Ë
c°e
*((
TdoubÀ
)
Inc
 + (TdoubÀ)
Ipc
 + (TdoubÀ)
I˙
 +

15798 (
TdoubÀ
)
I˝
 - 4*(TdoubÀ)
Icc
);

15801 c⁄° 
TdoubÀ
 
	gc°e
 = 1.0/
°d
::
sqπ
(42.0);

15802 
CImg_3x3x3
(
I
,
T
);

15803 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
T
) {

15804 
tmp
(
x
,
y
,
z
,
c
Ë
c°e
*(

15805 (
TdoubÀ
)
Incc
 + (TdoubÀ)
Ipcc
 + (TdoubÀ)
I˙c
 + (TdoubÀ)
I˝c
 +

15806 (
TdoubÀ
)
Ic˙
 + (TdoubÀ)
Ic˝
 - 6*(TdoubÀ)
Iccc
);

15809  
	gtmp
.
v¨ün˚
(
v¨ün˚_mëhod
);

15813 
TdoubÀ
 
	gv¨ün˚
 = 0, 
	gS
 = 0, 
	gS2
 = 0;

15814 i‡(
	g_dïth
==1) {

15815 c⁄° 
TdoubÀ
 
c°e
 = 1.0/
°d
::
sqπ
(20.0);

15816 
CImg_3x3
(
I
,
T
);

15817 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
T
) {

15818 c⁄° 
TdoubÀ
 
	gvÆ
 = 
c°e
*((TdoubÀ)
Inc
 + (TdoubÀ)
Ipc
 +

15819 (
TdoubÀ
)
I˙
 + (TdoubÀ)
I˝
 - 4*(TdoubÀ)
Icc
);

15820 
	gS
+=
vÆ
; 
	gS2
+=val*val;

15823 c⁄° 
TdoubÀ
 
	gc°e
 = 1.0/
°d
::
sqπ
(42.0);

15824 
CImg_3x3x3
(
I
,
T
);

15825 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
T
) {

15826 c⁄° 
TdoubÀ
 
	gvÆ
 = 
c°e
 *

15827 ((
TdoubÀ
)
Incc
 + (TdoubÀ)
Ipcc
 + (TdoubÀ)
I˙c
 +

15828 (
TdoubÀ
)
I˝c
 +

15829 (
TdoubÀ
)
Ic˙
 + (TdoubÀ)
Ic˝
 - 6*(TdoubÀ)
Iccc
);

15830 
	gS
+=
vÆ
; 
	gS2
+=val*val;

15833 i‡(
	gv¨ün˚_mëhod
Ë
	gv¨ün˚
 = 
siz
>1?(
S2
 - 
S
*S/siz)/(siz - 1):0;

15834 
	gv¨ün˚
 = (
S2
 - 
S
*S/
siz
)/siz;

15835  
	gv¨ün˚
>0?variance:0;

15842 
	gãm∂©e
<
ty≥«me
 
	gt
>

15843 
TdoubÀ
 
MSE
(c⁄° 
CImg
<
t
>& 
img
) const {

15844 i‡(
	gimg
.
size
()!=size())

15845 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


15847 
cimg_ö°™˚
,

15848 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,img.
_d©a
);

15849 
TdoubÀ
 
	gvMSE
 = 0;

15850 c⁄° 
t
* 
	g±r2
 = 
img
.
_d©a
;

15851 
cimg_f‹
(*
this
,
±r1
,
T
) {

15852 c⁄° 
TdoubÀ
 
	gdiff
 = (TdoubÀ)*
±r1
 - (TdoubÀ)*(
±r2
++);

15853 
	gvMSE
+=
diff
*diff;

15855 c⁄° 
	gsiz
 = 
img
.
size
();

15856 i‡(
	gsiz
Ë
	gvMSE
/=
siz
;

15857  
	gvMSE
;

15865 
	gãm∂©e
<
ty≥«me
 
	gt
>

15866 
TdoubÀ
 
PSNR
(c⁄° 
CImg
<
t
>& 
img
, c⁄° TdoubÀ 
max_vÆue
=255) const {

15867 c⁄° 
TdoubÀ
 
vMSE
 = (TdoubÀ)
°d
::
sqπ
(
MSE
(
img
));

15868  (
	gvMSE
!=0)?(
TdoubÀ
)(20*
°d
::
log10
(
max_vÆue
/
vMSE
)):(TdoubÀ)(
cimg
::
ty≥
<TdoubÀ>::
max
());

15879 
evÆ
(c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

15880 i‡(!
ex¥essi⁄
)  0;

15881  
_cimg_m©h_∑r£r
(*
this
,
ex¥essi⁄
,"evÆ").
evÆ
(
x
,
y
,
z
,
c
);

15889 
	gãm∂©e
<
ty≥«me
 
	gt
>

15890 
	gCImg
<
	gdoubÀT
> 
evÆ
(c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
CImg
<
t
>& 
xyzc
) const {

15891 
	gCImg
<
	gdoubÀT
> 
ªs
(1,
xyzc
.
size
()/4);

15892 i‡(!
	gex¥essi⁄
Ë 
	gªs
.
fûl
(0);

15893 
_cimg_m©h_∑r£r
 
mp
(*
this
,
ex¥essi⁄
,"eval");

15894 c⁄° 
t
 *
	gps
 = 
xyzc
.
_d©a
;

15895 
	gx
, 
	gy
, 
	gz
, 
	gc
;

15896 
cimg_f‹
(
ªs
,
pd
,) {

15897 
	gx
 = ()*(
ps
++); 
	gy
 = ()*’s++); 
	gz
 = ()*’s++); 
	gc
 = ()*(ps++);

15898 *
	gpd
 = 
mp
.
evÆ
(
x
,
y
,
z
,
c
);

15900  
	gªs
;

15908 
	gCImg
<
	gTdoubÀ
> 
gë_°©s
(c⁄° 
v¨ün˚_mëhod
=1) const {

15909 i‡(
is_em±y
()Ë 
CImg
<
doubÀT
>();

15910 c⁄° 
	gsiz
 = 
size
();

15911 c⁄° 
T
 *c⁄° 
	god©a
 = 
_d©a
;

15912 c⁄° 
T
 *
	gpm
 = 
od©a
, *
	gpM
 = odata;

15913 
TdoubÀ
 
	gS
 = 0, 
	gS2
 = 0;

15914 
T
 
	gm
 = *
pm
, 
	gM
 = 
m
;

15915 
cimg_f‹
(*
this
,
±rs
,
T
) {

15916 c⁄° 
T
 
	gvÆ
 = *
±rs
;

15917 c⁄° 
TdoubÀ
 
	g_vÆ
 = (TdoubÀ)
vÆ
;

15918 i‡(
	gvÆ
<
	gm
Ë{ m = 
vÆ
; 
	gpm
 = 
±rs
; }

15919 i‡(
	gvÆ
>
	gM
Ë{ M = 
vÆ
; 
	gpM
 = 
±rs
; }

15920 
	gS
+=
_vÆ
;

15921 
	gS2
+=
_vÆ
*_val;

15923 c⁄° 
TdoubÀ


15924 
	gmón_vÆue
 = 
S
/
siz
,

15925 
	g_v¨ün˚_vÆue
 = 
v¨ün˚_mëhod
==0?(
S2
 - 
S
*S/
siz
)/siz:

15926 (
v¨ün˚_mëhod
==1?(
siz
>1?(
S2
 - 
S
*S/siz)/(siz - 1):0):

15927 
v¨ün˚
(
v¨ün˚_mëhod
)),

15928 
	gv¨ün˚_vÆue
 = 
_v¨ün˚_vÆue
>0?_variance_value:0;

15930 
	gxm
 = 0, 
	gym
 = 0, 
	gzm
 = 0, 
	gcm
 = 0,

15931 
	gxM
 = 0, 
	gyM
 = 0, 
	gzM
 = 0, 
	gcM
 = 0;

15932 
c⁄èös
(*
pm
,
xm
,
ym
,
zm
,
cm
);

15933 
c⁄èös
(*
pM
,
xM
,
yM
,
zM
,
cM
);

15934  
	gCImg
<
	gTdoubÀ
>(1,12).
fûl
((
TdoubÀ
)
m
,(TdoubÀ)
M
,
món_vÆue
,
v¨ün˚_vÆue
,

15935 (
TdoubÀ
)
xm
,(TdoubÀ)
ym
,(TdoubÀ)
zm
,(TdoubÀ)
cm
,

15936 (
TdoubÀ
)
xM
,(TdoubÀ)
yM
,(TdoubÀ)
zM
,(TdoubÀ)
cM
);

15940 
	gCImg
<
	gT
>& 
°©s
(c⁄° 
v¨ün˚_mëhod
=1) {

15941  
gë_°©s
(
v¨ün˚_mëhod
).
move_to
(*
this
);

15958 
TdoubÀ
 
magnôude
(c⁄° 
magnôude_ty≥
=2) const {

15959 i‡(
is_em±y
())

15960 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15962 
cimg_ö°™˚
);

15963 
TdoubÀ
 
	gªs
 = 0;

15964 
	gmagnôude_ty≥
) {

15966 
cimg_f‹
(*
this
,
±rs
,
T
Ë{ c⁄° 
TdoubÀ
 
	gvÆ
 = (TdoubÀ)
cimg
::
abs
(*±rs); i‡(vÆ>
	gªs
Ëª†
vÆ
; }

15969 
cimg_f‹
(*
this
,
±rs
,
T
Ë
	gªs
+=(
TdoubÀ
)
cimg
::
abs
(*ptrs);

15972 
cimg_f‹
(*
this
,
±rs
,
T
Ë
	gªs
+=(
TdoubÀ
)
cimg
::
sqr
(*ptrs);

15973 
	gªs
 = (
TdoubÀ
)
°d
::
sqπ
(
ªs
);

15976  
	gªs
;

15982 
TdoubÀ
 
åa˚
() const {

15983 i‡(
is_em±y
())

15984 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15986 
cimg_ö°™˚
);

15987 
TdoubÀ
 
	gªs
 = 0;

15988 
cimg_f‹X
(*
this
,
k
Ë
	gªs
+=(
TdoubÀ
)(*this)(k,
	gk
);

15989  
	gªs
;

15995 
TdoubÀ
 
dë
() const {

15996 i‡(
is_em±y
(Ë|| 
	g_width
!=
_height
 || 
_dïth
!=1 || 
_•e˘rum
!=1)

15997 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


15999 
cimg_ö°™˚
);

16001 
	g_width
) {

16002 1 :  (
TdoubÀ
)((*
this
)(0,0));

16003 2 :  (
TdoubÀ
)((*
this
)(0,0))*(
	gTdoubÀ
)((*
	gthis
)(1,1)) - (Tdouble)((*this)(0,1))*(Tdouble)((*this)(1,0));

16005 c⁄° 
TdoubÀ


16006 
a
 = (
TdoubÀ
)
_d©a
[0], 
	gd
 = (TdoubÀ)_d©a[1], 
	gg
 = (Tdouble)_data[2],

16007 
	gb
 = (
TdoubÀ
)
_d©a
[3], 
	ge
 = (TdoubÀ)_d©a[4], 
	gh
 = (Tdouble)_data[5],

16008 
	gc
 = (
TdoubÀ
)
_d©a
[6], 
	gf
 = (TdoubÀ)_d©a[7], 
	gi
 = (Tdouble)_data[8];

16009  
i
*
a
*
	ge
 -á*
h
*
	gf
 - i*
b
*
	gd
 + b*
g
*‡+ 
c
*
d
*
	gh
 - c*g*e;

16012 
CImg
<
TÊﬂt
> 
lu
(*
this
);

16013 
	gCImg
<
	guötT
> 
	gödx
;

16014 
boﬁ
 
	gd
;

16015 
	glu
.
_LU
(
ödx
,
d
);

16016 
TdoubÀ
 
	gªs
 = 
d
?(Tdouble)1:(Tdouble)-1;

16017 
cimg_f‹X
(
lu
,
i
Ë
	gªs
*=lu(i,i);

16018  
	gªs
;

16028 
	gãm∂©e
<
ty≥«me
 
	gt
>

16029 
TdoubÀ
 
dŸ
(c⁄° 
CImg
<
t
>& 
img
) const {

16030 i‡(
is_em±y
())

16031 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


16033 
cimg_ö°™˚
);

16034 i‡(!
	gimg
)

16035 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


16037 
cimg_ö°™˚
);

16039 c⁄° 
	gnb
 = 
cimg
::
mö
(
size
(),
img
.size());

16040 
TdoubÀ
 
	gªs
 = 0;

16041 
	goff
 = 0; off<
	gnb
; ++offË
	gªs
+=(
TdoubÀ
)
_d©a
[
off
]*(TdoubÀ)
img
[off];

16042  
	gªs
;

16051 
	gCImg
<
	gT
> 
gë_ve˘‹_©
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0) const {

16052 
CImg
<
T
> 
ªs
;

16053 i‡(
	gªs
.
	g_height
!=
_•e˘rum
Ë
ªs
.
assign
(1,_spectrum);

16054 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

16055 c⁄° 
T
 *
	g±rs
 = 
d©a
(
x
,
y
,
z
);

16056 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

16057 
cimg_f‹C
(*
this
,
c
Ë{ *(
	g±rd
++Ë*
±rs
; 
	g±rs
+=
whd
; }

16058  
	gªs
;

16068 
	gCImg
<
	gT
> 
gë_m©rix_©
(c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0) const {

16069 c⁄° 
n
 = ()
°d
::
sqπ
(()
_•e˘rum
);

16070 c⁄° 
T
 *
	g±rs
 = 
d©a
(
x
,
y
,
z
,0);

16071 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

16072 
	gCImg
<
	gT
> 
ªs
(
n
,n);

16073 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

16074 
cimg_f‹C
(*
this
,
c
Ë{ *(
	g±rd
++Ë*
±rs
; 
	g±rs
+=
whd
; }

16075  
	gªs
;

16084 
	gCImg
<
	gT
> 
gë_ãns‹_©
(c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0) const {

16085 c⁄° 
T
 *
±rs
 = 
d©a
(
x
,
y
,
z
,0);

16086 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

16087 i‡(
	g_•e˘rum
==6Ë 
ãns‹
(*
±rs
,*’ås+
whd
),*(ptrs+2*whd),*(ptrs+3*whd),*(ptrs+4*whd),*(ptrs+5*whd));

16088 i‡(
	g_•e˘rum
==3Ë 
ãns‹
(*
±rs
,*’ås+
whd
),*(ptrs+2*whd));

16089  
ãns‹
(*
±rs
);

16099 
	gãm∂©e
<
ty≥«me
 
	gt
>

16100 
	gCImg
<
	gT
>& 
£t_ve˘‹_©
(c⁄° 
CImg
<
t
>& 
vec
, c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0) {

16101 i‡(
x
<
_width
 && 
y
<
_height
 && 
z
<
_dïth
) {

16102 c⁄° 
t
 *
±rs
 = 
vec
.
_d©a
;

16103 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

16104 
T
 *
	g±rd
 = 
d©a
(
x
,
y
,
z
);

16105 
	gk
 = 
cimg
::
mö
(()
vec
.
size
(),
_•e˘rum
); k; --kË{ *
	g±rd
 = (
T
)*(
±rs
++);Öåd+=
whd
; }

16107  *
	gthis
;

16117 
	gãm∂©e
<
ty≥«me
 
	gt
>

16118 
	gCImg
<
	gT
>& 
£t_m©rix_©
(c⁄° 
CImg
<
t
>& 
m©
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0) {

16119  
£t_ve˘‹_©
(
m©
,
x
,
y
,
z
);

16129 
	gãm∂©e
<
ty≥«me
 
	gt
>

16130 
	gCImg
<
	gT
>& 
£t_ãns‹_©
(c⁄° 
CImg
<
t
>& 
ãn
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0) {

16131 
T
 *
±rd
 = 
d©a
(
x
,
y
,
z
,0);

16132 c⁄° 
	gsiz
 = ()
_width
*
_height
*
_dïth
;

16133 i‡(
	gãn
.
	g_height
==2) {

16134 *
±rd
 = (
T
)
ãn
[0]; 
	g±rd
+=
siz
;

16135 *
	g±rd
 = (
T
)
ãn
[1];Öåd+=
siz
;

16136 *
	g±rd
 = (
T
)
ãn
[3];

16139 *
	g±rd
 = (
T
)
ãn
[0];Öåd+=
siz
;

16140 *
	g±rd
 = (
T
)
ãn
[1];Öåd+=
siz
;

16141 *
	g±rd
 = (
T
)
ãn
[2];Öåd+=
siz
;

16142 *
	g±rd
 = (
T
)
ãn
[4];Öåd+=
siz
;

16143 *
	g±rd
 = (
T
)
ãn
[5];Öåd+=
siz
;

16144 *
	g±rd
 = (
T
)
ãn
[8];

16146  *
	gthis
;

16153 
	gCImg
<
	gT
>& 
ve˘‹
() {

16154  
uƒﬁl
('y');

16158 
	gCImg
<
	gT
> 
gë_ve˘‹
() const {

16159  
gë_uƒﬁl
('y');

16165 
	gCImg
<
	gT
>& 
m©rix
() {

16166 c⁄° 
	gsiz
 = 
size
();

16167 
	gsiz
) {

16169 4 : 
_width
 = 
_height
 = 2; ;

16170 9 : 
_width
 = 
_height
 = 3; ;

16171 16 : 
_width
 = 
_height
 = 4; ;

16172 25 : 
_width
 = 
_height
 = 5; ;

16173 36 : 
_width
 = 
_height
 = 6; ;

16174 49 : 
_width
 = 
_height
 = 7; ;

16175 64 : 
_width
 = 
_height
 = 8; ;

16176 81 : 
_width
 = 
_height
 = 9; ;

16177 100 : 
_width
 = 
_height
 = 10; ;

16179 
i
 = 11, 
	gi2
 = i*i;

16180 
	gi2
<
	gsiz
Ë{ i2+=2*
i
 + 1; ++
	gi
; }

16181 i‡(
	gi2
==
siz
Ë
_width
 = 
_height
 = 
i
;

16182 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


16184 
cimg_ö°™˚
,

16185 
siz
);

16188  *
	gthis
;

16192 
	gCImg
<
	gT
> 
gë_m©rix
() const {

16193  (+*
	gthis
).
m©rix
();

16199 
	gCImg
<
	gT
>& 
ãns‹
() {

16200  
gë_ãns‹
().
move_to
(*
this
);

16204 
	gCImg
<
	gT
> 
gë_ãns‹
() const {

16205 
	gCImg
<
	gT
> 
	gªs
;

16206 c⁄° 
	gsiz
 = 
size
();

16207 
	gsiz
) {

16210 
ªs
.
assign
(2,2);

16211 
ªs
(0,0Ë(*
this
)(0);

16212 
ªs
(1,0Ëªs(0,1Ë(*
this
)(1);

16213 
ªs
(1,1Ë(*
this
)(2);

16216 
ªs
.
assign
(3,3);

16217 
ªs
(0,0Ë(*
this
)(0);

16218 
ªs
(1,0Ëªs(0,1Ë(*
this
)(1);

16219 
ªs
(2,0Ëªs(0,2Ë(*
this
)(2);

16220 
ªs
(1,1Ë(*
this
)(3);

16221 
ªs
(2,1Ëªs(1,2Ë(*
this
)(4);

16222 
ªs
(2,2Ë(*
this
)(5);

16225 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


16227 
cimg_ö°™˚
);

16229  
	gªs
;

16236 
	gCImg
<
	gT
>& 
düg⁄Æ
() {

16237  
gë_düg⁄Æ
().
move_to
(*
this
);

16241 
	gCImg
<
	gT
> 
gë_düg⁄Æ
() const {

16242 i‡(
is_em±y
()Ë *
	gthis
;

16243 
	gCImg
<
	gT
> 
ªs
(
size
(),size(),1,1,0);

16244 
cimg_f‹off
(*
this
,
off
Ë
ªs
(off,off) = (*this)(off);

16245  
	gªs
;

16252 
	gCImg
<
	gT
>& 
idítôy_m©rix
() {

16253  
idítôy_m©rix
(
cimg
::
max
(
_width
,
_height
)).
move_to
(*
this
);

16257 
	gCImg
<
	gT
> 
gë_idítôy_m©rix
() const {

16258  
idítôy_m©rix
(
cimg
::
max
(
_width
,
_height
));

16266 
	gCImg
<
	gT
>& 
£quí˚
(c⁄° 
T
 
a0
, c⁄° T 
a1
) {

16267 i‡(
is_em±y
()Ë *
	gthis
;

16268 c⁄° 
	gsiz
 = 
size
() - 1;

16269 
T
* 
	g±r
 = 
_d©a
;

16270 i‡(
	gsiz
) {

16271 c⁄° 
TdoubÀ
 
	gdñè
 = (TdoubÀ)
a1
 - (TdoubÀ)
a0
;

16272 
cimg_f‹off
(*
this
,
l
Ë*(
	g±r
++Ë(
T
)(
a0
 + 
dñè
*l/
siz
);

16273 } *
	g±r
 = 
a0
;

16274  *
	gthis
;

16278 
	gCImg
<
	gT
> 
gë_£quí˚
(c⁄° 
T
 
a0
, c⁄° T 
a1
) const {

16279  (+*
	gthis
).
£quí˚
(
a0
,
a1
);

16286 
	gCImg
<
	gT
>& 
å™•o£
() {

16287 i‡(
	g_width
==1Ë{ 
_width
 = 
_height
; 
	g_height
 = 1;  *
	gthis
; }

16288 i‡(
	g_height
==1Ë{ 
_height
 = 
_width
; 
	g_width
 = 1;  *
	gthis
; }

16289 i‡(
	g_width
==
_height
) {

16290 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
Ë
x
 = y; 
	gx
<
width
(); ++xË
	gcimg
::
sw≠
((*this)(x,y,z,c),(*this)(y,x,z,c));

16291  *
	gthis
;

16293  
gë_å™•o£
().
move_to
(*
this
);

16297 
	gCImg
<
	gT
> 
gë_å™•o£
() const {

16298  
gë_≥rmuã_axes
("yxzc");

16306 
	gãm∂©e
<
ty≥«me
 
	gt
>

16307 
	gCImg
<
	gT
>& 
¸oss
(c⁄° 
CImg
<
t
>& 
img
) {

16308 i‡(
	g_width
!=1 || 
_height
<3 || 
img
.
_width
!=1 || img._height<3)

16309 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


16311 
cimg_ö°™˚
,

16312 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,img.
_d©a
);

16314 c⁄° 
T
 
	gx
 = (*
this
)[0], 
	gy
 = (*this)[1], 
	gz
 = (*this)[2];

16315 (*
	gthis
)[0] = (
T
)(
y
*
img
[2] - 
z
*img[1]);

16316 (*
	gthis
)[1] = (
T
)(
z
*
img
[0] - 
x
*img[2]);

16317 (*
	gthis
)[2] = (
T
)(
x
*
img
[1] - 
y
*img[0]);

16318  *
	gthis
;

16322 
	gãm∂©e
<
ty≥«me
 
	gt
>

16323 
	gCImg
<
	g_cimg_Tt
> 
gë_¸oss
(c⁄° 
CImg
<
t
>& 
img
) const {

16324  
	gCImg
<
	g_cimg_Tt
>(*
	gthis
).
¸oss
(
img
);

16333 
	gCImg
<
	gT
>& 
övît
(c⁄° 
boﬁ
 
u£_LU
=
åue
) {

16334 i‡(
_width
!=
_height
 || 
_dïth
!=1 || 
_•e˘rum
!=1)

16335 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


16337 
cimg_ö°™˚
);

16338 #ifde‡
cimg_u£_œ∑ck


16339 
	gINFO
 = ()
u£_LU
, 
	gN
 = 
_width
, 
	gLWORK
 = 4*
N
, *c⁄° 
	gIPIV
 = 
√w
 [N];

16340 
TÊﬂt


16341 *c⁄° 
	gœpA
 = 
√w
 
TÊﬂt
[
N
*N],

16342 *c⁄° 
	gWORK
 = 
√w
 
TÊﬂt
[
LWORK
];

16343 
cimg_f‹XY
(*
this
,
k
,
l
Ë
	gœpA
[k*
N
+l] = (
TÊﬂt
)((*this)(k,
	gl
));

16344 
	gcimg
::
gërf
(
N
,
œpA
,
IPIV
,
INFO
);

16345 i‡(
	gINFO
)

16346 
	gcimg
::
w¨n
(
_cimg_ö°™˚


16348 
cimg_ö°™˚
,

16349 
INFO
);

16351 
	gcimg
::
gëri
(
N
,
œpA
,
IPIV
,
WORK
,
LWORK
,
INFO
);

16352 i‡(
	gINFO
)

16353 
	gcimg
::
w¨n
(
_cimg_ö°™˚


16355 
cimg_ö°™˚
,

16356 
INFO
);

16358 i‡(!
	gINFO
Ë
cimg_f‹XY
(*
this
,
k
,
l
Ë(*
	gthis
)(
	gk
,
	gl
Ë(
T
)(
œpA
[k*
N
+l]); 
fûl
(0);

16359 
	gdñëe
[] 
	gIPIV
; dñëe[] 
	gœpA
; dñëe[] 
	gWORK
;

16361 c⁄° 
	gdëe
 = 
_width
>3?-1.0:
dë
();

16362 i‡(
	gdëe
!=0.0 && 
_width
==2) {

16364 
a
 = 
_d©a
[0], 
	gc
 = _data[1],

16365 
	gb
 = 
_d©a
[2], 
	gd
 = _data[3];

16366 
	g_d©a
[0] = (
T
)(
d
/
dëe
); _d©a[1] = (T)(-
c
/dete);

16367 
	g_d©a
[2] = (
T
)(-
b
/
dëe
); _d©a[3] = (T)(
a
/dete);

16368 } i‡(
	gdëe
!=0.0 && 
_width
==3) {

16370 
a
 = 
_d©a
[0], 
	gd
 = _d©a[1], 
	gg
 = _data[2],

16371 
	gb
 = 
_d©a
[3], 
	ge
 = _d©a[4], 
	gh
 = _data[5],

16372 
	gc
 = 
_d©a
[6], 
	gf
 = _d©a[7], 
	gi
 = _data[8];

16373 
	g_d©a
[0] = (
T
)((
i
*
e
-
f
*
h
)/
dëe
), _d©a[1] = (T)((
g
*f-i*
d
)/dete), _data[2] = (T)((d*h-g*e)/dete);

16374 
	g_d©a
[3] = (
T
)((
h
*
c
-
i
*
b
)/
dëe
), _d©a[4] = (T)((i*
a
-c*
g
)/dete), _data[5] = (T)((g*b-a*h)/dete);

16375 
	g_d©a
[6] = (
T
)((
b
*
f
-
e
*
c
)/
dëe
), _d©a[7] = (T)((
d
*c-
a
*f)/dete), _data[8] = (T)((a*e-d*b)/dete);

16377 i‡(
	gu£_LU
) {

16378 
	gCImg
<
	gTÊﬂt
> 
A
(*
this
), 
	gödx
, 
cﬁ
(1,
_width
);

16379 
boﬁ
 
	gd
;

16380 
	gA
.
_LU
(
ödx
,
d
);

16381 
cimg_f‹X
(*
this
,
j
) {

16382 
	gcﬁ
.
fûl
(0);

16383 
cﬁ
(
j
) = 1;

16384 
	gcﬁ
.
_sﬁve
(
A
,
ödx
);

16385 
cimg_f‹X
(*
this
,
i
Ë(*
	gthis
)(
	gj
,
	gi
Ë(
T
)
cﬁ
(i);

16388 
	gCImg
<
	gTÊﬂt
> 
U
(
_width
,_width), 
S
(1,_width), 
V
(_width,_width);

16389 
SVD
(
U
,
S
,
V
,
Ál£
);

16390 
	gU
.
å™•o£
();

16391 
cimg_f‹Y
(
S
,
k
Ëi‡(
	gS
[k]!=0) S[k]=1/S[k];

16392 
	gS
.
düg⁄Æ
();

16393 *
	gthis
 = 
V
*
S
*
U
;

16397  *
	gthis
;

16401 
	gCImg
<
	gTÊﬂt
> 
gë_övît
(c⁄° 
boﬁ
 
u£_LU
=
åue
) const {

16402  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
övît
(
u£_LU
);

16408 
	gCImg
<
	gT
>& 
p£udoövît
() {

16409  
gë_p£udoövît
().
move_to
(*
this
);

16413 
	gCImg
<
	gTÊﬂt
> 
gë_p£udoövît
() const {

16414 
	gCImg
<
	gTÊﬂt
> 
	gU
, 
	gS
, 
	gV
;

16415 
SVD
(
U
,
S
,
V
);

16416 c⁄° 
TÊﬂt
 
	gtﬁî™˚
 = ((TÊﬂt)<=4?5.96e-8f:1.11e-16f)*
cimg
::
max
(
_width
,
_height
)*
	gS
.max();

16417 
cimg_f‹X
(
V
,
x
) {

16418 c⁄° 
TÊﬂt
 
	gs
 = 
S
(
x
), 
	gövs
 = 
s
>
tﬁî™˚
?1/s:(Tfloat)0;

16419 
cimg_f‹Y
(
V
,
y
ËV(
x
,y)*=
övs
;

16421  
V
*
	gU
.
å™•o£
();

16429 
	gãm∂©e
<
ty≥«me
 
	gt
>

16430 
	gCImg
<
	gT
>& 
sﬁve
(c⁄° 
CImg
<
t
>& 
A
) {

16431 i‡(
	g_width
!=1 || 
_dïth
!=1 || 
_•e˘rum
!=1 || 
_height
!=
A
._height || A._depth!=1 || A._spectrum!=1)

16432 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


16434 
cimg_ö°™˚
,

16435 
A
.
_width
,A.
_height
,A.
_dïth
,A.
_•e˘rum
,A.
_d©a
);

16436 
_cimg_TtÊﬂt
 
	tTtÊﬂt
;

16437 i‡(
	gA
.
	g_width
==
A
.
_height
) {

16438 #ifde‡
cimg_u£_œ∑ck


16439 
TRANS
 = 'N';

16440 
	gINFO
, 
	gN
 = 
_height
, 
	gLWORK
 = 4*
N
, *c⁄° 
	gIPIV
 = 
√w
 [N];

16441 
TtÊﬂt


16442 *c⁄° 
	gœpA
 = 
√w
 
TtÊﬂt
[
N
*N],

16443 *c⁄° 
	gœpB
 = 
√w
 
TtÊﬂt
[
N
],

16444 *c⁄° 
	gWORK
 = 
√w
 
TtÊﬂt
[
LWORK
];

16445 
cimg_f‹XY
(
A
,
k
,
l
Ë
	gœpA
[k*
N
+l] = (
TtÊﬂt
)(A(k,l));

16446 
cimg_f‹Y
(*
this
,
i
Ë
	gœpB
[i] = (
TtÊﬂt
)((*this)(i));

16447 
	gcimg
::
gërf
(
N
,
œpA
,
IPIV
,
INFO
);

16448 i‡(
	gINFO
)

16449 
	gcimg
::
w¨n
(
_cimg_ö°™˚


16451 
cimg_ö°™˚
,

16452 
INFO
);

16454 i‡(!
	gINFO
) {

16455 
	gcimg
::
gërs
(
TRANS
,
N
,
œpA
,
IPIV
,
œpB
,
INFO
);

16456 i‡(
	gINFO
)

16457 
	gcimg
::
w¨n
(
_cimg_ö°™˚


16459 
cimg_ö°™˚
,

16460 
INFO
);

16462 i‡(!
	gINFO
Ë
cimg_f‹Y
(*
this
,
i
Ë(*
	gthis
)(
	gi
Ë(
T
)(
œpB
[i]); 
fûl
(0);

16463 
	gdñëe
[] 
	gIPIV
; dñëe[] 
	gœpA
; dñëe[] 
	gœpB
; dñëe[] 
	gWORK
;

16465 
	gCImg
<
	gTtÊﬂt
> 
lu
(
A
,
Ál£
);

16466 
	gCImg
<
	gTtÊﬂt
> 
	gödx
;

16467 
boﬁ
 
	gd
;

16468 
	glu
.
_LU
(
ödx
,
d
);

16469 
_sﬁve
(
lu
,
ödx
);

16472 #ifde‡
cimg_u£_œ∑ck


16473 
	gTRANS
 = 'N';

16474 
	gINFO
, 
	gN
 = 
A
.
_width
, 
	gM
 = A.
_height
, 
	gLWORK
 = -1, 
	gLDA
 = 
M
, 
	gLDB
 = M, 
	gNRHS
 = _width;

16475 
TtÊﬂt
 
	gWORK_QUERY
;

16476 
TtÊﬂt


16477 * c⁄° 
	gœpA
 = 
√w
 
TtÊﬂt
[
M
*
N
],

16478 * c⁄° 
	gœpB
 = 
√w
 
TtÊﬂt
[
M
*
NRHS
];

16479 
	gcimg
::
sgñs
(
TRANS
, 
M
, 
N
, 
NRHS
, 
œpA
, 
LDA
, 
œpB
, 
LDB
, &
WORK_QUERY
, 
LWORK
, 
INFO
);

16480 
	gLWORK
 = (Ë
WORK_QUERY
;

16481 
TtÊﬂt
 *c⁄° 
	gWORK
 = 
√w
 TtÊﬂt[
LWORK
];

16482 
cimg_f‹XY
(
A
,
k
,
l
Ë
	gœpA
[k*
M
+l] = (
TtÊﬂt
)(A(k,l));

16483 
cimg_f‹XY
(*
this
,
k
,
l
Ë
	gœpB
[k*
M
+l] = (
TtÊﬂt
)((*this)(k,
	gl
));

16484 
	gcimg
::
sgñs
(
TRANS
, 
M
, 
N
, 
NRHS
, 
œpA
, 
LDA
, 
œpB
, 
LDB
, 
WORK
, 
LWORK
, 
INFO
);

16485 i‡(
	gINFO
 != 0)

16486 
cimg
::
w¨n
(
_cimg_ö°™˚


16488 
cimg_ö°™˚
,

16489 
INFO
);

16490 
assign
(
NRHS
, 
N
);

16491 i‡(!
	gINFO
 != 0)

16492 
cimg_f‹XY
(*
this
,
k
,
l
Ë(*
	gthis
)(
	gk
,
	gl
Ë(
T
Ë
œpB
[k*
M
+l];

16494 
assign
(
A
.
gë_p£udoövît
()*(*
this
));

16495 
	gdñëe
[] 
	gœpA
; dñëe[] 
	gœpB
; dñëe[] 
	gWORK
;

16497 
assign
(
A
.
gë_p£udoövît
()*(*
this
));

16500  *
	gthis
;

16504 
	gãm∂©e
<
ty≥«me
 
	gt
>

16505 
	gCImg
<
	g_cimg_TtÊﬂt
> 
gë_sﬁve
(c⁄° 
CImg
<
t
>& 
A
) const {

16506  
	gCImg
<
	g_cimg_TtÊﬂt
>(*
	gthis
,
	gÁl£
).
sﬁve
(
A
);

16509 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gti
>

16510 
	gCImg
<
	gT
>& 
_sﬁve
(c⁄° 
CImg
<
t
>& 
A
, c⁄° CImg<
ti
>& 
ödx
) {

16511 
_cimg_TtÊﬂt
 
	tTtÊﬂt
;

16512 c⁄° 
	gN
 = 
size
();

16513 
	gii
 = -1;

16514 
TtÊﬂt
 
	gsum
;

16515 
	gi
 = 0; i<
	gN
; ++i) {

16516 c⁄° 
	gù
 = ()
ödx
[
i
];

16517 
TtÊﬂt
 
	gsum
 = (*
this
)(
ù
);

16518 (*
	gthis
)(
	gù
Ë(*
this
)(
i
);

16519 i‡(
	gii
>=0Ë
j
 = 
ii
; 
	gj
<=
i
-1; ++jË
	gsum
-=
A
(j,i)*(*
	gthis
)(j);

16520 i‡(
	gsum
!=0Ë
ii
 = 
i
;

16521 (*
	gthis
)(
	gi
Ë(
T
)
sum
;

16523 
	gi
 = 
N
 - 1; i>=0; --i) {

16524 
	gsum
 = (*
this
)(
i
);

16525 
	gj
 = 
i
 + 1; j<
	gN
; ++jË
	gsum
-=
A
(
j
,i)*(*
	gthis
)(j);

16526 (*
	gthis
)(
	gi
Ë(
T
)(
sum
/
A
(
i
,i));

16528  *
	gthis
;

16538 
	gãm∂©e
<
ty≥«me
 
	gt
>

16539 
	gCImg
<
	gT
>& 
sﬁve_åidüg⁄Æ
(c⁄° 
CImg
<
t
>& 
A
) {

16540 c⁄° 
	gsiz
 = ()
size
();

16541 i‡(
	gA
.
	g_width
!=3 || 
A
.
_height
!=
siz
)

16542 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


16545 
cimg_ö°™˚
,

16546 
A
.
_width
,A.
_height
,A.
_dïth
,A.
_•e˘rum
,A.
_d©a
);

16547 
_cimg_TtÊﬂt
 
	tTtÊﬂt
;

16548 c⁄° 
TtÊﬂt
 
	gïsû⁄
 = 1e-4f;

16549 
	gCImg
<
	gTtÊﬂt
> 
	gB
 = 
A
.
gë_cﬁumn
(1), 
V
(*
this
,
Ál£
);

16550 
	gi
 = 1; i<()
	gsiz
; ++i) {

16551 c⁄° 
TtÊﬂt
 
	gm
 = 
A
(0,
i
)/(
	gB
[i-1]?B[i-1]:
ïsû⁄
);

16552 
	gB
[
i
] -
m
*
A
(2,i-1);

16553 
	gV
[
i
] -
m
*
V
[i-1];

16555 (*
	gthis
)[
siz
-1] = (
T
)(
V
[siz-1]/(
B
[siz-1]?B[siz-1]:
ïsû⁄
));

16556 
	gi
 = ()
siz
 - 2; i>=0; --iË(*
	gthis
)[
i
] = (
T
)((
V
[i] - 
A
(2,i)*(*this)[i+1])/(
	gB
[i]?B[i]:
ïsû⁄
));

16557  *
	gthis
;

16561 
	gãm∂©e
<
ty≥«me
 
	gt
>

16562 
	gCImg
<
	g_cimg_TtÊﬂt
> 
gë_sﬁve_åidüg⁄Æ
(c⁄° 
CImg
<
t
>& 
A
) const {

16563  
	gCImg
<
	g_cimg_TtÊﬂt
>(*
	gthis
,
	gÁl£
).
sﬁve_åidüg⁄Æ
(
A
);

16571 
	gãm∂©e
<
ty≥«me
 
	gt
>

16572 c⁄° 
	gCImg
<
	gT
>& 
eigí
(
CImg
<
t
>& 
vÆ
, CImg<t> &
vec
) const {

16573 i‡(
is_em±y
()Ë{ 
	gvÆ
.
assign
(); 
	gvec
.assign(); }

16575 i‡(
	g_width
!=
_height
 || 
_dïth
>1 || 
_•e˘rum
>1)

16576 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


16578 
cimg_ö°™˚
);

16580 i‡(
	gvÆ
.
size
()<()
	g_width
ËvÆ.
assign
(1,
_width
);

16581 i‡(
	gvec
.
size
()<()
_width
*
	g_width
Ëvec.
assign
(_width,_width);

16582 
	g_width
) {

16583 1 : { 
vÆ
[0] = (
t
)(*
this
)[0]; 
	gvec
[0] = (t)1; } ;

16585 c⁄° 
a
 = (*
this
)[0], 
	gb
 = (*this)[1], 
	gc
 = (*this)[2], 
	gd
 = (*this)[3], 
	ge
 =á + 
d
;

16586 
	gf
 = 
e
*ê- 4*(
a
*
d
 - 
b
*
c
);

16587 i‡(
	gf
<0)

16588 
	gcimg
::
w¨n
(
_cimg_ö°™˚


16590 
cimg_ö°™˚
);

16592 
	gf
 = 
°d
::
sqπ
(
f
);

16593 c⁄° 
	gl1
 = 0.5*(
e
-
f
), 
	gl2
 = 0.5*(e+f);

16594 c⁄° 
	gthëa1
 = 
°d
::
©™2
(
l2
-
a
,
b
), 
	gthëa2
 = std::©™2(
l1
-a,b);

16595 
	gvÆ
[0] = (
t
)
l2
;

16596 
	gvÆ
[1] = (
t
)
l1
;

16597 
vec
(0,0Ë(
t
)
°d
::
cos
(
thëa1
);

16598 
vec
(0,1Ë(
t
)
°d
::
sö
(
thëa1
);

16599 
vec
(1,0Ë(
t
)
°d
::
cos
(
thëa2
);

16600 
vec
(1,1Ë(
t
)
°d
::
sö
(
thëa2
);

16603 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


16605 
cimg_ö°™˚
);

16608  *
	gthis
;

16615 
	gCImgLi°
<
	gTÊﬂt
> 
gë_eigí
() const {

16616 
	gCImgLi°
<
	gTÊﬂt
> 
ªs
(2);

16617 
eigí
(
ªs
[0],res[1]);

16618  
	gªs
;

16626 
	gãm∂©e
<
ty≥«me
 
	gt
>

16627 c⁄° 
	gCImg
<
	gT
>& 
symmëric_eigí
(
CImg
<
t
>& 
vÆ
, CImg<t>& 
vec
) const {

16628 i‡(
is_em±y
()Ë{ 
	gvÆ
.
assign
(); 
	gvec
.assign(); }

16630 #ifde‡
cimg_u£_œ∑ck


16631 
	gJOB
 = 'V', 
	gUPLO
 = 'U';

16632 
	gN
 = 
_width
, 
	gLWORK
 = 4*
N
, 
	gINFO
;

16633 
TÊﬂt


16634 *c⁄° 
	gœpA
 = 
√w
 
TÊﬂt
[
N
*N],

16635 *c⁄° 
	gœpW
 = 
√w
 
TÊﬂt
[
N
],

16636 *c⁄° 
	gWORK
 = 
√w
 
TÊﬂt
[
LWORK
];

16637 
cimg_f‹XY
(*
this
,
k
,
l
Ë
	gœpA
[k*
N
+l] = (
TÊﬂt
)((*this)(k,
	gl
));

16638 
	gcimg
::
syev
(
JOB
,
UPLO
,
N
,
œpA
,
œpW
,
WORK
,
LWORK
,
INFO
);

16639 i‡(
	gINFO
)

16640 
	gcimg
::
w¨n
(
_cimg_ö°™˚


16642 
cimg_ö°™˚
,

16643 
INFO
);

16645 
	gvÆ
.
assign
(1,
N
);

16646 
	gvec
.
assign
(
N
,N);

16647 i‡(!
	gINFO
) {

16648 
cimg_f‹Y
(
vÆ
,
i
ËvÆ(iË(
T
)
œpW
[
N
-1-i];

16649 
cimg_f‹XY
(
vec
,
k
,
l
Ëvec(k,lË(
T
)(
œpA
[(
N
-1-k)*N+l]);

16650 } { 
	gvÆ
.
fûl
(0); 
	gvec
.fill(0); }

16651 
	gdñëe
[] 
	gœpA
; dñëe[] 
	gœpW
; dñëe[] 
	gWORK
;

16653 i‡(
	g_width
!=
_height
 || 
_dïth
>1 || 
_•e˘rum
>1)

16654 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


16656 
cimg_ö°™˚
);

16658 
	gvÆ
.
assign
(1,
_width
);

16659 i‡(
	gvec
.
	g_d©a
Ëvec.
assign
(
_width
,_width);

16660 i‡(
	g_width
<3) {

16661 
eigí
(
vÆ
,
vec
);

16662 i‡(
	g_width
==2Ë{ 
vec
[1] = -vec[2]; 
	gvec
[3] = vec[0]; }

16663  *
	gthis
;

16665 
	gCImg
<
	gt
> 
V
(
_width
,_width);

16666 
SVD
(
vec
,
vÆ
,
V
,
Ál£
);

16667 
boﬁ
 
	gis_ambiguous
 = 
Ál£
;

16668 
	geig
 = 0;

16669 
cimg_f‹Y
(
vÆ
,
p
) {

16670 i‡(
	gvÆ
[
p
]>
	geig
Ëeig = ()
vÆ
[p];

16671 
t
 
	gsˇl
 = 0;

16672 
cimg_f‹Y
(
vec
,
y
Ë
	gsˇl
+=vec(
p
,y)*
V
(p,y);

16673 i‡(
	gcimg
::
abs
(
sˇl
)<0.9fË
is_ambiguous
 = 
åue
;

16674 i‡(
	gsˇl
<0Ë
	gvÆ
[
p
] = -
vÆ
[p];

16676 i‡(
	gis_ambiguous
) {

16677 ++(
	geig
*=2);

16678 
SVD
(
vec
,
vÆ
,
V
,
Ál£
,40,
eig
);

16679 
	gvÆ
-=
eig
;

16681 
	gCImg
<
	götT
> 
	g≥rmuèti⁄s
;

16682 
	gCImg
<
	gt
> 
tmp
(
_width
);

16683 
	gvÆ
.
s‹t
(
≥rmuèti⁄s
,
Ál£
);

16684 
cimg_f‹Y
(
vec
,
k
) {

16685 
cimg_f‹Y
(
≥rmuèti⁄s
,
y
Ë
tmp
(yË
vec
’îmuèti⁄s(y),
k
);

16686 
	g°d
::
mem˝y
(
vec
.
d©a
(0,
k
),
tmp
.
_d©a
,(
t
)*
_width
);

16690  *
	gthis
;

16697 
	gCImgLi°
<
	gTÊﬂt
> 
gë_symmëric_eigí
() const {

16698 
	gCImgLi°
<
	gTÊﬂt
> 
ªs
(2);

16699 
symmëric_eigí
(
ªs
[0],res[1]);

16700  
	gªs
;

16708 
	gãm∂©e
<
ty≥«me
 
	gt
>

16709 
	gCImg
<
	gT
>& 
s‹t
(
CImg
<
t
>& 
≥rmuèti⁄s
, c⁄° 
boﬁ
 
is_ö¸ósög
=
åue
) {

16710 
≥rmuèti⁄s
.
assign
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

16711 i‡(
is_em±y
()Ë *
	gthis
;

16712 
cimg_f‹off
(
≥rmuèti⁄s
,
off
Ë
	g≥rmuèti⁄s
[off] = (
t
)off;

16713  
_quicks‹t
(0,
size
()-1,
≥rmuèti⁄s
,
is_ö¸ósög
,
åue
);

16717 
	gãm∂©e
<
ty≥«me
 
	gt
>

16718 
	gCImg
<
	gT
> 
gë_s‹t
(
CImg
<
t
>& 
≥rmuèti⁄s
, c⁄° 
boﬁ
 
is_ö¸ósög
=
åue
) const {

16719  (+*
this
).
s‹t
(
≥rmuèti⁄s
,
is_ö¸ósög
);

16732 
	gCImg
<
	gT
>& 
s‹t
(c⁄° 
boﬁ
 
is_ö¸ósög
=
åue
, c⁄° 
axis
=0) {

16733 i‡(
is_em±y
()Ë *
this
;

16734 
	gCImg
<
	guötT
> 
	g≥rm
;

16735 
	gcimg
::
unˇ£
(
axis
)) {

16737 
_quicks‹t
(0,
size
()-1,
≥rm
,
is_ö¸ósög
,
Ál£
);

16740 
≥rm
.
assign
(
_width
);

16741 
gë_¸›
(0,0,0,0,
_width
-1,0,0,0).
s‹t
(
≥rm
,
is_ö¸ósög
);

16742 
	gCImg
<
	gT
> 
img
(*
this
,
Ál£
);

16743 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë(*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
Ë
img
(
≥rm
[x],y,z,c);

16746 
≥rm
.
assign
(
_height
);

16747 
gë_¸›
(0,0,0,0,0,
_height
-1,0,0).
s‹t
(
≥rm
,
is_ö¸ósög
);

16748 
	gCImg
<
	gT
> 
img
(*
this
,
Ál£
);

16749 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë(*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
Ë
img
(x,
≥rm
[y],z,c);

16752 
≥rm
.
assign
(
_dïth
);

16753 
gë_¸›
(0,0,0,0,0,0,
_dïth
-1,0).
s‹t
(
≥rm
,
is_ö¸ósög
);

16754 
	gCImg
<
	gT
> 
img
(*
this
,
Ál£
);

16755 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë(*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
Ë
img
(x,y,
≥rm
[z],c);

16758 
≥rm
.
assign
(
_•e˘rum
);

16759 
gë_¸›
(0,0,0,0,0,0,0,
_•e˘rum
-1).
s‹t
(
≥rm
,
is_ö¸ósög
);

16760 
	gCImg
<
	gT
> 
img
(*
this
,
Ál£
);

16761 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë(*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
Ë
img
(x,y,z,
≥rm
[c]);

16764 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


16767 
cimg_ö°™˚
,
axis
);

16769  *
	gthis
;

16773 
	gCImg
<
	gT
> 
gë_s‹t
(c⁄° 
boﬁ
 
is_ö¸ósög
=
åue
, c⁄° 
axis
=0) const {

16774  (+*
this
).
s‹t
(
is_ö¸ósög
,
axis
);

16777 
	gãm∂©e
<
ty≥«me
 
	gt
>

16778 
	gCImg
<
	gT
>& 
_quicks‹t
(c⁄° 
ödm
, c⁄° 
ödM
, 
CImg
<
t
>& 
≥rmuèti⁄s
, c⁄° 
boﬁ
 
is_ö¸ósög
, c⁄° boﬁ 
is_≥rmuèti⁄s
) {

16779 i‡(
	gödm
<
	gödM
) {

16780 c⁄° 
	gmid
 = (
ödm
 + 
ödM
)/2;

16781 i‡(
	gis_ö¸ósög
) {

16782 i‡((*
	gthis
)[
ödm
]>(*this)[
mid
]) {

16783 
	gcimg
::
sw≠
((*
this
)[
ödm
],(*this)[
mid
]); i‡(
	gis_≥rmuèti⁄s
Ëcimg::sw≠(
≥rmuèti⁄s
[indm],permutations[mid]);

16785 i‡((*
	gthis
)[
mid
]>(*this)[
ödM
]) {

16786 
	gcimg
::
sw≠
((*
this
)[
ödM
],(*this)[
mid
]); i‡(
	gis_≥rmuèti⁄s
Ëcimg::sw≠(
≥rmuèti⁄s
[indM],permutations[mid]);

16788 i‡((*
	gthis
)[
ödm
]>(*this)[
mid
]) {

16789 
	gcimg
::
sw≠
((*
this
)[
ödm
],(*this)[
mid
]); i‡(
	gis_≥rmuèti⁄s
Ëcimg::sw≠(
≥rmuèti⁄s
[indm],permutations[mid]);

16792 i‡((*
	gthis
)[
ödm
]<(*this)[
mid
]) {

16793 
	gcimg
::
sw≠
((*
this
)[
ödm
],(*this)[
mid
]); i‡(
	gis_≥rmuèti⁄s
Ëcimg::sw≠(
≥rmuèti⁄s
[indm],permutations[mid]);

16795 i‡((*
	gthis
)[
mid
]<(*this)[
ödM
]) {

16796 
	gcimg
::
sw≠
((*
this
)[
ödM
],(*this)[
mid
]); i‡(
	gis_≥rmuèti⁄s
Ëcimg::sw≠(
≥rmuèti⁄s
[indM],permutations[mid]);

16798 i‡((*
	gthis
)[
ödm
]<(*this)[
mid
]) {

16799 
	gcimg
::
sw≠
((*
this
)[
ödm
],(*this)[
mid
]); i‡(
	gis_≥rmuèti⁄s
Ëcimg::sw≠(
≥rmuèti⁄s
[indm],permutations[mid]);

16802 i‡(
	gödM
 - 
	gödm
>=3) {

16803 c⁄° 
T
 
pivŸ
 = (*
this
)[
mid
];

16804 
	gi
 = 
ödm
, 
	gj
 = 
ödM
;

16805 i‡(
	gis_ö¸ósög
) {

16807 (*
	gthis
)[
i
]<
	gpivŸ
Ë++
	gi
;

16808 (*
	gthis
)[
j
]>
	gpivŸ
Ë--
	gj
;

16809 i‡(
	gi
<=
j
) {

16810 i‡(
is_≥rmuèti⁄s
Ë
cimg
::
sw≠
(
≥rmuèti⁄s
[
i
],≥rmuèti⁄s[
j
]);

16811 
	gcimg
::
sw≠
((*
this
)[
i
++],(*this)[
j
--]);

16813 } 
	gi
<=
j
);

16816 (*
	gthis
)[
i
]>
	gpivŸ
Ë++
	gi
;

16817 (*
	gthis
)[
j
]<
	gpivŸ
Ë--
	gj
;

16818 i‡(
	gi
<=
j
) {

16819 i‡(
is_≥rmuèti⁄s
Ë
cimg
::
sw≠
(
≥rmuèti⁄s
[
i
],≥rmuèti⁄s[
j
]);

16820 
	gcimg
::
sw≠
((*
this
)[
i
++],(*this)[
j
--]);

16822 } 
	gi
<=
j
);

16824 i‡(
	gödm
<
	gj
Ë
_quicks‹t
(
ödm
,
j
,
≥rmuèti⁄s
,
is_ö¸ósög
,
is_≥rmuèti⁄s
);

16825 i‡(
	gi
<
	gödM
Ë
_quicks‹t
(
i
,
ödM
,
≥rmuèti⁄s
,
is_ö¸ósög
,
is_≥rmuèti⁄s
);

16828  *
	gthis
;

16848 
	gãm∂©e
<
ty≥«me
 
	gt
>

16849 c⁄° 
	gCImg
<
	gT
>& 
SVD
(
CImg
<
t
>& 
U
, CImg<t>& 
S
, CImg<t>& 
V
, c⁄° 
boﬁ
 
s‹tög
=
åue
,

16850 c⁄° 
max_ôî©i⁄
=40, c⁄° 
œmbda
=0) const {

16851 i‡(
is_em±y
()Ë{ 
U
.
assign
(); 
	gS
.assign(); 
	gV
.assign(); }

16853 
	gU
 = *
this
;

16854 i‡(
	gœmbda
!=0) {

16855 c⁄° 
dñè
 = 
cimg
::
mö
(
U
.
_width
,U.
_height
);

16856 
	gi
 = 0; i<
	gdñè
; ++iË
U
(
i
,iË(
t
)(U(i,iË+ 
	gœmbda
);

16858 i‡(
	gS
.
size
()<
	g_width
ËS.
assign
(1,
_width
);

16859 i‡(
	gV
.
	g_width
<_width || V.
	g_height
<_heightËV.
assign
(
_width
,_width);

16860 
	gCImg
<
	gt
> 
rv1
(
_width
);

16861 
t
 
	g™‹m
 = 0, 
	gc
, 
	gf
, 
	gg
 = 0, 
	gh
, 
	gs
, 
	gsˇÀ
 = 0;

16862 
	gl
 = 0, 
	gnm
 = 0;

16864 
cimg_f‹X
(
U
,
i
) {

16865 
	gl
 = 
i
+1; 
	grv1
[i] = 
sˇÀ
*
g
; 
	gg
 = 
s
 = scale = 0;

16866 i‡(
	gi
<
height
()) {

16867 
	gk
 = 
i
; k<
height
(); ++kË
	gsˇÀ
+
cimg
::
abs
(
U
(i,
k
));

16868 i‡(
	gsˇÀ
) {

16869 
	gk
 = 
i
; k<
height
(); ++kË{ 
U
(i,
k
)/=
sˇÀ
; 
	gs
+= U(i,k)*U(i,k); }

16870 
	gf
 = 
U
(
i
,i); 
	gg
 = (
t
)((
f
>=0?-1:1)*
°d
::
sqπ
(
s
)); 
	gh
=f*
g
-s; U(i,i) = f-g;

16871 
	gj
 = 
l
; j<
width
(); ++j) {

16872 
	gs
 = 0;

16873 
	gk
=
i
; k<
height
(); ++kË
	gs
+
U
(i,
k
)*U(
j
,k);

16874 
	gf
 = 
s
/
h
;

16875 
	gk
 = 
i
; k<
height
(); ++kË
U
(
j
,
k
)+
f
*U(i,k);

16877 
	gk
 = 
i
; k<
height
(); ++kË
U
(i,
k
)*
sˇÀ
;

16880 
	gS
[
i
]=
sˇÀ
*
g
;

16882 
	gg
 = 
s
 = 
sˇÀ
 = 0;

16883 i‡(
	gi
<
height
(Ë&& i!=
width
()-1) {

16884 
k
 = 
l
; 
	gk
<
width
(); ++kË
	gsˇÀ
+=
cimg
::
abs
(
U
(k,
i
));

16885 i‡(
	gsˇÀ
) {

16886 
	gk
 = 
l
; k<
width
(); ++kË{ 
U
(
k
,
i
)/
sˇÀ
; 
	gs
+= U(k,i)*U(k,i); }

16887 
	gf
 = 
U
(
l
,
i
); 
	gg
 = (
t
)((
f
>=0?-1:1)*
°d
::
sqπ
(
s
)); 
	gh
 = f*
g
-s; U(l,i) = f-g;

16888 
	gk
 = 
l
; k<
width
(); ++kË
	grv1
[
k
]=
U
(k,
i
)/
	gh
;

16889 
	gj
 = 
l
; j<
height
(); ++j) {

16890 
	gs
 = 0;

16891 
	gk
 = 
l
; k<
width
(); ++kË
	gs
+
U
(
k
,
j
)*U(k,
i
);

16892 
	gk
 = 
l
; k<
width
(); ++kË
U
(
k
,
j
)+
s
*
rv1
[k];

16894 
	gk
 = 
l
; k<
width
(); ++kË
U
(
k
,
i
)*
sˇÀ
;

16897 
	g™‹m
 = (
t
)
cimg
::
max
(()
™‹m
,()(cimg::
abs
(
S
[
i
])+cimg::abs(
rv1
[i])));

16900 
	gi
 = 
width
()-1; i>=0; --i) {

16901 i‡(
	gi
<
width
()-1) {

16902 i‡(
	gg
) {

16903 
	gj
 = 
l
; j<
width
(); ++jË
V
(
i
,
j
Ë=(
U
(j,i)/U÷,i))/
	gg
;

16904 
	gj
 = 
l
; j<
width
(); ++j) {

16905 
	gs
 = 0;

16906 
	gk
 = 
l
; k<
width
(); ++kË
	gs
+
U
(
k
,
i
)*
V
(
j
,k);

16907 
	gk
 = 
l
; k<
width
(); ++kË
V
(
j
,
k
)+
s
*V(
i
,k);

16910 
	gj
 = 
l
; j<
width
(); ++jË
V
(
j
,
i
ËV(i,jË(
t
)0.0;

16912 
V
(
i
,iË(
t
)1.0; 
	gg
 = 
rv1
[i]; 
	gl
 = i;

16915 
	gi
 = 
cimg
::
mö
(
width
(),
height
())-1; i>=0; --i) {

16916 
	gl
 = 
i
+1; 
	gg
 = 
S
[i];

16917 
	gj
 = 
l
; j<
width
(); ++jË
U
(
j
,
i
) = 0;

16918 i‡(
	gg
) {

16919 
	gg
 = 1/
g
;

16920 
	gj
 = 
l
; j<
width
(); ++j) {

16921 
	gs
 = 0; 
	gk
 = 
l
; k<
height
(); ++kËs+
U
(
i
,
k
)*U(
j
,k);

16922 
	gf
 = (
s
/
U
(
i
,i))*
	gg
;

16923 
	gk
 = 
i
; k<
height
(); ++kË
U
(
j
,
k
)+
f
*U(i,k);

16925 
	gj
 = 
i
; j<
height
(); ++jË
U
(i,
j
)*
g
;

16926 } 
	gj
 = 
i
; j<
height
(); ++jË
U
(i,
j
) = 0;

16927 ++
U
(
i
,i);

16930 
	gk
 = 
width
()-1; k>=0; --k) {

16931 
	gôs
 = 0; its<
	gmax_ôî©i⁄
; ++its) {

16932 
boﬁ
 
	gÊag
 = 
åue
;

16933 
	gl
 = 
k
;Ü>=1; --l) {

16934 
	gnm
 = 
l
-1;

16935 i‡((
	gcimg
::
abs
(
rv1
[
l
])+
™‹m
)=˜n‹mË{ 
Êag
 = 
Ál£
; ; }

16936 i‡((
	gcimg
::
abs
(
S
[
nm
])+
™‹m
)==anorm) ;

16938 i‡(
	gÊag
) {

16939 
	gc
 = 0; 
	gs
 = 1;

16940 
	gi
 = 
l
; i<=
k
; ++i) {

16941 
	gf
 = 
s
*
rv1
[
i
]; 
	grv1
[i] = 
c
*rv1[i];

16942 i‡((
	gcimg
::
abs
(
f
)+
™‹m
)==anorm) ;

16943 
	gg
 = 
S
[
i
]; 
	gh
 = (
t
)
cimg
::
_pythag‹e
(
f
,
g
); 
	gS
[i] = 
h
; h = 1/h; 
	gc
 = g*h; 
	gs
 = -f*h;

16944 
cimg_f‹Y
(
U
,
j
Ë{ c⁄° 
t
 
	gy
 = U(
nm
,j), 
	gz
 = U(
i
,j); U“m,jË
y
*
c
 + 
z
*
s
; U(i,j) = z*c - y*s; }

16947 c⁄° 
t
 
	gz
 = 
S
[
k
];

16948 i‡(
	gl
==
k
Ë{ i‡(
z
<0Ë{ 
S
[k] = -z; 
cimg_f‹X
(
U
,
j
Ë
V
(k,j) = -V(k,j); } ; }

16949 
	gnm
 = 
k
-1;

16950 
t
 
	gx
 = 
S
[
l
], 
	gy
 = S[
nm
];

16951 
	gg
 = 
rv1
[
nm
]; 
	gh
 =Ñv1[
k
];

16952 
	gf
 = ((
y
-
z
)*(y+z)+(
g
-
h
)*(g+h))/(2*h*y);

16953 
	gg
 = (
t
)
cimg
::
_pythag‹e
(
f
,1.0);

16954 
	gf
 = ((
x
-
z
)*(x+z)+
h
*((
y
/(
f
+ (f>=0?
g
:-g)))-h))/x;

16955 
	gc
 = 
s
 = 1;

16956 
	gj
 = 
l
; j<=
nm
; ++j) {

16957 c⁄° 
	gi
 = 
j
+1;

16958 
	gg
 = 
rv1
[
i
]; 
	gh
 = 
s
*
g
; g = 
c
*g;

16959 
t
 
	gy
 = 
S
[
i
];

16960 
t
 
	gz
 = (t)
cimg
::
_pythag‹e
(
f
,
h
);

16961 
	grv1
[
j
] = 
z
; 
	gc
 = 
f
/z; 
	gs
 = 
h
/z;

16962 
	gf
 = 
x
*
c
+
g
*
s
; 
	gg
 = g*c-x*s; 
	gh
 = 
y
*s; 
	gy
*=c;

16963 
cimg_f‹X
(
U
,
jj
Ë{ c⁄° 
t
 
	gx
 = 
V
(
j
,jj), 
	gz
 = V(
i
,jj); V(j,jjË
x
*
c
 + 
z
*
s
; V(i,jj) = z*c - x*s; }

16964 
	gz
 = (
t
)
cimg
::
_pythag‹e
(
f
,
h
); 
	gS
[
j
] = 
z
;

16965 i‡(
	gz
Ë{ z = 1/
z
; 
	gc
 = 
f
*z; 
	gs
 = 
h
*z; }

16966 
	gf
 = 
c
*
g
+
s
*
y
; 
	gx
 = c*y-s*g;

16967 
cimg_f‹Y
(
U
,
jj
Ë{ c⁄° 
t
 
	gy
 = U(
j
,jj); 
	gz
 = U(
i
,jj); U(j,jjË
y
*
c
 + 
z
*
s
; U(i,jj) = z*c - y*s; }

16969 
	grv1
[
l
] = 0;Ñv1[
k
]=
f
; 
	gS
[k]=
x
;

16973 i‡(
	gs‹tög
) {

16974 
	gCImg
<
	götT
> 
	g≥rmuèti⁄s
;

16975 
	gCImg
<
	gt
> 
tmp
(
_width
);

16976 
	gS
.
s‹t
(
≥rmuèti⁄s
,
Ál£
);

16977 
cimg_f‹Y
(
U
,
k
) {

16978 
cimg_f‹Y
(
≥rmuèti⁄s
,
y
Ë
tmp
(yË
U
’îmuèti⁄s(y),
k
);

16979 
	g°d
::
mem˝y
(
U
.
d©a
(0,
k
),
tmp
.
_d©a
,(
t
)*
_width
);

16981 
cimg_f‹Y
(
V
,
k
) {

16982 
cimg_f‹Y
(
≥rmuèti⁄s
,
y
Ë
tmp
(yË
V
’îmuèti⁄s(y),
k
);

16983 
	g°d
::
mem˝y
(
V
.
d©a
(0,
k
),
tmp
.
_d©a
,(
t
)*
_width
);

16987  *
	gthis
;

16994 
	gCImgLi°
<
	gTÊﬂt
> 
gë_SVD
(c⁄° 
boﬁ
 
s‹tög
=
åue
,

16995 c⁄° 
max_ôî©i⁄
=40, c⁄° 
œmbda
=0) const {

16996 
CImgLi°
<
TÊﬂt
> 
ªs
(3);

16997 
SVD
(
ªs
[0],ªs[1],ªs[2],
s‹tög
,
max_ôî©i⁄
,
œmbda
);

16998  
	gªs
;

17002 
	gãm∂©e
<
ty≥«me
 
	gt
>

17003 
	gCImg
<
	gT
>& 
_LU
(
CImg
<
t
>& 
ödx
, 
boﬁ
& 
d
) {

17004 c⁄° 
	gN
 = 
width
();

17005 
	gimax
 = 0;

17006 
	gCImg
<
	gTÊﬂt
> 
vv
(
N
);

17007 
	gödx
.
assign
(
N
);

17008 
	gd
 = 
åue
;

17009 
cimg_f‹X
(*
this
,
i
) {

17010 
TÊﬂt
 
	gvmax
 = 0;

17011 
cimg_f‹X
(*
this
,
j
) {

17012 c⁄° 
TÊﬂt
 
	gtmp
 = 
cimg
::
abs
((*
this
)(
j
,
i
));

17013 i‡(
	gtmp
>
	gvmax
Ëvmax = 
tmp
;

17015 i‡(
	gvmax
==0Ë{ 
ödx
.
fûl
(0);  fill(0); }

17016 
	gvv
[
i
] = 1/
vmax
;

17018 
cimg_f‹X
(*
this
,
j
) {

17019 
	gi
 = 0; i<
	gj
; ++i) {

17020 
TÊﬂt
 
	gsum
=(*
this
)(
j
,
	gi
);

17021 
	gk
 = 0; k<
	gi
; ++kË
	gsum
-=(*
this
)(
k
,i)*(*
	gthis
)(
	gj
,k);

17022 (*
	gthis
)(
	gj
,
	gi
Ë(
T
)
sum
;

17024 
TÊﬂt
 
	gvmax
 = 0;

17025 
	gi
 = 
j
; i<
width
(); ++i) {

17026 
TÊﬂt
 
	gsum
=(*
this
)(
j
,
	gi
);

17027 
	gk
 = 0; k<
	gj
; ++kË
	gsum
-=(*
this
)(
k
,
	gi
)*(*
	gthis
)(j,k);

17028 (*
	gthis
)(
	gj
,
	gi
Ë(
T
)
sum
;

17029 c⁄° 
TÊﬂt
 
	gtmp
 = 
vv
[
i
]*
cimg
::
abs
(
sum
);

17030 i‡(
	gtmp
>=
vmax
Ë{ vmax=
tmp
; 
	gimax
=
i
; }

17032 i‡(
	gj
!=
imax
) {

17033 
cimg_f‹X
(*
this
,
k
Ë
cimg
::
sw≠
((*this)(k,
imax
),(*this)(k,
j
));

17034 
	gd
 =!
d
;

17035 
	gvv
[
imax
] = 
vv
[
j
];

17037 
	gödx
[
j
] = (
t
)
imax
;

17038 i‡((*
	gthis
)(
	gj
,j)==0Ë(*
this
)(
j
,jË(
T
)1e-20;

17039 i‡(
	gj
<
	gN
) {

17040 c⁄° 
TÊﬂt
 
	gtmp
 = 1/(TÊﬂt)(*
this
)(
j
,
	gj
);

17041 
	gi
=
j
+1; i<
	gN
; ++iË(*
	gthis
)(
	gj
,iË(
T
)((*
this
)(j,i)*
	gtmp
);

17044  *
	gthis
;

17056 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gt
>

17057 
	gCImg
<
	gT
> 
dijk°ø
(c⁄° 
tf
& 
di°™˚
, c⁄° 
nb_nodes
,

17058 c⁄° 
°¨tög_node
, c⁄° 
ídög_node
,

17059 
CImg
<
t
>& 
¥evious_node
) {

17060 i‡(
	g°¨tög_node
>=
nb_nodes
)

17061 
throw
 
CImgArgumítEx˚±i⁄
("CImg<%s>::dijkstra(): Specified indice of startingÇode %u is higherÅhanÇumber ofÇodes %u.",

17062 
pixñ_ty≥
(),
°¨tög_node
,
nb_nodes
);

17063 
	gCImg
<
	gT
> 
di°
(1,
nb_nodes
,1,1,
cimg
::
ty≥
<
T
>::
max
());

17064 
di°
(
°¨tög_node
) = 0;

17065 
	g¥evious_node
.
assign
(1,
nb_nodes
,1,1,(
t
)-1);

17066 
¥evious_node
(
°¨tög_node
Ë(
t
)starting_node;

17067 
	gCImg
<
	guötT
> 
Q
(
nb_nodes
);

17068 
cimg_f‹X
(
Q
,
u
) Q(u) = u;

17069 
	gcimg
::
sw≠
(
Q
(
°¨tög_node
),Q(0));

17070 
	gsizeQ
 = 
nb_nodes
;

17071 
	gsizeQ
) {

17073 c⁄° 
	gumö
 = 
Q
(0);

17074 i‡(
	gumö
==
ídög_node
Ë
sizeQ
 = 0;

17076 c⁄° 
T
 
	gdmö
 = 
di°
(
umö
);

17077 c⁄° 
T
 
	gö·y
 = 
cimg
::
ty≥
<T>::
max
();

17078 
	gq
 = 1; q<
	gsizeQ
; ++q) {

17079 c⁄° 
	gv
 = 
Q
(
q
);

17080 c⁄° 
T
 
	gd
 = (T)
di°™˚
(
v
,
umö
);

17081 i‡(
	gd
<
	gö·y
) {

17082 c⁄° 
T
 
	gÆt
 = 
dmö
 + 
d
;

17083 i‡(
	gÆt
<
di°
(
v
)) {

17084 
di°
(
v
Ë
Æt
;

17085 
¥evious_node
(
v
Ë(
t
)
umö
;

17086 c⁄° 
T
 
	gdi°pos
 = 
di°
(
Q
(
q
));

17087 
	gpos
 = 
q
, 
	g∑r
 = 0;Öo†&& 
	gdi°pos
<
di°
(
Q
(
∑r
=(
pos
+1)/2-1));Öosı¨Ë
cimg
::
sw≠
(Q(pos),Q(par));

17092 
Q
(0ËQ(--
sizeQ
);

17093 c⁄° 
T
 
	gdi°pos
 = 
di°
(
Q
(0));

17094 
	gpos
 = 0, 
	gÀ·
 = 0, 
	gright
 = 0;

17095 ((
	gright
=2*(
pos
+1),(
	gÀ·
=
right
-1))<
sizeQ
 && 
di°pos
>
di°
(
Q
(
À·
))) || (right<sizeQ && distpos>dist(Q(right)));) {

17096 i‡(
	gright
<
	gsizeQ
) {

17097 i‡(
di°
(
Q
(
À·
))<di°(Q(
right
))Ë{ 
	gcimg
::
sw≠
(Q(
pos
),Q÷e·)); 
	gpos
 =Üeft; }

17098 { 
	gcimg
::
sw≠
(
Q
(
pos
),Q(
right
)); 
	gpos
 =Ñight; }

17099 } { 
	gcimg
::
sw≠
(
Q
(
pos
),Q(
À·
)); 
	gpos
 =Üeft; }

17103  
	gdi°
;

17107 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gt
>

17108 
	gCImg
<
	gT
> 
dijk°ø
(c⁄° 
tf
& 
di°™˚
, c⁄° 
nb_nodes
,

17109 c⁄° 
°¨tög_node
, c⁄° 
ídög_node
=~0U) {

17110 
CImg
<
uötT
> 
foo
;

17111  
dijk°ø
(
di°™˚
,
nb_nodes
,
°¨tög_node
,
ídög_node
,
foo
);

17122 
	gãm∂©e
<
ty≥«me
 
	gt
>

17123 
	gCImg
<
	gT
>& 
dijk°ø
(c⁄° 
°¨tög_node
, c⁄° 
ídög_node
, 
CImg
<
t
>& 
¥evious_node
) {

17124  
gë_dijk°ø
(
°¨tög_node
,
ídög_node
,
¥evious_node
).
move_to
(*
this
);

17128 
	gãm∂©e
<
ty≥«me
 
	gt
>

17129 
	gCImg
<
	gT
> 
gë_dijk°ø
(c⁄° 
°¨tög_node
, c⁄° 
ídög_node
, 
CImg
<
t
>& 
¥evious_node
) const {

17130 i‡(
	g_width
!=
_height
 || 
_dïth
!=1 || 
_•e˘rum
!=1)

17131 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


17133 
cimg_ö°™˚
);

17135  
dijk°ø
(*
this
,
_width
,
°¨tög_node
,
ídög_node
,
¥evious_node
);

17139 
	gCImg
<
	gT
>& 
dijk°ø
(c⁄° 
°¨tög_node
, c⁄° 
ídög_node
=~0U) {

17140  
gë_dijk°ø
(
°¨tög_node
,
ídög_node
).
move_to
(*
this
);

17144 
	gCImg
<
	gTÊﬂt
> 
gë_dijk°ø
(c⁄° 
°¨tög_node
, c⁄° 
ídög_node
=~0U) const {

17145 
CImg
<
uötT
> 
foo
;

17146  
gë_dijk°ø
(
°¨tög_node
,
ídög_node
,
foo
);

17154 
	gCImg
<
	gT
> 
°rög
(c⁄° *c⁄° 
°r
, c⁄° 
boﬁ
 
is_œ°_zîo
=
åue
) {

17155 i‡(!
°r
Ë 
CImg
<
T
>();

17156  
	gCImg
<
	gT
>(
	g°r
,
	g°d
::
°æí
(
°r
)+(
is_œ°_zîo
?1:0));

17163 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
) {

17164 
	gCImg
<
	gT
> 
r
(1,1);

17165 
	gr
[0] = 
a0
;

17166  
	gr
;

17174 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
) {

17175 
	gCImg
<
	gT
> 
r
(1,2); 
T
 *
	g±r
 =Ñ.
_d©a
;

17176 *(
	g±r
++Ë
a0
; *’å++Ë
a1
;

17177  
	gr
;

17186 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
) {

17187 
	gCImg
<
	gT
> 
r
(1,3); 
T
 *
	g±r
 =Ñ.
_d©a
;

17188 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
;

17189  
	gr
;

17199 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
) {

17200 
	gCImg
<
	gT
> 
r
(1,4); 
T
 *
	g±r
 =Ñ.
_d©a
;

17201 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17202  
	gr
;

17206 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
, c⁄° T& 
a4
) {

17207 
	gCImg
<
	gT
> 
r
(1,5); 
T
 *
	g±r
 =Ñ.
_d©a
;

17208 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
; *’å++Ë
a4
;

17209  
	gr
;

17213 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
, c⁄° T& 
a4
, c⁄° T& 
a5
) {

17214 
	gCImg
<
	gT
> 
r
(1,6); 
T
 *
	g±r
 =Ñ.
_d©a
;

17215 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
; *’å++Ë
a4
; *’å++Ë
a5
;

17216  
	gr
;

17220 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17221 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
) {

17222 
	gCImg
<
	gT
> 
r
(1,7); 
T
 *
	g±r
 =Ñ.
_d©a
;

17223 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17224 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
;

17225  
	gr
;

17229 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17230 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
) {

17231 
	gCImg
<
	gT
> 
r
(1,8); 
T
 *
	g±r
 =Ñ.
_d©a
;

17232 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17233 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17234  
	gr
;

17238 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17239 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17240 c⁄° 
T
& 
a8
) {

17241 
	gCImg
<
	gT
> 
r
(1,9); 
T
 *
	g±r
 =Ñ.
_d©a
;

17242 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17243 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17244 *(
	g±r
++Ë
a8
;

17245  
	gr
;

17249 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17250 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17251 c⁄° 
T
& 
a8
, c⁄° T& 
a9
) {

17252 
	gCImg
<
	gT
> 
r
(1,10); 
T
 *
	g±r
 =Ñ.
_d©a
;

17253 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17254 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17255 *(
	g±r
++Ë
a8
; *’å++Ë
a9
;

17256  
	gr
;

17260 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17261 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17262 c⁄° 
T
& 
a8
, c⁄° T& 
a9
, c⁄° T& 
a10
) {

17263 
	gCImg
<
	gT
> 
r
(1,11); 
T
 *
	g±r
 =Ñ.
_d©a
;

17264 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17265 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17266 *(
	g±r
++Ë
a8
; *’å++Ë
a9
; *’å++Ë
a10
;

17267  
	gr
;

17271 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17272 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17273 c⁄° 
T
& 
a8
, c⁄° T& 
a9
, c⁄° T& 
a10
, c⁄° T& 
a11
) {

17274 
	gCImg
<
	gT
> 
r
(1,12); 
T
 *
	g±r
 =Ñ.
_d©a
;

17275 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17276 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17277 *(
	g±r
++Ë
a8
; *’å++Ë
a9
; *’å++Ë
a10
; *’å++Ë
a11
;

17278  
	gr
;

17282 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17283 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17284 c⁄° 
T
& 
a8
, c⁄° T& 
a9
, c⁄° T& 
a10
, c⁄° T& 
a11
,

17285 c⁄° 
T
& 
a12
) {

17286 
	gCImg
<
	gT
> 
r
(1,13); 
T
 *
	g±r
 =Ñ.
_d©a
;

17287 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17288 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17289 *(
	g±r
++Ë
a8
; *’å++Ë
a9
; *’å++Ë
a10
; *’å++Ë
a11
;

17290 *(
	g±r
++Ë
a12
;

17291  
	gr
;

17295 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17296 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17297 c⁄° 
T
& 
a8
, c⁄° T& 
a9
, c⁄° T& 
a10
, c⁄° T& 
a11
,

17298 c⁄° 
T
& 
a12
, c⁄° T& 
a13
) {

17299 
	gCImg
<
	gT
> 
r
(1,14); 
T
 *
	g±r
 =Ñ.
_d©a
;

17300 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17301 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17302 *(
	g±r
++Ë
a8
; *’å++Ë
a9
; *’å++Ë
a10
; *’å++Ë
a11
;

17303 *(
	g±r
++Ë
a12
; *’å++Ë
a13
;

17304  
	gr
;

17308 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17309 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17310 c⁄° 
T
& 
a8
, c⁄° T& 
a9
, c⁄° T& 
a10
, c⁄° T& 
a11
,

17311 c⁄° 
T
& 
a12
, c⁄° T& 
a13
, c⁄° T& 
a14
) {

17312 
	gCImg
<
	gT
> 
r
(1,15); 
T
 *
	g±r
 =Ñ.
_d©a
;

17313 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17314 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17315 *(
	g±r
++Ë
a8
; *’å++Ë
a9
; *’å++Ë
a10
; *’å++Ë
a11
;

17316 *(
	g±r
++Ë
a12
; *’å++Ë
a13
; *’å++Ë
a14
;

17317  
	gr
;

17321 
	gCImg
<
	gT
> 
ve˘‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17322 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17323 c⁄° 
T
& 
a8
, c⁄° T& 
a9
, c⁄° T& 
a10
, c⁄° T& 
a11
,

17324 c⁄° 
T
& 
a12
, c⁄° T& 
a13
, c⁄° T& 
a14
, c⁄° T& 
a15
) {

17325 
	gCImg
<
	gT
> 
r
(1,16); 
T
 *
	g±r
 =Ñ.
_d©a
;

17326 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17327 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17328 *(
	g±r
++Ë
a8
; *’å++Ë
a9
; *’å++Ë
a10
; *’å++Ë
a11
;

17329 *(
	g±r
++Ë
a12
; *’å++Ë
a13
; *’å++Ë
a14
; *’å++Ë
a15
;

17330  
	gr
;

17338 
	gCImg
<
	gT
> 
m©rix
(c⁄° 
T
& 
a0
) {

17339  
ve˘‹
(
a0
);

17349 
	gCImg
<
	gT
> 
m©rix
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
,

17350 c⁄° 
T
& 
a2
, c⁄° T& 
a3
) {

17351 
	gCImg
<
	gT
> 
r
(2,2); 
T
 *
	g±r
 =Ñ.
_d©a
;

17352 *(
	g±r
++Ë
a0
; *’å++Ë
a1
;

17353 *(
	g±r
++Ë
a2
; *’å++Ë
a3
;

17354  
	gr
;

17369 
	gCImg
<
	gT
> 
m©rix
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
,

17370 c⁄° 
T
& 
a3
, c⁄° T& 
a4
, c⁄° T& 
a5
,

17371 c⁄° 
T
& 
a6
, c⁄° T& 
a7
, c⁄° T& 
a8
) {

17372 
	gCImg
<
	gT
> 
r
(3,3); 
T
 *
	g±r
 =Ñ.
_d©a
;

17373 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
;

17374 *(
	g±r
++Ë
a3
; *’å++Ë
a4
; *’å++Ë
a5
;

17375 *(
	g±r
++Ë
a6
; *’å++Ë
a7
; *’å++Ë
a8
;

17376  
	gr
;

17380 
	gCImg
<
	gT
> 
m©rix
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
,

17381 c⁄° 
T
& 
a4
, c⁄° T& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
,

17382 c⁄° 
T
& 
a8
, c⁄° T& 
a9
, c⁄° T& 
a10
, c⁄° T& 
a11
,

17383 c⁄° 
T
& 
a12
, c⁄° T& 
a13
, c⁄° T& 
a14
, c⁄° T& 
a15
) {

17384 
	gCImg
<
	gT
> 
r
(4,4); 
T
 *
	g±r
 =Ñ.
_d©a
;

17385 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
;

17386 *(
	g±r
++Ë
a4
; *’å++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
;

17387 *(
	g±r
++Ë
a8
; *’å++Ë
a9
; *’å++Ë
a10
; *’å++Ë
a11
;

17388 *(
	g±r
++Ë
a12
; *’å++Ë
a13
; *’å++Ë
a14
; *’å++Ë
a15
;

17389  
	gr
;

17393 
	gCImg
<
	gT
> 
m©rix
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
, c⁄° T& 
a4
,

17394 c⁄° 
T
& 
a5
, c⁄° T& 
a6
, c⁄° T& 
a7
, c⁄° T& 
a8
, c⁄° T& 
a9
,

17395 c⁄° 
T
& 
a10
, c⁄° T& 
a11
, c⁄° T& 
a12
, c⁄° T& 
a13
, c⁄° T& 
a14
,

17396 c⁄° 
T
& 
a15
, c⁄° T& 
a16
, c⁄° T& 
a17
, c⁄° T& 
a18
, c⁄° T& 
a19
,

17397 c⁄° 
T
& 
a20
, c⁄° T& 
a21
, c⁄° T& 
a22
, c⁄° T& 
a23
, c⁄° T& 
a24
) {

17398 
	gCImg
<
	gT
> 
r
(5,5); 
T
 *
	g±r
 =Ñ.
_d©a
;

17399 *(
	g±r
++Ë
a0
; *’å++Ë
a1
; *’å++Ë
a2
; *’å++Ë
a3
; *’å++Ë
a4
;

17400 *(
	g±r
++Ë
a5
; *’å++Ë
a6
; *’å++Ë
a7
; *’å++Ë
a8
; *’å++Ë
a9
;

17401 *(
	g±r
++Ë
a10
; *’å++Ë
a11
; *’å++Ë
a12
; *’å++Ë
a13
; *’å++Ë
a14
;

17402 *(
	g±r
++Ë
a15
; *’å++Ë
a16
; *’å++Ë
a17
; *’å++Ë
a18
; *’å++Ë
a19
;

17403 *(
	g±r
++Ë
a20
; *’å++Ë
a21
; *’å++Ë
a22
; *’å++Ë
a23
; *’å++Ë
a24
;

17404  
	gr
;

17412 
	gCImg
<
	gT
> 
ãns‹
(c⁄° 
T
& 
a0
) {

17413  
m©rix
(
a0
);

17417 
	gCImg
<
	gT
> 
ãns‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
) {

17418  
m©rix
(
a0
,
a1
,a1,
a2
);

17422 
	gCImg
<
	gT
> 
ãns‹
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
, c⁄° T& 
a4
, c⁄° T& 
a5
) {

17423  
m©rix
(
a0
,
a1
,
a2
,a1,
a3
,
a4
,a2,a4,
a5
);

17427 
	gCImg
<
	gT
> 
düg⁄Æ
(c⁄° 
T
& 
a0
) {

17428  
m©rix
(
a0
);

17432 
	gCImg
<
	gT
> 
düg⁄Æ
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
) {

17433  
m©rix
(
a0
,0,0,
a1
);

17437 
	gCImg
<
	gT
> 
düg⁄Æ
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
) {

17438  
m©rix
(
a0
,0,0,0,
a1
,0,0,0,
a2
);

17442 
	gCImg
<
	gT
> 
düg⁄Æ
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
) {

17443  
m©rix
(
a0
,0,0,0,0,
a1
,0,0,0,0,
a2
,0,0,0,0,
a3
);

17447 
	gCImg
<
	gT
> 
düg⁄Æ
(c⁄° 
T
& 
a0
, c⁄° T& 
a1
, c⁄° T& 
a2
, c⁄° T& 
a3
, c⁄° T& 
a4
) {

17448  
m©rix
(
a0
,0,0,0,0,0,
a1
,0,0,0,0,0,
a2
,0,0,0,0,0,
a3
,0,0,0,0,0,
a4
);

17455 
	gCImg
<
	gT
> 
idítôy_m©rix
(c⁄° 
N
) {

17456 
	gCImg
<
	gT
> 
ªs
(
N
,N,1,1,0);

17457 
cimg_f‹X
(
ªs
,
x
)Ñes(x,x) = 1;

17458  
	gªs
;

17467 
	gCImg
<
	gT
> 
£quí˚
(c⁄° 
N
, c⁄° 
T
 
a0
, c⁄° T 
a1
) {

17468 i‡(
	gN
Ë 
	gCImg
<
	gT
>(1,N).
£quí˚
(
a0
,
a1
);

17469  
	gCImg
<
	gT
>();

17480 
	gCImg
<
	gT
> 
rŸ©i⁄_m©rix
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
w
, c⁄° 
boﬁ
 
is_qu©îni⁄
=
Ál£
) {

17481 
X
,
Y
,
Z
,
W
;

17482 i‡(!
	gis_qu©îni⁄
) {

17483 c⁄° 
	gn‹m
 = ()
°d
::
sqπ
(
x
*x + 
y
*y + 
z
*z),

17484 
	gnx
 = 
n‹m
>0?
x
/norm:0,

17485 
	gny
 = 
n‹m
>0?
y
/norm:0,

17486 
	gnz
 = 
n‹m
>0?
z
/norm:1,

17487 
	gnw
 = 
n‹m
>0?
w
:0,

17488 
	gsöa
 = ()
°d
::
sö
(
nw
/2),

17489 
	gcoß
 = ()
°d
::
cos
(
nw
/2);

17490 
	gX
 = 
nx
*
söa
;

17491 
	gY
 = 
ny
*
söa
;

17492 
	gZ
 = 
nz
*
söa
;

17493 
	gW
 = 
coß
;

17495 c⁄° 
	gn‹m
 = ()
°d
::
sqπ
(
x
*x + 
y
*y + 
z
*z + 
w
*w);

17496 i‡(
	gn‹m
>0Ë{ 
	gX
 = 
x
/
n‹m
; 
	gY
 = 
y
/n‹m; 
	gZ
 = 
z
/n‹m; 
	gW
 = 
w
/norm; }

17497 { 
	gX
 = 
Y
 = 
Z
 = 0; 
	gW
 = 1; }

17499 c⁄° 
	gxx
 = 
X
*X, 
	gxy
 = X*
Y
, 
	gxz
 = X*
Z
, 
	gxw
 = X*
W
, 
	gyy
 = Y*Y, 
	gyz
 = Y*Z, 
	gyw
 = Y*W, 
	gzz
 = Z*Z, 
	gzw
 = Z*W;

17500  
	gCImg
<
	gT
>::
m©rix
((
T
)(1-2*(
yy
+
zz
)), (T)(2*(
xy
+
zw
)), (T)(2*(
xz
-
yw
)),

17501 (
T
)(2*(
xy
-
zw
)), (T)(1-2*(
xx
+
zz
)), (T)(2*(
yz
+
xw
)),

17502 (
T
)(2*(
xz
+
yw
)), (T)(2*(
yz
-
xw
)), (T)(1-2*(
xx
+
yy
)));

17516 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ
) {

17517 i‡(
is_em±y
()Ë *
	gthis
;

17518 i‡(
	gvÆ
 && (
	gT
)!=1Ë
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = 
vÆ
;

17519 
	g°d
::
mem£t
(
_d©a
,()
vÆ
,(
T
)*
size
());

17520  *
	gthis
;

17524 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ
) const {

17525  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ
);

17533 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
) {

17534 i‡(
is_em±y
()Ë *
	gthis
;

17535 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-1;

17536 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) { *’åd++Ë
vÆ0
; *’åd++Ë
vÆ1
; }

17537 i‡(
	g±rd
!=
±ª
+1Ë*(
±rd
++Ë
vÆ0
;

17538  *
	gthis
;

17542 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
) const {

17543  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
);

17547 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
) {

17548 i‡(
is_em±y
()Ë *
	gthis
;

17549 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-2;

17550 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) { *’åd++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; }

17551 
	g±ª
+=2;

17552 
	g±ª
 - 
	g±rd
) {

17553 2 : *(--
±ª
Ë
vÆ1
;

17554 1 : *(--
±ª
Ë
vÆ0
;

17556  *
	gthis
;

17560 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
) const {

17561  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
);

17565 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
) {

17566 i‡(
is_em±y
()Ë *
	gthis
;

17567 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-3;

17568 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) { *’åd++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; }

17569 
	g±ª
+=3;

17570 
	g±ª
 - 
	g±rd
) {

17571 3 : *(--
±ª
Ë
vÆ2
;

17572 2 : *(--
±ª
Ë
vÆ1
;

17573 1 : *(--
±ª
Ë
vÆ0
;

17575  *
	gthis
;

17579 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
) const {

17580  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
);

17584 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
) {

17585 i‡(
is_em±y
()Ë *
	gthis
;

17586 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-4;

17587 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) { *’åd++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
; }

17588 
	g±ª
+=4;

17589 
	g±ª
 - 
	g±rd
) {

17590 4 : *(--
±ª
Ë
vÆ3
;

17591 3 : *(--
±ª
Ë
vÆ2
;

17592 2 : *(--
±ª
Ë
vÆ1
;

17593 1 : *(--
±ª
Ë
vÆ0
;

17595  *
	gthis
;

17599 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
) const {

17600  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
);

17604 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
) {

17605 i‡(
is_em±y
()Ë *
	gthis
;

17606 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-5;

17607 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17608 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
; *’åd++Ë
vÆ5
;

17610 
	g±ª
+=5;

17611 
	g±ª
 - 
	g±rd
) {

17612 5 : *(--
±ª
Ë
vÆ4
;

17613 4 : *(--
±ª
Ë
vÆ3
;

17614 3 : *(--
±ª
Ë
vÆ2
;

17615 2 : *(--
±ª
Ë
vÆ1
;

17616 1 : *(--
±ª
Ë
vÆ0
;

17618  *
	gthis
;

17622 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
) const {

17623  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
);

17627 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
) {

17628 i‡(
is_em±y
()Ë *
	gthis
;

17629 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-6;

17630 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17631 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
; *’åd++Ë
vÆ5
; *’åd++Ë
vÆ6
;

17633 
	g±ª
+=6;

17634 
	g±ª
 - 
	g±rd
) {

17635 6 : *(--
±ª
Ë
vÆ5
;

17636 5 : *(--
±ª
Ë
vÆ4
;

17637 4 : *(--
±ª
Ë
vÆ3
;

17638 3 : *(--
±ª
Ë
vÆ2
;

17639 2 : *(--
±ª
Ë
vÆ1
;

17640 1 : *(--
±ª
Ë
vÆ0
;

17642  *
	gthis
;

17646 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
) const {

17647  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
);

17651 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17652 c⁄° 
T
 
vÆ7
) {

17653 i‡(
is_em±y
()Ë *
	gthis
;

17654 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-7;

17655 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17656 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
;

17657 *(
	g±rd
++Ë
vÆ4
; *’åd++Ë
vÆ5
; *’åd++Ë
vÆ6
; *’åd++Ë
vÆ7
;

17659 
	g±ª
+=7;

17660 
	g±ª
 - 
	g±rd
) {

17661 7 : *(--
±ª
Ë
vÆ6
;

17662 6 : *(--
±ª
Ë
vÆ5
;

17663 5 : *(--
±ª
Ë
vÆ4
;

17664 4 : *(--
±ª
Ë
vÆ3
;

17665 3 : *(--
±ª
Ë
vÆ2
;

17666 2 : *(--
±ª
Ë
vÆ1
;

17667 1 : *(--
±ª
Ë
vÆ0
;

17669  *
	gthis
;

17673 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17674 c⁄° 
T
 
vÆ7
) const {

17675  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
);

17679 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17680 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
) {

17681 i‡(
is_em±y
()Ë *
	gthis
;

17682 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-8;

17683 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17684 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
;

17685 *(
	g±rd
++Ë
vÆ3
; *’åd++Ë
vÆ4
; *’åd++Ë
vÆ5
;

17686 *(
	g±rd
++Ë
vÆ6
; *’åd++Ë
vÆ7
; *’åd++Ë
vÆ8
;

17688 
	g±ª
+=8;

17689 
	g±ª
 - 
	g±rd
) {

17690 8 : *(--
±ª
Ë
vÆ7
;

17691 7 : *(--
±ª
Ë
vÆ6
;

17692 6 : *(--
±ª
Ë
vÆ5
;

17693 5 : *(--
±ª
Ë
vÆ4
;

17694 4 : *(--
±ª
Ë
vÆ3
;

17695 3 : *(--
±ª
Ë
vÆ2
;

17696 2 : *(--
±ª
Ë
vÆ1
;

17697 1 : *(--
±ª
Ë
vÆ0
;

17699  *
	gthis
;

17703 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17704 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
) const {

17705  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
,
vÆ8
);

17709 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17710 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
) {

17711 i‡(
is_em±y
()Ë *
	gthis
;

17712 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-9;

17713 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17714 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
;

17715 *(
	g±rd
++Ë
vÆ5
; *’åd++Ë
vÆ6
; *’åd++Ë
vÆ7
; *’åd++Ë
vÆ8
; *’åd++Ë
vÆ9
;

17717 
	g±ª
+=9;

17718 
	g±ª
 - 
	g±rd
) {

17719 9 : *(--
±ª
Ë
vÆ8
;

17720 8 : *(--
±ª
Ë
vÆ7
;

17721 7 : *(--
±ª
Ë
vÆ6
;

17722 6 : *(--
±ª
Ë
vÆ5
;

17723 5 : *(--
±ª
Ë
vÆ4
;

17724 4 : *(--
±ª
Ë
vÆ3
;

17725 3 : *(--
±ª
Ë
vÆ2
;

17726 2 : *(--
±ª
Ë
vÆ1
;

17727 1 : *(--
±ª
Ë
vÆ0
;

17729  *
	gthis
;

17733 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17734 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
) const {

17735  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
,
vÆ8
,
vÆ9
);

17739 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17740 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
) {

17741 i‡(
is_em±y
()Ë *
	gthis
;

17742 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-10;

17743 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17744 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
;

17745 *(
	g±rd
++Ë
vÆ5
; *’åd++Ë
vÆ6
; *’åd++Ë
vÆ7
; *’åd++Ë
vÆ8
; *’åd++Ë
vÆ9
;

17746 *(
	g±rd
++Ë
vÆ10
;

17748 
	g±ª
+=10;

17749 
	g±ª
 - 
	g±rd
) {

17750 10 : *(--
±ª
Ë
vÆ9
;

17751 9 : *(--
±ª
Ë
vÆ8
;

17752 8 : *(--
±ª
Ë
vÆ7
;

17753 7 : *(--
±ª
Ë
vÆ6
;

17754 6 : *(--
±ª
Ë
vÆ5
;

17755 5 : *(--
±ª
Ë
vÆ4
;

17756 4 : *(--
±ª
Ë
vÆ3
;

17757 3 : *(--
±ª
Ë
vÆ2
;

17758 2 : *(--
±ª
Ë
vÆ1
;

17759 1 : *(--
±ª
Ë
vÆ0
;

17761  *
	gthis
;

17765 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17766 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
) const {

17767  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
,
vÆ8
,
vÆ9
,
vÆ10
);

17771 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17772 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
) {

17773 i‡(
is_em±y
()Ë *
	gthis
;

17774 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-11;

17775 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17776 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
; *’åd++Ë
vÆ5
;

17777 *(
	g±rd
++Ë
vÆ6
; *’åd++Ë
vÆ7
; *’åd++Ë
vÆ8
; *’åd++Ë
vÆ9
; *’åd++Ë
vÆ10
; *’åd++Ë
vÆ11
;

17779 
	g±ª
+=11;

17780 
	g±ª
 - 
	g±rd
) {

17781 11 : *(--
±ª
Ë
vÆ10
;

17782 10 : *(--
±ª
Ë
vÆ9
;

17783 9 : *(--
±ª
Ë
vÆ8
;

17784 8 : *(--
±ª
Ë
vÆ7
;

17785 7 : *(--
±ª
Ë
vÆ6
;

17786 6 : *(--
±ª
Ë
vÆ5
;

17787 5 : *(--
±ª
Ë
vÆ4
;

17788 4 : *(--
±ª
Ë
vÆ3
;

17789 3 : *(--
±ª
Ë
vÆ2
;

17790 2 : *(--
±ª
Ë
vÆ1
;

17791 1 : *(--
±ª
Ë
vÆ0
;

17793  *
	gthis
;

17797 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17798 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
) const {

17799  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
,
vÆ8
,
vÆ9
,
vÆ10
,
vÆ11
);

17803 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17804 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
, c⁄° T 
vÆ12
) {

17805 i‡(
is_em±y
()Ë *
	gthis
;

17806 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-12;

17807 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17808 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
; *’åd++Ë
vÆ5
;

17809 *(
	g±rd
++Ë
vÆ6
; *’åd++Ë
vÆ7
; *’åd++Ë
vÆ8
; *’åd++Ë
vÆ9
; *’åd++Ë
vÆ10
; *’åd++Ë
vÆ11
;

17810 *(
	g±rd
++Ë
vÆ12
;

17812 
	g±ª
+=12;

17813 
	g±ª
 - 
	g±rd
) {

17814 12 : *(--
±ª
Ë
vÆ11
;

17815 11 : *(--
±ª
Ë
vÆ10
;

17816 10 : *(--
±ª
Ë
vÆ9
;

17817 9 : *(--
±ª
Ë
vÆ8
;

17818 8 : *(--
±ª
Ë
vÆ7
;

17819 7 : *(--
±ª
Ë
vÆ6
;

17820 6 : *(--
±ª
Ë
vÆ5
;

17821 5 : *(--
±ª
Ë
vÆ4
;

17822 4 : *(--
±ª
Ë
vÆ3
;

17823 3 : *(--
±ª
Ë
vÆ2
;

17824 2 : *(--
±ª
Ë
vÆ1
;

17825 1 : *(--
±ª
Ë
vÆ0
;

17827  *
	gthis
;

17831 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17832 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
, c⁄° T 
vÆ12
) const {

17833  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
,
vÆ8
,
vÆ9
,
vÆ10
,
vÆ11
,
vÆ12
);

17837 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17838 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
, c⁄° T 
vÆ12
,

17839 c⁄° 
T
 
vÆ13
) {

17840 i‡(
is_em±y
()Ë *
	gthis
;

17841 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-13;

17842 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17843 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
; *’åd++Ë
vÆ5
;

17844 *(
	g±rd
++Ë
vÆ6
; *’åd++Ë
vÆ7
; *’åd++Ë
vÆ8
; *’åd++Ë
vÆ9
; *’åd++Ë
vÆ10
; *’åd++Ë
vÆ11
;

17845 *(
	g±rd
++Ë
vÆ12
; *’åd++Ë
vÆ13
;

17847 
	g±ª
+=13;

17848 
	g±ª
 - 
	g±rd
) {

17849 13 : *(--
±ª
Ë
vÆ12
;

17850 12 : *(--
±ª
Ë
vÆ11
;

17851 11 : *(--
±ª
Ë
vÆ10
;

17852 10 : *(--
±ª
Ë
vÆ9
;

17853 9 : *(--
±ª
Ë
vÆ8
;

17854 8 : *(--
±ª
Ë
vÆ7
;

17855 7 : *(--
±ª
Ë
vÆ6
;

17856 6 : *(--
±ª
Ë
vÆ5
;

17857 5 : *(--
±ª
Ë
vÆ4
;

17858 4 : *(--
±ª
Ë
vÆ3
;

17859 3 : *(--
±ª
Ë
vÆ2
;

17860 2 : *(--
±ª
Ë
vÆ1
;

17861 1 : *(--
±ª
Ë
vÆ0
;

17863  *
	gthis
;

17867 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17868 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
, c⁄° T 
vÆ12
,

17869 c⁄° 
T
 
vÆ13
) const {

17870  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
,
vÆ8
,
vÆ9
,
vÆ10
,
vÆ11
,
vÆ12
,

17871 
vÆ13
);

17875 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17876 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
, c⁄° T 
vÆ12
,

17877 c⁄° 
T
 
vÆ13
, c⁄° T 
vÆ14
) {

17878 i‡(
is_em±y
()Ë *
	gthis
;

17879 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-14;

17880 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17881 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
; *’åd++Ë
vÆ5
;

17882 *(
	g±rd
++Ë
vÆ6
; *’åd++Ë
vÆ7
; *’åd++Ë
vÆ8
; *’åd++Ë
vÆ9
; *’åd++Ë
vÆ10
; *’åd++Ë
vÆ11
;

17883 *(
	g±rd
++Ë
vÆ12
; *’åd++Ë
vÆ13
; *’åd++Ë
vÆ14
;

17885 
	g±ª
+=14;

17886 
	g±ª
 - 
	g±rd
) {

17887 14 : *(--
±ª
Ë
vÆ13
;

17888 13 : *(--
±ª
Ë
vÆ12
;

17889 12 : *(--
±ª
Ë
vÆ11
;

17890 11 : *(--
±ª
Ë
vÆ10
;

17891 10 : *(--
±ª
Ë
vÆ9
;

17892 9 : *(--
±ª
Ë
vÆ8
;

17893 8 : *(--
±ª
Ë
vÆ7
;

17894 7 : *(--
±ª
Ë
vÆ6
;

17895 6 : *(--
±ª
Ë
vÆ5
;

17896 5 : *(--
±ª
Ë
vÆ4
;

17897 4 : *(--
±ª
Ë
vÆ3
;

17898 3 : *(--
±ª
Ë
vÆ2
;

17899 2 : *(--
±ª
Ë
vÆ1
;

17900 1 : *(--
±ª
Ë
vÆ0
;

17902  *
	gthis
;

17906 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17907 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
, c⁄° T 
vÆ12
,

17908 c⁄° 
T
 
vÆ13
, c⁄° T 
vÆ14
) const {

17909  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
,
vÆ8
,
vÆ9
,
vÆ10
,
vÆ11
,
vÆ12
,

17910 
vÆ13
,
vÆ14
);

17914 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17915 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
, c⁄° T 
vÆ12
,

17916 c⁄° 
T
 
vÆ13
, c⁄° T 
vÆ14
, c⁄° T 
vÆ15
) {

17917 i‡(
is_em±y
()Ë *
	gthis
;

17918 
T
 *
	g±rd
, *
	g±ª
 = 
íd
()-15;

17919 
	g±rd
 = 
_d©a
;Öåd<
	g±ª
; ) {

17920 *(
	g±rd
++Ë
vÆ0
; *’åd++Ë
vÆ1
; *’åd++Ë
vÆ2
; *’åd++Ë
vÆ3
; *’åd++Ë
vÆ4
; *’åd++Ë
vÆ5
;

17921 *(
	g±rd
++Ë
vÆ6
; *’åd++Ë
vÆ7
; *’åd++Ë
vÆ8
; *’åd++Ë
vÆ9
; *’åd++Ë
vÆ10
; *’åd++Ë
vÆ11
;

17922 *(
	g±rd
++Ë
vÆ12
; *’åd++Ë
vÆ13
; *’åd++Ë
vÆ14
; *’åd++Ë
vÆ15
;

17924 
	g±ª
+=15;

17925 
	g±ª
 - 
	g±rd
) {

17926 15 : *(--
±ª
Ë
vÆ14
;

17927 14 : *(--
±ª
Ë
vÆ13
;

17928 13 : *(--
±ª
Ë
vÆ12
;

17929 12 : *(--
±ª
Ë
vÆ11
;

17930 11 : *(--
±ª
Ë
vÆ10
;

17931 10 : *(--
±ª
Ë
vÆ9
;

17932 9 : *(--
±ª
Ë
vÆ8
;

17933 8 : *(--
±ª
Ë
vÆ7
;

17934 7 : *(--
±ª
Ë
vÆ6
;

17935 6 : *(--
±ª
Ë
vÆ5
;

17936 5 : *(--
±ª
Ë
vÆ4
;

17937 4 : *(--
±ª
Ë
vÆ3
;

17938 3 : *(--
±ª
Ë
vÆ2
;

17939 2 : *(--
±ª
Ë
vÆ1
;

17940 1 : *(--
±ª
Ë
vÆ0
;

17942  *
	gthis
;

17946 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
T
 
vÆ0
, c⁄° T 
vÆ1
, c⁄° T 
vÆ2
, c⁄° T 
vÆ3
, c⁄° T 
vÆ4
, c⁄° T 
vÆ5
, c⁄° T 
vÆ6
,

17947 c⁄° 
T
 
vÆ7
, c⁄° T 
vÆ8
, c⁄° T 
vÆ9
, c⁄° T 
vÆ10
, c⁄° T 
vÆ11
, c⁄° T 
vÆ12
,

17948 c⁄° 
T
 
vÆ13
, c⁄° T 
vÆ14
, c⁄° T 
vÆ15
) const {

17949  
	gCImg
<
	gT
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
fûl
(
vÆ0
,
vÆ1
,
vÆ2
,
vÆ3
,
vÆ4
,
vÆ5
,
vÆ6
,
vÆ7
,
vÆ8
,
vÆ9
,
vÆ10
,
vÆ11
,
vÆ12
,

17950 
vÆ13
,
vÆ14
,
vÆ15
);

17958 
	gCImg
<
	gT
>& 
fûl
(c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
boﬁ
 
ª≥©_Êag
) {

17959 i‡(
is_em±y
(Ë|| !
	gex¥essi⁄
 || !*ex¥essi⁄Ë *
	gthis
;

17960 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

17961 
	gcimg
::
ex˚±i⁄_mode
() = 0;

17962 
	gåy
 {

17963 c⁄° 
	gCImg
<
	gT
> 
	g_ba£
 = 
cimg
::
_is_£lf_ex¥
(
ex¥essi⁄
)?+*
this
:
CImg
<
T
>(), &
	gba£
 = 
_ba£
?_base:*this;

17964 
_cimg_m©h_∑r£r
 
mp
(
ba£
,
ex¥essi⁄
+(*expression=='>' || *expression=='<'?1:0),"fill");

17965 
T
 *
	g±rd
 = *
ex¥essi⁄
=='<'?
íd
()-1:
_d©a
;

17966 i‡(*
	gex¥essi⁄
=='<'Ë
cimg_rofXYZC
(*
this
,
x
,
y
,
z
,
c
Ë*(
	g±rd
--Ë(
T
)
mp
.
evÆ
(()x,()y,()z,()c);

17967 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë*(
	g±rd
++Ë(
T
)
mp
.
evÆ
(()x,()y,()z,()c);

17968 } 
ˇtch
 (
CImgEx˚±i⁄
& 
e
) {

17969 
	gôem
[16384] = { 0 }, 
	g£p
 = 0;

17970 c⁄° *
	g√x¥essi⁄
 = 
ex¥essi⁄
;

17971 
	gnb
 = 0;

17972 c⁄° 
	gsiz
 = 
size
();

17973 
T
 *
	g±rd
 = 
_d©a
;

17974 
	gvÆ
 = 0; *
	g√x¥essi⁄
 && 
	gnb
<
	gsiz
; ++nb) {

17975 
	g£p
 = 0;

17976 c⁄° 
	gîr
 = 
°d
::
ssˇnf
(
√x¥essi⁄
,"%4095[ \n\t0-9.e+-]%c",
ôem
,&
£p
);

17977 i‡(
	gîr
>0 && 
	g°d
::
ssˇnf
(
ôem
,"%lf",&
vÆ
)==1) {

17978 
√x¥essi⁄
+=
°d
::
°æí
(
ôem
Ë+ (
îr
>1?1:0);

17979 *(
	g±rd
++Ë(
T
)
vÆ
;

17982 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

17983 i‡(
	gnb
<
	gsiz
 && (
	g£p
 || *
	g√x¥essi⁄
))

17984 
throw
 
CImgArgumítEx˚±i⁄
(
e
.
wh©
(),
pixñ_ty≥
(),
ex¥essi⁄
);

17985 i‡(
	gª≥©_Êag
 && 
	gnb
 &&Çb<
	gsiz
Ë
T
 *
	g±rs
 = 
_d©a
, *c⁄° 
	g±ª
 = _d©®+ 
siz
; 
	g±rd
<±ª; ++±rsË*’åd++Ë*
±rs
;

17987 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

17988  *
	gthis
;

17992 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° *c⁄° 
vÆues
, c⁄° 
boﬁ
 
ª≥©_vÆues
) const {

17993  (+*
	gthis
).
fûl
(
vÆues
,
ª≥©_vÆues
);

18001 
	gãm∂©e
<
ty≥«me
 
	gt
>

18002 
	gCImg
<
	gT
>& 
fûl
(c⁄° 
CImg
<
t
>& 
vÆues
, c⁄° 
boﬁ
 
ª≥©_vÆues
=
åue
) {

18003 i‡(
is_em±y
(Ë|| !
vÆues
Ë *
this
;

18004 
T
 *
	g±rd
 = 
_d©a
, *
	g±ª
 = 
±rd
 + 
size
();

18005 
t
 *
	g±rs
 = 
vÆues
.
_d©a
, *
	g±rs_íd
 = 
±rs
 + vÆues.
size
();Öås<±rs_íd && 
	g±rd
<
	g±ª
; ++±rsË*’åd++Ë(
T
)*ptrs;

18006 i‡(
	gª≥©_vÆues
 && 
	g±rd
<
	g±ª
Ë
T
 *
	g±rs
 = 
_d©a
;Öåd<±ª; ++±rsË*’åd++Ë*
±rs
;

18007  *
	gthis
;

18011 
	gãm∂©e
<
ty≥«me
 
	gt
>

18012 
	gCImg
<
	gT
> 
gë_fûl
(c⁄° 
CImg
<
t
>& 
vÆues
, c⁄° 
boﬁ
 
ª≥©_vÆues
=
åue
) const {

18013  
ª≥©_vÆues
?
CImg
<
T
>(
_width
,
_height
,
_dïth
,
_•e˘rum
).
fûl
(
vÆues
,ª≥©_vÆues):(+*
this
).fill(values,repeat_values);

18023 
	gCImg
<
	gT
>& 
fûlX
(c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
a0
, ...) {

18024 
	#_cimg_fûl1
(
x
,
y
,
z
,
c
,
off
,
siz
,
t
) { \

18025 
va_li°
 
≠
; 
	`va_°¨t
◊p,
a0
); 
T
 *
±rd
 = 
	`d©a
(
x
,
y
,
z
,
c
); *ptrd = (T)a0; \

18026 
k
 = 1; k<
siz
; ++kË{ 
±rd
+=
off
; *±rd = (
T
)
	`va_¨g
(
≠
,
t
); } \

18027 
	`va_íd
(
≠
); }

	)

18028 i‡(
	gy
<
	g_height
 && 
	gz
<
	g_dïth
 && 
	gc
<
	g_•e˘rum
Ë
_cimg_fûl1
(0,
y
,
z
,
c
,1,
_width
,);

18029  *
	gthis
;

18033 
	gCImg
<
	gT
>& 
fûlX
(c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
a0
, ...) {

18034 i‡(
	gy
<
	g_height
 && 
	gz
<
	g_dïth
 && 
	gc
<
	g_•e˘rum
Ë
_cimg_fûl1
(0,
y
,
z
,
c
,1,
_width
,);

18035  *
	gthis
;

18045 
	gCImg
<
	gT
>& 
fûlY
(c⁄° 
x
, c⁄° 
z
, c⁄° 
c
, c⁄° 
a0
, ...) {

18046 i‡(
	gx
<
	g_width
 && 
	gz
<
	g_dïth
 && 
	gc
<
	g_•e˘rum
Ë
_cimg_fûl1
(
x
,0,
z
,
c
,
_width
,
_height
,);

18047  *
	gthis
;

18051 
	gCImg
<
	gT
>& 
fûlY
(c⁄° 
x
, c⁄° 
z
, c⁄° 
c
, c⁄° 
a0
, ...) {

18052 i‡(
	gx
<
	g_width
 && 
	gz
<
	g_dïth
 && 
	gc
<
	g_•e˘rum
Ë
_cimg_fûl1
(
x
,0,
z
,
c
,
_width
,
_height
,);

18053  *
	gthis
;

18063 
	gCImg
<
	gT
>& 
fûlZ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
c
, c⁄° 
a0
, ...) {

18064 c⁄° 
	gwh
 = ()
_width
*
_height
;

18065 i‡(
	gx
<
	g_width
 && 
	gy
<
	g_height
 && 
	gc
<
	g_•e˘rum
Ë
_cimg_fûl1
(
x
,
y
,0,
c
,
wh
,
_dïth
,);

18066  *
	gthis
;

18070 
	gCImg
<
	gT
>& 
fûlZ
(c⁄° 
x
, c⁄° 
y
, c⁄° 
c
, c⁄° 
a0
, ...) {

18071 c⁄° 
	gwh
 = ()
_width
*
_height
;

18072 i‡(
	gx
<
	g_width
 && 
	gy
<
	g_height
 && 
	gc
<
	g_•e˘rum
Ë
_cimg_fûl1
(
x
,
y
,0,
c
,
wh
,
_dïth
,);

18073  *
	gthis
;

18083 
	gCImg
<
	gT
>& 
fûlC
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
a0
, ...) {

18084 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

18085 i‡(
	gx
<
	g_width
 && 
	gy
<
	g_height
 && 
	gz
<
	g_dïth
Ë
_cimg_fûl1
(
x
,
y
,
z
,0,
whd
,
_•e˘rum
,);

18086  *
	gthis
;

18090 
	gCImg
<
	gT
>& 
fûlC
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
a0
, ...) {

18091 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

18092 i‡(
	gx
<
	g_width
 && 
	gy
<
	g_height
 && 
	gz
<
	g_dïth
Ë
_cimg_fûl1
(
x
,
y
,
z
,0,
whd
,
_•e˘rum
,);

18093  *
	gthis
;

18102 
	gCImg
<
	gT
>& 
disˇrd
(c⁄° 
T
 
vÆue
) {

18103  
gë_disˇrd
(
vÆue
).
move_to
(*
this
);

18107 
	gCImg
<
	gT
> 
gë_disˇrd
(c⁄° 
T
 
vÆue
) const {

18108 
	gCImg
<
	gT
> 
ªs
(1,
size
());

18109 
T
 *
	gpd
 = 
ªs
.
_d©a
;

18110 c⁄° 
T
 *
	gps
 = 
_d©a
, *c⁄° 
	gp£
 = 
íd
();Ös<pse; ++ps)

18111 i‡(*
	gps
!=
vÆue
Ë*(
pd
++Ë*
ps
;

18112 i‡(
	gpd
==
ªs
.
_d©a
Ë 
CImg
<
T
>();

18113  
	gªs
.
ªsize
(1,
pd
-
ªs
.
_d©a
,1,1,-1);

18122 
	gãm∂©e
<
ty≥«me
 
	gt
>

18123 
	gCImg
<
	gT
>& 
disˇrd
(c⁄° 
CImg
<
t
>& 
vÆues
) {

18124  
gë_disˇrd
(
vÆues
).
move_to
(*
this
);

18128 
	gãm∂©e
<
ty≥«me
 
	gt
>

18129 
	gCImg
<
	gT
> 
gë_disˇrd
(c⁄° 
CImg
<
t
>& 
vÆues
) const {

18130 i‡(!
	gvÆues
Ë *
	gthis
;

18131 i‡(
	gvÆues
.
size
()==1Ë 
gë_disˇrd
(*
vÆues
);

18132 
	gCImg
<
	gT
> 
ªs
(1,
size
());

18133 
T
 *
	gpd
 = 
ªs
.
_d©a
;

18134 c⁄° 
t
 *c⁄° 
	gpve
 = 
vÆues
.
íd
();

18135 c⁄° 
T
 *
	gps
 = 
_d©a
, *c⁄° 
	gp£
 = 
íd
();Ös<pse; ) {

18136 c⁄° 
T
 *
	g_ps
 = 
ps
;

18137 c⁄° 
t
 *
	gpv
 = 
vÆues
.
_d©a
;

18138 
	g_ps
<
	gp£
 && 
	gpv
<
	gpve
Ë{ i‡(*(_ps++)!=(
T
)*
pv
) ; ++pv; }

18139 i‡(
	gpv
!=
pve
) {

18140 c⁄° 
l
 = 
_ps
 - 
ps
;

18141 i‡(
	gl
==1Ë*(
pd
++Ë*
ps
; { 
	g°d
::
mem˝y
’d,ps,(
T
)*
l
); 
	gpd
+=l; }

18143 
	gps
 = 
_ps
;

18145 i‡(
	gpd
==
ªs
.
_d©a
Ë 
CImg
<
T
>();

18146  
	gªs
.
ªsize
(1,
pd
-
ªs
.
_d©a
,1,1,-1);

18152 
	gCImg
<
	gT
>& 
övît_ídü¬ess
() {

18153 
	gcimg
::
övît_ídü¬ess
(
_d©a
,
size
());

18154  *
	gthis
;

18158 
	gCImg
<
	gT
> 
gë_övît_ídü¬ess
() const {

18159  (+*
	gthis
).
övît_ídü¬ess
();

18168 
	gCImg
<
	gT
>& 
ønd
(c⁄° 
T
 
vÆ_mö
, c⁄° T 
vÆ_max
) {

18169 c⁄° 
	gdñè
 = ()
vÆ_max
 - ()
vÆ_mö
;

18170 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)(
vÆ_mö
 + 
cimg
::
ønd
()*
dñè
);

18171  *
	gthis
;

18175 
	gCImg
<
	gT
> 
gë_ønd
(c⁄° 
T
 
vÆ_mö
, c⁄° T 
vÆ_max
) const {

18176  (+*
	gthis
).
ønd
(
vÆ_mö
,
vÆ_max
);

18187 
	gCImg
<
	gT
>& 
round
(c⁄° 
y
=1, c⁄° 
roundög_ty≥
=0) {

18188 i‡(
y
>0Ë
cimg_f‹
(*
this
,
±rd
,
T
Ë*±rd = 
cimg
::
round
(*±rd,y,
roundög_ty≥
);

18189  *
	gthis
;

18193 
	gCImg
<
	gT
> 
gë_round
(c⁄° 
y
=1, c⁄° 
roundög_ty≥
=0) const {

18194  (+*
this
).
round
(
y
,
roundög_ty≥
);

18212 
	gCImg
<
	gT
>& 
noi£
(c⁄° 
sigma
, c⁄° 
noi£_ty≥
=0) {

18213 i‡(!
is_em±y
()) {

18214 c⁄° 
TÊﬂt
 
vmö
 = (TÊﬂt)
cimg
::
ty≥
<
T
>::
mö
(), 
	gvmax
 = (TÊﬂt)cimg::ty≥<T>::
max
();

18215 
TÊﬂt
 
	gnsigma
 = (TÊﬂt)
sigma
, 
	gm
 = 0, 
	gM
 = 0;

18216 i‡(
	gnsigma
==0 && 
noi£_ty≥
!=3Ë *
this
;

18217 i‡(
	gnsigma
<0 || 
	gnoi£_ty≥
==2Ë
m
 = (
TÊﬂt
)
mö_max
(
M
);

18218 i‡(
	gnsigma
<0Ënsigm®(
TÊﬂt
)(-
nsigma
*(
M
-
m
)/100.0);

18219 
	gnoi£_ty≥
) {

18221 
cimg_f‹
(*
this
,
±rd
,
T
) {

18222 
TÊﬂt
 
	gvÆ
 = (TÊﬂt)(*
±rd
 + 
nsigma
*
cimg
::
gønd
());

18223 i‡(
	gvÆ
>
	gvmax
ËvÆ = 
vmax
;

18224 i‡(
	gvÆ
<
	gvmö
ËvÆ = 
vmö
;

18225 *
	g±rd
 = (
T
)
vÆ
;

18229 
cimg_f‹
(*
this
,
±rd
,
T
) {

18230 
TÊﬂt
 
	gvÆ
 = (TÊﬂt)(*
±rd
 + 
nsigma
*
cimg
::
¸™d
());

18231 i‡(
	gvÆ
>
	gvmax
ËvÆ = 
vmax
;

18232 i‡(
	gvÆ
<
	gvmö
ËvÆ = 
vmö
;

18233 *
	g±rd
 = (
T
)
vÆ
;

18237 i‡(
nsigma
<0)Çsigma = -nsigma;

18238 i‡(
	gM
==
m
Ë{ m = 0; M = (
TÊﬂt
)(
cimg
::
ty≥
<
T
>::
is_Êﬂt
()?1:cimg::ty≥<T>::
max
()); }

18239 
cimg_f‹
(*
this
,
±rd
,
T
Ëi‡(
	gcimg
::
ønd
()*100<
nsigma
Ë*±rd = (T)(
cimg
::ønd()<0.5?
M
:
m
);

18243 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)
cimg
::
¥™d
(*ptrd);

18247 c⁄° 
TÊﬂt
 
sqπ2
 = (TÊﬂt)
°d
::
sqπ
(2.0);

18248 
cimg_f‹
(*
this
,
±rd
,
T
) {

18249 c⁄° 
TÊﬂt


18250 
	gvÆ0
 = (
TÊﬂt
)*
±rd
/
sqπ2
,

18251 
	gª
 = (
TÊﬂt
)(
vÆ0
 + 
nsigma
*
cimg
::
gønd
()),

18252 
	gim
 = (
TÊﬂt
)(
vÆ0
 + 
nsigma
*
cimg
::
gønd
());

18253 
TÊﬂt
 
	gvÆ
 = (TÊﬂt)
°d
::
sqπ
(
ª
*ª + 
im
*im);

18254 i‡(
	gvÆ
>
	gvmax
ËvÆ = 
vmax
;

18255 i‡(
	gvÆ
<
	gvmö
ËvÆ = 
vmö
;

18256 *
	g±rd
 = (
T
)
vÆ
;

18260 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


18263 
cimg_ö°™˚
,

18264 
noi£_ty≥
);

18267  *
	gthis
;

18271 
	gCImg
<
	gT
> 
gë_noi£
(c⁄° 
sigma
, c⁄° 
noi£_ty≥
=0) const {

18272  (+*
this
).
noi£
(
sigma
,
noi£_ty≥
);

18286 
	gCImg
<
	gT
>& 
n‹mÆize
(c⁄° 
T
 
mö_vÆue
, c⁄° T 
max_vÆue
) {

18287 i‡(
is_em±y
()Ë *
	gthis
;

18288 c⁄° 
T
 
	ga
 = 
mö_vÆue
<
max_vÆue
?mö_vÆue:max_vÆue, 
	gb
 = min_value<max_value?max_value:min_value;

18289 
T
 
	gm
, 
	gM
 = 
max_mö
(
m
);

18290 c⁄° 
TÊﬂt
 
	gfm
 = (TÊﬂt)
m
, 
	gfM
 = (TÊﬂt)
M
;

18291 i‡(
	gm
==
M
Ë 
fûl
(
mö_vÆue
);

18292 i‡(
	gm
!=
a
 || 
M
!=
b
Ë
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (T)((*±rd-
fm
)/(
fM
-fm)*(b-a)+a);

18293  *
	gthis
;

18297 
	gCImg
<
	gTÊﬂt
> 
gë_n‹mÆize
(c⁄° 
T
 
mö_vÆue
, c⁄° T 
max_vÆue
) const {

18298  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
n‹mÆize
((
TÊﬂt
)
mö_vÆue
,(TÊﬂt)
max_vÆue
);

18310 
	gCImg
<
	gT
>& 
n‹mÆize
() {

18311 
T
 *
	g±rd
 = 
_d©a
;

18312 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

18313 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

18314 c⁄° 
T
 *
	g±rs
 = 
±rd
;

18315 
	gn
 = 0;

18316 
cimg_f‹C
(*
this
,
c
Ë{ 
	gn
+=
cimg
::
sqr
(()*
±rs
); 
	g±rs
+=
whd
; }

18317 
	gn
 = ()
°d
::
sqπ
(
n
);

18318 
T
 *
	g_±rd
 = 
±rd
++;

18319 i‡(
	gn
>0Ë
cimg_f‹C
(*
this
,
c
Ë{ *
	g_±rd
 = (
T
)(*
_±rd
/
n
); _±rd+=
whd
; }

18320 
cimg_f‹C
(*
this
,
c
Ë{ *
	g_±rd
 = (
T
)0; _±rd+=
whd
; }

18322  *
	gthis
;

18326 
	gCImg
<
	gTÊﬂt
> 
gë_n‹mÆize
() const {

18327  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
n‹mÆize
();

18340 
	gCImg
<
	gT
>& 
n‹m
(c⁄° 
n‹m_ty≥
=2) {

18341 i‡(
_•e˘rum
==1Ë 
abs
();

18342  
gë_n‹m
(
n‹m_ty≥
).
move_to
(*
this
);

18346 
	gCImg
<
	gTÊﬂt
> 
gë_n‹m
(c⁄° 
n‹m_ty≥
=2) const {

18347 i‡(
is_em±y
()Ë *
this
;

18348 i‡(
	g_•e˘rum
==1Ë 
gë_abs
();

18349 c⁄° 
T
 *
	g±rs
 = 
_d©a
;

18350 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

18351 
	gCImg
<
	gTÊﬂt
> 
ªs
(
_width
,
_height
,
_dïth
);

18352 
TÊﬂt
 *
	g±rd
 = 
ªs
.
_d©a
;

18353 
	gn‹m_ty≥
) {

18355 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

18356 
TÊﬂt
 
	gn
 = 0;

18357 c⁄° 
T
 *
	g_±rs
 = 
±rs
++;

18358 
cimg_f‹C
(*
this
,
c
Ë{ c⁄° 
TÊﬂt
 
	gvÆ
 = (TÊﬂt)
cimg
::
abs
(*
_±rs
); i‡(vÆ>
	gn
Ë¿
vÆ
; 
	g_±rs
+=
whd
; }

18359 *(
	g±rd
++Ë
n
;

18363 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

18364 
TÊﬂt
 
	gn
 = 0;

18365 c⁄° 
T
 *
	g_±rs
 = 
±rs
++;

18366 
cimg_f‹C
(*
this
,
c
Ë{ 
	gn
+=
cimg
::
abs
(*
_±rs
); 
	g_±rs
+=
whd
; }

18367 *(
	g±rd
++Ë
n
;

18371 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

18372 
TÊﬂt
 
	gn
 = 0;

18373 c⁄° 
T
 *
	g_±rs
 = 
±rs
++;

18374 
cimg_f‹C
(*
this
,
c
Ë{ 
	gn
+=
cimg
::
sqr
((
TÊﬂt
)*
_±rs
); 
	g_±rs
+=
whd
; }

18375 *(
	g±rd
++Ë(
TÊﬂt
)
°d
::
sqπ
((TÊﬂt)
n
);

18379  
	gªs
;

18393 
	gCImg
<
	gT
>& 
cut
(c⁄° 
T
 
mö_vÆue
, c⁄° T 
max_vÆue
) {

18394 i‡(
is_em±y
()Ë *
	gthis
;

18395 c⁄° 
T
 
	ga
 = 
mö_vÆue
<
max_vÆue
?mö_vÆue:max_vÆue, 
	gb
 = min_value<max_value?max_value:min_value;

18396 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = (*±rd<
a
)?a:((*±rd>
b
)?b:*ptrd);

18397  *
	gthis
;

18401 
	gCImg
<
	gT
> 
gë_cut
(c⁄° 
T
 
mö_vÆue
, c⁄° T 
max_vÆue
) const {

18402  (+*
	gthis
).
cut
(
mö_vÆue
,
max_vÆue
);

18416 
	gCImg
<
	gT
>& 
qu™tize
(c⁄° 
nb_Àvñs
, c⁄° 
boﬁ
 
kìp_ønge
=
åue
) {

18417 i‡(!
nb_Àvñs
)

18418 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


18420 
cimg_ö°™˚
);

18422 i‡(
is_em±y
()Ë *
	gthis
;

18423 
TÊﬂt
 
	gm
, 
	gM
 = (TÊﬂt)
max_mö
(
m
), 
	gønge
 = 
M
 - m;

18424 i‡(
	gønge
>0) {

18425 i‡(
	gkìp_ønge
Ë
cimg_f‹
(*
this
,
±rd
,
T
) {

18426 c⁄° 
	gvÆ
 = ()((*
±rd
-
m
)*
nb_Àvñs
/
ønge
);

18427 *
	g±rd
 = (
T
)(
m
 + 
cimg
::
mö
(
vÆ
,
nb_Àvñs
-1)*
	gønge
/
	gnb_Àvñs
);

18428 } 
cimg_f‹
(*
this
,
±rd
,
T
) {

18429 c⁄° 
	gvÆ
 = ()((*
±rd
-
m
)*
nb_Àvñs
/
ønge
);

18430 *
	g±rd
 = (
T
)
cimg
::
mö
(
vÆ
,
nb_Àvñs
-1);

18433  *
	gthis
;

18437 
	gCImg
<
	gT
> 
gë_qu™tize
(c⁄° 
n
, c⁄° 
boﬁ
 
kìp_ønge
=
åue
) const {

18438  (+*
this
).
qu™tize
(
n
,
kìp_ønge
);

18453 
	gCImg
<
	gT
>& 
thªshﬁd
(c⁄° 
T
 
vÆue
, c⁄° 
boﬁ
 
so·_thªshﬁd
=
Ál£
, c⁄° boﬁ 
°ri˘_thªshﬁd
=false) {

18454 i‡(
is_em±y
()Ë *
this
;

18455 i‡(
	g°ri˘_thªshﬁd
) {

18456 i‡(
	gso·_thªshﬁd
Ë
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
	gv
 = *±rd; *
	g±rd
 = 
v
>
vÆue
?(T)(v-value):v<-()value?(T)(v+value):(T)0; }

18457 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = *±rd>
vÆue
?(T)1:(T)0;

18459 i‡(
	gso·_thªshﬁd
Ë
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° T 
	gv
 = *±rd; *
	g±rd
 = 
v
>=
vÆue
?(T)(v-value):v<=-()value?(T)(v+value):(T)0; }

18460 
cimg_f‹
(*
this
,
±rd
,
T
Ë*
	g±rd
 = *±rd>=
vÆue
?(T)1:(T)0;

18462  *
	gthis
;

18466 
	gCImg
<
	gT
> 
gë_thªshﬁd
(c⁄° 
T
 
vÆue
, c⁄° 
boﬁ
 
so·_thªshﬁd
=
Ál£
, c⁄° boﬁ 
°ri˘_thªshﬁd
=false) const {

18467  (+*
this
).
thªshﬁd
(
vÆue
,
so·_thªshﬁd
,
°ri˘_thªshﬁd
);

18487 
	gCImg
<
	gT
>& 
hi°ogøm
(c⁄° 
nb_Àvñs
, c⁄° 
T
 
mö_vÆue
=(T)0, c⁄° T 
max_vÆue
=(T)0) {

18488  
gë_hi°ogøm
(
nb_Àvñs
,
mö_vÆue
,
max_vÆue
).
move_to
(*
this
);

18492 
	gCImg
<
	gul⁄gT
> 
gë_hi°ogøm
(c⁄° 
nb_Àvñs
, c⁄° 
T
 
mö_vÆue
=(T)0, c⁄° T 
max_vÆue
=(T)0) const {

18493 i‡(!
nb_Àvñs
 || 
is_em±y
()Ë 
CImg
<
ul⁄gT
>();

18494 
T
 
	gvmö
 = 
mö_vÆue
<
max_vÆue
?mö_vÆue:max_vÆue, 
	gvmax
 = min_value<max_value?max_value:min_value;

18495 i‡(
	gvmö
==
vmax
 && 
vmö
==0Ëvmö = 
mö_max
(vmax);

18496 
	gCImg
<
	gul⁄gT
> 
ªs
(
nb_Àvñs
,1,1,1,0);

18497 
cimg_f‹
(*
this
,
±rs
,
T
) {

18498 c⁄° 
T
 
	gvÆ
 = *
±rs
;

18499 i‡(
	gvÆ
>=
vmö
 && 
vÆ
<=
vmax
Ë++
ªs
[vÆ==vmax?
nb_Àvñs
-1:()((val-vmin)*nb_levels/(vmax-vmin))];

18501  
	gªs
;

18519 
	gCImg
<
	gT
>& 
equÆize
(c⁄° 
nb_Àvñs
, c⁄° 
T
 
mö_vÆue
=(T)0, c⁄° T 
max_vÆue
=(T)0) {

18520 i‡(
is_em±y
()Ë *
this
;

18521 
T
 
	gvmö
 = 
mö_vÆue
, 
	gvmax
 = 
max_vÆue
;

18522 i‡(
	gvmö
==
vmax
 && 
vmö
==0Ëvmö = 
mö_max
(vmax);

18523 i‡(
	gvmö
<
	gvmax
) {

18524 
	gCImg
<
	gul⁄gT
> 
	ghi°
 = 
gë_hi°ogøm
(
nb_Àvñs
,
vmö
,
vmax
);

18525 
	gcumul
 = 0;

18526 
cimg_f‹X
(
hi°
,
pos
Ë{ 
	gcumul
+=hi°[pos]; 
	ghi°
[pos] = 
cumul
; }

18527 
cimg_f‹
(*
this
,
±rd
,
T
) {

18528 c⁄° 
	gpos
 = ()((*
±rd
-
vmö
)*(
nb_Àvñs
-1)/(
vmax
-vmin));

18529 i‡(
	gpos
>=0 && 
pos
<()
nb_Àvñs
Ë*
±rd
 = (
T
)(
vmö
 + (
vmax
-vmö)*
hi°
[pos]/
size
());

18532  *
	gthis
;

18536 
	gCImg
<
	gT
> 
gë_equÆize
(c⁄° 
nbÀvñs
, c⁄° 
T
 
vÆ_mö
=(T)0, c⁄° T 
vÆ_max
=(T)0) const {

18537  (+*
this
).
equÆize
(
nbÀvñs
,
vÆ_mö
,
vÆ_max
);

18555 
	gãm∂©e
<
ty≥«me
 
	gt
>

18556 
	gCImg
<
	gT
>& 
ödex
(c⁄° 
CImg
<
t
>& 
cﬁ‹m≠
, c⁄° 
dôhîög
=1, c⁄° 
boﬁ
 
m≠_ödexes
=
Ál£
) {

18557  
gë_ödex
(
cﬁ‹m≠
,
dôhîög
,
m≠_ödexes
).
move_to
(*
this
);

18561 
	gãm∂©e
<
ty≥«me
 
	gt
>

18562 
	gCImg
<
ty≥«me
 CImg<
	gt
>::
Tuöt
>

18563 
gë_ödex
(c⁄° 
CImg
<
t
>& 
cﬁ‹m≠
, c⁄° 
dôhîög
=1, c⁄° 
boﬁ
 
m≠_ödexes
=
åue
) const {

18564 i‡(
cﬁ‹m≠
.
_•e˘rum
!=_spectrum)

18565 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


18568 
cimg_ö°™˚
,

18569 
cﬁ‹m≠
.
_width
,cﬁ‹m≠.
_height
,cﬁ‹m≠.
_dïth
,cﬁ‹m≠.
_•e˘rum
,cﬁ‹m≠.
_d©a
);

18571 
ty≥«me
 
	tCImg
<
	tt
>::
	tTuöt
 
	ttuöt
;

18572 i‡(
is_em±y
()Ë 
	gCImg
<
	gtuöt
>();

18573 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gpwhd
 = ()
cﬁ‹m≠
._width*colormap._height*colormap._depth;

18574 
	gCImg
<
	gtuöt
> 
ªs
(
_width
,
_height
,
_dïth
,
m≠_ödexes
?
_•e˘rum
:1);

18575 
tuöt
 *
	g±rd
 = 
ªs
.
_d©a
;

18576 i‡(
	gdôhîög
>0) {

18577 c⁄° 
	gndôhîög
 = (
dôhîög
<0?0:dithering>1?1:dithering)/16;

18578 
TÊﬂt
 
	gvÆm
 = 0, 
	gvÆM
 = (TÊﬂt)
max_mö
(
vÆm
);

18579 i‡(
	gvÆm
==
vÆM
 && 
vÆm
>=0 && vÆM<=255Ë{ vÆm = 0; 
	gvÆM
 = 255; }

18580 
	gCImg
<
	gTÊﬂt
> 
	gˇche
 = 
gë_¸›
(-1,0,0,0,
_width
,1,0,
_•e˘rum
-1);

18581 
TÊﬂt
 *
	gˇche_cuºít
 = 
ˇche
.
d©a
(1,0,0,0), *
	gˇche_√xt
 = cache.data(1,1,0,0);

18582 c⁄° 
	gcwhd
 = ()
ˇche
.
_width
*ˇche.
_height
*ˇche.
_dïth
;

18583 
	g_•e˘rum
) {

18585 
cimg_f‹YZ
(*
this
,
y
,
z
) {

18586 i‡(
	gy
<
height
()-2) {

18587 
TÊﬂt
 *
	g±rc0
 = 
ˇche_√xt
; c⁄° 
T
 *
	g±rs0
 = 
d©a
(0,
y
+1,
z
,0);

18588 
cimg_f‹X
(*
this
,
x
Ë*(
	g±rc0
++Ë(
TÊﬂt
)*(
±rs0
++);

18590 
TÊﬂt
 *
	g±rs0
 = 
ˇche_cuºít
, *
	g±r¢0
 = 
ˇche_√xt
;

18591 
cimg_f‹X
(*
this
,
x
) {

18592 c⁄° 
TÊﬂt
 
	g_vÆ0
 = (TÊﬂt)*
±rs0
, 
	gvÆ0
 = 
_vÆ0
<
vÆm
?vÆm:_vÆ0>
vÆM
?valM:_val0;

18593 
TÊﬂt
 
	gdi°mö
 = 
cimg
::
ty≥
<TÊﬂt>::
max
(); c⁄° 
t
 *
	g±rmö0
 = 
cﬁ‹m≠
.
_d©a
;

18594 c⁄° 
t
 *
	g±Ω0
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω_íd
 = 
±Ω0
 + 
pwhd
;Ötrp0<ptrp_end; ) {

18595 c⁄° 
TÊﬂt
 
	gpvÆ0
 = (TÊﬂt)*(
±Ω0
++Ë- 
vÆ0
, 
	gdi°
 = 
pvÆ0
*pval0;

18596 i‡(
	gdi°
<
	gdi°mö
Ë{ 
	g±rmö0
 = 
±Ω0
 - 1; di°mö = 
di°
; }

18598 c⁄° 
TÊﬂt
 
	gîr0
 = ((*(
±rs0
++)=
vÆ0
Ë- (TÊﬂt)*
±rmö0
)*
ndôhîög
;

18599 *
	g±rs0
+=7*
îr0
; *(
	g±r¢0
-1)+=3*err0; *(ptrsn0++)+=5*err0; *ptrsn0+=err0;

18600 i‡(
	gm≠_ödexes
Ë*(
	g±rd
++Ë(
tuöt
)*
±rmö0
; *’åd++Ë—uöt)’åmö0 - 
cﬁ‹m≠
.
_d©a
);

18602 
	gcimg
::
sw≠
(
ˇche_cuºít
,
ˇche_√xt
);

18606 
tuöt
 *
±rd1
 = 
±rd
 + 
whd
;

18607 
cimg_f‹YZ
(*
this
,
y
,
z
) {

18608 i‡(
	gy
<
height
()-2) {

18609 
TÊﬂt
 *
	g±rc0
 = 
ˇche_√xt
, *
	g±rc1
 = 
±rc0
 + 
cwhd
;

18610 c⁄° 
T
 *
	g±rs0
 = 
d©a
(0,
y
+1,
z
,0), *
	g±rs1
 = 
±rs0
 + 
whd
;

18611 
cimg_f‹X
(*
this
,
x
Ë{ *(
	g±rc0
++Ë(
TÊﬂt
)*(
±rs0
++); *(
	g±rc1
++Ë(TÊﬂt)*(
±rs1
++); }

18613 
TÊﬂt


18614 *
	g±rs0
 = 
ˇche_cuºít
, *
	g±rs1
 = 
±rs0
 + 
cwhd
,

18615 *
	g±r¢0
 = 
ˇche_√xt
, *
	g±r¢1
 = 
±r¢0
 + 
cwhd
;

18616 
cimg_f‹X
(*
this
,
x
) {

18617 c⁄° 
TÊﬂt


18618 
	g_vÆ0
 = (
TÊﬂt
)*
±rs0
, 
	gvÆ0
 = 
_vÆ0
<
vÆm
?vÆm:_vÆ0>
vÆM
?valM:_val0,

18619 
	g_vÆ1
 = (
TÊﬂt
)*
±rs1
, 
	gvÆ1
 = 
_vÆ1
<
vÆm
?vÆm:_vÆ1>
vÆM
?valM:_val1;

18620 
TÊﬂt
 
	gdi°mö
 = 
cimg
::
ty≥
<TÊﬂt>::
max
(); c⁄° 
t
 *
	g±rmö0
 = 
cﬁ‹m≠
.
_d©a
;

18621 c⁄° 
t
 *
	g±Ω0
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω1
 = 
±Ω0
 + 
pwhd
, *
	g±Ω_íd
 = 
±Ω1
;Ötrp0<ptrp_end; ) {

18622 c⁄° 
TÊﬂt


18623 
	gpvÆ0
 = (
TÊﬂt
)*(
±Ω0
++Ë- 
vÆ0
, 
	gpvÆ1
 = (TÊﬂt)*(
±Ω1
++Ë- 
vÆ1
,

18624 
	gdi°
 = 
pvÆ0
*pvÆ0 + 
pvÆ1
*pval1;

18625 i‡(
	gdi°
<
	gdi°mö
Ë{ 
	g±rmö0
 = 
±Ω0
 - 1; di°mö = 
di°
; }

18627 c⁄° 
t
 *c⁄° 
	g±rmö1
 = 
±rmö0
 + 
pwhd
;

18628 c⁄° 
TÊﬂt


18629 
	gîr0
 = ((*(
±rs0
++)=
vÆ0
Ë- (
TÊﬂt
)*
±rmö0
)*
ndôhîög
,

18630 
	gîr1
 = ((*(
±rs1
++)=
vÆ1
Ë- (
TÊﬂt
)*
±rmö1
)*
ndôhîög
;

18631 *
	g±rs0
+=7*
îr0
; *
	g±rs1
+=7*
îr1
;

18632 *(
	g±r¢0
-1)+=3*
îr0
; *(
	g±r¢1
-1)+=3*
îr1
;

18633 *(
	g±r¢0
++)+=5*
îr0
; *(
	g±r¢1
++)+=5*
îr1
;

18634 *
	g±r¢0
+=
îr0
; *
	g±r¢1
+=
îr1
;

18635 i‡(
	gm≠_ödexes
Ë{ *(
	g±rd
++Ë(
tuöt
)*
±rmö0
; *(
	g±rd1
++Ë—uöt)*
±rmö1
; }

18636 *(
	g±rd
++Ë(
tuöt
)(
±rmö0
 - 
cﬁ‹m≠
.
_d©a
);

18638 
	gcimg
::
sw≠
(
ˇche_cuºít
,
ˇche_√xt
);

18642 
tuöt
 *
±rd1
 = 
±rd
 + 
whd
, *
	g±rd2
 =Ötrd1 + whd;

18643 
cimg_f‹YZ
(*
this
,
y
,
z
) {

18644 i‡(
	gy
<
height
()-2) {

18645 
TÊﬂt
 *
	g±rc0
 = 
ˇche_√xt
, *
	g±rc1
 = 
±rc0
 + 
cwhd
, *
	g±rc2
 = 
±rc1
 + cwhd;

18646 c⁄° 
T
 *
	g±rs0
 = 
d©a
(0,
y
+1,
z
,0), *
	g±rs1
 = 
±rs0
 + 
whd
, *
	g±rs2
 = 
±rs1
 + whd;

18647 
cimg_f‹X
(*
this
,
x
Ë{ *(
	g±rc0
++Ë(
TÊﬂt
)*(
±rs0
++); *(
	g±rc1
++Ë(TÊﬂt)*(
±rs1
++); *(
	g±rc2
++Ë(TÊﬂt)*(
±rs2
++); }

18649 
TÊﬂt


18650 *
	g±rs0
 = 
ˇche_cuºít
, *
	g±rs1
 = 
±rs0
 + 
cwhd
, *
	g±rs2
 = 
±rs1
 + cwhd,

18651 *
	g±r¢0
 = 
ˇche_√xt
, *
	g±r¢1
 = 
±r¢0
 + 
cwhd
, *
	g±r¢2
 = 
±r¢1
 + cwhd;

18652 
cimg_f‹X
(*
this
,
x
) {

18653 c⁄° 
TÊﬂt


18654 
	g_vÆ0
 = (
TÊﬂt
)*
±rs0
, 
	gvÆ0
 = 
_vÆ0
<
vÆm
?vÆm:_vÆ0>
vÆM
?valM:_val0,

18655 
	g_vÆ1
 = (
TÊﬂt
)*
±rs1
, 
	gvÆ1
 = 
_vÆ1
<
vÆm
?vÆm:_vÆ1>
vÆM
?valM:_val1,

18656 
	g_vÆ2
 = (
TÊﬂt
)*
±rs2
, 
	gvÆ2
 = 
_vÆ2
<
vÆm
?vÆm:_vÆ2>
vÆM
?valM:_val2;

18657 
TÊﬂt
 
	gdi°mö
 = 
cimg
::
ty≥
<TÊﬂt>::
max
(); c⁄° 
t
 *
	g±rmö0
 = 
cﬁ‹m≠
.
_d©a
;

18658 c⁄° 
t
 *
	g±Ω0
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω1
 = 
±Ω0
 + 
pwhd
, *
	g±Ω2
 = 
±Ω1
 +Öwhd, *
	g±Ω_íd
 =Ötrp1;Ötrp0<ptrp_end; ) {

18659 c⁄° 
TÊﬂt


18660 
	gpvÆ0
 = (
TÊﬂt
)*(
±Ω0
++Ë- 
vÆ0
, 
	gpvÆ1
 = (TÊﬂt)*(
±Ω1
++Ë- 
vÆ1
, 
	gpvÆ2
 = (TÊﬂt)*(
±Ω2
++Ë- 
vÆ2
,

18661 
	gdi°
 = 
pvÆ0
*pvÆ0 + 
pvÆ1
*pvÆ1 + 
pvÆ2
*pval2;

18662 i‡(
	gdi°
<
	gdi°mö
Ë{ 
	g±rmö0
 = 
±Ω0
 - 1; di°mö = 
di°
; }

18664 c⁄° 
t
 *c⁄° 
	g±rmö1
 = 
±rmö0
 + 
pwhd
, *c⁄° 
	g±rmö2
 = 
±rmö1
 +Öwhd;

18665 c⁄° 
TÊﬂt


18666 
	gîr0
 = ((*(
±rs0
++)=
vÆ0
Ë- (
TÊﬂt
)*
±rmö0
)*
ndôhîög
,

18667 
	gîr1
 = ((*(
±rs1
++)=
vÆ1
Ë- (
TÊﬂt
)*
±rmö1
)*
ndôhîög
,

18668 
	gîr2
 = ((*(
±rs2
++)=
vÆ2
Ë- (
TÊﬂt
)*
±rmö2
)*
ndôhîög
;

18670 *
	g±rs0
+=7*
îr0
; *
	g±rs1
+=7*
îr1
; *
	g±rs2
+=7*
îr2
;

18671 *(
	g±r¢0
-1)+=3*
îr0
; *(
	g±r¢1
-1)+=3*
îr1
; *(
	g±r¢2
-1)+=3*
îr2
;

18672 *(
	g±r¢0
++)+=5*
îr0
; *(
	g±r¢1
++)+=5*
îr1
; *(
	g±r¢2
++)+=5*
îr2
;

18673 *
	g±r¢0
+=
îr0
; *
	g±r¢1
+=
îr1
; *
	g±r¢2
+=
îr2
;

18675 i‡(
	gm≠_ödexes
Ë{ *(
	g±rd
++Ë(
tuöt
)*
±rmö0
; *(
	g±rd1
++Ë—uöt)*
±rmö1
; *(
	g±rd2
++Ë—uöt)*
±rmö2
; }

18676 *(
	g±rd
++Ë(
tuöt
)(
±rmö0
 - 
cﬁ‹m≠
.
_d©a
);

18678 
	gcimg
::
sw≠
(
ˇche_cuºít
,
ˇche_√xt
);

18682 
cimg_f‹YZ
(*
this
,
y
,
z
) {

18683 i‡(
	gy
<
height
()-2) {

18684 
TÊﬂt
 *
	g±rc
 = 
ˇche_√xt
;

18685 
cimg_f‹C
(*
this
,
c
) {

18686 
TÊﬂt
 *
	g_±rc
 = 
±rc
; c⁄° 
T
 *
	g_±rs
 = 
d©a
(0,
y
+1,
z
,
c
);

18687 
cimg_f‹X
(*
this
,
x
Ë*(
	g_±rc
++Ë(
TÊﬂt
)*(
_±rs
++);

18688 
	g±rc
+=
cwhd
;

18691 
TÊﬂt
 *
	g±rs
 = 
ˇche_cuºít
, *
	g±r¢
 = 
ˇche_√xt
;

18692 
cimg_f‹X
(*
this
,
x
) {

18693 
TÊﬂt
 
	gdi°mö
 = 
cimg
::
ty≥
<TÊﬂt>::
max
(); c⁄° 
t
 *
	g±rmö
 = 
cﬁ‹m≠
.
_d©a
;

18694 c⁄° 
t
 *
	g±Ω
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω_íd
 = 
±Ω
 + 
pwhd
;Ötrp<ptrp_end; ++ptrp) {

18695 
TÊﬂt
 
	gdi°
 = 0; TÊﬂà*
	g_±rs
 = 
±rs
; c⁄° 
t
 *
	g_±Ω
 = 
±Ω
;

18696 
cimg_f‹C
(*
this
,
c
) {

18697 c⁄° 
TÊﬂt
 
	g_vÆ
 = *
_±rs
, 
	gvÆ
 = 
_vÆ
<
vÆm
?vÆm:_vÆ>
vÆM
?valM:_val;

18698 
	gdi°
+=
cimg
::
sqr
((*
_±rs
=
vÆ
Ë- (
TÊﬂt
)*
_±Ω
); 
	g_±rs
+=
cwhd
; 
	g_±Ω
+=
pwhd
;

18700 i‡(
	gdi°
<
	gdi°mö
Ë{ 
	g±rmö
 = 
±Ω
; di°mö = 
di°
; }

18702 c⁄° 
t
 *
	g_±rmö
 = 
±rmö
; 
TÊﬂt
 *
	g_±rs
 = 
±rs
++, *
	g_±r¢
 = (
±r¢
++)-1;

18703 
cimg_f‹C
(*
this
,
c
) {

18704 c⁄° 
TÊﬂt
 
	gîr
 = (*(
_±rs
++Ë- (TÊﬂt)*
_±rmö
)*
ndôhîög
;

18705 *
	g_±rs
+=7*
îr
; *(
	g_±r¢
++)+=3*err; *(_ptrsn++)+=5*err; *_ptrsn+=err;

18706 
	g_±rmö
+=
pwhd
; 
	g_±rs
+=
cwhd
-1; 
	g_±r¢
+=cwhd-2;

18708 i‡(
	gm≠_ödexes
) {

18709 
tuöt
 *
	g_±rd
 = 
±rd
++;

18710 
cimg_f‹C
(*
this
,
c
Ë{ *
	g_±rd
 = (
tuöt
)*
±rmö
; _±rd+=
whd
; 
	g±rmö
+=
pwhd
; }

18712 *(
	g±rd
++Ë(
tuöt
)(
±rmö
 - 
cﬁ‹m≠
.
_d©a
);

18714 
	gcimg
::
sw≠
(
ˇche_cuºít
,
ˇche_√xt
);

18718 
	g_•e˘rum
) {

18720 c⁄° 
T
 *
±rs0
 = 
_d©a
, *
	g±rs_íd
 =Öås0 + 
whd
; 
	g±rs0
<ptrs_end; ) {

18721 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)*(
±rs0
++);

18722 
TÊﬂt
 
	gdi°mö
 = 
cimg
::
ty≥
<TÊﬂt>::
max
(); c⁄° 
t
 *
	g±rmö0
 = 
cﬁ‹m≠
.
_d©a
;

18723 c⁄° 
t
 *
	g±Ω0
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω_íd
 = 
±Ω0
 + 
pwhd
;Ötrp0<ptrp_end; ) {

18724 c⁄° 
TÊﬂt
 
	gpvÆ0
 = (TÊﬂt)*(
±Ω0
++Ë- 
vÆ0
, 
	gdi°
 = 
pvÆ0
*pval0;

18725 i‡(
	gdi°
<
	gdi°mö
Ë{ 
	g±rmö0
 = 
±Ω0
 - 1; di°mö = 
di°
; }

18727 i‡(
	gm≠_ödexes
Ë*(
	g±rd
++Ë(
tuöt
)*
±rmö0
; *’åd++Ë—uöt)’åmö0 - 
cﬁ‹m≠
.
_d©a
);

18731 
tuöt
 *
±rd1
 = 
±rd
 + 
whd
;

18732 c⁄° 
T
 *
	g±rs0
 = 
_d©a
, *
	g±rs1
 = 
±rs0
 + 
whd
, *
	g±rs_íd
 = 
±rs1
;Ötrs0<ptrs_end; ) {

18733 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)*(
±rs0
++), 
	gvÆ1
 = (TÊﬂt)*(
±rs1
++);

18734 
TÊﬂt
 
	gdi°mö
 = 
cimg
::
ty≥
<TÊﬂt>::
max
(); c⁄° 
t
 *
	g±rmö0
 = 
cﬁ‹m≠
.
_d©a
;

18735 c⁄° 
t
 *
	g±Ω0
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω1
 = 
±Ω0
 + 
pwhd
, *
	g±Ω_íd
 = 
±Ω1
;Ötrp0<ptrp_end; ) {

18736 c⁄° 
TÊﬂt


18737 
	gpvÆ0
 = (
TÊﬂt
)*(
±Ω0
++Ë- 
vÆ0
, 
	gpvÆ1
 = (TÊﬂt)*(
±Ω1
++Ë- 
vÆ1
,

18738 
	gdi°
 = 
pvÆ0
*pvÆ0 + 
pvÆ1
*pval1;

18739 i‡(
	gdi°
<
	gdi°mö
Ë{ 
	g±rmö0
 = 
±Ω0
 - 1; di°mö = 
di°
; }

18741 i‡(
	gm≠_ödexes
Ë{ *(
	g±rd
++Ë(
tuöt
)*
±rmö0
; *(
	g±rd1
++Ë—uöt)*’åmö0 + 
pwhd
); }

18742 *(
	g±rd
++Ë(
tuöt
)(
±rmö0
 - 
cﬁ‹m≠
.
_d©a
);

18746 
tuöt
 *
±rd1
 = 
±rd
 + 
whd
, *
	g±rd2
 =Ötrd1 + whd;

18747 c⁄° 
T
 *
	g±rs0
 = 
_d©a
, *
	g±rs1
 = 
±rs0
 + 
whd
, *
	g±rs2
 = 
±rs1
 + whd, *
	g±rs_íd
 =Ötrs1;Ötrs0<ptrs_end; ) {

18748 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)*(
±rs0
++), 
	gvÆ1
 = (TÊﬂt)*(
±rs1
++), 
	gvÆ2
 = (TÊﬂt)*(
±rs2
++);

18749 
TÊﬂt
 
	gdi°mö
 = 
cimg
::
ty≥
<TÊﬂt>::
max
(); c⁄° 
t
 *
	g±rmö0
 = 
cﬁ‹m≠
.
_d©a
;

18750 c⁄° 
t
 *
	g±Ω0
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω1
 = 
±Ω0
 + 
pwhd
, *
	g±Ω2
 = 
±Ω1
 +Öwhd, *
	g±Ω_íd
 =Ötrp1;Ötrp0<ptrp_end; ) {

18751 c⁄° 
TÊﬂt


18752 
	gpvÆ0
 = (
TÊﬂt
)*(
±Ω0
++Ë- 
vÆ0
, 
	gpvÆ1
 = (TÊﬂt)*(
±Ω1
++Ë- 
vÆ1
, 
	gpvÆ2
 = (TÊﬂt)*(
±Ω2
++Ë- 
vÆ2
,

18753 
	gdi°
 = 
pvÆ0
*pvÆ0 + 
pvÆ1
*pvÆ1 + 
pvÆ2
*pval2;

18754 i‡(
	gdi°
<
	gdi°mö
Ë{ 
	g±rmö0
 = 
±Ω0
 - 1; di°mö = 
di°
; }

18756 i‡(
	gm≠_ödexes
Ë{ *(
	g±rd
++Ë(
tuöt
)*
±rmö0
; *(
	g±rd1
++Ë—uöt)*’åmö0 + 
pwhd
); *(
	g±rd2
++) = (tuint)*(ptrmin0 + 2*pwhd); }

18757 *(
	g±rd
++Ë(
tuöt
)(
±rmö0
 - 
cﬁ‹m≠
.
_d©a
);

18761 c⁄° 
T
 *
±rs
 = 
_d©a
, *
	g±rs_íd
 =Öå†+ 
whd
; 
	g±rs
<ptrs_end; ++ptrs) {

18762 
TÊﬂt
 
	gdi°mö
 = 
cimg
::
ty≥
<TÊﬂt>::
max
(); c⁄° 
t
 *
	g±rmö
 = 
cﬁ‹m≠
.
_d©a
;

18763 c⁄° 
t
 *
	g±Ω
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω_íd
 = 
±Ω
 + 
pwhd
;Ötrp<ptrp_end; ++ptrp) {

18764 
TÊﬂt
 
	gdi°
 = 0; c⁄° 
T
 *
	g_±rs
 = 
±rs
; c⁄° 
t
 *
	g_±Ω
 = 
±Ω
;

18765 
cimg_f‹C
(*
this
,
c
Ë{ 
	gdi°
+=
cimg
::
sqr
((
TÊﬂt
)*
_±rs
 - (TÊﬂt)*
_±Ω
); 
	g_±rs
+=
whd
; 
	g_±Ω
+=
pwhd
; }

18766 i‡(
	gdi°
<
	gdi°mö
Ë{ 
	g±rmö
 = 
±Ω
; di°mö = 
di°
; }

18768 i‡(
	gm≠_ödexes
) {

18769 
tuöt
 *
	g_±rd
 = 
±rd
++;

18770 
cimg_f‹C
(*
this
,
c
Ë{ *
	g_±rd
 = (
tuöt
)*
±rmö
; _±rd+=
whd
; 
	g±rmö
+=
pwhd
; }

18772 *(
	g±rd
++Ë(
tuöt
)(
±rmö
 - 
cﬁ‹m≠
.
_d©a
);

18776  
	gªs
;

18792 
	gãm∂©e
<
ty≥«me
 
	gt
>

18793 
	gCImg
<
	gT
>& 
m≠
(c⁄° 
CImg
<
t
>& 
cﬁ‹m≠
) {

18794  
gë_m≠
(
cﬁ‹m≠
).
move_to
(*
this
);

18798 
	gãm∂©e
<
ty≥«me
 
	gt
>

18799 
	gCImg
<
	gt
> 
gë_m≠
(c⁄° 
CImg
<
t
>& 
cﬁ‹m≠
) const {

18800 i‡(
	g_•e˘rum
!=1 && 
cﬁ‹m≠
.
_•e˘rum
!=1)

18801 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


18804 
cimg_ö°™˚
,

18805 
cﬁ‹m≠
.
_width
,cﬁ‹m≠.
_height
,cﬁ‹m≠.
_dïth
,cﬁ‹m≠.
_•e˘rum
,cﬁ‹m≠.
_d©a
);

18807 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gpwhd
 = ()
cﬁ‹m≠
._width*colormap._height*colormap._depth;

18808 
	gCImg
<
	gt
> 
ªs
(
_width
,
_height
,
_dïth
,
cﬁ‹m≠
.
_•e˘rum
==1?_spectrum:colormap._spectrum);

18809 
	gcﬁ‹m≠
.
	g_•e˘rum
) {

18811 c⁄° 
T
 *
±rs
 = 
_d©a
;

18812 
cimg_f‹
(
ªs
,
±rd
,
t
) {

18813 c⁄° 
	g_öd
 = ()*(
±rs
++), 
	göd
 = 
_öd
<
pwhd
?_ind:0;

18814 *
	g±rd
 = 
cﬁ‹m≠
[
öd
];

18818 c⁄° 
t
 *c⁄° 
±Ω0
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω1
 =Öåp0 + 
pwhd
;

18819 
t
 *
	g±rd0
 = 
ªs
.
_d©a
, *
	g±rd1
 = 
±rd0
 + 
whd
;

18820 c⁄° 
T
 *
	g±rs
 = 
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
whd
;Ötrs<ptrs_end; ) {

18821 c⁄° 
	g_öd
 = ()*(
±rs
++), 
	göd
 = 
_öd
<
pwhd
?_ind:0;

18822 *(
	g±rd0
++Ë
±Ω0
[
öd
]; *(
	g±rd1
++Ë
±Ω1
[ind];

18826 c⁄° 
t
 *c⁄° 
±Ω0
 = 
cﬁ‹m≠
.
_d©a
, *
	g±Ω1
 =Öåp0 + 
pwhd
, *
	g±Ω2
 = 
±Ω1
 +Öwhd;

18827 
t
 *
	g±rd0
 = 
ªs
.
_d©a
, *
	g±rd1
 = 
±rd0
 + 
whd
, *
	g±rd2
 = 
±rd1
 + whd;

18828 c⁄° 
T
 *
	g±rs
 = 
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
whd
;Ötrs<ptrs_end; ) {

18829 c⁄° 
	g_öd
 = ()*(
±rs
++), 
	göd
 = 
_öd
<
pwhd
?_ind:0;

18830 *(
	g±rd0
++Ë
±Ω0
[
öd
]; *(
	g±rd1
++Ë
±Ω1
[öd]; *(
	g±rd2
++Ë
±Ω2
[ind];

18834 
t
 *
±rd
 = 
ªs
.
_d©a
;

18835 c⁄° 
T
 *
	g±rs
 = 
_d©a
, *
	g±rs_íd
 = 
±rs
 + 
whd
;Ötrs<ptrs_end; ) {

18836 c⁄° 
	g_öd
 = ()*(
±rs
++), 
	göd
 = 
_öd
<
pwhd
?_ind:0;

18837 c⁄° 
t
 *
	g±Ω
 = 
cﬁ‹m≠
.
_d©a
 + 
öd
;

18838 
t
 *
	g_±rd
 = 
±rd
++; 
cimg_f‹C
(
ªs
,
c
Ë{ *_±rd = *
±Ω
; _±rd+=
whd
; 
	g±Ω
+=
pwhd
; }

18842  
	gªs
;

18856 
	gCImg
<
	gT
>& 
œbñ
(c⁄° 
boﬁ
 
is_high_c⁄√˘ivôy
=
Ál£
, c⁄° 
TÊﬂt
 
tﬁî™˚
=0) {

18857  
gë_œbñ
(
is_high_c⁄√˘ivôy
,
tﬁî™˚
).
move_to
(*
this
);

18861 
	gCImg
<> 
gë_œbñ
(c⁄° 
boﬁ
 
is_high_c⁄√˘ivôy
=
Ál£
,

18862 c⁄° 
TÊﬂt
 
tﬁî™˚
=0) const {

18863 i‡(
is_em±y
()Ë 
CImg
<>();

18866 
	gdx
[13], 
	gdy
[13], 
	gdz
[13], 
	gnb
 = 0;

18867 
	gdx
[
nb
]=1; 
	gdy
[nb] = 0; 
	gdz
[nb++]=0;

18868 
	gdx
[
nb
]=0; 
	gdy
[nb] = 1; 
	gdz
[nb++]=0;

18869 i‡(
	gis_high_c⁄√˘ivôy
) {

18870 
	gdx
[
nb
]=1; 
	gdy
[nb] = 1; 
	gdz
[nb++]=0;

18871 
	gdx
[
nb
]=1; 
	gdy
[nb] = -1; 
	gdz
[nb++]=0;

18873 i‡(
	g_dïth
>1) {

18874 
	gdx
[
nb
]=0; 
	gdy
[nb] = 0; 
	gdz
[nb++]=1;

18875 i‡(
	gis_high_c⁄√˘ivôy
) {

18876 
	gdx
[
nb
]=1; 
	gdy
[nb] = 1; 
	gdz
[nb++]=-1;

18877 
	gdx
[
nb
]=1; 
	gdy
[nb] = 0; 
	gdz
[nb++]=-1;

18878 
	gdx
[
nb
]=1; 
	gdy
[nb] = -1; 
	gdz
[nb++]=-1;

18879 
	gdx
[
nb
]=0; 
	gdy
[nb] = 1; 
	gdz
[nb++]=-1;

18881 
	gdx
[
nb
]=0; 
	gdy
[nb] = 1; 
	gdz
[nb++]=1;

18882 
	gdx
[
nb
]=1; 
	gdy
[nb] = -1; 
	gdz
[nb++]=1;

18883 
	gdx
[
nb
]=1; 
	gdy
[nb] = 0; 
	gdz
[nb++]=1;

18884 
	gdx
[
nb
]=1; 
	gdy
[nb] = 1; 
	gdz
[nb++]=1;

18887  
_gë_œbñ
(
nb
,
dx
,
dy
,
dz
,
tﬁî™˚
);

18895 
	gãm∂©e
<
ty≥«me
 
	gt
>

18896 
	gCImg
<
	gT
>& 
œbñ
(c⁄° 
CImg
<
t
>& 
c⁄√˘ivôy_mask
, c⁄° 
TÊﬂt
 
tﬁî™˚
=0) {

18897  
gë_œbñ
(
c⁄√˘ivôy_mask
,
tﬁî™˚
).
move_to
(*
this
);

18901 
	gãm∂©e
<
ty≥«me
 
	gt
>

18902 
	gCImg
<> 
gë_œbñ
(c⁄° 
CImg
<
t
>& 
c⁄√˘ivôy_mask
,

18903 c⁄° 
TÊﬂt
 
tﬁî™˚
=0) const {

18904 
nb
 = 0;

18905 
cimg_f‹
(
c⁄√˘ivôy_mask
,
±r
,
t
Ëi‡(*
	g±r
Ë++
	gnb
;

18906 
	gCImg
<
	götT
> 
dx
(
nb
,1,1,1,0), 
dy
“b,1,1,1,0), 
dz
(nb,1,1,1,0);

18907 
	gnb
 = 0;

18908 
cimg_f‹XYZ
(
c⁄√˘ivôy_mask
,
x
,
y
,
z
Ëi‡((
	gx
 || 
	gy
 || 
	gz
) &&

18909 
c⁄√˘ivôy_mask
(
x
,
y
,
z
)) {

18910 
	gdx
[
nb
] = 
x
; 
	gdy
[nb] = 
y
; 
	gdz
[nb++] = 
z
;

18912  
_gë_œbñ
(
nb
,
dx
,
dy
,
dz
,
tﬁî™˚
);

18915 
	gCImg
<> 
_gë_œbñ
(c⁄° 
nb
, const 

18916 *c⁄° 
dx
, c⁄° *c⁄° 
dy
, c⁄° *c⁄° 
dz
,

18917 c⁄° 
TÊﬂt
 
tﬁî™˚
) const {

18918 
	gCImg
<> 
ªs
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

18919 
cimg_f‹C
(*
this
,
c
) {

18920 
	gCImg
<> 
	g_ªs
 = 
ªs
.
gë_sh¨ed_ch™√l
(
c
);

18923 *
	g±r
 = 
_ªs
.
d©a
();

18924 
cimg_f‹off
(
_ªs
,
p
Ë*(
	g±r
++) =Ö;

18927 
	gn
 = 0;Ç<
	gnb
; ++n) {

18928 c⁄° 
	g_dx
 = 
dx
[
n
], 
	g_dy
 = 
dy
[n], 
	g_dz
 = 
dz
[n];

18929 i‡(
	g_dx
 || 
	g_dy
 || 
	g_dz
) {

18931 
	gx0
 = 
_dx
<0?-_dx:0,

18932 
	gx1
 = 
_dx
<0?
_width
:_width - _dx,

18933 
	gy0
 = 
_dy
<0?-_dy:0,

18934 
	gy1
 = 
_dy
<0?
_height
:_height - _dy,

18935 
	gz0
 = 
_dz
<0?-_dz:0,

18936 
	gz1
 = 
_dz
<0?
_dïth
:_depth - _dz;

18937 c⁄° 
	gwh
 = ()
_width
*
_height
, 
	goff£t
 = ()
_dz
*
wh
 + ()
_dy
*_width + 
_dx
;

18938 
	gz
 = 
z0
, 
	gnz
 = z0 + 
_dz
, 
	gpz
 = z0*
wh
; z<
	gz1
; ++z, ++nz,Öz+=wh) {

18939 
y
 = 
y0
, 
	gny
 = y0 + 
_dy
, 
	gpy
 = y0*
_width
 + 
pz
; 
	gy
<
	gy1
; ++y, ++ny,Öy+=_width) {

18940 
x
 = 
x0
, 
	gnx
 = x0 + 
_dx
, 
	gp
 = x0 + 
py
; 
	gx
<
	gx1
; ++x, ++nx, ++p) {

18941 i‡((
	gTÊﬂt
)
	gcimg
::
abs
((*
this
)(
x
,
y
,
z
,
c
,
wh
)-(*this)(
nx
,
ny
,
nz
,c,wh))<=
tﬁî™˚
) {

18942 c⁄° 
q
 = 
p
 + 
off£t
;

18943 
	gx
, 
	gy
;

18944 
	gx
 = 
p
<
q
?q:p, 
	gy
 =Ö<q?p:q; x!=
y
 && 
_ªs
[
x
]!=x; ) { x = _ªs[x]; i‡(x<yË
	gcimg
::
sw≠
(x,y); }

18945 i‡(
	gx
!=
y
Ë
_ªs
[
x
] = y;

18946 
	g_p
 = 
p
; _p!=
y
; ) { c⁄° 
	gh
 = 
_ªs
[
_p
]; 
	g_ªs
[_p] = y; _∞
h
; }

18947 
	g_q
 = 
q
; _q!=
y
; ) { c⁄° 
	gh
 = 
_ªs
[
_q
]; 
	g_ªs
[_q] = y; _q = 
h
; }

18956 
	gcou¡î
 = 0;

18957 
	g±r
 = 
_ªs
.
d©a
();

18958 
cimg_f‹off
(
_ªs
,
p
Ë{ *
	g±r
 = *
±r
=ı?
cou¡î
++:_res[*ptr]; ++ptr; }

18960  
	gªs
;

18964 
	gCImg
<
	gT
>& 
_sy°em_°ªsˇ≥
() {

18965 
	#cimg_sy°em_°ªsˇ≥
(
c
,
s
Ë¯: i‡(
p
!=
±rs
Ë
CImg
<
T
>’ås,p-±rs,1,1,1,
Ál£
).
	`move_to
(
li°
); \

18966 
CImg
<
T
>(
s
,
°d
::
	`°æí
(s),1,1,1,
Ál£
).
	`move_to
(
li°
); 
±rs
 = 
p
+1; 

	)

18967 
	gCImgLi°
<
	gT
> 
	gli°
;

18968 c⁄° 
T
 *
	g±rs
 = 
_d©a
;

18969 
cimg_f‹
(*
this
,
p
,
T
Ë()*
	gp
) {

18970 
cimg_sy°em_°ªsˇ≥
('\\',"\\\\");

18971 
cimg_sy°em_°ªsˇ≥
('\"',"\\\"");

18972 
cimg_sy°em_°ªsˇ≥
('!',"\"\\!\"");

18973 
cimg_sy°em_°ªsˇ≥
('`',"\\`");

18974 
cimg_sy°em_°ªsˇ≥
('$',"\\$");

18976 i‡(
	g±rs
<
íd
()Ë
	gCImg
<
	gT
>’ås,íd()-±rs,1,1,1,
	gÁl£
).
move_to
(
li°
);

18977  (
	gli°
>'x').
move_to
(*
this
);

18992 c⁄° 
	gCImg
<
	gTuch¨
>& 
deÁu…_LUT256
() {

18993 
	gCImg
<
	gTuch¨
> 
	gcﬁ‹m≠
;

18994 
	gcimg
::
muãx
(8);

18995 i‡(!
	gcﬁ‹m≠
) {

18996 
	gcﬁ‹m≠
.
assign
(1,256,1,3);

18997 
	gödex
 = 0, 
	gr
 = 16;Ñ<256;Ñ+=32)

18998 
g
 = 16; 
	gg
<256; g+=32)

18999 
b
 = 32; 
	gb
<256; b+=64) {

19000 
cﬁ‹m≠
(0,
ödex
,0Ë(
Tuch¨
)
r
;

19001 
cﬁ‹m≠
(0,
ödex
,1Ë(
Tuch¨
)
g
;

19002 
cﬁ‹m≠
(0,
ödex
++,2Ë(
Tuch¨
)
b
;

19005 
	gcimg
::
muãx
(8,0);

19006  
	gcﬁ‹m≠
;

19014 c⁄° 
	gCImg
<
	gTuch¨
>& 
HSV_LUT256
() {

19015 
	gCImg
<
	gTuch¨
> 
	gcﬁ‹m≠
;

19016 
	gcimg
::
muãx
(8);

19017 i‡(!
	gcﬁ‹m≠
) {

19018 
	gCImg
<
	gTöt
> 
tmp
(1,256,1,3,1);

19019 
	gtmp
.
gë_sh¨ed_ch™√l
(0).
£quí˚
(0,359);

19020 
	gcﬁ‹m≠
 = 
tmp
.
HSVtoRGB
();

19022 
	gcimg
::
muãx
(8,0);

19023  
	gcﬁ‹m≠
;

19031 c⁄° 
	gCImg
<
	gTuch¨
>& 
löes_LUT256
() {

19032 c⁄° 
	g∑l
[] = {

19057 c⁄° 
	gCImg
<
	gTuch¨
> 
cﬁ‹m≠
(
∑l
,1,256,1,3,
Ál£
);

19058  
	gcﬁ‹m≠
;

19066 c⁄° 
	gCImg
<
	gTuch¨
>& 
hŸ_LUT256
() {

19067 
	gCImg
<
	gTuch¨
> 
	gcﬁ‹m≠
;

19068 
	gcimg
::
muãx
(8);

19069 i‡(!
	gcﬁ‹m≠
) {

19070 
	gcﬁ‹m≠
.
assign
(1,4,1,3,0);

19071 
	gcﬁ‹m≠
[1] = 
cﬁ‹m≠
[2] = colormap[3] = colormap[6] = colormap[7] = colormap[11] = 255;

19072 
	gcﬁ‹m≠
.
ªsize
(1,256,1,3,3);

19074 
	gcimg
::
muãx
(8,0);

19075  
	gcﬁ‹m≠
;

19083 c⁄° 
	gCImg
<
	gTuch¨
>& 
coﬁ_LUT256
() {

19084 
	gCImg
<
	gTuch¨
> 
	gcﬁ‹m≠
;

19085 
	gcimg
::
muãx
(8);

19086 i‡(!
	gcﬁ‹m≠
Ëcﬁ‹m≠.
assign
(1,2,1,3).
fûl
(0,255,255,0,255,255).
ªsize
(1,256,1,3,3);

19087 
	gcimg
::
muãx
(8,0);

19088  
	gcﬁ‹m≠
;

19096 c⁄° 
	gCImg
<
	gTuch¨
>& 
jë_LUT256
() {

19097 
	gCImg
<
	gTuch¨
> 
	gcﬁ‹m≠
;

19098 
	gcimg
::
muãx
(8);

19099 i‡(!
	gcﬁ‹m≠
) {

19100 
	gcﬁ‹m≠
.
assign
(1,4,1,3,0);

19101 
	gcﬁ‹m≠
[2] = 
cﬁ‹m≠
[3] = colormap[5] = colormap[6] = colormap[8] = colormap[9] = 255;

19102 
	gcﬁ‹m≠
.
ªsize
(1,256,1,3,3);

19104 
	gcimg
::
muãx
(8,0);

19105  
	gcﬁ‹m≠
;

19113 c⁄° 
	gCImg
<
	gTuch¨
>& 
Êag_LUT256
() {

19114 
	gCImg
<
	gTuch¨
> 
	gcﬁ‹m≠
;

19115 
	gcimg
::
muãx
(8);

19116 i‡(!
	gcﬁ‹m≠
) {

19117 
	gcﬁ‹m≠
.
assign
(1,4,1,3,0);

19118 
	gcﬁ‹m≠
[0] = 
cﬁ‹m≠
[1] = colormap[5] = colormap[9] = colormap[10] = 255;

19119 
	gcﬁ‹m≠
.
ªsize
(1,256,1,3,0,2);

19121 
	gcimg
::
muãx
(8,0);

19122  
	gcﬁ‹m≠
;

19130 c⁄° 
	gCImg
<
	gTuch¨
>& 
cube_LUT256
() {

19131 
	gCImg
<
	gTuch¨
> 
	gcﬁ‹m≠
;

19132 
	gcimg
::
muãx
(8);

19133 i‡(!
	gcﬁ‹m≠
) {

19134 
	gcﬁ‹m≠
.
assign
(1,8,1,3,0);

19135 
	gcﬁ‹m≠
[1] = 
cﬁ‹m≠
[3] = colormap[5] = colormap[7] =

19136 
cﬁ‹m≠
[10] = colormap[11] = colormap[12] = colormap[13] =

19137 
cﬁ‹m≠
[20] = colormap[21] = colormap[22] = colormap[23] = 255;

19138 
	gcﬁ‹m≠
.
ªsize
(1,256,1,3,3);

19140 
	gcimg
::
muãx
(8,0);

19141  
	gcﬁ‹m≠
;

19145 
	gCImg
<
	gT
>& 
sRGBtoRGB
() {

19146 
cimg_f‹
(*
this
,
±r
,
T
) {

19147 c⁄° 
TÊﬂt


19148 
	gsvÆ
 = (
TÊﬂt
)*
±r
,

19149 
	gnsvÆ
 = (
svÆ
<0?0:sval>255?255:sval)/255,

19150 
	gvÆ
 = (
TÊﬂt
)(
nsvÆ
<=0.04045f?nsvÆ/12.92f:
°d
::
pow
((nsval+0.055f)/(1.055f),2.4f));

19151 *
	g±r
 = (
T
)(
vÆ
*255);

19153  *
	gthis
;

19157 
	gCImg
<
	gTÊﬂt
> 
gë_sRGBtoRGB
() const {

19158  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
sRGBtoRGB
();

19162 
	gCImg
<
	gT
>& 
RGBtosRGB
() {

19163 
cimg_f‹
(*
this
,
±r
,
T
) {

19164 c⁄° 
TÊﬂt


19165 
	gvÆ
 = (
TÊﬂt
)*
±r
,

19166 
	gnvÆ
 = (
vÆ
<0?0:val>255?255:val)/255,

19167 
	gsvÆ
 = (
TÊﬂt
)(
nvÆ
<=0.0031308f?nvÆ*12.92f:1.055f*
°d
::
pow
(nval,0.416667f)-0.055f);

19168 *
	g±r
 = (
T
)(
svÆ
*255);

19170  *
	gthis
;

19174 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtosRGB
() const {

19175  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtosRGB
();

19179 
	gCImg
<
	gT
>& 
RGBtoHSV
() {

19180 i‡(
	g_•e˘rum
!=3)

19181 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19183 
cimg_ö°™˚
);

19185 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19186 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19187 c⁄° 
TÊﬂt


19188 
	gR
 = (
TÊﬂt
)*
p1
,

19189 
	gG
 = (
TÊﬂt
)*
p2
,

19190 
	gB
 = (
TÊﬂt
)*
p3
,

19191 
	gnR
 = (
R
<0?0:(R>255?255:R))/255,

19192 
	gnG
 = (
G
<0?0:(G>255?255:G))/255,

19193 
	gnB
 = (
B
<0?0:(B>255?255:B))/255,

19194 
	gm
 = 
cimg
::
mö
(
nR
,
nG
,
nB
),

19195 
	gM
 = 
cimg
::
max
(
nR
,
nG
,
nB
);

19196 
TÊﬂt
 
	gH
 = 0, 
	gS
 = 0;

19197 i‡(
	gM
!=
m
) {

19198 c⁄° 
TÊﬂt


19199 
f
 = (
nR
==
m
)?(
nG
-
nB
):((nG==m)?(nB-nR):(nR-nG)),

19200 
	gi
 = (
TÊﬂt
)((
nR
==
m
)?3:((
nG
==m)?5:1));

19201 
	gH
 = (
i
-
f
/(
M
-
m
));

19202 i‡(
	gH
>=6Ë
H
-=6;

19203 
	gH
*=60;

19204 
	gS
 = (
M
-
m
)/M;

19206 *(
	gp1
++Ë(
T
)
H
;

19207 *(
	gp2
++Ë(
T
)
S
;

19208 *(
	gp3
++Ë(
T
)
M
;

19210  *
	gthis
;

19214 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtoHSV
() const {

19215  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoHSV
();

19219 
	gCImg
<
	gT
>& 
HSVtoRGB
() {

19220 i‡(
	g_•e˘rum
!=3)

19221 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19223 
cimg_ö°™˚
);

19225 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19226 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19227 
TÊﬂt


19228 
	gH
 = (
TÊﬂt
)*
p1
,

19229 
	gS
 = (
TÊﬂt
)*
p2
,

19230 
	gV
 = (
TÊﬂt
)*
p3
,

19231 
	gR
 = 0, 
	gG
 = 0, 
	gB
 = 0;

19232 i‡(
	gH
==0 && 
S
==0Ë
R
 = 
G
 = 
B
 = 
V
;

19234 
	gH
/=60;

19235 c⁄° 
	gi
 = ()
°d
::
Êo‹
(
H
);

19236 c⁄° 
TÊﬂt


19237 
	gf
 = (
i
&1)?(
H
 - i):(1 - H + i),

19238 
	gm
 = 
V
*(1 - 
S
),

19239 
	gn
 = 
V
*(1 - 
S
*
f
);

19240 
	gi
) {

19242 0 : 
R
 = 
V
; 
	gG
 = 
n
; 
	gB
 = 
m
; ;

19243 1 : 
R
 = 
n
; 
	gG
 = 
V
; 
	gB
 = 
m
; ;

19244 2 : 
R
 = 
m
; 
	gG
 = 
V
; 
	gB
 = 
n
; ;

19245 3 : 
R
 = 
m
; 
	gG
 = 
n
; 
	gB
 = 
V
; ;

19246 4 : 
R
 = 
n
; 
	gG
 = 
m
; 
	gB
 = 
V
; ;

19247 5 : 
R
 = 
V
; 
	gG
 = 
m
; 
	gB
 = 
n
; ;

19250 
	gR
*=255; 
	gG
*=255; 
	gB
*=255;

19251 *(
	gp1
++Ë(
T
)(
R
<0?0:(R>255?255:R));

19252 *(
	gp2
++Ë(
T
)(
G
<0?0:(G>255?255:G));

19253 *(
	gp3
++Ë(
T
)(
B
<0?0:(B>255?255:B));

19255  *
	gthis
;

19259 
	gCImg
<
	gTuch¨
> 
gë_HSVtoRGB
() const {

19260  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
HSVtoRGB
();

19264 
	gCImg
<
	gT
>& 
RGBtoHSL
() {

19265 i‡(
	g_•e˘rum
!=3)

19266 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19268 
cimg_ö°™˚
);

19270 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19271 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19272 c⁄° 
TÊﬂt


19273 
	gR
 = (
TÊﬂt
)*
p1
,

19274 
	gG
 = (
TÊﬂt
)*
p2
,

19275 
	gB
 = (
TÊﬂt
)*
p3
,

19276 
	gnR
 = (
R
<0?0:(R>255?255:R))/255,

19277 
	gnG
 = (
G
<0?0:(G>255?255:G))/255,

19278 
	gnB
 = (
B
<0?0:(B>255?255:B))/255,

19279 
	gm
 = 
cimg
::
mö
(
nR
,
nG
,
nB
),

19280 
	gM
 = 
cimg
::
max
(
nR
,
nG
,
nB
),

19281 
	gL
 = (
m
 + 
M
)/2;

19282 
TÊﬂt
 
	gH
 = 0, 
	gS
 = 0;

19283 i‡(
	gM
==
m
Ë
H
 = 
S
 = 0;

19285 c⁄° 
TÊﬂt


19286 
	gf
 = (
nR
==
m
)?(
nG
-
nB
):((nG==m)?(nB-nR):(nR-nG)),

19287 
	gi
 = (
nR
==
m
)?3.0f:((
nG
==m)?5.0f:1.0f);

19288 
	gH
 = (
i
-
f
/(
M
-
m
));

19289 i‡(
	gH
>=6Ë
H
-=6;

19290 
	gH
*=60;

19291 
	gS
 = (2*
L
<=1)?((
M
-
m
)/(M+m)):((M-m)/(2-M-m));

19293 *(
	gp1
++Ë(
T
)
H
;

19294 *(
	gp2
++Ë(
T
)
S
;

19295 *(
	gp3
++Ë(
T
)
L
;

19297  *
	gthis
;

19301 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtoHSL
() const {

19302  
	gCImg
< 
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoHSL
();

19306 
	gCImg
<
	gT
>& 
HSLtoRGB
() {

19307 i‡(
	g_•e˘rum
!=3)

19308 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19310 
cimg_ö°™˚
);

19312 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19313 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19314 c⁄° 
TÊﬂt


19315 
	gH
 = (
TÊﬂt
)*
p1
,

19316 
	gS
 = (
TÊﬂt
)*
p2
,

19317 
	gL
 = (
TÊﬂt
)*
p3
,

19318 
	gq
 = 2*
L
<1?L*(1+
S
):(L+S-L*S),

19319 
	gp
 = 2*
L
-
q
,

19320 
	gh
 = 
H
/360,

19321 
	gå
 = 
h
 + 1.0f/3,

19322 
	gtg
 = 
h
,

19323 
	gtb
 = 
h
 - 1.0f/3,

19324 
	g¡r
 = 
å
<0?tr+1:(tr>1?tr-1:tr),

19325 
	g¡g
 = 
tg
<0?tg+1:(tg>1?tg-1:tg),

19326 
	g¡b
 = 
tb
<0?tb+1:(tb>1?tb-1:tb),

19327 
	gR
 = 255*(6*
¡r
<1?
p
+(
q
-p)*6*ntr:(2*ntr<1?q:(3*ntr<2?p+(q-p)*6*(2.0f/3-ntr):p))),

19328 
	gG
 = 255*(6*
¡g
<1?
p
+(
q
-p)*6*ntg:(2*ntg<1?q:(3*ntg<2?p+(q-p)*6*(2.0f/3-ntg):p))),

19329 
	gB
 = 255*(6*
¡b
<1?
p
+(
q
-p)*6*ntb:(2*ntb<1?q:(3*ntb<2?p+(q-p)*6*(2.0f/3-ntb):p)));

19330 *(
	gp1
++Ë(
T
)(
R
<0?0:(R>255?255:R));

19331 *(
	gp2
++Ë(
T
)(
G
<0?0:(G>255?255:G));

19332 *(
	gp3
++Ë(
T
)(
B
<0?0:(B>255?255:B));

19334  *
	gthis
;

19338 
	gCImg
<
	gTuch¨
> 
gë_HSLtoRGB
() const {

19339  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
HSLtoRGB
();

19343 
	gCImg
<
	gT
>& 
RGBtoHSI
() {

19344 i‡(
	g_•e˘rum
!=3)

19345 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19347 
cimg_ö°™˚
);

19349 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19350 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19351 c⁄° 
TÊﬂt


19352 
	gR
 = (
TÊﬂt
)*
p1
,

19353 
	gG
 = (
TÊﬂt
)*
p2
,

19354 
	gB
 = (
TÊﬂt
)*
p3
,

19355 
	gnR
 = (
R
<0?0:(R>255?255:R))/255,

19356 
	gnG
 = (
G
<0?0:(G>255?255:G))/255,

19357 
	gnB
 = (
B
<0?0:(B>255?255:B))/255,

19358 
	gm
 = 
cimg
::
mö
(
nR
,
nG
,
nB
),

19359 
	gthëa
 = (
TÊﬂt
)(
°d
::
acos
(0.5f*((
nR
-
nG
)+“R-
nB
))/°d::
sqπ
(°d::
pow
“R-nG,2)+“R-nB)*“G-nB)))*180/
	gcimg
::
PI
),

19360 
	gsum
 = 
nR
 + 
nG
 + 
nB
;

19361 
TÊﬂt
 
	gH
 = 0, 
	gS
 = 0, 
	gI
 = 0;

19362 i‡(
	gthëa
>0Ë
	gH
 = (
nB
<=
nG
)?
thëa
:360-theta;

19363 i‡(
	gsum
>0Ë
	gS
 = 1 - 3/
sum
*
m
;

19364 
	gI
 = 
sum
/3;

19365 *(
	gp1
++Ë(
T
)
H
;

19366 *(
	gp2
++Ë(
T
)
S
;

19367 *(
	gp3
++Ë(
T
)
I
;

19369  *
	gthis
;

19373 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtoHSI
() const {

19374  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoHSI
();

19378 
	gCImg
<
	gT
>& 
HSItoRGB
() {

19379 i‡(
	g_•e˘rum
!=3)

19380 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19382 
cimg_ö°™˚
);

19384 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19385 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19386 
TÊﬂt


19387 
	gH
 = (
TÊﬂt
)*
p1
,

19388 
	gS
 = (
TÊﬂt
)*
p2
,

19389 
	gI
 = (
TÊﬂt
)*
p3
,

19390 
	ga
 = 
I
*(1-
S
),

19391 
	gR
 = 0, 
	gG
 = 0, 
	gB
 = 0;

19392 i‡(
	gH
<120) {

19393 
	gB
 = 
a
;

19394 
	gR
 = (
TÊﬂt
)(
I
*(1+
S
*
°d
::
cos
(
H
*
cimg
::
PI
/180)/std::cos((60-H)*cimg::PI/180)));

19395 
	gG
 = 3*
I
-(
R
+
B
);

19396 } i‡(
	gH
<240) {

19397 
	gH
-=120;

19398 
	gR
 = 
a
;

19399 
	gG
 = (
TÊﬂt
)(
I
*(1+
S
*
°d
::
cos
(
H
*
cimg
::
PI
/180)/std::cos((60-H)*cimg::PI/180)));

19400 
	gB
 = 3*
I
-(
R
+
G
);

19402 
	gH
-=240;

19403 
	gG
 = 
a
;

19404 
	gB
 = (
TÊﬂt
)(
I
*(1+
S
*
°d
::
cos
(
H
*
cimg
::
PI
/180)/std::cos((60-H)*cimg::PI/180)));

19405 
	gR
 = 3*
I
-(
G
+
B
);

19407 
	gR
*=255; 
	gG
*=255; 
	gB
*=255;

19408 *(
	gp1
++Ë(
T
)(
R
<0?0:(R>255?255:R));

19409 *(
	gp2
++Ë(
T
)(
G
<0?0:(G>255?255:G));

19410 *(
	gp3
++Ë(
T
)(
B
<0?0:(B>255?255:B));

19412  *
	gthis
;

19416 
	gCImg
<
	gTÊﬂt
> 
gë_HSItoRGB
() const {

19417  
	gCImg
< 
	gTuch¨
>(*
	gthis
,
	gÁl£
).
HSItoRGB
();

19421 
	gCImg
<
	gT
>& 
RGBtoYCbCr
() {

19422 i‡(
	g_•e˘rum
!=3)

19423 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19425 
cimg_ö°™˚
);

19427 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19428 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19429 c⁄° 
TÊﬂt


19430 
	gR
 = (
TÊﬂt
)*
p1
,

19431 
	gG
 = (
TÊﬂt
)*
p2
,

19432 
	gB
 = (
TÊﬂt
)*
p3
,

19433 
	gY
 = (66*
R
 + 129*
G
 + 25*
B
 + 128)/256 + 16,

19434 
	gCb
 = (-38*
R
 - 74*
G
 + 112*
B
 + 128)/256 + 128,

19435 
	gCr
 = (112*
R
 - 94*
G
 - 18*
B
 + 128)/256 + 128;

19436 *(
	gp1
++Ë(
T
)(
Y
<0?0:(Y>255?255:Y));

19437 *(
	gp2
++Ë(
T
)(
Cb
<0?0:(Cb>255?255:Cb));

19438 *(
	gp3
++Ë(
T
)(
Cr
<0?0:(Cr>255?255:Cr));

19440  *
	gthis
;

19444 
	gCImg
<
	gTuch¨
> 
gë_RGBtoYCbCr
() const {

19445  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
RGBtoYCbCr
();

19449 
	gCImg
<
	gT
>& 
YCbCπoRGB
() {

19450 i‡(
	g_•e˘rum
!=3)

19451 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19453 
cimg_ö°™˚
);

19455 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19456 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19457 c⁄° 
TÊﬂt


19458 
	gY
 = (
TÊﬂt
)*
p1
 - 16,

19459 
	gCb
 = (
TÊﬂt
)*
p2
 - 128,

19460 
	gCr
 = (
TÊﬂt
)*
p3
 - 128,

19461 
	gR
 = (298*
Y
 + 409*
Cr
 + 128)/256,

19462 
	gG
 = (298*
Y
 - 100*
Cb
 - 208*
Cr
 + 128)/256,

19463 
	gB
 = (298*
Y
 + 516*
Cb
 + 128)/256;

19464 *(
	gp1
++Ë(
T
)(
R
<0?0:(R>255?255:R));

19465 *(
	gp2
++Ë(
T
)(
G
<0?0:(G>255?255:G));

19466 *(
	gp3
++Ë(
T
)(
B
<0?0:(B>255?255:B));

19468  *
	gthis
;

19472 
	gCImg
<
	gTuch¨
> 
gë_YCbCπoRGB
() const {

19473  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
YCbCπoRGB
();

19477 
	gCImg
<
	gT
>& 
RGBtoYUV
() {

19478 i‡(
	g_•e˘rum
!=3)

19479 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19481 
cimg_ö°™˚
);

19483 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19484 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19485 c⁄° 
TÊﬂt


19486 
	gR
 = (
TÊﬂt
)*
p1
/255,

19487 
	gG
 = (
TÊﬂt
)*
p2
/255,

19488 
	gB
 = (
TÊﬂt
)*
p3
/255,

19489 
	gY
 = 0.299f*
R
 + 0.587f*
G
 + 0.114f*
B
;

19490 *(
	gp1
++Ë(
T
)
Y
;

19491 *(
	gp2
++Ë(
T
)(0.492f*(
B
-
Y
));

19492 *(
	gp3
++Ë(
T
)(0.877*(
R
-
Y
));

19494  *
	gthis
;

19498 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtoYUV
() const {

19499  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoYUV
();

19503 
	gCImg
<
	gT
>& 
YUVtoRGB
() {

19504 i‡(
	g_•e˘rum
!=3)

19505 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19507 
cimg_ö°™˚
);

19509 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19510 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19511 c⁄° 
TÊﬂt


19512 
	gY
 = (
TÊﬂt
)*
p1
,

19513 
	gU
 = (
TÊﬂt
)*
p2
,

19514 
	gV
 = (
TÊﬂt
)*
p3
,

19515 
	gR
 = (
Y
 + 1.140f*
V
)*255,

19516 
	gG
 = (
Y
 - 0.395f*
U
 - 0.581f*
V
)*255,

19517 
	gB
 = (
Y
 + 2.032f*
U
)*255;

19518 *(
	gp1
++Ë(
T
)(
R
<0?0:(R>255?255:R));

19519 *(
	gp2
++Ë(
T
)(
G
<0?0:(G>255?255:G));

19520 *(
	gp3
++Ë(
T
)(
B
<0?0:(B>255?255:B));

19522  *
	gthis
;

19526 
	gCImg
<
	gTuch¨
> 
gë_YUVtoRGB
() const {

19527  
	gCImg
< 
	gTuch¨
>(*
	gthis
,
	gÁl£
).
YUVtoRGB
();

19531 
	gCImg
<
	gT
>& 
RGBtoCMY
() {

19532 i‡(
	g_•e˘rum
!=3)

19533 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19535 
cimg_ö°™˚
);

19537 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19538 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19539 c⁄° 
TÊﬂt


19540 
	gR
 = (
TÊﬂt
)*
p1
,

19541 
	gG
 = (
TÊﬂt
)*
p2
,

19542 
	gB
 = (
TÊﬂt
)*
p3
,

19543 
	gC
 = 255 - 
R
,

19544 
	gM
 = 255 - 
G
,

19545 
	gY
 = 255 - 
B
;

19546 *(
	gp1
++Ë(
T
)(
C
<0?0:(C>255?255:C));

19547 *(
	gp2
++Ë(
T
)(
M
<0?0:(M>255?255:M));

19548 *(
	gp3
++Ë(
T
)(
Y
<0?0:(Y>255?255:Y));

19550  *
	gthis
;

19554 
	gCImg
<
	gTuch¨
> 
gë_RGBtoCMY
() const {

19555  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoCMY
();

19559 
	gCImg
<
	gT
>& 
CMYtoRGB
() {

19560 i‡(
	g_•e˘rum
!=3)

19561 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19563 
cimg_ö°™˚
);

19565 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19566 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19567 c⁄° 
TÊﬂt


19568 
	gC
 = (
TÊﬂt
)*
p1
,

19569 
	gM
 = (
TÊﬂt
)*
p2
,

19570 
	gY
 = (
TÊﬂt
)*
p3
,

19571 
	gR
 = 255 - 
C
,

19572 
	gG
 = 255 - 
M
,

19573 
	gB
 = 255 - 
Y
;

19574 *(
	gp1
++Ë(
T
)(
R
<0?0:(R>255?255:R));

19575 *(
	gp2
++Ë(
T
)(
G
<0?0:(G>255?255:G));

19576 *(
	gp3
++Ë(
T
)(
B
<0?0:(B>255?255:B));

19578  *
	gthis
;

19582 
	gCImg
<
	gTuch¨
> 
gë_CMYtoRGB
() const {

19583  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
CMYtoRGB
();

19587 
	gCImg
<
	gT
>& 
CMYtoCMYK
() {

19588  
gë_CMYtoCMYK
().
move_to
(*
this
);

19592 
	gCImg
<
	gTuch¨
> 
gë_CMYtoCMYK
() const {

19593 i‡(
	g_•e˘rum
!=3)

19594 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19596 
cimg_ö°™˚
);

19598 
	gCImg
<
	gTÊﬂt
> 
ªs
(
_width
,
_height
,
_dïth
,4);

19599 c⁄° 
T
 *
	gps1
 = 
d©a
(0,0,0,0), *
	gps2
 = d©a(0,0,0,1), *
	gps3
 = data(0,0,0,2);

19600 
TÊﬂt
 *
	gpd1
 = 
ªs
.
d©a
(0,0,0,0), *
	gpd2
 =Ñes.d©a(0,0,0,1), *
	gpd3
 =Ñes.d©a(0,0,0,2), *
	gpd4
 =Ñes.data(0,0,0,3);

19601 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19602 
TÊﬂt


19603 
	gC
 = (
TÊﬂt
)*(
ps1
++),

19604 
	gM
 = (
TÊﬂt
)*(
ps2
++),

19605 
	gY
 = (
TÊﬂt
)*(
ps3
++),

19606 
	gK
 = 
cimg
::
mö
(
C
,
M
,
Y
);

19607 i‡(
	gK
>=255Ë
C
 = 
M
 = 
Y
 = 0;

19608 { c⁄° 
TÊﬂt
 
	gK1
 = 255 - 
K
; 
	gC
 = 255*(
C
 - K)/
K1
; 
	gM
 = 255*(
M
 - K)/K1; 
	gY
 = 255*(
Y
 - K)/K1; }

19609 *(
	gpd1
++Ë(
TÊﬂt
)(
C
<0?0:(C>255?255:C));

19610 *(
	gpd2
++Ë(
TÊﬂt
)(
M
<0?0:(M>255?255:M));

19611 *(
	gpd3
++Ë(
TÊﬂt
)(
Y
<0?0:(Y>255?255:Y));

19612 *(
	gpd4
++Ë(
TÊﬂt
)(
K
<0?0:(K>255?255:K));

19614  
	gªs
;

19618 
	gCImg
<
	gT
>& 
CMYKtoCMY
() {

19619  
gë_CMYKtoCMY
().
move_to
(*
this
);

19623 
	gCImg
<
	gTÊﬂt
> 
gë_CMYKtoCMY
() const {

19624 i‡(
	g_•e˘rum
!=4)

19625 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19627 
cimg_ö°™˚
);

19629 
	gCImg
<
	gTÊﬂt
> 
ªs
(
_width
,
_height
,
_dïth
,3);

19630 c⁄° 
T
 *
	gps1
 = 
d©a
(0,0,0,0), *
	gps2
 = d©a(0,0,0,1), *
	gps3
 = d©a(0,0,0,2), *
	gps4
 = data(0,0,0,3);

19631 
TÊﬂt
 *
	gpd1
 = 
ªs
.
d©a
(0,0,0,0), *
	gpd2
 =Ñes.d©a(0,0,0,1), *
	gpd3
 =Ñes.data(0,0,0,2);

19632 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19633 c⁄° 
TÊﬂt


19634 
	gC
 = (
TÊﬂt
)*(
ps1
++),

19635 
	gM
 = (
TÊﬂt
)*(
ps2
++),

19636 
	gY
 = (
TÊﬂt
)*(
ps3
++),

19637 
	gK
 = (
TÊﬂt
)*(
ps4
++),

19638 
	gK1
 = 1 - 
K
/255,

19639 
	gnC
 = 
C
*
K1
 + 
K
,

19640 
	gnM
 = 
M
*
K1
 + 
K
,

19641 
	gnY
 = 
Y
*
K1
 + 
K
;

19642 *(
	gpd1
++Ë(
TÊﬂt
)(
nC
<0?0:(nC>255?255:nC));

19643 *(
	gpd2
++Ë(
TÊﬂt
)(
nM
<0?0:(nM>255?255:nM));

19644 *(
	gpd3
++Ë(
TÊﬂt
)(
nY
<0?0:(nY>255?255:nY));

19646  
	gªs
;

19653 
	gCImg
<
	gT
>& 
RGBtoXYZ
() {

19654 i‡(
	g_•e˘rum
!=3)

19655 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19657 
cimg_ö°™˚
);

19659 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19660 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19661 c⁄° 
TÊﬂt


19662 
	gR
 = (
TÊﬂt
)*
p1
/255,

19663 
	gG
 = (
TÊﬂt
)*
p2
/255,

19664 
	gB
 = (
TÊﬂt
)*
p3
/255;

19665 *(
	gp1
++Ë(
T
)(0.412453f*
R
 + 0.357580f*
G
 + 0.180423f*
B
);

19666 *(
	gp2
++Ë(
T
)(0.212671f*
R
 + 0.715160f*
G
 + 0.072169f*
B
);

19667 *(
	gp3
++Ë(
T
)(0.019334f*
R
 + 0.119193f*
G
 + 0.950227f*
B
);

19669  *
	gthis
;

19673 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtoXYZ
() const {

19674  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoXYZ
();

19678 
	gCImg
<
	gT
>& 
XYZtoRGB
() {

19679 i‡(
	g_•e˘rum
!=3)

19680 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19682 
cimg_ö°™˚
);

19684 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19685 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19686 c⁄° 
TÊﬂt


19687 
	gX
 = (
TÊﬂt
)*
p1
*255,

19688 
	gY
 = (
TÊﬂt
)*
p2
*255,

19689 
	gZ
 = (
TÊﬂt
)*
p3
*255,

19690 
	gR
 = 3.240479f*
X
 - 1.537150f*
Y
 - 0.498535f*
Z
,

19691 
	gG
 = -0.969256f*
X
 + 1.875992f*
Y
 + 0.041556f*
Z
,

19692 
	gB
 = 0.055648f*
X
 - 0.204043f*
Y
 + 1.057311f*
Z
;

19693 *(
	gp1
++Ë(
T
)(
R
<0?0:(R>255?255:R));

19694 *(
	gp2
++Ë(
T
)(
G
<0?0:(G>255?255:G));

19695 *(
	gp3
++Ë(
T
)(
B
<0?0:(B>255?255:B));

19697  *
	gthis
;

19701 
	gCImg
<
	gTuch¨
> 
gë_XYZtoRGB
() const {

19702  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
XYZtoRGB
();

19706 
	gCImg
<
	gT
>& 
XYZtoLab
() {

19707 
	#_cimg_Labf
(
x
Ë((x)>=0.008856f?(
°d
::
	`pow
(x,(
TÊﬂt
)1/3)):(7.787f*(x)+16.0f/116))

	)

19709 i‡(
	g_•e˘rum
!=3)

19710 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19712 
cimg_ö°™˚
);

19714 c⁄° 
TÊﬂt


19715 
	gXn
 = (
TÊﬂt
)(0.412453f + 0.357580f + 0.180423f),

19716 
	gYn
 = (
TÊﬂt
)(0.212671f + 0.715160f + 0.072169f),

19717 
	gZn
 = (
TÊﬂt
)(0.019334f + 0.119193f + 0.950227f);

19718 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19719 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19720 c⁄° 
TÊﬂt


19721 
	gX
 = (
TÊﬂt
)*
p1
,

19722 
	gY
 = (
TÊﬂt
)*
p2
,

19723 
	gZ
 = (
TÊﬂt
)*
p3
,

19724 
	gXXn
 = 
X
/
Xn
, 
	gYYn
 = 
Y
/
Yn
, 
	gZZn
 = 
Z
/
Zn
,

19725 
	gfX
 = (
TÊﬂt
)
_cimg_Labf
(
XXn
),

19726 
	gfY
 = (
TÊﬂt
)
_cimg_Labf
(
YYn
),

19727 
	gfZ
 = (
TÊﬂt
)
_cimg_Labf
(
ZZn
);

19728 *(
	gp1
++Ë(
T
)
cimg
::
max
(0.0f,116*
fY
 - 16);

19729 *(
	gp2
++Ë(
T
)(500*(
fX
 - 
fY
));

19730 *(
	gp3
++Ë(
T
)(200*(
fY
 - 
fZ
));

19732  *
	gthis
;

19736 
	gCImg
<
	gTÊﬂt
> 
gë_XYZtoLab
() const {

19737  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
XYZtoLab
();

19741 
	gCImg
<
	gT
>& 
LabtoXYZ
() {

19742 
	#_cimg_Labfi
(
x
Ë((x)>=0.206893f?((x)*(x)*(x)):(((x)-16.0f/116)/7.787f))

	)

19744 i‡(
	g_•e˘rum
!=3)

19745 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19747 
cimg_ö°™˚
);

19749 c⁄° 
TÊﬂt


19750 
	gXn
 = (
TÊﬂt
)(0.412453f + 0.357580f + 0.180423f),

19751 
	gYn
 = (
TÊﬂt
)(0.212671f + 0.715160f + 0.072169f),

19752 
	gZn
 = (
TÊﬂt
)(0.019334f + 0.119193f + 0.950227f);

19753 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19754 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19755 c⁄° 
TÊﬂt


19756 
	gL
 = (
TÊﬂt
)*
p1
,

19757 
	ga
 = (
TÊﬂt
)*
p2
,

19758 
	gb
 = (
TÊﬂt
)*
p3
,

19759 
	gcY
 = (
L
 + 16)/116,

19760 
	gY
 = (
TÊﬂt
)(
Yn
*
_cimg_Labfi
(
cY
)),

19761 
	gpY
 = (
TÊﬂt
)
°d
::
pow
(
Y
/
Yn
,(Tfloat)1/3),

19762 
	gcX
 = 
a
/500 + 
pY
,

19763 
	gX
 = 
Xn
*
cX
*cX*cX,

19764 
	gcZ
 = 
pY
 - 
b
/200,

19765 
	gZ
 = 
Zn
*
cZ
*cZ*cZ;

19766 *(
	gp1
++Ë(
T
)(
X
);

19767 *(
	gp2
++Ë(
T
)(
Y
);

19768 *(
	gp3
++Ë(
T
)(
Z
);

19770  *
	gthis
;

19774 
	gCImg
<
	gTÊﬂt
> 
gë_LabtoXYZ
() const {

19775  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
LabtoXYZ
();

19779 
	gCImg
<
	gT
>& 
XYZtoxyY
() {

19780 i‡(
	g_•e˘rum
!=3)

19781 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19783 
cimg_ö°™˚
);

19785 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19786 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19787 c⁄° 
TÊﬂt


19788 
	gX
 = (
TÊﬂt
)*
p1
,

19789 
	gY
 = (
TÊﬂt
)*
p2
,

19790 
	gZ
 = (
TÊﬂt
)*
p3
,

19791 
	gsum
 = (
X
+
Y
+
Z
),

19792 
	gnsum
 = 
sum
>0?sum:1;

19793 *(
	gp1
++Ë(
T
)(
X
/
nsum
);

19794 *(
	gp2
++Ë(
T
)(
Y
/
nsum
);

19795 *(
	gp3
++Ë(
T
)
Y
;

19797  *
	gthis
;

19801 
	gCImg
<
	gTÊﬂt
> 
gë_XYZtoxyY
() const {

19802  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
XYZtoxyY
();

19806 
	gCImg
<
	gT
>& 
xyYtoXYZ
() {

19807 i‡(
	g_•e˘rum
!=3)

19808 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19810 
cimg_ö°™˚
);

19812 
T
 *
	gp1
 = 
d©a
(0,0,0,0), *
	gp2
 = d©a(0,0,0,1), *
	gp3
 = data(0,0,0,2);

19813 
	gN
 = ()
_width
*
_height
*
_dïth
; N; --N) {

19814 c⁄° 
TÊﬂt


19815 
	gpx
 = (
TÊﬂt
)*
p1
,

19816 
	gpy
 = (
TÊﬂt
)*
p2
,

19817 
	gY
 = (
TÊﬂt
)*
p3
,

19818 
	gny
 = 
py
>0?py:1;

19819 *(
	gp1
++Ë(
T
)(
px
*
Y
/
ny
);

19820 *(
	gp2
++Ë(
T
)
Y
;

19821 *(
	gp3
++Ë(
T
)((1-
px
-
py
)*
Y
/
ny
);

19823  *
	gthis
;

19827 
	gCImg
<
	gTÊﬂt
> 
gë_xyYtoXYZ
() const {

19828  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
xyYtoXYZ
();

19832 
	gCImg
<
	gT
>& 
RGBtoLab
() {

19833  
RGBtoXYZ
().
XYZtoLab
();

19837 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtoLab
() const {

19838  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoLab
();

19842 
	gCImg
<
	gT
>& 
LabtoRGB
() {

19843  
LabtoXYZ
().
XYZtoRGB
();

19847 
	gCImg
<
	gTuch¨
> 
gë_LabtoRGB
() const {

19848  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
LabtoRGB
();

19852 
	gCImg
<
	gT
>& 
RGBtoxyY
() {

19853  
RGBtoXYZ
().
XYZtoxyY
();

19857 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtoxyY
() const {

19858  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoxyY
();

19862 
	gCImg
<
	gT
>& 
xyYtoRGB
() {

19863  
xyYtoXYZ
().
XYZtoRGB
();

19867 
	gCImg
<
	gTuch¨
> 
gë_xyYtoRGB
() const {

19868  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
xyYtoRGB
();

19872 
	gCImg
<
	gT
>& 
RGBtoCMYK
() {

19873  
RGBtoCMY
().
CMYtoCMYK
();

19877 
	gCImg
<
	gTÊﬂt
> 
gë_RGBtoCMYK
() const {

19878  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
RGBtoCMYK
();

19882 
	gCImg
<
	gT
>& 
CMYKtoRGB
() {

19883  
CMYKtoCMY
().
CMYtoRGB
();

19887 
	gCImg
<
	gTuch¨
> 
gë_CMYKtoRGB
() const {

19888  
	gCImg
<
	gTuch¨
>(*
	gthis
,
	gÁl£
).
CMYKtoRGB
();

19895 
	gCImg
<
	gT
>& 
RGBtoBayî
() {

19896  
gë_RGBtoBayî
().
move_to
(*
this
);

19900 
	gCImg
<
	gT
> 
gë_RGBtoBayî
() const {

19901 i‡(
	g_•e˘rum
!=3)

19902 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19904 
cimg_ö°™˚
);

19906 
	gCImg
<
	gT
> 
ªs
(
_width
,
_height
,
_dïth
,1);

19907 c⁄° 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

19908 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

19909 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

19910 i‡(
	gy
%2) {

19911 i‡(
	gx
%2Ë*(
	g±rd
++Ë*
±r_b
;

19912 *(
	g±rd
++Ë*
±r_g
;

19914 i‡(
	gx
%2Ë*(
	g±rd
++Ë*
±r_g
;

19915 *(
	g±rd
++Ë*
±r_r
;

19917 ++
	g±r_r
; ++
	g±r_g
; ++
	g±r_b
;

19919  
	gªs
;

19923 
	gCImg
<
	gT
>& 
BayîtoRGB
(c⁄° 
öãΩﬁ©i⁄_ty≥
=3) {

19924  
gë_BayîtoRGB
(
öãΩﬁ©i⁄_ty≥
).
move_to
(*
this
);

19928 
	gCImg
<
	gTuch¨
> 
gë_BayîtoRGB
(c⁄° 
öãΩﬁ©i⁄_ty≥
=3) const {

19929 i‡(
_•e˘rum
!=1)

19930 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


19932 
cimg_ö°™˚
);

19934 
	gCImg
<
	gTuch¨
> 
ªs
(
_width
,
_height
,
_dïth
,3);

19935 
CImg_3x3
(
I
,
T
);

19936 
Tuch¨
 *
	g±r_r
 = 
ªs
.
d©a
(0,0,0,0), *
	g±r_g
 =Ñes.d©a(0,0,0,1), *
	g±r_b
 =Ñes.data(0,0,0,2);

19937 
	göãΩﬁ©i⁄_ty≥
) {

19939 
CImg_3x3
(
R
,
T
);

19940 
CImg_3x3
(
G
,
T
);

19941 
CImg_3x3
(
B
,
T
);

19942 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

19943 c⁄° 
	g_p1x
 = 
x
?x-1:1, 
	g_p1y
 = 
y
?y-1:1, 
	g_n1x
 = x<
width
()-1?x+1:x-1, 
	g_n1y
 = y<
height
()-1?y+1:y-1;

19944 
cimg_gë3x3
(*
this
,
x
,
y
,
z
,0,
I
,
T
);

19945 i‡(
	gy
%2) {

19946 i‡(
	gx
%2) {

19947 c⁄° 
TÊﬂt
 
	gÆpha
 = 
cimg
::
sqr
((TÊﬂt)
Inc
 - 
Ipc
), 
	gbëa
 = cimg::sqr((TÊﬂt)
I˙
 - 
I˝
), 
	gcx
 = 1/(1+
Æpha
), 
	gcy
 = 1/(1+
bëa
);

19948 *
	g±r_g
 = (
Tuch¨
)((
cx
*(
Inc
+
Ipc
Ë+ 
cy
*(
I˙
+
I˝
))/(2*(cx+cy)));

19949 } *
	g±r_g
 = (
Tuch¨
)
Icc
;

19951 i‡(
	gx
%2Ë*
	g±r_g
 = (
Tuch¨
)
Icc
;

19953 c⁄° 
TÊﬂt
 
	gÆpha
 = 
cimg
::
sqr
((TÊﬂt)
Inc
 - 
Ipc
), 
	gbëa
 = cimg::sqr((TÊﬂt)
I˙
 - 
I˝
), 
	gcx
 = 1/(1+
Æpha
), 
	gcy
 = 1/(1+
bëa
);

19954 *
	g±r_g
 = (
Tuch¨
)((
cx
*(
Inc
+
Ipc
Ë+ 
cy
*(
I˙
+
I˝
))/(2*(cx+cy)));

19957 ++
	g±r_g
;

19959 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

19960 c⁄° 
	g_p1x
 = 
x
?x-1:1, 
	g_p1y
 = 
y
?y-1:1, 
	g_n1x
 = x<
width
()-1?x+1:x-1, 
	g_n1y
 = y<
height
()-1?y+1:y-1;

19961 
cimg_gë3x3
(*
this
,
x
,
y
,
z
,0,
I
,
T
);

19962 
cimg_gë3x3
(
ªs
,
x
,
y
,
z
,1,
G
,
T
);

19963 i‡(
	gy
%2) {

19964 i‡(
	gx
%2Ë*
	g±r_b
 = (
Tuch¨
)
Icc
;

19965 { *
	g±r_r
 = (
Tuch¨
)((
I˙
+
I˝
)/2); *
	g±r_b
 = (Tuch¨)((
Inc
+
Ipc
)/2); }

19967 i‡(
	gx
%2Ë{ *
	g±r_r
 = (
Tuch¨
)((
Inc
+
Ipc
)/2); *
	g±r_b
 = (Tuch¨)((
I˙
+
I˝
)/2); }

19968 *
	g±r_r
 = (
Tuch¨
)
Icc
;

19970 ++
	g±r_r
; ++
	g±r_b
;

19972 
	g±r_r
 = 
ªs
.
d©a
(0,0,0,0);

19973 
	g±r_g
 = 
ªs
.
d©a
(0,0,0,1);

19974 
	g±r_b
 = 
ªs
.
d©a
(0,0,0,2);

19975 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

19976 c⁄° 
	g_p1x
 = 
x
?x-1:1, 
	g_p1y
 = 
y
?y-1:1, 
	g_n1x
 = x<
width
()-1?x+1:x-1, 
	g_n1y
 = y<
height
()-1?y+1:y-1;

19977 
cimg_gë3x3
(
ªs
,
x
,
y
,
z
,0,
R
,
T
);

19978 
cimg_gë3x3
(
ªs
,
x
,
y
,
z
,1,
G
,
T
);

19979 
cimg_gë3x3
(
ªs
,
x
,
y
,
z
,2,
B
,
T
);

19980 i‡(
	gy
%2) {

19981 i‡(
	gx
%2) {

19982 c⁄° 
	gÆpha
 = ()
cimg
::
sqr
(
Rnc
-
Rpc
), 
	gbëa
 = ()cimg::sqr(
R˙
-
R˝
), 
	gcx
 = 1/(1+
Æpha
), 
	gcy
 = 1/(1+
bëa
);

19983 *
	g±r_r
 = (
Tuch¨
)((
cx
*(
Rnc
+
Rpc
Ë+ 
cy
*(
R˙
+
R˝
))/(2*(cx+cy)));

19986 i‡(!(
	gx
%2)) {

19987 c⁄° 
	gÆpha
 = ()
cimg
::
sqr
(
Bnc
-
Bpc
), 
	gbëa
 = ()cimg::sqr(
B˙
-
B˝
), 
	gcx
 = 1/(1+
Æpha
), 
	gcy
 = 1/(1+
bëa
);

19988 *
	g±r_b
 = (
Tuch¨
)((
cx
*(
Bnc
+
Bpc
Ë+ 
cy
*(
B˙
+
B˝
))/(2*(cx+cy)));

19991 ++
	g±r_r
; ++
	g±r_g
; ++
	g±r_b
;

19995 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

19996 c⁄° 
	g_p1x
 = 
x
?x-1:1, 
	g_p1y
 = 
y
?y-1:1, 
	g_n1x
 = x<
width
()-1?x+1:x-1, 
	g_n1y
 = y<
height
()-1?y+1:y-1;

19997 
cimg_gë3x3
(*
this
,
x
,
y
,
z
,0,
I
,
T
);

19998 i‡(
	gy
%2) {

19999 i‡(
	gx
%2Ë{ *
	g±r_r
 = (
Tuch¨
)((
Iµ
+
I¬
+
I≤
+
I≈
)/4); *
	g±r_g
 = (Tuch¨)((
Inc
+
Ipc
+
I˙
+
I˝
)/4); *
	g±r_b
 = (Tuch¨)
Icc
; }

20000 { *
	g±r_r
 = (
Tuch¨
)((
I˝
+
I˙
)/2); *
	g±r_g
 = (Tuch¨)
Icc
; *
	g±r_b
 = (Tuch¨)((
Inc
+
Ipc
)/2); }

20002 i‡(
	gx
%2Ë{ *
	g±r_r
 = (
Tuch¨
)((
Ipc
+
Inc
)/2); *
	g±r_g
 = (Tuch¨)
Icc
; *
	g±r_b
 = (Tuch¨)((
I˙
+
I˝
)/2); }

20003 { *
	g±r_r
 = (
Tuch¨
)
Icc
; *
	g±r_g
 = (Tuch¨)((
Inc
+
Ipc
+
I˙
+
I˝
)/4); *
	g±r_b
 = (Tuch¨)((
Iµ
+
I¬
+
I≤
+
I≈
)/4); }

20005 ++
	g±r_r
; ++
	g±r_g
; ++
	g±r_b
;

20009 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

20010 c⁄° 
	g_p1x
 = 
x
?x-1:1, 
	g_p1y
 = 
y
?y-1:1, 
	g_n1x
 = x<
width
()-1?x+1:x-1, 
	g_n1y
 = y<
height
()-1?y+1:y-1;

20011 
cimg_gë3x3
(*
this
,
x
,
y
,
z
,0,
I
,
T
);

20012 i‡(
	gy
%2) {

20013 i‡(
	gx
%2Ë{ *
	g±r_r
 = (
Tuch¨
)
cimg
::
mö
(
Iµ
,
I¬
,
I≤
,
I≈
); *
	g±r_g
 = (Tuch¨)cimg::mö(
Inc
,
Ipc
,
I˙
,
I˝
); *
	g±r_b
 = (Tuch¨)
Icc
; }

20014 { *
	g±r_r
 = (
Tuch¨
)
cimg
::
mö
(
I˙
,
I˝
); *
	g±r_g
 = (Tuch¨)
Icc
; *
	g±r_b
 = (Tuch¨)cimg::mö(
Inc
,
Ipc
); }

20016 i‡(
	gx
%2Ë{ *
	g±r_r
 = (
Tuch¨
)
cimg
::
mö
(
Inc
,
Ipc
); *
	g±r_g
 = (Tuch¨)
Icc
; *
	g±r_b
 = (Tuch¨)cimg::mö(
I˙
,
I˝
); }

20017 { *
	g±r_r
 = (
Tuch¨
)
Icc
; *
	g±r_g
 = (Tuch¨)
cimg
::
mö
(
Inc
,
Ipc
,
I˙
,
I˝
); *
	g±r_b
 = (Tuch¨)cimg::mö(
Iµ
,
I¬
,
I≤
,
I≈
); }

20019 ++
	g±r_r
; ++
	g±r_g
; ++
	g±r_b
;

20023 c⁄° 
T
 *
±rs
 = 
_d©a
;

20024 
	gªs
.
fûl
(0);

20025 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

20026 c⁄° 
T
 
	gvÆ
 = *(
±rs
++);

20027 i‡(
	gy
%2Ë{ i‡(
	gx
%2Ë*
	g±r_b
 = 
vÆ
; *
	g±r_g
 = vÆ; } { i‡(x%2Ë*±r_g = vÆ; *
	g±r_r
 = val; }

20028 ++
	g±r_r
; ++
	g±r_g
; ++
	g±r_b
;

20032  
	gªs
;

20042 
_cimg_œnczos
(c⁄° 
x
) {

20043 i‡(
	gx
<=-2 || 
x
>=2)  0;

20044 c⁄° 
	ga
 = ()
cimg
::
PI
*
x
, 
	gb
 = 0.5f*
a
;

20045  ()(
	gx
?
	g°d
::
sö
(
a
)*
°d
::sö(
b
)/(a*b):1);

20070 
	gCImg
<
	gT
>& 
ªsize
(c⁄° 
size_x
, c⁄° 
size_y
=-100,

20071 c⁄° 
size_z
=-100, c⁄° 
size_c
=-100,

20072 c⁄° 
öãΩﬁ©i⁄_ty≥
=1, c⁄° 
bound¨y_c⁄dôi⁄s
=0,

20073 c⁄° 
˚¡îög_x
 = 0, c⁄° 
˚¡îög_y
 = 0,

20074 c⁄° 
˚¡îög_z
 = 0, c⁄° 
˚¡îög_c
 = 0) {

20075 i‡(!
size_x
 || !
size_y
 || !
size_z
 || !
size_c
Ë 
assign
();

20077 
	g_sx
 = ()(
size_x
<0?-size_x*
width
()/100:size_x),

20078 
	g_sy
 = ()(
size_y
<0?-size_y*
height
()/100:size_y),

20079 
	g_sz
 = ()(
size_z
<0?-size_z*
dïth
()/100:size_z),

20080 
	g_sc
 = ()(
size_c
<0?-size_c*
•e˘rum
()/100:size_c),

20081 
	gsx
 = 
_sx
?_sx:1, 
	gsy
 = 
_sy
?_sy:1, 
	gsz
 = 
_sz
?_sz:1, 
	gsc
 = 
_sc
?_sc:1;

20082 i‡(
	gsx
==
_width
 && 
sy
==
_height
 && 
sz
==
_dïth
 && 
sc
==
_•e˘rum
Ë *
this
;

20083 i‡(
is_em±y
()Ë 
assign
(
sx
,
sy
,
sz
,
sc
,(
T
)0);

20084 i‡(
	göãΩﬁ©i⁄_ty≥
==-1 && 
sx
*
sy
*
sz
*
sc
==
size
()) {

20085 
_width
 = 
sx
; 
	g_height
 = 
sy
; 
	g_dïth
 = 
sz
; 
	g_•e˘rum
 = 
sc
;

20086  *
	gthis
;

20088  
gë_ªsize
(
sx
,
sy
,
sz
,
sc
,
öãΩﬁ©i⁄_ty≥
,
bound¨y_c⁄dôi⁄s
,
˚¡îög_x
,
˚¡îög_y
,
˚¡îög_z
,
˚¡îög_c
).
move_to
(*
this
);

20092 
	gCImg
<
	gT
> 
gë_ªsize
(c⁄° 
size_x
, c⁄° 
size_y
 = -100,

20093 c⁄° 
size_z
 = -100, c⁄° 
size_c
 = -100,

20094 c⁄° 
öãΩﬁ©i⁄_ty≥
=1, c⁄° 
bound¨y_c⁄dôi⁄s
=0,

20095 c⁄° 
˚¡îög_x
 = 0, c⁄° 
˚¡îög_y
 = 0,

20096 c⁄° 
˚¡îög_z
 = 0, c⁄° 
˚¡îög_c
 = 0) const {

20097 i‡(
˚¡îög_x
<0 || cíãrög_x>1 || 
˚¡îög_y
<0 || centering_y>1 ||

20098 
˚¡îög_z
<0 || cíãrög_z>1 || 
˚¡îög_c
<0 || centering_c>1)

20099 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


20101 
cimg_ö°™˚
,

20102 
˚¡îög_x
,
˚¡îög_y
,
˚¡îög_z
,
˚¡îög_c
);

20104 i‡(!
	gsize_x
 || !
	gsize_y
 || !
	gsize_z
 || !
	gsize_c
Ë 
	gCImg
<
	gT
>();

20106 
	g_sx
 = ()(
size_x
<0?-size_x*
width
()/100:size_x),

20107 
	g_sy
 = ()(
size_y
<0?-size_y*
height
()/100:size_y),

20108 
	g_sz
 = ()(
size_z
<0?-size_z*
dïth
()/100:size_z),

20109 
	g_sc
 = ()(
size_c
<0?-size_c*
•e˘rum
()/100:size_c),

20110 
	gsx
 = 
_sx
?_sx:1, 
	gsy
 = 
_sy
?_sy:1, 
	gsz
 = 
_sz
?_sz:1, 
	gsc
 = 
_sc
?_sc:1;

20111 i‡(
	gsx
==
_width
 && 
sy
==
_height
 && 
sz
==
_dïth
 && 
sc
==
_•e˘rum
Ë +*
this
;

20112 i‡(
is_em±y
()Ë 
	gCImg
<
	gT
>(
	gsx
,
	gsy
,
	gsz
,
	gsc
,0);

20114 
	gCImg
<
	gT
> 
	gªs
;

20115 
	göãΩﬁ©i⁄_ty≥
) {

20120 
°d
::
mem˝y
(
ªs
.
assign
(
sx
,
sy
,
sz
,
sc
,0).
_d©a
,_d©a,(
T
)*
cimg
::
mö
(
size
(),sx*sy*sz*sc));

20127 
xc
 = ()(
˚¡îög_x
*(()
sx
 - 
width
())),

20128 
	gyc
 = ()(
˚¡îög_y
*(()
sy
 - 
height
())),

20129 
	gzc
 = ()(
˚¡îög_z
*(()
sz
 - 
dïth
())),

20130 
	gcc
 = ()(
˚¡îög_c
*(()
sc
 - 
•e˘rum
()));

20132 
	gbound¨y_c⁄dôi⁄s
) {

20134 
ªs
.
assign
(
sx
,
sy
,
sz
,
sc
);

20136 
	gx0
 = (()
xc
%
width
()) - width(),

20137 
	gy0
 = (()
yc
%
height
()) - height(),

20138 
	gz0
 = (()
zc
%
dïth
()) - depth(),

20139 
	gc0
 = (()
cc
%
•e˘rum
()) - spectrum();

20140 
	gc
 = 
c0
; c<()
	gsc
; c+=
•e˘rum
())

20141 
z
 = 
z0
; 
	gz
<()
	gsz
; z+=
dïth
())

20142 
y
 = 
y0
; 
	gy
<()
	gsy
; y+=
height
())

20143 
x
 = 
x0
; 
	gx
<()
	gsx
; x+=
width
())

20144 
ªs
.
døw_image
(
x
,
y
,
z
,
c
,*
this
);

20147 
ªs
.
assign
(
sx
,
sy
,
sz
,
sc
).
døw_image
(
xc
,
yc
,
zc
,
cc
,*
this
);

20148 
	gCImg
<
	gT
> 
	g•rôe
;

20149 i‡(
	gxc
>0) {

20150 
	gªs
.
gë_¸›
(
xc
,
yc
,
zc
,
cc
,xc,yc+
height
()-1,zc+
dïth
()-1,cc+
•e˘rum
()-1).
move_to
(
•rôe
);

20151 
	gx
 = 
xc
-1; x>=0; --xË
	gªs
.
døw_image
(
x
,
yc
,
zc
,
cc
,
•rôe
);

20153 i‡(
	gxc
+
width
()<()
	gsx
) {

20154 
	gªs
.
gë_¸›
(
xc
+
width
()-1,
yc
,
zc
,
cc
,xc+width()-1,yc+
height
()-1,zc+
dïth
()-1,cc+
•e˘rum
()-1).
move_to
(
•rôe
);

20155 
	gx
 = 
xc
+
width
(); x<()
	gsx
; ++xË
	gªs
.
døw_image
(
x
,
yc
,
zc
,
cc
,
•rôe
);

20157 i‡(
	gyc
>0) {

20158 
	gªs
.
gë_¸›
(0,
yc
,
zc
,
cc
,
sx
-1,yc,zc+
dïth
()-1,cc+
•e˘rum
()-1).
move_to
(
•rôe
);

20159 
	gy
 = 
yc
-1; y>=0; --yË
	gªs
.
døw_image
(0,
y
,
zc
,
cc
,
•rôe
);

20161 i‡(
	gyc
+
height
()<()
	gsy
) {

20162 
	gªs
.
gë_¸›
(0,
yc
+
height
()-1,
zc
,
cc
,
sx
-1,yc+height()-1,zc+
dïth
()-1,cc+
•e˘rum
()-1).
move_to
(
•rôe
);

20163 
	gy
 = 
yc
+
height
(); y<()
	gsy
; ++yË
	gªs
.
døw_image
(0,
y
,
zc
,
cc
,
•rôe
);

20165 i‡(
	gzc
>0) {

20166 
	gªs
.
gë_¸›
(0,0,
zc
,
cc
,
sx
-1,
sy
-1,zc,cc+
•e˘rum
()-1).
move_to
(
•rôe
);

20167 
	gz
 = 
zc
-1; z>=0; --zË
	gªs
.
døw_image
(0,0,
z
,
cc
,
•rôe
);

20169 i‡(
	gzc
+
dïth
()<()
	gsz
) {

20170 
	gªs
.
gë_¸›
(0,0,
zc
+
dïth
()-1,
cc
,
sx
-1,
sy
-1,zc+dïth()-1,cc+
•e˘rum
()-1).
move_to
(
•rôe
);

20171 
	gz
 = 
zc
+
dïth
(); z<()
	gsz
; ++zË
	gªs
.
døw_image
(0,0,
z
,
cc
,
•rôe
);

20173 i‡(
	gcc
>0) {

20174 
	gªs
.
gë_¸›
(0,0,0,
cc
,
sx
-1,
sy
-1,
sz
-1,cc).
move_to
(
•rôe
);

20175 
	gc
 = 
cc
-1; c>=0; --cË
	gªs
.
døw_image
(0,0,0,
c
,
•rôe
);

20177 i‡(
	gcc
+
•e˘rum
()<()
	gsc
) {

20178 
	gªs
.
gë_¸›
(0,0,0,
cc
+
•e˘rum
()-1,
sx
-1,
sy
-1,
sz
-1,cc+•e˘rum()-1).
move_to
(
•rôe
);

20179 
	gc
 = 
cc
+
•e˘rum
(); c<()
	gsc
; ++cË
	gªs
.
døw_image
(0,0,0,
c
,
•rôe
);

20183 
ªs
.
assign
(
sx
,
sy
,
sz
,
sc
,0).
døw_image
(
xc
,
yc
,
zc
,
cc
,*
this
);

20191 
ªs
.
assign
(
sx
,
sy
,
sz
,
sc
);

20192 
	gCImg
<
	gul⁄gT
> 
off_x
(
sx
), 
off_y
(
sy
+1), 
off_z
(
sz
+1), 
off_c
(
sc
+1);

20193 *
	gpoff_x
, *
	gpoff_y
, *
	gpoff_z
, *
	gpoff_c
, 
	gcuº
, 
	gﬁd
;

20195 
	gwh
 = ()
_width
*
_height
,

20196 
	gwhd
 = ()
_width
*
_height
*
_dïth
,

20197 
	gsxy
 = ()
sx
*
sy
,

20198 
	gsxyz
 = ()
sx
*
sy
*
sz
;

20199 i‡(
	gsx
==
_width
Ë
off_x
.
fûl
(1);

20201 
	gpoff_x
 = 
off_x
.
_d©a
; 
	gcuº
 = 0;

20202 
cimg_f‹X
(
ªs
,
x
Ë{ 
	gﬁd
 = 
cuº
; 
	gcuº
 = ((x+1LU)*
_width
/
sx
); *(
	gpoff_x
++Ëcuº - 
ﬁd
; }

20204 i‡(
	gsy
==
_height
Ë
off_y
.
fûl
(
_width
);

20206 
	gpoff_y
 = 
off_y
.
_d©a
; 
	gcuº
 = 0;

20207 
cimg_f‹Y
(
ªs
,
y
Ë{ 
	gﬁd
 = 
cuº
; 
	gcuº
 = ((y+1LU)*
_height
/
sy
); *(
	gpoff_y
++Ë
_width
*(cuº - 
ﬁd
); } *poff_y = 0;

20209 i‡(
	gsz
==
_dïth
Ë
off_z
.
fûl
(
wh
);

20211 
	gpoff_z
 = 
off_z
.
_d©a
; 
	gcuº
 = 0;

20212 
cimg_f‹Z
(
ªs
,
z
Ë{ 
	gﬁd
 = 
cuº
; 
	gcuº
 = ((z+1LU)*
_dïth
/
sz
); *(
	gpoff_z
++Ë
wh
*(cuº - 
ﬁd
); } *poff_z = 0;

20214 i‡(
	gsc
==
_•e˘rum
Ë
off_c
.
fûl
(
whd
);

20216 
	gpoff_c
 = 
off_c
.
_d©a
; 
	gcuº
 = 0;

20217 
cimg_f‹C
(
ªs
,
c
Ë{ 
	gﬁd
 = 
cuº
; 
	gcuº
 = ((c+1LU)*
_•e˘rum
/
sc
); *(
	gpoff_c
++Ë
whd
*(cuº - 
ﬁd
); } *poff_c = 0;

20220 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

20221 c⁄° 
T
* 
	g±rv
 = 
_d©a
;

20222 
	gpoff_c
 = 
off_c
.
_d©a
;

20223 
	gc
 = 0; c<
	gsc
; ) {

20224 c⁄° 
T
 *
	g±rz
 = 
±rv
;

20225 
	gpoff_z
 = 
off_z
.
_d©a
;

20226 
	gz
 = 0; z<
	gsz
; ) {

20227 c⁄° 
T
 *
	g±ry
 = 
±rz
;

20228 
	gpoff_y
 = 
off_y
.
_d©a
;

20229 
	gy
 = 0; y<
	gsy
; ) {

20230 c⁄° 
T
 *
	g±rx
 = 
±ry
;

20231 
	gpoff_x
 = 
off_x
.
_d©a
;

20232 
cimg_f‹X
(
ªs
,
x
Ë{ *(
	g±rd
++Ë*
±rx
; 
	g±rx
+=*(
poff_x
++); }

20233 ++
	gy
;

20234 
	gdy
 = *(
poff_y
++);

20235 ;!
	gdy
 && 
	gy
<dy; 
	g°d
::
mem˝y
(
±rd
,±rd - 
sx
,(
T
)*sx), ++y, 
	g±rd
+=sx, dy = *(
poff_y
++)) {}

20236 
±ry
+=
dy
;

20238 ++
	gz
;

20239 
	gdz
 = *(
poff_z
++);

20240 ;!
	gdz
 && 
	gz
<dz; 
	g°d
::
mem˝y
(
±rd
,±rd-
sxy
,(
T
)*sxy), ++z, 
	g±rd
+=sxy, dz = *(
poff_z
++)) {}

20241 
±rz
+=
dz
;

20243 ++
	gc
;

20244 
	gdc
 = *(
poff_c
++);

20245 ;!
	gdc
 && 
	gc
<dc; 
	g°d
::
mem˝y
(
±rd
,±rd-
sxyz
,(
T
)*sxyz), ++c, 
	g±rd
+=sxyz, d¯*(
poff_c
++)) {}

20246 
±rv
+=
dc
;

20253 
boﬁ
 
ö°™˚_fú°
 = 
åue
;

20254 i‡(
	gsx
!=
_width
) {

20255 
CImg
<
TÊﬂt
> 
tmp
(
sx
,
_height
,
_dïth
,
_•e˘rum
,0);

20256 
	ga
 = 
_width
*
sx
, 
	gb
 = _width, 
	gc
 = sx, 
	gs
 = 0, 
	gt
 = 0;á; ) {

20257 c⁄° 
	gd
 = 
cimg
::
mö
(
b
,
c
);

20258 
	ga
-=
d
; 
	gb
-=d; 
	gc
-=d;

20259 
cimg_f‹YZC
(
tmp
,
y
,
z
,
v
Ëtmp(
t
,y,z,v)+=(
TÊﬂt
)(*
this
)(
s
,
	gy
,
	gz
,
	gv
)*
	gd
;

20260 i‡(!
	gb
Ë{ 
cimg_f‹YZC
(
tmp
,
y
,
z
,
v
Ëtmp(
t
,y,z,v)/=
_width
; ++
	gt
; b = _width; }

20261 i‡(!
	gc
Ë{ ++
	gs
; c = 
sx
; }

20263 
	gtmp
.
move_to
(
ªs
);

20264 
	gö°™˚_fú°
 = 
Ál£
;

20266 i‡(
	gsy
!=
_height
) {

20267 
CImg
<
TÊﬂt
> 
tmp
(
sx
,
sy
,
_dïth
,
_•e˘rum
,0);

20268 
	ga
 = 
_height
*
sy
, 
	gb
 = _height, 
	gc
 = sy, 
	gs
 = 0, 
	gt
 = 0;á; ) {

20269 c⁄° 
	gd
 = 
cimg
::
mö
(
b
,
c
);

20270 
	ga
-=
d
; 
	gb
-=d; 
	gc
-=d;

20271 i‡(
	gö°™˚_fú°
Ë
cimg_f‹XZC
(
tmp
,
x
,
z
,
v
Ëtmp(x,
t
,z,v)+=(
TÊﬂt
)(*
this
)(x,
	gs
,
	gz
,
	gv
)*
	gd
;

20272 
cimg_f‹XZC
(
tmp
,
x
,
z
,
v
Ëtmp(x,
t
,z,v)+=(
TÊﬂt
)
ªs
(x,
s
,z,v)*
	gd
;

20273 i‡(!
	gb
Ë{ 
cimg_f‹XZC
(
tmp
,
x
,
z
,
v
Ëtmp(x,
t
,z,v)/=
_height
; ++
	gt
; b = _height; }

20274 i‡(!
	gc
Ë{ ++
	gs
; c = 
sy
; }

20276 
	gtmp
.
move_to
(
ªs
);

20277 
	gö°™˚_fú°
 = 
Ál£
;

20279 i‡(
	gsz
!=
_dïth
) {

20280 
CImg
<
TÊﬂt
> 
tmp
(
sx
,
sy
,
sz
,
_•e˘rum
,0);

20281 
	ga
 = 
_dïth
*
sz
, 
	gb
 = _dïth, 
	gc
 = sz, 
	gs
 = 0, 
	gt
 = 0;á; ) {

20282 c⁄° 
	gd
 = 
cimg
::
mö
(
b
,
c
);

20283 
	ga
-=
d
; 
	gb
-=d; 
	gc
-=d;

20284 i‡(
	gö°™˚_fú°
Ë
cimg_f‹XYC
(
tmp
,
x
,
y
,
v
Ëtmp(x,y,
t
,v)+=(
TÊﬂt
)(*
this
)(x,
	gy
,
	gs
,
	gv
)*
	gd
;

20285 
cimg_f‹XYC
(
tmp
,
x
,
y
,
v
Ëtmp(x,y,
t
,v)+=(
TÊﬂt
)
ªs
(x,y,
s
,v)*
	gd
;

20286 i‡(!
	gb
Ë{ 
cimg_f‹XYC
(
tmp
,
x
,
y
,
v
Ëtmp(x,y,
t
,v)/=
_dïth
; ++
	gt
; b = _depth; }

20287 i‡(!
	gc
Ë{ ++
	gs
; c = 
sz
; }

20289 
	gtmp
.
move_to
(
ªs
);

20290 
	gö°™˚_fú°
 = 
Ál£
;

20292 i‡(
	gsc
!=
_•e˘rum
) {

20293 
CImg
<
TÊﬂt
> 
tmp
(
sx
,
sy
,
sz
,
sc
,0);

20294 
	ga
 = 
_•e˘rum
*
sc
, 
	gb
 = _•e˘rum, 
	gc
 = sc, 
	gs
 = 0, 
	gt
 = 0;á; ) {

20295 c⁄° 
	gd
 = 
cimg
::
mö
(
b
,
c
);

20296 
	ga
-=
d
; 
	gb
-=d; 
	gc
-=d;

20297 i‡(
	gö°™˚_fú°
Ë
cimg_f‹XYZ
(
tmp
,
x
,
y
,
z
Ëtmp(x,y,z,
t
)+=(
TÊﬂt
)(*
this
)(x,
	gy
,
	gz
,
	gs
)*
	gd
;

20298 
cimg_f‹XYZ
(
tmp
,
x
,
y
,
z
Ëtmp(x,y,z,
t
)+=(
TÊﬂt
)
ªs
(x,y,z,
s
)*
	gd
;

20299 i‡(!
	gb
Ë{ 
cimg_f‹XYZ
(
tmp
,
x
,
y
,
z
Ëtmp(x,y,z,
t
)/=
_•e˘rum
; ++
	gt
; b = _spectrum; }

20300 i‡(!
	gc
Ë{ ++
	gs
; c = 
sc
; }

20302 
	gtmp
.
move_to
(
ªs
);

20303 
	gö°™˚_fú°
 = 
Ál£
;

20310 
CImg
<
uötT
> 
off
(
cimg
::
max
(
sx
,
sy
,
sz
,
sc
));

20311 
	gCImg
<
	gÊﬂtT
> 
foff
(
off
.
_width
);

20312 *
	gpoff
;

20313 *
	gpfoff
, 
	gﬁd
, 
	gcuº
;

20314 
	gCImg
<
	gT
> 
	gªsx
, 
	gªsy
, 
	gªsz
, 
	gªsc
;

20315 
T
 *
	g±rd
;

20317 i‡(
	gsx
!=
_width
) {

20318 i‡(
_width
==1Ë
gë_ªsize
(
sx
,
_height
,
_dïth
,
_•e˘rum
,1).
move_to
(
ªsx
);

20320 i‡(
	g_width
>
	gsx
Ë
gë_ªsize
(
sx
,
_height
,
_dïth
,
_•e˘rum
,2).
move_to
(
ªsx
);

20322 c⁄° 
	gfx
 = (!
bound¨y_c⁄dôi⁄s
 && 
sx
>
_width
)?(sx>1?(_width-1.0f)/(sx-1):0):()_width/sx;

20323 
	gªsx
.
assign
(
sx
,
_height
,
_dïth
,
_•e˘rum
);

20324 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20325 
cimg_f‹X
(
ªsx
,
x
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fx
; *(
	gpoff
++Ë()cuº - ()
ﬁd
; }

20326 
	g±rd
 = 
ªsx
.
_d©a
;

20327 c⁄° 
T
 *
	g±rs0
 = 
_d©a
;

20328 
cimg_f‹YZC
(
ªsx
,
y
,
z
,
c
) {

20329 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20330 c⁄° 
T
 *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmax
 =Öås0 + (
_width
-1);

20331 
cimg_f‹X
(
ªsx
,
x
) {

20332 c⁄° 
	gÆpha
 = *(
pfoff
++);

20333 c⁄° 
T
 
	gvÆ1
 = *
±rs
, 
	gvÆ2
 =Öås<
±rsmax
?*’ås+1):
vÆ1
;

20334 *(
	g±rd
++Ë(
T
)((1-
Æpha
)*
vÆ1
 +áÕha*
vÆ2
);

20335 
	g±rs
+=*(
poff
++);

20337 
	g±rs0
+=
_width
;

20341 } 
	gªsx
.
assign
(*
this
,
åue
);

20343 i‡(
	gsy
!=
_height
) {

20344 i‡(
_height
==1Ë
ªsx
.
gë_ªsize
(
sx
,
sy
,
_dïth
,
_•e˘rum
,1).
move_to
(
ªsy
);

20346 i‡(
	g_height
>
	gsy
Ë
	gªsx
.
gë_ªsize
(
sx
,
sy
,
_dïth
,
_•e˘rum
,2).
move_to
(
ªsy
);

20348 c⁄° 
	gfy
 = (!
bound¨y_c⁄dôi⁄s
 && 
sy
>
_height
)?(sy>1?(_height-1.0f)/(sy-1):0):()_height/sy;

20349 
	gªsy
.
assign
(
sx
,
sy
,
_dïth
,
_•e˘rum
);

20350 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20351 
cimg_f‹Y
(
ªsy
,
y
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fy
; *(
	gpoff
++Ë
sx
*(()cuº-()
ﬁd
); }

20352 
cimg_f‹XZC
(
ªsy
,
x
,
z
,
c
) {

20353 
	g±rd
 = 
ªsy
.
d©a
(
x
,0,
z
,
c
);

20354 c⁄° 
T
 *
	g±rs
 = 
ªsx
.
d©a
(
x
,0,
z
,
c
), *c⁄° 
	g±rsmax
 = 
±rs
 + (
_height
-1)*
sx
;

20355 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20356 
cimg_f‹Y
(
ªsy
,
y
) {

20357 c⁄° 
	gÆpha
 = *(
pfoff
++);

20358 c⁄° 
T
 
	gvÆ1
 = *
±rs
, 
	gvÆ2
 =Öås<
±rsmax
?*’ås+
sx
):
vÆ1
;

20359 *
	g±rd
 = (
T
)((1-
Æpha
)*
vÆ1
 +áÕha*
vÆ2
);

20360 
	g±rd
+=
sx
;

20361 
	g±rs
+=*(
poff
++);

20366 
	gªsx
.
assign
();

20367 } 
	gªsy
.
assign
(
ªsx
,
åue
);

20369 i‡(
	gsz
!=
_dïth
) {

20370 i‡(
_dïth
==1Ë
ªsy
.
gë_ªsize
(
sx
,
sy
,
sz
,
_•e˘rum
,1).
move_to
(
ªsz
);

20372 i‡(
	g_dïth
>
	gsz
Ë
	gªsy
.
gë_ªsize
(
sx
,
sy
,
sz
,
_•e˘rum
,2).
move_to
(
ªsz
);

20374 c⁄° 
	gfz
 = (!
bound¨y_c⁄dôi⁄s
 && 
sz
>
_dïth
)?(sz>1?(_depth-1.0f)/(sz-1):0):()_depth/sz;

20375 c⁄° 
	gsxy
 = 
sx
*
sy
;

20376 
	gªsz
.
assign
(
sx
,
sy
,
sz
,
_•e˘rum
);

20377 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20378 
cimg_f‹Z
(
ªsz
,
z
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fz
; *(
	gpoff
++Ë
sxy
*(()cuº - ()
ﬁd
); }

20379 
cimg_f‹XYC
(
ªsz
,
x
,
y
,
c
) {

20380 
	g±rd
 = 
ªsz
.
d©a
(
x
,
y
,0,
c
);

20381 c⁄° 
T
 *
	g±rs
 = 
ªsy
.
d©a
(
x
,
y
,0,
c
), *c⁄° 
	g±rsmax
 = 
±rs
 + (
_dïth
-1)*
sxy
;

20382 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20383 
cimg_f‹Z
(
ªsz
,
z
) {

20384 c⁄° 
	gÆpha
 = *(
pfoff
++);

20385 c⁄° 
T
 
	gvÆ1
 = *
±rs
, 
	gvÆ2
 =Öås<
±rsmax
?*’ås+
sxy
):
vÆ1
;

20386 *
	g±rd
 = (
T
)((1-
Æpha
)*
vÆ1
 +áÕha*
vÆ2
);

20387 
	g±rd
+=
sxy
;

20388 
	g±rs
+=*(
poff
++);

20393 
	gªsy
.
assign
();

20394 } 
	gªsz
.
assign
(
ªsy
,
åue
);

20396 i‡(
	gsc
!=
_•e˘rum
) {

20397 i‡(
_•e˘rum
==1Ë
ªsz
.
gë_ªsize
(
sx
,
sy
,
sz
,
sc
,1).
move_to
(
ªsc
);

20399 i‡(
	g_•e˘rum
>
	gsc
Ë
	gªsz
.
gë_ªsize
(
sx
,
sy
,
sz
,
sc
,2).
move_to
(
ªsc
);

20401 c⁄° 
	gfc
 = (!
bound¨y_c⁄dôi⁄s
 && 
sc
>
_•e˘rum
)?(sc>1?(_spectrum-1.0f)/(sc-1):0):()_spectrum/sc;

20402 c⁄° 
	gsxyz
 = 
sx
*
sy
*
sz
;

20403 
	gªsc
.
assign
(
sx
,
sy
,
sz
,
sc
);

20404 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20405 
cimg_f‹C
(
ªsc
,
c
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fc
; *(
	gpoff
++Ë
sxyz
*(()cuº - ()
ﬁd
); }

20406 
cimg_f‹XYZ
(
ªsc
,
x
,
y
,
z
) {

20407 
	g±rd
 = 
ªsc
.
d©a
(
x
,
y
,
z
,0);

20408 c⁄° 
T
 *
	g±rs
 = 
ªsz
.
d©a
(
x
,
y
,
z
,0), *c⁄° 
	g±rsmax
 = 
±rs
 + (
_•e˘rum
-1)*
sxyz
;

20409 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20410 
cimg_f‹C
(
ªsc
,
c
) {

20411 c⁄° 
	gÆpha
 = *(
pfoff
++);

20412 c⁄° 
T
 
	gvÆ1
 = *
±rs
, 
	gvÆ2
 =Öås<
±rsmax
?*’ås+
sxyz
):
vÆ1
;

20413 *
	g±rd
 = (
T
)((1-
Æpha
)*
vÆ1
 +áÕha*
vÆ2
);

20414 
	g±rd
+=
sxyz
;

20415 
	g±rs
+=*(
poff
++);

20420 
	gªsz
.
assign
();

20421 } 
	gªsc
.
assign
(
ªsz
,
åue
);

20422  
	gªsc
.
	g_is_sh¨ed
?(
	gªsz
._is_sh¨ed?(
	gªsy
._is_sh¨ed?(
	gªsx
._is_sh¨ed?(+(*
	gthis
)):
ªsx
):
ªsy
):
ªsz
):
ªsc
;

20428 
CImg
<
T
> 
ªsx
, 
	gªsy
, 
	gªsz
, 
	gªsc
;

20429 i‡(
	gsx
!=
_width
) {

20430 i‡(
sx
<
_width
Ë
gë_ªsize
(sx,
_height
,
_dïth
,
_•e˘rum
,1).
move_to
(
ªsx
);

20432 
	gªsx
.
assign
(
sx
,
_height
,
_dïth
,
_•e˘rum
,0);

20433 c⁄° 
	gdx
 = 
sx
*2, 
	gdy
 = 
width
()*2;

20434 
	gîr
 = ()(
dy
 + 
˚¡îög_x
*(
sx
*dy/
width
(Ë- dy)), 
	gxs
 = 0;

20435 
cimg_f‹X
(
ªsx
,
x
Ëi‡((
	gîr
-=
dy
)<=0) {

20436 
cimg_f‹YZC
(
ªsx
,
y
,
z
,
c
Ëªsx(
x
,y,z,cË(*
this
)(
xs
,
	gy
,
	gz
,
	gc
);

20437 ++
	gxs
;

20438 
	gîr
+=
dx
;

20441 } 
	gªsx
.
assign
(*
this
,
åue
);

20443 i‡(
	gsy
!=
_height
) {

20444 i‡(
sy
<
_height
Ë
ªsx
.
gë_ªsize
(
sx
,sy,
_dïth
,
_•e˘rum
,1).
move_to
(
ªsy
);

20446 
	gªsy
.
assign
(
sx
,
sy
,
_dïth
,
_•e˘rum
,0);

20447 c⁄° 
	gdx
 = 
sy
*2, 
	gdy
 = 
height
()*2;

20448 
	gîr
 = ()(
dy
 + 
˚¡îög_y
*(
sy
*dy/
height
(Ë- dy)), 
	gys
 = 0;

20449 
cimg_f‹Y
(
ªsy
,
y
Ëi‡((
	gîr
-=
dy
)<=0) {

20450 
cimg_f‹XZC
(
ªsy
,
x
,
z
,
c
Ëªsy(x,
y
,z,cË
ªsx
(x,
ys
,z,c);

20451 ++
	gys
;

20452 
	gîr
+=
dx
;

20455 
	gªsx
.
assign
();

20456 } 
	gªsy
.
assign
(
ªsx
,
åue
);

20458 i‡(
	gsz
!=
_dïth
) {

20459 i‡(
sz
<
_dïth
Ë
ªsy
.
gë_ªsize
(
sx
,
sy
,sz,
_•e˘rum
,1).
move_to
(
ªsz
);

20461 
	gªsz
.
assign
(
sx
,
sy
,
sz
,
_•e˘rum
,0);

20462 c⁄° 
	gdx
 = 
sz
*2, 
	gdy
 = 
dïth
()*2;

20463 
	gîr
 = ()(
dy
 + 
˚¡îög_z
*(
sz
*dy/
dïth
(Ë- dy)), 
	gzs
 = 0;

20464 
cimg_f‹Z
(
ªsz
,
z
Ëi‡((
	gîr
-=
dy
)<=0) {

20465 
cimg_f‹XYC
(
ªsz
,
x
,
y
,
c
Ëªsz(x,y,
z
,cË
ªsy
(x,y,
zs
,c);

20466 ++
	gzs
;

20467 
	gîr
+=
dx
;

20470 
	gªsy
.
assign
();

20471 } 
	gªsz
.
assign
(
ªsy
,
åue
);

20473 i‡(
	gsc
!=
_•e˘rum
) {

20474 i‡(
sc
<
_•e˘rum
Ë
ªsz
.
gë_ªsize
(
sx
,
sy
,
sz
,sc,1).
move_to
(
ªsc
);

20476 
	gªsc
.
assign
(
sx
,
sy
,
sz
,
sc
,0);

20477 c⁄° 
	gdx
 = 
sc
*2, 
	gdy
 = 
•e˘rum
()*2;

20478 
	gîr
 = ()(
dy
 + 
˚¡îög_c
*(
sc
*dy/
•e˘rum
(Ë- dy)), 
	gcs
 = 0;

20479 
cimg_f‹C
(
ªsc
,
c
Ëi‡((
	gîr
-=
dy
)<=0) {

20480 
cimg_f‹XYZ
(
ªsc
,
x
,
y
,
z
Ëªsc(x,y,z,
c
Ë
ªsz
(x,y,z,
cs
);

20481 ++
	gcs
;

20482 
	gîr
+=
dx
;

20485 
	gªsz
.
assign
();

20486 } 
	gªsc
.
assign
(
ªsz
,
åue
);

20488  
	gªsc
.
	g_is_sh¨ed
?(
	gªsz
._is_sh¨ed?(
	gªsy
._is_sh¨ed?(
	gªsx
._is_sh¨ed?(+(*
	gthis
)):
ªsx
):
ªsy
):
ªsz
):
ªsc
;

20494 c⁄° 
TÊﬂt
 
vmö
 = (TÊﬂt)
cimg
::
ty≥
<
T
>::
mö
(), 
	gvmax
 = (TÊﬂt)cimg::ty≥<T>::
max
();

20495 
	gCImg
<
	guötT
> 
off
(
cimg
::
max
(
sx
,
sy
,
sz
,
sc
));

20496 
	gCImg
<
	gÊﬂtT
> 
foff
(
off
.
_width
);

20497 *
	gpoff
;

20498 *
	gpfoff
, 
	gﬁd
, 
	gcuº
;

20499 
	gCImg
<
	gT
> 
	gªsx
, 
	gªsy
, 
	gªsz
, 
	gªsc
;

20500 
T
 *
	g±rd
;

20502 i‡(
	gsx
!=
_width
) {

20503 i‡(
_width
==1Ë
gë_ªsize
(
sx
,
_height
,
_dïth
,
_•e˘rum
,1).
move_to
(
ªsx
);

20505 i‡(
	g_width
>
	gsx
Ë
gë_ªsize
(
sx
,
_height
,
_dïth
,
_•e˘rum
,2).
move_to
(
ªsx
);

20507 c⁄° 
	gfx
 = (!
bound¨y_c⁄dôi⁄s
 && 
sx
>
_width
)?(sx>1?(_width-1.0f)/(sx-1):0):()_width/sx;

20508 
	gªsx
.
assign
(
sx
,
_height
,
_dïth
,
_•e˘rum
);

20509 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20510 
cimg_f‹X
(
ªsx
,
x
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fx
; *(
	gpoff
++Ë()cuº - ()
ﬁd
; }

20511 
	g±rd
 = 
ªsx
.
_d©a
;

20512 c⁄° 
T
 *
	g±rs0
 = 
_d©a
;

20513 
cimg_f‹YZC
(
ªsx
,
y
,
z
,
c
) {

20514 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20515 c⁄° 
T
 *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmax
 =Öås0 + (
_width
-2);

20516 
cimg_f‹X
(
ªsx
,
x
) {

20517 c⁄° 
	gt
 = *(
pfoff
++);

20518 c⁄° 
TÊﬂt


20519 
	gvÆ1
 = (
TÊﬂt
)*
±rs
,

20520 
	gvÆ0
 = 
±rs
>
±rs0
?(
TÊﬂt
)*’ås-1):
vÆ1
,

20521 
	gvÆ2
 = 
±rs
<=
±rsmax
?(
TÊﬂt
)*’ås+1):
vÆ1
,

20522 
	gvÆ3
 = 
±rs
<
±rsmax
?(
TÊﬂt
)*’ås+2):
vÆ2
,

20523 
	gvÆ
 = 
vÆ1
 + 0.5f*(
t
*(-
vÆ0
+
vÆ2
Ë+Å*t*(2*vÆ0-5*vÆ1+4*vÆ2-
vÆ3
) +Å*t*t*(-val0+3*val1-3*val2+val3));

20524 *(
	g±rd
++Ë(
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

20525 
	g±rs
+=*(
poff
++);

20527 
	g±rs0
+=
_width
;

20531 } 
	gªsx
.
assign
(*
this
,
åue
);

20533 i‡(
	gsy
!=
_height
) {

20534 i‡(
_height
==1Ë
ªsx
.
gë_ªsize
(
sx
,
sy
,
_dïth
,
_•e˘rum
,1).
move_to
(
ªsy
);

20536 i‡(
	g_height
>
	gsy
Ë
	gªsx
.
gë_ªsize
(
sx
,
sy
,
_dïth
,
_•e˘rum
,2).
move_to
(
ªsy
);

20538 c⁄° 
	gfy
 = (!
bound¨y_c⁄dôi⁄s
 && 
sy
>
_height
)?(sy>1?(_height-1.0f)/(sy-1):0):()_height/sy;

20539 
	gªsy
.
assign
(
sx
,
sy
,
_dïth
,
_•e˘rum
);

20540 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20541 
cimg_f‹Y
(
ªsy
,
y
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fy
; *(
	gpoff
++Ë
sx
*(()cuº-()
ﬁd
); }

20542 
cimg_f‹XZC
(
ªsy
,
x
,
z
,
c
) {

20543 
	g±rd
 = 
ªsy
.
d©a
(
x
,0,
z
,
c
);

20544 c⁄° 
T
 *c⁄° 
	g±rs0
 = 
ªsx
.
d©a
(
x
,0,
z
,
c
), *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmax
 =Öås0 + (
_height
-2)*
sx
;

20545 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20546 
cimg_f‹Y
(
ªsy
,
y
) {

20547 c⁄° 
	gt
 = *(
pfoff
++);

20548 c⁄° 
TÊﬂt


20549 
	gvÆ1
 = (
TÊﬂt
)*
±rs
,

20550 
	gvÆ0
 = 
±rs
>
±rs0
?(
TÊﬂt
)*’ås-
sx
):
vÆ1
,

20551 
	gvÆ2
 = 
±rs
<=
±rsmax
?(
TÊﬂt
)*’ås+
sx
):
vÆ1
,

20552 
	gvÆ3
 = 
±rs
<
±rsmax
?(
TÊﬂt
)*’ås+2*
sx
):
vÆ2
,

20553 
	gvÆ
 = 
vÆ1
 + 0.5f*(
t
*(-
vÆ0
+
vÆ2
Ë+Å*t*(2*vÆ0-5*vÆ1+4*vÆ2-
vÆ3
) +Å*t*t*(-val0+3*val1-3*val2+val3));

20554 *
	g±rd
 = (
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

20555 
	g±rd
+=
sx
;

20556 
	g±rs
+=*(
poff
++);

20561 
	gªsx
.
assign
();

20562 } 
	gªsy
.
assign
(
ªsx
,
åue
);

20564 i‡(
	gsz
!=
_dïth
) {

20565 i‡(
_dïth
==1Ë
ªsy
.
gë_ªsize
(
sx
,
sy
,
sz
,
_•e˘rum
,1).
move_to
(
ªsz
);

20567 i‡(
	g_dïth
>
	gsz
Ë
	gªsy
.
gë_ªsize
(
sx
,
sy
,
sz
,
_•e˘rum
,2).
move_to
(
ªsz
);

20569 c⁄° 
	gfz
 = (!
bound¨y_c⁄dôi⁄s
 && 
sz
>
_dïth
)?(sz>1?(_depth-1.0f)/(sz-1):0):()_depth/sz;

20570 c⁄° 
	gsxy
 = 
sx
*
sy
;

20571 
	gªsz
.
assign
(
sx
,
sy
,
sz
,
_•e˘rum
);

20572 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20573 
cimg_f‹Z
(
ªsz
,
z
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fz
; *(
	gpoff
++Ë
sxy
*(()cuº - ()
ﬁd
); }

20574 
cimg_f‹XYC
(
ªsz
,
x
,
y
,
c
) {

20575 
	g±rd
 = 
ªsz
.
d©a
(
x
,
y
,0,
c
);

20576 c⁄° 
T
 *c⁄° 
	g±rs0
 = 
ªsy
.
d©a
(
x
,
y
,0,
c
), *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmax
 =Öås0 + (
_dïth
-2)*
sxy
;

20577 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20578 
cimg_f‹Z
(
ªsz
,
z
) {

20579 c⁄° 
	gt
 = *(
pfoff
++);

20580 c⁄° 
TÊﬂt


20581 
	gvÆ1
 = (
TÊﬂt
)*
±rs
,

20582 
	gvÆ0
 = 
±rs
>
±rs0
?(
TÊﬂt
)*’ås-
sxy
):
vÆ1
,

20583 
	gvÆ2
 = 
±rs
<=
±rsmax
?(
TÊﬂt
)*’ås+
sxy
):
vÆ1
,

20584 
	gvÆ3
 = 
±rs
<
±rsmax
?(
TÊﬂt
)*’ås+2*
sxy
):
vÆ2
,

20585 
	gvÆ
 = 
vÆ1
 + 0.5f*(
t
*(-
vÆ0
+
vÆ2
Ë+Å*t*(2*vÆ0-5*vÆ1+4*vÆ2-
vÆ3
) +Å*t*t*(-val0+3*val1-3*val2+val3));

20586 *
	g±rd
 = (
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

20587 
	g±rd
+=
sxy
;

20588 
	g±rs
+=*(
poff
++);

20593 
	gªsy
.
assign
();

20594 } 
	gªsz
.
assign
(
ªsy
,
åue
);

20596 i‡(
	gsc
!=
_•e˘rum
) {

20597 i‡(
_•e˘rum
==1Ë
ªsz
.
gë_ªsize
(
sx
,
sy
,
sz
,
sc
,1).
move_to
(
ªsc
);

20599 i‡(
	g_•e˘rum
>
	gsc
Ë
	gªsz
.
gë_ªsize
(
sx
,
sy
,
sz
,
sc
,2).
move_to
(
ªsc
);

20601 c⁄° 
	gfc
 = (!
bound¨y_c⁄dôi⁄s
 && 
sc
>
_•e˘rum
)?(sc>1?(_spectrum-1.0f)/(sc-1):0):()_spectrum/sc;

20602 c⁄° 
	gsxyz
 = 
sx
*
sy
*
sz
;

20603 
	gªsc
.
assign
(
sx
,
sy
,
sz
,
sc
);

20604 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20605 
cimg_f‹C
(
ªsc
,
c
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fc
; *(
	gpoff
++Ë
sxyz
*(()cuº - ()
ﬁd
); }

20606 
cimg_f‹XYZ
(
ªsc
,
x
,
y
,
z
) {

20607 
	g±rd
 = 
ªsc
.
d©a
(
x
,
y
,
z
,0);

20608 c⁄° 
T
 *c⁄° 
	g±rs0
 = 
ªsz
.
d©a
(
x
,
y
,
z
,0), *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmax
 = 
±rs
 + (
_•e˘rum
-2)*
sxyz
;

20609 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20610 
cimg_f‹C
(
ªsc
,
c
) {

20611 c⁄° 
	gt
 = *(
pfoff
++);

20612 c⁄° 
TÊﬂt


20613 
	gvÆ1
 = (
TÊﬂt
)*
±rs
,

20614 
	gvÆ0
 = 
±rs
>
±rs0
?(
TÊﬂt
)*’ås-
sxyz
):
vÆ1
,

20615 
	gvÆ2
 = 
±rs
<=
±rsmax
?(
TÊﬂt
)*’ås+
sxyz
):
vÆ1
,

20616 
	gvÆ3
 = 
±rs
<
±rsmax
?(
TÊﬂt
)*’ås+2*
sxyz
):
vÆ2
,

20617 
	gvÆ
 = 
vÆ1
 + 0.5f*(
t
*(-
vÆ0
+
vÆ2
Ë+Å*t*(2*vÆ0-5*vÆ1+4*vÆ2-
vÆ3
) +Å*t*t*(-val0+3*val1-3*val2+val3));

20618 *
	g±rd
 = (
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

20619 
	g±rd
+=
sxyz
;

20620 
	g±rs
+=*(
poff
++);

20625 
	gªsz
.
assign
();

20626 } 
	gªsc
.
assign
(
ªsz
,
åue
);

20628  
	gªsc
.
	g_is_sh¨ed
?(
	gªsz
._is_sh¨ed?(
	gªsy
._is_sh¨ed?(
	gªsx
._is_sh¨ed?(+(*
	gthis
)):
ªsx
):
ªsy
):
ªsz
):
ªsc
;

20634 c⁄° 
TÊﬂt
 
vmö
 = (TÊﬂt)
cimg
::
ty≥
<
T
>::
mö
(), 
	gvmax
 = (TÊﬂt)cimg::ty≥<T>::
max
();

20635 
	gCImg
<
	guötT
> 
off
(
cimg
::
max
(
sx
,
sy
,
sz
,
sc
));

20636 
	gCImg
<
	gÊﬂtT
> 
foff
(
off
.
_width
);

20637 *
	gpoff
;

20638 *
	gpfoff
, 
	gﬁd
, 
	gcuº
;

20639 
	gCImg
<
	gT
> 
	gªsx
, 
	gªsy
, 
	gªsz
, 
	gªsc
;

20640 
T
 *
	g±rd
;

20642 i‡(
	gsx
!=
_width
) {

20643 i‡(
_width
==1Ë
gë_ªsize
(
sx
,
_height
,
_dïth
,
_•e˘rum
,1).
move_to
(
ªsx
);

20645 i‡(
	g_width
>
	gsx
Ë
gë_ªsize
(
sx
,
_height
,
_dïth
,
_•e˘rum
,2).
move_to
(
ªsx
);

20647 c⁄° 
	gfx
 = (!
bound¨y_c⁄dôi⁄s
 && 
sx
>
_width
)?(sx>1?(_width-1.0f)/(sx-1):0):()_width/sx;

20648 
	gªsx
.
assign
(
sx
,
_height
,
_dïth
,
_•e˘rum
);

20649 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20650 
cimg_f‹X
(
ªsx
,
x
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fx
; *(
	gpoff
++Ë()cuº - ()
ﬁd
; }

20651 
	g±rd
 = 
ªsx
.
_d©a
;

20652 c⁄° 
T
 *
	g±rs0
 = 
_d©a
;

20653 
cimg_f‹YZC
(
ªsx
,
y
,
z
,
c
) {

20654 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20655 c⁄° 
T
 *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmö
 =Öås0 + 1, *c⁄° 
	g±rsmax
 =Öås0 + (
_width
-2);

20656 
cimg_f‹X
(
ªsx
,
x
) {

20658 
	gt
 = *(
pfoff
++),

20659 
	gw0
 = 
_cimg_œnczos
(
t
+2),

20660 
	gw1
 = 
_cimg_œnczos
(
t
+1),

20661 
	gw2
 = 
_cimg_œnczos
(
t
),

20662 
	gw3
 = 
_cimg_œnczos
(
t
-1),

20663 
	gw4
 = 
_cimg_œnczos
(
t
-2);

20664 c⁄° 
TÊﬂt


20665 
	gvÆ2
 = (
TÊﬂt
)*
±rs
,

20666 
	gvÆ1
 = 
±rs
>=
±rsmö
?(
TÊﬂt
)*’ås-1):
vÆ2
,

20667 
	gvÆ0
 = 
±rs
>
±rsmö
?(
TÊﬂt
)*’ås-2):
vÆ1
,

20668 
	gvÆ3
 = 
±rs
<=
±rsmax
?(
TÊﬂt
)*’ås+1):
vÆ2
,

20669 
	gvÆ4
 = 
±rs
<
±rsmax
?(
TÊﬂt
)*’ås+2):
vÆ3
,

20670 
	gvÆ
 = (
vÆ0
*
w0
 + 
vÆ1
*
w1
 + 
vÆ2
*
w2
 + 
vÆ3
*
w3
 + 
vÆ4
*
w4
)/(w1 + w2 + w3 + w4);

20671 *(
	g±rd
++Ë(
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

20672 
	g±rs
+=*(
poff
++);

20674 
	g±rs0
+=
_width
;

20678 } 
	gªsx
.
assign
(*
this
,
åue
);

20680 i‡(
	gsy
!=
_height
) {

20681 i‡(
_height
==1Ë
ªsx
.
gë_ªsize
(
sx
,
sy
,
_dïth
,
_•e˘rum
,1).
move_to
(
ªsy
);

20683 i‡(
	g_height
>
	gsy
Ë
	gªsx
.
gë_ªsize
(
sx
,
sy
,
_dïth
,
_•e˘rum
,2).
move_to
(
ªsy
);

20685 c⁄° 
	gfy
 = (!
bound¨y_c⁄dôi⁄s
 && 
sy
>
_height
)?(sy>1?(_height-1.0f)/(sy-1):0):()_height/sy;

20686 
	gªsy
.
assign
(
sx
,
sy
,
_dïth
,
_•e˘rum
);

20687 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20688 
cimg_f‹Y
(
ªsy
,
y
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fy
; *(
	gpoff
++Ë
sx
*(()cuº-()
ﬁd
); }

20689 
cimg_f‹XZC
(
ªsy
,
x
,
z
,
c
) {

20690 
	g±rd
 = 
ªsy
.
d©a
(
x
,0,
z
,
c
);

20691 c⁄° 
T
 *c⁄° 
	g±rs0
 = 
ªsx
.
d©a
(
x
,0,
z
,
c
), *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmö
 =Öås0 + 
sx
, *c⁄° 
	g±rsmax
 =Öås0 + (
_height
-2)*sx;

20692 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20693 
cimg_f‹Y
(
ªsy
,
y
) {

20695 
	gt
 = *(
pfoff
++),

20696 
	gw0
 = 
_cimg_œnczos
(
t
+2),

20697 
	gw1
 = 
_cimg_œnczos
(
t
+1),

20698 
	gw2
 = 
_cimg_œnczos
(
t
),

20699 
	gw3
 = 
_cimg_œnczos
(
t
-1),

20700 
	gw4
 = 
_cimg_œnczos
(
t
-2);

20701 c⁄° 
TÊﬂt


20702 
	gvÆ2
 = (
TÊﬂt
)*
±rs
,

20703 
	gvÆ1
 = 
±rs
>=
±rsmö
?(
TÊﬂt
)*’ås-
sx
):
vÆ2
,

20704 
	gvÆ0
 = 
±rs
>
±rsmö
?(
TÊﬂt
)*’ås-2*
sx
):
vÆ1
,

20705 
	gvÆ3
 = 
±rs
<=
±rsmax
?(
TÊﬂt
)*’ås+
sx
):
vÆ2
,

20706 
	gvÆ4
 = 
±rs
<
±rsmax
?(
TÊﬂt
)*’ås+2*
sx
):
vÆ3
,

20707 
	gvÆ
 = (
vÆ0
*
w0
 + 
vÆ1
*
w1
 + 
vÆ2
*
w2
 + 
vÆ3
*
w3
 + 
vÆ4
*
w4
)/(w1 + w2 + w3 + w4);

20708 *
	g±rd
 = (
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

20709 
	g±rd
+=
sx
;

20710 
	g±rs
+=*(
poff
++);

20715 
	gªsx
.
assign
();

20716 } 
	gªsy
.
assign
(
ªsx
,
åue
);

20718 i‡(
	gsz
!=
_dïth
) {

20719 i‡(
_dïth
==1Ë
ªsy
.
gë_ªsize
(
sx
,
sy
,
sz
,
_•e˘rum
,1).
move_to
(
ªsz
);

20721 i‡(
	g_dïth
>
	gsz
Ë
	gªsy
.
gë_ªsize
(
sx
,
sy
,
sz
,
_•e˘rum
,2).
move_to
(
ªsz
);

20723 c⁄° 
	gfz
 = (!
bound¨y_c⁄dôi⁄s
 && 
sz
>
_dïth
)?(sz>1?(_depth-1.0f)/(sz-1):0):()_depth/sz;

20724 c⁄° 
	gsxy
 = 
sx
*
sy
;

20725 
	gªsz
.
assign
(
sx
,
sy
,
sz
,
_•e˘rum
);

20726 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20727 
cimg_f‹Z
(
ªsz
,
z
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fz
; *(
	gpoff
++Ë
sxy
*(()cuº - ()
ﬁd
); }

20728 
cimg_f‹XYC
(
ªsz
,
x
,
y
,
c
) {

20729 
	g±rd
 = 
ªsz
.
d©a
(
x
,
y
,0,
c
);

20730 c⁄° 
T
 *c⁄° 
	g±rs0
 = 
ªsy
.
d©a
(
x
,
y
,0,
c
), *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmö
 =Öås0 + 
sxy
, *c⁄° 
	g±rsmax
 =Öås0 + (
_dïth
-2)*sxy;

20731 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20732 
cimg_f‹Z
(
ªsz
,
z
) {

20734 
	gt
 = *(
pfoff
++),

20735 
	gw0
 = 
_cimg_œnczos
(
t
+2),

20736 
	gw1
 = 
_cimg_œnczos
(
t
+1),

20737 
	gw2
 = 
_cimg_œnczos
(
t
),

20738 
	gw3
 = 
_cimg_œnczos
(
t
-1),

20739 
	gw4
 = 
_cimg_œnczos
(
t
-2);

20740 c⁄° 
TÊﬂt


20741 
	gvÆ2
 = (
TÊﬂt
)*
±rs
,

20742 
	gvÆ1
 = 
±rs
>=
±rsmö
?(
TÊﬂt
)*’ås-
sxy
):
vÆ2
,

20743 
	gvÆ0
 = 
±rs
>
±rsmö
?(
TÊﬂt
)*’ås-2*
sxy
):
vÆ1
,

20744 
	gvÆ3
 = 
±rs
<=
±rsmax
?(
TÊﬂt
)*’ås+
sxy
):
vÆ2
,

20745 
	gvÆ4
 = 
±rs
<
±rsmax
?(
TÊﬂt
)*’ås+2*
sxy
):
vÆ3
,

20746 
	gvÆ
 = (
vÆ0
*
w0
 + 
vÆ1
*
w1
 + 
vÆ2
*
w2
 + 
vÆ3
*
w3
 + 
vÆ4
*
w4
)/(w1 + w2 + w3 + w4);

20747 *
	g±rd
 = (
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

20748 
	g±rd
+=
sxy
;

20749 
	g±rs
+=*(
poff
++);

20754 
	gªsy
.
assign
();

20755 } 
	gªsz
.
assign
(
ªsy
,
åue
);

20757 i‡(
	gsc
!=
_•e˘rum
) {

20758 i‡(
_•e˘rum
==1Ë
ªsz
.
gë_ªsize
(
sx
,
sy
,
sz
,
sc
,1).
move_to
(
ªsc
);

20760 i‡(
	g_•e˘rum
>
	gsc
Ë
	gªsz
.
gë_ªsize
(
sx
,
sy
,
sz
,
sc
,2).
move_to
(
ªsc
);

20762 c⁄° 
	gfc
 = (!
bound¨y_c⁄dôi⁄s
 && 
sc
>
_•e˘rum
)?(sc>1?(_spectrum-1.0f)/(sc-1):0):()_spectrum/sc;

20763 c⁄° 
	gsxyz
 = 
sx
*
sy
*
sz
;

20764 
	gªsc
.
assign
(
sx
,
sy
,
sz
,
sc
);

20765 
	gcuº
 = 
ﬁd
 = 0; 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20766 
cimg_f‹C
(
ªsc
,
c
Ë{ *(
	gpfoff
++Ë
cuº
 - ()cuº; 
	gﬁd
 = cuº; 
	gcuº
+=
fc
; *(
	gpoff
++Ë
sxyz
*(()cuº - ()
ﬁd
); }

20767 
cimg_f‹XYZ
(
ªsc
,
x
,
y
,
z
) {

20768 
	g±rd
 = 
ªsc
.
d©a
(
x
,
y
,
z
,0);

20769 c⁄° 
T
 *c⁄° 
	g±rs0
 = 
ªsz
.
d©a
(
x
,
y
,
z
,0), *
	g±rs
 = 
±rs0
, *c⁄° 
	g±rsmö
 =Öås0 + 
sxyz
, *c⁄° 
	g±rsmax
 = 
±rs
 + (
_•e˘rum
-2)*sxyz;

20770 
	gpoff
 = 
off
.
_d©a
; 
	gpfoff
 = 
foff
._data;

20771 
cimg_f‹C
(
ªsc
,
c
) {

20773 
	gt
 = *(
pfoff
++),

20774 
	gw0
 = 
_cimg_œnczos
(
t
+2),

20775 
	gw1
 = 
_cimg_œnczos
(
t
+1),

20776 
	gw2
 = 
_cimg_œnczos
(
t
),

20777 
	gw3
 = 
_cimg_œnczos
(
t
-1),

20778 
	gw4
 = 
_cimg_œnczos
(
t
-2);

20779 c⁄° 
TÊﬂt


20780 
	gvÆ2
 = (
TÊﬂt
)*
±rs
,

20781 
	gvÆ1
 = 
±rs
>=
±rsmö
?(
TÊﬂt
)*’ås-
sxyz
):
vÆ2
,

20782 
	gvÆ0
 = 
±rs
>
±rsmö
?(
TÊﬂt
)*’ås-2*
sxyz
):
vÆ1
,

20783 
	gvÆ3
 = 
±rs
<=
±rsmax
?(
TÊﬂt
)*’ås+
sxyz
):
vÆ2
,

20784 
	gvÆ4
 = 
±rs
<
±rsmax
?(
TÊﬂt
)*’ås+2*
sxyz
):
vÆ3
,

20785 
	gvÆ
 = (
vÆ0
*
w0
 + 
vÆ1
*
w1
 + 
vÆ2
*
w2
 + 
vÆ3
*
w3
 + 
vÆ4
*
w4
)/(w1 + w2 + w3 + w4);

20786 *
	g±rd
 = (
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

20787 
	g±rd
+=
sxyz
;

20788 
	g±rs
+=*(
poff
++);

20793 
	gªsz
.
assign
();

20794 } 
	gªsc
.
assign
(
ªsz
,
åue
);

20796  
	gªsc
.
	g_is_sh¨ed
?(
	gªsz
._is_sh¨ed?(
	gªsy
._is_sh¨ed?(
	gªsx
._is_sh¨ed?(+(*
	gthis
)):
ªsx
):
ªsy
):
ªsz
):
ªsc
;

20802 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


20805 
cimg_ö°™˚
,

20806 
öãΩﬁ©i⁄_ty≥
);

20808  
	gªs
;

20821 
	gãm∂©e
<
ty≥«me
 
	gt
>

20822 
	gCImg
<
	gT
>& 
ªsize
(c⁄° 
CImg
<
t
>& 
§c
,

20823 c⁄° 
öãΩﬁ©i⁄_ty≥
=1, c⁄° 
bound¨y_c⁄dôi⁄s
=0,

20824 c⁄° 
˚¡îög_x
 = 0, c⁄° 
˚¡îög_y
 = 0,

20825 c⁄° 
˚¡îög_z
 = 0, c⁄° 
˚¡îög_c
 = 0) {

20826  
ªsize
(
§c
.
_width
,§c.
_height
,§c.
_dïth
,§c.
_•e˘rum
,
öãΩﬁ©i⁄_ty≥
,
bound¨y_c⁄dôi⁄s
,

20827 
˚¡îög_x
,
˚¡îög_y
,
˚¡îög_z
,
˚¡îög_c
);

20831 
	gãm∂©e
<
ty≥«me
 
	gt
>

20832 
	gCImg
<
	gT
> 
gë_ªsize
(c⁄° 
CImg
<
t
>& 
§c
,

20833 c⁄° 
öãΩﬁ©i⁄_ty≥
=1, c⁄° 
bound¨y_c⁄dôi⁄s
=0,

20834 c⁄° 
˚¡îög_x
 = 0, c⁄° 
˚¡îög_y
 = 0,

20835 c⁄° 
˚¡îög_z
 = 0, c⁄° 
˚¡îög_c
 = 0) const {

20836  
gë_ªsize
(
§c
.
_width
,§c.
_height
,§c.
_dïth
,§c.
_•e˘rum
,
öãΩﬁ©i⁄_ty≥
,
bound¨y_c⁄dôi⁄s
,

20837 
˚¡îög_x
,
˚¡îög_y
,
˚¡îög_z
,
˚¡îög_c
);

20850 
	gCImg
<
	gT
>& 
ªsize
(c⁄° 
CImgDi•œy
& 
di•
,

20851 c⁄° 
öãΩﬁ©i⁄_ty≥
=1, c⁄° 
bound¨y_c⁄dôi⁄s
=0,

20852 c⁄° 
˚¡îög_x
 = 0, c⁄° 
˚¡îög_y
 = 0,

20853 c⁄° 
˚¡îög_z
 = 0, c⁄° 
˚¡îög_c
 = 0) {

20854  
ªsize
(
di•
.
width
(),di•.
height
(),
_dïth
,
_•e˘rum
,
öãΩﬁ©i⁄_ty≥
,
bound¨y_c⁄dôi⁄s
,

20855 
˚¡îög_x
,
˚¡îög_y
,
˚¡îög_z
,
˚¡îög_c
);

20859 
	gCImg
<
	gT
> 
gë_ªsize
(c⁄° 
CImgDi•œy
& 
di•
,

20860 c⁄° 
öãΩﬁ©i⁄_ty≥
=1, c⁄° 
bound¨y_c⁄dôi⁄s
=0,

20861 c⁄° 
˚¡îög_x
 = 0, c⁄° 
˚¡îög_y
 = 0,

20862 c⁄° 
˚¡îög_z
 = 0, c⁄° 
˚¡îög_c
 = 0) const {

20863  
gë_ªsize
(
di•
.
width
(),di•.
height
(),
_dïth
,
_•e˘rum
,
öãΩﬁ©i⁄_ty≥
,
bound¨y_c⁄dôi⁄s
,

20864 
˚¡îög_x
,
˚¡îög_y
,
˚¡îög_z
,
˚¡îög_c
);

20868 
	gCImg
<
	gT
>& 
ªsize_hÆfXY
() {

20869  
gë_ªsize_hÆfXY
().
move_to
(*
this
);

20873 
	gCImg
<
	gT
> 
gë_ªsize_hÆfXY
() const {

20874 i‡(
is_em±y
()Ë *
	gthis
;

20875 c⁄° 
TÊﬂt
 
	gmask
[9] = { 0.07842776544f, 0.1231940459f, 0.07842776544f,

20878 
T
 
	gI
[9] = { 0 };

20879 
	gCImg
<
	gT
> 
ªs
(
_width
/2,
_height
/2,
_dïth
,
_•e˘rum
);

20880 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

20881 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
T
)

20882 i‡(
	gx
%2 && 
	gy
%2Ë*(
	g±rd
++Ë(
T
)

20883 (
I
[0]*
mask
[0] + I[1]*mask[1] + I[2]*mask[2] +

20884 
I
[3]*
mask
[3] + I[4]*mask[4] + I[5]*mask[5] +

20885 
I
[6]*
mask
[6] + I[7]*mask[7] + I[8]*mask[8]);

20886  
	gªs
;

20893 
	gCImg
<
	gT
>& 
ªsize_doubÀXY
() {

20894  
gë_ªsize_doubÀXY
().
move_to
(*
this
);

20898 
	gCImg
<
	gT
> 
gë_ªsize_doubÀXY
() const {

20899 
	#_cimg_gs2x_f‹3
(
bound
,
i
) \

20900 
i
 = 0, 
_p1
##i = 0, \

20901 
_n1
##
i
 = 1>=(
bound
)?()(bound)-1:1; \

20902 
_n1
##
i
<()(
bound
) || i==--_n1##i; \

20903 
_p1
##
i
 = i++, ++
_n1
##i, 
±rd1
+=(
ªs
).
_width
, 
±rd2
+=‘es)._width)

	)

20905 
	#_cimg_gs2x_f‹3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

20906 
	`_cimg_gs2x_f‹3
((
img
).
_height
,
y
Ë
x
 = 0, \

20907 
_p1
##
x
 = 0, \

20908 
_n1
##
x
 = ()( \

20909 (
I
[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

20910 (
I
[3] = I[4] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

20911 (
I
[7] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

20912 1>=(
img
).
_width
?(img).
	`width
()-1:1); \

20913 (
_n1
##
x
<(
img
).
	`width
() && ( \

20914 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

20915 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

20916 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

20917 
x
==--
_n1
##x; \

20918 
I
[1] = I[2], \

20919 
I
[3] = I[4], I[4] = I[5], \

20920 
I
[7] = I[8], \

20921 
_p1
##
x
 = x++, ++
_n1
##x)

	)

20923 i‡(
is_em±y
()Ë *
	gthis
;

20924 
	gCImg
<
	gT
> 
ªs
(
_width
<<1,
_height
<<1,
_dïth
,
_•e˘rum
);

20925 
CImg_3x3
(
I
,
T
);

20926 
cimg_f‹ZC
(*
this
,
z
,
c
) {

20927 
T


20928 *
	g±rd1
 = 
ªs
.
d©a
(0,0,
z
,
c
),

20929 *
	g±rd2
 = 
±rd1
 + 
ªs
.
_width
;

20930 
_cimg_gs2x_f‹3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
T
) {

20931 i‡(
	gI˝
!=
I˙
 && 
Ipc
!=
Inc
) {

20932 *(
±rd1
++Ë
Ipc
==
I˝
?Ipc:
Icc
;

20933 *(
	g±rd1
++Ë
I˝
==
Inc
?Inc:
Icc
;

20934 *(
	g±rd2
++Ë
Ipc
==
I˙
?Ipc:
Icc
;

20935 *(
	g±rd2
++Ë
I˙
==
Inc
?Inc:
Icc
;

20936 } { *(
	g±rd1
++Ë
Icc
; *’åd1++ËIcc; *(
	g±rd2
++) = Icc; *(ptrd2++) = Icc; }

20939  
	gªs
;

20946 
	gCImg
<
	gT
>& 
ªsize_åùÀXY
() {

20947  
gë_ªsize_åùÀXY
().
move_to
(*
this
);

20951 
	gCImg
<
	gT
> 
gë_ªsize_åùÀXY
() const {

20952 
	#_cimg_gs3x_f‹3
(
bound
,
i
) \

20953 
i
 = 0, 
_p1
##i = 0, \

20954 
_n1
##
i
 = 1>=(
bound
)?()(bound)-1:1; \

20955 
_n1
##
i
<()(
bound
) || i==--_n1##i; \

20956 
_p1
##
i
 = i++, ++
_n1
##i, 
±rd1
+=2*(
ªs
).
_width
, 
±rd2
+=2*‘es)._width, 
±rd3
+=2*‘es)._width)

	)

20958 
	#_cimg_gs3x_f‹3x3
(
img
,
x
,
y
,
z
,
c
,
I
,
T
) \

20959 
	`_cimg_gs3x_f‹3
((
img
).
_height
,
y
Ë
x
 = 0, \

20960 
_p1
##
x
 = 0, \

20961 
_n1
##
x
 = ()( \

20962 (
I
[0] = I[1] = (
T
)(
img
)(
_p1
##
x
,_p1##
y
,
z
,
c
)), \

20963 (
I
[3] = I[4] = (
T
)(
img
)(0,
y
,
z
,
c
)), \

20964 (
I
[6] = I[7] = (
T
)(
img
)(0,
_n1
##
y
,
z
,
c
)), \

20965 1>=(
img
).
_width
?(img).
	`width
()-1:1); \

20966 (
_n1
##
x
<(
img
).
	`width
() && ( \

20967 (
I
[2] = (
T
)(
img
)(
_n1
##
x
,
_p1
##
y
,
z
,
c
)), \

20968 (
I
[5] = (
T
)(
img
)(
_n1
##
x
,
y
,
z
,
c
)), \

20969 (
I
[8] = (
T
)(
img
)(
_n1
##
x
,_n1##
y
,
z
,
c
)),1)) || \

20970 
x
==--
_n1
##x; \

20971 
I
[0] = I[1], I[1] = I[2], \

20972 
I
[3] = I[4], I[4] = I[5], \

20973 
I
[6] = I[7], I[7] = I[8], \

20974 
_p1
##
x
 = x++, ++
_n1
##x)

	)

20976 i‡(
is_em±y
()Ë *
	gthis
;

20977 
	gCImg
<
	gT
> 
ªs
(3*
_width
,3*
_height
,
_dïth
,
_•e˘rum
);

20978 
CImg_3x3
(
I
,
T
);

20979 
cimg_f‹ZC
(*
this
,
z
,
c
) {

20980 
T


20981 *
	g±rd1
 = 
ªs
.
d©a
(0,0,
z
,
c
),

20982 *
	g±rd2
 = 
±rd1
 + 
ªs
.
_width
,

20983 *
	g±rd3
 = 
±rd2
 + 
ªs
.
_width
;

20984 
_cimg_gs3x_f‹3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
T
) {

20985 i‡(
	gI˝
 !
I˙
 && 
Ipc
 !
Inc
) {

20986 *(
±rd1
++Ë
Ipc
==
I˝
?Ipc:
Icc
;

20987 *(
	g±rd1
++Ë(
Ipc
==
I˝
 && 
Icc
!=
I≈
Ë|| (I˝==
Inc
 && Icc!=
Iµ
)?Icp:Icc;

20988 *(
	g±rd1
++Ë
I˝
==
Inc
?Inc:
Icc
;

20989 *(
	g±rd2
++Ë(
Ipc
==
I˝
 && 
Icc
!=
I≤
Ë|| (Ipc==
I˙
 && Icc!=
Iµ
)?Ipc:Icc;

20990 *(
	g±rd2
++Ë
Icc
;

20991 *(
	g±rd2
++Ë(
I˝
==
Inc
 && 
Icc
!=
I¬
Ë|| (
I˙
==In¯&& Icc!=
I≈
)?Inc:Icc;

20992 *(
	g±rd3
++Ë
Ipc
==
I˙
?Ipc:
Icc
;

20993 *(
	g±rd3
++Ë(
Ipc
==
I˙
 && 
Icc
!=
I¬
Ë|| (I˙==
Inc
 && Icc!=
I≤
)?Icn:Icc;

20994 *(
	g±rd3
++Ë
I˙
==
Inc
?Inc:
Icc
;

20996 *(
	g±rd1
++Ë
Icc
; *(ptrd1++) = Icc; *(ptrd1++) = Icc;

20997 *(
	g±rd2
++Ë
Icc
; *(ptrd2++) = Icc; *(ptrd2++) = Icc;

20998 *(
	g±rd3
++Ë
Icc
; *(ptrd3++) = Icc; *(ptrd3++) = Icc;

21002  
	gªs
;

21009 
	gCImg
<
	gT
>& 
múr‹
(c⁄° 
axis
) {

21010 i‡(
is_em±y
()Ë *
	gthis
;

21011 
T
 *
	gpf
, *
	gpb
, *
	gbuf
 = 0;

21012 
	gcimg
::
unˇ£
(
axis
)) {

21014 
pf
 = 
_d©a
; 
	gpb
 = 
d©a
(
_width
-1);

21015 c⁄° 
	gwidth2
 = 
_width
/2;

21016 
	gyzv
 = 0; yzv<
_height
*
_dïth
*
	g_•e˘rum
; ++yzv) {

21017 
	gx
 = 0; x<
	gwidth2
; ++xË{ c⁄° 
T
 
	gvÆ
 = *
pf
; *(
	gpf
++Ë*
pb
; *(
	gpb
--Ë
vÆ
; }

21018 
	gpf
+=
_width
 - 
width2
;

21019 
	gpb
+=
_width
 + 
width2
;

21023 
buf
 = 
√w
 
T
[
_width
];

21024 
	gpf
 = 
_d©a
; 
	gpb
 = 
d©a
(0,
_height
-1);

21025 c⁄° 
	gheight2
 = 
_height
/2;

21026 
	gzv
 = 0; zv<
_dïth
*
	g_•e˘rum
; ++zv) {

21027 
	gy
 = 0; y<
	gheight2
; ++y) {

21028 
	g°d
::
mem˝y
(
buf
,
pf
,
_width
*(
T
));

21029 
	g°d
::
mem˝y
(
pf
,
pb
,
_width
*(
T
));

21030 
	g°d
::
mem˝y
(
pb
,
buf
,
_width
*(
T
));

21031 
	gpf
+=
_width
;

21032 
	gpb
-=
_width
;

21034 
	gpf
+=()
_width
*(
_height
 - 
height2
);

21035 
	gpb
+=()
_width
*(
_height
 + 
height2
);

21039 
buf
 = 
√w
 
T
[()
_width
*
_height
];

21040 
	gpf
 = 
_d©a
; 
	gpb
 = 
d©a
(0,0,
_dïth
-1);

21041 c⁄° 
	gdïth2
 = 
_dïth
/2;

21042 
cimg_f‹C
(*
this
,
c
) {

21043 
	gz
 = 0; z<
	gdïth2
; ++z) {

21044 
	g°d
::
mem˝y
(
buf
,
pf
,
_width
*
_height
*(
T
));

21045 
	g°d
::
mem˝y
(
pf
,
pb
,
_width
*
_height
*(
T
));

21046 
	g°d
::
mem˝y
(
pb
,
buf
,
_width
*
_height
*(
T
));

21047 
	gpf
+=()
_width
*
_height
;

21048 
	gpb
-=()
_width
*
_height
;

21050 
	gpf
+=()
_width
*
_height
*(
_dïth
 - 
dïth2
);

21051 
	gpb
+=()
_width
*
_height
*(
_dïth
 + 
dïth2
);

21055 
buf
 = 
√w
 
T
[()
_width
*
_height
*
_dïth
];

21056 
	gpf
 = 
_d©a
; 
	gpb
 = 
d©a
(0,0,0,
_•e˘rum
-1);

21057 c⁄° 
	g_•e˘rum2
 = 
_•e˘rum
/2;

21058 
	gv
 = 0; v<
	g_•e˘rum2
; ++v) {

21059 
	g°d
::
mem˝y
(
buf
,
pf
,
_width
*
_height
*
_dïth
*(
T
));

21060 
	g°d
::
mem˝y
(
pf
,
pb
,
_width
*
_height
*
_dïth
*(
T
));

21061 
	g°d
::
mem˝y
(
pb
,
buf
,
_width
*
_height
*
_dïth
*(
T
));

21062 
	gpf
+=()
_width
*
_height
*
_dïth
;

21063 
	gpb
-=()
_width
*
_height
*
_dïth
;

21067 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


21069 
cimg_ö°™˚
,

21070 
axis
);

21072 
	gdñëe
[] 
	gbuf
;

21073  *
	gthis
;

21077 
	gCImg
<
	gT
> 
gë_múr‹
(c⁄° 
axis
) const {

21078  (+*
	gthis
).
múr‹
(
axis
);

21086 
	gCImg
<
	gT
>& 
múr‹
(c⁄° *c⁄° 
axes
) {

21087 c⁄° *
	gs
 = 
axes
; *s; s++Ë
múr‹
(*
s
);

21088  *
	gthis
;

21092 
	gCImg
<
	gT
> 
gë_múr‹
(c⁄° *c⁄° 
axes
) const {

21093  (+*
	gthis
).
múr‹
(
axes
);

21109 
	gCImg
<
	gT
>& 
shi·
(c⁄° 
dñè_x
, c⁄° 
dñè_y
=0, c⁄° 
dñè_z
=0, c⁄° 
dñè_c
=0,

21110 c⁄° 
bound¨y_c⁄dôi⁄s
=0) {

21111 i‡(
is_em±y
()Ë *
this
;

21112 i‡(
	gdñè_x
)

21113 
	gbound¨y_c⁄dôi⁄s
) {

21115 i‡(
cimg
::
abs
(
dñè_x
)>=
width
()Ë 
fûl
(0);

21116 i‡(
	gdñè_x
<0Ë
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

21117 
	g°d
::
memmove
(
d©a
(0,
y
,
z
,
c
),d©a(-
dñè_x
,y,z,c),(
_width
+dñè_x)*(
T
));

21118 
	g°d
::
mem£t
(
d©a
(
_width
+
dñè_x
,
y
,
z
,
c
),0,-dñè_x*(
T
));

21119 } 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

21120 
	g°d
::
memmove
(
d©a
(
dñè_x
,
y
,
z
,
c
),d©a(0,y,z,c),(
_width
-dñè_x)*(
T
));

21121 
	g°d
::
mem£t
(
d©a
(0,
y
,
z
,
c
),0,
dñè_x
*(
T
));

21125 i‡(
dñè_x
<0) {

21126 c⁄° 
ndñè_x
 = (-
dñè_x
>=
width
())?width()-1:-delta_x;

21127 i‡(!
	gndñè_x
Ë *
	gthis
;

21128 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

21129 
	g°d
::
memmove
(
d©a
(0,
y
,
z
,
c
),d©a(
ndñè_x
,y,z,c),(
_width
-ndñè_x)*(
T
));

21130 
T
 *
	g±rd
 = 
d©a
(
_width
-1,
y
,
z
,
c
);

21131 c⁄° 
T
 
	gvÆ
 = *
±rd
;

21132 
	gl
 = 0;Ü<
	gndñè_x
-1; ++lË*(--
	g±rd
Ë
vÆ
;

21135 c⁄° 
	gndñè_x
 = (
dñè_x
>=
width
())?width()-1:delta_x;

21136 i‡(!
	gndñè_x
Ë *
	gthis
;

21137 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

21138 
	g°d
::
memmove
(
d©a
(
ndñè_x
,
y
,
z
,
c
),d©a(0,y,z,c),(
_width
-ndñè_x)*(
T
));

21139 
T
 *
	g±rd
 = 
d©a
(0,
y
,
z
,
c
);

21140 c⁄° 
T
 
	gvÆ
 = *
±rd
;

21141 
	gl
 = 0;Ü<
	gndñè_x
-1; ++lË*(++
	g±rd
Ë
vÆ
;

21146 c⁄° 
ml
 = 
cimg
::
mod
(-
dñè_x
,
width
()), 
	gndñè_x
 = (ml<=width()/2)?ml:(ml-width());

21147 i‡(!
	gndñè_x
Ë *
	gthis
;

21148 
T
 *c⁄° 
	gbuf
 = 
√w
 T[
cimg
::
abs
(
ndñè_x
)];

21149 i‡(
	gndñè_x
>0Ë
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

21150 
	g°d
::
mem˝y
(
buf
,
d©a
(0,
y
,
z
,
c
),
ndñè_x
*(
T
));

21151 
	g°d
::
memmove
(
d©a
(0,
y
,
z
,
c
),d©a(
ndñè_x
,y,z,c),(
_width
-ndñè_x)*(
T
));

21152 
	g°d
::
mem˝y
(
d©a
(
_width
-
ndñè_x
,
y
,
z
,
c
),
buf
,ndñè_x*(
T
));

21153 } 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

21154 
	g°d
::
mem˝y
(
buf
,
d©a
(
_width
+
ndñè_x
,
y
,
z
,
c
),-ndñè_x*(
T
));

21155 
	g°d
::
memmove
(
d©a
(-
ndñè_x
,
y
,
z
,
c
),d©a(0,y,z,c),(
_width
+ndñè_x)*(
T
));

21156 
	g°d
::
mem˝y
(
d©a
(0,
y
,
z
,
c
),
buf
,-
ndñè_x
*(
T
));

21158 
	gdñëe
[] 
	gbuf
;

21162 i‡(
	gdñè_y
)

21163 
	gbound¨y_c⁄dôi⁄s
) {

21165 i‡(
cimg
::
abs
(
dñè_y
)>=
height
()Ë 
fûl
(0);

21166 i‡(
	gdñè_y
<0Ë
cimg_f‹ZC
(*
this
,
z
,
c
) {

21167 
	g°d
::
memmove
(
d©a
(0,0,
z
,
c
),d©a(0,-
dñè_y
,z,c),
_width
*(
_height
+dñè_y)*(
T
));

21168 
	g°d
::
mem£t
(
d©a
(0,
_height
+
dñè_y
,
z
,
c
),0,-dñè_y*
_width
*(
T
));

21169 } 
cimg_f‹ZC
(*
this
,
z
,
c
) {

21170 
	g°d
::
memmove
(
d©a
(0,
dñè_y
,
z
,
c
),d©a(0,0,z,c),
_width
*(
_height
-dñè_y)*(
T
));

21171 
	g°d
::
mem£t
(
d©a
(0,0,
z
,
c
),0,
dñè_y
*
_width
*(
T
));

21175 i‡(
dñè_y
<0) {

21176 c⁄° 
ndñè_y
 = (-
dñè_y
>=
height
())?height()-1:-delta_y;

21177 i‡(!
	gndñè_y
Ë *
	gthis
;

21178 
cimg_f‹ZC
(*
this
,
z
,
c
) {

21179 
	g°d
::
memmove
(
d©a
(0,0,
z
,
c
),d©a(0,
ndñè_y
,z,c),
_width
*(
_height
-ndñè_y)*(
T
));

21180 
T
 *
	g±rd
 = 
d©a
(0,
_height
-
ndñè_y
,
z
,
c
), *
	g±rs
 = data(0,_height-1,z,c);

21181 
	gl
 = 0;Ü<
	gndñè_y
-1; ++lË{ 
	g°d
::
mem˝y
(
±rd
,
±rs
,
_width
*(
T
)); 
	g±rd
+=_width; }

21184 c⁄° 
	gndñè_y
 = (
dñè_y
>=
height
())?height()-1:delta_y;

21185 i‡(!
	gndñè_y
Ë *
	gthis
;

21186 
cimg_f‹ZC
(*
this
,
z
,
c
) {

21187 
	g°d
::
memmove
(
d©a
(0,
ndñè_y
,
z
,
c
),d©a(0,0,z,c),
_width
*(
_height
-ndñè_y)*(
T
));

21188 
T
 *
	g±rd
 = 
d©a
(0,1,
z
,
c
), *
	g±rs
 = data(0,0,z,c);

21189 
	gl
 = 0;Ü<
	gndñè_y
-1; ++lË{ 
	g°d
::
mem˝y
(
±rd
,
±rs
,
_width
*(
T
)); 
	g±rd
+=_width; }

21194 c⁄° 
ml
 = 
cimg
::
mod
(-
dñè_y
,
height
()), 
	gndñè_y
 = (ml<=height()/2)?ml:(ml-height());

21195 i‡(!
	gndñè_y
Ë *
	gthis
;

21196 
T
 *c⁄° 
	gbuf
 = 
√w
 T[()
_width
*
cimg
::
abs
(
ndñè_y
)];

21197 i‡(
	gndñè_y
>0Ë
cimg_f‹ZC
(*
this
,
z
,
c
) {

21198 
	g°d
::
mem˝y
(
buf
,
d©a
(0,0,
z
,
c
),
_width
*
ndñè_y
*(
T
));

21199 
	g°d
::
memmove
(
d©a
(0,0,
z
,
c
),d©a(0,
ndñè_y
,z,c),
_width
*(
_height
-ndñè_y)*(
T
));

21200 
	g°d
::
mem˝y
(
d©a
(0,
_height
-
ndñè_y
,
z
,
c
),
buf
,
_width
*ndñè_y*(
T
));

21201 } 
cimg_f‹ZC
(*
this
,
z
,
c
) {

21202 
	g°d
::
mem˝y
(
buf
,
d©a
(0,
_height
+
ndñè_y
,
z
,
c
),-ndñè_y*
_width
*(
T
));

21203 
	g°d
::
memmove
(
d©a
(0,-
ndñè_y
,
z
,
c
),d©a(0,0,z,c),
_width
*(
_height
+ndñè_y)*(
T
));

21204 
	g°d
::
mem˝y
(
d©a
(0,0,
z
,
c
),
buf
,-
ndñè_y
*
_width
*(
T
));

21206 
	gdñëe
[] 
	gbuf
;

21210 i‡(
	gdñè_z
)

21211 
	gbound¨y_c⁄dôi⁄s
) {

21213 i‡(
cimg
::
abs
(
dñè_z
)>=
dïth
()Ë 
fûl
(0);

21214 i‡(
	gdñè_z
<0Ë
cimg_f‹C
(*
this
,
c
) {

21215 
	g°d
::
memmove
(
d©a
(0,0,0,
c
),d©a(0,0,-
dñè_z
,c),
_width
*
_height
*(
_dïth
+dñè_z)*(
T
));

21216 
	g°d
::
mem£t
(
d©a
(0,0,
_dïth
+
dñè_z
,
c
),0,
_width
*
_height
*(-dñè_z)*(
T
));

21217 } 
cimg_f‹C
(*
this
,
c
) {

21218 
	g°d
::
memmove
(
d©a
(0,0,
dñè_z
,
c
),d©a(0,0,0,c),
_width
*
_height
*(
_dïth
-dñè_z)*(
T
));

21219 
	g°d
::
mem£t
(
d©a
(0,0,0,
c
),0,
dñè_z
*
_width
*
_height
*(
T
));

21223 i‡(
dñè_z
<0) {

21224 c⁄° 
ndñè_z
 = (-
dñè_z
>=
dïth
())?depth()-1:-delta_z;

21225 i‡(!
	gndñè_z
Ë *
	gthis
;

21226 
cimg_f‹C
(*
this
,
c
) {

21227 
	g°d
::
memmove
(
d©a
(0,0,0,
c
),d©a(0,0,
ndñè_z
,c),
_width
*
_height
*(
_dïth
-ndñè_z)*(
T
));

21228 
T
 *
	g±rd
 = 
d©a
(0,0,
_dïth
-
ndñè_z
,
c
), *
	g±rs
 = data(0,0,_depth-1,c);

21229 
	gl
 = 0;Ü<
	gndñè_z
-1; ++lË{ 
	g°d
::
mem˝y
(
±rd
,
±rs
,
_width
*
_height
*(
T
)); 
	g±rd
+=()_width*_height; }

21232 c⁄° 
	gndñè_z
 = (
dñè_z
>=
dïth
())?depth()-1:delta_z;

21233 i‡(!
	gndñè_z
Ë *
	gthis
;

21234 
cimg_f‹C
(*
this
,
c
) {

21235 
	g°d
::
memmove
(
d©a
(0,0,
ndñè_z
,
c
),d©a(0,0,0,c),
_width
*
_height
*(
_dïth
-ndñè_z)*(
T
));

21236 
T
 *
	g±rd
 = 
d©a
(0,0,1,
c
), *
	g±rs
 = data(0,0,0,c);

21237 
	gl
 = 0;Ü<
	gndñè_z
-1; ++lË{ 
	g°d
::
mem˝y
(
±rd
,
±rs
,
_width
*
_height
*(
T
)); 
	g±rd
+=()_width*_height; }

21242 c⁄° 
ml
 = 
cimg
::
mod
(-
dñè_z
,
dïth
()), 
	gndñè_z
 = (ml<=depth()/2)?ml:(ml-depth());

21243 i‡(!
	gndñè_z
Ë *
	gthis
;

21244 
T
 *c⁄° 
	gbuf
 = 
√w
 T[()
_width
*
_height
*
cimg
::
abs
(
ndñè_z
)];

21245 i‡(
	gndñè_z
>0Ë
cimg_f‹C
(*
this
,
c
) {

21246 
	g°d
::
mem˝y
(
buf
,
d©a
(0,0,0,
c
),
_width
*
_height
*
ndñè_z
*(
T
));

21247 
	g°d
::
memmove
(
d©a
(0,0,0,
c
),d©a(0,0,
ndñè_z
,c),
_width
*
_height
*(
_dïth
-ndñè_z)*(
T
));

21248 
	g°d
::
mem˝y
(
d©a
(0,0,
_dïth
-
ndñè_z
,
c
),
buf
,
_width
*
_height
*ndñè_z*(
T
));

21249 } 
cimg_f‹C
(*
this
,
c
) {

21250 
	g°d
::
mem˝y
(
buf
,
d©a
(0,0,
_dïth
+
ndñè_z
,
c
),-ndñè_z*
_width
*
_height
*(
T
));

21251 
	g°d
::
memmove
(
d©a
(0,0,-
ndñè_z
,
c
),d©a(0,0,0,c),
_width
*
_height
*(
_dïth
+ndñè_z)*(
T
));

21252 
	g°d
::
mem˝y
(
d©a
(0,0,0,
c
),
buf
,-
ndñè_z
*
_width
*
_height
*(
T
));

21254 
	gdñëe
[] 
	gbuf
;

21258 i‡(
	gdñè_c
)

21259 
	gbound¨y_c⁄dôi⁄s
) {

21261 i‡(
cimg
::
abs
(
dñè_c
)>=
•e˘rum
()Ë 
fûl
(0);

21262 i‡(
	gdñè_c
<0) {

21263 
	g°d
::
memmove
(
_d©a
,
d©a
(0,0,0,-
dñè_c
),
_width
*
_height
*
_dïth
*(
_•e˘rum
+dñè_c)*(
T
));

21264 
	g°d
::
mem£t
(
d©a
(0,0,0,
_•e˘rum
+
dñè_c
),0,
_width
*
_height
*
_dïth
*(-dñè_c)*(
T
));

21266 
	g°d
::
memmove
(
d©a
(0,0,0,
dñè_c
),
_d©a
,
_width
*
_height
*
_dïth
*(
_•e˘rum
-dñè_c)*(
T
));

21267 
	g°d
::
mem£t
(
_d©a
,0,
dñè_c
*
_width
*
_height
*
_dïth
*(
T
));

21271 i‡(
dñè_c
<0) {

21272 c⁄° 
ndñè_c
 = (-
dñè_c
>=
•e˘rum
())?spectrum()-1:-delta_c;

21273 i‡(!
	gndñè_c
Ë *
	gthis
;

21274 
	g°d
::
memmove
(
_d©a
,
d©a
(0,0,0,
ndñè_c
),
_width
*
_height
*
_dïth
*(
_•e˘rum
-ndñè_c)*(
T
));

21275 
T
 *
	g±rd
 = 
d©a
(0,0,0,
_•e˘rum
-
ndñè_c
), *
	g±rs
 = data(0,0,0,_spectrum-1);

21276 
	gl
 = 0;Ü<
	gndñè_c
-1; ++lË{ 
	g°d
::
mem˝y
(
±rd
,
±rs
,
_width
*
_height
*
_dïth
*(
T
)); 
	g±rd
+=()_width*_height*_depth; }

21278 c⁄° 
	gndñè_c
 = (
dñè_c
>=
•e˘rum
())?spectrum()-1:delta_c;

21279 i‡(!
	gndñè_c
Ë *
	gthis
;

21280 
	g°d
::
memmove
(
d©a
(0,0,0,
ndñè_c
),
_d©a
,
_width
*
_height
*
_dïth
*(
_•e˘rum
-ndñè_c)*(
T
));

21281 
T
 *
	g±rd
 = 
d©a
(0,0,0,1);

21282 
	gl
 = 0;Ü<
	gndñè_c
-1; ++lË{ 
	g°d
::
mem˝y
(
±rd
,
_d©a
,
_width
*
_height
*
_dïth
*(
T
)); 
	g±rd
+=()_width*_height*_depth; }

21286 c⁄° 
ml
 = 
cimg
::
mod
(-
dñè_c
,
•e˘rum
()), 
	gndñè_c
 = (ml<=spectrum()/2)?ml:(ml-spectrum());

21287 i‡(!
	gndñè_c
Ë *
	gthis
;

21288 
T
 *c⁄° 
	gbuf
 = 
√w
 T[()
_width
*
_height
*
_dïth
*
cimg
::
abs
(
ndñè_c
)];

21289 i‡(
	gndñè_c
>0) {

21290 
	g°d
::
mem˝y
(
buf
,
_d©a
,
_width
*
_height
*
_dïth
*
ndñè_c
*(
T
));

21291 
	g°d
::
memmove
(
_d©a
,
d©a
(0,0,0,
ndñè_c
),
_width
*
_height
*
_dïth
*(
_•e˘rum
-ndñè_c)*(
T
));

21292 
	g°d
::
mem˝y
(
d©a
(0,0,0,
_•e˘rum
-
ndñè_c
),
buf
,
_width
*
_height
*
_dïth
*ndñè_c*(
T
));

21294 
	g°d
::
mem˝y
(
buf
,
d©a
(0,0,0,
_•e˘rum
+
ndñè_c
),-ndñè_c*
_width
*
_height
*
_dïth
*(
T
));

21295 
	g°d
::
memmove
(
d©a
(0,0,0,-
ndñè_c
),
_d©a
,
_width
*
_height
*
_dïth
*(
_•e˘rum
+ndñè_c)*(
T
));

21296 
	g°d
::
mem˝y
(
_d©a
,
buf
,-
ndñè_c
*
_width
*
_height
*
_dïth
*(
T
));

21298 
	gdñëe
[] 
	gbuf
;

21301  *
	gthis
;

21305 
	gCImg
<
	gT
> 
gë_shi·
(c⁄° 
dñè_x
, c⁄° 
dñè_y
=0, c⁄° 
dñè_z
=0, c⁄° 
dñè_c
=0,

21306 c⁄° 
bound¨y_c⁄dôi⁄s
=0) const {

21307  (+*
this
).
shi·
(
dñè_x
,
dñè_y
,
dñè_z
,
dñè_c
,
bound¨y_c⁄dôi⁄s
);

21315 
	gCImg
<
	gT
>& 
≥rmuã_axes
(c⁄° *c⁄° 
‹dî
) {

21316  
gë_≥rmuã_axes
(
‹dî
).
move_to
(*
this
);

21320 
	gCImg
<
	gT
> 
gë_≥rmuã_axes
(c⁄° *c⁄° 
‹dî
) const {

21321 c⁄° 
T
 
	gfoo
 = (T)0;

21322  
_gë_≥rmuã_axes
(
‹dî
,
foo
);

21325 
	gãm∂©e
<
ty≥«me
 
	gt
>

21326 
	gCImg
<
	gt
> 
_gë_≥rmuã_axes
(c⁄° *c⁄° 
≥rmut
, c⁄° 
t
&) const {

21327 i‡(
is_em±y
(Ë|| !
	g≥rmut
Ë 
	gCImg
<
	gt
>(*
	gthis
,
	gÁl£
);

21328 
	gCImg
<
	gt
> 
	gªs
;

21329 c⁄° 
T
* 
	g±rs
 = 
_d©a
;

21330 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"xyzc",4)Ë +*
	gthis
;

21331 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"xycz",4)) {

21332 
	gªs
.
assign
(
_width
,
_height
,
_•e˘rum
,
_dïth
);

21333 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21334 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(x,y,c,z,
wh
,
whd
Ë(
t
)*(
±rs
++);

21336 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"xzyc",4)) {

21337 
	gªs
.
assign
(
_width
,
_dïth
,
_height
,
_•e˘rum
);

21338 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21339 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(x,z,y,c,
wh
,
whd
Ë(
t
)*(
±rs
++);

21341 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"xzcy",4)) {

21342 
	gªs
.
assign
(
_width
,
_dïth
,
_•e˘rum
,
_height
);

21343 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21344 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(x,z,c,y,
wh
,
whd
Ë(
t
)*(
±rs
++);

21346 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"xcyz",4)) {

21347 
	gªs
.
assign
(
_width
,
_•e˘rum
,
_height
,
_dïth
);

21348 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21349 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(x,c,y,z,
wh
,
whd
Ë(
t
)*(
±rs
++);

21351 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"xczy",4)) {

21352 
	gªs
.
assign
(
_width
,
_•e˘rum
,
_dïth
,
_height
);

21353 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21354 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(x,c,z,y,
wh
,
whd
Ë(
t
)*(
±rs
++);

21356 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"yxzc",4)) {

21357 
	gªs
.
assign
(
_height
,
_width
,
_dïth
,
_•e˘rum
);

21358 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21359 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(y,x,z,c,
wh
,
whd
Ë(
t
)*(
±rs
++);

21361 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"yxcz",4)) {

21362 
	gªs
.
assign
(
_height
,
_width
,
_•e˘rum
,
_dïth
);

21363 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21364 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(y,x,c,z,
wh
,
whd
Ë(
t
)*(
±rs
++);

21366 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"yzxc",4)) {

21367 
	gªs
.
assign
(
_height
,
_dïth
,
_width
,
_•e˘rum
);

21368 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21369 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(y,z,x,c,
wh
,
whd
Ë(
t
)*(
±rs
++);

21371 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"yzcx",4)) {

21372 
	gªs
.
assign
(
_height
,
_dïth
,
_•e˘rum
,
_width
);

21373 
	g_width
) {

21375 
t
 *
±r_r
 = 
ªs
.
d©a
(0,0,0,0);

21376 
	gsiz
 = 
_height
*
_dïth
*
_•e˘rum
; siz; --siz) {

21377 *(
	g±r_r
++Ë(
t
)*(
±rs
++);

21381 
t
 *
±r_r
 = 
ªs
.
d©a
(0,0,0,0), *
	g±r_g
 =Ñes.data(0,0,0,1);

21382 
	gsiz
 = 
_height
*
_dïth
*
_•e˘rum
; siz; --siz) {

21383 *(
	g±r_r
++Ë(
t
)*(
±rs
++); *(
	g±r_g
++) = (t)*(ptrs++);

21387 
t
 *
±r_r
 = 
ªs
.
d©a
(0,0,0,0), *
	g±r_g
 =Ñes.d©a(0,0,0,1), *
	g±r_b
 =Ñes.data(0,0,0,2);

21388 
	gsiz
 = 
_height
*
_dïth
*
_•e˘rum
; siz; --siz) {

21389 *(
	g±r_r
++Ë(
t
)*(
±rs
++); *(
	g±r_g
++Ë—)*’ås++); *(
	g±r_b
++) = (t)*(ptrs++);

21393 
t
 *
±r_r
 = 
ªs
.
d©a
(0,0,0,0), *
	g±r_g
 =Ñes.d©a(0,0,0,1), *
	g±r_b
 =Ñes.d©a(0,0,0,2), *
	g±r_a
 =Ñes.data(0,0,0,3);

21394 
	gsiz
 = 
_height
*
_dïth
*
_•e˘rum
; siz; --siz) {

21395 *(
	g±r_r
++Ë(
t
)*(
±rs
++); *(
	g±r_g
++Ë—)*’ås++); *(
	g±r_b
++Ë—)*’ås++); *(
	g±r_a
++) = (t)*(ptrs++);

21399 c⁄° 
wh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = wh*ªs.
_dïth
;

21400 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(y,z,c,x,
wh
,
whd
Ë*(
±rs
++);

21401  
	gªs
;

21405 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"ycxz",4)) {

21406 
	gªs
.
assign
(
_height
,
_•e˘rum
,
_width
,
_dïth
);

21407 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21408 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(y,c,x,z,
wh
,
whd
Ë(
t
)*(
±rs
++);

21410 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"yczx",4)) {

21411 
	gªs
.
assign
(
_height
,
_•e˘rum
,
_dïth
,
_width
);

21412 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21413 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(y,c,z,x,
wh
,
whd
Ë(
t
)*(
±rs
++);

21415 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"zxyc",4)) {

21416 
	gªs
.
assign
(
_dïth
,
_width
,
_height
,
_•e˘rum
);

21417 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21418 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(z,x,y,c,
wh
,
whd
Ë(
t
)*(
±rs
++);

21420 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"zxcy",4)) {

21421 
	gªs
.
assign
(
_dïth
,
_width
,
_•e˘rum
,
_height
);

21422 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21423 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(z,x,c,y,
wh
,
whd
Ë(
t
)*(
±rs
++);

21425 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"zyxc",4)) {

21426 
	gªs
.
assign
(
_dïth
,
_height
,
_width
,
_•e˘rum
);

21427 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21428 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(z,y,x,c,
wh
,
whd
Ë(
t
)*(
±rs
++);

21430 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"zycx",4)) {

21431 
	gªs
.
assign
(
_dïth
,
_height
,
_•e˘rum
,
_width
);

21432 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21433 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(z,y,c,x,
wh
,
whd
Ë(
t
)*(
±rs
++);

21435 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"zcxy",4)) {

21436 
	gªs
.
assign
(
_dïth
,
_•e˘rum
,
_width
,
_height
);

21437 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21438 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(z,c,x,y,
wh
,
whd
Ë(
t
)*(
±rs
++);

21440 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"zcyx",4)) {

21441 
	gªs
.
assign
(
_dïth
,
_•e˘rum
,
_height
,
_width
);

21442 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21443 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(z,c,y,x,
wh
,
whd
Ë(
t
)*(
±rs
++);

21445 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"cxyz",4)) {

21446 
	gªs
.
assign
(
_•e˘rum
,
_width
,
_height
,
_dïth
);

21447 
	g_•e˘rum
) {

21449 c⁄° 
T
 *
±r_r
 = 
d©a
(0,0,0,0);

21450 
t
 *
	g±rd
 = 
ªs
.
_d©a
;

21451 
	gsiz
 = ()
_width
*
_height
*
_dïth
; siz; --sizË*(
	g±rd
++Ë(
t
)*(
±r_r
++);

21454 c⁄° 
T
 *
±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = data(0,0,0,1);

21455 
t
 *
	g±rd
 = 
ªs
.
_d©a
;

21456 
	gsiz
 = ()
_width
*
_height
*
_dïth
; siz; --siz) {

21457 *(
	g±rd
++Ë(
t
)*(
±r_r
++); *’åd++Ë—)*(
±r_g
++);

21461 c⁄° 
T
 *
±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

21462 
t
 *
	g±rd
 = 
ªs
.
_d©a
;

21463 
	gsiz
 = ()
_width
*
_height
*
_dïth
; siz; --siz) {

21464 *(
	g±rd
++Ë(
t
)*(
±r_r
++); *’åd++Ë—)*(
±r_g
++); *’åd++Ë—)*(
±r_b
++);

21468 c⁄° 
T
 *
±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *
	g±r_a
 = data(0,0,0,3);

21469 
t
 *
	g±rd
 = 
ªs
.
_d©a
;

21470 
	gsiz
 = ()
_width
*
_height
*
_dïth
; siz; --siz) {

21471 *(
	g±rd
++Ë(
t
)*(
±r_r
++); *’åd++Ë—)*(
±r_g
++); *’åd++Ë—)*(
±r_b
++); *’åd++Ë—)*(
±r_a
++);

21475 c⁄° 
wh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = wh*ªs.
_dïth
;

21476 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(c,x,y,z,
wh
,
whd
Ë(
t
)*(
±rs
++);

21480 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"cxzy",4)) {

21481 
	gªs
.
assign
(
_•e˘rum
,
_width
,
_dïth
,
_height
);

21482 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21483 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(c,x,z,y,
wh
,
whd
Ë(
t
)*(
±rs
++);

21485 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"cyxz",4)) {

21486 
	gªs
.
assign
(
_•e˘rum
,
_height
,
_width
,
_dïth
);

21487 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21488 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(c,y,x,z,
wh
,
whd
Ë(
t
)*(
±rs
++);

21490 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"cyzx",4)) {

21491 
	gªs
.
assign
(
_•e˘rum
,
_height
,
_dïth
,
_width
);

21492 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21493 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(c,y,z,x,
wh
,
whd
Ë(
t
)*(
±rs
++);

21495 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"czxy",4)) {

21496 
	gªs
.
assign
(
_•e˘rum
,
_dïth
,
_width
,
_height
);

21497 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21498 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(c,z,x,y,
wh
,
whd
Ë(
t
)*(
±rs
++);

21500 i‡(!
	gcimg
::
°∫ˇ£cmp
(
≥rmut
,"czyx",4)) {

21501 
	gªs
.
assign
(
_•e˘rum
,
_dïth
,
_height
,
_width
);

21502 c⁄° 
	gwh
 = ()
ªs
.
_width
*ªs.
_height
, 
	gwhd
 = 
wh
*ªs.
_dïth
;

21503 
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
Ë
ªs
(c,z,y,x,
wh
,
whd
Ë(
t
)*(
±rs
++);

21505 i‡(!
	gªs
)

21506 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


21508 
cimg_ö°™˚
,

21509 
≥rmut
);

21510  
	gªs
;

21517 
	gCImg
<
	gT
>& 
uƒﬁl
(c⁄° 
axis
) {

21518 c⁄° 
	gsiz
 = 
size
();

21519 i‡(
	gsiz
Ë
	gaxis
) {

21520 'x' : 
_width
 = 
siz
; 
	g_height
 = 
_dïth
 = 
_•e˘rum
 = 1; ;

21521 'y' : 
_height
 = 
siz
; 
	g_width
 = 
_dïth
 = 
_•e˘rum
 = 1; ;

21522 'z' : 
_dïth
 = 
siz
; 
	g_width
 = 
_height
 = 
_•e˘rum
 = 1; ;

21523  : 
_•e˘rum
 = 
siz
; 
	g_width
 = 
_height
 = 
_dïth
 = 1;

21525  *
	gthis
;

21529 
	gCImg
<
	gT
> 
gë_uƒﬁl
(c⁄° 
axis
) const {

21530  (+*
	gthis
).
uƒﬁl
(
axis
);

21540 
	gCImg
<
	gT
>& 
rŸ©e
(c⁄° 
™gÀ
, c⁄° 
öãΩﬁ©i⁄
=1, c⁄° 
bound¨y
=0) {

21541  
gë_rŸ©e
(
™gÀ
,
öãΩﬁ©i⁄
,
bound¨y
).
move_to
(*
this
);

21545 
	gCImg
<
	gT
> 
gë_rŸ©e
(c⁄° 
™gÀ
, c⁄° 
öãΩﬁ©i⁄
=1, c⁄° 
bound¨y
=0) const {

21546 i‡(
is_em±y
()Ë *
this
;

21547 
	gCImg
<
	gT
> 
	gªs
;

21548 c⁄° 
	g«ngÀ
 = 
cimg
::
mod
(
™gÀ
,360.0f);

21549 i‡(
	gbound¨y
!=1 && 
cimg
::
mod
(
«ngÀ
,90.0f)==0) {

21550 c⁄° 
wm1
 = 
width
(Ë- 1, 
	ghm1
 = 
height
() - 1;

21551 c⁄° 
	güngÀ
 = ()
«ngÀ
/90;

21552 
	güngÀ
) {

21554 
ªs
.
assign
(
_height
,
_width
,
_dïth
,
_•e˘rum
);

21555 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

21556 
cimg_f‹XYZC
(
ªs
,
x
,
y
,
z
,
c
Ë*(
	g±rd
++Ë(*
this
)(y,
	ghm1
-
	gx
,
	gz
,
	gc
);

21559 
ªs
.
assign
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

21560 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

21561 
cimg_f‹XYZC
(
ªs
,
x
,
y
,
z
,
c
Ë*(
	g±rd
++Ë(*
this
)(
wm1
-x,
	ghm1
-
	gy
,
	gz
,
	gc
);

21564 
ªs
.
assign
(
_height
,
_width
,
_dïth
,
_•e˘rum
);

21565 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

21566 
cimg_f‹XYZC
(
ªs
,
x
,
y
,
z
,
c
Ë*(
	g±rd
++Ë(*
this
)(
wm1
-y,
	gx
,
	gz
,
	gc
);

21569  *
this
;

21572 c⁄° 
TÊﬂt
 
	gvmö
 = (TÊﬂt)
cimg
::
ty≥
<
T
>::
mö
(), 
	gvmax
 = (TÊﬂt)cimg::ty≥<T>::
max
();

21574 
	gød
 = ()(
«ngÀ
*
cimg
::
PI
/180.0),

21575 
	gˇ
 = ()
°d
::
cos
(
ød
),

21576 
	gß
 = ()
°d
::
sö
(
ød
),

21577 
	gux
 = 
cimg
::
abs
(
_width
*
ˇ
), 
	guy
 = cimg::abs(_width*
ß
),

21578 
	gvx
 = 
cimg
::
abs
(
_height
*
ß
), 
	gvy
 = cimg::abs(_height*
ˇ
),

21579 
	gw2
 = 0.5f*
_width
, 
	gh2
 = 0.5f*
_height
,

21580 
	gdw2
 = 0.5f*(
ux
+
vx
), 
	gdh2
 = 0.5f*(
uy
+
vy
);

21581 
	gªs
.
assign
(()(
ux
+
vx
),()(
uy
+
vy
),
_dïth
,
_•e˘rum
);

21582 
	gbound¨y
) {

21584 
öãΩﬁ©i⁄
) {

21586 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
) {

21587 c⁄° 
TÊﬂt
 
	gvÆ
 = 
cubic_©XY
(
w2
 + (
x
-
dw2
)*
ˇ
 + (
y
-
dh2
)*
ß
,
h2
 - (x-dw2)*ß + (y-dh2)*ˇ,
z
,
c
,0);

21588 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

21592 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21593 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)
löór_©XY
(
w2
 + (x-
dw2
)*
ˇ
 + (y-
dh2
)*
ß
,
h2
 - (x-dw2)*sa + (y-dh2)*ca,z,c,0);

21596 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21597 
ªs
(
x
,
y
,
z
,
c
Ë
©XY
(()(
w2
 + (x-
dw2
)*
ˇ
 + (y-
dh2
)*
ß
),()(
h2
 - (x-dw2)*sa + (y-dh2)*ca),z,c,0);

21602 
öãΩﬁ©i⁄
) {

21604 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
) {

21605 c⁄° 
TÊﬂt
 
	gvÆ
 = 
_cubic_©XY
(
w2
 + (
x
-
dw2
)*
ˇ
 + (
y
-
dh2
)*
ß
,
h2
 - (x-dw2)*ß + (y-dh2)*ˇ,
z
,
c
);

21606 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

21610 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21611 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)
_löór_©XY
(
w2
 + (x-
dw2
)*
ˇ
 + (y-
dh2
)*
ß
,
h2
 - (x-dw2)*sa + (y-dh2)*ca,z,c);

21614 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21615 
ªs
(
x
,
y
,
z
,
c
Ë
_©XY
(()(
w2
 + (x-
dw2
)*
ˇ
 + (y-
dh2
)*
ß
),()(
h2
 - (x-dw2)*sa + (y-dh2)*ca),z,c);

21620 
öãΩﬁ©i⁄
) {

21622 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
) {

21623 c⁄° 
TÊﬂt
 
	gvÆ
 = 
_cubic_©XY
(
cimg
::
mod
(
w2
 + (
x
-
dw2
)*
ˇ
 + (
y
-
dh2
)*
ß
,()
width
()),

21624 
cimg
::
mod
(
h2
 - (
x
-
dw2
)*
ß
 + (
y
-
dh2
)*
ˇ
,()
height
()),
z
,
c
);

21625 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

21629 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21630 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)
_löór_©XY
(
cimg
::
mod
(
w2
 + (x-
dw2
)*
ˇ
 + (y-
dh2
)*
ß
,()
width
()),

21631 
cimg
::
mod
(
h2
 - (
x
-
dw2
)*
ß
 + (
y
-
dh2
)*
ˇ
,()
height
()),
z
,
c
);

21634 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21635 
ªs
(
x
,
y
,
z
,
c
Ë(*
this
)(
cimg
::
mod
(()(
w2
 + (x-
dw2
)*
ˇ
 + (y-
dh2
)*
ß
),
width
()),

21636 
	gcimg
::
mod
(()(
h2
 - (
x
-
dw2
)*
ß
 + (
y
-
dh2
)*
ˇ
),
height
()),
	gz
,
	gc
);

21641 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


21644 
cimg_ö°™˚
,

21645 
bound¨y
);

21648  
	gªs
;

21660 
	gCImg
<
	gT
>& 
rŸ©e
(c⁄° 
™gÀ
, c⁄° 
cx
, c⁄° 
cy
, c⁄° 
zoom
,

21661 c⁄° 
öãΩﬁ©i⁄
=1, c⁄° 
bound¨y
=3) {

21662  
gë_rŸ©e
(
™gÀ
,
cx
,
cy
,
zoom
,
öãΩﬁ©i⁄
,
bound¨y
).
move_to
(*
this
);

21666 
	gCImg
<
	gT
> 
gë_rŸ©e
(c⁄° 
™gÀ
, c⁄° 
cx
, c⁄° 
cy
, c⁄° 
zoom
,

21667 c⁄° 
öãΩﬁ©i⁄
=1, c⁄° 
bound¨y
=3) const {

21668 i‡(
öãΩﬁ©i⁄
>2)

21669 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


21672 
cimg_ö°™˚
,

21673 
öãΩﬁ©i⁄
);

21674 i‡(
is_em±y
()Ë *
	gthis
;

21675 
	gCImg
<
	gT
> 
ªs
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

21676 c⁄° 
TÊﬂt
 
	gvmö
 = (TÊﬂt)
cimg
::
ty≥
<
T
>::
mö
(), 
	gvmax
 = (TÊﬂt)cimg::ty≥<T>::
max
();

21678 
	gød
 = ()((
™gÀ
*
cimg
::
PI
)/180.0),

21679 
	gˇ
 = ()
°d
::
cos
(
ød
)/
zoom
,

21680 
	gß
 = ()
°d
::
sö
(
ød
)/
zoom
;

21681 
	gbound¨y
) {

21683 
öãΩﬁ©i⁄
) {

21685 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
) {

21686 c⁄° 
TÊﬂt
 
	gvÆ
 = 
cubic_©XY
(
cx
 + (
x
-cx)*
ˇ
 + (
y
-
cy
)*
ß
,cy - (x-cx)*ß + (y-cy)*ˇ,
z
,
c
,0);

21687 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

21691 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21692 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)
löór_©XY
(
cx
 + (x-cx)*
ˇ
 + (y-
cy
)*
ß
,cy - (x-cx)*sa + (y-cy)*ca,z,c,0);

21695 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21696 
ªs
(
x
,
y
,
z
,
c
Ë
©XY
(()(
cx
 + (x-cx)*
ˇ
 + (y-
cy
)*
ß
),()(cy - (x-cx)*sa + (y-cy)*ca),z,c,0);

21701 
öãΩﬁ©i⁄
) {

21703 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
) {

21704 c⁄° 
TÊﬂt
 
	gvÆ
 = 
_cubic_©XY
(
cx
 + (
x
-cx)*
ˇ
 + (
y
-
cy
)*
ß
,cy - (x-cx)*ß + (y-cy)*ˇ,
z
,
c
);

21705 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

21709 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21710 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)
_löór_©XY
(
cx
 + (x-cx)*
ˇ
 + (y-
cy
)*
ß
,cy - (x-cx)*sa + (y-cy)*ca,z,c);

21713 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21714 
ªs
(
x
,
y
,
z
,
c
Ë
_©XY
(()(
cx
 + (x-cx)*
ˇ
 + (y-
cy
)*
ß
),()(cy - (x-cx)*sa + (y-cy)*ca),z,c);

21719 
öãΩﬁ©i⁄
) {

21721 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
) {

21722 c⁄° 
TÊﬂt
 
	gvÆ
 = 
_cubic_©XY
(
cimg
::
mod
(
cx
 + (
x
-cx)*
ˇ
 + (
y
-
cy
)*
ß
,()
width
()),

21723 
cimg
::
mod
(
cy
 - (
x
-
cx
)*
ß
 + (
y
-cy)*
ˇ
,()
height
()),
z
,
c
);

21724 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)(
vÆ
<
vmö
?vmö:vÆ>
vmax
?vmax:val);

21728 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21729 
ªs
(
x
,
y
,
z
,
c
Ë(
T
)
_löór_©XY
(
cimg
::
mod
(
cx
 + (x-cx)*
ˇ
 + (y-
cy
)*
ß
,()
width
()),

21730 
cimg
::
mod
(
cy
 - (
x
-
cx
)*
ß
 + (
y
-cy)*
ˇ
,()
height
()),
z
,
c
);

21733 
cimg_f‹XY
(
ªs
,
x
,
y
Ë
cimg_f‹ZC
(*
this
,
z
,
c
)

21734 
ªs
(
x
,
y
,
z
,
c
Ë(*
this
)(
cimg
::
mod
(()(
cx
 + (x-cx)*
ˇ
 + (y-
cy
)*
ß
),
width
()),

21735 
	gcimg
::
mod
(()(
cy
 - (
x
-
cx
)*
ß
 + (
y
-cy)*
ˇ
),
height
()),
	gz
,
	gc
);

21740 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


21743 
cimg_ö°™˚
,

21744 
bound¨y
);

21746  
	gªs
;

21756 
	gãm∂©e
<
ty≥«me
 
	gt
>

21757 
	gCImg
<
	gT
>& 
w¨p
(c⁄° 
CImg
<
t
>& w¨p, c⁄° 
boﬁ
 
is_ªœtive
=
Ál£
,

21758 c⁄° 
öãΩﬁ©i⁄
=1, c⁄° 
bound¨y_c⁄dôi⁄s
=0) {

21759  
gë_w¨p
(
w¨p
,
is_ªœtive
,
öãΩﬁ©i⁄
,
bound¨y_c⁄dôi⁄s
).
move_to
(*
this
);

21763 
	gãm∂©e
<
ty≥«me
 
	gt
>

21764 
	gCImg
<
	gT
> 
gë_w¨p
(c⁄° 
CImg
<
t
>& 
w¨p
, c⁄° 
boﬁ
 
is_ªœtive
=
Ál£
,

21765 c⁄° 
öãΩﬁ©i⁄
=1, c⁄° 
bound¨y_c⁄dôi⁄s
=0) const {

21766 i‡(
is_em±y
(Ë|| !
w¨p
Ë *
this
;

21767 i‡(
	gis_ªœtive
 && !
is_ßmeXYZ
(
w¨p
))

21768 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


21771 
cimg_ö°™˚
,

21772 
w¨p
.
_width
,w¨p.
_height
,w¨p.
_dïth
,w¨p.
_•e˘rum
,w¨p.
_d©a
);

21774 
	gCImg
<
	gT
> 
ªs
(
w¨p
.
_width
,w¨p.
_height
,w¨p.
_dïth
,
_•e˘rum
);

21775 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

21777 i‡(
	gw¨p
.
	g_•e˘rum
==1) {

21778 i‡(
is_ªœtive
) {

21779 i‡(
öãΩﬁ©i⁄
==2) {

21780 i‡(
bound¨y_c⁄dôi⁄s
==2)

21781 
cimg_f‹C
(
ªs
,
c
) {

21782 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21783 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21784 *(
	g±rd
++Ë(
T
)
_cubic_©X
(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),
y
,
z
,
c
);

21786 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21787 
cimg_f‹C
(
ªs
,
c
) {

21788 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21789 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21790 *(
	g±rd
++Ë(
T
)
_cubic_©X
(
x
 - ()*(
±rs0
++),
y
,
z
,
c
);

21793 
cimg_f‹C
(
ªs
,
c
) {

21794 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21795 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21796 *(
	g±rd
++Ë(
T
)
cubic_©X
(
x
 - ()*(
±rs0
++),
y
,
z
,
c
,0);

21798 } i‡(
	göãΩﬁ©i⁄
==1) {

21799 i‡(
bound¨y_c⁄dôi⁄s
==2)

21800 
cimg_f‹C
(
ªs
,
c
) {

21801 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21802 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21803 *(
	g±rd
++Ë(
T
)
_löór_©X
(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),
y
,
z
,
c
);

21805 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21806 
cimg_f‹C
(
ªs
,
c
) {

21807 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21808 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21809 *(
	g±rd
++Ë(
T
)
_löór_©X
(
x
 - ()*(
±rs0
++),
y
,
z
,
c
);

21812 
cimg_f‹C
(
ªs
,
c
) {

21813 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21814 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21815 *(
	g±rd
++Ë(
T
)
löór_©X
(
x
 - ()*(
±rs0
++),
y
,
z
,
c
,0);

21818 i‡(
	gbound¨y_c⁄dôi⁄s
==2)

21819 
cimg_f‹C
(
ªs
,
c
) {

21820 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21821 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21822 *(
	g±rd
++Ë(*
this
)(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),
	gy
,
	gz
,
	gc
);

21824 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21825 
cimg_f‹C
(
ªs
,
c
) {

21826 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21827 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21828 *(
	g±rd
++Ë
_©X
(
x
 - ()*(
±rs0
++),
y
,
z
,
c
);

21831 
cimg_f‹C
(
ªs
,
c
) {

21832 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21833 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21834 *(
	g±rd
++Ë
©X
(
x
 - ()*(
±rs0
++),
y
,
z
,
c
,0);

21838 i‡(
	göãΩﬁ©i⁄
==2) {

21839 i‡(
bound¨y_c⁄dôi⁄s
==2)

21840 
cimg_f‹C
(
ªs
,
c
) {

21841 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21842 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21843 *(
	g±rd
++Ë(
T
)
_cubic_©X
(
cimg
::
mod
(()*(
±rs0
++),()
_width
),0,0,
c
);

21845 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21846 
cimg_f‹C
(
ªs
,
c
) {

21847 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21848 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21849 *(
	g±rd
++Ë(
T
)
_cubic_©X
(()*(
±rs0
++),0,0,
c
);

21852 
cimg_f‹C
(
ªs
,
c
) {

21853 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21854 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21855 *(
	g±rd
++Ë(
T
)
cubic_©X
(()*(
±rs0
++),0,0,
c
,0);

21857 } i‡(
	göãΩﬁ©i⁄
==1) {

21858 i‡(
bound¨y_c⁄dôi⁄s
==2)

21859 
cimg_f‹C
(
ªs
,
c
) {

21860 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21861 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21862 *(
	g±rd
++Ë(
T
)
_löór_©X
(
cimg
::
mod
(()*(
±rs0
++),()
_width
),0,0,
c
);

21864 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21865 
cimg_f‹C
(
ªs
,
c
) {

21866 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21867 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21868 *(
	g±rd
++Ë(
T
)
_löór_©X
(()*(
±rs0
++),0,0,
c
);

21871 
cimg_f‹C
(
ªs
,
c
) {

21872 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21873 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21874 *(
	g±rd
++Ë(
T
)
löór_©X
(()*(
±rs0
++),0,0,
c
,0);

21877 i‡(
	gbound¨y_c⁄dôi⁄s
==2)

21878 
cimg_f‹C
(
ªs
,
c
) {

21879 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21880 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21881 *(
	g±rd
++Ë(*
this
)(
cimg
::
mod
(()*(
±rs0
++),()
_width
),0,0,
	gc
);

21883 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21884 
cimg_f‹C
(
ªs
,
c
) {

21885 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21886 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21887 *(
	g±rd
++Ë
_©X
(()*(
±rs0
++),0,0,
c
);

21890 
cimg_f‹C
(
ªs
,
c
) {

21891 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
_d©a
;

21892 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21893 *(
	g±rd
++Ë
©X
(()*(
±rs0
++),0,0,
c
,0);

21898 } i‡(
	gw¨p
.
	g_•e˘rum
==2) {

21899 i‡(
is_ªœtive
) {

21900 i‡(
öãΩﬁ©i⁄
==2) {

21901 i‡(
bound¨y_c⁄dôi⁄s
==2)

21902 
cimg_f‹C
(
ªs
,
c
) {

21903 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21904 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21905 *(
	g±rd
++Ë(
T
)
_cubic_©XY
(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),

21906 
cimg
::
mod
(
y
 - ()*(
±rs1
++),()
_height
),
z
,
c
);

21908 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21909 
cimg_f‹C
(
ªs
,
c
) {

21910 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21911 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21912 *(
	g±rd
++Ë(
T
)
_cubic_©XY
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
);

21915 
cimg_f‹C
(
ªs
,
c
) {

21916 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21917 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21918 *(
	g±rd
++Ë(
T
)
cubic_©XY
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
,0);

21920 } i‡(
	göãΩﬁ©i⁄
==1) {

21921 i‡(
bound¨y_c⁄dôi⁄s
==2)

21922 
cimg_f‹C
(
ªs
,
c
) {

21923 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21924 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21925 *(
	g±rd
++Ë(
T
)
_löór_©XY
(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),

21926 
cimg
::
mod
(
y
 - ()*(
±rs1
++),()
_height
),
z
,
c
);

21928 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21929 
cimg_f‹C
(
ªs
,
c
) {

21930 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21931 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21932 *(
	g±rd
++Ë(
T
)
_löór_©XY
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
);

21935 
cimg_f‹C
(
ªs
,
c
) {

21936 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21937 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21938 *(
	g±rd
++Ë(
T
)
löór_©XY
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
,0);

21941 i‡(
	gbound¨y_c⁄dôi⁄s
==2)

21942 
cimg_f‹C
(
ªs
,
c
) {

21943 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21944 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21945 *(
	g±rd
++Ë(*
this
)(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),

21946 
	gcimg
::
mod
(
y
 - ()*(
±rs1
++),()
_height
),
	gz
,
	gc
);

21948 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21949 
cimg_f‹C
(
ªs
,
c
) {

21950 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21951 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21952 *(
	g±rd
++Ë
_©XY
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
);

21955 
cimg_f‹C
(
ªs
,
c
) {

21956 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21957 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21958 *(
	g±rd
++Ë
©XY
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
,
c
,0);

21962 i‡(
	göãΩﬁ©i⁄
==2) {

21963 i‡(
bound¨y_c⁄dôi⁄s
==2)

21964 
cimg_f‹C
(
ªs
,
c
) {

21965 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21966 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21967 *(
	g±rd
++Ë(
T
)
_cubic_©XY
(
cimg
::
mod
(()*(
±rs0
++),()
_width
),

21968 
cimg
::
mod
(()*(
±rs1
++),()
_height
),0,
c
);

21970 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21971 
cimg_f‹C
(
ªs
,
c
) {

21972 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21973 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21974 *(
	g±rd
++Ë(
T
)
_cubic_©XY
(()*(
±rs0
++),()*(
±rs1
++),0,
c
);

21977 
cimg_f‹C
(
ªs
,
c
) {

21978 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21979 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21980 *(
	g±rd
++Ë(
T
)
cubic_©XY
(()*(
±rs0
++),()*(
±rs1
++),0,
c
,0);

21982 } i‡(
	göãΩﬁ©i⁄
==1) {

21983 i‡(
bound¨y_c⁄dôi⁄s
==2)

21984 
cimg_f‹C
(
ªs
,
c
) {

21985 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21986 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21987 *(
	g±rd
++Ë(
T
)
_löór_©XY
(
cimg
::
mod
(()*(
±rs0
++),()
_width
),

21988 
cimg
::
mod
(()*(
±rs1
++),()
_height
),0,
c
);

21990 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

21991 
cimg_f‹C
(
ªs
,
c
) {

21992 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21993 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

21994 *(
	g±rd
++Ë(
T
)
_löór_©XY
(()*(
±rs0
++),()*(
±rs1
++),0,
c
);

21997 
cimg_f‹C
(
ªs
,
c
) {

21998 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

21999 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22000 *(
	g±rd
++Ë(
T
)
löór_©XY
(()*(
±rs0
++),()*(
±rs1
++),0,
c
,0);

22003 i‡(
	gbound¨y_c⁄dôi⁄s
==2)

22004 
cimg_f‹C
(
ªs
,
c
) {

22005 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

22006 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22007 *(
	g±rd
++Ë(*
this
)(
cimg
::
mod
(()*(
±rs0
++),()
_width
),

22008 
	gcimg
::
mod
(()*(
±rs1
++),()
_height
),0,
	gc
);

22010 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

22011 
cimg_f‹C
(
ªs
,
c
) {

22012 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

22013 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22014 *(
	g±rd
++Ë
_©XY
(()*(
±rs0
++),()*(
±rs1
++),0,
c
);

22017 
cimg_f‹C
(
ªs
,
c
) {

22018 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = warp.data(0,0,0,1);

22019 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22020 *(
	g±rd
++Ë
©XY
(()*(
±rs0
++),()*(
±rs1
++),0,
c
,0);

22025 } i‡(
	gw¨p
.
	g_•e˘rum
==3) {

22026 i‡(
is_ªœtive
) {

22027 i‡(
öãΩﬁ©i⁄
==2) {

22028 i‡(
bound¨y_c⁄dôi⁄s
==2)

22029 
cimg_f‹C
(
ªs
,
c
) {

22030 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22031 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22032 *(
	g±rd
++Ë(
T
)
_cubic_©XYZ
(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),

22033 
cimg
::
mod
(
y
 - ()*(
±rs1
++),()
_height
),

22034 
cimg
::
mod
(
z
 - ()*(
±rs2
++),()
_dïth
),
c
);

22036 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

22037 
cimg_f‹C
(
ªs
,
c
) {

22038 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22039 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22040 *(
	g±rd
++Ë(
T
)
_cubic_©XYZ
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
);

22043 
cimg_f‹C
(
ªs
,
c
) {

22044 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22045 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22046 *(
	g±rd
++Ë(
T
)
cubic_©XYZ
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
,0);

22048 } i‡(
	göãΩﬁ©i⁄
==1) {

22049 i‡(
bound¨y_c⁄dôi⁄s
==2)

22050 
cimg_f‹C
(
ªs
,
c
) {

22051 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22052 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22053 *(
	g±rd
++Ë(
T
)
_löór_©XYZ
(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),

22054 
cimg
::
mod
(
y
 - ()*(
±rs1
++),()
_height
),

22055 
cimg
::
mod
(
z
 - ()*(
±rs2
++),()
_dïth
),
c
);

22057 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

22058 
cimg_f‹C
(
ªs
,
c
) {

22059 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22060 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22061 *(
	g±rd
++Ë(
T
)
_löór_©XYZ
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
);

22064 
cimg_f‹C
(
ªs
,
c
) {

22065 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22066 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22067 *(
	g±rd
++Ë(
T
)
löór_©XYZ
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
,0);

22070 i‡(
	gbound¨y_c⁄dôi⁄s
==2)

22071 
cimg_f‹C
(
ªs
,
c
) {

22072 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22073 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22074 *(
	g±rd
++Ë(*
this
)(
cimg
::
mod
(
x
 - ()*(
±rs0
++),()
_width
),

22075 
	gcimg
::
mod
(
y
 - ()*(
±rs1
++),()
_height
),

22076 
	gcimg
::
mod
(
z
 - ()*(
±rs2
++),()
_dïth
),
	gc
);

22078 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

22079 
cimg_f‹C
(
ªs
,
c
) {

22080 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22081 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22082 *(
	g±rd
++Ë
_©XYZ
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
);

22085 
cimg_f‹C
(
ªs
,
c
) {

22086 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22087 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22088 *(
	g±rd
++Ë
©XYZ
(
x
 - ()*(
±rs0
++),
y
 - ()*(
±rs1
++),
z
 - ()*(
±rs2
++),
c
,0);

22092 i‡(
	göãΩﬁ©i⁄
==2) {

22093 i‡(
bound¨y_c⁄dôi⁄s
==2)

22094 
cimg_f‹C
(
ªs
,
c
) {

22095 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22096 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22097 *(
	g±rd
++Ë(
T
)
_cubic_©XYZ
(
cimg
::
mod
(()*(
±rs0
++),()
_width
),

22098 
cimg
::
mod
(()*(
±rs1
++),()
_height
),

22099 
cimg
::
mod
(()*(
±rs2
++),()
_dïth
),
c
);

22101 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

22102 
cimg_f‹C
(
ªs
,
c
) {

22103 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22104 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22105 *(
	g±rd
++Ë(
T
)
_cubic_©XYZ
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
);

22108 
cimg_f‹C
(
ªs
,
c
) {

22109 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22110 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22111 *(
	g±rd
++Ë(
T
)
cubic_©XYZ
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
,0);

22113 } i‡(
	göãΩﬁ©i⁄
==1) {

22114 i‡(
bound¨y_c⁄dôi⁄s
==2)

22115 
cimg_f‹C
(
ªs
,
c
) {

22116 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22117 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22118 *(
	g±rd
++Ë(
T
)
_löór_©XYZ
(
cimg
::
mod
(()*(
±rs0
++),()
_width
),

22119 
cimg
::
mod
(()*(
±rs1
++),()
_height
),

22120 
cimg
::
mod
(()*(
±rs2
++),()
_dïth
),
c
);

22122 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

22123 
cimg_f‹C
(
ªs
,
c
) {

22124 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22125 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22126 *(
	g±rd
++Ë(
T
)
_löór_©XYZ
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
);

22129 
cimg_f‹C
(
ªs
,
c
) {

22130 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22131 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22132 *(
	g±rd
++Ë(
T
)
löór_©XYZ
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
,0);

22135 i‡(
	gbound¨y_c⁄dôi⁄s
==2)

22136 
cimg_f‹C
(
ªs
,
c
) {

22137 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22138 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22139 *(
	g±rd
++Ë(*
this
)(
cimg
::
mod
(()*(
±rs0
++),()
_width
),

22140 
	gcimg
::
mod
(()*(
±rs1
++),()
_height
),

22141 
	gcimg
::
mod
(()*(
±rs2
++),()
_dïth
),
	gc
);

22143 i‡(
	gbound¨y_c⁄dôi⁄s
==1)

22144 
cimg_f‹C
(
ªs
,
c
) {

22145 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22146 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22147 *(
	g±rd
++Ë
_©XYZ
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
);

22150 
cimg_f‹C
(
ªs
,
c
) {

22151 c⁄° 
t
 *
	g±rs0
 = 
w¨p
.
d©a
(0,0,0,0), *
	g±rs1
 = w¨p.d©a(0,0,0,1), *
	g±rs2
 = warp.data(0,0,0,2);

22152 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
)

22153 *(
	g±rd
++Ë
©XYZ
(()*(
±rs0
++),()*(
±rs1
++),()*(
±rs2
++),
c
,0);

22158  
	gªs
;

22167 
	gCImg
<
	gT
> 
gë_¥oje˘i⁄s2d
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
) const {

22168 i‡(
is_em±y
(Ë|| 
	g_dïth
<2Ë +*
	gthis
;

22170 
	g_x0
 = (
x0
>=
_width
)?_width - 1:x0,

22171 
	g_y0
 = (
y0
>=
_height
)?_height - 1:y0,

22172 
	g_z0
 = (
z0
>=
_dïth
)?_depth - 1:z0;

22173 c⁄° 
	gCImg
<
	gT
>

22174 
	gimg_xy
 = 
gë_¸›
(0,0,
_z0
,0,
_width
-1,
_height
-1,_z0,
_•e˘rum
-1),

22175 
	gimg_zy
 = 
gë_¸›
(
_x0
,0,0,0,_x0,
_height
-1,
_dïth
-1,
_•e˘rum
-1).
≥rmuã_axes
("xzyc").
ªsize
(_depth,_height,1,-100,-1),

22176 
	gimg_xz
 = 
gë_¸›
(0,
_y0
,0,0,
_width
-1,_y0,
_dïth
-1,
_•e˘rum
-1).
ªsize
(_width,_depth,1,-100,-1);

22177  
	gCImg
<
	gT
>(
	g_width
 + 
	g_dïth
,
	g_height
 + _dïth,1,
	g_•e˘rum
,
	gcimg
::
mö
(
img_xy
.mö(),
img_zy
.mö(),
img_xz
.min())).

22178 
døw_image
(0,0,
img_xy
).døw_image(img_xy.
_width
,0,
img_zy
).

22179 
døw_image
(0,
img_xy
.
_height
,
img_xz
);

22183 
	gCImg
<
	gT
>& 
¥oje˘i⁄s2d
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
) {

22184 i‡(
	g_dïth
<2Ë *
	gthis
;

22185  
gë_¥oje˘i⁄s2d
(
x0
,
y0
,
z0
).
move_to
(*
this
);

22200 
	gCImg
<
	gT
>& 
¸›
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

22201 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
,

22202 c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
Ál£
) {

22203  
gë_¸›
(
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
bound¨y_c⁄dôi⁄s
).
move_to
(*
this
);

22207 
	gCImg
<
	gT
> 
gë_¸›
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

22208 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
,

22209 c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
Ál£
) const {

22210 i‡(
is_em±y
())

22211 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


22213 
cimg_ö°™˚
);

22215 
	gnx0
 = 
x0
<
x1
?x0:x1, 
	gnx1
 = x0^x1^
nx0
,

22216 
	gny0
 = 
y0
<
y1
?y0:y1, 
	gny1
 = y0^y1^
ny0
,

22217 
	gnz0
 = 
z0
<
z1
?z0:z1, 
	gnz1
 = z0^z1^
nz0
,

22218 
	gnc0
 = 
c0
<
c1
?c0:c1, 
	gnc1
 = c0^c1^
nc0
;

22219 
	gCImg
<
	gT
> 
ªs
(1U + 
nx1
 - 
nx0
,1U + 
ny1
 - 
ny0
,1U + 
nz1
 - 
nz0
,1U + 
nc1
 - 
nc0
);

22220 i‡(
	gnx0
<0 || 
	gnx1
>=
width
(Ë|| 
ny0
<0 || 
ny1
>=
height
(Ë|| 
nz0
<0 || 
nz1
>=
dïth
(Ë|| 
nc0
<0 || 
nc1
>=
•e˘rum
()) {

22221 i‡(
bound¨y_c⁄dôi⁄s
Ë
cimg_f‹XYZC
(
ªs
,
x
,
y
,
z
,
c
Ëªs(x,y,z,cË
_©XYZC
(
nx0
+x,
ny0
+y,
nz0
+z,
nc0
+c);

22222 
	gªs
.
fûl
(0).
døw_image
(-
nx0
,-
ny0
,-
nz0
,-
nc0
,*
this
);

22223 } 
	gªs
.
døw_image
(-
nx0
,-
ny0
,-
nz0
,-
nc0
,*
this
);

22224  
	gªs
;

22228 
	gCImg
<
	gT
>& 
¸›
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

22229 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

22230 c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
Ál£
) {

22231  
¸›
(
x0
,
y0
,
z0
,0,
x1
,
y1
,
z1
,
_•e˘rum
-1,
bound¨y_c⁄dôi⁄s
);

22235 
	gCImg
<
	gT
> 
gë_¸›
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

22236 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

22237 c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
Ál£
) const {

22238  
gë_¸›
(
x0
,
y0
,
z0
,0,
x1
,
y1
,
z1
,
_•e˘rum
-1,
bound¨y_c⁄dôi⁄s
);

22242 
	gCImg
<
	gT
>& 
¸›
(c⁄° 
x0
, c⁄° 
y0
,

22243 c⁄° 
x1
, c⁄° 
y1
,

22244 c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
Ál£
) {

22245  
¸›
(
x0
,
y0
,0,0,
x1
,
y1
,
_dïth
 - 1,
_•e˘rum
 - 1,
bound¨y_c⁄dôi⁄s
);

22249 
	gCImg
<
	gT
> 
gë_¸›
(c⁄° 
x0
, c⁄° 
y0
,

22250 c⁄° 
x1
, c⁄° 
y1
,

22251 c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
Ál£
) const {

22252  
gë_¸›
(
x0
,
y0
,0,0,
x1
,
y1
,
_dïth
 - 1,
_•e˘rum
 - 1,
bound¨y_c⁄dôi⁄s
);

22256 
	gCImg
<
	gT
>& 
¸›
(c⁄° 
x0
, c⁄° 
x1
, c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
Ál£
) {

22257  
¸›
(
x0
,0,0,0,
x1
,
_height
-1,
_dïth
-1,
_•e˘rum
-1,
bound¨y_c⁄dôi⁄s
);

22261 
	gCImg
<
	gT
> 
gë_¸›
(c⁄° 
x0
, c⁄° 
x1
, c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
Ál£
) const {

22262  
gë_¸›
(
x0
,0,0,0,
x1
,
_height
-1,
_dïth
-1,
_•e˘rum
-1,
bound¨y_c⁄dôi⁄s
);

22266 
	gCImg
<
	gT
>& 
auto¸›
(c⁄° 
T
 
vÆue
, c⁄° *c⁄° 
axes
="czyx") {

22267 i‡(
is_em±y
()Ë *
this
;

22268 c⁄° *
	gs
 = 
axes
; *s; ++s) {

22269 c⁄° 
	gaxis
 = 
cimg
::
unˇ£
(*
s
);

22270 c⁄° 
	gCImg
<
	götT
> 
	gco‹ds
 = 
_auto¸›
(
vÆue
,
axis
);

22271 i‡(
	gco‹ds
[0]==-1 && 
co‹ds
[1]==-1Ë 
assign
();

22272 
	gaxis
) {

22274 c⁄° 
x0
 = 
co‹ds
[0], 
	gx1
 = coords[1];

22275 i‡(
	gx0
>=0 && 
x1
>=0Ë
¸›
(
x0
,x1);

22278 c⁄° 
y0
 = 
co‹ds
[0], 
	gy1
 = coords[1];

22279 i‡(
	gy0
>=0 && 
y1
>=0Ë
¸›
(0,
y0
,
_width
-1,y1);

22282 c⁄° 
z0
 = 
co‹ds
[0], 
	gz1
 = coords[1];

22283 i‡(
	gz0
>=0 && 
z1
>=0Ë
¸›
(0,0,
z0
,
_width
-1,
_height
-1,z1);

22286 c⁄° 
c0
 = 
co‹ds
[0], 
	gc1
 = coords[1];

22287 i‡(
	gc0
>=0 && 
c1
>=0Ë
¸›
(0,0,0,
c0
,
_width
-1,
_height
-1,
_dïth
-1,c1);

22291  *
	gthis
;

22295 
	gCImg
<
	gT
> 
gë_auto¸›
(c⁄° 
T
 
vÆue
, c⁄° *c⁄° 
axes
="czyx") const {

22296  (+*
this
).
auto¸›
(
vÆue
,
axes
);

22304 
	gCImg
<
	gT
>& 
auto¸›
(c⁄° 
T
 *c⁄° 
cﬁ‹
=0, c⁄° *c⁄° 
axes
="zyx") {

22305 i‡(
is_em±y
()Ë *
this
;

22306 i‡(!
	gcﬁ‹
) {

22307 c⁄° 
	gCImg
<
	gT
> 
	gcﬁ1
 = 
gë_ve˘‹_©
(0,0,0);

22308 c⁄° 
	gw
 = 
_width
, 
	gh
 = 
_height
, 
	gd
 = 
_dïth
, 
	gs
 = 
_•e˘rum
;

22309 
auto¸›
(
cﬁ1
,
axes
);

22310 i‡(
	g_width
==
w
 && 
_height
==
h
 && 
_dïth
==
d
 && 
_•e˘rum
==
s
) {

22311 c⁄° 
CImg
<
T
> 
cﬁ2
 = 
gë_ve˘‹_©
(
w
-1,
h
-1,
d
-1);

22312 
auto¸›
(
cﬁ2
,
axes
);

22314  *
	gthis
;

22316 c⁄° *
	gs
 = 
axes
; *s; ++s) {

22317 c⁄° 
	gaxis
 = 
cimg
::
unˇ£
(*
s
);

22318 
	gaxis
) {

22320 
x0
 = 
width
(), 
	gx1
 = -1;

22321 
cimg_f‹C
(*
this
,
c
) {

22322 c⁄° 
	gCImg
<
	götT
> 
	gco‹ds
 = 
gë_sh¨ed_ch™√l
(
c
).
_auto¸›
(
cﬁ‹
[c],'x');

22323 c⁄° 
	gnx0
 = 
co‹ds
[0], 
	gnx1
 = coords[1];

22324 i‡(
	gnx0
>=0 && 
nx1
>=0Ë{ 
x0
 = 
cimg
::
mö
(x0,
nx0
); 
	gx1
 = cimg::
max
(
x1
,nx1); }

22326 i‡(
	gx0
==
width
(Ë&& 
x1
==-1Ë 
assign
(); 
¸›
(
x0
,x1);

22329 
y0
 = 
height
(), 
	gy1
 = -1;

22330 
cimg_f‹C
(*
this
,
c
) {

22331 c⁄° 
	gCImg
<
	götT
> 
	gco‹ds
 = 
gë_sh¨ed_ch™√l
(
c
).
_auto¸›
(
cﬁ‹
[c],'y');

22332 c⁄° 
	gny0
 = 
co‹ds
[0], 
	gny1
 = coords[1];

22333 i‡(
	gny0
>=0 && 
ny1
>=0Ë{ 
y0
 = 
cimg
::
mö
(y0,
ny0
); 
	gy1
 = cimg::
max
(
y1
,ny1); }

22335 i‡(
	gy0
==
height
(Ë&& 
y1
==-1Ë 
assign
(); 
¸›
(0,
y0
,
_width
-1,y1);

22338 
z0
 = 
dïth
(), 
	gz1
 = -1;

22339 
cimg_f‹C
(*
this
,
c
) {

22340 c⁄° 
	gCImg
<
	götT
> 
	gco‹ds
 = 
gë_sh¨ed_ch™√l
(
c
).
_auto¸›
(
cﬁ‹
[c],'z');

22341 c⁄° 
	gnz0
 = 
co‹ds
[0], 
	gnz1
 = coords[1];

22342 i‡(
	gnz0
>=0 && 
nz1
>=0Ë{ 
z0
 = 
cimg
::
mö
(z0,
nz0
); 
	gz1
 = cimg::
max
(
z1
,nz1); }

22344 i‡(
	gz0
==
dïth
(Ë&& 
z1
==-1Ë 
assign
(); 
¸›
(0,0,
z0
,
_width
-1,
_height
-1,z1);

22348  *
	gthis
;

22352 
	gCImg
<
	gT
> 
gë_auto¸›
(c⁄° 
T
 *c⁄° 
cﬁ‹
=0, c⁄° *c⁄° 
axes
="zyx") const {

22353  (+*
this
).
auto¸›
(
cﬁ‹
,
axes
);

22357 
	gãm∂©e
<
ty≥«me
 
	gt
> 
	gCImg
<
	gT
>& 
auto¸›
(c⁄° 
CImg
<
t
>& 
cﬁ‹
, c⁄° *c⁄° 
axes
="zyx") {

22358  
gë_auto¸›
(
cﬁ‹
,
axes
).
move_to
(*
this
);

22362 
	gãm∂©e
<
ty≥«me
 
	gt
> 
	gCImg
<
	gT
> 
gë_auto¸›
(c⁄° 
CImg
<
t
>& 
cﬁ‹
, c⁄° *c⁄° 
axes
="zyx") const {

22363  
gë_auto¸›
(
cﬁ‹
.
_d©a
,
axes
);

22366 
	gCImg
<
	götT
> 
_auto¸›
(c⁄° 
T
 
vÆue
, c⁄° 
axis
) const {

22367 
	gCImg
<
	götT
> 
	gªs
;

22368 
	gcimg
::
unˇ£
(
axis
)) {

22370 
x0
 = -1, 
	gx1
 = -1;

22371 
cimg_f‹X
(*
this
,
x
Ë
cimg_f‹YZC
(*this,
y
,
z
,
c
)

22372 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
vÆue
Ë{ 
x0
 = 
x
; x = 
width
(); y = 
height
(); z = 
dïth
(); c = 
•e˘rum
(); }

22373 i‡(
	gx0
>=0) {

22374 
x
 = 
width
()-1; 
	gx
>=0; --xË
cimg_f‹YZC
(*
this
,
y
,
z
,
c
)

22375 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
vÆue
Ë{ 
x1
 = 
x
; x = 0; y = 
height
(); z = 
dïth
(); c = 
•e˘rum
(); }

22377 
	gªs
 = 
CImg
<
ötT
>::
ve˘‹
(
x0
,
x1
);

22380 
y0
 = -1, 
	gy1
 = -1;

22381 
cimg_f‹Y
(*
this
,
y
Ë
cimg_f‹XZC
(*this,
x
,
z
,
c
)

22382 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
vÆue
Ë{ 
y0
 = 
y
; x = 
width
(); y = 
height
(); z = 
dïth
(); c = 
•e˘rum
(); }

22383 i‡(
	gy0
>=0) {

22384 
y
 = 
height
()-1; 
	gy
>=0; --yË
cimg_f‹XZC
(*
this
,
x
,
z
,
c
)

22385 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
vÆue
Ë{ 
y1
 = 
y
; x = 
width
(); y = 0; z = 
dïth
(); c = 
•e˘rum
(); }

22387 
	gªs
 = 
CImg
<
ötT
>::
ve˘‹
(
y0
,
y1
);

22390 
z0
 = -1, 
	gz1
 = -1;

22391 
cimg_f‹Z
(*
this
,
z
Ë
cimg_f‹XYC
(*this,
x
,
y
,
c
)

22392 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
vÆue
Ë{ 
z0
 = 
z
; x = 
width
(); y = 
height
(); z = 
dïth
(); c = 
•e˘rum
(); }

22393 i‡(
	gz0
>=0) {

22394 
z
 = 
dïth
()-1; 
	gz
>=0; --zË
cimg_f‹XYC
(*
this
,
x
,
y
,
c
)

22395 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
vÆue
Ë{ 
z1
 = 
z
; x = 
width
(); y = 
height
(); z = 0; c = 
•e˘rum
(); }

22397 
	gªs
 = 
CImg
<
ötT
>::
ve˘‹
(
z0
,
z1
);

22400 
c0
 = -1, 
	gc1
 = -1;

22401 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹XYZ
(*this,
x
,
y
,
z
)

22402 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
vÆue
Ë{ 
c0
 = 
c
; x = 
width
(); y = 
height
(); z = 
dïth
(); c = 
•e˘rum
(); }

22403 i‡(
	gc0
>=0) {

22404 
c
 = 
•e˘rum
()-1; 
	gc
>=0; --cË
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
)

22405 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
)!=
vÆue
Ë{ 
c1
 = 
c
; x = 
width
(); y = 
height
(); z = 
dïth
(); c = 0; }

22407 
	gªs
 = 
CImg
<
ötT
>::
ve˘‹
(
c0
,
c1
);

22410  
	gªs
;

22417 
	gCImg
<
	gT
> 
gë_cﬁumn
(c⁄° 
x0
) const {

22418  
gë_cﬁumns
(
x0
,x0);

22422 
	gCImg
<
	gT
>& 
cﬁumn
(c⁄° 
x0
) {

22423  
cﬁumns
(
x0
,x0);

22431 
	gCImg
<
	gT
>& 
cﬁumns
(c⁄° 
x0
, c⁄° 
x1
) {

22432  
gë_cﬁumns
(
x0
,
x1
).
move_to
(*
this
);

22436 
	gCImg
<
	gT
> 
gë_cﬁumns
(c⁄° 
x0
, c⁄° 
x1
) const {

22437  
gë_¸›
(
x0
,0,0,0,
x1
,
height
()-1,
dïth
()-1,
•e˘rum
()-1);

22441 
	gCImg
<
	gT
> 
gë_row
(c⁄° 
y0
) const {

22442  
gë_rows
(
y0
,y0);

22449 
	gCImg
<
	gT
>& 
row
(c⁄° 
y0
) {

22450  
rows
(
y0
,y0);

22458 
	gCImg
<
	gT
> 
gë_rows
(c⁄° 
y0
, c⁄° 
y1
) const {

22459  
gë_¸›
(0,
y0
,0,0,
width
()-1,
y1
,
dïth
()-1,
•e˘rum
()-1);

22463 
	gCImg
<
	gT
>& 
rows
(c⁄° 
y0
, c⁄° 
y1
) {

22464  
gë_rows
(
y0
,
y1
).
move_to
(*
this
);

22471 
	gCImg
<
	gT
> 
gë_¶i˚
(c⁄° 
z0
) const {

22472  
gë_¶i˚s
(
z0
,z0);

22476 
	gCImg
<
	gT
>& 
¶i˚
(c⁄° 
z0
) {

22477  
¶i˚s
(
z0
,z0);

22485 
	gCImg
<
	gT
> 
gë_¶i˚s
(c⁄° 
z0
, c⁄° 
z1
) const {

22486  
gë_¸›
(0,0,
z0
,0,
width
()-1,
height
()-1,
z1
,
•e˘rum
()-1);

22490 
	gCImg
<
	gT
>& 
¶i˚s
(c⁄° 
z0
, c⁄° 
z1
) {

22491  
gë_¶i˚s
(
z0
,
z1
).
move_to
(*
this
);

22498 
	gCImg
<
	gT
> 
gë_ch™√l
(c⁄° 
c0
) const {

22499  
gë_ch™√ls
(
c0
,c0);

22503 
	gCImg
<
	gT
>& 
ch™√l
(c⁄° 
c0
) {

22504  
ch™√ls
(
c0
,c0);

22512 
	gCImg
<
	gT
> 
gë_ch™√ls
(c⁄° 
c0
, c⁄° 
c1
) const {

22513  
gë_¸›
(0,0,0,
c0
,
width
()-1,
height
()-1,
dïth
()-1,
c1
);

22517 
	gCImg
<
	gT
>& 
ch™√ls
(c⁄° 
c0
, c⁄° 
c1
) {

22518  
gë_ch™√ls
(
c0
,
c1
).
move_to
(*
this
);

22522 
	gCImg
<
	gÊﬂtT
> 
gë_°ªamlöe
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
,

22523 c⁄° 
L
=256, c⁄° 
dl
=0.1f,

22524 c⁄° 
öãΩﬁ©i⁄_ty≥
=2, c⁄° 
boﬁ
 
is_backw¨d_åackög
=
Ál£
,

22525 c⁄° 
boﬁ
 
is_‹õ¡ed_⁄ly
=
Ál£
) const {

22526 i‡(
_•e˘rum
!=2 && _spectrum!=3)

22527 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


22529 
cimg_ö°™˚
);

22530 i‡(
	g_•e˘rum
==2) {

22531 i‡(
is_‹õ¡ed_⁄ly
) {

22532 
ty≥«me
 
CImg
<
T
>::
_fun˘‹4d_°ªamlöe2d_‹õ¡ed
 
func
(*
this
);

22533  
°ªamlöe
(
func
,
x
,
y
,
z
,
L
,
dl
,
öãΩﬁ©i⁄_ty≥
,
is_backw¨d_åackög
,
åue
,0,0,0,
_width
-1.0f,
_height
-1.0f,0.0f);

22535 
ty≥«me
 
	gCImg
<
	gT
>::
_fun˘‹4d_°ªamlöe2d_dúe˘ed
 
func
(*
this
);

22536  
°ªamlöe
(
func
,
x
,
y
,
z
,
L
,
dl
,
öãΩﬁ©i⁄_ty≥
,
is_backw¨d_åackög
,
Ál£
,0,0,0,
_width
-1.0f,
_height
-1.0f,0.0f);

22539 i‡(
	gis_‹õ¡ed_⁄ly
) {

22540 
ty≥«me
 
	gCImg
<
	gT
>::
_fun˘‹4d_°ªamlöe3d_‹õ¡ed
 
func
(*
this
);

22541  
°ªamlöe
(
func
,
x
,
y
,
z
,
L
,
dl
,
öãΩﬁ©i⁄_ty≥
,
is_backw¨d_åackög
,
åue
,0,0,0,
_width
-1.0f,
_height
-1.0f,
_dïth
-1.0f);

22543 
ty≥«me
 
	gCImg
<
	gT
>::
_fun˘‹4d_°ªamlöe3d_dúe˘ed
 
func
(*
this
);

22544  
°ªamlöe
(
func
,
x
,
y
,
z
,
L
,
dl
,
öãΩﬁ©i⁄_ty≥
,
is_backw¨d_åackög
,
Ál£
,0,0,0,
_width
-1.0f,
_height
-1.0f,
_dïth
-1.0f);

22565 
	gãm∂©e
<
ty≥«me
 
	gtfunc
>

22566 
	gCImg
<
	gÊﬂtT
> 
°ªamlöe
(c⁄° 
tfunc
& 
func
,

22567 c⁄° 
x
, c⁄° 
y
, c⁄° 
z
,

22568 c⁄° 
L
=256, c⁄° 
dl
=0.1f,

22569 c⁄° 
öãΩﬁ©i⁄_ty≥
=2, c⁄° 
boﬁ
 
is_backw¨d_åackög
=
Ál£
,

22570 c⁄° 
boﬁ
 
is_‹õ¡ed_⁄ly
=
Ál£
,

22571 c⁄° 
x0
=0, c⁄° 
y0
=0, c⁄° 
z0
=0,

22572 c⁄° 
x1
=0, c⁄° 
y1
=0, c⁄° 
z1
=0) {

22573 i‡(
dl
<=0)

22574 
throw
 
CImgArgumítEx˚±i⁄
("CImg<%s>::streamline(): Invalid specified integrationÜength %g "

22576 
pixñ_ty≥
(),

22577 
dl
);

22579 c⁄° 
boﬁ
 
	gis_bounded
 = (
x0
!=
x1
 || 
y0
!=
y1
 || 
z0
!=
z1
);

22580 i‡(
	gL
<=0 || (
is_bounded
 && (
x
<
x0
 || x>
x1
 || 
y
<
y0
 || y>
y1
 || 
z
<
z0
 || z>
z1
))Ë 
CImg
<
ÊﬂtT
>();

22581 c⁄° 
	gsize_L
 = ()
cimg
::
round
(
L
/
dl
+1);

22582 
	gCImg
<
	gÊﬂtT
> 
co‹dö©es
(
size_L
,3);

22583 c⁄° 
	gdl2
 = 
dl
/2;

22585 *
	g±r_x
 = 
co‹dö©es
.
d©a
(0,0),

22586 *
	g±r_y
 = 
co‹dö©es
.
d©a
(0,1),

22587 *
	g±r_z
 = 
co‹dö©es
.
d©a
(0,2),

22588 
	gpu
 = ()(
dl
*
func
(
x
,
y
,
z
,0)),

22589 
	gpv
 = ()(
dl
*
func
(
x
,
y
,
z
,1)),

22590 
	gpw
 = ()(
dl
*
func
(
x
,
y
,
z
,2)),

22591 
	gX
 = 
x
, 
	gY
 = 
y
, 
	gZ
 = 
z
;

22593 
	göãΩﬁ©i⁄_ty≥
) {

22595 
cimg_f‹X
(
co‹dö©es
,
l
) {

22596 *(
	g±r_x
++Ë
X
; *(
	g±r_y
++Ë
Y
; *(
	g±r_z
++Ë
Z
;

22598 
	gxi
 = ()(
X
>0?X+0.5f:X-0.5f),

22599 
	gyi
 = ()(
Y
>0?Y+0.5f:Y-0.5f),

22600 
	gzi
 = ()(
Z
>0?Z+0.5f:Z-0.5f);

22602 
	gu
 = ()(
dl
*
func
(()
xi
,()
yi
,()
zi
,0)),

22603 
	gv
 = ()(
dl
*
func
(()
xi
,()
yi
,()
zi
,1)),

22604 
	gw
 = ()(
dl
*
func
(()
xi
,()
yi
,()
zi
,2));

22605 i‡(
	gis_‹õ¡ed_⁄ly
 && 
u
*
	gpu
 + 
v
*
	gpv
 + 
w
*
	gpw
<0Ë{ 
	gu
 = -u; 
	gv
 = -v; 
	gw
 = -w; }

22606 i‡(
	gis_backw¨d_åackög
Ë{ 
	gX
-=(
pu
=
u
); 
	gY
-=(
pv
=
v
); 
	gZ
-=(
pw
=
w
); } { X+=(pu=u); Y+=(pv=v); Z+=(pw=w); }

22607 i‡(
	gis_bounded
 && (
	gX
<
	gx0
 || X>
	gx1
 || 
	gY
<
	gy0
 || Y>
	gy1
 || 
	gZ
<
	gz0
 || Z>
	gz1
)) ;

22611 
cimg_f‹X
(
co‹dö©es
,
l
) {

22612 *(
	g±r_x
++Ë
X
; *(
	g±r_y
++Ë
Y
; *(
	g±r_z
++Ë
Z
;

22614 
	gu
 = ()(
dl
*
func
(
X
,
Y
,
Z
,0)),

22615 
	gv
 = ()(
dl
*
func
(
X
,
Y
,
Z
,1)),

22616 
	gw
 = ()(
dl
*
func
(
X
,
Y
,
Z
,2));

22617 i‡(
	gis_‹õ¡ed_⁄ly
 && 
u
*
	gpu
 + 
v
*
	gpv
 + 
w
*
	gpw
<0Ë{ 
	gu
 = -u; 
	gv
 = -v; 
	gw
 = -w; }

22618 i‡(
	gis_backw¨d_åackög
Ë{ 
	gX
-=(
pu
=
u
); 
	gY
-=(
pv
=
v
); 
	gZ
-=(
pw
=
w
); } { X+=(pu=u); Y+=(pv=v); Z+=(pw=w); }

22619 i‡(
	gis_bounded
 && (
	gX
<
	gx0
 || X>
	gx1
 || 
	gY
<
	gy0
 || Y>
	gy1
 || 
	gZ
<
	gz0
 || Z>
	gz1
)) ;

22623 
cimg_f‹X
(
co‹dö©es
,
l
) {

22624 *(
	g±r_x
++Ë
X
; *(
	g±r_y
++Ë
Y
; *(
	g±r_z
++Ë
Z
;

22626 
	gu0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,0)),

22627 
	gv0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,1)),

22628 
	gw0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,2));

22629 i‡(
	gis_‹õ¡ed_⁄ly
 && 
u0
*
	gpu
 + 
v0
*
	gpv
 + 
w0
*
	gpw
<0Ë{ 
	gu0
 = -u0; 
	gv0
 = -v0; 
	gw0
 = -w0; }

22631 
	gu
 = ()(
dl
*
func
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,0)),

22632 
	gv
 = ()(
dl
*
func
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,1)),

22633 
	gw
 = ()(
dl
*
func
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,2));

22634 i‡(
	gis_‹õ¡ed_⁄ly
 && 
u
*
	gpu
 + 
v
*
	gpv
 + 
w
*
	gpw
<0Ë{ 
	gu
 = -u; 
	gv
 = -v; 
	gw
 = -w; }

22635 i‡(
	gis_backw¨d_åackög
Ë{ 
	gX
-=(
pu
=
u
); 
	gY
-=(
pv
=
v
); 
	gZ
-=(
pw
=
w
); } { X+=(pu=u); Y+=(pv=v); Z+=(pw=w); }

22636 i‡(
	gis_bounded
 && (
	gX
<
	gx0
 || X>
	gx1
 || 
	gY
<
	gy0
 || Y>
	gy1
 || 
	gZ
<
	gz0
 || Z>
	gz1
)) ;

22640 
cimg_f‹X
(
co‹dö©es
,
x
) {

22641 *(
	g±r_x
++Ë
X
; *(
	g±r_y
++Ë
Y
; *(
	g±r_z
++Ë
Z
;

22643 
	gu0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,0)),

22644 
	gv0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,1)),

22645 
	gw0
 = ()(
dl2
*
func
(
X
,
Y
,
Z
,2));

22646 i‡(
	gis_‹õ¡ed_⁄ly
 && 
u0
*
	gpu
 + 
v0
*
	gpv
 + 
w0
*
	gpw
<0Ë{ 
	gu0
 = -u0; 
	gv0
 = -v0; 
	gw0
 = -w0; }

22648 
	gu1
 = ()(
dl2
*
func
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,0)),

22649 
	gv1
 = ()(
dl2
*
func
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,1)),

22650 
	gw1
 = ()(
dl2
*
func
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,2));

22651 i‡(
	gis_‹õ¡ed_⁄ly
 && 
u1
*
	gpu
 + 
v1
*
	gpv
 + 
w1
*
	gpw
<0Ë{ 
	gu1
 = -u1; 
	gv1
 = -v1; 
	gw1
 = -w1; }

22653 
	gu2
 = ()(
dl2
*
func
(
X
+
u1
,
Y
+
v1
,
Z
+
w1
,0)),

22654 
	gv2
 = ()(
dl2
*
func
(
X
+
u1
,
Y
+
v1
,
Z
+
w1
,1)),

22655 
	gw2
 = ()(
dl2
*
func
(
X
+
u1
,
Y
+
v1
,
Z
+
w1
,2));

22656 i‡(
	gis_‹õ¡ed_⁄ly
 && 
u2
*
	gpu
 + 
v2
*
	gpv
 + 
w2
*
	gpw
<0Ë{ 
	gu2
 = -u2; 
	gv2
 = -v2; 
	gw2
 = -w2; }

22658 
	gu3
 = ()(
dl2
*
func
(
X
+
u2
,
Y
+
v2
,
Z
+
w2
,0)),

22659 
	gv3
 = ()(
dl2
*
func
(
X
+
u2
,
Y
+
v2
,
Z
+
w2
,1)),

22660 
	gw3
 = ()(
dl2
*
func
(
X
+
u2
,
Y
+
v2
,
Z
+
w2
,2));

22661 i‡(
	gis_‹õ¡ed_⁄ly
 && 
u2
*
	gpu
 + 
v2
*
	gpv
 + 
w2
*
	gpw
<0Ë{ 
	gu3
 = -
u3
; 
	gv3
 = -
v3
; 
	gw3
 = -
w3
; }

22663 
	gu
 = (
u0
 + 
u3
)/3 + (
u1
 + 
u2
)/1.5f,

22664 
	gv
 = (
v0
 + 
v3
)/3 + (
v1
 + 
v2
)/1.5f,

22665 
	gw
 = (
w0
 + 
w3
)/3 + (
w1
 + 
w2
)/1.5f;

22666 i‡(
	gis_backw¨d_åackög
Ë{ 
	gX
-=(
pu
=
u
); 
	gY
-=(
pv
=
v
); 
	gZ
-=(
pw
=
w
); } { X+=(pu=u); Y+=(pv=v); Z+=(pw=w); }

22667 i‡(
	gis_bounded
 && (
	gX
<
	gx0
 || X>
	gx1
 || 
	gY
<
	gy0
 || Y>
	gy1
 || 
	gZ
<
	gz0
 || Z>
	gz1
)) ;

22671 i‡(
	g±r_x
!=
co‹dö©es
.
d©a
(0,1)Ë
	gco‹dö©es
.
ªsize
(()(
±r_x
-coordinates.data()),3,1,1,0);

22672  
	gco‹dö©es
;

22676 
	gCImg
<
	gÊﬂtT
> 
°ªamlöe
(c⁄° *c⁄° 
ex¥essi⁄
,

22677 c⁄° 
x
, c⁄° 
y
, c⁄° 
z
,

22678 c⁄° 
L
=256, c⁄° 
dl
=0.1f,

22679 c⁄° 
öãΩﬁ©i⁄_ty≥
=2, c⁄° 
boﬁ
 
is_backw¨d_åackög
=
åue
,

22680 c⁄° 
boﬁ
 
is_‹õ¡ed_⁄ly
=
Ál£
,

22681 c⁄° 
x0
=0, c⁄° 
y0
=0, c⁄° 
z0
=0,

22682 c⁄° 
x1
=0, c⁄° 
y1
=0, c⁄° 
z1
=0) {

22683 
_fun˘‹4d_°ªamlöe_ex¥
 
func
(
ex¥essi⁄
);

22684  
°ªamlöe
(
func
,
x
,
y
,
z
,
L
,
dl
,
öãΩﬁ©i⁄_ty≥
,
is_backw¨d_åackög
,
is_‹õ¡ed_⁄ly
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
);

22687 
	s_fun˘‹4d_°ªamlöe2d_dúe˘ed
 {

22688 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

22689 
_fun˘‹4d_°ªamlöe2d_dúe˘ed
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
(pref) {}

22690 
›î©‹
()(c⁄° 
x
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
) const {

22691  
	gc
<2?()
	gªf
.
_löór_©XY
(
x
,
y
,()
z
,
c
):0;

22695 
	s_fun˘‹4d_°ªamlöe3d_dúe˘ed
 {

22696 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

22697 
_fun˘‹4d_°ªamlöe3d_dúe˘ed
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
(pref) {}

22698 
›î©‹
()(c⁄° 
x
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
) const {

22699  ()
	gªf
.
_löór_©XYZ
(
x
,
y
,
z
,
c
);

22703 
	s_fun˘‹4d_°ªamlöe2d_‹õ¡ed
 {

22704 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

22705 
	gCImg
<
	gÊﬂtT
> *
	gpI
;

22706 
_fun˘‹4d_°ªamlöe2d_‹õ¡ed
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
’ªf),
pI
(0Ë{ 
	gpI
 = 
√w
 CImg<
ÊﬂtT
>(2,2,1,2); }

22707 ~
_fun˘‹4d_°ªamlöe2d_‹õ¡ed
(Ë{ 
dñëe
 
	gpI
; }

22708 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
) const {

22709 
	#_cimg_veˇlign2d
(
i
,
j
Ëi‡(
	`I
(i,j,0)*I(0,0,0)+I(i,j,1)*I(0,0,1)<0Ë{ I(i,j,0Ë-I(i,j,0); I(i,j,1Ë-I(i,j,1); }

	)

22711 
	gxi
 = ()
x
 - (x>=0?0:1), 
	gnxi
 = 
xi
 + 1,

22712 
	gyi
 = ()
y
 - (y>=0?0:1), 
	gnyi
 = 
yi
 + 1,

22713 
	gzi
 = ()
z
;

22715 
	gdx
 = 
x
 - 
xi
,

22716 
	gdy
 = 
y
 - 
yi
;

22717 i‡(
	gc
==0) {

22718 
CImg
<
ÊﬂtT
>& 
I
 = *
pI
;

22719 i‡(
	gxi
<0Ëxò0; i‡(
	gnxi
<0)Çxi = 0;

22720 i‡(
	gxi
>=
ªf
.
width
()Ë
xi
 =Ñef.width()-1; i‡(
	gnxi
>Ùef.width()Ë
nxi
 =Ñef.width()-1;

22721 i‡(
	gyi
<0Ëyò0; i‡(
	gnyi
<0)Çyi = 0;

22722 i‡(
	gyi
>=
ªf
.
height
()Ë
yi
 =Ñef.height()-1; i‡(
	gnyi
>Ùef.height()Ë
nyi
 =Ñef.height()-1;

22723 
I
(0,0,0Ë()
ªf
(
xi
,
yi
,
zi
,0); I(0,0,1) = ()ref(xi,yi,zi,1);

22724 
I
(1,0,0Ë()
ªf
(
nxi
,
yi
,
zi
,0); I(1,0,1) = ()ref(nxi,yi,zi,1);

22725 
I
(1,1,0Ë()
ªf
(
nxi
,
nyi
,
zi
,0); I(1,1,1) = ()ref(nxi,nyi,zi,1);

22726 
I
(0,1,0Ë()
ªf
(
xi
,
nyi
,
zi
,0); I(0,1,1) = ()ref(xi,nyi,zi,1);

22727 
_cimg_veˇlign2d
(1,0); _cimg_vecalign2d(1,1); _cimg_vecalign2d(0,1);

22729  
	gc
<2?()
	gpI
->
_löór_©XY
(
dx
,
dy
,0,
c
):0;

22733 
	s_fun˘‹4d_°ªamlöe3d_‹õ¡ed
 {

22734 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

22735 
	gCImg
<
	gÊﬂtT
> *
	gpI
;

22736 
_fun˘‹4d_°ªamlöe3d_‹õ¡ed
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
’ªf),
pI
(0Ë{ 
	gpI
 = 
√w
 CImg<
ÊﬂtT
>(2,2,2,3); }

22737 ~
_fun˘‹4d_°ªamlöe3d_‹õ¡ed
(Ë{ 
dñëe
 
	gpI
; }

22738 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
) const {

22739 
	#_cimg_veˇlign3d
(
i
,
j
,
k
Ëi‡(
	`I
(i,j,k,0)*I(0,0,0,0)+I(i,j,k,1)*I(0,0,0,1)+I(i,j,k,2)*I(0,0,0,2)<0) { \

22740 
	`I
(
i
,
j
,
k
,0Ë-I(i,j,k,0); I(i,j,k,1Ë-I(i,j,k,1); I(i,j,k,2Ë-I(i,j,k,2); }

	)

22742 
	gxi
 = ()
x
 - (x>=0?0:1), 
	gnxi
 = 
xi
 + 1,

22743 
	gyi
 = ()
y
 - (y>=0?0:1), 
	gnyi
 = 
yi
 + 1,

22744 
	gzi
 = ()
z
 - (z>=0?0:1), 
	gnzi
 = 
zi
 + 1;

22746 
	gdx
 = 
x
 - 
xi
,

22747 
	gdy
 = 
y
 - 
yi
,

22748 
	gdz
 = 
z
 - 
zi
;

22749 i‡(
	gc
==0) {

22750 
CImg
<
ÊﬂtT
>& 
I
 = *
pI
;

22751 i‡(
	gxi
<0Ëxò0; i‡(
	gnxi
<0)Çxi = 0;

22752 i‡(
	gxi
>=
ªf
.
width
()Ë
xi
 =Ñef.width()-1; i‡(
	gnxi
>Ùef.width()Ë
nxi
 =Ñef.width()-1;

22753 i‡(
	gyi
<0Ëyò0; i‡(
	gnyi
<0)Çyi = 0;

22754 i‡(
	gyi
>=
ªf
.
height
()Ë
yi
 =Ñef.height()-1; i‡(
	gnyi
>Ùef.height()Ë
nyi
 =Ñef.height()-1;

22755 i‡(
	gzi
<0Ëzò0; i‡(
	gnzi
<0)Çzi = 0;

22756 i‡(
	gzi
>=
ªf
.
dïth
()Ë
zi
 =Ñef.dïth()-1; i‡(
	gnzi
>Ùef.dïth()Ë
nzi
 =Ñef.depth()-1;

22757 
I
(0,0,0,0Ë()
ªf
(
xi
,
yi
,
zi
,0); I(0,0,0,1) = ()ref(xi,yi,zi,1); I(0,0,0,2) = ()ref(xi,yi,zi,2);

22758 
I
(1,0,0,0Ë()
ªf
(
nxi
,
yi
,
zi
,0); I(1,0,0,1) = ()ref(nxi,yi,zi,1); I(1,0,0,2) = ()ref(nxi,yi,zi,2);

22759 
I
(1,1,0,0Ë()
ªf
(
nxi
,
nyi
,
zi
,0); I(1,1,0,1) = ()ref(nxi,nyi,zi,1); I(1,1,0,2) = ()ref(nxi,nyi,zi,2);

22760 
I
(0,1,0,0Ë()
ªf
(
xi
,
nyi
,
zi
,0); I(0,1,0,1) = ()ref(xi,nyi,zi,1); I(0,1,0,2) = ()ref(xi,nyi,zi,2);

22761 
I
(0,0,1,0Ë()
ªf
(
xi
,
yi
,
nzi
,0); I(0,0,1,1) = ()ref(xi,yi,nzi,1); I(0,0,1,2) = ()ref(xi,yi,nzi,2);

22762 
I
(1,0,1,0Ë()
ªf
(
nxi
,
yi
,
nzi
,0); I(1,0,1,1) = ()ref(nxi,yi,nzi,1); I(1,0,1,2) = ()ref(nxi,yi,nzi,2);

22763 
I
(1,1,1,0Ë()
ªf
(
nxi
,
nyi
,
nzi
,0); I(1,1,1,1) = ()ref(nxi,nyi,nzi,1); I(1,1,1,2) = ()ref(nxi,nyi,nzi,2);

22764 
I
(0,1,1,0Ë()
ªf
(
xi
,
nyi
,
nzi
,0); I(0,1,1,1) = ()ref(xi,nyi,nzi,1); I(0,1,1,2) = ()ref(xi,nyi,nzi,2);

22765 
_cimg_veˇlign3d
(1,0,0); _cimg_vecalign3d(1,1,0); _cimg_vecalign3d(0,1,0);

22766 
_cimg_veˇlign3d
(0,0,1); _cimg_vecalign3d(1,0,1); _cimg_vecalign3d(1,1,1); _cimg_vecalign3d(0,1,1);

22768  ()
	gpI
->
_löór_©XYZ
(
dx
,
dy
,
dz
,
c
);

22772 
	s_fun˘‹4d_°ªamlöe_ex¥
 {

22773 
_cimg_m©h_∑r£r
 *
	gmp
;

22774 ~
_fun˘‹4d_°ªamlöe_ex¥
(Ë{ 
dñëe
 
	gmp
; }

22775 
_fun˘‹4d_°ªamlöe_ex¥
(c⁄° *c⁄° 
ex¥
):
mp
(0Ë{ m∞
√w
 
_cimg_m©h_∑r£r
(
CImg
<
T
>::
em±y
(),expr,"streamline"); }

22776 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
) const {

22777  ()
	gmp
->
evÆ
(
x
,
y
,
z
,
c
);

22789 
	gCImg
<
	gT
> 
gë_sh¨ed_poöts
(c⁄° 
x0
, c⁄° 
x1
,

22790 c⁄° 
y0
=0, c⁄° 
z0
=0, c⁄° 
c0
=0) {

22791 c⁄° 
beg
 = ()
off£t
(
x0
,
y0
,
z0
,
c0
), 
	gíd
 = off£t(
x1
,y0,z0,c0);

22792 i‡(
	gbeg
>
	gíd
 || beg>=
size
(Ë|| 
íd
>=size())

22793 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22795 
cimg_ö°™˚
,

22796 
x0
,
x1
,
y0
,
z0
,
c0
);

22798  
	gCImg
<
	gT
>(
	g_d©a
+
	gbeg
,
	gx1
-
	gx0
+1,1,1,1,
	gåue
);

22802 c⁄° 
	gCImg
<
	gT
> 
gë_sh¨ed_poöts
(c⁄° 
x0
, c⁄° 
x1
,

22803 c⁄° 
y0
=0, c⁄° 
z0
=0, c⁄° 
c0
=0) const {

22804 c⁄° 
beg
 = ()
off£t
(
x0
,
y0
,
z0
,
c0
), 
	gíd
 = off£t(
x1
,y0,z0,c0);

22805 i‡(
	gbeg
>
	gíd
 || beg>=
size
(Ë|| 
íd
>=size())

22806 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22808 
cimg_ö°™˚
,

22809 
x0
,
x1
,
y0
,
z0
,
c0
);

22811  
	gCImg
<
	gT
>(
	g_d©a
+
	gbeg
,
	gx1
-
	gx0
+1,1,1,1,
	gåue
);

22821 
	gCImg
<
	gT
> 
gë_sh¨ed_rows
(c⁄° 
y0
, c⁄° 
y1
,

22822 c⁄° 
z0
=0, c⁄° 
c0
=0) {

22823 c⁄° 
beg
 = 
off£t
(0,
y0
,
z0
,
c0
), 
	gíd
 = off£t(0,
y1
,z0,c0);

22824 i‡(
	gbeg
>
	gíd
 || beg>=
size
(Ë|| 
íd
>=size())

22825 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22827 
cimg_ö°™˚
,

22828 
_width
-1,
y0
,
y1
,
z0
,
c0
);

22830  
	gCImg
<
	gT
>(
	g_d©a
+
	gbeg
,
	g_width
,
	gy1
-
	gy0
+1,1,1,
	gåue
);

22834 c⁄° 
	gCImg
<
	gT
> 
gë_sh¨ed_rows
(c⁄° 
y0
, c⁄° 
y1
,

22835 c⁄° 
z0
=0, c⁄° 
c0
=0) const {

22836 c⁄° 
beg
 = 
off£t
(0,
y0
,
z0
,
c0
), 
	gíd
 = off£t(0,
y1
,z0,c0);

22837 i‡(
	gbeg
>
	gíd
 || beg>=
size
(Ë|| 
íd
>=size())

22838 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22840 
cimg_ö°™˚
,

22841 
_width
-1,
y0
,
y1
,
z0
,
c0
);

22843  
	gCImg
<
	gT
>(
	g_d©a
+
	gbeg
,
	g_width
,
	gy1
-
	gy0
+1,1,1,
	gåue
);

22852 
	gCImg
<
	gT
> 
gë_sh¨ed_row
(c⁄° 
y0
, c⁄° 
z0
=0, c⁄° 
c0
=0) {

22853  
gë_sh¨ed_rows
(
y0
,y0,
z0
,
c0
);

22857 c⁄° 
	gCImg
<
	gT
> 
gë_sh¨ed_row
(c⁄° 
y0
, c⁄° 
z0
=0, c⁄° 
c0
=0) const {

22858  
gë_sh¨ed_rows
(
y0
,y0,
z0
,
c0
);

22867 
	gCImg
<
	gT
> 
gë_sh¨ed_¶i˚s
(c⁄° 
z0
, c⁄° 
z1
, c⁄° 
c0
=0) {

22868 c⁄° 
beg
 = 
off£t
(0,0,
z0
,
c0
), 
	gíd
 = off£t(0,0,
z1
,c0);

22869 i‡(
	gbeg
>
	gíd
 || beg>=
size
(Ë|| 
íd
>=size())

22870 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22872 
cimg_ö°™˚
,

22873 
_width
-1,
_height
-1,
z0
,
z1
,
c0
);

22875  
	gCImg
<
	gT
>(
	g_d©a
+
	gbeg
,
	g_width
,
	g_height
,
	gz1
-
	gz0
+1,1,
	gåue
);

22879 c⁄° 
	gCImg
<
	gT
> 
gë_sh¨ed_¶i˚s
(c⁄° 
z0
, c⁄° 
z1
, c⁄° 
c0
=0) const {

22880 c⁄° 
beg
 = 
off£t
(0,0,
z0
,
c0
), 
	gíd
 = off£t(0,0,
z1
,c0);

22881 i‡(
	gbeg
>
	gíd
 || beg>=
size
(Ë|| 
íd
>=size())

22882 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22884 
cimg_ö°™˚
,

22885 
_width
-1,
_height
-1,
z0
,
z1
,
c0
);

22887  
	gCImg
<
	gT
>(
	g_d©a
+
	gbeg
,
	g_width
,
	g_height
,
	gz1
-
	gz0
+1,1,
	gåue
);

22895 
	gCImg
<
	gT
> 
gë_sh¨ed_¶i˚
(c⁄° 
z0
, c⁄° 
c0
=0) {

22896  
gë_sh¨ed_¶i˚s
(
z0
,z0,
c0
);

22900 c⁄° 
	gCImg
<
	gT
> 
gë_sh¨ed_¶i˚
(c⁄° 
z0
, c⁄° 
c0
=0) const {

22901  
gë_sh¨ed_¶i˚s
(
z0
,z0,
c0
);

22909 
	gCImg
<
	gT
> 
gë_sh¨ed_ch™√ls
(c⁄° 
c0
, c⁄° 
c1
) {

22910 c⁄° 
	gbeg
 = 
off£t
(0,0,0,
c0
), 
	gíd
 = off£t(0,0,0,
c1
);

22911 i‡(
	gbeg
>
	gíd
 || beg>=
size
(Ë|| 
íd
>=size())

22912 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22914 
cimg_ö°™˚
,

22915 
_width
-1,
_height
-1,
_dïth
-1,
c0
,
c1
);

22917  
	gCImg
<
	gT
>(
	g_d©a
+
	gbeg
,
	g_width
,
	g_height
,
	g_dïth
,
	gc1
-
	gc0
+1,
	gåue
);

22921 c⁄° 
	gCImg
<
	gT
> 
gë_sh¨ed_ch™√ls
(c⁄° 
c0
, c⁄° 
c1
) const {

22922 c⁄° 
	gbeg
 = 
off£t
(0,0,0,
c0
), 
	gíd
 = off£t(0,0,0,
c1
);

22923 i‡(
	gbeg
>
	gíd
 || beg>=
size
(Ë|| 
íd
>=size())

22924 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22926 
cimg_ö°™˚
,

22927 
_width
-1,
_height
-1,
_dïth
-1,
c0
,
c1
);

22929  
	gCImg
<
	gT
>(
	g_d©a
+
	gbeg
,
	g_width
,
	g_height
,
	g_dïth
,
	gc1
-
	gc0
+1,
	gåue
);

22936 
	gCImg
<
	gT
> 
gë_sh¨ed_ch™√l
(c⁄° 
c0
) {

22937  
gë_sh¨ed_ch™√ls
(
c0
,c0);

22941 c⁄° 
	gCImg
<
	gT
> 
gë_sh¨ed_ch™√l
(c⁄° 
c0
) const {

22942  
gë_sh¨ed_ch™√ls
(
c0
,c0);

22946 
	gCImg
<
	gT
> 
gë_sh¨ed
() {

22947  
	gCImg
<
	gT
>(
	g_d©a
,
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gåue
);

22951 c⁄° 
	gCImg
<
	gT
> 
gë_sh¨ed
() const {

22952  
	gCImg
<
	gT
>(
	g_d©a
,
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
,
	gåue
);

22964 
	gCImgLi°
<
	gT
> 
gë_•lô
(c⁄° 
axis
, c⁄° 
nb
=0) const {

22965 
CImgLi°
<
T
> 
ªs
;

22966 i‡(
is_em±y
()Ë 
	gªs
;

22967 c⁄° 
	g_axis
 = 
cimg
::
unˇ£
(
axis
);

22969 i‡(
	gnb
<=0) {

22970 c⁄° 
dp
 = ()(
nb
?-nb:1);

22971 
	gp
 = 0;

22972 
	g_axis
) {

22974 
≥
=
_width
-
dp
; 
	gp
<
	g≥
;Ö+=dpË
gë_¸›
(
p
,0,0,0,p+dp-1,
_height
-1,
_dïth
-1,
_•e˘rum
-1).
move_to
(
ªs
);

22975 
gë_¸›
(
p
,0,0,0,
_width
-1,
_height
-1,
_dïth
-1,
_•e˘rum
-1).
move_to
(
ªs
);

22978 
≥
=
_height
-
dp
; 
	gp
<
	g≥
;Ö+=dpË
gë_¸›
(0,
p
,0,0,
_width
-1,p+dp-1,
_dïth
-1,
_•e˘rum
-1).
move_to
(
ªs
);

22979 
gë_¸›
(0,
p
,0,0,
_width
-1,
_height
-1,
_dïth
-1,
_•e˘rum
-1).
move_to
(
ªs
);

22982 
≥
=
_dïth
-
dp
; 
	gp
<
	g≥
;Ö+=dpË
gë_¸›
(0,0,
p
,0,
_width
-1,
_height
-1,p+dp-1,
_•e˘rum
-1).
move_to
(
ªs
);

22983 
gë_¸›
(0,0,
p
,0,
_width
-1,
_height
-1,
_dïth
-1,
_•e˘rum
-1).
move_to
(
ªs
);

22986 
≥
=
_•e˘rum
-
dp
; 
	gp
<
	g≥
;Ö+=dpË
gë_¸›
(0,0,0,
p
,
_width
-1,
_height
-1,
_dïth
-1,p+dp-1).
move_to
(
ªs
);

22987 
gë_¸›
(0,0,0,
p
,
_width
-1,
_height
-1,
_dïth
-1,
_•e˘rum
-1).
move_to
(
ªs
);

22992 c⁄° 
	gsiz
 = 
_axis
=='x'?
_width
:_axis=='y'?
_height
:_axis=='z'?
_dïth
:_axis=='c'?
_•e˘rum
:0;

22993 i‡(()
	gnb
>
	gsiz
)

22994 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


22996 
cimg_ö°™˚
,

22997 
axis
,
nb
);

22998 
	gîr
 = ()
siz
;

22999 
	g_p
 = 0;

23000 
	g_axis
) {

23002 
cimg_f‹X
(*
this
,
p
Ëi‡((
	gîr
-=
nb
)<=0) {

23003 
gë_¸›
(
_p
,0,0,0,
p
,
_height
-1,
_dïth
-1,
_•e˘rum
-1).
move_to
(
ªs
);

23004 
	gîr
+=()
siz
;

23005 
	g_p
=
p
+1;

23009 
cimg_f‹Y
(*
this
,
p
Ëi‡((
	gîr
-=
nb
)<=0) {

23010 
gë_¸›
(0,
_p
,0,0,
_width
-1,
p
,
_dïth
-1,
_•e˘rum
-1).
move_to
(
ªs
);

23011 
	gîr
+=()
siz
;

23012 
	g_p
=
p
+1;

23016 
cimg_f‹Z
(*
this
,
p
Ëi‡((
	gîr
-=
nb
)<=0) {

23017 
gë_¸›
(0,0,
_p
,0,
_width
-1,
_height
-1,
p
,
_•e˘rum
-1).
move_to
(
ªs
);

23018 
	gîr
+=()
siz
;

23019 
	g_p
=
p
+1;

23023 
cimg_f‹C
(*
this
,
p
Ëi‡((
	gîr
-=
nb
)<=0) {

23024 
gë_¸›
(0,0,0,
_p
,
_width
-1,
_height
-1,
_dïth
-1,
p
).
move_to
(
ªs
);

23025 
	gîr
+=()
siz
;

23026 
	g_p
=
p
+1;

23031  
	gªs
;

23040 
	gCImgLi°
<
	gT
> 
gë_•lô
(c⁄° 
T
 
vÆue
, c⁄° 
boﬁ
 
kìp_vÆues
, c⁄° boﬁ 
is_sh¨ed
) const {

23041 
	gCImgLi°
<
	gT
> 
	gªs
;

23042 i‡(
is_em±y
()Ë 
	gªs
;

23043 c⁄° 
T
 *
	gps
 = 
_d©a
, *
	g_ps
 = 
ps
, *c⁄° 
	g≥
 = 
íd
();Ös<pe; ) {

23044 
	g_ps
<
	g≥
 && *_ps==
vÆue
Ë++
_ps
;

23045 
	gsiz
 = 
_ps
 - 
ps
;

23046 i‡(
	gsiz
 && 
	gkìp_vÆues
Ë
	gªs
.
ö£π
(
CImg
<
T
>(
ps
,1,
siz
,1,1,
is_sh¨ed
),~0U,is_shared);

23047 
	gps
 = 
_ps
;

23048 
	g_ps
<
	g≥
 && *_ps!=
vÆue
Ë++
_ps
;

23049 
	gsiz
 = 
_ps
 - 
ps
;

23050 i‡(
	gsiz
Ë
	gªs
.
ö£π
(
CImg
<
T
>(
ps
,1,
siz
,1,1,
is_sh¨ed
),~0U,is_shared);

23051 
	gps
 = 
_ps
;

23053  
	gªs
;

23062 
	gãm∂©e
<
ty≥«me
 
	gt
>

23063 
	gCImgLi°
<
	gT
> 
gë_•lô
(c⁄° 
CImg
<
t
>& 
vÆues
, c⁄° 
boﬁ
 
kìp_vÆues
, c⁄° boﬁ 
is_sh¨ed
) const {

23064 
	gCImgLi°
<
	gT
> 
	gªs
;

23065 i‡(
is_em±y
()Ë 
	gªs
;

23066 i‡(!
	gvÆues
Ë 
	gCImgLi°
<
	gT
>(*
	gthis
);

23067 i‡(
	gvÆues
.
size
()==1Ë 
gë_•lô
(*
vÆues
,
kìp_vÆues
,
is_sh¨ed
);

23068 c⁄° 
t
 *
	gpve
 = 
vÆues
.
íd
();

23069 c⁄° 
T
 *
	gps
 = 
_d©a
, *
	g_ps
 = 
ps
, *c⁄° 
	g≥
 = 
íd
();Ös<pe; ) {

23072 c⁄° 
t
 *
	gpv
 = 0;

23074 
	gpv
 = 
vÆues
.
_d©a
;

23075 c⁄° 
T
 *
	g__ps
 = 
_ps
;

23076 
	g__ps
<
	g≥
 && 
	gpv
<
	gpve
 && *__ps==(
T
)*
pv
Ë{ ++
__ps
; ++pv; }

23077 i‡(
	gpv
==
pve
Ë
_ps
 = 
__ps
;

23078 } 
	gpv
==
pve
);

23079 
	gsiz
 = 
_ps
 - 
ps
;

23080 i‡(
	gsiz
 && 
	gkìp_vÆues
Ë
	gªs
.
ö£π
(
CImg
<
T
>(
ps
,1,
siz
,1,1,
is_sh¨ed
),~0U,is_shared);

23081 
	gps
 = 
_ps
;

23085 
	gpv
 = 
vÆues
.
_d©a
;

23086 
	g_ps
<
	g≥
 && *_ps!=(
T
)*
pv
Ë++
_ps
;

23087 i‡(
	g_ps
<
	g≥
) {

23088 c⁄° 
T
 *
	g__ps
 = 
_ps
 + 1;

23089 ++
	gpv
;

23090 
	g__ps
<
	g≥
 && 
	gpv
<
	gpve
 && *__ps==(
T
)*
pv
Ë{ ++
__ps
; ++pv; }

23091 i‡(
	gpv
!=
pve
Ë
_ps
 = 
__ps
;

23093 } 
	g_ps
<
	g≥
 && 
	gpv
!=
pve
);

23096 
	gsiz
 = 
_ps
 - 
ps
;

23097 i‡(
	gsiz
Ë
	gªs
.
ö£π
(
CImg
<
T
>(
ps
,1,
siz
,1,1,
is_sh¨ed
),~0U,is_shared);

23098 
	gps
 = 
_ps
;

23100  
	gªs
;

23104 
	gCImgLi°
<
	gT
> 
gë_•lô
(c⁄° 
boﬁ
 
is_sh¨ed
) const {

23105 
	gCImgLi°
<
	gT
> 
	gªs
;

23106 i‡(
is_em±y
()Ë 
	gªs
;

23107 
T
 *
	gp0
 = 
_d©a
, 
	gcuºít
 = *
p0
;

23108 
cimg_f‹
(*
this
,
p
,
T
Ëi‡(*
	gp
!=
cuºít
Ë{ 
ªs
.
ö£π
(
CImg
<T>(
p0
,1,p-p0,1,1,
is_sh¨ed
),~0U,is_sh¨ed); 
	gp0
 =Ö; 
	gcuºít
 = *p; }

23109 
	gªs
.
ö£π
(
CImg
<
T
>(
p0
,1,
íd
()-p0,1,1,
is_sh¨ed
),~0U,is_shared);

23110  
	gªs
;

23119 
	gãm∂©e
<
ty≥«me
 
	gt
>

23120 
	gCImg
<
	gT
>& 
≠≥nd
(c⁄° 
CImg
<
t
>& 
img
, c⁄° 
axis
='x', c⁄° 
Æign
=0) {

23121 i‡(
is_em±y
()Ë 
assign
(
img
,
Ál£
);

23122 i‡(!
	gimg
Ë *
	gthis
;

23123  
	gCImgLi°
<
	gT
>(*
	gthis
,
	gåue
).
ö£π
(
img
).
gë_≠≥nd
(
axis
,
Æign
).
move_to
(*
this
);

23127 
	gCImg
<
	gT
>& 
≠≥nd
(c⁄° 
CImg
<
T
>& 
img
, c⁄° 
axis
='x', c⁄° 
Æign
=0) {

23128 i‡(
is_em±y
()Ë 
assign
(
img
,
Ál£
);

23129 i‡(!
	gimg
Ë *
	gthis
;

23130  
	gCImgLi°
<
	gT
>(*
	gthis
,
	gimg
,
	gåue
).
gë_≠≥nd
(
axis
,
Æign
).
move_to
(*
this
);

23134 
	gãm∂©e
<
ty≥«me
 
	gt
>

23135 
	gCImg
<
	g_cimg_Tt
> 
gë_≠≥nd
(c⁄° 
CImg
<
T
>& 
img
, c⁄° 
axis
='x', c⁄° 
Æign
=0) const {

23136 i‡(
is_em±y
()Ë +
img
;

23137 i‡(!
	gimg
Ë +*
	gthis
;

23138  
	gCImgLi°
<
	g_cimg_Tt
>(*
	gthis
,
	gåue
).
ö£π
(
img
).
gë_≠≥nd
(
axis
,
Æign
);

23142 
	gCImg
<
	gT
> 
gë_≠≥nd
(c⁄° 
CImg
<
T
>& 
img
, c⁄° 
axis
='x', c⁄° 
Æign
=0) const {

23143 i‡(
is_em±y
()Ë +
img
;

23144 i‡(!
	gimg
Ë +*
	gthis
;

23145  
	gCImgLi°
<
	gT
>(*
	gthis
,
	gimg
,
	gåue
).
gë_≠≥nd
(
axis
,
Æign
);

23164 
	gãm∂©e
<
ty≥«me
 
	gt
>

23165 
	gCImg
<
	gT
>& 
c‹ªœã
(c⁄° 
CImg
<
t
>& 
mask
, c⁄° 
bound¨y_c⁄dôi⁄s
=1, c⁄° 
boﬁ
 
is_n‹mÆized
=
Ál£
) {

23166 i‡(
is_em±y
(Ë|| !
mask
Ë *
this
;

23167  
gë_c‹ªœã
(
mask
,
bound¨y_c⁄dôi⁄s
,
is_n‹mÆized
).
move_to
(*
this
);

23171 
	gãm∂©e
<
ty≥«me
 
	gt
>

23172 
	gCImg
<
	g_cimg_TtÊﬂt
> 
gë_c‹ªœã
(c⁄° 
CImg
<
t
>& 
mask
, c⁄° 
bound¨y_c⁄dôi⁄s
=1,

23173 c⁄° 
boﬁ
 
is_n‹mÆized
=
Ál£
) const {

23174 i‡(
is_em±y
(Ë|| !
mask
Ë *
this
;

23175 
_cimg_TtÊﬂt
 
	tTtÊﬂt
;

23176 
	gCImg
<
	gTtÊﬂt
> 
ªs
(
_width
,
_height
,
_dïth
,
cimg
::
max
(
_•e˘rum
,
mask
._spectrum));

23177 i‡(
	gbound¨y_c⁄dôi⁄s
 && 
	gmask
.
	g_width
==
mask
.
_height
 && ((mask.
_dïth
==1 && mask.
_width
<=5) || (mask._depth==mask._width && mask._width<=3))) {

23179 
TtÊﬂt
 *
±rd
 = 
ªs
.
_d©a
;

23180 
	gmask
.
	g_dïth
) {

23182 
T
 
I
[27] = { 0 };

23183 
cimg_f‹C
(
ªs
,
c
) {

23184 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23185 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23186 i‡(
	gis_n‹mÆized
) {

23187 c⁄° 
TtÊﬂt
 
	g_M
 = (TtÊﬂt)
_mask
.
magnôude
(2), 
	gM
 = 
_M
*_M;

23188 
cimg_f‹3x3x3
(
_img
,
x
,
y
,
z
,0,
I
,
T
) {

23189 c⁄° 
TtÊﬂt
 
	gN
 = 
M
*(
I
[ 0]*I[ 0] + I[ 1]*I[ 1] + I[ 2]*I[ 2] +

23190 
I
[ 3]*I[ 3] + I[ 4]*I[ 4] + I[ 5]*I[ 5] +

23191 
I
[ 6]*I[ 6] + I[ 7]*I[ 7] + I[ 8]*I[ 8] +

23192 
I
[ 9]*I[ 9] + I[10]*I[10] + I[11]*I[11] +

23193 
I
[12]*I[12] + I[13]*I[13] + I[14]*I[14] +

23194 
I
[15]*I[15] + I[16]*I[16] + I[17]*I[17] +

23195 
I
[18]*I[18] + I[19]*I[19] + I[20]*I[20] +

23196 
I
[21]*I[21] + I[22]*I[22] + I[23]*I[23] +

23197 
I
[24]*I[24] + I[25]*I[25] + I[26]*I[26]);

23198 *(
	g±rd
++Ë(
TtÊﬂt
)(
N
?(
I
[ 0]*
_mask
[ 0] + I[ 1]*_mask[ 1] + I[ 2]*_mask[ 2] +

23199 
I
[ 3]*
_mask
[ 3] + I[ 4]*_mask[ 4] + I[ 5]*_mask[ 5] +

23200 
I
[ 6]*
_mask
[ 6] + I[ 7]*_mask[ 7] + I[ 8]*_mask[ 8] +

23201 
I
[ 9]*
_mask
[ 9] + I[10]*_mask[10] + I[11]*_mask[11] +

23202 
I
[12]*
_mask
[12] + I[13]*_mask[13] + I[14]*_mask[14] +

23203 
I
[15]*
_mask
[15] + I[16]*_mask[16] + I[17]*_mask[17] +

23204 
I
[18]*
_mask
[18] + I[19]*_mask[19] + I[20]*_mask[20] +

23205 
I
[21]*
_mask
[21] + I[22]*_mask[22] + I[23]*_mask[23] +

23206 
I
[24]*
_mask
[24] + I[25]*_mask[25] + I[26]*_mask[26])/
°d
::
sqπ
(
N
):0);

23208 } 
cimg_f‹3x3x3
(
_img
,
x
,
y
,
z
,0,
I
,
T
)

23209 *(
	g±rd
++Ë(
TtÊﬂt
)(
I
[ 0]*
_mask
[ 0] + I[ 1]*_mask[ 1] + I[ 2]*_mask[ 2] +

23210 
I
[ 3]*
_mask
[ 3] + I[ 4]*_mask[ 4] + I[ 5]*_mask[ 5] +

23211 
I
[ 6]*
_mask
[ 6] + I[ 7]*_mask[ 7] + I[ 8]*_mask[ 8] +

23212 
I
[ 9]*
_mask
[ 9] + I[10]*_mask[10] + I[11]*_mask[11] +

23213 
I
[12]*
_mask
[12] + I[13]*_mask[13] + I[14]*_mask[14] +

23214 
I
[15]*
_mask
[15] + I[16]*_mask[16] + I[17]*_mask[17] +

23215 
I
[18]*
_mask
[18] + I[19]*_mask[19] + I[20]*_mask[20] +

23216 
I
[21]*
_mask
[21] + I[22]*_mask[22] + I[23]*_mask[23] +

23217 
I
[24]*
_mask
[24] + I[25]*_mask[25] + I[26]*_mask[26]);

23221 
T
 
I
[8] = { 0 };

23222 
cimg_f‹C
(
ªs
,
c
) {

23223 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23224 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23225 i‡(
	gis_n‹mÆized
) {

23226 c⁄° 
TtÊﬂt
 
	g_M
 = (TtÊﬂt)
_mask
.
magnôude
(2), 
	gM
 = 
_M
*_M;

23227 
cimg_f‹2x2x2
(
_img
,
x
,
y
,
z
,0,
I
,
T
) {

23228 c⁄° 
TtÊﬂt
 
	gN
 = 
M
*(
I
[0]*I[0] + I[1]*I[1] +

23229 
I
[2]*I[2] + I[3]*I[3] +

23230 
I
[4]*I[4] + I[5]*I[5] +

23231 
I
[6]*I[6] + I[7]*I[7]);

23232 *(
	g±rd
++Ë(
TtÊﬂt
)(
N
?(
I
[0]*
_mask
[0] + I[1]*_mask[1] +

23233 
I
[2]*
_mask
[2] + I[3]*_mask[3] +

23234 
I
[4]*
_mask
[4] + I[5]*_mask[5] +

23235 
I
[6]*
_mask
[6] + I[7]*_mask[7])/
°d
::
sqπ
(
N
):0);

23237 } 
cimg_f‹2x2x2
(
_img
,
x
,
y
,
z
,0,
I
,
T
)

23238 *(
	g±rd
++Ë(
TtÊﬂt
)(
I
[0]*
_mask
[0] + I[1]*_mask[1] +

23239 
I
[2]*
_mask
[2] + I[3]*_mask[3] +

23240 
I
[4]*
_mask
[4] + I[5]*_mask[5] +

23241 
I
[6]*
_mask
[6] + I[7]*_mask[7]);

23246 
mask
.
_width
) {

23248 
T
 
I
[36] = { 0 };

23249 
cimg_f‹C
(
ªs
,
c
) {

23250 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23251 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23252 i‡(
	gis_n‹mÆized
) {

23253 c⁄° 
TtÊﬂt
 
	g_M
 = (TtÊﬂt)
_mask
.
magnôude
(2), 
	gM
 = 
_M
*_M;

23254 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹6x6
(_img,
x
,
y
,z,0,
I
,
T
) {

23255 c⁄° 
TtÊﬂt
 
	gN
 = 
M
*(
I
[ 0]*I[ 0] + I[ 1]*I[ 1] + I[ 2]*I[ 2] + I[ 3]*I[ 3] + I[ 4]*I[ 4] + I[ 5]*I[ 5] +

23256 
I
[ 6]*I[ 6] + I[ 7]*I[ 7] + I[ 8]*I[ 8] + I[ 9]*I[ 9] + I[10]*I[10] + I[11]*I[11] +

23257 
I
[12]*I[12] + I[13]*I[13] + I[14]*I[14] + I[15]*I[15] + I[16]*I[16] + I[17]*I[17] +

23258 
I
[18]*I[18] + I[19]*I[19] + I[20]*I[20] + I[21]*I[21] + I[22]*I[22] + I[23]*I[23] +

23259 
I
[24]*I[24] + I[25]*I[25] + I[26]*I[26] + I[27]*I[27] + I[28]*I[28] + I[29]*I[29] +

23260 
I
[30]*I[30] + I[31]*I[31] + I[32]*I[32] + I[33]*I[33] + I[34]*I[34] + I[35]*I[35]);

23261 *(
	g±rd
++Ë(
TtÊﬂt
)(
N
?(
I
[ 0]*
_mask
[ 0] + I[ 1]*_mask[ 1] + I[ 2]*_mask[ 2] + I[ 3]*_mask[ 3] + I[ 4]*_mask[ 4] + I[ 5]*_mask[ 5] +

23262 
I
[ 6]*
_mask
[ 6] + I[ 7]*_mask[ 7] + I[ 8]*_mask[ 8] + I[ 9]*_mask[ 9] + I[10]*_mask[10] + I[11]*_mask[11] +

23263 
I
[12]*
_mask
[12] + I[13]*_mask[13] + I[14]*_mask[14] + I[15]*_mask[15] + I[16]*_mask[16] + I[17]*_mask[17] +

23264 
I
[18]*
_mask
[18] + I[19]*_mask[19] + I[20]*_mask[20] + I[21]*_mask[21] + I[22]*_mask[22] + I[23]*_mask[23] +

23265 
I
[24]*
_mask
[24] + I[25]*_mask[25] + I[26]*_mask[26] + I[27]*_mask[27] + I[28]*_mask[28] + I[29]*_mask[29] +

23266 
I
[30]*
_mask
[30] + I[31]*_mask[31] + I[32]*_mask[32] + I[33]*_mask[33] + I[34]*_mask[34] + I[35]*_mask[35])/
°d
::
sqπ
(
N
):0);

23268 } 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹6x6
(_img,
x
,
y
,z,0,
I
,
T
)

23269 *(
	g±rd
++Ë(
TtÊﬂt
)(
I
[ 0]*
_mask
[ 0] + I[ 1]*_mask[ 1] + I[ 2]*_mask[ 2] + I[ 3]*_mask[ 3] + I[ 4]*_mask[ 4] + I[ 5]*_mask[ 5] +

23270 
I
[ 6]*
_mask
[ 6] + I[ 7]*_mask[ 7] + I[ 8]*_mask[ 8] + I[ 9]*_mask[ 9] + I[10]*_mask[10] + I[11]*_mask[11] +

23271 
I
[12]*
_mask
[12] + I[13]*_mask[13] + I[14]*_mask[14] + I[15]*_mask[15] + I[16]*_mask[16] + I[17]*_mask[17] +

23272 
I
[18]*
_mask
[18] + I[19]*_mask[19] + I[20]*_mask[20] + I[21]*_mask[21] + I[22]*_mask[22] + I[23]*_mask[23] +

23273 
I
[24]*
_mask
[24] + I[25]*_mask[25] + I[26]*_mask[26] + I[27]*_mask[27] + I[28]*_mask[28] + I[29]*_mask[29] +

23274 
I
[30]*
_mask
[30] + I[31]*_mask[31] + I[32]*_mask[32] + I[33]*_mask[33] + I[34]*_mask[34] + I[35]*_mask[35]);

23278 
T
 
I
[25] = { 0 };

23279 
cimg_f‹C
(
ªs
,
c
) {

23280 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23281 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23282 i‡(
	gis_n‹mÆized
) {

23283 c⁄° 
TtÊﬂt
 
	g_M
 = (TtÊﬂt)
_mask
.
magnôude
(2), 
	gM
 = 
_M
*_M;

23284 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹5x5
(_img,
x
,
y
,z,0,
I
,
T
) {

23285 c⁄° 
TtÊﬂt
 
	gN
 = 
M
*(
I
[ 0]*I[ 0] + I[ 1]*I[ 1] + I[ 2]*I[ 2] + I[ 3]*I[ 3] + I[ 4]*I[ 4] +

23286 
I
[ 5]*I[ 5] + I[ 6]*I[ 6] + I[ 7]*I[ 7] + I[ 8]*I[ 8] + I[ 9]*I[ 9] +

23287 
I
[10]*I[10] + I[11]*I[11] + I[12]*I[12] + I[13]*I[13] + I[14]*I[14] +

23288 
I
[15]*I[15] + I[16]*I[16] + I[17]*I[17] + I[18]*I[18] + I[19]*I[19] +

23289 
I
[20]*I[20] + I[21]*I[21] + I[22]*I[22] + I[23]*I[23] + I[24]*I[24]);

23290 *(
	g±rd
++Ë(
TtÊﬂt
)(
N
?(
I
[ 0]*
_mask
[ 0] + I[ 1]*_mask[ 1] + I[ 2]*_mask[ 2] + I[ 3]*_mask[ 3] + I[ 4]*_mask[ 4] +

23291 
I
[ 5]*
_mask
[ 5] + I[ 6]*_mask[ 6] + I[ 7]*_mask[ 7] + I[ 8]*_mask[ 8] + I[ 9]*_mask[ 9] +

23292 
I
[10]*
_mask
[10] + I[11]*_mask[11] + I[12]*_mask[12] + I[13]*_mask[13] + I[14]*_mask[14] +

23293 
I
[15]*
_mask
[15] + I[16]*_mask[16] + I[17]*_mask[17] + I[18]*_mask[18] + I[19]*_mask[19] +

23294 
I
[20]*
_mask
[20] + I[21]*_mask[21] + I[22]*_mask[22] + I[23]*_mask[23] + I[24]*_mask[24])/
°d
::
sqπ
(
N
):0);

23296 } 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹5x5
(_img,
x
,
y
,z,0,
I
,
T
)

23297 *(
	g±rd
++Ë(
TtÊﬂt
)(
I
[ 0]*
_mask
[ 0] + I[ 1]*_mask[ 1] + I[ 2]*_mask[ 2] + I[ 3]*_mask[ 3] + I[ 4]*_mask[ 4] +

23298 
I
[ 5]*
_mask
[ 5] + I[ 6]*_mask[ 6] + I[ 7]*_mask[ 7] + I[ 8]*_mask[ 8] + I[ 9]*_mask[ 9] +

23299 
I
[10]*
_mask
[10] + I[11]*_mask[11] + I[12]*_mask[12] + I[13]*_mask[13] + I[14]*_mask[14] +

23300 
I
[15]*
_mask
[15] + I[16]*_mask[16] + I[17]*_mask[17] + I[18]*_mask[18] + I[19]*_mask[19] +

23301 
I
[20]*
_mask
[20] + I[21]*_mask[21] + I[22]*_mask[22] + I[23]*_mask[23] + I[24]*_mask[24]);

23305 
T
 
I
[16] = { 0 };

23306 
cimg_f‹C
(
ªs
,
c
) {

23307 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23308 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23309 i‡(
	gis_n‹mÆized
) {

23310 c⁄° 
TtÊﬂt
 
	g_M
 = (TtÊﬂt)
_mask
.
magnôude
(2), 
	gM
 = 
_M
*_M;

23311 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹4x4
(_img,
x
,
y
,z,0,
I
,
T
) {

23312 c⁄° 
TtÊﬂt
 
	gN
 = 
M
*(
I
[ 0]*I[ 0] + I[ 1]*I[ 1] + I[ 2]*I[ 2] + I[ 3]*I[ 3] +

23313 
I
[ 4]*I[ 4] + I[ 5]*I[ 5] + I[ 6]*I[ 6] + I[ 7]*I[ 7] +

23314 
I
[ 8]*I[ 8] + I[ 9]*I[ 9] + I[10]*I[10] + I[11]*I[11] +

23315 
I
[12]*I[12] + I[13]*I[13] + I[14]*I[14] + I[15]*I[15]);

23316 *(
	g±rd
++Ë(
TtÊﬂt
)(
N
?(
I
[ 0]*
_mask
[ 0] + I[ 1]*_mask[ 1] + I[ 2]*_mask[ 2] + I[ 3]*_mask[ 3] +

23317 
I
[ 4]*
_mask
[ 4] + I[ 5]*_mask[ 5] + I[ 6]*_mask[ 6] + I[ 7]*_mask[ 7] +

23318 
I
[ 8]*
_mask
[ 8] + I[ 9]*_mask[ 9] + I[10]*_mask[10] + I[11]*_mask[11] +

23319 
I
[12]*
_mask
[12] + I[13]*_mask[13] + I[14]*_mask[14] + I[15]*_mask[15])/
°d
::
sqπ
(
N
):0);

23321 } 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹4x4
(_img,
x
,
y
,z,0,
I
,
T
)

23322 *(
	g±rd
++Ë(
TtÊﬂt
)(
I
[ 0]*
_mask
[ 0] + I[ 1]*_mask[ 1] + I[ 2]*_mask[ 2] + I[ 3]*_mask[ 3] +

23323 
I
[ 4]*
_mask
[ 4] + I[ 5]*_mask[ 5] + I[ 6]*_mask[ 6] + I[ 7]*_mask[ 7] +

23324 
I
[ 8]*
_mask
[ 8] + I[ 9]*_mask[ 9] + I[10]*_mask[10] + I[11]*_mask[11] +

23325 
I
[12]*
_mask
[12] + I[13]*_mask[13] + I[14]*_mask[14] + I[15]*_mask[15]);

23329 
T
 
I
[9] = { 0 };

23330 
cimg_f‹C
(
ªs
,
c
) {

23331 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23332 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23333 i‡(
	gis_n‹mÆized
) {

23334 c⁄° 
TtÊﬂt
 
	g_M
 = (TtÊﬂt)
_mask
.
magnôude
(2), 
	gM
 = 
_M
*_M;

23335 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹3x3
(_img,
x
,
y
,z,0,
I
,
T
) {

23336 c⁄° 
TtÊﬂt
 
	gN
 = 
M
*(
I
[0]*I[0] + I[1]*I[1] + I[2]*I[2] +

23337 
I
[3]*I[3] + I[4]*I[4] + I[5]*I[5] +

23338 
I
[6]*I[6] + I[7]*I[7] + I[8]*I[8]);

23339 *(
	g±rd
++Ë(
TtÊﬂt
)(
N
?(
I
[0]*
_mask
[0] + I[1]*_mask[1] + I[2]*_mask[2] +

23340 
I
[3]*
_mask
[3] + I[4]*_mask[4] + I[5]*_mask[5] +

23341 
I
[6]*
_mask
[6] + I[7]*_mask[7] + I[8]*_mask[8])/
°d
::
sqπ
(
N
):0);

23343 } 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹3x3
(_img,
x
,
y
,z,0,
I
,
T
)

23344 *(
	g±rd
++Ë(
TtÊﬂt
)(
I
[0]*
_mask
[0] + I[1]*_mask[1] + I[2]*_mask[2] +

23345 
I
[3]*
_mask
[3] + I[4]*_mask[4] + I[5]*_mask[5] +

23346 
I
[6]*
_mask
[6] + I[7]*_mask[7] + I[8]*_mask[8]);

23350 
T
 
I
[4] = { 0 };

23351 
cimg_f‹C
(
ªs
,
c
) {

23352 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23353 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23354 i‡(
	gis_n‹mÆized
) {

23355 c⁄° 
TtÊﬂt
 
	g_M
 = (TtÊﬂt)
_mask
.
magnôude
(2), 
	gM
 = 
_M
*_M;

23356 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹2x2
(_img,
x
,
y
,z,0,
I
,
T
) {

23357 c⁄° 
TtÊﬂt
 
	gN
 = 
M
*(
I
[0]*I[0] + I[1]*I[1] +

23358 
I
[2]*I[2] + I[3]*I[3]);

23359 *(
	g±rd
++Ë(
TtÊﬂt
)(
N
?(
I
[0]*
_mask
[0] + I[1]*_mask[1] +

23360 
I
[2]*
_mask
[2] + I[3]*_mask[3])/
°d
::
sqπ
(
N
):0);

23362 } 
cimg_f‹Z
(
_img
,
z
Ë
cimg_f‹2x2
(_img,
x
,
y
,z,0,
I
,
T
)

23363 *(
	g±rd
++Ë(
TtÊﬂt
)(
I
[0]*
_mask
[0] + I[1]*_mask[1] +

23364 
I
[2]*
_mask
[2] + I[3]*_mask[3]);

23368 i‡(
is_n‹mÆized
Ë
ªs
.
fûl
(1);

23369 
cimg_f‹C
(
ªs
,
c
) {

23370 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23371 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23372 
	gªs
.
gë_sh¨ed_ch™√l
(
c
).
assign
(
_img
)*=
_mask
[0];

23379 
	gmx2
 = 
mask
.
width
()/2, 
	gmy2
 = mask.
height
()/2, 
	gmz2
 = mask.
dïth
()/2,

23380 
	gmx1
 = 
mx2
 - 1 + (
mask
.
width
()%2), 
	gmy1
 = 
my2
 - 1 + (mask.
height
()%2), 
	gmz1
 = 
mz2
 - 1 + (mask.
dïth
()%2),

23381 
	gmxe
 = 
width
(Ë- 
mx2
, 
	gmye
 = 
height
(Ë- 
my2
, 
	gmze
 = 
dïth
(Ë- 
mz2
;

23382 
cimg_f‹C
(
ªs
,
c
) {

23383 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23384 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23385 i‡(
	gis_n‹mÆized
) {

23386 c⁄° 
TtÊﬂt
 
	g_M
 = (TtÊﬂt)
_mask
.
magnôude
(2), 
	gM
 = 
_M
*_M;

23387 
	gz
 = 
mz1
; z<
	gmze
; ++z)

23388 
	gy
 = 
my1
; y<
	gmye
; ++y)

23389 
	gx
 = 
mx1
; x<
	gmxe
; ++x) {

23390 
TtÊﬂt
 
	gvÆ
 = 0, 
	gN
 = 0;

23391 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23392 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23393 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23394 c⁄° 
TtÊﬂt
 
	g_vÆ
 = (TtÊﬂt)
_img
(
x
+
xm
,
y
+
ym
,
z
+
zm
);

23395 
	gvÆ
+=
_vÆ
*
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23396 
	gN
+=
_vÆ
*_val;

23398 
	gN
*=
M
;

23399 
ªs
(
x
,
y
,
z
,
c
Ë(
TtÊﬂt
)(
N
?
vÆ
/
°d
::
sqπ
(N):0);

23401 i‡(
	gbound¨y_c⁄dôi⁄s
)

23402 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23403 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23404 
TtÊﬂt
 
vÆ
 = 0, 
	gN
 = 0;

23405 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23406 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23407 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23408 c⁄° 
TtÊﬂt
 
	g_vÆ
 = (TtÊﬂt)
_img
.
_©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
);

23409 
	gvÆ
+=
_vÆ
*
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23410 
	gN
+=
_vÆ
*_val;

23412 
	gN
*=
M
;

23413 
ªs
(
x
,
y
,
z
,
c
Ë(
TtÊﬂt
)(
N
?
vÆ
/
°d
::
sqπ
(N):0);

23416 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23417 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23418 
TtÊﬂt
 
vÆ
 = 0, 
	gN
 = 0;

23419 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23420 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23421 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23422 c⁄° 
TtÊﬂt
 
	g_vÆ
 = (TtÊﬂt)
_img
.
©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
,0,0);

23423 
	gvÆ
+=
_vÆ
*
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23424 
	gN
+=
_vÆ
*_val;

23426 
	gN
*=
M
;

23427 
ªs
(
x
,
y
,
z
,
c
Ë(
TtÊﬂt
)(
N
?
vÆ
/
°d
::
sqπ
(N):0);

23430 
	gz
 = 
mz1
; z<
	gmze
; ++z)

23431 
	gy
 = 
my1
; y<
	gmye
; ++y)

23432 
	gx
 = 
mx1
; x<
	gmxe
; ++x) {

23433 
TtÊﬂt
 
	gvÆ
 = 0;

23434 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23435 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23436 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

23437 
	gvÆ
+=
_img
(
x
+
xm
,
y
+
ym
,
z
+
zm
)*
_mask
(
mx1
+xm,
my1
+ym,
mz1
+zm);

23438 
ªs
(
x
,
y
,
z
,
c
Ë(
TtÊﬂt
)
vÆ
;

23440 i‡(
	gbound¨y_c⁄dôi⁄s
)

23441 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23442 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23443 
TtÊﬂt
 
vÆ
 = 0;

23444 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23445 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23446 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

23447 
	gvÆ
+=
_img
.
_©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
)*
_mask
(
mx1
+xm,
my1
+ym,
mz1
+zm);

23448 
ªs
(
x
,
y
,
z
,
c
Ë(
TtÊﬂt
)
vÆ
;

23451 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23452 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23453 
TtÊﬂt
 
vÆ
 = 0;

23454 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23455 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23456 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm)

23457 
	gvÆ
+=
_img
.
©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
,0,0)*
_mask
(
mx1
+xm,
my1
+ym,
mz1
+zm);

23458 
ªs
(
x
,
y
,
z
,
c
Ë(
TtÊﬂt
)
vÆ
;

23463  
	gªs
;

23475 
	gãm∂©e
<
ty≥«me
 
	gt
>

23476 
	gCImg
<
	gT
>& 
c⁄vﬁve
(c⁄° 
CImg
<
t
>& 
mask
, c⁄° 
bound¨y_c⁄dôi⁄s
=1, c⁄° 
boﬁ
 
is_n‹mÆized
=
Ál£
) {

23477 i‡(
is_em±y
(Ë|| !
mask
Ë *
this
;

23478  
gë_c⁄vﬁve
(
mask
,
bound¨y_c⁄dôi⁄s
,
is_n‹mÆized
).
move_to
(*
this
);

23482 
	gãm∂©e
<
ty≥«me
 
	gt
>

23483 
	gCImg
<
	g_cimg_TtÊﬂt
> 
gë_c⁄vﬁve
(c⁄° 
CImg
<
t
>& 
mask
, c⁄° 
bound¨y_c⁄dôi⁄s
=1,

23484 c⁄° 
boﬁ
 
is_n‹mÆized
=
Ál£
) const {

23485 i‡(
is_em±y
(Ë|| !
mask
Ë *
this
;

23486  
gë_c‹ªœã
(
CImg
<
t
>(
mask
.
_d©a
,mask.
size
(),1,1,1,
åue
).
gë_múr‹
('x').
ªsize
(mask,-1),
bound¨y_c⁄dôi⁄s
,
is_n‹mÆized
);

23495 
	gãm∂©e
<
ty≥«me
 
	gt
>

23496 
	gCImg
<
	gT
>& 
îode
(c⁄° 
CImg
<
t
>& 
mask
, c⁄° 
bound¨y_c⁄dôi⁄s
=1, c⁄° 
boﬁ
 
is_n‹mÆized
=
Ál£
) {

23497 i‡(
is_em±y
(Ë|| !
mask
Ë *
this
;

23498  
gë_îode
(
mask
,
bound¨y_c⁄dôi⁄s
,
is_n‹mÆized
).
move_to
(*
this
);

23502 
	gãm∂©e
<
ty≥«me
 
	gt
>

23503 
	gCImg
<
	g_cimg_Tt
> 
gë_îode
(c⁄° 
CImg
<
t
>& 
mask
, c⁄° 
bound¨y_c⁄dôi⁄s
=1,

23504 c⁄° 
boﬁ
 
is_n‹mÆized
=
Ál£
) const {

23505 i‡(
is_em±y
(Ë|| !
mask
Ë *
this
;

23506 
_cimg_Tt
 
	tTt
;

23507 
	gCImg
<
	gTt
> 
ªs
(
_width
,
_height
,
_dïth
,
cimg
::
max
(
_•e˘rum
,
mask
._spectrum));

23509 
	gmx2
 = 
mask
.
width
()/2, 
	gmy2
 = mask.
height
()/2, 
	gmz2
 = mask.
dïth
()/2,

23510 
	gmx1
 = 
mx2
 - 1 + (
mask
.
width
()%2), 
	gmy1
 = 
my2
 - 1 + (mask.
height
()%2), 
	gmz1
 = 
mz2
 - 1 + (mask.
dïth
()%2),

23511 
	gmxe
 = 
width
(Ë- 
mx2
, 
	gmye
 = 
height
(Ë- 
my2
, 
	gmze
 = 
dïth
(Ë- 
mz2
;

23512 
cimg_f‹C
(*
this
,
c
) {

23513 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23514 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23515 i‡(
	gis_n‹mÆized
) {

23516 
	gz
 = 
mz1
; z<
	gmze
; ++z)

23517 
	gy
 = 
my1
; y<
	gmye
; ++y)

23518 
	gx
 = 
mx1
; x<
	gmxe
; ++x) {

23519 
Tt
 
	gmö_vÆ
 = 
cimg
::
ty≥
<Tt>::
max
();

23520 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23521 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23522 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23523 c⁄° 
t
 
	gmvÆ
 = 
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23524 c⁄° 
Tt
 
	gcvÆ
 = (Tt)(
_img
(
x
+
xm
,
y
+
ym
,
z
+
zm
Ë+ 
	gmvÆ
);

23525 i‡(
	gmvÆ
 && 
	gcvÆ
<
	gmö_vÆ
Ëmö_vÆ = 
cvÆ
;

23527 
ªs
(
x
,
y
,
z
,
c
Ë
mö_vÆ
;

23529 i‡(
	gbound¨y_c⁄dôi⁄s
)

23530 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23531 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23532 
Tt
 
mö_vÆ
 = 
cimg
::
ty≥
<Tt>::
max
();

23533 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23534 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23535 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23536 c⁄° 
t
 
	gmvÆ
 = 
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23537 c⁄° 
Tt
 
	gcvÆ
 = (Tt)(
_img
.
_©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
Ë+ 
	gmvÆ
);

23538 i‡(
	gmvÆ
 && 
	gcvÆ
<
	gmö_vÆ
Ëmö_vÆ = 
cvÆ
;

23540 
ªs
(
x
,
y
,
z
,
c
Ë
mö_vÆ
;

23543 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23544 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23545 
Tt
 
mö_vÆ
 = 
cimg
::
ty≥
<Tt>::
max
();

23546 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23547 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23548 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23549 c⁄° 
t
 
	gmvÆ
 = 
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23550 c⁄° 
Tt
 
	gcvÆ
 = (Tt)(
_img
.
©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
,0,0Ë+ 
	gmvÆ
);

23551 i‡(
	gmvÆ
 && 
	gcvÆ
<
	gmö_vÆ
Ëmö_vÆ = 
cvÆ
;

23553 
ªs
(
x
,
y
,
z
,
c
Ë
mö_vÆ
;

23556 
	gz
 = 
mz1
; z<
	gmze
; ++z)

23557 
	gy
 = 
my1
; y<
	gmye
; ++y)

23558 
	gx
 = 
mx1
; x<
	gmxe
; ++x) {

23559 
Tt
 
	gmö_vÆ
 = 
cimg
::
ty≥
<Tt>::
max
();

23560 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23561 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23562 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23563 c⁄° 
Tt
 
	gcvÆ
 = (Tt)
_img
(
x
+
xm
,
y
+
ym
,
z
+
zm
);

23564 i‡(
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
Ë&& 
	gcvÆ
<
	gmö_vÆ
Ëmö_vÆ = 
cvÆ
;

23566 
ªs
(
x
,
y
,
z
,
c
Ë
mö_vÆ
;

23568 i‡(
	gbound¨y_c⁄dôi⁄s
)

23569 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23570 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23571 
Tt
 
mö_vÆ
 = 
cimg
::
ty≥
<Tt>::
max
();

23572 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23573 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23574 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23575 c⁄° 
T
 
	gcvÆ
 = (
Tt
)
_img
.
_©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
);

23576 i‡(
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
Ë&& 
	gcvÆ
<
	gmö_vÆ
Ëmö_vÆ = 
cvÆ
;

23578 
ªs
(
x
,
y
,
z
,
c
Ë
mö_vÆ
;

23581 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23582 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23583 
Tt
 
mö_vÆ
 = 
cimg
::
ty≥
<Tt>::
max
();

23584 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23585 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23586 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23587 c⁄° 
T
 
	gcvÆ
 = (
Tt
)
_img
.
©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
,0,0);

23588 i‡(
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
Ë&& 
	gcvÆ
<
	gmö_vÆ
Ëmö_vÆ = 
cvÆ
;

23590 
ªs
(
x
,
y
,
z
,
c
Ë
mö_vÆ
;

23594  
	gªs
;

23603 
	gCImg
<
	gT
>& 
îode
(c⁄° 
sx
, c⁄° 
sy
, c⁄° 
sz
=1) {

23604 i‡(
is_em±y
(Ë|| (
sx
==1 && 
sy
==1 && 
sz
==1)Ë *
this
;

23605 i‡(
	gsx
>1 && 
	g_width
>1) {

23606 c⁄° 
	gL
 = 
width
(), 
	goff
 = 1, 
	gs
 = ()
sx
, 
	g_s1
 = 
s
/2, 
	g_s2
 = s - 
_s1
, 
	gs1
 = _s1>
L
?L:_s1, 
	gs2
 = 
_s2
>L?L:_s2;

23607 
	gCImg
<
	gT
> 
buf
(
L
);

23608 
T
 *c⁄° 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *c⁄° 
	g±rde
 = buf._d©®+ 
L
 - 1;

23609 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

23610 c⁄° 
T
 *c⁄° 
	g±rsb
 = 
d©a
(0,
y
,
z
,
c
), *
	g±rs
 = 
±rsb
, *c⁄° 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

23611 
	g±rd
 = 
buf
.
_d©a
; 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boﬁ
 
	gis_fú°
 = 
åue
;

23612 
	gp
 = 
s2
-1;Ö>0 && 
	g±rs
<=
±r£
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås+=
off
; i‡(vÆ<=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; }} *(
	g±rd
++) = cur;

23613 
	gp
 = 
s1
;Ö>0 && 
	g±rd
<=
±rde
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
<
	g±r£
Ë±rs+=
off
; i‡(vÆ<=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; } *(ptrd++) = cur; }

23614 
	gp
 = 
L
 - 
s
 - 1;Ö>0; --p) {

23615 c⁄° 
T
 
	gvÆ
 = *
±rs
; 
	g±rs
+=
off
;

23616 i‡(
	gis_fú°
) {

23617 c⁄° 
T
 *
	g≈ås
 = 
±rs
 - 
off
; 
	gcur
 = 
vÆ
;

23618 
	gq
 = 
s
 - 2; q>0; --qË{ 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ<
	gcur
Ëcu∏
nvÆ
; }

23619 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ<
	gcur
Ë{ cu∏
nvÆ
; 
	gis_fú°
 = 
åue
; } is_fú° = 
Ál£
;

23620 } { i‡(
	gvÆ
<=
cur
Ëcu∏
vÆ
; i‡(
	gcur
==*(
±rs
-
s
*
off
)Ë
is_fú°
 = 
åue
; }

23621 *(
	g±rd
++Ë
cur
;

23623 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;Öås-=
off
;

23624 
	gp
 = 
s1
;Ö>0 && 
	g±rs
>=
±rsb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås-=
off
; i‡(vÆ<
	gcur
Ëcu∏
vÆ
; } *(
	g±rd
--Ë
cur
;

23625 
	gp
 = 
s2
-1;Ö>0 && 
	g±rd
>=
±rdb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
>
	g±rsb
Ë±rs-=
off
; i‡(vÆ<
	gcur
Ëcu∏
vÆ
; *’åd--Ë
cur
; }

23626 
T
 *
	gpd
 = 
d©a
(0,
y
,
z
,
c
); 
cimg_f‹
(
buf
,
ps
,TË{ *pd = *ps;Öd+=
off
; }

23630 i‡(
	gsy
>1 && 
	g_height
>1) {

23631 c⁄° 
	gL
 = 
height
(), 
	goff
 = 
width
(), 
	gs
 = ()
sy
, 
	g_s1
 = 
s
/2, 
	g_s2
 = s - 
_s1
, 
	gs1
 = _s1>
L
?L:_s1, 
	gs2
 = 
_s2
>L?L:_s2;

23632 
	gCImg
<
	gT
> 
buf
(
L
);

23633 
T
 *c⁄° 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *c⁄° 
	g±rde
 = buf._d©®+ 
L
 - 1;

23634 
cimg_f‹XZC
(*
this
,
x
,
z
,
c
) {

23635 c⁄° 
T
 *c⁄° 
	g±rsb
 = 
d©a
(
x
,0,
z
,
c
), *
	g±rs
 = 
±rsb
, *c⁄° 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

23636 
	g±rd
 = 
buf
.
_d©a
; 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boﬁ
 
	gis_fú°
 = 
åue
;

23637 
	gp
 = 
s2
-1;Ö>0 && 
	g±rs
<=
±r£
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås+=
off
; i‡(vÆ<=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; }} *(
	g±rd
++) = cur;

23638 
	gp
 = 
s1
;Ö>0 && 
	g±rd
<=
±rde
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
<
	g±r£
Ë±rs+=
off
; i‡(vÆ<=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; } *(ptrd++) = cur; }

23639 
	gp
 = 
L
 - 
s
 - 1;Ö>0; --p) {

23640 c⁄° 
T
 
	gvÆ
 = *
±rs
; 
	g±rs
+=
off
;

23641 i‡(
	gis_fú°
) {

23642 c⁄° 
T
 *
	g≈ås
 = 
±rs
 - 
off
; 
	gcur
 = 
vÆ
;

23643 
	gq
 = 
s
 - 2; q>0; --qË{ 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ<
	gcur
Ëcu∏
nvÆ
; }

23644 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ<
	gcur
Ë{ cu∏
nvÆ
; 
	gis_fú°
 = 
åue
; } is_fú° = 
Ál£
;

23645 } { i‡(
	gvÆ
<=
cur
Ëcu∏
vÆ
; i‡(
	gcur
==*(
±rs
-
s
*
off
)Ë
is_fú°
 = 
åue
; }

23646 *(
	g±rd
++Ë
cur
;

23648 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;Öås-=
off
;

23649 
	gp
 = 
s1
;Ö>0 && 
	g±rs
>=
±rsb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås-=
off
; i‡(vÆ<
	gcur
Ëcu∏
vÆ
; } *(
	g±rd
--Ë
cur
;

23650 
	gp
 = 
s2
-1;Ö>0 && 
	g±rd
>=
±rdb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
>
	g±rsb
Ë±rs-=
off
; i‡(vÆ<
	gcur
Ëcu∏
vÆ
; *’åd--Ë
cur
; }

23651 
T
 *
	gpd
 = 
d©a
(
x
,0,
z
,
c
); 
cimg_f‹
(
buf
,
ps
,TË{ *pd = *ps;Öd+=
off
; }

23655 i‡(
	gsz
>1 && 
	g_dïth
>1) {

23656 c⁄° 
	gL
 = 
dïth
(), 
	goff
 = 
width
()*
height
(), 
	gs
 = ()
sz
, 
	g_s1
 = 
s
/2, 
	g_s2
 = s - 
_s1
, 
	gs1
 = _s1>
L
?L:_s1, 
	gs2
 = 
_s2
>L?L:_s2;

23657 
	gCImg
<
	gT
> 
buf
(
L
);

23658 
T
 *c⁄° 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *c⁄° 
	g±rde
 = buf._d©®+ 
L
 - 1;

23659 
cimg_f‹XYC
(*
this
,
x
,
y
,
c
) {

23660 c⁄° 
T
 *c⁄° 
	g±rsb
 = 
d©a
(
x
,
y
,0,
c
), *
	g±rs
 = 
±rsb
, *c⁄° 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

23661 
	g±rd
 = 
buf
.
_d©a
; 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boﬁ
 
	gis_fú°
 = 
åue
;

23662 
	gp
 = 
s2
-1;Ö>0 && 
	g±rs
<=
±r£
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås+=
off
; i‡(vÆ<=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; }} *(
	g±rd
++) = cur;

23663 
	gp
 = 
s1
;Ö>0 && 
	g±rd
<=
±rde
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
<
	g±r£
Ë±rs+=
off
; i‡(vÆ<=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; } *(ptrd++) = cur; }

23664 
	gp
 = 
L
 - 
s
 - 1;Ö>0; --p) {

23665 c⁄° 
T
 
	gvÆ
 = *
±rs
; 
	g±rs
+=
off
;

23666 i‡(
	gis_fú°
) {

23667 c⁄° 
T
 *
	g≈ås
 = 
±rs
 - 
off
; 
	gcur
 = 
vÆ
;

23668 
	gq
 = 
s
 - 2; q>0; --qË{ 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ<
	gcur
Ëcu∏
nvÆ
; }

23669 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ<
	gcur
Ë{ cu∏
nvÆ
; 
	gis_fú°
 = 
åue
; } is_fú° = 
Ál£
;

23670 } { i‡(
	gvÆ
<=
cur
Ëcu∏
vÆ
; i‡(
	gcur
==*(
±rs
-
s
*
off
)Ë
is_fú°
 = 
åue
; }

23671 *(
	g±rd
++Ë
cur
;

23673 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;Öås-=
off
;

23674 
	gp
 = 
s1
;Ö>0 && 
	g±rs
>=
±rsb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås-=
off
; i‡(vÆ<
	gcur
Ëcu∏
vÆ
; } *(
	g±rd
--Ë
cur
;

23675 
	gp
 = 
s2
-1;Ö>0 && 
	g±rd
>=
±rdb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
>
	g±rsb
Ë±rs-=
off
; i‡(vÆ<
	gcur
Ëcu∏
vÆ
; *’åd--Ë
cur
; }

23676 
T
 *
	gpd
 = 
d©a
(
x
,
y
,0,
c
); 
cimg_f‹
(
buf
,
ps
,TË{ *pd = *ps;Öd+=
off
; }

23679  *
	gthis
;

23683 
	gCImg
<
	gT
> 
gë_îode
(c⁄° 
sx
, c⁄° 
sy
, c⁄° 
sz
=1) const {

23684  (+*
this
).
îode
(
sx
,
sy
,
sz
);

23691 
	gCImg
<
	gT
>& 
îode
(c⁄° 
s
) {

23692  
îode
(
s
,s,s);

23696 
	gCImg
<
	gT
> 
gë_îode
(c⁄° 
s
) const {

23697  (+*
	gthis
).
îode
(
s
);

23706 
	gãm∂©e
<
ty≥«me
 
	gt
>

23707 
	gCImg
<
	gT
>& 
dû©e
(c⁄° 
CImg
<
t
>& 
mask
, c⁄° 
bound¨y_c⁄dôi⁄s
=1, c⁄° 
boﬁ
 
is_n‹mÆized
=
Ál£
) {

23708 i‡(
is_em±y
(Ë|| !
mask
Ë *
this
;

23709  
gë_dû©e
(
mask
,
bound¨y_c⁄dôi⁄s
,
is_n‹mÆized
).
move_to
(*
this
);

23713 
	gãm∂©e
<
ty≥«me
 
	gt
>

23714 
	gCImg
<
	g_cimg_Tt
> 
gë_dû©e
(c⁄° 
CImg
<
t
>& 
mask
, c⁄° 
bound¨y_c⁄dôi⁄s
=1,

23715 c⁄° 
boﬁ
 
is_n‹mÆized
=
Ál£
) const {

23716 i‡(
is_em±y
(Ë|| !
mask
Ë *
this
;

23717 
_cimg_Tt
 
	tTt
;

23718 
	gCImg
<
	gTt
> 
ªs
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

23720 
	gmx2
 = 
mask
.
width
()/2, 
	gmy2
 = mask.
height
()/2, 
	gmz2
 = mask.
dïth
()/2,

23721 
	gmx1
 = 
mx2
 - 1 + (
mask
.
width
()%2), 
	gmy1
 = 
my2
 - 1 + (mask.
height
()%2), 
	gmz1
 = 
mz2
 - 1 + (mask.
dïth
()%2),

23722 
	gmxe
 = 
width
(Ë- 
mx2
, 
	gmye
 = 
height
(Ë- 
my2
, 
	gmze
 = 
dïth
(Ë- 
mz2
;

23723 
cimg_f‹C
(*
this
,
c
) {

23724 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
gë_sh¨ed_ch™√l
(
c
%
_•e˘rum
);

23725 c⁄° 
	gCImg
<
	gt
> 
	g_mask
 = 
mask
.
gë_sh¨ed_ch™√l
(
c
%mask.
_•e˘rum
);

23726 i‡(
	gis_n‹mÆized
) {

23727 
	gz
 = 
mz1
; z<
	gmze
; ++z)

23728 
	gy
 = 
my1
; y<
	gmye
; ++y)

23729 
	gx
 = 
mx1
; x<
	gmxe
; ++x) {

23730 
Tt
 
	gmax_vÆ
 = 
cimg
::
ty≥
<Tt>::
mö
();

23731 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23732 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23733 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23734 c⁄° 
t
 
	gmvÆ
 = 
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23735 c⁄° 
Tt
 
	gcvÆ
 = (Tt)(
_img
(
x
+
xm
,
y
+
ym
,
z
+
zm
Ë- 
	gmvÆ
);

23736 i‡(
	gmvÆ
 && 
	gcvÆ
>
	gmax_vÆ
Ëmax_vÆ = 
cvÆ
;

23738 
ªs
(
x
,
y
,
z
,
c
Ë
max_vÆ
;

23740 i‡(
	gbound¨y_c⁄dôi⁄s
)

23741 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23742 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23743 
Tt
 
max_vÆ
 = 
cimg
::
ty≥
<Tt>::
mö
();

23744 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23745 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23746 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23747 c⁄° 
t
 
	gmvÆ
 = 
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23748 c⁄° 
Tt
 
	gcvÆ
 = (Tt)(
_img
.
_©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
Ë- 
	gmvÆ
);

23749 i‡(
	gmvÆ
 && 
	gcvÆ
>
	gmax_vÆ
Ëmax_vÆ = 
cvÆ
;

23751 
ªs
(
x
,
y
,
z
,
c
Ë
max_vÆ
;

23754 
cimg_f‹YZ
(*
this
,
y
,
z
)

23755 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23756 
Tt
 
max_vÆ
 = 
cimg
::
ty≥
<Tt>::
mö
();

23757 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23758 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23759 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23760 c⁄° 
t
 
	gmvÆ
 = 
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
);

23761 c⁄° 
Tt
 
	gcvÆ
 = (Tt)(
_img
.
©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
,0,0Ë- 
	gmvÆ
);

23762 i‡(
	gmvÆ
 && 
	gcvÆ
>
	gmax_vÆ
Ëmax_vÆ = 
cvÆ
;

23764 
ªs
(
x
,
y
,
z
,
c
Ë
max_vÆ
;

23767 
	gz
 = 
mz1
; z<
	gmze
; ++z)

23768 
	gy
 = 
my1
; y<
	gmye
; ++y)

23769 
	gx
 = 
mx1
; x<
	gmxe
; ++x) {

23770 
Tt
 
	gmax_vÆ
 = 
cimg
::
ty≥
<Tt>::
mö
();

23771 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23772 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23773 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23774 c⁄° 
Tt
 
	gcvÆ
 = (Tt)
_img
(
x
+
xm
,
y
+
ym
,
z
+
zm
);

23775 i‡(
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
Ë&& 
	gcvÆ
>
	gmax_vÆ
Ëmax_vÆ = 
cvÆ
;

23777 
ªs
(
x
,
y
,
z
,
c
Ë
max_vÆ
;

23779 i‡(
	gbound¨y_c⁄dôi⁄s
)

23780 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23781 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23782 
Tt
 
max_vÆ
 = 
cimg
::
ty≥
<Tt>::
mö
();

23783 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23784 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23785 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23786 c⁄° 
T
 
	gcvÆ
 = (
Tt
)
_img
.
_©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
);

23787 i‡(
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
Ë&& 
	gcvÆ
>
	gmax_vÆ
Ëmax_vÆ = 
cvÆ
;

23789 
ªs
(
x
,
y
,
z
,
c
Ë
max_vÆ
;

23792 
cimg_f‹YZ
(
ªs
,
y
,
z
)

23793 
	gx
 = 0; x<
width
(); (
	gy
<
	gmy1
 || y>=
mye
 || 
z
<
mz1
 || z>=
mze
)?++
x
:((x<
mx1
-1 || x>=
mxe
)?++x:(x=mxe))) {

23794 
Tt
 
max_vÆ
 = 
cimg
::
ty≥
<Tt>::
mö
();

23795 
	gzm
 = -
mz1
; zm<=
mz2
; ++zm)

23796 
	gym
 = -
my1
; ym<=
my2
; ++ym)

23797 
	gxm
 = -
mx1
; xm<=
mx2
; ++xm) {

23798 c⁄° 
T
 
	gcvÆ
 = (
Tt
)
_img
.
©XYZ
(
x
+
xm
,
y
+
ym
,
z
+
zm
,0,0);

23799 i‡(
_mask
(
mx1
+
xm
,
my1
+
ym
,
mz1
+
zm
Ë&& 
	gcvÆ
>
	gmax_vÆ
Ëmax_vÆ = 
cvÆ
;

23801 
ªs
(
x
,
y
,
z
,
c
Ë
max_vÆ
;

23805  
	gªs
;

23814 
	gCImg
<
	gT
>& 
dû©e
(c⁄° 
sx
, c⁄° 
sy
, c⁄° 
sz
=1) {

23815 i‡(
is_em±y
(Ë|| (
sx
==1 && 
sy
==1 && 
sz
==1)Ë *
this
;

23816 i‡(
	gsx
>1 && 
	g_width
>1) {

23817 c⁄° 
	gL
 = 
width
(), 
	goff
 = 1, 
	gs
 = ()
sx
, 
	g_s2
 = 
s
/2 + 1, 
	g_s1
 = s - 
_s2
, 
	gs1
 = 
_s1
>
L
?L:_s1, 
	gs2
 = _s2>L?L:_s2;

23818 
	gCImg
<
	gT
> 
buf
(
L
);

23819 
T
 *c⁄° 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *c⁄° 
	g±rde
 = buf._d©®+ 
L
 - 1;

23820 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

23821 c⁄° 
T
 *c⁄° 
	g±rsb
 = 
d©a
(0,
y
,
z
,
c
), *
	g±rs
 = 
±rsb
, *c⁄° 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

23822 
	g±rd
 = 
buf
.
_d©a
; 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boﬁ
 
	gis_fú°
 = 
åue
;

23823 
	gp
 = 
s2
-1;Ö>0 && 
	g±rs
<=
±r£
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås+=
off
; i‡(vÆ>=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; }} *(
	g±rd
++) = cur;

23824 
	gp
 = 
s1
;Ö>0 && 
	g±rd
<=
±rde
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
<
	g±r£
Ë±rs+=
off
; i‡(vÆ>=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; } *(ptrd++) = cur; }

23825 
	gp
 = 
L
 - 
s
 - 1;Ö>0; --p) {

23826 c⁄° 
T
 
	gvÆ
 = *
±rs
; 
	g±rs
+=
off
;

23827 i‡(
	gis_fú°
) {

23828 c⁄° 
T
 *
	g≈ås
 = 
±rs
 - 
off
; 
	gcur
 = 
vÆ
;

23829 
	gq
 = 
s
 - 2; q>0; --qË{ 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ>
	gcur
Ëcu∏
nvÆ
; }

23830 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ>
	gcur
Ë{ cu∏
nvÆ
; 
	gis_fú°
 = 
åue
; } is_fú° = 
Ál£
;

23831 } { i‡(
	gvÆ
>=
cur
Ëcu∏
vÆ
; i‡(
	gcur
==*(
±rs
-
s
*
off
)Ë
is_fú°
 = 
åue
; }

23832 *(
	g±rd
++Ë
cur
;

23834 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;Öås-=
off
;

23835 
	gp
 = 
s1
;Ö>0 && 
	g±rs
>=
±rsb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås-=
off
; i‡(vÆ>
	gcur
Ëcu∏
vÆ
; } *(
	g±rd
--Ë
cur
;

23836 
	gp
 = 
s2
-1;Ö>0 && 
	g±rd
>=
±rdb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
>
	g±rsb
Ë±rs-=
off
; i‡(vÆ>
	gcur
Ëcu∏
vÆ
; *’åd--Ë
cur
; }

23837 
T
 *
	gpd
 = 
d©a
(0,
y
,
z
,
c
); 
cimg_f‹
(
buf
,
ps
,TË{ *pd = *ps;Öd+=
off
; }

23841 i‡(
	gsy
>1 && 
	g_height
>1) {

23842 c⁄° 
	gL
 = 
height
(), 
	goff
 = 
width
(), 
	gs
 = ()
sy
, 
	g_s2
 = 
s
/2 + 1, 
	g_s1
 = s - 
_s2
, 
	gs1
 = 
_s1
>
L
?L:_s1, 
	gs2
 = _s2>L?L:_s2;

23843 
	gCImg
<
	gT
> 
buf
(
L
);

23844 
T
 *c⁄° 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *c⁄° 
	g±rde
 = buf._d©®+ 
L
 - 1;

23845 
cimg_f‹XZC
(*
this
,
x
,
z
,
c
) {

23846 c⁄° 
T
 *c⁄° 
	g±rsb
 = 
d©a
(
x
,0,
z
,
c
), *
	g±rs
 = 
±rsb
, *c⁄° 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

23847 
	g±rd
 = 
buf
.
_d©a
; 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boﬁ
 
	gis_fú°
 = 
åue
;

23848 
	gp
 = 
s2
-1;Ö>0 && 
	g±rs
<=
±r£
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås+=
off
; i‡(vÆ>=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; }} *(
	g±rd
++) = cur;

23849 
	gp
 = 
s1
;Ö>0 && 
	g±rd
<=
±rde
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
<
	g±r£
Ë±rs+=
off
; i‡(vÆ>=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; } *(ptrd++) = cur; }

23850 
	gp
 = 
L
 - 
s
 - 1;Ö>0; --p) {

23851 c⁄° 
T
 
	gvÆ
 = *
±rs
; 
	g±rs
+=
off
;

23852 i‡(
	gis_fú°
) {

23853 c⁄° 
T
 *
	g≈ås
 = 
±rs
 - 
off
; 
	gcur
 = 
vÆ
;

23854 
	gq
 = 
s
 - 2; q>0; --qË{ 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ>
	gcur
Ëcu∏
nvÆ
; }

23855 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ>
	gcur
Ë{ cu∏
nvÆ
; 
	gis_fú°
 = 
åue
; } is_fú° = 
Ál£
;

23856 } { i‡(
	gvÆ
>=
cur
Ëcu∏
vÆ
; i‡(
	gcur
==*(
±rs
-
s
*
off
)Ë
is_fú°
 = 
åue
; }

23857 *(
	g±rd
++Ë
cur
;

23859 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;Öås-=
off
;

23860 
	gp
 = 
s1
;Ö>0 && 
	g±rs
>=
±rsb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås-=
off
; i‡(vÆ>
	gcur
Ëcu∏
vÆ
; } *(
	g±rd
--Ë
cur
;

23861 
	gp
 = 
s2
-1;Ö>0 && 
	g±rd
>=
±rdb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
>
	g±rsb
Ë±rs-=
off
; i‡(vÆ>
	gcur
Ëcu∏
vÆ
; *’åd--Ë
cur
; }

23862 
T
 *
	gpd
 = 
d©a
(
x
,0,
z
,
c
); 
cimg_f‹
(
buf
,
ps
,TË{ *pd = *ps;Öd+=
off
; }

23866 i‡(
	gsz
>1 && 
	g_dïth
>1) {

23867 c⁄° 
	gL
 = 
dïth
(), 
	goff
 = 
width
()*
height
(), 
	gs
 = ()
sz
, 
	g_s2
 = 
s
/2 + 1, 
	g_s1
 = s - 
_s2
, 
	gs1
 = 
_s1
>
L
?L:_s1, 
	gs2
 = _s2>L?L:_s2;

23868 
	gCImg
<
	gT
> 
buf
(
L
);

23869 
T
 *c⁄° 
	g±rdb
 = 
buf
.
_d©a
, *
	g±rd
 = 
±rdb
, *c⁄° 
	g±rde
 = buf._d©®+ 
L
 - 1;

23870 
cimg_f‹XYC
(*
this
,
x
,
y
,
c
) {

23871 c⁄° 
T
 *c⁄° 
	g±rsb
 = 
d©a
(
x
,
y
,0,
c
), *
	g±rs
 = 
±rsb
, *c⁄° 
	g±r£
 = 
±rs
 + 
L
*
off
 - off;

23872 
	g±rd
 = 
buf
.
_d©a
; 
T
 
	gcur
 = *
±rs
; 
	g±rs
+=
off
; 
boﬁ
 
	gis_fú°
 = 
åue
;

23873 
	gp
 = 
s2
-1;Ö>0 && 
	g±rs
<=
±r£
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås+=
off
; i‡(vÆ>=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; }} *(
	g±rd
++) = cur;

23874 
	gp
 = 
s1
;Ö>0 && 
	g±rd
<=
±rde
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
<
	g±r£
Ë±rs+=
off
; i‡(vÆ>=
cur
Ë{ cu∏
vÆ
; 
	gis_fú°
 = 
Ál£
; } *(ptrd++) = cur; }

23875 
	gp
 = 
L
 - 
s
 - 1;Ö>0; --p) {

23876 c⁄° 
T
 
	gvÆ
 = *
±rs
; 
	g±rs
+=
off
;

23877 i‡(
	gis_fú°
) {

23878 c⁄° 
T
 *
	g≈ås
 = 
±rs
 - 
off
; 
	gcur
 = 
vÆ
;

23879 
	gq
 = 
s
 - 2; q>0; --qË{ 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ>
	gcur
Ëcu∏
nvÆ
; }

23880 
	g≈ås
-=
off
; c⁄° 
T
 
	gnvÆ
 = *
≈ås
; i‡“vÆ>
	gcur
Ë{ cu∏
nvÆ
; 
	gis_fú°
 = 
åue
; } is_fú° = 
Ál£
;

23881 } { i‡(
	gvÆ
>=
cur
Ëcu∏
vÆ
; i‡(
	gcur
==*(
±rs
-
s
*
off
)Ë
is_fú°
 = 
åue
; }

23882 *(
	g±rd
++Ë
cur
;

23884 
	g±rd
 = 
±rde
; 
	g±rs
 = 
±r£
; 
	gcur
 = *
±rs
;Öås-=
off
;

23885 
	gp
 = 
s1
;Ö>0 && 
	g±rs
>=
±rsb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
;Öås-=
off
; i‡(vÆ>
	gcur
Ëcu∏
vÆ
; } *(
	g±rd
--Ë
cur
;

23886 
	gp
 = 
s2
-1;Ö>0 && 
	g±rd
>=
±rdb
; --pË{ c⁄° 
T
 
	gvÆ
 = *
±rs
; i‡(
	g±rs
>
	g±rsb
Ë±rs-=
off
; i‡(vÆ>
	gcur
Ëcu∏
vÆ
; *’åd--Ë
cur
; }

23887 
T
 *
	gpd
 = 
d©a
(
x
,
y
,0,
c
); 
cimg_f‹
(
buf
,
ps
,TË{ *pd = *ps;Öd+=
off
; }

23890  *
	gthis
;

23894 
	gCImg
<
	gT
> 
gë_dû©e
(c⁄° 
sx
, c⁄° 
sy
, c⁄° 
sz
=1) const {

23895  (+*
this
).
dû©e
(
sx
,
sy
,
sz
);

23902 
	gCImg
<
	gT
>& 
dû©e
(c⁄° 
s
) {

23903  
dû©e
(
s
,s,s);

23907 
	gCImg
<
	gT
> 
gë_dû©e
(c⁄° 
s
) const {

23908  (+*
	gthis
).
dû©e
(
s
);

23917 
	gãm∂©e
<
ty≥«me
 
	gt
>

23918 
	gCImg
<
	gT
>& 
w©îshed
(c⁄° 
CImg
<
t
>& 
¥i‹ôy
, c⁄° 
boﬁ
 
fûl_löes
=
åue
) {

23919 i‡(
is_em±y
()Ë *
this
;

23920 i‡(!
is_ßmeXYZ
(
¥i‹ôy
))

23921 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


23923 
cimg_ö°™˚
,
¥i‹ôy
.
_width
,¥i‹ôy.
_height
,¥i‹ôy.
_dïth
,¥i‹ôy.
_•e˘rum
,¥i‹ôy.
_d©a
);

23924 i‡(
	g_•e˘rum
!=1Ë{ 
cimg_f‹C
(*
this
,
c
Ë
gë_sh¨ed_ch™√l
(c).
w©îshed
(
¥i‹ôy
.gë_sh¨ed_ch™√l(c%¥i‹ôy.
_•e˘rum
),
fûl_löes
);  *
	gthis
; }

23926 
	gCImg
<
	gboﬁT
> 
is_queued
(
_width
,
_height
,
_dïth
,1,0);

23927 
	gCImg
<
ty≥«me
 
	gcimg
::
su≥r£t2
<
T
,
	gt
,>::
ty≥
> 
Q
;

23928 
	gsizeQ
 = 0;

23931 c⁄° 
T
 *
	g±rs
 = 
_d©a
;

23932 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
Ëi‡(*(
	g±rs
++)) {

23933 i‡(
	gx
-1>=0 && !(*
this
)(
x
-1,
	gy
,
	gz
)Ë
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(x-1,
y
,
z
),x-1,y,z);

23934 i‡(
	gx
+1<
width
(Ë&& !(*
	gthis
)(x+1,
	gy
,
	gz
)Ë
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
+1,
y
,
z
),x+1,y,z);

23935 i‡(
	gy
-1>=0 && !(*
this
)(
x
,y-1,
	gz
)Ë
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(x,
y
-1,
z
),x,y-1,z);

23936 i‡(
	gy
+1<
height
(Ë&& !(*
	gthis
)(
	gx
,y+1,
	gz
)Ë
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
+1,
z
),x,y+1,z);

23937 i‡(
	gz
-1>=0 && !(*
this
)(
x
,
	gy
,z-1)Ë
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(x,
y
,
z
-1),x,y,z-1);

23938 i‡(
	gz
+1<
dïth
(Ë&& !(*
	gthis
)(
	gx
,
	gy
,z+1)Ë
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
,
z
+1),x,y,z+1);

23942 
	gsizeQ
) {

23945 c⁄° 
	gx
 = ()
Q
(0,1), 
	gy
 = ()Q(0,2), 
	gz
 = ()Q(0,3);

23946 
	gQ
.
_¥i‹ôy_queue_ªmove
(
sizeQ
);

23949 
boﬁ
 
	gis_ßme_œbñ
 = 
åue
;

23950 
	gœbñ
 = 0;

23951 i‡(
	gx
-1>=0) {

23952 i‡((*
this
)(
x
-1,
y
,
z
)Ë{ i‡(!
œbñ
Ëœbñ = ()(*this)(x-1,
	gy
,
	gz
); i‡(
	gœbñ
!=(*this)(x-1,y,z)Ë
	gis_ßme_œbñ
 = 
Ál£
; }

23953 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
-1,
y
,
z
),x-1,y,z);

23955 i‡(
	gx
+1<
width
()) {

23956 i‡((*
	gthis
)(
	gx
+1,
	gy
,
	gz
)Ë{ i‡(!
	gœbñ
Ëœbñ = ()(*
this
)(
x
+1,y,z); i‡÷abñ!=(*this)(x+1,y,z)Ë
	gis_ßme_œbñ
 = 
Ál£
; }

23957 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
+1,
y
,
z
),x+1,y,z);

23959 i‡(
	gy
-1>=0) {

23960 i‡((*
this
)(
x
,
y
-1,
z
)Ë{ i‡(!
œbñ
Ëœbñ = ()(*this)(x,
	gy
-1,
	gz
); i‡(
	gœbñ
!=(*this)(x,y-1,z)Ë
	gis_ßme_œbñ
 = 
Ál£
; }

23961 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
-1,
z
),x,y-1,z);

23963 i‡(
	gy
+1<
height
()) {

23964 i‡((*
	gthis
)(
	gx
,
	gy
+1,
	gz
)Ë{ i‡(!
	gœbñ
Ëœbñ = ()(*
this
)(
x
,y+1,z); i‡÷abñ!=(*this)(x,y+1,z)Ë
	gis_ßme_œbñ
 = 
Ál£
; }

23965 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
+1,
z
),x,y+1,z);

23967 i‡(
	gz
-1>=0) {

23968 i‡((*
this
)(
x
,
y
,
z
-1)Ë{ i‡(!
œbñ
Ëœbñ = ()(*this)(x,
	gy
,
	gz
-1); i‡(
	gœbñ
!=(*this)(x,y,z-1)Ë
	gis_ßme_œbñ
 = 
Ál£
; }

23969 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
,
z
-1),x,y,z-1);

23971 i‡(
	gz
+1<
dïth
()) {

23972 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
+1)Ë{ i‡(!
	gœbñ
Ëœbñ = ()(*
this
)(
x
,y,z+1); i‡÷abñ!=(*this)(x,y,z+1)Ë
	gis_ßme_œbñ
 = 
Ál£
; }

23973 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
,
z
+1),x,y,z+1);

23975 i‡(
	gis_ßme_œbñ
Ë(*
	gthis
)(
	gx
,
	gy
,
	gz
Ë(
T
)
œbñ
;

23979 i‡(
	gfûl_löes
) {

23982 
	gis_queued
 = 
Ál£
;

23983 c⁄° 
T
 *
	g±rs
 = 
_d©a
;

23984 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
Ëi‡(!*(
	g±rs
++) &&

23985 ((
	gx
-1>=0 && (*
this
)(
x
-1,
	gy
,
	gz
)Ë|| (x+1<
width
(Ë&& (*
	gthis
)(x+1,y,z)) ||

23986 (
	gy
-1>=0 && (*
this
)(
x
,y-1,
	gz
)Ë|| (y+1<
height
(Ë&& (*
	gthis
)(
	gx
,y+1,z)) ||

23987 (
	gz
-1>=0 && (*
this
)(
x
,
	gy
,z-1)Ë|| (z+1>
dïth
(Ë&& (*
	gthis
)(
	gx
,y,z+1))))

23988 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
,
z
),x,y,z);

23991 
	gsizeQ
) {

23992 c⁄° 
	gx
 = ()
Q
(0,1), 
	gy
 = ()Q(0,2), 
	gz
 = ()Q(0,3);

23993 
	gQ
.
_¥i‹ôy_queue_ªmove
(
sizeQ
);

23994 
t
 
	gpmax
 = 
cimg
::
ty≥
<t>::
mö
();

23995 
	gxmax
 = 0, 
	gymax
 = 0, 
	gzmax
 = 0;

23996 i‡(
	gx
-1>=0) {

23997 i‡((*
this
)(
x
-1,
y
,
z
)Ë{ i‡(
¥i‹ôy
(x-1,y,z)>
pmax
Ë{Ömax =Öri‹ôy(x-1,y,z); 
	gxmax
 = x-1; 
	gymax
 = y; 
	gzmax
 = z; }}

23998 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
-1,
y
,
z
),x-1,y,z);

24000 i‡(
	gx
+1<
width
()) {

24001 i‡((*
	gthis
)(
	gx
+1,
	gy
,
	gz
)Ë{ i‡(
¥i‹ôy
(
x
+1,
y
,
z
)>
	gpmax
Ë{Ömax =Öri‹ôy(x+1,y,z); 
	gxmax
 = x+1; 
	gymax
 = y; 
	gzmax
 = z; }}

24002 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
+1,
y
,
z
),x+1,y,z);

24004 i‡(
	gy
-1>=0) {

24005 i‡((*
this
)(
x
,
y
-1,
z
)Ë{ i‡(
¥i‹ôy
(x,y-1,z)>
pmax
Ë{Ömax =Öri‹ôy(x,y-1,z); 
	gxmax
 = x; 
	gymax
 = y-1; 
	gzmax
 = z; }}

24006 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
-1,
z
),x,y-1,z);

24008 i‡(
	gy
+1<
height
()) {

24009 i‡((*
	gthis
)(
	gx
,
	gy
+1,
	gz
)Ë{ i‡(
¥i‹ôy
(
x
,
y
+1,
z
)>
	gpmax
Ë{Ömax =Öri‹ôy(x,y+1,z); 
	gxmax
 = x; 
	gymax
 = y+1; 
	gzmax
 = z; }}

24010 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
+1,
z
),x,y+1,z);

24012 i‡(
	gz
-1>=0) {

24013 i‡((*
this
)(
x
,
y
,
z
-1)Ë{ i‡(
¥i‹ôy
(x,y,z-1)>
pmax
Ë{Ömax =Öri‹ôy(x,y,z-1); 
	gxmax
 = x; 
	gymax
 = y; 
	gzmax
 = z-1; }}

24014 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
,
z
-1),x,y,z-1);

24016 i‡(
	gz
+1<
dïth
()) {

24017 i‡((*
	gthis
)(
	gx
,
	gy
,
	gz
+1)Ë{ i‡(
¥i‹ôy
(
x
,
y
,
z
+1)>
	gpmax
Ë{Ömax =Öri‹ôy(x,y,z+1); 
	gxmax
 = x; 
	gymax
 = y; 
	gzmax
 = z+1; }}

24018 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,
¥i‹ôy
(
x
,
y
,
z
+1),x,y,z+1);

24020 (*
	gthis
)(
	gx
,
	gy
,
	gz
Ë(*
this
)(
xmax
,
	gymax
,
	gzmax
);

24023  *
	gthis
;

24027 
	gãm∂©e
<
ty≥«me
 
	gt
>

24028 
	gCImg
<
	gT
> 
gë_w©îshed
(c⁄° 
CImg
<
t
>& 
¥i‹ôy
, c⁄° 
boﬁ
 
fûl_löes
=
åue
) const {

24029  (+*
this
).
w©îshed
(
¥i‹ôy
,
fûl_löes
);

24033 
	gãm∂©e
<
ty≥«me
 
	gt
>

24034 
boﬁ
 
_¥i‹ôy_queue_ö£π
(
CImg
<
boﬁT
>& 
is_queued
, & 
siz
, c⁄° 
t
 
vÆue
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
) {

24035 i‡(
is_queued
(
x
,
y
,
z
)Ë 
	gÁl£
;

24036 
is_queued
(
x
,
y
,
z
Ë
åue
;

24037 i‡(++
	gsiz
>=
_width
Ë{ i‡(!
is_em±y
()Ë
ªsize
(_width*2,4,1,1,0); 
assign
(64,4); }

24038 (*
	gthis
)(
	gsiz
-1,0Ë(
T
)
vÆue
; (*this)(siz-1,1Ë(T)
x
; (*this)(siz-1,2Ë(T)
y
; (*this)(siz-1,3Ë(T)
z
;

24039 
	gpos
 = 
siz
 - 1, 
	g∑r
 = 0;Öo†&& 
	gvÆue
>(*
	gthis
)’¨=(
pos
+1)/2-1,0);Öo†
∑r
) {

24040 
cimg
::
sw≠
((*
this
)(
pos
,0),(*this)(
∑r
,0)); 
	gcimg
::swap((*this)(pos,1),(*this)(par,1));

24041 
	gcimg
::
sw≠
((*
this
)(
pos
,2),(*this)(
∑r
,2)); cimg::swap((*this)(pos,3),(*this)(par,3));

24043  
	gåue
;

24046 
	gCImg
<
	gT
>& 
_¥i‹ôy_queue_ªmove
(& 
siz
) {

24047 (*
	gthis
)(0,0Ë(*
this
)(--
siz
,0); (*this)(0,1) = (*this)(siz,1); (*this)(0,2) = (*this)(siz,2); (*this)(0,3) = (*this)(siz,3);

24048 c⁄° 
	gvÆue
 = (*
this
)(0,0);

24049 
	gpos
 = 0, 
	gÀ·
 = 0, 
	gright
 = 0;

24050 ((
	gright
=2*(
pos
+1),(
	gÀ·
=
right
-1))<
siz
 && 
vÆue
<(*
this
)(
À·
,0)Ë|| (right<
	gsiz
 && 
	gvÆue
<(*
	gthis
)(right,0));) {

24051 i‡(
	gright
<
	gsiz
) {

24052 i‡((*
	gthis
)(
	gÀ·
,0)>(*this)(
	gright
,0)) {

24053 
	gcimg
::
sw≠
((*
this
)(
pos
,0),(*this)(
À·
,0)); cimg::swap((*this)(pos,1),(*this)(left,1));

24054 
	gcimg
::
sw≠
((*
this
)(
pos
,2),(*this)(
À·
,2)); cimg::swap((*this)(pos,3),(*this)(left,3));

24055 
	gpos
 = 
À·
;

24057 
	gcimg
::
sw≠
((*
this
)(
pos
,0),(*this)(
right
,0)); cimg::swap((*this)(pos,1),(*this)(right,1));

24058 
	gcimg
::
sw≠
((*
this
)(
pos
,2),(*this)(
right
,2)); cimg::swap((*this)(pos,3),(*this)(right,3));

24059 
	gpos
 = 
right
;

24062 
	gcimg
::
sw≠
((*
this
)(
pos
,0),(*this)(
À·
,0)); cimg::swap((*this)(pos,1),(*this)(left,1));

24063 
	gcimg
::
sw≠
((*
this
)(
pos
,2),(*this)(
À·
,2)); cimg::swap((*this)(pos,3),(*this)(left,3));

24064 
	gpos
 = 
À·
;

24067  *
	gthis
;

24077 
	gCImg
<
	gT
>& 
dîiche
(c⁄° 
sigma
, c⁄° 
‹dî
=0, c⁄° 
axis
='x', c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
åue
) {

24078 
	#_cimg_dîiche_≠∂y
 \

24079 
TÊﬂt
 *
±rY
 = 
Y
.
_d©a
, 
yb
 = 0, 
yp
 = 0; \

24080 
T
 
xp
 = (T)0; \

24081 i‡(
bound¨y_c⁄dôi⁄s
Ë{ 
xp
 = *
±rX
; 
yb
 = 
yp
 = (
TÊﬂt
)(
c€Â
*xp); } \

24082 
m
 = 0; m<
N
; ++m) { \

24083 c⁄° 
T
 
xc
 = *
±rX
;ÖåX+=
off
; \

24084 c⁄° 
TÊﬂt
 
yc
 = *(
±rY
++Ë(TÊﬂt)(
a0
*
xc
 + 
a1
*
xp
 - 
b1
*
yp
 - 
b2
*
yb
); \

24085 
xp
 = 
xc
; 
yb
 = 
yp
; y∞
yc
; \

24087 
T
 
xn
 = (T)0, 
xa
 = (T)0; \

24088 
TÊﬂt
 
yn
 = 0, 
ya
 = 0; \

24089 i‡(
bound¨y_c⁄dôi⁄s
Ë{ 
xn
 = 
xa
 = *(
±rX
-
off
); 
yn
 = 
ya
 = (
TÊﬂt
)
c€‚
*xn; } \

24090 
n
 = 
N
-1;Ç>=0; --n) { \

24091 c⁄° 
T
 
xc
 = *(
±rX
-=
off
); \

24092 c⁄° 
TÊﬂt
 
yc
 = (TÊﬂt)(
a2
*
xn
 + 
a3
*
xa
 - 
b1
*
yn
 - 
b2
*
ya
); \

24093 
xa
 = 
xn
; x¿
xc
; 
ya
 = 
yn
; y¿
yc
; \

24094 *
±rX
 = (
T
)(*(--
±rY
)+
yc
); \

24095 }

	)

24096 c⁄° 
	g«xis
 = 
cimg
::
unˇ£
(
axis
);

24097 c⁄° 
	gnsigma
 = 
sigma
>=0?sigma:-sigma*(
«xis
=='x'?
_width
:«xis=='y'?
_height
:«xis=='z'?
_dïth
:
_•e˘rum
)/100;

24098 i‡(
is_em±y
(Ë|| (
	gnsigma
<0.1‡&& !
	g‹dî
)Ë *
	gthis
;

24100 
	g¬sigma
 = 
nsigma
<0.1f?0.1f:nsigma,

24101 
	gÆpha
 = 1.695f/
¬sigma
,

24102 
	gema
 = ()
°d
::
exp
(-
Æpha
),

24103 
	gema2
 = ()
°d
::
exp
(-2*
Æpha
),

24104 
	gb1
 = -2*
ema
,

24105 
	gb2
 = 
ema2
;

24106 
	ga0
 = 0, 
	ga1
 = 0, 
	ga2
 = 0, 
	ga3
 = 0, 
	gc€Â
 = 0, 
	gc€‚
 = 0;

24107 
	g‹dî
) {

24109 c⁄° 
k
 = (1-
ema
)*(1-ema)/(1+2*
Æpha
*ema-
ema2
);

24110 
	ga0
 = 
k
;

24111 
	ga1
 = 
k
*(
Æpha
-1)*
ema
;

24112 
	ga2
 = 
k
*(
Æpha
+1)*
ema
;

24113 
	ga3
 = -
k
*
ema2
;

24116 c⁄° 
k
 = -(1-
ema
)*(1-ema)*(1-ema)/(2*(ema+1)*ema);

24117 
	ga0
 = 
a3
 = 0;

24118 
	ga1
 = 
k
*
ema
;

24119 
	ga2
 = -
a1
;

24123 
ó
 = ()
°d
::
exp
(-
Æpha
),

24124 
	gk
 = -(
ema2
-1)/(2*
Æpha
*
ema
),

24125 
	gkn
 = (-2*(-1+3*
ó
-3*ea*ea+ea*ea*ea)/(3*ea+1+3*ea*ea+ea*ea*ea));

24126 
	ga0
 = 
kn
;

24127 
	ga1
 = -
kn
*(1+
k
*
Æpha
)*
ema
;

24128 
	ga2
 = 
kn
*(1-
k
*
Æpha
)*
ema
;

24129 
	ga3
 = -
kn
*
ema2
;

24132 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


24135 
cimg_ö°™˚
,

24136 
‹dî
);

24138 
	gc€Â
 = (
a0
+
a1
)/(1+
b1
+
b2
);

24139 
	gc€‚
 = (
a2
+
a3
)/(1+
b1
+
b2
);

24140 
	g«xis
) {

24142 c⁄° 
N
 = 
_width
;

24143 c⁄° 
	goff
 = 1U;

24144 
	gCImg
<
	gTÊﬂt
> 
Y
(
N
);

24145 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
Ë{ 
T
 *
	g±rX
 = 
d©a
(0,y,z,c); 
	g_cimg_dîiche_≠∂y
; }

24148 c⁄° 
N
 = 
_height
;

24149 c⁄° 
	goff
 = ()
_width
;

24150 
	gCImg
<
	gTÊﬂt
> 
Y
(
N
);

24151 
cimg_f‹XZC
(*
this
,
x
,
z
,
c
Ë{ 
T
 *
	g±rX
 = 
d©a
(x,0,z,c); 
	g_cimg_dîiche_≠∂y
; }

24154 c⁄° 
N
 = 
_dïth
;

24155 c⁄° 
	goff
 = ()
_width
*
_height
;

24156 
	gCImg
<
	gTÊﬂt
> 
Y
(
N
);

24157 
cimg_f‹XYC
(*
this
,
x
,
y
,
c
Ë{ 
T
 *
	g±rX
 = 
d©a
(x,y,0,c); 
	g_cimg_dîiche_≠∂y
; }

24160 c⁄° 
N
 = 
_•e˘rum
;

24161 c⁄° 
	goff
 = ()
_width
*
_height
*
_dïth
;

24162 
	gCImg
<
	gTÊﬂt
> 
Y
(
N
);

24163 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
Ë{ 
T
 *
	g±rX
 = 
d©a
(x,y,z,0); 
	g_cimg_dîiche_≠∂y
; }

24166  *
	gthis
;

24170 
	gCImg
<
	gTÊﬂt
> 
gë_dîiche
(c⁄° 
sigma
, c⁄° 
‹dî
=0, c⁄° 
axis
='x', c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
åue
) const {

24171  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
dîiche
(
sigma
,
‹dî
,
axis
,
bound¨y_c⁄dôi⁄s
);

24185 
	gãm∂©e
 <
	gK
>

24186 
_cimg_ªcursive_≠∂y
(
T
 *
d©a
, c⁄° 
TÊﬂt
 
fûãr
[], c⁄° 
N
, c⁄° 
off
, c⁄° 
‹dî
, c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
) {

24187 
TÊﬂt
 
	gvÆ
[
K
];

24188 
	g‹dî
) {

24190 
∑ss
 = 0; 
	g∑ss
<2; ++pass) {

24191 
	gk
 = 1; k<
	gK
; ++kË
	gvÆ
[
k
] = (
TÊﬂt
)(
bound¨y_c⁄dôi⁄s
?*
d©a
:0);

24192 
	gn
 = 0;Ç<
	gN
; ++n) {

24193 
	gvÆ
[0] = (
TÊﬂt
)(*
d©a
)*
fûãr
[0];

24194 
	gk
 = 1; k<
	gK
; ++kË
	gvÆ
[0]+=
vÆ
[
k
]*
fûãr
[k];

24195 *
	gd©a
 = (
T
)
vÆ
[0];

24196 i‡(!
	g∑ss
Ë
	gd©a
+=
off
; data-=off;

24197 
	gk
 = 
K
-1; k>0; --kË
	gvÆ
[
k
] = 
vÆ
[k-1];

24199 i‡(!
	g∑ss
Ë
	gd©a
-=
off
;

24203 
TÊﬂt
 
x
[3];

24204 
	g∑ss
 = 0;Öass<2; ++pass) {

24205 
	gk
 = 0; k<3; ++kË
	gx
[
k
] = (
TÊﬂt
)(
bound¨y_c⁄dôi⁄s
?*
d©a
:0);

24206 
	gk
 = 0; k<
	gK
; ++kË
	gvÆ
[
k
] = 0;

24207 
	gn
 = 0;Ç<
	gN
-1; ++n) {

24208 i‡(!
	g∑ss
) {

24209 
	gx
[0] = (
TÊﬂt
)*(
d©a
+
off
);

24210 
	gvÆ
[0] = 0.5‡* (
x
[0] - x[2])*
fûãr
[0];

24211 } 
	gvÆ
[0] = (
TÊﬂt
)(*
d©a
)*
fûãr
[0];

24212 
	gk
 = 1; k<
	gK
; ++kË
	gvÆ
[0]+=
vÆ
[
k
]*
fûãr
[k];

24213 *
	gd©a
 = (
T
)
vÆ
[0];

24214 i‡(!
	g∑ss
) {

24215 
	gd©a
+=
off
;

24216 
	gk
 = 2; k>0; --kË
	gx
[
k
] = 
x
[k-1];

24217 } 
	gd©a
-=
off
;

24218 
	gk
 = 
K
-1; k>0; --kË
	gvÆ
[
k
] = 
vÆ
[k-1];

24220 *
	gd©a
 = (
T
)0;

24224 
TÊﬂt
 
x
[3];

24225 
	g∑ss
 = 0;Öass<2; ++pass) {

24226 
	gk
 = 0; k<3; ++kË
	gx
[
k
] = (
TÊﬂt
)(
bound¨y_c⁄dôi⁄s
?*
d©a
:0);

24227 
	gk
 = 0; k<
	gK
; ++kË
	gvÆ
[
k
] = 0;

24228 
	gn
 = 0;Ç<
	gN
-1; ++n) {

24229 i‡(!
	g∑ss
Ë{ 
	gx
[0] = (
TÊﬂt
)*(
d©a
+
off
); 
	gvÆ
[0] = (
x
[1] - x[2])*
fûãr
[0]; }

24230 { 
	gx
[0] = (
TÊﬂt
)*(
d©a
-
off
); 
	gvÆ
[0] = (
x
[2] - x[1])*
fûãr
[0]; }

24231 
	gk
 = 1; k<
	gK
; ++kË
	gvÆ
[0]+=
vÆ
[
k
]*
fûãr
[k];

24232 *
	gd©a
 = (
T
)
vÆ
[0];

24233 i‡(!
	g∑ss
Ë
	gd©a
+=
off
; data-=off;

24234 
	gk
 = 2; k>0; --kË
	gx
[
k
] = 
x
[k-1];

24235 
	gk
 = 
K
-1; k>0; --kË
	gvÆ
[
k
] = 
vÆ
[k-1];

24237 *
	gd©a
 = (
T
)0;

24241 
TÊﬂt
 
x
[3];

24242 
	g∑ss
 = 0;Öass<2; ++pass) {

24243 
	gk
 = 0; k<3; ++kË
	gx
[
k
] = (
TÊﬂt
)(
bound¨y_c⁄dôi⁄s
?*
d©a
:0);

24244 
	gk
 = 0; k<
	gK
; ++kË
	gvÆ
[
k
] = 0;

24245 
	gn
 = 0;Ç<
	gN
-1; ++n) {

24246 i‡(!
	g∑ss
Ë{ 
	gx
[0] = (
TÊﬂt
)*(
d©a
+
off
); 
	gvÆ
[0] = (
x
[0] - 2*x[1] + x[2])*
fûãr
[0]; }

24247 { 
	gx
[0] = (
TÊﬂt
)*(
d©a
-
off
); 
	gvÆ
[0] = 0.5f*(
x
[2] - x[0])*
fûãr
[0]; }

24248 
	gk
 = 1; k<
	gK
; ++kË
	gvÆ
[0]+=
vÆ
[
k
]*
fûãr
[k];

24249 *
	gd©a
 = (
T
)
vÆ
[0];

24250 i‡(!
	g∑ss
Ë
	gd©a
+=
off
; data-=off;

24251 
	gk
 = 2; k>0; --kË
	gx
[
k
] = 
x
[k-1];

24252 
	gk
 = 
K
-1; k>0; --kË
	gvÆ
[
k
] = 
vÆ
[k-1];

24254 *
	gd©a
 = (
T
)0;

24272 
	gCImg
<
	gT
>& 
v™vlõt
(c⁄° 
sigma
, c⁄° 
‹dî
, c⁄° 
axis
='x', c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
åue
) {

24273 i‡(
is_em±y
()Ë *
this
;

24274 c⁄° 
	g«xis
 = 
cimg
::
unˇ£
(
axis
);

24275 c⁄° 
	gnsigma
 = 
sigma
>=0?sigma:-sigma*(
«xis
=='x'?
_width
:«xis=='y'?
_height
:«xis=='z'?
_dïth
:
_•e˘rum
)/100;

24276 i‡(
is_em±y
(Ë|| (
	gnsigma
<0.1‡&& !
	g‹dî
)Ë *
	gthis
;

24277 c⁄° 
TÊﬂt


24278 
	g¬sigma
 = 
nsigma
<0.1f?0.1f:nsigma,

24279 
	gq
 = (
TÊﬂt
)(
¬sigma
<2.5?3.97156-4.14554*
°d
::
sqπ
(1-0.2689*nnsigma):0.98711*nnsigma-0.96330),

24280 
	gb0
 = 1.57825‡+ 2.44413f*
q
 + 1.4281f*q*q + 0.4222205f*q*q*q,

24281 
	gb1
 = (2.44413f*
q
 + 2.85619f*q*q + 1.26661f*q*q*q),

24282 
	gb2
 = -(1.4281f*
q
*q + 1.26661f*q*q*q),

24283 
	gb3
 = 0.4222205f*
q
*q*q,

24284 
	gB
 = 1.‡- (
b1
 + 
b2
 + 
b3
)/
b0
;

24285 
TÊﬂt
 
	gfûãr
[4];

24286 
	gfûãr
[0] = 
B
; fûãr[1] = 
b1
/
b0
; fûãr[2] = 
b2
/b0; fûãr[3] = 
b3
/b0;

24288 
	g«xis
) {

24290 #ifde‡
cimg_u£_›ímp


24291 #¥agm®
omp
 
∑øŒñ
 
cﬁœp£
(3)

24293 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
Ë
	g_cimg_ªcursive_≠∂y
<4>(
d©a
(0,y,z,c),
	gfûãr
,
	g_width
,1U,
	g‹dî
,
	gbound¨y_c⁄dôi⁄s
);

24296 #ifde‡
cimg_u£_›ímp


24297 #¥agm®
omp
 
∑øŒñ
 
cﬁœp£
(3)

24299 
cimg_f‹XZC
(*
this
,
x
,
z
,
c
Ë
	g_cimg_ªcursive_≠∂y
<4>(
d©a
(x,0,z,c),
	gfûãr
,
	g_height
,()
	g_width
,
	g‹dî
,
	gbound¨y_c⁄dôi⁄s
);

24302 #ifde‡
cimg_u£_›ímp


24303 #¥agm®
omp
 
∑øŒñ
 
cﬁœp£
(3)

24305 
cimg_f‹XYC
(*
this
,
x
,
y
,
c
Ë
	g_cimg_ªcursive_≠∂y
<4>(
d©a
(x,y,0,c),
	gfûãr
,
	g_dïth
,()(
_width
*
	g_height
),
	g‹dî
,
	gbound¨y_c⁄dôi⁄s
);

24308 #ifde‡
cimg_u£_›ímp


24309 #¥agm®
omp
 
∑øŒñ
 
cﬁœp£
(3)

24311 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
Ë
	g_cimg_ªcursive_≠∂y
<4>(
d©a
(x,y,z,0),
	gfûãr
,
	g_•e˘rum
,()(
_width
*
_height
*
	g_dïth
),
	g‹dî
,
	gbound¨y_c⁄dôi⁄s
);

24314  *
	gthis
;

24318 
	gCImg
<
	gTÊﬂt
> 
gë_v™vlõt
(c⁄° 
sigma
, c⁄° 
‹dî
, c⁄° 
axis
='x', c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
åue
) const {

24319  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
v™vlõt
(
sigma
,
‹dî
,
axis
,
bound¨y_c⁄dôi⁄s
);

24334 
	gCImg
<
	gT
>& 
blur
(c⁄° 
sigma_x
, c⁄° 
sigma_y
, c⁄° 
sigma_z
,

24335 c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
åue
, c⁄° boﬁ 
is_gaussün
=
Ál£
) {

24336 i‡(!
is_em±y
()) {

24337 i‡(
is_gaussün
) {

24338 i‡(
_width
>1Ë
v™vlõt
(
sigma_x
,0,'x',
bound¨y_c⁄dôi⁄s
);

24339 i‡(
	g_height
>1Ë
v™vlõt
(
sigma_y
,0,'y',
bound¨y_c⁄dôi⁄s
);

24340 i‡(
	g_dïth
>1Ë
v™vlõt
(
sigma_z
,0,'z',
bound¨y_c⁄dôi⁄s
);

24342 i‡(
	g_width
>1Ë
dîiche
(
sigma_x
,0,'x',
bound¨y_c⁄dôi⁄s
);

24343 i‡(
	g_height
>1Ë
dîiche
(
sigma_y
,0,'y',
bound¨y_c⁄dôi⁄s
);

24344 i‡(
	g_dïth
>1Ë
dîiche
(
sigma_z
,0,'z',
bound¨y_c⁄dôi⁄s
);

24347  *
	gthis
;

24351 
	gCImg
<
	gTÊﬂt
> 
gë_blur
(c⁄° 
sigma_x
, c⁄° 
sigma_y
, c⁄° 
sigma_z
,

24352 c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
åue
, c⁄° boﬁ 
is_gaussün
=
Ál£
) const {

24353  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
blur
(
sigma_x
,
sigma_y
,
sigma_z
,
bound¨y_c⁄dôi⁄s
,
is_gaussün
);

24362 
	gCImg
<
	gT
>& 
blur
(c⁄° 
sigma
, c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
åue
, c⁄° boﬁ 
is_gaussün
=
Ál£
) {

24363 c⁄° 
nsigma
 = 
sigma
>=0?sigma:-sigma*
cimg
::
max
(
_width
,
_height
,
_dïth
)/100;

24364  
blur
(
nsigma
,nsigma,nsigma,
bound¨y_c⁄dôi⁄s
,
is_gaussün
);

24368 
	gCImg
<
	gTÊﬂt
> 
gë_blur
(c⁄° 
sigma
, c⁄° 
boﬁ
 
bound¨y_c⁄dôi⁄s
=
åue
, c⁄° boﬁ 
is_gaussün
=
Ál£
) const {

24369  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
blur
(
sigma
,
bound¨y_c⁄dôi⁄s
,
is_gaussün
);

24382 
	gãm∂©e
<
ty≥«me
 
	gt
>

24383 
	gCImg
<
	gT
>& 
blur_™isŸr›ic
(c⁄° 
CImg
<
t
>& 
G
,

24384 c⁄° 
am∂ôude
=60, c⁄° 
dl
=0.8f, c⁄° 
da
=30,

24385 c⁄° 
gauss_¥ec
=2, c⁄° 
öãΩﬁ©i⁄_ty≥
=0,

24386 c⁄° 
boﬁ
 
is_Á°_≠¥ox
=1) {

24389 i‡(!
is_ßmeXYZ
(
G
Ë|| (G.
_•e˘rum
!=3 && G._spectrum!=6))

24390 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


24392 
cimg_ö°™˚
,

24393 
G
.
_width
,G.
_height
,G.
_dïth
,G.
_•e˘rum
,G.
_d©a
);

24395 i‡(
is_em±y
(Ë|| 
	gam∂ôude
<=0 || 
dl
<0Ë *
this
;

24396 c⁄° 
boﬁ
 
	gis_3d
 = (
G
.
_•e˘rum
==6);

24397 
T
 
	gvÆ_mö
, 
	gvÆ_max
 = 
max_mö
(
vÆ_mö
);

24399 i‡(
	gda
<=0) {

24400 
CImg
<
TÊﬂt
> 
vñocôy
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

24401 
	gôî©i⁄
 = 0; iãøti⁄<()
	gam∂ôude
; ++iteration) {

24402 
TÊﬂt
 *
	g±rd
 = 
vñocôy
.
_d©a
, 
	gvñoc_max
 = 0;

24403 i‡(
	gis_3d
) {

24404 
CImg_3x3x3
(
I
,
TÊﬂt
);

24405 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
) {

24406 c⁄° 
TÊﬂt


24407 
	gixx
 = 
Incc
 + 
Ipcc
 - 2*
Iccc
,

24408 
	gixy
 = (
I¬c
 + 
Iµc
 - 
I≈c
 - 
I≤c
)/4,

24409 
	gixz
 = (
In˙
 + 
Ip˝
 - 
In˝
 - 
Ip˙
)/4,

24410 
	giyy
 = 
I˙c
 + 
I˝c
 - 2*
Iccc
,

24411 
	giyz
 = (
I˙n
 + 
I˝p
 - 
I˙p
 - 
I˝n
)/4,

24412 
	gizz
 = 
Ic˙
 + 
Ic˝
 - 2*
Iccc
,

24413 
	gvñoc
 = (
TÊﬂt
)(
G
(
x
,
y
,
z
,0)*
	gixx
 + 2*G(x,y,z,1)*
	gixy
 + 2*G(x,y,z,2)*
	gixz
 + G(x,y,z,3)*
	giyy
 + 2*G(x,y,z,4)*
	giyz
 + G(x,y,z,5)*
	gizz
);

24414 *(
	g±rd
++Ë
vñoc
;

24415 i‡(
	gvñoc
>
	gvñoc_max
Ëvñoc_max = 
vñoc
; if (-veloc>veloc_max) veloc_max = -veloc;

24418 
CImg_3x3
(
I
,
TÊﬂt
);

24419 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
) {

24420 c⁄° 
TÊﬂt


24421 
	gixx
 = 
Inc
 + 
Ipc
 - 2*
Icc
,

24422 
	gixy
 = (
I¬
 + 
Iµ
 - 
I≈
 - 
I≤
)/4,

24423 
	giyy
 = 
I˙
 + 
I˝
 - 2*
Icc
,

24424 
	gvñoc
 = (
TÊﬂt
)(
G
(
x
,
y
,0,0)*
	gixx
 + 2*G(x,y,0,1)*
	gixy
 + G(x,y,0,2)*
	giyy
);

24425 *(
	g±rd
++Ë
vñoc
;

24426 i‡(
	gvñoc
>
	gvñoc_max
Ëvñoc_max = 
vñoc
; if (-veloc>veloc_max) veloc_max = -veloc;

24429 i‡(
	gvñoc_max
>0Ë*
	gthis
+=(
vñocôy
*=
dl
/
vñoc_max
);

24432 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

24433 c⁄° 
	gsqπ2am∂ôude
 = ()
°d
::
sqπ
(2*
am∂ôude
);

24434 c⁄° 
	gdx1
 = 
width
(Ë- 1, 
	gdy1
 = 
height
(Ë- 1, 
	gdz1
 = 
dïth
() - 1;

24435 
	gCImg
<
	gTÊﬂt
> 
ªs
(
_width
,
_height
,
_dïth
,
_•e˘rum
,0), 
W
(_width,_height,_dïth,
is_3d
?4:3), 
vÆ
(_spectrum);

24436 
	gN
 = 0;

24437 i‡(
	gis_3d
) {

24438 
	gphi
 = (180%()
da
)/2.0f;Öhi<=180;Öhi+=da) {

24439 c⁄° 
phú
 = ()(
phi
*
cimg
::
PI
/180), 
	gd©mp
 = ()(
da
/
°d
::
cos
’hú)), 
	gda2
 = 
d©mp
<1?360.0f:datmp;

24440 
	gthëa
 = 0;Åhëa<360; (thëa+=
da2
),++
	gN
) {

24442 
	gthë¨
 = ()(
thëa
*
cimg
::
PI
/180),

24443 
	gvx
 = ()(
°d
::
cos
(
thë¨
)*°d::cos(
phú
)),

24444 
	gvy
 = ()(
°d
::
sö
(
thë¨
)*°d::
cos
(
phú
)),

24445 
	gvz
 = ()
°d
::
sö
(
phú
);

24446 c⁄° 
t


24447 *
	g∑
 = 
G
.
d©a
(0,0,0,0), *
	gpb
 = G.d©a(0,0,0,1), *
	gpc
 = G.data(0,0,0,2),

24448 *
	gpd
 = 
G
.
d©a
(0,0,0,3), *
	g≥
 = G.d©a(0,0,0,4), *
	gpf
 = G.data(0,0,0,5);

24449 
TÊﬂt
 *
	gpd0
 = 
W
.
d©a
(0,0,0,0), *
	gpd1
 = W.d©a(0,0,0,1), *
	gpd2
 = W.d©a(0,0,0,2), *
	gpd3
 = W.data(0,0,0,3);

24450 
cimg_f‹XYZ
(
G
,
xg
,
yg
,
zg
) {

24451 c⁄° 
t
 
	ga
 = *(
∑
++), 
	gb
 = *(
pb
++), 
	gc
 = *(
pc
++), 
	gd
 = *(
pd
++), 
	ge
 = *(
≥
++), 
	gf
 = *(
pf
++);

24453 
	gu
 = ()(
a
*
vx
 + 
b
*
vy
 + 
c
*
vz
),

24454 
	gv
 = ()(
b
*
vx
 + 
d
*
vy
 + 
e
*
vz
),

24455 
	gw
 = ()(
c
*
vx
 + 
e
*
vy
 + 
f
*
vz
),

24456 
	gn
 = ()
°d
::
sqπ
(1e-5+
u
*u+
v
*v+
w
*w),

24457 
	gd 
 = 
dl
/
n
;

24458 *(
	gpd0
++Ë(
TÊﬂt
)(
u
*
d 
);

24459 *(
	gpd1
++Ë(
TÊﬂt
)(
v
*
d 
);

24460 *(
	gpd2
++Ë(
TÊﬂt
)(
w
*
d 
);

24461 *(
	gpd3
++Ë(
TÊﬂt
)
n
;

24464 
TÊﬂt
 *
	g±rd
 = 
ªs
.
_d©a
;

24465 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

24466 
	gvÆ
.
fûl
(0);

24468 
	gn
 = ()
W
(
x
,
y
,
z
,3),

24469 
	gfsigma
 = ()(
n
*
sqπ2am∂ôude
),

24470 
	gfsigma2
 = 2*
fsigma
*fsigma,

24471 
	gÀngth
 = 
gauss_¥ec
*
fsigma
;

24473 
	gS
 = 0,

24474 
	gX
 = ()
x
,

24475 
	gY
 = ()
y
,

24476 
	gZ
 = ()
z
;

24477 
	göãΩﬁ©i⁄_ty≥
) {

24479 
l
 = 0; 
	gl
<
	gÀngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
 && 
Z
>=0 && Z<=
dz1
;Ü+=
dl
) {

24481 
cx
 = ()(
X
+0.5f),

24482 
	gcy
 = ()(
Y
+0.5f),

24483 
	gcz
 = ()(
Z
+0.5f);

24485 
	gu
 = ()
W
(
cx
,
cy
,
cz
,0),

24486 
	gv
 = ()
W
(
cx
,
cy
,
cz
,1),

24487 
	gw
 = ()
W
(
cx
,
cy
,
cz
,2);

24488 i‡(
	gis_Á°_≠¥ox
Ë{ 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)(*this)(
cx
,
	gcy
,
	gcz
,
	gc
); ++
	gS
; }

24490 c⁄° 
	gc€f
 = ()
°d
::
exp
(-
l
*l/
fsigma2
);

24491 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)(
c€f
*(*this)(
cx
,
	gcy
,
	gcz
,
	gc
));

24492 
	gS
+=
c€f
;

24494 
	gX
+=
u
; 
	gY
+=
v
; 
	gZ
+=
w
;

24498 
l
 = 0; 
	gl
<
	gÀngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
 && 
Z
>=0 && Z<=
dz1
;Ü+=
dl
) {

24500 
u
 = ()(
W
.
_löór_©XYZ
(
X
,
Y
,
Z
,0)),

24501 
	gv
 = ()(
W
.
_löór_©XYZ
(
X
,
Y
,
Z
,1)),

24502 
	gw
 = ()(
W
.
_löór_©XYZ
(
X
,
Y
,
Z
,2));

24503 i‡(
	gis_Á°_≠¥ox
Ë{ 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)
_löór_©XYZ
(
X
,
Y
,
Z
,c); ++
	gS
; }

24505 c⁄° 
	gc€f
 = ()
°d
::
exp
(-
l
*l/
fsigma2
);

24506 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)(
c€f
*
_löór_©XYZ
(
X
,
Y
,
Z
,c));

24507 
	gS
+=
c€f
;

24509 
	gX
+=
u
; 
	gY
+=
v
; 
	gZ
+=
w
;

24513 
l
 = 0; 
	gl
<
	gÀngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
 && 
Z
>=0 && Z<=
dz1
;Ü+=
dl
) {

24515 
u0
 = ()(0.5f*
W
.
_löór_©XYZ
(
X
,
Y
,
Z
,0)),

24516 
	gv0
 = ()(0.5f*
W
.
_löór_©XYZ
(
X
,
Y
,
Z
,1)),

24517 
	gw0
 = ()(0.5f*
W
.
_löór_©XYZ
(
X
,
Y
,
Z
,2)),

24518 
	gu
 = ()(
W
.
_löór_©XYZ
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,0)),

24519 
	gv
 = ()(
W
.
_löór_©XYZ
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,1)),

24520 
	gw
 = ()(
W
.
_löór_©XYZ
(
X
+
u0
,
Y
+
v0
,
Z
+
w0
,2));

24521 i‡(
	gis_Á°_≠¥ox
Ë{ 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)
_löór_©XYZ
(
X
,
Y
,
Z
,c); ++
	gS
; }

24523 c⁄° 
	gc€f
 = ()
°d
::
exp
(-
l
*l/
fsigma2
);

24524 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)(
c€f
*
_löór_©XYZ
(
X
,
Y
,
Z
,c));

24525 
	gS
+=
c€f
;

24527 
	gX
+=
u
; 
	gY
+=
v
; 
	gZ
+=
w
;

24531 
TÊﬂt
 *
	g_±rd
 = 
±rd
++;

24532 i‡(
	gS
>0Ë
cimg_f‹C
(
ªs
,
c
Ë{ *
	g_±rd
+=
vÆ
[c]/
S
; _±rd+=
whd
; }

24533 
cimg_f‹C
(
ªs
,
c
Ë{ *
	g_±rd
+=(
TÊﬂt
)((*
this
)(
x
,
	gy
,
	gz
,
	gc
)); _±rd+=
whd
; }

24538 
	gthëa
 = (360%()
da
)/2.0f;Åhëa<360; (thëa+=da),++
	gN
) {

24539 c⁄° 
	gthë¨
 = ()(
thëa
*
cimg
::
PI
/180), 
	gvx
 = ()(
°d
::
cos
(
thë¨
)), 
	gvy
 = ()(°d::
sö
(thetar));

24540 c⁄° 
t
 *
	g∑
 = 
G
.
d©a
(0,0,0,0), *
	gpb
 = G.d©a(0,0,0,1), *
	gpc
 = G.data(0,0,0,2);

24541 
TÊﬂt
 *
	gpd0
 = 
W
.
d©a
(0,0,0,0), *
	gpd1
 = W.d©a(0,0,0,1), *
	gpd2
 = W.data(0,0,0,2);

24542 
cimg_f‹XY
(
G
,
xg
,
yg
) {

24543 c⁄° 
t
 
	ga
 = *(
∑
++), 
	gb
 = *(
pb
++), 
	gc
 = *(
pc
++);

24545 
	gu
 = ()(
a
*
vx
 + 
b
*
vy
),

24546 
	gv
 = ()(
b
*
vx
 + 
c
*
vy
),

24547 
	gn
 = ()
°d
::
sqπ
(1e-5+
u
*u+
v
*v),

24548 
	gd 
 = 
dl
/
n
;

24549 *(
	gpd0
++Ë(
TÊﬂt
)(
u
*
d 
);

24550 *(
	gpd1
++Ë(
TÊﬂt
)(
v
*
d 
);

24551 *(
	gpd2
++Ë(
TÊﬂt
)
n
;

24553 
TÊﬂt
 *
	g±rd
 = 
ªs
.
_d©a
;

24554 
cimg_f‹XY
(*
this
,
x
,
y
) {

24555 
	gvÆ
.
fûl
(0);

24557 
	gn
 = ()
W
(
x
,
y
,0,2),

24558 
	gfsigma
 = ()(
n
*
sqπ2am∂ôude
),

24559 
	gfsigma2
 = 2*
fsigma
*fsigma,

24560 
	gÀngth
 = 
gauss_¥ec
*
fsigma
;

24562 
	gS
 = 0,

24563 
	gX
 = ()
x
,

24564 
	gY
 = ()
y
;

24565 
	göãΩﬁ©i⁄_ty≥
) {

24567 
l
 = 0; 
	gl
<
	gÀngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
;Ü+=
dl
) {

24569 
cx
 = ()(
X
+0.5f),

24570 
	gcy
 = ()(
Y
+0.5f);

24572 
	gu
 = ()
W
(
cx
,
cy
,0,0),

24573 
	gv
 = ()
W
(
cx
,
cy
,0,1);

24574 i‡(
	gis_Á°_≠¥ox
Ë{ 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)(*this)(
cx
,
	gcy
,0,
	gc
); ++
	gS
; }

24576 c⁄° 
	gc€f
 = ()
°d
::
exp
(-
l
*l/
fsigma2
);

24577 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)(
c€f
*(*this)(
cx
,
	gcy
,0,
	gc
));

24578 
	gS
+=
c€f
;

24580 
	gX
+=
u
; 
	gY
+=
v
;

24584 
l
 = 0; 
	gl
<
	gÀngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
;Ü+=
dl
) {

24586 
u
 = ()(
W
.
_löór_©XY
(
X
,
Y
,0,0)),

24587 
	gv
 = ()(
W
.
_löór_©XY
(
X
,
Y
,0,1));

24588 i‡(
	gis_Á°_≠¥ox
Ë{ 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)
_löór_©XY
(
X
,
Y
,0,c); ++
	gS
; }

24590 c⁄° 
	gc€f
 = ()
°d
::
exp
(-
l
*l/
fsigma2
);

24591 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)(
c€f
*
_löór_©XY
(
X
,
Y
,0,c));

24592 
	gS
+=
c€f
;

24594 
	gX
+=
u
; 
	gY
+=
v
;

24598 
l
 = 0; 
	gl
<
	gÀngth
 && 
	gX
>=0 && 
X
<=
dx1
 && 
Y
>=0 && Y<=
dy1
;Ü+=
dl
) {

24600 
u0
 = ()(0.5f*
W
.
_löór_©XY
(
X
,
Y
,0,0)),

24601 
	gv0
 = ()(0.5f*
W
.
_löór_©XY
(
X
,
Y
,0,1)),

24602 
	gu
 = ()(
W
.
_löór_©XY
(
X
+
u0
,
Y
+
v0
,0,0)),

24603 
	gv
 = ()(
W
.
_löór_©XY
(
X
+
u0
,
Y
+
v0
,0,1));

24604 i‡(
	gis_Á°_≠¥ox
Ë{ 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)
_löór_©XY
(
X
,
Y
,0,c); ++
	gS
; }

24606 c⁄° 
	gc€f
 = ()
°d
::
exp
(-
l
*l/
fsigma2
);

24607 
cimg_f‹C
(*
this
,
c
Ë
	gvÆ
[c]+=(
TÊﬂt
)(
c€f
*
_löór_©XY
(
X
,
Y
,0,c));

24608 
	gS
+=
c€f
;

24610 
	gX
+=
u
; 
	gY
+=
v
;

24614 
TÊﬂt
 *
	g_±rd
 = 
±rd
++;

24615 i‡(
	gS
>0Ë
cimg_f‹C
(
ªs
,
c
Ë{ *
	g_±rd
+=
vÆ
[c]/
S
; _±rd+=
whd
; }

24616 
cimg_f‹C
(
ªs
,
c
Ë{ *
	g_±rd
+=(
TÊﬂt
)((*
this
)(
x
,
	gy
,0,
	gc
)); _±rd+=
whd
; }

24620 c⁄° 
TÊﬂt
 *
	g±rs
 = 
ªs
.
_d©a
;

24621 
cimg_f‹
(*
this
,
±rd
,
T
Ë{ c⁄° 
TÊﬂt
 
	gvÆ
 = *(
±rs
++)/
N
; *
	g±rd
 = 
vÆ
<
vÆ_mö
?vÆ_mö:(vÆ>
vÆ_max
?val_max:(T)val); }

24623  *
	gthis
;

24627 
	gãm∂©e
<
ty≥«me
 
	gt
>

24628 
	gCImg
<
	gT
> 
gë_blur_™isŸr›ic
(c⁄° 
CImg
<
t
>& 
G
,

24629 c⁄° 
am∂ôude
=60, c⁄° 
dl
=0.8f, c⁄° 
da
=30,

24630 c⁄° 
gauss_¥ec
=2, c⁄° 
öãΩﬁ©i⁄_ty≥
=0,

24631 c⁄° 
boﬁ
 
is_Á°_≠¥ox
=
åue
) const {

24632  (+*
this
).
blur_™isŸr›ic
(
G
,
am∂ôude
,
dl
,
da
,
gauss_¥ec
,
öãΩﬁ©i⁄_ty≥
,
is_Á°_≠¥ox
);

24648 
	gCImg
<
	gT
>& 
blur_™isŸr›ic
(c⁄° 
am∂ôude
, c⁄° 
sh¨≤ess
=0.7f, c⁄° 
™isŸr›y
=0.6f,

24649 c⁄° 
Æpha
=0.6f, c⁄° 
sigma
=1.1f, c⁄° 
dl
=0.8f, c⁄° 
da
=30,

24650 c⁄° 
gauss_¥ec
=2, c⁄° 
öãΩﬁ©i⁄_ty≥
=0,

24651 c⁄° 
boﬁ
 
is_Á°_≠¥ox
=
åue
) {

24652  
blur_™isŸr›ic
(
gë_diffusi⁄_ãns‹s
(
sh¨≤ess
,
™isŸr›y
,
Æpha
,
sigma
,
öãΩﬁ©i⁄_ty≥
!=3),

24653 
am∂ôude
,
dl
,
da
,
gauss_¥ec
,
öãΩﬁ©i⁄_ty≥
,
is_Á°_≠¥ox
);

24657 
	gCImg
<
	gT
> 
gë_blur_™isŸr›ic
(c⁄° 
am∂ôude
, c⁄° 
sh¨≤ess
=0.7f, c⁄° 
™isŸr›y
=0.6f,

24658 c⁄° 
Æpha
=0.6f, c⁄° 
sigma
=1.1f, c⁄° 
dl
=0.8f,

24659 c⁄° 
da
=30, c⁄° 
gauss_¥ec
=2, c⁄° 
öãΩﬁ©i⁄_ty≥
=0,

24660 c⁄° 
boﬁ
 
is_Á°_≠¥ox
=
åue
) const {

24661  (+*
this
).
blur_™isŸr›ic
(
am∂ôude
,
sh¨≤ess
,
™isŸr›y
,
Æpha
,
sigma
,
dl
,
da
,
gauss_¥ec
,
öãΩﬁ©i⁄_ty≥
,
is_Á°_≠¥ox
);

24679 
	gãm∂©e
<
ty≥«me
 
	gt
>

24680 
	gCImg
<
	gT
>& 
blur_bû©îÆ
(c⁄° 
CImg
<
t
>& 
guide
, c⁄° 
sigma_x
, c⁄° 
sigma_y
, c⁄° 
sigma_z
, c⁄° 
sigma_r
,

24681 c⁄° 
bgrid_x
, c⁄° 
bgrid_y
, c⁄° 
bgrid_z
, c⁄° 
bgrid_r
,

24682 c⁄° 
boﬁ
 
öãΩﬁ©i⁄_ty≥
=
åue
) {

24683 i‡(!
is_ßmeXYZ
(
guide
))

24684 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


24686 
cimg_ö°™˚
,

24687 
guide
.
_width
,guide.
_height
,guide.
_dïth
,guide.
_•e˘rum
,guide.
_d©a
);

24688 i‡(
is_em±y
()Ë *
	gthis
;

24689 
T
 
	gm
, 
	gM
 = 
guide
.
max_mö
(
m
);

24690 i‡(
	gm
==
M
Ë *
this
;

24691 c⁄° 
	gønge
 = ()(
M
 - 
m
);

24693 
	gbx0
 = 
bgrid_x
>=0?bgrid_x:
_width
*-bgrid_x/100,

24694 
	gby0
 = 
bgrid_y
>=0?bgrid_y:
_height
*-bgrid_y/100,

24695 
	gbz0
 = 
bgrid_z
>=0?bgrid_z:
_dïth
*-bgrid_z/100,

24696 
	gbr0
 = 
bgrid_r
>=0?bgrid_r:()(-
ønge
*bgrid_r/100),

24697 
	gbx
 = 
bx0
>0?bx0:1,

24698 
	gby
 = 
by0
>0?by0:1,

24699 
	gbz
 = 
bz0
>0?bz0:1,

24700 
	gbr
 = 
br0
>0?br0:1;

24702 
	g_sigma_x
 = 
sigma_x
>=0?sigma_x:-sigma_x*
_width
/100,

24703 
	g_sigma_y
 = 
sigma_y
>=0?sigma_y:-sigma_y*
_height
/100,

24704 
	g_sigma_z
 = 
sigma_z
>=0?sigma_z:-sigma_z*
_dïth
/100,

24705 
	g_sigma_r
 = 
sigma_r
>=0?sigma_r:-sigma_r*
ønge
/100,

24706 
	gnsigma_x
 = 
_sigma_x
*
bx
/
_width
,

24707 
	gnsigma_y
 = 
_sigma_y
*
by
/
_height
,

24708 
	gnsigma_z
 = 
_sigma_z
*
bz
/
_dïth
,

24709 
	gnsigma_r
 = 
_sigma_r
*
br
/
ønge
;

24710 i‡(
	gnsigma_x
>0 || 
	gnsigma_y
>0 || 
	gnsigma_z
>0 || 
	gnsigma_r
>0) {

24711 c⁄° 
boﬁ
 
	gis_3d
 = (
_dïth
>1);

24712 i‡(
	gis_3d
) {

24713 
	gCImg
<
	gÊﬂtT
> 
bgrid
(
bx
,
by
,
bz
,
br
), 
bgridw
(bx,by,bz,br);

24714 
cimg_f‹C
(*
this
,
c
) {

24715 c⁄° 
	gCImg
<
	gt
> 
	g_guide
 = 
guide
.
gë_sh¨ed_ch™√l
(
c
%guide.
_•e˘rum
);

24716 
	gbgrid
.
fûl
(0); 
	gbgridw
.fill(0);

24717 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

24718 c⁄° 
T
 
	gvÆ
 = (*
this
)(
x
,
	gy
,
	gz
,
	gc
);

24719 c⁄° 
	ggvÆ
 = ()
_guide
(
x
,
y
,
z
);

24720 c⁄° 
	gX
 = 
x
*
bx
/
_width
, 
	gY
 = 
y
*
by
/
_height
, 
	gZ
 = 
z
*
bz
/
_dïth
, 
	gR
 = ()
cimg
::
mö
(
br
-1.0f,(
gvÆ
-
m
)*br/
ønge
);

24721 
bgrid
(
X
,
Y
,
Z
,
R
Ë+()
vÆ
;

24722 
bgridw
(
X
,
Y
,
Z
,
R
) += 1;

24724 
	gbgrid
.
blur
(
nsigma_x
,
nsigma_y
,
nsigma_z
,
åue
).
dîiche
(
nsigma_r
,0,'c',
Ál£
);

24725 
	gbgridw
.
blur
(
nsigma_x
,
nsigma_y
,
nsigma_z
,
åue
).
dîiche
(
nsigma_r
,0,'c',
Ál£
);

24726 i‡(
	göãΩﬁ©i⁄_ty≥
Ë
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

24727 c⁄° 
	ggvÆ
 = ()
_guide
(
x
,
y
,
z
),

24728 
	gX
 = ()
x
*
bx
/
_width
, 
	gY
 = ()
y
*
by
/
_height
, 
	gZ
 = ()
z
*
bz
/
_dïth
, 
	gR
 = ()
cimg
::
mö
(
br
-1.0f,(
gvÆ
-
m
)*br/
ønge
),

24729 
	gbvÆ0
 = 
bgrid
.
_löór_©XYZC
(
X
,
Y
,
Z
,
R
), 
	gbvÆ1
 = 
bgridw
._linear_atXYZC(X,Y,Z,R);

24730 (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
Ë(
T
)(
bvÆ0
/
bvÆ1
);

24731 } 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

24732 c⁄° 
	ggvÆ
 = ()
_guide
(
x
,
y
,
z
);

24733 c⁄° 
	gX
 = 
x
*
bx
/
_width
, 
	gY
 = 
y
*
by
/
_height
, 
	gZ
 = 
z
*
bz
/
_dïth
, 
	gR
 = ()
cimg
::
mö
(
br
-1.0f,(
gvÆ
-
m
)*br/
ønge
);

24734 c⁄° 
	gbvÆ0
 = 
bgrid
(
X
,
Y
,
Z
,
R
), 
	gbvÆ1
 = 
bgridw
(X,Y,Z,R);

24735 (*
	gthis
)(
	gx
,
	gy
,
	gz
,
	gc
Ë(
T
)(
bvÆ0
/
bvÆ1
);

24739 
	gCImg
<
	gÊﬂtT
> 
bgrid
(
bx
,
by
,
br
,2);

24740 
cimg_f‹C
(*
this
,
c
) {

24741 c⁄° 
	gCImg
<
	gt
> 
	g_guide
 = 
guide
.
gë_sh¨ed_ch™√l
(
c
%guide.
_•e˘rum
);

24742 
	gbgrid
.
fûl
(0);

24743 
cimg_f‹XY
(*
this
,
x
,
y
) {

24744 c⁄° 
T
 
	gvÆ
 = (*
this
)(
x
,
	gy
,
	gc
);

24745 c⁄° 
	ggvÆ
 = ()
_guide
(
x
,
y
);

24746 c⁄° 
	gX
 = 
x
*
bx
/
_width
, 
	gY
 = 
y
*
by
/
_height
, 
	gR
 = ()
cimg
::
mö
(
br
-1.0f,(
gvÆ
-
m
)*br/
ønge
);

24747 
bgrid
(
X
,
Y
,
R
,0Ë+()
vÆ
;

24748 
bgrid
(
X
,
Y
,
R
,1) += 1;

24750 
	gbgrid
.
blur
(
nsigma_x
,
nsigma_y
,0,
åue
).blur(0,0,
nsigma_r
,
Ál£
);

24751 i‡(
	göãΩﬁ©i⁄_ty≥
Ë
cimg_f‹XY
(*
this
,
x
,
y
) {

24752 c⁄° 
	ggvÆ
 = ()
_guide
(
x
,
y
),

24753 
	gX
 = ()
x
*
bx
/
_width
, 
	gY
 = ()
y
*
by
/
_height
, 
	gR
 = ()
cimg
::
mö
(
br
-1.0f,(
gvÆ
-
m
)*br/
ønge
),

24754 
	gbvÆ0
 = 
bgrid
.
_löór_©XYZ
(
X
,
Y
,
R
,0), 
	gbvÆ1
 = bgrid._linear_atXYZ(X,Y,R,1);

24755 (*
	gthis
)(
	gx
,
	gy
,
	gc
Ë(
T
)(
bvÆ0
/
bvÆ1
);

24756 } 
cimg_f‹XY
(*
this
,
x
,
y
) {

24757 c⁄° 
	ggvÆ
 = ()
_guide
(
x
,
y
);

24758 c⁄° 
	gX
 = 
x
*
bx
/
_width
, 
	gY
 = 
y
*
by
/
_height
, 
	gR
 = ()
cimg
::
mö
(
br
-1.0f,(
gvÆ
-
m
)*br/
ønge
);

24759 c⁄° 
	gbvÆ0
 = 
bgrid
(
X
,
Y
,
R
,0), 
	gbvÆ1
 = bgrid(X,Y,R,1);

24760 (*
	gthis
)(
	gx
,
	gy
,
	gc
Ë(
T
)(
bvÆ0
/
bvÆ1
);

24765  *
	gthis
;

24769 
	gãm∂©e
<
ty≥«me
 
	gt
>

24770 
	gCImg
<
	gT
> 
gë_blur_bû©îÆ
(c⁄° 
CImg
<
t
>& 
guide
, c⁄° 
sigma_x
, c⁄° 
sigma_y
, c⁄° 
sigma_z
, c⁄° 
sigma_r
,

24771 c⁄° 
bgrid_x
, c⁄° 
bgrid_y
, c⁄° 
bgrid_z
, c⁄° 
bgrid_r
,

24772 c⁄° 
boﬁ
 
öãΩﬁ©i⁄_ty≥
=
åue
) const {

24773  (+*
this
).
blur_bû©îÆ
(
guide
,
sigma_x
,
sigma_y
,
sigma_z
,
sigma_r
,
bgrid_x
,
bgrid_y
,
bgrid_z
,
bgrid_r
,
öãΩﬁ©i⁄_ty≥
);

24785 
	gãm∂©e
<
ty≥«me
 
	gt
>

24786 
	gCImg
<
	gT
>& 
blur_bû©îÆ
(c⁄° 
CImg
<
t
>& 
guide
, c⁄° 
sigma_s
, c⁄° 
sigma_r
, c⁄° 
bgrid_s
=-33, c⁄° 
bgrid_r
=32,

24787 c⁄° 
boﬁ
 
öãΩﬁ©i⁄_ty≥
=
åue
) {

24788 c⁄° 
nsigma_s
 = 
sigma_s
>=0?sigma_s:-sigma_s*
cimg
::
max
(
_width
,
_height
,
_dïth
)/100;

24789  
blur_bû©îÆ
(
guide
,
nsigma_s
,nsigma_s,nsigma_s,
sigma_r
,
bgrid_s
,bgrid_s,bgrid_s,
bgrid_r
,
öãΩﬁ©i⁄_ty≥
);

24793 
	gãm∂©e
<
ty≥«me
 
	gt
>

24794 
	gCImg
<
	gT
> 
gë_blur_bû©îÆ
(c⁄° 
CImg
<
t
>& 
guide
, c⁄° 
sigma_s
, c⁄° 
sigma_r
, c⁄° 
bgrid_s
=-33, c⁄° 
bgrid_r
=32,

24795 c⁄° 
boﬁ
 
öãΩﬁ©i⁄_ty≥
=
åue
) const {

24796  (+*
this
).
blur_bû©îÆ
(
guide
,
sigma_s
,sigma_s,sigma_s,
sigma_r
,
bgrid_s
,bgrid_s,bgrid_s,
bgrid_r
,
öãΩﬁ©i⁄_ty≥
);

24808 
	gCImg
<
	gT
>& 
blur_∑tch
(c⁄° 
sigma_s
, c⁄° 
sigma_p
, c⁄° 
∑tch_size
=3,

24809 c⁄° 
lookup_size
=4, c⁄° 
smoŸh√ss
=0, c⁄° 
boﬁ
 
is_Á°_≠¥ox
=
åue
) {

24810 i‡(
is_em±y
(Ë|| !
∑tch_size
 || !
lookup_size
Ë *
this
;

24811  
gë_blur_∑tch
(
sigma_s
,
sigma_p
,
∑tch_size
,
lookup_size
,
smoŸh√ss
,
is_Á°_≠¥ox
).
move_to
(*
this
);

24815 
	gCImg
<
	gT
> 
gë_blur_∑tch
(c⁄° 
sigma_s
, c⁄° 
sigma_p
, c⁄° 
∑tch_size
=3,

24816 c⁄° 
lookup_size
=4, c⁄° 
smoŸh√ss
=0, c⁄° 
boﬁ
 
is_Á°_≠¥ox
=
åue
) const {

24818 
	#_cimg_blur_∑tch3d_Á°
(
N
) \

24819 
cimg_f‹
##
N
##
	`XYZ
(
ªs
,
x
,
y
,
z
) { \

24820 
T
 *
pP
 = 
P
.
_d©a
; 
	`cimg_f‹C
(
ªs
,
c
Ë{ 
cimg_gë
##
N
##
x
##N##x##
	`N
(
img
,x,
y
,
z
,c,pP,T);ÖP+=
N3
; } \

24821 c⁄° 
x0
 = 
x
 - 
rsize1
, 
y0
 = 
y
 -Ñsize1, 
z0
 = 
z
 -Ñsize1, 
x1
 = x + 
rsize2
, 
y1
 = y +Ñsize2, 
z1
 = z +Ñsize2; \

24822 
sum_weights
 = 0; \

24823 
cimg_f‹_ö
##
N
##
	`XYZ
(
ªs
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
p
,
q
,
r
Ëi‡(
cimg
::
	`abs
(
	`img
(
x
,
y
,
z
,0Ë- img’,q,r,0))<
sigma_p3
) { \

24824 
T
 *
pQ
 = 
Q
.
_d©a
; 
	`cimg_f‹C
(
ªs
,
c
Ë{ 
cimg_gë
##
N
##
x
##N##x##
	`N
(
img
,
p
,
q
,
r
,c,pQ,T);ÖQ+=
N3
; } \

24825 
di°™˚2
 = 0; \

24826 
pQ
 = 
Q
.
_d©a
; 
	`cimg_f‹
(
P
,
pP
,
T
Ë{ c⁄° 
dI
 = ()*pP - ()*’Q++); 
di°™˚2
+=dI*dI; } \

24827 
di°™˚2
/=
Pn‹m
; \

24828 c⁄° 
dx
 = ()
p
 - 
x
, 
dy
 = ()
q
 - 
y
, 
dz
 = ()
r
 - 
z
, \

24829 
Ældi°
 = 
di°™˚2
 + (
dx
*dx + 
dy
*dy + 
dz
*dz)/
sigma_s2
, 
weight
 =álldist>3?0.0f:1.0f; \

24830 
sum_weights
+=
weight
; \

24831 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,
z
,c)+=
weight
*(*
this
)(
p
,
q
,
r
,c); \

24833 i‡(
sum_weights
>0Ë
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,
z
,c)/=sum_weights; \

24834 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,
z
,cË(
TÊﬂt
)((*
this
)(x,y,z,c)); \

24835 }

	)

24837 
	#_cimg_blur_∑tch3d
(
N
) \

24838 
cimg_f‹
##
N
##
	`XYZ
(
ªs
,
x
,
y
,
z
) { \

24839 
T
 *
pP
 = 
P
.
_d©a
; 
	`cimg_f‹C
(
ªs
,
c
Ë{ 
cimg_gë
##
N
##
x
##N##x##
	`N
(
img
,x,
y
,
z
,c,pP,T);ÖP+=
N3
; } \

24840 c⁄° 
x0
 = 
x
 - 
rsize1
, 
y0
 = 
y
 -Ñsize1, 
z0
 = 
z
 -Ñsize1, 
x1
 = x + 
rsize2
, 
y1
 = y +Ñsize2, 
z1
 = z +Ñsize2; \

24841 
sum_weights
 = 0, 
weight_max
 = 0; \

24842 
cimg_f‹_ö
##
N
##
	`XYZ
(
ªs
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
p
,
q
,
r
Ëi‡’!=
x
 || q!=
y
 ||Ñ!=
z
) { \

24843 
T
 *
pQ
 = 
Q
.
_d©a
; 
	`cimg_f‹C
(
ªs
,
c
Ë{ 
cimg_gë
##
N
##
x
##N##x##
	`N
(
img
,
p
,
q
,
r
,c,pQ,T);ÖQ+=
N3
; } \

24844 
di°™˚2
 = 0; \

24845 
pQ
 = 
Q
.
_d©a
; 
	`cimg_f‹
(
P
,
pP
,
T
Ë{ c⁄° 
dI
 = ()*pP - ()*’Q++); 
di°™˚2
+=dI*dI; } \

24846 
di°™˚2
/=
Pn‹m
; \

24847 c⁄° 
dx
 = ()
p
 - 
x
, 
dy
 = ()
q
 - 
y
, 
dz
 = ()
r
 - 
z
, \

24848 
Ældi°
 = 
di°™˚2
 + (
dx
*dx + 
dy
*dy + 
dz
*dz)/
sigma_s2
, 
weight
 = ()
°d
::
	`exp
(-alldist); \

24849 i‡(
weight
>
weight_max
) weight_max = weight; \

24850 
sum_weights
+=
weight
; \

24851 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,
z
,c)+=
weight
*(*
this
)(
p
,
q
,
r
,c); \

24853 
sum_weights
+=
weight_max
; 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,
z
,c)+=weight_max*(*
this
)(x,y,z,c); \

24854 i‡(
sum_weights
>0Ë
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,
z
,c)/=sum_weights; \

24855 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,
z
,cË(
TÊﬂt
)((*
this
)(x,y,z,c)); \

24856 }

	)

24858 
	#_cimg_blur_∑tch2d_Á°
(
N
) \

24859 
cimg_f‹
##
N
##
	`XY
(
ªs
,
x
,
y
) { \

24860 
T
 *
pP
 = 
P
.
_d©a
; 
	`cimg_f‹C
(
ªs
,
c
Ë{ 
cimg_gë
##
N
##
x
##
	`N
(
img
,x,
y
,0,c,pP,T);ÖP+=
N2
; } \

24861 c⁄° 
x0
 = 
x
 - 
rsize1
, 
y0
 = 
y
 -Ñsize1, 
x1
 = x + 
rsize2
, 
y1
 = y +Ñsize2; \

24862 
sum_weights
 = 0; \

24863 
cimg_f‹_ö
##
N
##
	`XY
(
ªs
,
x0
,
y0
,
x1
,
y1
,
p
,
q
Ëi‡(
cimg
::
	`abs
(
	`img
(
x
,
y
,0,0Ë- img’,q,0,0))<
sigma_p3
) { \

24864 
T
 *
pQ
 = 
Q
.
_d©a
; 
	`cimg_f‹C
(
ªs
,
c
Ë{ 
cimg_gë
##
N
##
x
##
	`N
(
img
,
p
,
q
,0,c,pQ,T);ÖQ+=
N2
; } \

24865 
di°™˚2
 = 0; \

24866 
pQ
 = 
Q
.
_d©a
; 
	`cimg_f‹
(
P
,
pP
,
T
Ë{ c⁄° 
dI
 = ()*pP - ()*’Q++); 
di°™˚2
+=dI*dI; } \

24867 
di°™˚2
/=
Pn‹m
; \

24868 c⁄° 
dx
 = ()
p
 - 
x
, 
dy
 = ()
q
 - 
y
, \

24869 
Ældi°
 = 
di°™˚2
 + (
dx
*dx+
dy
*dy)/
sigma_s2
, 
weight
 =álldist>3?0.0f:1.0f; \

24870 
sum_weights
+=
weight
; \

24871 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,c)+=
weight
*(*
this
)(
p
,
q
,c); \

24873 i‡(
sum_weights
>0Ë
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,c)/=sum_weights; \

24874 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,cË(
TÊﬂt
)((*
this
)(x,y,c)); \

24875 }

	)

24877 
	#_cimg_blur_∑tch2d
(
N
) \

24878 
cimg_f‹
##
N
##
	`XY
(
ªs
,
x
,
y
) { \

24879 
T
 *
pP
 = 
P
.
_d©a
; 
	`cimg_f‹C
(
ªs
,
c
Ë{ 
cimg_gë
##
N
##
x
##
	`N
(
img
,x,
y
,0,c,pP,T);ÖP+=
N2
; } \

24880 c⁄° 
x0
 = 
x
 - 
rsize1
, 
y0
 = 
y
 -Ñsize1, 
x1
 = x + 
rsize2
, 
y1
 = y +Ñsize2; \

24881 
sum_weights
 = 0, 
weight_max
 = 0; \

24882 
cimg_f‹_ö
##
N
##
	`XY
(
ªs
,
x0
,
y0
,
x1
,
y1
,
p
,
q
Ëi‡’!=
x
 || q!=
y
) { \

24883 
T
 *
pQ
 = 
Q
.
_d©a
; 
	`cimg_f‹C
(
ªs
,
c
Ë{ 
cimg_gë
##
N
##
x
##
	`N
(
img
,
p
,
q
,0,c,pQ,T);ÖQ+=
N2
; } \

24884 
di°™˚2
 = 0; \

24885 
pQ
 = 
Q
.
_d©a
; 
	`cimg_f‹
(
P
,
pP
,
T
Ë{ c⁄° 
dI
 = ()*pP - ()*’Q++); 
di°™˚2
+=dI*dI; } \

24886 
di°™˚2
/=
Pn‹m
; \

24887 c⁄° 
dx
 = ()
p
 - 
x
, 
dy
 = ()
q
 - 
y
, \

24888 
Ældi°
 = 
di°™˚2
 + (
dx
*dx+
dy
*dy)/
sigma_s2
, 
weight
 = ()
°d
::
	`exp
(-alldist); \

24889 i‡(
weight
>
weight_max
) weight_max = weight; \

24890 
sum_weights
+=
weight
; \

24891 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,c)+=
weight
*(*
this
)(
p
,
q
,c); \

24893 
sum_weights
+=
weight_max
; 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,c)+=weight_max*(*
this
)(x,y,c); \

24894 i‡(
sum_weights
>0Ë
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,c)/=sum_weights; \

24895 
	`cimg_f‹C
(
ªs
,
c
Ë
	`ªs
(
x
,
y
,cË(
TÊﬂt
)((*
this
)(x,y,c)); \

24896 }

	)

24898 i‡(
is_em±y
(Ë|| !
	g∑tch_size
 || !
	glookup_size
Ë +*
	gthis
;

24899 
	gCImg
<
	gTÊﬂt
> 
ªs
(
_width
,
_height
,
_dïth
,
_•e˘rum
,0);

24900 c⁄° 
	gCImg
<
	gT
> 
	g_img
 = 
smoŸh√ss
>0?
gë_blur
(smoŸh√ss):
CImg
<
TÊﬂt
>(),&
	gimg
 = smoŸh√ss>0?
_img
:*
this
;

24901 
	gCImg
<
	gT
> 
P
(
∑tch_size
*∑tch_size*
_•e˘rum
), 
Q
(P);

24903 
	gnsigma_s
 = 
sigma_s
>=0?sigma_s:-sigma_s*
cimg
::
max
(
_width
,
_height
,
_dïth
)/100,

24904 
	gsigma_s2
 = 
nsigma_s
*nsigma_s, 
	gsigma_p2
 = 
sigma_p
*sigma_p, 
	gsigma_p3
 = 3*sigma_p,

24905 
	gPn‹m
 = 
P
.
size
()*
sigma_p2
;

24906 c⁄° 
	grsize2
 = ()
lookup_size
/2, 
	grsize1
 = (Óookup_sizê- 
rsize2
 - 1;

24907 c⁄° 
	gN2
 = 
∑tch_size
*∑tch_size, 
	gN3
 = 
N2
*patch_size;

24908 i‡(
	g_dïth
>1Ë
	g∑tch_size
) {

24909 2 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch3d_Á°
(2Ë
_cimg_blur_∑tch3d
(2) ;

24910 3 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch3d_Á°
(3Ë
_cimg_blur_∑tch3d
(3) ;

24912 c⁄° 
psize2
 = ()
∑tch_size
/2, 
	gpsize1
 = ()patch_size -Ösize2 - 1;

24913 i‡(
	gis_Á°_≠¥ox
Ë
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
) {

24914 
	gP
 = 
img
.
gë_¸›
(
x
 - 
psize1
,
y
 -Ösize1,
z
 -Ösize1,x + 
psize2
,y +Ösize2,z +Ösize2,
åue
);

24915 c⁄° 
	gx0
 = 
x
 - 
rsize1
, 
	gy0
 = 
y
 -Ñsize1, 
	gz0
 = 
z
 -Ñsize1, 
	gx1
 = x + 
rsize2
, 
	gy1
 = y +Ñsize2, 
	gz1
 = z +Ñsize2;

24916 
	gsum_weights
 = 0;

24917 
cimg_f‹_öXYZ
(
ªs
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
p
,
q
,
r
Ëi‡(
	gcimg
::
abs
(
img
(
x
,
y
,
z
,0)-img’,q,r,0))<
	gsigma_p3
) {

24918 (
	gQ
 = 
img
.
gë_¸›
(
p
 - 
psize1
,
q
 -Ösize1,
r
 -Ösize1,∞+ 
psize2
,q +Ösize2,∏+Ösize2,
åue
))-=
P
;

24920 
	gdx
 = ()
x
 - 
p
, 
	gdy
 = ()
y
 - 
q
, 
	gdz
 = ()
z
 - 
r
,

24921 
	gdi°™˚2
 = ()(
Q
.
pow
(2).
sum
()/
Pn‹m
 + (
dx
*dx + 
dy
*dy + 
dz
*dz)/
sigma_s2
),

24922 
	gweight
 = 
di°™˚2
>3?0.0f:1.0f;

24923 
	gsum_weights
+=
weight
;

24924 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,
z
,c)+=
weight
*(*
this
)(
p
,
	gq
,
	gr
,
	gc
);

24926 i‡(
	gsum_weights
>0Ë
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,
z
,c)/=
sum_weights
;

24927 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,
z
,cË(
TÊﬂt
)((*
this
)(x,
	gy
,
	gz
,
	gc
));

24928 } 
cimg_f‹XYZ
(
ªs
,
x
,
y
,
z
) {

24929 
	gP
 = 
img
.
gë_¸›
(
x
 - 
psize1
,
y
 -Ösize1,
z
 -Ösize1,x + 
psize2
,y +Ösize2,z +Ösize2,
åue
);

24930 c⁄° 
	gx0
 = 
x
 - 
rsize1
, 
	gy0
 = 
y
 -Ñsize1, 
	gz0
 = 
z
 -Ñsize1, 
	gx1
 = x + 
rsize2
, 
	gy1
 = y +Ñsize2, 
	gz1
 = z +Ñsize2;

24931 
	gsum_weights
 = 0, 
	gweight_max
 = 0;

24932 
cimg_f‹_öXYZ
(
ªs
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
p
,
q
,
r
Ëi‡(
	gp
!=
x
 || q!=
y
 ||Ñ!=
z
) {

24933 (
Q
 = 
img
.
gë_¸›
(
p
 - 
psize1
,
q
 -Ösize1,
r
 -Ösize1,∞+ 
psize2
,q +Ösize2,∏+Ösize2,
åue
))-=
P
;

24935 
	gdx
 = ()
x
 - 
p
, 
	gdy
 = ()
y
 - 
q
, 
	gdz
 = ()
z
 - 
r
,

24936 
	gdi°™˚2
 = ()(
Q
.
pow
(2).
sum
()/
Pn‹m
 + (
dx
*dx + 
dy
*dy + 
dz
*dz)/
sigma_s2
),

24937 
	gweight
 = ()
°d
::
exp
(-
di°™˚2
);

24938 i‡(
	gweight
>
	gweight_max
Ëweight_max = 
weight
;

24939 
	gsum_weights
+=
weight
;

24940 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,
z
,c)+=
weight
*(*
this
)(
p
,
	gq
,
	gr
,
	gc
);

24942 
	gsum_weights
+=
weight_max
; 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,
z
,c)+=weight_max*(*
this
)(x,
	gy
,
	gz
,
	gc
);

24943 i‡(
	gsum_weights
>0Ë
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,
z
,c)/=
sum_weights
;

24944 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,
z
,cË(
TÊﬂt
)((*
this
)(x,
	gy
,
	gz
,
	gc
));

24947 } 
	g∑tch_size
) {

24948 2 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch2d_Á°
(2Ë
_cimg_blur_∑tch2d
(2) ;

24949 3 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch2d_Á°
(3Ë
_cimg_blur_∑tch2d
(3) ;

24950 4 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch2d_Á°
(4Ë
_cimg_blur_∑tch2d
(4) ;

24951 5 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch2d_Á°
(5Ë
_cimg_blur_∑tch2d
(5) ;

24952 6 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch2d_Á°
(6Ë
_cimg_blur_∑tch2d
(6) ;

24953 7 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch2d_Á°
(7Ë
_cimg_blur_∑tch2d
(7) ;

24954 8 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch2d_Á°
(8Ë
_cimg_blur_∑tch2d
(8) ;

24955 9 : i‡(
is_Á°_≠¥ox
Ë
_cimg_blur_∑tch2d_Á°
(9Ë
_cimg_blur_∑tch2d
(9) ;

24957 c⁄° 
psize2
 = ()
∑tch_size
/2, 
	gpsize1
 = ()patch_size -Ösize2 - 1;

24958 i‡(
	gis_Á°_≠¥ox
Ë
cimg_f‹XY
(
ªs
,
x
,
y
) {

24959 
	gP
 = 
img
.
gë_¸›
(
x
 - 
psize1
,
y
 -Ösize1,x + 
psize2
,y +Ösize2,
åue
);

24960 c⁄° 
	gx0
 = 
x
 - 
rsize1
, 
	gy0
 = 
y
 -Ñsize1, 
	gx1
 = x + 
rsize2
, 
	gy1
 = y +Ñsize2;

24961 
	gsum_weights
 = 0;

24962 
cimg_f‹_öXY
(
ªs
,
x0
,
y0
,
x1
,
y1
,
p
,
q
Ëi‡(
	gcimg
::
abs
(
img
(
x
,
y
,0)-img’,q,0))<
	gsigma_p3
) {

24963 (
	gQ
 = 
img
.
gë_¸›
(
p
 - 
psize1
,
q
 -Ösize1,∞+ 
psize2
,q +Ösize2,
åue
))-=
P
;

24965 
	gdx
 = ()
x
 - 
p
, 
	gdy
 = ()
y
 - 
q
,

24966 
	gdi°™˚2
 = ()(
Q
.
pow
(2).
sum
()/
Pn‹m
 + (
dx
*dx + 
dy
*dy)/
sigma_s2
),

24967 
	gweight
 = 
di°™˚2
>3?0.0f:1.0f;

24968 
	gsum_weights
+=
weight
;

24969 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,c)+=
weight
*(*
this
)(
p
,
	gq
,
	gc
);

24971 i‡(
	gsum_weights
>0Ë
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,c)/=
sum_weights
;

24972 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,cË(
TÊﬂt
)((*
this
)(x,
	gy
,
	gc
));

24973 } 
cimg_f‹XY
(
ªs
,
x
,
y
) {

24974 
	gP
 = 
img
.
gë_¸›
(
x
 - 
psize1
,
y
 -Ösize1,x + 
psize2
,y +Ösize2,
åue
);

24975 c⁄° 
	gx0
 = 
x
 - 
rsize1
, 
	gy0
 = 
y
 -Ñsize1, 
	gx1
 = x + 
rsize2
, 
	gy1
 = y +Ñsize2;

24976 
	gsum_weights
 = 0, 
	gweight_max
 = 0;

24977 
cimg_f‹_öXY
(
ªs
,
x0
,
y0
,
x1
,
y1
,
p
,
q
Ëi‡(
	gp
!=
x
 || q!=
y
) {

24978 (
Q
 = 
img
.
gë_¸›
(
p
 - 
psize1
,
q
 -Ösize1,∞+ 
psize2
,q +Ösize2,
åue
))-=
P
;

24980 
	gdx
 = ()
x
 - 
p
, 
	gdy
 = ()
y
 - 
q
,

24981 
	gdi°™˚2
 = ()(
Q
.
pow
(2).
sum
()/
Pn‹m
 + (
dx
*dx + 
dy
*dy)/
sigma_s2
),

24982 
	gweight
 = ()
°d
::
exp
(-
di°™˚2
);

24983 i‡(
	gweight
>
	gweight_max
Ëweight_max = 
weight
;

24984 
	gsum_weights
+=
weight
;

24985 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,c)+=
weight
*(*
this
)(
p
,
	gq
,
	gc
);

24987 
	gsum_weights
+=
weight_max
; 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,c)+=weight_max*(*
this
)(x,
	gy
,
	gc
);

24988 i‡(
	gsum_weights
>0Ë
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,c)/=
sum_weights
;

24989 
cimg_f‹C
(
ªs
,
c
Ëªs(
x
,
y
,0,cË(
TÊﬂt
)((*
this
)(x,
	gy
,
	gc
));

24993  
	gªs
;

25000 
	gCImg
<
	gT
>& 
blur_medün
(c⁄° 
n
) {

25001 i‡(!
	gn
Ë *
	gthis
;

25002  
gë_blur_medün
(
n
).
move_to
(*
this
);

25006 
	gCImg
<
	gT
> 
gë_blur_medün
(c⁄° 
n
) const {

25007 i‡(
is_em±y
(Ë|| 
	gn
<=1Ë +*
this
;

25008 
	gCImg
<
	gT
> 
ªs
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

25009 
T
 *
	g±rd
 = 
ªs
.
_d©a
;

25010 c⁄° 
	ghl
 = 
n
/2, 
	ghr
 = 
hl
 - 1 +Ç%2;

25011 i‡(
	gªs
.
	g_dïth
!=1Ë
cimg_f‹XYZC
(*
this
,
x
,
y
,
z
,
c
) {

25013 
	gx0
 = 
x
 - 
hl
, 
	gy0
 = 
y
 - hl, 
	gz0
 = 
z
-hl, 
	gx1
 = x + 
hr
, 
	gy1
 = y + hr, 
	gz1
 = z+hr,

25014 
	gnx0
 = 
x0
<0?0:x0, 
	gny0
 = 
y0
<0?0:y0, 
	gnz0
 = 
z0
<0?0:z0,

25015 
	gnx1
 = 
x1
>=
width
()?width()-1:x1, 
	gny1
 = 
y1
>=
height
()?height()-1:y1, 
	gnz1
 = 
z1
>=
dïth
()?depth()-1:z1;

25016 *(
	g±rd
++Ë
gë_¸›
(
nx0
,
ny0
,
nz0
,
c
,
nx1
,
ny1
,
nz1
,c).
medün
();

25018 
	#_cimg_medün_s‹t
(
a
,
b
Ëi‡(◊)>(b)Ë
cimg
::
	`sw≠
◊,b)

	)

25019 i‡(
	gªs
.
	g_height
!=1Ë
n
) {

25021 
T
 
I
[9] = { 0 };

25022 
CImg_3x3
(
J
,
T
);

25023 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
T
) {

25024 
	g°d
::
mem˝y
(
J
,
I
,9*(
T
));

25025 
_cimg_medün_s‹t
(
J˝
, 
J≈
); _cimg_medün_s‹t(
Jcc
, 
Jnc
); _cimg_medün_s‹t(
J˙
, 
J¬
);

25026 
_cimg_medün_s‹t
(
Jµ
, 
J˝
); _cimg_medün_s‹t(
Jpc
, 
Jcc
); _cimg_medün_s‹t(
J≤
, 
J˙
);

25027 
_cimg_medün_s‹t
(
J˝
, 
J≈
); _cimg_medün_s‹t(
Jcc
, 
Jnc
); _cimg_medün_s‹t(
J˙
, 
J¬
);

25028 
_cimg_medün_s‹t
(
Jµ
, 
Jpc
); _cimg_medün_s‹t(
Jnc
, 
J¬
); _cimg_medün_s‹t(
Jcc
, 
J˙
);

25029 
_cimg_medün_s‹t
(
Jpc
, 
J≤
); _cimg_medün_s‹t(
J˝
, 
Jcc
); _cimg_medün_s‹t(
J≈
, 
Jnc
);

25030 
_cimg_medün_s‹t
(
Jcc
, 
J˙
); _cimg_medün_s‹t(Jcc, 
J≈
); _cimg_medün_s‹t(
J≤
, Jcc);

25031 
_cimg_medün_s‹t
(
Jcc
, 
J≈
);

25032 *(
	g±rd
++Ë
Jcc
;

25036 
T
 
I
[25] = { 0 };

25037 
CImg_5x5
(
J
,
T
);

25038 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹5x5
(*this,
x
,
y
,0,c,
I
,
T
) {

25039 
	g°d
::
mem˝y
(
J
,
I
,25*(
T
));

25040 
_cimg_medün_s‹t
(
Jbb
, 
Jpb
); _cimg_medün_s‹t(
Jnb
, 
Jab
); _cimg_medün_s‹t(
Jcb
, Jab); _cimg_median_sort(Jcb, Jnb);

25041 
_cimg_medün_s‹t
(
Jµ
, 
J˝
); _cimg_medün_s‹t(
Jbp
, J˝); _cimg_medün_s‹t(Jbp, Jµ); _cimg_medün_s‹t(
J≠
, 
Jbc
);

25042 
_cimg_medün_s‹t
(
J≈
, 
Jbc
); _cimg_medün_s‹t(J≈, 
J≠
); _cimg_medün_s‹t(
Jcc
, 
Jnc
); _cimg_medün_s‹t(
Jpc
, Jnc);

25043 
_cimg_medün_s‹t
(
Jpc
, 
Jcc
); _cimg_medün_s‹t(
Jbn
, 
J≤
); _cimg_medün_s‹t(
Jac
, Jpn); _cimg_median_sort(Jac, Jbn);

25044 
_cimg_medün_s‹t
(
J¬
, 
J™
); _cimg_medün_s‹t(
J˙
, J™); _cimg_medün_s‹t(J˙, J¬); _cimg_medün_s‹t(
J∑
, 
Jˇ
);

25045 
_cimg_medün_s‹t
(
Jba
, 
Jˇ
); _cimg_medün_s‹t(Jba, 
J∑
); _cimg_medün_s‹t(
J«
, 
JØ
); _cimg_medün_s‹t(
Jcb
, 
Jbp
);

25046 
_cimg_medün_s‹t
(
Jnb
, 
Jµ
); _cimg_medün_s‹t(
Jbb
, Jµ); _cimg_medün_s‹t(Jbb, Jnb); _cimg_medün_s‹t(
Jab
, 
J˝
);

25047 
_cimg_medün_s‹t
(
Jpb
, 
J˝
); _cimg_medün_s‹t(Jpb, 
Jab
); _cimg_medün_s‹t(
Jpc
, 
Jac
); _cimg_medün_s‹t(
J≈
, Jac);

25048 
_cimg_medün_s‹t
(
J≈
, 
Jpc
); _cimg_medün_s‹t(
Jcc
, 
Jbn
); _cimg_medün_s‹t(
J≠
, Jbn); _cimg_median_sort(Jap, Jcc);

25049 
_cimg_medün_s‹t
(
Jnc
, 
J≤
); _cimg_medün_s‹t(
Jbc
, J≤); _cimg_medün_s‹t(Jbc, Jnc); _cimg_medün_s‹t(
Jba
, 
J«
);

25050 
_cimg_medün_s‹t
(
J˙
, 
J«
); _cimg_medün_s‹t(J˙, 
Jba
); _cimg_medün_s‹t(
J∑
, 
JØ
); _cimg_medün_s‹t(
J¬
, Jaa);

25051 
_cimg_medün_s‹t
(
J¬
, 
J∑
); _cimg_medün_s‹t(
J™
, 
Jˇ
); _cimg_medün_s‹t(
J≈
, 
J˙
); _cimg_medün_s‹t(
J≠
, Jnn);

25052 
_cimg_medün_s‹t
(
Jbb
, 
J¬
); _cimg_medün_s‹t(Jbb, 
J≠
); _cimg_medün_s‹t(
Jbc
, 
J™
); _cimg_medün_s‹t(
Jpb
, Jan);

25053 
_cimg_medün_s‹t
(
Jpb
, 
Jbc
); _cimg_medün_s‹t(
Jpc
, 
Jba
); _cimg_medün_s‹t(
Jcb
, Jba); _cimg_median_sort(Jcb, Jpc);

25054 
_cimg_medün_s‹t
(
Jcc
, 
J∑
); _cimg_medün_s‹t(
Jnb
, J∑); _cimg_medün_s‹t(Jnb, Jcc); _cimg_medün_s‹t(
Jnc
, 
Jˇ
);

25055 
_cimg_medün_s‹t
(
Jab
, 
Jˇ
); _cimg_medün_s‹t(Jab, 
Jnc
); _cimg_medün_s‹t(
Jac
, 
J«
); _cimg_medün_s‹t(
Jbp
, Jna);

25056 
_cimg_medün_s‹t
(
Jbp
, 
Jac
); _cimg_medün_s‹t(
Jbn
, 
JØ
); _cimg_medün_s‹t(
Jµ
, Jaa); _cimg_median_sort(Jpp, Jbn);

25057 
_cimg_medün_s‹t
(
J˝
, 
J≤
); _cimg_medün_s‹t(J˝, 
J™
); _cimg_medün_s‹t(
Jnc
, 
J∑
); _cimg_medün_s‹t(
Jbn
, 
J«
);

25058 
_cimg_medün_s‹t
(
J˝
, 
Jnc
); _cimg_medün_s‹t(J˝, 
Jbn
); _cimg_medün_s‹t(
Jpb
, 
J≠
); _cimg_medün_s‹t(
Jnb
, 
Jpc
);

25059 
_cimg_medün_s‹t
(
Jbp
, 
J˙
); _cimg_medün_s‹t(
Jpc
, J˙); _cimg_medün_s‹t(
J≠
, J˙); _cimg_medün_s‹t(
Jab
, 
Jbc
);

25060 
_cimg_medün_s‹t
(
Jµ
, 
Jcc
); _cimg_medün_s‹t(
J˝
, 
Jac
); _cimg_medün_s‹t(
Jab
, Jpp); _cimg_median_sort(Jab, Jcp);

25061 
_cimg_medün_s‹t
(
Jcc
, 
Jac
); _cimg_medün_s‹t(
Jbc
, Jac); _cimg_medün_s‹t(
Jµ
, 
J˝
); _cimg_median_sort(Jbc, Jcc);

25062 
_cimg_medün_s‹t
(
Jµ
, 
Jbc
); _cimg_medün_s‹t(Jµ, 
J˙
); _cimg_medün_s‹t(
Jcc
, J˙); _cimg_medün_s‹t(
J˝
, Jcn);

25063 
_cimg_medün_s‹t
(
J˝
, 
Jbc
); _cimg_medün_s‹t(
Jcc
, 
J¬
); _cimg_median_sort(Jcp, Jcc); _cimg_median_sort(Jbc, Jnn);

25064 
_cimg_medün_s‹t
(
Jcc
, 
Jba
); _cimg_medün_s‹t(
Jbc
, Jba); _cimg_median_sort(Jbc, Jcc);

25065 *(
	g±rd
++Ë
Jcc
;

25069 
cimg_f‹XYC
(*
this
,
x
,
y
,
c
) {

25071 
	gx0
 = 
x
 - 
hl
, 
	gy0
 = 
y
 - hl, 
	gx1
 = x + 
hr
, 
	gy1
 = y + hr,

25072 
	gnx0
 = 
x0
<0?0:x0, 
	gny0
 = 
y0
<0?0:y0,

25073 
	gnx1
 = 
x1
>=
width
()?width()-1:x1, 
	gny1
 = 
y1
>=
height
()?height()-1:y1;

25074 *(
	g±rd
++Ë
gë_¸›
(
nx0
,
ny0
,0,
c
,
nx1
,
ny1
,0,c).
medün
();

25077 } 
	gn
) {

25079 
T
 
I
[4] = { 0 };

25080 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹2x2
(*this,
x
,
y
,0,c,
I
,
T
Ë*(
	g±rd
++) = (T)(0.5f*(I[0]+I[1]));

25083 
T
 
I
[9] = { 0 };

25084 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
T
)

25085 *(
	g±rd
++Ë
I
[3]<I[4]?(I[4]<I[5]?I[4]:(I[3]<I[5]?I[5]:I[3])):(I[3]<I[5]?I[3]:(I[4]<I[5]?I[5]:I[4]));

25088 
cimg_f‹XC
(*
this
,
x
,
c
) {

25090 
	gx0
 = 
x
 - 
hl
, 
	gx1
 = x + 
hr
,

25091 
	gnx0
 = 
x0
<0?0:x0, 
	gnx1
 = 
x1
>=
width
()?width()-1:x1;

25092 *(
	g±rd
++Ë
gë_¸›
(
nx0
,0,0,
c
,
nx1
,0,0,c).
medün
();

25097  
	gªs
;

25108 
	gCImg
<
	gT
>& 
sh¨≥n
(c⁄° 
am∂ôude
, c⁄° 
boﬁ
 
sh¨≥n_ty≥
=
Ál£
, c⁄° 
edge
=1, c⁄° 
Æpha
=0, c⁄° 
sigma
=0) {

25109 i‡(
is_em±y
()Ë *
this
;

25110 
T
 
	gvÆ_mö
, 
	gvÆ_max
 = 
max_mö
(
vÆ_mö
);

25111 c⁄° 
	g√dge
 = 
edge
/2;

25112 
	gCImg
<
	gTÊﬂt
> 
	gvÆ
, 
	gvec
, 
vñocôy
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

25113 
TÊﬂt
 *
	g±rd
 = 
vñocôy
.
_d©a
, 
	gvñoc_max
 = 0;

25115 i‡(
	g_dïth
>1) {

25116 
CImg_3x3x3
(
I
,
TÊﬂt
);

25117 i‡(
	gsh¨≥n_ty≥
) {

25118 
	gCImg
<
	gTÊﬂt
> 
	gG
 = (
Æpha
>0?
gë_blur
◊Õha).
gë_°ru˘uª_ãns‹s
():get_structure_tensors());

25119 i‡(
	gsigma
>0Ë
	gG
.
blur
(
sigma
);

25120 
TÊﬂt
 *
	g±rG0
 = 
G
.
d©a
(0,0,0,0), *
	g±rG1
 = G.d©a(0,0,0,1), *
	g±rG2
 = G.d©a(0,0,0,2), *
	g±rG3
 = G.data(0,0,0,3);

25121 
cimg_f‹XYZ
(
G
,
x
,
y
,
z
) {

25122 
	gG
.
gë_ãns‹_©
(
x
,
y
,
z
).
symmëric_eigí
(
vÆ
,
vec
);

25123 i‡(
	gvÆ
[0]<0) val[0] = 0;

25124 i‡(
	gvÆ
[1]<0) val[1] = 0;

25125 i‡(
	gvÆ
[2]<0) val[2] = 0;

25126 *(
	g±rG0
++Ë
vec
(0,0);

25127 *(
	g±rG1
++Ë
vec
(0,1);

25128 *(
	g±rG2
++Ë
vec
(0,2);

25129 *(
	g±rG3
++Ë1 - (
TÊﬂt
)
°d
::
pow
(1+
vÆ
[0]+vÆ[1]+vÆ[2],-(TÊﬂt)
√dge
);

25131 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
) {

25132 c⁄° 
TÊﬂt


25133 
	gu
 = 
G
(
x
,
y
,
z
,0),

25134 
	gv
 = 
G
(
x
,
y
,
z
,1),

25135 
	gw
 = 
G
(
x
,
y
,
z
,2),

25136 
	gamp
 = 
G
(
x
,
y
,
z
,3),

25137 
	gixx
 = 
Incc
 + 
Ipcc
 - 2*
Iccc
,

25138 
	gixy
 = (
I¬c
 + 
Iµc
 - 
I≈c
 - 
I≤c
)/4,

25139 
	gixz
 = (
In˙
 + 
Ip˝
 - 
In˝
 - 
Ip˙
)/4,

25140 
	giyy
 = 
I˙c
 + 
I˝c
 - 2*
Iccc
,

25141 
	giyz
 = (
I˙n
 + 
I˝p
 - 
I˙p
 - 
I˝n
)/4,

25142 
	gizz
 = 
Ic˙
 + 
Ic˝
 - 2*
Iccc
,

25143 
	gixf
 = 
Incc
 - 
Iccc
,

25144 
	gixb
 = 
Iccc
 - 
Ipcc
,

25145 
	giyf
 = 
I˙c
 - 
Iccc
,

25146 
	giyb
 = 
Iccc
 - 
I˝c
,

25147 
	gizf
 = 
Ic˙
 - 
Iccc
,

25148 
	gizb
 = 
Iccc
 - 
Ic˝
,

25149 
	gôt
 = 
u
*u*
ixx
 + 
v
*v*
iyy
 + 
w
*w*
izz
 + 2*u*v*
ixy
 + 2*u*w*
ixz
 + 2*v*w*
iyz
,

25150 
	gô
 = 
u
*
cimg
::
mömod
(
ixf
,
ixb
Ë+ 
v
*
	gcimg
::mömod(
iyf
,
iyb
Ë+ 
w
*cimg::mömod(
izf
,
izb
),

25151 
	gvñoc
 = -
amp
*
cimg
::
sign
(
ôt
)*cimg::
abs
(
ô
);

25152 *(
	g±rd
++Ë
vñoc
;

25153 i‡(
	gvñoc
>
	gvñoc_max
Ëvñoc_max = 
vñoc
; if (-veloc>veloc_max) veloc_max = -veloc;

25155 } 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
) {

25156 c⁄° 
TÊﬂt
 
	gvñoc
 = -
Ipcc
 - 
Incc
 - 
I˝c
 - 
I˙c
 - 
Ic˝
 - 
Ic˙
 + 6*
Iccc
;

25157 *(
	g±rd
++Ë
vñoc
;

25158 i‡(
	gvñoc
>
	gvñoc_max
Ëvñoc_max = 
vñoc
; if (-veloc>veloc_max) veloc_max = -veloc;

25161 
CImg_3x3
(
I
,
TÊﬂt
);

25162 i‡(
	gsh¨≥n_ty≥
) {

25163 
	gCImg
<
	gTÊﬂt
> 
	gG
 = (
Æpha
>0?
gë_blur
◊Õha).
gë_°ru˘uª_ãns‹s
():get_structure_tensors());

25164 i‡(
	gsigma
>0Ë
	gG
.
blur
(
sigma
);

25165 
TÊﬂt
 *
	g±rG0
 = 
G
.
d©a
(0,0,0,0), *
	g±rG1
 = G.d©a(0,0,0,1), *
	g±rG2
 = G.data(0,0,0,2);

25166 
cimg_f‹XY
(
G
,
x
,
y
) {

25167 
	gG
.
gë_ãns‹_©
(
x
,
y
).
symmëric_eigí
(
vÆ
,
vec
);

25168 i‡(
	gvÆ
[0]<0) val[0] = 0;

25169 i‡(
	gvÆ
[1]<0) val[1] = 0;

25170 *(
	g±rG0
++Ë
vec
(0,0);

25171 *(
	g±rG1
++Ë
vec
(0,1);

25172 *(
	g±rG2
++Ë1 - (
TÊﬂt
)
°d
::
pow
(1 + 
vÆ
[0] + vÆ[1],-(TÊﬂt)
√dge
);

25174 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
TÊﬂt
) {

25175 c⁄° 
TÊﬂt


25176 
	gu
 = 
G
(
x
,
y
,0),

25177 
	gv
 = 
G
(
x
,
y
,1),

25178 
	gamp
 = 
G
(
x
,
y
,2),

25179 
	gixx
 = 
Inc
 + 
Ipc
 - 2*
Icc
,

25180 
	gixy
 = (
I¬
 + 
Iµ
 - 
I≈
 - 
I≤
)/4,

25181 
	giyy
 = 
I˙
 + 
I˝
 - 2*
Icc
,

25182 
	gixf
 = 
Inc
 - 
Icc
,

25183 
	gixb
 = 
Icc
 - 
Ipc
,

25184 
	giyf
 = 
I˙
 - 
Icc
,

25185 
	giyb
 = 
Icc
 - 
I˝
,

25186 
	gôt
 = 
u
*u*
ixx
 + 
v
*v*
iyy
 + 2*u*v*
ixy
,

25187 
	gô
 = 
u
*
cimg
::
mömod
(
ixf
,
ixb
Ë+ 
v
*
	gcimg
::mömod(
iyf
,
iyb
),

25188 
	gvñoc
 = -
amp
*
cimg
::
sign
(
ôt
)*cimg::
abs
(
ô
);

25189 *(
	g±rd
++Ë
vñoc
;

25190 i‡(
	gvñoc
>
	gvñoc_max
Ëvñoc_max = 
vñoc
; if (-veloc>veloc_max) veloc_max = -veloc;

25192 } 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
TÊﬂt
) {

25193 c⁄° 
TÊﬂt
 
	gvñoc
 = -
Ipc
 - 
Inc
 - 
I˝
 - 
I˙
 + 4*
Icc
;

25194 *(
	g±rd
++Ë
vñoc
;

25195 i‡(
	gvñoc
>
	gvñoc_max
Ëvñoc_max = 
vñoc
; if (-veloc>veloc_max) veloc_max = -veloc;

25198 i‡(
	gvñoc_max
<=0Ë *
this
;

25199  ((
	gvñocôy
*=
am∂ôude
/
vñoc_max
)+=*
this
).
cut
(
vÆ_mö
,
vÆ_max
).
move_to
(*this);

25203 
	gCImg
<
	gT
> 
gë_sh¨≥n
(c⁄° 
am∂ôude
, c⁄° 
boﬁ
 
sh¨≥n_ty≥
=
Ál£
, c⁄° 
edge
=1, c⁄° 
Æpha
=0, c⁄° 
sigma
=0) const {

25204  (+*
this
).
sh¨≥n
(
am∂ôude
,
sh¨≥n_ty≥
,
edge
,
Æpha
,
sigma
);

25219 
	gCImgLi°
<
	gTÊﬂt
> 
gë_gødõ¡
(c⁄° *c⁄° 
axes
=0, c⁄° 
scheme
=3) const {

25220 
CImgLi°
<
TÊﬂt
> 
gød
(2,
_width
,
_height
,
_dïth
,
_•e˘rum
);

25221 
TÊﬂt
 *
	g±rd0
 = 
gød
[0].
_d©a
, *
	g±rd1
 = grad[1]._data;

25222 
boﬁ
 
	gis_3d
 = 
Ál£
;

25223 i‡(
	gaxes
) {

25224 
	ga
 = 0; 
	gaxes
[
a
]; ++a) {

25225 c⁄° 
	gaxis
 = 
cimg
::
unˇ£
(
axes
[
a
]);

25226 
	gaxis
) {

25228 'z' : 
is_3d
 = 
åue
; ;

25230 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


25232 
cimg_ö°™˚
,

25233 
axis
);

25236 } 
	gis_3d
 = (
_dïth
>1);

25237 i‡(
	gis_3d
) {

25238 
	gCImg
<
	gTÊﬂt
>(
	g_width
,
	g_height
,
	g_dïth
,
	g_•e˘rum
).
move_to
(
gød
);

25239 
TÊﬂt
 *
	g±rd2
 = 
gød
[2].
_d©a
;

25240 
	gscheme
) {

25242 
CImg_3x3x3
(
I
,
TÊﬂt
);

25243 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
) {

25244 *(
	g±rd0
++Ë
Iccc
 - 
Ipcc
;

25245 *(
	g±rd1
++Ë
Iccc
 - 
I˝c
;

25246 *(
	g±rd2
++Ë
Iccc
 - 
Ic˝
;

25250 
CImg_2x2x2
(
I
,
TÊﬂt
);

25251 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹2x2x2
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
) {

25252 *(
	g±rd0
++Ë
Incc
 - 
Iccc
;

25253 *(
	g±rd1
++Ë
I˙c
 - 
Iccc
;

25254 *(
	g±rd2
++Ë
Ic˙
 - 
Iccc
;

25258 
gød
[0] = 
gë_dîiche
(0,1,'x');

25259 
	ggød
[1] = 
gë_dîiche
(0,1,'y');

25260 
	ggød
[2] = 
gë_dîiche
(0,1,'z');

25263 
gød
[0] = 
gë_v™vlõt
(0,1,'x');

25264 
	ggød
[1] = 
gë_v™vlõt
(0,1,'y');

25265 
	ggød
[2] = 
gë_v™vlõt
(0,1,'z');

25268 
CImg_3x3x3
(
I
,
TÊﬂt
);

25269 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
) {

25270 *(
	g±rd0
++Ë(
Incc
 - 
Ipcc
)/2;

25271 *(
	g±rd1
++Ë(
I˙c
 - 
I˝c
)/2;

25272 *(
	g±rd2
++Ë(
Ic˙
 - 
Ic˝
)/2;

25276 } 
	gscheme
) {

25278 
CImg_3x3
(
I
,
TÊﬂt
);

25279 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
) {

25280 *(
	g±rd0
++Ë
Icc
 - 
Ipc
;

25281 *(
	g±rd1
++Ë
Icc
 - 
I˝
;

25285 
CImg_2x2
(
I
,
TÊﬂt
);

25286 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹2x2
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
) {

25287 *(
	g±rd0
++Ë
Inc
 - 
Icc
;

25288 *(
	g±rd1
++Ë
I˙
 - 
Icc
;

25292 
CImg_3x3
(
I
,
TÊﬂt
);

25293 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
) {

25294 *(
	g±rd0
++Ë-
Iµ
 - 2*
Ipc
 - 
I≤
 + 
I≈
 + 2*
Inc
 + 
I¬
;

25295 *(
	g±rd1
++Ë-
Iµ
 - 2*
I˝
 - 
I≈
 + 
I≤
 + 2*
I˙
 + 
I¬
;

25299 
CImg_3x3
(
I
,
TÊﬂt
);

25300 c⁄° 
TÊﬂt
 
	ga
 = (TÊﬂt)(0.25f*(2-
°d
::
sqπ
(2.0f))), 
	gb
 = (Tfloat)(0.5f*(std::sqrt(2.0f)-1));

25301 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
) {

25302 *(
	g±rd0
++Ë-
a
*
Iµ
 - 
b
*
Ipc
 -á*
I≤
 +á*
I≈
 + b*
Inc
 +á*
I¬
;

25303 *(
	g±rd1
++Ë-
a
*
Iµ
 - 
b
*
I˝
 -á*
I≈
 +á*
I≤
 + b*
I˙
 +á*
I¬
;

25307 
gød
[0] = 
gë_dîiche
(0,1,'x');

25308 
	ggød
[1] = 
gë_dîiche
(0,1,'y');

25311 
gød
[0] = 
gë_v™vlõt
(0,1,'x');

25312 
	ggød
[1] = 
gë_v™vlõt
(0,1,'y');

25315 
CImg_3x3
(
I
,
TÊﬂt
);

25316 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
) {

25317 *(
	g±rd0
++Ë(
Inc
 - 
Ipc
)/2;

25318 *(
	g±rd1
++Ë(
I˙
 - 
I˝
)/2;

25322 i‡(!
	gaxes
Ë 
	ggød
;

25323 
	gCImgLi°
<
	gTÊﬂt
> 
	gªs
;

25324 
	gl
 = 0; 
	gaxes
[
l
]; ++l) {

25325 c⁄° 
	gaxis
 = 
cimg
::
unˇ£
(
axes
[
l
]);

25326 
	gaxis
) {

25327 'x' : 
ªs
.
ö£π
(
gød
[0]); ;

25328 'y' : 
ªs
.
ö£π
(
gød
[1]); ;

25329 'z' : 
ªs
.
ö£π
(
gød
[2]); ;

25332 
	ggød
.
assign
();

25333  
	gªs
;

25340 
	gCImgLi°
<
	gTÊﬂt
> 
gë_hessün
(c⁄° *c⁄° 
axes
=0) const {

25341 
CImgLi°
<
TÊﬂt
> 
ªs
;

25342 c⁄° *
	g«xes
 = 
axes
, *c⁄° 
	gdef_axes2d
 = "xxxyyy", *c⁄° 
	gdef_axes3d
 = "xxxyxzyyyzzz";

25343 i‡(!
	gaxes
Ë
	g«xes
 = 
_dïth
>1?
def_axes3d
:
def_axes2d
;

25344 c⁄° 
	glmax
 = 
°d
::
°æí
(
«xes
);

25345 i‡(
	glmax
%2)

25346 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


25348 
cimg_ö°™˚
,

25349 
«xes
);

25351 
	gªs
.
assign
(
lmax
/2,
_width
,
_height
,
_dïth
,
_•e˘rum
);

25352 i‡(!
	gcimg
::
°rˇ£cmp
(
«xes
,
def_axes3d
)) {

25353 
TÊﬂt


25354 *
	g±rd0
 = 
ªs
[0].
_d©a
, *
	g±rd1
 =Ñes[1]._d©a, *
	g±rd2
 =Ñes[2]._data,

25355 *
	g±rd3
 = 
ªs
[3].
_d©a
, *
	g±rd4
 =Ñes[4]._d©a, *
	g±rd5
 =Ñes[5]._data;

25356 
CImg_3x3x3
(
I
,
TÊﬂt
);

25357 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
) {

25358 *(
	g±rd0
++Ë
Ipcc
 + 
Incc
 - 2*
Iccc
;

25359 *(
	g±rd1
++Ë(
Iµc
 + 
I¬c
 - 
I≤c
 - 
I≈c
)/4;

25360 *(
	g±rd2
++Ë(
Ip˝
 + 
In˙
 - 
Ip˙
 - 
In˝
)/4;

25361 *(
	g±rd3
++Ë
I˝c
 + 
I˙c
 - 2*
Iccc
;

25362 *(
	g±rd4
++Ë(
I˝p
 + 
I˙n
 - 
I˝n
 - 
I˙p
)/4;

25363 *(
	g±rd5
++Ë
Ic˙
 + 
Ic˝
 - 2*
Iccc
;

25365 } i‡(!
	gcimg
::
°rˇ£cmp
(
«xes
,
def_axes2d
)) {

25366 
TÊﬂt
 *
	g±rd0
 = 
ªs
[0].
_d©a
, *
	g±rd1
 =Ñes[1]._d©a, *
	g±rd2
 =Ñes[2]._data;

25367 
CImg_3x3
(
I
,
TÊﬂt
);

25368 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
TÊﬂt
) {

25369 *(
	g±rd0
++Ë
Ipc
 + 
Inc
 - 2*
Icc
;

25370 *(
	g±rd1
++Ë(
Iµ
 + 
I¬
 - 
I≤
 - 
I≈
)/4;

25371 *(
	g±rd2
++Ë
I˝
 + 
I˙
 - 2*
Icc
;

25373 } 
	gl
 = 0;Ü<
	glmax
; ) {

25374 c⁄° 
	gl2
 = 
l
/2;

25375 
	gaxis1
 = 
«xes
[
l
++], 
	gaxis2
 =Çaxes[l++];

25376 i‡(
	gaxis1
>
	gaxis2
Ë
	gcimg
::
sw≠
(
axis1
,
axis2
);

25377 
boﬁ
 
	gvÆid_axis
 = 
Ál£
;

25378 
TÊﬂt
 *
	g±rd
 = 
ªs
[
l2
].
_d©a
;

25379 i‡(
	gaxis1
=='x' && 
axis2
=='x') {

25380 
vÆid_axis
 = 
åue
; 
CImg_3x3
(
I
,
TÊﬂt
);

25381 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
Ë*(
	g±rd
++Ë
Ipc
 + 
Inc
 - 2*
Icc
;

25383 i‡(
	gaxis1
=='x' && 
axis2
=='y') {

25384 
vÆid_axis
 = 
åue
; 
CImg_3x3
(
I
,
TÊﬂt
);

25385 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
Ë*(
	g±rd
++Ë(
Iµ
 + 
I¬
 - 
I≤
 - 
I≈
)/4;

25387 i‡(
	gaxis1
=='x' && 
axis2
=='z') {

25388 
vÆid_axis
 = 
åue
; 
CImg_3x3x3
(
I
,
TÊﬂt
);

25389 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
Ë*(
	g±rd
++Ë(
Ip˝
 + 
In˙
 - 
Ip˙
 - 
In˝
)/4;

25391 i‡(
	gaxis1
=='y' && 
axis2
=='y') {

25392 
vÆid_axis
 = 
åue
; 
CImg_3x3
(
I
,
TÊﬂt
);

25393 
cimg_f‹ZC
(*
this
,
z
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,z,c,
I
,
TÊﬂt
Ë*(
	g±rd
++Ë
I˝
 + 
I˙
 - 2*
Icc
;

25395 i‡(
	gaxis1
=='y' && 
axis2
=='z') {

25396 
vÆid_axis
 = 
åue
; 
CImg_3x3x3
(
I
,
TÊﬂt
);

25397 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
Ë*(
	g±rd
++Ë(
I˝p
 + 
I˙n
 - 
I˝n
 - 
I˙p
)/4;

25399 i‡(
	gaxis1
=='z' && 
axis2
=='z') {

25400 
vÆid_axis
 = 
åue
; 
CImg_3x3x3
(
I
,
TÊﬂt
);

25401 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
Ë*(
	g±rd
++Ë
Ic˙
 + 
Ic˝
 - 2*
Iccc
;

25403 i‡(!
	gvÆid_axis
)

25404 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


25406 
cimg_ö°™˚
,

25407 
«xes
);

25409  
	gªs
;

25413 
	gCImg
<
	gT
>& 
œ∂acün
() {

25414  
gë_œ∂acün
().
move_to
(*
this
);

25418 
	gCImg
<
	gTÊﬂt
> 
gë_œ∂acün
() const {

25419 i‡(
is_em±y
()Ë 
	gCImg
<
	gTÊﬂt
>();

25420 
	gCImg
<
	gTÊﬂt
> 
ªs
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

25421 
TÊﬂt
 *
	g±rd
 = 
ªs
.
_d©a
;

25422 i‡(
	g_dïth
>1) {

25423 
CImg_3x3x3
(
I
,
TÊﬂt
);

25424 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
)

25425 *(
	g±rd
++Ë
Incc
 + 
Ipcc
 + 
I˙c
 + 
I˝c
 + 
Ic˙
 + 
Ic˝
 - 6*
Iccc
;

25426 } i‡(
	g_height
>1) {

25427 
CImg_3x3
(
I
,
TÊﬂt
);

25428 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
TÊﬂt
)

25429 *(
	g±rd
++Ë
Inc
 + 
Ipc
 + 
I˙
 + 
I˝
 - 4*
Icc
;

25431 
CImg_3x3
(
I
,
TÊﬂt
);

25432 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
TÊﬂt
)

25433 *(
	g±rd
++Ë
Inc
 + 
Ipc
 - 2*
Icc
;

25435  
	gªs
;

25442 
	gCImg
<
	gT
>& 
°ru˘uª_ãns‹s
(c⁄° 
scheme
=2) {

25443  
gë_°ru˘uª_ãns‹s
(
scheme
).
move_to
(*
this
);

25447 
	gCImg
<
	gTÊﬂt
> 
gë_°ru˘uª_ãns‹s
(c⁄° 
scheme
=2) const {

25448 i‡(
is_em±y
()Ë *
this
;

25449 
	gCImg
<
	gTÊﬂt
> 
	gªs
;

25450 i‡(
	g_dïth
>1) {

25451 
	gªs
.
assign
(
_width
,
_height
,
_dïth
,6,0);

25452 
CImg_3x3x3
(
I
,
TÊﬂt
);

25453 
	gscheme
) {

25455 
cimg_f‹C
(*
this
,
c
) {

25456 
TÊﬂt


25457 *
	g±rd0
 = 
ªs
.
d©a
(0,0,0,0), *
	g±rd1
 =Ñes.d©a(0,0,0,1), *
	g±rd2
 =Ñes.data(0,0,0,2),

25458 *
	g±rd3
 = 
ªs
.
d©a
(0,0,0,3), *
	g±rd4
 =Ñes.d©a(0,0,0,4), *
	g±rd5
 =Ñes.data(0,0,0,5);

25459 
cimg_f‹3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
TÊﬂt
) {

25460 c⁄° 
TÊﬂt


25461 
	gix
 = (
Incc
 - 
Ipcc
)/2,

25462 
	giy
 = (
I˙c
 - 
I˝c
)/2,

25463 
	giz
 = (
Ic˙
 - 
Ic˝
)/2;

25464 *(
	g±rd0
++)+=
ix
*ix;

25465 *(
	g±rd1
++)+=
ix
*
iy
;

25466 *(
	g±rd2
++)+=
ix
*
iz
;

25467 *(
	g±rd3
++)+=
iy
*iy;

25468 *(
	g±rd4
++)+=
iy
*
iz
;

25469 *(
	g±rd5
++)+=
iz
*iz;

25474 
cimg_f‹C
(*
this
,
c
) {

25475 
TÊﬂt


25476 *
	g±rd0
 = 
ªs
.
d©a
(0,0,0,0), *
	g±rd1
 =Ñes.d©a(0,0,0,1), *
	g±rd2
 =Ñes.data(0,0,0,2),

25477 *
	g±rd3
 = 
ªs
.
d©a
(0,0,0,3), *
	g±rd4
 =Ñes.d©a(0,0,0,4), *
	g±rd5
 =Ñes.data(0,0,0,5);

25478 
cimg_f‹3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
TÊﬂt
) {

25479 c⁄° 
TÊﬂt


25480 
	gixf
 = 
Incc
 - 
Iccc
, 
	gixb
 = Icc¯- 
Ipcc
,

25481 
	giyf
 = 
I˙c
 - 
Iccc
, 
	giyb
 = Icc¯- 
I˝c
,

25482 
	gizf
 = 
Ic˙
 - 
Iccc
, 
	gizb
 = Icc¯- 
Ic˝
;

25483 *(
	g±rd0
++)+=(
ixf
*ix‡+ ixf*
ixb
 + ixb*ixf + ixb*ixb)/4;

25484 *(
	g±rd1
++)+=(
ixf
*
iyf
 + ixf*
iyb
 + 
ixb
*iyf + ixb*iyb)/4;

25485 *(
	g±rd2
++)+=(
ixf
*
izf
 + ixf*
izb
 + 
ixb
*izf + ixb*izb)/4;

25486 *(
	g±rd3
++)+=(
iyf
*iy‡+ iyf*
iyb
 + iyb*iyf + iyb*iyb)/4;

25487 *(
	g±rd4
++)+=(
iyf
*
izf
 + iyf*
izb
 + 
iyb
*izf + iyb*izb)/4;

25488 *(
	g±rd5
++)+=(
izf
*iz‡+ izf*
izb
 + izb*izf + izb*izb)/4;

25493 
cimg_f‹C
(*
this
,
c
) {

25494 
TÊﬂt


25495 *
	g±rd0
 = 
ªs
.
d©a
(0,0,0,0), *
	g±rd1
 =Ñes.d©a(0,0,0,1), *
	g±rd2
 =Ñes.data(0,0,0,2),

25496 *
	g±rd3
 = 
ªs
.
d©a
(0,0,0,3), *
	g±rd4
 =Ñes.d©a(0,0,0,4), *
	g±rd5
 =Ñes.data(0,0,0,5);

25497 
cimg_f‹3x3x3
(*
this
,
x
,
y
,
z
,
c
,
I
,
TÊﬂt
) {

25498 c⁄° 
TÊﬂt


25499 
	gixf
 = 
Incc
 - 
Iccc
, 
	gixb
 = Icc¯- 
Ipcc
,

25500 
	giyf
 = 
I˙c
 - 
Iccc
, 
	giyb
 = Icc¯- 
I˝c
,

25501 
	gizf
 = 
Ic˙
 - 
Iccc
, 
	gizb
 = Icc¯- 
Ic˝
;

25502 *(
	g±rd0
++)+=(
ixf
*ix‡+ 
ixb
*ixb)/2;

25503 *(
	g±rd1
++)+=(
ixf
*
iyf
 + ixf*
iyb
 + 
ixb
*iyf + ixb*iyb)/4;

25504 *(
	g±rd2
++)+=(
ixf
*
izf
 + ixf*
izb
 + 
ixb
*izf + ixb*izb)/4;

25505 *(
	g±rd3
++)+=(
iyf
*iy‡+ 
iyb
*iyb)/2;

25506 *(
	g±rd4
++)+=(
iyf
*
izf
 + iyf*
izb
 + 
iyb
*izf + iyb*izb)/4;

25507 *(
	g±rd5
++)+=(
izf
*iz‡+ 
izb
*izb)/2;

25513 
	gªs
.
assign
(
_width
,
_height
,
_dïth
,3,0);

25514 
CImg_3x3
(
I
,
TÊﬂt
);

25515 
	gscheme
) {

25517 
cimg_f‹C
(*
this
,
c
) {

25518 
TÊﬂt
 *
	g±rd0
 = 
ªs
.
d©a
(0,0,0,0), *
	g±rd1
 =Ñes.d©a(0,0,0,1), *
	g±rd2
 =Ñes.data(0,0,0,2);

25519 
cimg_f‹3x3
(*
this
,
x
,
y
,0,
c
,
I
,
TÊﬂt
) {

25520 c⁄° 
TÊﬂt


25521 
	gix
 = (
Inc
 - 
Ipc
)/2,

25522 
	giy
 = (
I˙
 - 
I˝
)/2;

25523 *(
	g±rd0
++)+=
ix
*ix;

25524 *(
	g±rd1
++)+=
ix
*
iy
;

25525 *(
	g±rd2
++)+=
iy
*iy;

25530 
cimg_f‹C
(*
this
,
c
) {

25531 
TÊﬂt
 *
	g±rd0
 = 
ªs
.
d©a
(0,0,0,0), *
	g±rd1
 =Ñes.d©a(0,0,0,1), *
	g±rd2
 =Ñes.data(0,0,0,2);

25532 
cimg_f‹3x3
(*
this
,
x
,
y
,0,
c
,
I
,
TÊﬂt
) {

25533 c⁄° 
TÊﬂt


25534 
	gixf
 = 
Inc
 - 
Icc
, 
	gixb
 = Ic¯- 
Ipc
,

25535 
	giyf
 = 
I˙
 - 
Icc
, 
	giyb
 = Ic¯- 
I˝
;

25536 *(
	g±rd0
++)+=(
ixf
*ix‡+ ixf*
ixb
 + ixb*
iyf
 + ixb*ixb)/4;

25537 *(
	g±rd1
++)+=(
ixf
*
iyf
 + ixf*
iyb
 + 
ixb
*iyf + ixb*iyb)/4;

25538 *(
	g±rd2
++)+=(
iyf
*iy‡+ iyf*
iyb
 + iyb*iyf + iyb*iyb)/4;

25543 
cimg_f‹C
(*
this
,
c
) {

25544 
TÊﬂt
 *
	g±rd0
 = 
ªs
.
d©a
(0,0,0,0), *
	g±rd1
 =Ñes.d©a(0,0,0,1), *
	g±rd2
 =Ñes.data(0,0,0,2);

25545 
cimg_f‹3x3
(*
this
,
x
,
y
,0,
c
,
I
,
TÊﬂt
) {

25546 c⁄° 
TÊﬂt


25547 
	gixf
 = 
Inc
 - 
Icc
, 
	gixb
 = Ic¯- 
Ipc
,

25548 
	giyf
 = 
I˙
 - 
Icc
, 
	giyb
 = Ic¯- 
I˝
;

25549 *(
	g±rd0
++)+=(
ixf
*ix‡+ 
ixb
*ixb)/2;

25550 *(
	g±rd1
++)+=(
ixf
*
iyf
 + ixf*
iyb
 + 
ixb
*iyf + ixb*iyb)/4;

25551 *(
	g±rd2
++)+=(
iyf
*iy‡+ 
iyb
*iyb)/2;

25557  
	gªs
;

25568 
	gCImg
<
	gT
>& 
diffusi⁄_ãns‹s
(c⁄° 
sh¨≤ess
=0.7f, c⁄° 
™isŸr›y
=0.6f,

25569 c⁄° 
Æpha
=0.6f, c⁄° 
sigma
=1.1f, c⁄° 
boﬁ
 
is_sqπ
=
Ál£
) {

25570 
CImg
<
TÊﬂt
> 
ªs
;

25571 c⁄° 
	gnsh¨≤ess
 = 
cimg
::
max
(
sh¨≤ess
,1e-5f), 
	gpowî1
 = (
is_sqπ
?0.5f:1)*
nsh¨≤ess
, 
	gpowî2
 = 
powî1
/(1e-7f+1-
™isŸr›y
);

25572 
blur
(
Æpha
).
n‹mÆize
(0,(
T
)255);

25574 i‡(
	g_dïth
>1) {

25575 
	gCImg
<
	gÊﬂtT
> 
vÆ
(3), 
vec
(3,3);

25576 
gë_°ru˘uª_ãns‹s
().
move_to
(
ªs
).
blur
(
sigma
);

25577 
TÊﬂt


25578 *
	g±rd0
 = 
ªs
.
d©a
(0,0,0,0), *
	g±rd1
 =Ñes.d©a(0,0,0,1), *
	g±rd2
 =Ñes.data(0,0,0,2),

25579 *
	g±rd3
 = 
ªs
.
d©a
(0,0,0,3), *
	g±rd4
 =Ñes.d©a(0,0,0,4), *
	g±rd5
 =Ñes.data(0,0,0,5);

25580 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

25581 
	gªs
.
gë_ãns‹_©
(
x
,
y
,
z
).
symmëric_eigí
(
vÆ
,
vec
);

25583 
	g_l1
 = 
vÆ
[2], 
	g_l2
 = vÆ[1], 
	g_l3
 = val[0],

25584 
	gl1
 = 
_l1
>0?_l1:0, 
	gl2
 = 
_l2
>0?_l2:0, 
	gl3
 = 
_l3
>0?_l3:0,

25585 
	gux
 = 
vec
(0,0), 
	guy
 = vec(0,1), 
	guz
 = vec(0,2),

25586 
	gvx
 = 
vec
(1,0), 
	gvy
 = vec(1,1), 
	gvz
 = vec(1,2),

25587 
	gwx
 = 
vec
(2,0), 
	gwy
 = vec(2,1), 
	gwz
 = vec(2,2),

25588 
	gn1
 = ()
°d
::
pow
(1+
l1
+
l2
+
l3
,-
powî1
),

25589 
	gn2
 = ()
°d
::
pow
(1+
l1
+
l2
+
l3
,-
powî2
);

25590 *(
	g±rd0
++Ë
n1
*(
ux
*ux + 
vx
*vxË+ 
n2
*
wx
*wx;

25591 *(
	g±rd1
++Ë
n1
*(
ux
*
uy
 + 
vx
*
vy
Ë+ 
n2
*
wx
*
wy
;

25592 *(
	g±rd2
++Ë
n1
*(
ux
*
uz
 + 
vx
*
vz
Ë+ 
n2
*
wx
*
wz
;

25593 *(
	g±rd3
++Ë
n1
*(
uy
*uy + 
vy
*vyË+ 
n2
*
wy
*wy;

25594 *(
	g±rd4
++Ë
n1
*(
uy
*
uz
 + 
vy
*
vz
Ë+ 
n2
*
wy
*
wz
;

25595 *(
	g±rd5
++Ë
n1
*(
uz
*uz + 
vz
*vzË+ 
n2
*
wz
*wz;

25598 
	gCImg
<
	gÊﬂtT
> 
vÆ
(2), 
vec
(2,2);

25599 
gë_°ru˘uª_ãns‹s
().
move_to
(
ªs
).
blur
(
sigma
);

25600 
TÊﬂt
 *
	g±rd0
 = 
ªs
.
d©a
(0,0,0,0), *
	g±rd1
 =Ñes.d©a(0,0,0,1), *
	g±rd2
 =Ñes.data(0,0,0,2);

25601 
cimg_f‹XY
(*
this
,
x
,
y
) {

25602 
	gªs
.
gë_ãns‹_©
(
x
,
y
).
symmëric_eigí
(
vÆ
,
vec
);

25604 
	g_l1
 = 
vÆ
[1], 
	g_l2
 = val[0],

25605 
	gl1
 = 
_l1
>0?_l1:0, 
	gl2
 = 
_l2
>0?_l2:0,

25606 
	gux
 = 
vec
(1,0), 
	guy
 = vec(1,1),

25607 
	gvx
 = 
vec
(0,0), 
	gvy
 = vec(0,1),

25608 
	gn1
 = ()
°d
::
pow
(1+
l1
+
l2
,-
powî1
),

25609 
	gn2
 = ()
°d
::
pow
(1+
l1
+
l2
,-
powî2
);

25610 *(
	g±rd0
++Ë
n1
*
ux
*ux + 
n2
*
vx
*vx;

25611 *(
	g±rd1
++Ë
n1
*
ux
*
uy
 + 
n2
*
vx
*
vy
;

25612 *(
	g±rd2
++Ë
n1
*
uy
*uy + 
n2
*
vy
*vy;

25615  
	gªs
.
move_to
(*
this
);

25619 
	gCImg
<
	gTÊﬂt
> 
gë_diffusi⁄_ãns‹s
(c⁄° 
sh¨≤ess
=0.7f, c⁄° 
™isŸr›y
=0.6f,

25620 c⁄° 
Æpha
=0.6f, c⁄° 
sigma
=1.1f, c⁄° 
boﬁ
 
is_sqπ
=
Ál£
) const {

25621  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
diffusi⁄_ãns‹s
(
sh¨≤ess
,
™isŸr›y
,
Æpha
,
sigma
,
is_sqπ
);

25633 
	gCImg
<
	gT
>& 
di•œ˚mít
(c⁄° 
CImg
<
T
>& 
sour˚
, c⁄° 
smoŸh√ss
=0.1f, c⁄° 
¥ecisi⁄
=5.0f,

25634 c⁄° 
nb_sˇÀs
=0, c⁄° 
ôî©i⁄_max
=10000,

25635 c⁄° 
boﬁ
 
is_backw¨d
=
Ál£
) {

25636  
gë_di•œ˚mít
(
sour˚
,
smoŸh√ss
,
¥ecisi⁄
,
nb_sˇÀs
,
ôî©i⁄_max
,
is_backw¨d
).
move_to
(*
this
);

25640 
	gCImg
<
	gTÊﬂt
> 
gë_di•œ˚mít
(c⁄° 
CImg
<
T
>& 
sour˚
,

25641 c⁄° 
smoŸh√ss
=0.1f, c⁄° 
¥ecisi⁄
=5.0f,

25642 c⁄° 
nb_sˇÀs
=0, c⁄° 
ôî©i⁄_max
=10000,

25643 c⁄° 
boﬁ
 
is_backw¨d
=
Ál£
) const {

25644 i‡(
is_em±y
(Ë|| !
sour˚
Ë +*
this
;

25645 i‡(!
is_ßmeXYZC
(
sour˚
))

25646 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


25648 
cimg_ö°™˚
,

25649 
sour˚
.
_width
,sour˚.
_height
,sour˚.
_dïth
,sour˚.
_•e˘rum
,sour˚.
_d©a
);

25650 i‡(
	g¥ecisi⁄
<0)

25651 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


25654 
cimg_ö°™˚
,

25655 
¥ecisi⁄
);

25656 c⁄° 
	g_nb_sˇÀs
 = 
nb_sˇÀs
>0?nb_sˇÀs:()(2*
°d
::
log
(()(
cimg
::
max
(
_width
,
_height
))));

25657 c⁄° 
	g_¥ecisi⁄
 = ()
°d
::
pow
(10.0,-()
¥ecisi⁄
);

25658 
	gsm
, 
	gsM
 = 
sour˚
.
max_mö
(
sm
), 
	gtm
, 
	gtM
 = max_mö(
tm
);

25659 c⁄° 
	gsdñè
 = 
sm
==
sM
?1:(sM - sm), 
	gtdñè
 = 
tm
==
tM
?1:(tM -Åm);

25660 c⁄° 
boﬁ
 
	gis_3d
 = 
sour˚
.
_dïth
>1;

25661 
	gCImg
<
	gÊﬂtT
> 
	gU
;

25663 
	gsˇÀ
 = 
_nb_sˇÀs
-1; scale>=0; --scale) {

25664 c⁄° 
	gÁ˘‹
 = ()
°d
::
pow
(1.5,()
sˇÀ
);

25666 
	g_sw
 = ()(
_width
/
Á˘‹
), 
	gsw
 = 
_sw
?_sw:1,

25667 
	g_sh
 = ()(
_height
/
Á˘‹
), 
	gsh
 = 
_sh
?_sh:1,

25668 
	g_sd
 = ()(
_dïth
/
Á˘‹
), 
	gsd
 = 
_sd
?_sd:1;

25669 i‡(
	gsw
<5 && 
	gsh
<5 && (!
	gis_3d
 || 
	gsd
<5)) ;

25670 c⁄° 
	gCImg
<
	gTÊﬂt
>

25671 
	gI1
 = (
sour˚
.
gë_ªsize
(
sw
,
sh
,
sd
,-100,2)-=
sm
)/=
sdñè
,

25672 
	gI2
 = (
gë_ªsize
(
I1
,2)-=
tm
)/=
tdñè
;

25673 i‡(
	gU
Ë(U*=1.5f).
ªsize
(
I2
.
_width
,I2.
_height
,I2.
_dïth
,-100,3);

25674 
	gU
.
assign
(
I2
.
_width
,I2.
_height
,I2.
_dïth
,
is_3d
?3:2,0);

25675 
	gdt
 = 2, 
	gíîgy
 = 
cimg
::
ty≥
<>::
max
();

25676 c⁄° 
	gCImgLi°
<
	gTÊﬂt
> 
	gdI
 = 
is_backw¨d
?
I1
.
gë_gødõ¡
():
I2
.get_gradient();

25678 
	gôî©i⁄
 = 0; iãøti⁄<
	gôî©i⁄_max
; ++iteration) {

25679 
	g_íîgy
 = 0;

25680 i‡(
	gis_3d
) {

25681 i‡(
	gsmoŸh√ss
>=0Ë
cimg_f‹3XYZ
(
U
,
x
,
y
,
z
) {

25683 
	gX
 = 
is_backw¨d
?
x
 - 
U
(x,
y
,
z
,0):x + U(x,y,z,0),

25684 
	gY
 = 
is_backw¨d
?
y
 - 
U
(
x
,y,
z
,1):y + U(x,y,z,1),

25685 
	gZ
 = 
is_backw¨d
?
z
 - 
U
(
x
,
y
,z,2):z + U(x,y,z,2);

25686 
	gdñè_I
 = 0, 
	g_íîgy_ªgul
 = 0;

25687 i‡(
	gis_backw¨d
Ë
cimg_f‹C
(
I2
,
c
Ë
	gdñè_I
+=()(
I1
.
löór_©XYZ
(
X
,
Y
,
Z
,cË- I2(
x
,
y
,
z
,c));

25688 
cimg_f‹C
(
I2
,
c
Ë
	gdñè_I
+=()(
I1
(
x
,
y
,
z
,cË- 
	gI2
.
löór_©XYZ
(
X
,
Y
,
Z
,c));

25689 
cimg_f‹C
(
U
,
c
) {

25691 
	gUx
 = 0.5f*(
U
(
_n1x
,
y
,
z
,
c
Ë- U(
_p1x
,y,z,c)),

25692 
	gUy
 = 0.5f*(
U
(
x
,
_n1y
,
z
,
c
Ë- U(x,
_p1y
,z,c)),

25693 
	gUz
 = 0.5f*(
U
(
x
,
y
,
_n1z
,
c
Ë- U(x,y,
_p1z
,c)),

25694 
	gUxx
 = 
U
(
_n1x
,
y
,
z
,
c
Ë+ U(
_p1x
,y,z,c),

25695 
	gUyy
 = 
U
(
x
,
_n1y
,
z
,
c
Ë+ U(x,
_p1y
,z,c),

25696 
	gUzz
 = 
U
(
x
,
y
,
_n1z
,
c
Ë+ U(x,y,
_p1z
,c);

25697 
U
(
x
,
y
,
z
,
c
Ë()(U(x,y,z,cË+ 
	gdt
*(
dñè_I
*
	gdI
[c].
löór_©XYZ
(
X
,
Y
,
Z
Ë+ 
	gsmoŸh√ss
* ( 
	gUxx
 + 
	gUyy
 + 
	gUzz
)))/(1+6*
smoŸh√ss
*dt);

25698 
	g_íîgy_ªgul
+=
Ux
*Ux + 
Uy
*Uy + 
Uz
*Uz;

25700 
	g_íîgy
+=
dñè_I
*dñè_I + 
smoŸh√ss
*
_íîgy_ªgul
;

25702 c⁄° 
	gnsmoŸh√ss
 = -
smoŸh√ss
;

25703 
cimg_f‹3XYZ
(
U
,
x
,
y
,
z
) {

25705 
	gX
 = 
is_backw¨d
?
x
 - 
U
(x,
y
,
z
,0):x + U(x,y,z,0),

25706 
	gY
 = 
is_backw¨d
?
y
 - 
U
(
x
,y,
z
,1):y + U(x,y,z,1),

25707 
	gZ
 = 
is_backw¨d
?
z
 - 
U
(
x
,
y
,z,2):z + U(x,y,z,2);

25708 
	gdñè_I
 = 0, 
	g_íîgy_ªgul
 = 0;

25709 i‡(
	gis_backw¨d
Ë
cimg_f‹C
(
I2
,
c
Ë
	gdñè_I
+=()(
I1
.
löór_©XYZ
(
X
,
Y
,
Z
,cË- I2(
x
,
y
,
z
,c));

25710 
cimg_f‹C
(
I2
,
c
Ë
	gdñè_I
+=()(
I1
(
x
,
y
,
z
,cË- 
	gI2
.
löór_©XYZ
(
X
,
Y
,
Z
,c));

25711 
cimg_f‹C
(
U
,
c
) {

25713 
	gUx
 = 0.5f*(
U
(
_n1x
,
y
,
z
,
c
Ë- U(
_p1x
,y,z,c)),

25714 
	gUy
 = 0.5f*(
U
(
x
,
_n1y
,
z
,
c
Ë- U(x,
_p1y
,z,c)),

25715 
	gUz
 = 0.5f*(
U
(
x
,
y
,
_n1z
,
c
Ë- U(x,y,
_p1z
,c)),

25716 
	gN2
 = 
Ux
*Ux + 
Uy
*Uy + 
Uz
*Uz,

25717 
	gN
 = 
°d
::
sqπ
(
N2
),

25718 
	gN3
 = 1e-5‡+ 
N2
*
N
,

25719 
	gc€f_a
 = (1 - 
Ux
*Ux/
N2
)/
N
,

25720 
	gc€f_b
 = -2*
Ux
*
Uy
/
N3
,

25721 
	gc€f_c
 = -2*
Ux
*
Uz
/
N3
,

25722 
	gc€f_d
 = (1 - 
Uy
*Uy/
N2
)/
N
,

25723 
	gc€f_e
 = -2*
Uy
*
Uz
/
N3
,

25724 
	gc€f_f
 = (1 - 
Uz
*Uz/
N2
)/
N
,

25725 
	gUxx
 = 
U
(
_n1x
,
y
,
z
,
c
Ë+ U(
_p1x
,y,z,c),

25726 
	gUyy
 = 
U
(
x
,
_n1y
,
z
,
c
Ë+ U(x,
_p1y
,z,c),

25727 
	gUzz
 = 
U
(
x
,
y
,
_n1z
,
c
Ë+ U(x,y,
_p1z
,c),

25728 
	gUxy
 = 0.25f*(
U
(
_n1x
,
_n1y
,
z
,
c
Ë+ U(
_p1x
,
_p1y
,z,c) - U(_n1x,_p1y,z,c) - U(_n1x,_p1y,z,c)),

25729 
	gUxz
 = 0.25f*(
U
(
_n1x
,
y
,
_n1z
,
c
Ë+ U(
_p1x
,y,
_p1z
,c) - U(_n1x,y,_p1z,c) - U(_n1x,y,_p1z,c)),

25730 
	gUyz
 = 0.25f*(
U
(
x
,
_n1y
,
_n1z
,
c
Ë+ U(x,
_p1y
,
_p1z
,c) - U(x,_n1y,_p1z,c) - U(x,_n1y,_p1z,c));

25731 
U
(
x
,
y
,
z
,
c
Ë()(U(x,y,z,cË+ 
	gdt
*(
dñè_I
*
	gdI
[c].
löór_©XYZ
(
X
,
Y
,
Z
) +

25732 
	gnsmoŸh√ss
* ( 
c€f_a
*
	gUxx
 + 
c€f_b
*
	gUxy
 + 
c€f_c
*
	gUxz
 + 
c€f_d
*
	gUyy
 + 
c€f_e
*
	gUyz
 + 
c€f_f
*
	gUzz
 ))

25733 )/(1+2*(
	gc€f_a
+
	gc€f_d
+
	gc€f_f
)*
nsmoŸh√ss
*
	gdt
);

25734 
	g_íîgy_ªgul
+=
N
;

25736 
	g_íîgy
+=
dñè_I
*dñè_I + 
nsmoŸh√ss
*
_íîgy_ªgul
;

25740 i‡(
	gsmoŸh√ss
>=0Ë
cimg_f‹3XY
(
U
,
x
,
y
) {

25742 
	gX
 = 
is_backw¨d
?
x
 - 
U
(x,
y
,0):x + U(x,y,0),

25743 
	gY
 = 
is_backw¨d
?
y
 - 
U
(
x
,y,1):y + U(x,y,1);

25744 
	gdñè_I
 = 0, 
	g_íîgy_ªgul
 = 0;

25745 i‡(
	gis_backw¨d
Ë
cimg_f‹C
(
I2
,
c
Ë
	gdñè_I
+=()(
I1
.
löór_©XY
(
X
,
Y
,cË- I2(
x
,
y
,c));

25746 
cimg_f‹C
(
I2
,
c
Ë
	gdñè_I
+=()(
I1
(
x
,
y
,cË- 
	gI2
.
löór_©XY
(
X
,
Y
,c));

25747 
cimg_f‹C
(
U
,
c
) {

25749 
	gUx
 = 0.5f*(
U
(
_n1x
,
y
,
c
Ë- U(
_p1x
,y,c)),

25750 
	gUy
 = 0.5f*(
U
(
x
,
_n1y
,
c
Ë- U(x,
_p1y
,c)),

25751 
	gUxx
 = 
U
(
_n1x
,
y
,
c
Ë+ U(
_p1x
,y,c),

25752 
	gUyy
 = 
U
(
x
,
_n1y
,
c
Ë+ U(x,
_p1y
,c);

25753 
U
(
x
,
y
,
c
Ë()(U(x,y,cË+ 
	gdt
*(
dñè_I
*
	gdI
[c].
löór_©XY
(
X
,
Y
Ë+ 
	gsmoŸh√ss
*–
	gUxx
 + 
	gUyy
 )))/(1+4*
smoŸh√ss
*dt);

25754 
	g_íîgy_ªgul
+=
Ux
*Ux + 
Uy
*Uy;

25756 
	g_íîgy
+=
dñè_I
*dñè_I + 
smoŸh√ss
*
_íîgy_ªgul
;

25758 c⁄° 
	gnsmoŸh√ss
 = -
smoŸh√ss
;

25759 
cimg_f‹3XY
(
U
,
x
,
y
) {

25761 
	gX
 = 
is_backw¨d
?
x
 - 
U
(x,
y
,0):x + U(x,y,0),

25762 
	gY
 = 
is_backw¨d
?
y
 - 
U
(
x
,y,1):y + U(x,y,1);

25763 
	gdñè_I
 = 0, 
	g_íîgy_ªgul
 = 0;

25764 i‡(
	gis_backw¨d
Ë
cimg_f‹C
(
I2
,
c
Ë
	gdñè_I
+=()(
I1
.
löór_©XY
(
X
,
Y
,cË- I2(
x
,
y
,c));

25765 
cimg_f‹C
(
I2
,
c
Ë
	gdñè_I
+=()(
I1
(
x
,
y
,cË- 
	gI2
.
löór_©XY
(
X
,
Y
,c));

25766 
cimg_f‹C
(
U
,
c
) {

25768 
	gUx
 = 0.5f*(
U
(
_n1x
,
y
,
c
Ë- U(
_p1x
,y,c)),

25769 
	gUy
 = 0.5f*(
U
(
x
,
_n1y
,
c
Ë- U(x,
_p1y
,c)),

25770 
	gN2
 = 
Ux
*Ux + 
Uy
*Uy,

25771 
	gN
 = 
°d
::
sqπ
(
N2
),

25772 
	gN3
 = 1e-5‡+ 
N2
*
N
,

25773 
	gc€f_a
 = 
Uy
*Uy/
N3
,

25774 
	gc€f_b
 = -2*
Ux
*
Uy
/
N3
,

25775 
	gc€f_c
 = 
Ux
*Ux/
N3
,

25776 
	gUxx
 = 
U
(
_n1x
,
y
,
c
Ë+ U(
_p1x
,y,c),

25777 
	gUyy
 = 
U
(
x
,
_n1y
,
c
Ë+ U(x,
_p1y
,c),

25778 
	gUxy
 = 0.25f*(
U
(
_n1x
,
_n1y
,
c
Ë+ U(
_p1x
,
_p1y
,c) - U(_n1x,_p1y,c) - U(_n1x,_p1y,c));

25779 
U
(
x
,
y
,
c
Ë()(U(x,y,cË+ 
	gdt
*(
dñè_I
*
	gdI
[c].
löór_©XY
(
X
,
Y
Ë+ 
	gnsmoŸh√ss
*–
c€f_a
*
	gUxx
 + 
c€f_b
*
	gUxy
 + 
c€f_c
*
	gUyy
 )))/(1+2*(
	gc€f_a
+
	gc€f_c
)*
nsmoŸh√ss
*dt);

25780 
	g_íîgy_ªgul
+=
N
;

25782 
	g_íîgy
+=
dñè_I
*dñè_I + 
nsmoŸh√ss
*
_íîgy_ªgul
;

25786 c⁄° 
	gd_íîgy
 = (
_íîgy
 - 
íîgy
)/(
sw
*
sh
*
sd
);

25787 i‡(
	gd_íîgy
<=0 && -
d_íîgy
<
_¥ecisi⁄
) ;

25788 i‡(
	gd_íîgy
>0Ë
	gdt
*=0.5f;

25789 
	gíîgy
 = 
_íîgy
;

25792  
	gU
;

25807 
	gCImg
<
	gT
>& 
di°™˚
(c⁄° 
T
 
vÆue
, c⁄° 
mëric
=2) {

25808 i‡(
is_em±y
()Ë *
this
;

25809 
boﬁ
 
	gis_vÆue
 = 
Ál£
;

25810 
cimg_f‹
(*
this
,
±r
,
T
Ë*
	g±r
 = *±r==
vÆue
?
is_vÆue
=
åue
,0:(T)999999999;

25811 i‡(!
	gis_vÆue
Ë 
fûl
(
cimg
::
ty≥
<
T
>::
max
());

25812 
	gmëric
) {

25813 0 :  
_di°™˚_c‹e
(
_di°™˚_£p_cdt
,
_di°™˚_di°_cdt
);

25814 1 :  
_di°™˚_c‹e
(
_di°™˚_£p_mdt
,
_di°™˚_di°_mdt
);

25815 3 :  
_di°™˚_c‹e
(
_di°™˚_£p_edt
,
_di°™˚_di°_edt
);

25816  :  
_di°™˚_c‹e
(
_di°™˚_£p_edt
,
_di°™˚_di°_edt
).
sqπ
();

25818  *
	gthis
;

25822 
	gCImg
<
	gTÊﬂt
> 
gë_di°™˚
(c⁄° 
T
 
vÆue
, c⁄° 
mëric
=2) const {

25823  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
di°™˚
((TÊﬂt)
vÆue
,
mëric
);

25826 
_di°™˚_£p_edt
(c⁄° 
i
, c⁄° 
u
, c⁄° *c⁄° 
g
) {

25827  (
u
*
	gu
-
i
*
	gi
+
	gg
[u]-g[i])/(2*(u-i));

25830 
_di°™˚_di°_edt
(c⁄° 
x
, c⁄° 
i
, c⁄° *c⁄° 
g
) {

25831  (
	gx
-
	gi
)*(x-iË+ 
	gg
[
i
];

25834 
_di°™˚_£p_mdt
(c⁄° 
i
, c⁄° 
u
, c⁄° *c⁄° 
g
) {

25835  (
	gu
-
	gi
<=
g
[
u
]-g[
i
]?999999999:(g[u]-g[i]+u+i)/2);

25838 
_di°™˚_di°_mdt
(c⁄° 
x
, c⁄° 
i
, c⁄° *c⁄° 
g
) {

25839  (
	gx
<
	gi
?i-x:
x
-
i
Ë+ 
g
[i];

25842 
_di°™˚_£p_cdt
(c⁄° 
i
, c⁄° 
u
, c⁄° *c⁄° 
g
) {

25843 c⁄° 
	gh
 = (
i
+
u
)/2;

25844 i‡(
	gg
[
i
]<=
g
[
u
]Ë{  
h
<i+g[u]?i+g[u]:h; }

25845  
	gh
<
	gu
-
	gg
[
i
]?h:
u
-
g
[i];

25848 
_di°™˚_di°_cdt
(c⁄° 
x
, c⁄° 
i
, c⁄° *c⁄° 
g
) {

25849 c⁄° 
	gd
 = 
x
<
i
?i-x:x-i;

25850  
	gd
<
	gg
[
i
]?g[i]:
d
;

25853 
_di°™˚_sˇn
(c⁄° 
Àn
,

25854 c⁄° *c⁄° 
g
,

25855 (*c⁄° 
£p
)(const , const , const *const),

25856 (*c⁄° 
f
)(const , const , const *const),

25857 *c⁄° 
s
,

25858 *c⁄° 
t
,

25859 *c⁄° 
dt
) {

25860 
	gq
 = 
s
[0] = 
t
[0] = 0;

25861 
	gu
 = 1; u<()
	gÀn
; ++u) {

25862 (
	gq
>=0Ë&& 
f
(
t
[
q
],
s
[q],
g
)>f—[q],
u
,g)) { --q; }

25863 i‡(
	gq
<0Ë{ q = 0; 
	gs
[0] = 
u
; }

25864 { c⁄° 
	gw
 = 1 + 
£p
(
s
[
q
], 
u
, 
g
); i‡(w<()
	gÀn
Ë{ ++
	gq
; 
	gs
[q] = u; 
	gt
[q] = 
w
; }}

25866 
	gu
 = ()
Àn
-1; u>=0; --uË{ 
	gdt
[
u
] = 
f
(u,
s
[
q
],
g
); i‡(u==
t
[q]) --q; }

25869 
	gCImg
<
	gT
>& 
_di°™˚_c‹e
((*c⁄° 
£p
)(const , const , const *const),

25870 (*c⁄° 
f
)(const , const , const *const)) {

25871 c⁄° 
	gwh
 = ()
_width
*
_height
;

25872 
cimg_f‹C
(*
this
,
c
) {

25873 
	gCImg
<
	gl⁄gT
> 
g
(
_width
), 
dt
(_width), 
s
(_width), 
t
(_width);

25874 
	gCImg
<
	gT
> 
	gimg
 = 
gë_sh¨ed_ch™√l
(
c
);

25875 
cimg_f‹YZ
(*
this
,
y
,
z
) {

25876 
cimg_f‹X
(*
this
,
x
Ë
	gg
[x] = ()
img
(x,
y
,
z
,0,
wh
);

25877 
_di°™˚_sˇn
(
_width
,
g
,
£p
,
f
,
s
,
t
,
dt
);

25878 
cimg_f‹X
(*
this
,
x
Ë
img
(x,
y
,
z
,0,
wh
Ë(
T
)
dt
[x];

25880 
	gg
.
assign
(
_height
); 
	gdt
.assign(_height); 
	gs
.assign(_height); 
	gt
.assign(_height);

25881 
cimg_f‹XZ
(*
this
,
x
,
z
) {

25882 
cimg_f‹Y
(*
this
,
y
Ë
	gg
[y] = ()
img
(
x
,y,
z
,0,
wh
);

25883 
_di°™˚_sˇn
(
_height
,
g
,
£p
,
f
,
s
,
t
,
dt
);

25884 
cimg_f‹Y
(*
this
,
y
Ë
img
(
x
,y,
z
,0,
wh
Ë(
T
)
dt
[y];

25886 i‡(
	g_dïth
>1) {

25887 
	gg
.
assign
(
_dïth
); 
	gdt
.assign(_dïth); 
	gs
.assign(_dïth); 
	gt
.assign(_depth);

25888 
cimg_f‹XY
(*
this
,
x
,
y
) {

25889 
cimg_f‹Z
(*
this
,
z
Ë
	gg
[z] = ()
img
(
x
,
y
,z,0,
wh
);

25890 
_di°™˚_sˇn
(
_dïth
,
g
,
£p
,
f
,
s
,
t
,
dt
);

25891 
cimg_f‹Z
(*
this
,
z
Ë
img
(
x
,
y
,z,0,
wh
Ë(
T
)
dt
[z];

25895  *
	gthis
;

25904 
	gãm∂©e
<
ty≥«me
 
	gt
>

25905 
	gCImg
<
	gT
>& 
di°™˚
(c⁄° 
T
 
vÆue
, c⁄° 
CImg
<
t
>& 
mëric_mask
) {

25906 i‡(
is_em±y
()Ë *
	gthis
;

25907 
boﬁ
 
	gis_vÆue
 = 
Ál£
;

25908 
cimg_f‹
(*
this
,
±r
,
T
Ë*
	g±r
 = *±r==
vÆue
?
is_vÆue
=
åue
,0:(T)999999999;

25909 i‡(!
	gis_vÆue
Ë 
fûl
(
cimg
::
ty≥
<
T
>::
max
());

25910 c⁄° 
	gwh
 = ()
_width
*
_height
;

25911 
cimg_f‹C
(*
this
,
c
) {

25912 
	gCImg
<
	gT
> 
	gimg
 = 
gë_sh¨ed_ch™√l
(
c
);

25913 
cimg_f‹XYZ
(
mëric_mask
,
dx
,
dy
,
dz
) {

25914 c⁄° 
t
 
	gweight
 = 
mëric_mask
(
dx
,
dy
,
dz
);

25915 i‡(
	gweight
) {

25916 
	gz
 = 
dz
, 
	gnz
 = 0; z<
dïth
(); ++z,++nz) {

25917 
	gy
 = 
dy
 , 
	gny
 = 0; y<
height
(); ++y,++ny) {

25918 
	gx
 = 
dx
, 
	gnx
 = 0; x<
width
(); ++x,++nx) {

25919 c⁄° 
T
 
	gdd
 = 
img
(
nx
,
ny
,
nz
,0,
wh
Ë+ 
	gweight
;

25920 i‡(
	gdd
<
img
(
x
,
y
,
z
,0,
wh
)Ëimg(x,y,z,0,whË
dd
;

25924 
	gz
 = 
dïth
(Ë- 1 - 
dz
, 
	gnz
 = depth() - 1; z>=0; --z,--nz) {

25925 
	gy
 = 
height
(Ë- 1 - 
dy
, 
	gny
 = height() - 1; y>=0; --y,--ny) {

25926 
	gx
 = 
width
(Ë- 1 - 
dx
, 
	gnx
 = width() - 1; x>=0; --x,--nx) {

25927 c⁄° 
T
 
	gdd
 = 
img
(
nx
,
ny
,
nz
,0,
wh
Ë+ 
	gweight
;

25928 i‡(
	gdd
<
img
(
x
,
y
,
z
,0,
wh
)Ëimg(x,y,z,0,whË
dd
;

25935  *
	gthis
;

25939 
	gãm∂©e
<
ty≥«me
 
	gt
>

25940 
	gCImg
<
	gTÊﬂt
> 
gë_di°™˚
(c⁄° 
T
 
vÆue
, c⁄° 
CImg
<
t
>& 
mëric_mask
) const {

25941  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
di°™˚
(
vÆue
,
mëric_mask
);

25950 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gto
>

25951 
	gCImg
<
	gT
>& 
di°™˚_dijk°ø
(c⁄° 
T
 
vÆue
, c⁄° 
CImg
<
t
>& 
mëric
, c⁄° 
boﬁ
 
is_high_c⁄√˘ivôy
, CImg<
to
>& 
ªtu∫_∑th
) {

25952  
gë_di°™˚_dijk°ø
(
vÆue
,
mëric
,
is_high_c⁄√˘ivôy
,
ªtu∫_∑th
).
move_to
(*
this
);

25956 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gto
>

25957 
	gCImg
<
	gTÊﬂt
> 
gë_di°™˚_dijk°ø
(c⁄° 
T
 
vÆue
, c⁄° 
CImg
<
t
>& 
mëric
, c⁄° 
boﬁ
 
is_high_c⁄√˘ivôy
, CImg<
to
>& 
ªtu∫_∑th
) const {

25958 i‡(
is_em±y
()Ë 
	gªtu∫_∑th
.
assign
();

25959 i‡(!
is_ßmeXYZ
(
mëric
))

25960 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


25962 
cimg_ö°™˚
,

25963 
mëric
.
_width
,mëric.
_height
,mëric.
_dïth
,mëric.
_•e˘rum
);

25964 
	gCImg
<
	gTÊﬂt
> 
ªsu…
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

25965 
	gCImg
<
	gboﬁT
> 
is_queued
(
_width
,
_height
,
_dïth
,1);

25966 
	gCImg
<
	gTöt
> 
	gQ
;

25967 i‡(
	gªtu∫_∑th
Ëªtu∫_∑th.
assign
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

25969 
cimg_f‹C
(*
this
,
c
) {

25970 c⁄° 
	gCImg
<
	gT
> 
	gimg
 = 
gë_sh¨ed_ch™√l
(
c
);

25971 c⁄° 
	gCImg
<
	gt
> 
	gmë
 = 
mëric
.
gë_sh¨ed_ch™√l
(
c
%mëric.
_•e˘rum
);

25972 
	gCImg
<
	gTÊﬂt
> 
	gªs
 = 
ªsu…
.
gë_sh¨ed_ch™√l
(
c
);

25973 
	gCImg
<
	gto
> 
	g∑th
 = 
ªtu∫_∑th
?ªtu∫_∑th.
gë_sh¨ed_ch™√l
(
c
):
CImg
<
to
>();

25974 
	gsizeQ
 = 0;

25977 
	gis_queued
.
fûl
(0);

25978 
cimg_f‹XYZ
(
img
,
x
,
y
,
z
Ëi‡(img(x,y,z)==
vÆue
) {

25979 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,0,
x
,
y
,
z
);

25980 
ªs
(
x
,
y
,
z
) = 0;

25981 i‡(
	g∑th
Ë
∑th
(
x
,
y
,
z
Ë(
to
)0;

25985 
	gsizeQ
) {

25988 c⁄° 
	gx
 = ()
Q
(0,1), 
	gy
 = ()Q(0,2), 
	gz
 = ()Q(0,3);

25989 c⁄° 
TÊﬂt
 
	gP
 = (TÊﬂt)-
Q
(0,0);

25990 
	gQ
.
_¥i‹ôy_queue_ªmove
(
sizeQ
);

25993 
TÊﬂt
 
	g≈Ÿ
 = 0;

25994 i‡(
	gx
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
më
(
x
-1,
y
,
z
)+
P
),x-1,y,z)) {

25995 
ªs
(
x
-1,
y
,
z
Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y,zË(
to
)2;

25997 i‡(
	gx
+1<
width
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
më
(
x
+1,
y
,
z
)+
P
),x+1,y,z)) {

25998 
ªs
(
x
+1,
y
,
z
Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y,zË(
to
)1;

26000 i‡(
	gy
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
më
(
x
,
y
-1,
z
)+
P
),x,y-1,z)) {

26001 
ªs
(
x
,
y
-1,
z
Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x,y-1,zË(
to
)8;

26003 i‡(
	gy
+1<
height
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
më
(
x
,
y
+1,
z
)+
P
),x,y+1,z)) {

26004 
ªs
(
x
,
y
+1,
z
Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x,y+1,zË(
to
)4;

26006 i‡(
	gz
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
më
(
x
,
y
,
z
-1)+
P
),x,y,z-1)) {

26007 
ªs
(
x
,
y
,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x,y,z-1Ë(
to
)32;

26009 i‡(
	gz
+1<
dïth
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
më
(
x
,
y
,
z
+1)+
P
),x,y,z+1)) {

26010 
ªs
(
x
,
y
,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x,y,z+1Ë(
to
)16;

26013 i‡(
	gis_high_c⁄√˘ivôy
) {

26014 c⁄° 
	gsqπ2
 = 
°d
::
sqπ
(2.0f), 
	gsqπ3
 = std::sqrt(3.0f);

26017 i‡(
	gx
-1>=0 && 
y
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
-1,y-1,
z
)+
P
),x-1,y-1,z)) {

26018 
ªs
(
x
-1,
y
-1,
z
Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y-1,zË(
to
)10;

26020 i‡(
	gx
+1<
width
(Ë&& 
	gy
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
+1,
y
-1,
z
)+
P
),x+1,y-1,z)) {

26021 
ªs
(
x
+1,
y
-1,
z
Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y-1,zË(
to
)9;

26023 i‡(
	gx
-1>=0 && 
y
+1<
height
(Ë&& 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
-1,y+1,
z
)+
P
),x-1,y+1,z)) {

26024 
ªs
(
x
-1,
y
+1,
z
Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y+1,zË(
to
)6;

26026 i‡(
	gx
+1<
width
(Ë&& 
	gy
+1<
height
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
+1,
y
+1,
z
)+
P
),x+1,y+1,z)) {

26027 
ªs
(
x
+1,
y
+1,
z
Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y+1,zË(
to
)5;

26030 i‡(
	gz
-1>=0) {

26031 i‡(
x
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(x-1,
y
,
z
-1)+
P
),x-1,y,z-1)) {

26032 
ªs
(
x
-1,
y
,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y,z-1Ë(
to
)34;

26034 i‡(
	gx
+1<
width
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
+1,
y
,
z
-1)+
P
),x+1,y,z-1)) {

26035 
ªs
(
x
+1,
y
,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y,z-1Ë(
to
)33;

26037 i‡(
	gy
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
,
y
-1,
z
-1)+
P
),x,y-1,z-1)) {

26038 
ªs
(
x
,
y
-1,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x,y-1,z-1Ë(
to
)40;

26040 i‡(
	gy
+1<
height
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
,
y
+1,
z
-1)+
P
),x,y+1,z-1)) {

26041 
ªs
(
x
,
y
+1,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x,y+1,z-1Ë(
to
)36;

26043 i‡(
	gx
-1>=0 && 
y
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ3
*
më
(
x
-1,y-1,
z
-1)+
P
),x-1,y-1,z-1)) {

26044 
ªs
(
x
-1,
y
-1,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y-1,z-1Ë(
to
)42;

26046 i‡(
	gx
+1<
width
(Ë&& 
	gy
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ3
*
më
(
x
+1,
y
-1,
z
-1)+
P
),x+1,y-1,z-1)) {

26047 
ªs
(
x
+1,
y
-1,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y-1,z-1Ë(
to
)41;

26049 i‡(
	gx
-1>=0 && 
y
+1<
height
(Ë&& 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ3
*
më
(
x
-1,y+1,
z
-1)+
P
),x-1,y+1,z-1)) {

26050 
ªs
(
x
-1,
y
+1,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y+1,z-1Ë(
to
)38;

26052 i‡(
	gx
+1<
width
(Ë&& 
	gy
+1<
height
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ3
*
më
(
x
+1,
y
+1,
z
-1)+
P
),x+1,y+1,z-1)) {

26053 
ªs
(
x
+1,
y
+1,
z
-1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y+1,z-1Ë(
to
)37;

26057 i‡(
	gz
+1<
dïth
()) {

26058 i‡(
	gx
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
-1,
y
,
z
+1)+
P
),x-1,y,z+1)) {

26059 
ªs
(
x
-1,
y
,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y,z+1Ë(
to
)18;

26061 i‡(
	gx
+1<
width
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
+1,
y
,
z
+1)+
P
),x+1,y,z+1)) {

26062 
ªs
(
x
+1,
y
,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y,z+1Ë(
to
)17;

26064 i‡(
	gy
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
,
y
-1,
z
+1)+
P
),x,y-1,z+1)) {

26065 
ªs
(
x
,
y
-1,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x,y-1,z+1Ë(
to
)24;

26067 i‡(
	gy
+1<
height
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ2
*
më
(
x
,
y
+1,
z
+1)+
P
),x,y+1,z+1)) {

26068 
ªs
(
x
,
y
+1,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x,y+1,z+1Ë(
to
)20;

26070 i‡(
	gx
-1>=0 && 
y
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ3
*
më
(
x
-1,y-1,
z
+1)+
P
),x-1,y-1,z+1)) {

26071 
ªs
(
x
-1,
y
-1,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y-1,z+1Ë(
to
)26;

26073 i‡(
	gx
+1<
width
(Ë&& 
	gy
-1>=0 && 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ3
*
më
(
x
+1,
y
-1,
z
+1)+
P
),x+1,y-1,z+1)) {

26074 
ªs
(
x
+1,
y
-1,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y-1,z+1Ë(
to
)25;

26076 i‡(
	gx
-1>=0 && 
y
+1<
height
(Ë&& 
Q
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ3
*
më
(
x
-1,y+1,
z
+1)+
P
),x-1,y+1,z+1)) {

26077 
ªs
(
x
-1,
y
+1,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x-1,y+1,z+1Ë(
to
)22;

26079 i‡(
	gx
+1<
width
(Ë&& 
	gy
+1<
height
(Ë&& 
	gQ
.
_¥i‹ôy_queue_ö£π
(
is_queued
,
sizeQ
,-(
≈Ÿ
=
sqπ3
*
më
(
x
+1,
y
+1,
z
+1)+
P
),x+1,y+1,z+1)) {

26080 
ªs
(
x
+1,
y
+1,
z
+1Ë
≈Ÿ
; i‡(
	g∑th
Ë
∑th
(x+1,y+1,z+1Ë(
to
)21;

26086  
	gªsu…
;

26090 
	gãm∂©e
<
ty≥«me
 
	gt
>

26091 
	gCImg
<
	gT
>& 
di°™˚_dijk°ø
(c⁄° 
T
 
vÆue
, c⁄° 
CImg
<
t
>& 
mëric
, c⁄° 
boﬁ
 
is_high_c⁄√˘ivôy
=
Ál£
) {

26092  
gë_di°™˚_dijk°ø
(
vÆue
,
mëric
,
is_high_c⁄√˘ivôy
).
move_to
(*
this
);

26096 
	gãm∂©e
<
ty≥«me
 
	gt
>

26097 
	gCImg
<
	gTÊﬂt
> 
gë_di°™˚_dijk°ø
(c⁄° 
T
 
vÆue
, c⁄° 
CImg
<
t
>& 
mëric
, c⁄° 
boﬁ
 
is_high_c⁄√˘ivôy
=
Ál£
) const {

26098 
CImg
<
T
> 
ªtu∫_∑th
;

26099  
gë_di°™˚_dijk°ø
(
vÆue
,
mëric
,
is_high_c⁄√˘ivôy
,
ªtu∫_∑th
);

26107 
	gãm∂©e
<
ty≥«me
 
	gt
>

26108 
	gCImg
& 
di°™˚_eik⁄Æ
(c⁄° 
T
 
vÆue
, c⁄° 
CImg
<
t
>& 
mëric
) {

26109  
gë_di°™˚_eik⁄Æ
(
vÆue
,
mëric
).
move_to
(*
this
);

26113 
	gãm∂©e
<
ty≥«me
 
	gt
>

26114 
	gCImg
<
	gTÊﬂt
> 
gë_di°™˚_eik⁄Æ
(c⁄° 
T
 
vÆue
, c⁄° 
CImg
<
t
>& 
mëric
) const {

26115 i‡(
is_em±y
()Ë *
	gthis
;

26116 i‡(!
is_ßmeXYZ
(
mëric
))

26117 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


26119 
cimg_ö°™˚
,

26120 
mëric
.
_width
,mëric.
_height
,mëric.
_dïth
,mëric.
_•e˘rum
);

26121 
	gCImg
<
	gTÊﬂt
> 
ªsu…
(
_width
,
_height
,
_dïth
,
_•e˘rum
,
cimg
::
ty≥
<
TÊﬂt
>::
max
()),
	gQ
;

26122 
	gCImg
<
	gch¨T
> 
°©e
(
_width
,
_height
,
_dïth
);

26124 
cimg_f‹C
(*
this
,
c
) {

26125 c⁄° 
	gCImg
<
	gT
> 
	gimg
 = 
gë_sh¨ed_ch™√l
(
c
);

26126 c⁄° 
	gCImg
<
	gt
> 
	gmë
 = 
mëric
.
gë_sh¨ed_ch™√l
(
c
%mëric.
_•e˘rum
);

26127 
	gCImg
<
	gTÊﬂt
> 
	gªs
 = 
ªsu…
.
gë_sh¨ed_ch™√l
(
c
);

26128 
	gsizeQ
 = 0;

26129 
	g°©e
.
fûl
(-1);

26132 
TÊﬂt
 *
	g±r1
 = 
ªs
.
_d©a
; *
	g±r2
 = 
°©e
._data;

26133 
cimg_f‹
(
img
,
±r0
,
T
Ë{ i‡(*
	g±r0
==
vÆue
Ë{ *
±r1
 = 0; *
	g±r2
 = 1; } ++
	g±r1
; ++ptr2; }

26136 
	g±r2
 = 
°©e
.
_d©a
;

26137 
cimg_f‹XYZ
(
img
,
x
,
y
,
z
Ëi‡(*(
	g±r2
++)==1) {

26138 i‡(
x
-1>=0 && 
°©e
(x-1,
y
,
z
)==-1) {

26139 c⁄° 
TÊﬂt
 
di°
 = 
ªs
(
x
-1,
y
,
z
Ë
__di°™˚_eik⁄Æ
‘es,
më
(x-1,y,z),x-1,y,z);

26140 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-
di°
,
x
-1,
y
,
z
);

26142 i‡(
	gx
+1<
width
(Ë&& 
°©e
(
x
+1,
y
,
z
)==-1) {

26143 c⁄° 
TÊﬂt
 
di°
 = 
ªs
(
x
+1,
y
,
z
Ë
__di°™˚_eik⁄Æ
‘es,
më
(x+1,y,z),x+1,y,z);

26144 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-
di°
,
x
+1,
y
,
z
);

26146 i‡(
	gy
-1>=0 && 
°©e
(
x
,
y
-1,
z
)==-1) {

26147 c⁄° 
TÊﬂt
 
di°
 = 
ªs
(
x
,
y
-1,
z
Ë
__di°™˚_eik⁄Æ
‘es,
më
(x,y-1,z),x,y-1,z);

26148 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-
di°
,
x
,
y
-1,
z
);

26150 i‡(
	gy
+1<
height
(Ë&& 
°©e
(
x
,
y
+1,
z
)==-1) {

26151 c⁄° 
TÊﬂt
 
di°
 = 
ªs
(
x
,
y
+1,
z
Ë
__di°™˚_eik⁄Æ
‘es,
më
(x,y+1,z),x,y+1,z);

26152 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-
di°
,
x
,
y
+1,
z
);

26154 i‡(
	gz
-1>=0 && 
°©e
(
x
,
y
,
z
-1)==-1) {

26155 c⁄° 
TÊﬂt
 
di°
 = 
ªs
(
x
,
y
,
z
-1Ë
__di°™˚_eik⁄Æ
‘es,
më
(x,y,z-1),x,y,z-1);

26156 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-
di°
,
x
,
y
,
z
-1);

26158 i‡(
	gz
+1<
dïth
(Ë&& 
°©e
(
x
,
y
,
z
+1)==-1) {

26159 c⁄° 
TÊﬂt
 
di°
 = 
ªs
(
x
,
y
,
z
+1Ë
__di°™˚_eik⁄Æ
‘es,
më
(x,y,z+1),x,y,z+1);

26160 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-
di°
,
x
,
y
,
z
+1);

26165 
	gsizeQ
) {

26166 
	gx
 = -1, 
	gy
 = -1, 
	gz
 = -1;

26167 
	gsizeQ
 && 
	gx
<0) {

26168 
	gx
 = ()
Q
(0,1); 
	gy
 = ()Q(0,2); 
	gz
 = ()Q(0,3);

26169 
	gQ
.
_¥i‹ôy_queue_ªmove
(
sizeQ
);

26170 i‡(
°©e
(
x
,
y
,
z
)==1) x = -1; state(x,y,z) = 1;

26172 i‡(
	gx
>=0) {

26173 i‡(
x
-1>=0 && 
°©e
(x-1,
y
,
z
)!=1) {

26174 c⁄° 
TÊﬂt
 
di°
 = 
__di°™˚_eik⁄Æ
(
ªs
,
më
(
x
-1,
y
,
z
),x-1,y,z);

26175 i‡(
	gdi°
<
ªs
(
x
-1,
y
,
z
)Ë{Ñes(x-1,y,zË
di°
; 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-dist,x-1,y,z); }

26177 i‡(
	gx
+1<
width
(Ë&& 
°©e
(
x
+1,
y
,
z
)!=1) {

26178 c⁄° 
TÊﬂt
 
di°
 = 
__di°™˚_eik⁄Æ
(
ªs
,
më
(
x
+1,
y
,
z
),x+1,y,z);

26179 i‡(
	gdi°
<
ªs
(
x
+1,
y
,
z
)Ë{Ñes(x+1,y,zË
di°
; 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-dist,x+1,y,z); }

26181 i‡(
	gy
-1>=0 && 
°©e
(
x
,
y
-1,
z
)!=1) {

26182 c⁄° 
TÊﬂt
 
di°
 = 
__di°™˚_eik⁄Æ
(
ªs
,
më
(
x
,
y
-1,
z
),x,y-1,z);

26183 i‡(
	gdi°
<
ªs
(
x
,
y
-1,
z
)Ë{Ñes(x,y-1,zË
di°
; 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-dist,x,y-1,z); }

26185 i‡(
	gy
+1<
height
(Ë&& 
°©e
(
x
,
y
+1,
z
)!=1) {

26186 c⁄° 
TÊﬂt
 
di°
 = 
__di°™˚_eik⁄Æ
(
ªs
,
më
(
x
,
y
+1,
z
),x,y+1,z);

26187 i‡(
	gdi°
<
ªs
(
x
,
y
+1,
z
)Ë{Ñes(x,y+1,zË
di°
; 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-dist,x,y+1,z); }

26189 i‡(
	gz
-1>=0 && 
°©e
(
x
,
y
,
z
-1)!=1) {

26190 c⁄° 
TÊﬂt
 
di°
 = 
__di°™˚_eik⁄Æ
(
ªs
,
më
(
x
,
y
,
z
-1),x,y,z-1);

26191 i‡(
	gdi°
<
ªs
(
x
,
y
,
z
-1)Ë{Ñes(x,y,z-1Ë
di°
; 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-dist,x,y,z-1); }

26193 i‡(
	gz
+1<
dïth
(Ë&& 
°©e
(
x
,
y
,
z
+1)!=1) {

26194 c⁄° 
TÊﬂt
 
di°
 = 
__di°™˚_eik⁄Æ
(
ªs
,
më
(
x
,
y
,
z
+1),x,y,z+1);

26195 i‡(
	gdi°
<
ªs
(
x
,
y
,
z
+1)Ë{Ñes(x,y,z+1Ë
di°
; 
	gQ
.
_eik_¥i‹ôy_queue_ö£π
(
°©e
,
sizeQ
,-dist,x,y,z+1); }

26200  
	gªsu…
;

26204 
TÊﬂt
 
__di°™˚_eik⁄Æ
(c⁄° 
CImg
<TÊﬂt>& 
ªs
, c⁄° TÊﬂà
P
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0) const {

26205 c⁄° 
T
 
M
 = 
cimg
::
ty≥
<T>::
max
();

26206 
T
 
	gT1
 = 
cimg
::
mö
(
x
-1>=0?
ªs
(x-1,
y
,
z
):
M
,x+1<
width
()?res(x+1,y,z):M);

26207 
TÊﬂt
 
	groŸ
 = 0;

26208 i‡(
	g_dïth
>1) {

26209 
T


26210 
	gT2
 = 
cimg
::
mö
(
y
-1>=0?
ªs
(
x
,y-1,
z
):
M
,y+1<
height
()?res(x,y+1,z):M),

26211 
	gT3
 = 
cimg
::
mö
(
z
-1>=0?
ªs
(
x
,
y
,z-1):
M
,z+1<
dïth
()?res(x,y,z+1):M);

26212 i‡(
	gT1
>
	gT2
Ë
	gcimg
::
sw≠
(
T1
,
T2
);

26213 i‡(
	gT2
>
	gT3
Ë
	gcimg
::
sw≠
(
T2
,
T3
);

26214 i‡(
	gT1
>
	gT2
Ë
	gcimg
::
sw≠
(
T1
,
T2
);

26215 i‡(
	gP
<=0Ë (
TÊﬂt
)
T1
;

26216 i‡(
	gT3
<
	gM
 && 
___di°™˚_eik⁄Æ
(3,-2*(
T1
+
T2
+
T3
),T1*T1+T2*T2+T3*T3-
P
*P,
roŸ
)Ë 
	gcimg
::
max
((
TÊﬂt
)T3,root);

26217 i‡(
	gT2
<
	gM
 && 
___di°™˚_eik⁄Æ
(2,-2*(
T1
+
T2
),T1*T1+T2*T2-
P
*P,
roŸ
)Ë 
	gcimg
::
max
((
TÊﬂt
)T2,root);

26218  
	gP
 + 
	gT1
;

26219 } i‡(
	g_height
>1) {

26220 
T
 
	gT2
 = 
cimg
::
mö
(
y
-1>=0?
ªs
(
x
,y-1,
z
):
M
,y+1<
height
()?res(x,y+1,z):M);

26221 i‡(
	gT1
>
	gT2
Ë
	gcimg
::
sw≠
(
T1
,
T2
);

26222 i‡(
	gP
<=0Ë (
TÊﬂt
)
T1
;

26223 i‡(
	gT2
<
	gM
 && 
___di°™˚_eik⁄Æ
(2,-2*(
T1
+
T2
),T1*T1+T2*T2-
P
*P,
roŸ
)Ë 
	gcimg
::
max
((
TÊﬂt
)T2,root);

26224  
	gP
 + 
	gT1
;

26226 i‡(
	gP
<=0Ë (
TÊﬂt
)
T1
;

26227  
	gP
 + 
	gT1
;

26233 
boﬁ
 
___di°™˚_eik⁄Æ
(c⁄° 
TÊﬂt
 
a
, c⁄° TÊﬂà
b
, c⁄° TÊﬂà
c
, TÊﬂà&
roŸ
) {

26234 c⁄° 
TÊﬂt
 
	gdñè
 = 
b
*b - 4*
a
*
c
;

26235 i‡(
	gdñè
<0Ë 
	gÁl£
;

26236 
	groŸ
 = 0.5f*(-
b
 + 
°d
::
sqπ
(
dñè
))/
a
;

26237  
	gåue
;

26241 
	gãm∂©e
<
ty≥«me
 
	gt
>

26242 
_eik_¥i‹ôy_queue_ö£π
(
CImg
<
ch¨T
>& 
°©e
, & 
siz
, c⁄° 
t
 
vÆue
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
) {

26243 i‡(
°©e
(
x
,
y
,
z
)>0) ;

26244 
°©e
(
x
,
y
,
z
) = 0;

26245 i‡(++
	gsiz
>=
_width
Ë{ i‡(!
is_em±y
()Ë
ªsize
(_width*2,4,1,1,0); 
assign
(64,4); }

26246 (*
	gthis
)(
	gsiz
-1,0Ë(
T
)
vÆue
; (*this)(siz-1,1Ë(T)
x
; (*this)(siz-1,2Ë(T)
y
; (*this)(siz-1,3Ë(T)
z
;

26247 
	gpos
 = 
siz
 - 1, 
	g∑r
 = 0;Öo†&& 
	gvÆue
>(*
	gthis
)’¨=(
pos
+1)/2-1,0);Öo†
∑r
) {

26248 
cimg
::
sw≠
((*
this
)(
pos
,0),(*this)(
∑r
,0)); 
	gcimg
::swap((*this)(pos,1),(*this)(par,1));

26249 
	gcimg
::
sw≠
((*
this
)(
pos
,2),(*this)(
∑r
,2)); cimg::swap((*this)(pos,3),(*this)(par,3));

26259 
	gCImg
<
	gT
>& 
di°™˚_eik⁄Æ
(c⁄° 
nb_ôî©i⁄s
, c⁄° 
b™d_size
=0, c⁄° 
time_°ï
=0.5f) {

26260 i‡(
is_em±y
()Ë *
this
;

26261 
	gCImg
<
	gTÊﬂt
> 
vñocôy
(*
this
);

26262 
	gôî©i⁄
 = 0; iãøti⁄<
	gnb_ôî©i⁄s
; ++iteration) {

26263 
TÊﬂt
 *
	g±rd
 = 
vñocôy
.
_d©a
, 
	gvñoc_max
 = 0;

26264 i‡(
	g_dïth
>1) {

26265 
CImg_3x3x3
(
I
,
TÊﬂt
);

26266 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3x3
(*this,
x
,
y
,
z
,c,
I
,
TÊﬂt
Ëi‡(
	gb™d_size
<=0 || 
cimg
::
abs
(
Iccc
)<
b™d_size
) {

26267 c⁄° 
TÊﬂt


26268 
gx
 = (
Incc
 - 
Ipcc
)/2,

26269 
	ggy
 = (
I˙c
 - 
I˝c
)/2,

26270 
	ggz
 = (
Ic˙
 - 
Ic˝
)/2,

26271 
	gsgn
 = -
cimg
::
sign
(
Iccc
),

26272 
	gix
 = 
gx
*
sgn
>0?(
Incc
 - 
Iccc
):(Icc¯- 
Ipcc
),

26273 
	giy
 = 
gy
*
sgn
>0?(
I˙c
 - 
Iccc
):(Icc¯- 
I˝c
),

26274 
	giz
 = 
gz
*
sgn
>0?(
Ic˙
 - 
Iccc
):(Icc¯- 
Ic˝
),

26275 
	gng
 = (
TÊﬂt
)(1e-5‡+ 
°d
::
sqπ
(
gx
*gx + 
gy
*gy + 
gz
*gz)),

26276 
	gngx
 = 
gx
/
ng
,

26277 
	gngy
 = 
gy
/
ng
,

26278 
	gngz
 = 
gz
/
ng
,

26279 
	gvñoc
 = 
sgn
*(
ngx
*
ix
 + 
ngy
*
iy
 + 
ngz
*
iz
 - 1);

26280 *(
	g±rd
++Ë
vñoc
;

26281 i‡(
	gvñoc
>
	gvñoc_max
Ëvñoc_max = 
vñoc
; if (-veloc>veloc_max) veloc_max = -veloc;

26282 } *(
	g±rd
++) = 0;

26284 
CImg_3x3
(
I
,
TÊﬂt
);

26285 
cimg_f‹C
(*
this
,
c
Ë
cimg_f‹3x3
(*this,
x
,
y
,0,c,
I
,
TÊﬂt
Ëi‡(
	gb™d_size
<=0 || 
cimg
::
abs
(
Icc
)<
b™d_size
) {

26286 c⁄° 
TÊﬂt


26287 
gx
 = (
Inc
 - 
Ipc
)/2,

26288 
	ggy
 = (
I˙
 - 
I˝
)/2,

26289 
	gsgn
 = -
cimg
::
sign
(
Icc
),

26290 
	gix
 = 
gx
*
sgn
>0?(
Inc
 - 
Icc
):(Ic¯- 
Ipc
),

26291 
	giy
 = 
gy
*
sgn
>0?(
I˙
 - 
Icc
):(Ic¯- 
I˝
),

26292 
	gng
 = (
TÊﬂt
)(1e-5‡+ 
°d
::
sqπ
(
gx
*gx + 
gy
*gy)),

26293 
	gngx
 = 
gx
/
ng
,

26294 
	gngy
 = 
gy
/
ng
,

26295 
	gvñoc
 = 
sgn
*(
ngx
*
ix
 + 
ngy
*
iy
 - 1);

26296 *(
	g±rd
++Ë
vñoc
;

26297 i‡(
	gvñoc
>
	gvñoc_max
Ëvñoc_max = 
vñoc
; if (-veloc>veloc_max) veloc_max = -veloc;

26298 } *(
	g±rd
++) = 0;

26300 i‡(
	gvñoc_max
>0Ë*
	gthis
+=(
vñocôy
*=
time_°ï
/
vñoc_max
);

26302  *
	gthis
;

26306 
	gCImg
<
	gTÊﬂt
> 
gë_di°™˚_eik⁄Æ
(c⁄° 
nb_ôî©i⁄s
, c⁄° 
b™d_size
=0, c⁄° 
time_°ï
=0.5f) const {

26307  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
di°™˚_eik⁄Æ
(
nb_ôî©i⁄s
,
b™d_size
,
time_°ï
);

26316 
	gCImg
<
	gT
>& 
hØr
(c⁄° 
axis
, c⁄° 
boﬁ
 
övît
=
Ál£
, c⁄° 
nb_sˇÀs
=1) {

26317  
gë_hØr
(
axis
,
övît
,
nb_sˇÀs
).
move_to
(*
this
);

26321 
	gCImg
<
	gTÊﬂt
> 
gë_hØr
(c⁄° 
axis
, c⁄° 
boﬁ
 
övît
=
Ál£
, c⁄° 
nb_sˇÀs
=1) const {

26322 i‡(
is_em±y
(Ë|| !
nb_sˇÀs
Ë +*
this
;

26323 
	gCImg
<
	gTÊﬂt
> 
	gªs
;

26324 c⁄° 
TÊﬂt
 
	gsqπ2
 = 
°d
::
sqπ
(2);

26325 i‡(
	gnb_sˇÀs
==1) {

26326 
cimg
::
unˇ£
(
axis
)) {

26328 c⁄° 
w
 = 
_width
/2;

26329 i‡(
	gw
) {

26330 i‡((
	gw
%2) && w!=1)

26331 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26333 
cimg_ö°™˚
,

26334 
w
);

26336 
	gªs
.
assign
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

26337 i‡(
	gövît
Ë
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

26338 
	gx
 = 0, 
	gxw
 = 
w
, 
	gx2
 = 0; x<
	gw
; ++x, ++xw) {

26339 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gvÆ1
 = (TÊﬂt)(*this)(
xw
,y,z,c);

26340 
ªs
(
x2
++,
y
,
z
,
c
Ë(
vÆ0
 - 
vÆ1
)/
sqπ2
;

26341 
ªs
(
x2
++,
y
,
z
,
c
Ë(
vÆ0
 + 
vÆ1
)/
sqπ2
;

26343 } 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

26344 
	gx
 = 0, 
	gxw
 = 
w
, 
	gx2
 = 0; x<
	gw
; ++x, ++xw) {

26345 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)(*
this
)(
x2
++,
	gy
,
	gz
,
	gc
), 
	gvÆ1
 = (Tfloat)(*this)(x2++,y,z,c);

26346 
ªs
(
x
,
y
,
z
,
c
Ë(
vÆ0
 + 
vÆ1
)/
sqπ2
;

26347 
ªs
(
xw
,
y
,
z
,
c
Ë(
vÆ1
 - 
vÆ0
)/
sqπ2
;

26350 }  *
	gthis
;

26353 c⁄° 
h
 = 
_height
/2;

26354 i‡(
	gh
) {

26355 i‡((
	gh
%2) && h!=1)

26356 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26358 
cimg_ö°™˚
,

26359 
h
);

26361 
	gªs
.
assign
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

26362 i‡(
	gövît
Ë
cimg_f‹XZC
(*
this
,
x
,
z
,
c
) {

26363 
	gy
 = 0, 
	gyh
 = 
h
, 
	gy2
 = 0; y<
	gh
; ++y, ++yh) {

26364 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gvÆ1
 = (TÊﬂt)(*this)(x,
	gyh
,z,c);

26365 
ªs
(
x
,
y2
++,
z
,
c
Ë(
vÆ0
 - 
vÆ1
)/
sqπ2
;

26366 
ªs
(
x
,
y2
++,
z
,
c
Ë(
vÆ0
 + 
vÆ1
)/
sqπ2
;

26368 } 
cimg_f‹XZC
(*
this
,
x
,
z
,
c
) {

26369 
	gy
 = 0, 
	gyh
 = 
h
, 
	gy2
 = 0; y<
	gh
; ++y, ++yh) {

26370 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)(*
this
)(
x
,
	gy2
++,
	gz
,
	gc
), 
	gvÆ1
 = (Tfloat)(*this)(x,y2++,z,c);

26371 
ªs
(
x
,
y
,
z
,
c
Ë(
vÆ0
 + 
vÆ1
)/
sqπ2
;

26372 
ªs
(
x
,
yh
,
z
,
c
Ë(
vÆ1
 - 
vÆ0
)/
sqπ2
;

26375 }  *
	gthis
;

26378 c⁄° 
d
 = 
_dïth
/2;

26379 i‡(
	gd
) {

26380 i‡((
	gd
%2) && d!=1)

26381 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26383 
cimg_ö°™˚
,

26384 
d
);

26386 
	gªs
.
assign
(
_width
,
_height
,
_dïth
,
_•e˘rum
);

26387 i‡(
	gövît
Ë
cimg_f‹XYC
(*
this
,
x
,
y
,
c
) {

26388 
	gz
 = 0, 
	gzd
 = 
d
, 
	gz2
 = 0; z<
	gd
; ++z, ++zd) {

26389 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)(*
this
)(
x
,
	gy
,
	gz
,
	gc
), 
	gvÆ1
 = (TÊﬂt)(*this)(x,y,
	gzd
,c);

26390 
ªs
(
x
,
y
,
z2
++,
c
Ë(
vÆ0
 - 
vÆ1
)/
sqπ2
;

26391 
ªs
(
x
,
y
,
z2
++,
c
Ë(
vÆ0
 + 
vÆ1
)/
sqπ2
;

26393 } 
cimg_f‹XYC
(*
this
,
x
,
y
,
c
) {

26394 
	gz
 = 0, 
	gzd
 = 
d
, 
	gz2
 = 0; z<
	gd
; ++z, ++zd) {

26395 c⁄° 
TÊﬂt
 
	gvÆ0
 = (TÊﬂt)(*
this
)(
x
,
	gy
,
	gz2
++,
	gc
), 
	gvÆ1
 = (Tfloat)(*this)(x,y,z2++,c);

26396 
ªs
(
x
,
y
,
z
,
c
Ë(
vÆ0
 + 
vÆ1
)/
sqπ2
;

26397 
ªs
(
x
,
y
,
zd
,
c
Ë(
vÆ1
 - 
vÆ0
)/
sqπ2
;

26400 }  *
	gthis
;

26403 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


26406 
cimg_ö°™˚
,

26407 
axis
);

26410 i‡(
	gövît
) {

26411 
	gªs
.
assign
(*
this
);

26412 
	gcimg
::
unˇ£
(
axis
)) {

26414 
w
 = 
_width
;

26415 
	gs
 = 1; 
	gw
 && s<
	gnb_sˇÀs
; ++s) w/=2;

26416 
	gw
 = 
w
?w:1; w<=
_width
; w*=2Ë
ªs
.
døw_image
‘es.
gë_¸›
(0,w-1).
gë_hØr
('x',
åue
,1));

26419 
h
 = 
_width
;

26420 
	gs
 = 1; 
	gh
 && s<
	gnb_sˇÀs
; ++s) h/=2;

26421 
	gh
 = 
h
?h:1; h<=
_height
; h*=2Ë
ªs
.
døw_image
‘es.
gë_¸›
(0,0,
_width
-1,h-1).
gë_hØr
('y',
åue
,1));

26424 
d
 = 
_dïth
;

26425 
	gs
 = 1; 
	gd
 && s<
	gnb_sˇÀs
; ++s) d/=2;

26426 
	gd
 = 
d
?d:1; d<=
_dïth
; d*=2Ë
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
_width
-1,
_height
-1,d-1).
gë_hØr
('z',
åue
,1));

26429 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


26432 
cimg_ö°™˚
,

26433 
axis
);

26436 
	gªs
 = 
gë_hØr
(
axis
,
Ál£
,1);

26437 
	gcimg
::
unˇ£
(
axis
)) {

26439 
s
 = 1, 
	gw
 = 
_width
/2; w && 
	gs
<
	gnb_sˇÀs
; ++s, w/=2Ë
ªs
.
døw_image
‘es.
gë_¸›
(0,
w
-1).
gë_hØr
('x',
Ál£
,1));

26442 
s
 = 1, 
	gh
 = 
_height
/2; h && 
	gs
<
	gnb_sˇÀs
; ++s, h/=2Ë
ªs
.
døw_image
‘es.
gë_¸›
(0,0,
_width
-1,
h
-1).
gë_hØr
('y',
Ál£
,1));

26445 
s
 = 1, 
	gd
 = 
_dïth
/2; d && 
	gs
<
	gnb_sˇÀs
; ++s, d/=2Ë
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
_width
-1,
_height
-1,
d
-1).
gë_hØr
('z',
Ál£
,1));

26448 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


26451 
cimg_ö°™˚
,

26452 
axis
);

26456  
	gªs
;

26464 
	gCImg
<
	gT
>& 
hØr
(c⁄° 
boﬁ
 
övît
=
Ál£
, c⁄° 
nb_sˇÀs
=1) {

26465  
gë_hØr
(
övît
,
nb_sˇÀs
).
move_to
(*
this
);

26469 
	gCImg
<
	gTÊﬂt
> 
gë_hØr
(c⁄° 
boﬁ
 
övît
=
Ál£
, c⁄° 
nb_sˇÀs
=1) const {

26470 
CImg
<
TÊﬂt
> 
ªs
;

26471 i‡(
	gnb_sˇÀs
==1) {

26472 i‡(
_width
>1Ë
gë_hØr
('x',
övît
,1).
move_to
(
ªs
);

26473 i‡(
	g_height
>1Ë{ i‡(
	gªs
Ëªs.
hØr
('y',
övît
,1); 
gë_hØr
('y',övît,1).
move_to
(
ªs
); }

26474 i‡(
	g_dïth
>1Ë{ i‡(
	gªs
Ëªs.
hØr
('z',
övît
,1); 
gë_hØr
('z',övît,1).
move_to
(
ªs
); }

26475 i‡(
	gªs
) Ñes;

26477 i‡(
	gövît
) {

26478 
	gªs
.
assign
(*
this
);

26479 i‡(
	g_width
>1) {

26480 i‡(
	g_height
>1) {

26481 i‡(
	g_dïth
>1) {

26482 
	gw
 = 
_width
, 
	gh
 = 
_height
, 
	gd
 = 
_dïth
; 
	gs
 = 1; w && h && d && s<
	gnb_sˇÀs
; ++s) { w/=2; h/=2; d/=2; }

26483 
	gw
 = 
w
?w:1, 
	gh
 = 
h
?h:1, 
	gd
 = 
d
?d:1; w<=
_width
 && h<=
_height
 && d<=
_dïth
; w*=2, h*=2, d*=2)

26484 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
w
-1,
h
-1,
d
-1).
gë_hØr
(
åue
,1));

26486 
	gw
 = 
_width
, 
	gh
 = 
_height
; 
	gs
 = 1; w && h && s<
	gnb_sˇÀs
; ++s) { w/=2; h/=2; }

26487 
	gw
 = 
w
?w:1, 
	gh
 = 
h
?h:1; w<=
_width
 && h<=
_height
; w*=2, h*=2)

26488 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
w
-1,
h
-1,0).
gë_hØr
(
åue
,1));

26491 i‡(
	g_dïth
>1) {

26492 
	gw
 = 
_width
, 
	gd
 = 
_dïth
; 
	gs
 = 1; w && d && s<
	gnb_sˇÀs
; ++s) { w/=2; d/=2; }

26493 
	gw
 = 
w
?w:1, 
	gd
 = 
d
?d:1; w<=
_width
 && d<=
_dïth
; w*=2, d*=2)

26494 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
w
-1,0,
d
-1).
gë_hØr
(
åue
,1));

26496 
	gw
 = 
_width
; 
	gs
 = 1; w && s<
	gnb_sˇÀs
; ++s) w/=2;

26497 
	gw
 = 
w
?w:1; w<=
_width
; w*=2)

26498 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
w
-1,0,0).
gë_hØr
(
åue
,1));

26502 i‡(
	g_height
>1) {

26503 i‡(
	g_dïth
>1) {

26504 
	gh
 = 
_height
, 
	gd
 = 
_dïth
; 
	gs
 = 1; h && d && s<
	gnb_sˇÀs
; ++s) { h/=2; d/=2; }

26505 
	gh
 = 
h
?h:1, 
	gd
 = 
d
?d:1; h<=
_height
 && d<=
_dïth
; h*=2, d*=2)

26506 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,0,
h
-1,
d
-1).
gë_hØr
(
åue
,1));

26508 
	gh
 = 
_height
; 
	gs
 = 1; h && s<
	gnb_sˇÀs
; ++s) h/=2;

26509 
	gh
 = 
h
?h:1; h<=
_height
; h*=2)

26510 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,0,
h
-1,0).
gë_hØr
(
åue
,1));

26513 i‡(
	g_dïth
>1) {

26514 
	gd
 = 
_dïth
; 
	gs
 = 1; d && s<
	gnb_sˇÀs
; ++s) d/=2;

26515 
	gd
 = 
d
?d:1; d<=
_dïth
; d*=2)

26516 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,0,0,
d
-1).
gë_hØr
(
åue
,1));

26517 }  *
	gthis
;

26521 
	gªs
 = 
gë_hØr
(
Ál£
,1);

26522 i‡(
	g_width
>1) {

26523 i‡(
	g_height
>1) {

26524 i‡(
	g_dïth
>1Ë
	gs
 = 1, 
	gw
 = 
_width
/2, 
	gh
 = 
_height
/2, 
	gd
 = 
_dïth
/2; w && h && d && s<
	gnb_sˇÀs
; ++s, w/=2, h/=2, d/=2)

26525 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
w
-1,
h
-1,
d
-1).
hØr
(
Ál£
,1));

26526 
	gs
 = 1, 
	gw
 = 
_width
/2, 
	gh
 = 
_height
/2; w && h && s<
	gnb_sˇÀs
; ++s, w/=2, h/=2)

26527 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
w
-1,
h
-1,0).
hØr
(
Ál£
,1));

26529 i‡(
	g_dïth
>1Ë
	gs
 = 1, 
	gw
 = 
_width
/2, 
	gd
 = 
_dïth
/2; w && d && s<
	gnb_sˇÀs
; ++s, w/=2, d/=2)

26530 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
w
-1,0,
d
-1).
hØr
(
Ál£
,1));

26531 
	gs
 = 1, 
	gw
 = 
_width
/2; w && s<
	gnb_sˇÀs
; ++s, w/=2)

26532 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,
w
-1,0,0).
hØr
(
Ál£
,1));

26535 i‡(
	g_height
>1) {

26536 i‡(
	g_dïth
>1Ë
	gs
 = 1, 
	gh
 = 
_height
/2, 
	gd
 = 
_dïth
/2; h && d && s<
	gnb_sˇÀs
; ++s, h/=2, d/=2)

26537 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,0,
h
-1,
d
-1).
hØr
(
Ál£
,1));

26538 
	gs
 = 1, 
	gh
 = 
_height
/2; h && s<
	gnb_sˇÀs
; ++s, h/=2)

26539 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,0,
h
-1,0).
hØr
(
Ál£
,1));

26541 i‡(
	g_dïth
>1Ë
	gs
 = 1, 
	gd
 = 
_dïth
/2; d && s<
	gnb_sˇÀs
; ++s, d/=2)

26542 
ªs
.
døw_image
‘es.
gë_¸›
(0,0,0,0,0,
d
-1).
hØr
(
Ál£
,1));

26543  *
	gthis
;

26547  
	gªs
;

26549  *
	gthis
;

26557 
	gCImgLi°
<
	gTÊﬂt
> 
gë_FFT
(c⁄° 
axis
, c⁄° 
boﬁ
 
is_övît
=
Ál£
) const {

26558 
CImgLi°
<
TÊﬂt
> 
ªs
(*
this
,
CImg
<Tfloat>());

26559 
	gCImg
<
	gTÊﬂt
>::
FFT
(
ªs
[0],ªs[1],
axis
,
is_övît
);

26560  
	gªs
;

26567 
	gCImgLi°
<
	gTÊﬂt
> 
gë_FFT
(c⁄° 
boﬁ
 
is_övît
=
Ál£
) const {

26568 
CImgLi°
<
TÊﬂt
> 
ªs
(*
this
,
CImg
<Tfloat>());

26569 
	gCImg
<
	gTÊﬂt
>::
FFT
(
ªs
[0],ªs[1],
is_övît
);

26570  
	gªs
;

26580 
FFT
(
CImg
<
T
>& 
ªÆ
, CImg<T>& 
imag
, c⁄° 
axis
, c⁄° 
boﬁ
 
is_övît
=
Ál£
) {

26581 i‡(!
ªÆ
)

26582 
throw
 
CImgIn°™˚Ex˚±i⁄
("CImg<%s>::FFT(): SpecifiedÑealÖart isÉmpty.",

26583 
pixñ_ty≥
());

26585 i‡(!
	gimag
Ëimag.
assign
(
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
,0);

26586 i‡(!
	gªÆ
.
is_ßmeXYZC
(
imag
))

26587 
throw
 
CImgIn°™˚Ex˚±i⁄
("CImg<%s>::FFT(): SpecifiedÑealÖart (%u,%u,%u,%u,%p)ánd imaginaryÖart (%u,%u,%u,%u,%p) have different dimensions.",

26588 
pixñ_ty≥
(),

26589 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
,ªÆ.
_d©a
,

26590 
imag
.
_width
,imag.
_height
,imag.
_dïth
,imag.
_•e˘rum
,imag.
_d©a
);

26591 #ifde‡
cimg_u£_f·w3


26592 
	gcimg
::
muãx
(12);

26593 
f·w_com∂ex
 *
	gd©a_ö
;

26594 
f·w_∂™
 
	gd©a_∂™
;

26596 
	gcimg
::
unˇ£
(
axis
)) {

26598 
d©a_ö
 = (
f·w_com∂ex
*)
f·w_mÆloc
((f·w_com∂ex)*
ªÆ
.
_width
);

26599 i‡(!
	gd©a_ö
Ë
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): FailedÅoállocate memory (%s) for computing FFT of image (%u,%u,%u,%u)álongÅhe X-axis.",

26600 
pixñ_ty≥
(),

26601 
cimg
::
°rbuf„rsize
((
f·w_com∂ex
)*
ªÆ
.
_width
),

26602 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26604 
	gd©a_∂™
 = 
f·w_∂™_d·_1d
(
ªÆ
.
_width
,
d©a_ö
,d©a_ö,
is_övît
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
);

26605 
cimg_f‹YZC
(
ªÆ
,
y
,
z
,
c
) {

26606 
T
 *
	g±º
 = 
ªÆ
.
d©a
(0,
y
,
z
,
c
), *
	g±ri
 = 
imag
.data(0,y,z,c);

26607 *
	g±rd
 = (*)
d©a_ö
;

26608 
cimg_f‹X
(
ªÆ
,
x
Ë{ *(
	g±rd
++Ë()*(
±º
++); *’åd++Ë()*(
±ri
++); }

26609 
f·w_execuã
(
d©a_∂™
);

26610 c⁄° 
	gÁ˘
 = 
ªÆ
.
_width
;

26611 i‡(
	gis_övît
Ë
cimg_f‹X
(
ªÆ
,
x
Ë{ *(--
	g±ri
Ë(
T
)(*(--
±rd
)/
Á˘
); *(--
	g±º
) = (T)(*(--ptrd)/fact); }

26612 
cimg_f‹X
(
ªÆ
,
x
Ë{ *(--
	g±ri
Ë(
T
)*(--
±rd
); *(--
	g±º
) = (T)*(--ptrd); }

26616 
d©a_ö
 = (
f·w_com∂ex
*)
f·w_mÆloc
((f·w_com∂exË* 
ªÆ
.
_height
);

26617 i‡(!
	gd©a_ö
Ë
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): FailedÅoállocate memory (%s) for computing FFT of image (%u,%u,%u,%u)álongÅhe Y-axis.",

26618 
pixñ_ty≥
(),

26619 
cimg
::
°rbuf„rsize
((
f·w_com∂ex
)*
ªÆ
.
_height
),

26620 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26622 
	gd©a_∂™
 = 
f·w_∂™_d·_1d
(
ªÆ
.
_height
,
d©a_ö
,d©a_ö,
is_övît
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
);

26623 c⁄° 
	goff
 = 
ªÆ
.
_width
;

26624 
cimg_f‹XZC
(
ªÆ
,
x
,
z
,
c
) {

26625 
T
 *
	g±º
 = 
ªÆ
.
d©a
(
x
,0,
z
,
c
), *
	g±ri
 = 
imag
.data(x,0,z,c);

26626 *
	g±rd
 = (*)
d©a_ö
;

26627 
cimg_f‹Y
(
ªÆ
,
y
Ë{ *(
	g±rd
++Ë()*
±º
; *’åd++Ë()*
±ri
; 
	g±º
+=
off
; 
	g±ri
+=off; }

26628 
f·w_execuã
(
d©a_∂™
);

26629 c⁄° 
	gÁ˘
 = 
ªÆ
.
_height
;

26630 i‡(
	gis_övît
Ë
cimg_f‹Y
(
ªÆ
,
y
Ë{ 
	g±º
-=
off
; 
	g±ri
-=off; *±rò(
T
)(*(--
±rd
)/
Á˘
); *ptrr = (T)(*(--ptrd)/fact); }

26631 
cimg_f‹Y
(
ªÆ
,
y
Ë{ 
	g±º
-=
off
; 
	g±ri
-=off; *±rò(
T
)*(--
±rd
); *ptrr = (T)*(--ptrd); }

26635 
d©a_ö
 = (
f·w_com∂ex
*)
f·w_mÆloc
((f·w_com∂exË* 
ªÆ
.
_dïth
);

26636 i‡(!
	gd©a_ö
Ë
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): FailedÅoállocate memory (%s) for computing FFT of image (%u,%u,%u,%u)álongÅhe Z-axis.",

26637 
pixñ_ty≥
(),

26638 
cimg
::
°rbuf„rsize
((
f·w_com∂ex
)*
ªÆ
.
_dïth
),

26639 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26641 
	gd©a_∂™
 = 
f·w_∂™_d·_1d
(
ªÆ
.
_dïth
,
d©a_ö
,d©a_ö,
is_övît
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
);

26642 c⁄° 
	goff
 = ()
ªÆ
.
_width
*ªÆ.
_height
;

26643 
cimg_f‹XYC
(
ªÆ
,
x
,
y
,
c
) {

26644 
T
 *
	g±º
 = 
ªÆ
.
d©a
(
x
,
y
,0,
c
), *
	g±ri
 = 
imag
.data(x,y,0,c);

26645 *
	g±rd
 = (*)
d©a_ö
;

26646 
cimg_f‹Z
(
ªÆ
,
z
Ë{ *(
	g±rd
++Ë()*
±º
; *’åd++Ë()*
±ri
; 
	g±º
+=
off
; 
	g±ri
+=off; }

26647 
f·w_execuã
(
d©a_∂™
);

26648 c⁄° 
	gÁ˘
 = 
ªÆ
.
_dïth
;

26649 i‡(
	gis_övît
Ë
cimg_f‹Z
(
ªÆ
,
z
Ë{ 
	g±º
-=
off
; 
	g±ri
-=off; *±rò(
T
)(*(--
±rd
)/
Á˘
); *ptrr = (T)(*(--ptrd)/fact); }

26650 
cimg_f‹Z
(
ªÆ
,
z
Ë{ 
	g±º
-=
off
; 
	g±ri
-=off; *±rò(
T
)*(--
±rd
); *ptrr = (T)*(--ptrd); }

26654 
d©a_ö
 = (
f·w_com∂ex
*)
f·w_mÆloc
((f·w_com∂exË* 
ªÆ
.
_•e˘rum
);

26655 i‡(!
	gd©a_ö
Ë
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): FailedÅoállocate memory (%s) for computing FFT of image (%u,%u,%u,%u)álongÅhe C-axis.",

26656 
pixñ_ty≥
(),

26657 
cimg
::
°rbuf„rsize
((
f·w_com∂ex
)*
ªÆ
.
_•e˘rum
),

26658 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26660 
	gd©a_∂™
 = 
f·w_∂™_d·_1d
(
ªÆ
.
_•e˘rum
,
d©a_ö
,d©a_ö,
is_övît
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
);

26661 c⁄° 
	goff
 = ()
ªÆ
.
_width
*ªÆ.
_height
*ªÆ.
_dïth
;

26662 
cimg_f‹XYZ
(
ªÆ
,
x
,
y
,
z
) {

26663 
T
 *
	g±º
 = 
ªÆ
.
d©a
(
x
,
y
,
z
,0), *
	g±ri
 = 
imag
.data(x,y,z,0);

26664 *
	g±rd
 = (*)
d©a_ö
;

26665 
cimg_f‹C
(
ªÆ
,
c
Ë{ *(
	g±rd
++Ë()*
±º
; *’åd++Ë()*
±ri
; 
	g±º
+=
off
; 
	g±ri
+=off; }

26666 
f·w_execuã
(
d©a_∂™
);

26667 c⁄° 
	gÁ˘
 = 
ªÆ
.
_•e˘rum
;

26668 i‡(
	gis_övît
Ë
cimg_f‹C
(
ªÆ
,
c
Ë{ 
	g±º
-=
off
; 
	g±ri
-=off; *±rò(
T
)(*(--
±rd
)/
Á˘
); *ptrr = (T)(*(--ptrd)/fact); }

26669 
cimg_f‹C
(
ªÆ
,
c
Ë{ 
	g±º
-=
off
; 
	g±ri
-=off; *±rò(
T
)*(--
±rd
); *ptrr = (T)*(--ptrd); }

26673 
f·w_de°roy_∂™
(
d©a_∂™
);

26674 
f·w_‰ì
(
d©a_ö
);

26675 
	gcimg
::
muãx
(12,0);

26677 
	gcimg
::
unˇ£
(
axis
)) {

26679 c⁄° 
N
 = 
ªÆ
.
_width
, 
	gN2
 = (N>>1);

26680 i‡(((
	gN
-1)&N) && N!=1)

26681 
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): SpecifiedÑealánd imaginaryÖarts (%u,%u,%u,%u) haveÇon 2^N dimensionálongÅhe X-axis.",

26682 
pixñ_ty≥
(),

26683 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26685 
	gi
 = 0, 
	gj
 = 0; i<
	gN2
; ++i) {

26686 i‡(
	gj
>
	gi
Ë
cimg_f‹YZC
(
ªÆ
,
y
,
z
,
c
) {

26687 
	gcimg
::
sw≠
(
ªÆ
(
i
,
y
,
z
,
c
),ªÆ(
j
,y,z,c)); cimg::sw≠(
imag
(i,y,z,c),imag(j,y,z,c));

26688 i‡(
	gj
<
	gN2
) {

26689 c⁄° 
	gri
 = 
N
-1-
i
, 
	grj
 = N-1-
j
;

26690 
	gcimg
::
sw≠
(
ªÆ
(
ri
,
y
,
z
,
c
),ªÆ(
rj
,y,z,c)); cimg::sw≠(
imag
(ri,y,z,c),imag(rj,y,z,c));

26693 
	gm
 = 
N
, 
	gn
 = 
N2
; (
	gj
+=
n
)>=
m
; j-=m, m =Ç,Ç>>=1) {}

26695 
	gdñè
 = 2; dñè<=
N
; delta<<=1) {

26696 c⁄° 
dñè2
 = (
dñè
>>1);

26697 
	gi
 = 0; i<
	gN
; i+=
dñè
) {

26698 
wr
 = 1, 
	gwi
 = 0;

26699 c⁄° 
	g™gÀ
 = ()((
is_övît
?+1:-1)*2*
cimg
::
PI
/
dñè
),

26700 
	gˇ
 = ()
°d
::
cos
(
™gÀ
),

26701 
	gß
 = ()
°d
::
sö
(
™gÀ
);

26702 
	gk
 = 0; k<
	gdñè2
; ++k) {

26703 c⁄° 
	gj
 = 
i
 + 
k
, 
	gnj
 = 
j
 + 
dñè2
;

26704 
cimg_f‹YZC
(
ªÆ
,
y
,
z
,
c
) {

26705 
	gT
 &
	gú
 = 
ªÆ
(
j
,
y
,
z
,
c
), &
	gii
 = 
imag
(j,y,z,c), &
	gnú
 =Ñól(
nj
,y,z,c), &
	gnii
 = imag(nj,y,z,c);

26706 c⁄° 
	gtm¥
 = ()(
wr
*
nú
 - 
wi
*
nii
), 
	gtmpi
 = ()(wr*nii + wi*nir);

26707 
	gnú
 = (
T
)(
ú
 - 
tm¥
);

26708 
	gnii
 = (
T
)(
ii
 - 
tmpi
);

26709 
	gú
+=(
T
)
tm¥
;

26710 
	gii
+=(
T
)
tmpi
;

26712 c⁄° 
	gnwr
 = 
wr
*
ˇ
-
wi
*
ß
;

26713 
	gwi
 = 
wi
*
ˇ
 + 
wr
*
ß
;

26714 
	gwr
 = 
nwr
;

26718 i‡(
	gis_övît
Ë{ 
	gªÆ
/=
N
; 
	gimag
/=N; }

26721 c⁄° 
N
 = 
ªÆ
.
_height
, 
	gN2
 = (N>>1);

26722 i‡(((
	gN
-1)&N) && N!=1)

26723 
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): SpecifiedÑealánd imaginaryÖarts (%u,%u,%u,%u) haveÇon 2^N dimensionálongÅhe Y-axis.",

26724 
pixñ_ty≥
(),

26725 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26727 
	gi
 = 0, 
	gj
 = 0; i<
	gN2
; ++i) {

26728 i‡(
	gj
>
	gi
Ë
cimg_f‹XZC
(
ªÆ
,
x
,
z
,
c
) {

26729 
	gcimg
::
sw≠
(
ªÆ
(
x
,
i
,
z
,
c
),ªÆ(x,
j
,z,c)); cimg::sw≠(
imag
(x,i,z,c),imag(x,j,z,c));

26730 i‡(
	gj
<
	gN2
) {

26731 c⁄° 
	gri
 = 
N
 - 1 - 
i
, 
	grj
 = N - 1 - 
j
;

26732 
	gcimg
::
sw≠
(
ªÆ
(
x
,
ri
,
z
,
c
),ªÆ(x,
rj
,z,c)); cimg::sw≠(
imag
(x,ri,z,c),imag(x,rj,z,c));

26735 
	gm
 = 
N
, 
	gn
 = 
N2
; (
	gj
+=
n
)>=
m
; j-=m, m =Ç,Ç>>=1) {}

26737 
	gdñè
 = 2; dñè<=
N
; delta<<=1) {

26738 c⁄° 
dñè2
 = (
dñè
>>1);

26739 
	gi
 = 0; i<
	gN
; i+=
dñè
) {

26740 
wr
 = 1, 
	gwi
 = 0;

26741 c⁄° 
	g™gÀ
 = ()((
is_övît
?+1:-1)*2*
cimg
::
PI
/
dñè
),

26742 
	gˇ
 = ()
°d
::
cos
(
™gÀ
), 
	gß
 = ()°d::
sö
(angle);

26743 
	gk
 = 0; k<
	gdñè2
; ++k) {

26744 c⁄° 
	gj
 = 
i
 + 
k
, 
	gnj
 = 
j
 + 
dñè2
;

26745 
cimg_f‹XZC
(
ªÆ
,
x
,
z
,
c
) {

26746 
	gT
 &
	gú
 = 
ªÆ
(
x
,
j
,
z
,
c
), &
	gii
 = 
imag
(x,j,z,c), &
	gnú
 =Ñól(x,
nj
,z,c), &
	gnii
 = imag(x,nj,z,c);

26747 c⁄° 
	gtm¥
 = ()(
wr
*
nú
 - 
wi
*
nii
), 
	gtmpi
 = ()(wr*nii + wi*nir);

26748 
	gnú
 = (
T
)(
ú
 - 
tm¥
);

26749 
	gnii
 = (
T
)(
ii
 - 
tmpi
);

26750 
	gú
+=(
T
)
tm¥
;

26751 
	gii
+=(
T
)
tmpi
;

26753 c⁄° 
	gnwr
 = 
wr
*
ˇ
-
wi
*
ß
;

26754 
	gwi
 = 
wi
*
ˇ
 + 
wr
*
ß
;

26755 
	gwr
 = 
nwr
;

26759 i‡(
	gis_övît
Ë{ 
	gªÆ
/=
N
; 
	gimag
/=N; }

26762 c⁄° 
N
 = 
ªÆ
.
_dïth
, 
	gN2
 = (N>>1);

26763 i‡(((
	gN
-1)&N) && N!=1)

26764 
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): SpecifiedÑealánd imaginaryÖarts (%u,%u,%u,%u) haveÇon 2^N dimensionálongÅhe Z-axis.",

26765 
pixñ_ty≥
(),

26766 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26768 
	gi
 = 0, 
	gj
 = 0; i<
	gN2
; ++i) {

26769 i‡(
	gj
>
	gi
Ë
cimg_f‹XYC
(
ªÆ
,
x
,
y
,
c
) {

26770 
	gcimg
::
sw≠
(
ªÆ
(
x
,
y
,
i
,
c
),ªÆ(x,y,
j
,c)); cimg::sw≠(
imag
(x,y,i,c),imag(x,y,j,c));

26771 i‡(
	gj
<
	gN2
) {

26772 c⁄° 
	gri
 = 
N
 - 1 - 
i
, 
	grj
 = N - 1 - 
j
;

26773 
	gcimg
::
sw≠
(
ªÆ
(
x
,
y
,
ri
,
c
),ªÆ(x,y,
rj
,c)); cimg::sw≠(
imag
(x,y,ri,c),imag(x,y,rj,c));

26776 
	gm
 = 
N
, 
	gn
 = 
N2
; (
	gj
+=
n
)>=
m
; j-=m, m =Ç,Ç>>=1) {}

26778 
	gdñè
 = 2; dñè<=
N
; delta<<=1) {

26779 c⁄° 
dñè2
 = (
dñè
>>1);

26780 
	gi
 = 0; i<
	gN
; i+=
dñè
) {

26781 
wr
 = 1, 
	gwi
 = 0;

26782 c⁄° 
	g™gÀ
 = ()((
is_övît
?+1:-1)*2*
cimg
::
PI
/
dñè
),

26783 
	gˇ
 = ()
°d
::
cos
(
™gÀ
), 
	gß
 = ()°d::
sö
(angle);

26784 
	gk
 = 0; k<
	gdñè2
; ++k) {

26785 c⁄° 
	gj
 = 
i
 + 
k
, 
	gnj
 = 
j
 + 
dñè2
;

26786 
cimg_f‹XYC
(
ªÆ
,
x
,
y
,
c
) {

26787 
	gT
 &
	gú
 = 
ªÆ
(
x
,
y
,
j
,
c
), &
	gii
 = 
imag
(x,y,j,c), &
	gnú
 =Ñól(x,y,
nj
,c), &
	gnii
 = imag(x,y,nj,c);

26788 c⁄° 
	gtm¥
 = ()(
wr
*
nú
 - 
wi
*
nii
), 
	gtmpi
 = ()(wr*nii + wi*nir);

26789 
	gnú
 = (
T
)(
ú
 - 
tm¥
);

26790 
	gnii
 = (
T
)(
ii
 - 
tmpi
);

26791 
	gú
+=(
T
)
tm¥
;

26792 
	gii
+=(
T
)
tmpi
;

26794 c⁄° 
	gnwr
 = 
wr
*
ˇ
-
wi
*
ß
;

26795 
	gwi
 = 
wi
*
ˇ
 + 
wr
*
ß
;

26796 
	gwr
 = 
nwr
;

26800 i‡(
	gis_övît
Ë{ 
	gªÆ
/=
N
; 
	gimag
/=N; }

26803 
throw
 
CImgArgumítEx˚±i⁄
("CImgList<%s>::FFT(): Invalid specifiedáxis '%c' forÑealánd imaginaryÖarts (%u,%u,%u,%u) "

26805 
pixñ_ty≥
(),
axis
,

26806 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26818 
FFT
(
CImg
<
T
>& 
ªÆ
, CImg<T>& 
imag
, c⁄° 
boﬁ
 
is_övît
=
Ál£
, c⁄° 
nb_thªads
=0) {

26819 i‡(!
ªÆ
)

26820 
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): Empty specifiedÑealÖart.",

26821 
pixñ_ty≥
());

26823 i‡(!
	gimag
Ëimag.
assign
(
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
,0);

26824 i‡(!
	gªÆ
.
is_ßmeXYZC
(
imag
))

26825 
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): SpecifiedÑealÖart (%u,%u,%u,%u,%p)ánd imaginaryÖart (%u,%u,%u,%u,%p) have different dimensions.",

26826 
pixñ_ty≥
(),

26827 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
,ªÆ.
_d©a
,

26828 
imag
.
_width
,imag.
_height
,imag.
_dïth
,imag.
_•e˘rum
,imag.
_d©a
);

26830 #ifde‡
cimg_u£_f·w3


26831 
	gcimg
::
muãx
(12);

26832 #i‚de‡
cimg_u£_f·w3_sögÀthªad


26833 c⁄° 
	g_nb_thªads
 = 
nb_thªads
?nb_thªads:
cimg
::
nb_˝us
();

26834 
	gf·w_°
 = 
f·w_öô_thªads
();

26835 
	gcimg
::
unu£d
(
f·w_°
);

26836 
f·w_∂™_wôh_¡hªads
(
_nb_thªads
);

26838 
	gcimg
::
unu£d
(
nb_thªads
);

26840 
f·w_com∂ex
 *
	gd©a_ö
 = (f·w_com∂ex*)
f·w_mÆloc
((f·w_com∂ex)*
ªÆ
.
_width
*ªÆ.
_height
*ªÆ.
_dïth
);

26841 i‡(!
	gd©a_ö
Ë
throw
 
CImgIn°™˚Ex˚±i⁄
("CImgList<%s>::FFT(): FailedÅoállocate memory (%s) for computing FFT of image (%u,%u,%u,%u).",

26842 
pixñ_ty≥
(),

26843 
cimg
::
°rbuf„rsize
((
f·w_com∂ex
)*
ªÆ
.
_width
*ªÆ.
_height
*ªÆ.
_dïth
*ªÆ.
_•e˘rum
),

26844 
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,ªÆ.
_•e˘rum
);

26846 
f·w_∂™
 
	gd©a_∂™
;

26847 c⁄° 
	gw
 = ()
ªÆ
.
_width
, 
	gwh
 = 
w
*ªÆ.
_height
, 
	gwhd
 = 
wh
*ªÆ.
_dïth
;

26848 
	gd©a_∂™
 = 
f·w_∂™_d·_3d
(
ªÆ
.
_width
,ªÆ.
_height
,ªÆ.
_dïth
,
d©a_ö
,d©a_ö,
is_övît
?
FFTW_BACKWARD
:
FFTW_FORWARD
,
FFTW_ESTIMATE
);

26849 
cimg_f‹C
(
ªÆ
,
c
) {

26850 
T
 *
	g±º
 = 
ªÆ
.
d©a
(0,0,0,
c
), *
	g±ri
 = 
imag
.data(0,0,0,c);

26851 *
	g±rd
 = (*)
d©a_ö
;

26852 
	gx
 = 0; x<
	gªÆ
.
	g_width
; ++x, 
	g±º
-=
wh
-1, 
	g±ri
-=wh-1)

26853 
y
 = 0; 
	gy
<
	gªÆ
.
	g_height
; ++y, 
	g±º
-=
whd
-
w
, 
	g±ri
-=whd-w)

26854 
z
 = 0; 
	gz
<
	gªÆ
.
	g_dïth
; ++z, 
	g±º
+=
wh
, 
	g±ri
+=wh) {

26855 *(
±rd
++Ë()*
±º
; *(
	g±rd
++Ë()*
±ri
;

26857 
f·w_execuã
(
d©a_∂™
);

26858 
	g±rd
 = (*)
d©a_ö
;

26859 
	g±º
 = 
ªÆ
.
d©a
(0,0,0,
c
);

26860 
	g±ri
 = 
imag
.
d©a
(0,0,0,
c
);

26861 i‡(!
	gis_övît
Ë
	gx
 = 0; x<
	gªÆ
.
	g_width
; ++x, 
	g±º
-=
wh
-1, 
	g±ri
-=wh-1)

26862 
y
 = 0; 
	gy
<
	gªÆ
.
	g_height
; ++y, 
	g±º
-=
whd
-
w
, 
	g±ri
-=whd-w)

26863 
z
 = 0; 
	gz
<
	gªÆ
.
	g_dïth
; ++z, 
	g±º
+=
wh
, 
	g±ri
+=wh) {

26864 *
±º
 = (
T
)*(
±rd
++); *
	g±ri
 = (T)*(ptrd++);

26866 
	gx
 = 0; x<
	gªÆ
.
	g_width
; ++x, 
	g±º
-=
wh
-1, 
	g±ri
-=wh-1)

26867 
y
 = 0; 
	gy
<
	gªÆ
.
	g_height
; ++y, 
	g±º
-=
whd
-
w
, 
	g±ri
-=whd-w)

26868 
z
 = 0; 
	gz
<
	gªÆ
.
	g_dïth
; ++z, 
	g±º
+=
wh
, 
	g±ri
+=wh) {

26869 *
±º
 = (
T
)(*(
±rd
++)/
whd
); *
	g±ri
 = (T)(*(ptrd++)/whd);

26872 
f·w_de°roy_∂™
(
d©a_∂™
);

26873 
f·w_‰ì
(
d©a_ö
);

26874 #i‚de‡
cimg_u£_f·w3_sögÀthªad


26875 
f·w_˛ónup_thªads
();

26877 
	gcimg
::
muãx
(12,0);

26879 
	gcimg
::
unu£d
(
nb_thªads
);

26880 i‡(
	gªÆ
.
	g_dïth
>1Ë
FFT
(
ªÆ
,
imag
,'z',
is_övît
);

26881 i‡(
	gªÆ
.
	g_height
>1Ë
FFT
(
ªÆ
,
imag
,'y',
is_övît
);

26882 i‡(
	gªÆ
.
	g_width
>1Ë
FFT
(
ªÆ
,
imag
,'x',
is_övît
);

26899 
	gCImg
<
	gT
>& 
shi·_obje˘3d
(c⁄° 
tx
, c⁄° 
ty
=0, c⁄° 
tz
=0) {

26900 i‡(
_height
!=3 || 
_dïth
>1 || 
_•e˘rum
>1)

26901 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26903 
cimg_ö°™˚
);

26905 
gë_sh¨ed_row
(0)+=
tx
; gë_sh¨ed_row(1)+=
ty
; gë_sh¨ed_row(2)+=
tz
;

26906  *
	gthis
;

26910 
	gCImg
<
	gTÊﬂt
> 
gë_shi·_obje˘3d
(c⁄° 
tx
, c⁄° 
ty
=0, c⁄° 
tz
=0) const {

26911  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
shi·_obje˘3d
(
tx
,
ty
,
tz
);

26918 
	gCImg
<
	gT
>& 
shi·_obje˘3d
() {

26919 i‡(
	g_height
!=3 || 
_dïth
>1 || 
_•e˘rum
>1)

26920 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26922 
cimg_ö°™˚
);

26924 
	gCImg
<
	gT
> 
	gxco‹ds
 = 
gë_sh¨ed_row
(0), 
	gyco‹ds
 = gë_sh¨ed_row(1), 
	gzco‹ds
 = get_shared_row(2);

26925 
	gxm
, 
	gxM
 = ()
xco‹ds
.
max_mö
(
xm
), 
	gym
, 
	gyM
 = ()
yco‹ds
.max_mö(
ym
), 
	gzm
, 
	gzM
 = ()
zco‹ds
.max_mö(
zm
);

26926 
	gxco‹ds
-=(
xm
 + 
xM
)/2; 
	gyco‹ds
-=(
ym
 + 
yM
)/2; 
	gzco‹ds
-=(
zm
 + 
zM
)/2;

26927  *
	gthis
;

26931 
	gCImg
<
	gTÊﬂt
> 
gë_shi·_obje˘3d
() const {

26932  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
shi·_obje˘3d
();

26941 
	gCImg
<
	gT
>& 
ªsize_obje˘3d
(c⁄° 
sx
, c⁄° 
sy
=-100, c⁄° 
sz
=-100) {

26942 i‡(
_height
!=3 || 
_dïth
>1 || 
_•e˘rum
>1)

26943 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26945 
cimg_ö°™˚
);

26947 
	gCImg
<
	gT
> 
	gxco‹ds
 = 
gë_sh¨ed_row
(0), 
	gyco‹ds
 = gë_sh¨ed_row(1), 
	gzco‹ds
 = get_shared_row(2);

26948 
	gxm
, 
	gxM
 = ()
xco‹ds
.
max_mö
(
xm
), 
	gym
, 
	gyM
 = ()
yco‹ds
.max_mö(
ym
), 
	gzm
, 
	gzM
 = ()
zco‹ds
.max_mö(
zm
);

26949 i‡(
	gxm
<
	gxM
Ë{ i‡(
	gsx
>0Ë
	gxco‹ds
*=
sx
/(
xM
-
xm
); xcoords*=-sx/100; }

26950 i‡(
	gym
<
	gyM
Ë{ i‡(
	gsy
>0Ë
	gyco‹ds
*=
sy
/(
yM
-
ym
); ycoords*=-sy/100; }

26951 i‡(
	gzm
<
	gzM
Ë{ i‡(
	gsz
>0Ë
	gzco‹ds
*=
sz
/(
zM
-
zm
); zcoords*=-sz/100; }

26952  *
	gthis
;

26956 
	gCImg
<
	gTÊﬂt
> 
gë_ªsize_obje˘3d
(c⁄° 
sx
, c⁄° 
sy
=-100, c⁄° 
sz
=-100) const {

26957  
CImg
<
TÊﬂt
>(*
this
,
Ál£
).
ªsize_obje˘3d
(
sx
,
sy
,
sz
);

26961 
	gCImg
<
	gT
> 
ªsize_obje˘3d
() {

26962 i‡(
	g_height
!=3 || 
_dïth
>1 || 
_•e˘rum
>1)

26963 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26965 
cimg_ö°™˚
);

26967 
	gCImg
<
	gT
> 
	gxco‹ds
 = 
gë_sh¨ed_row
(0), 
	gyco‹ds
 = gë_sh¨ed_row(1), 
	gzco‹ds
 = get_shared_row(2);

26968 
	gxm
, 
	gxM
 = ()
xco‹ds
.
max_mö
(
xm
), 
	gym
, 
	gyM
 = ()
yco‹ds
.max_mö(
ym
), 
	gzm
, 
	gzM
 = ()
zco‹ds
.max_mö(
zm
);

26969 c⁄° 
	gdx
 = 
xM
 - 
xm
, 
	gdy
 = 
yM
 - 
ym
, 
	gdz
 = 
zM
 - 
zm
, 
	gdmax
 = 
cimg
::
max
(
dx
,
dy
,
dz
);

26970 i‡(
	gdmax
>0Ë{ 
	gxco‹ds
/=
dmax
; 
	gyco‹ds
/=dmax; 
	gzco‹ds
/=dmax; }

26971  *
	gthis
;

26975 
	gCImg
<
	gTÊﬂt
> 
gë_ªsize_obje˘3d
() const {

26976  
	gCImg
<
	gTÊﬂt
>(*
	gthis
,
	gÁl£
).
ªsize_obje˘3d
();

26985 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gç
,Åy≥«mê
	gtff
>

26986 
	gCImg
<
	gT
>& 
≠≥nd_obje˘3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° 
CImg
<
ç
>& 
obj_vîti˚s
, c⁄° CImgLi°<
tff
>& 
obj_¥imôives
) {

26987 i‡(!
	gobj_vîti˚s
 || !
	gobj_¥imôives
Ë *
	gthis
;

26988 i‡(
	gobj_vîti˚s
.
	g_height
!=3 || 
obj_vîti˚s
.
_dïth
>1 || obj_vîti˚s.
_•e˘rum
>1)

26989 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26991 
cimg_ö°™˚
,

26992 
obj_vîti˚s
.
_width
,obj_vîti˚s.
_height
,obj_vîti˚s.
_dïth
,obj_vîti˚s.
_•e˘rum
,obj_vîti˚s.
_d©a
);

26994 i‡(
is_em±y
()Ë{ 
	g¥imôives
.
assign
(
obj_¥imôives
); ássign(
obj_vîti˚s
); }

26995 i‡(
	g_height
!=3 || 
_dïth
>1 || 
_•e˘rum
>1)

26996 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


26998 
cimg_ö°™˚
);

27000 c⁄° 
	gP
 = 
_width
;

27001 
≠≥nd
(
obj_vîti˚s
,'x');

27002 c⁄° 
	gN
 = 
¥imôives
.
_width
;

27003 
	g¥imôives
.
ö£π
(
obj_¥imôives
);

27004 
	gi
 = 
N
; i<
	g¥imôives
.
	g_width
; ++i) {

27005 
	gCImg
<
	gtf
> &
	gp
 = 
¥imôives
[
i
];

27006 
	gp
.
size
()) {

27007 1 : 
p
[0]+=
P
; ;

27008 5 : 
p
[0]+=
P
; 
	gp
[1]+=P; ;

27009 2 : 6 : 
p
[0]+=
P
; 
	gp
[1]+=P; ;

27010 3 : 9 : 
p
[0]+=
P
; 
	gp
[1]+=P;Ö[2]+=P; ;

27011 4 : 12 : 
p
[0]+=
P
; 
	gp
[1]+=P;Ö[2]+=P;Ö[3]+=P; ;

27014  *
	gthis
;

27024 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
,Åy≥«mê
	gâ
,Åy≥«mê
	gtx
>

27025 c⁄° 
	gCImg
<
	gT
>& 
ãxturize_obje˘3d
(
CImgLi°
<
ç
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
,

27026 c⁄° 
CImg
<
â
>& 
ãxtuª
, c⁄° CImg<
tx
>& 
co‹ds
=CImg<tx>::
em±y
()) const {

27027 i‡(
is_em±y
()Ë *
this
;

27028 i‡(
	g_height
!=3)

27029 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


27031 
cimg_ö°™˚
);

27032 i‡(
	gco‹ds
 && (co‹ds.
	g_width
!=
_width
 || 
co‹ds
.
_height
!=2))

27033 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


27035 
cimg_ö°™˚
,

27036 
co‹ds
.
_width
,co‹ds.
_height
,co‹ds.
_dïth
,co‹ds.
_•e˘rum
,co‹ds.
_d©a
);

27037 
	gCImg
<> 
	g_co‹ds
;

27038 i‡(!
	gco‹ds
) {

27039 
	g_co‹ds
.
assign
(
_width
,2);

27041 
	gxmö
, 
	gxmax
 = ()
gë_sh¨ed_row
(0).
max_mö
(
xmö
),

27042 
	gymö
, 
	gymax
 = ()
gë_sh¨ed_row
(1).
max_mö
(
ymö
),

27043 
	gdx
 = 
xmax
>
xmö
?xmax-xmin:1,

27044 
	gdy
 = 
ymax
>
ymö
?ymax-ymin:1;

27045 
cimg_f‹X
(*
this
,
p
) {

27046 
_co‹ds
(
p
,0Ë()(((*
this
)’,0)-
	gxmö
)*(
	gãxtuª
.
	g_width
-1)/
	gdx
);

27047 
_co‹ds
(
p
,1Ë()(((*
this
)’,1)-
	gymö
)*(
	gãxtuª
.
	g_height
-1)/
	gdy
);

27049 } 
	g_co‹ds
 = 
co‹ds
;

27051 
	gãxtuª_öd
 = -1;

27052 
cimgli°_f‹
(
¥imôives
,
l
) {

27053 
	gCImg
<
	gç
> &
	gp
 = 
¥imôives
[
l
];

27054 c⁄° 
	gsiz
 = 
p
.
size
();

27055 
	gsiz
) {

27058 
i0
 = ()
p
[0],

27059 
	gx0
 = ()
_co‹ds
(
i0
,0), 
	gy0
 = ()_coords(i0,1);

27060 
	gãxtuª
.
gë_ve˘‹_©
(
x0
,
y0
).
move_to
(
cﬁ‹s
[
l
]);

27064 
i0
 = ()
p
[0], 
	gi1
 = ()p[1],

27065 
	gx0
 = ()
_co‹ds
(
i0
,0), 
	gy0
 = ()_coords(i0,1),

27066 
	gx1
 = ()
_co‹ds
(
i1
,0), 
	gy1
 = ()_coords(i1,1);

27067 i‡(
	gãxtuª_öd
<0Ë
	gcﬁ‹s
[
ãxtuª_öd
=
l
] = 
ãxtuª
; cﬁ‹s[l].
assign
(
cﬁ‹s
[ãxtuª_öd],
åue
);

27068 
	gCImg
<
	gç
>::
ve˘‹
(
i0
,
i1
,
x0
,
y0
,
x1
,
y1
).
move_to
(
p
);

27072 
i0
 = ()
p
[0], 
	gi1
 = (Ì[1], 
	gi2
 = ()p[2],

27073 
	gx0
 = ()
_co‹ds
(
i0
,0), 
	gy0
 = ()_coords(i0,1),

27074 
	gx1
 = ()
_co‹ds
(
i1
,0), 
	gy1
 = ()_coords(i1,1),

27075 
	gx2
 = ()
_co‹ds
(
i2
,0), 
	gy2
 = ()_coords(i2,1);

27076 i‡(
	gãxtuª_öd
<0Ë
	gcﬁ‹s
[
ãxtuª_öd
=
l
] = 
ãxtuª
; cﬁ‹s[l].
assign
(
cﬁ‹s
[ãxtuª_öd],
åue
);

27077 
	gCImg
<
	gç
>::
ve˘‹
(
i0
,
i1
,
i2
,
x0
,
y0
,
x1
,
y1
,
x2
,
y2
).
move_to
(
p
);

27081 
i0
 = ()
p
[0], 
	gi1
 = (Ì[1], 
	gi2
 = (Ì[2], 
	gi3
 = ()p[3],

27082 
	gx0
 = ()
_co‹ds
(
i0
,0), 
	gy0
 = ()_coords(i0,1),

27083 
	gx1
 = ()
_co‹ds
(
i1
,0), 
	gy1
 = ()_coords(i1,1),

27084 
	gx2
 = ()
_co‹ds
(
i2
,0), 
	gy2
 = ()_coords(i2,1),

27085 
	gx3
 = ()
_co‹ds
(
i3
,0), 
	gy3
 = ()_coords(i3,1);

27086 i‡(
	gãxtuª_öd
<0Ë
	gcﬁ‹s
[
ãxtuª_öd
=
l
] = 
ãxtuª
; cﬁ‹s[l].
assign
(
cﬁ‹s
[ãxtuª_öd],
åue
);

27087 
	gCImg
<
	gç
>::
ve˘‹
(
i0
,
i1
,
i2
,
i3
,
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
x3
,
y3
).
move_to
(
p
);

27091  *
	gthis
;

27111 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gã
>

27112 
	gCImg
<
	gÊﬂtT
> 
gë_ñev©i⁄3d
(
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
, c⁄° 
CImg
<
ã
>& 
ñev©i⁄
) const {

27113 i‡(!
is_ßmeXY
(
ñev©i⁄
Ë|| 
	gñev©i⁄
.
	g_dïth
>1 ||ÉÀv©i⁄.
	g_•e˘rum
>1)

27114 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


27117 
cimg_ö°™˚
,

27118 
ñev©i⁄
.
_width
,ñev©i⁄.
_height
,ñev©i⁄.
_dïth
,ñev©i⁄.
_•e˘rum
,ñev©i⁄.
_d©a
);

27119 i‡(
is_em±y
()Ë *
	gthis
;

27120 
	gm
, 
	gM
 = ()
max_mö
(
m
);

27121 i‡(
	gM
==
m
Ë++
M
;

27122 
	gcﬁ‹s
.
assign
();

27123 c⁄° 
	gsize_x1
 = 
_width
 - 1, 
	gsize_y1
 = 
_height
 - 1;

27124 
	gy
 = 0; y<
	gsize_y1
; ++y)

27125 
	gx
 = 0; x<
	gsize_x1
; ++x) {

27127 
	gr
 = ()(((*
this
)(
x
,
	gy
,0Ë- 
	gm
)*255/(
	gM
-m)),

27128 
	gg
 = 
_•e˘rum
>1?()(((*
this
)(
x
,
	gy
,1Ë- 
	gm
)*255/(
	gM
-m)):
r
,

27129 
	gb
 = 
_•e˘rum
>2?()(((*
this
)(
x
,
	gy
,2Ë- 
	gm
)*255/(
	gM
-m)):(_•e˘rum>1?0:
r
);

27130 
	gCImg
<
	gtc
>::
ve˘‹
((
tc
)
r
,—c)
g
,—c)
b
).
move_to
(
cﬁ‹s
);

27132 c⁄° 
ty≥«me
 
	gCImg
<
	gã
>::
_fun˘‹2d_öt
 
func
(
ñev©i⁄
);

27133  
ñev©i⁄3d
(
¥imôives
,
func
,0,0,
_width
-1.0f,
_height
-1.0f,_width,_height);

27145 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

27146 
	gCImg
<
	gÊﬂtT
> 
gë_¥oje˘i⁄s3d
(
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
,

27147 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

27148 c⁄° 
boﬁ
 
n‹mÆize_cﬁ‹s
=
Ál£
) const {

27149 
m
 = 0, 
	gM
 = 0, 
	gdñè
 = 1;

27150 i‡(
	gn‹mÆize_cﬁ‹s
Ë{ 
	gm
 = ()
mö_max
(
M
); 
	gdñè
 = 255/(
m
==M?1:M-m); }

27152 
	g_x0
 = (
x0
>=
_width
)?_width - 1:x0,

27153 
	g_y0
 = (
y0
>=
_height
)?_height - 1:y0,

27154 
	g_z0
 = (
z0
>=
_dïth
)?_depth - 1:z0;

27155 
	gCImg
<
	gtc
> 
	gimg_xy
, 
	gimg_xz
, 
	gimg_yz
;

27156 i‡(
	gn‹mÆize_cﬁ‹s
) {

27157 ((
gë_¸›
(0,0,
_z0
,0,
_width
-1,
_height
-1,_z0,
_•e˘rum
-1)-=
m
)*=
dñè
).
move_to
(
img_xy
);

27158 ((
gë_¸›
(0,
_y0
,0,0,
_width
-1,_y0,
_dïth
-1,
_•e˘rum
-1)-=
m
)*=
dñè
).
ªsize
(_width,_dïth,1,-100,-1).
move_to
(
img_xz
);

27159 ((
gë_¸›
(
_x0
,0,0,0,_x0,
_height
-1,
_dïth
-1,
_•e˘rum
-1)-=
m
)*=
dñè
).
ªsize
(_height,_dïth,1,-100,-1).
move_to
(
img_yz
);

27161 
gë_¸›
(0,0,
_z0
,0,
_width
-1,
_height
-1,_z0,
_•e˘rum
-1).
move_to
(
img_xy
);

27162 
gë_¸›
(0,
_y0
,0,0,
_width
-1,_y0,
_dïth
-1,
_•e˘rum
-1).
ªsize
(_width,_dïth,1,-100,-1).
move_to
(
img_xz
);

27163 
gë_¸›
(
_x0
,0,0,0,_x0,
_height
-1,
_dïth
-1,
_•e˘rum
-1).
ªsize
(_height,_dïth,1,-100,-1).
move_to
(
img_yz
);

27165 
	gCImg
<
	gÊﬂtT
> 
poöts
(12,3,1,1,

27166 0,
_width
-1,_width-1,0, 0,_width-1,_width-1,0, 
_x0
,_x0,_x0,_x0,

27167 0,0,
_height
-1,_height-1, 
_y0
,_y0,_y0,_y0, 0,_height-1,_height-1,0,

27168 
_z0
,_z0,_z0,_z0, 0,0,
_dïth
-1,_depth-1, 0,0,_depth-1,_depth-1);

27169 
	g¥imôives
.
assign
();

27170 
	gCImg
<
	gtf
>::
ve˘‹
(0,1,2,3,0,0,
img_xy
.
_width
-1,0,img_xy._width-1,img_xy.
_height
-1,0,img_xy._height-1).
move_to
(
¥imôives
);

27171 
	gCImg
<
	gtf
>::
ve˘‹
(4,5,6,7,0,0,
img_xz
.
_width
-1,0,img_xz._width-1,img_xz.
_height
-1,0,img_xz._height-1).
move_to
(
¥imôives
);

27172 
	gCImg
<
	gtf
>::
ve˘‹
(8,9,10,11,0,0,
img_yz
.
_width
-1,0,img_yz._width-1,img_yz.
_height
-1,0,img_yz._height-1).
move_to
(
¥imôives
);

27173 
	gcﬁ‹s
.
assign
();

27174 
	gimg_xy
.
move_to
(
cﬁ‹s
);

27175 
	gimg_xz
.
move_to
(
cﬁ‹s
);

27176 
	gimg_yz
.
move_to
(
cﬁ‹s
);

27177  
	gpoöts
;

27197 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27198 
	gCImg
<
	gÊﬂtT
> 
gë_isﬁöe3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° 
isovÆue
,

27199 c⁄° 
size_x
=-100, c⁄° 
size_y
=-100) const {

27200 i‡(
_•e˘rum
>1)

27201 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


27203 
cimg_ö°™˚
);

27204 i‡(
	g_dïth
>1)

27205 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


27207 
cimg_ö°™˚
);

27208 
	g¥imôives
.
assign
();

27209 i‡(
is_em±y
()Ë *
	gthis
;

27210 
	gCImg
<
	gÊﬂtT
> 
	gvîti˚s
;

27211 i‡((
	gsize_x
==-100 && 
size_y
==-100Ë|| (
size_x
==
width
(Ë&& size_y==
height
())) {

27212 c⁄° 
_fun˘‹2d_öt
 
func
(*
this
);

27213 
	gvîti˚s
 = 
isﬁöe3d
(
¥imôives
,
func
,
isovÆue
,0,0,
width
()-1.0f,
height
()-1.0f,width(),height());

27215 c⁄° 
_fun˘‹2d_Êﬂt
 
func
(*
this
);

27216 
	gvîti˚s
 = 
isﬁöe3d
(
¥imôives
,
func
,
isovÆue
,0,0,
width
()-1.0f,
height
()-1.0f,
size_x
,
size_y
);

27218  
	gvîti˚s
;

27239 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27240 
	gCImg
<
	gÊﬂtT
> 
gë_isosurÁ˚3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° 
isovÆue
,

27241 c⁄° 
size_x
=-100, c⁄° 
size_y
=-100, c⁄° 
size_z
=-100) const {

27242 i‡(
_•e˘rum
>1)

27243 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


27245 
cimg_ö°™˚
);

27246 
	g¥imôives
.
assign
();

27247 i‡(
is_em±y
()Ë *
	gthis
;

27248 
	gCImg
<
	gÊﬂtT
> 
	gvîti˚s
;

27249 i‡((
	gsize_x
==-100 && 
size_y
==-100 && 
size_z
==-100Ë|| (
size_x
==
width
(Ë&& size_y==
height
(Ë&& size_z==
dïth
())) {

27250 c⁄° 
_fun˘‹3d_öt
 
func
(*
this
);

27251 
	gvîti˚s
 = 
isosurÁ˚3d
(
¥imôives
,
func
,
isovÆue
,0,0,0,
width
()-1.0f,
height
()-1.0f,
dïth
()-1.0f,width(),height(),depth());

27253 c⁄° 
_fun˘‹3d_Êﬂt
 
func
(*
this
);

27254 
	gvîti˚s
 = 
isosurÁ˚3d
(
¥imôives
,
func
,
isovÆue
,0,0,0,
width
()-1.0f,
height
()-1.0f,
dïth
()-1.0f,
size_x
,
size_y
,
size_z
);

27256  
	gvîti˚s
;

27270 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtfunc
>

27271 
	gCImg
<
	gÊﬂtT
> 
ñev©i⁄3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° 
tfunc
& 
func
,

27272 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
x1
, c⁄° 
y1
,

27273 c⁄° 
size_x
=256, c⁄° 
size_y
=256) {

27275 
nx0
 = 
x0
<
x1
?x0:x1, 
	gny0
 = 
y0
<
y1
?y0:y1,

27276 
	gnx1
 = 
x0
<
x1
?x1:x0, 
	gny1
 = 
y0
<
y1
?y1:y0;

27278 
	g_nsize_x
 = ()(
size_x
>=0?size_x:(
nx1
-
nx0
)*-size_x/100), 
	gnsize_x
 = 
_nsize_x
?_nsize_x:1, 
	gnsize_x1
 = 
nsize_x
 - 1,

27279 
	g_nsize_y
 = ()(
size_y
>=0?size_y:(
ny1
-
ny0
)*-size_y/100), 
	gnsize_y
 = 
_nsize_y
?_nsize_y:1, 
	gnsize_y1
 = 
nsize_y
 - 1;

27280 i‡(
	gnsize_x
<2 || 
	gnsize_y
<2)

27281 
throw
 
CImgArgumítEx˚±i⁄
("CImg<%s>::elevation3d(): Invalid specified size (%d,%d).",

27282 
pixñ_ty≥
(),

27283 
nsize_x
,
nsize_y
);

27285 
	gCImg
<
	gÊﬂtT
> 
vîti˚s
(
nsize_x
*
nsize_y
,3);

27286 
ÊﬂtT
 *
	g±r_x
 = 
vîti˚s
.
d©a
(0,0), *
	g±r_y
 = vîti˚s.d©a(0,1), *
	g±r_z
 = vertices.data(0,2);

27287 
	gy
 = 0; y<
	gnsize_y
; ++y) {

27288 c⁄° 
	gY
 = 
ny0
 + 
y
*(
ny1
-ny0)/
nsize_y1
;

27289 
	gx
 = 0; x<
	gnsize_x
; ++x) {

27290 c⁄° 
	gX
 = 
nx0
 + 
x
*(
nx1
-nx0)/
nsize_x1
;

27291 *(
	g±r_x
++Ë()
x
;

27292 *(
	g±r_y
++Ë()
y
;

27293 *(
	g±r_z
++Ë()
func
(
X
,
Y
);

27296 
	g¥imôives
.
assign
(
nsize_x1
*
nsize_y1
,1,4);

27297 
	gp
 = 0, 
	gy
 = 0; y<
	gnsize_y1
; ++y) {

27298 c⁄° 
	gyw
 = 
y
*
nsize_x
;

27299 
	gx
 = 0; x<
	gnsize_x1
; ++x) {

27300 c⁄° 
	gxpyw
 = 
x
 + 
yw
, 
	gxpyww
 = 
xpyw
 + 
nsize_x
;

27301 
	g¥imôives
[
p
++].
fûl
(
xpyw
,
xpyww
,xpyww+1,xpyw+1);

27304  
	gvîti˚s
;

27308 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27309 
	gCImg
<
	gÊﬂtT
> 
ñev©i⁄3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° *c⁄° 
ex¥essi⁄
,

27310 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
x1
, c⁄° 
y1
,

27311 c⁄° 
size_x
=256, c⁄° 
size_y
=256) {

27312 c⁄° 
_fun˘‹2d_ex¥
 
func
(
ex¥essi⁄
);

27313  
ñev©i⁄3d
(
¥imôives
,
func
,
x0
,
y0
,
x1
,
y1
,
size_x
,
size_y
);

27329 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtfunc
>

27330 
	gCImg
<
	gÊﬂtT
> 
isﬁöe3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° 
tfunc
& 
func
, c⁄° 
isovÆue
,

27331 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
x1
, c⁄° 
y1
,

27332 c⁄° 
size_x
=256, c⁄° 
size_y
=256) {

27333 c⁄° 
edges
[16] = { 0x0, 0x9, 0x3, 0xa, 0x6, 0xf, 0x5, 0xc, 0xc, 0x5, 0xf, 0x6, 0xa, 0x3, 0x9, 0x0 };

27334 c⁄° 
	g£gmíts
[16][4] = { { -1,-1,-1,-1 }, { 0,3,-1,-1 }, { 0,1,-1,-1 }, { 1,3,-1,-1 },

27339 
	g_nx
 = ()(
size_x
>=0?size_x:
cimg
::
round
((
x1
-
x0
)*-size_x/100 + 1)),

27340 
	g_ny
 = ()(
size_y
>=0?size_y:
cimg
::
round
((
y1
-
y0
)*-size_y/100 + 1)),

27341 
	gnx
 = 
_nx
?_nx:1,

27342 
	gny
 = 
_ny
?_ny:1,

27343 
	gnxm1
 = 
nx
 - 1,

27344 
	gnym1
 = 
ny
 - 1;

27345 
	g¥imôives
.
assign
();

27346 i‡(!
	gnxm1
 || !
	gnym1
Ë 
	gCImg
<
	gÊﬂtT
>();

27347 c⁄° 
	gdx
 = (
x1
 - 
x0
)/
nxm1
, 
	gdy
 = (
y1
 - 
y0
)/
nym1
;

27348 
	gCImgLi°
<
	gÊﬂtT
> 
	gvîti˚s
;

27349 
	gCImg
<
	götT
> 
ödi˚s1
(
nx
,1,1,2,-1), 
ödi˚s2
(nx,1,1,2);

27350 
	gCImg
<
	gÊﬂtT
> 
vÆues1
(
nx
), 
vÆues2
(nx);

27351 
	gX
 = 
x0
, 
	gY
 = 
y0
, 
	gnX
 = 
X
 + 
dx
, 
	gnY
 = 
Y
 + 
dy
;

27354 
cimg_f‹X
(
vÆues1
,
x
Ë{ vÆues1(xË()
func
(
X
,
Y
); 
	gX
+=
dx
; }

27357 
	gyi
 = 0, 
	gnyi
 = 1; yi<
	gnym1
; ++yi, ++nyi, 
	gY
=
nY
, 
	gnY
+=
dy
) {

27358 
X
 = 
x0
; 
	gnX
 = X + 
dx
;

27359 
	gödi˚s2
.
fûl
(-1);

27360 
	gxi
 = 0, 
	gnxi
 = 1; xi<
	gnxm1
; ++xi, ++nxi, 
	gX
=
nX
, 
	gnX
+=
dx
) {

27364 
vÆ0
 = 
vÆues1
(
xi
),

27365 
	gvÆ1
 = 
vÆues1
(
nxi
),

27366 
	gvÆ2
 = 
vÆues2
(
nxi
Ë()
func
(
nX
,
nY
),

27367 
	gvÆ3
 = 
vÆues2
(
xi
Ë()
func
(
X
,
nY
);

27369 
	gc⁄figuøti⁄
 = (
vÆ0
<
isovÆue
?1:0Ë| (
vÆ1
<isovÆue?2:0Ë| (
vÆ2
<isovÆue?4:0Ë| (
vÆ3
<isovalue?8:0),

27370 
	gedge
 = 
edges
[
c⁄figuøti⁄
];

27373 i‡(
	gedge
) {

27374 i‡((
	gedge
&1Ë&& 
ödi˚s1
(
xi
,0)<0) {

27375 c⁄° 
	gXi
 = 
X
 + (
isovÆue
-
vÆ0
)*
dx
/(
vÆ1
-val0);

27376 
ödi˚s1
(
xi
,0Ë
vîti˚s
.
_width
;

27377 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
Xi
,
Y
,0).
move_to
(
vîti˚s
);

27379 i‡((
	gedge
&2Ë&& 
ödi˚s1
(
nxi
,1)<0) {

27380 c⁄° 
	gYi
 = 
Y
 + (
isovÆue
-
vÆ1
)*
dy
/(
vÆ2
-val1);

27381 
ödi˚s1
(
nxi
,1Ë
vîti˚s
.
_width
;

27382 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
nX
,
Yi
,0).
move_to
(
vîti˚s
);

27384 i‡((
	gedge
&4Ë&& 
ödi˚s2
(
xi
,0)<0) {

27385 c⁄° 
	gXi
 = 
X
 + (
isovÆue
-
vÆ3
)*
dx
/(
vÆ2
-val3);

27386 
ödi˚s2
(
xi
,0Ë
vîti˚s
.
_width
;

27387 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
Xi
,
nY
,0).
move_to
(
vîti˚s
);

27389 i‡((
	gedge
&8Ë&& 
ödi˚s1
(
xi
,1)<0) {

27390 c⁄° 
	gYi
 = 
Y
 + (
isovÆue
-
vÆ0
)*
dy
/(
vÆ3
-val0);

27391 
ödi˚s1
(
xi
,1Ë
vîti˚s
.
_width
;

27392 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
X
,
Yi
,0).
move_to
(
vîti˚s
);

27396 c⁄° *
	g£gmít
 = 
£gmíts
[
c⁄figuøti⁄
]; *segment!=-1; ) {

27397 c⁄° 
	gp0
 = *(
£gmít
++), 
	gp1
 = *(segment++);

27398 c⁄° 
tf


27399 
	gi0
 = (
tf
)(
_isﬁöe3d_ödi˚
(
p0
,
ödi˚s1
,
ödi˚s2
,
xi
,
nxi
)),

27400 
	gi1
 = (
tf
)(
_isﬁöe3d_ödi˚
(
p1
,
ödi˚s1
,
ödi˚s2
,
xi
,
nxi
));

27401 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i1
).
move_to
(
¥imôives
);

27405 
	gvÆues1
.
sw≠
(
vÆues2
);

27406 
	gödi˚s1
.
sw≠
(
ödi˚s2
);

27408  
	gvîti˚s
>'x';

27412 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27413 
	gCImg
<
	gÊﬂtT
> 
isﬁöe3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
isovÆue
,

27414 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
x1
, c⁄° 
y1
,

27415 c⁄° 
size_x
=256, c⁄° 
size_y
=256) {

27416 c⁄° 
_fun˘‹2d_ex¥
 
func
(
ex¥essi⁄
);

27417  
isﬁöe3d
(
¥imôives
,
func
,
isovÆue
,
x0
,
y0
,
x1
,
y1
,
size_x
,
size_y
);

27420 
	gãm∂©e
<
ty≥«me
 
	gt
>

27421 
_isﬁöe3d_ödi˚
(c⁄° 
edge
, c⁄° 
CImg
<
t
>& 
ödi˚s1
, c⁄° CImg<t>& 
ödi˚s2
,

27422 c⁄° 
x
, c⁄° 
nx
) {

27423 
	gedge
) {

27424 0 :  ()
ödi˚s1
(
x
,0);

27425 1 :  ()
ödi˚s1
(
nx
,1);

27426 2 :  ()
ödi˚s2
(
x
,0);

27427 3 :  ()
ödi˚s1
(
x
,1);

27448 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtfunc
>

27449 
	gCImg
<
	gÊﬂtT
> 
isosurÁ˚3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° 
tfunc
& 
func
, c⁄° 
isovÆue
,

27450 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

27451 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

27452 c⁄° 
size_x
=32, c⁄° 
size_y
=32, c⁄° 
size_z
=32) {

27453 c⁄° 
edges
[256] = {

27471 c⁄° 
	gåüngÀs
[256][16] = {

27603 
	g_nx
 = ()(
size_x
>=0?size_x:
cimg
::
round
((
x1
-
x0
)*-size_x/100 + 1)),

27604 
	g_ny
 = ()(
size_y
>=0?size_y:
cimg
::
round
((
y1
-
y0
)*-size_y/100 + 1)),

27605 
	g_nz
 = ()(
size_z
>=0?size_z:
cimg
::
round
((
z1
-
z0
)*-size_z/100 + 1)),

27606 
	gnx
 = 
_nx
?_nx:1,

27607 
	gny
 = 
_ny
?_ny:1,

27608 
	gnz
 = 
_nz
?_nz:1,

27609 
	gnxm1
 = 
nx
 - 1,

27610 
	gnym1
 = 
ny
 - 1,

27611 
	gnzm1
 = 
nz
 - 1;

27612 
	g¥imôives
.
assign
();

27613 i‡(!
	gnxm1
 || !
	gnym1
 || !
	gnzm1
Ë 
	gCImg
<
	gÊﬂtT
>();

27614 c⁄° 
	gdx
 = (
x1
 - 
x0
)/
nxm1
, 
	gdy
 = (
y1
 - 
y0
)/
nym1
, 
	gdz
 = (
z1
 - 
z0
)/
nzm1
;

27615 
	gCImgLi°
<
	gÊﬂtT
> 
	gvîti˚s
;

27616 
	gCImg
<
	götT
> 
ödi˚s1
(
nx
,
ny
,1,3,-1), 
ödi˚s2
(indices1);

27617 
	gCImg
<
	gÊﬂtT
> 
vÆues1
(
nx
,
ny
), 
vÆues2
(nx,ny);

27618 
	gX
 = 0, 
	gY
 = 0, 
	gZ
 = 0, 
	gnX
 = 0, 
	gnY
 = 0, 
	gnZ
 = 0;

27621 
	gY
 = 
y0
;

27622 
cimg_f‹Y
(
vÆues1
,
y
) {

27623 
	gX
 = 
x0
;

27624 
cimg_f‹X
(
vÆues1
,
x
Ë{ vÆues1(x,
y
Ë()
func
(
X
,
Y
,
z0
); 
	gX
+=
dx
; }

27625 
	gY
+=
dy
;

27629 
	gZ
 = 
z0
; 
	gnZ
 = 
Z
 + 
dz
;

27630 
	gzi
 = 0; zi<
	gnzm1
; ++zi, 
	gZ
 = 
nZ
, 
	gnZ
+=
dz
) {

27631 
Y
 = 
y0
; 
	gnY
 = Y + 
dy
;

27632 
	gödi˚s2
.
fûl
(-1);

27633 
	gyi
 = 0, 
	gnyi
 = 1; yi<
	gnym1
; ++yi, ++nyi, 
	gY
 = 
nY
, 
	gnY
+=
dy
) {

27634 
X
 = 
x0
; 
	gnX
 = X + 
dx
;

27635 
	gxi
 = 0, 
	gnxi
 = 1; xi<
	gnxm1
; ++xi, ++nxi, 
	gX
 = 
nX
, 
	gnX
+=
dx
) {

27639 
vÆ0
 = 
vÆues1
(
xi
,
yi
),

27640 
	gvÆ1
 = 
vÆues1
(
nxi
,
yi
),

27641 
	gvÆ2
 = 
vÆues1
(
nxi
,
nyi
),

27642 
	gvÆ3
 = 
vÆues1
(
xi
,
nyi
),

27643 
	gvÆ4
 = 
vÆues2
(
xi
,
yi
Ë()
func
(
X
,
Y
,
nZ
),

27644 
	gvÆ5
 = 
vÆues2
(
nxi
,
yi
Ë()
func
(
nX
,
Y
,
nZ
),

27645 
	gvÆ6
 = 
vÆues2
(
nxi
,
nyi
Ë()
func
(
nX
,
nY
,
nZ
),

27646 
	gvÆ7
 = 
vÆues2
(
xi
,
nyi
Ë()
func
(
X
,
nY
,
nZ
);

27648 c⁄° 
	gc⁄figuøti⁄
 =

27649 (
vÆ0
<
isovÆue
?1:0Ë| (
vÆ1
<isovÆue?2:0Ë| (
vÆ2
<isovÆue?4:0Ë| (
vÆ3
<isovalue?8:0) |

27650 (
vÆ4
<
isovÆue
?16:0Ë| (
vÆ5
<isovÆue?32:0Ë| (
vÆ6
<isovÆue?64:0Ë| (
vÆ7
<isovalue?128:0),

27651 
	gedge
 = 
edges
[
c⁄figuøti⁄
];

27654 i‡(
	gedge
) {

27655 i‡((
	gedge
&1Ë&& 
ödi˚s1
(
xi
,
yi
,0)<0) {

27656 c⁄° 
	gXi
 = 
X
 + (
isovÆue
-
vÆ0
)*
dx
/(
vÆ1
-val0);

27657 
ödi˚s1
(
xi
,
yi
,0Ë
vîti˚s
.
_width
;

27658 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
Xi
,
Y
,
Z
).
move_to
(
vîti˚s
);

27660 i‡((
	gedge
&2Ë&& 
ödi˚s1
(
nxi
,
yi
,1)<0) {

27661 c⁄° 
	gYi
 = 
Y
 + (
isovÆue
-
vÆ1
)*
dy
/(
vÆ2
-val1);

27662 
ödi˚s1
(
nxi
,
yi
,1Ë
vîti˚s
.
_width
;

27663 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
nX
,
Yi
,
Z
).
move_to
(
vîti˚s
);

27665 i‡((
	gedge
&4Ë&& 
ödi˚s1
(
xi
,
nyi
,0)<0) {

27666 c⁄° 
	gXi
 = 
X
 + (
isovÆue
-
vÆ3
)*
dx
/(
vÆ2
-val3);

27667 
ödi˚s1
(
xi
,
nyi
,0Ë
vîti˚s
.
_width
;

27668 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
Xi
,
nY
,
Z
).
move_to
(
vîti˚s
);

27670 i‡((
	gedge
&8Ë&& 
ödi˚s1
(
xi
,
yi
,1)<0) {

27671 c⁄° 
	gYi
 = 
Y
 + (
isovÆue
-
vÆ0
)*
dy
/(
vÆ3
-val0);

27672 
ödi˚s1
(
xi
,
yi
,1Ë
vîti˚s
.
_width
;

27673 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
X
,
Yi
,
Z
).
move_to
(
vîti˚s
);

27675 i‡((
	gedge
&16Ë&& 
ödi˚s2
(
xi
,
yi
,0)<0) {

27676 c⁄° 
	gXi
 = 
X
 + (
isovÆue
-
vÆ4
)*
dx
/(
vÆ5
-val4);

27677 
ödi˚s2
(
xi
,
yi
,0Ë
vîti˚s
.
_width
;

27678 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
Xi
,
Y
,
nZ
).
move_to
(
vîti˚s
);

27680 i‡((
	gedge
&32Ë&& 
ödi˚s2
(
nxi
,
yi
,1)<0) {

27681 c⁄° 
	gYi
 = 
Y
 + (
isovÆue
-
vÆ5
)*
dy
/(
vÆ6
-val5);

27682 
ödi˚s2
(
nxi
,
yi
,1Ë
vîti˚s
.
_width
;

27683 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
nX
,
Yi
,
nZ
).
move_to
(
vîti˚s
);

27685 i‡((
	gedge
&64Ë&& 
ödi˚s2
(
xi
,
nyi
,0)<0) {

27686 c⁄° 
	gXi
 = 
X
 + (
isovÆue
-
vÆ7
)*
dx
/(
vÆ6
-val7);

27687 
ödi˚s2
(
xi
,
nyi
,0Ë
vîti˚s
.
_width
;

27688 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
Xi
,
nY
,
nZ
).
move_to
(
vîti˚s
);

27690 i‡((
	gedge
&128Ë&& 
ödi˚s2
(
xi
,
yi
,1)<0) {

27691 c⁄° 
	gYi
 = 
Y
 + (
isovÆue
-
vÆ4
)*
dy
/(
vÆ7
-val4);

27692 
ödi˚s2
(
xi
,
yi
,1Ë
vîti˚s
.
_width
;

27693 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
X
,
Yi
,
nZ
).
move_to
(
vîti˚s
);

27695 i‡((
	gedge
&256Ë&& 
ödi˚s1
(
xi
,
yi
,2)<0) {

27696 c⁄° 
	gZi
 = 
Z
+ (
isovÆue
-
vÆ0
)*
dz
/(
vÆ4
-val0);

27697 
ödi˚s1
(
xi
,
yi
,2Ë
vîti˚s
.
_width
;

27698 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
X
,
Y
,
Zi
).
move_to
(
vîti˚s
);

27700 i‡((
	gedge
&512Ë&& 
ödi˚s1
(
nxi
,
yi
,2)<0) {

27701 c⁄° 
	gZi
 = 
Z
 + (
isovÆue
-
vÆ1
)*
dz
/(
vÆ5
-val1);

27702 
ödi˚s1
(
nxi
,
yi
,2Ë
vîti˚s
.
_width
;

27703 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
nX
,
Y
,
Zi
).
move_to
(
vîti˚s
);

27705 i‡((
	gedge
&1024Ë&& 
ödi˚s1
(
nxi
,
nyi
,2)<0) {

27706 c⁄° 
	gZi
 = 
Z
 + (
isovÆue
-
vÆ2
)*
dz
/(
vÆ6
-val2);

27707 
ödi˚s1
(
nxi
,
nyi
,2Ë
vîti˚s
.
_width
;

27708 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
nX
,
nY
,
Zi
).
move_to
(
vîti˚s
);

27710 i‡((
	gedge
&2048Ë&& 
ödi˚s1
(
xi
,
nyi
,2)<0) {

27711 c⁄° 
	gZi
 = 
Z
 + (
isovÆue
-
vÆ3
)*
dz
/(
vÆ7
-val3);

27712 
ödi˚s1
(
xi
,
nyi
,2Ë
vîti˚s
.
_width
;

27713 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
X
,
nY
,
Zi
).
move_to
(
vîti˚s
);

27717 c⁄° *
	gåüngÀ
 = 
åüngÀs
[
c⁄figuøti⁄
]; *triangle!=-1; ) {

27718 c⁄° 
	gp0
 = *(
åüngÀ
++), 
	gp1
 = *—rüngÀ++), 
	gp2
 = *(triangle++);

27719 c⁄° 
tf


27720 
	gi0
 = (
tf
)(
_isosurÁ˚3d_ödi˚
(
p0
,
ödi˚s1
,
ödi˚s2
,
xi
,
yi
,
nxi
,
nyi
)),

27721 
	gi1
 = (
tf
)(
_isosurÁ˚3d_ödi˚
(
p1
,
ödi˚s1
,
ödi˚s2
,
xi
,
yi
,
nxi
,
nyi
)),

27722 
	gi2
 = (
tf
)(
_isosurÁ˚3d_ödi˚
(
p2
,
ödi˚s1
,
ödi˚s2
,
xi
,
yi
,
nxi
,
nyi
));

27723 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i2
,
i1
).
move_to
(
¥imôives
);

27728 
	gcimg
::
sw≠
(
vÆues1
,
vÆues2
);

27729 
	gcimg
::
sw≠
(
ödi˚s1
,
ödi˚s2
);

27731  
	gvîti˚s
>'x';

27735 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27736 
	gCImg
<
	gÊﬂtT
> 
isosurÁ˚3d
(
CImgLi°
<
tf
>& 
¥imôives
, c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
isovÆue
,

27737 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

27738 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

27739 c⁄° 
dx
=32, c⁄° 
dy
=32, c⁄° 
dz
=32) {

27740 c⁄° 
_fun˘‹3d_ex¥
 
func
(
ex¥essi⁄
);

27741  
isosurÁ˚3d
(
¥imôives
,
func
,
isovÆue
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
dx
,
dy
,
dz
);

27744 
	gãm∂©e
<
ty≥«me
 
	gt
>

27745 
_isosurÁ˚3d_ödi˚
(c⁄° 
edge
, c⁄° 
CImg
<
t
>& 
ödi˚s1
, c⁄° CImg<t>& 
ödi˚s2
,

27746 c⁄° 
x
, c⁄° 
y
, c⁄° 
nx
, c⁄° 
ny
) {

27747 
	gedge
) {

27748 0 :  
ödi˚s1
(
x
,
y
,0);

27749 1 :  
ödi˚s1
(
nx
,
y
,1);

27750 2 :  
ödi˚s1
(
x
,
ny
,0);

27751 3 :  
ödi˚s1
(
x
,
y
,1);

27752 4 :  
ödi˚s2
(
x
,
y
,0);

27753 5 :  
ödi˚s2
(
nx
,
y
,1);

27754 6 :  
ödi˚s2
(
x
,
ny
,0);

27755 7 :  
ödi˚s2
(
x
,
y
,1);

27756 8 :  
ödi˚s1
(
x
,
y
,2);

27757 9 :  
ödi˚s1
(
nx
,
y
,2);

27758 10 :  
ödi˚s1
(
nx
,
ny
,2);

27759 11 :  
ödi˚s1
(
x
,
ny
,2);

27765 
	s_fun˘‹2d_öt
 {

27766 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

27767 
_fun˘‹2d_öt
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
(pref) {}

27768 
›î©‹
()(c⁄° 
x
, c⁄° 
	gy
) const {

27769  ()
ªf
(()
x
,()
y
);

27773 
	s_fun˘‹2d_Êﬂt
 {

27774 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

27775 
_fun˘‹2d_Êﬂt
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
(pref) {}

27776 
›î©‹
()(c⁄° 
x
, c⁄° 
	gy
) const {

27777  ()
	gªf
.
_löór_©XY
(
x
,
y
);

27781 
	s_fun˘‹2d_ex¥
 {

27782 
_cimg_m©h_∑r£r
 *
	gmp
;

27783 
_fun˘‹2d_ex¥
(c⁄° *c⁄° 
ex¥
):
mp
(0Ë{ m∞
√w
 
_cimg_m©h_∑r£r
(
CImg
<
T
>::
em±y
(),expr,0); }

27784 ~
_fun˘‹2d_ex¥
(Ë{ 
dñëe
 
	gmp
; }

27785 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
) const {

27786  ()
	gmp
->
evÆ
(
x
,
y
,0,0);

27790 
	s_fun˘‹3d_öt
 {

27791 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

27792 
_fun˘‹3d_öt
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
(pref) {}

27793 
›î©‹
()(c⁄° 
x
, c⁄° 
	gy
, c⁄° 
	gz
) const {

27794  ()
ªf
(()
x
,()
y
,()
z
);

27798 
	s_fun˘‹3d_Êﬂt
 {

27799 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

27800 
_fun˘‹3d_Êﬂt
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
(pref) {}

27801 
›î©‹
()(c⁄° 
x
, c⁄° 
	gy
, c⁄° 
	gz
) const {

27802  ()
	gªf
.
_löór_©XYZ
(
x
,
y
,
z
);

27806 
	s_fun˘‹3d_ex¥
 {

27807 
_cimg_m©h_∑r£r
 *
	gmp
;

27808 ~
_fun˘‹3d_ex¥
(Ë{ 
dñëe
 
	gmp
; }

27809 
_fun˘‹3d_ex¥
(c⁄° *c⁄° 
ex¥
):
mp
(0Ë{ m∞
√w
 
_cimg_m©h_∑r£r
(
CImg
<
T
>::
em±y
(),expr,0); }

27810 
›î©‹
()(c⁄° 
	gx
, c⁄° 
	gy
, c⁄° 
	gz
) const {

27811  ()
	gmp
->
evÆ
(
x
,
y
,
z
,0);

27815 
	s_fun˘‹4d_öt
 {

27816 c⁄° 
	gCImg
<
	gT
>& 
	gªf
;

27817 
_fun˘‹4d_öt
(c⁄° 
CImg
<
T
>& 
¥ef
):
ªf
(pref) {}

27818 
›î©‹
()(c⁄° 
x
, c⁄° 
	gy
, c⁄° 
	gz
, c⁄° 
	gc
) const {

27819  ()
ªf
(()
x
,()
y
,()
z
,
c
);

27839 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27840 
	gCImg
<
	gÊﬂtT
> 
box3d
(
CImgLi°
<
tf
>& 
¥imôives
,

27841 c⁄° 
size_x
=200, c⁄° 
size_y
=100, c⁄° 
size_z
=100) {

27842 
¥imôives
.
assign
(6,1,4,1,1, 0,3,2,1, 4,5,6,7, 0,1,5,4, 3,7,6,2, 0,4,7,3, 1,2,6,5);

27843  
	gCImg
<
	gÊﬂtT
>(8,3,1,1,

27844 0.,
	gsize_x
,size_x, 0., 0.,size_x,size_x, 0.,

27845 0., 0.,
	gsize_y
,size_y, 0., 0.,size_y,size_y,

27846 0., 0., 0., 0.,
	gsize_z
,size_z,size_z,size_z);

27865 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27866 
	gCImg
<
	gÊﬂtT
> 
c⁄e3d
(
CImgLi°
<
tf
>& 
¥imôives
,

27867 c⁄° 
ødius
=50, c⁄° 
size_z
=100, c⁄° 
subdivisi⁄s
=24) {

27868 
¥imôives
.
assign
();

27869 i‡(!
	gsubdivisi⁄s
Ë 
	gCImg
<
	gÊﬂtT
>();

27870 
	gCImgLi°
<
	gÊﬂtT
> 
vîti˚s
(2,1,3,1,1,

27871 0.,0.,
size_z
,

27873 
	gdñè
 = 360.0f/
subdivisi⁄s
, 
	g™gÀ
 = 0;ángÀ<360;ángÀ+=
dñè
) {

27874 c⁄° 
a
 = ()(
™gÀ
*
cimg
::
PI
/180);

27875 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(()(
ødius
*
°d
::
cos
(
a
)),()‘adius*°d::
sö
◊)),0).
move_to
(
vîti˚s
);

27877 c⁄° 
	gnbr
 = 
vîti˚s
.
_width
 - 2;

27878 
	gp
 = 0;Ö<
	gnbr
; ++p) {

27879 c⁄° 
	gcuº
 = 2 + 
p
, 
	g√xt
 = 2 + (’+1)%
nbr
);

27880 
	gCImg
<
	gtf
>::
ve˘‹
(1,
√xt
,
cuº
).
move_to
(
¥imôives
);

27881 
	gCImg
<
	gtf
>::
ve˘‹
(0,
cuº
,
√xt
).
move_to
(
¥imôives
);

27883  
	gvîti˚s
>'x';

27902 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27903 
	gCImg
<
	gÊﬂtT
> 
cylödî3d
(
CImgLi°
<
tf
>& 
¥imôives
,

27904 c⁄° 
ødius
=50, c⁄° 
size_z
=100, c⁄° 
subdivisi⁄s
=24) {

27905 
¥imôives
.
assign
();

27906 i‡(!
	gsubdivisi⁄s
Ë 
	gCImg
<
	gÊﬂtT
>();

27907 
	gCImgLi°
<
	gÊﬂtT
> 
vîti˚s
(2,1,3,1,1,

27909 0.,0.,
size_z
);

27910 
	gdñè
 = 360.0f/
subdivisi⁄s
, 
	g™gÀ
 = 0;ángÀ<360;ángÀ+=
dñè
) {

27911 c⁄° 
a
 = ()(
™gÀ
*
cimg
::
PI
/180);

27912 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(()(
ødius
*
°d
::
cos
(
a
)),()‘adius*°d::
sö
◊)),0.0f).
move_to
(
vîti˚s
);

27913 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(()(
ødius
*
°d
::
cos
(
a
)),()‘adius*°d::
sö
◊)),
size_z
).
move_to
(
vîti˚s
);

27915 c⁄° 
	gnbr
 = (
vîti˚s
.
_width
 - 2)/2;

27916 
	gp
 = 0;Ö<
	gnbr
; ++p) {

27917 c⁄° 
	gcuº
 = 2+2*
p
, 
	g√xt
 = 2+(2*(’+1)%
nbr
));

27918 
	gCImg
<
	gtf
>::
ve˘‹
(0,
√xt
,
cuº
).
move_to
(
¥imôives
);

27919 
	gCImg
<
	gtf
>::
ve˘‹
(1,
cuº
+1,
√xt
+1).
move_to
(
¥imôives
);

27920 
	gCImg
<
	gtf
>::
ve˘‹
(
cuº
,
√xt
,√xt+1,cuº+1).
move_to
(
¥imôives
);

27922  
	gvîti˚s
>'x';

27942 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27943 
	gCImg
<
	gÊﬂtT
> 
t‹us3d
(
CImgLi°
<
tf
>& 
¥imôives
,

27944 c⁄° 
ødius1
=100, c⁄° 
ødius2
=30,

27945 c⁄° 
subdivisi⁄s1
=24, c⁄° 
subdivisi⁄s2
=12) {

27946 
¥imôives
.
assign
();

27947 i‡(!
	gsubdivisi⁄s1
 || !
	gsubdivisi⁄s2
Ë 
	gCImg
<
	gÊﬂtT
>();

27948 
	gCImgLi°
<
	gÊﬂtT
> 
	gvîti˚s
;

27949 
	gv
 = 0; v<
	gsubdivisi⁄s1
; ++v) {

27951 
	gbëa
 = ()(
v
*2*
cimg
::
PI
/
subdivisi⁄s1
),

27952 
	gxc
 = 
ødius1
*()
°d
::
cos
(
bëa
),

27953 
	gyc
 = 
ødius1
*()
°d
::
sö
(
bëa
);

27954 
	gu
 = 0; u<
	gsubdivisi⁄s2
; ++u) {

27956 
	gÆpha
 = ()(
u
*2*
cimg
::
PI
/
subdivisi⁄s2
),

27957 
	gx
 = 
xc
 + 
ødius2
*()(
°d
::
cos
(
Æpha
)*°d::cos(
bëa
)),

27958 
	gy
 = 
yc
 + 
ødius2
*()(
°d
::
cos
(
Æpha
)*°d::
sö
(
bëa
)),

27959 
	gz
 = 
ødius2
*()
°d
::
sö
(
Æpha
);

27960 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
x
,
y
,
z
).
move_to
(
vîti˚s
);

27963 
	gvv
 = 0; vv<
	gsubdivisi⁄s1
; ++vv) {

27964 c⁄° 
	gnv
 = (
vv
+1)%
subdivisi⁄s1
;

27965 
	guu
 = 0; uu<
	gsubdivisi⁄s2
; ++uu) {

27966 c⁄° 
	gnu
 = (
uu
+1)%
subdivisi⁄s2
, 
	gsvv
 = subdivisi⁄s2*
vv
, 
	g¢v
 = subdivisi⁄s2*
nv
;

27967 
	gCImg
<
	gtf
>::
ve˘‹
(
svv
+
nu
,svv+
uu
,
¢v
+uu,¢v+nu).
move_to
(
¥imôives
);

27970  
	gvîti˚s
>'x';

27990 
	gãm∂©e
<
ty≥«me
 
	gtf
>

27991 
	gCImg
<
	gÊﬂtT
> 
∂™e3d
(
CImgLi°
<
tf
>& 
¥imôives
,

27992 c⁄° 
size_x
=100, c⁄° 
size_y
=100,

27993 c⁄° 
subdivisi⁄s_x
=10, c⁄° 
subdivisi⁄s_y
=10) {

27994 
¥imôives
.
assign
();

27995 i‡(!
	gsubdivisi⁄s_x
 || !
	gsubdivisi⁄s_y
Ë 
	gCImg
<
	gÊﬂtT
>();

27996 
	gCImgLi°
<
	gÊﬂtT
> 
	gvîti˚s
;

27997 c⁄° 
	gw
 = 
subdivisi⁄s_x
 + 1, 
	gh
 = 
subdivisi⁄s_y
 + 1;

27998 c⁄° 
	gfx
 = ()
size_x
/
w
, 
	gfy
 = ()
size_y
/
h
;

27999 
	gy
 = 0; y<
	gh
; ++yË
	gx
 = 0; x<
	gw
; ++x)

28000 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
fx
*
x
,
fy
*
y
,0).
move_to
(
vîti˚s
);

28001 
	gy
 = 0; y<
	gsubdivisi⁄s_y
; ++yË
	gx
 = 0; x<
	gsubdivisi⁄s_x
; ++x) {

28002 c⁄° 
	goff1
 = 
x
+
y
*
w
, 
	goff2
 = x+1+y*w, 
	goff3
 = x+1+(y+1)*w, 
	goff4
 = x+(y+1)*w;

28003 
	gCImg
<
	gtf
>::
ve˘‹
(
off1
,
off4
,
off3
,
off2
).
move_to
(
¥imôives
);

28005  
	gvîti˚s
>'x';

28023 
	gãm∂©e
<
ty≥«me
 
	gtf
>

28024 
	gCImg
<
	gÊﬂtT
> 
•hîe3d
(
CImgLi°
<
tf
>& 
¥imôives
,

28025 c⁄° 
ødius
=50, c⁄° 
subdivisi⁄s
=3) {

28028 
¥imôives
.
assign
();

28029 c⁄° 
	gtmp
 = (1+
°d
::
sqπ
(5.0f))/2, 
	ga
 = 1.0/°d::sqπ(1+
tmp
*tmp), 
	gb
 =Åmp*
a
;

28030 
	gCImgLi°
<
	gÊﬂtT
> 
vîti˚s
(12,1,3,1,1, 
b
,
a
,0.0, -b,a,0.0, -b,-a,0.0, b,-a,0.0,á,0.0,b,á,0.0,-b,

28031 -
a
,0.0,-
b
, -a,0.0,b, 0.0,b,a, 0.0,-b,a, 0.0,-b,-a, 0.0,b,-a);

28032 
	g¥imôives
.
assign
(20,1,3,1,1, 4,8,7, 4,7,9, 5,6,11, 5,10,6, 0,4,3, 0,3,5, 2,7,1, 2,1,6,

28036 
	ghe
 = ()
a
;

28039 
	gi
 = 0; i<
	gsubdivisi⁄s
; ++i) {

28040 c⁄° 
	gL
 = 
¥imôives
.
_width
;

28041 
	ghe
/=2;

28042 c⁄° 
	ghe2
 = 
he
*he;

28043 
	gl
 = 0;Ü<
	gL
; ++l) {

28045 
	gp0
 = ()
¥imôives
(0,0), 
	gp1
 = (Ìrimôives(0,1), 
	gp2
 = ()primitives(0,2);

28047 
	gx0
 = 
vîti˚s
(
p0
,0), 
	gy0
 = vîti˚s’0,1), 
	gz0
 = vertices(p0,2),

28048 
	gx1
 = 
vîti˚s
(
p1
,0), 
	gy1
 = vîti˚s’1,1), 
	gz1
 = vertices(p1,2),

28049 
	gx2
 = 
vîti˚s
(
p2
,0), 
	gy2
 = vîti˚s’2,1), 
	gz2
 = vertices(p2,2),

28050 
	gäx0
 = (
x0
+
x1
)/2, 
	gäy0
 = (
y0
+
y1
)/2, 
	gäz0
 = (
z0
+
z1
)/2, 
	g¬0
 = ()
°d
::
sqπ
(
äx0
*äx0+
äy0
*äy0+
äz0
*tnz0),

28051 
	gäx1
 = (
x0
+
x2
)/2, 
	gäy1
 = (
y0
+
y2
)/2, 
	gäz1
 = (
z0
+
z2
)/2, 
	g¬1
 = ()
°d
::
sqπ
(
äx1
*äx1+
äy1
*äy1+
äz1
*tnz1),

28052 
	gäx2
 = (
x1
+
x2
)/2, 
	gäy2
 = (
y1
+
y2
)/2, 
	gäz2
 = (
z1
+
z2
)/2, 
	g¬2
 = ()
°d
::
sqπ
(
äx2
*äx2+
äy2
*äy2+
äz2
*tnz2),

28053 
	gnx0
 = 
äx0
/
¬0
, 
	gny0
 = 
äy0
/¬0, 
	gnz0
 = 
äz0
/nn0,

28054 
	gnx1
 = 
äx1
/
¬1
, 
	gny1
 = 
äy1
/¬1, 
	gnz1
 = 
äz1
/nn1,

28055 
	gnx2
 = 
äx2
/
¬2
, 
	gny2
 = 
äy2
/¬2, 
	gnz2
 = 
äz2
/nn2;

28056 
	gi0
 = -1, 
	gi1
 = -1, 
	gi2
 = -1;

28057 
cimgli°_f‹
(
vîti˚s
,
p
) {

28058 c⁄° 
	gx
 = ()
vîti˚s
(
p
,0), 
	gy
 = ()vîti˚s’,1), 
	gz
 = ()vertices(p,2);

28059 i‡(
	gcimg
::
sqr
(
x
-
nx0
Ë+ 
cimg
::sqr(
y
-
ny0
Ë+ cimg::sqr(
z
-
nz0
)<
he2
Ë
i0
 = 
p
;

28060 i‡(
	gcimg
::
sqr
(
x
-
nx1
Ë+ 
cimg
::sqr(
y
-
ny1
Ë+ cimg::sqr(
z
-
nz1
)<
he2
Ë
i1
 = 
p
;

28061 i‡(
	gcimg
::
sqr
(
x
-
nx2
Ë+ 
cimg
::sqr(
y
-
ny2
Ë+ cimg::sqr(
z
-
nz2
)<
he2
Ë
i2
 = 
p
;

28063 i‡(
	gi0
<0Ë{ 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
nx0
,
ny0
,
nz0
).
move_to
(
vîti˚s
); i0 = vîti˚s.
_width
 - 1; }

28064 i‡(
	gi1
<0Ë{ 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
nx1
,
ny1
,
nz1
).
move_to
(
vîti˚s
); i1 = vîti˚s.
_width
 - 1; }

28065 i‡(
	gi2
<0Ë{ 
	gCImg
<
	gÊﬂtT
>::
ve˘‹
(
nx2
,
ny2
,
nz2
).
move_to
(
vîti˚s
); i2 = vîti˚s.
_width
 - 1; }

28066 
	g¥imôives
.
ªmove
(0);

28067 
	gCImg
<
	gtf
>::
ve˘‹
(
p0
,
i0
,
i1
).
move_to
(
¥imôives
);

28068 
	gCImg
<
	gtf
>::
ve˘‹
((
tf
)
i0
,—f)
p1
,—f)
i2
).
move_to
(
¥imôives
);

28069 
	gCImg
<
	gtf
>::
ve˘‹
((
tf
)
i1
,—f)
i2
,—f)
p2
).
move_to
(
¥imôives
);

28070 
	gCImg
<
	gtf
>::
ve˘‹
((
tf
)
i1
,—f)
i0
,—f)
i2
).
move_to
(
¥imôives
);

28073  (
	gvîti˚s
>'x')*=
ødius
;

28092 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gt
>

28093 
	gCImg
<
	gÊﬂtT
> 
ñlùsoid3d
(
CImgLi°
<
tf
>& 
¥imôives
,

28094 c⁄° 
CImg
<
t
>& 
ãns‹
, c⁄° 
subdivisi⁄s
=3) {

28095 
¥imôives
.
assign
();

28096 i‡(!
	gsubdivisi⁄s
Ë 
	gCImg
<
	gÊﬂtT
>();

28097 
	gCImg
<
	gÊﬂtT
> 
	gS
, 
	gV
;

28098 
	gãns‹
.
symmëric_eigí
(
S
,
V
);

28099 c⁄° 
	g‹õ¡
 =

28100 (
V
(0,1)*V(1,2) - V(0,2)*V(1,1))*V(2,0) +

28101 (
V
(0,2)*V(1,0) - V(0,0)*V(1,2))*V(2,1) +

28102 (
V
(0,0)*V(1,1) - V(0,1)*V(1,0))*V(2,2);

28103 i‡(
	g‹õ¡
<0Ë{ 
V
(2,0) = -V(2,0); V(2,1) = -V(2,1); V(2,2) = -V(2,2); }

28104 c⁄° 
	gl0
 = 
S
[0], 
	gl1
 = S[1], 
	gl2
 = S[2];

28105 
	gCImg
<
	gÊﬂtT
> 
	gvîti˚s
 = 
•hîe3d
(
¥imôives
,1.0,
subdivisi⁄s
);

28106 
	gvîti˚s
.
gë_sh¨ed_row
(0)*=
l0
;

28107 
	gvîti˚s
.
gë_sh¨ed_row
(1)*=
l1
;

28108 
	gvîti˚s
.
gë_sh¨ed_row
(2)*=
l2
;

28109  
V
*
	gvîti˚s
;

28119 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

28120 
	gCImg
<
	gT
>& 
obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

28121 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

28122 c⁄° 
to
& 
›acôõs
,

28123 c⁄° 
boﬁ
 
fuŒ_check
=
åue
) {

28124  
gë_obje˘3dtoCImg3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
fuŒ_check
).
move_to
(*
this
);

28128 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
>

28129 
	gCImg
<
	gT
>& 
obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

28130 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

28131 c⁄° 
boﬁ
 
fuŒ_check
=
åue
) {

28132  
gë_obje˘3dtoCImg3d
(
¥imôives
,
cﬁ‹s
,
fuŒ_check
).
move_to
(*
this
);

28136 
	gãm∂©e
<
ty≥«me
 
	gç
>

28137 
	gCImg
<
	gT
>& 
obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

28138 c⁄° 
boﬁ
 
fuŒ_check
=
åue
) {

28139  
gë_obje˘3dtoCImg3d
(
¥imôives
,
fuŒ_check
).
move_to
(*
this
);

28143 
	gCImg
<
	gT
>& 
obje˘3dtoCImg3d
(c⁄° 
boﬁ
 
fuŒ_check
=
åue
) {

28144  
gë_obje˘3dtoCImg3d
(
fuŒ_check
).
move_to
(*
this
);

28148 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

28149 
	gCImg
<
	gÊﬂtT
> 
gë_obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

28150 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

28151 c⁄° 
to
& 
›acôõs
,

28152 c⁄° 
boﬁ
 
fuŒ_check
=
åue
) const {

28153 
îr‹_mesßge
[1024] = { 0 };

28154 i‡(!
is_obje˘3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
fuŒ_check
,
îr‹_mesßge
))

28155 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


28157 
cimg_ö°™˚
,
_width
,
¥imôives
._width,
îr‹_mesßge
);

28158 
	gCImg
<
	gÊﬂtT
> 
ªs
(1,
_size_obje˘3dtoCImg3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
));

28159 *
	g±rd
 = 
ªs
.
_d©a
;

28162 *(
	g±rd
++) = 'C' + 0.5f; *(ptrd++) = 'I' + 0.5f; *(ptrd++) = 'm' + 0.5f;

28163 *(
	g±rd
++) = 'g' + 0.5f; *(ptrd++) = '3' + 0.5f; *(ptrd++) = 'd' + 0.5f;

28166 *(
	g±rd
++Ë
cimg
::
uöt2Êﬂt
(
_width
);

28167 *(
	g±rd
++Ë
cimg
::
uöt2Êﬂt
(
¥imôives
.
_width
);

28170 i‡(
is_em±y
(Ë|| !
	g¥imôives
Ë 
	gªs
;

28171 c⁄° 
T
 *
	g±rx
 = 
d©a
(0,0), *
	g±ry
 = d©a(0,1), *
	g±rz
 = data(0,2);

28172 
cimg_f‹X
(*
this
,
p
) {

28173 *(
	g±rd
++Ë()*(
±rx
++);

28174 *(
	g±rd
++Ë()*(
±ry
++);

28175 *(
	g±rd
++Ë()*(
±rz
++);

28179 
cimgli°_f‹
(
¥imôives
,
p
) {

28180 *(
	g±rd
++Ë()
¥imôives
[
p
].
size
();

28181 c⁄° 
ç
 *
	g±Ω
 = 
¥imôives
[
p
].
_d©a
;

28182 
cimg_f‹off
(
¥imôives
[
p
],
i
Ë*(
	g±rd
++Ë
cimg
::
uöt2Êﬂt
(()*(
±Ω
++));

28186 c⁄° 
	gcsiz
 = 
cimg
::
mö
(
cﬁ‹s
.
_width
,
¥imôives
._width);

28187 
	gc
 = 0; c<()
	gcsiz
; ++c) {

28188 c⁄° 
	gCImg
<
	gtc
>& 
	gcﬁ‹
 = 
cﬁ‹s
[
c
];

28189 c⁄° 
tc
 *
	g±rc
 = 
cﬁ‹
.
_d©a
;

28190 i‡(
	gcﬁ‹
.
size
()==3Ë{ *(
±rd
++Ë()*(
±rc
++); *(
	g±rd
++) = ()*(ptrc++); *(ptrd++) = ()*ptrc; }

28192 *(
	g±rd
++) = -128.0f;

28193 
	gsh¨ed_öd
 = -1;

28194 i‡(
	gcﬁ‹
.
is_sh¨ed
()Ë
	gi
 = 0; i<
	gc
; ++iËi‡(
	g±rc
==
cﬁ‹s
[
i
].
_d©a
Ë{ 
sh¨ed_öd
 = i; ; }

28195 i‡(
	gsh¨ed_öd
<0) {

28196 *(
	g±rd
++Ë()
cﬁ‹
.
_width
;

28197 *(
	g±rd
++Ë()
cﬁ‹
.
_height
;

28198 *(
	g±rd
++Ë()
cﬁ‹
.
_•e˘rum
;

28199 
cimg_f‹off
(
cﬁ‹
,
l
Ë*(
	g±rd
++Ë()*(
±rc
++);

28201 *(
	g±rd
++Ë()
sh¨ed_öd
;

28202 *(
	g±rd
++) = 0;

28203 *(
	g±rd
++) = 0;

28207 c⁄° 
	gcsiz2
 = 
¥imôives
.
_width
 - 
cﬁ‹s
._width;

28208 
	gc
 = 0; c<
	gcsiz2
; ++cË{ *(
	g±rd
++) = 200.0f; *(ptrd++) = 200.0f; *(ptrd++) = 200.0f; }

28211 
	g±rd
 = 
_obje˘3dtoCImg3d
(
›acôõs
,
±rd
);

28212 c⁄° *
	g±ª
 = 
ªs
.
íd
();

28213 
	g±rd
<
	g±ª
) *(ptrd++) = 1.0f;

28214  
	gªs
;

28217 
	gãm∂©e
<
ty≥«me
 
	gto
>

28218 * 
_obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
to
>& 
›acôõs
, *
±rd
) const {

28219 
cimgli°_f‹
(
›acôõs
,
o
) {

28220 c⁄° 
	gCImg
<
	gto
>& 
	g›acôy
 = 
›acôõs
[
o
];

28221 c⁄° 
to
 *
	g±ro
 = 
›acôy
.
_d©a
;

28222 i‡(
	g›acôy
.
size
()==1Ë*(
±rd
++Ë()*
±ro
;

28224 *(
	g±rd
++) = -128.0f;

28225 
	gsh¨ed_öd
 = -1;

28226 i‡(
	g›acôy
.
is_sh¨ed
()Ë
	gi
 = 0; i<
	go
; ++iËi‡(
	g±ro
==
›acôõs
[
i
].
_d©a
Ë{ 
sh¨ed_öd
 = i; ; }

28227 i‡(
	gsh¨ed_öd
<0) {

28228 *(
	g±rd
++Ë()
›acôy
.
_width
;

28229 *(
	g±rd
++Ë()
›acôy
.
_height
;

28230 *(
	g±rd
++Ë()
›acôy
.
_•e˘rum
;

28231 
cimg_f‹off
(
›acôy
,
l
Ë*(
	g±rd
++Ë()*(
±ro
++);

28233 *(
	g±rd
++Ë()
sh¨ed_öd
;

28234 *(
	g±rd
++) = 0;

28235 *(
	g±rd
++) = 0;

28239  
	g±rd
;

28242 
	gãm∂©e
<
ty≥«me
 
	gto
>

28243 * 
_obje˘3dtoCImg3d
(c⁄° 
CImg
<
to
>& 
›acôõs
, *
±rd
) const {

28244 c⁄° 
to
 *
	g±ro
 = 
›acôõs
.
_d©a
;

28245 
cimg_f‹off
(
›acôõs
,
o
Ë*(
	g±rd
++Ë()*(
±ro
++);

28246  
	g±rd
;

28249 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

28250 
_size_obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

28251 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

28252 c⁄° 
CImgLi°
<
to
>& 
›acôõs
) const {

28253 
	gsiz
 = 8 + 3*
width
();

28254 
cimgli°_f‹
(
¥imôives
,
p
Ë
	gsiz
+ırimôives[p].
size
() + 1;

28255 
	gc
 = 
cimg
::
mö
(
¥imôives
.
_width
,
cﬁ‹s
._width)-1; c>=0; --c) {

28256 i‡(
	gcﬁ‹s
[
c
].
is_sh¨ed
()Ë
	gsiz
+=4;

28257 { c⁄° 
	gcsiz
 = 
cﬁ‹s
[
c
].
size
(); 
	gsiz
+=(
csiz
!=3)?4+csiz:3; }

28259 i‡(
	gcﬁ‹s
.
	g_width
<
	g¥imôives
._widthË
	gsiz
+=3*(
¥imôives
.
_width
 - 
cﬁ‹s
._width);

28260 
cimgli°_f‹
(
›acôõs
,
o
) {

28261 i‡(
	g›acôõs
[
o
].
is_sh¨ed
()Ë
	gsiz
+=4;

28262 { c⁄° 
	gosiz
 = 
›acôõs
[
o
].
size
(); 
	gsiz
+=(
osiz
!=1)?4+osiz:1; }

28264 
	gsiz
+=
¥imôives
.
_width
 - 
›acôõs
._width;

28265  
	gsiz
;

28268 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

28269 
_size_obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

28270 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

28271 c⁄° 
CImg
<
to
>& 
›acôõs
) const {

28272 
	gsiz
 = 8 + 3*
width
();

28273 
cimgli°_f‹
(
¥imôives
,
p
Ë
	gsiz
+ırimôives[p].
size
() + 1;

28274 
	gc
 = 
cimg
::
mö
(
¥imôives
.
_width
,
cﬁ‹s
._width)-1; c>=0; --c) {

28275 c⁄° 
	gcsiz
 = 
cﬁ‹s
[
c
].
size
(); 
	gsiz
+=(
csiz
!=3)?4+csiz:3;

28277 i‡(
	gcﬁ‹s
.
	g_width
<
	g¥imôives
._widthË
	gsiz
+=3*(
¥imôives
.
_width
 - 
cﬁ‹s
._width);

28278 
	gsiz
+=
¥imôives
.
size
();

28279 
	gcimg
::
unu£d
(
›acôõs
);

28280  
	gsiz
;

28284 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
>

28285 
	gCImg
<
	gÊﬂtT
> 
gë_obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

28286 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

28287 c⁄° 
boﬁ
 
fuŒ_check
=
åue
) const {

28288 
CImgLi°
<
T
> 
›acôõs
;

28289  
gë_obje˘3dtoCImg3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
fuŒ_check
);

28293 
	gãm∂©e
<
ty≥«me
 
	gç
>

28294 
	gCImg
<
	gÊﬂtT
> 
gë_obje˘3dtoCImg3d
(c⁄° 
CImgLi°
<
ç
>& 
¥imôives
,

28295 c⁄° 
boﬁ
 
fuŒ_check
=
åue
) const {

28296 
CImgLi°
<
T
> 
cﬁ‹s
, 
›acôõs
;

28297  
gë_obje˘3dtoCImg3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
fuŒ_check
);

28301 
	gCImg
<
	gÊﬂtT
> 
gë_obje˘3dtoCImg3d
(c⁄° 
boﬁ
 
fuŒ_check
=
åue
) const {

28302 
CImgLi°
<
T
> 
›acôõs
, 
cﬁ‹s
;

28303 
	gCImgLi°
<
	guötT
> 
¥imôives
(
width
(),1,1,1,1);

28304 
cimgli°_f‹
(
¥imôives
,
p
)Örimitives(p,0) =Ö;

28305  
gë_obje˘3dtoCImg3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
fuŒ_check
);

28315 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

28316 
	gCImg
<
	gT
>& 
CImg3dtoobje˘3d
(
CImgLi°
<
ç
>& 
¥imôives
,

28317 
CImgLi°
<
tc
>& 
cﬁ‹s
,

28318 
CImgLi°
<
to
>& 
›acôõs
,

28319 c⁄° 
boﬁ
 
fuŒ_check
=
åue
) {

28320  
gë_CImg3dtoobje˘3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
fuŒ_check
).
move_to
(*
this
);

28324 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

28325 
	gCImg
<
	gT
> 
gë_CImg3dtoobje˘3d
(
CImgLi°
<
ç
>& 
¥imôives
,

28326 
CImgLi°
<
tc
>& 
cﬁ‹s
,

28327 
CImgLi°
<
to
>& 
›acôõs
,

28328 c⁄° 
boﬁ
 
fuŒ_check
=
åue
) const {

28329 
îr‹_mesßge
[1024] = { 0 };

28330 i‡(!
is_CImg3d
(
fuŒ_check
,
îr‹_mesßge
))

28331 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


28333 
cimg_ö°™˚
,
îr‹_mesßge
);

28334 c⁄° 
T
 *
	g±rs
 = 
_d©a
 + 6;

28336 
	gnb_poöts
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++)),

28337 
	gnb_¥imôives
 = 
cimg
::
Êﬂt2uöt
(()*(
±rs
++));

28338 c⁄° 
	gCImg
<
	gT
> 
	gpoöts
 = 
CImg
<
T
>(
±rs
,3,
	gnb_poöts
,1,1,
	gåue
).
gë_å™•o£
();

28339 
	g±rs
+=3*
nb_poöts
;

28340 
	g¥imôives
.
assign
(
nb_¥imôives
);

28341 
cimgli°_f‹
(
¥imôives
,
p
) {

28342 c⁄° 
	gnb_öds
 = ()*(
±rs
++);

28343 
	g¥imôives
[
p
].
assign
(1,
nb_öds
);

28344 
ç
 *
	g±Ω
 = 
¥imôives
[
p
].
_d©a
;

28345 
	gi
 = 0; i<
	gnb_öds
; ++iË*(
	g±Ω
++Ë(
ç
)
cimg
::
Êﬂt2uöt
(()*(
±rs
++));

28347 
	gcﬁ‹s
.
assign
(
nb_¥imôives
);

28348 
cimgli°_f‹
(
cﬁ‹s
,
c
) {

28349 i‡(*
	g±rs
==(
T
)-128) {

28350 ++
±rs
;

28351 c⁄° 
	gw
 = ()*(
±rs
++), 
	gh
 = ()*’ås++), 
	gs
 = ()*(ptrs++);

28352 i‡(!
	gh
 && !
	gs
Ë
	gcﬁ‹s
[
c
].
assign
(
cﬁ‹s
[
w
],
åue
);

28353 { 
	gcﬁ‹s
[
c
].
assign
(
±rs
,
w
,
h
,1,
s
,
Ál£
); 
	g±rs
+=w*h*s; }

28354 } { 
	gcﬁ‹s
[
c
].
assign
(
±rs
,1,1,1,3,
Ál£
); 
	g±rs
+=3; }

28356 
	g›acôõs
.
assign
(
nb_¥imôives
);

28357 
cimgli°_f‹
(
›acôõs
,
o
) {

28358 i‡(*
	g±rs
==(
T
)-128) {

28359 ++
±rs
;

28360 c⁄° 
	gw
 = ()*(
±rs
++), 
	gh
 = ()*’ås++), 
	gs
 = ()*(ptrs++);

28361 i‡(!
	gh
 && !
	gs
Ë
	g›acôõs
[
o
].
assign
(
›acôõs
[
w
],
åue
);

28362 { 
	g›acôõs
[
o
].
assign
(
±rs
,
w
,
h
,1,
s
,
Ál£
); 
	g±rs
+=w*h*s; }

28363 } 
	g›acôõs
[
o
].
assign
(1,1,1,1,*(
±rs
++));

28365  
	gpoöts
;

28375 
	#cimg_öô_sˇ∆öe
(
cﬁ‹
,
›acôy
) \

28376 c⁄° 
_sc_n›acôy
 = 
cimg
::
	`abs
(()
›acôy
), 
_sc_c›acôy
 = 1 - cimg::
	`max
(()opacity,0); \

28377 c⁄° 
_sc_whd
 = ()
_width
*
_height
*
_dïth


	)

28379 
	#cimg_døw_sˇ∆öe
(
x0
,
x1
,
y
,
cﬁ‹
,
›acôy
,
brighäess
Ë
	`_døw_sˇ∆öe
(x0,x1,y,cﬁ‹,›acôy,brighäess,
_sc_n›acôy
,
_sc_c›acôy
,
_sc_whd
)

	)

28383 
	gãm∂©e
<
ty≥«me
 
	gtc
>

28384 
	gCImg
<
	gT
>& 
_døw_sˇ∆öe
(c⁄° 
x0
, c⁄° 
x1
, c⁄° 
y
,

28385 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

28386 c⁄° 
brighäess
,

28387 c⁄° 
n›acôy
, c⁄° 
c›acôy
, c⁄° 
whd
) {

28388 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

28389 c⁄° 
	gnx0
 = 
x0
>0?x0:0, 
	gnx1
 = 
x1
<
width
()?x1:width()-1, 
	gdx
 = 
nx1
 - 
nx0
;

28390 i‡(
	gdx
>=0) {

28391 c⁄° 
tc
 *
cﬁ
 = 
cﬁ‹
;

28392 c⁄° 
	goff
 = 
whd
 - 
dx
 - 1;

28393 
T
 *
	g±rd
 = 
d©a
(
nx0
,
y
);

28394 i‡(
	g›acôy
>=1) {

28395 i‡(
brighäess
==1) {

28396 i‡((
T
)!=1Ë
cimg_f‹C
(*
this
,
c
) {

28397 c⁄° 
T
 
	gvÆ
 = (T)*(
cﬁ
++);

28398 
	gx
 = 
dx
; x>=0; --xË*(
	g±rd
++Ë
vÆ
;

28399 
	g±rd
+=
off
;

28400 } 
cimg_f‹C
(*
this
,
c
) {

28401 c⁄° 
T
 
	gvÆ
 = (T)*(
cﬁ
++);

28402 
	g°d
::
mem£t
(
±rd
,()
vÆ
,
dx
+1);

28403 
	g±rd
+=
whd
;

28405 } i‡(
	gbrighäess
<1) {

28406 i‡((
	gT
)!=1Ë
cimg_f‹C
(*
this
,
c
) {

28407 c⁄° 
T
 
	gvÆ
 = (T)(*(
cﬁ
++)*
brighäess
);

28408 
	gx
 = 
dx
; x>=0; --xË*(
	g±rd
++Ë
vÆ
;

28409 
	g±rd
+=
off
;

28410 } 
cimg_f‹C
(*
this
,
c
) {

28411 c⁄° 
T
 
	gvÆ
 = (T)(*(
cﬁ
++)*
brighäess
);

28412 
	g°d
::
mem£t
(
±rd
,()
vÆ
,
dx
+1);

28413 
	g±rd
+=
whd
;

28416 i‡((
	gT
)!=1Ë
cimg_f‹C
(*
this
,
c
) {

28417 c⁄° 
T
 
	gvÆ
 = (T)((2-
brighäess
)**(
cﬁ
++Ë+ (brighäess-1)*
maxvÆ
);

28418 
	gx
 = 
dx
; x>=0; --xË*(
	g±rd
++Ë
vÆ
;

28419 
	g±rd
+=
off
;

28420 } 
cimg_f‹C
(*
this
,
c
) {

28421 c⁄° 
T
 
	gvÆ
 = (T)((2-
brighäess
)**(
cﬁ
++Ë+ (brighäess-1)*
maxvÆ
);

28422 
	g°d
::
mem£t
(
±rd
,()
vÆ
,
dx
+1);

28423 
	g±rd
+=
whd
;

28427 i‡(
	gbrighäess
==1) {

28428 
cimg_f‹C
(*
this
,
c
) {

28429 c⁄° 
T
 
vÆ
 = (T)*(
cﬁ
++);

28430 
	gx
 = 
dx
; x>=0; --xË{ *
	g±rd
 = (
T
)(
vÆ
*
n›acôy
 + *
±rd
*
c›acôy
); ++ptrd; }

28431 
	g±rd
+=
off
;

28433 } i‡(
	gbrighäess
<=1) {

28434 
cimg_f‹C
(*
this
,
c
) {

28435 c⁄° 
T
 
vÆ
 = (T)(*(
cﬁ
++)*
brighäess
);

28436 
	gx
 = 
dx
; x>=0; --xË{ *
	g±rd
 = (
T
)(
vÆ
*
n›acôy
 + *
±rd
*
c›acôy
); ++ptrd; }

28437 
	g±rd
+=
off
;

28440 
cimg_f‹C
(*
this
,
c
) {

28441 c⁄° 
T
 
	gvÆ
 = (T)((2-
brighäess
)**(
cﬁ
++Ë+ (brighäess-1)*
maxvÆ
);

28442 
	gx
 = 
dx
; x>=0; --xË{ *
	g±rd
 = (
T
)(
vÆ
*
n›acôy
 + *
±rd
*
c›acôy
); ++ptrd; }

28443 
	g±rd
+=
off
;

28448  *
	gthis
;

28467 
	gãm∂©e
<
ty≥«me
 
	gtc
>

28468 
	gCImg
<
	gT
>& 
døw_poöt
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

28469 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

28470 i‡(
is_em±y
()Ë *
this
;

28471 i‡(!
	gcﬁ‹
)

28472 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


28474 
cimg_ö°™˚
);

28475 i‡(
	gx0
>=0 && 
y0
>=0 && 
z0
>=0 && 
x0
<
width
(Ë&& y0<
height
(Ë&& z0<
dïth
()) {

28476 c⁄° 
whd
 = ()
_width
*
_height
*
_dïth
;

28477 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

28478 
T
 *
	g±rd
 = 
d©a
(
x0
,
y0
,
z0
,0);

28479 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

28480 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)*(
cﬁ
++);Öåd+=
whd
; }

28481 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(*(
cﬁ
++)*
n›acôy
 + *
±rd
*
c›acôy
);Öåd+=
whd
; }

28483  *
	gthis
;

28487 
	gãm∂©e
<
ty≥«me
 
	gtc
>

28488 
	gCImg
<
	gT
>& 
døw_poöt
(c⁄° 
x0
, c⁄° 
y0
,

28489 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

28490  
døw_poöt
(
x0
,
y0
,0,
cﬁ‹
,
›acôy
);

28499 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

28500 
	gCImg
<
	gT
>& 
døw_poöt
(c⁄° 
CImg
<
t
>& 
poöts
,

28501 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

28502 i‡(
is_em±y
(Ë|| !
poöts
Ë *
this
;

28503 
	gpoöts
.
	g_height
) {

28505 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


28507 
cimg_ö°™˚
,

28508 
poöts
.
_width
,poöts.
_height
,poöts.
_dïth
,poöts.
_•e˘rum
,poöts.
_d©a
);

28510 
cimg_f‹X
(
poöts
,
i
Ë
døw_poöt
((Ìoöts(i,0),(Ìoöts(i,1),
cﬁ‹
,
›acôy
);

28513 
cimg_f‹X
(
poöts
,
i
Ë
døw_poöt
((Ìoöts(i,0),(Ìoöts(i,1),(Ìoöts(i,2),
cﬁ‹
,
›acôy
);

28516  *
	gthis
;

28539 
	gãm∂©e
<
ty≥«me
 
	gtc
>

28540 
	gCImg
<
	gT
>& 
døw_löe
(c⁄° 
x0
, c⁄° 
y0
,

28541 c⁄° 
x1
, c⁄° 
y1
,

28542 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

28543 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

28544 i‡(
is_em±y
()Ë *
this
;

28545 i‡(!
	gcﬁ‹
)

28546 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


28548 
cimg_ö°™˚
);

28549 
	gh©ch
 = ~0U - (~0U>>1);

28550 i‡(
	göô_h©ch
Ë
	gh©ch
 = ~0U - (~0U>>1);

28551 c⁄° 
boﬁ
 
	gxdú
 = 
x0
<
x1
, 
	gydú
 = 
y0
<
y1
;

28553 
	gnx0
 = 
x0
, 
	gnx1
 = 
x1
, 
	gny0
 = 
y0
, 
	gny1
 = 
y1
,

28554 &
	gxÀ·
 = 
xdú
?
nx0
:
nx1
, &
	gyÀ·
 = xdú?
ny0
:
ny1
,

28555 &
	gxright
 = 
xdú
?
nx1
:
nx0
, &
	gyright
 = xdú?
ny1
:
ny0
,

28556 &
	gxup
 = 
ydú
?
nx0
:
nx1
, &
	gyup
 = ydú?
ny0
:
ny1
,

28557 &
	gxdown
 = 
ydú
?
nx1
:
nx0
, &
	gydown
 = ydú?
ny1
:
ny0
;

28558 i‡(
	gxright
<0 || 
	gxÀ·
>=
width
()Ë *
this
;

28559 i‡(
	gxÀ·
<0Ë{ 
	gyÀ·
-=()(()
xÀ·
*(()
yright
 - 
yÀ·
)/(()
xright
 - xleft)); xleft = 0; }

28560 i‡(
	gxright
>=
width
()Ë{ 
yright
-=()((()
xright
 - width())*(()yrighà- 
yÀ·
)/(()xrighà- 
xÀ·
)); xright = width() - 1; }

28561 i‡(
	gydown
<0 || 
	gyup
>=
height
()Ë *
this
;

28562 i‡(
	gyup
<0Ë{ 
	gxup
-=()(()
yup
*(()
xdown
 - 
xup
)/(()
ydown
 - yup)); yup = 0; }

28563 i‡(
	gydown
>=
height
()Ë{ 
xdown
-=()((()
ydown
 - height())*(()xdow¿- 
xup
)/(()ydow¿- 
yup
)); ydown = height() - 1; }

28564 
T
 *
	g±rd0
 = 
d©a
(
nx0
,
ny0
);

28565 
	gdx
 = 
xright
 - 
xÀ·
, 
	gdy
 = 
ydown
 - 
yup
;

28566 c⁄° 
boﬁ
 
	g°ìp
 = 
dy
>
dx
;

28567 i‡(
	g°ìp
Ë
	gcimg
::
sw≠
(
nx0
,
ny0
,
nx1
,
ny1
,
dx
,
dy
);

28569 
	goffx
 = (
nx0
<
nx1
?1:-1)*(
°ìp
?
width
():1),

28570 
	goffy
 = (
ny0
<
ny1
?1:-1)*(
°ìp
?1:
width
());

28571 c⁄° 
	gwh
 = ()
_width
*
_height
;

28572 i‡(
	g›acôy
>=1) {

28573 i‡(~
∑âîn
Ë
îr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28574 i‡(
	g∑âîn
&
	gh©ch
) {

28575 
T
 *
	g±rd
 = 
±rd0
; c⁄° 
tc
* 
	gcﬁ
 = 
cﬁ‹
;

28576 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)*(
cﬁ
++);Öåd+=
wh
; }

28578 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

28579 
	g±rd0
+=
offx
;

28580 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

28581 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28582 
T
 *
	g±rd
 = 
±rd0
; c⁄° 
tc
* 
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)*(
cﬁ
++);Öåd+=
wh
; }

28583 
	g±rd0
+=
offx
;

28584 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

28587 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

28588 i‡(~
	g∑âîn
Ë
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28589 i‡(
	g∑âîn
&
	gh©ch
) {

28590 
T
 *
	g±rd
 = 
±rd0
; c⁄° 
tc
* 
	gcﬁ
 = 
cﬁ‹
;

28591 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
**(
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
wh
; }

28593 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

28594 
	g±rd0
+=
offx
;

28595 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

28596 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28597 
T
 *
	g±rd
 = 
±rd0
; c⁄° 
tc
* 
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)(
n›acôy
**(
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
wh
; }

28598 
	g±rd0
+=
offx
;

28599 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

28602  *
	gthis
;

28619 
	gãm∂©e
<
ty≥«me
 
	gtz
,ty≥«mê
	gtc
>

28620 
	gCImg
<
	gT
>& 
døw_löe
(
CImg
<
tz
>& 
zbuf„r
,

28621 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

28622 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

28623 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

28624 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

28625 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	ttz
,>::
	tty≥
 
	ttzÊﬂt
;

28626 i‡(
is_em±y
(Ë|| 
	gz0
<=0 || 
z1
<=0Ë *
this
;

28627 i‡(!
	gcﬁ‹
)

28628 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


28630 
cimg_ö°™˚
);

28631 i‡(!
is_ßmeXY
(
zbuf„r
))

28632 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


28634 
cimg_ö°™˚
,

28635 
zbuf„r
.
_width
,zbuf„r.
_height
,zbuf„r.
_dïth
,zbuf„r.
_•e˘rum
,zbuf„r.
_d©a
);

28636 
	gh©ch
 = ~0U - (~0U>>1);

28637 i‡(
	göô_h©ch
Ë
	gh©ch
 = ~0U - (~0U>>1);

28638 c⁄° 
boﬁ
 
	gxdú
 = 
x0
<
x1
, 
	gydú
 = 
y0
<
y1
;

28640 
	gnx0
 = 
x0
, 
	gnx1
 = 
x1
, 
	gny0
 = 
y0
, 
	gny1
 = 
y1
,

28641 &
	gxÀ·
 = 
xdú
?
nx0
:
nx1
, &
	gyÀ·
 = xdú?
ny0
:
ny1
,

28642 &
	gxright
 = 
xdú
?
nx1
:
nx0
, &
	gyright
 = xdú?
ny1
:
ny0
,

28643 &
	gxup
 = 
ydú
?
nx0
:
nx1
, &
	gyup
 = ydú?
ny0
:
ny1
,

28644 &
	gxdown
 = 
ydú
?
nx1
:
nx0
, &
	gydown
 = ydú?
ny1
:
ny0
;

28645 
tzÊﬂt


28646 
	gZ0
 = 1/(
tzÊﬂt
)
z0
, 
	gZ1
 = 1/—zÊﬂt)
z1
, 
	gnz0
 = 
Z0
, 
	gnz1
 = 
Z1
, 
	gdz
 = Z1 - Z0,

28647 &
	gzÀ·
 = 
xdú
?
nz0
:
nz1
,

28648 &
	gzright
 = 
xdú
?
nz1
:
nz0
,

28649 &
	gzup
 = 
ydú
?
nz0
:
nz1
,

28650 &
	gzdown
 = 
ydú
?
nz1
:
nz0
;

28651 i‡(
	gxright
<0 || 
	gxÀ·
>=
width
()Ë *
this
;

28652 i‡(
	gxÀ·
<0) {

28653 c⁄° 
	gD
 = ()
xright
 - 
xÀ·
;

28654 
	gyÀ·
-=()(()
xÀ·
*(()
yright
 - 
yÀ·
)/
D
);

28655 
	gzÀ·
-=(
tzÊﬂt
)
xÀ·
*(
zright
 - 
zÀ·
)/
D
;

28656 
	gxÀ·
 = 0;

28658 i‡(
	gxright
>=
width
()) {

28659 c⁄° 
d
 = ()
xright
 - 
width
(), 
	gD
 = ()xrighà- 
xÀ·
;

28660 
	gyright
-=()(
d
*(()
yright
 - 
yÀ·
)/
D
);

28661 
	gzright
-=(
tzÊﬂt
)
d
*(
zright
 - 
zÀ·
)/
D
;

28662 
	gxright
 = 
width
() - 1;

28664 i‡(
	gydown
<0 || 
	gyup
>=
height
()Ë *
this
;

28665 i‡(
	gyup
<0) {

28666 c⁄° 
	gD
 = ()
ydown
 - 
yup
;

28667 
	gxup
-=()(()
yup
*(()
xdown
 - 
xup
)/
D
);

28668 
	gzup
-=(
tzÊﬂt
)
yup
*(
zdown
 - 
zup
)/
D
;

28669 
	gyup
 = 0;

28671 i‡(
	gydown
>=
height
()) {

28672 c⁄° 
d
 = ()
ydown
 - 
height
(), 
	gD
 = ()ydow¿- 
yup
;

28673 
	gxdown
-=()(
d
*(()
xdown
 - 
xup
)/
D
);

28674 
	gzdown
-=(
tzÊﬂt
)
d
*(
zdown
 - 
zup
)/
D
;

28675 
	gydown
 = 
height
() - 1;

28677 
T
 *
	g±rd0
 = 
d©a
(
nx0
,
ny0
);

28678 
tz
 *
	g±rz
 = 
zbuf„r
.
d©a
(
nx0
,
ny0
);

28679 
	gdx
 = 
xright
 - 
xÀ·
, 
	gdy
 = 
ydown
 - 
yup
;

28680 c⁄° 
boﬁ
 
	g°ìp
 = 
dy
>
dx
;

28681 i‡(
	g°ìp
Ë
	gcimg
::
sw≠
(
nx0
,
ny0
,
nx1
,
ny1
,
dx
,
dy
);

28683 
	goffx
 = (
nx0
<
nx1
?1:-1)*(
°ìp
?
width
():1),

28684 
	goffy
 = (
ny0
<
ny1
?1:-1)*(
°ìp
?1:
width
());

28685 c⁄° 
	gwh
 = ()
_width
*
_height
,

28686 
	gndx
 = 
dx
>0?dx:1;

28687 i‡(
	g›acôy
>=1) {

28688 i‡(~
∑âîn
Ë
îr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28689 c⁄° 
tzÊﬂt
 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
;

28690 i‡(
	gz
>=(
tzÊﬂt
)*
±rz
 && 
∑âîn
&
h©ch
) {

28691 *
±rz
 = (
tz
)
z
;

28692 
T
 *
	g±rd
 = 
±rd0
; c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

28693 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)*(
cﬁ
++);Öåd+=
wh
; }

28695 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

28696 
	g±rd0
+=
offx
; 
	g±rz
+=offx;

28697 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
; 
	g±rz
+=offy;Éº‹+=
dx
; }

28698 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28699 c⁄° 
tzÊﬂt
 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
;

28700 i‡(
	gz
>=(
tzÊﬂt
)*
±rz
) {

28701 *
±rz
 = (
tz
)
z
;

28702 
T
 *
	g±rd
 = 
±rd0
; c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

28703 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)*(
cﬁ
++);Öåd+=
wh
; }

28705 
	g±rd0
+=
offx
; 
	g±rz
+=offx;

28706 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
; 
	g±rz
+=offy;Éº‹+=
dx
; }

28709 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

28710 i‡(~
	g∑âîn
Ë
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28711 c⁄° 
tzÊﬂt
 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
;

28712 i‡(
	gz
>=(
tzÊﬂt
)*
±rz
 && 
∑âîn
&
h©ch
) {

28713 *
±rz
 = (
tz
)
z
;

28714 
T
 *
	g±rd
 = 
±rd0
; c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

28715 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
**(
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
wh
; }

28717 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

28718 
	g±rd0
+=
offx
; 
	g±rz
+=offx;

28719 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
; 
	g±rz
+=offy;Éº‹+=
dx
; }

28720 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28721 c⁄° 
tzÊﬂt
 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
;

28722 i‡(
	gz
>=(
tzÊﬂt
)*
±rz
) {

28723 *
±rz
 = (
tz
)
z
;

28724 
T
 *
	g±rd
 = 
±rd0
; c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

28725 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
**(
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
wh
; }

28727 
	g±rd0
+=
offx
; 
	g±rz
+=offx;

28728 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
; 
	g±rz
+=offy;Éº‹+=
dx
; }

28731  *
	gthis
;

28747 
	gãm∂©e
<
ty≥«me
 
	gtc
>

28748 
	gCImg
<
	gT
>& 
døw_löe
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

28749 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

28750 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

28751 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

28752 i‡(
is_em±y
()Ë *
this
;

28753 i‡(!
	gcﬁ‹
)

28754 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


28756 
cimg_ö°™˚
);

28757 
	gh©ch
 = ~0U - (~0U>>1);

28758 i‡(
	göô_h©ch
Ë
	gh©ch
 = ~0U - (~0U>>1);

28759 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnz0
 = 
z0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnz1
 = 
z1
;

28760 i‡(
	gnx0
>
	gnx1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
nz0
,
nz1
);

28761 i‡(
	gnx1
<0 || 
	gnx0
>=
width
()Ë *
this
;

28762 i‡(
	gnx0
<0Ë{ c⁄° 
	gD
 = 1.0‡+ 
nx1
 - 
nx0
; 
	gny0
-=()((Íx0*(1.0‡+ 
ny1
 - 
ny0
)/
D
); 
	gnz0
-=()((Íx0*(1.0‡+ 
nz1
 - 
nz0
)/D);Çx0 = 0; }

28763 i‡(
	gnx1
>=
width
()Ë{ c⁄° 
d
 = ()
nx1
 - width(), 
	gD
 = 1.0‡+Çx1 - 
nx0
; 
	gny1
+=()(d*(1.0‡+ 
ny0
 - 
ny1
)/
D
); 
	gnz1
+=()(d*(1.0‡+ 
nz0
 - 
nz1
)/D);Çx1 = width() - 1; }

28764 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
nz0
,
nz1
);

28765 i‡(
	gny1
<0 || 
	gny0
>=
height
()Ë *
this
;

28766 i‡(
	gny0
<0Ë{ c⁄° 
	gD
 = 1.0‡+ 
ny1
 - 
ny0
; 
	gnx0
-=()((Íy0*(1.0‡+ 
nx1
 - 
nx0
)/
D
); 
	gnz0
-=()((Íy0*(1.0‡+ 
nz1
 - 
nz0
)/D);Çy0 = 0; }

28767 i‡(
	gny1
>=
height
()Ë{ c⁄° 
d
 = ()
ny1
 - height(), 
	gD
 = 1.0‡+Çy1 - 
ny0
; 
	gnx1
+=()(d*(1.0‡+ 
nx0
 - 
nx1
)/
D
); 
	gnz1
+=()(d*(1.0‡+ 
nz0
 - 
nz1
)/D);Çy1 = height() - 1; }

28768 i‡(
	gnz0
>
	gnz1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
nz0
,
nz1
);

28769 i‡(
	gnz1
<0 || 
	gnz0
>=
dïth
()Ë *
this
;

28770 i‡(
	gnz0
<0Ë{ c⁄° 
	gD
 = 1.0‡+ 
nz1
 - 
nz0
; 
	gnx0
-=()((Íz0*(1.0‡+ 
nx1
 - 
nx0
)/
D
); 
	gny0
-=()((Íz0*(1.0‡+ 
ny1
 - 
ny0
)/D);Çz0 = 0; }

28771 i‡(
	gnz1
>=
dïth
()Ë{ c⁄° 
d
 = ()
nz1
 - dïth(), 
	gD
 = 1.0‡+Çz1 - 
nz0
; 
	gnx1
+=()(d*(1.0‡+ 
nx0
 - 
nx1
)/
D
); 
	gny1
+=()(d*(1.0‡+ 
ny0
 - 
ny1
)/D);Çz1 = depth() - 1; }

28772 c⁄° 
	gdmax
 = 
cimg
::
max
(cimg::
abs
(
nx1
 - 
nx0
),cimg::abs(
ny1
 - 
ny0
),
nz1
 - 
nz0
);

28773 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

28774 c⁄° 
	gpx
 = (
nx1
 - 
nx0
)/()
dmax
, 
	gpy
 = (
ny1
 - 
ny0
)/()dmax, 
	gpz
 = (
nz1
 - 
nz0
)/()dmax;

28775 
	gx
 = ()
nx0
, 
	gy
 = ()
ny0
, 
	gz
 = ()
nz0
;

28776 i‡(
	g›acôy
>=1Ë
t
 = 0; 
	gt
<=
dmax
; ++t) {

28777 i‡(!(~
	g∑âîn
Ë|| (~∑âî¿&&Ö©ã∫&
	gh©ch
)) {

28778 
T
* 
	g±rd
 = 
d©a
(()
x
,()
y
,()
z
);

28779 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)*(
cﬁ
++);Öåd+=
whd
; }

28781 
	gx
+=
px
; 
	gy
+=
py
; 
	gz
+=
pz
; i‡(
	g∑âîn
Ë{ 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1); }

28783 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

28784 
	gt
 = 0;Å<=
dmax
; ++t) {

28785 i‡(!(~
	g∑âîn
Ë|| (~∑âî¿&&Ö©ã∫&
	gh©ch
)) {

28786 
T
* 
	g±rd
 = 
d©a
(()
x
,()
y
,()
z
);

28787 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(*(
cﬁ
++)*
n›acôy
 + *
±rd
*
c›acôy
);Öåd+=
whd
; }

28789 
	gx
+=
px
; 
	gy
+=
py
; 
	gz
+=
pz
; i‡(
	g∑âîn
Ë{ 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1); }

28792  *
	gthis
;

28818 
	gãm∂©e
<
ty≥«me
 
	gtc
>

28819 
	gCImg
<
	gT
>& 
døw_löe
(c⁄° 
x0
, c⁄° 
y0
,

28820 c⁄° 
x1
, c⁄° 
y1
,

28821 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

28822 c⁄° 
tx0
, c⁄° 
ty0
,

28823 c⁄° 
tx1
, c⁄° 
ty1
,

28824 c⁄° 
›acôy
=1,

28825 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

28826 i‡(
is_em±y
()Ë *
this
;

28827 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

28828 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


28830 
cimg_ö°™˚
,

28831 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

28832 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_löe
(
x0
,
y0
,
x1
,
y1
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
,
∑âîn
,
öô_h©ch
);

28833 
	gh©ch
 = ~0U - (~0U>>1);

28834 i‡(
	göô_h©ch
Ë
	gh©ch
 = ~0U - (~0U>>1);

28835 c⁄° 
boﬁ
 
	gxdú
 = 
x0
<
x1
, 
	gydú
 = 
y0
<
y1
;

28837 
	gdtx
 = 
tx1
-
tx0
, 
	gdty
 = 
ty1
-
ty0
,

28838 
	gnx0
 = 
x0
, 
	gnx1
 = 
x1
, 
	gny0
 = 
y0
, 
	gny1
 = 
y1
,

28839 
	gäx0
 = 
tx0
, 
	gäx1
 = 
tx1
, 
	gäy0
 = 
ty0
, 
	gäy1
 = 
ty1
,

28840 &
	gxÀ·
 = 
xdú
?
nx0
:
nx1
, &
	gyÀ·
 = xdú?
ny0
:
ny1
, &
	gxright
 = xdú?nx1:nx0, &
	gyright
 = xdir?ny1:ny0,

28841 &
	gtxÀ·
 = 
xdú
?
äx0
:
äx1
, &
	gtyÀ·
 = xdú?
äy0
:
äy1
, &
	gtxright
 = xdú?äx1:äx0, &
	gtyright
 = xdir?tny1:tny0,

28842 &
	gxup
 = 
ydú
?
nx0
:
nx1
, &
	gyup
 = ydú?
ny0
:
ny1
, &
	gxdown
 = ydú?nx1:nx0, &
	gydown
 = ydir?ny1:ny0,

28843 &
	gtxup
 = 
ydú
?
äx0
:
äx1
, &
	gtyup
 = ydú?
äy0
:
äy1
, &
	gtxdown
 = ydú?äx1:äx0, &
	gtydown
 = ydir?tny1:tny0;

28844 i‡(
	gxright
<0 || 
	gxÀ·
>=
width
()Ë *
this
;

28845 i‡(
	gxÀ·
<0) {

28846 c⁄° 
	gD
 = ()
xright
 - 
xÀ·
;

28847 
	gyÀ·
-=()(()
xÀ·
*(()
yright
 - 
yÀ·
)/
D
);

28848 
	gtxÀ·
-=()(()
xÀ·
*(()
txright
 - 
txÀ·
)/
D
);

28849 
	gtyÀ·
-=()(()
xÀ·
*(()
tyright
 - 
tyÀ·
)/
D
);

28850 
	gxÀ·
 = 0;

28852 i‡(
	gxright
>=
width
()) {

28853 c⁄° 
d
 = ()
xright
 - 
width
(), 
	gD
 = ()xrighà- 
xÀ·
;

28854 
	gyright
-=()(
d
*(()
yright
 - 
yÀ·
)/
D
);

28855 
	gtxright
-=()(
d
*(()
txright
 - 
txÀ·
)/
D
);

28856 
	gtyright
-=()(
d
*(()
tyright
 - 
tyÀ·
)/
D
);

28857 
	gxright
 = 
width
() - 1;

28859 i‡(
	gydown
<0 || 
	gyup
>=
height
()Ë *
this
;

28860 i‡(
	gyup
<0) {

28861 c⁄° 
	gD
 = ()
ydown
 - 
yup
;

28862 
	gxup
-=()(()
yup
*(()
xdown
 - 
xup
)/
D
);

28863 
	gtxup
-=()(()
yup
*(()
txdown
 - 
txup
)/
D
);

28864 
	gtyup
-=()(()
yup
*(()
tydown
 - 
tyup
)/
D
);

28865 
	gyup
 = 0;

28867 i‡(
	gydown
>=
height
()) {

28868 c⁄° 
d
 = ()
ydown
 - 
height
(), 
	gD
 = ()ydow¿- 
yup
;

28869 
	gxdown
-=()(
d
*(()
xdown
 - 
xup
)/
D
);

28870 
	gtxdown
-=()(
d
*(()
txdown
 - 
txup
)/
D
);

28871 
	gtydown
-=()(
d
*(()
tydown
 - 
tyup
)/
D
);

28872 
	gydown
 = 
height
() - 1;

28874 
T
 *
	g±rd0
 = 
d©a
(
nx0
,
ny0
);

28875 
	gdx
 = 
xright
 - 
xÀ·
, 
	gdy
 = 
ydown
 - 
yup
;

28876 c⁄° 
boﬁ
 
	g°ìp
 = 
dy
>
dx
;

28877 i‡(
	g°ìp
Ë
	gcimg
::
sw≠
(
nx0
,
ny0
,
nx1
,
ny1
,
dx
,
dy
);

28879 
	goffx
 = (
nx0
<
nx1
?1:-1)*(
°ìp
?
width
():1),

28880 
	goffy
 = (
ny0
<
ny1
?1:-1)*(
°ìp
?1:
width
()),

28881 
	gndx
 = 
dx
>0?dx:1;

28882 c⁄° 
	gwh
 = ()
_width
*
_height
;

28884 i‡(
	g›acôy
>=1) {

28885 i‡(~
∑âîn
Ë
îr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28886 i‡(
	g∑âîn
&
	gh©ch
) {

28887 
T
 *
	g±rd
 = 
±rd0
;

28888 c⁄° 
	gtx
 = 
tx0
 + 
x
*
dtx
/
ndx
, 
	gty
 = 
ty0
 + x*
dty
/ndx;

28889 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)
ãxtuª
(
tx
,
ty
,0,c);Öåd+=
wh
; }

28891 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

28892 
	g±rd0
+=
offx
;

28893 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

28894 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28895 
T
 *
	g±rd
 = 
±rd0
;

28896 c⁄° 
	gtx
 = 
tx0
 + 
x
*
dtx
/
ndx
, 
	gty
 = 
ty0
 + x*
dty
/ndx;

28897 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)
ãxtuª
(
tx
,
ty
,0,c);Öåd+=
wh
; }

28898 
	g±rd0
+=
offx
;

28899 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

28902 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

28903 i‡(~
	g∑âîn
Ë
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28904 
T
 *
	g±rd
 = 
±rd0
;

28905 i‡(
	g∑âîn
&
	gh©ch
) {

28906 c⁄° 
	gtx
 = 
tx0
 + 
x
*
dtx
/
ndx
, 
	gty
 = 
ty0
 + x*
dty
/ndx;

28907 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
*
ãxtuª
(
tx
,
ty
,0,cË+ *
±rd
*
	gc›acôy
);Öåd+=
wh
; }

28909 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

28910 
	g±rd0
+=
offx
;

28911 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

28912 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

28913 
T
 *
	g±rd
 = 
±rd0
;

28914 c⁄° 
	gtx
 = 
tx0
 + 
x
*
dtx
/
ndx
, 
	gty
 = 
ty0
 + x*
dty
/ndx;

28915 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
*
ãxtuª
(
tx
,
ty
,0,cË+ *
±rd
*
	gc›acôy
);Öåd+=
wh
; }

28916 
	g±rd0
+=
offx
;

28917 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

28920  *
	gthis
;

28940 
	gãm∂©e
<
ty≥«me
 
	gtc
>

28941 
	gCImg
<
	gT
>& 
døw_löe
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

28942 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

28943 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

28944 c⁄° 
tx0
, c⁄° 
ty0
,

28945 c⁄° 
tx1
, c⁄° 
ty1
,

28946 c⁄° 
›acôy
=1,

28947 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

28948 i‡(
is_em±y
(Ë&& 
z0
<=0 && 
z1
<=0Ë *
this
;

28949 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

28950 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


28952 
cimg_ö°™˚
,

28953 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

28954 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_löe
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
,
∑âîn
,
öô_h©ch
);

28955 
	gh©ch
 = ~0U - (~0U>>1);

28956 i‡(
	göô_h©ch
Ë
	gh©ch
 = ~0U - (~0U>>1);

28957 c⁄° 
boﬁ
 
	gxdú
 = 
x0
<
x1
, 
	gydú
 = 
y0
<
y1
;

28959 
	gnx0
 = 
x0
, 
	gnx1
 = 
x1
, 
	gny0
 = 
y0
, 
	gny1
 = 
y1
,

28960 &
	gxÀ·
 = 
xdú
?
nx0
:
nx1
, &
	gyÀ·
 = xdú?
ny0
:
ny1
,

28961 &
	gxright
 = 
xdú
?
nx1
:
nx0
, &
	gyright
 = xdú?
ny1
:
ny0
,

28962 &
	gxup
 = 
ydú
?
nx0
:
nx1
, &
	gyup
 = ydú?
ny0
:
ny1
,

28963 &
	gxdown
 = 
ydú
?
nx1
:
nx0
, &
	gydown
 = ydú?
ny1
:
ny0
;

28965 
	gTx0
 = 
tx0
/
z0
, 
	gTx1
 = 
tx1
/
z1
,

28966 
	gTy0
 = 
ty0
/
z0
, 
	gTy1
 = 
ty1
/
z1
,

28967 
	gZ0
 = 1/
z0
, 
	gZ1
 = 1/
z1
,

28968 
	gdz
 = 
Z1
 - 
Z0
, 
	gdtx
 = 
Tx1
 - 
Tx0
, 
	gdty
 = 
Ty1
 - 
Ty0
,

28969 
	gäx0
 = 
Tx0
, 
	gäx1
 = 
Tx1
, 
	gäy0
 = 
Ty0
, 
	gäy1
 = 
Ty1
, 
	gnz0
 = 
Z0
, 
	gnz1
 = 
Z1
,

28970 &
	gzÀ·
 = 
xdú
?
nz0
:
nz1
, &
	gtxÀ·
 = xdú?
äx0
:
äx1
, &
	gtyÀ·
 = xdú?
äy0
:
äy1
,

28971 &
	gzright
 = 
xdú
?
nz1
:
nz0
, &
	gtxright
 = xdú?
äx1
:
äx0
, &
	gtyright
 = xdú?
äy1
:
äy0
,

28972 &
	gzup
 = 
ydú
?
nz0
:
nz1
, &
	gtxup
 = ydú?
äx0
:
äx1
, &
	gtyup
 = ydú?
äy0
:
äy1
,

28973 &
	gzdown
 = 
ydú
?
nz1
:
nz0
, &
	gtxdown
 = ydú?
äx1
:
äx0
, &
	gtydown
 = ydú?
äy1
:
äy0
;

28974 i‡(
	gxright
<0 || 
	gxÀ·
>=
width
()Ë *
this
;

28975 i‡(
	gxÀ·
<0) {

28976 c⁄° 
	gD
 = ()
xright
 - 
xÀ·
;

28977 
	gyÀ·
-=()(()
xÀ·
*(()
yright
 - 
yÀ·
)/
D
);

28978 
	gzÀ·
-=()
xÀ·
*(
zright
 - 
zÀ·
)/
D
;

28979 
	gtxÀ·
-=()
xÀ·
*(
txright
 - 
txÀ·
)/
D
;

28980 
	gtyÀ·
-=()
xÀ·
*(
tyright
 - 
tyÀ·
)/
D
;

28981 
	gxÀ·
 = 0;

28983 i‡(
	gxright
>=
width
()) {

28984 c⁄° 
d
 = ()
xright
 - 
width
(), 
	gD
 = ()xrighà- 
xÀ·
;

28985 
	gyright
-=()(
d
*(()
yright
 - 
yÀ·
)/
D
);

28986 
	gzright
-=
d
*(
zright
 - 
zÀ·
)/
D
;

28987 
	gtxright
-=
d
*(
txright
 - 
txÀ·
)/
D
;

28988 
	gtyright
-=
d
*(
tyright
 - 
tyÀ·
)/
D
;

28989 
	gxright
 = 
width
() - 1;

28991 i‡(
	gydown
<0 || 
	gyup
>=
height
()Ë *
this
;

28992 i‡(
	gyup
<0) {

28993 c⁄° 
	gD
 = ()
ydown
 - 
yup
;

28994 
	gxup
-=()(()
yup
*(()
xdown
 - 
xup
)/
D
);

28995 
	gzup
-=()
yup
*(
zdown
 - 
zup
)/
D
;

28996 
	gtxup
-=()
yup
*(
txdown
 - 
txup
)/
D
;

28997 
	gtyup
-=()
yup
*(
tydown
 - 
tyup
)/
D
;

28998 
	gyup
 = 0;

29000 i‡(
	gydown
>=
height
()) {

29001 c⁄° 
d
 = ()
ydown
 - 
height
(), 
	gD
 = ()ydow¿- 
yup
;

29002 
	gxdown
-=()(
d
*(()
xdown
 - 
xup
)/
D
);

29003 
	gzdown
-=
d
*(
zdown
 - 
zup
)/
D
;

29004 
	gtxdown
-=
d
*(
txdown
 - 
txup
)/
D
;

29005 
	gtydown
-=
d
*(
tydown
 - 
tyup
)/
D
;

29006 
	gydown
 = 
height
() - 1;

29008 
T
 *
	g±rd0
 = 
d©a
(
nx0
,
ny0
);

29009 
	gdx
 = 
xright
 - 
xÀ·
, 
	gdy
 = 
ydown
 - 
yup
;

29010 c⁄° 
boﬁ
 
	g°ìp
 = 
dy
>
dx
;

29011 i‡(
	g°ìp
Ë
	gcimg
::
sw≠
(
nx0
,
ny0
,
nx1
,
ny1
,
dx
,
dy
);

29013 
	goffx
 = (
nx0
<
nx1
?1:-1)*(
°ìp
?
width
():1),

29014 
	goffy
 = (
ny0
<
ny1
?1:-1)*(
°ìp
?1:
width
()),

29015 
	gndx
 = 
dx
>0?dx:1;

29016 c⁄° 
	gwh
 = ()
_width
*
_height
;

29018 i‡(
	g›acôy
>=1) {

29019 i‡(~
∑âîn
Ë
îr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

29020 i‡(
	g∑âîn
&
	gh©ch
) {

29021 c⁄° 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
, 
	gtx
 = 
Tx0
 + x*
dtx
/ndx, 
	gty
 = 
Ty0
 + x*
dty
/ndx;

29022 
T
 *
	g±rd
 = 
±rd0
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)
ãxtuª
(()(
tx
/
z
),()(
ty
/z),0,c);Öåd+=
wh
; }

29024 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

29025 
	g±rd0
+=
offx
;

29026 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

29027 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

29028 c⁄° 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
, 
	gtx
 = 
Tx0
 + x*
dtx
/ndx, 
	gty
 = 
Ty0
 + x*
dty
/ndx;

29029 
T
 *
	g±rd
 = 
±rd0
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)
ãxtuª
(()(
tx
/
z
),()(
ty
/z),0,c);Öåd+=
wh
; }

29030 
	g±rd0
+=
offx
;

29031 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

29034 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

29035 i‡(~
	g∑âîn
Ë
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

29036 i‡(
	g∑âîn
&
	gh©ch
) {

29037 c⁄° 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
, 
	gtx
 = 
Tx0
 + x*
dtx
/ndx, 
	gty
 = 
Ty0
 + x*
dty
/ndx;

29038 
T
 *
	g±rd
 = 
±rd0
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)(
n›acôy
*
ãxtuª
(()(
tx
/
z
),()(
ty
/z),0,cË+ *
±rd
*
	gc›acôy
);Öåd+=
wh
; }

29040 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

29041 
	g±rd0
+=
offx
;

29042 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

29043 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

29044 c⁄° 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
, 
	gtx
 = 
Tx0
 + x*
dtx
/ndx, 
	gty
 = 
Ty0
 + x*
dty
/ndx;

29045 
T
 *
	g±rd
 = 
±rd0
;

29046 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
*
ãxtuª
(()(
tx
/
z
),()(
ty
/z),0,cË+ *
±rd
*
	gc›acôy
);Öåd+=
wh
; }

29047 
	g±rd0
+=
offx
;

29048 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
;Éº‹+=
dx
; }

29051  *
	gthis
;

29072 
	gãm∂©e
<
ty≥«me
 
	gtz
,Åy≥«mê
	gtc
>

29073 
	gCImg
<
	gT
>& 
døw_löe
(
CImg
<
tz
>& 
zbuf„r
,

29074 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

29075 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

29076 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

29077 c⁄° 
tx0
, c⁄° 
ty0
,

29078 c⁄° 
tx1
, c⁄° 
ty1
,

29079 c⁄° 
›acôy
=1,

29080 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

29081 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	ttz
,>::
	tty≥
 
	ttzÊﬂt
;

29082 i‡(
is_em±y
(Ë|| 
	gz0
<=0 || 
z1
<=0Ë *
this
;

29083 i‡(!
is_ßmeXY
(
zbuf„r
))

29084 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29086 
cimg_ö°™˚
,

29087 
zbuf„r
.
_width
,zbuf„r.
_height
,zbuf„r.
_dïth
,zbuf„r.
_•e˘rum
,zbuf„r.
_d©a
);

29088 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

29089 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29091 
cimg_ö°™˚
,

29092 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

29093 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_löe
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
,
∑âîn
,
öô_h©ch
);

29094 
	gh©ch
 = ~0U - (~0U>>1);

29095 i‡(
	göô_h©ch
Ë
	gh©ch
 = ~0U - (~0U>>1);

29096 c⁄° 
boﬁ
 
	gxdú
 = 
x0
<
x1
, 
	gydú
 = 
y0
<
y1
;

29098 
	gnx0
 = 
x0
, 
	gnx1
 = 
x1
, 
	gny0
 = 
y0
, 
	gny1
 = 
y1
,

29099 &
	gxÀ·
 = 
xdú
?
nx0
:
nx1
, &
	gyÀ·
 = xdú?
ny0
:
ny1
,

29100 &
	gxright
 = 
xdú
?
nx1
:
nx0
, &
	gyright
 = xdú?
ny1
:
ny0
,

29101 &
	gxup
 = 
ydú
?
nx0
:
nx1
, &
	gyup
 = ydú?
ny0
:
ny1
,

29102 &
	gxdown
 = 
ydú
?
nx1
:
nx0
, &
	gydown
 = ydú?
ny1
:
ny0
;

29104 
	gTx0
 = 
tx0
/
z0
, 
	gTx1
 = 
tx1
/
z1
,

29105 
	gTy0
 = 
ty0
/
z0
, 
	gTy1
 = 
ty1
/
z1
,

29106 
	gdtx
 = 
Tx1
 - 
Tx0
, 
	gdty
 = 
Ty1
 - 
Ty0
,

29107 
	gäx0
 = 
Tx0
, 
	gäx1
 = 
Tx1
, 
	gäy0
 = 
Ty0
, 
	gäy1
 = 
Ty1
,

29108 &
	gtxÀ·
 = 
xdú
?
äx0
:
äx1
, &
	gtyÀ·
 = xdú?
äy0
:
äy1
,

29109 &
	gtxright
 = 
xdú
?
äx1
:
äx0
, &
	gtyright
 = xdú?
äy1
:
äy0
,

29110 &
	gtxup
 = 
ydú
?
äx0
:
äx1
, &
	gtyup
 = ydú?
äy0
:
äy1
,

29111 &
	gtxdown
 = 
ydú
?
äx1
:
äx0
, &
	gtydown
 = ydú?
äy1
:
äy0
;

29112 
tzÊﬂt


29113 
	gZ0
 = 1/(
tzÊﬂt
)
z0
, 
	gZ1
 = 1/—zÊﬂt)
z1
,

29114 
	gdz
 = 
Z1
 - 
Z0
, 
	gnz0
 = Z0, 
	gnz1
 = Z1,

29115 &
	gzÀ·
 = 
xdú
?
nz0
:
nz1
,

29116 &
	gzright
 = 
xdú
?
nz1
:
nz0
,

29117 &
	gzup
 = 
ydú
?
nz0
:
nz1
,

29118 &
	gzdown
 = 
ydú
?
nz1
:
nz0
;

29119 i‡(
	gxright
<0 || 
	gxÀ·
>=
width
()Ë *
this
;

29120 i‡(
	gxÀ·
<0) {

29121 c⁄° 
	gD
 = ()
xright
 - 
xÀ·
;

29122 
	gyÀ·
-=()(()
xÀ·
*(()
yright
 - 
yÀ·
)/
D
);

29123 
	gzÀ·
-=()
xÀ·
*(
zright
 - 
zÀ·
)/
D
;

29124 
	gtxÀ·
-=()
xÀ·
*(
txright
 - 
txÀ·
)/
D
;

29125 
	gtyÀ·
-=()
xÀ·
*(
tyright
 - 
tyÀ·
)/
D
;

29126 
	gxÀ·
 = 0;

29128 i‡(
	gxright
>=
width
()) {

29129 c⁄° 
d
 = ()
xright
 - 
width
(), 
	gD
 = ()xrighà- 
xÀ·
;

29130 
	gyright
-=()(
d
*(()
yright
 - 
yÀ·
)/
D
);

29131 
	gzright
-=
d
*(
zright
 - 
zÀ·
)/
D
;

29132 
	gtxright
-=
d
*(
txright
 - 
txÀ·
)/
D
;

29133 
	gtyright
-=
d
*(
tyright
 - 
tyÀ·
)/
D
;

29134 
	gxright
 = 
width
()-1;

29136 i‡(
	gydown
<0 || 
	gyup
>=
height
()Ë *
this
;

29137 i‡(
	gyup
<0) {

29138 c⁄° 
	gD
 = ()
ydown
 - 
yup
;

29139 
	gxup
-=()(()
yup
*(()
xdown
 - 
xup
)/
D
);

29140 
	gzup
-=
yup
*(
zdown
 - 
zup
)/
D
;

29141 
	gtxup
-=
yup
*(
txdown
 - 
txup
)/
D
;

29142 
	gtyup
-=
yup
*(
tydown
 - 
tyup
)/
D
;

29143 
	gyup
 = 0;

29145 i‡(
	gydown
>=
height
()) {

29146 c⁄° 
d
 = ()
ydown
 - 
height
(), 
	gD
 = ()ydow¿- 
yup
;

29147 
	gxdown
-=()(
d
*(()
xdown
 - 
xup
)/
D
);

29148 
	gzdown
-=
d
*(
zdown
 - 
zup
)/
D
;

29149 
	gtxdown
-=
d
*(
txdown
 - 
txup
)/
D
;

29150 
	gtydown
-=
d
*(
tydown
 - 
tyup
)/
D
;

29151 
	gydown
 = 
height
()-1;

29153 
T
 *
	g±rd0
 = 
d©a
(
nx0
,
ny0
);

29154 
tz
 *
	g±rz
 = 
zbuf„r
.
d©a
(
nx0
,
ny0
);

29155 
	gdx
 = 
xright
 - 
xÀ·
, 
	gdy
 = 
ydown
 - 
yup
;

29156 c⁄° 
boﬁ
 
	g°ìp
 = 
dy
>
dx
;

29157 i‡(
	g°ìp
Ë
	gcimg
::
sw≠
(
nx0
,
ny0
,
nx1
,
ny1
,
dx
,
dy
);

29159 
	goffx
 = (
nx0
<
nx1
?1:-1)*(
°ìp
?
width
():1),

29160 
	goffy
 = (
ny0
<
ny1
?1:-1)*(
°ìp
?1:
width
()),

29161 
	gndx
 = 
dx
>0?dx:1;

29162 c⁄° 
	gwh
 = ()
_width
*
_height
;

29164 i‡(
	g›acôy
>=1) {

29165 i‡(~
∑âîn
Ë
îr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

29166 i‡(
	g∑âîn
&
	gh©ch
) {

29167 c⁄° 
tzÊﬂt
 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
;

29168 i‡(
	gz
>=(
tzÊﬂt
)*
±rz
) {

29169 *
±rz
 = (
tz
)
z
;

29170 c⁄° 
	gtx
 = 
Tx0
 + 
x
*
dtx
/
ndx
, 
	gty
 = 
Ty0
 + x*
dty
/ndx;

29171 
T
 *
	g±rd
 = 
±rd0
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)
ãxtuª
(()(
tx
/
z
),()(
ty
/z),0,c);Öåd+=
wh
; }

29174 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

29175 
	g±rd0
+=
offx
; 
	g±rz
+=offx;

29176 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
; 
	g±rz
+=offy;Éº‹+=
dx
; }

29177 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

29178 c⁄° 
tzÊﬂt
 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
;

29179 i‡(
	gz
>=(
tzÊﬂt
)*
±rz
) {

29180 *
±rz
 = (
tz
)
z
;

29181 c⁄° 
	gtx
 = 
Tx0
 + 
x
*
dtx
/
ndx
, 
	gty
 = 
Ty0
 + x*
dty
/ndx;

29182 
T
 *
	g±rd
 = 
±rd0
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)
ãxtuª
(()(
tx
/
z
),()(
ty
/z),0,c);Öåd+=
wh
; }

29184 
	g±rd0
+=
offx
; 
	g±rz
+=offx;

29185 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
; 
	g±rz
+=offy;Éº‹+=
dx
; }

29188 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

29189 i‡(~
	g∑âîn
Ë
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

29190 i‡(
	g∑âîn
&
	gh©ch
) {

29191 c⁄° 
tzÊﬂt
 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
;

29192 i‡(
	gz
>=(
tzÊﬂt
)*
±rz
) {

29193 *
±rz
 = (
tz
)
z
;

29194 c⁄° 
	gtx
 = 
Tx0
 + 
x
*
dtx
/
ndx
, 
	gty
 = 
Ty0
 + x*
dty
/ndx;

29195 
T
 *
	g±rd
 = 
±rd0
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)(
n›acôy
*
ãxtuª
(()(
tx
/
z
),()(
ty
/z),0,cË+ *
±rd
*
	gc›acôy
);Öåd+=
wh
; }

29198 
	gh©ch
>>=1; if (!hatch) hatch = ~0U - (~0U>>1);

29199 
	g±rd0
+=
offx
; 
	g±rz
+=offx;

29200 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
; 
	g±rz
+=offy;Éº‹+=
dx
; }

29201 } 
	gîr‹
 = 
dx
>>1, 
	gx
 = 0; x<=dx; ++x) {

29202 c⁄° 
tzÊﬂt
 
	gz
 = 
Z0
 + 
x
*
dz
/
ndx
;

29203 i‡(
	gz
>=(
tzÊﬂt
)*
±rz
) {

29204 *
±rz
 = (
tz
)
z
;

29205 c⁄° 
	gtx
 = 
Tx0
 + 
x
*
dtx
/
ndx
, 
	gty
 = 
Ty0
 + x*
dty
/ndx;

29206 
T
 *
	g±rd
 = 
±rd0
; 
cimg_f‹C
(*
this
,
c
Ë{ *±rd = (T)(
n›acôy
*
ãxtuª
(()(
tx
/
z
),()(
ty
/z),0,cË+ *
±rd
*
	gc›acôy
);Öåd+=
wh
; }

29208 
	g±rd0
+=
offx
; 
	g±rz
+=offx;

29209 i‡((
	gîr‹
-=
dy
)<0Ë{ 
±rd0
+=
offy
; 
	g±rz
+=offy;Éº‹+=
dx
; }

29212  *
	gthis
;

29226 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

29227 
	gCImg
<
	gT
>& 
døw_löe
(c⁄° 
CImg
<
t
>& 
poöts
,

29228 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

29229 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

29230 i‡(
is_em±y
(Ë|| !
poöts
 ||Öoöts.
_width
<2Ë *
this
;

29231 
boﬁ
 
	gnöô_h©ch
 = 
öô_h©ch
;

29232 
	gpoöts
.
	g_height
) {

29234 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29236 
cimg_ö°™˚
,

29237 
poöts
.
_width
,poöts.
_height
,poöts.
_dïth
,poöts.
_•e˘rum
,poöts.
_d©a
);

29240 c⁄° 
x0
 = ()
poöts
(0,0), 
	gy0
 = ()points(0,1);

29241 
	gox
 = 
x0
, 
	goy
 = 
y0
;

29242 
	gi
 = 1; i<
	gpoöts
.
	g_width
; ++i) {

29243 c⁄° 
	gx
 = ()
poöts
(
i
,0), 
	gy
 = ()points(i,1);

29244 
døw_löe
(
ox
,
oy
,
x
,
y
,
cﬁ‹
,
›acôy
,
∑âîn
,
nöô_h©ch
);

29245 
	gnöô_h©ch
 = 
Ál£
;

29246 
	gox
 = 
x
; 
	goy
 = 
y
;

29250 c⁄° 
x0
 = ()
poöts
(0,0), 
	gy0
 = (Ìoöts(0,1), 
	gz0
 = ()points(0,2);

29251 
	gox
 = 
x0
, 
	goy
 = 
y0
, 
	goz
 = 
z0
;

29252 
	gi
 = 1; i<
	gpoöts
.
	g_width
; ++i) {

29253 c⁄° 
	gx
 = ()
poöts
(
i
,0), 
	gy
 = (Ìoöts(i,1), 
	gz
 = ()points(i,2);

29254 
døw_löe
(
ox
,
oy
,
oz
,
x
,
y
,
z
,
cﬁ‹
,
›acôy
,
∑âîn
,
nöô_h©ch
);

29255 
	gnöô_h©ch
 = 
Ál£
;

29256 
	gox
 = 
x
; 
	goy
 = 
y
; 
	goz
 = 
z
;

29260  *
	gthis
;

29275 
	gãm∂©e
<
ty≥«me
 
	gtc
>

29276 
	gCImg
<
	gT
>& 
døw_¨row
(c⁄° 
x0
, c⁄° 
y0
,

29277 c⁄° 
x1
, c⁄° 
y1
,

29278 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

29279 c⁄° 
™gÀ
=30, c⁄° 
Àngth
=-10,

29280 c⁄° 
∑âîn
=~0U) {

29281 i‡(
is_em±y
()Ë *
this
;

29282 c⁄° 
	gu
 = ()(
x0
 - 
x1
), 
	gv
 = ()(
y0
 - 
y1
), 
	gsq
 = 
u
*u + 
v
*v,

29283 
	gdeg
 = ()(
™gÀ
*
cimg
::
PI
/180), 
	g™g
 = (
sq
>0)?()
°d
::
©™2
(
v
,
u
):0.0f,

29284 
	gl
 = (
Àngth
>=0)?Àngth:-Àngth*()
°d
::
sqπ
(
sq
)/100;

29285 i‡(
	gsq
>0) {

29287 
	g˛
 = ()
°d
::
cos
(
™g
 - 
deg
), 
	g¶
 = ()°d::
sö
(ang - deg),

29288 
	g¸
 = ()
°d
::
cos
(
™g
 + 
deg
), 
	g§
 = ()°d::
sö
(ang + deg);

29290 
	gxl
 = 
x1
 + ()(
l
*
˛
), 
	gyl
 = 
y1
 + ()÷*
¶
),

29291 
	gxr
 = 
x1
 + ()(
l
*
¸
), 
	gyr
 = 
y1
 + ()÷*
§
),

29292 
	gxc
 = 
x1
 + ()((
l
+1)*(
˛
+
¸
))/2, 
	gyc
 = 
y1
 + ()(÷+1)*(
¶
+
§
))/2;

29293 
døw_löe
(
x0
,
y0
,
xc
,
yc
,
cﬁ‹
,
›acôy
,
∑âîn
).
døw_åüngÀ
(
x1
,
y1
,
xl
,
yl
,
xr
,
yr
,color,opacity);

29294 } 
døw_poöt
(
x0
,
y0
,
cﬁ‹
,
›acôy
);

29295  *
	gthis
;

29330 
	gãm∂©e
<
ty≥«me
 
	gtc
>

29331 
	gCImg
<
	gT
>& 
døw_•löe
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
u0
, c⁄° 
v0
,

29332 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
u1
, c⁄° 
v1
,

29333 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

29334 c⁄° 
¥ecisi⁄
=0.25, c⁄° 
∑âîn
=~0U,

29335 c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

29336 i‡(
is_em±y
()Ë *
this
;

29337 i‡(!
	gcﬁ‹
)

29338 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29340 
cimg_ö°™˚
);

29341 i‡(
	gx0
==
x1
 && 
y0
==
y1
Ë 
døw_poöt
(
x0
,y0,
cﬁ‹
,
›acôy
);

29342 
boﬁ
 
	gnöô_h©ch
 = 
öô_h©ch
;

29344 
	gax
 = 
u0
 + 
u1
 + 2*(
x0
 - 
x1
),

29345 
	gbx
 = 3*(
x1
 - 
x0
Ë- 2*
u0
 - 
u1
,

29346 
	gay
 = 
v0
 + 
v1
 + 2*(
y0
 - 
y1
),

29347 
	gby
 = 3*(
y1
 - 
y0
Ë- 2*
v0
 - 
v1
,

29348 
	g_¥ecisi⁄
 = 1/(
°d
::
sqπ
(
cimg
::
sqr
(()
x0
-
x1
)+cimg::sqr(()
y0
-
y1
))*(
¥ecisi⁄
>0?precision:1));

29349 
	gox
 = 
x0
, 
	goy
 = 
y0
;

29350 
	gt
 = 0;Å<1;Å+=
_¥ecisi⁄
) {

29351 c⁄° 
t2
 = 
t
*t, 
	gt3
 =Å2*t;

29353 
	gnx
 = ()(
ax
*
t3
 + 
bx
*
t2
 + 
u0
*
t
 + 
x0
),

29354 
	gny
 = ()(
ay
*
t3
 + 
by
*
t2
 + 
v0
*
t
 + 
y0
);

29355 
døw_löe
(
ox
,
oy
,
nx
,
ny
,
cﬁ‹
,
›acôy
,
∑âîn
,
nöô_h©ch
);

29356 
	gnöô_h©ch
 = 
Ál£
;

29357 
	gox
 = 
nx
; 
	goy
 = 
ny
;

29359  
døw_löe
(
ox
,
oy
,
x1
,
y1
,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
);

29367 
	gãm∂©e
<
ty≥«me
 
	gtc
>

29368 
	gCImg
<
	gT
>& 
døw_•löe
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
u0
, c⁄° 
v0
, c⁄° 
w0
,

29369 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
u1
, c⁄° 
v1
, c⁄° 
w1
,

29370 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

29371 c⁄° 
¥ecisi⁄
=4, c⁄° 
∑âîn
=~0U,

29372 c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

29373 i‡(
is_em±y
()Ë *
this
;

29374 i‡(!
	gcﬁ‹
)

29375 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29377 
cimg_ö°™˚
);

29378 i‡(
	gx0
==
x1
 && 
y0
==
y1
 && 
z0
==
z1
Ë 
døw_poöt
(
x0
,y0,z0,
cﬁ‹
,
›acôy
);

29379 
boﬁ
 
	gnöô_h©ch
 = 
öô_h©ch
;

29381 
	gax
 = 
u0
 + 
u1
 + 2*(
x0
 - 
x1
),

29382 
	gbx
 = 3*(
x1
 - 
x0
Ë- 2*
u0
 - 
u1
,

29383 
	gay
 = 
v0
 + 
v1
 + 2*(
y0
 - 
y1
),

29384 
	gby
 = 3*(
y1
 - 
y0
Ë- 2*
v0
 - 
v1
,

29385 
	gaz
 = 
w0
 + 
w1
 + 2*(
z0
 - 
z1
),

29386 
	gbz
 = 3*(
z1
 - 
z0
Ë- 2*
w0
 - 
w1
,

29387 
	g_¥ecisi⁄
 = 1/(
°d
::
sqπ
(
cimg
::
sqr
(
x0
-
x1
)+cimg::sqr(
y0
-
y1
))*(
¥ecisi⁄
>0?precision:1));

29388 
	gox
 = 
x0
, 
	goy
 = 
y0
, 
	goz
 = 
z0
;

29389 
	gt
 = 0;Å<1;Å+=
_¥ecisi⁄
) {

29390 c⁄° 
t2
 = 
t
*t, 
	gt3
 =Å2*t;

29392 
	gnx
 = ()(
ax
*
t3
 + 
bx
*
t2
 + 
u0
*
t
 + 
x0
),

29393 
	gny
 = ()(
ay
*
t3
 + 
by
*
t2
 + 
v0
*
t
 + 
y0
),

29394 
	gnz
 = ()(
az
*
t3
 + 
bz
*
t2
 + 
w0
*
t
 + 
z0
);

29395 
døw_löe
(
ox
,
oy
,
oz
,
nx
,
ny
,
nz
,
cﬁ‹
,
›acôy
,
∑âîn
,
nöô_h©ch
);

29396 
	gnöô_h©ch
 = 
Ál£
;

29397 
	gox
 = 
nx
; 
	goy
 = 
ny
; 
	goz
 = 
nz
;

29399  
døw_löe
(
ox
,
oy
,
oz
,
x1
,
y1
,
z1
,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
);

29422 
	gãm∂©e
<
ty≥«me
 
	gt
>

29423 
	gCImg
<
	gT
>& 
døw_•löe
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
u0
, c⁄° 
v0
,

29424 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
u1
, c⁄° 
v1
,

29425 c⁄° 
CImg
<
t
>& 
ãxtuª
,

29426 c⁄° 
tx0
, c⁄° 
ty0
, c⁄° 
tx1
, c⁄° 
ty1
,

29427 c⁄° 
›acôy
=1,

29428 c⁄° 
¥ecisi⁄
=4, c⁄° 
∑âîn
=~0U,

29429 c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

29430 i‡(
ãxtuª
.
_dïth
>1 ||Åextuª.
_•e˘rum
<_spectrum)

29431 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29433 
cimg_ö°™˚
,

29434 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

29435 i‡(
is_em±y
()Ë *
	gthis
;

29436 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_•löe
(
x0
,
y0
,
u0
,
v0
,
x1
,
y1
,
u1
,
v1
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
¥ecisi⁄
,
›acôy
,
∑âîn
,
öô_h©ch
);

29437 i‡(
	gx0
==
x1
 && 
y0
==
y1
Ë 
døw_poöt
(
x0
,y0,
ãxtuª
.
gë_ve˘‹_©
(x0,y0),
›acôy
);

29438 
boﬁ
 
	gnöô_h©ch
 = 
öô_h©ch
;

29440 
	gax
 = 
u0
 + 
u1
 + 2*(
x0
 - 
x1
),

29441 
	gbx
 = 3*(
x1
 - 
x0
Ë- 2*
u0
 - 
u1
,

29442 
	gay
 = 
v0
 + 
v1
 + 2*(
y0
 - 
y1
),

29443 
	gby
 = 3*(
y1
 - 
y0
Ë- 2*
v0
 - 
v1
,

29444 
	g_¥ecisi⁄
 = 1/(
°d
::
sqπ
(
cimg
::
sqr
(
x0
-
x1
)+cimg::sqr(
y0
-
y1
))*(
¥ecisi⁄
>0?precision:1));

29445 
	gox
 = 
x0
, 
	goy
 = 
y0
, 
	gŸx
 = 
tx0
, 
	gŸy
 = 
ty0
;

29446 
	gt1
 = 0;Å1<1;Å1+=
_¥ecisi⁄
) {

29447 c⁄° 
t2
 = 
t1
*t1, 
	gt3
 =Å2*t1;

29449 
	gnx
 = ()(
ax
*
t3
 + 
bx
*
t2
 + 
u0
*
t1
 + 
x0
),

29450 
	gny
 = ()(
ay
*
t3
 + 
by
*
t2
 + 
v0
*
t1
 + 
y0
),

29451 
	g¡x
 = 
tx0
 + ()((
tx1
-tx0)*
t1
),

29452 
	g¡y
 = 
ty0
 + ()((
ty1
-ty0)*
t1
);

29453 
døw_löe
(
ox
,
oy
,
nx
,
ny
,
ãxtuª
,
Ÿx
,
Ÿy
,
¡x
,
¡y
,
›acôy
,
∑âîn
,
nöô_h©ch
);

29454 
	gnöô_h©ch
 = 
Ál£
;

29455 
	gox
 = 
nx
; 
	goy
 = 
ny
; 
	gŸx
 = 
¡x
; 
	gŸy
 = 
¡y
;

29457  
døw_löe
(
ox
,
oy
,
x1
,
y1
,
ãxtuª
,
Ÿx
,
Ÿy
,
tx1
,
ty1
,
›acôy
,
∑âîn
,
Ál£
);

29471 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gâ
,Åy≥«mê
	gtc
>

29472 
	gCImg
<
	gT
>& 
døw_•löe
(c⁄° 
CImg
<
ç
>& 
poöts
, c⁄° CImg<
â
>& 
èngíts
,

29473 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

29474 c⁄° 
boﬁ
 
is_˛o£d_£t
=
Ál£
, c⁄° 
¥ecisi⁄
=4,

29475 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

29476 i‡(
is_em±y
(Ë|| !
poöts
 || !
èngíts
 ||Öoöts.
_width
<2 ||Å™gíts._width<2Ë *
this
;

29477 
boﬁ
 
	gnöô_h©ch
 = 
öô_h©ch
;

29478 
	gpoöts
.
	g_height
) {

29480 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29482 
cimg_ö°™˚
,

29483 
poöts
.
_width
,poöts.
_height
,poöts.
_dïth
,poöts.
_•e˘rum
,poöts.
_d©a
);

29486 c⁄° 
x0
 = ()
poöts
(0,0), 
	gy0
 = ()points(0,1);

29487 c⁄° 
	gu0
 = ()
èngíts
(0,0), 
	gv0
 = ()tangents(0,1);

29488 
	gox
 = 
x0
, 
	goy
 = 
y0
;

29489 
	gou
 = 
u0
, 
	gov
 = 
v0
;

29490 
	gi
 = 1; i<
	gpoöts
.
	g_width
; ++i) {

29491 c⁄° 
	gx
 = ()
poöts
(
i
,0), 
	gy
 = ()points(i,1);

29492 c⁄° 
	gu
 = ()
èngíts
(
i
,0), 
	gv
 = ()tangents(i,1);

29493 
døw_•löe
(
ox
,
oy
,
ou
,
ov
,
x
,
y
,
u
,
v
,
cﬁ‹
,
¥ecisi⁄
,
›acôy
,
∑âîn
,
nöô_h©ch
);

29494 
	gnöô_h©ch
 = 
Ál£
;

29495 
	gox
 = 
x
; 
	goy
 = 
y
; 
	gou
 = 
u
; 
	gov
 = 
v
;

29497 i‡(
	gis_˛o£d_£t
Ë
døw_•löe
(
ox
,
oy
,
ou
,
ov
,
x0
,
y0
,
u0
,
v0
,
cﬁ‹
,
¥ecisi⁄
,
›acôy
,
∑âîn
,
Ál£
);

29500 c⁄° 
x0
 = ()
poöts
(0,0), 
	gy0
 = (Ìoöts(0,1), 
	gz0
 = ()points(0,2);

29501 c⁄° 
	gu0
 = ()
èngíts
(0,0), 
	gv0
 = (È™gíts(0,1), 
	gw0
 = ()tangents(0,2);

29502 
	gox
 = 
x0
, 
	goy
 = 
y0
, 
	goz
 = 
z0
;

29503 
	gou
 = 
u0
, 
	gov
 = 
v0
, 
	gow
 = 
w0
;

29504 
	gi
 = 1; i<
	gpoöts
.
	g_width
; ++i) {

29505 c⁄° 
	gx
 = ()
poöts
(
i
,0), 
	gy
 = (Ìoöts(i,1), 
	gz
 = ()points(i,2);

29506 c⁄° 
	gu
 = ()
èngíts
(
i
,0), 
	gv
 = (È™gíts(i,1), 
	gw
 = ()tangents(i,2);

29507 
døw_•löe
(
ox
,
oy
,
oz
,
ou
,
ov
,
ow
,
x
,
y
,
z
,
u
,
v
,
w
,
cﬁ‹
,
›acôy
,
∑âîn
,
nöô_h©ch
);

29508 
	gnöô_h©ch
 = 
Ál£
;

29509 
	gox
 = 
x
; 
	goy
 = 
y
; 
	goz
 = 
z
; 
	gou
 = 
u
; 
	gov
 = 
v
; 
	gow
 = 
w
;

29511 i‡(
	gis_˛o£d_£t
Ë
døw_•löe
(
ox
,
oy
,
oz
,
ou
,
ov
,
ow
,
x0
,
y0
,
z0
,
u0
,
v0
,
w0
,
cﬁ‹
,
¥ecisi⁄
,
›acôy
,
∑âîn
,
Ál£
);

29514  *
	gthis
;

29521 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtc
>

29522 
	gCImg
<
	gT
>& 
døw_•löe
(c⁄° 
CImg
<
ç
>& 
poöts
,

29523 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

29524 c⁄° 
boﬁ
 
is_˛o£d_£t
=
Ál£
, c⁄° 
¥ecisi⁄
=4,

29525 c⁄° 
∑âîn
=~0U, c⁄° 
boﬁ
 
öô_h©ch
=
åue
) {

29526 i‡(
is_em±y
(Ë|| !
poöts
 ||Öoöts.
_width
<2Ë *
this
;

29527 
	gCImg
<
	gTÊﬂt
> 
	gèngíts
;

29528 
	gpoöts
.
	g_height
) {

29530 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29532 
cimg_ö°™˚
,

29533 
poöts
.
_width
,poöts.
_height
,poöts.
_dïth
,poöts.
_•e˘rum
,poöts.
_d©a
);

29535 
èngíts
.
assign
(
poöts
.
_width
,poöts.
_height
);

29536 
cimg_f‹X
(
poöts
,
p
) {

29538 
	gp0
 = 
is_˛o£d_£t
?(
p
+
poöts
.
_width
-1)%points._width:(p?p-1:0),

29539 
	gp1
 = 
is_˛o£d_£t
?(
p
+1)%
poöts
.
_width
:(p+1<points._width?p+1:p);

29541 
	gx
 = ()
poöts
(
p
,0),

29542 
	gy
 = ()
poöts
(
p
,1),

29543 
	gx0
 = ()
poöts
(
p0
,0),

29544 
	gy0
 = ()
poöts
(
p0
,1),

29545 
	gx1
 = ()
poöts
(
p1
,0),

29546 
	gy1
 = ()
poöts
(
p1
,1),

29547 
	gu0
 = 
x
 - 
x0
,

29548 
	gv0
 = 
y
 - 
y0
,

29549 
	gn0
 = 1e-8‡+ ()
°d
::
sqπ
(
u0
*u0 + 
v0
*v0),

29550 
	gu1
 = 
x1
 - 
x
,

29551 
	gv1
 = 
y1
 - 
y
,

29552 
	gn1
 = 1e-8‡+ ()
°d
::
sqπ
(
u1
*u1 + 
v1
*v1),

29553 
	gu
 = 
u0
/
n0
 + 
u1
/
n1
,

29554 
	gv
 = 
v0
/
n0
 + 
v1
/
n1
,

29555 
	gn
 = 1e-8‡+ ()
°d
::
sqπ
(
u
*u + 
v
*v),

29556 
	gÁ˘
 = 0.5f*(
n0
 + 
n1
);

29557 
èngíts
(
p
,0Ë(
TÊﬂt
)(
Á˘
*
u
/
n
);

29558 
èngíts
(
p
,1Ë(
TÊﬂt
)(
Á˘
*
v
/
n
);

29562 
èngíts
.
assign
(
poöts
.
_width
,poöts.
_height
);

29563 
cimg_f‹X
(
poöts
,
p
) {

29565 
	gp0
 = 
is_˛o£d_£t
?(
p
+
poöts
.
_width
-1)%points._width:(p?p-1:0),

29566 
	gp1
 = 
is_˛o£d_£t
?(
p
+1)%
poöts
.
_width
:(p+1<points._width?p+1:p);

29568 
	gx
 = ()
poöts
(
p
,0),

29569 
	gy
 = ()
poöts
(
p
,1),

29570 
	gz
 = ()
poöts
(
p
,2),

29571 
	gx0
 = ()
poöts
(
p0
,0),

29572 
	gy0
 = ()
poöts
(
p0
,1),

29573 
	gz0
 = ()
poöts
(
p0
,2),

29574 
	gx1
 = ()
poöts
(
p1
,0),

29575 
	gy1
 = ()
poöts
(
p1
,1),

29576 
	gz1
 = ()
poöts
(
p1
,2),

29577 
	gu0
 = 
x
 - 
x0
,

29578 
	gv0
 = 
y
 - 
y0
,

29579 
	gw0
 = 
z
 - 
z0
,

29580 
	gn0
 = 1e-8‡+ ()
°d
::
sqπ
(
u0
*u0 + 
v0
*v0 + 
w0
*w0),

29581 
	gu1
 = 
x1
 - 
x
,

29582 
	gv1
 = 
y1
 - 
y
,

29583 
	gw1
 = 
z1
 - 
z
,

29584 
	gn1
 = 1e-8‡+ ()
°d
::
sqπ
(
u1
*u1 + 
v1
*v1 + 
w1
*w1),

29585 
	gu
 = 
u0
/
n0
 + 
u1
/
n1
,

29586 
	gv
 = 
v0
/
n0
 + 
v1
/
n1
,

29587 
	gw
 = 
w0
/
n0
 + 
w1
/
n1
,

29588 
	gn
 = 1e-8‡+ ()
°d
::
sqπ
(
u
*u + 
v
*v + 
w
*w),

29589 
	gÁ˘
 = 0.5f*(
n0
 + 
n1
);

29590 
èngíts
(
p
,0Ë(
TÊﬂt
)(
Á˘
*
u
/
n
);

29591 
èngíts
(
p
,1Ë(
TÊﬂt
)(
Á˘
*
v
/
n
);

29592 
èngíts
(
p
,2Ë(
TÊﬂt
)(
Á˘
*
w
/
n
);

29596  
døw_•löe
(
poöts
,
èngíts
,
cﬁ‹
,
›acôy
,
is_˛o£d_£t
,
¥ecisi⁄
,
∑âîn
,
öô_h©ch
);

29600 
	#_cimg_f‹_åüngÀ1
(
img
,
xl
,
xr
,
y
,
x0
,
y0
,
x1
,
y1
,
x2
,
y2
) \

29601 
y
 = 
y0
<0?0:y0, \

29602 
xr
 = 
y0
>=0?
x0
:(x0-y0*(
x2
-x0)/(
y2
-y0)), \

29603 
xl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
x1
:
x0
):(x0-y0*(x1-x0)/(y1-y0))):(x1-y1*(
x2
-x1)/(
y2
-y1)), \

29604 
_sxn
=1, \

29605 
_sxr
=1, \

29606 
_sxl
=1, \

29607 
_dxn
 = 
x2
>
x1
?x2-x1:(
_sxn
=-1,x1-x2), \

29608 
_dxr
 = 
x2
>
x0
?x2-x0:(
_sxr
=-1,x0-x2), \

29609 
_dxl
 = 
x1
>
x0
?x1-x0:(
_sxl
=-1,x0-x1), \

29610 
_dyn
 = 
y2
-
y1
, \

29611 
_dyr
 = 
y2
-
y0
, \

29612 
_dyl
 = 
y1
-
y0
, \

29613 
_cou¡î
 = (
_dxn
-=
_dyn
?_dyn*(_dxn/_dyn):0, \

29614 
_dxr
-=
_dyr
?_dyr*(_dxr/_dyr):0, \

29615 
_dxl
-=
_dyl
?_dyl*(_dxl/_dyl):0, \

29616 
cimg
::
	`mö
(()(
img
).
_height
-
y
-1,
y2
-y)), \

29617 
_î∫
 = 
_dyn
/2, \

29618 
_îº
 = 
_dyr
/2, \

29619 
_îæ
 = 
_dyl
/2, \

29620 
_rxn
 = 
_dyn
?(
x2
-
x1
)/_dyn:0, \

29621 
_rxr
 = 
_dyr
?(
x2
-
x0
)/_dyr:0, \

29622 
_rxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
x1
-
x0
)/_dyl:0): \

29623 (
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxn
); \

29624 
_cou¡î
>=0; --_cou¡î, ++
y
, \

29625 
xr
+=
_rxr
+((
_îº
-=
_dxr
)<0?_îº+=
_dyr
,
_sxr
:0), \

29626 
xl
+=(
y
!=
y1
)?
_rxl
+((
_îæ
-=
_dxl
)<0?(_îæ+=
_dyl
,
_sxl
):0): \

29627 (
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxl
=
_rxn
, 
x1
-
xl
))

	)

29629 
	#_cimg_f‹_åüngÀ2
(
img
,
xl
,
˛
,
xr
,
¸
,
y
,
x0
,
y0
,
c0
,
x1
,
y1
,
c1
,
x2
,
y2
,
c2
) \

29630 
y
 = 
y0
<0?0:y0, \

29631 
xr
 = 
y0
>=0?
x0
:(x0-y0*(
x2
-x0)/(
y2
-y0)), \

29632 
¸
 = 
y0
>=0?
c0
:(c0-y0*(
c2
-c0)/(
y2
-y0)), \

29633 
xl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
x1
:
x0
):(x0-y0*(x1-x0)/(y1-y0))):(x1-y1*(
x2
-x1)/(
y2
-y1)), \

29634 
˛
 = 
y1
>=0?(
y0
>=0?(y0==y1?
c1
:
c0
):(c0-y0*(c1-c0)/(y1-y0))):(c1-y1*(
c2
-c1)/(
y2
-y1)), \

29635 
_sxn
=1, 
_s˙
=1, \

29636 
_sxr
=1, 
_s¸
=1, \

29637 
_sxl
=1, 
_s˛
=1, \

29638 
_dxn
 = 
x2
>
x1
?x2-x1:(
_sxn
=-1,x1-x2), \

29639 
_dxr
 = 
x2
>
x0
?x2-x0:(
_sxr
=-1,x0-x2), \

29640 
_dxl
 = 
x1
>
x0
?x1-x0:(
_sxl
=-1,x0-x1), \

29641 
_d˙
 = 
c2
>
c1
?c2-c1:(
_s˙
=-1,c1-c2), \

29642 
_d¸
 = 
c2
>
c0
?c2-c0:(
_s¸
=-1,c0-c2), \

29643 
_d˛
 = 
c1
>
c0
?c1-c0:(
_s˛
=-1,c0-c1), \

29644 
_dyn
 = 
y2
-
y1
, \

29645 
_dyr
 = 
y2
-
y0
, \

29646 
_dyl
 = 
y1
-
y0
, \

29647 
_cou¡î
 =(
_dxn
-=
_dyn
?_dyn*(_dxn/_dyn):0, \

29648 
_dxr
-=
_dyr
?_dyr*(_dxr/_dyr):0, \

29649 
_dxl
-=
_dyl
?_dyl*(_dxl/_dyl):0, \

29650 
_d˙
-=
_dyn
?_dyn*(_dcn/_dyn):0, \

29651 
_d¸
-=
_dyr
?_dyr*(_dcr/_dyr):0, \

29652 
_d˛
-=
_dyl
?_dyl*(_dcl/_dyl):0, \

29653 
cimg
::
	`mö
(()(
img
).
_height
-
y
-1,
y2
-y)), \

29654 
_î∫
 = 
_dyn
/2, 
_îr˙
 = _errn, \

29655 
_îº
 = 
_dyr
/2, 
_îr¸
 = _errr, \

29656 
_îæ
 = 
_dyl
/2, 
_îr˛
 = _errl, \

29657 
_rxn
 = 
_dyn
?(
x2
-
x1
)/_dyn:0, \

29658 
_r˙
 = 
_dyn
?(
c2
-
c1
)/_dyn:0, \

29659 
_rxr
 = 
_dyr
?(
x2
-
x0
)/_dyr:0, \

29660 
_r¸
 = 
_dyr
?(
c2
-
c0
)/_dyr:0, \

29661 
_rxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
x1
-
x0
)/_dyl:0): \

29662 (
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxn
), \

29663 
_r˛
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
c1
-
c0
)/_dyl:0): \

29664 (
_îr˛
=
_îr˙
, 
_d˛
=
_d˙
, 
_dyl
=
_dyn
, 
_s˛
=
_s˙
, 
_r˙
 ); \

29665 
_cou¡î
>=0; --_cou¡î, ++
y
, \

29666 
xr
+=
_rxr
+((
_îº
-=
_dxr
)<0?_îº+=
_dyr
,
_sxr
:0), \

29667 
¸
+=
_r¸
+((
_îr¸
-=
_d¸
)<0?_îr¸+=
_dyr
,
_s¸
:0), \

29668 
xl
+=(
y
!=
y1
)?(
˛
+=
_r˛
+((
_îr˛
-=
_d˛
)<0?(_îr˛+=
_dyl
,
_s˛
):0), \

29669 
_rxl
+((
_îæ
-=
_dxl
)<0?(_îæ+=
_dyl
,
_sxl
):0)): \

29670 (
_îr˛
=
_îr˙
, 
_d˛
=
_d˙
, 
_dyl
=
_dyn
, 
_s˛
=
_s˙
, 
_r˛
=
_r˙
, 
˛
=
c1
, \

29671 
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxl
=
_rxn
, 
x1
-
xl
))

	)

29673 
	#_cimg_f‹_åüngÀ3
(
img
,
xl
,
txl
,
tyl
,
xr
,
txr
,
tyr
,
y
,
x0
,
y0
,
tx0
,
ty0
,
x1
,
y1
,
tx1
,
ty1
,
x2
,
y2
,
tx2
,
ty2
) \

29674 
y
 = 
y0
<0?0:y0, \

29675 
xr
 = 
y0
>=0?
x0
:(x0-y0*(
x2
-x0)/(
y2
-y0)), \

29676 
txr
 = 
y0
>=0?
tx0
:—x0-y0*(
tx2
-tx0)/(
y2
-y0)), \

29677 
tyr
 = 
y0
>=0?
ty0
:—y0-y0*(
ty2
-ty0)/(
y2
-y0)), \

29678 
xl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
x1
:
x0
):(x0-y0*(x1-x0)/(y1-y0))):(x1-y1*(
x2
-x1)/(
y2
-y1)), \

29679 
txl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
tx1
:
tx0
):—x0-y0*—x1-tx0)/(y1-y0))):—x1-y1*(
tx2
-tx1)/(
y2
-y1)), \

29680 
tyl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
ty1
:
ty0
):—y0-y0*—y1-ty0)/(y1-y0))):—y1-y1*(
ty2
-ty1)/(
y2
-y1)), \

29681 
_sxn
=1, 
_°xn
=1, 
_°yn
=1, \

29682 
_sxr
=1, 
_°xr
=1, 
_°yr
=1, \

29683 
_sxl
=1, 
_°xl
=1, 
_°yl
=1, \

29684 
_dxn
 = 
x2
>
x1
?x2-x1:(
_sxn
=-1,x1-x2), \

29685 
_dxr
 = 
x2
>
x0
?x2-x0:(
_sxr
=-1,x0-x2), \

29686 
_dxl
 = 
x1
>
x0
?x1-x0:(
_sxl
=-1,x0-x1), \

29687 
_dtxn
 = 
tx2
>
tx1
?tx2-tx1:(
_°xn
=-1,tx1-tx2), \

29688 
_dtxr
 = 
tx2
>
tx0
?tx2-tx0:(
_°xr
=-1,tx0-tx2), \

29689 
_dtxl
 = 
tx1
>
tx0
?tx1-tx0:(
_°xl
=-1,tx0-tx1), \

29690 
_dtyn
 = 
ty2
>
ty1
?ty2-ty1:(
_°yn
=-1,ty1-ty2), \

29691 
_dtyr
 = 
ty2
>
ty0
?ty2-ty0:(
_°yr
=-1,ty0-ty2), \

29692 
_dtyl
 = 
ty1
>
ty0
?ty1-ty0:(
_°yl
=-1,ty0-ty1), \

29693 
_dyn
 = 
y2
-
y1
, \

29694 
_dyr
 = 
y2
-
y0
, \

29695 
_dyl
 = 
y1
-
y0
, \

29696 
_cou¡î
 =(
_dxn
-=
_dyn
?_dyn*(_dxn/_dyn):0, \

29697 
_dxr
-=
_dyr
?_dyr*(_dxr/_dyr):0, \

29698 
_dxl
-=
_dyl
?_dyl*(_dxl/_dyl):0, \

29699 
_dtxn
-=
_dyn
?_dyn*(_dtxn/_dyn):0, \

29700 
_dtxr
-=
_dyr
?_dyr*(_dtxr/_dyr):0, \

29701 
_dtxl
-=
_dyl
?_dyl*(_dtxl/_dyl):0, \

29702 
_dtyn
-=
_dyn
?_dyn*(_dtyn/_dyn):0, \

29703 
_dtyr
-=
_dyr
?_dyr*(_dtyr/_dyr):0, \

29704 
_dtyl
-=
_dyl
?_dyl*(_dtyl/_dyl):0, \

29705 
cimg
::
	`mö
(()(
img
).
_height
-
y
-1,
y2
-y)), \

29706 
_î∫
 = 
_dyn
/2, 
_îπxn
 = _î∫, 
_îπyn
 = _errn, \

29707 
_îº
 = 
_dyr
/2, 
_îπxr
 = _îº, 
_îπyr
 = _errr, \

29708 
_îæ
 = 
_dyl
/2, 
_îπxl
 = _îæ, 
_îπyl
 = _errl, \

29709 
_rxn
 = 
_dyn
?(
x2
-
x1
)/_dyn:0, \

29710 
_πxn
 = 
_dyn
?(
tx2
-
tx1
)/_dyn:0, \

29711 
_πyn
 = 
_dyn
?(
ty2
-
ty1
)/_dyn:0, \

29712 
_rxr
 = 
_dyr
?(
x2
-
x0
)/_dyr:0, \

29713 
_πxr
 = 
_dyr
?(
tx2
-
tx0
)/_dyr:0, \

29714 
_πyr
 = 
_dyr
?(
ty2
-
ty0
)/_dyr:0, \

29715 
_rxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
x1
-
x0
)/_dyl:0): \

29716 (
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxn
), \

29717 
_πxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
tx1
-
tx0
)/_dyl:0): \

29718 (
_îπxl
=
_îπxn
, 
_dtxl
=
_dtxn
, 
_dyl
=
_dyn
, 
_°xl
=
_°xn
, 
_πxn
 ), \

29719 
_πyl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
ty1
-
ty0
)/_dyl:0): \

29720 (
_îπyl
=
_îπyn
, 
_dtyl
=
_dtyn
, 
_dyl
=
_dyn
, 
_°yl
=
_°yn
, 
_πyn
 ); \

29721 
_cou¡î
>=0; --_cou¡î, ++
y
, \

29722 
xr
+=
_rxr
+((
_îº
-=
_dxr
)<0?_îº+=
_dyr
,
_sxr
:0), \

29723 
txr
+=
_πxr
+((
_îπxr
-=
_dtxr
)<0?_îπxr+=
_dyr
,
_°xr
:0), \

29724 
tyr
+=
_πyr
+((
_îπyr
-=
_dtyr
)<0?_îπyr+=
_dyr
,
_°yr
:0), \

29725 
xl
+=(
y
!=
y1
)?(
txl
+=
_πxl
+((
_îπxl
-=
_dtxl
)<0?(_îπxl+=
_dyl
,
_°xl
):0), \

29726 
tyl
+=
_πyl
+((
_îπyl
-=
_dtyl
)<0?(_îπyl+=
_dyl
,
_°yl
):0), \

29727 
_rxl
+((
_îæ
-=
_dxl
)<0?(_îæ+=
_dyl
,
_sxl
):0)): \

29728 (
_îπxl
=
_îπxn
, 
_dtxl
=
_dtxn
, 
_dyl
=
_dyn
, 
_°xl
=
_°xn
, 
_πxl
=
_πxn
, 
txl
=
tx1
, \

29729 
_îπyl
=
_îπyn
, 
_dtyl
=
_dtyn
, 
_dyl
=
_dyn
, 
_°yl
=
_°yn
, 
_πyl
=
_πyn
, 
tyl
=
ty1
,\

29730 
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxl
=
_rxn
, 
x1
-
xl
))

	)

29732 
	#_cimg_f‹_åüngÀ4
(
img
,
xl
,
˛
,
txl
,
tyl
,
xr
,
¸
,
txr
,
tyr
,
y
,
x0
,
y0
,
c0
,
tx0
,
ty0
,
x1
,
y1
,
c1
,
tx1
,
ty1
,
x2
,
y2
,
c2
,
tx2
,
ty2
) \

29733 
y
 = 
y0
<0?0:y0, \

29734 
xr
 = 
y0
>=0?
x0
:(x0-y0*(
x2
-x0)/(
y2
-y0)), \

29735 
¸
 = 
y0
>=0?
c0
:(c0-y0*(
c2
-c0)/(
y2
-y0)), \

29736 
txr
 = 
y0
>=0?
tx0
:—x0-y0*(
tx2
-tx0)/(
y2
-y0)), \

29737 
tyr
 = 
y0
>=0?
ty0
:—y0-y0*(
ty2
-ty0)/(
y2
-y0)), \

29738 
xl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
x1
:
x0
):(x0-y0*(x1-x0)/(y1-y0))):(x1-y1*(
x2
-x1)/(
y2
-y1)), \

29739 
˛
 = 
y1
>=0?(
y0
>=0?(y0==y1?
c1
:
c0
):(c0-y0*(c1-c0)/(y1-y0))):(c1-y1*(
c2
-c1)/(
y2
-y1)), \

29740 
txl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
tx1
:
tx0
):—x0-y0*—x1-tx0)/(y1-y0))):—x1-y1*(
tx2
-tx1)/(
y2
-y1)), \

29741 
tyl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
ty1
:
ty0
):—y0-y0*—y1-ty0)/(y1-y0))):—y1-y1*(
ty2
-ty1)/(
y2
-y1)), \

29742 
_sxn
=1, 
_s˙
=1, 
_°xn
=1, 
_°yn
=1, \

29743 
_sxr
=1, 
_s¸
=1, 
_°xr
=1, 
_°yr
=1, \

29744 
_sxl
=1, 
_s˛
=1, 
_°xl
=1, 
_°yl
=1, \

29745 
_dxn
 = 
x2
>
x1
?x2-x1:(
_sxn
=-1,x1-x2), \

29746 
_dxr
 = 
x2
>
x0
?x2-x0:(
_sxr
=-1,x0-x2), \

29747 
_dxl
 = 
x1
>
x0
?x1-x0:(
_sxl
=-1,x0-x1), \

29748 
_d˙
 = 
c2
>
c1
?c2-c1:(
_s˙
=-1,c1-c2), \

29749 
_d¸
 = 
c2
>
c0
?c2-c0:(
_s¸
=-1,c0-c2), \

29750 
_d˛
 = 
c1
>
c0
?c1-c0:(
_s˛
=-1,c0-c1), \

29751 
_dtxn
 = 
tx2
>
tx1
?tx2-tx1:(
_°xn
=-1,tx1-tx2), \

29752 
_dtxr
 = 
tx2
>
tx0
?tx2-tx0:(
_°xr
=-1,tx0-tx2), \

29753 
_dtxl
 = 
tx1
>
tx0
?tx1-tx0:(
_°xl
=-1,tx0-tx1), \

29754 
_dtyn
 = 
ty2
>
ty1
?ty2-ty1:(
_°yn
=-1,ty1-ty2), \

29755 
_dtyr
 = 
ty2
>
ty0
?ty2-ty0:(
_°yr
=-1,ty0-ty2), \

29756 
_dtyl
 = 
ty1
>
ty0
?ty1-ty0:(
_°yl
=-1,ty0-ty1), \

29757 
_dyn
 = 
y2
-
y1
, \

29758 
_dyr
 = 
y2
-
y0
, \

29759 
_dyl
 = 
y1
-
y0
, \

29760 
_cou¡î
 =(
_dxn
-=
_dyn
?_dyn*(_dxn/_dyn):0, \

29761 
_dxr
-=
_dyr
?_dyr*(_dxr/_dyr):0, \

29762 
_dxl
-=
_dyl
?_dyl*(_dxl/_dyl):0, \

29763 
_d˙
-=
_dyn
?_dyn*(_dcn/_dyn):0, \

29764 
_d¸
-=
_dyr
?_dyr*(_dcr/_dyr):0, \

29765 
_d˛
-=
_dyl
?_dyl*(_dcl/_dyl):0, \

29766 
_dtxn
-=
_dyn
?_dyn*(_dtxn/_dyn):0, \

29767 
_dtxr
-=
_dyr
?_dyr*(_dtxr/_dyr):0, \

29768 
_dtxl
-=
_dyl
?_dyl*(_dtxl/_dyl):0, \

29769 
_dtyn
-=
_dyn
?_dyn*(_dtyn/_dyn):0, \

29770 
_dtyr
-=
_dyr
?_dyr*(_dtyr/_dyr):0, \

29771 
_dtyl
-=
_dyl
?_dyl*(_dtyl/_dyl):0, \

29772 
cimg
::
	`mö
(()(
img
).
_height
-
y
-1,
y2
-y)), \

29773 
_î∫
 = 
_dyn
/2, 
_îr˙
 = _î∫, 
_îπxn
 = _î∫, 
_îπyn
 = _errn, \

29774 
_îº
 = 
_dyr
/2, 
_îr¸
 = _îº, 
_îπxr
 = _îº, 
_îπyr
 = _errr, \

29775 
_îæ
 = 
_dyl
/2, 
_îr˛
 = _îæ, 
_îπxl
 = _îæ, 
_îπyl
 = _errl, \

29776 
_rxn
 = 
_dyn
?(
x2
-
x1
)/_dyn:0, \

29777 
_r˙
 = 
_dyn
?(
c2
-
c1
)/_dyn:0, \

29778 
_πxn
 = 
_dyn
?(
tx2
-
tx1
)/_dyn:0, \

29779 
_πyn
 = 
_dyn
?(
ty2
-
ty1
)/_dyn:0, \

29780 
_rxr
 = 
_dyr
?(
x2
-
x0
)/_dyr:0, \

29781 
_r¸
 = 
_dyr
?(
c2
-
c0
)/_dyr:0, \

29782 
_πxr
 = 
_dyr
?(
tx2
-
tx0
)/_dyr:0, \

29783 
_πyr
 = 
_dyr
?(
ty2
-
ty0
)/_dyr:0, \

29784 
_rxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
x1
-
x0
)/_dyl:0): \

29785 (
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxn
), \

29786 
_r˛
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
c1
-
c0
)/_dyl:0): \

29787 (
_îr˛
=
_îr˙
, 
_d˛
=
_d˙
, 
_dyl
=
_dyn
, 
_s˛
=
_s˙
, 
_r˙
 ), \

29788 
_πxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
tx1
-
tx0
)/_dyl:0): \

29789 (
_îπxl
=
_îπxn
, 
_dtxl
=
_dtxn
, 
_dyl
=
_dyn
, 
_°xl
=
_°xn
, 
_πxn
 ), \

29790 
_πyl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
ty1
-
ty0
)/_dyl:0): \

29791 (
_îπyl
=
_îπyn
, 
_dtyl
=
_dtyn
, 
_dyl
=
_dyn
, 
_°yl
=
_°yn
, 
_πyn
 ); \

29792 
_cou¡î
>=0; --_cou¡î, ++
y
, \

29793 
xr
+=
_rxr
+((
_îº
-=
_dxr
)<0?_îº+=
_dyr
,
_sxr
:0), \

29794 
¸
+=
_r¸
+((
_îr¸
-=
_d¸
)<0?_îr¸+=
_dyr
,
_s¸
:0), \

29795 
txr
+=
_πxr
+((
_îπxr
-=
_dtxr
)<0?_îπxr+=
_dyr
,
_°xr
:0), \

29796 
tyr
+=
_πyr
+((
_îπyr
-=
_dtyr
)<0?_îπyr+=
_dyr
,
_°yr
:0), \

29797 
xl
+=(
y
!=
y1
)?(
˛
+=
_r˛
+((
_îr˛
-=
_d˛
)<0?(_îr˛+=
_dyl
,
_s˛
):0), \

29798 
txl
+=
_πxl
+((
_îπxl
-=
_dtxl
)<0?(_îπxl+=
_dyl
,
_°xl
):0), \

29799 
tyl
+=
_πyl
+((
_îπyl
-=
_dtyl
)<0?(_îπyl+=
_dyl
,
_°yl
):0), \

29800 
_rxl
+((
_îæ
-=
_dxl
)<0?(_îæ+=
_dyl
,
_sxl
):0)): \

29801 (
_îr˛
=
_îr˙
, 
_d˛
=
_d˙
, 
_dyl
=
_dyn
, 
_s˛
=
_s˙
, 
_r˛
=
_r˙
, 
˛
=
c1
, \

29802 
_îπxl
=
_îπxn
, 
_dtxl
=
_dtxn
, 
_dyl
=
_dyn
, 
_°xl
=
_°xn
, 
_πxl
=
_πxn
, 
txl
=
tx1
, \

29803 
_îπyl
=
_îπyn
, 
_dtyl
=
_dtyn
, 
_dyl
=
_dyn
, 
_°yl
=
_°yn
, 
_πyl
=
_πyn
, 
tyl
=
ty1
, \

29804 
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxl
=
_rxn
, 
x1
-
xl
))

	)

29806 
	#_cimg_f‹_åüngÀ5
(
img
,
xl
,
txl
,
tyl
,
lxl
,
lyl
,
xr
,
txr
,
tyr
,
lxr
,
lyr
,
y
,
x0
,
y0
,
tx0
,
ty0
,
lx0
,
ly0
,
x1
,
y1
,
tx1
,
ty1
,
lx1
,
ly1
,
x2
,
y2
,
tx2
,
ty2
,
lx2
,
ly2
) \

29807 
y
 = 
y0
<0?0:y0, \

29808 
xr
 = 
y0
>=0?
x0
:(x0-y0*(
x2
-x0)/(
y2
-y0)), \

29809 
txr
 = 
y0
>=0?
tx0
:—x0-y0*(
tx2
-tx0)/(
y2
-y0)), \

29810 
tyr
 = 
y0
>=0?
ty0
:—y0-y0*(
ty2
-ty0)/(
y2
-y0)), \

29811 
lxr
 = 
y0
>=0?
lx0
:÷x0-y0*(
lx2
-lx0)/(
y2
-y0)), \

29812 
lyr
 = 
y0
>=0?
ly0
:÷y0-y0*(
ly2
-ly0)/(
y2
-y0)), \

29813 
xl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
x1
:
x0
):(x0-y0*(x1-x0)/(y1-y0))):(x1-y1*(
x2
-x1)/(
y2
-y1)), \

29814 
txl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
tx1
:
tx0
):—x0-y0*—x1-tx0)/(y1-y0))):—x1-y1*(
tx2
-tx1)/(
y2
-y1)), \

29815 
tyl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
ty1
:
ty0
):—y0-y0*—y1-ty0)/(y1-y0))):—y1-y1*(
ty2
-ty1)/(
y2
-y1)), \

29816 
lxl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
lx1
:
lx0
):÷x0-y0*÷x1-lx0)/(y1-y0))):÷x1-y1*(
lx2
-lx1)/(
y2
-y1)), \

29817 
lyl
 = 
y1
>=0?(
y0
>=0?(y0==y1?
ly1
:
ly0
):÷y0-y0*÷y1-ly0)/(y1-y0))):÷y1-y1*(
ly2
-ly1)/(
y2
-y1)), \

29818 
_sxn
=1, 
_°xn
=1, 
_°yn
=1, 
_¶xn
=1, 
_¶yn
=1, \

29819 
_sxr
=1, 
_°xr
=1, 
_°yr
=1, 
_¶xr
=1, 
_¶yr
=1, \

29820 
_sxl
=1, 
_°xl
=1, 
_°yl
=1, 
_¶xl
=1, 
_¶yl
=1, \

29821 
_dxn
 = 
x2
>
x1
?x2-x1:(
_sxn
=-1,x1-x2), 
_dyn
 = 
y2
-
y1
, \

29822 
_dxr
 = 
x2
>
x0
?x2-x0:(
_sxr
=-1,x0-x2), 
_dyr
 = 
y2
-
y0
, \

29823 
_dxl
 = 
x1
>
x0
?x1-x0:(
_sxl
=-1,x0-x1), 
_dyl
 = 
y1
-
y0
, \

29824 
_dtxn
 = 
tx2
>
tx1
?tx2-tx1:(
_°xn
=-1,tx1-tx2), \

29825 
_dtxr
 = 
tx2
>
tx0
?tx2-tx0:(
_°xr
=-1,tx0-tx2), \

29826 
_dtxl
 = 
tx1
>
tx0
?tx1-tx0:(
_°xl
=-1,tx0-tx1), \

29827 
_dtyn
 = 
ty2
>
ty1
?ty2-ty1:(
_°yn
=-1,ty1-ty2), \

29828 
_dtyr
 = 
ty2
>
ty0
?ty2-ty0:(
_°yr
=-1,ty0-ty2), \

29829 
_dtyl
 = 
ty1
>
ty0
?ty1-ty0:(
_°yl
=-1,ty0-ty1), \

29830 
_dlxn
 = 
lx2
>
lx1
?lx2-lx1:(
_¶xn
=-1,lx1-lx2), \

29831 
_dlxr
 = 
lx2
>
lx0
?lx2-lx0:(
_¶xr
=-1,lx0-lx2), \

29832 
_dlxl
 = 
lx1
>
lx0
?lx1-lx0:(
_¶xl
=-1,lx0-lx1), \

29833 
_dlyn
 = 
ly2
>
ly1
?ly2-ly1:(
_¶yn
=-1,ly1-ly2), \

29834 
_dlyr
 = 
ly2
>
ly0
?ly2-ly0:(
_¶yr
=-1,ly0-ly2), \

29835 
_dlyl
 = 
ly1
>
ly0
?ly1-ly0:(
_¶yl
=-1,ly0-ly1), \

29836 
_cou¡î
 =(
_dxn
-=
_dyn
?_dyn*(_dxn/_dyn):0, \

29837 
_dxr
-=
_dyr
?_dyr*(_dxr/_dyr):0, \

29838 
_dxl
-=
_dyl
?_dyl*(_dxl/_dyl):0, \

29839 
_dtxn
-=
_dyn
?_dyn*(_dtxn/_dyn):0, \

29840 
_dtxr
-=
_dyr
?_dyr*(_dtxr/_dyr):0, \

29841 
_dtxl
-=
_dyl
?_dyl*(_dtxl/_dyl):0, \

29842 
_dtyn
-=
_dyn
?_dyn*(_dtyn/_dyn):0, \

29843 
_dtyr
-=
_dyr
?_dyr*(_dtyr/_dyr):0, \

29844 
_dtyl
-=
_dyl
?_dyl*(_dtyl/_dyl):0, \

29845 
_dlxn
-=
_dyn
?_dyn*(_dlxn/_dyn):0, \

29846 
_dlxr
-=
_dyr
?_dyr*(_dlxr/_dyr):0, \

29847 
_dlxl
-=
_dyl
?_dyl*(_dlxl/_dyl):0, \

29848 
_dlyn
-=
_dyn
?_dyn*(_dlyn/_dyn):0, \

29849 
_dlyr
-=
_dyr
?_dyr*(_dlyr/_dyr):0, \

29850 
_dlyl
-=
_dyl
?_dyl*(_dlyl/_dyl):0, \

29851 
cimg
::
	`mö
(()(
img
).
_height
-
y
-1,
y2
-y)), \

29852 
_î∫
 = 
_dyn
/2, 
_îπxn
 = _î∫, 
_îπyn
 = _î∫, 
_îæxn
 = _î∫, 
_îæyn
 = _errn, \

29853 
_îº
 = 
_dyr
/2, 
_îπxr
 = _îº, 
_îπyr
 = _îº, 
_îæxr
 = _îº, 
_îæyr
 = _errr, \

29854 
_îæ
 = 
_dyl
/2, 
_îπxl
 = _îæ, 
_îπyl
 = _îæ, 
_îæxl
 = _îæ, 
_îæyl
 = _errl, \

29855 
_rxn
 = 
_dyn
?(
x2
-
x1
)/_dyn:0, \

29856 
_πxn
 = 
_dyn
?(
tx2
-
tx1
)/_dyn:0, \

29857 
_πyn
 = 
_dyn
?(
ty2
-
ty1
)/_dyn:0, \

29858 
_æxn
 = 
_dyn
?(
lx2
-
lx1
)/_dyn:0, \

29859 
_æyn
 = 
_dyn
?(
ly2
-
ly1
)/_dyn:0, \

29860 
_rxr
 = 
_dyr
?(
x2
-
x0
)/_dyr:0, \

29861 
_πxr
 = 
_dyr
?(
tx2
-
tx0
)/_dyr:0, \

29862 
_πyr
 = 
_dyr
?(
ty2
-
ty0
)/_dyr:0, \

29863 
_æxr
 = 
_dyr
?(
lx2
-
lx0
)/_dyr:0, \

29864 
_æyr
 = 
_dyr
?(
ly2
-
ly0
)/_dyr:0, \

29865 
_rxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
x1
-
x0
)/_dyl:0): \

29866 (
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxn
), \

29867 
_πxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
tx1
-
tx0
)/_dyl:0): \

29868 (
_îπxl
=
_îπxn
, 
_dtxl
=
_dtxn
, 
_dyl
=
_dyn
, 
_°xl
=
_°xn
, 
_πxn
 ), \

29869 
_πyl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
ty1
-
ty0
)/_dyl:0): \

29870 (
_îπyl
=
_îπyn
, 
_dtyl
=
_dtyn
, 
_dyl
=
_dyn
, 
_°yl
=
_°yn
, 
_πyn
 ), \

29871 
_æxl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
lx1
-
lx0
)/_dyl:0): \

29872 (
_îæxl
=
_îæxn
, 
_dlxl
=
_dlxn
, 
_dyl
=
_dyn
, 
_¶xl
=
_¶xn
, 
_æxn
 ), \

29873 
_æyl
 = (
y0
!=
y1
 && y1>0)?(
_dyl
?(
ly1
-
ly0
)/_dyl:0): \

29874 (
_îæyl
=
_îæyn
, 
_dlyl
=
_dlyn
, 
_dyl
=
_dyn
, 
_¶yl
=
_¶yn
, 
_æyn
 ); \

29875 
_cou¡î
>=0; --_cou¡î, ++
y
, \

29876 
xr
+=
_rxr
+((
_îº
-=
_dxr
)<0?_îº+=
_dyr
,
_sxr
:0), \

29877 
txr
+=
_πxr
+((
_îπxr
-=
_dtxr
)<0?_îπxr+=
_dyr
,
_°xr
:0), \

29878 
tyr
+=
_πyr
+((
_îπyr
-=
_dtyr
)<0?_îπyr+=
_dyr
,
_°yr
:0), \

29879 
lxr
+=
_æxr
+((
_îæxr
-=
_dlxr
)<0?_îæxr+=
_dyr
,
_¶xr
:0), \

29880 
lyr
+=
_æyr
+((
_îæyr
-=
_dlyr
)<0?_îæyr+=
_dyr
,
_¶yr
:0), \

29881 
xl
+=(
y
!=
y1
)?(
txl
+=
_πxl
+((
_îπxl
-=
_dtxl
)<0?(_îπxl+=
_dyl
,
_°xl
):0), \

29882 
tyl
+=
_πyl
+((
_îπyl
-=
_dtyl
)<0?(_îπyl+=
_dyl
,
_°yl
):0), \

29883 
lxl
+=
_æxl
+((
_îæxl
-=
_dlxl
)<0?(_îæxl+=
_dyl
,
_¶xl
):0), \

29884 
lyl
+=
_æyl
+((
_îæyl
-=
_dlyl
)<0?(_îæyl+=
_dyl
,
_¶yl
):0), \

29885 
_rxl
+((
_îæ
-=
_dxl
)<0?(_îæ+=
_dyl
,
_sxl
):0)): \

29886 (
_îπxl
=
_îπxn
, 
_dtxl
=
_dtxn
, 
_dyl
=
_dyn
, 
_°xl
=
_°xn
, 
_πxl
=
_πxn
, 
txl
=
tx1
, \

29887 
_îπyl
=
_îπyn
, 
_dtyl
=
_dtyn
, 
_dyl
=
_dyn
, 
_°yl
=
_°yn
, 
_πyl
=
_πyn
, 
tyl
=
ty1
, \

29888 
_îæxl
=
_îæxn
, 
_dlxl
=
_dlxn
, 
_dyl
=
_dyn
, 
_¶xl
=
_¶xn
, 
_æxl
=
_æxn
, 
lxl
=
lx1
, \

29889 
_îæyl
=
_îæyn
, 
_dlyl
=
_dlyn
, 
_dyl
=
_dyn
, 
_¶yl
=
_¶yn
, 
_æyl
=
_æyn
, 
lyl
=
ly1
, \

29890 
_îæ
=
_î∫
, 
_dxl
=
_dxn
, 
_dyl
=
_dyn
, 
_sxl
=
_sxn
, 
_rxl
=
_rxn
, 
x1
-
xl
))

	)

29893 
	gãm∂©e
<
ty≥«me
 
	gtc
>

29894 
	gCImg
<
	gT
>& 
_døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

29895 c⁄° 
x1
, c⁄° 
y1
,

29896 c⁄° 
x2
, c⁄° 
y2
,

29897 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

29898 c⁄° 
brighäess
) {

29899 
cimg_öô_sˇ∆öe
(
cﬁ‹
,
›acôy
);

29900 c⁄° 
	gnbrighäess
 = 
brighäess
<0?0:(brightness>2?2:brightness);

29901 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
;

29902 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
);

29903 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
);

29904 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
);

29905 i‡(
	gny0
<
height
(Ë&& 
	gny2
>=0) {

29906 i‡((
nx1
 - 
nx0
)*(
ny2
 - 
ny0
Ë- (
nx2
 -Çx0)*(
ny1
 -Çy0)<0)

29907 
_cimg_f‹_åüngÀ1
(*
this
,
xl
,
xr
,
y
,
nx0
,
ny0
,
nx1
,
ny1
,
nx2
,
ny2
Ë
cimg_døw_sˇ∆öe
(xl,xr,y,
cﬁ‹
,
›acôy
,
nbrighäess
);

29909 
_cimg_f‹_åüngÀ1
(*
this
,
xl
,
xr
,
y
,
nx0
,
ny0
,
nx1
,
ny1
,
nx2
,
ny2
Ë
cimg_døw_sˇ∆öe
(xr,xl,y,
cﬁ‹
,
›acôy
,
nbrighäess
);

29911  *
	gthis
;

29925 
	gãm∂©e
<
ty≥«me
 
	gtc
>

29926 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

29927 c⁄° 
x1
, c⁄° 
y1
,

29928 c⁄° 
x2
, c⁄° 
y2
,

29929 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

29930 i‡(
is_em±y
()Ë *
this
;

29931 i‡(!
	gcﬁ‹
)

29932 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29934 
cimg_ö°™˚
);

29935 
_døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
cﬁ‹
,
›acôy
,1);

29936  *
	gthis
;

29951 
	gãm∂©e
<
ty≥«me
 
	gtc
>

29952 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

29953 c⁄° 
x1
, c⁄° 
y1
,

29954 c⁄° 
x2
, c⁄° 
y2
,

29955 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

29956 c⁄° 
∑âîn
) {

29957 i‡(
is_em±y
()Ë *
	gthis
;

29958 i‡(!
	gcﬁ‹
)

29959 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29961 
cimg_ö°™˚
);

29962 
døw_löe
(
x0
,
y0
,
x1
,
y1
,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
).

29963 
døw_löe
(
x1
,
y1
,
x2
,
y2
,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

29964 
døw_löe
(
x2
,
y2
,
x0
,
y0
,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
);

29965  *
	gthis
;

29984 
	gãm∂©e
<
ty≥«me
 
	gtz
,Åy≥«mê
	gtc
>

29985 
	gCImg
<
	gT
>& 
døw_åüngÀ
(
CImg
<
tz
>& 
zbuf„r
,

29986 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

29987 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

29988 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

29989 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

29990 c⁄° 
brighäess
=1) {

29991 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	ttz
,>::
	tty≥
 
	ttzÊﬂt
;

29992 i‡(
is_em±y
(Ë|| 
	gz0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

29993 i‡(!
	gcﬁ‹
)

29994 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


29996 
cimg_ö°™˚
);

29997 i‡(!
is_ßmeXY
(
zbuf„r
))

29998 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30000 
cimg_ö°™˚
,

30001 
zbuf„r
.
_width
,zbuf„r.
_height
,zbuf„r.
_dïth
,zbuf„r.
_•e˘rum
,zbuf„r.
_d©a
);

30002 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30004 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0),

30005 
	gnbrighäess
 = 
brighäess
<0?0:(brightness>2?2:brightness);

30006 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	goffx
 = 
_•e˘rum
*
whd
;

30007 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
;

30008 
tzÊﬂt
 
	gnz0
 = 1/—zÊﬂt)
z0
, 
	gnz1
 = 1/—zÊﬂt)
z1
, 
	gnz2
 = 1/—zÊﬂt)
z2
;

30009 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
nz0
,
nz1
);

30010 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
nz0
,
nz2
);

30011 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
nz1
,
nz2
);

30012 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30013 
tzÊﬂt


30014 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

30015 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

30016 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

30017 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

30018 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1)));

30019 
_cimg_f‹_åüngÀ1
(*
this
,
xÀ·0
,
xright0
,
y
,
nx0
,
ny0
,
nx1
,
ny1
,
nx2
,
ny2
) {

30020 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gpzl
 = 
pzn
; }

30021 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
;

30022 
tzÊﬂt
 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
;

30023 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
);

30024 c⁄° 
	gdx
 = 
xright
 - 
xÀ·
;

30025 c⁄° 
tzÊﬂt
 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
;

30026 i‡(
	gxÀ·
<0 && 
	gdx
Ë
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

30027 i‡(
	gxÀ·
<0) xleft = 0;

30028 i‡(
	gxright
>=
width
()-1Ë
xright
 = width() - 1;

30029 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

30030 
tz
 *
	g±rz
 = 
zbuf„r
.
d©a
(
xÀ·
,
y
);

30031 i‡(
	g›acôy
>=1) {

30032 i‡(
nbrighäess
==1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30033 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30034 *
±rz
 = (
tz
)
zÀ·
;

30035 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)*(
cﬁ
++);Öåd+=
whd
; }

30036 
	g±rd
-=
offx
;

30038 
	gzÀ·
+=
≥¡ez
;

30039 } i‡(
	gnbrighäess
<1Ë
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30040 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30041 *
±rz
 = (
tz
)
zÀ·
;

30042 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
nbrighäess
*(*
cﬁ
++));Öåd+=
whd
; }

30043 
	g±rd
-=
offx
;

30045 
	gzÀ·
+=
≥¡ez
;

30046 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30047 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30048 *
±rz
 = (
tz
)
zÀ·
;

30049 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)((2-
nbrighäess
)**(
cﬁ
++Ë+ (nbrighäess-1)*
maxvÆ
);Öåd+=
whd
; }

30050 
	g±rd
-=
offx
;

30052 
	gzÀ·
+=
≥¡ez
;

30055 i‡(
	gnbrighäess
==1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30056 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30057 *
±rz
 = (
tz
)
zÀ·
;

30058 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
**(
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
whd
; }

30059 
	g±rd
-=
offx
;

30061 
	gzÀ·
+=
≥¡ez
;

30062 } i‡(
	gnbrighäess
<1Ë
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30063 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30064 *
±rz
 = (
tz
)
zÀ·
;

30065 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
; 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
*
nbrighäess
**(
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
whd
; }

30066 
	g±rd
-=
offx
;

30068 
	gzÀ·
+=
≥¡ez
;

30069 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30070 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30071 *
±rz
 = (
tz
)
zÀ·
;

30072 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30073 
cimg_f‹C
(*
this
,
c
) {

30074 c⁄° 
T
 
	gvÆ
 = (T)((2-
nbrighäess
)**(
cﬁ
++Ë+ (nbrighäess-1)*
maxvÆ
);

30075 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

30076 
	g±rd
+=
whd
;

30078 
	g±rd
-=
offx
;

30080 
	gzÀ·
+=
≥¡ez
;

30083 
	gzr
+=
pzr
; 
	gzl
+=
pzl
;

30085  *
	gthis
;

30102 
	gãm∂©e
<
ty≥«me
 
	gtc
>

30103 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

30104 c⁄° 
x1
, c⁄° 
y1
,

30105 c⁄° 
x2
, c⁄° 
y2
,

30106 c⁄° 
tc
 *c⁄° 
cﬁ‹
,

30107 c⁄° 
brighäess0
,

30108 c⁄° 
brighäess1
,

30109 c⁄° 
brighäess2
,

30110 c⁄° 
›acôy
=1) {

30111 i‡(
is_em±y
()Ë *
this
;

30112 i‡(!
	gcﬁ‹
)

30113 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30115 
cimg_ö°™˚
);

30116 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30117 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

30118 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	goffx
 = 
_•e˘rum
*
whd
-1;

30119 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

30120 
	gnc0
 = ()((
brighäess0
<0.0f?0.0f:(brightness0>2.0f?2.0f:brightness0))*256.0f),

30121 
	gnc1
 = ()((
brighäess1
<0.0f?0.0f:(brightness1>2.0f?2.0f:brightness1))*256.0f),

30122 
	gnc2
 = ()((
brighäess2
<0.0f?0.0f:(brightness2>2.0f?2.0f:brightness2))*256.0f);

30123 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
nc0
,
nc1
);

30124 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
nc0
,
nc2
);

30125 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
nc1
,
nc2
);

30126 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30127 
_cimg_f‹_åüngÀ2
(*
this
,
xÀ·0
,
˛e·0
,
xright0
,
¸ight0
,
y
,
nx0
,
ny0
,
nc0
,
nx1
,
ny1
,
nc1
,
nx2
,
ny2
,
nc2
) {

30128 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
, 
	g˛e·
 = 
˛e·0
, 
	g¸ight
 = 
¸ight0
;

30129 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
˛e·
,
¸ight
);

30131 
	gdx
 = 
xright
 - 
xÀ·
,

30132 
	gdc
 = 
¸ight
>
˛e·
?cright - cleft:cleft - cright,

30133 
	grc
 = 
dx
?(
¸ight
 - 
˛e·
)/dx:0,

30134 
	gsc
 = 
¸ight
>
˛e·
?1:-1,

30135 
	gndc
 = 
dc
-(
dx
?dx*(dc/dx):0);

30136 
	gîrc
 = 
dx
>>1;

30137 i‡(
	gxÀ·
<0 && 
	gdx
Ë
	g˛e·
-=
xÀ·
*(
¸ight
 - 
˛e·
)/
dx
;

30138 i‡(
	gxÀ·
<0) xleft = 0;

30139 i‡(
	gxright
>=
width
()-1Ë
xright
 = width() - 1;

30140 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
);

30141 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

30142 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30143 
cimg_f‹C
(*
this
,
c
) {

30144 *
	g±rd
 = (
T
)(
˛e·
<256?˛e·**(
cﬁ
++)/256:((512-˛e·)**(cﬁ++)+(˛e·-256)*
maxvÆ
)/256);

30145 
	g±rd
+=
whd
;

30147 
	g±rd
-=
offx
;

30148 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

30149 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30150 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30151 
cimg_f‹C
(*
this
,
c
) {

30152 c⁄° 
T
 
	gvÆ
 = (T)(
˛e·
<256?˛e·**(
cﬁ
++)/256:((512-˛e·)**(cﬁ++)+(˛e·-256)*
maxvÆ
)/256);

30153 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

30154 
	g±rd
+=
whd
;

30156 
	g±rd
-=
offx
;

30157 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

30160  *
	gthis
;

30164 
	gãm∂©e
<
ty≥«me
 
	gtz
,Åy≥«mê
	gtc
>

30165 
	gCImg
<
	gT
>& 
døw_åüngÀ
(
CImg
<
tz
>& 
zbuf„r
,

30166 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

30167 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

30168 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

30169 c⁄° 
tc
 *c⁄° 
cﬁ‹
,

30170 c⁄° 
brighäess0
,

30171 c⁄° 
brighäess1
,

30172 c⁄° 
brighäess2
,

30173 c⁄° 
›acôy
=1) {

30174 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	ttz
,>::
	tty≥
 
	ttzÊﬂt
;

30175 i‡(
is_em±y
(Ë|| 
	gz0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

30176 i‡(!
	gcﬁ‹
)

30177 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30179 
cimg_ö°™˚
);

30180 i‡(!
is_ßmeXY
(
zbuf„r
))

30181 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30183 
cimg_ö°™˚
,

30184 
zbuf„r
.
_width
,zbuf„r.
_height
,zbuf„r.
_dïth
,zbuf„r.
_•e˘rum
,zbuf„r.
_d©a
);

30185 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30186 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

30187 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	goffx
 = 
_•e˘rum
*
whd
;

30188 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

30189 
	gnc0
 = ()((
brighäess0
<0.0f?0.0f:(brightness0>2.0f?2.0f:brightness0))*256.0f),

30190 
	gnc1
 = ()((
brighäess1
<0.0f?0.0f:(brightness1>2.0f?2.0f:brightness1))*256.0f),

30191 
	gnc2
 = ()((
brighäess2
<0.0f?0.0f:(brightness2>2.0f?2.0f:brightness2))*256.0f);

30192 
tzÊﬂt
 
	gnz0
 = 1/—zÊﬂt)
z0
, 
	gnz1
 = 1/—zÊﬂt)
z1
, 
	gnz2
 = 1/—zÊﬂt)
z2
;

30193 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
nz0
,
nz1
,
nc0
,
nc1
);

30194 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
nz0
,
nz2
,
nc0
,
nc2
);

30195 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
nz1
,
nz2
,
nc1
,
nc2
);

30196 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30197 
tzÊﬂt


30198 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

30199 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

30200 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

30201 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

30202 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1)));

30203 
_cimg_f‹_åüngÀ2
(*
this
,
xÀ·0
,
˛e·0
,
xright0
,
¸ight0
,
y
,
nx0
,
ny0
,
nc0
,
nx1
,
ny1
,
nc1
,
nx2
,
ny2
,
nc2
) {

30204 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gpzl
 = 
pzn
; }

30205 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
, 
	g˛e·
 = 
˛e·0
, 
	g¸ight
 = 
¸ight0
;

30206 
tzÊﬂt
 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
;

30207 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
,
˛e·
,
¸ight
);

30209 
	gdx
 = 
xright
 - 
xÀ·
,

30210 
	gdc
 = 
¸ight
>
˛e·
?cright - cleft:cleft - cright,

30211 
	grc
 = 
dx
?(
¸ight
-
˛e·
)/dx:0,

30212 
	gsc
 = 
¸ight
>
˛e·
?1:-1,

30213 
	gndc
 = 
dc
-(
dx
?dx*(dc/dx):0);

30214 c⁄° 
tzÊﬂt
 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
;

30215 
	gîrc
 = 
dx
>>1;

30216 i‡(
	gxÀ·
<0 && 
	gdx
) {

30217 
	g˛e·
-=
xÀ·
*(
¸ight
 - 
˛e·
)/
dx
;

30218 
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

30220 i‡(
	gxÀ·
<0) xleft = 0;

30221 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

30222 
T
 *
	g±rd
 = 
d©a
(
xÀ·
,
y
);

30223 
tz
 *
	g±rz
 = 
zbuf„r
.
d©a
(
xÀ·
,
y
);

30224 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x, ++
	g±rd
, ++
	g±rz
) {

30225 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30226 *
±rz
 = (
tz
)
zÀ·
;

30227 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30228 
cimg_f‹C
(*
this
,
c
) {

30229 *
	g±rd
 = (
T
)(
˛e·
<256?˛e·**(
cﬁ
++)/256:((512-˛e·)**(cﬁ++)+(˛e·-256)*
maxvÆ
)/256);

30230 
	g±rd
+=
whd
;

30232 
	g±rd
-=
offx
;

30234 
	gzÀ·
+=
≥¡ez
;

30235 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

30236 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rd
, ++
	g±rz
) {

30237 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30238 *
±rz
 = (
tz
)
zÀ·
;

30239 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30240 
cimg_f‹C
(*
this
,
c
) {

30241 c⁄° 
T
 
	gvÆ
 = (T)(
˛e·
<256?˛e·**(
cﬁ
++)/256:((512-˛e·)**(cﬁ++)+(˛e·-256)*
maxvÆ
)/256);

30242 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

30243 
	g±rd
+=
whd
;

30245 
	g±rd
-=
offx
;

30247 
	gzÀ·
+=
≥¡ez
;

30248 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

30250 
	gzr
+=
pzr
; 
	gzl
+=
pzl
;

30252  *
	gthis
;

30268 
	gãm∂©e
<
ty≥«me
 
	gtc1
,Åy≥«mê
	gtc2
,Åy≥«mê
	gtc3
>

30269 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

30270 c⁄° 
x1
, c⁄° 
y1
,

30271 c⁄° 
x2
, c⁄° 
y2
,

30272 c⁄° 
tc1
 *c⁄° 
cﬁ‹1
,

30273 c⁄° 
tc2
 *c⁄° 
cﬁ‹2
,

30274 c⁄° 
tc3
 *c⁄° 
cﬁ‹3
,

30275 c⁄° 
›acôy
=1) {

30276 c⁄° 
⁄e
 = 1;

30277 
cimg_f‹C
(*
this
,
c
Ë
gë_sh¨ed_ch™√l
(c).
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,&
⁄e
,
cﬁ‹1
[c],
cﬁ‹2
[c],
cﬁ‹3
[c],
›acôy
);

30278  *
	gthis
;

30299 
	gãm∂©e
<
ty≥«me
 
	gtc
>

30300 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

30301 c⁄° 
x1
, c⁄° 
y1
,

30302 c⁄° 
x2
, c⁄° 
y2
,

30303 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

30304 c⁄° 
tx0
, c⁄° 
ty0
,

30305 c⁄° 
tx1
, c⁄° 
ty1
,

30306 c⁄° 
tx2
, c⁄° 
ty2
,

30307 c⁄° 
›acôy
=1,

30308 c⁄° 
brighäess
=1) {

30309 i‡(
is_em±y
()Ë *
this
;

30310 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

30311 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30313 
cimg_ö°™˚
,

30314 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

30315 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
,
brighäess
);

30316 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30318 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0),

30319 
	gnbrighäess
 = 
brighäess
<0?0:(brightness>2?2:brightness);

30320 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
-1;

30321 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

30322 
	g¡x0
 = 
tx0
, 
	g¡y0
 = 
ty0
, 
	g¡x1
 = 
tx1
, 
	g¡y1
 = 
ty1
, 
	g¡x2
 = 
tx2
, 
	g¡y2
 = 
ty2
;

30323 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
);

30324 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
);

30325 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
);

30326 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30327 
_cimg_f‹_åüngÀ3
(*
this
,
xÀ·0
,
txÀ·0
,
tyÀ·0
,
xright0
,
txright0
,
tyright0
,
y
,

30328 
nx0
,
ny0
,
¡x0
,
¡y0
,
nx1
,
ny1
,
¡x1
,
¡y1
,
nx2
,
ny2
,
¡x2
,
¡y2
) {

30330 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
,

30331 
	gtxÀ·
 = 
txÀ·0
, 
	gtxright
 = 
txright0
,

30332 
	gtyÀ·
 = 
tyÀ·0
, 
	gtyright
 = 
tyright0
;

30333 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
txÀ·
,
txright
,
tyÀ·
,
tyright
);

30335 
	gdx
 = 
xright
 - 
xÀ·
,

30336 
	gdtx
 = 
txright
>
txÀ·
?txright -Åxleft:txleft -Åxright,

30337 
	gdty
 = 
tyright
>
tyÀ·
?tyright -Åyleft:tyleft -Åyright,

30338 
	gπx
 = 
dx
?(
txright
 - 
txÀ·
)/dx:0,

30339 
	gπy
 = 
dx
?(
tyright
 - 
tyÀ·
)/dx:0,

30340 
	g°x
 = 
txright
>
txÀ·
?1:-1,

30341 
	g°y
 = 
tyright
>
tyÀ·
?1:-1,

30342 
	gndtx
 = 
dtx
 - (
dx
?dx*(dtx/dx):0),

30343 
	gndty
 = 
dty
 - (
dx
?dx*(dty/dx):0);

30344 
	gîπx
 = 
dx
>>1, 
	gîπy
 = 
îπx
;

30345 i‡(
	gxÀ·
<0 && 
	gdx
) {

30346 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

30347 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

30349 i‡(
	gxÀ·
<0) xleft = 0;

30350 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

30351 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

30352 i‡(
	g›acôy
>=1) {

30353 i‡(
nbrighäess
==1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

30354 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

30355 
cimg_f‹C
(*
this
,
c
) {

30356 *
	g±rd
 = (
T
)*
cﬁ
;

30357 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30359 
	g±rd
-=
offx
;

30360 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

30361 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

30362 } i‡(
	gnbrighäess
<1Ë
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30363 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

30364 
cimg_f‹C
(*
this
,
c
) {

30365 *
	g±rd
 = (
T
)(
nbrighäess
**
cﬁ
);

30366 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30368 
	g±rd
-=
offx
;

30369 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

30370 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

30371 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30372 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

30373 
cimg_f‹C
(*
this
,
c
) {

30374 *
	g±rd
 = (
T
)((2-
nbrighäess
)**(
cﬁ
++Ë+ (nbrighäess-1)*
maxvÆ
);

30375 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30377 
	g±rd
-=
offx
;

30378 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

30379 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

30382 i‡(
	gnbrighäess
==1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

30383 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

30384 
cimg_f‹C
(*
this
,
c
) {

30385 *
	g±rd
 = (
T
)(
n›acôy
**
cﬁ
 + *
±rd
*
c›acôy
);

30386 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30388 
	g±rd
-=
offx
;

30389 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

30390 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

30391 } i‡(
	gnbrighäess
<1Ë
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30392 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

30393 
cimg_f‹C
(*
this
,
c
) {

30394 *
	g±rd
 = (
T
)(
n›acôy
*
nbrighäess
**
cﬁ
 + *
±rd
*
c›acôy
);

30395 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30397 
	g±rd
-=
offx
;

30398 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

30399 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

30400 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30401 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

30402 
cimg_f‹C
(*
this
,
c
) {

30403 c⁄° 
T
 
	gvÆ
 = (T)((2-
nbrighäess
)**(
cﬁ
++Ë+ (nbrighäess-1)*
maxvÆ
);

30404 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

30405 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30407 
	g±rd
-=
offx
;

30408 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

30409 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

30413  *
	gthis
;

30417 
	gãm∂©e
<
ty≥«me
 
	gtc
>

30418 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

30419 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

30420 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

30421 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

30422 c⁄° 
tx0
, c⁄° 
ty0
,

30423 c⁄° 
tx1
, c⁄° 
ty1
,

30424 c⁄° 
tx2
, c⁄° 
ty2
,

30425 c⁄° 
›acôy
=1,

30426 c⁄° 
brighäess
=1) {

30427 i‡(
is_em±y
(Ë|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

30428 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

30429 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30431 
cimg_ö°™˚
,

30432 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

30433 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
,
brighäess
);

30434 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30436 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0),

30437 
	gnbrighäess
 = 
brighäess
<0?0:(brightness>2?2:brightness);

30438 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
-1;

30439 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
;

30441 
	g¡x0
 = 
tx0
/
z0
, 
	g¡y0
 = 
ty0
/z0,

30442 
	g¡x1
 = 
tx1
/
z1
, 
	g¡y1
 = 
ty1
/z1,

30443 
	g¡x2
 = 
tx2
/
z2
, 
	g¡y2
 = 
ty2
/z2,

30444 
	gnz0
 = 1/
z0
, 
	gnz1
 = 1/
z1
, 
	gnz2
 = 1/
z2
;

30445 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
,
nz0
,
nz1
);

30446 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
,
nz0
,
nz2
);

30447 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
,
nz1
,
nz2
);

30448 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30450 
	g±xl
 = (
¡x1
 - 
¡x0
)/(
ny1
 - 
ny0
),

30451 
	g±xr
 = (
¡x2
 - 
¡x0
)/(
ny2
 - 
ny0
),

30452 
	g±xn
 = (
¡x2
 - 
¡x1
)/(
ny2
 - 
ny1
),

30453 
	g±yl
 = (
¡y1
 - 
¡y0
)/(
ny1
 - 
ny0
),

30454 
	g±yr
 = (
¡y2
 - 
¡y0
)/(
ny2
 - 
ny0
),

30455 
	g±yn
 = (
¡y2
 - 
¡y1
)/(
ny2
 - 
ny1
),

30456 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

30457 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

30458 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

30459 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

30460 
	gtxr
 = 
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x2
 -Çtx0)/(
ny2
 -Çy0)),

30461 
	gtyr
 = 
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y2
 -Çty0)/(
ny2
 -Çy0)),

30462 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1))),

30463 
	gtxl
 = 
ny1
>=0?(
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x1
 -Çtx0)/“y1 -Çy0))):(
±xl
=
±xn
,(
	g¡x1
 - 
	gny1
*(
	g¡x2
 -Çtx1)/(
	gny2
 -Çy1))),

30464 
	gtyl
 = 
ny1
>=0?(
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y1
 -Çty0)/“y1 -Çy0))):(
±yl
=
±yn
,(
	g¡y1
 - 
	gny1
*(
	g¡y2
 -Çty1)/(
	gny2
 -Çy1)));

30465 
_cimg_f‹_åüngÀ1
(*
this
,
xÀ·0
,
xright0
,
y
,
nx0
,
ny0
,
nx1
,
ny1
,
nx2
,
ny2
) {

30466 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gtxl
 = 
¡x1
; 
	gtyl
 = 
¡y1
; 
	gpzl
 = 
pzn
; 
	g±xl
 = 
±xn
; 
	g±yl
 = 
±yn
; }

30467 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
;

30469 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
,

30470 
	gtxÀ·
 = 
txl
, 
	gtxright
 = 
txr
,

30471 
	gtyÀ·
 = 
tyl
, 
	gtyright
 = 
tyr
;

30472 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
,
txÀ·
,
txright
,
tyÀ·
,
tyright
);

30473 c⁄° 
	gdx
 = 
xright
 - 
xÀ·
;

30475 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
,

30476 
	g≥¡ëx
 = (
txright
 - 
txÀ·
)/
dx
,

30477 
	g≥¡ëy
 = (
tyright
 - 
tyÀ·
)/
dx
;

30478 i‡(
	gxÀ·
<0 && 
	gdx
) {

30479 
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

30480 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

30481 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

30483 i‡(
	gxÀ·
<0) xleft = 0;

30484 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

30485 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

30486 i‡(
	g›acôy
>=1) {

30487 i‡(
nbrighäess
==1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

30488 c⁄° 
	gövz
 = 1/
zÀ·
;

30489 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30490 
cimg_f‹C
(*
this
,
c
) {

30491 *
	g±rd
 = (
T
)*
cﬁ
;

30492 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30494 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30495 } i‡(
	gnbrighäess
<1Ë
	gx
=
xÀ·
; x<=
xright
; ++x) {

30496 c⁄° 
	gövz
 = 1/
zÀ·
;

30497 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30498 
cimg_f‹C
(*
this
,
c
) {

30499 *
	g±rd
 = (
T
)(
nbrighäess
**
cﬁ
);

30500 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30502 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30503 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30504 c⁄° 
	gövz
 = 1/
zÀ·
;

30505 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30506 
cimg_f‹C
(*
this
,
c
) {

30507 *
	g±rd
 = (
T
)((2-
nbrighäess
)**
cﬁ
 + (nbrighäess-1)*
maxvÆ
);

30508 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30510 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30513 i‡(
	gnbrighäess
==1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

30514 c⁄° 
	gövz
 = 1/
zÀ·
;

30515 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30516 
cimg_f‹C
(*
this
,
c
) {

30517 *
	g±rd
 = (
T
)(
n›acôy
**
cﬁ
 + *
±rd
*
c›acôy
);

30518 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30520 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30521 } i‡(
	gnbrighäess
<1Ë
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30522 c⁄° 
	gövz
 = 1/
zÀ·
;

30523 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30524 
cimg_f‹C
(*
this
,
c
) {

30525 *
	g±rd
 = (
T
)(
n›acôy
*
nbrighäess
**
cﬁ
 + *
±rd
*
c›acôy
);

30526 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30528 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30529 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30530 c⁄° 
	gövz
 = 1/
zÀ·
;

30531 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30532 
cimg_f‹C
(*
this
,
c
) {

30533 c⁄° 
T
 
	gvÆ
 = (T)((2-
nbrighäess
)**
cﬁ
 + (nbrighäess-1)*
maxvÆ
);

30534 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

30535 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30537 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30540 
	gzr
+=
pzr
; 
	gtxr
+=
±xr
; 
	gtyr
+=
±yr
; 
	gzl
+=
pzl
; 
	gtxl
+=
±xl
; 
	gtyl
+=
±yl
;

30542  *
	gthis
;

30546 
	gãm∂©e
<
ty≥«me
 
	gtz
,Åy≥«mê
	gtc
>

30547 
	gCImg
<
	gT
>& 
døw_åüngÀ
(
CImg
<
tz
>& 
zbuf„r
,

30548 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

30549 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

30550 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

30551 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

30552 c⁄° 
tx0
, c⁄° 
ty0
,

30553 c⁄° 
tx1
, c⁄° 
ty1
,

30554 c⁄° 
tx2
, c⁄° 
ty2
,

30555 c⁄° 
›acôy
=1,

30556 c⁄° 
brighäess
=1) {

30557 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	ttz
,>::
	tty≥
 
	ttzÊﬂt
;

30558 i‡(
is_em±y
(Ë|| 
	gz0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

30559 i‡(!
is_ßmeXY
(
zbuf„r
))

30560 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30562 
cimg_ö°™˚
,

30563 
zbuf„r
.
_width
,zbuf„r.
_height
,zbuf„r.
_dïth
,zbuf„r.
_•e˘rum
,zbuf„r.
_d©a
);

30565 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

30566 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30568 
cimg_ö°™˚
,

30569 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

30570 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
,
brighäess
);

30571 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30573 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0),

30574 
	gnbrighäess
 = 
brighäess
<0?0:(brightness>2?2:brightness);

30575 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
;

30576 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
;

30578 
	g¡x0
 = 
tx0
/
z0
, 
	g¡y0
 = 
ty0
/z0,

30579 
	g¡x1
 = 
tx1
/
z1
, 
	g¡y1
 = 
ty1
/z1,

30580 
	g¡x2
 = 
tx2
/
z2
, 
	g¡y2
 = 
ty2
/z2;

30581 
tzÊﬂt
 
	gnz0
 = 1/—zÊﬂt)
z0
, 
	gnz1
 = 1/—zÊﬂt)
z1
, 
	gnz2
 = 1/—zÊﬂt)
z2
;

30582 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
,
nz0
,
nz1
);

30583 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
,
nz0
,
nz2
);

30584 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
,
nz1
,
nz2
);

30585 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30587 
	g±xl
 = (
¡x1
 - 
¡x0
)/(
ny1
 - 
ny0
),

30588 
	g±xr
 = (
¡x2
 - 
¡x0
)/(
ny2
 - 
ny0
),

30589 
	g±xn
 = (
¡x2
 - 
¡x1
)/(
ny2
 - 
ny1
),

30590 
	g±yl
 = (
¡y1
 - 
¡y0
)/(
ny1
 - 
ny0
),

30591 
	g±yr
 = (
¡y2
 - 
¡y0
)/(
ny2
 - 
ny0
),

30592 
	g±yn
 = (
¡y2
 - 
¡y1
)/(
ny2
 - 
ny1
),

30593 
	gtxr
 = 
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x2
 -Çtx0)/(
ny2
 -Çy0)),

30594 
	gtyr
 = 
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y2
 -Çty0)/(
ny2
 -Çy0)),

30595 
	gtxl
 = 
ny1
>=0?(
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x1
 -Çtx0)/“y1 -Çy0))):(
±xl
=
±xn
,(
	g¡x1
 - 
	gny1
*(
	g¡x2
 -Çtx1)/(
	gny2
 -Çy1))),

30596 
	gtyl
 = 
ny1
>=0?(
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y1
 -Çty0)/“y1 -Çy0))):(
±yl
=
±yn
,(
	g¡y1
 - 
	gny1
*(
	g¡y2
 -Çty1)/(
	gny2
 -Çy1)));

30597 
tzÊﬂt


30598 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

30599 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

30600 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

30601 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

30602 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1)));

30603 
_cimg_f‹_åüngÀ1
(*
this
,
xÀ·0
,
xright0
,
y
,
nx0
,
ny0
,
nx1
,
ny1
,
nx2
,
ny2
) {

30604 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gtxl
 = 
¡x1
; 
	gtyl
 = 
¡y1
; 
	gpzl
 = 
pzn
; 
	g±xl
 = 
±xn
; 
	g±yl
 = 
±yn
; }

30605 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
;

30606 
	gtxÀ·
 = 
txl
, 
	gtxright
 = 
txr
, 
	gtyÀ·
 = 
tyl
, 
	gtyright
 = 
tyr
;

30607 
tzÊﬂt
 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
;

30608 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
,
txÀ·
,
txright
,
tyÀ·
,
tyright
);

30609 c⁄° 
	gdx
 = 
xright
 - 
xÀ·
;

30610 c⁄° 
	g≥¡ëx
 = (
txright
 - 
txÀ·
)/
dx
, 
	g≥¡ëy
 = (
tyright
 - 
tyÀ·
)/dx;

30611 c⁄° 
tzÊﬂt
 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
;

30612 i‡(
	gxÀ·
<0 && 
	gdx
) {

30613 
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

30614 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

30615 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

30617 i‡(
	gxÀ·
<0) xleft = 0;

30618 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

30619 
T
 *
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

30620 
tz
 *
	g±rz
 = 
zbuf„r
.
d©a
(
xÀ·
,
y
);

30621 i‡(
	g›acôy
>=1) {

30622 i‡(
nbrighäess
==1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30623 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30624 *
±rz
 = (
tz
)
zÀ·
;

30625 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

30626 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30627 
cimg_f‹C
(*
this
,
c
) {

30628 *
	g±rd
 = (
T
)*
cﬁ
;

30629 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30631 
	g±rd
-=
offx
;

30633 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30634 } i‡(
	gnbrighäess
<1Ë
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30635 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30636 *
±rz
 = (
tz
)
zÀ·
;

30637 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

30638 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30639 
cimg_f‹C
(*
this
,
c
) {

30640 *
	g±rd
 = (
T
)(
nbrighäess
**
cﬁ
);

30641 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30643 
	g±rd
-=
offx
;

30645 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30646 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30647 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30648 *
±rz
 = (
tz
)
zÀ·
;

30649 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

30650 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30651 
cimg_f‹C
(*
this
,
c
) {

30652 *
	g±rd
 = (
T
)((2-
nbrighäess
)**
cﬁ
 + (nbrighäess-1)*
maxvÆ
);

30653 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30655 
	g±rd
-=
offx
;

30657 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30660 i‡(
	gnbrighäess
==1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30661 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30662 *
±rz
 = (
tz
)
zÀ·
;

30663 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

30664 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30665 
cimg_f‹C
(*
this
,
c
) {

30666 *
	g±rd
 = (
T
)(
n›acôy
**
cﬁ
 + *
±rd
*
c›acôy
);

30667 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30669 
	g±rd
-=
offx
;

30671 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30672 } i‡(
	gnbrighäess
<1Ë
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30673 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30674 *
±rz
 = (
tz
)
zÀ·
;

30675 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

30676 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30677 
cimg_f‹C
(*
this
,
c
) {

30678 *
	g±rd
 = (
T
)(
n›acôy
*
nbrighäess
**
cﬁ
 + *
±rd
*
c›acôy
);

30679 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30681 
	g±rd
-=
offx
;

30683 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30684 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30685 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30686 *
±rz
 = (
tz
)
zÀ·
;

30687 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

30688 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

30689 
cimg_f‹C
(*
this
,
c
) {

30690 c⁄° 
T
 
	gvÆ
 = (T)((2-
nbrighäess
)**
cﬁ
 + (nbrighäess-1)*
maxvÆ
);

30691 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

30692 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

30694 
	g±rd
-=
offx
;

30696 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

30699 
	gzr
+=
pzr
; 
	gtxr
+=
±xr
; 
	gtyr
+=
±yr
; 
	gzl
+=
pzl
; 
	gtxl
+=
±xl
; 
	gtyl
+=
±yl
;

30701  *
	gthis
;

30722 
	gãm∂©e
<
ty≥«me
 
	gtc
,Åy≥«mê
	gé
>

30723 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

30724 c⁄° 
x1
, c⁄° 
y1
,

30725 c⁄° 
x2
, c⁄° 
y2
,

30726 c⁄° 
tc
 *c⁄° 
cﬁ‹
,

30727 c⁄° 
CImg
<
é
>& 
light
,

30728 c⁄° 
lx0
, c⁄° 
ly0
,

30729 c⁄° 
lx1
, c⁄° 
ly1
,

30730 c⁄° 
lx2
, c⁄° 
ly2
,

30731 c⁄° 
›acôy
=1) {

30732 i‡(
is_em±y
()Ë *
this
;

30733 i‡(!
	gcﬁ‹
)

30734 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30736 
cimg_ö°™˚
);

30737 i‡(
	glight
.
	g_dïth
>1 ||Üight.
	g_•e˘rum
<_spectrum)

30738 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30740 
cimg_ö°™˚
,
light
.
_width
,light.
_height
,light.
_dïth
,light.
_•e˘rum
,light.
_d©a
);

30741 i‡(
is_ovîœµed
(
light
)Ë 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
cﬁ‹
,+light,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

30742 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30743 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

30744 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

30745 
	g∆x0
 = 
lx0
, 
	g∆y0
 = 
ly0
, 
	g∆x1
 = 
lx1
, 
	g∆y1
 = 
ly1
, 
	g∆x2
 = 
lx2
, 
	g∆y2
 = 
ly2
;

30746 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	goffx
 = 
_•e˘rum
*
whd
-1;

30747 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
∆x0
,
∆x1
,
∆y0
,
∆y1
);

30748 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
∆x0
,
∆x2
,
∆y0
,
∆y2
);

30749 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
∆x1
,
∆x2
,
∆y1
,
∆y2
);

30750 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30751 
_cimg_f‹_åüngÀ3
(*
this
,
xÀ·0
,
lxÀ·0
,
lyÀ·0
,
xright0
,
lxright0
,
lyright0
,
y
,

30752 
nx0
,
ny0
,
∆x0
,
∆y0
,
nx1
,
ny1
,
∆x1
,
∆y1
,
nx2
,
ny2
,
∆x2
,
∆y2
) {

30754 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
,

30755 
	glxÀ·
 = 
lxÀ·0
, 
	glxright
 = 
lxright0
,

30756 
	glyÀ·
 = 
lyÀ·0
, 
	glyright
 = 
lyright0
;

30757 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
lxÀ·
,
lxright
,
lyÀ·
,
lyright
);

30759 
	gdx
 = 
xright
 - 
xÀ·
,

30760 
	gdlx
 = 
lxright
>
lxÀ·
?lxright -Üxleft:lxleft -Üxright,

30761 
	gdly
 = 
lyright
>
lyÀ·
?lyright -Üyleft:lyleft -Üyright,

30762 
	gæx
 = 
dx
?(
lxright
 - 
lxÀ·
)/dx:0,

30763 
	gæy
 = 
dx
?(
lyright
 - 
lyÀ·
)/dx:0,

30764 
	g¶x
 = 
lxright
>
lxÀ·
?1:-1,

30765 
	g¶y
 = 
lyright
>
lyÀ·
?1:-1,

30766 
	gndlx
 = 
dlx
 - (
dx
?dx*(dlx/dx):0),

30767 
	gndly
 = 
dly
 - (
dx
?dx*(dly/dx):0);

30768 
	gîæx
 = 
dx
>>1, 
	gîæy
 = 
îæx
;

30769 i‡(
	gxÀ·
<0 && 
	gdx
) {

30770 
	glxÀ·
-=
xÀ·
*(
lxright
 - 
lxÀ·
)/
dx
;

30771 
	glyÀ·
-=
xÀ·
*(
lyright
 - 
lyÀ·
)/
dx
;

30773 i‡(
	gxÀ·
<0) xleft = 0;

30774 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

30775 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

30776 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

30777 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30778 
cimg_f‹C
(*
this
,
c
) {

30779 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

30780 *
	g±rd
 = (
T
)(
l
<1?l**(
cﬁ
++):((2-l)**(cﬁ++)+÷-1)*
maxvÆ
));

30781 
	g±rd
+=
whd
;

30783 
	g±rd
-=
offx
;

30784 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

30785 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

30786 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

30787 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30788 
cimg_f‹C
(*
this
,
c
) {

30789 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

30790 c⁄° 
T
 
	gvÆ
 = (T)(
l
<1?l**(
cﬁ
++):((2-l)**(cﬁ++)+÷-1)*
maxvÆ
));

30791 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

30792 
	g±rd
+=
whd
;

30794 
	g±rd
-=
offx
;

30795 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

30796 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

30799  *
	gthis
;

30803 
	gãm∂©e
<
ty≥«me
 
	gtz
,Åy≥«mê
	gtc
,Åy≥«mê
	gé
>

30804 
	gCImg
<
	gT
>& 
døw_åüngÀ
(
CImg
<
tz
>& 
zbuf„r
,

30805 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

30806 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

30807 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

30808 c⁄° 
tc
 *c⁄° 
cﬁ‹
,

30809 c⁄° 
CImg
<
é
>& 
light
,

30810 c⁄° 
lx0
, c⁄° 
ly0
,

30811 c⁄° 
lx1
, c⁄° 
ly1
,

30812 c⁄° 
lx2
, c⁄° 
ly2
,

30813 c⁄° 
›acôy
=1) {

30814 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	ttz
,>::
	tty≥
 
	ttzÊﬂt
;

30815 i‡(
is_em±y
(Ë|| 
	gz0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

30816 i‡(!
	gcﬁ‹
)

30817 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30819 
cimg_ö°™˚
);

30820 i‡(
	glight
.
	g_dïth
>1 ||Üight.
	g_•e˘rum
<_spectrum)

30821 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30823 
cimg_ö°™˚
,
light
.
_width
,light.
_height
,light.
_dïth
,light.
_•e˘rum
,light.
_d©a
);

30824 i‡(!
is_ßmeXY
(
zbuf„r
))

30825 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30827 
cimg_ö°™˚
,

30828 
zbuf„r
.
_width
,zbuf„r.
_height
,zbuf„r.
_dïth
,zbuf„r.
_•e˘rum
,zbuf„r.
_d©a
);

30829 i‡(
is_ovîœµed
(
light
)Ë 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,

30830 +
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

30831 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30832 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

30833 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	goffx
 = 
_•e˘rum
*
whd
;

30834 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

30835 
	g∆x0
 = 
lx0
, 
	g∆y0
 = 
ly0
, 
	g∆x1
 = 
lx1
, 
	g∆y1
 = 
ly1
, 
	g∆x2
 = 
lx2
, 
	g∆y2
 = 
ly2
;

30836 
tzÊﬂt
 
	gnz0
 = 1/—zÊﬂt)
z0
, 
	gnz1
 = 1/—zÊﬂt)
z1
, 
	gnz2
 = 1/—zÊﬂt)
z2
;

30837 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
∆x0
,
∆x1
,
∆y0
,
∆y1
,
nz0
,
nz1
);

30838 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
∆x0
,
∆x2
,
∆y0
,
∆y2
,
nz0
,
nz2
);

30839 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
∆x1
,
∆x2
,
∆y1
,
∆y2
,
nz1
,
nz2
);

30840 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30841 
tzÊﬂt


30842 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

30843 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

30844 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

30845 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

30846 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1)));

30847 
_cimg_f‹_åüngÀ3
(*
this
,
xÀ·0
,
lxÀ·0
,
lyÀ·0
,
xright0
,
lxright0
,
lyright0
,
y
,

30848 
nx0
,
ny0
,
∆x0
,
∆y0
,
nx1
,
ny1
,
∆x1
,
∆y1
,
nx2
,
ny2
,
∆x2
,
∆y2
) {

30849 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gpzl
 = 
pzn
; }

30851 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
,

30852 
	glxÀ·
 = 
lxÀ·0
, 
	glxright
 = 
lxright0
,

30853 
	glyÀ·
 = 
lyÀ·0
, 
	glyright
 = 
lyright0
;

30854 
tzÊﬂt
 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
;

30855 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
,
lxÀ·
,
lxright
,
lyÀ·
,
lyright
);

30857 
	gdx
 = 
xright
 - 
xÀ·
,

30858 
	gdlx
 = 
lxright
>
lxÀ·
?lxright -Üxleft:lxleft -Üxright,

30859 
	gdly
 = 
lyright
>
lyÀ·
?lyright -Üyleft:lyleft -Üyright,

30860 
	gæx
 = 
dx
?(
lxright
 - 
lxÀ·
)/dx:0,

30861 
	gæy
 = 
dx
?(
lyright
 - 
lyÀ·
)/dx:0,

30862 
	g¶x
 = 
lxright
>
lxÀ·
?1:-1,

30863 
	g¶y
 = 
lyright
>
lyÀ·
?1:-1,

30864 
	gndlx
 = 
dlx
 - (
dx
?dx*(dlx/dx):0),

30865 
	gndly
 = 
dly
 - (
dx
?dx*(dly/dx):0);

30866 c⁄° 
tzÊﬂt
 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
;

30867 
	gîæx
 = 
dx
>>1, 
	gîæy
 = 
îæx
;

30868 i‡(
	gxÀ·
<0 && 
	gdx
) {

30869 
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

30870 
	glxÀ·
-=
xÀ·
*(
lxright
 - 
lxÀ·
)/
dx
;

30871 
	glyÀ·
-=
xÀ·
*(
lyright
 - 
lyÀ·
)/
dx
;

30873 i‡(
	gxÀ·
<0) xleft = 0;

30874 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

30875 
T
 *
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

30876 
tz
 *
	g±rz
 = 
zbuf„r
.
d©a
(
xÀ·
,
y
);

30877 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30878 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30879 *
±rz
 = (
tz
)
zÀ·
;

30880 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30881 
cimg_f‹C
(*
this
,
c
) {

30882 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

30883 c⁄° 
tc
 
	gcvÆ
 = *(
cﬁ
++);

30884 *
	g±rd
 = (
T
)(
l
<1?l*
cvÆ
:(2-l)*cvÆ+÷-1)*
maxvÆ
);

30885 
	g±rd
+=
whd
;

30887 
	g±rd
-=
offx
;

30889 
	gzÀ·
+=
≥¡ez
;

30890 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

30891 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

30892 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

30893 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

30894 *
±rz
 = (
tz
)
zÀ·
;

30895 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

30896 
cimg_f‹C
(*
this
,
c
) {

30897 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

30898 c⁄° 
tc
 
	gcvÆ
 = *(
cﬁ
++);

30899 c⁄° 
T
 
	gvÆ
 = (T)(
l
<1?l*
cvÆ
:(2-l)*cvÆ+÷-1)*
maxvÆ
);

30900 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

30901 
	g±rd
+=
whd
;

30903 
	g±rd
-=
offx
;

30905 
	gzÀ·
+=
≥¡ez
;

30906 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

30907 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

30909 
	gzr
+=
pzr
; 
	gzl
+=
pzl
;

30911  *
	gthis
;

30934 
	gãm∂©e
<
ty≥«me
 
	gtc
>

30935 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

30936 c⁄° 
x1
, c⁄° 
y1
,

30937 c⁄° 
x2
, c⁄° 
y2
,

30938 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

30939 c⁄° 
tx0
, c⁄° 
ty0
,

30940 c⁄° 
tx1
, c⁄° 
ty1
,

30941 c⁄° 
tx2
, c⁄° 
ty2
,

30942 c⁄° 
brighäess0
,

30943 c⁄° 
brighäess1
,

30944 c⁄° 
brighäess2
,

30945 c⁄° 
›acôy
=1) {

30946 i‡(
is_em±y
()Ë *
this
;

30947 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

30948 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


30950 
cimg_ö°™˚
,

30951 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

30952 i‡(
is_ovîœµed
(
ãxtuª
))

30953  
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,+
ãxtuª
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
brighäess0
,
brighäess1
,
brighäess2
,
›acôy
);

30954 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

30955 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

30956 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
-1;

30957 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

30958 
	g¡x0
 = 
tx0
, 
	g¡y0
 = 
ty0
, 
	g¡x1
 = 
tx1
, 
	g¡y1
 = 
ty1
, 
	g¡x2
 = 
tx2
, 
	g¡y2
 = 
ty2
,

30959 
	gnc0
 = ()((
brighäess0
<0.0f?0.0f:(brightness0>2.0f?2.0f:brightness0))*256.0f),

30960 
	gnc1
 = ()((
brighäess1
<0.0f?0.0f:(brightness1>2.0f?2.0f:brightness1))*256.0f),

30961 
	gnc2
 = ()((
brighäess2
<0.0f?0.0f:(brightness2>2.0f?2.0f:brightness2))*256.0f);

30962 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
,
nc0
,
nc1
);

30963 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
,
nc0
,
nc2
);

30964 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
,
nc1
,
nc2
);

30965 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

30966 
_cimg_f‹_åüngÀ4
(*
this
,
xÀ·0
,
˛e·0
,
txÀ·0
,
tyÀ·0
,
xright0
,
¸ight0
,
txright0
,
tyright0
,
y
,

30967 
nx0
,
ny0
,
nc0
,
¡x0
,
¡y0
,
nx1
,
ny1
,
nc1
,
¡x1
,
¡y1
,
nx2
,
ny2
,
nc2
,
¡x2
,
¡y2
) {

30969 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
,

30970 
	g˛e·
 = 
˛e·0
, 
	g¸ight
 = 
¸ight0
,

30971 
	gtxÀ·
 = 
txÀ·0
, 
	gtxright
 = 
txright0
,

30972 
	gtyÀ·
 = 
tyÀ·0
, 
	gtyright
 = 
tyright0
;

30973 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
˛e·
,
¸ight
,
txÀ·
,
txright
,
tyÀ·
,
tyright
);

30975 
	gdx
 = 
xright
 - 
xÀ·
,

30976 
	gdc
 = 
¸ight
>
˛e·
?cright - cleft:cleft - cright,

30977 
	gdtx
 = 
txright
>
txÀ·
?txright -Åxleft:txleft -Åxright,

30978 
	gdty
 = 
tyright
>
tyÀ·
?tyright -Åyleft:tyleft -Åyright,

30979 
	grc
 = 
dx
?(
¸ight
 - 
˛e·
)/dx:0,

30980 
	gπx
 = 
dx
?(
txright
 - 
txÀ·
)/dx:0,

30981 
	gπy
 = 
dx
?(
tyright
 - 
tyÀ·
)/dx:0,

30982 
	gsc
 = 
¸ight
>
˛e·
?1:-1,

30983 
	g°x
 = 
txright
>
txÀ·
?1:-1,

30984 
	g°y
 = 
tyright
>
tyÀ·
?1:-1,

30985 
	gndc
 = 
dc
 - (
dx
?dx*(dc/dx):0),

30986 
	gndtx
 = 
dtx
 - (
dx
?dx*(dtx/dx):0),

30987 
	gndty
 = 
dty
 - (
dx
?dx*(dty/dx):0);

30988 
	gîrc
 = 
dx
>>1, 
	gîπx
 = 
îrc
, 
	gîπy
 =Érrc;

30989 i‡(
	gxÀ·
<0 && 
	gdx
) {

30990 
	g˛e·
-=
xÀ·
*(
¸ight
 - 
˛e·
)/
dx
;

30991 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

30992 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

30994 i‡(
	gxÀ·
<0) xleft = 0;

30995 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

30996 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

30997 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

30998 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

30999 
cimg_f‹C
(*
this
,
c
) {

31000 *
	g±rd
 = (
T
)(
˛e·
<256?˛e·**
cﬁ
/256:((512-˛e·)**cﬁ+(˛e·-256)*
maxvÆ
)/256);

31001 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31003 
	g±rd
-=
offx
;

31004 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

31005 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

31006 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

31007 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

31008 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

31009 
cimg_f‹C
(*
this
,
c
) {

31010 c⁄° 
T
 
	gvÆ
 = (T)(
˛e·
<256?˛e·**
cﬁ
/256:((512-˛e·)**cﬁ+(˛e·-256)*
maxvÆ
)/256);

31011 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

31012 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31014 
	g±rd
-=
offx
;

31015 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

31016 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

31017 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

31020  *
	gthis
;

31024 
	gãm∂©e
<
ty≥«me
 
	gtc
>

31025 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

31026 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

31027 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

31028 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

31029 c⁄° 
tx0
, c⁄° 
ty0
,

31030 c⁄° 
tx1
, c⁄° 
ty1
,

31031 c⁄° 
tx2
, c⁄° 
ty2
,

31032 c⁄° 
brighäess0
,

31033 c⁄° 
brighäess1
,

31034 c⁄° 
brighäess2
,

31035 c⁄° 
›acôy
=1) {

31036 i‡(
is_em±y
(Ë|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

31037 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

31038 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31040 
cimg_ö°™˚
,

31041 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

31042 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

31043 
brighäess0
,
brighäess1
,
brighäess2
,
›acôy
);

31044 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

31045 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

31046 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
-1;

31047 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

31048 
	gnc0
 = ()((
brighäess0
<0.0f?0.0f:(brightness0>2.0f?2.0f:brightness0))*256.0f),

31049 
	gnc1
 = ()((
brighäess1
<0.0f?0.0f:(brightness1>2.0f?2.0f:brightness1))*256.0f),

31050 
	gnc2
 = ()((
brighäess2
<0.0f?0.0f:(brightness2>2.0f?2.0f:brightness2))*256.0f);

31052 
	g¡x0
 = 
tx0
/
z0
, 
	g¡y0
 = 
ty0
/z0,

31053 
	g¡x1
 = 
tx1
/
z1
, 
	g¡y1
 = 
ty1
/z1,

31054 
	g¡x2
 = 
tx2
/
z2
, 
	g¡y2
 = 
ty2
/z2,

31055 
	gnz0
 = 1/
z0
, 
	gnz1
 = 1/
z1
, 
	gnz2
 = 1/
z2
;

31056 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
,
nz0
,
nz1
,
nc0
,
nc1
);

31057 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
,
nz0
,
nz2
,
nc0
,
nc2
);

31058 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
,
nz1
,
nz2
,
nc1
,
nc2
);

31059 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

31061 
	g±xl
 = (
¡x1
 - 
¡x0
)/(
ny1
 - 
ny0
),

31062 
	g±xr
 = (
¡x2
 - 
¡x0
)/(
ny2
 - 
ny0
),

31063 
	g±xn
 = (
¡x2
 - 
¡x1
)/(
ny2
 - 
ny1
),

31064 
	g±yl
 = (
¡y1
 - 
¡y0
)/(
ny1
 - 
ny0
),

31065 
	g±yr
 = (
¡y2
 - 
¡y0
)/(
ny2
 - 
ny0
),

31066 
	g±yn
 = (
¡y2
 - 
¡y1
)/(
ny2
 - 
ny1
),

31067 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

31068 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

31069 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

31070 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

31071 
	gtxr
 = 
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x2
 -Çtx0)/(
ny2
 -Çy0)),

31072 
	gtyr
 = 
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y2
 -Çty0)/(
ny2
 -Çy0)),

31073 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1))),

31074 
	gtxl
 = 
ny1
>=0?(
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x1
 -Çtx0)/“y1 -Çy0))):(
±xl
=
±xn
,(
	g¡x1
 - 
	gny1
*(
	g¡x2
 -Çtx1)/(
	gny2
 -Çy1))),

31075 
	gtyl
 = 
ny1
>=0?(
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y1
 -Çty0)/“y1 -Çy0))):(
±yl
=
±yn
,(
	g¡y1
 - 
	gny1
*(
	g¡y2
 -Çty1)/(
	gny2
 -Çy1)));

31076 
_cimg_f‹_åüngÀ2
(*
this
,
xÀ·0
,
˛e·0
,
xright0
,
¸ight0
,
y
,
nx0
,
ny0
,
nc0
,
nx1
,
ny1
,
nc1
,
nx2
,
ny2
,
nc2
) {

31077 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gtxl
 = 
¡x1
; 
	gtyl
 = 
¡y1
; 
	gpzl
 = 
pzn
; 
	g±xl
 = 
±xn
; 
	g±yl
 = 
±yn
; }

31079 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
,

31080 
	g˛e·
 = 
˛e·0
, 
	g¸ight
 = 
¸ight0
;

31082 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
,

31083 
	gtxÀ·
 = 
txl
, 
	gtxright
 = 
txr
,

31084 
	gtyÀ·
 = 
tyl
, 
	gtyright
 = 
tyr
;

31085 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
,
txÀ·
,
txright
,
tyÀ·
,
tyright
,
˛e·
,
¸ight
);

31087 
	gdx
 = 
xright
 - 
xÀ·
,

31088 
	gdc
 = 
¸ight
>
˛e·
?cright - cleft:cleft - cright,

31089 
	grc
 = 
dx
?(
¸ight
 - 
˛e·
)/dx:0,

31090 
	gsc
 = 
¸ight
>
˛e·
?1:-1,

31091 
	gndc
 = 
dc
 - (
dx
?dx*(dc/dx):0);

31093 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
,

31094 
	g≥¡ëx
 = (
txright
 - 
txÀ·
)/
dx
,

31095 
	g≥¡ëy
 = (
tyright
 - 
tyÀ·
)/
dx
;

31096 
	gîrc
 = 
dx
>>1;

31097 i‡(
	gxÀ·
<0 && 
	gdx
) {

31098 
	g˛e·
-=
xÀ·
*(
¸ight
 - 
˛e·
)/
dx
;

31099 
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

31100 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

31101 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

31103 i‡(
	gxÀ·
<0) xleft = 0;

31104 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

31105 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

31106 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

31107 c⁄° 
	gövz
 = 1/
zÀ·
;

31108 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

31109 
cimg_f‹C
(*
this
,
c
) {

31110 *
	g±rd
 = (
T
)(
˛e·
<256?˛e·**
cﬁ
/256:((512-˛e·)**cﬁ+(˛e·-256)*
maxvÆ
)/256);

31111 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31113 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

31114 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

31115 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

31116 c⁄° 
	gövz
 = 1/
zÀ·
;

31117 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

31118 
cimg_f‹C
(*
this
,
c
) {

31119 c⁄° 
T
 
	gvÆ
 = (T)(
˛e·
<256?˛e·**
cﬁ
/256:((512-˛e·)**cﬁ+(˛e·-256)*
maxvÆ
)/256);

31120 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

31121 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31123 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

31124 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

31126 
	gzr
+=
pzr
; 
	gtxr
+=
±xr
; 
	gtyr
+=
±yr
; 
	gzl
+=
pzl
; 
	gtxl
+=
±xl
; 
	gtyl
+=
±yl
;

31128  *
	gthis
;

31132 
	gãm∂©e
<
ty≥«me
 
	gtz
,Åy≥«mê
	gtc
>

31133 
	gCImg
<
	gT
>& 
døw_åüngÀ
(
CImg
<
tz
>& 
zbuf„r
,

31134 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

31135 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

31136 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

31137 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

31138 c⁄° 
tx0
, c⁄° 
ty0
,

31139 c⁄° 
tx1
, c⁄° 
ty1
,

31140 c⁄° 
tx2
, c⁄° 
ty2
,

31141 c⁄° 
brighäess0
,

31142 c⁄° 
brighäess1
,

31143 c⁄° 
brighäess2
,

31144 c⁄° 
›acôy
=1) {

31145 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	ttz
,>::
	tty≥
 
	ttzÊﬂt
;

31146 i‡(
is_em±y
(Ë|| 
	gz0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

31147 i‡(!
is_ßmeXY
(
zbuf„r
))

31148 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31150 
cimg_ö°™˚
,

31151 
zbuf„r
.
_width
,zbuf„r.
_height
,zbuf„r.
_dïth
,zbuf„r.
_•e˘rum
,zbuf„r.
_d©a
);

31152 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

31153 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31155 
cimg_ö°™˚
,

31156 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

31157 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,

31158 
brighäess0
,
brighäess1
,
brighäess2
,
›acôy
);

31159 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

31160 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

31161 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
;

31162 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

31163 
	gnc0
 = ()((
brighäess0
<0.0f?0.0f:(brightness0>2.0f?2.0f:brightness0))*256.0f),

31164 
	gnc1
 = ()((
brighäess1
<0.0f?0.0f:(brightness1>2.0f?2.0f:brightness1))*256.0f),

31165 
	gnc2
 = ()((
brighäess2
<0.0f?0.0f:(brightness2>2.0f?2.0f:brightness2))*256.0f);

31167 
	g¡x0
 = 
tx0
/
z0
, 
	g¡y0
 = 
ty0
/z0,

31168 
	g¡x1
 = 
tx1
/
z1
, 
	g¡y1
 = 
ty1
/z1,

31169 
	g¡x2
 = 
tx2
/
z2
, 
	g¡y2
 = 
ty2
/z2;

31170 
tzÊﬂt
 
	gnz0
 = 1/—zÊﬂt)
z0
, 
	gnz1
 = 1/—zÊﬂt)
z1
, 
	gnz2
 = 1/—zÊﬂt)
z2
;

31171 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
,
nz0
,
nz1
,
nc0
,
nc1
);

31172 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
,
nz0
,
nz2
,
nc0
,
nc2
);

31173 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
,
nz1
,
nz2
,
nc1
,
nc2
);

31174 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

31176 
	g±xl
 = (
¡x1
 - 
¡x0
)/(
ny1
 - 
ny0
),

31177 
	g±xr
 = (
¡x2
 - 
¡x0
)/(
ny2
 - 
ny0
),

31178 
	g±xn
 = (
¡x2
 - 
¡x1
)/(
ny2
 - 
ny1
),

31179 
	g±yl
 = (
¡y1
 - 
¡y0
)/(
ny1
 - 
ny0
),

31180 
	g±yr
 = (
¡y2
 - 
¡y0
)/(
ny2
 - 
ny0
),

31181 
	g±yn
 = (
¡y2
 - 
¡y1
)/(
ny2
 - 
ny1
),

31182 
	gtxr
 = 
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x2
 -Çtx0)/(
ny2
 -Çy0)),

31183 
	gtyr
 = 
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y2
 -Çty0)/(
ny2
 -Çy0)),

31184 
	gtxl
 = 
ny1
>=0?(
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x1
 -Çtx0)/“y1 -Çy0))):(
±xl
=
±xn
,(
	g¡x1
 - 
	gny1
*(
	g¡x2
 -Çtx1)/(
	gny2
 -Çy1))),

31185 
	gtyl
 = 
ny1
>=0?(
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y1
 -Çty0)/“y1 -Çy0))):(
±yl
=
±yn
,(
	g¡y1
 - 
	gny1
*(
	g¡y2
 -Çty1)/(
	gny2
 -Çy1)));

31186 
tzÊﬂt


31187 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

31188 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

31189 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

31190 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

31191 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1)));

31192 
_cimg_f‹_åüngÀ2
(*
this
,
xÀ·0
,
˛e·0
,
xright0
,
¸ight0
,
y
,
nx0
,
ny0
,
nc0
,
nx1
,
ny1
,
nc1
,
nx2
,
ny2
,
nc2
) {

31193 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gtxl
 = 
¡x1
; 
	gtyl
 = 
¡y1
; 
	gpzl
 = 
pzn
; 
	g±xl
 = 
±xn
; 
	g±yl
 = 
±yn
; }

31194 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
, 
	g˛e·
 = 
˛e·0
, 
	g¸ight
 = 
¸ight0
;

31195 
	gtxÀ·
 = 
txl
, 
	gtxright
 = 
txr
, 
	gtyÀ·
 = 
tyl
, 
	gtyright
 = 
tyr
;

31196 
tzÊﬂt
 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
;

31197 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
,
txÀ·
,
txright
,
tyÀ·
,
tyright
,
˛e·
,
¸ight
);

31199 
	gdx
 = 
xright
 - 
xÀ·
,

31200 
	gdc
 = 
¸ight
>
˛e·
?cright - cleft:cleft - cright,

31201 
	grc
 = 
dx
?(
¸ight
 - 
˛e·
)/dx:0,

31202 
	gsc
 = 
¸ight
>
˛e·
?1:-1,

31203 
	gndc
 = 
dc
 - (
dx
?dx*(dc/dx):0);

31204 
	g≥¡ëx
 = (
txright
 - 
txÀ·
)/
dx
, 
	g≥¡ëy
 = (
tyright
 - 
tyÀ·
)/dx;

31205 c⁄° 
tzÊﬂt
 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
;

31206 
	gîrc
 = 
dx
>>1;

31207 i‡(
	gxÀ·
<0 && 
	gdx
) {

31208 
	g˛e·
-=
xÀ·
*(
¸ight
 - 
˛e·
)/
dx
;

31209 
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

31210 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

31211 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

31213 i‡(
	gxÀ·
<0) xleft = 0;

31214 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

31215 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
);

31216 
tz
 *
	g±rz
 = 
zbuf„r
.
d©a
(
xÀ·
,
y
);

31217 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x, ++
	g±rd
, ++
	g±rz
) {

31218 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

31219 *
±rz
 = (
tz
)
zÀ·
;

31220 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

31221 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

31222 
cimg_f‹C
(*
this
,
c
) {

31223 *
	g±rd
 = (
T
)(
˛e·
<256?˛e·**
cﬁ
/256:((512-˛e·)**cﬁ+(˛e·-256)*
maxvÆ
)/256);

31224 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31226 
	g±rd
-=
offx
;

31228 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

31229 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

31230 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rd
, ++
	g±rz
) {

31231 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

31232 *
±rz
 = (
tz
)
zÀ·
;

31233 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

31234 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

31235 
cimg_f‹C
(*
this
,
c
) {

31236 c⁄° 
T
 
	gvÆ
 = (T)(
˛e·
<256?˛e·**
cﬁ
/256:((512-˛e·)**cﬁ+(˛e·-256)*
maxvÆ
)/256);

31237 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

31238 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31240 
	g±rd
-=
offx
;

31242 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

31243 
	g˛e·
+=
rc
+((
îrc
-=
ndc
)<0?îrc+=
dx
,
	gsc
:0);

31245 
	gzr
+=
pzr
; 
	gtxr
+=
±xr
; 
	gtyr
+=
±yr
; 
	gzl
+=
pzl
; 
	gtxl
+=
±xl
; 
	gtyl
+=
±yl
;

31247  *
	gthis
;

31274 
	gãm∂©e
<
ty≥«me
 
	gtc
,Åy≥«mê
	gé
>

31275 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
,

31276 c⁄° 
x1
, c⁄° 
y1
,

31277 c⁄° 
x2
, c⁄° 
y2
,

31278 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

31279 c⁄° 
tx0
, c⁄° 
ty0
,

31280 c⁄° 
tx1
, c⁄° 
ty1
,

31281 c⁄° 
tx2
, c⁄° 
ty2
,

31282 c⁄° 
CImg
<
é
>& 
light
,

31283 c⁄° 
lx0
, c⁄° 
ly0
,

31284 c⁄° 
lx1
, c⁄° 
ly1
,

31285 c⁄° 
lx2
, c⁄° 
ly2
,

31286 c⁄° 
›acôy
=1) {

31287 i‡(
is_em±y
()Ë *
this
;

31288 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

31289 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31291 
cimg_ö°™˚
,

31292 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

31293 i‡(
	glight
.
	g_dïth
>1 ||Üight.
	g_•e˘rum
<_spectrum)

31294 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31296 
cimg_ö°™˚
,
light
.
_width
,light.
_height
,light.
_dïth
,light.
_•e˘rum
,light.
_d©a
);

31297 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

31298 i‡(
is_ovîœµed
(
light
)Ë 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
ãxtuª
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,+light,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

31299 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

31300 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

31301 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
-1;

31302 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

31303 
	g¡x0
 = 
tx0
, 
	g¡y0
 = 
ty0
, 
	g¡x1
 = 
tx1
, 
	g¡y1
 = 
ty1
, 
	g¡x2
 = 
tx2
, 
	g¡y2
 = 
ty2
,

31304 
	g∆x0
 = 
lx0
, 
	g∆y0
 = 
ly0
, 
	g∆x1
 = 
lx1
, 
	g∆y1
 = 
ly1
, 
	g∆x2
 = 
lx2
, 
	g∆y2
 = 
ly2
;

31305 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
,
∆x0
,
∆x1
,
∆y0
,
∆y1
);

31306 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
,
∆x0
,
∆x2
,
∆y0
,
∆y2
);

31307 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
,
∆x1
,
∆x2
,
∆y1
,
∆y2
);

31308 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

31309 
_cimg_f‹_åüngÀ5
(*
this
,
xÀ·0
,
lxÀ·0
,
lyÀ·0
,
txÀ·0
,
tyÀ·0
,
xright0
,
lxright0
,
lyright0
,
txright0
,
tyright0
,
y
,

31310 
nx0
,
ny0
,
∆x0
,
∆y0
,
¡x0
,
¡y0
,
nx1
,
ny1
,
∆x1
,
∆y1
,
¡x1
,
¡y1
,
nx2
,
ny2
,
∆x2
,
∆y2
,
¡x2
,
¡y2
) {

31312 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
,

31313 
	glxÀ·
 = 
lxÀ·0
, 
	glxright
 = 
lxright0
,

31314 
	glyÀ·
 = 
lyÀ·0
, 
	glyright
 = 
lyright0
,

31315 
	gtxÀ·
 = 
txÀ·0
, 
	gtxright
 = 
txright0
,

31316 
	gtyÀ·
 = 
tyÀ·0
, 
	gtyright
 = 
tyright0
;

31317 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
lxÀ·
,
lxright
,
lyÀ·
,
lyright
,
txÀ·
,
txright
,
tyÀ·
,
tyright
);

31319 
	gdx
 = 
xright
 - 
xÀ·
,

31320 
	gdlx
 = 
lxright
>
lxÀ·
?lxright -Üxleft:lxleft -Üxright,

31321 
	gdly
 = 
lyright
>
lyÀ·
?lyright -Üyleft:lyleft -Üyright,

31322 
	gdtx
 = 
txright
>
txÀ·
?txright -Åxleft:txleft -Åxright,

31323 
	gdty
 = 
tyright
>
tyÀ·
?tyright -Åyleft:tyleft -Åyright,

31324 
	gæx
 = 
dx
?(
lxright
 - 
lxÀ·
)/dx:0,

31325 
	gæy
 = 
dx
?(
lyright
 - 
lyÀ·
)/dx:0,

31326 
	gπx
 = 
dx
?(
txright
 - 
txÀ·
)/dx:0,

31327 
	gπy
 = 
dx
?(
tyright
 - 
tyÀ·
)/dx:0,

31328 
	g¶x
 = 
lxright
>
lxÀ·
?1:-1,

31329 
	g¶y
 = 
lyright
>
lyÀ·
?1:-1,

31330 
	g°x
 = 
txright
>
txÀ·
?1:-1,

31331 
	g°y
 = 
tyright
>
tyÀ·
?1:-1,

31332 
	gndlx
 = 
dlx
 - (
dx
?dx*(dlx/dx):0),

31333 
	gndly
 = 
dly
 - (
dx
?dx*(dly/dx):0),

31334 
	gndtx
 = 
dtx
 - (
dx
?dx*(dtx/dx):0),

31335 
	gndty
 = 
dty
 - (
dx
?dx*(dty/dx):0);

31336 
	gîæx
 = 
dx
>>1, 
	gîæy
 = 
îæx
, 
	gîπx
 =Éºlx, 
	gîπy
 =Érrlx;

31337 i‡(
	gxÀ·
<0 && 
	gdx
) {

31338 
	glxÀ·
-=
xÀ·
*(
lxright
 - 
lxÀ·
)/
dx
;

31339 
	glyÀ·
-=
xÀ·
*(
lyright
 - 
lyÀ·
)/
dx
;

31340 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

31341 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

31343 i‡(
	gxÀ·
<0) xleft = 0;

31344 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

31345 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

31346 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

31347 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

31348 
cimg_f‹C
(*
this
,
c
) {

31349 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

31350 *
	g±rd
 = (
T
)(
l
<1?l**
cﬁ
:(2-l)**cﬁ+÷-1)*
maxvÆ
);

31351 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31353 
	g±rd
-=
offx
;

31354 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

31355 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

31356 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

31357 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

31358 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

31359 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(
txÀ·
,
tyÀ·
);

31360 
cimg_f‹C
(*
this
,
c
) {

31361 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

31362 c⁄° 
T
 
	gvÆ
 = (T)(
l
<1?l**
cﬁ
:(2-l)**cﬁ+÷-1)*
maxvÆ
);

31363 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

31364 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31366 
	g±rd
-=
offx
;

31367 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

31368 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

31369 
	gtxÀ·
+=
πx
+((
îπx
-=
ndtx
)<0?îπx+=
dx
,
	g°x
:0);

31370 
	gtyÀ·
+=
πy
+((
îπy
-=
ndty
)<0?îπy+=
dx
,
	g°y
:0);

31373  *
	gthis
;

31377 
	gãm∂©e
<
ty≥«me
 
	gtc
,Åy≥«mê
	gé
>

31378 
	gCImg
<
	gT
>& 
døw_åüngÀ
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

31379 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

31380 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

31381 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

31382 c⁄° 
tx0
, c⁄° 
ty0
,

31383 c⁄° 
tx1
, c⁄° 
ty1
,

31384 c⁄° 
tx2
, c⁄° 
ty2
,

31385 c⁄° 
CImg
<
é
>& 
light
,

31386 c⁄° 
lx0
, c⁄° 
ly0
,

31387 c⁄° 
lx1
, c⁄° 
ly1
,

31388 c⁄° 
lx2
, c⁄° 
ly2
,

31389 c⁄° 
›acôy
=1) {

31390 i‡(
is_em±y
(Ë|| 
z0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

31391 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

31392 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31394 
cimg_ö°™˚
,

31395 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

31396 i‡(
	glight
.
	g_dïth
>1 ||Üight.
	g_•e˘rum
<_spectrum)

31397 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31399 
cimg_ö°™˚
,
light
.
_width
,light.
_height
,light.
_dïth
,light.
_•e˘rum
,light.
_d©a
);

31400 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,+ãxtuª,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

31401 i‡(
is_ovîœµed
(
light
)Ë 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
ãxtuª
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,+light,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

31402 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

31403 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

31404 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
-1;

31405 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

31406 
	g∆x0
 = 
lx0
, 
	g∆y0
 = 
ly0
, 
	g∆x1
 = 
lx1
, 
	g∆y1
 = 
ly1
, 
	g∆x2
 = 
lx2
, 
	g∆y2
 = 
ly2
;

31408 
	g¡x0
 = 
tx0
/
z0
, 
	g¡y0
 = 
ty0
/z0,

31409 
	g¡x1
 = 
tx1
/
z1
, 
	g¡y1
 = 
ty1
/z1,

31410 
	g¡x2
 = 
tx2
/
z2
, 
	g¡y2
 = 
ty2
/z2,

31411 
	gnz0
 = 1/
z0
, 
	gnz1
 = 1/
z1
, 
	gnz2
 = 1/
z2
;

31412 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
,
∆x0
,
∆x1
,
∆y0
,
∆y1
,
nz0
,
nz1
);

31413 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
,
∆x0
,
∆x2
,
∆y0
,
∆y2
,
nz0
,
nz2
);

31414 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
,
∆x1
,
∆x2
,
∆y1
,
∆y2
,
nz1
,
nz2
);

31415 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

31417 
	g±xl
 = (
¡x1
 - 
¡x0
)/(
ny1
 - 
ny0
),

31418 
	g±xr
 = (
¡x2
 - 
¡x0
)/(
ny2
 - 
ny0
),

31419 
	g±xn
 = (
¡x2
 - 
¡x1
)/(
ny2
 - 
ny1
),

31420 
	g±yl
 = (
¡y1
 - 
¡y0
)/(
ny1
 - 
ny0
),

31421 
	g±yr
 = (
¡y2
 - 
¡y0
)/(
ny2
 - 
ny0
),

31422 
	g±yn
 = (
¡y2
 - 
¡y1
)/(
ny2
 - 
ny1
),

31423 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

31424 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

31425 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

31426 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

31427 
	gtxr
 = 
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x2
 -Çtx0)/(
ny2
 -Çy0)),

31428 
	gtyr
 = 
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y2
 -Çty0)/(
ny2
 -Çy0)),

31429 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1))),

31430 
	gtxl
 = 
ny1
>=0?(
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x1
 -Çtx0)/“y1 -Çy0))):(
±xl
=
±xn
,(
	g¡x1
 - 
	gny1
*(
	g¡x2
 -Çtx1)/(
	gny2
 -Çy1))),

31431 
	gtyl
 = 
ny1
>=0?(
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y1
 -Çty0)/“y1 -Çy0))):(
±yl
=
±yn
,(
	g¡y1
 - 
	gny1
*(
	g¡y2
 -Çty1)/(
	gny2
 -Çy1)));

31432 
_cimg_f‹_åüngÀ3
(*
this
,
xÀ·0
,
lxÀ·0
,
lyÀ·0
,
xright0
,
lxright0
,
lyright0
,
y
,

31433 
nx0
,
ny0
,
∆x0
,
∆y0
,
nx1
,
ny1
,
∆x1
,
∆y1
,
nx2
,
ny2
,
∆x2
,
∆y2
) {

31434 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gtxl
 = 
¡x1
; 
	gtyl
 = 
¡y1
; 
	gpzl
 = 
pzn
; 
	g±xl
 = 
±xn
; 
	g±yl
 = 
±yn
; }

31436 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
,

31437 
	glxÀ·
 = 
lxÀ·0
, 
	glxright
 = 
lxright0
,

31438 
	glyÀ·
 = 
lyÀ·0
, 
	glyright
 = 
lyright0
;

31440 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
,

31441 
	gtxÀ·
 = 
txl
, 
	gtxright
 = 
txr
,

31442 
	gtyÀ·
 = 
tyl
, 
	gtyright
 = 
tyr
;

31443 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
,
txÀ·
,
txright
,
tyÀ·
,
tyright
,
lxÀ·
,
lxright
,
lyÀ·
,
lyright
);

31445 
	gdx
 = 
xright
 - 
xÀ·
,

31446 
	gdlx
 = 
lxright
>
lxÀ·
?lxright -Üxleft:lxleft -Üxright,

31447 
	gdly
 = 
lyright
>
lyÀ·
?lyright -Üyleft:lyleft -Üyright,

31448 
	gæx
 = 
dx
?(
lxright
 - 
lxÀ·
)/dx:0,

31449 
	gæy
 = 
dx
?(
lyright
 - 
lyÀ·
)/dx:0,

31450 
	g¶x
 = 
lxright
>
lxÀ·
?1:-1,

31451 
	g¶y
 = 
lyright
>
lyÀ·
?1:-1,

31452 
	gndlx
 = 
dlx
 - (
dx
?dx*(dlx/dx):0),

31453 
	gndly
 = 
dly
 - (
dx
?dx*(dly/dx):0);

31455 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
,

31456 
	g≥¡ëx
 = (
txright
 - 
txÀ·
)/
dx
,

31457 
	g≥¡ëy
 = (
tyright
 - 
tyÀ·
)/
dx
;

31458 
	gîæx
 = 
dx
>>1, 
	gîæy
 = 
îæx
;

31459 i‡(
	gxÀ·
<0 && 
	gdx
) {

31460 
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

31461 
	glxÀ·
-=
xÀ·
*(
lxright
 - 
lxÀ·
)/
dx
;

31462 
	glyÀ·
-=
xÀ·
*(
lyright
 - 
lyÀ·
)/
dx
;

31463 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

31464 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

31466 i‡(
	gxÀ·
<0) xleft = 0;

31467 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

31468 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
,0,0);

31469 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x) {

31470 c⁄° 
	gövz
 = 1/
zÀ·
;

31471 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

31472 
cimg_f‹C
(*
this
,
c
) {

31473 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

31474 *
	g±rd
 = (
T
)(
l
<1?l**
cﬁ
:(2-l)**cﬁ+÷-1)*
maxvÆ
);

31475 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31477 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

31478 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

31479 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

31480 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x) {

31481 c⁄° 
	gövz
 = 1/
zÀ·
;

31482 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

31483 
cimg_f‹C
(*
this
,
c
) {

31484 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

31485 c⁄° 
T
 
	gvÆ
 = (T)(
l
<1?l**
cﬁ
:(2-l)**cﬁ+÷-1)*
maxvÆ
);

31486 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

31487 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31489 
	g±rd
-=
offx
; 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

31490 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

31491 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

31493 
	gzr
+=
pzr
; 
	gtxr
+=
±xr
; 
	gtyr
+=
±yr
; 
	gzl
+=
pzl
; 
	gtxl
+=
±xl
; 
	gtyl
+=
±yl
;

31495  *
	gthis
;

31499 
	gãm∂©e
<
ty≥«me
 
	gtz
,Åy≥«mê
	gtc
,Åy≥«mê
	gé
>

31500 
	gCImg
<
	gT
>& 
døw_åüngÀ
(
CImg
<
tz
>& 
zbuf„r
,

31501 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

31502 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

31503 c⁄° 
x2
, c⁄° 
y2
, c⁄° 
z2
,

31504 c⁄° 
CImg
<
tc
>& 
ãxtuª
,

31505 c⁄° 
tx0
, c⁄° 
ty0
,

31506 c⁄° 
tx1
, c⁄° 
ty1
,

31507 c⁄° 
tx2
, c⁄° 
ty2
,

31508 c⁄° 
CImg
<
é
>& 
light
,

31509 c⁄° 
lx0
, c⁄° 
ly0
,

31510 c⁄° 
lx1
, c⁄° 
ly1
,

31511 c⁄° 
lx2
, c⁄° 
ly2
,

31512 c⁄° 
›acôy
=1) {

31513 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	ttz
,>::
	tty≥
 
	ttzÊﬂt
;

31514 i‡(
is_em±y
(Ë|| 
	gz0
<=0 || 
z1
<=0 || 
z2
<=0Ë *
this
;

31515 i‡(!
is_ßmeXY
(
zbuf„r
))

31516 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31518 
cimg_ö°™˚
,

31519 
zbuf„r
.
_width
,zbuf„r.
_height
,zbuf„r.
_dïth
,zbuf„r.
_•e˘rum
,zbuf„r.
_d©a
);

31520 i‡(
	gãxtuª
.
	g_dïth
>1 ||Åextuª.
	g_•e˘rum
<_spectrum)

31521 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31523 
cimg_ö°™˚
,

31524 
ãxtuª
.
_width
,ãxtuª.
_height
,ãxtuª.
_dïth
,ãxtuª.
_•e˘rum
,ãxtuª.
_d©a
);

31525 i‡(
	glight
.
	g_dïth
>1 ||Üight.
	g_•e˘rum
<_spectrum)

31526 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31528 
cimg_ö°™˚
,
light
.
_width
,light.
_height
,light.
_dïth
,light.
_•e˘rum
,light.
_d©a
);

31529 i‡(
is_ovîœµed
(
ãxtuª
)Ë 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,

31530 +
ãxtuª
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

31531 i‡(
is_ovîœµed
(
light
)Ë 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,

31532 
ãxtuª
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,+
light
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

31533 c⁄° 
T
 
	gmaxvÆ
 = (T)
cimg
::
mö
(cimg::
ty≥
<T>::
max
(),cimg::ty≥<
tc
>::max());

31534 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

31535 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gtwhd
 = ()
ãxtuª
._width*ãxtuª._height*ãxtuª._dïth, 
	goffx
 = 
_•e˘rum
*
whd
;

31536 
	gnx0
 = 
x0
, 
	gny0
 = 
y0
, 
	gnx1
 = 
x1
, 
	gny1
 = 
y1
, 
	gnx2
 = 
x2
, 
	gny2
 = 
y2
,

31537 
	g∆x0
 = 
lx0
, 
	g∆y0
 = 
ly0
, 
	g∆x1
 = 
lx1
, 
	g∆y1
 = 
ly1
, 
	g∆x2
 = 
lx2
, 
	g∆y2
 = 
ly2
;

31539 
	g¡x0
 = 
tx0
/
z0
, 
	g¡y0
 = 
ty0
/z0,

31540 
	g¡x1
 = 
tx1
/
z1
, 
	g¡y1
 = 
ty1
/z1,

31541 
	g¡x2
 = 
tx2
/
z2
, 
	g¡y2
 = 
ty2
/z2;

31542 
tzÊﬂt
 
	gnz0
 = 1/—zÊﬂt)
z0
, 
	gnz1
 = 1/—zÊﬂt)
z1
, 
	gnz2
 = 1/—zÊﬂt)
z2
;

31543 i‡(
	gny0
>
	gny1
Ë
	gcimg
::
sw≠
(
nx0
,
nx1
,
ny0
,
ny1
,
¡x0
,
¡x1
,
¡y0
,
¡y1
,
∆x0
,
∆x1
,
∆y0
,
∆y1
,
nz0
,
nz1
);

31544 i‡(
	gny0
>
	gny2
Ë
	gcimg
::
sw≠
(
nx0
,
nx2
,
ny0
,
ny2
,
¡x0
,
¡x2
,
¡y0
,
¡y2
,
∆x0
,
∆x2
,
∆y0
,
∆y2
,
nz0
,
nz2
);

31545 i‡(
	gny1
>
	gny2
Ë
	gcimg
::
sw≠
(
nx1
,
nx2
,
ny1
,
ny2
,
¡x1
,
¡x2
,
¡y1
,
¡y2
,
∆x1
,
∆x2
,
∆y1
,
∆y2
,
nz1
,
nz2
);

31546 i‡(
	gny0
>=
height
(Ë|| 
ny2
<0Ë *
this
;

31548 
	g±xl
 = (
¡x1
 - 
¡x0
)/(
ny1
 - 
ny0
),

31549 
	g±xr
 = (
¡x2
 - 
¡x0
)/(
ny2
 - 
ny0
),

31550 
	g±xn
 = (
¡x2
 - 
¡x1
)/(
ny2
 - 
ny1
),

31551 
	g±yl
 = (
¡y1
 - 
¡y0
)/(
ny1
 - 
ny0
),

31552 
	g±yr
 = (
¡y2
 - 
¡y0
)/(
ny2
 - 
ny0
),

31553 
	g±yn
 = (
¡y2
 - 
¡y1
)/(
ny2
 - 
ny1
),

31554 
	gtxr
 = 
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x2
 -Çtx0)/(
ny2
 -Çy0)),

31555 
	gtyr
 = 
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y2
 -Çty0)/(
ny2
 -Çy0)),

31556 
	gtxl
 = 
ny1
>=0?(
ny0
>=0?
¡x0
:“tx0 -Çy0*(
¡x1
 -Çtx0)/“y1 -Çy0))):(
±xl
=
±xn
,(
	g¡x1
 - 
	gny1
*(
	g¡x2
 -Çtx1)/(
	gny2
 -Çy1))),

31557 
	gtyl
 = 
ny1
>=0?(
ny0
>=0?
¡y0
:“ty0 -Çy0*(
¡y1
 -Çty0)/“y1 -Çy0))):(
±yl
=
±yn
,(
	g¡y1
 - 
	gny1
*(
	g¡y2
 -Çty1)/(
	gny2
 -Çy1)));

31558 
tzÊﬂt


31559 
	gpzl
 = (
nz1
 - 
nz0
)/(
ny1
 - 
ny0
),

31560 
	gpzr
 = (
nz2
 - 
nz0
)/(
ny2
 - 
ny0
),

31561 
	gpzn
 = (
nz2
 - 
nz1
)/(
ny2
 - 
ny1
),

31562 
	gzr
 = 
ny0
>=0?
nz0
:“z0 -Çy0*(
nz2
 -Çz0)/(
ny2
 -Çy0)),

31563 
	gzl
 = 
ny1
>=0?(
ny0
>=0?
nz0
:“z0 -Çy0*(
nz1
 -Çz0)/“y1 -Çy0))):(
pzl
=
pzn
,(
	gnz1
 - 
	gny1
*(
	gnz2
 -Çz1)/(
	gny2
 -Çy1)));

31564 
_cimg_f‹_åüngÀ3
(*
this
,
xÀ·0
,
lxÀ·0
,
lyÀ·0
,
xright0
,
lxright0
,
lyright0
,
y
,

31565 
nx0
,
ny0
,
∆x0
,
∆y0
,
nx1
,
ny1
,
∆x1
,
∆y1
,
nx2
,
ny2
,
∆x2
,
∆y2
) {

31566 i‡(
	gy
==
ny1
Ë{ 
zl
 = 
nz1
; 
	gtxl
 = 
¡x1
; 
	gtyl
 = 
¡y1
; 
	gpzl
 = 
pzn
; 
	g±xl
 = 
±xn
; 
	g±yl
 = 
±yn
; }

31568 
	gxÀ·
 = 
xÀ·0
, 
	gxright
 = 
xright0
,

31569 
	glxÀ·
 = 
lxÀ·0
, 
	glxright
 = 
lxright0
,

31570 
	glyÀ·
 = 
lyÀ·0
, 
	glyright
 = 
lyright0
;

31571 
	gtxÀ·
 = 
txl
, 
	gtxright
 = 
txr
, 
	gtyÀ·
 = 
tyl
, 
	gtyright
 = 
tyr
;

31572 
tzÊﬂt
 
	gzÀ·
 = 
zl
, 
	gzright
 = 
zr
;

31573 i‡(
	gxright
<
	gxÀ·
Ë
	gcimg
::
sw≠
(
xÀ·
,
xright
,
zÀ·
,
zright
,
txÀ·
,
txright
,
tyÀ·
,
tyright
,
lxÀ·
,
lxright
,
lyÀ·
,
lyright
);

31575 
	gdx
 = 
xright
 - 
xÀ·
,

31576 
	gdlx
 = 
lxright
>
lxÀ·
?lxright -Üxleft:lxleft -Üxright,

31577 
	gdly
 = 
lyright
>
lyÀ·
?lyright -Üyleft:lyleft -Üyright,

31578 
	gæx
 = 
dx
?(
lxright
 - 
lxÀ·
)/dx:0,

31579 
	gæy
 = 
dx
?(
lyright
 - 
lyÀ·
)/dx:0,

31580 
	g¶x
 = 
lxright
>
lxÀ·
?1:-1,

31581 
	g¶y
 = 
lyright
>
lyÀ·
?1:-1,

31582 
	gndlx
 = 
dlx
 - (
dx
?dx*(dlx/dx):0),

31583 
	gndly
 = 
dly
 - (
dx
?dx*(dly/dx):0);

31584 
	g≥¡ëx
 = (
txright
 - 
txÀ·
)/
dx
, 
	g≥¡ëy
 = (
tyright
 - 
tyÀ·
)/dx;

31585 c⁄° 
tzÊﬂt
 
	g≥¡ez
 = (
zright
 - 
zÀ·
)/
dx
;

31586 
	gîæx
 = 
dx
>>1, 
	gîæy
 = 
îæx
;

31587 i‡(
	gxÀ·
<0 && 
	gdx
) {

31588 
	gzÀ·
-=
xÀ·
*(
zright
 - 
zÀ·
)/
dx
;

31589 
	glxÀ·
-=
xÀ·
*(
lxright
 - 
lxÀ·
)/
dx
;

31590 
	glyÀ·
-=
xÀ·
*(
lyright
 - 
lyÀ·
)/
dx
;

31591 
	gtxÀ·
-=
xÀ·
*(
txright
 - 
txÀ·
)/
dx
;

31592 
	gtyÀ·
-=
xÀ·
*(
tyright
 - 
tyÀ·
)/
dx
;

31594 i‡(
	gxÀ·
<0) xleft = 0;

31595 i‡(
	gxright
>=
width
()-1Ë
xright
 = width()-1;

31596 
T
* 
	g±rd
 = 
d©a
(
xÀ·
,
y
);

31597 
tz
 *
	g±rz
 = 
zbuf„r
.
d©a
(
xÀ·
,
y
);

31598 i‡(
	g›acôy
>=1Ë
x
 = 
xÀ·
; 
	gx
<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

31599 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

31600 *
±rz
 = (
tz
)
zÀ·
;

31601 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

31602 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

31603 
cimg_f‹C
(*
this
,
c
) {

31604 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

31605 *
	g±rd
 = (
T
)(
l
<1?l**
cﬁ
:(2-l)**cﬁ+÷-1)*
maxvÆ
);

31606 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31608 
	g±rd
-=
offx
;

31610 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

31611 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

31612 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

31613 } 
	gx
 = 
xÀ·
; x<=
xright
; ++x, ++
	g±rz
, ++
	g±rd
) {

31614 i‡(
	gzÀ·
>=(
tzÊﬂt
)*
±rz
) {

31615 *
±rz
 = (
tz
)
zÀ·
;

31616 c⁄° 
tzÊﬂt
 
	gövz
 = 1/
zÀ·
;

31617 c⁄° 
tc
 *
	gcﬁ
 = 
ãxtuª
.
d©a
(()(
txÀ·
*
övz
),()(
tyÀ·
*invz));

31618 
cimg_f‹C
(*
this
,
c
) {

31619 c⁄° 
é
 
	gl
 = 
light
(
lxÀ·
,
lyÀ·
,
c
);

31620 c⁄° 
T
 
	gvÆ
 = (T)(
l
<1?l**
cﬁ
:(2-l)**cﬁ+÷-1)*
maxvÆ
);

31621 *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
);

31622 
	g±rd
+=
whd
; 
	gcﬁ
+=
twhd
;

31624 
	g±rd
-=
offx
;

31626 
	gzÀ·
+=
≥¡ez
; 
	gtxÀ·
+=
≥¡ëx
; 
	gtyÀ·
+=
≥¡ëy
;

31627 
	glxÀ·
+=
æx
+((
îæx
-=
ndlx
)<0?îæx+=
dx
,
	g¶x
:0);

31628 
	glyÀ·
+=
æy
+((
îæy
-=
ndly
)<0?îæy+=
dx
,
	g¶y
:0);

31630 
	gzr
+=
pzr
; 
	gtxr
+=
±xr
; 
	gtyr
+=
±yr
; 
	gzl
+=
pzl
; 
	gtxl
+=
±xl
; 
	gtyl
+=
±yl
;

31632  *
	gthis
;

31648 
	gCImg
<
	gT
>& 
døw_ª˘™gÀ
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

31649 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
,

31650 c⁄° 
T
 
vÆ
, c⁄° 
›acôy
=1) {

31651 i‡(
is_em±y
()Ë *
this
;

31652 c⁄° 
boﬁ
 
	gbx
 = (
x0
<
x1
), 
	gby
 = (
y0
<
y1
), 
	gbz
 = (
z0
<
z1
), 
	gbc
 = (
c0
<
c1
);

31654 
	gnx0
 = 
bx
?
x0
:
x1
, 
	gnx1
 = bx?x1:x0,

31655 
	gny0
 = 
by
?
y0
:
y1
, 
	gny1
 = by?y1:y0,

31656 
	gnz0
 = 
bz
?
z0
:
z1
, 
	gnz1
 = bz?z1:z0,

31657 
	gnc0
 = 
bc
?
c0
:
c1
, 
	gnc1
 = bc?c1:c0;

31659 
	glX
 = (1 + 
nx1
 - 
nx0
Ë+ (nx1>=
width
()?width() - 1 -Çx1:0) + (nx0<0?nx0:0),

31660 
	glY
 = (1 + 
ny1
 - 
ny0
Ë+ (ny1>=
height
()?height() - 1 -Çy1:0) + (ny0<0?ny0:0),

31661 
	glZ
 = (1 + 
nz1
 - 
nz0
Ë+ (nz1>=
dïth
()?depth() - 1 -Çz1:0) + (nz0<0?nz0:0),

31662 
	glC
 = (1 + 
nc1
 - 
nc0
Ë+ (nc1>=
•e˘rum
()?spectrum() - 1 -Çc1:0) + (nc0<0?nc0:0);

31664 
	goffX
 = ()
_width
 - 
lX
,

31665 
	goffY
 = ()
_width
*(
_height
 - 
lY
),

31666 
	goffZ
 = ()
_width
*
_height
*(
_dïth
 - 
lZ
);

31667 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

31668 
T
 *
	g±rd
 = 
d©a
(
nx0
<0?0:nx0,
ny0
<0?0:ny0,
nz0
<0?0:nz0,
nc0
<0?0:nc0);

31669 i‡(
	glX
>0 && 
	glY
>0 && 
	glZ
>0 && 
	glC
>0)

31670 
	gv
 = 0; v<
	glC
; ++v) {

31671 
	gz
 = 0; z<
	glZ
; ++z) {

31672 
	gy
 = 0; y<
	glY
; ++y) {

31673 i‡(
	g›acôy
>=1) {

31674 i‡((
T
)!=1Ë{ 
x
 = 0; 
	gx
<
	glX
; ++xË*(
	g±rd
++Ë
vÆ
;Öåd+=
offX
; }

31675 { 
	g°d
::
mem£t
(
±rd
,()
vÆ
,
lX
); 
	g±rd
+=
_width
; }

31676 } { 
	gx
 = 0; x<
	glX
; ++xË{ *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
 + *
±rd
*
c›acôy
); ++±rd; }Öåd+=
offX
; }

31678 
	g±rd
+=
offY
;

31680 
	g±rd
+=
offZ
;

31682  *
	gthis
;

31696 
	gãm∂©e
<
ty≥«me
 
	gtc
>

31697 
	gCImg
<
	gT
>& 
døw_ª˘™gÀ
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

31698 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

31699 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

31700 i‡(
is_em±y
()Ë *
this
;

31701 i‡(!
	gcﬁ‹
)

31702 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31704 
cimg_ö°™˚
);

31705 
cimg_f‹C
(*
this
,
c
Ë
døw_ª˘™gÀ
(
x0
,
y0
,
z0
,c,
x1
,
y1
,
z1
,c,(
T
)
cﬁ‹
[c],
›acôy
);

31706  *
	gthis
;

31710 
	gãm∂©e
<
ty≥«me
 
	gtc
>

31711 
	gCImg
<
	gT
>& 
døw_ª˘™gÀ
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

31712 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
,

31713 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

31714 c⁄° 
∑âîn
) {

31715  
døw_löe
(
x0
,
y0
,
z0
,
x1
,y0,z0,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
).

31716 
døw_löe
(
x1
,
y0
,
z0
,x1,
y1
,z0,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

31717 
døw_löe
(
x1
,
y1
,
z0
,
x0
,y1,z0,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

31718 
døw_löe
(
x0
,
y1
,
z0
,x0,
y0
,z0,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

31719 
døw_löe
(
x0
,
y0
,
z1
,
x1
,y0,z1,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
).

31720 
døw_löe
(
x1
,
y0
,
z1
,x1,
y1
,z1,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

31721 
døw_löe
(
x1
,
y1
,
z1
,
x0
,y1,z1,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

31722 
døw_löe
(
x0
,
y1
,
z1
,x0,
y0
,z1,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

31723 
døw_löe
(
x0
,
y0
,
z0
,x0,y0,
z1
,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
).

31724 
døw_löe
(
x1
,
y0
,
z0
,x1,y0,
z1
,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
).

31725 
døw_löe
(
x1
,
y1
,
z0
,x1,y1,
z1
,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
).

31726 
døw_löe
(
x0
,
y1
,
z0
,x0,y1,
z1
,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
);

31738 
	gãm∂©e
<
ty≥«me
 
	gtc
>

31739 
	gCImg
<
	gT
>& 
døw_ª˘™gÀ
(c⁄° 
x0
, c⁄° 
y0
,

31740 c⁄° 
x1
, c⁄° 
y1
,

31741 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

31742  
døw_ª˘™gÀ
(
x0
,
y0
,0,
x1
,
y1
,
_dïth
-1,
cﬁ‹
,
›acôy
);

31746 
	gãm∂©e
<
ty≥«me
 
	gtc
>

31747 
	gCImg
<
	gT
>& 
døw_ª˘™gÀ
(c⁄° 
x0
, c⁄° 
y0
,

31748 c⁄° 
x1
, c⁄° 
y1
,

31749 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

31750 c⁄° 
∑âîn
) {

31751 i‡(
is_em±y
()Ë *
	gthis
;

31752 i‡(
	gy0
==
y1
Ë 
døw_löe
(
x0
,
y0
,
x1
,y0,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
);

31753 i‡(
	gx0
==
x1
Ë 
døw_löe
(
x0
,
y0
,x0,
y1
,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
);

31754 c⁄° 
boﬁ
 
	gbx
 = (
x0
<
x1
), 
	gby
 = (
y0
<
y1
);

31756 
	gnx0
 = 
bx
?
x0
:
x1
, 
	gnx1
 = bx?x1:x0,

31757 
	gny0
 = 
by
?
y0
:
y1
, 
	gny1
 = by?y1:y0;

31758 i‡(
	gny1
==
ny0
+1Ë 
døw_löe
(
nx0
,ny0,
nx1
,ny0,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
).

31759 
døw_löe
(
nx1
,
ny1
,
nx0
,ny1,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
);

31760  
døw_löe
(
nx0
,
ny0
,
nx1
,ny0,
cﬁ‹
,
›acôy
,
∑âîn
,
åue
).

31761 
døw_löe
(
nx1
,
ny0
+1,nx1,
ny1
-1,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

31762 
døw_löe
(
nx1
,
ny1
,
nx0
,ny1,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
).

31763 
døw_löe
(
nx0
,
ny1
-1,nx0,
ny0
+1,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
);

31772 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

31773 
	gCImg
<
	gT
>& 
døw_pﬁyg⁄
(c⁄° 
CImg
<
t
>& 
poöts
,

31774 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

31775 i‡(
is_em±y
(Ë|| !
poöts
Ë *
this
;

31776 i‡(!
	gcﬁ‹
)

31777 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31779 
cimg_ö°™˚
);

31782 
	gCImg
<
	götT
> 
≈oöts
(
poöts
.
_width
,2);

31783 
	gnb_poöts
 = 1, 
	gp
 = 0;

31784 
	gcx
 = 
≈oöts
(0,0Ë()
poöts
(0,0), 
	gcy
 =Çpoints(0,1) = ()points(0,1);

31785 c⁄° 
	gcx0
 = 
cx
, 
	gcy0
 = 
cy
;

31786 
	gp
 = 1;Ö<
	gpoöts
.
	g_width
; ++p) {

31787 c⁄° 
	gnx
 = ()
poöts
(
p
,0), 
	gny
 = ()points(p,1);

31788 i‡(
	gnx
!=
cx
 || 
ny
!=
cy
Ë{ 
≈oöts
(
nb_poöts
,0Ë
nx
;Çpoöts“b_poöts++,1Ëny; 
	gcx
 =Çx; 
	gcy
 =Çy; }

31790 --
	gp
;

31791 i‡(()
poöts
(
p
,0)==
cx0
 && (Ìoöts’,1)==
cy0
Ë--
nb_poöts
;

31793 i‡(
	gnb_poöts
<=1Ë 
døw_poöt
(()
≈oöts
(0,0),(Ípoöts(0,1),
cﬁ‹
,
›acôy
);

31794 i‡(
	gnb_poöts
==2Ë 
døw_löe
(()
≈oöts
(0,0),()npoints(0,1),

31795 ()
≈oöts
(1,0),(Ípoöts(1,1),
cﬁ‹
,
›acôy
);

31796 i‡(
	gnb_poöts
==3Ë 
døw_åüngÀ
(()
≈oöts
(0,0),()npoints(0,1),

31797 ()
≈oöts
(1,0),()npoints(1,1),

31798 ()
≈oöts
(2,0),(Ípoöts(2,1),
cﬁ‹
,
›acôy
);

31799 
cimg_öô_sˇ∆öe
(
cﬁ‹
,1);

31801 i‡(
	g›acôy
!=1) {

31802 
≈oöts
.
ªsize
(
nb_poöts
,2,1,1,0);

31803 
	gCImg
<
	götT
> 
	g≈oöts_x
 = 
≈oöts
.
gë_sh¨ed_row
(0), 
	g≈oöts_y
 =Çpoints.get_shared_row(1);

31804 
	gxmax
 = 0, 
	gxmö
 = ()
≈oöts_x
.
mö_max
(
xmax
), 
	gymax
 = 0, 
	gymö
 = ()
≈oöts_y
.mö_max(
ymax
);

31805 i‡(
	gxmax
<0 || 
	gxmö
>=
width
(Ë|| 
ymax
<0 || 
ymö
>=
height
()Ë *
this
;

31806 i‡(
	gymö
==
ymax
Ë 
cimg_døw_sˇ∆öe
(
xmö
,
xmax
,
ymö
,
cﬁ‹
,
›acôy
,1);

31808 
	gnxmö
 = 
xmö
<0?0:()xmö, 
	gnxmax
 = 
xmax
>=
width
()?
_width
-1:()xmax,

31809 
	gnymö
 = 
ymö
<0?0:()ymö, 
	gnymax
 = 
ymax
>=
height
()?
_height
-1:()ymax,

31810 
	gdx
 = 1 + 
nxmax
 - 
nxmö
,

31811 
	gdy
 = 1 + 
nymax
 - 
nymö
;

31812 
	g≈oöts_x
-=
nxmö
; 
	g≈oöts_y
-=
nymö
;

31813 
	g⁄e
 = 1;

31814 c⁄° 
	gCImg
<> 
	gmask
 = 
CImg
<>(
dx
,
	gdy
,1,1,0).
døw_pﬁyg⁄
(
≈oöts
,&
⁄e
,1);

31815 
	gCImg
<
	gT
> 
_cﬁ‹
(
dx
,
dy
,1,
•e˘rum
());

31816 
cimg_f‹C
(
_cﬁ‹
,
c
Ë
	g_cﬁ‹
.
gë_sh¨ed_ch™√l
(c).
fûl
(
cﬁ‹
[c]);

31817  
døw_image
(
nxmö
,
nymö
,0,0,
_cﬁ‹
,
mask
,
›acôy
,1);

31822 
	gxmax
 = 0, 
	gxmö
 = ()
≈oöts
.
gë_sh¨ed_poöts
(0,
nb_poöts
-1,0).
mö_max
(
xmax
),

31823 
	gymax
 = 0, 
	gymö
 = ()
≈oöts
.
gë_sh¨ed_poöts
(0,
nb_poöts
-1,1).
mö_max
(
ymax
);

31824 i‡(
	gxmax
<0 || 
	gxmö
>=
width
(Ë|| 
ymax
<0 || 
ymö
>=
height
()Ë *
this
;

31825 i‡(
	gymö
==
ymax
Ë 
cimg_døw_sˇ∆öe
(
xmö
,
xmax
,
ymö
,
cﬁ‹
,1,1);

31827 
	gnymö
 = 
ymö
<0?0:()ymin,

31828 
	gnymax
 = 
ymax
>=
height
()?
_height
-1:()ymax,

31829 
	gdy
 = 1 + 
nymax
 - 
nymö
;

31830 
	gCImg
<
	götT
> 
X
(1+2*
nb_poöts
,
dy
,1,1,0), 
	gtmp
;

31831 
	gcx
 = ()
≈oöts
(0,0), 
	gcy
 = ()npoints(0,1);

31832 
	g˝
 = 0;

31833 
	gp
 = 0;Ö<
	gnb_poöts
; ++p) {

31834 c⁄° 
	g≈
 = (
p
!=
nb_poöts
-1)?p+1:0, 
	g≠
 = (
≈
!=nb_points-1)?np+1:0;

31836 
	gnx
 = ()
≈oöts
(
≈
,0), 
	gny
 = (Ípoöts“p,1), 
	gay
 = (Ípoöts(
≠
,1),

31837 
	gy0
 = 
cy
 - 
nymö
, 
	gy1
 = 
ny
 -Çymin;

31838 i‡(
	gy0
!=
y1
) {

31839 c⁄° 
cou¡îmö
 = ((
ny
<
ay
 && 
cy
<ny) || (ny>ay && cy>ny))?1:0;

31840 
	gx
 = 
cx
, 
	gy
 = 
y0
, 
	g_sx
 = 1, 
	g_sy
 = 1,

31841 
	g_dx
 = 
nx
>
cx
?nx-cx:((
_sx
=-1),
	gcx
-
	gnx
),

31842 
	g_dy
 = 
y1
>
y0
?y1-y0:((
_sy
=-1),
	gy0
-
	gy1
),

31843 
	g_cou¡î
 = ((
_dx
-=
_dy
?_dy*(_dx/_dy):0),
	g_dy
),

31844 
	g_îr
 = 
_dx
>>1,

31845 
	g_rx
 = 
_dy
?(
nx
-
cx
)/_dy:0;

31846 
	g_cou¡î
>=
cou¡îmö
;

31847 --
	g_cou¡î
, 
	gy
+=
_sy
, 
	gx
+=
_rx
 + ((
_îr
-=
_dx
)<0?_îr+=
_dy
,
	g_sx
:0))

31848 i‡(
y
>=0 && y<()
dy
Ë
X
(++X(0,y),yË
x
;

31849 
	g˝
 = 
≈
; 
	gcx
 = 
nx
; 
	gcy
 = 
ny
;

31851 c⁄° 
	gµ
 = (
˝
?˝-1:
nb_poöts
-1), 
	gpy
 = ()
≈oöts
(
µ
,1);

31852 i‡(
	gy0
>=0 && 
y0
<()
dy
) {

31853 
cimg_døw_sˇ∆öe
(
cx
<
nx
?cx:nx,cx<nx?nx:cx,
y0
+
nymö
,
cﬁ‹
,1,1);

31854 i‡((
	gcy
>
	gpy
 && 
	gay
>cyË|| (cy<py &&áy<cy)Ë
X
(++X(0,
y0
),y0Ë
cx
;

31856 i‡(
	gcy
!=
ay
Ë{ 
˝
 = 
≈
; 
	gcx
 = 
nx
; cy = 
ny
; }

31861 
	gy
 = 0; y<()
	gdy
; ++y) {

31862 
	gtmp
.
assign
(
X
.
d©a
(1,
y
),X(0,y),1,1,1,
åue
).
s‹t
();

31863 
	gi
 = 1; i<=
X
(0,
y
); ) {

31864 c⁄° 
	gxb
 = 
X
(
i
++,
y
), 
	gxe
 = X(i++,y);

31865 
cimg_døw_sˇ∆öe
(
xb
,
xe
,
nymö
+
y
,
cﬁ‹
,1,1);

31868  *
	gthis
;

31872 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

31873 
	gCImg
<
	gT
>& 
døw_pﬁyg⁄
(c⁄° 
CImg
<
t
>& 
poöts
,

31874 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
, c⁄° 
∑âîn
) {

31875 i‡(
is_em±y
(Ë|| !
	gpoöts
 ||Öoöts.
	g_width
<3Ë *
	gthis
;

31876 
boﬁ
 
	gnöô_h©ch
 = 
åue
;

31877 
	gpoöts
.
	g_height
) {

31879 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


31881 
cimg_ö°™˚
);

31883 
CImg
<
ötT
> 
≈oöts
(
poöts
.
_width
,2);

31884 
	gx
 = 
≈oöts
(0,0Ë()
poöts
(0,0), 
	gy
 =Çpoints(0,1) = ()points(0,1);

31885 
	gnb_poöts
 = 1;

31886 
	gp
 = 1;Ö<
	gpoöts
.
	g_width
; ++p) {

31887 c⁄° 
	gnx
 = ()
poöts
(
p
,0), 
	gny
 = ()points(p,1);

31888 i‡(
	gnx
!=
x
 || 
ny
!=
y
Ë{ 
≈oöts
(
nb_poöts
,0Ë
nx
;Çpoöts“b_poöts++,1Ëny; 
	gx
 =Çx; 
	gy
 =Çy; }

31890 c⁄° 
	gx0
 = ()
≈oöts
(0,0), 
	gy0
 = ()npoints(0,1);

31891 
	gox
 = 
x0
, 
	goy
 = 
y0
;

31892 
	gi
 = 1; i<
	gnb_poöts
; ++i) {

31893 c⁄° 
	gx
 = ()
≈oöts
(
i
,0), 
	gy
 = ()npoints(i,1);

31894 
døw_löe
(
ox
,
oy
,
x
,
y
,
cﬁ‹
,
›acôy
,
∑âîn
,
nöô_h©ch
);

31895 
	gnöô_h©ch
 = 
Ál£
;

31896 
	gox
 = 
x
; 
	goy
 = 
y
;

31898 
døw_löe
(
ox
,
oy
,
x0
,
y0
,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
);

31901 
CImg
<
ötT
> 
≈oöts
(
poöts
.
_width
,3);

31902 
	gx
 = 
≈oöts
(0,0Ë()
poöts
(0,0), 
	gy
 =Çpoöts(0,1Ë(Ìoöts(0,1), 
	gz
 =Çpoints(0,2) = ()points(0,2);

31903 
	gnb_poöts
 = 1;

31904 
	gp
 = 1;Ö<
	gpoöts
.
	g_width
; ++p) {

31905 c⁄° 
	gnx
 = ()
poöts
(
p
,0), 
	gny
 = (Ìoöts’,1), 
	gnz
 = ()points(p,2);

31906 i‡(
	gnx
!=
x
 || 
ny
!=
y
 || 
nz
!=
z
Ë{ 
≈oöts
(
nb_poöts
,0Ë
nx
;Çpoöts“b_poöts,1Ëny;Çpoöts“b_poöts++,2Ënz; 
	gx
 =Çx; 
	gy
 =Çy; 
	gz
 =Çz; }

31908 c⁄° 
	gx0
 = ()
≈oöts
(0,0), 
	gy0
 = (Ípoöts(0,1), 
	gz0
 = ()npoints(0,2);

31909 
	gox
 = 
x0
, 
	goy
 = 
y0
, 
	goz
 = 
z0
;

31910 
	gi
 = 1; i<
	gnb_poöts
; ++i) {

31911 c⁄° 
	gx
 = ()
≈oöts
(
i
,0), 
	gy
 = (Ípoöts(i,1), 
	gz
 = ()npoints(i,2);

31912 
døw_löe
(
ox
,
oy
,
oz
,
x
,
y
,
z
,
cﬁ‹
,
›acôy
,
∑âîn
,
nöô_h©ch
);

31913 
	gnöô_h©ch
 = 
Ál£
;

31914 
	gox
 = 
x
; 
	goy
 = 
y
; 
	goz
 = 
z
;

31916 
døw_löe
(
ox
,
oy
,
oz
,
x0
,
y0
,
z0
,
cﬁ‹
,
›acôy
,
∑âîn
,
Ál£
);

31919  *
	gthis
;

31932 
	gãm∂©e
<
ty≥«me
 
	gtc
>

31933 
	gCImg
<
	gT
>& 
døw_ñlù£
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
r1
, c⁄° 
r2
, c⁄° 
™gÀ
,

31934 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

31935  
_døw_ñlù£
(
x0
,
y0
,
r1
,
r2
,
™gÀ
,
cﬁ‹
,
›acôy
,0U);

31946 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

31947 
	gCImg
<
	gT
>& 
døw_ñlù£
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
CImg
<
t
> &
ãns‹
,

31948 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

31949 
CImgLi°
<
t
> 
eig
 = 
ãns‹
.
gë_symmëric_eigí
();

31950 c⁄° 
	gCImg
<
	gt
> &
	gvÆ
 = 
eig
[0], &
	gvec
 =Éig[1];

31951  
døw_ñlù£
(
x0
,
y0
,
°d
::
sqπ
(
vÆ
(0)),std::sqrt(val(1)),

31952 
°d
::
©™2
(
vec
(0,1),vec(0,0))*180/
cimg
::
PI
,

31953 
cﬁ‹
,
›acôy
);

31967 
	gãm∂©e
<
ty≥«me
 
	gtc
>

31968 
	gCImg
<
	gT
>& 
døw_ñlù£
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
r1
, c⁄° 
r2
, c⁄° 
™gÀ
,

31969 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
, c⁄° 
∑âîn
) {

31970 i‡(
	g∑âîn
Ë
_døw_ñlù£
(
x0
,
y0
,
r1
,
r2
,
™gÀ
,
cﬁ‹
,
›acôy
,
∑âîn
);

31971  *
	gthis
;

31983 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

31984 
	gCImg
<
	gT
>& 
døw_ñlù£
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
CImg
<
t
> &
ãns‹
,

31985 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

31986 c⁄° 
∑âîn
) {

31987 
	gCImgLi°
<
	gt
> 
	geig
 = 
ãns‹
.
gë_symmëric_eigí
();

31988 c⁄° 
	gCImg
<
	gt
> &
	gvÆ
 = 
eig
[0], &
	gvec
 =Éig[1];

31989  
døw_ñlù£
(
x0
,
y0
,
°d
::
sqπ
(
vÆ
(0)),std::sqrt(val(1)),

31990 
°d
::
©™2
(
vec
(0,1),vec(0,0))*180/
cimg
::
PI
,

31991 
cﬁ‹
,
›acôy
,
∑âîn
);

31994 
	gãm∂©e
<
ty≥«me
 
	gtc
>

31995 
	gCImg
<
	gT
>& 
_døw_ñlù£
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
r1
, c⁄° 
r2
, c⁄° 
™gÀ
,

31996 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

31997 c⁄° 
∑âîn
) {

31998 i‡(
is_em±y
()Ë *
	gthis
;

31999 i‡(!
	gcﬁ‹
)

32000 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


32002 
cimg_ö°™˚
);

32003 i‡(
	gr1
<=0 || 
r2
<=0Ë 
døw_poöt
(
x0
,
y0
,
cﬁ‹
,
›acôy
);

32004 
cimg_öô_sˇ∆öe
(
cﬁ‹
,
›acôy
);

32006 
	gƒ1
 = 
cimg
::
abs
(
r1
), 
	gƒ2
 = cimg::abs(
r2
),

32007 
	g«ngÀ
 = ()(
™gÀ
*
cimg
::
PI
/180),

32008 
	gu
 = ()
°d
::
cos
(
«ngÀ
),

32009 
	gv
 = ()
°d
::
sö
(
«ngÀ
),

32010 
	grmax
 = 
cimg
::
max
(
ƒ1
,
ƒ2
),

32011 
	gl1
 = ()
°d
::
pow
(
rmax
/(
ƒ1
>0?nr1:1e-6),2),

32012 
	gl2
 = ()
°d
::
pow
(
rmax
/(
ƒ2
>0?nr2:1e-6),2),

32013 
	ga
 = 
l1
*
u
*u + 
l2
*
v
*v,

32014 
	gb
 = 
u
*
v
*(
l1
-
l2
),

32015 
	gc
 = 
l1
*
v
*v + 
l2
*
u
*u;

32017 
	gyb
 = ()
°d
::
sqπ
(
a
*
rmax
*rmax/◊*
c
 - 
b
*b)),

32018 
	gtymö
 = 
y0
 - 
yb
 - 1,

32019 
	gtymax
 = 
y0
 + 
yb
 + 1,

32020 
	gymö
 = 
tymö
<0?0:tymin,

32021 
	gymax
 = 
tymax
>=
height
()?height()-1:tymax;

32022 
	goxmö
 = 0, 
	goxmax
 = 0;

32023 
boﬁ
 
	gfú°_löe
 = 
åue
;

32024 
	gy
 = 
ymö
; y<=
ymax
; ++y) {

32026 
	gY
 = 
y
 - 
y0
 + (y<y0?0.5f:-0.5f),

32027 
	gdñè
 = 
b
*b*
Y
*Y - 
a
*(
c
*Y*Y - 
rmax
*rmax),

32028 
	gsdñè
 = 
dñè
>0?()
°d
::
sqπ
(dñè)/
a
:0.0f,

32029 
	gbY
 = 
b
*
Y
/
a
,

32030 
	gfxmö
 = 
x0
 - 0.5‡- 
bY
 - 
sdñè
,

32031 
	gfxmax
 = 
x0
 + 0.5‡- 
bY
 + 
sdñè
;

32032 c⁄° 
	gxmö
 = ()
fxmö
, 
	gxmax
 = ()
fxmax
;

32033 i‡(!
	g∑âîn
Ë
cimg_døw_sˇ∆öe
(
xmö
,
xmax
,
y
,
cﬁ‹
,
›acôy
,1);

32035 i‡(
	gfú°_löe
) {

32036 i‡(
	gy0
-
	gyb
>=0Ë
cimg_døw_sˇ∆öe
(
xmö
,
xmax
,
y
,
cﬁ‹
,
›acôy
,1);

32037 
døw_poöt
(
xmö
,
y
,
cﬁ‹
,
›acôy
).døw_poöt(
xmax
,y,color,opacity);

32038 
	gfú°_löe
 = 
Ál£
;

32040 i‡(
	gxmö
<
	goxmö
Ë
cimg_døw_sˇ∆öe
(
xmö
,
oxmö
-1,
y
,
cﬁ‹
,
›acôy
,1);

32041 
cimg_døw_sˇ∆öe
(
oxmö
+(oxmö==
xmö
?0:1),xmö,
y
,
cﬁ‹
,
›acôy
,1);

32042 i‡(
	gxmax
<
	goxmax
Ë
cimg_døw_sˇ∆öe
(
xmax
,
oxmax
-1,
y
,
cﬁ‹
,
›acôy
,1);

32043 
cimg_døw_sˇ∆öe
(
oxmax
+(oxmax==
xmax
?0:1),xmax,
y
,
cﬁ‹
,
›acôy
,1);

32044 i‡(
	gy
==
tymax
Ë
cimg_døw_sˇ∆öe
(
xmö
+1,
xmax
-1,
y
,
cﬁ‹
,
›acôy
,1);

32047 
	goxmö
 = 
xmö
; 
	goxmax
 = 
xmax
;

32049  *
	gthis
;

32062 
	gãm∂©e
<
ty≥«me
 
	gtc
>

32063 
	gCImg
<
	gT
>& 
døw_cú˛e
(c⁄° 
x0
, c⁄° 
y0
, 
ødius
,

32064 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

32065 i‡(
is_em±y
()Ë *
this
;

32066 i‡(!
	gcﬁ‹
)

32067 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


32069 
cimg_ö°™˚
);

32070 
cimg_öô_sˇ∆öe
(
cﬁ‹
,
›acôy
);

32071 i‡(
	gødius
<0 || 
	gx0
-ødius>=
width
(Ë|| 
y0
+
ødius
<0 || y0-ødius>=
height
()Ë *
this
;

32072 i‡(
	gy0
>=0 && 
y0
<
height
()Ë
cimg_døw_sˇ∆öe
(
x0
-
ødius
,x0+ødius,y0,
cﬁ‹
,
›acôy
,1);

32073 
	gf
 = 1-
ødius
, 
	gddFx
 = 0, 
	gddFy
 = -‘adius<<1), 
	gx
 = 0, 
	gy
 =Ñadius; x<y; ) {

32074 i‡(
	gf
>=0) {

32075 c⁄° 
x1
 = 
x0
-
x
, 
	gx2
 = x0+x, 
	gy1
 = 
y0
-
y
, 
	gy2
 = y0+y;

32076 i‡(
	gy1
>=0 && 
y1
<
height
()Ë
cimg_døw_sˇ∆öe
(
x1
,
x2
,y1,
cﬁ‹
,
›acôy
,1);

32077 i‡(
	gy2
>=0 && 
y2
<
height
()Ë
cimg_døw_sˇ∆öe
(
x1
,
x2
,y2,
cﬁ‹
,
›acôy
,1);

32078 
	gf
+=(
ddFy
+=2); --
	gy
;

32080 c⁄° 
boﬁ
 
	gno_düg
 = 
y
!=(
x
++);

32081 ++(
	gf
+=(
ddFx
+=2));

32082 c⁄° 
	gx1
 = 
x0
-
y
, 
	gx2
 = x0+y, 
	gy1
 = 
y0
-
x
, 
	gy2
 = y0+x;

32083 i‡(
	gno_düg
) {

32084 i‡(
	gy1
>=0 && 
y1
<
height
()Ë
cimg_døw_sˇ∆öe
(
x1
,
x2
,y1,
cﬁ‹
,
›acôy
,1);

32085 i‡(
	gy2
>=0 && 
y2
<
height
()Ë
cimg_døw_sˇ∆öe
(
x1
,
x2
,y2,
cﬁ‹
,
›acôy
,1);

32088  *
	gthis
;

32100 
	gãm∂©e
<
ty≥«me
 
	gtc
>

32101 
	gCImg
<
	gT
>& 
døw_cú˛e
(c⁄° 
x0
, c⁄° 
y0
, 
ødius
,

32102 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

32103 c⁄° 
∑âîn
) {

32104 
	gcimg
::
unu£d
(
∑âîn
);

32105 i‡(
is_em±y
()Ë *
	gthis
;

32106 i‡(!
	gcﬁ‹
)

32107 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


32109 
cimg_ö°™˚
);

32110 i‡(
	gødius
<0 || 
	gx0
-ødius>=
width
(Ë|| 
y0
+
ødius
<0 || y0-ødius>=
height
()Ë *
this
;

32111 i‡(!
	gødius
Ë 
døw_poöt
(
x0
,
y0
,
cﬁ‹
,
›acôy
);

32112 
døw_poöt
(
x0
-
ødius
,
y0
,
cﬁ‹
,
›acôy
).draw_point(x0+radius,y0,color,opacity).

32113 
døw_poöt
(
x0
,
y0
-
ødius
,
cﬁ‹
,
›acôy
).draw_point(x0,y0+radius,color,opacity);

32114 i‡(
	gødius
==1Ë *
this
;

32115 
	gf
 = 1-
ødius
, 
	gddFx
 = 0, 
	gddFy
 = -‘adius<<1), 
	gx
 = 0, 
	gy
 =Ñadius; x<y; ) {

32116 i‡(
	gf
>=0Ë{ 
f
+=(
ddFy
+=2); --
	gy
; }

32117 ++
	gx
; ++(
	gf
+=(
ddFx
+=2));

32118 i‡(
	gx
!=
y
+1) {

32119 c⁄° 
x1
 = 
x0
-
y
, 
	gx2
 = x0+y, 
	gy1
 = 
y0
-
x
, 
	gy2
 = y0+x, 
	gx3
 = x0-x, 
	gx4
 = x0+x, 
	gy3
 = y0-y, 
	gy4
 = y0+y;

32120 
døw_poöt
(
x1
,
y1
,
cﬁ‹
,
›acôy
).døw_poöt(x1,
y2
,color,opacity).

32121 
døw_poöt
(
x2
,
y1
,
cﬁ‹
,
›acôy
).døw_poöt(x2,
y2
,color,opacity);

32122 i‡(
	gx
!=
y
)

32123 
døw_poöt
(
x3
,
y3
,
cﬁ‹
,
›acôy
).døw_poöt(
x4
,
y4
,color,opacity).

32124 
døw_poöt
(
x4
,
y3
,
cﬁ‹
,
›acôy
).døw_poöt(
x3
,
y4
,color,opacity);

32127  *
	gthis
;

32139 
	gãm∂©e
<
ty≥«me
 
	gt
>

32140 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

32141 c⁄° 
CImg
<
t
>& 
•rôe
, c⁄° 
›acôy
=1) {

32142 i‡(
is_em±y
(Ë|| !
•rôe
Ë *
this
;

32143 i‡(
is_ovîœµed
(
•rôe
)Ë 
døw_image
(
x0
,
y0
,
z0
,
c0
,+•rôe,
›acôy
);

32144 i‡(
	gx0
==0 && 
y0
==0 && 
z0
==0 && 
c0
==0 && 
is_ßmeXYZC
(
•rôe
Ë&& 
›acôy
>=1 && !
is_sh¨ed
()Ë 
assign
(•rôe,
Ál£
);

32145 c⁄° 
boﬁ
 
	gbx
 = (
x0
<0), 
	gby
 = (
y0
<0), 
	gbz
 = (
z0
<0), 
	gbc
 = (
c0
<0);

32147 
	glX
 = 
•rôe
.
width
(Ë- (
x0
 + s¥ôe.width()>width()?x0 + s¥ôe.width(Ë- width():0Ë+ (
bx
?x0:0),

32148 
	glY
 = 
•rôe
.
height
(Ë- (
y0
 + s¥ôe.height()>height()?y0 + s¥ôe.height(Ë- height():0Ë+ (
by
?y0:0),

32149 
	glZ
 = 
•rôe
.
dïth
(Ë- (
z0
 + s¥ôe.dïth()>dïth()?z0 + s¥ôe.dïth(Ë- dïth():0Ë+ (
bz
?z0:0),

32150 
	glC
 = 
•rôe
.
•e˘rum
(Ë- (
c0
 + s¥ôe.•e˘rum()>•e˘rum()?c0 + s¥ôe.•e˘rum(Ë- s≥˘rum():0Ë+ (
bc
?c0:0);

32151 c⁄° 
t


32152 *
	g±rs
 = 
•rôe
.
_d©a
 -

32153 (
bx
?
x0
:0) -

32154 (
by
?
y0
*
•rôe
.
width
():0) -

32155 (
bz
?
z0
*
•rôe
.
width
()*•rôe.
height
():0) -

32156 (
bc
?
c0
*
•rôe
.
width
()*•rôe.
height
()*•rôe.
dïth
():0);

32158 
	goffX
 = ()
_width
 - 
lX
,

32159 
	gsoffX
 = ()
•rôe
.
_width
 - 
lX
,

32160 
	goffY
 = ()
_width
*(
_height
 - 
lY
),

32161 
	gsoffY
 = ()
•rôe
.
_width
*(•rôe.
_height
 - 
lY
),

32162 
	goffZ
 = ()
_width
*
_height
*(
_dïth
 - 
lZ
),

32163 
	gsoffZ
 = ()
•rôe
.
_width
*•rôe.
_height
*(•rôe.
_dïth
 - 
lZ
);

32164 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

32165 i‡(
	glX
>0 && 
	glY
>0 && 
	glZ
>0 && 
	glC
>0) {

32166 
T
 *
	g±rd
 = 
d©a
(
x0
<0?0:x0,
y0
<0?0:y0,
z0
<0?0:z0,
c0
<0?0:c0);

32167 
	gv
 = 0; v<
	glC
; ++v) {

32168 
	gz
 = 0; z<
	glZ
; ++z) {

32169 
	gy
 = 0; y<
	glY
; ++y) {

32170 i‡(
	g›acôy
>=1Ë
x
 = 0; 
	gx
<
	glX
; ++xË*(
	g±rd
++Ë(
T
)*(
±rs
++);

32171 
	gx
 = 0; x<
	glX
; ++xË{ *
	g±rd
 = (
T
)(
n›acôy
*(*(
±rs
++)Ë+ *
±rd
*
c›acôy
); ++ptrd; }

32172 
	g±rd
+=
offX
; 
	g±rs
+=
soffX
;

32174 
	g±rd
+=
offY
; 
	g±rs
+=
soffY
;

32176 
	g±rd
+=
offZ
; 
	g±rs
+=
soffZ
;

32179  *
	gthis
;

32183 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

32184 c⁄° 
CImg
<
T
>& 
•rôe
, c⁄° 
›acôy
=1) {

32185 i‡(
is_em±y
(Ë|| !
•rôe
Ë *
this
;

32186 i‡(
is_ovîœµed
(
•rôe
)Ë 
døw_image
(
x0
,
y0
,
z0
,
c0
,+•rôe,
›acôy
);

32187 i‡(
	gx0
==0 && 
y0
==0 && 
z0
==0 && 
c0
==0 && 
is_ßmeXYZC
(
•rôe
Ë&& 
›acôy
>=1 && !
is_sh¨ed
()Ë 
assign
(•rôe,
Ál£
);

32188 c⁄° 
boﬁ
 
	gbx
 = (
x0
<0), 
	gby
 = (
y0
<0), 
	gbz
 = (
z0
<0), 
	gbc
 = (
c0
<0);

32190 
	glX
 = 
•rôe
.
width
(Ë- (
x0
 + s¥ôe.width()>width()?x0 + s¥ôe.width(Ë- width():0Ë+ (
bx
?x0:0),

32191 
	glY
 = 
•rôe
.
height
(Ë- (
y0
 + s¥ôe.height()>height()?y0 + s¥ôe.height(Ë- height():0Ë+ (
by
?y0:0),

32192 
	glZ
 = 
•rôe
.
dïth
(Ë- (
z0
 + s¥ôe.dïth()>dïth()?z0 + s¥ôe.dïth(Ë- dïth():0Ë+ (
bz
?z0:0),

32193 
	glC
 = 
•rôe
.
•e˘rum
(Ë- (
c0
 + s¥ôe.•e˘rum()>•e˘rum()?c0 + s¥ôe.•e˘rum(Ë- s≥˘rum():0Ë+ (
bc
?c0:0);

32194 c⁄° 
T


32195 *
	g±rs
 = 
•rôe
.
_d©a
 -

32196 (
bx
?
x0
:0) -

32197 (
by
?
y0
*
•rôe
.
width
():0) -

32198 (
bz
?
z0
*
•rôe
.
width
()*•rôe.
height
():0) -

32199 (
bc
?
c0
*
•rôe
.
width
()*•rôe.
height
()*•rôe.
dïth
():0);

32201 
	goffX
 = ()
_width
 - 
lX
,

32202 
	gsoffX
 = ()
•rôe
.
_width
 - 
lX
,

32203 
	goffY
 = ()
_width
*(
_height
 - 
lY
),

32204 
	gsoffY
 = ()
•rôe
.
_width
*(•rôe.
_height
 - 
lY
),

32205 
	goffZ
 = ()
_width
*
_height
*(
_dïth
 - 
lZ
),

32206 
	gsoffZ
 = ()
•rôe
.
_width
*•rôe.
_height
*(•rôe.
_dïth
 - 
lZ
),

32207 
	g¶X
 = 
lX
*(
T
);

32208 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

32209 i‡(
	glX
>0 && 
	glY
>0 && 
	glZ
>0 && 
	glC
>0) {

32210 
T
 *
	g±rd
 = 
d©a
(
x0
<0?0:x0,
y0
<0?0:y0,
z0
<0?0:z0,
c0
<0?0:c0);

32211 
	gv
 = 0; v<
	glC
; ++v) {

32212 
	gz
 = 0; z<
	glZ
; ++z) {

32213 i‡(
	g›acôy
>=1Ë
y
 = 0; 
	gy
<
	glY
; ++yË{ 
	g°d
::
mem˝y
(
±rd
,
±rs
,
¶X
); 
	g±rd
+=
_width
; 
	g±rs
+=
•rôe
._width; }

32214 
	gy
 = 0; y<
	glY
; ++y) {

32215 
	gx
 = 0; x<
	glX
; ++xË{ *
	g±rd
 = (
T
)(
n›acôy
*(*(
±rs
++)Ë+ *
±rd
*
c›acôy
); ++ptrd; }

32216 
	g±rd
+=
offX
; 
	g±rs
+=
soffX
;

32218 
	g±rd
+=
offY
; 
	g±rs
+=
soffY
;

32220 
	g±rd
+=
offZ
; 
	g±rs
+=
soffZ
;

32223  *
	gthis
;

32227 
	gãm∂©e
<
ty≥«me
 
	gt
>

32228 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

32229 c⁄° 
CImg
<
t
>& 
•rôe
, c⁄° 
›acôy
=1) {

32230  
døw_image
(
x0
,
y0
,
z0
,0,
•rôe
,
›acôy
);

32234 
	gãm∂©e
<
ty≥«me
 
	gt
>

32235 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
, c⁄° 
y0
,

32236 c⁄° 
CImg
<
t
>& 
•rôe
, c⁄° 
›acôy
=1) {

32237  
døw_image
(
x0
,
y0
,0,
•rôe
,
›acôy
);

32241 
	gãm∂©e
<
ty≥«me
 
	gt
>

32242 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
,

32243 c⁄° 
CImg
<
t
>& 
•rôe
, c⁄° 
›acôy
=1) {

32244  
døw_image
(
x0
,0,
•rôe
,
›acôy
);

32248 
	gãm∂©e
<
ty≥«me
 
	gt
>

32249 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
CImg
<
t
>& 
•rôe
, c⁄° 
›acôy
=1) {

32250  
døw_image
(0,
•rôe
,
›acôy
);

32267 
	gãm∂©e
<
ty≥«me
 
	gti
,Åy≥«mê
	gtm
>

32268 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

32269 c⁄° 
CImg
<
ti
>& 
•rôe
, c⁄° CImg<
tm
>& 
mask
, c⁄° 
›acôy
=1,

32270 c⁄° 
mask_max_vÆue
=1) {

32271 i‡(
is_em±y
(Ë|| !
•rôe
 || !
mask
Ë *
this
;

32272 i‡(
is_ovîœµed
(
•rôe
)Ë 
døw_image
(
x0
,
y0
,
z0
,
c0
,+•rôe,
mask
,
›acôy
,
mask_max_vÆue
);

32273 i‡(
is_ovîœµed
(
mask
)Ë 
døw_image
(
x0
,
y0
,
z0
,
c0
,
•rôe
,+mask,
›acôy
,
mask_max_vÆue
);

32274 i‡(
	gmask
.
	g_width
!=
•rôe
.
_width
 || 
mask
.
_height
!=•rôe._heighà|| mask.
_dïth
!=sprite._depth)

32275 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


32277 
cimg_ö°™˚
,

32278 
•rôe
.
_width
,•rôe.
_height
,•rôe.
_dïth
,•rôe.
_•e˘rum
,•rôe.
_d©a
,

32279 
mask
.
_width
,mask.
_height
,mask.
_dïth
,mask.
_•e˘rum
,mask.
_d©a
);

32281 c⁄° 
boﬁ
 
	gbx
 = (
x0
<0), 
	gby
 = (
y0
<0), 
	gbz
 = (
z0
<0), 
	gbc
 = (
c0
<0);

32283 
	glX
 = 
•rôe
.
width
(Ë- (
x0
 + s¥ôe.width()>width()?x0 + s¥ôe.width(Ë- width():0Ë+ (
bx
?x0:0),

32284 
	glY
 = 
•rôe
.
height
(Ë- (
y0
 + s¥ôe.height()>height()?y0 + s¥ôe.height(Ë- height():0Ë+ (
by
?y0:0),

32285 
	glZ
 = 
•rôe
.
dïth
(Ë- (
z0
 + s¥ôe.dïth()>dïth()?z0 + s¥ôe.dïth(Ë- dïth():0Ë+ (
bz
?z0:0),

32286 
	glC
 = 
•rôe
.
•e˘rum
(Ë- (
c0
 + s¥ôe.•e˘rum()>•e˘rum()?c0 + s¥ôe.•e˘rum(Ë- s≥˘rum():0Ë+ (
bc
?c0:0);

32288 
	gcoff
 = -(
bx
?
x0
:0)-(
by
?
y0
*
mask
.
width
():0)-(
bz
?
z0
*mask.width()*mask.
height
():0)-(
bc
?
c0
*mask.width()*mask.height()*mask.
dïth
():0),

32289 
	gssize
 = 
mask
.
width
()*mask.
height
()*mask.
dïth
()*mask.
•e˘rum
();

32290 c⁄° 
ti
 *
	g±rs
 = 
•rôe
.
_d©a
 + 
coff
;

32291 c⁄° 
tm
 *
	g±rm
 = 
mask
.
_d©a
 + 
coff
;

32293 
	goffX
 = ()
_width
 - 
lX
,

32294 
	gsoffX
 = ()
•rôe
.
_width
 - 
lX
,

32295 
	goffY
 = ()
_width
*(
_height
 - 
lY
),

32296 
	gsoffY
 = ()
•rôe
.
_width
*(•rôe.
_height
 - 
lY
),

32297 
	goffZ
 = ()
_width
*
_height
*(
_dïth
 - 
lZ
),

32298 
	gsoffZ
 = ()
•rôe
.
_width
*•rôe.
_height
*(•rôe.
_dïth
 - 
lZ
);

32299 i‡(
	glX
>0 && 
	glY
>0 && 
	glZ
>0 && 
	glC
>0) {

32300 
T
 *
	g±rd
 = 
d©a
(
x0
<0?0:x0,
y0
<0?0:y0,
z0
<0?0:z0,
c0
<0?0:c0);

32301 
	gc
 = 0; c<
	glC
; ++c) {

32302 
	g±rm
 = 
mask
.
_d©a
 + (
±rm
 - mask._d©a)%
ssize
;

32303 
	gz
 = 0; z<
	glZ
; ++z) {

32304 
	gy
 = 0; y<
	glY
; ++y) {

32305 
	gx
 = 0; x<
	glX
; ++x) {

32306 c⁄° 
	gm›acôy
 = ()(*(
±rm
++)*
›acôy
),

32307 
	gn›acôy
 = 
cimg
::
abs
(
m›acôy
), 
	gc›acôy
 = 
mask_max_vÆue
 - cimg::
max
(mopacity,0);

32308 *
	g±rd
 = (
T
)((
n›acôy
*(*(
±rs
++)Ë+ *
±rd
*
c›acôy
)/
mask_max_vÆue
);

32309 ++
	g±rd
;

32311 
	g±rd
+=
offX
; 
	g±rs
+=
soffX
; 
	g±rm
+=soffX;

32313 
	g±rd
+=
offY
; 
	g±rs
+=
soffY
; 
	g±rm
+=soffY;

32315 
	g±rd
+=
offZ
; 
	g±rs
+=
soffZ
; 
	g±rm
+=soffZ;

32318  *
	gthis
;

32322 
	gãm∂©e
<
ty≥«me
 
	gti
,Åy≥«mê
	gtm
>

32323 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

32324 c⁄° 
CImg
<
ti
>& 
•rôe
, c⁄° CImg<
tm
>& 
mask
, c⁄° 
›acôy
=1,

32325 c⁄° 
mask_max_vÆue
=1) {

32326  
døw_image
(
x0
,
y0
,
z0
,0,
•rôe
,
mask
,
›acôy
,
mask_max_vÆue
);

32330 
	gãm∂©e
<
ty≥«me
 
	gti
,Åy≥«mê
	gtm
>

32331 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
, c⁄° 
y0
,

32332 c⁄° 
CImg
<
ti
>& 
•rôe
, c⁄° CImg<
tm
>& 
mask
, c⁄° 
›acôy
=1,

32333 c⁄° 
mask_max_vÆue
=1) {

32334  
døw_image
(
x0
,
y0
,0,
•rôe
,
mask
,
›acôy
,
mask_max_vÆue
);

32338 
	gãm∂©e
<
ty≥«me
 
	gti
,Åy≥«mê
	gtm
>

32339 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
x0
,

32340 c⁄° 
CImg
<
ti
>& 
•rôe
, c⁄° CImg<
tm
>& 
mask
, c⁄° 
›acôy
=1,

32341 c⁄° 
mask_max_vÆue
=1) {

32342  
døw_image
(
x0
,0,
•rôe
,
mask
,
›acôy
,
mask_max_vÆue
);

32346 
	gãm∂©e
<
ty≥«me
 
	gti
,Åy≥«mê
	gtm
>

32347 
	gCImg
<
	gT
>& 
døw_image
(c⁄° 
CImg
<
ti
>& 
•rôe
, c⁄° CImg<
tm
>& 
mask
, c⁄° 
›acôy
=1,

32348 c⁄° 
mask_max_vÆue
=1) {

32349  
døw_image
(0,
•rôe
,
mask
,
›acôy
,
mask_max_vÆue
);

32362 
	gãm∂©e
<
ty≥«me
 
	gtc1
,Åy≥«mê
	gtc2
,Åy≥«mê
	gt
>

32363 
	gCImg
<
	gT
>& 
døw_ãxt
(c⁄° 
x0
, c⁄° 
y0
,

32364 c⁄° *c⁄° 
ãxt
,

32365 c⁄° 
tc1
 *c⁄° 
f‹eground_cﬁ‹
, c⁄° 
tc2
 *c⁄° 
background_cﬁ‹
,

32366 c⁄° 
›acôy
, c⁄° 
CImgLi°
<
t
>& 
f⁄t
, ...) {

32367 i‡(!
	gf⁄t
Ë *
	gthis
;

32368 
	gtmp
[2048] = { 0 }; 
	g°d
::
va_li°
 
≠
; 
va_°¨t
◊p,
f⁄t
);

32369 
cimg_v¢¥ötf
(
tmp
,—mp),
ãxt
,
≠
); 
va_íd
(ap);

32370  
_døw_ãxt
(
x0
,
y0
,
tmp
,
f‹eground_cﬁ‹
,
background_cﬁ‹
,
›acôy
,
f⁄t
);

32377 
	gãm∂©e
<
ty≥«me
 
	gtc
,Åy≥«mê
	gt
>

32378 
	gCImg
<
	gT
>& 
døw_ãxt
(c⁄° 
x0
, c⁄° 
y0
,

32379 c⁄° *c⁄° 
ãxt
,

32380 c⁄° 
tc
 *c⁄° 
f‹eground_cﬁ‹
, const ,

32381 c⁄° 
›acôy
, c⁄° 
CImgLi°
<
t
>& 
f⁄t
, ...) {

32382 i‡(!
	gf⁄t
Ë *
	gthis
;

32383 
	gtmp
[2048] = { 0 }; 
	g°d
::
va_li°
 
≠
; 
va_°¨t
◊p,
f⁄t
);

32384 
cimg_v¢¥ötf
(
tmp
,—mp),
ãxt
,
≠
); 
va_íd
(ap);

32385  
_døw_ãxt
(
x0
,
y0
,
tmp
,
f‹eground_cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t
);

32392 
	gãm∂©e
<
ty≥«me
 
	gtc
,Åy≥«mê
	gt
>

32393 
	gCImg
<
	gT
>& 
døw_ãxt
(c⁄° 
x0
, c⁄° 
y0
,

32394 c⁄° *c⁄° 
ãxt
,

32395 c⁄° , c⁄° 
tc
 *c⁄° 
background_cﬁ‹
,

32396 c⁄° 
›acôy
, c⁄° 
CImgLi°
<
t
>& 
f⁄t
, ...) {

32397 i‡(!
	gf⁄t
Ë *
	gthis
;

32398 
	gtmp
[2048] = { 0 }; 
	g°d
::
va_li°
 
≠
; 
va_°¨t
◊p,
f⁄t
);

32399 
cimg_v¢¥ötf
(
tmp
,—mp),
ãxt
,
≠
); 
va_íd
(ap);

32400  
_døw_ãxt
(
x0
,
y0
,
tmp
,(
tc
*)0,
background_cﬁ‹
,
›acôy
,
f⁄t
);

32413 
	gãm∂©e
<
ty≥«me
 
	gtc1
,Åy≥«mê
	gtc2
>

32414 
	gCImg
<
	gT
>& 
døw_ãxt
(c⁄° 
x0
, c⁄° 
y0
,

32415 c⁄° *c⁄° 
ãxt
,

32416 c⁄° 
tc1
 *c⁄° 
f‹eground_cﬁ‹
, c⁄° 
tc2
 *c⁄° 
background_cﬁ‹
,

32417 c⁄° 
›acôy
=1, c⁄° 
f⁄t_height
=13, ...) {

32418 i‡(!
	gf⁄t_height
Ë *
	gthis
;

32419 
	gcimg
::
muãx
(9);

32420 
	gtmp
[2048] = { 0 }; 
	g°d
::
va_li°
 
≠
; 
va_°¨t
◊p,
f⁄t_height
); 
cimg_v¢¥ötf
(
tmp
,—mp),
ãxt
,≠); 
va_íd
(ap);

32421 
	gCImgLi°
<
	gÊﬂtT
> 
	gf⁄t
;

32423 
	gªf_height
 = 
f⁄t_height
<=13?13:font_height<=28?24:font_height<=32?32:57,

32424 
	g∑ddög_x
 = 
f⁄t_height
<=18?1:font_height<=32?2:3;

32425 i‡(!
	gf⁄t
 || f⁄t[0].
	g_height
!=
f⁄t_height
) {

32426 
f⁄t
 = 
CImgLi°
<
ÊﬂtT
>::f⁄t(
ªf_height
,
åue
);

32427 
	gf⁄t
[0].
assign
(1,
f⁄t_height
);

32428 i‡(
	gªf_height
==
f⁄t_height
Ë
cimgli°_f‹
(
f⁄t
,
l
Ë
	gf⁄t
[l].
ªsize
(f⁄t[l].
_width
 + 
∑ddög_x
,-100,-100,-100,0);

32430 i‡(
is_em±y
()) {

32431 i‡(
	gf⁄t
[0].
	g_•e˘rum
!=1Ë
cimgli°_f‹_ö
(
f⁄t
,0,255,
l
Ëf⁄t[l].
ch™√l
(0);

32432 } i‡(
	gf⁄t
[0].
	g_•e˘rum
<_•e˘rumË
cimgli°_f‹_ö
(
f⁄t
,0,255,
l
Ëf⁄t[l].
ªsize
(-100,-100,1,
_•e˘rum
);

32433 i‡(
	gªf_height
!=
f⁄t_height
Ëc⁄° *
±rs
 = 
tmp
; *
	g±rs
; ++ptrs) {

32434 c⁄° 
	g__c
 = ()()*
±rs
, 
	g_c
 = (
__c
=='\t')?' ':__c;

32435 i‡(
	g_c
<
	gf⁄t
.
	g_width
) {

32436 
	gCImg
<
	gÊﬂtT
> &
	gc
 = 
f⁄t
[
_c
];

32437 i‡(
	gc
.
	g_height
!=
f⁄t_height
) {

32438 
c
.
ªsize
(
cimg
::
max
(1U,c.
_width
*
f⁄t_height
/c.
_height
),font_height,-100,-100,c._height>font_height?2:3);

32439 
	gc
.
ªsize
(
c
.
_width
 + 
∑ddög_x
,-100,-100,-100,0);

32442 i‡(
	g_c
+256U<
	gf⁄t
.
	g_width
) {

32443 
	gCImg
<
	gÊﬂtT
> &
	gc
 = 
f⁄t
[
_c
+256];

32444 i‡(
	gc
.
	g_height
!=
f⁄t_height
) {

32445 
c
.
ªsize
(
cimg
::
max
(1U,c.
_width
*
f⁄t_height
/c.
_height
),font_height,-100,-100,c._height>font_height?2:3);

32446 
	gc
.
ªsize
(
c
.
_width
 + 
∑ddög_x
,-100,-100,-100,0);

32450 
_døw_ãxt
(
x0
,
y0
,
tmp
,
f‹eground_cﬁ‹
,
background_cﬁ‹
,
›acôy
,
f⁄t
);

32451 
	gcimg
::
muãx
(9,0);

32452  *
	gthis
;

32456 
	gãm∂©e
<
ty≥«me
 
	gtc
>

32457 
	gCImg
<
	gT
>& 
døw_ãxt
(c⁄° 
x0
, c⁄° 
y0
,

32458 c⁄° *c⁄° 
ãxt
,

32459 c⁄° 
tc
 *c⁄° 
f‹eground_cﬁ‹
, c⁄° 
background_cﬁ‹
=0,

32460 c⁄° 
›acôy
=1, c⁄° 
f⁄t_height
=13, ...) {

32461 i‡(!
	gf⁄t_height
Ë *
	gthis
;

32462 
	gcimg
::
unu£d
(
background_cﬁ‹
);

32463 
	gtmp
[2048] = { 0 }; 
	g°d
::
va_li°
 
≠
; 
va_°¨t
◊p,
f⁄t_height
); 
cimg_v¢¥ötf
(
tmp
,—mp),
ãxt
,≠); 
va_íd
(ap);

32464  
døw_ãxt
(
x0
,
y0
,"%s",
f‹eground_cﬁ‹
,(c⁄° 
tc
*)0,
›acôy
,
f⁄t_height
,
tmp
);

32468 
	gãm∂©e
<
ty≥«me
 
	gtc
>

32469 
	gCImg
<
	gT
>& 
døw_ãxt
(c⁄° 
x0
, c⁄° 
y0
,

32470 c⁄° *c⁄° 
ãxt
,

32471 c⁄° , c⁄° 
tc
 *c⁄° 
background_cﬁ‹
,

32472 c⁄° 
›acôy
=1, c⁄° 
f⁄t_height
=13, ...) {

32473 i‡(!
	gf⁄t_height
Ë *
	gthis
;

32474 
	gtmp
[2048] = { 0 }; 
	g°d
::
va_li°
 
≠
; 
va_°¨t
◊p,
f⁄t_height
); 
cimg_v¢¥ötf
(
tmp
,—mp),
ãxt
,≠); 
va_íd
(ap);

32475  
døw_ãxt
(
x0
,
y0
,"%s",(
tc
*)0,
background_cﬁ‹
,
›acôy
,
f⁄t_height
,
tmp
);

32478 
	gãm∂©e
<
ty≥«me
 
	gtc1
,Åy≥«mê
	gtc2
,Åy≥«mê
	gt
>

32479 
	gCImg
<
	gT
>& 
_døw_ãxt
(c⁄° 
x0
, c⁄° 
y0
,

32480 c⁄° *c⁄° 
ãxt
,

32481 c⁄° 
tc1
 *c⁄° 
f‹eground_cﬁ‹
, c⁄° 
tc2
 *c⁄° 
background_cﬁ‹
,

32482 c⁄° 
›acôy
, c⁄° 
CImgLi°
<
t
>& 
f⁄t
) {

32483 i‡(!
	gãxt
Ë *
	gthis
;

32484 i‡(!
	gf⁄t
)

32485 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


32487 
cimg_ö°™˚
);

32488 c⁄° 
	gãxt_Àngth
 = ()
°d
::
°æí
(
ãxt
);

32489 i‡(
is_em±y
()) {

32491 
	gx
 = 0, 
	gy
 = 0, 
	gw
 = 0;

32492 
	gc
 = 0;

32493 
	gi
 = 0; i<
	gãxt_Àngth
; ++i) {

32494 
	gc
 = 
ãxt
[
i
];

32495 
	gc
) {

32496 '\n' : 
y
+=
f⁄t
[0].
_height
; i‡(
	gx
>
	gw
Ëw = 
x
; x = 0; ;

32497 '\t' : 
x
+=4*
f⁄t
[' '].
_width
; ;

32498  : i‡(
c
<
f⁄t
.
_width
Ë
x
+=font[c]._width;

32501 i‡(
	gx
!=0 || 
c
=='\n') {

32502 i‡(
x
>
w
) w=x;

32503 
	gy
+=
f⁄t
[0].
_height
;

32505 
assign
(
x0
+
w
,
y0
+
y
,1,
f⁄t
[0].
_•e˘rum
,0);

32506 i‡(
	gbackground_cﬁ‹
Ë
cimg_f‹C
(*
this
,
c
Ë
gë_sh¨ed_ch™√l
(c).
fûl
((
T
)
background_cﬁ‹
[c]);

32509 
	gx
 = 
x0
, 
	gy
 = 
y0
;

32510 
	gCImg
<
	gt
> 
	gÀâî
;

32511 
	gi
 = 0; i<
	gãxt_Àngth
; ++i) {

32512 c⁄° 
	gc
 = 
ãxt
[
i
];

32513 
	gc
) {

32514 '\n' : 
y
+=
f⁄t
[0].
_height
; 
	gx
 = 
x0
; ;

32515 '\t' : 
x
+=4*
f⁄t
[' '].
_width
; ;

32516  : i‡(
c
<
f⁄t
.
_width
) {

32517 
Àâî
 = 
f⁄t
[
c
];

32518 c⁄° 
	gcmö
 = 
cimg
::
mö
(
_•e˘rum
,
Àâî
._spectrum);

32519 c⁄° 
	gCImg
<
	gt
>& 
	gmask
 = (
c
+256)<()
f⁄t
.
_width
?font[c+256]:font[c];

32520 i‡(
	gf‹eground_cﬁ‹
)

32521 
	gp
 = 0;Ö<()
	gÀâî
.
_width
*Àâî.
	g_height
; ++p)

32522 i‡(
mask
(
p
)Ë
	gc
 = 0; c<
	gcmö
; ++cË
Àâî
’,0,0,
c
Ë(
t
)÷ëãr’,0,0,c)*
	gf‹eground_cﬁ‹
[c]);

32523 i‡(
	gbackground_cﬁ‹
)

32524 
	gp
 = 0;Ö<()
	gÀâî
.
_width
*Àâî.
	g_height
; ++p)

32525 i‡(!
mask
(
p
)Ë
	gc
 = 0; c<
	gcmö
; ++cË
Àâî
’,0,0,
c
Ë(
t
)
background_cﬁ‹
[c];

32526 i‡(!
	gbackground_cﬁ‹
 && 
	gf⁄t
.
	g_width
>=512Ë
døw_image
(
x
,
y
,
Àâî
,
mask
,
›acôy
,(
T
)1);

32527 
døw_image
(
x
,
y
,
Àâî
,
›acôy
);

32528 
	gx
+=
Àâî
.
_width
;

32532  *
	gthis
;

32546 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
>

32547 
	gCImg
<
	gT
>& 
døw_quivî
(c⁄° 
CImg
<
t1
>& 
Êow
,

32548 c⁄° 
t2
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

32549 c⁄° 
ßm∂ög
=25, c⁄° 
Á˘‹
=-20,

32550 c⁄° 
boﬁ
 
is_¨row
=
åue
, c⁄° 
∑âîn
=~0U) {

32551  
døw_quivî
(
Êow
,
CImg
<
t2
>(
cﬁ‹
,
_•e˘rum
,1,1,1,
åue
),
›acôy
,
ßm∂ög
,
Á˘‹
,
is_¨row
,
∑âîn
);

32565 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
>

32566 
	gCImg
<
	gT
>& 
døw_quivî
(c⁄° 
CImg
<
t1
>& 
Êow
,

32567 c⁄° 
CImg
<
t2
>& 
cﬁ‹
, c⁄° 
›acôy
=1,

32568 c⁄° 
ßm∂ög
=25, c⁄° 
Á˘‹
=-20,

32569 c⁄° 
boﬁ
 
is_¨row
=
åue
, c⁄° 
∑âîn
=~0U) {

32570 i‡(
is_em±y
()Ë *
this
;

32571 i‡(!
	gÊow
 || flow.
	g_•e˘rum
!=2)

32572 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


32574 
cimg_ö°™˚
,

32575 
Êow
.
_width
,Êow.
_height
,Êow.
_dïth
,Êow.
_•e˘rum
,Êow.
_d©a
);

32576 i‡(
	gßm∂ög
<=0)

32577 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


32580 
cimg_ö°™˚
,

32581 
ßm∂ög
);

32582 c⁄° 
boﬁ
 
	gcﬁ‹fõld
 = (
cﬁ‹
.
_width
==
Êow
._width && cﬁ‹.
_height
==Êow._heighà&& cﬁ‹.
_dïth
==1 && cﬁ‹.
_•e˘rum
==_spectrum);

32583 i‡(
is_ovîœµed
(
Êow
)Ë 
døw_quivî
(+Êow,
cﬁ‹
,
›acôy
,
ßm∂ög
,
Á˘‹
,
is_¨row
,
∑âîn
);

32584 
	gvmax
,
	gÁ˘
;

32585 i‡(
	gÁ˘‹
<=0) {

32586 
m
, 
M
 = ()
Êow
.
gë_n‹m
(2).
max_mö
(m);

32587 
	gvmax
 = ()
cimg
::
max
(cimg::
abs
(
m
),cimg::abs(
M
));

32588 i‡(!
	gvmax
) vmax = 1;

32589 
	gÁ˘
 = -
Á˘‹
;

32590 } { 
	gÁ˘
 = 
Á˘‹
; 
	gvmax
 = 1; }

32592 
	gy
 = 
ßm∂ög
/2; y<
	g_height
; y+=sampling)

32593 
x
 = 
ßm∂ög
/2; 
	gx
<
	g_width
; x+=sampling) {

32594 c⁄° 
X
 = 
x
*
Êow
.
_width
/_width, 
	gY
 = 
y
*Êow.
_height
/_height;

32595 
	gu
 = ()
Êow
(
X
,
Y
,0,0)*
	gÁ˘
/
	gvmax
, 
	gv
 = ()flow(X,Y,0,1)*fact/vmax;

32596 i‡(
	gis_¨row
) {

32597 c⁄° 
	gxx
 = 
x
+()
u
, 
	gyy
 = 
y
+()
v
;

32598 i‡(
	gcﬁ‹fõld
Ë
døw_¨row
(
x
,
y
,
xx
,
yy
,
cﬁ‹
.
gë_ve˘‹_©
(
X
,
Y
).
_d©a
,
›acôy
,45,
ßm∂ög
/5.0f,
∑âîn
);

32599 
døw_¨row
(
x
,
y
,
xx
,
yy
,
cﬁ‹
.
_d©a
,
›acôy
,45,
ßm∂ög
/5.0f,
∑âîn
);

32601 i‡(
	gcﬁ‹fõld
Ë
døw_löe
(()(
x
-0.5*
u
),()(
y
-0.5*
v
),()(x+0.5*u),()(y+0.5*v),
cﬁ‹
.
gë_ve˘‹_©
(
X
,
Y
).
_d©a
,
›acôy
,
∑âîn
);

32602 
døw_löe
(()(
x
-0.5*
u
),()(
y
-0.5*
v
),()(x+0.5*u),()(y+0.5*v),
cﬁ‹
.
_d©a
,
›acôy
,
∑âîn
);

32606  *
	gthis
;

32619 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

32620 
	gCImg
<
	gT
>& 
døw_axis
(c⁄° 
CImg
<
t
>& 
vÆues_x
, c⁄° 
y
,

32621 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

32622 c⁄° 
∑âîn
=~0U, c⁄° 
f⁄t_height
=13,

32623 c⁄° 
boﬁ
 
Ælow_zîo
=
åue
) {

32624 i‡(
is_em±y
()Ë *
this
;

32625 c⁄° 
	gyt
 = (
y
+3+
f⁄t_height
)<
_height
?(y+3):(y-2-font_height);

32626 c⁄° 
	gsiz
 = ()
vÆues_x
.
size
()-1;

32627 
	gtxt
[32] = { 0 };

32628 
	gCImg
<
	gT
> 
	gœbñ
;

32629 i‡(
	gsiz
<=0) {

32630 
døw_löe
(0,
y
,
_width
-1,y,
cﬁ‹
,
›acôy
,
∑âîn
);

32631 i‡(!
	gsiz
) {

32632 
cimg_¢¥ötf
(
txt
,—xt),"%g",()*
vÆues_x
);

32633 
	gœbñ
.
assign
().
døw_ãxt
(0,0,
txt
,
cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t_height
);

32635 
	g_xt
 = (
width
(Ë- 
œbñ
.width())/2,

32636 
	gxt
 = 
_xt
<3?3:_xt+
œbñ
.
width
()>=width()-2?width()-3-label.width():_xt;

32637 
døw_poöt
(
width
()/2,
y
-1,
cﬁ‹
,
›acôy
).draw_point(width()/2,y+1,color,opacity);

32638 i‡(
	gÆlow_zîo
 || 
	gtxt
[0]!='0' || 
txt
[1]!=0)

32639 
døw_ãxt
(
xt
,
yt
,
txt
,
cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t_height
);

32642 i‡(
	gvÆues_x
[0]<vÆues_x[
siz
]Ë
døw_¨row
(0,
y
,
_width
-1,y,
cﬁ‹
,
›acôy
,30,5,
∑âîn
);

32643 
døw_¨row
(
_width
-1,
y
,0,y,
cﬁ‹
,
›acôy
,30,5,
∑âîn
);

32644 
cimg_f‹off
(
vÆues_x
,
x
) {

32645 
cimg_¢¥ötf
(
txt
,—xt),"%g",()
vÆues_x
(
x
));

32646 
	gœbñ
.
assign
().
døw_ãxt
(0,0,
txt
,
cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t_height
);

32648 
	gxi
 = ()(
x
*(
_width
-1)/
siz
),

32649 
	g_xt
 = 
xi
 - 
œbñ
.
width
()/2,

32650 
	gxt
 = 
_xt
<3?3:_xt+
œbñ
.
width
()>=width()-2?width()-3-label.width():_xt;

32651 
døw_poöt
(
xi
,
y
-1,
cﬁ‹
,
›acôy
).draw_point(xi,y+1,color,opacity);

32652 i‡(
	gÆlow_zîo
 || 
	gtxt
[0]!='0' || 
txt
[1]!=0)

32653 
døw_ãxt
(
xt
,
yt
,
txt
,
cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t_height
);

32656  *
	gthis
;

32669 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

32670 
	gCImg
<
	gT
>& 
døw_axis
(c⁄° 
x
, c⁄° 
CImg
<
t
>& 
vÆues_y
,

32671 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

32672 c⁄° 
∑âîn
=~0U, c⁄° 
f⁄t_height
=13,

32673 c⁄° 
boﬁ
 
Ælow_zîo
=
åue
) {

32674 i‡(
is_em±y
()Ë *
this
;

32675 
	gsiz
 = ()
vÆues_y
.
size
()-1;

32676 
	gtxt
[32] = { 0 };

32677 
	gCImg
<
	gT
> 
	gœbñ
;

32678 i‡(
	gsiz
<=0) {

32679 
døw_löe
(
x
,0,x,
_height
-1,
cﬁ‹
,
›acôy
,
∑âîn
);

32680 i‡(!
	gsiz
) {

32681 
cimg_¢¥ötf
(
txt
,—xt),"%g",()*
vÆues_y
);

32682 
	gœbñ
.
assign
().
døw_ãxt
(0,0,
txt
,
cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t_height
);

32684 
	g_yt
 = (
height
(Ë- 
œbñ
.height())/2,

32685 
	gyt
 = 
_yt
<0?0:_yt+
œbñ
.
height
()>=height()?height()-1-label.height():_yt,

32686 
	g_xt
 = 
x
 - 2 - 
œbñ
.
width
(),

32687 
	gxt
 = 
_xt
>=0?_xt:
x
+3;

32688 
døw_poöt
(
x
-1,
height
()/2,
cﬁ‹
,
›acôy
).draw_point(x+1,height()/2,color,opacity);

32689 i‡(
	gÆlow_zîo
 || 
	gtxt
[0]!='0' || 
txt
[1]!=0)

32690 
døw_ãxt
(
xt
,
yt
,
txt
,
cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t_height
);

32693 i‡(
	gvÆues_y
[0]<vÆues_y[
siz
]Ë
døw_¨row
(
x
,0,x,
_height
-1,
cﬁ‹
,
›acôy
,30,5,
∑âîn
);

32694 
døw_¨row
(
x
,
_height
-1,x,0,
cﬁ‹
,
›acôy
,30,5,
∑âîn
);

32695 
cimg_f‹off
(
vÆues_y
,
y
) {

32696 
cimg_¢¥ötf
(
txt
,—xt),"%g",()
vÆues_y
(
y
));

32697 
	gœbñ
.
assign
().
døw_ãxt
(0,0,
txt
,
cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t_height
);

32699 
	gyi
 = ()(
y
*(
_height
-1)/
siz
),

32700 
	g_yt
 = 
yi
 - 
œbñ
.
height
()/2,

32701 
	gyt
 = 
_yt
<0?0:_yt+
œbñ
.
height
()>=height()?height()-1-label.height():_yt,

32702 
	g_xt
 = 
x
 - 2 - 
œbñ
.
width
(),

32703 
	gxt
 = 
_xt
>=0?_xt:
x
+3;

32704 
døw_poöt
(
x
-1,
yi
,
cﬁ‹
,
›acôy
).draw_point(x+1,yi,color,opacity);

32705 i‡(
	gÆlow_zîo
 || 
	gtxt
[0]!='0' || 
txt
[1]!=0)

32706 
døw_ãxt
(
xt
,
yt
,
txt
,
cﬁ‹
,(
tc
*)0,
›acôy
,
f⁄t_height
);

32709  *
	gthis
;

32723 
	gãm∂©e
<
ty≥«me
 
	gtx
,Åy≥«mê
	gty
,Åy≥«mê
	gtc
>

32724 
	gCImg
<
	gT
>& 
døw_axes
(c⁄° 
CImg
<
tx
>& 
vÆues_x
, c⁄° CImg<
ty
>& 
vÆues_y
,

32725 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

32726 c⁄° 
∑âîn_x
=~0U, c⁄° 
∑âîn_y
=~0U,

32727 c⁄° 
f⁄t_height
=13, c⁄° 
boﬁ
 
Ælow_zîo
=
åue
) {

32728 i‡(
is_em±y
()Ë *
this
;

32729 c⁄° 
	gCImg
<
	gtx
> 
nvÆues_x
(
vÆues_x
.
_d©a
,vÆues_x.
size
(),1,1,1,
åue
);

32730 c⁄° 
	gsizx
 = ()
vÆues_x
.
size
()-1, 
	gwm1
 = 
width
()-1;

32731 i‡(
	gsizx
>=0) {

32732 
ox
 = ()*
nvÆues_x
;

32733 
	gx
 = 
sizx
?1:0; x<
	g_width
; ++x) {

32734 c⁄° 
	gnx
 = ()
nvÆues_x
.
_löór_©X
(()
x
*
sizx
/
wm1
);

32735 i‡(
nx
*
	gox
<=0Ë{ 
døw_axis
“x==0?
x
:x-1,
vÆues_y
,
cﬁ‹
,
›acôy
,
∑âîn_y
,
f⁄t_height
,
Ælow_zîo
); ; }

32736 
	gox
 = 
nx
;

32739 c⁄° 
	gCImg
<
	gty
> 
nvÆues_y
(
vÆues_y
.
_d©a
,vÆues_y.
size
(),1,1,1,
åue
);

32740 c⁄° 
	gsizy
 = ()
vÆues_y
.
size
()-1, 
	ghm1
 = 
height
()-1;

32741 i‡(
	gsizy
>0) {

32742 
	goy
 = ()
nvÆues_y
[0];

32743 
	gy
 = 
sizy
?1:0; y<
	g_height
; ++y) {

32744 c⁄° 
	gny
 = ()
nvÆues_y
.
_löór_©X
(()
y
*
sizy
/
hm1
);

32745 i‡(
ny
*
	goy
<=0Ë{ 
døw_axis
(
vÆues_x
,ny==0?
y
:y-1,
cﬁ‹
,
›acôy
,
∑âîn_x
,
f⁄t_height
,
Ælow_zîo
); ; }

32746 
	goy
 = 
ny
;

32749  *
	gthis
;

32753 
	gãm∂©e
<
ty≥«me
 
	gtc
>

32754 
	gCImg
<
	gT
>& 
døw_axes
(c⁄° 
x0
, c⁄° 
x1
, c⁄° 
y0
, c⁄° 
y1
,

32755 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

32756 c⁄° 
subdivisi⁄x
=-60, c⁄° 
subdivisi⁄y
=-60,

32757 c⁄° 
¥ecisi⁄x
=0, c⁄° 
¥ecisi⁄y
=0,

32758 c⁄° 
∑âîn_x
=~0U, c⁄° 
∑âîn_y
=~0U,

32759 c⁄° 
f⁄t_height
=13) {

32760 i‡(
is_em±y
()Ë *
this
;

32761 c⁄° 
boﬁ
 
	gÆlow_zîo
 = (
x0
*
x1
>0Ë|| (
y0
*
y1
>0);

32763 
	gdx
 = 
cimg
::
abs
(
x1
-
x0
), 
	gdy
 = cimg::abs(
y1
-
y0
),

32764 
	gpx
 = 
dx
<=0?1:
¥ecisi⁄x
==0?()
°d
::
pow
(10.0,()°d::
log10
(dx)-2.0):precisionx,

32765 
	gpy
 = 
dy
<=0?1:
¥ecisi⁄y
==0?()
°d
::
pow
(10.0,()°d::
log10
(dy)-2.0):precisiony;

32766 i‡(
	gx0
!=
x1
 && 
y0
!=
y1
)

32767 
døw_axes
(
CImg
<
ÊﬂtT
>::
£quí˚
(
subdivisi⁄x
>0?subdivisi⁄x:1-
width
()/subdivisi⁄x,
x0
,
x1
).
round
(
px
),

32768 
CImg
<
ÊﬂtT
>::
£quí˚
(
subdivisi⁄y
>0?subdivisi⁄y:1-
height
()/subdivisi⁄y,
y0
,
y1
).
round
(
py
),

32769 
cﬁ‹
,
›acôy
,
∑âîn_x
,
∑âîn_y
,
f⁄t_height
,
Ælow_zîo
);

32770 i‡(
	gx0
==
x1
 && 
y0
!=
y1
)

32771 
døw_axis
(()
x0
,
CImg
<
ÊﬂtT
>::
£quí˚
(
subdivisi⁄y
>0?subdivisi⁄y:1-
height
()/subdivisi⁄y,
y0
,
y1
).
round
(
py
),

32772 
cﬁ‹
,
›acôy
,
∑âîn_y
,
f⁄t_height
);

32773 i‡(
	gx0
!=
x1
 && 
y0
==
y1
)

32774 
døw_axis
(
CImg
<
ÊﬂtT
>::
£quí˚
(
subdivisi⁄x
>0?subdivisi⁄x:1-
width
()/subdivisi⁄x,
x0
,
x1
).
round
(
px
),()
y0
,

32775 
cﬁ‹
,
›acôy
,
∑âîn_x
,
f⁄t_height
);

32776  *
	gthis
;

32788 
	gãm∂©e
<
ty≥«me
 
	gtx
,Åy≥«mê
	gty
,Åy≥«mê
	gtc
>

32789 
	gCImg
<
	gT
>& 
døw_grid
(c⁄° 
CImg
<
tx
>& 
vÆues_x
, c⁄° CImg<
ty
>& 
vÆues_y
,

32790 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

32791 c⁄° 
∑âîn_x
=~0U, c⁄° 
∑âîn_y
=~0U) {

32792 i‡(
is_em±y
()Ë *
this
;

32793 i‡(
	gvÆues_x
Ë
cimg_f‹off
(
vÆues_x
,
x
) {

32794 c⁄° 
	gxi
 = ()
vÆues_x
[
x
];

32795 i‡(
	gxi
>=0 && 
xi
<
width
()Ë
døw_löe
(xi,0,xi,
_height
-1,
cﬁ‹
,
›acôy
,
∑âîn_x
);

32797 i‡(
	gvÆues_y
Ë
cimg_f‹off
(
vÆues_y
,
y
) {

32798 c⁄° 
	gyi
 = ()
vÆues_y
[
y
];

32799 i‡(
	gyi
>=0 && 
yi
<
height
()Ë
døw_löe
(0,yi,
_width
-1,yi,
cﬁ‹
,
›acôy
,
∑âîn_y
);

32801  *
	gthis
;

32805 
	gãm∂©e
<
ty≥«me
 
	gtc
>

32806 
	gCImg
<
	gT
>& 
døw_grid
(c⁄° 
dñè_x
, c⁄° 
dñè_y
,

32807 c⁄° 
off£tx
, c⁄° 
off£ty
,

32808 c⁄° 
boﬁ
 
övîtx
, c⁄° boﬁ 
övîty
,

32809 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

32810 c⁄° 
∑âîn_x
=~0U, c⁄° 
∑âîn_y
=~0U) {

32811 i‡(
is_em±y
()Ë *
this
;

32812 
	gCImg
<
	guötT
> 
	g£qx
, 
	g£qy
;

32813 i‡(
	gdñè_x
!=0) {

32814 c⁄° 
dx
 = 
dñè_x
>0?dñè_x:
_width
*-delta_x/100;

32815 c⁄° 
	gnx
 = ()(
_width
/
dx
);

32816 
	g£qx
 = 
CImg
<
uötT
>::
£quí˚
(1+
nx
,0,()(
dx
*nx));

32817 i‡(
	goff£tx
Ë
cimg_f‹off
(
£qx
,
x
Ë£qx(xË()
cimg
::
mod
(£qx(x)+
off£tx
,()
_width
);

32818 i‡(
	gövîtx
Ë
cimg_f‹off
(
£qx
,
x
Ë£qx(xË
_width
 - 1 - seqx(x);

32820 i‡(
	gdñè_y
!=0) {

32821 c⁄° 
dy
 = 
dñè_y
>0?dñè_y:
_height
*-delta_y/100;

32822 c⁄° 
	gny
 = ()(
_height
/
dy
);

32823 
	g£qy
 = 
CImg
<
uötT
>::
£quí˚
(1+
ny
,0,()(
dy
*ny));

32824 i‡(
	goff£ty
Ë
cimg_f‹off
(
£qy
,
y
Ë£qy(yË()
cimg
::
mod
(£qy(y)+
off£ty
,()
_height
);

32825 i‡(
	gövîty
Ë
cimg_f‹off
(
£qy
,
y
Ë£qy(yË
_height
 - 1 - seqy(y);

32827  
døw_grid
(
£qx
,
£qy
,
cﬁ‹
,
›acôy
,
∑âîn_x
,
∑âîn_y
);

32856 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

32857 
	gCImg
<
	gT
>& 
døw_gøph
(c⁄° 
CImg
<
t
>& 
d©a
,

32858 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

32859 c⁄° 
∂Ÿ_ty≥
=1, c⁄° 
vîãx_ty≥
=1,

32860 c⁄° 
ymö
=0, c⁄° 
ymax
=0, c⁄° 
∑âîn
=~0U) {

32861 i‡(
is_em±y
(Ë|| 
_height
<=1Ë *
this
;

32862 i‡(!
	gcﬁ‹
)

32863 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


32865 
cimg_ö°™˚
);

32868 
	gCImg
<
	gtc
> 
	gcﬁ‹1
, 
	gcﬁ‹2
;

32869 i‡(
	g∂Ÿ_ty≥
==3) {

32870 
cﬁ‹1
.
assign
(
_•e˘rum
); 
	gcﬁ‹2
.assign(_spectrum);

32871 
cimg_f‹C
(*
this
,
c
Ë{ 
	gcﬁ‹1
[c] = (
tc
)
cimg
::
mö
(()cimg::
ty≥
<tc>::
max
(),
cﬁ‹
[c]*1.2f); 
	gcﬁ‹2
[c] = (tc)(color[c]*0.4f); }

32876 
	gsiz
 = 
d©a
.
size
(),

32877 
	g_siz1
 = 
siz
 - (
∂Ÿ_ty≥
!=3?1:0),

32878 
	gsiz1
 = 
_siz1
?_siz1:1;

32880 
	g_width1
 = 
_width
 - (
∂Ÿ_ty≥
!=3?1:0),

32881 
	gwidth1
 = 
_width1
?_width1:1;

32882 
	gm
 = 
ymö
, 
	gM
 = 
ymax
;

32883 i‡(
	gymö
==
ymax
Ë
m
 = ()
d©a
.
max_mö
(
M
);

32884 i‡(
	gm
==
M
Ë{ --
m
; ++
	gM
; }

32885 c⁄° 
	gˇ
 = ()(
M
-
m
)/(
_height
-1);

32886 
boﬁ
 
	göô_h©ch
 = 
åue
;

32889 
	g∂Ÿ_ty≥
%4) {

32891 
oX
 = 0, 
	goY
 = ()((
d©a
[0]-
m
)/
ˇ
);

32892 i‡(
	gsiz
==1) {

32893 c⁄° 
Y
 = ()((*
d©a
-
m
)/
ˇ
);

32894 
døw_löe
(0,
Y
,
width
()-1,Y,
cﬁ‹
,
›acôy
,
∑âîn
);

32895 } 
	goff
 = 1; off<
	gsiz
; ++off) {

32897 
	gX
 = 
off
*
_width1
/
siz1
,

32898 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32899 
døw_löe
(
oX
,
oY
,
X
,
Y
,
cﬁ‹
,
›acôy
,
∑âîn
,
öô_h©ch
);

32900 
	goX
 = 
X
; 
	goY
 = 
Y
;

32901 
	göô_h©ch
 = 
Ál£
;

32905 c⁄° 
CImg
<
t
> 
nd©a
(
d©a
.
_d©a
,
siz
,1,1,1,
åue
);

32906 
	goY
 = ()((
d©a
[0]-
m
)/
ˇ
);

32907 
cimg_f‹X
(*
this
,
x
) {

32908 c⁄° 
	gY
 = ()((
nd©a
.
_cubic_©X
(()
x
*
siz1
/
width1
)-
m
)/
ˇ
);

32909 i‡(
	gx
>0Ë
døw_löe
(
x
,
oY
,x+1,
Y
,
cﬁ‹
,
›acôy
,
∑âîn
,
öô_h©ch
);

32910 
	göô_h©ch
 = 
Ál£
;

32911 
	goY
 = 
Y
;

32915 c⁄° 
Y0
 = ()(-
m
/
ˇ
);

32916 
	goX
 = 0;

32917 
cimg_f‹off
(
d©a
,
off
) {

32919 
	gX
 = (
off
+1)*
_width
/
siz
-1,

32920 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32921 
døw_ª˘™gÀ
(
oX
,
Y0
,
X
,
Y
,
cﬁ‹
,
›acôy
).

32922 
døw_löe
(
oX
,
Y
,oX,
Y0
,
cﬁ‹2
.
d©a
(),
›acôy
).

32923 
døw_löe
(
oX
,
Y0
,
X
,Y0,
Y
<=Y0?
cﬁ‹2
.
d©a
():
cﬁ‹1
.d©a(),
›acôy
).

32924 
døw_löe
(
X
,
Y
,X,
Y0
,
cﬁ‹1
.
d©a
(),
›acôy
).

32925 
døw_löe
(
oX
,
Y
,
X
,Y,Y<=
Y0
?
cﬁ‹1
.
d©a
():
cﬁ‹2
.d©a(),
›acôy
);

32926 
	goX
 = 
X
+1;

32933 c⁄° 
	gwb2
 = 
∂Ÿ_ty≥
==3?
_width1
/(2*
siz
):0;

32934 
	gvîãx_ty≥
%8) {

32936 
cimg_f‹off
(
d©a
,
off
) {

32938 
	gX
 = 
off
*
_width1
/
siz1
 + 
wb2
,

32939 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32940 
døw_poöt
(
X
,
Y
,
cﬁ‹
,
›acôy
);

32944 
cimg_f‹off
(
d©a
,
off
) {

32946 
	gX
 = 
off
*
_width1
/
siz1
 + 
wb2
,

32947 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32948 
døw_löe
(
X
-3,
Y
,X+3,Y,
cﬁ‹
,
›acôy
).draw_line(X,Y-3,X,Y+3,color,opacity);

32952 
cimg_f‹off
(
d©a
,
off
) {

32954 
	gX
 = 
off
*
_width1
/
siz1
 + 
wb2
,

32955 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32956 
døw_löe
(
X
-3,
Y
-3,X+3,Y+3,
cﬁ‹
,
›acôy
).draw_line(X-3,Y+3,X+3,Y-3,color,opacity);

32960 
cimg_f‹off
(
d©a
,
off
) {

32962 
	gX
 = 
off
*
_width1
/
siz1
 + 
wb2
,

32963 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32964 
døw_cú˛e
(
X
,
Y
,3,
cﬁ‹
,
›acôy
);

32968 
cimg_f‹off
(
d©a
,
off
) {

32970 
	gX
 = 
off
*
_width1
/
siz1
 + 
wb2
,

32971 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32972 
døw_cú˛e
(
X
,
Y
,3,
cﬁ‹
,
›acôy
,0U);

32976 
cimg_f‹off
(
d©a
,
off
) {

32978 
	gX
 = 
off
*
_width1
/
siz1
 + 
wb2
,

32979 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32980 
døw_ª˘™gÀ
(
X
-3,
Y
-3,X+3,Y+3,
cﬁ‹
,
›acôy
,~0U);

32984 
cimg_f‹off
(
d©a
,
off
) {

32986 
	gX
 = 
off
*
_width1
/
siz1
 + 
wb2
,

32987 
	gY
 = ()((
d©a
[
off
]-
m
)/
ˇ
);

32988 
døw_löe
(
X
,
Y
-4,X+4,Y,
cﬁ‹
,
›acôy
).

32989 
døw_löe
(
X
+4,
Y
,X,Y+4,
cﬁ‹
,
›acôy
).

32990 
døw_löe
(
X
,
Y
+4,X-4,Y,
cﬁ‹
,
›acôy
).

32991 
døw_löe
(
X
-4,
Y
,X,Y-4,
cﬁ‹
,
›acôy
);

32996  *
	gthis
;

33011 
	gãm∂©e
<
ty≥«me
 
	gtc
,Åy≥«mê
	gt
>

33012 
	gCImg
<
	gT
>& 
døw_fûl
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
,

33013 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
,

33014 
CImg
<
t
>& 
ªgi⁄
, c⁄° 
sigma
=0,

33015 c⁄° 
boﬁ
 
is_high_c⁄√xôy
=
Ál£
) {

33017 
	#_cimg_døw_fûl_ã°
(
x
,
y
,
z
,
ªs
Ëi‡(
	`ªgi⁄
(x,y,z)Ëª†
Ál£
; { \

33018 
ªs
 = 
åue
; \

33019 c⁄° 
T
 *
ª„ªn˚_cﬁ
 = 
ª„ªn˚_cﬁ‹
.
_d©a
 + 
_•e˘rum
, *
±rs
 = 
	`d©a
(
x
,
y
,
z
Ë+ 
siz
; \

33020 
i
 = 
_•e˘rum
; 
ªs
 && i; --iË{ 
±rs
-=
whd
;Ñe†(
cimg
::
	`abs
(*±r†- *(--
ª„ªn˚_cﬁ
))<=
sigma
); } \

33021 
	`ªgi⁄
(
x
,
y
,
z
Ë(
t
)(
ªs
?1:
n‹egi⁄
); \

33022 }

	)

33024 
	#_cimg_døw_fûl_£t
(
x
,
y
,
z
) { \

33025 c⁄° 
tc
 *
cﬁ
 = 
cﬁ‹
; \

33026 
T
 *
±rd
 = 
	`d©a
(
x
,
y
,
z
); \

33027 i‡(
›acôy
>=1Ë
	`cimg_f‹C
(*
this
,
c
Ë{ *
±rd
 = (
T
)*(
cﬁ
++);Öåd+=
whd
; } \

33028 
	`cimg_f‹C
(*
this
,
c
Ë{ *
±rd
 = (
T
)(*(
cﬁ
++)*
n›acôy
 + *±rd*
c›acôy
);Öåd+=
whd
; } \

33029 }

	)

33031 
	#_cimg_døw_fûl_ö£π
(
x
,
y
,
z
) { \

33032 i‡(
po§1
>=
ªmaöög
.
_height
Ëªmaöög.
	`ªsize
(3,remaining._height<<1,1,1,0); \

33033 *
±º
 = 
ªmaöög
.
	`d©a
(0,
po§1
); \

33034 *(
±º
++Ë
x
; *’år++Ë
y
; *’år++Ë
z
; ++
po§1
; \

33035 }

	)

33037 
	#_cimg_døw_fûl_ã°_√ighb‹
(
x
,
y
,
z
,
c⁄d
) if (cond) { \

33038 c⁄° 
tx
 = 
x
, 
ty
 = 
y
, 
tz
 = 
z
; \

33039 
	`_cimg_døw_fûl_ã°
(
tx
,
ty
,
tz
,
ªs
); i‡‘esË
	`_cimg_døw_fûl_ö£π
(tx,ty,tz); \

33040 }

	)

33042 i‡(!
	gcﬁ‹
)

33043 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


33045 
cimg_ö°™˚
);

33047 
	gªgi⁄
.
assign
(
_width
,
_height
,
_dïth
,1,(
t
)0);

33048 i‡(
	gx
>=0 && 
x
<
width
(Ë&& 
y
>=0 && y<
height
(Ë&& 
z
>=0 && z<
dïth
()) {

33049 c⁄° 
n›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

33050 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
, 
	gsiz
 = ()
_•e˘rum
*
whd
;

33051 c⁄° 
	gW1
 = 
_width
-1, 
	gH1
 = 
_height
-1, 
	gD1
 = 
_dïth
-1;

33052 c⁄° 
boﬁ
 
	gis_3d
 = (
_dïth
>1);

33053 c⁄° 
	gCImg
<
	gT
> 
	gª„ªn˚_cﬁ‹
 = 
gë_ve˘‹_©
(
x
,
y
,
z
);

33054 
	gCImg
<
	guötT
> 
ªmaöög
(3,512,1,1,0);

33055 
ªmaöög
(0,0Ë
x
;Ñemaöög(1,0Ë
y
;Ñemaöög(2,0Ë
z
;

33056 
	gpo§0
 = 0, 
	gpo§1
 = 1;

33057 
ªgi⁄
(
x
,
y
,
z
Ë(
t
)1;

33058 c⁄° 
t
 
	gn‹egi⁄
 = ((t)1==(t)2)?(t)0:(t)(-1);

33059 i‡(
	gis_3d
) do {

33060 c⁄° *
	gpcuº
 = 
ªmaöög
.
d©a
(0,
po§0
++), 
	gxc
 = *(
pcuº
++), 
	gyc
 = *’cuº++), 
	gzc
 = *(pcurr++);

33061 i‡(
	gpo§0
>=512Ë{ 
ªmaöög
.
shi·
(0,-()
po§0
); 
	gpo§1
-=posr0;Öosr0 = 0; }

33062 
boﬁ
 
	gc⁄t
, 
	gªs
;

33063 
	gnxc
 = 
xc
;

33065 
_cimg_døw_fûl_£t
(
nxc
,
yc
,
zc
);

33066 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
-1,
zc
,yc!=0);

33067 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
+1,
zc
,yc<
H1
);

33068 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
,
zc
-1,zc!=0);

33069 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
,
zc
+1,zc<
D1
);

33070 i‡(
	gnxc
Ë{ --nxc; 
_cimg_døw_fûl_ã°
(
nxc
,
yc
,
zc
,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33071 } 
	gc⁄t
);

33072 
	gnxc
 = 
xc
;

33074 i‡((++
	gnxc
)<=
W1
Ë{ 
_cimg_døw_fûl_ã°
(
nxc
,
yc
,
zc
,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33075 i‡(
	gc⁄t
) {

33076 
_cimg_døw_fûl_£t
(
nxc
,
yc
,
zc
);

33077 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
-1,
zc
,yc!=0);

33078 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
+1,
zc
,yc<
H1
);

33079 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
,
zc
-1,zc!=0);

33080 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
,
zc
+1,zc<
D1
);

33082 } 
	gc⁄t
);

33083 
	gnyc
 = 
yc
;

33085 i‡(
	gnyc
Ë{ --nyc; 
_cimg_døw_fûl_ã°
(
xc
,
nyc
,
zc
,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33086 i‡(
	gc⁄t
) {

33087 
_cimg_døw_fûl_£t
(
xc
,
nyc
,
zc
);

33088 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
nyc
,
zc
,xc!=0);

33089 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
nyc
,
zc
,xc<
W1
);

33090 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
,
nyc
,
zc
-1,zc!=0);

33091 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
,
nyc
,
zc
+1,zc<
D1
);

33093 } 
	gc⁄t
);

33094 
	gnyc
 = 
yc
;

33096 i‡((++
	gnyc
)<=
H1
Ë{ 
_cimg_døw_fûl_ã°
(
xc
,
nyc
,
zc
,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33097 i‡(
	gc⁄t
) {

33098 
_cimg_døw_fûl_£t
(
xc
,
nyc
,
zc
);

33099 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
nyc
,
zc
,xc!=0);

33100 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
nyc
,
zc
,xc<
W1
);

33101 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
,
nyc
,
zc
-1,zc!=0);

33102 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
,
nyc
,
zc
+1,zc<
D1
);

33104 } 
	gc⁄t
);

33105 
	gnzc
 = 
zc
;

33107 i‡(
	gnzc
Ë{ --nzc; 
_cimg_døw_fûl_ã°
(
xc
,
yc
,
nzc
,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33108 i‡(
	gc⁄t
) {

33109 
_cimg_døw_fûl_£t
(
xc
,
yc
,
nzc
);

33110 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
yc
,
nzc
,xc!=0);

33111 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
yc
,
nzc
,xc<
W1
);

33112 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
,
yc
-1,
nzc
,yc!=0);

33113 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
,
yc
+1,
nzc
,yc<
H1
);

33115 } 
	gc⁄t
);

33116 
	gnzc
 = 
zc
;

33118 i‡((++
	gnzc
)<=
D1
Ë{ 
_cimg_døw_fûl_ã°
(
xc
,
yc
,
nzc
,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33119 i‡(
	gc⁄t
) {

33120 
_cimg_døw_fûl_£t
(
xc
,
nyc
,
zc
);

33121 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
yc
,
nzc
,xc!=0);

33122 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
yc
,
nzc
,xc<
W1
);

33123 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
,
yc
-1,
nzc
,yc!=0);

33124 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
,
yc
+1,
nzc
,yc<
H1
);

33126 } 
	gc⁄t
);

33127 } 
	gpo§1
>
	gpo§0
);

33129 c⁄° *
	gpcuº
 = 
ªmaöög
.
d©a
(0,
po§0
++), 
	gxc
 = *(
pcuº
++), 
	gyc
 = *(pcurr++);

33130 i‡(
	gpo§0
>=512Ë{ 
ªmaöög
.
shi·
(0,-()
po§0
); 
	gpo§1
-=posr0;Öosr0 = 0; }

33131 
boﬁ
 
	gc⁄t
, 
	gªs
;

33132 
	gnxc
 = 
xc
;

33134 
_cimg_døw_fûl_£t
(
nxc
,
yc
,0);

33135 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
-1,0,yc!=0);

33136 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
+1,0,yc<
H1
);

33137 i‡(
	gis_high_c⁄√xôy
) {

33138 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
-1,
yc
-1,0,(nxc!=0 && yc!=0));

33139 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
+1,
yc
-1,0,“xc<
W1
 && yc!=0));

33140 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
-1,
yc
+1,0,“xc!=0 && yc<
H1
));

33141 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
+1,
yc
+1,0,“xc<
W1
 && yc<
H1
));

33143 i‡(
	gnxc
Ë{ --nxc; 
_cimg_døw_fûl_ã°
(
nxc
,
yc
,0,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33144 } 
	gc⁄t
);

33145 
	gnxc
 = 
xc
;

33147 i‡((++
	gnxc
)<=
W1
Ë{ 
_cimg_døw_fûl_ã°
(
nxc
,
yc
,0,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33148 i‡(
	gc⁄t
) {

33149 
_cimg_døw_fûl_£t
(
nxc
,
yc
,0);

33150 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
-1,0,yc!=0);

33151 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
,
yc
+1,0,yc<
H1
);

33152 i‡(
	gis_high_c⁄√xôy
) {

33153 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
-1,
yc
-1,0,(nxc!=0 && yc!=0));

33154 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
+1,
yc
-1,0,“xc<
W1
 && yc!=0));

33155 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
-1,
yc
+1,0,“xc!=0 && yc<
H1
));

33156 
_cimg_døw_fûl_ã°_√ighb‹
(
nxc
+1,
yc
+1,0,“xc<
W1
 && yc<
H1
));

33159 } 
	gc⁄t
);

33160 
	gnyc
 = 
yc
;

33162 i‡(
	gnyc
Ë{ --nyc; 
_cimg_døw_fûl_ã°
(
xc
,
nyc
,0,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33163 i‡(
	gc⁄t
) {

33164 
_cimg_døw_fûl_£t
(
xc
,
nyc
,0);

33165 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
nyc
,0,xc!=0);

33166 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
nyc
,0,xc<
W1
);

33167 i‡(
	gis_high_c⁄√xôy
) {

33168 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
nyc
-1,0,(xc!=0 &&Çyc!=0));

33169 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
nyc
-1,0,(xc<
W1
 &&Çyc!=0));

33170 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
nyc
+1,0,(xc!=0 &&Çyc<
H1
));

33171 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
nyc
+1,0,(xc<
W1
 &&Çyc<
H1
));

33174 } 
	gc⁄t
);

33175 
	gnyc
 = 
yc
;

33177 i‡((++
	gnyc
)<=
H1
Ë{ 
_cimg_døw_fûl_ã°
(
xc
,
nyc
,0,
c⁄t
); } 
	gc⁄t
 = 
Ál£
;

33178 i‡(
	gc⁄t
) {

33179 
_cimg_døw_fûl_£t
(
xc
,
nyc
,0);

33180 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
nyc
,0,xc!=0);

33181 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
nyc
,0,xc<
W1
);

33182 i‡(
	gis_high_c⁄√xôy
) {

33183 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
nyc
-1,0,(xc!=0 &&Çyc!=0));

33184 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
nyc
-1,0,(xc<
W1
 &&Çyc!=0));

33185 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
-1,
nyc
+1,0,(xc!=0 &&Çyc<
H1
));

33186 
_cimg_døw_fûl_ã°_√ighb‹
(
xc
+1,
nyc
+1,0,(xc<
W1
 &&Çyc<
H1
));

33189 } 
	gc⁄t
);

33190 } 
	gpo§1
>
	gpo§0
);

33191 i‡(
	gn‹egi⁄
Ë
cimg_f‹
(
ªgi⁄
,
±rd
,
t
Ëi‡(*
	g±rd
==
n‹egi⁄
) *ptrd = (t)0;

33193  *
	gthis
;

33197 
	gãm∂©e
<
ty≥«me
 
	gtc
>

33198 
	gCImg
<
	gT
>& 
døw_fûl
(c⁄° 
x
, c⁄° 
y
, c⁄° 
z
,

33199 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

33200 c⁄° 
sigma
=0, c⁄° 
boﬁ
 
is_high_c⁄√xôy
=
Ál£
) {

33201 
CImg
<
boﬁT
> 
tmp
;

33202  
døw_fûl
(
x
,
y
,
z
,
cﬁ‹
,
›acôy
,
tmp
,
sigma
,
is_high_c⁄√xôy
);

33206 
	gãm∂©e
<
ty≥«me
 
	gtc
>

33207 
	gCImg
<
	gT
>& 
døw_fûl
(c⁄° 
x
, c⁄° 
y
,

33208 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1,

33209 c⁄° 
sigma
=0, c⁄° 
boﬁ
 
is_high_c⁄√xôy
=
Ál£
) {

33210 
CImg
<
boﬁT
> 
tmp
;

33211  
døw_fûl
(
x
,
y
,0,
cﬁ‹
,
›acôy
,
tmp
,
sigma
,
is_high_c⁄√xôy
);

33221 
	gCImg
<
	gT
>& 
døw_∂asma
(c⁄° 
Æpha
=1, c⁄° 
bëa
=0, c⁄° 
sˇÀ
=8) {

33222 i‡(
is_em±y
()Ë *
this
;

33223 c⁄° 
	gw
 = 
width
(), 
	gh
 = 
height
();

33224 c⁄° 
TÊﬂt
 
	gm
 = (TÊﬂt)
cimg
::
ty≥
<
T
>::
mö
(), 
	gM
 = (TÊﬂt)cimg::ty≥<T>::
max
();

33225 
cimg_f‹ZC
(*
this
,
z
,
c
) {

33226 
	gCImg
<
	gT
> 
	gªf
 = 
gë_sh¨ed_¶i˚
(
z
,
c
);

33227 
	gdñè
 = 1<<
cimg
::
mö
(
sˇÀ
,31U); delta>1; delta>>=1) {

33228 c⁄° 
dñè2
 = 
dñè
>>1;

33229 c⁄° 
	gr
 = 
Æpha
*
dñè
 + 
bëa
;

33232 
	gy0
 = 0; y0<
	gh
; y0+=
dñè
)

33233 
x0
 = 0; 
	gx0
<
	gw
; x0+=
dñè
) {

33234 c⁄° 
x1
 = (
x0
 + 
dñè
)%
w
, 
	gy1
 = (
y0
 + dñè)%
h
, 
	gxc
 = (x0 + 
dñè2
)%w, 
	gyc
 = (y0 + delta2)%h;

33235 c⁄° 
TÊﬂt
 
	gvÆ
 = (TÊﬂt)(0.25f*(
ªf
(
x0
,
y0
Ë+Ñef(x0,
y1
Ë+Ñef(x0,y1Ë+Ñef(
x1
,y1)Ë+ 
r
*
	gcimg
::
¸™d
());

33236 
ªf
(
xc
,
yc
Ë(
T
)(
vÆ
<
m
?m:vÆ>
M
?M:val);

33240 
	gy
 = -
dñè2
; y<
	gh
; y+=
dñè
)

33241 
x0
=0; 
	gx0
<
	gw
; x0+=
dñè
) {

33242 c⁄° 
y0
 = 
cimg
::
mod
(
y
,
h
), 
	gx1
 = (
x0
 + 
dñè
)%
w
, 
	gy1
 = (y + dñè)%h, 
	gxc
 = (x0 + 
dñè2
)%w, 
	gyc
 = (y + delta2)%h;

33243 c⁄° 
TÊﬂt
 
	gvÆ
 = (TÊﬂt)(0.25f*(
ªf
(
xc
,
y0
Ë+Ñef(
x0
,
yc
Ë+Ñef(xc,
y1
Ë+Ñef(
x1
,yc)Ë+ 
r
*
	gcimg
::
¸™d
());

33244 
ªf
(
xc
,
yc
Ë(
T
)(
vÆ
<
m
?m:vÆ>
M
?M:val);

33246 
	gy0
 = 0; y0<
	gh
; y0+=
dñè
)

33247 
x
 = -
dñè2
; 
	gx
<
	gw
; x+=
dñè
) {

33248 c⁄° 
x0
 = 
cimg
::
mod
(
x
,
w
), 
	gx1
 = (x + 
dñè
)%w, 
	gy1
 = (
y0
 + dñè)%
h
, 
	gxc
 = (x + 
dñè2
)%w, 
	gyc
 = (y0 + delta2)%h;

33249 c⁄° 
TÊﬂt
 
	gvÆ
 = (TÊﬂt)(0.25f*(
ªf
(
xc
,
y0
Ë+Ñef(
x0
,
yc
Ë+Ñef(xc,
y1
Ë+Ñef(
x1
,yc)Ë+ 
r
*
	gcimg
::
¸™d
());

33250 
ªf
(
xc
,
yc
Ë(
T
)(
vÆ
<
m
?m:vÆ>
M
?M:val);

33252 
	gy
 = -
dñè2
; y<
	gh
; y+=
dñè
)

33253 
x
 = -
dñè2
; 
	gx
<
	gw
; x+=
dñè
) {

33254 c⁄° 
x0
 = 
cimg
::
mod
(
x
,
w
), 
	gy0
 = cimg::mod(
y
,
h
), 
	gx1
 = (x + 
dñè
)%w, 
	gy1
 = (y + dñè)%h, 
	gxc
 = (x + 
dñè2
)%w, 
	gyc
 = (y + delta2)%h;

33255 c⁄° 
TÊﬂt
 
	gvÆ
 = (TÊﬂt)(0.25f*(
ªf
(
xc
,
y0
Ë+Ñef(
x0
,
yc
Ë+Ñef(xc,
y1
Ë+Ñef(
x1
,yc)Ë+ 
r
*
	gcimg
::
¸™d
());

33256 
ªf
(
xc
,
yc
Ë(
T
)(
vÆ
<
m
?m:vÆ>
M
?M:val);

33260  *
	gthis
;

33282 
	gãm∂©e
<
ty≥«me
 
	gtc
>

33283 
	gCImg
<
	gT
>& 
døw_m™dñbrŸ
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
x1
, c⁄° 
y1
,

33284 c⁄° 
CImg
<
tc
>& 
cﬁ‹m≠
, c⁄° 
›acôy
=1,

33285 c⁄° 
z0r
=-2, c⁄° 
z0i
=-2, c⁄° 
z1r
=2, c⁄° 
z1i
=2,

33286 c⁄° 
ôî©i⁄_max
=255,

33287 c⁄° 
boﬁ
 
is_n‹mÆized_ôî©i⁄
=
Ál£
,

33288 c⁄° 
boﬁ
 
is_julü_£t
=
Ál£
,

33289 c⁄° 
∑øm_r
=0, c⁄° 
∑øm_i
=0) {

33290 i‡(
is_em±y
()Ë *
this
;

33291 
	gCImg
<
	gtc
> 
	g∑Àâe
;

33292 i‡(
	gcﬁ‹m≠
Ë
	g∑Àâe
.
assign
(
cﬁ‹m≠
.
_d©a
,cﬁ‹m≠.
size
()/cﬁ‹m≠.
_•e˘rum
,1,1,cﬁ‹m≠._•e˘rum,
åue
);

33293 i‡(
	g∑Àâe
 &&ÖÆëã.
	g_•e˘rum
!=
_•e˘rum
)

33294 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


33296 
cimg_ö°™˚
,

33297 
cﬁ‹m≠
.
_width
,cﬁ‹m≠.
_height
,cﬁ‹m≠.
_dïth
,cﬁ‹m≠.
_•e˘rum
,cﬁ‹m≠.
_d©a
);

33299 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(›acôy,0), 
	g 2
 = ()
°d
::
log
(2.0);

33300 
	gôî©i⁄
 = 0;

33301 
cimg_f‹_öXY
(*
this
,
x0
,
y0
,
x1
,
y1
,
p
,
q
) {

33302 c⁄° 
	gx
 = 
z0r
 + 
p
*(
z1r
-z0r)/
_width
, 
	gy
 = 
z0i
 + 
q
*(
z1i
-z0i)/
_height
;

33303 
	gzr
, 
	gzi
, 
	g¸
, 
	gci
;

33304 i‡(
	gis_julü_£t
Ë{ 
	gzr
 = 
x
; 
	gzi
 = 
y
; 
	g¸
 = 
∑øm_r
; 
	gci
 = 
∑øm_i
; }

33305 { 
	gzr
 = 
∑øm_r
; 
	gzi
 = 
∑øm_i
; 
	g¸
 = 
x
; 
	gci
 = 
y
; }

33306 
	gôî©i⁄
=1; 
zr
*
	gzr
 + 
zi
*
	gzi
<=4 && 
ôî©i⁄
<=
ôî©i⁄_max
; ++iteration) {

33307 c⁄° 
	gãmp
 = 
zr
*z∏- 
zi
*zò+ 
¸
;

33308 
	gzi
 = 2*
zr
*
zi
 + 
ci
;

33309 
	gzr
 = 
ãmp
;

33311 i‡(
	gôî©i⁄
>
	gôî©i⁄_max
) {

33312 i‡(
	g∑Àâe
) {

33313 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)
∑Àâe
(0,c);

33314 
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)(
∑Àâe
(0,c)*
	gn›acôy
 + (*this)’,q,0,c)*
	gc›acôy
);

33316 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)0;

33317 
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)((*this)(
p
,q,0,c)*
	gc›acôy
);

33319 } i‡(
	gis_n‹mÆized_ôî©i⁄
) {

33321 
	gn‹mz
 = ()
cimg
::
abs
(
zr
*zr+
zi
*zi),

33322 
	gnôî©i⁄
 = ()(
ôî©i⁄
 + 1 - 
°d
::
log
(°d::log(
n‹mz
))/
 2
);

33323 i‡(
	g∑Àâe
) {

33324 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)
∑Àâe
.
_löór_©X
(
nôî©i⁄
,c);

33325 
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)(
∑Àâe
.
_löór_©X
(
nôî©i⁄
,c)*
	gn›acôy
 + (*this)’,q,0,c)*
	gc›acôy
);

33327 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)
nôî©i⁄
;

33328 
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)(
nôî©i⁄
*
n›acôy
 + (*this)(
p
,q,0,c)*
	gc›acôy
);

33331 i‡(
	g∑Àâe
) {

33332 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)
∑Àâe
.
_©X
(
ôî©i⁄
,c);

33333 
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)(
∑Àâe
(
ôî©i⁄
,c)*
	gn›acôy
 + (*this)’,q,0,c)*
	gc›acôy
);

33335 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)
ôî©i⁄
;

33336 
cimg_f‹C
(*
this
,
c
Ë(*
	gthis
)(
	gp
,
	gq
,0,
	gc
Ë(
T
)(
ôî©i⁄
*
n›acôy
 + (*this)(
p
,q,0,c)*
	gc›acôy
);

33340  *
	gthis
;

33344 
	gãm∂©e
<
ty≥«me
 
	gtc
>

33345 
	gCImg
<
	gT
>& 
døw_m™dñbrŸ
(c⁄° 
CImg
<
tc
>& 
cﬁ‹m≠
, c⁄° 
›acôy
=1,

33346 c⁄° 
z0r
=-2, c⁄° 
z0i
=-2, c⁄° 
z1r
=2, c⁄° 
z1i
=2,

33347 c⁄° 
ôî©i⁄_max
=255,

33348 c⁄° 
boﬁ
 
is_n‹mÆized_ôî©i⁄
=
Ál£
,

33349 c⁄° 
boﬁ
 
is_julü_£t
=
Ál£
,

33350 c⁄° 
∑øm_r
=0, c⁄° 
∑øm_i
=0) {

33351  
døw_m™dñbrŸ
(0,0,
_width
-1,
_height
-1,
cﬁ‹m≠
,
›acôy
,

33352 
z0r
,
z0i
,
z1r
,
z1i
,
ôî©i⁄_max
,
is_n‹mÆized_ôî©i⁄
,
is_julü_£t
,
∑øm_r
,
∑øm_i
);

33362 
	gãm∂©e
<
ty≥«me
 
	gtc
>

33363 
	gCImg
<
	gT
>& 
døw_gaussün
(c⁄° 
xc
, c⁄° 
sigma
,

33364 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

33365 i‡(
is_em±y
()Ë *
this
;

33366 i‡(!
	gcﬁ‹
)

33367 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


33369 
cimg_ö°™˚
);

33370 c⁄° 
	gsigma2
 = 2*
sigma
*sigma, 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

33371 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

33372 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

33373 
cimg_f‹X
(*
this
,
x
) {

33374 c⁄° 
	gdx
 = (
x
 - 
xc
), 
	gvÆ
 = ()
°d
::
exp
(-
dx
*dx/
sigma2
);

33375 
T
 *
	g±rd
 = 
d©a
(
x
,0,0,0);

33376 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
vÆ
*(*
cﬁ
++));Öåd+=
whd
; }

33377 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
*(*
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
whd
; }

33378 
	gcﬁ
-=
_•e˘rum
;

33380  *
	gthis
;

33391 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

33392 
	gCImg
<
	gT
>& 
døw_gaussün
(c⁄° 
xc
, c⁄° 
yc
, c⁄° 
CImg
<
t
>& 
ãns‹
,

33393 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

33394 i‡(
is_em±y
()Ë *
this
;

33395 i‡(
	gãns‹
.
	g_width
!=2 || 
ãns‹
.
_height
!=2 ||Åís‹.
_dïth
!=1 ||Åís‹.
_•e˘rum
!=1)

33396 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


33398 
cimg_ö°™˚
,

33399 
ãns‹
.
_width
,ãns‹.
_height
,ãns‹.
_dïth
,ãns‹.
_•e˘rum
,ãns‹.
_d©a
);

33400 i‡(!
	gcﬁ‹
)

33401 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


33403 
cimg_ö°™˚
);

33404 
ty≥«me
 
	tCImg
<
	tt
>::
	tTÊﬂt
 
	ttÊﬂt
;

33405 c⁄° 
	gCImg
<
	gtÊﬂt
> 
	gövT
 = 
ãns‹
.
gë_övît
(), 
	gövT2
 = (
övT
*invT)/(-2.0);

33406 c⁄° 
tÊﬂt
 
	ga
 = 
övT2
(0,0), 
	gb
 = 2*övT2(1,0), 
	gc
 = invT2(1,1);

33407 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

33408 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

33409 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

33410 
	gdy
 = -
yc
;

33411 
cimg_f‹Y
(*
this
,
y
) {

33412 
	gdx
 = -
xc
;

33413 
cimg_f‹X
(*
this
,
x
) {

33414 c⁄° 
	gvÆ
 = ()
°d
::
exp
(
a
*
dx
*dx + 
b
*dx*
dy
 + 
c
*dy*dy);

33415 
T
 *
	g±rd
 = 
d©a
(
x
,
y
,0,0);

33416 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
vÆ
*(*
cﬁ
++));Öåd+=
whd
; }

33417 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
*(*
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
whd
; }

33418 
	gcﬁ
-=
_•e˘rum
;

33419 ++
	gdx
;

33421 ++
	gdy
;

33423  *
	gthis
;

33427 
	gãm∂©e
<
ty≥«me
 
	gtc
>

33428 
	gCImg
<
	gT
>& 
døw_gaussün
(c⁄° 
xc
, c⁄° 
yc
, c⁄° 
r1
, c⁄° 
r2
, c⁄° 
ru
, c⁄° 
rv
,

33429 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

33431 
a
 = 
r1
*
ru
*ru + 
r2
*
rv
*rv,

33432 
	gb
 = (
r1
-
r2
)*
ru
*
rv
,

33433 
	gc
 = 
r1
*
rv
*rv + 
r2
*
ru
*ru;

33434 c⁄° 
	gCImg
<
	gTÊﬂt
> 
ãns‹
(2,2,1,1, 
a
,
b
,b,
c
);

33435  
døw_gaussün
(
xc
,
yc
,
ãns‹
,
cﬁ‹
,
›acôy
);

33439 
	gãm∂©e
<
ty≥«me
 
	gtc
>

33440 
	gCImg
<
	gT
>& 
døw_gaussün
(c⁄° 
xc
, c⁄° 
yc
, c⁄° 
sigma
,

33441 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

33442  
døw_gaussün
(
xc
,
yc
,
CImg
<
ÊﬂtT
>::
düg⁄Æ
(
sigma
,sigma),
cﬁ‹
,
›acôy
);

33446 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gtc
>

33447 
	gCImg
<
	gT
>& 
døw_gaussün
(c⁄° 
xc
, c⁄° 
yc
, c⁄° 
zc
, c⁄° 
CImg
<
t
>& 
ãns‹
,

33448 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

33449 i‡(
is_em±y
()Ë *
this
;

33450 
ty≥«me
 
	tCImg
<
	tt
>::
	tTÊﬂt
 
	ttÊﬂt
;

33451 i‡(
	gãns‹
.
	g_width
!=3 || 
ãns‹
.
_height
!=3 ||Åís‹.
_dïth
!=1 ||Åís‹.
_•e˘rum
!=1)

33452 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


33454 
cimg_ö°™˚
,

33455 
ãns‹
.
_width
,ãns‹.
_height
,ãns‹.
_dïth
,ãns‹.
_•e˘rum
,ãns‹.
_d©a
);

33457 c⁄° 
	gCImg
<
	gtÊﬂt
> 
	gövT
 = 
ãns‹
.
gë_övît
(), 
	gövT2
 = (
övT
*invT)/(-2.0);

33458 c⁄° 
tÊﬂt
 
	ga
 = 
övT2
(0,0), 
	gb
 = 2*övT2(1,0), 
	gc
 = 2*övT2(2,0), 
	gd
 = invT2(1,1), 
	ge
 = 2*övT2(2,1), 
	gf
 = invT2(2,2);

33459 c⁄° 
	gn›acôy
 = 
cimg
::
abs
(
›acôy
), 
	gc›acôy
 = 1 - cimg::
max
(opacity,0);

33460 c⁄° 
	gwhd
 = ()
_width
*
_height
*
_dïth
;

33461 c⁄° 
tc
 *
	gcﬁ
 = 
cﬁ‹
;

33462 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

33464 
	gdx
 = (
x
 - 
xc
), 
	gdy
 = (
y
 - 
yc
), 
	gdz
 = (
z
 - 
zc
),

33465 
	gvÆ
 = ()
°d
::
exp
(
a
*
dx
*dx + 
b
*dx*
dy
 + 
c
*dx*
dz
 + 
d
*dy*dy + 
e
*dy*dz + 
f
*dz*dz);

33466 
T
 *
	g±rd
 = 
d©a
(
x
,
y
,
z
,0);

33467 i‡(
	g›acôy
>=1Ë
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
vÆ
*(*
cﬁ
++));Öåd+=
whd
; }

33468 
cimg_f‹C
(*
this
,
c
Ë{ *
	g±rd
 = (
T
)(
n›acôy
*
vÆ
*(*
cﬁ
++Ë+ *
±rd
*
c›acôy
);Öåd+=
whd
; }

33469 
	gcﬁ
-=
_•e˘rum
;

33471  *
	gthis
;

33475 
	gãm∂©e
<
ty≥«me
 
	gtc
>

33476 
	gCImg
<
	gT
>& 
døw_gaussün
(c⁄° 
xc
, c⁄° 
yc
, c⁄° 
zc
, c⁄° 
sigma
,

33477 c⁄° 
tc
 *c⁄° 
cﬁ‹
, c⁄° 
›acôy
=1) {

33478  
døw_gaussün
(
xc
,
yc
,
zc
,
CImg
<
ÊﬂtT
>::
düg⁄Æ
(
sigma
,sigma,sigma),
cﬁ‹
,
›acôy
);

33499 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

33500 
	gCImg
<
	gT
>& 
døw_obje˘3d
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33501 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33502 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
, c⁄° 
CImg
<
to
>& 
›acôõs
,

33503 c⁄° 
ªndî_ty≥
=4,

33504 c⁄° 
boﬁ
 
is_doubÀ_sided
=
Ál£
, c⁄° 
foˇÀ
=700,

33505 c⁄° 
lightx
=0, c⁄° 
lighty
=0, c⁄° 
lightz
=-5e8,

33506 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f) {

33507  
døw_obje˘3d
(
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,

33508 
•ecuœr_lighäess
,
•ecuœr_shööess
,
CImg
<
ÊﬂtT
>::
em±y
());

33512 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
,Åy≥«mê
	gtz
>

33513 
	gCImg
<
	gT
>& 
døw_obje˘3d
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33514 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33515 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
, c⁄° 
CImg
<
to
>& 
›acôõs
,

33516 c⁄° 
ªndî_ty≥
,

33517 c⁄° 
boﬁ
 
is_doubÀ_sided
, c⁄° 
foˇÀ
,

33518 c⁄° 
lightx
, c⁄° 
lighty
, c⁄° 
lightz
,

33519 c⁄° 
•ecuœr_lighäess
, c⁄° 
•ecuœr_shööess
,

33520 
CImg
<
tz
>& 
zbuf„r
) {

33521  
_døw_obje˘3d
(0,
zbuf„r
,
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,

33522 
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,
•ecuœr_lighäess
,
•ecuœr_shööess
,1);

33525 #ifde‡
cimg_u£_bﬂrd


33526 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

33527 
	gCImg
<
	gT
>& 
døw_obje˘3d
(
LibBﬂrd
::
Bﬂrd
& 
bﬂrd
,

33528 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33529 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33530 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
, c⁄° 
CImg
<
to
>& 
›acôõs
,

33531 c⁄° 
ªndî_ty≥
=4,

33532 c⁄° 
boﬁ
 
is_doubÀ_sided
=
Ál£
, c⁄° 
foˇÀ
=700,

33533 c⁄° 
lightx
=0, c⁄° 
lighty
=0, c⁄° 
lightz
=-5e8,

33534 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f) {

33535  
døw_obje˘3d
(
bﬂrd
,
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,

33536 
•ecuœr_lighäess
,
•ecuœr_shööess
,
CImg
<
ÊﬂtT
>::
em±y
());

33539 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
,Åy≥«mê
	gtz
>

33540 
	gCImg
<
	gT
>& 
døw_obje˘3d
(
LibBﬂrd
::
Bﬂrd
& 
bﬂrd
,

33541 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33542 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33543 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
, c⁄° 
CImg
<
to
>& 
›acôõs
,

33544 c⁄° 
ªndî_ty≥
,

33545 c⁄° 
boﬁ
 
is_doubÀ_sided
, c⁄° 
foˇÀ
,

33546 c⁄° 
lightx
, c⁄° 
lighty
, c⁄° 
lightz
,

33547 c⁄° 
•ecuœr_lighäess
, c⁄° 
•ecuœr_shööess
,

33548 
CImg
<
tz
>& 
zbuf„r
) {

33549  
_døw_obje˘3d
((*)&
bﬂrd
,
zbuf„r
,
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,

33550 
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,
•ecuœr_lighäess
,
•ecuœr_shööess
,1);

33555 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

33556 
	gCImg
<
	gT
>& 
døw_obje˘3d
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33557 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33558 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
, c⁄° CImgLi°<
to
>& 
›acôõs
,

33559 c⁄° 
ªndî_ty≥
=4,

33560 c⁄° 
boﬁ
 
is_doubÀ_sided
=
Ál£
, c⁄° 
foˇÀ
=700,

33561 c⁄° 
lightx
=0, c⁄° 
lighty
=0, c⁄° 
lightz
=-5e8,

33562 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f) {

33563  
døw_obje˘3d
(
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,

33564 
•ecuœr_lighäess
,
•ecuœr_shööess
,
CImg
<
ÊﬂtT
>::
em±y
());

33568 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
,Åy≥«mê
	gtz
>

33569 
	gCImg
<
	gT
>& 
døw_obje˘3d
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33570 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33571 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
, c⁄° CImgLi°<
to
>& 
›acôõs
,

33572 c⁄° 
ªndî_ty≥
,

33573 c⁄° 
boﬁ
 
is_doubÀ_sided
, c⁄° 
foˇÀ
,

33574 c⁄° 
lightx
, c⁄° 
lighty
, c⁄° 
lightz
,

33575 c⁄° 
•ecuœr_lighäess
, c⁄° 
•ecuœr_shööess
,

33576 
CImg
<
tz
>& 
zbuf„r
) {

33577  
_døw_obje˘3d
(0,
zbuf„r
,
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,

33578 
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,
•ecuœr_lighäess
,
•ecuœr_shööess
,1);

33581 #ifde‡
cimg_u£_bﬂrd


33582 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

33583 
	gCImg
<
	gT
>& 
døw_obje˘3d
(
LibBﬂrd
::
Bﬂrd
& 
bﬂrd
,

33584 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33585 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33586 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
, c⁄° CImgLi°<
to
>& 
›acôõs
,

33587 c⁄° 
ªndî_ty≥
=4,

33588 c⁄° 
boﬁ
 
is_doubÀ_sided
=
Ál£
, c⁄° 
foˇÀ
=700,

33589 c⁄° 
lightx
=0, c⁄° 
lighty
=0, c⁄° 
lightz
=-5e8,

33590 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f) {

33591  
døw_obje˘3d
(
bﬂrd
,
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,

33592 
•ecuœr_lighäess
,
•ecuœr_shööess
,
CImg
<
ÊﬂtT
>::
em±y
());

33595 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
,Åy≥«mê
	gtz
>

33596 
	gCImg
<
	gT
>& 
døw_obje˘3d
(
LibBﬂrd
::
Bﬂrd
& 
bﬂrd
,

33597 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33598 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33599 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
, c⁄° CImgLi°<
to
>& 
›acôõs
,

33600 c⁄° 
ªndî_ty≥
,

33601 c⁄° 
boﬁ
 
is_doubÀ_sided
, c⁄° 
foˇÀ
,

33602 c⁄° 
lightx
, c⁄° 
lighty
, c⁄° 
lightz
,

33603 c⁄° 
•ecuœr_lighäess
, c⁄° 
•ecuœr_shööess
,

33604 
CImg
<
tz
>& 
zbuf„r
) {

33605  
_døw_obje˘3d
((*)&
bﬂrd
,
zbuf„r
,
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,

33606 
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,
•ecuœr_lighäess
,
•ecuœr_shööess
,1);

33611 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
>

33612 
	gCImg
<
	gT
>& 
døw_obje˘3d
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33613 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33614 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

33615 c⁄° 
ªndî_ty≥
=4,

33616 c⁄° 
boﬁ
 
is_doubÀ_sided
=
Ál£
, c⁄° 
foˇÀ
=700,

33617 c⁄° 
lightx
=0, c⁄° 
lighty
=0, c⁄° 
lightz
=-5e8,

33618 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f) {

33619  
døw_obje˘3d
(
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
CImg
<
ÊﬂtT
>::
em±y
(),

33620 
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,
•ecuœr_lighäess
,
•ecuœr_shööess
,
CImg
<
ÊﬂtT
>::
em±y
());

33624 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gtz
>

33625 
	gCImg
<
	gT
>& 
døw_obje˘3d
(c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33626 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33627 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

33628 c⁄° 
ªndî_ty≥
,

33629 c⁄° 
boﬁ
 
is_doubÀ_sided
, c⁄° 
foˇÀ
,

33630 c⁄° 
lightx
, c⁄° 
lighty
, c⁄° 
lightz
,

33631 c⁄° 
•ecuœr_lighäess
, c⁄° 
•ecuœr_shööess
,

33632 
CImg
<
tz
>& 
zbuf„r
) {

33633  
døw_obje˘3d
(
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
CImg
<
ÊﬂtT
>::
em±y
(),

33634 
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,
•ecuœr_lighäess
,
•ecuœr_shööess
,
zbuf„r
);

33637 #ifde‡
cimg_u£_bﬂrd


33638 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

33639 
	gCImg
<
	gT
>& 
døw_obje˘3d
(
LibBﬂrd
::
Bﬂrd
& 
bﬂrd
,

33640 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33641 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33642 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

33643 c⁄° 
ªndî_ty≥
=4,

33644 c⁄° 
boﬁ
 
is_doubÀ_sided
=
Ál£
, c⁄° 
foˇÀ
=700,

33645 c⁄° 
lightx
=0, c⁄° 
lighty
=0, c⁄° 
lightz
=-5e8,

33646 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f) {

33647  
døw_obje˘3d
(
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
CImg
<
ÊﬂtT
>::
em±y
(),

33648 
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,
•ecuœr_lighäess
,
•ecuœr_shööess
,
CImg
<
ÊﬂtT
>::
em±y
());

33651 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
,Åy≥«mê
	gtz
>

33652 
	gCImg
<
	gT
>& 
døw_obje˘3d
(
LibBﬂrd
::
Bﬂrd
& 
bﬂrd
,

33653 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
,

33654 c⁄° 
CImg
<
ç
>& 
vîti˚s
, c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33655 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

33656 c⁄° 
ªndî_ty≥
,

33657 c⁄° 
boﬁ
 
is_doubÀ_sided
, c⁄° 
foˇÀ
,

33658 c⁄° 
lightx
, c⁄° 
lighty
, c⁄° 
lightz
,

33659 c⁄° 
•ecuœr_lighäess
, c⁄° 
•ecuœr_shööess
,

33660 
CImg
<
tz
>& 
zbuf„r
) {

33661  
døw_obje˘3d
(
x0
,
y0
,
z0
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
CImg
<
ÊﬂtT
>::
em±y
(),

33662 
ªndî_ty≥
,
is_doubÀ_sided
,
foˇÀ
,
lightx
,
lighty
,
lightz
,
•ecuœr_lighäess
,
•ecuœr_shööess
,
zbuf„r
);

33666 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gto
>

33667 
__døw_obje˘3d
(c⁄° 
CImgLi°
<
t
>& 
›acôõs
, c⁄° 
n_¥imôive
, 
CImg
<
to
>& 
›acôy
) {

33668 i‡(
	gn_¥imôive
>=
›acôõs
.
_width
 || o∑côõs[
n_¥imôive
].
is_em±y
()Ë{ 
›acôy
.
assign
();  1; }

33669 i‡(
	g›acôõs
[
n_¥imôive
].
size
()==1Ë{ 
›acôy
.
assign
();  
›acôõs
(n_primitive,0); }

33670 
	g›acôy
.
assign
(
›acôõs
[
n_¥imôive
],
åue
);

33674 
	gãm∂©e
<
ty≥«me
 
	gt
,Åy≥«mê
	gto
>

33675 
__døw_obje˘3d
(c⁄° 
CImg
<
t
>& 
›acôõs
, c⁄° 
n_¥imôive
, CImg<
to
>& 
›acôy
) {

33676 
	g›acôy
.
assign
();

33677  
	gn_¥imôive
>=
›acôõs
.
_width
?1.0f:()›acôõs[
n_¥imôive
];

33680 
	gãm∂©e
<
ty≥«me
 
	gtz
,Åy≥«mê
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

33681 
	gCImg
<
	gT
>& 
_døw_obje˘3d
(*c⁄° 
pbﬂrd
, 
CImg
<
tz
>& 
zbuf„r
,

33682 c⁄° 
X
, c⁄° 
Y
, c⁄° 
Z
,

33683 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

33684 c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

33685 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

33686 c⁄° 
to
& 
›acôõs
,

33687 c⁄° 
ªndî_ty≥
,

33688 c⁄° 
boﬁ
 
is_doubÀ_sided
, c⁄° 
foˇÀ
,

33689 c⁄° 
lightx
, c⁄° 
lighty
, c⁄° 
lightz
,

33690 c⁄° 
•ecuœr_lighäess
, c⁄° 
•ecuœr_shööess
,

33691 c⁄° 
•rôe_sˇÀ
) {

33692 
ty≥«me
 
	tcimg
::
	tsu≥r£t2
<
	tç
,
	ttz
,>::
	tty≥
 
	tçÊﬂt
;

33693 i‡(
is_em±y
(Ë|| !
	gvîti˚s
 || !
	g¥imôives
Ë *
	gthis
;

33694 
	gîr‹_mesßge
[1024] = { 0 };

33695 i‡(!
	gvîti˚s
.
is_obje˘3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
Ál£
,
îr‹_mesßge
))

33696 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


33698 
cimg_ö°™˚
,
vîti˚s
.
_width
,
¥imôives
._width,
îr‹_mesßge
);

33699 i‡(
	gªndî_ty≥
==5Ë
cimg
::
muãx
(10);

33701 #i‚de‡
cimg_u£_bﬂrd


33702 i‡(
	gpbﬂrd
Ë *
	gthis
;

33705 
	gn•ec
 = 1 - (
•ecuœr_lighäess
<0.0f?0.0f:(specular_lightness>1.0f?1.0f:specular_lightness)),

33706 
	gn•ec2
 = 1 + (
•ecuœr_shööess
<0.0f?0.0f:specular_shininess),

33707 
	gn¶1
 = (
n•ec2
 - 1)/
cimg
::
sqr
(
n•ec
 - 1),

33708 
	gn¶2
 = 1 - 2*
n¶1
*
n•ec
,

33709 
	gn¶3
 = 
n•ec2
 - 
n¶1
 - 
n¶2
;

33712 
	gCImg
<
	gÊﬂtT
> 
	glight_ãxtuª
;

33713 i‡(
	gªndî_ty≥
==5) {

33714 i‡(
cﬁ‹s
.
_width
>
¥imôives
._width) {

33715 
CImg
<
ÊﬂtT
> 
deÁu…_light_ãxtuª
;

33716 c⁄° 
tc
 *
	gÕå
 = 0;

33717 
tc
 
	gªf_vÆues
[64] = { 0 };

33718 c⁄° 
	gCImg
<
	gtc
>& 
	gimg
 = 
cﬁ‹s
.
back
();

33719 
boﬁ
 
	gis_ßme_ãxtuª
 = (
Õå
==
img
.
_d©a
);

33720 i‡(
	gis_ßme_ãxtuª
)

33721 
	gr
 = 0, 
	gj
 = 0; j<8; ++j)

33722 
	gi
 = 0; i<8; ++i)

33723 i‡(
	gªf_vÆues
[
r
++]!=
img
(
i
*img.
_width
/9,
j
*img.
_height
/9,0,(i+j)%img.
_•e˘rum
)Ë{ 
	gis_ßme_ãxtuª
 = 
Ál£
; ; }

33724 i‡(!
	gis_ßme_ãxtuª
 || 
	gdeÁu…_light_ãxtuª
.
	g_•e˘rum
<_spectrum) {

33725 (
	gdeÁu…_light_ãxtuª
.
assign
(
img
,
Ál£
)/=255).
ªsize
(-100,-100,1,
_•e˘rum
);

33726 
	gÕå
 = 
cﬁ‹s
.
back
().
d©a
();

33727 
	gr
 = 0, 
	gj
 = 0; j<8; ++j)

33728 
	gi
 = 0; i<8; ++i)

33729 
	gªf_vÆues
[
r
++] = 
img
(
i
*img.
_width
/9,
j
*img.
_height
/9,0,(i+j)%img.
_•e˘rum
);

33731 
	glight_ãxtuª
.
assign
(
deÁu…_light_ãxtuª
,
åue
);

33733 
	gCImg
<
	gÊﬂtT
> 
	gdeÁu…_light_ãxtuª
;

33734 
	gﬁightx
 = 0, 
	gﬁighty
 = 0, 
	gﬁightz
 = 0, 
	go•ecuœr_shööess
 = 0;

33735 i‡(!
	gdeÁu…_light_ãxtuª
 ||

33736 
	glightx
!=
ﬁightx
 || 
lighty
!=
ﬁighty
 || 
lightz
!=
ﬁightz
 ||

33737 
•ecuœr_shööess
!=
o•ecuœr_shööess
 || 
deÁu…_light_ãxtuª
.
_•e˘rum
<_spectrum) {

33738 
deÁu…_light_ãxtuª
.
assign
(512,512);

33740 
	gdlx
 = 
lightx
 - 
X
,

33741 
	gdly
 = 
lighty
 - 
Y
,

33742 
	gdlz
 = 
lightz
 - 
Z
,

33743 
	g∆
 = ()
°d
::
sqπ
(
dlx
*dlx + 
dly
*dly + 
dlz
*dlz),

33744 
	g∆x
 = (
deÁu…_light_ãxtuª
.
_width
 - 1)/2*(1 + 
dlx
/
∆
),

33745 
	g∆y
 = (
deÁu…_light_ãxtuª
.
_height
 - 1)/2*(1 + 
dly
/
∆
),

33746 
	gwhôe
[] = { 1 };

33747 
	gdeÁu…_light_ãxtuª
.
døw_gaussün
(
∆x
,
∆y
,
deÁu…_light_ãxtuª
.
_width
/3.0f,
whôe
);

33748 
cimg_f‹XY
(
deÁu…_light_ãxtuª
,
x
,
y
) {

33749 c⁄° 
	gÁ˘‹
 = 
deÁu…_light_ãxtuª
(
x
,
y
);

33750 i‡(
	gÁ˘‹
>
	gn•ec
Ë
deÁu…_light_ãxtuª
(
x
,
y
Ë
cimg
::
mö
(2,
n¶1
*
Á˘‹
*Á˘‹ + 
n¶2
*Á˘‹ + 
n¶3
);

33752 
	gdeÁu…_light_ãxtuª
.
ªsize
(-100,-100,1,
_•e˘rum
);

33753 
	gﬁightx
 = 
lightx
; 
	gﬁighty
 = 
lighty
; 
	gﬁightz
 = 
lightz
; 
	go•ecuœr_shööess
 = 
•ecuœr_shööess
;

33755 
	glight_ãxtuª
.
assign
(
deÁu…_light_ãxtuª
,
åue
);

33760 
	gCImg
<
	gçÊﬂt
> 
¥oje˘i⁄s
(
vîti˚s
.
_width
,2);

33761 
çÊﬂt
 
	g∑øŒzmö
 = 
cimg
::
ty≥
<çÊﬂt>::
max
();

33762 c⁄° 
	gabsfoˇÀ
 = 
foˇÀ
?
cimg
::
abs
(focale):0;

33763 i‡(
	gabsfoˇÀ
Ë
cimg_f‹X
(
¥oje˘i⁄s
,
l
) {

33764 c⁄° 
çÊﬂt


33765 
	gx
 = (
çÊﬂt
)
vîti˚s
(
l
,0),

33766 
	gy
 = (
çÊﬂt
)
vîti˚s
(
l
,1),

33767 
	gz
 = (
çÊﬂt
)
vîti˚s
(
l
,2);

33768 c⁄° 
çÊﬂt
 
	g¥oje˘edz
 = 
z
 + 
Z
 + 
absfoˇÀ
;

33769 
¥oje˘i⁄s
(
l
,1Ë
Y
 + 
absfoˇÀ
*
y
/
¥oje˘edz
;

33770 
¥oje˘i⁄s
(
l
,0Ë
X
 + 
absfoˇÀ
*
x
/
¥oje˘edz
;

33771 } 
cimg_f‹X
(
¥oje˘i⁄s
,
l
) {

33772 c⁄° 
çÊﬂt


33773 
	gx
 = (
çÊﬂt
)
vîti˚s
(
l
,0),

33774 
	gy
 = (
çÊﬂt
)
vîti˚s
(
l
,1),

33775 
	gz
 = (
çÊﬂt
)
vîti˚s
(
l
,2);

33776 i‡(
	gz
<
	g∑øŒzmö
Ë∑øŒzmö = 
z
;

33777 
¥oje˘i⁄s
(
l
,1Ë
Y
 + 
y
;

33778 
¥oje˘i⁄s
(
l
,0Ë
X
 + 
x
;

33780 c⁄° 
	g_foˇÀ
 = 
absfoˇÀ
?absfoˇÀ:(1e5f-
∑øŒzmö
);

33783 
	gCImg
<
	guötT
> 
visibÀs
(
¥imôives
.
_width
);

33784 
	gCImg
<
	gçÊﬂt
> 
zønge
(
¥imôives
.
_width
);

33785 
	gnb_visibÀs
 = 0;

33786 c⁄° 
çÊﬂt
 
	gzmö
 = 
absfoˇÀ
?—pÊﬂt)(1.5‡-ábsfoˇÀ):
cimg
::
ty≥
<çÊﬂt>::
mö
();

33787 
cimgli°_f‹
(
¥imôives
,
l
) {

33788 c⁄° 
	gCImg
<
	gtf
>& 
	g¥imôive
 = 
¥imôives
[
l
];

33789 
	g¥imôive
.
size
()) {

33791 c⁄° 
i0
 = ()
¥imôive
(0);

33792 c⁄° 
çÊﬂt
 
	gz0
 = 
Z
 + 
vîti˚s
(
i0
,2);

33793 i‡(
	gz0
>
	gzmö
) {

33794 
visibÀs
(
nb_visibÀs
Ë()
l
;

33795 
zønge
(
nb_visibÀs
++Ë
z0
;

33800 
i0
 = ()
¥imôive
(0),

33801 
	gi1
 = ()
¥imôive
(1);

33802 c⁄° 
çÊﬂt


33803 
	gXc
 = 0.5f*(()
vîti˚s
(
i0
,0Ë+ ()vîti˚s(
i1
,0)),

33804 
	gYc
 = 0.5f*(()
vîti˚s
(
i0
,1Ë+ ()vîti˚s(
i1
,1)),

33805 
	gZc
 = 0.5f*(()
vîti˚s
(
i0
,2Ë+ ()vîti˚s(
i1
,2)),

33806 
	g_zc
 = 
Z
 + 
Zc
,

33807 
	gzc
 = 
_zc
 + 
_foˇÀ
,

33808 
	gxc
 = 
X
 + 
Xc
*(
absfoˇÀ
?absfoˇÀ/
zc
:1),

33809 
	gyc
 = 
Y
 + 
Yc
*(
absfoˇÀ
?absfoˇÀ/
zc
:1),

33810 
	gødius
 = 0.5f*
°d
::
sqπ
(
cimg
::
sqr
(
vîti˚s
(
i1
,0Ë- vîti˚s(
i0
,0)) +

33811 
cimg
::
sqr
(
vîti˚s
(
i1
,1Ë- vîti˚s(
i0
,1)) +

33812 
cimg
::
sqr
(
vîti˚s
(
i1
,2Ë- vîti˚s(
i0
,2)))*(
	gabsfoˇÀ
?absfoˇÀ/
	gzc
:1),

33813 
	gxm
 = 
xc
 - 
ødius
,

33814 
	gym
 = 
yc
 - 
ødius
,

33815 
	gxM
 = 
xc
 + 
ødius
,

33816 
	gyM
 = 
yc
 + 
ødius
;

33817 i‡(
	gxM
>=0 && 
xm
<
_width
 && 
yM
>=0 && 
ym
<
_height
 && 
_zc
>
zmö
) {

33818 
visibÀs
(
nb_visibÀs
Ë()
l
;

33819 
zønge
(
nb_visibÀs
++Ë
_zc
;

33825 
i0
 = ()
¥imôive
(0),

33826 
	gi1
 = ()
¥imôive
(1);

33827 c⁄° 
çÊﬂt


33828 
	gx0
 = 
¥oje˘i⁄s
(
i0
,0), 
	gy0
 =Öroje˘i⁄s(i0,1), 
	gz0
 = 
Z
 + 
vîti˚s
(i0,2),

33829 
	gx1
 = 
¥oje˘i⁄s
(
i1
,0), 
	gy1
 =Öroje˘i⁄s(i1,1), 
	gz1
 = 
Z
 + 
vîti˚s
(i1,2);

33830 
çÊﬂt
 
	gxm
, 
	gxM
, 
	gym
, 
	gyM
;

33831 i‡(
	gx0
<
	gx1
Ë{ 
	gxm
 = 
x0
; 
	gxM
 = 
x1
; } { xm = x1; xM = x0; }

33832 i‡(
	gy0
<
	gy1
Ë{ 
	gym
 = 
y0
; 
	gyM
 = 
y1
; } { ym = y1; yM = y0; }

33833 i‡(
	gxM
>=0 && 
xm
<
_width
 && 
yM
>=0 && 
ym
<
_height
 && 
z0
>
zmö
 && 
z1
>zmin) {

33834 
visibÀs
(
nb_visibÀs
Ë()
l
;

33835 
zønge
(
nb_visibÀs
++Ë(
z0
 + 
z1
)/2;

33841 
i0
 = ()
¥imôive
(0),

33842 
	gi1
 = ()
¥imôive
(1),

33843 
	gi2
 = ()
¥imôive
(2);

33844 c⁄° 
çÊﬂt


33845 
	gx0
 = 
¥oje˘i⁄s
(
i0
,0), 
	gy0
 =Öroje˘i⁄s(i0,1), 
	gz0
 = 
Z
 + 
vîti˚s
(i0,2),

33846 
	gx1
 = 
¥oje˘i⁄s
(
i1
,0), 
	gy1
 =Öroje˘i⁄s(i1,1), 
	gz1
 = 
Z
 + 
vîti˚s
(i1,2),

33847 
	gx2
 = 
¥oje˘i⁄s
(
i2
,0), 
	gy2
 =Öroje˘i⁄s(i2,1), 
	gz2
 = 
Z
 + 
vîti˚s
(i2,2);

33848 
çÊﬂt
 
	gxm
, 
	gxM
, 
	gym
, 
	gyM
;

33849 i‡(
	gx0
<
	gx1
Ë{ 
	gxm
 = 
x0
; 
	gxM
 = 
x1
; } { xm = x1; xM = x0; }

33850 i‡(
	gx2
<
	gxm
Ëxm = 
x2
;

33851 i‡(
	gx2
>
	gxM
ËxM = 
x2
;

33852 i‡(
	gy0
<
	gy1
Ë{ 
	gym
 = 
y0
; 
	gyM
 = 
y1
; } { ym = y1; yM = y0; }

33853 i‡(
	gy2
<
	gym
Ëym = 
y2
;

33854 i‡(
	gy2
>
	gyM
ËyM = 
y2
;

33855 i‡(
	gxM
>=0 && 
xm
<
_width
 && 
yM
>=0 && 
ym
<
_height
 && 
z0
>
zmö
 && 
z1
>zmö && 
z2
>zmin) {

33856 c⁄° 
çÊﬂt
 
d
 = (
x1
-
x0
)*(
y2
-
y0
Ë- (
x2
-x0)*(
y1
-y0);

33857 i‡(
	gis_doubÀ_sided
 || 
	gd
<0) {

33858 
visibÀs
(
nb_visibÀs
Ë()
l
;

33859 
zønge
(
nb_visibÀs
++Ë(
z0
 + 
z1
 + 
z2
)/3;

33866 
i0
 = ()
¥imôive
(0),

33867 
	gi1
 = ()
¥imôive
(1),

33868 
	gi2
 = ()
¥imôive
(2),

33869 
	gi3
 = ()
¥imôive
(3);

33870 c⁄° 
çÊﬂt


33871 
	gx0
 = 
¥oje˘i⁄s
(
i0
,0), 
	gy0
 =Öroje˘i⁄s(i0,1), 
	gz0
 = 
Z
 + 
vîti˚s
(i0,2),

33872 
	gx1
 = 
¥oje˘i⁄s
(
i1
,0), 
	gy1
 =Öroje˘i⁄s(i1,1), 
	gz1
 = 
Z
 + 
vîti˚s
(i1,2),

33873 
	gx2
 = 
¥oje˘i⁄s
(
i2
,0), 
	gy2
 =Öroje˘i⁄s(i2,1), 
	gz2
 = 
Z
 + 
vîti˚s
(i2,2),

33874 
	gx3
 = 
¥oje˘i⁄s
(
i3
,0), 
	gy3
 =Öroje˘i⁄s(i3,1), 
	gz3
 = 
Z
 + 
vîti˚s
(i3,2);

33875 
çÊﬂt
 
	gxm
, 
	gxM
, 
	gym
, 
	gyM
;

33876 i‡(
	gx0
<
	gx1
Ë{ 
	gxm
 = 
x0
; 
	gxM
 = 
x1
; } { xm = x1; xM = x0; }

33877 i‡(
	gx2
<
	gxm
Ëxm = 
x2
;

33878 i‡(
	gx2
>
	gxM
ËxM = 
x2
;

33879 i‡(
	gx3
<
	gxm
Ëxm = 
x3
;

33880 i‡(
	gx3
>
	gxM
ËxM = 
x3
;

33881 i‡(
	gy0
<
	gy1
Ë{ 
	gym
 = 
y0
; 
	gyM
 = 
y1
; } { ym = y1; yM = y0; }

33882 i‡(
	gy2
<
	gym
Ëym = 
y2
;

33883 i‡(
	gy2
>
	gyM
ËyM = 
y2
;

33884 i‡(
	gy3
<
	gym
Ëym = 
y3
;

33885 i‡(
	gy3
>
	gyM
ËyM = 
y3
;

33886 i‡(
	gxM
>=0 && 
xm
<
_width
 && 
yM
>=0 && 
ym
<
_height
 && 
z0
>
zmö
 && 
z1
>zmö && 
z2
>zmin) {

33887 c⁄° 
d
 = (
x1
 - 
x0
)*(
y2
 - 
y0
Ë- (
x2
 - x0)*(
y1
 - y0);

33888 i‡(
	gis_doubÀ_sided
 || 
	gd
<0) {

33889 
visibÀs
(
nb_visibÀs
Ë()
l
;

33890 
zønge
(
nb_visibÀs
++Ë(
z0
 + 
z1
 + 
z2
 + 
z3
)/4;

33895 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


33898 
cimg_ö°™˚
,

33899 
l
,
¥imôive
.
size
());

33903 i‡(
	gnb_visibÀs
<=0Ë *
this
;

33904 
	gCImg
<
	guötT
> 
	g≥rmuèti⁄s
;

33905 
	gCImg
<
	gçÊﬂt
>(
	gzønge
.
	g_d©a
,
	gnb_visibÀs
,1,1,1,
	gåue
).
s‹t
(
≥rmuèti⁄s
,
Ál£
);

33908 
	gCImg
<
	gÊﬂtT
> 
	glighçr›s
;

33909 
	gªndî_ty≥
) {

33911 
lighçr›s
.
assign
(
nb_visibÀs
);

33912 
cimg_f‹X
(
lighçr›s
,
l
) {

33913 c⁄° 
	gCImg
<
	gtf
>& 
	g¥imôive
 = 
¥imôives
(
visibÀs
(
≥rmuèti⁄s
(
l
)));

33914 c⁄° 
	gpsize
 = 
¥imôive
.
size
();

33915 i‡(
	gpsize
==3 || 
psize
==4 ||Ösize==9 ||Ösize==12) {

33917 
i0
 = ()
¥imôive
(0),

33918 
	gi1
 = ()
¥imôive
(1),

33919 
	gi2
 = ()
¥imôive
(2);

33920 c⁄° 
çÊﬂt


33921 
	gx0
 = (
çÊﬂt
)
vîti˚s
(
i0
,0), 
	gy0
 = (çÊﬂt)vîti˚s(i0,1), 
	gz0
 = (tpfloat)vertices(i0,2),

33922 
	gx1
 = (
çÊﬂt
)
vîti˚s
(
i1
,0), 
	gy1
 = (çÊﬂt)vîti˚s(i1,1), 
	gz1
 = (tpfloat)vertices(i1,2),

33923 
	gx2
 = (
çÊﬂt
)
vîti˚s
(
i2
,0), 
	gy2
 = (çÊﬂt)vîti˚s(i2,1), 
	gz2
 = (tpfloat)vertices(i2,2),

33924 
	gdx1
 = 
x1
 - 
x0
, 
	gdy1
 = 
y1
 - 
y0
, 
	gdz1
 = 
z1
 - 
z0
,

33925 
	gdx2
 = 
x2
 - 
x0
, 
	gdy2
 = 
y2
 - 
y0
, 
	gdz2
 = 
z2
 - 
z0
,

33926 
	gnx
 = 
dy1
*
dz2
 - 
dz1
*
dy2
,

33927 
	gny
 = 
dz1
*
dx2
 - 
dx1
*
dz2
,

33928 
	gnz
 = 
dx1
*
dy2
 - 
dy1
*
dx2
,

33929 
	gn‹m
 = (
çÊﬂt
)
°d
::
sqπ
(1e-5‡+ 
nx
*nx + 
ny
*ny + 
nz
*nz),

33930 
	glx
 = 
X
 + (
x0
 + 
x1
 + 
x2
)/3 - 
lightx
,

33931 
	gly
 = 
Y
 + (
y0
 + 
y1
 + 
y2
)/3 - 
lighty
,

33932 
	glz
 = 
Z
 + (
z0
 + 
z1
 + 
z2
)/3 - 
lightz
,

33933 
	g∆
 = (
çÊﬂt
)
°d
::
sqπ
(1e-5‡+ 
lx
*lx + 
ly
*ly + 
lz
*lz),

33934 
	gÁ˘‹
 = 
cimg
::
max
(cimg::
abs
(-
lx
*
nx
-
ly
*
ny
-
lz
*
nz
)/(
n‹m
*
∆
),0);

33935 
	glighçr›s
[
l
] = 
Á˘‹
<=
n•ec
?Á˘‹:(
n¶1
*Á˘‹*Á˘‹ + 
n¶2
*Á˘‹ + 
n¶3
);

33936 } 
	glighçr›s
[
l
] = 1;

33942 
CImg
<
çÊﬂt
> 
vîti˚s_n‹mÆs
(
vîti˚s
.
_width
,3,1,1,0);

33943 
	gl
 = 0;Ü<
	gnb_visibÀs
; ++l) {

33944 c⁄° 
	gCImg
<
	gtf
>& 
	g¥imôive
 = 
¥imôives
[
visibÀs
(
l
)];

33945 c⁄° 
	gpsize
 = 
¥imôive
.
size
();

33946 c⁄° 
boﬁ


33947 
	gåüngÀ_Êag
 = (
psize
==3) || (psize==9),

33948 
	gª˘™gÀ_Êag
 = (
psize
==4) || (psize==12);

33949 i‡(
	gåüngÀ_Êag
 || 
	gª˘™gÀ_Êag
) {

33951 
	gi0
 = ()
¥imôive
(0),

33952 
	gi1
 = ()
¥imôive
(1),

33953 
	gi2
 = ()
¥imôive
(2),

33954 
	gi3
 = 
ª˘™gÀ_Êag
?()
¥imôive
(3):0;

33955 c⁄° 
çÊﬂt


33956 
	gx0
 = (
çÊﬂt
)
vîti˚s
(
i0
,0), 
	gy0
 = (çÊﬂt)vîti˚s(i0,1), 
	gz0
 = (tpfloat)vertices(i0,2),

33957 
	gx1
 = (
çÊﬂt
)
vîti˚s
(
i1
,0), 
	gy1
 = (çÊﬂt)vîti˚s(i1,1), 
	gz1
 = (tpfloat)vertices(i1,2),

33958 
	gx2
 = (
çÊﬂt
)
vîti˚s
(
i2
,0), 
	gy2
 = (çÊﬂt)vîti˚s(i2,1), 
	gz2
 = (tpfloat)vertices(i2,2),

33959 
	gdx1
 = 
x1
 - 
x0
, 
	gdy1
 = 
y1
 - 
y0
, 
	gdz1
 = 
z1
 - 
z0
,

33960 
	gdx2
 = 
x2
 - 
x0
, 
	gdy2
 = 
y2
 - 
y0
, 
	gdz2
 = 
z2
 - 
z0
,

33961 
	g¬x
 = 
dy1
*
dz2
 - 
dz1
*
dy2
,

33962 
	g¬y
 = 
dz1
*
dx2
 - 
dx1
*
dz2
,

33963 
	g¬z
 = 
dx1
*
dy2
 - 
dy1
*
dx2
,

33964 
	gn‹m
 = (
çÊﬂt
)(1e-5‡+ 
°d
::
sqπ
(
¬x
*¬x + 
¬y
*¬y + 
¬z
*nnz)),

33965 
	gnx
 = 
¬x
/
n‹m
,

33966 
	gny
 = 
¬y
/
n‹m
,

33967 
	gnz
 = 
¬z
/
n‹m
;

33968 
vîti˚s_n‹mÆs
(
i0
,0)+=
nx
; vîti˚s_n‹mÆs(i0,1)+=
ny
; vîti˚s_n‹mÆs(i0,2)+=
nz
;

33969 
vîti˚s_n‹mÆs
(
i1
,0)+=
nx
; vîti˚s_n‹mÆs(i1,1)+=
ny
; vîti˚s_n‹mÆs(i1,2)+=
nz
;

33970 
vîti˚s_n‹mÆs
(
i2
,0)+=
nx
; vîti˚s_n‹mÆs(i2,1)+=
ny
; vîti˚s_n‹mÆs(i2,2)+=
nz
;

33971 i‡(
	gª˘™gÀ_Êag
Ë{ 
vîti˚s_n‹mÆs
(
i3
,0)+=
nx
; vîti˚s_n‹mÆs(i3,1)+=
ny
; vîti˚s_n‹mÆs(i3,2)+=
nz
; }

33975 i‡(
	gis_doubÀ_sided
Ë
cimg_f‹X
(
vîti˚s_n‹mÆs
,
p
) if (vertices_normals(p,2)>0) {

33976 
vîti˚s_n‹mÆs
(
p
,0) = -vertices_normals(p,0);

33977 
vîti˚s_n‹mÆs
(
p
,1) = -vertices_normals(p,1);

33978 
vîti˚s_n‹mÆs
(
p
,2) = -vertices_normals(p,2);

33981 i‡(
	gªndî_ty≥
==4) {

33982 
lighçr›s
.
assign
(
vîti˚s
.
_width
);

33983 
cimg_f‹X
(
lighçr›s
,
l
) {

33984 c⁄° 
çÊﬂt


33985 
	gnx
 = 
vîti˚s_n‹mÆs
(
l
,0),

33986 
	gny
 = 
vîti˚s_n‹mÆs
(
l
,1),

33987 
	gnz
 = 
vîti˚s_n‹mÆs
(
l
,2),

33988 
	gn‹m
 = (
çÊﬂt
)
°d
::
sqπ
(1e-5‡+ 
nx
*nx + 
ny
*ny + 
nz
*nz),

33989 
	glx
 = 
X
 + 
vîti˚s
(
l
,0Ë- 
	glightx
,

33990 
	gly
 = 
Y
 + 
vîti˚s
(
l
,1Ë- 
	glighty
,

33991 
	glz
 = 
Z
 + 
vîti˚s
(
l
,2Ë- 
	glightz
,

33992 
	g∆
 = (
çÊﬂt
)
°d
::
sqπ
(1e-5‡+ 
lx
*lx + 
ly
*ly + 
lz
*lz),

33993 
	gÁ˘‹
 = 
cimg
::
max
((-
lx
*
nx
-
ly
*
ny
-
lz
*
nz
)/(
n‹m
*
∆
),0);

33994 
	glighçr›s
[
l
] = 
Á˘‹
<=
n•ec
?Á˘‹:(
n¶1
*Á˘‹*Á˘‹ + 
n¶2
*Á˘‹ + 
n¶3
);

33998 
	glw2
 = 
light_ãxtuª
.
_width
/2 - 1,

33999 
	glh2
 = 
light_ãxtuª
.
_height
/2 - 1;

34000 
	glighçr›s
.
assign
(
vîti˚s
.
_width
,2);

34001 
cimg_f‹X
(
lighçr›s
,
l
) {

34002 c⁄° 
çÊﬂt


34003 
	gnx
 = 
vîti˚s_n‹mÆs
(
l
,0),

34004 
	gny
 = 
vîti˚s_n‹mÆs
(
l
,1),

34005 
	gnz
 = 
vîti˚s_n‹mÆs
(
l
,2),

34006 
	gn‹m
 = (
çÊﬂt
)
°d
::
sqπ
(1e-5‡+ 
nx
*nx + 
ny
*ny + 
nz
*nz),

34007 
	g¬x
 = 
nx
/
n‹m
,

34008 
	g¬y
 = 
ny
/
n‹m
;

34009 
lighçr›s
(
l
,0Ë
lw2
*(1 + 
¬x
);

34010 
lighçr›s
(
l
,1Ë
lh2
*(1 + 
¬y
);

34017 c⁄° 
	gCImg
<
	gtc
> 
deÁu…_cﬁ‹
(1,
_•e˘rum
,1,1,(
tc
)200);

34018 
ty≥«me
 
	tto
::
	tvÆue_ty≥
 
	t_to
;

34019 
	gCImg
<
	g_to
> 
	g_›acôy
;

34021 
	gl
 = 0;Ü<
	gnb_visibÀs
; ++l) {

34022 c⁄° 
	gn_¥imôive
 = 
visibÀs
(
≥rmuèti⁄s
(
l
));

34023 c⁄° 
	gCImg
<
	gtf
>& 
	g¥imôive
 = 
¥imôives
[
n_¥imôive
];

34024 c⁄° 
	gCImg
<
	gtc
>

34025 &
	g__cﬁ‹
 = 
n_¥imôive
<
cﬁ‹s
.
_width
?cﬁ‹s[n_¥imôive]:
CImg
<
tc
>(),

34026 
	g_cﬁ‹
 = (
__cﬁ‹
 && __cﬁ‹.
size
()!=
_•e˘rum
 && __cﬁ‹._•e˘rum<_•e˘rum)?__cﬁ‹.
gë_ªsize
(-100,-100,-100,_•e˘rum,0):
CImg
<
tc
>(),

34027 &
	gcﬁ‹
 = 
_cﬁ‹
?_cﬁ‹:(
__cﬁ‹
?__cﬁ‹:
deÁu…_cﬁ‹
);

34028 c⁄° 
tc
 *c⁄° 
	gpcﬁ‹
 = 
cﬁ‹
.
_d©a
;

34029 c⁄° 
	g›acôy
 = 
__døw_obje˘3d
(
›acôõs
,
n_¥imôive
,
_›acôy
);

34031 #ifde‡
cimg_u£_bﬂrd


34032 
	gLibBﬂrd
::
Bﬂrd
 &
bﬂrd
 = *(
LibBﬂrd
::Bﬂrd*)
pbﬂrd
;

34035 
	g¥imôive
.
size
()) {

34037 c⁄° 
n0
 = ()
¥imôive
[0];

34038 c⁄° 
	gx0
 = ()
¥oje˘i⁄s
(
n0
,0), 
	gy0
 = ()projections(n0,1);

34040 i‡(
	g_›acôy
.
is_em±y
()) {

34042 i‡(
	gcﬁ‹
.
size
()==
_•e˘rum
) {

34043 
døw_poöt
(
x0
,
y0
,
pcﬁ‹
,
›acôy
);

34044 #ifde‡
cimg_u£_bﬂrd


34045 i‡(
	gpbﬂrd
) {

34046 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34047 
	gbﬂrd
.
fûlCú˛e
(()
x0
,
height
()-()
y0
,0);

34051 c⁄° 
çÊﬂt
 
	gz
 = 
Z
 + 
vîti˚s
(
n0
,2);

34052 c⁄° 
	gÁ˘‹
 = 
foˇÀ
<0?1:
•rôe_sˇÀ
*(
absfoˇÀ
?absfoˇÀ/(
z
 +ábsfocale):1);

34054 
	g_sw
 = ()(
cﬁ‹
.
_width
*
Á˘‹
),

34055 
	g_sh
 = ()(
cﬁ‹
.
_height
*
Á˘‹
),

34056 
	gsw
 = 
_sw
?_sw:1, 
	gsh
 = 
_sh
?_sh:1;

34057 c⁄° 
	gnx0
 = 
x0
 - ()
sw
/2, 
	gny0
 = 
y0
 - ()
sh
/2;

34058 i‡(
	gsw
<=3*
_width
/2 && 
sh
<=3*
_height
/2 && (
nx0
+()
sw
/2>=0 ||Çx0-()sw/2<
width
(Ë|| 
ny0
+()sh/2>=0 ||Çy0-()sh/2<
height
())) {

34059 c⁄° 
CImg
<
tc
>

34060 
_•rôe
 = (
sw
!=
cﬁ‹
.
_width
 || 
sh
!=cﬁ‹.
_height
)?cﬁ‹.
gë_ªsize
(sw,sh,1,-100,
ªndî_ty≥
<=3?1:3):
CImg
<
tc
>(),

34061 &
	g•rôe
 = 
_•rôe
?_•rôe:
cﬁ‹
;

34062 
døw_image
(
nx0
,
ny0
,
•rôe
,
›acôy
);

34063 #ifde‡
cimg_u£_bﬂrd


34064 i‡(
	gpbﬂrd
) {

34065 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128);

34066 
	gbﬂrd
.
£tFûlCﬁ‹
(
LibBﬂrd
::
Cﬁ‹
::
N⁄e
);

34067 
	gbﬂrd
.
døwRe˘™gÀ
(()
nx0
,
height
()-()
ny0
,
sw
,
sh
);

34073 c⁄° 
çÊﬂt
 
	gz
 = 
Z
 + 
vîti˚s
(
n0
,2);

34074 c⁄° 
	gÁ˘‹
 = 
foˇÀ
<0?1:
•rôe_sˇÀ
*(
absfoˇÀ
?absfoˇÀ/(
z
 +ábsfocale):1);

34076 
	g_sw
 = ()(
cimg
::
max
(
cﬁ‹
.
_width
,
_›acôy
._width)*
	gÁ˘‹
),

34077 
	g_sh
 = ()(
cimg
::
max
(
cﬁ‹
.
_height
,
_›acôy
._height)*
	gÁ˘‹
),

34078 
	gsw
 = 
_sw
?_sw:1, 
	gsh
 = 
_sh
?_sh:1;

34079 c⁄° 
	gnx0
 = 
x0
 - ()
sw
/2, 
	gny0
 = 
y0
 - ()
sh
/2;

34080 i‡(
	gsw
<=3*
_width
/2 && 
sh
<=3*
_height
/2 && (
nx0
+()
sw
/2>=0 ||Çx0-()sw/2<
width
(Ë|| 
ny0
+()sh/2>=0 ||Çy0-()sh/2<
height
())) {

34081 c⁄° 
CImg
<
tc
>

34082 
_•rôe
 = (
sw
!=
cﬁ‹
.
_width
 || 
sh
!=cﬁ‹.
_height
)?cﬁ‹.
gë_ªsize
(sw,sh,1,-100,
ªndî_ty≥
<=3?1:3):
CImg
<
tc
>(),

34083 &
	g•rôe
 = 
_•rôe
?_•rôe:
cﬁ‹
;

34084 c⁄° 
	gCImg
<
	g_to
>

34085 
	g_n›acôy
 = (
sw
!=
_›acôy
.
_width
 || 
sh
!=_›acôy.
_height
)?_›acôy.
gë_ªsize
(sw,sh,1,-100,
ªndî_ty≥
<=3?1:3):
CImg
<
_to
>(),

34086 &
	gn›acôy
 = 
_n›acôy
?_n›acôy:
_›acôy
;

34087 
døw_image
(
nx0
,
ny0
,
•rôe
,
n›acôy
);

34088 #ifde‡
cimg_u£_bﬂrd


34089 i‡(
	gpbﬂrd
) {

34090 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128);

34091 
	gbﬂrd
.
£tFûlCﬁ‹
(
LibBﬂrd
::
Cﬁ‹
::
N⁄e
);

34092 
	gbﬂrd
.
døwRe˘™gÀ
(()
nx0
,
height
()-()
ny0
,
sw
,
sh
);

34100 
n0
 = ()
¥imôive
[0],

34101 
	gn1
 = ()
¥imôive
[1];

34103 
	gx0
 = ()
¥oje˘i⁄s
(
n0
,0), 
	gy0
 = ()projections(n0,1),

34104 
	gx1
 = ()
¥oje˘i⁄s
(
n1
,0), 
	gy1
 = ()projections(n1,1);

34106 
	gz0
 = 
vîti˚s
(
n0
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34107 
	gz1
 = 
vîti˚s
(
n1
,2Ë+ 
	gZ
 + 
	g_foˇÀ
;

34108 i‡(
	gªndî_ty≥
) {

34109 i‡(
	gzbuf„r
Ë
døw_löe
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
pcﬁ‹
,
›acôy
);

34110 
døw_löe
(
x0
,
y0
,
x1
,
y1
,
pcﬁ‹
,
›acôy
);

34111 #ifde‡
cimg_u£_bﬂrd


34112 i‡(
	gpbﬂrd
) {

34113 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34114 
	gbﬂrd
.
døwLöe
(()
x0
,
height
()-()
y0
,
x1
,height()-()
y1
);

34118 
døw_poöt
(
x0
,
y0
,
pcﬁ‹
,
›acôy
).døw_poöt(
x1
,
y1
,pcolor,opacity);

34119 #ifde‡
cimg_u£_bﬂrd


34120 i‡(
	gpbﬂrd
) {

34121 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34122 
	gbﬂrd
.
døwCú˛e
(()
x0
,
height
()-()
y0
,0);

34123 
	gbﬂrd
.
døwCú˛e
(()
x1
,
height
()-()
y1
,0);

34130 
n0
 = ()
¥imôive
[0],

34131 
	gn1
 = ()
¥imôive
[1];

34133 
	gXc
 = 0.5f*(()
vîti˚s
(
n0
,0Ë+ ()vîti˚s(
n1
,0)),

34134 
	gYc
 = 0.5f*(()
vîti˚s
(
n0
,1Ë+ ()vîti˚s(
n1
,1)),

34135 
	gZc
 = 0.5f*(()
vîti˚s
(
n0
,2Ë+ ()vîti˚s(
n1
,2)),

34136 
	gzc
 = 
Z
 + 
Zc
 + 
_foˇÀ
,

34137 
	gxc
 = 
X
 + 
Xc
*(
absfoˇÀ
?absfoˇÀ/
zc
:1),

34138 
	gyc
 = 
Y
 + 
Yc
*(
absfoˇÀ
?absfoˇÀ/
zc
:1),

34139 
	gødius
 = 0.5f*
°d
::
sqπ
(
cimg
::
sqr
(
vîti˚s
(
n1
,0Ë- vîti˚s(
n0
,0)) +

34140 
cimg
::
sqr
(
vîti˚s
(
n1
,1Ë- vîti˚s(
n0
,1)) +

34141 
cimg
::
sqr
(
vîti˚s
(
n1
,2Ë- vîti˚s(
n0
,2)))*(
	gabsfoˇÀ
?absfoˇÀ/
	gzc
:1);

34142 
	gªndî_ty≥
) {

34144 
døw_poöt
(()
xc
,()
yc
,
pcﬁ‹
,
›acôy
);

34145 #ifde‡
cimg_u£_bﬂrd


34146 i‡(
	gpbﬂrd
) {

34147 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34148 
	gbﬂrd
.
fûlCú˛e
(
xc
,
height
()-
yc
,0);

34153 
døw_cú˛e
(()
xc
,()
yc
,()
ødius
,
pcﬁ‹
,
›acôy
,~0U);

34154 #ifde‡
cimg_u£_bﬂrd


34155 i‡(
	gpbﬂrd
) {

34156 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34157 
	gbﬂrd
.
£tFûlCﬁ‹
(
LibBﬂrd
::
Cﬁ‹
::
N⁄e
);

34158 
	gbﬂrd
.
døwCú˛e
(
xc
,
height
()-
yc
,
ødius
);

34163 
døw_cú˛e
(()
xc
,()
yc
,()
ødius
,
pcﬁ‹
,
›acôy
);

34164 #ifde‡
cimg_u£_bﬂrd


34165 i‡(
	gpbﬂrd
) {

34166 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34167 
	gbﬂrd
.
fûlCú˛e
(
xc
,
height
()-
yc
,
ødius
);

34174 i‡(!
__cﬁ‹
)

34175 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


34177 
cimg_ö°™˚
,
n_¥imôive
);

34179 
	gn0
 = ()
¥imôive
[0],

34180 
	gn1
 = ()
¥imôive
[1],

34181 
	gtx0
 = ()
¥imôive
[2],

34182 
	gty0
 = ()
¥imôive
[3],

34183 
	gtx1
 = ()
¥imôive
[4],

34184 
	gty1
 = ()
¥imôive
[5];

34186 
	gx0
 = ()
¥oje˘i⁄s
(
n0
,0), 
	gy0
 = ()projections(n0,1),

34187 
	gx1
 = ()
¥oje˘i⁄s
(
n1
,0), 
	gy1
 = ()projections(n1,1);

34189 
	gz0
 = 
vîti˚s
(
n0
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34190 
	gz1
 = 
vîti˚s
(
n1
,2Ë+ 
	gZ
 + 
	g_foˇÀ
;

34191 i‡(
	gªndî_ty≥
) {

34192 i‡(
	gzbuf„r
Ë
døw_löe
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
);

34193 
døw_löe
(
x0
,
y0
,
x1
,
y1
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
);

34194 #ifde‡
cimg_u£_bﬂrd


34195 i‡(
	gpbﬂrd
) {

34196 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34197 
	gbﬂrd
.
døwLöe
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
);

34201 
døw_poöt
(
x0
,
y0
,
cﬁ‹
.
gë_ve˘‹_©
(
tx0
,
ty0
).
_d©a
,
›acôy
).

34202 
døw_poöt
(
x1
,
y1
,
cﬁ‹
.
gë_ve˘‹_©
(
tx1
,
ty1
).
_d©a
,
›acôy
);

34203 #ifde‡
cimg_u£_bﬂrd


34204 i‡(
	gpbﬂrd
) {

34205 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34206 
	gbﬂrd
.
døwCú˛e
(()
x0
,
height
()-()
y0
,0);

34207 
	gbﬂrd
.
døwCú˛e
(()
x1
,
height
()-()
y1
,0);

34214 
n0
 = ()
¥imôive
[0],

34215 
	gn1
 = ()
¥imôive
[1],

34216 
	gn2
 = ()
¥imôive
[2];

34218 
	gx0
 = ()
¥oje˘i⁄s
(
n0
,0), 
	gy0
 = ()projections(n0,1),

34219 
	gx1
 = ()
¥oje˘i⁄s
(
n1
,0), 
	gy1
 = ()projections(n1,1),

34220 
	gx2
 = ()
¥oje˘i⁄s
(
n2
,0), 
	gy2
 = ()projections(n2,1);

34222 
	gz0
 = 
vîti˚s
(
n0
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34223 
	gz1
 = 
vîti˚s
(
n1
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34224 
	gz2
 = 
vîti˚s
(
n2
,2Ë+ 
	gZ
 + 
	g_foˇÀ
;

34225 
	gªndî_ty≥
) {

34227 
døw_poöt
(
x0
,
y0
,
pcﬁ‹
,
›acôy
).døw_poöt(
x1
,
y1
,pcﬁ‹,›acôy).døw_poöt(
x2
,
y2
,pcolor,opacity);

34228 #ifde‡
cimg_u£_bﬂrd


34229 i‡(
	gpbﬂrd
) {

34230 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34231 
	gbﬂrd
.
døwCú˛e
(()
x0
,
height
()-()
y0
,0);

34232 
	gbﬂrd
.
døwCú˛e
(()
x1
,
height
()-()
y1
,0);

34233 
	gbﬂrd
.
døwCú˛e
(()
x2
,
height
()-()
y2
,0);

34238 i‡(
zbuf„r
)

34239 
døw_löe
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
pcﬁ‹
,
›acôy
).døw_löe(zbuf„r,x0,y0,z0,
x2
,
y2
,
z2
,pcolor,opacity).

34240 
døw_löe
(
zbuf„r
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
›acôy
);

34242 
døw_löe
(
x0
,
y0
,
x1
,
y1
,
pcﬁ‹
,
›acôy
).døw_löe(x0,y0,
x2
,
y2
,pcolor,opacity).

34243 
døw_löe
(
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
›acôy
);

34244 #ifde‡
cimg_u£_bﬂrd


34245 i‡(
	gpbﬂrd
) {

34246 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34247 
	gbﬂrd
.
døwLöe
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
);

34248 
	gbﬂrd
.
døwLöe
(()
x0
,
height
()-()
y0
,()
x2
,height()-()
y2
);

34249 
	gbﬂrd
.
døwLöe
(()
x1
,
height
()-()
y1
,()
x2
,height()-()
y2
);

34254 i‡(
zbuf„r
Ë
døw_åüngÀ
(zbuf„r,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
›acôy
);

34255 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
›acôy
);

34256 #ifde‡
cimg_u£_bﬂrd


34257 i‡(
	gpbﬂrd
) {

34258 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34259 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
,()
x2
,height()-()
y2
);

34264 i‡(
zbuf„r
Ë
døw_åüngÀ
(zbuf„r,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
›acôy
,
lighçr›s
(
l
));

34265 
_døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
›acôy
,
lighçr›s
(
l
));

34266 #ifde‡
cimg_u£_bﬂrd


34267 i‡(
	gpbﬂrd
) {

34268 c⁄° 
	gÕ
 = 
cimg
::
mö
(
lighçr›s
(
l
),1);

34269 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(()(
cﬁ‹
[0]*
Õ
),

34270 ()(
cﬁ‹
[1]*
Õ
),

34271 ()(
cﬁ‹
[2]*
Õ
),

34272 ()(
›acôy
*255));

34273 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
,()
x2
,height()-()
y2
);

34278 i‡(
zbuf„r
Ë
døw_åüngÀ
(zbuf„r,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
lighçr›s
(
n0
),lighçr›s(
n1
),lighçr›s(
n2
),
›acôy
);

34279 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
lighçr›s
(
n0
),lighçr›s(
n1
),lighçr›s(
n2
),
›acôy
);

34280 #ifde‡
cimg_u£_bﬂrd


34281 i‡(
	gpbﬂrd
) {

34282 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(()(
cﬁ‹
[0]),

34283 ()(
cﬁ‹
[1]),

34284 ()(
cﬁ‹
[2]),

34285 ()(
›acôy
*255));

34286 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
lighçr›s
(
n0
),

34287 ()
x1
,
height
()-()
y1
,
lighçr›s
(
n1
),

34288 ()
x2
,
height
()-()
y2
,
lighçr›s
(
n2
));

34294 
lx0
 = ()
lighçr›s
(
n0
,0), 
	gly0
 = ()lightprops(n0,1),

34295 
	glx1
 = ()
lighçr›s
(
n1
,0), 
	gly1
 = ()lightprops(n1,1),

34296 
	glx2
 = ()
lighçr›s
(
n2
,0), 
	gly2
 = ()lightprops(n2,1);

34297 i‡(
	gzbuf„r
Ë
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
light_ãxtuª
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

34298 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
light_ãxtuª
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
);

34299 #ifde‡
cimg_u£_bﬂrd


34300 i‡(
	gpbﬂrd
) {

34302 
	gl0
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lighçr›s
(
n0
,0))), ()÷ight_ãxtuª.
height
()/2*(1+lightprops(n0,1)))),

34303 
	gl1
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lighçr›s
(
n1
,0))), ()÷ight_ãxtuª.
height
()/2*(1+lightprops(n1,1)))),

34304 
	gl2
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lighçr›s
(
n2
,0))), ()÷ight_ãxtuª.
height
()/2*(1+lightprops(n2,1))));

34305 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(()(
cﬁ‹
[0]),

34306 ()(
cﬁ‹
[1]),

34307 ()(
cﬁ‹
[2]),

34308 ()(
›acôy
*255));

34309 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
l0
,

34310 ()
x1
,
height
()-()
y1
,
l1
,

34311 ()
x2
,
height
()-()
y2
,
l2
);

34319 
n0
 = ()
¥imôive
[0],

34320 
	gn1
 = ()
¥imôive
[1],

34321 
	gn2
 = ()
¥imôive
[2],

34322 
	gn3
 = ()
¥imôive
[3];

34324 
	gx0
 = ()
¥oje˘i⁄s
(
n0
,0), 
	gy0
 = ()projections(n0,1),

34325 
	gx1
 = ()
¥oje˘i⁄s
(
n1
,0), 
	gy1
 = ()projections(n1,1),

34326 
	gx2
 = ()
¥oje˘i⁄s
(
n2
,0), 
	gy2
 = ()projections(n2,1),

34327 
	gx3
 = ()
¥oje˘i⁄s
(
n3
,0), 
	gy3
 = ()projections(n3,1);

34329 
	gz0
 = 
vîti˚s
(
n0
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34330 
	gz1
 = 
vîti˚s
(
n1
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34331 
	gz2
 = 
vîti˚s
(
n2
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34332 
	gz3
 = 
vîti˚s
(
n3
,2Ë+ 
	gZ
 + 
	g_foˇÀ
;

34334 
	gªndî_ty≥
) {

34336 
døw_poöt
(
x0
,
y0
,
pcﬁ‹
,
›acôy
).døw_poöt(
x1
,
y1
,pcolor,opacity).

34337 
døw_poöt
(
x2
,
y2
,
pcﬁ‹
,
›acôy
).døw_poöt(
x3
,
y3
,pcolor,opacity);

34338 #ifde‡
cimg_u£_bﬂrd


34339 i‡(
	gpbﬂrd
) {

34340 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34341 
	gbﬂrd
.
døwCú˛e
(()
x0
,
height
()-()
y0
,0);

34342 
	gbﬂrd
.
døwCú˛e
(()
x1
,
height
()-()
y1
,0);

34343 
	gbﬂrd
.
døwCú˛e
(()
x2
,
height
()-()
y2
,0);

34344 
	gbﬂrd
.
døwCú˛e
(()
x3
,
height
()-()
y3
,0);

34349 i‡(
zbuf„r
)

34350 
døw_löe
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
pcﬁ‹
,
›acôy
).døw_löe(zbuf„r,x1,y1,z1,
x2
,
y2
,
z2
,pcolor,opacity).

34351 
døw_löe
(
zbuf„r
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
pcﬁ‹
,
›acôy
).døw_löe(zbuf„r,x3,y3,z3,
x0
,
y0
,
z0
,pcolor,opacity);

34353 
døw_löe
(
x0
,
y0
,
x1
,
y1
,
pcﬁ‹
,
›acôy
).døw_löe(x1,y1,
x2
,
y2
,pcolor,opacity).

34354 
døw_löe
(
x2
,
y2
,
x3
,
y3
,
pcﬁ‹
,
›acôy
).døw_löe(x3,y3,
x0
,
y0
,pcolor,opacity);

34355 #ifde‡
cimg_u£_bﬂrd


34356 i‡(
	gpbﬂrd
) {

34357 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34358 
	gbﬂrd
.
døwLöe
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
);

34359 
	gbﬂrd
.
døwLöe
(()
x1
,
height
()-()
y1
,()
x2
,height()-()
y2
);

34360 
	gbﬂrd
.
døwLöe
(()
x2
,
height
()-()
y2
,()
x3
,height()-()
y3
);

34361 
	gbﬂrd
.
døwLöe
(()
x3
,
height
()-()
y3
,()
x0
,height()-()
y0
);

34366 i‡(
zbuf„r
)

34367 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
›acôy
).døw_åüngÀ(zbuf„r,x0,y0,z0,x2,y2,z2,
x3
,
y3
,
z3
,pcolor,opacity);

34369 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
›acôy
).døw_åüngÀ(x0,y0,x2,y2,
x3
,
y3
,pcolor,opacity);

34370 #ifde‡
cimg_u£_bﬂrd


34371 i‡(
	gpbﬂrd
) {

34372 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(
cﬁ‹
[0],cﬁ‹[1],cﬁ‹[2],()(
›acôy
*255));

34373 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
,()
x2
,height()-()
y2
);

34374 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x2
,height()-()
y2
,()
x3
,height()-()
y3
);

34379 i‡(
zbuf„r
)

34380 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
›acôy
,
lighçr›s
(
l
)).

34381 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
pcﬁ‹
,
›acôy
,
lighçr›s
(
l
));

34383 
_døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
›acôy
,
lighçr›s
(
l
)).

34384 
_døw_åüngÀ
(
x0
,
y0
,
x2
,
y2
,
x3
,
y3
,
pcﬁ‹
,
›acôy
,
lighçr›s
(
l
));

34385 #ifde‡
cimg_u£_bﬂrd


34386 i‡(
	gpbﬂrd
) {

34387 c⁄° 
	gÕ
 = 
cimg
::
mö
(
lighçr›s
(
l
),1);

34388 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(()(
cﬁ‹
[0]*
Õ
),

34389 ()(
cﬁ‹
[1]*
Õ
),

34390 ()(
cﬁ‹
[2]*
Õ
),()(
›acôy
*255));

34391 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
,()
x2
,height()-()
y2
);

34392 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x2
,height()-()
y2
,()
x3
,height()-()
y3
);

34398 
lighçr›0
 = 
lighçr›s
(
n0
), 
	glighçr›1
 =Üighçr›s(
n1
),

34399 
	glighçr›2
 = 
lighçr›s
(
n2
), 
	glighçr›3
 =Üighçr›s(
n3
);

34400 i‡(
	gzbuf„r
)

34401 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
lighçr›0
,
lighçr›1
,
lighçr›2
,
›acôy
).

34402 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
pcﬁ‹
,
lighçr›0
,
lighçr›2
,
lighçr›3
,
›acôy
);

34404 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
lighçr›0
,
lighçr›1
,
lighçr›2
,
›acôy
).

34405 
døw_åüngÀ
(
x0
,
y0
,
x2
,
y2
,
x3
,
y3
,
pcﬁ‹
,
lighçr›0
,
lighçr›2
,
lighçr›3
,
›acôy
);

34406 #ifde‡
cimg_u£_bﬂrd


34407 i‡(
	gpbﬂrd
) {

34408 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(()(
cﬁ‹
[0]),

34409 ()(
cﬁ‹
[1]),

34410 ()(
cﬁ‹
[2]),

34411 ()(
›acôy
*255));

34412 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
lighçr›0
,

34413 ()
x1
,
height
()-()
y1
,
lighçr›1
,

34414 ()
x2
,
height
()-()
y2
,
lighçr›2
);

34415 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
lighçr›0
,

34416 ()
x2
,
height
()-()
y2
,
lighçr›2
,

34417 ()
x3
,
height
()-()
y3
,
lighçr›3
);

34423 
lx0
 = ()
lighçr›s
(
n0
,0), 
	gly0
 = ()lightprops(n0,1),

34424 
	glx1
 = ()
lighçr›s
(
n1
,0), 
	gly1
 = ()lightprops(n1,1),

34425 
	glx2
 = ()
lighçr›s
(
n2
,0), 
	gly2
 = ()lightprops(n2,1),

34426 
	glx3
 = ()
lighçr›s
(
n3
,0), 
	gly3
 = ()lightprops(n3,1);

34427 i‡(
	gzbuf„r
)

34428 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
pcﬁ‹
,
light_ãxtuª
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
).

34429 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
pcﬁ‹
,
light_ãxtuª
,
lx0
,
ly0
,
lx2
,
ly2
,
lx3
,
ly3
,
›acôy
);

34431 
døw_åüngÀ
(
x0
,
y0
,
x1
,
y1
,
x2
,
y2
,
pcﬁ‹
,
light_ãxtuª
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
).

34432 
døw_åüngÀ
(
x0
,
y0
,
x2
,
y2
,
x3
,
y3
,
pcﬁ‹
,
light_ãxtuª
,
lx0
,
ly0
,
lx2
,
ly2
,
lx3
,
ly3
,
›acôy
);

34433 #ifde‡
cimg_u£_bﬂrd


34434 i‡(
	gpbﬂrd
) {

34436 
	gl0
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lx0
)), ()÷ight_ãxtuª.
height
()/2*(1+
ly0
))),

34437 
	gl1
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lx1
)), ()÷ight_ãxtuª.
height
()/2*(1+
ly1
))),

34438 
	gl2
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lx2
)), ()÷ight_ãxtuª.
height
()/2*(1+
ly2
))),

34439 
	gl3
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lx3
)), ()÷ight_ãxtuª.
height
()/2*(1+
ly3
)));

34440 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(()(
cﬁ‹
[0]),

34441 ()(
cﬁ‹
[1]),

34442 ()(
cﬁ‹
[2]),

34443 ()(
›acôy
*255));

34444 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
l0
,

34445 ()
x1
,
height
()-()
y1
,
l1
,

34446 ()
x2
,
height
()-()
y2
,
l2
);

34447 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
l0
,

34448 ()
x2
,
height
()-()
y2
,
l2
,

34449 ()
x3
,
height
()-()
y3
,
l3
);

34456 i‡(!
__cﬁ‹
)

34457 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


34459 
cimg_ö°™˚
,
n_¥imôive
);

34461 
	gn0
 = ()
¥imôive
[0],

34462 
	gn1
 = ()
¥imôive
[1],

34463 
	gn2
 = ()
¥imôive
[2],

34464 
	gtx0
 = ()
¥imôive
[3],

34465 
	gty0
 = ()
¥imôive
[4],

34466 
	gtx1
 = ()
¥imôive
[5],

34467 
	gty1
 = ()
¥imôive
[6],

34468 
	gtx2
 = ()
¥imôive
[7],

34469 
	gty2
 = ()
¥imôive
[8];

34471 
	gx0
 = ()
¥oje˘i⁄s
(
n0
,0), 
	gy0
 = ()projections(n0,1),

34472 
	gx1
 = ()
¥oje˘i⁄s
(
n1
,0), 
	gy1
 = ()projections(n1,1),

34473 
	gx2
 = ()
¥oje˘i⁄s
(
n2
,0), 
	gy2
 = ()projections(n2,1);

34475 
	gz0
 = 
vîti˚s
(
n0
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34476 
	gz1
 = 
vîti˚s
(
n1
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34477 
	gz2
 = 
vîti˚s
(
n2
,2Ë+ 
	gZ
 + 
	g_foˇÀ
;

34478 
	gªndî_ty≥
) {

34480 
døw_poöt
(
x0
,
y0
,
cﬁ‹
.
gë_ve˘‹_©
(
tx0
,
ty0
).
_d©a
,
›acôy
).

34481 
døw_poöt
(
x1
,
y1
,
cﬁ‹
.
gë_ve˘‹_©
(
tx1
,
ty1
).
_d©a
,
›acôy
).

34482 
døw_poöt
(
x2
,
y2
,
cﬁ‹
.
gë_ve˘‹_©
(
tx2
,
ty2
).
_d©a
,
›acôy
);

34483 #ifde‡
cimg_u£_bﬂrd


34484 i‡(
	gpbﬂrd
) {

34485 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34486 
	gbﬂrd
.
døwCú˛e
(()
x0
,
height
()-()
y0
,0);

34487 
	gbﬂrd
.
døwCú˛e
(()
x1
,
height
()-()
y1
,0);

34488 
	gbﬂrd
.
døwCú˛e
(()
x2
,
height
()-()
y2
,0);

34493 i‡(
zbuf„r
)

34494 
døw_löe
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
).

34495 
døw_löe
(
zbuf„r
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
›acôy
).

34496 
døw_löe
(
zbuf„r
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
);

34498 
døw_löe
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
).

34499 
døw_löe
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
›acôy
).

34500 
døw_löe
(
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
);

34501 #ifde‡
cimg_u£_bﬂrd


34502 i‡(
	gpbﬂrd
) {

34503 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34504 
	gbﬂrd
.
døwLöe
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
);

34505 
	gbﬂrd
.
døwLöe
(()
x0
,
height
()-()
y0
,()
x2
,height()-()
y2
);

34506 
	gbﬂrd
.
døwLöe
(()
x1
,
height
()-()
y1
,()
x2
,height()-()
y2
);

34511 i‡(
zbuf„r
Ë
døw_åüngÀ
(zbuf„r,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
);

34512 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
);

34513 #ifde‡
cimg_u£_bﬂrd


34514 i‡(
	gpbﬂrd
) {

34515 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34516 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
,()
x2
,height()-()
y2
);

34521 i‡(
zbuf„r
Ë
døw_åüngÀ
(zbuf„r,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
,
lighçr›s
(
l
));

34522 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
,
lighçr›s
(
l
));

34523 #ifde‡
cimg_u£_bﬂrd


34524 i‡(
	gpbﬂrd
) {

34525 c⁄° 
	gÕ
 = 
cimg
::
mö
(
lighçr›s
(
l
),1);

34526 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(()(128*
Õ
),

34527 ()(128*
Õ
),

34528 ()(128*
Õ
),

34529 ()(
›acôy
*255));

34530 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
,()
x2
,height()-()
y2
);

34535 i‡(
zbuf„r
)

34536 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
lighçr›s
(
n0
),lighçr›s(
n1
),lighçr›s(
n2
),
›acôy
);

34538 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
lighçr›s
(
n0
),lighçr›s(
n1
),lighçr›s(
n2
),
›acôy
);

34539 #ifde‡
cimg_u£_bﬂrd


34540 i‡(
	gpbﬂrd
) {

34541 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34542 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
lighçr›s
(
n0
),

34543 ()
x1
,
height
()-()
y1
,
lighçr›s
(
n1
),

34544 ()
x2
,
height
()-()
y2
,
lighçr›s
(
n2
));

34549 i‡(
zbuf„r
)

34550 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light_ãxtuª
,

34551 ()
lighçr›s
(
n0
,0),()lightprops(n0,1),

34552 ()
lighçr›s
(
n1
,0),()lightprops(n1,1),

34553 ()
lighçr›s
(
n2
,0),()lightprops(n2,1),

34554 
›acôy
);

34556 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light_ãxtuª
,

34557 ()
lighçr›s
(
n0
,0),()lightprops(n0,1),

34558 ()
lighçr›s
(
n1
,0),()lightprops(n1,1),

34559 ()
lighçr›s
(
n2
,0),()lightprops(n2,1),

34560 
›acôy
);

34561 #ifde‡
cimg_u£_bﬂrd


34562 i‡(
	gpbﬂrd
) {

34564 
	gl0
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lighçr›s
(
n0
,0))), ()÷ight_ãxtuª.
height
()/2*(1+lightprops(n0,1)))),

34565 
	gl1
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lighçr›s
(
n1
,0))), ()÷ight_ãxtuª.
height
()/2*(1+lightprops(n1,1)))),

34566 
	gl2
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lighçr›s
(
n2
,0))), ()÷ight_ãxtuª.
height
()/2*(1+lightprops(n2,1))));

34567 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34568 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
l0
,()
x1
,height()-()
y1
,
l1
,()
x2
,height()-()
y2
,
l2
);

34575 i‡(!
__cﬁ‹
)

34576 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


34578 
cimg_ö°™˚
,
n_¥imôive
);

34580 
	gn0
 = ()
¥imôive
[0],

34581 
	gn1
 = ()
¥imôive
[1],

34582 
	gn2
 = ()
¥imôive
[2],

34583 
	gn3
 = ()
¥imôive
[3],

34584 
	gtx0
 = ()
¥imôive
[4],

34585 
	gty0
 = ()
¥imôive
[5],

34586 
	gtx1
 = ()
¥imôive
[6],

34587 
	gty1
 = ()
¥imôive
[7],

34588 
	gtx2
 = ()
¥imôive
[8],

34589 
	gty2
 = ()
¥imôive
[9],

34590 
	gtx3
 = ()
¥imôive
[10],

34591 
	gty3
 = ()
¥imôive
[11];

34593 
	gx0
 = ()
¥oje˘i⁄s
(
n0
,0), 
	gy0
 = ()projections(n0,1),

34594 
	gx1
 = ()
¥oje˘i⁄s
(
n1
,0), 
	gy1
 = ()projections(n1,1),

34595 
	gx2
 = ()
¥oje˘i⁄s
(
n2
,0), 
	gy2
 = ()projections(n2,1),

34596 
	gx3
 = ()
¥oje˘i⁄s
(
n3
,0), 
	gy3
 = ()projections(n3,1);

34598 
	gz0
 = 
vîti˚s
(
n0
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34599 
	gz1
 = 
vîti˚s
(
n1
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34600 
	gz2
 = 
vîti˚s
(
n2
,2Ë+ 
	gZ
 + 
	g_foˇÀ
,

34601 
	gz3
 = 
vîti˚s
(
n3
,2Ë+ 
	gZ
 + 
	g_foˇÀ
;

34603 
	gªndî_ty≥
) {

34605 
døw_poöt
(
x0
,
y0
,
cﬁ‹
.
gë_ve˘‹_©
(
tx0
,
ty0
).
_d©a
,
›acôy
).

34606 
døw_poöt
(
x1
,
y1
,
cﬁ‹
.
gë_ve˘‹_©
(
tx1
,
ty1
).
_d©a
,
›acôy
).

34607 
døw_poöt
(
x2
,
y2
,
cﬁ‹
.
gë_ve˘‹_©
(
tx2
,
ty2
).
_d©a
,
›acôy
).

34608 
døw_poöt
(
x3
,
y3
,
cﬁ‹
.
gë_ve˘‹_©
(
tx3
,
ty3
).
_d©a
,
›acôy
);

34609 #ifde‡
cimg_u£_bﬂrd


34610 i‡(
	gpbﬂrd
) {

34611 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34612 
	gbﬂrd
.
døwCú˛e
(()
x0
,
height
()-()
y0
,0);

34613 
	gbﬂrd
.
døwCú˛e
(()
x1
,
height
()-()
y1
,0);

34614 
	gbﬂrd
.
døwCú˛e
(()
x2
,
height
()-()
y2
,0);

34615 
	gbﬂrd
.
døwCú˛e
(()
x3
,
height
()-()
y3
,0);

34620 i‡(
zbuf„r
)

34621 
døw_löe
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
).

34622 
døw_löe
(
zbuf„r
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
).

34623 
døw_löe
(
zbuf„r
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx2
,
ty2
,
tx3
,
ty3
,
›acôy
).

34624 
døw_löe
(
zbuf„r
,
x3
,
y3
,
z3
,
x0
,
y0
,
z0
,
cﬁ‹
,
tx3
,
ty3
,
tx0
,
ty0
,
›acôy
);

34626 
døw_löe
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
›acôy
).

34627 
døw_löe
(
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
).

34628 
døw_löe
(
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx2
,
ty2
,
tx3
,
ty3
,
›acôy
).

34629 
døw_löe
(
x3
,
y3
,
z3
,
x0
,
y0
,
z0
,
cﬁ‹
,
tx3
,
ty3
,
tx0
,
ty0
,
›acôy
);

34630 #ifde‡
cimg_u£_bﬂrd


34631 i‡(
	gpbﬂrd
) {

34632 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34633 
	gbﬂrd
.
døwLöe
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
);

34634 
	gbﬂrd
.
døwLöe
(()
x1
,
height
()-()
y1
,()
x2
,height()-()
y2
);

34635 
	gbﬂrd
.
døwLöe
(()
x2
,
height
()-()
y2
,()
x3
,height()-()
y3
);

34636 
	gbﬂrd
.
døwLöe
(()
x3
,
height
()-()
y3
,()
x0
,height()-()
y0
);

34641 i‡(
zbuf„r
)

34642 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
).

34643 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
›acôy
);

34645 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
).

34646 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
›acôy
);

34647 #ifde‡
cimg_u£_bﬂrd


34648 i‡(
	gpbﬂrd
) {

34649 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34650 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
,()
x2
,height()-()
y2
);

34651 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x2
,height()-()
y2
,()
x3
,height()-()
y3
);

34656 i‡(
zbuf„r
)

34657 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
,
lighçr›s
(
l
)).

34658 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
›acôy
,
lighçr›s
(
l
));

34660 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
›acôy
,
lighçr›s
(
l
)).

34661 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
›acôy
,
lighçr›s
(
l
));

34662 #ifde‡
cimg_u£_bﬂrd


34663 i‡(
	gpbﬂrd
) {

34664 c⁄° 
	gÕ
 = 
cimg
::
mö
(
lighçr›s
(
l
),1);

34665 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(()(128*
Õ
),

34666 ()(128*
Õ
),

34667 ()(128*
Õ
),

34668 ()(
›acôy
*255));

34669 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x1
,height()-()
y1
,()
x2
,height()-()
y2
);

34670 
	gbﬂrd
.
fûlTrüngÀ
(()
x0
,
height
()-()
y0
,()
x2
,height()-()
y2
,()
x3
,height()-()
y3
);

34676 
lighçr›0
 = 
lighçr›s
(
n0
), 
	glighçr›1
 =Üighçr›s(
n1
),

34677 
	glighçr›2
 = 
lighçr›s
(
n2
), 
	glighçr›3
 =Üighçr›s(
n3
);

34678 i‡(
	gzbuf„r
)

34679 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
lighçr›0
,
lighçr›1
,
lighçr›2
,
›acôy
).

34680 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
lighçr›0
,
lighçr›2
,
lighçr›3
,
›acôy
);

34682 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
lighçr›0
,
lighçr›1
,
lighçr›2
,
›acôy
).

34683 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
lighçr›0
,
lighçr›2
,
lighçr›3
,
›acôy
);

34684 #ifde‡
cimg_u£_bﬂrd


34685 i‡(
	gpbﬂrd
) {

34686 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34687 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
lighçr›0
,

34688 ()
x1
,
height
()-()
y1
,
lighçr›1
,

34689 ()
x2
,
height
()-()
y2
,
lighçr›2
);

34690 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
lighçr›0
,

34691 ()
x2
,
height
()-()
y2
,
lighçr›2
,

34692 ()
x3
,
height
()-()
y3
,
lighçr›3
);

34698 
lx0
 = ()
lighçr›s
(
n0
,0), 
	gly0
 = ()lightprops(n0,1),

34699 
	glx1
 = ()
lighçr›s
(
n1
,0), 
	gly1
 = ()lightprops(n1,1),

34700 
	glx2
 = ()
lighçr›s
(
n2
,0), 
	gly2
 = ()lightprops(n2,1),

34701 
	glx3
 = ()
lighçr›s
(
n3
,0), 
	gly3
 = ()lightprops(n3,1);

34702 i‡(
	gzbuf„r
)

34703 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light_ãxtuª
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
).

34704 
døw_åüngÀ
(
zbuf„r
,
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
light_ãxtuª
,
lx0
,
ly0
,
lx2
,
ly2
,
lx3
,
ly3
,
›acôy
);

34706 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
,
x2
,
y2
,
z2
,
cﬁ‹
,
tx0
,
ty0
,
tx1
,
ty1
,
tx2
,
ty2
,
light_ãxtuª
,
lx0
,
ly0
,
lx1
,
ly1
,
lx2
,
ly2
,
›acôy
).

34707 
døw_åüngÀ
(
x0
,
y0
,
z0
,
x2
,
y2
,
z2
,
x3
,
y3
,
z3
,
cﬁ‹
,
tx0
,
ty0
,
tx2
,
ty2
,
tx3
,
ty3
,
light_ãxtuª
,
lx0
,
ly0
,
lx2
,
ly2
,
lx3
,
ly3
,
›acôy
);

34708 #ifde‡
cimg_u£_bﬂrd


34709 i‡(
	gpbﬂrd
) {

34711 
	gl0
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lx0
)), ()÷ight_ãxtuª.
height
()/2*(1+
ly0
))),

34712 
	gl1
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lx1
)), ()÷ight_ãxtuª.
height
()/2*(1+
ly1
))),

34713 
	gl2
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lx2
)), ()÷ight_ãxtuª.
height
()/2*(1+
ly2
))),

34714 
	gl3
 = 
light_ãxtuª
(()÷ight_ãxtuª.
width
()/2*(1+
lx3
)), ()÷ight_ãxtuª.
height
()/2*(1+
ly3
)));

34715 
	gbﬂrd
.
£tPíCﬁ‹RGBi
(128,128,128,()(
›acôy
*255));

34716 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
l0
,

34717 ()
x1
,
height
()-()
y1
,
l1
,

34718 ()
x2
,
height
()-()
y2
,
l2
);

34719 
	gbﬂrd
.
fûlGouøudTrüngÀ
(()
x0
,
height
()-()
y0
,
l0
,

34720 ()
x2
,
height
()-()
y2
,
l2
,

34721 ()
x3
,
height
()-()
y3
,
l3
);

34730 i‡(
	gªndî_ty≥
==5Ë
cimg
::
muãx
(10,0);

34731  *
	gthis
;

34747 
	gCImg
<
	gT
>& 
£À˘
(
CImgDi•œy
 &
di•
,

34748 c⁄° 
„©uª_ty≥
=2, *c⁄° 
XYZ
=0) {

34749  
gë_£À˘
(
di•
,
„©uª_ty≥
,
XYZ
).
move_to
(*
this
);

34753 
	gCImg
<
	gT
>& 
£À˘
(c⁄° *c⁄° 
tôÀ
,

34754 c⁄° 
„©uª_ty≥
=2, *c⁄° 
XYZ
=0) {

34755  
gë_£À˘
(
tôÀ
,
„©uª_ty≥
,
XYZ
).
move_to
(*
this
);

34759 
	gCImg
<
	götT
> 
gë_£À˘
(
CImgDi•œy
 &
di•
,

34760 c⁄° 
„©uª_ty≥
=2, *c⁄° 
XYZ
=0) const {

34761  
_gë_£À˘
(
di•
,0,
„©uª_ty≥
,
XYZ
,0,0,0,
åue
,
Ál£
);

34765 
	gCImg
<
	götT
> 
gë_£À˘
(c⁄° *c⁄° 
tôÀ
,

34766 c⁄° 
„©uª_ty≥
=2, *c⁄° 
XYZ
=0) const {

34767 
CImgDi•œy
 
di•
;

34768  
_gë_£À˘
(
di•
,
tôÀ
,
„©uª_ty≥
,
XYZ
,0,0,0,
åue
,
Ál£
);

34771 
	gCImg
<
	götT
> 
_gë_£À˘
(
CImgDi•œy
 &
di•
, c⁄° *c⁄° 
tôÀ
,

34772 c⁄° 
„©uª_ty≥
, *c⁄° 
XYZ
,

34773 c⁄° 
‹igX
, c⁄° 
‹igY
, c⁄° 
‹igZ
,

34774 c⁄° 
boﬁ
 
ª£t_võw3d
,

34775 c⁄° 
boﬁ
 
f‹˚_di•œy_z_co‹d
) const {

34776 i‡(
is_em±y
()Ë 
	gCImg
<
	götT
>(1,
	g„©uª_ty≥
==0?3:6,1,1,-1);

34777 i‡(!
	gdi•
) {

34778 
	gdi•
.
assign
(
cimg_fôs¸ìn
(
_width
,
_height
,
_dïth
),
tôÀ
?title:0,1);

34779 i‡(!
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("CImg<%s> (%ux%ux%ux%u)",
pixñ_ty≥
(),
_width
,
_height
,
_dïth
,
_•e˘rum
);

34780 } i‡(
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("%s",
tôÀ
);

34782 c⁄° 
	gﬁd_n‹mÆiz©i⁄
 = 
di•
.
n‹mÆiz©i⁄
();

34783 
boﬁ
 
	gﬁd_is_ªsized
 = 
di•
.
is_ªsized
();

34784 
	gdi•
.
	g_n‹mÆiz©i⁄
 = 0;

34785 
	gdi•
.
show
().
£t_key
(0).
£t_whìl
().
show_mou£
();

34787 
	gf‹eground_cﬁ‹
[] = { 255,255,255 }, 
	gbackground_cﬁ‹
[] = { 0,0,0 };

34789 
	g¨ó
 = 0, 
	g°¨tög_¨ó
 = 0, 
	g˛icked_¨ó
 = 0, 
	gpha£
 = 0,

34790 
	gX0
 = ()((
XYZ
?XYZ[0]:(
_width
-1)/2)%_width),

34791 
	gY0
 = ()((
XYZ
?XYZ[1]:(
_height
-1)/2)%_height),

34792 
	gZ0
 = ()((
XYZ
?XYZ[2]:(
_dïth
-1)/2)%_depth),

34793 
	gX1
 =-1, 
	gY1
 = -1, 
	gZ1
 = -1,

34794 
	gX3d
 = -1, 
	gY3d
 = -1,

34795 
	goX3d
 = 
X3d
, 
	goY3d
 = -1,

34796 
	gomx
 = -1, 
	gomy
 = -1;

34797 
	gX
 = -1, 
	gY
 = -1, 
	gZ
 = -1;

34798 
	gﬁd_buâ⁄
 = 0, 
	gkey
 = 0;

34800 
boﬁ
 
	gsh≠e_£À˘ed
 = 
Ál£
, 
	gãxt_down
 = fÆ£, 
	gvisibÀ_curs‹
 = 
åue
;

34801 
	gCImg
<
	gÊﬂtT
> 
	gpo£3d
;

34802 
boﬁ
 
	gis_võw3d
 = 
Ál£
, 
	gis_axes
 = 
åue
;

34803 i‡(
	gª£t_võw3d
Ë{ 
	gpo£3d
.
assign
(); 
	gis_võw3d
 = 
Ál£
; }

34804 
	gCImg
<
	gÊﬂtT
> 
	gpoöts3d
, 
	g›acôõs3d
, 
	g£l_›acôõs3d
;

34805 
	gCImgLi°
<
	guötT
> 
	g¥imôives3d
, 
	g£l_¥imôives3d
;

34806 
	gCImgLi°
<
	guch¨T
> 
	gcﬁ‹s3d
, 
	g£l_cﬁ‹s3d
;

34807 
	gCImg
<
	guch¨T
> 
	gvisu
, 
	gvisu0
, 
	gvõw3d
;

34808 
	gãxt
[1024] = { 0 };

34810 !
	gkey
 && !
	gdi•
.
is_˛o£d
(Ë&& !
	gsh≠e_£À˘ed
) {

34814 
	gmx
 = 
di•
.
mou£_x
(),

34815 
	gmy
 = 
di•
.
mou£_y
();

34818 
	gmX
 = 
mx
<0?-1.0f:()mx*(
width
()+(
dïth
()>1?dïth():0))/
di•
.width(),

34819 
	gmY
 = 
my
<0?-1.0f:()my*(
height
()+(
dïth
()>1?dïth():0))/
di•
.height();

34821 
	g¨ó
 = 0;

34822 i‡(
	gmX
>=0 && 
mY
>=0 && 
mX
<
width
(Ë&& mY<
height
()Ë{ 
¨ó
 = 1; 
	gX
 = mX; 
	gY
 = mY; 
	gZ
 = ()(
pha£
?
Z1
:
Z0
); }

34823 i‡(
	gmX
>=0 && 
mX
<
width
(Ë&& 
mY
>=
height
()Ë{ 
¨ó
 = 2; 
	gX
 = mX; 
	gZ
 = mY - 
_height
; 
	gY
 = ()(
pha£
?
Y1
:
Y0
); }

34824 i‡(
	gmY
>=0 && 
mX
>=
width
(Ë&& 
mY
<
height
()Ë{ 
¨ó
 = 3; 
	gY
 = mY; 
	gZ
 = mX - 
_width
; 
	gX
 = ()(
pha£
?
X1
:
X0
); }

34825 i‡(
	gmX
>=
width
(Ë&& 
mY
>=
height
()Ë
¨ó
 = 4;

34826 i‡(
	gdi•
.
buâ⁄
()Ë{ i‡(!
	g˛icked_¨ó
Ë˛icked_¨ó = 
¨ó
; } clicked_area = 0;

34828 
	gkey
 = 
di•
.
key
()) {

34829 #i‡
cimg_OS
!=2

34830 
cimg
::
keyCTRLRIGHT
 :

34832 0 : 
cimg
::
keyCTRLLEFT
 : 
key
 = 0; ;

34833 
	gcimg
::
keyPAGEUP
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()Ë{ di•.
£t_whìl
(1); 
	gkey
 = 0; } ;

34834 
	gcimg
::
keyPAGEDOWN
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()Ë{ di•.
£t_whìl
(-1); 
	gkey
 = 0; } ;

34835 
	gcimg
::
keyA
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

34836 
is_axes
 = !is_axes; 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

34838 
	gcimg
::
keyD
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

34839 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
CImgDi•œy
::
_fôs¸ìn
(3*di•.
width
()/2,3*di•.
height
()/2,1,128,-100,false),

34840 
CImgDi•œy
::
_fôs¸ìn
(3*
di•
.
width
()/2,3*di•.
height
()/2,1,128,-100,
åue
),
Ál£
).

34841 
	g_is_ªsized
 = 
åue
;

34842 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

34844 
	gcimg
::
keyC
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

34845 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(2*di•.
width
()/3,2*di•.
height
()/3,1),Ál£).
	g_is_ªsized
 = 
åue
;

34846 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

34848 
	gcimg
::
keyR
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

34849 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(
_width
,
_height
,
_dïth
),Ál£).
	g_is_ªsized
 = 
åue
;

34850 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

34852 
	gcimg
::
keyF
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

34853 
di•
.
ªsize
(di•.
s¸ìn_width
(),di•.
s¸ìn_height
(),
Ál£
).
toggÀ_fuŒs¸ìn
().
	g_is_ªsized
 = 
åue
;

34854 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

34856 
	gcimg
::
keyV
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

34857 
is_võw3d
 = !is_võw3d; 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

34859 
	gcimg
::
keyS
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

34860 
¢≠_numbî
 = 0;

34861 
	gfûíame
[32] = { 0 };

34862 
	g°d
::
FILE
 *
fûe
;

34864 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.bmp",
¢≠_numbî
++);

34865 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

34866 } 
	gfûe
);

34867 i‡(
	gvisu0
) {

34868 
	gvisu
.
døw_ãxt
(0,0," Savög s«pshŸ... ",
f‹eground_cﬁ‹
,
background_cﬁ‹
,1,13).
di•œy
(
di•
);

34869 
	gvisu0
.
ßve
(
fûíame
);

34870 
	gvisu
.
døw_ãxt
(0,0," S«pshŸ '%s' saved. ",
f‹eground_cﬁ‹
,
background_cﬁ‹
,1,13,
fûíame
).
di•œy
(
di•
);

34872 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

34874 
	gcimg
::
keyO
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

34875 
¢≠_numbî
 = 0;

34876 
	gfûíame
[32] = { 0 };

34877 
	g°d
::
FILE
 *
fûe
;

34879 #ifde‡
cimg_u£_zlib


34880 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.cimgz",
¢≠_numbî
++);

34882 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.cimg",
¢≠_numbî
++);

34884 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

34885 } 
	gfûe
);

34886 
	gvisu
.
døw_ãxt
(0,0," Savög in°™˚... ",
f‹eground_cﬁ‹
,
background_cﬁ‹
,1,13).
di•œy
(
di•
);

34887 
ßve
(
fûíame
);

34888 
	gvisu
.
døw_ãxt
(0,0," In°™˚ '%s' saved. ",
f‹eground_cﬁ‹
,
background_cﬁ‹
,1,13,
fûíame
).
di•œy
(
di•
);

34889 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

34893 
	g¨ó
) {

34896 
mx
 = 
my
 = -1; 
	gX
 = 
Y
 = 
Z
 = -1;

34900 i‡(
di•
.
buâ⁄
()&1 && 
pha£
<2 && 
˛icked_¨ó
==
¨ó
) {

34901 i‡(
_dïth
>1 && (
X1
!=()
X
 || 
Y1
!=()
Y
 || 
Z1
!=()
Z
)Ë
visu0
.
assign
();

34902 
	gX1
 = ()
X
; 
	gY1
 = ()
Y
; 
	gZ1
 = ()
Z
;

34904 i‡(!(
	gdi•
.
buâ⁄
()&1Ë&& 
	gpha£
>=2 && 
˛icked_¨ó
!=
¨ó
) {

34905 
°¨tög_¨ó
) {

34906 1 : i‡(
Z1
!=()
Z
Ë
visu0
.
assign
(); 
	gZ1
 = ()Z; ;

34907 2 : i‡(
Y1
!=()
Y
Ë
visu0
.
assign
(); 
	gY1
 = ()Y; ;

34908 3 : i‡(
X1
!=()
X
Ë
visu0
.
assign
(); 
	gX1
 = ()X; ;

34911 i‡(
	gdi•
.
buâ⁄
()&2 && 
	g˛icked_¨ó
==
¨ó
) {

34912 i‡(
pha£
) {

34913 i‡(
_dïth
>1 && (
X1
!=()
X
 || 
Y1
!=()
Y
 || 
Z1
!=()
Z
)Ë
visu0
.
assign
();

34914 
	gX1
 = ()
X
; 
	gY1
 = ()
Y
; 
	gZ1
 = ()
Z
;

34916 i‡(
	g_dïth
>1 && (
	gX0
!=()
X
 || 
Y0
!=()
Y
 || 
Z0
!=()
Z
)Ë
visu0
.
assign
();

34917 
	gX0
 = ()
X
; 
	gY0
 = ()
Y
; 
	gZ0
 = ()
Z
;

34920 i‡(
	gdi•
.
buâ⁄
()&4) {

34921 
	gX
 = ()
X0
; 
	gY
 = ()
Y0
; 
	gZ
 = ()
Z0
; 
	gpha£
 = 
¨ó
 = 
˛icked_¨ó
 = 
°¨tög_¨ó
 = 0; 
	gvisu0
.
assign
();

34923 i‡(
	gdi•
.
whìl
()) {

34924 i‡(
	g_dïth
>1 && !
	gdi•
.
is_keyCTRLLEFT
(Ë&& !di•.
is_keyCTRLRIGHT
(Ë&& !di•.
is_keySHIFTLEFT
(Ë&& !di•.
is_keySHIFTRIGHT
() &&

34925 !
	gdi•
.
is_keyALT
(Ë&& !di•.
is_keyALTGR
()) {

34926 
	g¨ó
) {

34928 i‡(
pha£
Ë
Z
 = ()(
Z1
+=
di•
.
whìl
()); 
	gZ
 = ()(
Z0
+=disp.wheel());

34929 
	gvisu0
.
assign
(); ;

34931 i‡(
pha£
Ë
Y
 = ()(
Y1
+=
di•
.
whìl
()); 
	gY
 = ()(
Y0
+=disp.wheel());

34932 
	gvisu0
.
assign
(); ;

34934 i‡(
pha£
Ë
X
 = ()(
X1
+=
di•
.
whìl
()); 
	gX
 = ()(
X0
+=disp.wheel());

34935 
	gvisu0
.
assign
(); ;

34937 
	gdi•
.
£t_whìl
();

34938 } 
	gkey
 = ~0U;

34940 i‡((
	gdi•
.
buâ⁄
()&1)!=
ﬁd_buâ⁄
) {

34941 
pha£
) {

34943 i‡(
¨ó
==
˛icked_¨ó
) {

34944 
X0
 = 
X1
 = ()
X
; 
	gY0
 = 
Y1
 = ()
Y
; 
	gZ0
 = 
Z1
 = ()
Z
; 
	g°¨tög_¨ó
 = 
¨ó
; ++
	gpha£
;

34947 i‡(
¨ó
==
°¨tög_¨ó
) {

34948 
X1
 = ()
X
; 
	gY1
 = ()
Y
; 
	gZ1
 = ()
Z
; ++
	gpha£
;

34949 } i‡(!(
	gdi•
.
buâ⁄
()&1)Ë{ 
	gX
 = ()
X0
; 
	gY
 = ()
Y0
; 
	gZ
 = ()
Z0
; 
	gpha£
 = 0; 
	gvisu0
.
assign
(); }

34951 2 : ++
pha£
; ;

34953 
	gﬁd_buâ⁄
 = 
di•
.
buâ⁄
()&1;

34958 i‡(
is_võw3d
 && 
poöts3d
) {

34959 
X3d
 = 
mx
 - 
_width
*
di•
.
width
()/(_width+(
_dïth
>1?_depth:0));

34960 
	gY3d
 = 
my
 - 
_height
*
di•
.
height
()/(_height+(
_dïth
>1?_depth:0));

34961 i‡(
	goX3d
<0Ë{ oX3d = 
X3d
; 
	goY3d
 = 
Y3d
; }

34962 i‡((
	gdi•
.
buâ⁄
()&3)==3Ë{ 
po£3d
.
assign
(); 
	gvõw3d
.assign(); 
	goX3d
 = 
oY3d
 = 
X3d
 = 
Y3d
 = -1; }

34963 i‡(
	gdi•
.
buâ⁄
()&1 && 
	gpo£3d
 && (
	goX3d
!=
X3d
 || 
oY3d
!=
Y3d
)) {

34965 
R
 = 0.45f*
cimg
::
mö
(
võw3d
.
_width
,võw3d.
_height
),

34966 
	gR2
 = 
R
*R,

34967 
	gu0
 = ()(
oX3d
-
võw3d
.
width
()/2),

34968 
	gv0
 = ()(
oY3d
-
võw3d
.
height
()/2),

34969 
	gu1
 = ()(
X3d
-
võw3d
.
width
()/2),

34970 
	gv1
 = ()(
Y3d
-
võw3d
.
height
()/2),

34971 
	gn0
 = ()
°d
::
sqπ
(
u0
*u0+
v0
*v0),

34972 
	gn1
 = ()
°d
::
sqπ
(
u1
*u1+
v1
*v1),

34973 
	gnu0
 = 
n0
>
R
?(
u0
*R/n0):u0,

34974 
	gnv0
 = 
n0
>
R
?(
v0
*R/n0):v0,

34975 
	gnw0
 = ()
°d
::
sqπ
(
cimg
::
max
(0,
R2
-
nu0
*nu0-
nv0
*nv0)),

34976 
	gnu1
 = 
n1
>
R
?(
u1
*R/n1):u1,

34977 
	gnv1
 = 
n1
>
R
?(
v1
*R/n1):v1,

34978 
	gnw1
 = ()
°d
::
sqπ
(
cimg
::
max
(0,
R2
-
nu1
*nu1-
nv1
*nv1)),

34979 
	gu
 = 
nv0
*
nw1
 - 
nw0
*
nv1
,

34980 
	gv
 = 
nw0
*
nu1
 - 
nu0
*
nw1
,

34981 
	gw
 = 
nv0
*
nu1
 - 
nu0
*
nv1
,

34982 
	gn
 = ()
°d
::
sqπ
(
u
*u+
v
*v+
w
*w),

34983 
	gÆpha
 = ()
°d
::
asö
(
n
/
R2
);

34984 
	gpo£3d
.
døw_image
(
CImg
<
ÊﬂtT
>::
rŸ©i⁄_m©rix
(
u
,
v
,
w
,
Æpha
)*
po£3d
.
gë_¸›
(0,0,2,2));

34985 
	gvõw3d
.
assign
();

34986 } i‡(
	gdi•
.
buâ⁄
()&2 && 
	gpo£3d
 && 
	goY3d
!=
Y3d
) {

34987 
po£3d
(3,2)-=(
oY3d
 - 
Y3d
)*1.5f; 
	gvõw3d
.
assign
();

34989 i‡(
	gdi•
.
whìl
()) {

34990 
po£3d
(3,2)-=
di•
.
whìl
()*15; 
	gvõw3d
.
assign
(); 
	gdi•
.
£t_whìl
();

34992 i‡(
	gdi•
.
buâ⁄
()&4 && 
	gpo£3d
 && (
	goX3d
!=
X3d
 || 
oY3d
!=
Y3d
)) {

34993 
po£3d
(3,0)-=
oX3d
 - 
X3d
;Öo£3d(3,1)-=
oY3d
 - 
Y3d
; 
	gvõw3d
.
assign
();

34995 
	goX3d
 = 
X3d
; 
	goY3d
 = 
Y3d
;

34997 
	gmx
 = 
my
 = -1; 
	gX
 = 
Y
 = 
Z
 = -1;

35001 i‡(
	gpha£
) {

35002 i‡(!
	g„©uª_ty≥
Ë
	gsh≠e_£À˘ed
 = 
pha£
?
åue
:
Ál£
;

35004 i‡(
	g_dïth
>1Ë
	gsh≠e_£À˘ed
 = (
pha£
==3)?
åue
:
Ál£
;

35005 
	gsh≠e_£À˘ed
 = (
pha£
==2)?
åue
:
Ál£
;

35009 i‡(
	gX0
<0ËX0 = 0; i‡(X0>=
width
()Ë
X0
 = width() - 1;

35010 i‡(
	gY0
<0ËY0 = 0; i‡(Y0>=
height
()Ë
Y0
 = height() - 1;

35011 i‡(
	gZ0
<0ËZ0 = 0; i‡(Z0>=
dïth
()Ë
Z0
 = depth() - 1;

35012 i‡(
	gX1
<1ËX1 = 0; i‡(X1>=
width
()Ë
X1
 = width() - 1;

35013 i‡(
	gY1
<0ËY1 = 0; i‡(Y1>=
height
()Ë
Y1
 = height() - 1;

35014 i‡(
	gZ1
<0ËZ1 = 0; i‡(Z1>=
dïth
()Ë
Z1
 = depth() - 1;

35017 i‡(
	gmx
!=
omx
 || 
my
!=
omy
 || !
visu0
 || (
_dïth
>1 && !
võw3d
)) {

35019 i‡(!
visu0
) {

35020 
__gë_£À˘
(
di•
,
ﬁd_n‹mÆiz©i⁄
,
pha£
?
X1
:
X0
,pha£?
Y1
:
Y0
,pha£?
Z1
:
Z0
).
move_to
(
visu0
).
ªsize
(disp);

35021 
	gvõw3d
.
assign
();

35022 
	gpoöts3d
.
assign
();

35025 i‡(
	gis_võw3d
 && 
	g_dïth
>1 && !
	gvõw3d
) {

35027 
	g_x3d
 = ()
cimg
::
round
(()
_width
*
visu0
._width/(_width+
_dïth
),1,1),

35028 
	g_y3d
 = ()
cimg
::
round
(()
_height
*
visu0
._height/(_height+
_dïth
),1,1),

35029 
	gx3d
 = 
_x3d
>=
visu0
.
_width
?visu0._width-1:_x3d,

35030 
	gy3d
 = 
_y3d
>=
visu0
.
_height
?visu0._height-1:_y3d;

35031 
	gCImg
<
	guch¨T
>(1,2,1,1,64,128).
ªsize
(
visu0
.
_width
-
x3d
,visu0.
_height
-
y3d
,1,visu0.
_•e˘rum
,3).
move_to
(
võw3d
);

35032 i‡(!
	gpoöts3d
) {

35033 
gë_¥oje˘i⁄s3d
(
¥imôives3d
,
cﬁ‹s3d
,
pha£
?
X1
:
X0
,pha£?
Y1
:
Y0
,pha£?
Z1
:
Z0
,
åue
).
move_to
(
poöts3d
);

35034 
	gpoöts3d
.
≠≥nd
(
CImg
<
ÊﬂtT
>(8,3,1,1,

35035 0,
_width
-1,_width-1,0,0,_width-1,_width-1,0,

35036 0,0,
_height
-1,_height-1,0,0,_height-1,_height-1,

35037 0,0,0,0,
_dïth
-1,_depth-1,_depth-1,_depth-1),'x');

35038 
	gCImg
<
	guötT
>::
ve˘‹
(12,13).
move_to
(
¥imôives3d
); CImg<uintT>::vector(13,14).move_to(primitives3d);

35039 
	gCImg
<
	guötT
>::
ve˘‹
(14,15).
move_to
(
¥imôives3d
); CImg<uintT>::vector(15,12).move_to(primitives3d);

35040 
	gCImg
<
	guötT
>::
ve˘‹
(16,17).
move_to
(
¥imôives3d
); CImg<uintT>::vector(17,18).move_to(primitives3d);

35041 
	gCImg
<
	guötT
>::
ve˘‹
(18,19).
move_to
(
¥imôives3d
); CImg<uintT>::vector(19,16).move_to(primitives3d);

35042 
	gCImg
<
	guötT
>::
ve˘‹
(12,16).
move_to
(
¥imôives3d
); CImg<uintT>::vector(13,17).move_to(primitives3d);

35043 
	gCImg
<
	guötT
>::
ve˘‹
(14,18).
move_to
(
¥imôives3d
); CImg<uintT>::vector(15,19).move_to(primitives3d);

35044 
	gcﬁ‹s3d
.
ö£π
(12,
CImg
<
uch¨T
>::
ve˘‹
(255,255,255));

35045 
	g›acôõs3d
.
assign
(
¥imôives3d
.
width
(),1,1,1,0.5f);

35046 i‡(!
	gpha£
) {

35047 
	g›acôõs3d
[0] = 
›acôõs3d
[1] = opacities3d[2] = 0.8f;

35048 
	g£l_¥imôives3d
.
assign
();

35049 
	g£l_cﬁ‹s3d
.
assign
();

35050 
	g£l_›acôõs3d
.
assign
();

35052 i‡(
	g„©uª_ty≥
==2) {

35053 
poöts3d
.
≠≥nd
(
CImg
<
ÊﬂtT
>(8,3,1,1,

35054 
X0
,
X1
,X1,X0,X0,X1,X1,X0,

35055 
Y0
,Y0,
Y1
,Y1,Y0,Y0,Y1,Y1,

35056 
Z0
,Z0,Z0,Z0,
Z1
,Z1,Z1,Z1),'x');

35057 
	g£l_¥imôives3d
.
assign
();

35058 
	gCImg
<
	guötT
>::
ve˘‹
(20,21).
move_to
(
£l_¥imôives3d
); CImg<uintT>::vector(21,22).move_to(sel_primitives3d);

35059 
	gCImg
<
	guötT
>::
ve˘‹
(22,23).
move_to
(
£l_¥imôives3d
); CImg<uintT>::vector(23,20).move_to(sel_primitives3d);

35060 
	gCImg
<
	guötT
>::
ve˘‹
(24,25).
move_to
(
£l_¥imôives3d
); CImg<uintT>::vector(25,26).move_to(sel_primitives3d);

35061 
	gCImg
<
	guötT
>::
ve˘‹
(26,27).
move_to
(
£l_¥imôives3d
); CImg<uintT>::vector(27,24).move_to(sel_primitives3d);

35062 
	gCImg
<
	guötT
>::
ve˘‹
(20,24).
move_to
(
£l_¥imôives3d
); CImg<uintT>::vector(21,25).move_to(sel_primitives3d);

35063 
	gCImg
<
	guötT
>::
ve˘‹
(22,26).
move_to
(
£l_¥imôives3d
); CImg<uintT>::vector(23,27).move_to(sel_primitives3d);

35065 
	gpoöts3d
.
≠≥nd
(
CImg
<
ÊﬂtT
>(2,3,1,1,

35066 
X0
,
X1
,

35067 
Y0
,
Y1
,

35068 
Z0
,
Z1
),'x');

35069 
	g£l_¥imôives3d
.
assign
(
CImg
<
uötT
>::
ve˘‹
(20,21));

35071 
	g£l_cﬁ‹s3d
.
assign
(
£l_¥imôives3d
.
_width
,
CImg
<
uch¨T
>::
ve˘‹
(255,255,255));

35072 
	g£l_›acôõs3d
.
assign
(
£l_¥imôives3d
.
_width
,1,1,1,0.8f);

35074 
	gpoöts3d
.
shi·_obje˘3d
(-0.5f*(
_width
-1),-0.5f*(
_height
-1),-0.5f*(
_dïth
-1)).
ªsize_obje˘3d
();

35075 
	gpoöts3d
*=0.75f*
cimg
::
mö
(
võw3d
.
_width
,võw3d.
_height
);

35078 i‡(!
	gpo£3d
Ë
	gCImg
<
	gÊﬂtT
>(4,3,1,1, 1,0,0,0, 0,1,0,0, 0,0,1,0).
move_to
(
po£3d
);

35079 
	gCImg
<
	gÊﬂtT
> 
zbuf„r3d
(
võw3d
.
_width
,võw3d.
_height
,1,1,0);

35080 c⁄° 
	gCImg
<
	gÊﬂtT
> 
	grŸ©ed_poöts3d
 = 
po£3d
.
gë_¸›
(0,0,2,2)*
	gpoöts3d
;

35081 i‡(
	g£l_¥imôives3d
)

35082 
	gvõw3d
.
døw_obje˘3d
(
po£3d
(3,0Ë+ 0.5f*
võw3d
.
_width
,

35083 
po£3d
(3,1Ë+ 0.5f*
võw3d
.
_height
,

35084 
po£3d
(3,2),

35085 
rŸ©ed_poöts3d
,
£l_¥imôives3d
,
£l_cﬁ‹s3d
,
£l_›acôõs3d
,

35086 2,
åue
,500,0,0,0,0,0,
zbuf„r3d
);

35087 
	gvõw3d
.
døw_obje˘3d
(
po£3d
(3,0Ë+ 0.5f*
võw3d
.
_width
,

35088 
po£3d
(3,1Ë+ 0.5f*
võw3d
.
_height
,

35089 
po£3d
(3,2),

35090 
rŸ©ed_poöts3d
,
¥imôives3d
,
cﬁ‹s3d
,
›acôõs3d
,

35091 2,
åue
,500,0,0,0,0,0,
zbuf„r3d
);

35092 
	gvisu0
.
døw_image
(
x3d
,
y3d
,
võw3d
);

35094 
	gvisu
 = 
visu0
;

35096 i‡(
	gX
<0 || 
	gY
<0 || 
	gZ
<0Ë{ i‡(!
	gvisibÀ_curs‹
Ë{ 
	gdi•
.
show_mou£
(); visibÀ_curs‹ = 
åue
; }}

35098 i‡(
	gis_axes
Ë{ i‡(
	gvisibÀ_curs‹
Ë{ 
	gdi•
.
hide_mou£
(); visibÀ_curs‹ = 
Ál£
; }}

35099 { i‡(!
	gvisibÀ_curs‹
Ë{ 
	gdi•
.
show_mou£
(); visibÀ_curs‹ = 
åue
; }}

35100 c⁄° 
	gd
 = (
_dïth
>1)?_depth:0;

35102 
	gw
 = 
di•
.
width
(), 
	gW
 = width(Ë+ 
d
,

35103 
	gh
 = 
di•
.
height
(), 
	gH
 = height(Ë+ 
d
,

35104 
	g_xp
 = ()
X
*
w
/
W
, 
	gxp
 = 
_xp
 + (_xp*W/w!=()X?1:0),

35105 
	g_yp
 = ()
Y
*
h
/
H
, 
	gyp
 = 
_yp
 + (_yp*H/h!=()Y?1:0),

35106 
	g_xn
 = ()(
X
+1)*
w
/
W
-1, 
	gxn
 = 
_xn
 + ((_xn+1)*W/w!=()X+1?1:0),

35107 
	g_yn
 = ()(
Y
+1)*
h
/
H
-1, 
	gyn
 = 
_yn
 + ((_yn+1)*H/h!=()Y+1?1:0),

35108 
	g_zxp
 = (()
Z
+
width
())*
w
/
W
, 
	gzxp
 = 
_zxp
 + (_zxp*W/w!=()Z+width()?1:0),

35109 
	g_zyp
 = (()
Z
+
height
())*
h
/
H
, 
	gzyp
 = 
_zyp
 + (_zyp*H/h!=()Z+height()?1:0),

35110 
	g_zxn
 = (()
Z
+
width
()+1)*
w
/
W
-1, 
	gzxn
 = 
_zxn
 + ((_zxn+1)*W/w!=()Z+width()+1?1:0),

35111 
	g_zyn
 = (()
Z
+
height
()+1)*
h
/
H
-1, 
	gzyn
 = 
_zyn
 + ((_zyn+1)*H/h!=()Z+height()+1?1:0),

35112 
	g_xM
 = 
width
()*
w
/
W
-1, 
	gxM
 = 
_xM
 + ((_xM+1)*W/w!=width()?1:0),

35113 
	g_yM
 = 
height
()*
h
/
H
-1, 
	gyM
 = 
_yM
 + ((_yM+1)*H/h!=height()?1:0),

35114 
	gxc
 = (
xp
 + 
xn
)/2,

35115 
	gyc
 = (
yp
 + 
yn
)/2,

35116 
	gzxc
 = (
zxp
 + 
zxn
)/2,

35117 
	gzyc
 = (
zyp
 + 
zyn
)/2,

35118 
	gxf
 = ()(
X
*
w
/
W
),

35119 
	gyf
 = ()(
Y
*
h
/
H
),

35120 
	gzxf
 = ()((
Z
+
width
())*
w
/
W
),

35121 
	gzyf
 = ()((
Z
+
height
())*
h
/
H
);

35123 i‡(
	gis_axes
) {

35124 
	gvisu
.
døw_löe
(0,
yf
,
visu
.
width
()-1,yf,
f‹eground_cﬁ‹
,0.7f,0xFF00FF00).

35125 
døw_löe
(0,
yf
,
visu
.
width
()-1,yf,
background_cﬁ‹
,0.7f,0x00FF00FF).

35126 
døw_löe
(
xf
,0,xf,
visu
.
height
()-1,
f‹eground_cﬁ‹
,0.7f,0xFF00FF00).

35127 
døw_löe
(
xf
,0,xf,
visu
.
height
()-1,
background_cﬁ‹
,0.7f,0x00FF00FF);

35128 i‡(
	g_dïth
>1)

35129 
	gvisu
.
døw_löe
(
zxf
,0,zxf,
yM
,
f‹eground_cﬁ‹
,0.7f,0xFF00FF00).

35130 
døw_löe
(
zxf
,0,zxf,
yM
,
background_cﬁ‹
,0.7f,0x00FF00FF).

35131 
døw_löe
(0,
zyf
,
xM
,zyf,
f‹eground_cﬁ‹
,0.7f,0xFF00FF00).

35132 
døw_löe
(0,
zyf
,
xM
,zyf,
background_cﬁ‹
,0.7f,0x00FF00FF);

35136 i‡(
	gxn
-
	gxp
>=4 && 
yn
-
yp
>=4Ë
visu
.
døw_ª˘™gÀ
(
xp
,yp,
xn
,yn,
f‹eground_cﬁ‹
,0.2f).

35137 
døw_ª˘™gÀ
(
xp
,
yp
,
xn
,
yn
,
f‹eground_cﬁ‹
,1,0xAAAAAAAA).

35138 
døw_ª˘™gÀ
(
xp
,
yp
,
xn
,
yn
,
background_cﬁ‹
,1,0x55555555);

35139 i‡(
	g_dïth
>1) {

35140 i‡(
	gyn
-
	gyp
>=4 && 
zxn
-
zxp
>=4Ë
visu
.
døw_ª˘™gÀ
(zxp,
yp
,zxn,
yn
,
background_cﬁ‹
,0.2f).

35141 
døw_ª˘™gÀ
(
zxp
,
yp
,
zxn
,
yn
,
f‹eground_cﬁ‹
,1,0xAAAAAAAA).

35142 
døw_ª˘™gÀ
(
zxp
,
yp
,
zxn
,
yn
,
background_cﬁ‹
,1,0x55555555);

35143 i‡(
	gxn
-
	gxp
>=4 && 
zyn
-
zyp
>=4Ë
visu
.
døw_ª˘™gÀ
(
xp
,zyp,
xn
,zyn,
background_cﬁ‹
,0.2f).

35144 
døw_ª˘™gÀ
(
xp
,
zyp
,
xn
,
zyn
,
f‹eground_cﬁ‹
,1,0xAAAAAAAA).

35145 
døw_ª˘™gÀ
(
xp
,
zyp
,
xn
,
zyn
,
background_cﬁ‹
,1,0x55555555);

35149 i‡(
	gpha£
) {

35151 
	g_xp0
 = 
X0
*
w
/
W
, 
	gxp0
 = 
_xp0
 + (_xp0*W/w!=X0?1:0),

35152 
	g_yp0
 = 
Y0
*
h
/
H
, 
	gyp0
 = 
_yp0
 + (_yp0*H/h!=Y0?1:0),

35153 
	g_xn0
 = (
X0
+1)*
w
/
W
-1, 
	gxn0
 = 
_xn0
 + ((_xn0+1)*W/w!=X0+1?1:0),

35154 
	g_yn0
 = (
Y0
+1)*
h
/
H
-1, 
	gyn0
 = 
_yn0
 + ((_yn0+1)*H/h!=Y0+1?1:0),

35155 
	g_zxp0
 = (
Z0
+
width
())*
w
/
W
, 
	gzxp0
 = 
_zxp0
 + (_zxp0*W/w!=Z0+width()?1:0),

35156 
	g_zyp0
 = (
Z0
+
height
())*
h
/
H
, 
	gzyp0
 = 
_zyp0
 + (_zyp0*H/h!=Z0+height()?1:0),

35157 
	g_zxn0
 = (
Z0
+
width
()+1)*
w
/
W
-1, 
	gzxn0
 = 
_zxn0
 + ((_zxn0+1)*W/w!=Z0+width()+1?1:0),

35158 
	g_zyn0
 = (
Z0
+
height
()+1)*
h
/
H
-1, 
	gzyn0
 = 
_zyn0
 + ((_zyn0+1)*H/h!=Z0+height()+1?1:0),

35159 
	gxc0
 = (
xp0
 + 
xn0
)/2,

35160 
	gyc0
 = (
yp0
 + 
yn0
)/2,

35161 
	gzxc0
 = (
zxp0
 + 
zxn0
)/2,

35162 
	gzyc0
 = (
zyp0
 + 
zyn0
)/2;

35164 
	g„©uª_ty≥
) {

35166 
visu
.
døw_¨row
(
xc0
,
yc0
,
xc
,
yc
,
background_cﬁ‹
,0.9f,30,5,0x55555555).

35167 
døw_¨row
(
xc0
,
yc0
,
xc
,
yc
,
f‹eground_cﬁ‹
,0.9f,30,5,0xAAAAAAAA);

35168 i‡(
	gd
) {

35169 
	gvisu
.
døw_¨row
(
zxc0
,
yc0
,
zxc
,
yc
,
background_cﬁ‹
,0.9f,30,5,0x55555555).

35170 
døw_¨row
(
zxc0
,
yc0
,
zxc
,
yc
,
f‹eground_cﬁ‹
,0.9f,30,5,0xAAAAAAAA).

35171 
døw_¨row
(
xc0
,
zyc0
,
xc
,
zyc
,
background_cﬁ‹
,0.9f,30,5,0x55555555).

35172 
døw_¨row
(
xc0
,
zyc0
,
xc
,
zyc
,
f‹eground_cﬁ‹
,0.9f,30,5,0xAAAAAAAA);

35176 
visu
.
døw_ª˘™gÀ
(
X0
<
X1
?
xp0
:
xp
,
Y0
<
Y1
?
yp0
:
yp
,X0<X1?
xn
:
xn0
,Y0<Y1?
yn
:
yn0
,
background_cﬁ‹
,0.2f).

35177 
døw_ª˘™gÀ
(
X0
<
X1
?
xp0
:
xp
,
Y0
<
Y1
?
yp0
:
yp
,X0<X1?
xn
:
xn0
,Y0<Y1?
yn
:
yn0
,
f‹eground_cﬁ‹
,0.9f,0xAAAAAAAA).

35178 
døw_ª˘™gÀ
(
X0
<
X1
?
xp0
:
xp
,
Y0
<
Y1
?
yp0
:
yp
,X0<X1?
xn
:
xn0
,Y0<Y1?
yn
:
yn0
,
background_cﬁ‹
,0.9f,0x55555555);

35179 i‡(
	gd
) {

35180 
	gvisu
.
døw_ª˘™gÀ
(
Z0
<
Z1
?
zxp0
:
zxp
,
Y0
<
Y1
?
yp0
:
yp
,Z0<Z1?
zxn
:
zxn0
,Y0<Y1?
yn
:
yn0
,
background_cﬁ‹
,0.2f).

35181 
døw_ª˘™gÀ
(
Z0
<
Z1
?
zxp0
:
zxp
,
Y0
<
Y1
?
yp0
:
yp
,Z0<Z1?
zxn
:
zxn0
,Y0<Y1?
yn
:
yn0
,
f‹eground_cﬁ‹
,0.9f,0xAAAAAAAA).

35182 
døw_ª˘™gÀ
(
Z0
<
Z1
?
zxp0
:
zxp
,
Y0
<
Y1
?
yp0
:
yp
,Z0<Z1?
zxn
:
zxn0
,Y0<Y1?
yn
:
yn0
,
background_cﬁ‹
,0.9f,0x55555555).

35183 
døw_ª˘™gÀ
(
X0
<
X1
?
xp0
:
xp
,
Z0
<
Z1
?
zyp0
:
zyp
,X0<X1?
xn
:
xn0
,Z0<Z1?
zyn
:
zyn0
,
background_cﬁ‹
,0.2f).

35184 
døw_ª˘™gÀ
(
X0
<
X1
?
xp0
:
xp
,
Z0
<
Z1
?
zyp0
:
zyp
,X0<X1?
xn
:
xn0
,Z0<Z1?
zyn
:
zyn0
,
f‹eground_cﬁ‹
,0.9f,0xAAAAAAAA).

35185 
døw_ª˘™gÀ
(
X0
<
X1
?
xp0
:
xp
,
Z0
<
Z1
?
zyp0
:
zyp
,X0<X1?
xn
:
xn0
,Z0<Z1?
zyn
:
zyn0
,
background_cﬁ‹
,0.9f,0x55555555);

35189 
visu
.
døw_ñlù£
(
xc0
,
yc0
,()
cimg
::
abs
(
xc
-xc0),()cimg::abs(
yc
-yc0),0,
background_cﬁ‹
,0.2f).

35190 
døw_ñlù£
(
xc0
,
yc0
,()
cimg
::
abs
(
xc
-xc0),()cimg::abs(
yc
-yc0),0,
f‹eground_cﬁ‹
,0.9f,~0U).

35191 
døw_poöt
(
xc0
,
yc0
,
f‹eground_cﬁ‹
,0.9f);

35192 i‡(
	gd
) {

35193 
	gvisu
.
døw_ñlù£
(
zxc0
,
yc0
,()
cimg
::
abs
(
zxc
-zxc0),()cimg::abs(
yc
-yc0),0,
background_cﬁ‹
,0.2f).

35194 
døw_ñlù£
(
zxc0
,
yc0
,()
cimg
::
abs
(
zxc
-zxc0),()cimg::abs(
yc
-yc0),0,
f‹eground_cﬁ‹
,0.9f,~0U).

35195 
døw_poöt
(
zxc0
,
yc0
,
f‹eground_cﬁ‹
,0.9f).

35196 
døw_ñlù£
(
xc0
,
zyc0
,()
cimg
::
abs
(
xc
-xc0),()cimg::abs(
zyc
-zyc0),0,
background_cﬁ‹
,0.2f).

35197 
døw_ñlù£
(
xc0
,
zyc0
,()
cimg
::
abs
(
xc
-xc0),()cimg::abs(
zyc
-zyc0),0,
f‹eground_cﬁ‹
,0.9f,~0U).

35198 
døw_poöt
(
xc0
,
zyc0
,
f‹eground_cﬁ‹
,0.9f);

35205 i‡(
	gmy
>=0 && 
my
<13Ë
ãxt_down
 = 
åue
; i‡(my>=
visu
.
height
()-13Ëãxt_dow¿
Ál£
;

35206 i‡(!
	g„©uª_ty≥
 || !
	gpha£
) {

35207 i‡(
	gX
>=0 && 
Y
>=0 && 
Z
>=0 && 
X
<
width
(Ë&& Y<
height
(Ë&& Z<
dïth
()) {

35208 i‡(
_dïth
>1 || 
f‹˚_di•œy_z_co‹d
Ë
cimg_¢¥ötf
(
ãxt
,—ext)," Poöà(%d,%d,%dË[ ",
‹igX
+()
X
,
‹igY
+()
Y
,
‹igZ
+()
Z
);

35209 
cimg_¢¥ötf
(
ãxt
,—ext)," Poöà(%d,%dË[ ",
‹igX
+()
X
,
‹igY
+()
Y
);

35210 *
	g˘ext
 = 
ãxt
 + 
°d
::
°æí
—ext), *c⁄° 
	g…ext
 =Åext + 512;

35211 
	gc
 = 0; c<
	g_•e˘rum
 && 
	g˘ext
<
	g…ext
; ++c) {

35212 
cimg_¢¥ötf
(
˘ext
,(
ãxt
)/2,
cimg
::
ty≥
<
T
>::
f‹m©
(),cimg::ty≥<T>::f‹m©((*
this
)(()
X
,()
Y
,()
Z
,
c
)));

35213 
	g˘ext
 = 
ãxt
 + 
°d
::
°æí
(text);

35214 *(
	g˘ext
++) = ' '; *ctext = 0;

35216 
	g°d
::
°r˝y
(
ãxt
 + 
°d
::
°æí
(text),"] ");

35218 } 
	g„©uª_ty≥
) {

35220 c⁄° 
dX
 = ()(
X0
 - 
X1
), 
	gdY
 = ()(
Y0
 - 
Y1
), 
	gdZ
 = ()(
Z0
 - 
Z1
), 
	gn‹m
 = 
°d
::
sqπ
(dX*dX+
dY
*dY+
dZ
*dZ);

35221 i‡(
	g_dïth
>1 || 
	gf‹˚_di•œy_z_co‹d
Ë
cimg_¢¥ötf
(
ãxt
,(text)," Vect (%d,%d,%d)-(%d,%d,%d), Norm = %g ",

35222 
‹igX
+
X0
,
‹igY
+
Y0
,
‹igZ
+
Z0
,‹igX+
X1
,‹igY+
Y1
,‹igZ+
Z1
,
n‹m
);

35223 
cimg_¢¥ötf
(
ãxt
,(text)," Vect (%d,%d)-(%d,%d), Norm = %g ",

35224 
‹igX
+
X0
,
‹igY
+
Y0
,‹igX+
X1
,‹igY+
Y1
,
n‹m
);

35227 i‡(
_dïth
>1 || 
f‹˚_di•œy_z_co‹d
Ë
cimg_¢¥ötf
(
ãxt
,(text)," Box (%d,%d,%d)-(%d,%d,%d), Size = (%d,%d,%d) ",

35228 
‹igX
+(
X0
<
X1
?X0:X1),
‹igY
+(
Y0
<
Y1
?Y0:Y1),
‹igZ
+(
Z0
<
Z1
?Z0:Z1),

35229 
‹igX
+(
X0
<
X1
?X1:X0),
‹igY
+(
Y0
<
Y1
?Y1:Y0),
‹igZ
+(
Z0
<
Z1
?Z1:Z0),

35230 1+
cimg
::
abs
(
X0
-
X1
),1+cimg::abs(
Y0
-
Y1
),1+cimg::abs(
Z0
-
Z1
));

35231 
cimg_¢¥ötf
(
ãxt
,(text)," Box (%d,%d)-(%d,%d), Size = (%d,%d) ",

35232 
‹igX
+(
X0
<
X1
?X0:X1),
‹igY
+(
Y0
<
Y1
?Y0:Y1),origX+(X0<X1?X1:X0),origY+(Y0<Y1?Y1:Y0),

35233 1+
cimg
::
abs
(
X0
-
X1
),1+cimg::abs(
Y0
-
Y1
));

35236 i‡(
_dïth
>1 || 
f‹˚_di•œy_z_co‹d
Ë
cimg_¢¥ötf
(
ãxt
,(text)," Ellipse (%d,%d,%d)-(%d,%d,%d), Radii = (%d,%d,%d) ",

35237 
‹igX
+
X0
,
‹igY
+
Y0
,
‹igZ
+
Z0
,‹igX+
X1
,‹igY+
Y1
,‹igZ+
Z1
,

35238 1+
cimg
::
abs
(
X0
-
X1
),1+cimg::abs(
Y0
-
Y1
),1+cimg::abs(
Z0
-
Z1
));

35239 
cimg_¢¥ötf
(
ãxt
,(text)," Ellipse (%d,%d)-(%d,%d), Radii = (%d,%d) ",

35240 
‹igX
+
X0
,
‹igY
+
Y0
,‹igX+
X1
,‹igY+
Y1
,1+
cimg
::
abs
(X0-X1),1+cimg::abs(Y0-Y1));

35242 i‡(
	gpha£
 || (
	gmx
>=0 && 
my
>=0)Ë
visu
.
døw_ãxt
(0,
ãxt_down
?visu.
height
()-13:0,
ãxt
,
f‹eground_cﬁ‹
,
background_cﬁ‹
,0.7f,13);

35245 
	gdi•
.
di•œy
(
visu
).
waô
();

35246 } i‡(!
	gsh≠e_£À˘ed
Ë
	gdi•
.
waô
();

35247 i‡(
	gdi•
.
is_ªsized
()Ë{ di•.
ªsize
(
Ál£
).
	g_is_ªsized
 = fÆ£; 
	gﬁd_is_ªsized
 = 
åue
; 
	gvisu0
.
assign
(); }

35248 
	gomx
 = 
mx
; 
	gomy
 = 
my
;

35252 
	gCImg
<
	götT
> 
ªs
(1,
„©uª_ty≥
==0?3:6,1,1,-1);

35253 i‡(
	gXYZ
Ë{ XYZ[0] = ()
X0
; XYZ[1] = ()
Y0
; XYZ[2] = ()
Z0
; }

35254 i‡(
	gsh≠e_£À˘ed
) {

35255 i‡(
	g„©uª_ty≥
==2) {

35256 i‡(
X0
>
X1
Ë
cimg
::
sw≠
(X0,X1);

35257 i‡(
	gY0
>
	gY1
Ë
	gcimg
::
sw≠
(
Y0
,
Y1
);

35258 i‡(
	gZ0
>
	gZ1
Ë
	gcimg
::
sw≠
(
Z0
,
Z1
);

35260 i‡(
	gX1
<0 || 
	gY1
<0 || 
	gZ1
<0Ë
	gX0
 = 
Y0
 = 
Z0
 = 
X1
 = 
Y1
 = 
Z1
 = -1;

35261 
	g„©uª_ty≥
) {

35262 1 : 2 : 
ªs
[0] = 
X0
; 
	gªs
[1] = 
Y0
;Ñes[2] = 
Z0
;Ñes[3] = 
X1
;Ñes[4] = 
Y1
;Ñes[5] = 
Z1
; ;

35263 3 : 
ªs
[3] = 
cimg
::
abs
(
X1
-
X0
); 
	gªs
[4] = cimg::abs(
Y1
-
Y0
);Ñes[5] = cimg::abs(
Z1
-
Z0
);

35264  : 
ªs
[0] = 
X0
; 
	gªs
[1] = 
Y0
;Ñes[2] = 
Z0
;

35267 
	gdi•
.
£t_buâ⁄
();

35268 i‡(!
	gvisibÀ_curs‹
Ë
	gdi•
.
show_mou£
();

35269 
	gdi•
.
	g_n‹mÆiz©i⁄
 = 
ﬁd_n‹mÆiz©i⁄
;

35270 
	gdi•
.
	g_is_ªsized
 = 
ﬁd_is_ªsized
;

35271 i‡(
	gkey
!=~0UË
di•
.
£t_key
(
key
);

35272  
	gªs
;

35276 
	gCImg
<
	guch¨T
> 
__gë_£À˘
(c⁄° 
CImgDi•œy
& 
di•
, c⁄° 
n‹mÆiz©i⁄
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
) const {

35277 i‡(
is_em±y
()Ë 
	gCImg
<
	guch¨T
>(1,1,1,1,0);

35278 c⁄° 
	gCImg
<
	gT
> 
	g¸›
 = 
gë_sh¨ed_ch™√ls
(0,
cimg
::
mö
(2,
•e˘rum
()-1));

35279 
	gCImg
<
	gTuch¨
> 
	gimg2d
;

35280 i‡(
	g_dïth
>1Ë
	g¸›
.
gë_¥oje˘i⁄s2d
(
x
,
y
,
z
).
move_to
(
img2d
);

35281 
	gCImg
<
	gTuch¨
>(
	g¸›
,
	gÁl£
).
move_to
(
img2d
);

35283 i‡(
	gcimg
::
ty≥
<
T
>::
is_Êﬂt
()) {

35284 
boﬁ
 
is_öf
 = 
Ál£
, 
	gis_«n
 = false;

35285 
cimg_f‹
(
img2d
,
±r
,
Tuch¨
)

35286 i‡(
	gcimg
::
ty≥
<
T
>::
is_öf
(*
±r
)Ë{ is_ö‡
åue
; ; }

35287 i‡(
	gcimg
::
ty≥
<
T
>::
is_«n
(*
±r
)Ë{ is_«¿
åue
; ; }

35288 i‡(
	gis_öf
 || 
	gis_«n
) {

35289 
T
 
	gm0
 = 
cimg
::
ty≥
<T>::
max
(), 
	gM0
 = cimg::ty≥<T>::
mö
();

35290 i‡(!
	gn‹mÆiz©i⁄
Ë{ 
	gm0
 = 0; 
	gM0
 = 255; }

35291 i‡(
	gn‹mÆiz©i⁄
==2Ë{ 
m0
 = 
di•
.
_mö
; 
	gM0
 = di•.
_max
; }

35292 
cimg_f‹
(
img2d
,
±r
,
Tuch¨
Ëi‡(!
	gcimg
::
ty≥
<
T
>::
is_öf
(*±rË&& !
cimg
::ty≥<T>::
is_«n
(*±r)Ë{ i‡(*±r<
m0
Ëm0 = *±r; i‡(*
	g±r
>
	gM0
) M0 = *ptr; }

35293 c⁄° 
T


35294 
	gvÆ_möf
 = (
n‹mÆiz©i⁄
==1 ||Ç‹mÆiz©i⁄==3)?
m0
-(
M0
-m0)*20-1:m0,

35295 
	gvÆ_pöf
 = (
n‹mÆiz©i⁄
==1 ||Ç‹mÆiz©i⁄==3)?
M0
+(M0-
m0
)*20+1:M0;

35296 i‡(
	gis_«n
Ë
cimg_f‹
(
img2d
,
±r
,
Tuch¨
Ëi‡(
	gcimg
::
ty≥
<
T
>::
is_«n
(*±r)Ë*±∏
vÆ_möf
;

35297 i‡(
	gis_öf
Ë
cimg_f‹
(
img2d
,
±r
,
Tuch¨
Ëi‡(
	gcimg
::
ty≥
<
T
>::
is_öf
(*±r)Ë*±∏()*±r<0?
vÆ_möf
:
vÆ_pöf
;

35301 
	gn‹mÆiz©i⁄
) {

35302 1 : 
img2d
.
n‹mÆize
(0,255); ;

35304 c⁄° 
m
 = 
di•
.
_mö
, 
	gM
 = di•.
_max
;

35305 (
	gimg2d
-=
m
)*=255.0f/(
M
-m>0?M-m:1);

35308 i‡(
cimg
::
ty≥
<
T
>::
is_Êﬂt
()Ë
img2d
.
n‹mÆize
(0,255);

35310 c⁄° 
	gm
 = ()
cimg
::
ty≥
<
T
>::
mö
(), 
	gM
 = ()cimg::ty≥<T>::
max
();

35311 (
	gimg2d
-=
m
)*=255.0f/(
M
-m>0?M-m:1);

35315 i‡(
	gimg2d
.
•e˘rum
()==2Ë
img2d
.
ch™√ls
(0,2);

35316  
	gimg2d
;

35320 
	gCImg
<
	götT
> 
gë_£À˘_gøph
(
CImgDi•œy
 &
di•
,

35321 c⁄° 
∂Ÿ_ty≥
=1, c⁄° 
vîãx_ty≥
=1,

35322 c⁄° *c⁄° 
œbñx
=0, c⁄° 
xmö
=0, c⁄° 
xmax
=0,

35323 c⁄° *c⁄° 
œbñy
=0, c⁄° 
ymö
=0, c⁄° 
ymax
=0) const {

35324 i‡(
is_em±y
())

35325 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


35327 
cimg_ö°™˚
);

35328 i‡(!
	gdi•
Ëdi•.
assign
(
cimg_fôs¸ìn
(640,480,1),0,0).
£t_tôÀ
("CImg<%s>",
pixñ_ty≥
());

35329 c⁄° 
	gsiz
 = ()
_width
*
_height
*
_dïth
;

35330 c⁄° 
	gﬁd_n‹mÆiz©i⁄
 = 
di•
.
n‹mÆiz©i⁄
();

35331 
	gdi•
.
show
().
£t_buâ⁄
().
£t_whìl
().
	g_n‹mÆiz©i⁄
 = 0;

35333 
	gnymö
 = 
ymö
, 
	gnymax
 = 
ymax
, 
	gnxmö
 = 
xmö
, 
	gnxmax
 = 
xmax
;

35334 i‡(
	gnymö
==
nymax
Ë{ 
nymö
 = (
TÊﬂt
)
mö_max
“ymax); c⁄° 
	gdy
 =Çymax -Çymö;Çymö-=
dy
/20; 
	gnymax
+=dy/20; }

35335 i‡(
	gnymö
==
nymax
Ë{ --
nymö
; ++
	gnymax
; }

35336 i‡(
	gnxmö
==
nxmax
 && 
nxmö
==0Ë{Çxmö = 0; 
	gnxmax
 = 
siz
 - 1.0; }

35338 c⁄° 
	gbœck
[] = { 0, 0, 0 }, 
	gwhôe
[] = { 255, 255, 255 }, 
	ggøy
[] = { 220, 220, 220 };

35339 c⁄° 
	ggøy2
[] = { 110, 110, 110 }, 
	gngøy
[] = { 35, 35, 35 };

35340 
	godimv
 = 0;

35341 
	gCImg
<
	guch¨T
> 
	gcﬁ‹m≠
;

35342 i‡(
	godimv
!=
_•e˘rum
) {

35343 
odimv
 = 
_•e˘rum
;

35344 
	gcﬁ‹m≠
 = 
CImg
<
uch¨T
>(3,
	g_•e˘rum
,1,1,120).
noi£
(70,1);

35345 i‡(
	g_•e˘rum
==1Ë{ 
cﬁ‹m≠
[0] = cﬁ‹m≠[1] = 120; 
	gcﬁ‹m≠
[2] = 200; }

35347 
cﬁ‹m≠
(0,0) = 220; colormap(1,0) = 10; colormap(2,0) = 10;

35348 i‡(
	g_•e˘rum
>1Ë{ 
cﬁ‹m≠
(0,1) = 10; colormap(1,1) = 220; colormap(2,1) = 10; }

35349 i‡(
	g_•e˘rum
>2Ë{ 
cﬁ‹m≠
(0,2) = 10; colormap(1,2) = 10; colormap(2,2) = 220; }

35353 
	gCImg
<
	guch¨T
> 
	gvisu0
, 
	gvisu
, 
	ggøph
, 
	gãxt
, 
	gaxes
;

35354 
	gx0
 = -1, 
	gx1
 = -1, 
	gy0
 = -1, 
	gy1
 = -1, 
	gomou£_x
 = -2, 
	gomou£_y
 = -2;

35355 c⁄° 
	g⁄e
 = 
∂Ÿ_ty≥
==3?0:1;

35356 
	gokey
 = 0, 
	gobuâ⁄
 = 0;

35357 
	gmesßge
[1024] = { 0 };

35358 
CImg_3x3
(
I
,);

35360 
boﬁ
 
	g£À˘ed
 = 
Ál£
; !£À˘ed && !
	gdi•
.
is_˛o£d
(Ë&& !
	gokey
 && !di•.
whìl
(); ) {

35361 c⁄° 
	gmou£_x
 = 
di•
.
mou£_x
(), 
	gmou£_y
 = di•.
mou£_y
();

35362 c⁄° 
	gkey
 = 
di•
.
key
(), 
	gbuâ⁄
 = di•.
buâ⁄
();

35365 i‡(!
	gvisu0
) {

35366 
	gvisu0
.
assign
(
di•
.
width
(),di•.
height
(),1,3,220);

35367 c⁄° 
	ggdimx
 = 
di•
.
width
(Ë- 32, 
	ggdimy
 = di•.
height
() - 32;

35368 i‡(
	ggdimx
>0 && 
	ggdimy
>0) {

35369 
	ggøph
.
assign
(
gdimx
,
gdimy
,1,3,255);

35370 i‡(
	gsiz
<32Ë{ i‡(siz>1Ë
	ggøph
.
døw_grid
(
gdimx
/()(
siz
 - 
⁄e
),
gdimy
/()(siz - o√),0,0,
Ál£
,
åue
,
bœck
,0.2f,0x33333333,0x33333333); }

35371 
	ggøph
.
døw_grid
(-10,-10,0,0,
Ál£
,
åue
,
bœck
,0.2f,0x33333333,0x33333333);

35372 
cimg_f‹C
(*
this
,
c
Ë
	ggøph
.
døw_gøph
(
gë_sh¨ed_ch™√l
(c),&
cﬁ‹m≠
(0,c),(
∂Ÿ_ty≥
!=3 || 
_•e˘rum
==1)?1:0.6f,

35373 
∂Ÿ_ty≥
,
vîãx_ty≥
,
nymax
,
nymö
);

35375 
	gaxes
.
assign
(
gdimx
,
gdimy
,1,1,0);

35377 
	gdx
 = ()
cimg
::
abs
(
nxmax
-
nxmö
), 
	gdy
 = ()cimg::abs(
nymax
-
nymö
),

35378 
	gpx
 = ()
°d
::
pow
(10.0,()°d::
log10
(
dx
?dx:1)-2.0),

35379 
	gpy
 = ()
°d
::
pow
(10.0,()°d::
log10
(
dy
?dy:1)-2.0);

35380 c⁄° 
	gCImg
<
	gTdoubÀ
>

35381 
	g£qx
 = 
dx
<=0?
CImg
<
TdoubÀ
>::
ve˘‹
(
nxmö
):CImg<TdoubÀ>::
£quí˚
(1 + 
gdimx
/60,nxmö,
⁄e
?
nxmax
:nxmö+“xmax-nxmö)*(
siz
+1)/siz).
round
(
px
),

35382 
	g£qy
 = 
CImg
<
TdoubÀ
>::
£quí˚
(1 + 
gdimy
/60,
nymax
,
nymö
).
round
(
py
);

35384 c⁄° 
boﬁ
 
	gÆlow_zîo
 = (
nxmö
*
nxmax
>0Ë|| (
nymö
*
nymax
>0);

35385 
	gaxes
.
døw_axes
(
£qx
,
£qy
,
whôe
,1,~0U,~0U,13,
Ælow_zîo
);

35386 i‡(
	gnymö
>0Ë
	gaxes
.
døw_axis
(
£qx
,
gdimy
-1,
gøy
,1,~0U,13,
Ælow_zîo
);

35387 i‡(
	gnymax
<0Ë
	gaxes
.
døw_axis
(
£qx
,0,
gøy
,1,~0U,13,
Ælow_zîo
);

35388 i‡(
	gnxmö
>0Ë
	gaxes
.
døw_axis
(0,
£qy
,
gøy
,1,~0U,13,
Ælow_zîo
);

35389 i‡(
	gnxmax
<0Ë
	gaxes
.
døw_axis
(
gdimx
-1,
£qy
,
gøy
,1,~0U,13,
Ælow_zîo
);

35391 
cimg_f‹3x3
(
axes
,
x
,
y
,0,0,
I
,)

35392 i‡(
	gIcc
) {

35393 i‡(
	gIcc
==255Ë
cimg_f‹C
(
gøph
,
c
Ëgøph(
x
,
y
,c) = 0;

35394 
cimg_f‹C
(
gøph
,
c
Ëgøph(
x
,
y
,c) = ()(2*graph(x,y,c)/3);

35396 i‡(
	gIpc
 || 
	gInc
 || 
	gI˝
 || 
	gI˙
 || 
	gIµ
 || 
	gI¬
 || 
	gI≤
 || 
	gI≈
Ë
cimg_f‹C
(
gøph
,
c
Ëgøph(
x
,
y
,c) = (graph(x,y,c)+511)/3;

35398 
	gvisu0
.
døw_image
(16,16,
gøph
);

35399 
	gvisu0
.
døw_löe
(15,15,16+
gdimx
,15,
gøy2
).døw_löe(16+gdimx,15,16+gdimx,16+
gdimy
,gray2).

35400 
døw_löe
(16+
gdimx
,16+
gdimy
,15,16+gdimy,
whôe
).draw_line(15,16+gdimy,15,15,white);

35401 } 
	ggøph
.
assign
();

35402 
	gãxt
.
assign
().
døw_ãxt
(0,0,
œbñx
?œbñx:"X-axis",
whôe
,
ngøy
,1,13).
ªsize
(-100,-100,1,3);

35403 
	gvisu0
.
døw_image
((
visu0
.
width
()-
ãxt
.width())/2,visu0.
height
()-14,~text);

35404 
	gãxt
.
assign
().
døw_ãxt
(0,0,
œbñy
?œbñy:"Y-axis",
whôe
,
ngøy
,1,13).
rŸ©e
(-90).
ªsize
(-100,-100,1,3);

35405 
	gvisu0
.
døw_image
(1,(
visu0
.
height
()-
ãxt
.height())/2,~text);

35406 
	gvisu
.
assign
();

35410 i‡(!
	gvisu
) {

35411 
	gvisu
.
assign
(
visu0
);

35412 i‡(
	ggøph
 && 
	gx0
>=0 && 
x1
>=0) {

35414 
nx0
 = 
x0
<=
x1
?x0:x1,

35415 
	gnx1
 = 
x0
<=
x1
?x1:x0,

35416 
	gny0
 = 
y0
<=
y1
?y0:y1,

35417 
	gny1
 = 
y0
<=
y1
?y1:y0,

35418 
	gsx0
 = 16 + 
nx0
*(
visu
.
width
()-32)/
cimg
::
max
(1U,
siz
-
⁄e
),

35419 
	gsx1
 = 15 + (
nx1
+1)*(
visu
.
width
()-32)/
cimg
::
max
(1U,
siz
-
⁄e
),

35420 
	gsy0
 = 16 + 
ny0
,

35421 
	gsy1
 = 16 + 
ny1
;

35422 i‡(
	gy0
>=0 && 
y1
>=0)

35423 
visu
.
døw_ª˘™gÀ
(
sx0
,
sy0
,
sx1
,
sy1
,
gøy
,0.5f).døw_ª˘™gÀ(sx0,sy0,sx1,sy1,
bœck
,0.5f,0xCCCCCCCCU);

35424 
	gvisu
.
døw_ª˘™gÀ
(
sx0
,0,
sx1
,
visu
.
height
()-17,
gøy
,0.5f).

35425 
døw_löe
(
sx0
,16,sx0,
visu
.
height
()-17,
bœck
,0.5f,0xCCCCCCCCU).

35426 
døw_löe
(
sx1
,16,sx1,
visu
.
height
()-17,
bœck
,0.5f,0xCCCCCCCCU);

35428 i‡(
	gmou£_x
>=16 && 
mou£_y
>=16 && 
mou£_x
<
visu
.
width
()-16 && mou£_y<visu.
height
()-16) {

35429 i‡(
gøph
Ë
visu
.
døw_löe
(
mou£_x
,16,mou£_x,visu.
height
()-17,
bœck
,0.5f,0x55555555U);

35430 c⁄° 
	gx
 = ()
cimg
::
round
((
mou£_x
-16.0f)*(
siz
-
⁄e
)/(
di•
.
width
()-32),1,one?0:-1);

35431 c⁄° 
	gcx
 = 
nxmö
 + 
x
*(
nxmax
-nxmö)/
cimg
::
max
(1U,
siz
-1);

35432 i‡(
	g_•e˘rum
>=7)

35433 
cimg_¢¥ötf
(
mesßge
,(mesßge),"VÆue[%u:%g] = ( %g %g %g ... %g %g %g )",
x
,
cx
,

35434 ()(*
this
)(
x
,0,0,0),()(*this)(x,0,0,1),()(*this)(x,0,0,2),

35435 ()(*
this
)(
x
,0,0,
_•e˘rum
-4),()(*this)(x,0,0,_spectrum-3),()(*this)(x,0,0,_spectrum-1));

35437 
cimg_¢¥ötf
(
mesßge
,(mesßge),"VÆue[%u:%g] = ( ",
x
,
cx
);

35438 
cimg_f‹C
(*
this
,
c
Ë
	g°d
::
•rötf
(
mesßge
 + 
°d
::
°æí
(mesßge),"%g ",()(*this)(
x
,0,0,c));

35439 
	g°d
::
•rötf
(
mesßge
 + 
°d
::
°æí
(message),")");

35441 i‡(
	gx0
>=0 && 
x1
>=0) {

35443 
nx0
 = 
x0
<=
x1
?x0:x1,

35444 
	gnx1
 = 
x0
<=
x1
?x1:x0,

35445 
	gny0
 = 
y0
<=
y1
?y0:y1,

35446 
	gny1
 = 
y0
<=
y1
?y1:y0;

35448 
	gcx0
 = 
nxmö
 + 
nx0
*(
nxmax
-nxmö)/
cimg
::
max
(1U,
siz
-1),

35449 
	gcx1
 = 
nxmö
 + (
nx1
+
⁄e
)*(
nxmax
-nxmö)/
cimg
::
max
(1U,
siz
-1),

35450 
	gcy0
 = 
nymax
 - 
ny0
*“ymax-
nymö
)/(
visu
.
_height
-32),

35451 
	gcy1
 = 
nymax
 - 
ny1
*“ymax-
nymö
)/(
visu
.
_height
-32);

35452 i‡(
	gy0
>=0 && 
y1
>=0)

35453 
°d
::
•rötf
(
mesßge
 + std::
°æí
(mesßge)," - R™gê–%u:%g, %g ) - ( %u:%g, %g )",
x0
,
cx0
,
cy0
,
x1
+
⁄e
,
cx1
,
cy1
);

35455 
	g°d
::
•rötf
(
mesßge
 + 
°d
::
°æí
(mesßge)," - R™gê[ %u:%g - %u:%g ]",
x0
,
cx0
,
x1
+
⁄e
,
cx1
);

35457 
	gãxt
.
assign
().
døw_ãxt
(0,0,
mesßge
,
whôe
,
ngøy
,1,13).
ªsize
(-100,-100,1,3);

35458 
	gvisu
.
døw_image
((
visu
.
width
()-
ãxt
.width())/2,1,~text);

35460 
	gvisu
.
di•œy
(
di•
);

35464 
	gokey
 = 
key
) {

35465 #i‡
cimg_OS
!=2

35466 
cimg
::
keyCTRLRIGHT
 : cimg::
keySHIFTRIGHT
 :

35468 
cimg
::
keyCTRLLEFT
 : cimg::
keySHIFTLEFT
 : 
okey
 = 0; ;

35469 
	gcimg
::
keyD
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

35470 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
CImgDi•œy
::
_fôs¸ìn
(3*di•.
width
()/2,3*di•.
height
()/2,1,128,-100,false),

35471 
CImgDi•œy
::
_fôs¸ìn
(3*
di•
.
width
()/2,3*di•.
height
()/2,1,128,-100,
åue
),
Ál£
).

35472 
	g_is_ªsized
 = 
åue
;

35473 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gokey
 = 0;

35475 
	gcimg
::
keyC
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

35476 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(2*di•.
width
()/3,2*di•.
height
()/3,1),Ál£).
	g_is_ªsized
 = 
åue
;

35477 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gokey
 = 0;

35479 
	gcimg
::
keyR
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

35480 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(640,480,1),Ál£).
	g_is_ªsized
 = 
åue
;

35481 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gokey
 = 0;

35483 
	gcimg
::
keyF
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

35484 
di•
.
ªsize
(di•.
s¸ìn_width
(),di•.
s¸ìn_height
(),
Ál£
).
toggÀ_fuŒs¸ìn
().
	g_is_ªsized
 = 
åue
;

35485 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gokey
 = 0;

35487 
	gcimg
::
keyS
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

35488 
¢≠_numbî
 = 0;

35489 i‡(
	gvisu
 || 
	gvisu0
) {

35490 
	gCImg
<
	guch¨T
> &
	gs¸ìn
 = 
visu
?visu:
visu0
;

35491 
	gfûíame
[32] = { 0 };

35492 
	g°d
::
FILE
 *
fûe
;

35494 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.bmp",
¢≠_numbî
++);

35495 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

35496 } 
	gfûe
);

35497 (+
	gs¸ìn
).
døw_ãxt
(0,0," Savög s«pshŸ... ",
bœck
,
gøy
,1,13).
di•œy
(
di•
);

35498 
	gs¸ìn
.
ßve
(
fûíame
);

35499 
	gs¸ìn
.
døw_ãxt
(0,0," S«pshŸ '%s' saved. ",
bœck
,
gøy
,1,13,
fûíame
).
di•œy
(
di•
);

35501 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gokey
 = 0;

35503 
	gcimg
::
keyO
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

35504 
¢≠_numbî
 = 0;

35505 i‡(
	gvisu
 || 
	gvisu0
) {

35506 
	gCImg
<
	guch¨T
> &
	gs¸ìn
 = 
visu
?visu:
visu0
;

35507 
	gfûíame
[32] = { 0 };

35508 
	g°d
::
FILE
 *
fûe
;

35510 #ifde‡
cimg_u£_zlib


35511 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.cimgz",
¢≠_numbî
++);

35513 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.cimg",
¢≠_numbî
++);

35515 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

35516 } 
	gfûe
);

35517 (+
	gs¸ìn
).
døw_ãxt
(0,0," Savög in°™˚... ",
bœck
,
gøy
,1,13).
di•œy
(
di•
);

35518 
ßve
(
fûíame
);

35519 
	gs¸ìn
.
døw_ãxt
(0,0," In°™˚ '%s' saved. ",
bœck
,
gøy
,1,13,
fûíame
).
di•œy
(
di•
);

35521 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gokey
 = 0;

35526 i‡(
	gobuâ⁄
!=
buâ⁄
 || 
omou£_x
!=
mou£_x
 || 
omou£_y
!=
mou£_y
) {

35527 
visu
.
assign
();

35528 i‡(
	gdi•
.
mou£_x
()>=0 && 
di•
.
mou£_y
()>=0) {

35530 
mx
 = (
mou£_x
 -16)*()(
siz
-
⁄e
)/(
di•
.
width
()-32),

35531 
	gcx
 = 
mx
<0?0:(mx>=()(
siz
-
⁄e
)?()(siz-1-one):mx),

35532 
	gmy
 = 
mou£_y
 - 16,

35533 
	gcy
 = 
my
<=0?0:(my>=(
di•
.
height
()-32)?(disp.height()-32):my);

35534 i‡(
	gbuâ⁄
&1) {

35535 i‡(!
	gobuâ⁄
Ë{ 
	gx0
 = 
cx
; 
	gy0
 = -1; } { 
	gx1
 = cx; 
	gy1
 = -1; }

35537 i‡(
	gbuâ⁄
&2) {

35538 i‡(!
	gobuâ⁄
Ë{ 
	gx0
 = 
cx
; 
	gy0
 = 
cy
; } { 
	gx1
 = cx; 
	gy1
 = cy; }

35540 i‡(
	gobuâ⁄
Ë{ 
	gx1
 = 
x1
>=0?
cx
:-1; 
	gy1
 = 
y1
>=0?
cy
:-1; 
	g£À˘ed
 = 
åue
; }

35541 } i‡(!
	gbuâ⁄
 && 
	gobuâ⁄
Ë
	g£À˘ed
 = 
åue
;

35542 
	gobuâ⁄
 = 
buâ⁄
; 
	gomou£_x
 = 
mou£_x
; 
	gomou£_y
 = 
mou£_y
;

35544 i‡(
	gdi•
.
is_ªsized
()Ë{ di•.
ªsize
(
Ál£
); 
	gvisu0
.
assign
(); }

35545 i‡(
	gvisu
 && 
	gvisu0
Ë
	gdi•
.
waô
();

35548 
	gdi•
.
	g_n‹mÆiz©i⁄
 = 
ﬁd_n‹mÆiz©i⁄
;

35549 i‡(
	gx1
>=0 && 
x1
<
x0
Ë
cimg
::
sw≠
(x0,x1);

35550 i‡(
	gy1
<
	gy0
Ë
	gcimg
::
sw≠
(
y0
,
y1
);

35551 
	gdi•
.
£t_key
(
okey
);

35552  
	gCImg
<
	götT
>(4,1,1,1,
	gx0
,
	gy0
,
	gx1
>=0?
x1
+()
⁄e
:-1,
	gy1
);

35561 
	gCImg
<
	gT
>& 
lﬂd
(c⁄° *c⁄° 
fûíame
) {

35562 i‡(!
	gfûíame
)

35563 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


35565 
cimg_ö°™˚
);

35567 i‡(!
	gcimg
::
°∫ˇ£cmp
(
fûíame
,"http://",7) || !cimg::strncasecmp(filename,"https://",8)) {

35568 
	gfûíame_loˇl
[1024] = { 0 };

35569 
lﬂd
(
cimg
::
lﬂd_√tw‹k_exã∫Æ
(
fûíame
,
fûíame_loˇl
));

35570 
	g°d
::
ªmove
(
fûíame_loˇl
);

35571  *
	gthis
;

35574 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
);

35575 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

35576 
	gcimg
::
ex˚±i⁄_mode
() = 0;

35577 
	gåy
 {

35578 #ifde‡
cimg_lﬂd_∂ugö


35579 
cimg_lﬂd_∂ugö
(
fûíame
);

35581 #ifde‡
cimg_lﬂd_∂ugö1


35582 
cimg_lﬂd_∂ugö1
(
fûíame
);

35584 #ifde‡
cimg_lﬂd_∂ugö2


35585 
cimg_lﬂd_∂ugö2
(
fûíame
);

35587 #ifde‡
cimg_lﬂd_∂ugö3


35588 
cimg_lﬂd_∂ugö3
(
fûíame
);

35590 #ifde‡
cimg_lﬂd_∂ugö4


35591 
cimg_lﬂd_∂ugö4
(
fûíame
);

35593 #ifde‡
cimg_lﬂd_∂ugö5


35594 
cimg_lﬂd_∂ugö5
(
fûíame
);

35596 #ifde‡
cimg_lﬂd_∂ugö6


35597 
cimg_lﬂd_∂ugö6
(
fûíame
);

35599 #ifde‡
cimg_lﬂd_∂ugö7


35600 
cimg_lﬂd_∂ugö7
(
fûíame
);

35602 #ifde‡
cimg_lﬂd_∂ugö8


35603 
cimg_lﬂd_∂ugö8
(
fûíame
);

35606 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"asc")Ë
lﬂd_ascii
(
fûíame
);

35607 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"dlm") ||

35608 !
	gcimg
::
°rˇ£cmp
(
ext
,"txt")Ë
lﬂd_dlm
(
fûíame
);

35611 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"bmp")Ë
lﬂd_bmp
(
fûíame
);

35612 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"jpg") ||

35613 !
	gcimg
::
°rˇ£cmp
(
ext
,"jpeg") ||

35614 !
	gcimg
::
°rˇ£cmp
(
ext
,"jpe") ||

35615 !
	gcimg
::
°rˇ£cmp
(
ext
,"jfif") ||

35616 !
	gcimg
::
°rˇ£cmp
(
ext
,"jif")Ë
lﬂd_j≥g
(
fûíame
);

35617 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"≤g")Ë
lﬂd_≤g
(
fûíame
);

35618 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"ppm") ||

35619 !
	gcimg
::
°rˇ£cmp
(
ext
,"pgm") ||

35620 !
	gcimg
::
°rˇ£cmp
(
ext
,"pnm") ||

35621 !
	gcimg
::
°rˇ£cmp
(
ext
,"pbm") ||

35622 !
	gcimg
::
°rˇ£cmp
(
ext
,"≤k")Ë
lﬂd_≤m
(
fûíame
);

35623 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"pfm")Ë
lﬂd_pfm
(
fûíame
);

35624 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"tif") ||

35625 !
	gcimg
::
°rˇ£cmp
(
ext
,"tiff")Ë
lﬂd_tiff
(
fûíame
);

35626 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"exr")Ë
lﬂd_exr
(
fûíame
);

35627 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cr2") ||

35628 !
	gcimg
::
°rˇ£cmp
(
ext
,"crw") ||

35629 !
	gcimg
::
°rˇ£cmp
(
ext
,"dcr") ||

35630 !
	gcimg
::
°rˇ£cmp
(
ext
,"mrw") ||

35631 !
	gcimg
::
°rˇ£cmp
(
ext
,"nef") ||

35632 !
	gcimg
::
°rˇ£cmp
(
ext
,"orf") ||

35633 !
	gcimg
::
°rˇ£cmp
(
ext
,"pix") ||

35634 !
	gcimg
::
°rˇ£cmp
(
ext
,"ptx") ||

35635 !
	gcimg
::
°rˇ£cmp
(
ext
,"raf") ||

35636 !
	gcimg
::
°rˇ£cmp
(
ext
,"§f")Ë
lﬂd_d¸aw_exã∫Æ
(
fûíame
);

35637 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gif")Ë
lﬂd_gif_exã∫Æ
(
fûíame
);

35640 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"dcm") ||

35641 !
	gcimg
::
°rˇ£cmp
(
ext
,"dicom")Ë
lﬂd_medc⁄_exã∫Æ
(
fûíame
);

35642 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"hdr") ||

35643 !
	gcimg
::
°rˇ£cmp
(
ext
,"nii")Ë
lﬂd_™Æyze
(
fûíame
);

35644 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"par") ||

35645 !
	gcimg
::
°rˇ£cmp
(
ext
,"ªc")Ë
lﬂd_∑ºec
(
fûíame
);

35646 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"mnc")Ë
lﬂd_möc2
(
fûíame
);

35647 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"ör")Ë
lﬂd_ör
(
fûíame
);

35648 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"∑n")Ë
lﬂd_∑nd‹e
(
fûíame
);

35649 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cimg") ||

35650 !
	gcimg
::
°rˇ£cmp
(
ext
,"cimgz") ||

35651 !*
	gext
Ë 
lﬂd_cimg
(
fûíame
);

35654 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gz")Ë
lﬂd_gzù_exã∫Æ
(
fûíame
);

35657 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"avi") ||

35658 !
	gcimg
::
°rˇ£cmp
(
ext
,"mov") ||

35659 !
	gcimg
::
°rˇ£cmp
(
ext
,"asf") ||

35660 !
	gcimg
::
°rˇ£cmp
(
ext
,"divx") ||

35661 !
	gcimg
::
°rˇ£cmp
(
ext
,"flv") ||

35662 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpg") ||

35663 !
	gcimg
::
°rˇ£cmp
(
ext
,"m1v") ||

35664 !
	gcimg
::
°rˇ£cmp
(
ext
,"m2v") ||

35665 !
	gcimg
::
°rˇ£cmp
(
ext
,"m4v") ||

35666 !
	gcimg
::
°rˇ£cmp
(
ext
,"mjp") ||

35667 !
	gcimg
::
°rˇ£cmp
(
ext
,"mkv") ||

35668 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpe") ||

35669 !
	gcimg
::
°rˇ£cmp
(
ext
,"movie") ||

35670 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogm") ||

35671 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogg") ||

35672 !
	gcimg
::
°rˇ£cmp
(
ext
,"qt") ||

35673 !
	gcimg
::
°rˇ£cmp
(
ext
,"rm") ||

35674 !
	gcimg
::
°rˇ£cmp
(
ext
,"vob") ||

35675 !
	gcimg
::
°rˇ£cmp
(
ext
,"wmv") ||

35676 !
	gcimg
::
°rˇ£cmp
(
ext
,"xvid") ||

35677 !
	gcimg
::
°rˇ£cmp
(
ext
,"m≥g")Ë
lﬂd_ffm≥g
(
fûíame
);

35678 
throw
 
CImgIOEx˚±i⁄
("CImg<%s>::load()",

35679 
pixñ_ty≥
());

35680 } 
ˇtch
 (
CImgIOEx˚±i⁄
&) {

35681 
	g°d
::
FILE
 *
fûe
 = 0;

35682 
	gåy
 {

35683 
	gfûe
 = 
cimg
::
f›í
(
fûíame
,"rb");

35684 } 
ˇtch
 (
CImgIOEx˚±i⁄
&) {

35685 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

35686 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


35688 
cimg_ö°™˚
,

35689 
fûíame
);

35692 
	gåy
 {

35693 c⁄° *c⁄° 
	gf_ty≥
 = 
cimg
::
fûe_ty≥
(
fûe
,
fûíame
);

35694 
	g°d
::
f˛o£
(
fûe
);

35695 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"≤m")Ë
lﬂd_≤m
(
fûíame
);

35696 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"pfm")Ë
lﬂd_pfm
(
fûíame
);

35697 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"bmp")Ë
lﬂd_bmp
(
fûíame
);

35698 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"jpg")Ë
lﬂd_j≥g
(
fûíame
);

35699 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"∑n")Ë
lﬂd_∑nd‹e
(
fûíame
);

35700 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"≤g")Ë
lﬂd_≤g
(
fûíame
);

35701 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"tif")Ë
lﬂd_tiff
(
fûíame
);

35702 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"ör")Ë
lﬂd_ör
(
fûíame
);

35703 i‡(!
	gcimg
::
°rˇ£cmp
(
f_ty≥
,"dcm")Ë
lﬂd_medc⁄_exã∫Æ
(
fûíame
);

35704 
throw
 
CImgIOEx˚±i⁄
("CImg<%s>::load()",

35705 
pixñ_ty≥
());

35706 } 
ˇtch
 (
CImgIOEx˚±i⁄
&) {

35707 
	gåy
 {

35708 
lﬂd_Ÿhî
(
fûíame
);

35709 } 
ˇtch
 (
CImgIOEx˚±i⁄
&) {

35710 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

35711 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


35713 
cimg_ö°™˚
,

35714 
fûíame
);

35718 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

35719  *
	gthis
;

35723 
	gCImg
<
	gT
> 
gë_lﬂd
(c⁄° *c⁄° 
fûíame
) {

35724  
	gCImg
<
	gT
>().
lﬂd
(
fûíame
);

35731 
	gCImg
<
	gT
>& 
lﬂd_ascii
(c⁄° *c⁄° 
fûíame
) {

35732  
_lﬂd_ascii
(0,
fûíame
);

35736 
	gCImg
<
	gT
> 
gë_lﬂd_ascii
(c⁄° *c⁄° 
fûíame
) {

35737  
	gCImg
<
	gT
>().
lﬂd_ascii
(
fûíame
);

35741 
	gCImg
<
	gT
>& 
lﬂd_ascii
(
°d
::
FILE
 *c⁄° 
fûe
) {

35742  
_lﬂd_ascii
(
fûe
,0);

35746 
	gCImg
<
	gT
> 
gë_lﬂd_ascii
(
°d
::
FILE
 *c⁄° 
fûe
) {

35747  
CImg
<
T
>().
lﬂd_ascii
(
fûe
);

35750 
	gCImg
<
	gT
>& 
_lﬂd_ascii
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

35751 i‡(!
	gfûe
 && !
	gfûíame
)

35752 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


35754 
cimg_ö°™˚
);

35756 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

35757 
	glöe
[256] = { 0 };

35758 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%255[^\n]",
löe
);

35759 
	gdx
 = 0, 
	gdy
 = 1, 
	gdz
 = 1, 
	gdc
 = 1;

35760 
	g°d
::
ssˇnf
(
löe
,"%u%*c%u%*c%u%*c%u",&
dx
,&
dy
,&
dz
,&
dc
);

35761 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^0-9.eE+-]");

35762 i‡(!
	gdx
 || !
	gdy
 || !
	gdz
 || !
	gdc
) {

35763 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

35764 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


35766 
cimg_ö°™˚
,

35767 
fûíame
?fûíame:"(FILE*)",
dx
,
dy
,
dz
,
dc
);

35769 
assign
(
dx
,
dy
,
dz
,
dc
);

35770 c⁄° 
	gsiz
 = 
size
();

35771 
	goff
 = 0;

35772 
	gvÆ
;

35773 
T
 *
	g±r
 = 
_d©a
;

35774 
	gîr
 = 1, 
	goff
 = 0; off<
	gsiz
 &&Érr==1; ++off) {

35775 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%lf%*[^0-9.eE+-]",&
vÆ
);

35776 *(
	g±r
++Ë(
T
)
vÆ
;

35778 i‡(
	gîr
!=1)

35779 
cimg
::
w¨n
(
_cimg_ö°™˚


35781 
cimg_ö°™˚
,

35782 
off
-1,
siz
,
fûíame
?filename:"(FILE*)");

35784 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

35785  *
	gthis
;

35792 
	gCImg
<
	gT
>& 
lﬂd_dlm
(c⁄° *c⁄° 
fûíame
) {

35793  
_lﬂd_dlm
(0,
fûíame
);

35797 
	gCImg
<
	gT
> 
gë_lﬂd_dlm
(c⁄° *c⁄° 
fûíame
) {

35798  
	gCImg
<
	gT
>().
lﬂd_dlm
(
fûíame
);

35802 
	gCImg
<
	gT
>& 
lﬂd_dlm
(
°d
::
FILE
 *c⁄° 
fûe
) {

35803  
_lﬂd_dlm
(
fûe
,0);

35807 
	gCImg
<
	gT
> 
gë_lﬂd_dlm
(
°d
::
FILE
 *c⁄° 
fûe
) {

35808  
CImg
<
T
>().
lﬂd_dlm
(
fûe
);

35811 
	gCImg
<
	gT
>& 
_lﬂd_dlm
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

35812 i‡(!
	gfûe
 && !
	gfûíame
)

35813 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


35815 
cimg_ö°™˚
);

35817 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"r");

35818 
	gdñimôî
[256] = { 0 }, 
	gtmp
[256] = { 0 };

35819 
	gcdx
 = 0, 
	gdx
 = 0, 
	gdy
 = 0;

35820 
	gîr
 = 0;

35821 
	gvÆ
;

35822 
assign
(256,256);

35823 (
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%lf%255[^0-9.+-]",&
vÆ
,
dñimôî
))>0) {

35824 i‡(
	gîr
>0Ë(*
	gthis
)(
	gcdx
++,
	gdy
Ë(
T
)
vÆ
;

35825 i‡(
	gcdx
>=
_width
Ë
ªsize
(3*_width/2,
_height
,1,1,0);

35826 
	gc
 = 0;

35827 i‡(!
	g°d
::
ssˇnf
(
dñimôî
,"%255[^\n]%c",
tmp
,&
c
Ë|| 
	gc
=='\n') {

35828 
dx
 = 
cimg
::
max
(
cdx
,dx);

35829 i‡(++
	gdy
>=
_height
Ë
ªsize
(
_width
,3*_height/2,1,1,0);

35830 
	gcdx
 = 0;

35833 i‡(
	gcdx
 && 
	gîr
==1Ë{ 
dx
 = 
cdx
; ++
	gdy
; }

35834 i‡(!
	gdx
 || !
	gdy
) {

35835 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

35836 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


35838 
cimg_ö°™˚
,

35839 
fûíame
?filename:"(FILE*)");

35841 
ªsize
(
dx
,
dy
,1,1,0);

35842 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

35843  *
	gthis
;

35850 
	gCImg
<
	gT
>& 
lﬂd_bmp
(c⁄° *c⁄° 
fûíame
) {

35851  
_lﬂd_bmp
(0,
fûíame
);

35855 
	gCImg
<
	gT
> 
gë_lﬂd_bmp
(c⁄° *c⁄° 
fûíame
) {

35856  
	gCImg
<
	gT
>().
lﬂd_bmp
(
fûíame
);

35860 
	gCImg
<
	gT
>& 
lﬂd_bmp
(
°d
::
FILE
 *c⁄° 
fûe
) {

35861  
_lﬂd_bmp
(
fûe
,0);

35865 
	gCImg
<
	gT
> 
gë_lﬂd_bmp
(
°d
::
FILE
 *c⁄° 
fûe
) {

35866  
CImg
<
T
>().
lﬂd_bmp
(
fûe
);

35869 
	gCImg
<
	gT
>& 
_lﬂd_bmp
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

35870 i‡(!
	gfûe
 && !
	gfûíame
)

35871 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


35873 
cimg_ö°™˚
);

35875 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

35876 
	ghódî
[64] = { 0 };

35877 
	gcimg
::
‰ód
(
hódî
,54,
nfûe
);

35878 i‡(*
	ghódî
!='B' || 
hódî
[1]!='M') {

35879 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

35880 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


35882 
cimg_ö°™˚
,

35883 
fûíame
?filename:"(FILE*)");

35888 
	gfûe_size
 = 
hódî
[0x02] + (header[0x03]<<8) + (header[0x04]<<16) + (header[0x05]<<24),

35889 
	goff£t
 = 
hódî
[0x0A] + (header[0x0B]<<8) + (header[0x0C]<<16) + (header[0x0D]<<24),

35890 
	ghódî_size
 = 
hódî
[0x0E] + (header[0x0F]<<8) + (header[0x10]<<16) + (header[0x11]<<24),

35891 
	gdx
 = 
hódî
[0x12] + (header[0x13]<<8) + (header[0x14]<<16) + (header[0x15]<<24),

35892 
	gdy
 = 
hódî
[0x16] + (header[0x17]<<8) + (header[0x18]<<16) + (header[0x19]<<24),

35893 
	gcom¥essi⁄
 = 
hódî
[0x1E] + (header[0x1F]<<8) + (header[0x20]<<16) + (header[0x21]<<24),

35894 
	gnb_cﬁ‹s
 = 
hódî
[0x2E] + (header[0x2F]<<8) + (header[0x30]<<16) + (header[0x31]<<24),

35895 
	gbµ
 = 
hódî
[0x1C] + (header[0x1D]<<8);

35897 i‡(!
	gfûe_size
 || fûe_size==
off£t
) {

35898 
°d
::
f£ek
(
nfûe
,0,
SEEK_END
);

35899 
	gfûe_size
 = ()
°d
::
·ñl
(
nfûe
);

35900 
	g°d
::
f£ek
(
nfûe
,54,
SEEK_SET
);

35902 i‡(
	ghódî_size
>40Ë
	g°d
::
f£ek
(
nfûe
, 
hódî_size
 - 40, 
SEEK_CUR
);

35905 
	gcimg_iobuf„r
 = 12*1024*1024,

35906 
	gdx_byãs
 = (
bµ
==1)?(
dx
/8+(dx%8?1:0)):((bpp==4)?(dx/2+(dx%2?1:0)):(dx*bpp/8)),

35907 
	gÆign_byãs
 = (4-
dx_byãs
%4)%4,

35908 
	gbuf_size
 = 
cimg
::
mö
(cimg::
abs
(
dy
)*(
dx_byãs
 + 
Æign_byãs
),
fûe_size
 - 
off£t
);

35910 
	gCImg
<
	götT
> 
	gcﬁ‹m≠
;

35911 i‡(
	gbµ
<16Ë{ i‡(!
	gnb_cﬁ‹s
Ënb_cﬁ‹†1<<
bµ
; } nb_colors = 0;

35912 i‡(
	gnb_cﬁ‹s
Ë{ 
	gcﬁ‹m≠
.
assign
(
nb_cﬁ‹s
); 
	gcimg
::
‰ód
(
cﬁ‹m≠
.
_d©a
,nb_cﬁ‹s,
nfûe
); }

35913 c⁄° 
	gxoff£t
 = 
off£t
 - 14 - 
hódî_size
 - 4*
nb_cﬁ‹s
;

35914 i‡(
	gxoff£t
>0Ë
	g°d
::
f£ek
(
nfûe
,
xoff£t
,
SEEK_CUR
);

35916 
	gCImg
<
	guch¨T
> 
	gbuf„r
;

35917 i‡(
	gbuf_size
<
	gcimg_iobuf„r
Ë{ 
	gbuf„r
.
assign
(
buf_size
); 
	gcimg
::
‰ód
(
buf„r
.
_d©a
,buf_size,
nfûe
); }

35918 
	gbuf„r
.
assign
(
dx_byãs
 + 
Æign_byãs
);

35919 *
	g±rs
 = 
buf„r
;

35922 i‡(
	gcom¥essi⁄
) {

35923 i‡(
	gfûe
)

35924 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


35926 
cimg_ö°™˚
);

35928 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

35929  
lﬂd_Ÿhî
(
fûíame
);

35934 
assign
(
dx
,
cimg
::
abs
(
dy
),1,3);

35935 
	gbµ
) {

35937 
y
 = 
height
()-1; 
	gy
>=0; --y) {

35938 i‡(
	gbuf_size
>=
cimg_iobuf„r
Ë{ 
cimg
::
‰ód
(
±rs
=
buf„r
.
_d©a
,
dx_byãs
,
nfûe
); 
	g°d
::
f£ek
“fûe,
Æign_byãs
,
SEEK_CUR
); }

35939 
	gmask
 = 0x80, 
	gvÆ
 = 0;

35940 
cimg_f‹X
(*
this
,
x
) {

35941 i‡(
	gmask
==0x80Ë
vÆ
 = *(
±rs
++);

35942 c⁄° *
	gcﬁ
 = (*)(
cﬁ‹m≠
.
_d©a
 + (
vÆ
&
mask
?1:0));

35943 (*
	gthis
)(
	gx
,
	gy
,2Ë(
T
)*(
cﬁ
++);

35944 (*
	gthis
)(
	gx
,
	gy
,1Ë(
T
)*(
cﬁ
++);

35945 (*
	gthis
)(
	gx
,
	gy
,0Ë(
T
)*(
cﬁ
++);

35946 
	gmask
 = 
cimg
::
r‹
(
mask
);

35948 
	g±rs
+=
Æign_byãs
;

35952 
y
 = 
height
()-1; 
	gy
>=0; --y) {

35953 i‡(
	gbuf_size
>=
cimg_iobuf„r
Ë{ 
cimg
::
‰ód
(
±rs
=
buf„r
.
_d©a
,
dx_byãs
,
nfûe
); 
	g°d
::
f£ek
“fûe,
Æign_byãs
,
SEEK_CUR
); }

35954 
	gmask
 = 0xF0, 
	gvÆ
 = 0;

35955 
cimg_f‹X
(*
this
,
x
) {

35956 i‡(
	gmask
==0xF0Ë
vÆ
 = *(
±rs
++);

35957 c⁄° 
	gcﬁ‹
 = ()((
mask
<16)?(
vÆ
&mask):((val&mask)>>4));

35958 c⁄° *
	gcﬁ
 = (*)(
cﬁ‹m≠
.
_d©a
 + 
cﬁ‹
);

35959 (*
	gthis
)(
	gx
,
	gy
,2Ë(
T
)*(
cﬁ
++);

35960 (*
	gthis
)(
	gx
,
	gy
,1Ë(
T
)*(
cﬁ
++);

35961 (*
	gthis
)(
	gx
,
	gy
,0Ë(
T
)*(
cﬁ
++);

35962 
	gmask
 = 
cimg
::
r‹
(
mask
,4);

35964 
	g±rs
+=
Æign_byãs
;

35968 
y
 = 
height
()-1; 
	gy
>=0; --y) {

35969 i‡(
	gbuf_size
>=
cimg_iobuf„r
Ë{ 
cimg
::
‰ód
(
±rs
=
buf„r
.
_d©a
,
dx_byãs
,
nfûe
); 
	g°d
::
f£ek
“fûe,
Æign_byãs
,
SEEK_CUR
); }

35970 
cimg_f‹X
(*
this
,
x
) {

35971 c⁄° *
	gcﬁ
 = (*)(
cﬁ‹m≠
.
_d©a
 + *(
±rs
++));

35972 (*
	gthis
)(
	gx
,
	gy
,2Ë(
T
)*(
cﬁ
++);

35973 (*
	gthis
)(
	gx
,
	gy
,1Ë(
T
)*(
cﬁ
++);

35974 (*
	gthis
)(
	gx
,
	gy
,0Ë(
T
)*(
cﬁ
++);

35976 
	g±rs
+=
Æign_byãs
;

35980 
y
 = 
height
()-1; 
	gy
>=0; --y) {

35981 i‡(
	gbuf_size
>=
cimg_iobuf„r
Ë{ 
cimg
::
‰ód
(
±rs
=
buf„r
.
_d©a
,
dx_byãs
,
nfûe
); 
	g°d
::
f£ek
“fûe,
Æign_byãs
,
SEEK_CUR
); }

35982 
cimg_f‹X
(*
this
,
x
) {

35983 c⁄° 
	gc1
 = *(
±rs
++), 
	gc2
 = *(ptrs++);

35984 c⁄° 
	gcﬁ
 = ()(
c1
|(
c2
<<8));

35985 (*
	gthis
)(
	gx
,
	gy
,2Ë(
T
)(
cﬁ
&0x1F);

35986 (*
	gthis
)(
	gx
,
	gy
,1Ë(
T
)((
cﬁ
>>5)&0x1F);

35987 (*
	gthis
)(
	gx
,
	gy
,0Ë(
T
)((
cﬁ
>>10)&0x1F);

35989 
	g±rs
+=
Æign_byãs
;

35993 
y
 = 
height
()-1; 
	gy
>=0; --y) {

35994 i‡(
	gbuf_size
>=
cimg_iobuf„r
Ë{ 
cimg
::
‰ód
(
±rs
=
buf„r
.
_d©a
,
dx_byãs
,
nfûe
); 
	g°d
::
f£ek
“fûe,
Æign_byãs
,
SEEK_CUR
); }

35995 
cimg_f‹X
(*
this
,
x
) {

35996 (*
	gthis
)(
	gx
,
	gy
,2Ë(
T
)*(
±rs
++);

35997 (*
	gthis
)(
	gx
,
	gy
,1Ë(
T
)*(
±rs
++);

35998 (*
	gthis
)(
	gx
,
	gy
,0Ë(
T
)*(
±rs
++);

36000 
	g±rs
+=
Æign_byãs
;

36004 
y
 = 
height
()-1; 
	gy
>=0; --y) {

36005 i‡(
	gbuf_size
>=
cimg_iobuf„r
Ë{ 
cimg
::
‰ód
(
±rs
=
buf„r
.
_d©a
,
dx_byãs
,
nfûe
); 
	g°d
::
f£ek
“fûe,
Æign_byãs
,
SEEK_CUR
); }

36006 
cimg_f‹X
(*
this
,
x
) {

36007 (*
	gthis
)(
	gx
,
	gy
,2Ë(
T
)*(
±rs
++);

36008 (*
	gthis
)(
	gx
,
	gy
,1Ë(
T
)*(
±rs
++);

36009 (*
	gthis
)(
	gx
,
	gy
,0Ë(
T
)*(
±rs
++);

36010 ++
	g±rs
;

36012 
	g±rs
+=
Æign_byãs
;

36016 i‡(
	gdy
<0Ë
múr‹
('y');

36017 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36018  *
	gthis
;

36025 
	gCImg
<
	gT
>& 
lﬂd_j≥g
(c⁄° *c⁄° 
fûíame
) {

36026  
_lﬂd_j≥g
(0,
fûíame
);

36030 
	gCImg
<
	gT
> 
gë_lﬂd_j≥g
(c⁄° *c⁄° 
fûíame
) {

36031  
	gCImg
<
	gT
>().
lﬂd_j≥g
(
fûíame
);

36035 
	gCImg
<
	gT
>& 
lﬂd_j≥g
(
°d
::
FILE
 *c⁄° 
fûe
) {

36036  
_lﬂd_j≥g
(
fûe
,0);

36040 
	gCImg
<
	gT
> 
gë_lﬂd_j≥g
(
°d
::
FILE
 *c⁄° 
fûe
) {

36041  
CImg
<
T
>().
lﬂd_j≥g
(
fûe
);

36045 #ifde‡
cimg_u£_j≥g


36046 
	s_cimg_îr‹_mgr
 {

36047 
j≥g_îr‹_mgr
 
	g‹igöÆ
;

36048 
jmp_buf
 
	g£tjmp_buf„r
;

36049 
	gmesßge
[
JMSG_LENGTH_MAX
];

36052 
_cimg_îr‹_mgr
 *
	t_cimg_îr‹_±r
;

36054 
METHODDEF
(Ë
_cimg_j≥g_îr‹_exô
(
j_comm⁄_±r
 
cöfo
) {

36055 
_cimg_îr‹_±r
 
	gc_îr
 = (_cimg_îr‹_±rË
cöfo
->
îr
;

36056 (*
	gcöfo
->
	gîr
->
	gf‹m©_mesßge
)(cöfo,
	gc_îr
->
	gmesßge
);

36057 
j≥g_de°roy
(
cöfo
);

36058 
l⁄gjmp
(
c_îr
->
£tjmp_buf„r
,1);

36062 
	gCImg
<
	gT
>& 
_lﬂd_j≥g
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

36063 i‡(!
	gfûe
 && !
	gfûíame
)

36064 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36066 
cimg_ö°™˚
);

36068 #i‚de‡
cimg_u£_j≥g


36069 i‡(
	gfûe
)

36070 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36072 
cimg_ö°™˚
);

36073  
lﬂd_Ÿhî
(
fûíame
);

36076 
j≥g_decom¥ess_°ru˘
 
	gcöfo
;

36077 
_cimg_îr‹_mgr
 
	gjîr
;

36078 
	gcöfo
.
	gîr
 = 
j≥g_°d_îr‹
(&
jîr
.
‹igöÆ
);

36079 
	gjîr
.
	g‹igöÆ
.
	gîr‹_exô
 = 
_cimg_j≥g_îr‹_exô
;

36081 i‡(
£tjmp
(
jîr
.
£tjmp_buf„r
)) {

36082 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36084 
cimg_ö°™˚
,
jîr
.
mesßge
);

36087 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

36088 
j≥g_¸óã_decom¥ess
(&
cöfo
);

36089 
j≥g_°dio_§c
(&
cöfo
,
nfûe
);

36090 
j≥g_ªad_hódî
(&
cöfo
,
TRUE
);

36091 
j≥g_°¨t_decom¥ess
(&
cöfo
);

36093 i‡(
	gcöfo
.
	gouçut_comp⁄íts
!=1 && 
cöfo
.
ouçut_comp⁄íts
!=3 && cinfo.output_components!=4) {

36094 i‡(!
fûe
) {

36095 
cimg
::
f˛o£
(
nfûe
);

36096  
lﬂd_Ÿhî
(
fûíame
);

36098 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36100 
cimg_ö°™˚
,
fûíame
?filename:"(FILE*)");

36102 
	gCImg
<
	guch¨T
> 
buf„r
(
cöfo
.
ouçut_width
*cöfo.
ouçut_comp⁄íts
);

36103 
JSAMPROW
 
	grow_poöãr
[1];

36104 
assign
(
cöfo
.
ouçut_width
,cöfo.
ouçut_height
,1,cöfo.
ouçut_comp⁄íts
);

36105 
T
 *
	g±r_r
 = 
_d©a
, *
	g±r_g
 = _d©®+ 1UL*
_width
*
_height
, *
	g±r_b
 = _d©®+ 2UL*_width*_height, *
	g±r_a
 = _data + 3UL*_width*_height;

36106 
	gcöfo
.
	gouçut_sˇ∆öe
<cöfo.
	gouçut_height
) {

36107 *
	grow_poöãr
 = 
buf„r
.
_d©a
;

36108 i‡(
j≥g_ªad_sˇ∆öes
(&
cöfo
,
row_poöãr
,1)!=1) {

36109 
cimg
::
w¨n
(
_cimg_ö°™˚


36111 
cimg_ö°™˚
,
fûíame
?filename:"(FILE*)");

36114 c⁄° *
	g±rs
 = 
buf„r
.
_d©a
;

36115 
	g_•e˘rum
) {

36117 
cimg_f‹X
(*
this
,
x
Ë*(
	g±r_r
++Ë(
T
)*(
±rs
++);

36120 
cimg_f‹X
(*
this
,
x
) {

36121 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36122 *(
	g±r_g
++Ë(
T
)*(
±rs
++);

36123 *(
	g±r_b
++Ë(
T
)*(
±rs
++);

36127 
cimg_f‹X
(*
this
,
x
) {

36128 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36129 *(
	g±r_g
++Ë(
T
)*(
±rs
++);

36130 *(
	g±r_b
++Ë(
T
)*(
±rs
++);

36131 *(
	g±r_a
++Ë(
T
)*(
±rs
++);

36136 
j≥g_föish_decom¥ess
(&
cöfo
);

36137 
j≥g_de°roy_decom¥ess
(&
cöfo
);

36138 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36139  *
	gthis
;

36149 
	gCImg
<
	gT
>& 
lﬂd_magick
(c⁄° *c⁄° 
fûíame
) {

36150 i‡(!
	gfûíame
)

36151 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36153 
cimg_ö°™˚
);

36155 #ifde‡
cimg_u£_magick


36156 
	gMagick
::
Image
 
image
(
fûíame
);

36157 c⁄° 
	gW
 = 
image
.
size
().
width
(), 
	gH
 = image.size().
height
();

36158 
	gimage
.
ty≥
()) {

36159 
	gMagick
::
PÆëãM©ãTy≥
 :

36160 
Magick
::
TrueCﬁ‹M©ãTy≥
 :

36161 
Magick
::
Cﬁ‹Sï¨©i⁄Ty≥
 : {

36162 
assign
(
W
,
H
,1,4);

36163 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *
	g±r_a
 = data(0,0,0,3);

36164 
	gMagick
::
PixñPackë
 *
pixñs
 = 
image
.
gëPixñs
(0,0,
W
,
H
);

36165 
	goff
 = ()
W
*
H
; off; --off) {

36166 *(
	g±r_r
++Ë(
T
)(
pixñs
->
ªd
);

36167 *(
	g±r_g
++Ë(
T
)(
pixñs
->
gªí
);

36168 *(
	g±r_b
++Ë(
T
)(
pixñs
->
blue
);

36169 *(
	g±r_a
++Ë(
T
)(
pixñs
->
›acôy
);

36170 ++
	gpixñs
;

36173 
	gMagick
::
PÆëãTy≥
 :

36174 
Magick
::
TrueCﬁ‹Ty≥
 : {

36175 
assign
(
W
,
H
,1,3);

36176 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

36177 
	gMagick
::
PixñPackë
 *
pixñs
 = 
image
.
gëPixñs
(0,0,
W
,
H
);

36178 
	goff
 = ()
W
*
H
; off; --off) {

36179 *(
	g±r_r
++Ë(
T
)(
pixñs
->
ªd
);

36180 *(
	g±r_g
++Ë(
T
)(
pixñs
->
gªí
);

36181 *(
	g±r_b
++Ë(
T
)(
pixñs
->
blue
);

36182 ++
	gpixñs
;

36185 
	gMagick
::
GøysˇÀM©ãTy≥
 : {

36186 
assign
(
W
,
H
,1,2);

36187 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_a
 = data(0,0,0,1);

36188 
	gMagick
::
PixñPackë
 *
pixñs
 = 
image
.
gëPixñs
(0,0,
W
,
H
);

36189 
	goff
 = ()
W
*
H
; off; --off) {

36190 *(
	g±r_r
++Ë(
T
)(
pixñs
->
ªd
);

36191 *(
	g±r_a
++Ë(
T
)(
pixñs
->
›acôy
);

36192 ++
	gpixñs
;

36196 
assign
(
W
,
H
,1,1);

36197 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0);

36198 
	gMagick
::
PixñPackë
 *
pixñs
 = 
image
.
gëPixñs
(0,0,
W
,
H
);

36199 
	goff
 = ()
W
*
H
; off; --off) {

36200 *(
	g±r_r
++Ë(
T
)(
pixñs
->
ªd
);

36201 ++
	gpixñs
;

36206 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36208 
cimg_ö°™˚
,

36209 
fûíame
);

36211  *
	gthis
;

36215 
	gCImg
<
	gT
> 
gë_lﬂd_magick
(c⁄° *c⁄° 
fûíame
) {

36216  
	gCImg
<
	gT
>().
lﬂd_magick
(
fûíame
);

36223 
	gCImg
<
	gT
>& 
lﬂd_≤g
(c⁄° *c⁄° 
fûíame
) {

36224  
_lﬂd_≤g
(0,
fûíame
);

36228 
	gCImg
<
	gT
> 
gë_lﬂd_≤g
(c⁄° *c⁄° 
fûíame
) {

36229  
	gCImg
<
	gT
>().
lﬂd_≤g
(
fûíame
);

36233 
	gCImg
<
	gT
>& 
lﬂd_≤g
(
°d
::
FILE
 *c⁄° 
fûe
) {

36234  
_lﬂd_≤g
(
fûe
,0);

36238 
	gCImg
<
	gT
> 
gë_lﬂd_≤g
(
°d
::
FILE
 *c⁄° 
fûe
) {

36239  
CImg
<
T
>().
lﬂd_≤g
(
fûe
);

36243 
	gCImg
<
	gT
>& 
_lﬂd_≤g
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

36244 i‡(!
	gfûe
 && !
	gfûíame
)

36245 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36247 
cimg_ö°™˚
);

36249 #i‚de‡
cimg_u£_≤g


36250 i‡(
	gfûe
)

36251 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36253 
cimg_ö°™˚
);

36255  
lﬂd_Ÿhî
(
fûíame
);

36258 c⁄° *vﬁ©ûê
	gnfûíame
 = 
fûíame
;

36259 
	g°d
::
FILE
 *vﬁ©ûê
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
nfûíame
,"rb");

36261 
	g≤gCheck
[8] = { 0 };

36262 
	gcimg
::
‰ód
(
≤gCheck
,8,(
°d
::
FILE
*)
nfûe
);

36263 i‡(
≤g_sig_cmp
(
≤gCheck
,0,8)) {

36264 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36265 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36267 
cimg_ö°™˚
,

36268 
nfûíame
?nfilename:"(FILE*)");

36272 
≤g_voidp
 
	gu£r_îr‹_±r
 = 0;

36273 
≤g_îr‹_±r
 
	gu£r_îr‹_‚
 = 0, 
	gu£r_w¨nög_‚
 = 0;

36274 
≤g_°ru˘p
 
	g≤g_±r
 = 
≤g_¸óã_ªad_°ru˘
(
PNG_LIBPNG_VER_STRING
,
u£r_îr‹_±r
,
u£r_îr‹_‚
,
u£r_w¨nög_‚
);

36275 i‡(!
	g≤g_±r
) {

36276 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36277 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36279 
cimg_ö°™˚
,

36280 
nfûíame
?nfilename:"(FILE*)");

36282 
≤g_öf›
 
	göfo_±r
 = 
≤g_¸óã_öfo_°ru˘
(
≤g_±r
);

36283 i‡(!
	göfo_±r
) {

36284 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36285 
≤g_de°roy_ªad_°ru˘
(&
≤g_±r
,(
≤g_öf›p
)0,(png_infopp)0);

36286 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36288 
cimg_ö°™˚
,

36289 
nfûíame
?nfilename:"(FILE*)");

36291 
≤g_öf›
 
	gíd_öfo
 = 
≤g_¸óã_öfo_°ru˘
(
≤g_±r
);

36292 i‡(!
	gíd_öfo
) {

36293 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36294 
≤g_de°roy_ªad_°ru˘
(&
≤g_±r
,&
öfo_±r
,(
≤g_öf›p
)0);

36295 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36297 
cimg_ö°™˚
,

36298 
nfûíame
?nfilename:"(FILE*)");

36302 i‡(
£tjmp
(
≤g_jmpbuf
(
≤g_±r
))) {

36303 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
((
°d
::
FILE
*)
nfûe
);

36304 
≤g_de°roy_ªad_°ru˘
(&
≤g_±r
, &
íd_öfo
, (
≤g_öf›p
)0);

36305 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36307 
cimg_ö°™˚
,

36308 
nfûíame
?nfilename:"(FILE*)");

36310 
≤g_öô_io
(
≤g_±r
, 
nfûe
);

36311 
≤g_£t_sig_byãs
(
≤g_±r
, 8);

36314 
≤g_ªad_öfo
(
≤g_±r
,
öfo_±r
);

36315 
≤g_uöt_32
 
	gW
, 
	gH
;

36316 
	gbô_dïth
, 
	gcﬁ‹_ty≥
, 
	göãæa˚_ty≥
;

36317 
boﬁ
 
	gis_gøy
 = 
Ál£
;

36318 
≤g_gë_IHDR
(
≤g_±r
,
öfo_±r
,&
W
,&
H
,&
bô_dïth
,&
cﬁ‹_ty≥
,&
öãæa˚_ty≥
,(*)0,(*)0);

36321 i‡(
	gcﬁ‹_ty≥
==
PNG_COLOR_TYPE_PALETTE
) {

36322 
≤g_£t_∑Àâe_to_rgb
(
≤g_±r
);

36323 
	gcﬁ‹_ty≥
 = 
PNG_COLOR_TYPE_RGB
;

36324 
	gbô_dïth
 = 8;

36326 i‡(
	gcﬁ‹_ty≥
==
PNG_COLOR_TYPE_GRAY
 && 
bô_dïth
<8) {

36327 
≤g_£t_ex∑nd_gøy_1_2_4_to_8
(
≤g_±r
);

36328 
	gis_gøy
 = 
åue
;

36329 
	gbô_dïth
 = 8;

36331 i‡(
≤g_gë_vÆid
(
≤g_±r
,
öfo_±r
,
PNG_INFO_tRNS
)) {

36332 
≤g_£t_tRNS_to_Æpha
(
≤g_±r
);

36333 
	gcﬁ‹_ty≥
 |
PNG_COLOR_MASK_ALPHA
;

36335 i‡(
	gcﬁ‹_ty≥
==
PNG_COLOR_TYPE_GRAY
 || 
cﬁ‹_ty≥
==
PNG_COLOR_TYPE_GRAY_ALPHA
) {

36336 
≤g_£t_gøy_to_rgb
(
≤g_±r
);

36337 
	gcﬁ‹_ty≥
 |
PNG_COLOR_MASK_COLOR
;

36338 
	gis_gøy
 = 
åue
;

36340 i‡(
	gcﬁ‹_ty≥
==
PNG_COLOR_TYPE_RGB
)

36341 
≤g_£t_fûÀr
(
≤g_±r
,0xffffU,
PNG_FILLER_AFTER
);

36343 
≤g_ªad_upd©e_öfo
(
≤g_±r
,
öfo_±r
);

36344 i‡(
	gbô_dïth
!=8 && 
bô_dïth
!=16) {

36345 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

36346 
≤g_de°roy_ªad_°ru˘
(&
≤g_±r
,&
íd_öfo
,(
≤g_öf›p
)0);

36347 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36349 
cimg_ö°™˚
,

36350 
bô_dïth
,
nfûíame
?nfilename:"(FILE*)");

36352 c⁄° 
	gbyã_dïth
 = 
bô_dïth
>>3;

36355 
≤g_byãp
 *c⁄° 
	gimgD©a
 = 
√w
Öng_byãp[
H
];

36356 
	grow
 = 0;Ñow<
	gH
; ++rowË
	gimgD©a
[
row
] = 
√w
 
≤g_byã
[
byã_dïth
*4*
W
];

36357 
≤g_ªad_image
(
≤g_±r
,
imgD©a
);

36358 
≤g_ªad_íd
(
≤g_±r
,
íd_öfo
);

36361 i‡(
	gcﬁ‹_ty≥
!=
PNG_COLOR_TYPE_RGB
 && 
cﬁ‹_ty≥
!=
PNG_COLOR_TYPE_RGB_ALPHA
) {

36362 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

36363 
≤g_de°roy_ªad_°ru˘
(&
≤g_±r
,&
íd_öfo
,(
≤g_öf›p
)0);

36364 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36366 
cimg_ö°™˚
,

36367 
cﬁ‹_ty≥
,
nfûíame
?nfilename:"(FILE*)");

36369 c⁄° 
boﬁ
 
	gis_Æpha
 = (
cﬁ‹_ty≥
==
PNG_COLOR_TYPE_RGBA
);

36370 
assign
(
W
,
H
,1,(
is_gøy
?1:3Ë+ (
is_Æpha
?1:0));

36371 
T


36372 *
	g±r_r
 = 
d©a
(0,0,0,0),

36373 *
	g±r_g
 = 
is_gøy
?0:
d©a
(0,0,0,1),

36374 *
	g±r_b
 = 
is_gøy
?0:
d©a
(0,0,0,2),

36375 *
	g±r_a
 = !
is_Æpha
?0:
d©a
(0,0,0,
is_gøy
?1:3);

36376 
	gbô_dïth
) {

36378 
cimg_f‹Y
(*
this
,
y
) {

36379 c⁄° *
	g±rs
 = (*)
imgD©a
[
y
];

36380 
cimg_f‹X
(*
this
,
x
) {

36381 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36382 i‡(
	g±r_g
Ë*’å_g++Ë(
T
)*(
±rs
++); ++
	g±rs
;

36383 i‡(
	g±r_b
Ë*’å_b++Ë(
T
)*(
±rs
++); ++
	g±rs
;

36384 i‡(
	g±r_a
Ë*’å_a++Ë(
T
)*(
±rs
++); ++
	g±rs
;

36389 
cimg_f‹Y
(*
this
,
y
) {

36390 c⁄° *
	g±rs
 = (*)(
imgD©a
[
y
]);

36391 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
±rs
,4*
_width
);

36392 
cimg_f‹X
(*
this
,
x
) {

36393 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36394 i‡(
	g±r_g
Ë*’å_g++Ë(
T
)*(
±rs
++); ++
	g±rs
;

36395 i‡(
	g±r_b
Ë*’å_b++Ë(
T
)*(
±rs
++); ++
	g±rs
;

36396 i‡(
	g±r_a
Ë*’å_a++Ë(
T
)*(
±rs
++); ++
	g±rs
;

36401 
≤g_de°roy_ªad_°ru˘
(&
≤g_±r
, &
öfo_±r
, &
íd_öfo
);

36404 
cimg_f‹Y
(*
this
,
n
Ë
	gdñëe
[] 
	gimgD©a
[n];

36405 
	gdñëe
[] 
	gimgD©a
;

36406 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36407  *
	gthis
;

36415 
	gCImg
<
	gT
>& 
lﬂd_≤m
(c⁄° *c⁄° 
fûíame
) {

36416  
_lﬂd_≤m
(0,
fûíame
);

36420 
	gCImg
<
	gT
> 
gë_lﬂd_≤m
(c⁄° *c⁄° 
fûíame
) {

36421  
	gCImg
<
	gT
>().
lﬂd_≤m
(
fûíame
);

36425 
	gCImg
<
	gT
>& 
lﬂd_≤m
(
°d
::
FILE
 *c⁄° 
fûe
) {

36426  
_lﬂd_≤m
(
fûe
,0);

36430 
	gCImg
<
	gT
> 
gë_lﬂd_≤m
(
°d
::
FILE
 *c⁄° 
fûe
) {

36431  
CImg
<
T
>().
lﬂd_≤m
(
fûe
);

36434 
	gCImg
<
	gT
>& 
_lﬂd_≤m
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

36435 i‡(!
	gfûe
 && !
	gfûíame
)

36436 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36438 
cimg_ö°™˚
);

36440 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

36441 
	gµm_ty≥
, 
	gW
, 
	gH
, 
	gD
 = 1, 
	gcﬁ‹max
 = 255;

36442 
	gCImg
<
	gch¨T
> 
ôem
(16384,1,1,1,0);

36443 
	gîr
, 
	grvÆ
, 
	ggvÆ
, 
	gbvÆ
;

36444 c⁄° 
	gcimg_iobuf„r
 = 12*1024*1024;

36445 (
	gîr
=
°d
::
fsˇnf
(
nfûe
,"%16383[^\n]",
ôem
.
d©a
()))!=
EOF
 && (*ôem=='#' || !
îr
)Ë°d::
fgëc
(nfile);

36446 i‡(
	g°d
::
ssˇnf
(
ôem
," P%u",&
µm_ty≥
)!=1) {

36447 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

36448 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36450 
cimg_ö°™˚
,

36451 
fûíame
?filename:"(FILE*)");

36453 (
	gîr
=
°d
::
fsˇnf
(
nfûe
," %16383[^\n]",
ôem
.
d©a
()))!=
EOF
 && (*ôem=='#' || !
îr
)Ë°d::
fgëc
(nfile);

36454 i‡((
	gîr
=
°d
::
ssˇnf
(
ôem
," %u %u %u %u",&
W
,&
H
,&
D
,&
cﬁ‹max
))<2) {

36455 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36456 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36458 
cimg_ö°™˚
,

36459 
fûíame
?filename:"(FILE*)");

36461 i‡(
	gµm_ty≥
!=1 && 
µm_ty≥
!=4) {

36462 i‡(
îr
==2 || (îr==3 && (
µm_ty≥
==5 ||Öpm_type==7 ||Öpm_type==8 ||Öpm_type==9))) {

36463 (
îr
=
°d
::
fsˇnf
(
nfûe
," %16383[^\n]",
ôem
.
d©a
()))!=
EOF
 && (*ôem=='#' || !îr)Ë°d::
fgëc
(nfile);

36464 i‡(
	g°d
::
ssˇnf
(
ôem
,"%u",&
cﬁ‹max
)!=1)

36465 
cimg
::
w¨n
(
_cimg_ö°™˚


36467 
cimg_ö°™˚
,

36468 
fûíame
?filename:"(FILE*)");

36469 } { 
	gcﬁ‹max
 = 
D
; 
	gD
 = 1; }

36471 
	g°d
::
fgëc
(
nfûe
);

36473 
	gµm_ty≥
) {

36475 
assign
(
W
,
H
,1,1);

36476 
T
* 
	g±rd
 = 
_d©a
;

36477 
cimg_f‹off
(*
this
,
off
Ë{ i‡(
	g°d
::
fsˇnf
(
nfûe
,"%d",&
rvÆ
)>0Ë*(
	g±rd
++Ë(
T
)(rval?0:255); ; }

36480 
assign
(
W
,
H
,1,1);

36481 
T
* 
	g±rd
 = 
_d©a
;

36482 
cimg_f‹off
(*
this
,
off
Ë{ i‡(
	g°d
::
fsˇnf
(
nfûe
,"%d",&
rvÆ
)>0Ë*(
	g±rd
++Ë(
T
)rval; ; }

36485 
assign
(
W
,
H
,1,3);

36486 
T
 *
	g±rd
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

36487 
cimg_f‹XY
(*
this
,
x
,
y
) {

36488 i‡(
	g°d
::
fsˇnf
(
nfûe
,"%d %d %d",&
rvÆ
,&
gvÆ
,&
bvÆ
)==3Ë{ *(
±rd
++Ë(
T
ÏvÆ; *(
	g±r_g
++Ë(T)gvÆ; *(
	g±r_b
++) = (T)bval; }

36493 
CImg
<
uch¨T
> 
øw
;

36494 
assign
(
W
,
H
,
D
,1);

36495 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

36496 
	gw
 = 0, 
	gh
 = 0, 
	gd
 = 0;

36497 
	gto_ªad
 = ()((
W
/8 + (W%8?1:0))*
H
*
D
);Åo_read>0; ) {

36498 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
));

36499 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36500 
	gto_ªad
-=
øw
.
_width
;

36501 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36502 
	gmask
 = 0, 
	gvÆ
 = 0;

36503 
	goff
 = ()
øw
.
_width
; of‡|| 
	gmask
; mask>>=1) {

36504 i‡(!
mask
Ë{ i‡(
off
--Ë
vÆ
 = *(
±rs
++); 
	gmask
 = 128; }

36505 *(
	g±rd
++Ë(
T
)((
vÆ
&
mask
)?0:255);

36506 i‡(++
	gw
==
W
Ë{ 
w
 = 0; 
	gmask
 = 0; i‡(++
	gh
==
H
Ë{ 
h
 = 0; i‡(++
	gd
==
D
) ; }}

36511 i‡(
cﬁ‹max
<256) {

36512 
CImg
<
uch¨T
> 
øw
;

36513 
assign
(
W
,
H
,
D
,1);

36514 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

36515 
	gto_ªad
 = ()
size
();Åo_read>0; ) {

36516 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
));

36517 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36518 
	gto_ªad
-=
øw
.
_width
;

36519 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36520 
	goff
 = ()
øw
.
_width
; off; --offË*(
	g±rd
++Ë(
T
)*(
±rs
++);

36523 
	gCImg
<
	gush‹tT
> 
	gøw
;

36524 
assign
(
W
,
H
,
D
,1);

36525 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

36526 
	gto_ªad
 = ()
size
();Åo_read>0; ) {

36527 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
/2));

36528 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36529 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
øw
.
_d©a
,øw.
_width
);

36530 
	gto_ªad
-=
øw
.
_width
;

36531 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36532 
	goff
 = ()
øw
.
_width
; off; --offË*(
	g±rd
++Ë(
T
)*(
±rs
++);

36537 i‡(
cﬁ‹max
<256) {

36538 
CImg
<
uch¨T
> 
øw
;

36539 
assign
(
W
,
H
,1,3);

36540 
T


36541 *
	g±r_r
 = 
d©a
(0,0,0,0),

36542 *
	g±r_g
 = 
d©a
(0,0,0,1),

36543 *
	g±r_b
 = 
d©a
(0,0,0,2);

36544 
	gto_ªad
 = ()
size
();Åo_read>0; ) {

36545 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
));

36546 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36547 
	gto_ªad
-=
øw
.
_width
;

36548 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36549 
	goff
 = ()
øw
.
_width
/3; off; --off) {

36550 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36551 *(
	g±r_g
++Ë(
T
)*(
±rs
++);

36552 *(
	g±r_b
++Ë(
T
)*(
±rs
++);

36556 
	gCImg
<
	gush‹tT
> 
	gøw
;

36557 
assign
(
W
,
H
,1,3);

36558 
T


36559 *
	g±r_r
 = 
d©a
(0,0,0,0),

36560 *
	g±r_g
 = 
d©a
(0,0,0,1),

36561 *
	g±r_b
 = 
d©a
(0,0,0,2);

36562 
	gto_ªad
 = ()
size
();Åo_read>0; ) {

36563 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
/2));

36564 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36565 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
øw
.
_d©a
,øw.
_width
);

36566 
	gto_ªad
-=
øw
.
_width
;

36567 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36568 
	goff
 = ()
øw
.
_width
/3; off; --off) {

36569 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36570 *(
	g±r_g
++Ë(
T
)*(
±rs
++);

36571 *(
	g±r_b
++Ë(
T
)*(
±rs
++);

36577 
CImg
<
ötT
> 
øw
;

36578 
assign
(
W
,
H
,
D
,1);

36579 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

36580 
	gto_ªad
 = ()
size
();Åo_read>0; ) {

36581 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
));

36582 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36583 
	gto_ªad
-=
øw
.
_width
;

36584 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36585 
	goff
 = ()
øw
.
_width
; off; --offË*(
	g±rd
++Ë(
T
)*(
±rs
++);

36589 
CImg
<
ÊﬂtT
> 
øw
;

36590 
assign
(
W
,
H
,
D
,1);

36591 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

36592 
	gto_ªad
 = ()
size
();Åo_read>0; ) {

36593 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
));

36594 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36595 
	gto_ªad
-=
øw
.
_width
;

36596 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36597 
	goff
 = ()
øw
.
_width
; off; --offË*(
	g±rd
++Ë(
T
)*(
±rs
++);

36601 
assign
();

36602 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36603 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36605 
cimg_ö°™˚
,

36606 
fûíame
?fûíame:"(FILE*)",
µm_ty≥
);

36608 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36609  *
	gthis
;

36616 
	gCImg
<
	gT
>& 
lﬂd_pfm
(c⁄° *c⁄° 
fûíame
) {

36617  
_lﬂd_pfm
(0,
fûíame
);

36621 
	gCImg
<
	gT
> 
gë_lﬂd_pfm
(c⁄° *c⁄° 
fûíame
) {

36622  
	gCImg
<
	gT
>().
lﬂd_pfm
(
fûíame
);

36626 
	gCImg
<
	gT
>& 
lﬂd_pfm
(
°d
::
FILE
 *c⁄° 
fûe
) {

36627  
_lﬂd_pfm
(
fûe
,0);

36631 
	gCImg
<
	gT
> 
gë_lﬂd_pfm
(
°d
::
FILE
 *c⁄° 
fûe
) {

36632  
CImg
<
T
>().
lﬂd_pfm
(
fûe
);

36635 
	gCImg
<
	gT
>& 
_lﬂd_pfm
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

36636 i‡(!
	gfûe
 && !
	gfûíame
)

36637 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36639 
cimg_ö°™˚
);

36641 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

36642 
	gpfm_ty≥
;

36643 
	gCImg
<
	gch¨T
> 
ôem
(16384,1,1,1,0);

36644 
	gW
 = 0, 
	gH
 = 0, 
	gîr
 = 0;

36645 
	gsˇÀ
 = 0;

36646 (
	gîr
=
°d
::
fsˇnf
(
nfûe
,"%16383[^\n]",
ôem
.
d©a
()))!=
EOF
 && (*ôem=='#' || !
îr
)Ë°d::
fgëc
(nfile);

36647 i‡(
	g°d
::
ssˇnf
(
ôem
," P%c",&
pfm_ty≥
)!=1) {

36648 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

36649 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36651 
cimg_ö°™˚
,

36652 
fûíame
?filename:"(FILE*)");

36654 (
	gîr
=
°d
::
fsˇnf
(
nfûe
," %16383[^\n]",
ôem
.
d©a
()))!=
EOF
 && (*ôem=='#' || !
îr
)Ë°d::
fgëc
(nfile);

36655 i‡((
	gîr
=
°d
::
ssˇnf
(
ôem
," %d %d",&
W
,&
H
))<2) {

36656 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36657 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36659 
cimg_ö°™˚
,

36660 
fûíame
?filename:"(FILE*)");

36662 i‡(
	gîr
==2) {

36663 (
îr
=
°d
::
fsˇnf
(
nfûe
," %16383[^\n]",
ôem
.
d©a
()))!=
EOF
 && (*ôem=='#' || !îr)Ë°d::
fgëc
(nfile);

36664 i‡(
	g°d
::
ssˇnf
(
ôem
,"%lf",&
sˇÀ
)!=1)

36665 
cimg
::
w¨n
(
_cimg_ö°™˚


36667 
cimg_ö°™˚
,

36668 
fûíame
?filename:"(FILE*)");

36670 
	g°d
::
fgëc
(
nfûe
);

36671 c⁄° 
boﬁ
 
	gis_cﬁ‹
 = (
pfm_ty≥
=='F'), 
	gis_övîãd
 = (
sˇÀ
>0)!=
cimg
::
ídü¬ess
();

36672 i‡(
	gis_cﬁ‹
) {

36673 
assign
(
W
,
H
,1,3,0);

36674 
	gCImg
<
	gÊﬂtT
> 
buf
(3*
W
);

36675 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

36676 
cimg_f‹Y
(*
this
,
y
) {

36677 
	gcimg
::
‰ód
(
buf
.
_d©a
,3*
W
,
nfûe
);

36678 i‡(
	gis_övîãd
Ë
	gcimg
::
övît_ídü¬ess
(
buf
.
_d©a
,3*
W
);

36679 c⁄° *
	g±rs
 = 
buf
.
_d©a
;

36680 
cimg_f‹X
(*
this
,
x
) {

36681 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36682 *(
	g±r_g
++Ë(
T
)*(
±rs
++);

36683 *(
	g±r_b
++Ë(
T
)*(
±rs
++);

36687 
assign
(
W
,
H
,1,1,0);

36688 
	gCImg
<
	gÊﬂtT
> 
buf
(
W
);

36689 
T
 *
	g±rd
 = 
d©a
(0,0,0,0);

36690 
cimg_f‹Y
(*
this
,
y
) {

36691 
	gcimg
::
‰ód
(
buf
.
_d©a
,
W
,
nfûe
);

36692 i‡(
	gis_övîãd
Ë
	gcimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
W
);

36693 c⁄° *
	g±rs
 = 
buf
.
_d©a
;

36694 
cimg_f‹X
(*
this
,
x
Ë*(
	g±rd
++Ë(
T
)*(
±rs
++);

36697 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36698  
múr‹
('y');

36707 
	gCImg
<
	gT
>& 
lﬂd_rgb
(c⁄° *c⁄° 
fûíame
, c⁄° 
dimw
, c⁄° 
dimh
=1) {

36708  
_lﬂd_rgb
(0,
fûíame
,
dimw
,
dimh
);

36712 
	gCImg
<
	gT
> 
gë_lﬂd_rgb
(c⁄° *c⁄° 
fûíame
, c⁄° 
dimw
, c⁄° 
dimh
=1) {

36713  
CImg
<
T
>().
lﬂd_rgb
(
fûíame
,
dimw
,
dimh
);

36717 
	gCImg
<
	gT
>& 
lﬂd_rgb
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
dimw
, c⁄° 
dimh
=1) {

36718  
_lﬂd_rgb
(
fûe
,0,
dimw
,
dimh
);

36722 
	gCImg
<
	gT
> 
gë_lﬂd_rgb
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
dimw
, c⁄° 
dimh
=1) {

36723  
CImg
<
T
>().
lﬂd_rgb
(
fûe
,
dimw
,
dimh
);

36726 
	gCImg
<
	gT
>& 
_lﬂd_rgb
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
dimw
, c⁄° 
dimh
) {

36727 i‡(!
	gfûe
 && !
	gfûíame
)

36728 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36730 
cimg_ö°™˚
);

36732 i‡(!
	gdimw
 || !
	gdimh
Ë 
assign
();

36733 c⁄° 
	gcimg_iobuf„r
 = 12*1024*1024;

36734 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

36735 
	gCImg
<
	guch¨T
> 
	gøw
;

36736 
assign
(
dimw
,
dimh
,1,3);

36737 
T


36738 *
	g±r_r
 = 
d©a
(0,0,0,0),

36739 *
	g±r_g
 = 
d©a
(0,0,0,1),

36740 *
	g±r_b
 = 
d©a
(0,0,0,2);

36741 
	gto_ªad
 = ()
size
();Åo_read>0; ) {

36742 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
));

36743 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36744 
	gto_ªad
-=
øw
.
_width
;

36745 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36746 
	goff
 = 
øw
.
_width
/3UL; off; --off) {

36747 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36748 *(
	g±r_g
++Ë(
T
)*(
±rs
++);

36749 *(
	g±r_b
++Ë(
T
)*(
±rs
++);

36752 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36753  *
	gthis
;

36762 
	gCImg
<
	gT
>& 
lﬂd_rgba
(c⁄° *c⁄° 
fûíame
, c⁄° 
dimw
, c⁄° 
dimh
=1) {

36763  
_lﬂd_rgba
(0,
fûíame
,
dimw
,
dimh
);

36767 
	gCImg
<
	gT
> 
gë_lﬂd_rgba
(c⁄° *c⁄° 
fûíame
, c⁄° 
dimw
, c⁄° 
dimh
=1) {

36768  
CImg
<
T
>().
lﬂd_rgba
(
fûíame
,
dimw
,
dimh
);

36772 
	gCImg
<
	gT
>& 
lﬂd_rgba
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
dimw
, c⁄° 
dimh
=1) {

36773  
_lﬂd_rgba
(
fûe
,0,
dimw
,
dimh
);

36777 
	gCImg
<
	gT
> 
gë_lﬂd_rgba
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
dimw
, c⁄° 
dimh
=1) {

36778  
CImg
<
T
>().
lﬂd_rgba
(
fûe
,
dimw
,
dimh
);

36781 
	gCImg
<
	gT
>& 
_lﬂd_rgba
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
dimw
, c⁄° 
dimh
) {

36782 i‡(!
	gfûe
 && !
	gfûíame
)

36783 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36785 
cimg_ö°™˚
);

36787 i‡(!
	gdimw
 || !
	gdimh
Ë 
assign
();

36788 c⁄° 
	gcimg_iobuf„r
 = 12*1024*1024;

36789 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

36790 
	gCImg
<
	guch¨T
> 
	gøw
;

36791 
assign
(
dimw
,
dimh
,1,4);

36792 
T


36793 *
	g±r_r
 = 
d©a
(0,0,0,0),

36794 *
	g±r_g
 = 
d©a
(0,0,0,1),

36795 *
	g±r_b
 = 
d©a
(0,0,0,2),

36796 *
	g±r_a
 = 
d©a
(0,0,0,3);

36797 
	gto_ªad
 = ()
size
();Åo_read>0; ) {

36798 
	gøw
.
assign
(
cimg
::
mö
(
to_ªad
,
cimg_iobuf„r
));

36799 
	gcimg
::
‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
);

36800 
	gto_ªad
-=
øw
.
_width
;

36801 c⁄° *
	g±rs
 = 
øw
.
_d©a
;

36802 
	goff
 = 
øw
.
_width
/4UL; off; --off) {

36803 *(
	g±r_r
++Ë(
T
)*(
±rs
++);

36804 *(
	g±r_g
++Ë(
T
)*(
±rs
++);

36805 *(
	g±r_b
++Ë(
T
)*(
±rs
++);

36806 *(
	g±r_a
++Ë(
T
)*(
±rs
++);

36809 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

36810  *
	gthis
;

36828 
	gCImg
<
	gT
>& 
lﬂd_tiff
(c⁄° *c⁄° 
fûíame
,

36829 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

36830 c⁄° 
°ï_‰ame
=1) {

36831 i‡(!
fûíame
)

36832 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36834 
cimg_ö°™˚
);

36837 
	gnfú°_‰ame
 = 
fú°_‰ame
<
œ°_‰ame
?first_frame:last_frame,

36838 
	gn°ï_‰ame
 = 
°ï_‰ame
?step_frame:1;

36839 
	g∆a°_‰ame
 = 
fú°_‰ame
<
œ°_‰ame
?last_frame:first_frame;

36841 #i‚de‡
cimg_u£_tiff


36842 i‡(
	gnfú°_‰ame
 || 
	g∆a°_‰ame
!=~0U || 
n°ï_‰ame
>1)

36843 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


36845 
cimg_ö°™˚
,

36846 
fûíame
);

36847  
lﬂd_Ÿhî
(
fûíame
);

36849 
TIFF
 *
	gtif
 = 
TIFFO≥n
(
fûíame
,"r");

36850 i‡(
	gtif
) {

36851 
	gnb_images
 = 0;

36852 dÿ++
	gnb_images
; 
TIFFRódDúe˘‹y
(
tif
));

36853 i‡(
	gnfú°_‰ame
>=
nb_images
 || (
∆a°_‰ame
!=~0U &&Çlast_frame>=nb_images))

36854 
cimg
::
w¨n
(
_cimg_ö°™˚


36856 
cimg_ö°™˚
,

36857 
fûíame
,
nb_images
,
nfú°_‰ame
,
∆a°_‰ame
,
n°ï_‰ame
);

36859 i‡(
	gnfú°_‰ame
>=
nb_images
Ë 
assign
();

36860 i‡(
	g∆a°_‰ame
>=
nb_images
Ë
∆a°_‰ame
 =Çb_images-1;

36861 
TIFFSëDúe˘‹y
(
tif
,0);

36862 
	gCImg
<
	gT
> 
	g‰ame
;

36863 
	gl
 = 
nfú°_‰ame
;Ü<=
∆a°_‰ame
;Ü+=
n°ï_‰ame
) {

36864 
‰ame
.
_lﬂd_tiff
(
tif
,
l
);

36865 i‡(
	gl
==
nfú°_‰ame
Ë
assign
(
‰ame
.
_width
,‰ame.
_height
,1+(
∆a°_‰ame
-nfú°_‰ame)/
n°ï_‰ame
,‰ame.
_•e˘rum
);

36866 i‡(
	g‰ame
.
	g_width
>_width || føme.
	g_height
>_heighà|| føme.
	g_•e˘rum
>_spectrum)

36867 
ªsize
(
cimg
::
max
(
‰ame
.
_width
,_width),cimg::max(‰ame.
_height
,_height),-100,cimg::max(‰ame.
_•e˘rum
,_spectrum),0);

36868 
døw_image
(0,0,(
l
-
nfú°_‰ame
)/
n°ï_‰ame
,
‰ame
);

36870 
TIFFClo£
(
tif
);

36871 } 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36873 
cimg_ö°™˚
,

36874 
fûíame
);

36875  *
	gthis
;

36880 
	gCImg
<
	gT
> 
gë_lﬂd_tiff
(c⁄° *c⁄° 
fûíame
,

36881 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

36882 c⁄° 
°ï_‰ame
=1) {

36883  
CImg
<
T
>().
lﬂd_tiff
(
fûíame
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
);

36887 #ifde‡
cimg_u£_tiff


36888 
	gãm∂©e
<
ty≥«me
 
	gt
>

36889 
_lﬂd_tiff_tûed_c⁄tig
(
TIFF
 *c⁄° 
tif
, c⁄° 
uöt16
 
ßm∂e•îpixñ
, c⁄° 
uöt32
 
nx
, c⁄° uöt32 
ny
, c⁄° uöt32 
tw
, c⁄° uöt32 
th
) {

36890 
t
 *c⁄° 
	gbuf
 = (t*)
_TIFFmÆloc
(
TIFFTûeSize
(
tif
));

36891 i‡(
	gbuf
) {

36892 
	grow
 = 0;Ñow<
	gny
;Ñow+=
th
)

36893 
cﬁ
 = 0; 
	gcﬁ
<
	gnx
; cﬁ+=
tw
) {

36894 i‡(
TIFFRódTûe
(
tif
,
buf
,
cﬁ
,
row
,0,0)<0) {

36895 
_TIFF‰ì
(
buf
); 
TIFFClo£
(
tif
);

36896 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36898 
cimg_ö°™˚
,

36899 
TIFFFûeName
(
tif
));

36901 c⁄° 
t
 *
	g±r
 = 
buf
;

36902 
	gº
 = 
row
;Ñr<
	gcimg
::
mö
(()‘ow+
th
),()
ny
); ++rr)

36903 
	gcc
 = 
cﬁ
; cc<
	gcimg
::
mö
(()(cﬁ+
tw
),()
nx
); ++cc)

36904 
	gvv
 = 0; vv<
	gßm∂e•îpixñ
; ++vv)

36905 (*
	gthis
)(
	gcc
,
	gº
,
	gvv
Ë(
T
)(
±r
[(
º
-
row
)*
th
*
ßm∂e•îpixñ
 + (
cc
-
cﬁ
)*ßm∂e•îpixñ + 
vv
]);

36907 
_TIFF‰ì
(
buf
);

36911 
	gãm∂©e
<
ty≥«me
 
	gt
>

36912 
_lﬂd_tiff_tûed_£∑øã
(
TIFF
 *c⁄° 
tif
, c⁄° 
uöt16
 
ßm∂e•îpixñ
, c⁄° 
uöt32
 
nx
, c⁄° uöt32 
ny
, c⁄° uöt32 
tw
, c⁄° uöt32 
th
) {

36913 
t
 *c⁄° 
	gbuf
 = (t*)
_TIFFmÆloc
(
TIFFTûeSize
(
tif
));

36914 i‡(
	gbuf
) {

36915 
	gvv
 = 0; vv<
	gßm∂e•îpixñ
; ++vv)

36916 
	grow
 = 0;Ñow<
	gny
;Ñow+=
th
)

36917 
cﬁ
 = 0; 
	gcﬁ
<
	gnx
; cﬁ+=
tw
) {

36918 i‡(
TIFFRódTûe
(
tif
,
buf
,
cﬁ
,
row
,0,
vv
)<0) {

36919 
_TIFF‰ì
(
buf
); 
TIFFClo£
(
tif
);

36920 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36922 
cimg_ö°™˚
,

36923 
TIFFFûeName
(
tif
));

36925 c⁄° 
t
 *
	g±r
 = 
buf
;

36926 
	gº
 = 
row
;Ñr<
	gcimg
::
mö
(()‘ow+
th
),()
ny
); ++rr)

36927 
	gcc
 = 
cﬁ
; cc<
	gcimg
::
mö
(()(cﬁ+
tw
),()
nx
); ++cc)

36928 (*
	gthis
)(
	gcc
,
	gº
,
	gvv
Ë(
T
)*(
±r
++);

36930 
_TIFF‰ì
(
buf
);

36934 
	gãm∂©e
<
ty≥«me
 
	gt
>

36935 
_lﬂd_tiff_c⁄tig
(
TIFF
 *c⁄° 
tif
, c⁄° 
uöt16
 
ßm∂e•îpixñ
, c⁄° 
uöt32
 
nx
, c⁄° uöt32 
ny
) {

36936 
t
 *c⁄° 
	gbuf
 = (t*)
_TIFFmÆloc
(
TIFFSåùSize
(
tif
));

36937 i‡(
	gbuf
) {

36938 
uöt32
 
	grow
, 
	grow•î°rù
 = (uint32)-1;

36939 
TIFFGëFõld
(
tif
,
TIFFTAG_ROWSPERSTRIP
,&
row•î°rù
);

36940 
	grow
 = 0;Ñow<
	gny
;Ñow+
row•î°rù
) {

36941 
uöt32
 
ƒow
 = (
row
+
row•î°rù
>
ny
?ny-row:rowsperstrip);

36942 
t°rù_t
 
	g°rù
 = 
TIFFCompuãSåù
(
tif
, 
row
, 0);

36943 i‡((
TIFFRódEncodedSåù
(
tif
,
°rù
,
buf
,-1))<0) {

36944 
_TIFF‰ì
(
buf
); 
TIFFClo£
(
tif
);

36945 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36947 
cimg_ö°™˚
,

36948 
TIFFFûeName
(
tif
));

36950 c⁄° 
t
 *
	g±r
 = 
buf
;

36951 
	gº
 = 0;Ñr<
	gƒow
; ++rr)

36952 
	gcc
 = 0; cc<
	gnx
; ++cc)

36953 
	gvv
 = 0; vv<
	gßm∂e•îpixñ
; ++vvË(*
	gthis
)(
	gcc
,
	grow
+
	gº
,vvË(
T
)*(
±r
++);

36955 
_TIFF‰ì
(
buf
);

36959 
	gãm∂©e
<
ty≥«me
 
	gt
>

36960 
_lﬂd_tiff_£∑øã
(
TIFF
 *c⁄° 
tif
, c⁄° 
uöt16
 
ßm∂e•îpixñ
, c⁄° 
uöt32
 
nx
, c⁄° uöt32 
ny
) {

36961 
t
 *
	gbuf
 = (t*)
_TIFFmÆloc
(
TIFFSåùSize
(
tif
));

36962 i‡(
	gbuf
) {

36963 
uöt32
 
	grow
, 
	grow•î°rù
 = (uint32)-1;

36964 
TIFFGëFõld
(
tif
,
TIFFTAG_ROWSPERSTRIP
,&
row•î°rù
);

36965 
	gvv
 = 0; vv<
	gßm∂e•îpixñ
; ++vv)

36966 
	grow
 = 0;Ñow<
	gny
;Ñow+
row•î°rù
) {

36967 
uöt32
 
ƒow
 = (
row
+
row•î°rù
>
ny
?ny-row:rowsperstrip);

36968 
t°rù_t
 
	g°rù
 = 
TIFFCompuãSåù
(
tif
, 
row
, 
vv
);

36969 i‡((
TIFFRódEncodedSåù
(
tif
,
°rù
,
buf
,-1))<0) {

36970 
_TIFF‰ì
(
buf
); 
TIFFClo£
(
tif
);

36971 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


36973 
cimg_ö°™˚
,

36974 
TIFFFûeName
(
tif
));

36976 c⁄° 
t
 *
	g±r
 = 
buf
;

36977 
	gº
 = 0;º<
	gƒow
; ++rr)

36978 
	gcc
 = 0; cc<
	gnx
; ++cc)

36979 (*
	gthis
)(
	gcc
,
	grow
+
	gº
,
	gvv
Ë(
T
)*(
±r
++);

36981 
_TIFF‰ì
(
buf
);

36985 
	gCImg
<
	gT
>& 
_lﬂd_tiff
(
TIFF
 *c⁄° 
tif
, c⁄° 
dúe˘‹y
) {

36986 i‡(!
TIFFSëDúe˘‹y
(
tif
,
dúe˘‹y
)Ë 
assign
();

36987 
uöt16
 
	gßm∂e•îpixñ
 = 1, 
	gbô•îßm∂e
, 
	gphŸo
;

36988 
uöt16
 
	gßm∂ef‹m©
 = 
SAMPLEFORMAT_UINT
;

36989 
uöt32
 
	gnx
,
	gny
;

36990 c⁄° *c⁄° 
	gfûíame
 = 
TIFFFûeName
(
tif
);

36991 
TIFFGëFõld
(
tif
,
TIFFTAG_IMAGEWIDTH
,&
nx
);

36992 
TIFFGëFõld
(
tif
,
TIFFTAG_IMAGELENGTH
,&
ny
);

36993 
TIFFGëFõld
(
tif
,
TIFFTAG_SAMPLESPERPIXEL
,&
ßm∂e•îpixñ
);

36994 
TIFFGëFõld
(
tif
, 
TIFFTAG_SAMPLEFORMAT
, &
ßm∂ef‹m©
);

36995 
TIFFGëFõldDeÁu…ed
(
tif
,
TIFFTAG_BITSPERSAMPLE
,&
bô•îßm∂e
);

36996 
TIFFGëFõld
(
tif
,
TIFFTAG_PHOTOMETRIC
,&
phŸo
);

36997 
	g•e˘rum
 = 
ßm∂e•îpixñ
;

36998 i‡(
	gphŸo
 =3Ë
•e˘rum
 = 3;

36999 
assign
(
nx
,
ny
,1,
•e˘rum
);

37000 i‡((
	gphŸo
 < 3Ë&& ( 
	gbô•îßm∂e
!=8 || !(
ßm∂e•îpixñ
==3 || samplesperpixel==4))) {

37001 
uöt16
 
c⁄fig
;

37002 
TIFFGëFõld
(
tif
,
TIFFTAG_PLANARCONFIG
,&
c⁄fig
);

37003 i‡(
TIFFIsTûed
(
tif
)) {

37004 
uöt32
 
	gtw
, 
	gth
;

37005 
TIFFGëFõld
(
tif
,
TIFFTAG_TILEWIDTH
,&
tw
);

37006 
TIFFGëFõld
(
tif
,
TIFFTAG_TILELENGTH
,&
th
);

37007 i‡(
	gc⁄fig
==
PLANARCONFIG_CONTIG
Ë
bô•îßm∂e
) {

37009 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_tûed_c⁄tig
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37010 
	g_lﬂd_tiff_tûed_c⁄tig
<sig√d >(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37013 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_tûed_c⁄tig
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37014 
	g_lﬂd_tiff_tûed_c⁄tig
<>(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37017 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_tûed_c⁄tig
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37018 i‡(
	gßm∂ef‹m©
==
SAMPLEFORMAT_INT
Ë
_lﬂd_tiff_tûed_c⁄tig
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37019 
	g_lﬂd_tiff_tûed_c⁄tig
<>(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37021 } 
	gbô•îßm∂e
) {

37023 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_tûed_£∑øã
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37024 
	g_lﬂd_tiff_tûed_£∑øã
<sig√d >(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37027 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_tûed_£∑øã
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37028 
	g_lﬂd_tiff_tûed_£∑øã
<>(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37031 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_tûed_£∑øã
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37032 i‡(
	gßm∂ef‹m©
==
SAMPLEFORMAT_INT
Ë
_lﬂd_tiff_tûed_£∑øã
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37033 
	g_lﬂd_tiff_tûed_£∑øã
<>(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
,
	gtw
,
	gth
);

37037 i‡(
	gc⁄fig
==
PLANARCONFIG_CONTIG
Ë
bô•îßm∂e
) {

37039 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_c⁄tig
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37040 
	g_lﬂd_tiff_c⁄tig
<sig√d >(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37043 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_c⁄tig
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37044 
	g_lﬂd_tiff_c⁄tig
<>(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37047 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_c⁄tig
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37048 i‡(
	gßm∂ef‹m©
==
SAMPLEFORMAT_INT
Ë
_lﬂd_tiff_c⁄tig
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37049 
	g_lﬂd_tiff_c⁄tig
<>(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37051 } 
	gbô•îßm∂e
){

37053 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_£∑øã
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37054 
	g_lﬂd_tiff_£∑øã
<sig√d >(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37057 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_£∑øã
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37058 
	g_lﬂd_tiff_£∑øã
<>(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37061 i‡(
ßm∂ef‹m©
==
SAMPLEFORMAT_UINT
Ë
_lﬂd_tiff_£∑øã
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37062 i‡(
	gßm∂ef‹m©
==
SAMPLEFORMAT_INT
Ë
_lﬂd_tiff_£∑øã
<>(
tif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37063 
	g_lﬂd_tiff_£∑øã
<>(
	gtif
,
	gßm∂e•îpixñ
,
	gnx
,
	gny
);

37068 
uöt32
 *c⁄° 
	gø°î
 = (uöt32*)
_TIFFmÆloc
(
nx
*
ny
*(uint32));

37069 i‡(!
	gø°î
) {

37070 
_TIFF‰ì
(
ø°î
); 
TIFFClo£
(
tif
);

37071 
throw
 
CImgEx˚±i⁄
(
_cimg_ö°™˚


37073 
cimg_ö°™˚
,

37074 
cimg
::
°rbuf„rsize
(
nx
*
ny
*(
uöt32
)),
fûíame
);

37076 
TIFFRódRGBAImage
(
tif
,
nx
,
ny
,
ø°î
,0);

37077 
	g•e˘rum
) {

37079 
cimg_f‹XY
(*
this
,
x
,
y
Ë(*
	gthis
)(
	gx
,
	gy
Ë(
T
)()((
ø°î
[
nx
*(
ny
-1-y)+x] + 128)/257);

37082 
cimg_f‹XY
(*
this
,
x
,
y
) {

37083 (*
	gthis
)(
	gx
,
	gy
,0Ë(
T
)()
TIFFGëR
(
ø°î
[
nx
*(
ny
-1-
y
)+
x
]);

37084 (*
	gthis
)(
	gx
,
	gy
,1Ë(
T
)()
TIFFGëG
(
ø°î
[
nx
*(
ny
-1-
y
)+
x
]);

37085 (*
	gthis
)(
	gx
,
	gy
,2Ë(
T
)()
TIFFGëB
(
ø°î
[
nx
*(
ny
-1-
y
)+
x
]);

37089 
cimg_f‹XY
(*
this
,
x
,
y
) {

37090 (*
	gthis
)(
	gx
,
	gy
,0Ë(
T
)()
TIFFGëR
(
ø°î
[
nx
*(
ny
-1-
y
)+
x
]);

37091 (*
	gthis
)(
	gx
,
	gy
,1Ë(
T
)()
TIFFGëG
(
ø°î
[
nx
*(
ny
-1-
y
)+
x
]);

37092 (*
	gthis
)(
	gx
,
	gy
,2Ë(
T
)()
TIFFGëB
(
ø°î
[
nx
*(
ny
-1-
y
)+
x
]);

37093 (*
	gthis
)(
	gx
,
	gy
,3Ë(
T
)()
TIFFGëA
(
ø°î
[
nx
*(
ny
-1-
y
)+
x
]);

37097 
_TIFF‰ì
(
ø°î
);

37099  *
	gthis
;

37108 
	gCImg
<
	gT
>& 
lﬂd_möc2
(c⁄° *c⁄° 
fûíame
) {

37109 i‡(!
	gfûíame
)

37110 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


37112 
cimg_ö°™˚
);

37113 #i‚de‡
cimg_u£_möc2


37114  
lﬂd_Ÿhî
(
fûíame
);

37116 
	gmöc
::
möc_1_ªadî
 
rdr
;

37117 
	grdr
.
›í
(
fûíame
);

37118 
assign
(
rdr
.
ndim
(1)?rdr.ndim(1):1,

37119 
rdr
.
ndim
(2)?rdr.ndim(2):1,

37120 
rdr
.
ndim
(3)?rdr.ndim(3):1,

37121 
rdr
.
ndim
(4)?rdr.ndim(4):1);

37122 if(
ty≥id
(
T
)==typeid())

37123 
rdr
.
£tup_ªad_byã
();

37124 if(
ty≥id
(
T
)==typeid())

37125 
rdr
.
£tup_ªad_öt
();

37126 if(
ty≥id
(
T
)==typeid())

37127 
rdr
.
£tup_ªad_doubÀ
();

37129 
	grdr
.
£tup_ªad_Êﬂt
();

37130 
	gmöc
::
lﬂd_°™d¨d_vﬁume
(
rdr
, 
this
->
_d©a
);

37131  *
	gthis
;

37136 
	gCImg
<
	gT
> 
gë_lﬂd_möc2
(c⁄° *c⁄° 
fûíame
) {

37137  
	gCImg
<
	gT
>().
lﬂd_™Æyze
(
fûíame
);

37145 
	gCImg
<
	gT
>& 
lﬂd_™Æyze
(c⁄° *c⁄° 
fûíame
, *c⁄° 
voxñ_size
=0) {

37146  
_lﬂd_™Æyze
(0,
fûíame
,
voxñ_size
);

37150 
	gCImg
<
	gT
> 
gë_lﬂd_™Æyze
(c⁄° *c⁄° 
fûíame
, *c⁄° 
voxñ_size
=0) {

37151  
CImg
<
T
>().
lﬂd_™Æyze
(
fûíame
,
voxñ_size
);

37155 
	gCImg
<
	gT
>& 
lﬂd_™Æyze
(
°d
::
FILE
 *c⁄° 
fûe
, *c⁄° 
voxñ_size
=0) {

37156  
_lﬂd_™Æyze
(
fûe
,0,
voxñ_size
);

37160 
	gCImg
<
	gT
> 
gë_lﬂd_™Æyze
(
°d
::
FILE
 *c⁄° 
fûe
, *c⁄° 
voxñ_size
=0) {

37161  
CImg
<
T
>().
lﬂd_™Æyze
(
fûe
,
voxñ_size
);

37164 
	gCImg
<
	gT
>& 
_lﬂd_™Æyze
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, *c⁄° 
voxñ_size
=0) {

37165 i‡(!
fûe
 && !
fûíame
)

37166 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


37168 
cimg_ö°™˚
);

37170 
	g°d
::
FILE
 *
nfûe_hódî
 = 0, *
	gnfûe
 = 0;

37171 i‡(!
	gfûe
) {

37172 
	gbody
[1024] = { 0 };

37173 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
,
body
);

37174 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"hdr")) {

37175 
	gnfûe_hódî
 = 
cimg
::
f›í
(
fûíame
,"rb");

37176 
	g°d
::
•rötf
(
body
 + 
°d
::
°æí
(body),".img");

37177 
	gnfûe
 = 
cimg
::
f›í
(
body
,"rb");

37178 } i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"img")) {

37179 
	gnfûe
 = 
cimg
::
f›í
(
fûíame
,"rb");

37180 
	g°d
::
•rötf
(
body
 + 
°d
::
°æí
(body),".hdr");

37181 
	gnfûe_hódî
 = 
cimg
::
f›í
(
body
,"rb");

37182 } 
	gnfûe_hódî
 = 
nfûe
 = 
cimg
::
f›í
(
fûíame
,"rb");

37183 } 
	gnfûe_hódî
 = 
nfûe
 = 
fûe
;

37184 i‡(!
	gnfûe
 || !
	gnfûe_hódî
)

37185 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37187 
cimg_ö°™˚
,

37188 
fûíame
?filename:"(FILE*)");

37191 
boﬁ
 
	gídün
 = 
Ál£
;

37192 
	ghódî_size
;

37193 
	gcimg
::
‰ód
(&
hódî_size
,1,
nfûe_hódî
);

37194 i‡(!
	ghódî_size
)

37195 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37197 
cimg_ö°™˚
,

37198 
fûíame
?filename:"(FILE*)");

37200 i‡(
	ghódî_size
>=4096Ë{ 
ídün
 = 
åue
; 
	gcimg
::
övît_ídü¬ess
(
hódî_size
); }

37201 *c⁄° 
	ghódî
 = 
√w
 [
hódî_size
];

37202 
	gcimg
::
‰ód
(
hódî
+4,
hódî_size
-4,
nfûe_hódî
);

37203 i‡(!
	gfûe
 && 
	gnfûe_hódî
!=
nfûe
Ë
cimg
::
f˛o£
(
nfûe_hódî
);

37204 i‡(
	gídün
) {

37205 
	gcimg
::
övît_ídü¬ess
((*)(
hódî
+40),5);

37206 
	gcimg
::
övît_ídü¬ess
((*)(
hódî
+70),1);

37207 
	gcimg
::
övît_ídü¬ess
((*)(
hódî
+72),1);

37208 
	gcimg
::
övît_ídü¬ess
((*)(
hódî
+76),4);

37209 
	gcimg
::
övît_ídü¬ess
((*)(
hódî
+112),1);

37211 *
	gdim
 = (*)(
hódî
+40), 
	gdimx
 = 1, 
	gdimy
 = 1, 
	gdimz
 = 1, 
	gdimv
 = 1;

37212 i‡(!
	gdim
[0])

37213 
	gcimg
::
w¨n
(
_cimg_ö°™˚


37215 
cimg_ö°™˚
,

37216 
fûíame
?filename:"(FILE*)");

37218 i‡(
	gdim
[0]>4)

37219 
	gcimg
::
w¨n
(
_cimg_ö°™˚


37221 
cimg_ö°™˚
,

37222 
fûíame
?fûíame:"(FILE*)",
dim
[0]);

37224 i‡(
	gdim
[0]>=1Ë
dimx
 = 
dim
[1];

37225 i‡(
	gdim
[0]>=2Ë
dimy
 = 
dim
[2];

37226 i‡(
	gdim
[0]>=3Ë
dimz
 = 
dim
[3];

37227 i‡(
	gdim
[0]>=4Ë
dimv
 = 
dim
[4];

37228 
	gsˇÀÁ˘‹
 = *(*)(
hódî
+112); i‡(sˇÀÁ˘‹==0Ë
sˇÀÁ˘‹
=1;

37229 c⁄° 
	gd©©y≥
 = *(*)(
hódî
+70);

37230 i‡(
	gvoxñ_size
) {

37231 c⁄° *
	gvsize
 = (*)(
hódî
+76);

37232 
	gvoxñ_size
[0] = 
vsize
[1]; voxel_size[1] = vsize[2]; voxel_size[2] = vsize[3];

37234 
	gdñëe
[] 
	ghódî
;

37237 
assign
(
dimx
,
dimy
,
dimz
,
dimv
);

37238 
	gd©©y≥
) {

37240 *c⁄° 
buf„r
 = 
√w
 [
dimx
*
dimy
*
dimz
*
dimv
];

37241 
	gcimg
::
‰ód
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
,
nfûe
);

37242 
cimg_f‹off
(*
this
,
off
Ë
	g_d©a
[off] = (
T
)(
buf„r
[off]*
sˇÀÁ˘‹
);

37243 
	gdñëe
[] 
	gbuf„r
;

37246 *c⁄° 
buf„r
 = 
√w
 [
dimx
*
dimy
*
dimz
*
dimv
];

37247 
	gcimg
::
‰ód
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
,
nfûe
);

37248 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
);

37249 
cimg_f‹off
(*
this
,
off
Ë
	g_d©a
[off] = (
T
)(
buf„r
[off]*
sˇÀÁ˘‹
);

37250 
	gdñëe
[] 
	gbuf„r
;

37253 *c⁄° 
buf„r
 = 
√w
 [
dimx
*
dimy
*
dimz
*
dimv
];

37254 
	gcimg
::
‰ód
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
,
nfûe
);

37255 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
);

37256 
cimg_f‹off
(*
this
,
off
Ë
	g_d©a
[off] = (
T
)(
buf„r
[off]*
sˇÀÁ˘‹
);

37257 
	gdñëe
[] 
	gbuf„r
;

37260 *c⁄° 
buf„r
 = 
√w
 [
dimx
*
dimy
*
dimz
*
dimv
];

37261 
	gcimg
::
‰ód
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
,
nfûe
);

37262 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
);

37263 
cimg_f‹off
(*
this
,
off
Ë
	g_d©a
[off] = (
T
)(
buf„r
[off]*
sˇÀÁ˘‹
);

37264 
	gdñëe
[] 
	gbuf„r
;

37267 *c⁄° 
buf„r
 = 
√w
 [
dimx
*
dimy
*
dimz
*
dimv
];

37268 
	gcimg
::
‰ód
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
,
nfûe
);

37269 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
dimx
*
dimy
*
dimz
*
dimv
);

37270 
cimg_f‹off
(*
this
,
off
Ë
	g_d©a
[off] = (
T
)(
buf„r
[off]*
sˇÀÁ˘‹
);

37271 
	gdñëe
[] 
	gbuf„r
;

37274 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

37275 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37277 
cimg_ö°™˚
,

37278 
d©©y≥
,
fûíame
?filename:"(FILE*)");

37280 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

37281  *
	gthis
;

37290 
	gCImg
<
	gT
>& 
lﬂd_cimg
(c⁄° *c⁄° 
fûíame
, c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37291 
CImgLi°
<
T
> 
li°
;

37292 
	gli°
.
lﬂd_cimg
(
fûíame
);

37293 i‡(
	gli°
.
	g_width
==1Ë 
li°
[0].
move_to
(*
this
);

37294  
assign
(
li°
.
gë_≠≥nd
(
axis
,
Æign
));

37298 
	gCImg
<
	gT
> 
gë_lﬂd_cimg
(c⁄° *c⁄° 
fûíame
, c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37299  
CImg
<
T
>().
lﬂd_cimg
(
fûíame
,
axis
,
Æign
);

37303 
	gCImg
<
	gT
>& 
lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37304 
CImgLi°
<
T
> 
li°
;

37305 
	gli°
.
lﬂd_cimg
(
fûe
);

37306 i‡(
	gli°
.
	g_width
==1Ë 
li°
[0].
move_to
(*
this
);

37307  
assign
(
li°
.
gë_≠≥nd
(
axis
,
Æign
));

37311 
	gCImg
<
	gT
> 
gë_lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37312  
CImg
<
T
>().
lﬂd_cimg
(
fûe
,
axis
,
Æign
);

37331 
	gCImg
<
	gT
>& 
lﬂd_cimg
(c⁄° *c⁄° 
fûíame
,

37332 c⁄° 
n0
, c⁄° 
n1
,

37333 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

37334 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
,

37335 c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37336 
CImgLi°
<
T
> 
li°
;

37337 
	gli°
.
lﬂd_cimg
(
fûíame
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

37338 i‡(
	gli°
.
	g_width
==1Ë 
li°
[0].
move_to
(*
this
);

37339  
assign
(
li°
.
gë_≠≥nd
(
axis
,
Æign
));

37343 
	gCImg
<
	gT
> 
gë_lﬂd_cimg
(c⁄° *c⁄° 
fûíame
,

37344 c⁄° 
n0
, c⁄° 
n1
,

37345 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

37346 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
,

37347 c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37348  
CImg
<
T
>().
lﬂd_cimg
(
fûíame
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
axis
,
Æign
);

37352 
	gCImg
<
	gT
>& 
lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
,

37353 c⁄° 
n0
, c⁄° 
n1
,

37354 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

37355 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
,

37356 c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37357 
CImgLi°
<
T
> 
li°
;

37358 
	gli°
.
lﬂd_cimg
(
fûe
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

37359 i‡(
	gli°
.
	g_width
==1Ë 
li°
[0].
move_to
(*
this
);

37360  
assign
(
li°
.
gë_≠≥nd
(
axis
,
Æign
));

37364 
	gCImg
<
	gT
> 
gë_lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
,

37365 c⁄° 
n0
, c⁄° 
n1
,

37366 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

37367 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
,

37368 c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37369  
CImg
<
T
>().
lﬂd_cimg
(
fûe
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
,
axis
,
Æign
);

37377 
	gCImg
<
	gT
>& 
lﬂd_ör
(c⁄° *c⁄° 
fûíame
, *c⁄° 
voxñ_size
=0) {

37378  
_lﬂd_ör
(0,
fûíame
,
voxñ_size
);

37382 
	gCImg
<
	gT
> 
gë_lﬂd_ör
(c⁄° *c⁄° 
fûíame
, *c⁄° 
voxñ_size
=0) {

37383  
CImg
<
T
>().
lﬂd_ör
(
fûíame
,
voxñ_size
);

37387 
	gCImg
<
	gT
>& 
lﬂd_ör
(
°d
::
FILE
 *c⁄° 
fûe
, *c⁄° 
voxñ_size
=0) {

37388  
_lﬂd_ör
(
fûe
,0,
voxñ_size
);

37392 
	gCImg
<
	gT
> 
gë_lﬂd_ör
(
°d
::
FILE
 *c⁄° 
fûe
, *
voxñ_size
=0) {

37393  
CImg
<
T
>().
lﬂd_ör
(
fûe
,
voxñ_size
);

37396 
_lﬂd_ör_hódî
(
°d
::
FILE
 *
fûe
, 
out
[8], *c⁄° 
voxñ_size
) {

37397 
	gôem
[1024] = { 0 }, 
	gtmp1
[64] = { 0 }, 
	gtmp2
[64] = { 0 };

37398 
	gout
[0] = 
°d
::
fsˇnf
(
fûe
,"%63s",
ôem
);

37399 
	gout
[0] = 
out
[1] = out[2] = out[3] = out[5] = 1; out[4] = out[6] = out[7] = -1;

37400 if(
	gcimg
::
°∫ˇ£cmp
(
ôem
,"#INRIMAGE-4#{",13)!=0)

37401 
throw
 
CImgIOEx˚±i⁄
("CImg<%s>::load_inr(): INRIMAGE-4 headerÇot found.",

37402 
pixñ_ty≥
());

37404 
	g°d
::
fsˇnf
(
fûe
," %63[^\n]%*c",
ôem
)!=
EOF
 && 
°d
::
°∫cmp
(item,"##}",3)) {

37405 
	g°d
::
ssˇnf
(
ôem
," XDIM%*[^0-9]%d",
out
);

37406 
	g°d
::
ssˇnf
(
ôem
," YDIM%*[^0-9]%d",
out
+1);

37407 
	g°d
::
ssˇnf
(
ôem
," ZDIM%*[^0-9]%d",
out
+2);

37408 
	g°d
::
ssˇnf
(
ôem
," VDIM%*[^0-9]%d",
out
+3);

37409 
	g°d
::
ssˇnf
(
ôem
," PIXSIZE%*[^0-9]%d",
out
+6);

37410 i‡(
	gvoxñ_size
) {

37411 
	g°d
::
ssˇnf
(
ôem
," VX%*[^0-9.+-]%f",
voxñ_size
);

37412 
	g°d
::
ssˇnf
(
ôem
," VY%*[^0-9.+-]%f",
voxñ_size
+1);

37413 
	g°d
::
ssˇnf
(
ôem
," VZ%*[^0-9.+-]%f",
voxñ_size
+2);

37415 i‡(
	g°d
::
ssˇnf
(
ôem
," CPU%*[ =]%s",
tmp1
)Ë
	gout
[7]=
cimg
::
°∫ˇ£cmp
(tmp1,"sun",3)?0:1;

37416 
	g°d
::
ssˇnf
(
ôem
," TYPE%*[ =]%†%s",
tmp1
,
tmp2
)) {

37418 2 : 
out
[5] = 
cimg
::
°∫ˇ£cmp
(
tmp1
,"unsig√d",8)?1:0; 
	g°d
::
°∫˝y
—mp1,
tmp2
,(tmp1)-1);

37420 i‡(!
cimg
::
°∫ˇ£cmp
(
tmp1
,"öt",3Ë|| !
	gcimg
::°∫ˇ£cmp—mp1,"fixed",5)Ë
	gout
[4] = 0;

37421 i‡(!
	gcimg
::
°∫ˇ£cmp
(
tmp1
,"Êﬂt",5Ë|| !cimg::°∫ˇ£cmp—mp1,"doubÀ",6)Ë
	gout
[4] = 1;

37422 i‡(!
	gcimg
::
°∫ˇ£cmp
(
tmp1
,"∑cked",6)Ë
	gout
[4] = 2;

37423 i‡(
	gout
[4]>=0) ;

37425 
throw
 
CImgIOEx˚±i⁄
("CImg<%s>::load_inr(): InvalidÖixelÅype '%s' defined in header.",

37426 
pixñ_ty≥
(),

37427 
tmp2
);

37430 if(
	gout
[0]<0 || out[1]<0 || out[2]<0 || out[3]<0)

37431 
throw
 
CImgIOEx˚±i⁄
("CImg<%s>::load_inr(): Invalid dimensions (%d,%d,%d,%d) defined in header.",

37432 
pixñ_ty≥
(),

37433 
out
[0],out[1],out[2],out[3]);

37434 if(
	gout
[4]<0 || out[5]<0)

37435 
throw
 
CImgIOEx˚±i⁄
("CImg<%s>::load_inr(): IncompleteÖixelÅype defined in header.",

37436 
pixñ_ty≥
());

37437 if(
	gout
[6]<0)

37438 
throw
 
CImgIOEx˚±i⁄
("CImg<%s>::load_inr(): Incomplete PIXSIZE field defined in header.",

37439 
pixñ_ty≥
());

37440 if(
	gout
[7]<0)

37441 
throw
 
CImgIOEx˚±i⁄
("CImg<%s>::load_inr(): Big/Little Endian codingÅype undefined in header.",

37442 
pixñ_ty≥
());

37445 
	gCImg
<
	gT
>& 
_lﬂd_ör
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, *c⁄° 
voxñ_size
) {

37446 
	#_cimg_lﬂd_ör_ˇ£
(
Tf
,
sign
,
pixsize
,
Ts
) \

37447 i‡(!
lﬂded
 && 
f›t
[6]==
pixsize
 && f›t[4]==
Tf
 && f›t[5]==
sign
) { \

37448 
Ts
 *
xvÆ
, *c⁄° 
vÆ
 = 
√w
 Ts[
f›t
[0]*fopt[3]]; \

37449 
	`cimg_f‹YZ
(*
this
,
y
,
z
) { \

37450 
cimg
::
	`‰ód
(
vÆ
,
f›t
[0]*f›t[3],
nfûe
); \

37451 i‡(
f›t
[7]!=
ídün
Ë
cimg
::
	`övît_ídü¬ess
(
vÆ
,fopt[0]*fopt[3]); \

37452 
xvÆ
 = 
vÆ
; 
	`cimg_f‹X
(*
this
,
x
Ë
	`cimg_f‹C
(*this,
c
Ë(*this)(x,
y
,
z
,cË(
T
)*(xval++); \

37454 
dñëe
[] 
vÆ
; \

37455 
lﬂded
 = 
åue
; \

37456 }

	)

37458 i‡(!
	gfûe
 && !
	gfûíame
)

37459 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


37461 
cimg_ö°™˚
);

37463 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

37464 
	gf›t
[8], 
	gídün
=
cimg
::
ídü¬ess
()?1:0;

37465 
boﬁ
 
	glﬂded
 = 
Ál£
;

37466 i‡(
	gvoxñ_size
Ëvoxñ_size[0] = 
voxñ_size
[1] = voxel_size[2] = 1;

37467 
_lﬂd_ör_hódî
(
nfûe
,
f›t
,
voxñ_size
);

37468 
assign
(
f›t
[0],fopt[1],fopt[2],fopt[3]);

37469 
_cimg_lﬂd_ör_ˇ£
(0,0,8,);

37470 
_cimg_lﬂd_ör_ˇ£
(0,1,8,);

37471 
_cimg_lﬂd_ör_ˇ£
(0,0,16,);

37472 
_cimg_lﬂd_ör_ˇ£
(0,1,16,);

37473 
_cimg_lﬂd_ör_ˇ£
(0,0,32,);

37474 
_cimg_lﬂd_ör_ˇ£
(0,1,32,);

37475 
_cimg_lﬂd_ör_ˇ£
(1,0,32,);

37476 
_cimg_lﬂd_ör_ˇ£
(1,1,32,);

37477 
_cimg_lﬂd_ör_ˇ£
(1,0,64,);

37478 
_cimg_lﬂd_ör_ˇ£
(1,1,64,);

37479 i‡(!
	glﬂded
) {

37480 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

37481 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37483 
cimg_ö°™˚
,

37484 
fûíame
?filename:"(FILE*)");

37486 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

37487  *
	gthis
;

37494 
	gCImg
<
	gT
>& 
lﬂd_exr
(c⁄° *c⁄° 
fûíame
) {

37495 i‡(!
	gfûíame
)

37496 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


37498 
cimg_ö°™˚
);

37500 #i‚de‡
cimg_u£_›íexr


37501  
lﬂd_Ÿhî
(
fûíame
);

37503 
	gImf
::
RgbaI≈utFûe
 
fûe
(
fûíame
);

37504 
	gIm©h
::
Box2i
 
dw
 = 
fûe
.
d©aWödow
();

37506 
	göwidth
 = 
dw
.
max
.
x
 - dw.
mö
.x + 1,

37507 
	göheight
 = 
dw
.
max
.
y
 - dw.
mö
.y + 1;

37508 
	gImf
::
Aºay2D
<
Imf
::
Rgba
> 
pixñs
;

37509 
	gpixñs
.
ªsizeEø£
(
öheight
,
öwidth
);

37510 
	gfûe
.
£tFømeBuf„r
(&
pixñs
[0][0] - 
dw
.
mö
.
x
 - dw.mö.
y
*
öwidth
, 1, inwidth);

37511 
	gfûe
.
ªadPixñs
(
dw
.
mö
.
y
, dw.
max
.y);

37512 
assign
(
öwidth
,
öheight
,1,4);

37513 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *
	g±r_a
 = data(0,0,0,3);

37514 
cimg_f‹XY
(*
this
,
x
,
y
) {

37515 *(
	g±r_r
++Ë(
T
)
pixñs
[
y
][
x
].
r
;

37516 *(
	g±r_g
++Ë(
T
)
pixñs
[
y
][
x
].
g
;

37517 *(
	g±r_b
++Ë(
T
)
pixñs
[
y
][
x
].
b
;

37518 *(
	g±r_a
++Ë(
T
)
pixñs
[
y
][
x
].
a
;

37520  *
	gthis
;

37525 
	gCImg
<
	gT
> 
gë_lﬂd_exr
(c⁄° *c⁄° 
fûíame
) {

37526  
	gCImg
<
	gT
>().
lﬂd_exr
(
fûíame
);

37533 
	gCImg
<
	gT
>& 
lﬂd_∑nd‹e
(c⁄° *c⁄° 
fûíame
) {

37534  
_lﬂd_∑nd‹e
(0,
fûíame
);

37538 
	gCImg
<
	gT
> 
gë_lﬂd_∑nd‹e
(c⁄° *c⁄° 
fûíame
) {

37539  
	gCImg
<
	gT
>().
lﬂd_∑nd‹e
(
fûíame
);

37543 
	gCImg
<
	gT
>& 
lﬂd_∑nd‹e
(
°d
::
FILE
 *c⁄° 
fûe
) {

37544  
_lﬂd_∑nd‹e
(
fûe
,0);

37548 
	gCImg
<
	gT
> 
gë_lﬂd_∑nd‹e
(
°d
::
FILE
 *c⁄° 
fûe
) {

37549  
CImg
<
T
>().
lﬂd_∑nd‹e
(
fûe
);

37552 
	gCImg
<
	gT
>& 
_lﬂd_∑nd‹e
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

37553 
	#__cimg_lﬂd_∑nd‹e_ˇ£
(
nbdim
,
nwidth
,
nheight
,
ndïth
,
ndim
,
°y≥
) \

37554 
cimg
::
	`‰ód
(
dims
,
nbdim
,
nfûe
); \

37555 i‡(
ídün
Ë
cimg
::
	`övît_ídü¬ess
(
dims
,
nbdim
); \

37556 
	`assign
(
nwidth
,
nheight
,
ndïth
,
ndim
); \

37557 c⁄° 
siz
 = 
	`size
(); \

37558 
°y≥
 *
buf„r
 = 
√w
 sty≥[
siz
]; \

37559 
cimg
::
	`‰ód
(
buf„r
,
siz
,
nfûe
); \

37560 i‡(
ídün
Ë
cimg
::
	`övît_ídü¬ess
(
buf„r
,
siz
); \

37561 
T
 *
±rd
 = 
_d©a
; \

37562 
	`cimg_f‹off
(*
this
,
off
Ë*(
±rd
++Ë(
T
)*(
buf„r
++); \

37563 
buf„r
-=
siz
; \

37564 
dñëe
[] 
buf„r


	)

37566 
	#_cimg_lﬂd_∑nd‹e_ˇ£
(
nbdim
,
nwidth
,
nheight
,
ndïth
,
dim
,
°y≥1
,
°y≥2
,
°y≥3
,
…y≥
) { \

37567 i‡((
°y≥1
)==
…y≥
Ë{ 
	`__cimg_lﬂd_∑nd‹e_ˇ£
(
nbdim
,
nwidth
,
nheight
,
ndïth
,
dim
,stype1); } \

37568 i‡((
°y≥2
)==
…y≥
Ë{ 
	`__cimg_lﬂd_∑nd‹e_ˇ£
(
nbdim
,
nwidth
,
nheight
,
ndïth
,
dim
,stype2); } \

37569 i‡((
°y≥3
)==
…y≥
Ë{ 
	`__cimg_lﬂd_∑nd‹e_ˇ£
(
nbdim
,
nwidth
,
nheight
,
ndïth
,
dim
,stype3); } \

37570 
throw
 
	`CImgIOEx˚±i⁄
(
_cimg_ö°™˚
 \

37572 
cimg_ö°™˚
, \

37573 
fûíame
?fûíame:"(FILE*)"); }

	)

37575 i‡(!
	gfûe
 && !
	gfûíame
)

37576 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


37578 
cimg_ö°™˚
);

37580 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

37581 
	ghódî
[32] = { 0 };

37582 
	gcimg
::
‰ód
(
hódî
,12,
nfûe
);

37583 i‡(
	gcimg
::
°∫ˇ£cmp
("PANDORE",
hódî
,7)) {

37584 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

37585 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37587 
cimg_ö°™˚
,

37588 
fûíame
?filename:"(FILE*)");

37590 
	gimageid
, 
	gdims
[8] = { 0 };

37591 
	gcimg
::
‰ód
(&
imageid
,1,
nfûe
);

37592 c⁄° 
boﬁ
 
	gídün
 = (
imageid
>255);

37593 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
imageid
);

37594 
	gcimg
::
‰ód
(
hódî
,20,
nfûe
);

37596 
	gimageid
) {

37597 2: 
_cimg_lﬂd_∑nd‹e_ˇ£
(2,
dims
[1],1,1,1,,,,1); ;

37598 3: 
_cimg_lﬂd_∑nd‹e_ˇ£
(2,
dims
[1],1,1,1,,,,4); ;

37599 4: 
_cimg_lﬂd_∑nd‹e_ˇ£
(2,
dims
[1],1,1,1,,,,4); ;

37600 5: 
_cimg_lﬂd_∑nd‹e_ˇ£
(3,
dims
[2],dims[1],1,1,,,,1); ;

37601 6: 
_cimg_lﬂd_∑nd‹e_ˇ£
(3,
dims
[2],dims[1],1,1,,,,4); ;

37602 7: 
_cimg_lﬂd_∑nd‹e_ˇ£
(3,
dims
[2],dims[1],1,1,,,,4); ;

37603 8: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[3],dims[2],dims[1],1,,,,1); ;

37604 9: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[3],dims[2],dims[1],1,,,,4); ;

37605 10: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[3],dims[2],dims[1],1,,,,4); ;

37607 
cimg
::
‰ód
(
dims
,3,
nfûe
);

37608 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
dims
,3);

37609 
assign
(
dims
[1],1,1,1);

37610 c⁄° 
	gsiz
 = 
size
();

37611 i‡(
	gdims
[2]<256) {

37612 *
	gbuf„r
 = 
√w
 [
siz
];

37613 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37614 
T
 *
	g±rd
 = 
_d©a
;

37615 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37616 
	gbuf„r
-=
siz
;

37617 
	gdñëe
[] 
	gbuf„r
;

37619 i‡(
	gdims
[2]<65536) {

37620 *
	gbuf„r
 = 
√w
 [
siz
];

37621 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37622 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
siz
);

37623 
T
 *
	g±rd
 = 
_d©a
;

37624 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37625 
	gbuf„r
-=
siz
;

37626 
	gdñëe
[] 
	gbuf„r
;

37628 *
	gbuf„r
 = 
√w
 [
siz
];

37629 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37630 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
siz
);

37631 
T
 *
	g±rd
 = 
_d©a
;

37632 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37633 
	gbuf„r
-=
siz
;

37634 
	gdñëe
[] 
	gbuf„r
;

37640 
cimg
::
‰ód
(
dims
,4,
nfûe
);

37641 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
dims
,4);

37642 
assign
(
dims
[2],dims[1],1,1);

37643 c⁄° 
	gsiz
 = 
size
();

37644 i‡(
	gdims
[3]<256) {

37645 *
	gbuf„r
 = 
√w
 [
siz
];

37646 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37647 
T
 *
	g±rd
 = 
_d©a
;

37648 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37649 
	gbuf„r
-=
siz
;

37650 
	gdñëe
[] 
	gbuf„r
;

37652 i‡(
	gdims
[3]<65536) {

37653 *
	gbuf„r
 = 
√w
 [
siz
];

37654 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37655 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
siz
);

37656 
T
 *
	g±rd
 = 
_d©a
;

37657 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37658 
	gbuf„r
-=
siz
;

37659 
	gdñëe
[] 
	gbuf„r
;

37661 *
	gbuf„r
 = 
√w
 [
siz
];

37662 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37663 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
siz
);

37664 
T
 *
	g±rd
 = 
_d©a
;

37665 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37666 
	gbuf„r
-=
siz
;

37667 
	gdñëe
[] 
	gbuf„r
;

37673 
cimg
::
‰ód
(
dims
,5,
nfûe
);

37674 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
dims
,5);

37675 
assign
(
dims
[3],dims[2],dims[1],1);

37676 c⁄° 
	gsiz
 = 
size
();

37677 i‡(
	gdims
[4]<256) {

37678 *
	gbuf„r
 = 
√w
 [
siz
];

37679 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37680 
T
 *
	g±rd
 = 
_d©a
;

37681 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37682 
	gbuf„r
-=
siz
;

37683 
	gdñëe
[] 
	gbuf„r
;

37685 i‡(
	gdims
[4]<65536) {

37686 *
	gbuf„r
 = 
√w
 [
siz
];

37687 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37688 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
siz
);

37689 
T
 *
	g±rd
 = 
_d©a
;

37690 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37691 
	gbuf„r
-=
siz
;

37692 
	gdñëe
[] 
	gbuf„r
;

37694 *
	gbuf„r
 = 
√w
 [
siz
];

37695 
	gcimg
::
‰ód
(
buf„r
,
siz
,
nfûe
);

37696 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
buf„r
,
siz
);

37697 
T
 *
	g±rd
 = 
_d©a
;

37698 
cimg_f‹off
(*
this
,
off
Ë*(
	g±rd
++Ë(
T
)*(
buf„r
++);

37699 
	gbuf„r
-=
siz
;

37700 
	gdñëe
[] 
	gbuf„r
;

37705 16: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[2],dims[1],1,3,,,,1); ;

37706 17: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[2],dims[1],1,3,,,,4); ;

37707 18: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[2],dims[1],1,3,,,,4); ;

37708 19: 
_cimg_lﬂd_∑nd‹e_ˇ£
(5,
dims
[3],dims[2],dims[1],3,,,,1); ;

37709 20: 
_cimg_lﬂd_∑nd‹e_ˇ£
(5,
dims
[3],dims[2],dims[1],3,,,,4); ;

37710 21: 
_cimg_lﬂd_∑nd‹e_ˇ£
(5,
dims
[3],dims[2],dims[1],3,,,,4); ;

37711 22: 
_cimg_lﬂd_∑nd‹e_ˇ£
(2,
dims
[1],1,1,dims[0],,,,1); ;

37712 23: 
_cimg_lﬂd_∑nd‹e_ˇ£
(2,
dims
[1],1,1,dims[0],,,,4);

37713 24: 
_cimg_lﬂd_∑nd‹e_ˇ£
(2,
dims
[1],1,1,dims[0],,,,4); ;

37714 25: 
_cimg_lﬂd_∑nd‹e_ˇ£
(2,
dims
[1],1,1,dims[0],,,,4); ;

37715 26: 
_cimg_lﬂd_∑nd‹e_ˇ£
(3,
dims
[2],dims[1],1,dims[0],,,,1); ;

37716 27: 
_cimg_lﬂd_∑nd‹e_ˇ£
(3,
dims
[2],dims[1],1,dims[0],,,,4); ;

37717 28: 
_cimg_lﬂd_∑nd‹e_ˇ£
(3,
dims
[2],dims[1],1,dims[0],,,,4); ;

37718 29: 
_cimg_lﬂd_∑nd‹e_ˇ£
(3,
dims
[2],dims[1],1,dims[0],,,,4); ;

37719 30: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[3],dims[2],dims[1],dims[0],,,,1); ;

37720 31: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[3],dims[2],dims[1],dims[0],,,,4); ;

37721 32: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[3],dims[2],dims[1],dims[0],,,,4); ;

37722 33: 
_cimg_lﬂd_∑nd‹e_ˇ£
(4,
dims
[3],dims[2],dims[1],dims[0],,,,4); ;

37724 
±buf
[4] = { 0 };

37725 
	gcimg
::
‰ód
(
±buf
,1,
nfûe
);

37726 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
±buf
,1);

37727 
assign
(1); (*
	gthis
)(0Ë(
T
)
±buf
[0];

37730 
±buf
[4] = { 0 };

37731 
	gcimg
::
‰ód
(
±buf
,2,
nfûe
);

37732 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
±buf
,2);

37733 
assign
(2); (*
	gthis
)(0Ë(
T
)
±buf
[1]; (*this)(1) = (T)ptbuf[0];

37736 
±buf
[4] = { 0 };

37737 
	gcimg
::
‰ód
(
±buf
,3,
nfûe
);

37738 i‡(
	gídün
Ë
	gcimg
::
övît_ídü¬ess
(
±buf
,3);

37739 
assign
(3); (*
	gthis
)(0Ë(
T
)
±buf
[2]; (*this)(1) = (T)ptbuf[1]; (*this)(2) = (T)ptbuf[0];

37742 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

37743 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37745 
cimg_ö°™˚
,

37746 
imageid
,
fûíame
?filename:"(FILE*)");

37748 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

37749  *
	gthis
;

37758 
	gCImg
<
	gT
>& 
lﬂd_∑ºec
(c⁄° *c⁄° 
fûíame
, c⁄° 
axis
='c', c⁄° 
Æign
=0) {

37759 
CImgLi°
<
T
> 
li°
;

37760 
	gli°
.
lﬂd_∑ºec
(
fûíame
);

37761 i‡(
	gli°
.
	g_width
==1Ë 
li°
[0].
move_to
(*
this
);

37762  
assign
(
li°
.
gë_≠≥nd
(
axis
,
Æign
));

37766 
	gCImg
<
	gT
> 
gë_lﬂd_∑ºec
(c⁄° *c⁄° 
fûíame
, c⁄° 
axis
='c', c⁄° 
Æign
=0) {

37767  
CImg
<
T
>().
lﬂd_∑ºec
(
fûíame
,
axis
,
Æign
);

37781 
	gCImg
<
	gT
>& 
lﬂd_øw
(c⁄° *c⁄° 
fûíame
,

37782 c⁄° 
size_x
=0, c⁄° 
size_y
=1,

37783 c⁄° 
size_z
=1, c⁄° 
size_c
=1,

37784 c⁄° 
boﬁ
 
is_mu…ùÀxed
=
Ál£
, c⁄° boﬁ 
övît_ídü¬ess
=false,

37785 c⁄° 
off£t
=0) {

37786  
_lﬂd_øw
(0,
fûíame
,
size_x
,
size_y
,
size_z
,
size_c
,
is_mu…ùÀxed
,
övît_ídü¬ess
,
off£t
);

37790 
	gCImg
<
	gT
> 
gë_lﬂd_øw
(c⁄° *c⁄° 
fûíame
,

37791 c⁄° 
size_x
=0, c⁄° 
size_y
=1,

37792 c⁄° 
size_z
=1, c⁄° 
size_c
=1,

37793 c⁄° 
boﬁ
 
is_mu…ùÀxed
=
Ál£
, c⁄° boﬁ 
övît_ídü¬ess
=false,

37794 c⁄° 
off£t
=0) {

37795  
CImg
<
T
>().
lﬂd_øw
(
fûíame
,
size_x
,
size_y
,
size_z
,
size_c
,
is_mu…ùÀxed
,
övît_ídü¬ess
,
off£t
);

37799 
	gCImg
<
	gT
>& 
lﬂd_øw
(
°d
::
FILE
 *c⁄° 
fûe
,

37800 c⁄° 
size_x
=0, c⁄° 
size_y
=1,

37801 c⁄° 
size_z
=1, c⁄° 
size_c
=1,

37802 c⁄° 
boﬁ
 
is_mu…ùÀxed
=
Ál£
, c⁄° boﬁ 
övît_ídü¬ess
=false,

37803 c⁄° 
off£t
=0) {

37804  
_lﬂd_øw
(
fûe
,0,
size_x
,
size_y
,
size_z
,
size_c
,
is_mu…ùÀxed
,
övît_ídü¬ess
,
off£t
);

37808 
	gCImg
<
	gT
> 
gë_lﬂd_øw
(
°d
::
FILE
 *c⁄° 
fûe
,

37809 c⁄° 
size_x
=0, c⁄° 
size_y
=1,

37810 c⁄° 
size_z
=1, c⁄° 
size_c
=1,

37811 c⁄° 
boﬁ
 
is_mu…ùÀxed
=
Ál£
, c⁄° boﬁ 
övît_ídü¬ess
=false,

37812 c⁄° 
off£t
=0) {

37813  
CImg
<
T
>().
lﬂd_øw
(
fûe
,
size_x
,
size_y
,
size_z
,
size_c
,
is_mu…ùÀxed
,
övît_ídü¬ess
,
off£t
);

37816 
	gCImg
<
	gT
>& 
_lﬂd_øw
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
,

37817 c⁄° 
size_x
, c⁄° 
size_y
,

37818 c⁄° 
size_z
, c⁄° 
size_c
,

37819 c⁄° 
boﬁ
 
is_mu…ùÀxed
, c⁄° boﬁ 
övît_ídü¬ess
,

37820 c⁄° 
off£t
) {

37821 i‡(!
	gfûe
 && !
	gfûíame
)

37822 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


37824 
cimg_ö°™˚
);

37825 
	gsiz
 = 
size_x
*
size_y
*
size_z
*
size_c
, 
	g_size_x
 = size_x, 
	g_size_y
 = size_y, 
	g_size_z
 = size_z, 
	g_size_c
 = size_c;

37826 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

37827 i‡(!
	gsiz
) {

37828 c⁄° 
	gÂos
 = 
°d
::
·ñl
(
nfûe
);

37829 i‡(
	gÂos
<0Ë
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


37831 
cimg_ö°™˚
,
fûíame
?filename:"(FILE*)");

37832 
	g°d
::
f£ek
(
nfûe
,0,
SEEK_END
);

37833 
	gsiz
 = 
_size_y
 = ()
°d
::
·ñl
(
nfûe
)/(
T
);

37834 
	g_size_x
 = 
_size_z
 = 
_size_c
 = 1;

37835 
	g°d
::
f£ek
(
nfûe
,
Âos
,
SEEK_SET
);

37837 
	g°d
::
f£ek
(
nfûe
,()
off£t
,
SEEK_SET
);

37838 
assign
(
_size_x
,
_size_y
,
_size_z
,
_size_c
,0);

37839 i‡(!
	gis_mu…ùÀxed
 || 
	gsize_c
==1) {

37840 
cimg
::
‰ód
(
_d©a
,
siz
,
nfûe
);

37841 i‡(
	gövît_ídü¬ess
Ë
	gcimg
::
övît_ídü¬ess
(
_d©a
,
siz
);

37843 
	gCImg
<
	gT
> 
buf
(1,1,1,
_size_c
);

37844 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

37845 
	gcimg
::
‰ód
(
buf
.
_d©a
,
_size_c
,
nfûe
);

37846 i‡(
	gövît_ídü¬ess
Ë
	gcimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
_size_c
);

37847 
£t_ve˘‹_©
(
buf
,
x
,
y
,
z
);

37850 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

37851  *
	gthis
;

37865 
	gCImg
<
	gT
>& 
lﬂd_ffm≥g
(c⁄° *c⁄° 
fûíame
, c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

37866 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
pixñ_f‹m©
=
åue
, c⁄° boﬁ 
ªsume
=
Ál£
,

37867 c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37868  
gë_lﬂd_ffm≥g
(
fûíame
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
pixñ_f‹m©
,
ªsume
,
axis
,
Æign
).
move_to
(*
this
);

37872 
	gCImg
<
	gT
> 
gë_lﬂd_ffm≥g
(c⁄° *c⁄° 
fûíame
, c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

37873 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
pixñ_f‹m©
=
åue
, c⁄° boﬁ 
ªsume
=
Ál£
,

37874 c⁄° 
axis
='z', c⁄° 
Æign
=0) {

37875  
CImgLi°
<
T
>().
lﬂd_ffm≥g
(
fûíame
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
pixñ_f‹m©
,
ªsume
).
gë_≠≥nd
(
axis
,
Æign
);

37889 
	gCImg
<
	gT
>& 
lﬂd_yuv
(c⁄° *c⁄° 
fûíame
,

37890 c⁄° 
size_x
, c⁄° 
size_y
=1,

37891 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

37892 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
yuv2rgb
=
åue
, c⁄° 
axis
='z') {

37893  
gë_lﬂd_yuv
(
fûíame
,
size_x
,
size_y
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
yuv2rgb
,
axis
).
move_to
(*
this
);

37897 
	gCImg
<
	gT
> 
gë_lﬂd_yuv
(c⁄° *c⁄° 
fûíame
,

37898 c⁄° 
size_x
, c⁄° 
size_y
=1,

37899 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

37900 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
yuv2rgb
=
åue
, c⁄° 
axis
='z') {

37901  
CImgLi°
<
T
>().
lﬂd_yuv
(
fûíame
,
size_x
,
size_y
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
yuv2rgb
).
gë_≠≥nd
(
axis
);

37905 
	gCImg
<
	gT
>& 
lﬂd_yuv
(
°d
::
FILE
 *c⁄° 
fûe
,

37906 c⁄° 
size_x
, c⁄° 
size_y
=1,

37907 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

37908 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
yuv2rgb
=
åue
, c⁄° 
axis
='z') {

37909  
gë_lﬂd_yuv
(
fûe
,
size_x
,
size_y
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
yuv2rgb
,
axis
).
move_to
(*
this
);

37913 
	gCImg
<
	gT
> 
gë_lﬂd_yuv
(
°d
::
FILE
 *c⁄° 
fûe
,

37914 c⁄° 
size_x
, c⁄° 
size_y
=1,

37915 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

37916 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
yuv2rgb
=
åue
, c⁄° 
axis
='z') {

37917  
CImgLi°
<
T
>().
lﬂd_yuv
(
fûe
,
size_x
,
size_y
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
yuv2rgb
).
gë_≠≥nd
(
axis
);

37926 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

37927 
	gCImg
<
	gT
>& 
lﬂd_off
(
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
, c⁄° *c⁄° 
fûíame
) {

37928  
_lﬂd_off
(
¥imôives
,
cﬁ‹s
,0,
fûíame
);

37932 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

37933 
	gCImg
<
	gT
> 
gë_lﬂd_off
(
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
, c⁄° *c⁄° 
fûíame
) {

37934  
	gCImg
<
	gT
>().
lﬂd_off
(
¥imôives
,
cﬁ‹s
,
fûíame
);

37938 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

37939 
	gCImg
<
	gT
>& 
lﬂd_off
(
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
, 
°d
::
FILE
 *c⁄° 
fûe
) {

37940  
_lﬂd_off
(
¥imôives
,
cﬁ‹s
,
fûe
,0);

37944 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

37945 
	gCImg
<
	gT
> 
gë_lﬂd_off
(
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
, 
°d
::
FILE
 *c⁄° 
fûe
) {

37946  
CImg
<
T
>().
lﬂd_off
(
¥imôives
,
cﬁ‹s
,
fûe
);

37949 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

37950 
	gCImg
<
	gT
>& 
_lﬂd_off
(
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
,

37951 
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

37952 i‡(!
	gfûe
 && !
	gfûíame
)

37953 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


37955 
cimg_ö°™˚
);

37957 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"r");

37958 
	gnb_poöts
 = 0, 
	gnb_¥imôives
 = 0, 
	gnb_ªad
 = 0;

37959 
	glöe
[256] = { 0 };

37960 
	gîr
;

37963 dÿ{ 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%255[^\n] ",
löe
); } !err || (err==1 && *line=='#'));

37964 i‡(
	gcimg
::
°∫ˇ£cmp
(
löe
,"OFF",3) && cimg::strncasecmp(line,"COFF",4)) {

37965 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

37966 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37968 
cimg_ö°™˚
,

37969 
fûíame
?filename:"(FILE*)");

37971 dÿ{ 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%255[^\n] ",
löe
); } !err || (err==1 && *line=='#'));

37972 i‡((
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%u%u%*[^\n] ",&
nb_poöts
,&
nb_¥imôives
))!=2) {

37973 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

37974 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37976 
cimg_ö°™˚
,

37977 
fûíame
?filename:"(FILE*)");

37981 
assign
(
nb_poöts
,3);

37982 
	gX
 = 0, 
	gY
 = 0, 
	gZ
 = 0;

37983 
cimg_f‹X
(*
this
,
l
) {

37984 dÿ{ 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%255[^\n] ",
löe
); } !err || (err==1 && *line=='#'));

37985 i‡((
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f%*[^\n] ",&
X
,&
Y
,&
Z
))!=3) {

37986 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

37987 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


37989 
cimg_ö°™˚
,

37990 
l
+1,
nb_poöts
,
fûíame
?filename:"(FILE*)");

37992 (*
	gthis
)(
	gl
,0Ë(
T
)
X
; (*this)÷,1Ë(T)
Y
; (*this)÷,2Ë(T)
Z
;

37996 
	g¥imôives
.
assign
();

37997 
	gcﬁ‹s
.
assign
();

37998 
boﬁ
 
	g°›_Êag
 = 
Ál£
;

37999 !
	g°›_Êag
) {

38000 
	gc0
 = 0.7f, 
	gc1
 = 0.7f, 
	gc2
 = 0.7f;

38001 
	g¥im
 = 0, 
	gi0
 = 0, 
	gi1
 = 0, 
	gi2
 = 0, 
	gi3
 = 0, 
	gi4
 = 0, 
	gi5
 = 0, 
	gi6
 = 0, 
	gi7
 = 0;

38002 *
	glöe
 = 0;

38003 i‡((
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%u",&
¥im
))!=1Ë
°›_Êag
 = 
åue
;

38005 ++
	gnb_ªad
;

38006 
	g¥im
) {

38008 i‡((
îr
 = 
°d
::
fsˇnf
(
nfûe
,"%u%255[^\n] ",&
i0
,
löe
))<2) {

38009 
	gcimg
::
w¨n
(
_cimg_ö°™˚


38011 
cimg_ö°™˚
,

38012 
nb_ªad
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38014 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38016 
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f",&
c0
,&
c1
,&
c2
);

38017 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
).
move_to
(
¥imôives
);

38018 
	gCImg
<
	gtc
>::
ve˘‹
((
tc
)(
c0
*255),—c)(
c1
*255),—c)(
c2
*255)).
move_to
(
cﬁ‹s
);

38022 i‡((
îr
 = 
°d
::
fsˇnf
(
nfûe
,"%u%u%255[^\n] ",&
i0
,&
i1
,
löe
))<2) {

38023 
	gcimg
::
w¨n
(
_cimg_ö°™˚


38025 
cimg_ö°™˚
,

38026 
nb_ªad
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38028 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38030 
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f",&
c0
,&
c1
,&
c2
);

38031 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i1
).
move_to
(
¥imôives
);

38032 
	gCImg
<
	gtc
>::
ve˘‹
((
tc
)(
c0
*255),—c)(
c1
*255),—c)(
c2
*255)).
move_to
(
cﬁ‹s
);

38036 i‡((
îr
 = 
°d
::
fsˇnf
(
nfûe
,"%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,
löe
))<3) {

38037 
	gcimg
::
w¨n
(
_cimg_ö°™˚


38039 
cimg_ö°™˚
,

38040 
nb_ªad
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38042 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38044 
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f",&
c0
,&
c1
,&
c2
);

38045 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i2
,
i1
).
move_to
(
¥imôives
);

38046 
	gCImg
<
	gtc
>::
ve˘‹
((
tc
)(
c0
*255),—c)(
c1
*255),—c)(
c2
*255)).
move_to
(
cﬁ‹s
);

38050 i‡((
îr
 = 
°d
::
fsˇnf
(
nfûe
,"%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,
löe
))<4) {

38051 
	gcimg
::
w¨n
(
_cimg_ö°™˚


38053 
cimg_ö°™˚
,

38054 
nb_ªad
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38056 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38058 
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f",&
c0
,&
c1
,&
c2
);

38059 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i3
,
i2
,
i1
).
move_to
(
¥imôives
);

38060 
	gCImg
<
	gtc
>::
ve˘‹
((
tc
)(
c0
*255),—c)(
c1
*255),—c)(
c2
*255)).
move_to
(
cﬁ‹s
);

38064 i‡((
îr
 = 
°d
::
fsˇnf
(
nfûe
,"%u%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,&
i4
,
löe
))<5) {

38065 
	gcimg
::
w¨n
(
_cimg_ö°™˚


38067 
cimg_ö°™˚
,

38068 
nb_ªad
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38070 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38072 
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f",&
c0
,&
c1
,&
c2
);

38073 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i3
,
i2
,
i1
).
move_to
(
¥imôives
);

38074 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i4
,
i3
).
move_to
(
¥imôives
);

38075 
	gcﬁ‹s
.
ö£π
(2,
CImg
<
tc
>::
ve˘‹
(—c)(
c0
*255),—c)(
c1
*255),—c)(
c2
*255)));

38076 ++
	gnb_¥imôives
;

38080 i‡((
îr
 = 
°d
::
fsˇnf
(
nfûe
,"%u%u%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,&
i4
,&
i5
,
löe
))<6) {

38081 
	gcimg
::
w¨n
(
_cimg_ö°™˚


38083 
cimg_ö°™˚
,

38084 
nb_ªad
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38086 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38088 
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f",&
c0
,&
c1
,&
c2
);

38089 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i3
,
i2
,
i1
).
move_to
(
¥imôives
);

38090 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i5
,
i4
,
i3
).
move_to
(
¥imôives
);

38091 
	gcﬁ‹s
.
ö£π
(2,
CImg
<
tc
>::
ve˘‹
(—c)(
c0
*255),—c)(
c1
*255),—c)(
c2
*255)));

38092 ++
	gnb_¥imôives
;

38096 i‡((
îr
 = 
°d
::
fsˇnf
(
nfûe
,"%u%u%u%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,&
i4
,&
i5
,&
i6
,
löe
))<7) {

38097 
	gcimg
::
w¨n
(
_cimg_ö°™˚


38099 
cimg_ö°™˚
,

38100 
nb_ªad
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38102 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38104 
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f",&
c0
,&
c1
,&
c2
);

38105 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i4
,
i3
,
i1
).
move_to
(
¥imôives
);

38106 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i6
,
i5
,
i4
).
move_to
(
¥imôives
);

38107 
	gCImg
<
	gtf
>::
ve˘‹
(
i3
,
i2
,
i1
).
move_to
(
¥imôives
);

38108 
	gcﬁ‹s
.
ö£π
(3,
CImg
<
tc
>::
ve˘‹
(—c)(
c0
*255),—c)(
c1
*255),—c)(
c2
*255)));

38109 ++(++
	gnb_¥imôives
);

38113 i‡((
îr
 = 
°d
::
fsˇnf
(
nfûe
,"%u%u%u%u%u%u%u%u%255[^\n] ",&
i0
,&
i1
,&
i2
,&
i3
,&
i4
,&
i5
,&
i6
,&
i7
,
löe
))<7) {

38114 
	gcimg
::
w¨n
(
_cimg_ö°™˚


38116 
cimg_ö°™˚
,

38117 
nb_ªad
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38119 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38121 
	gîr
 = 
°d
::
ssˇnf
(
löe
,"%f%f%f",&
c0
,&
c1
,&
c2
);

38122 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i3
,
i2
,
i1
).
move_to
(
¥imôives
);

38123 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i5
,
i4
,
i3
).
move_to
(
¥imôives
);

38124 
	gCImg
<
	gtf
>::
ve˘‹
(
i0
,
i7
,
i6
,
i5
).
move_to
(
¥imôives
);

38125 
	gcﬁ‹s
.
ö£π
(3,
CImg
<
tc
>::
ve˘‹
(—c)(
c0
*255),—c)(
c1
*255),—c)(
c2
*255)));

38126 ++(++
	gnb_¥imôives
);

38130 
cimg
::
w¨n
(
_cimg_ö°™˚


38132 
cimg_ö°™˚
,

38133 
nb_ªad
,
nb_¥imôives
,
¥im
,
fûíame
?filename:"(FILE*)");

38135 
	gîr
 = 
°d
::
fsˇnf
(
nfûe
,"%*[^\n] ");

38139 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

38140 i‡(
	g¥imôives
.
	g_width
!=
nb_¥imôives
)

38141 
cimg
::
w¨n
(
_cimg_ö°™˚


38143 
cimg_ö°™˚
,

38144 
¥imôives
.
_width
,
nb_¥imôives
,
fûíame
?filename:"(FILE*)");

38145  *
	gthis
;

38154 
	gCImg
<
	gT
>& 
lﬂd_ffm≥g_exã∫Æ
(c⁄° *c⁄° 
fûíame
, c⁄° 
axis
='z', c⁄° 
Æign
=0) {

38155  
gë_lﬂd_ffm≥g_exã∫Æ
(
fûíame
,
axis
,
Æign
).
move_to
(*
this
);

38159 
	gCImg
<
	gT
> 
gë_lﬂd_ffm≥g_exã∫Æ
(c⁄° *c⁄° 
fûíame
, c⁄° 
axis
='z', c⁄° 
Æign
=0) {

38160  
CImgLi°
<
T
>().
lﬂd_ffm≥g_exã∫Æ
(
fûíame
).
gë_≠≥nd
(
axis
,
Æign
);

38170 
	gCImg
<
	gT
>& 
lﬂd_gif_exã∫Æ
(c⁄° *c⁄° 
fûíame
,

38171 c⁄° 
axis
='z', c⁄° 
Æign
=0) {

38172  
gë_lﬂd_gif_exã∫Æ
(
fûíame
,
axis
,
Æign
).
move_to
(*
this
);

38176 
	gCImg
<
	gT
> 
gë_lﬂd_gif_exã∫Æ
(c⁄° *c⁄° 
fûíame
,

38177 c⁄° 
axis
='z', c⁄° 
Æign
=0) {

38178  
CImgLi°
<
T
>().
lﬂd_gif_exã∫Æ
(
fûíame
).
gë_≠≥nd
(
axis
,
Æign
);

38185 
	gCImg
<
	gT
>& 
lﬂd_gøphicsmagick_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38186 i‡(!
	gfûíame
)

38187 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


38189 
cimg_ö°™˚
);

38190 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

38191 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 };

38192 
	g°d
::
FILE
 *
fûe
 = 0;

38193 c⁄° 
	gCImg
<
	gch¨T
> 
	gs_fûíame
 = 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
();

38194 #i‡
cimg_OS
==1

38195 
cimg_¢¥ötf
(
comm™d
,(command),"%s convert \"%s\"Önm:-",

38196 
cimg
::
gøphicsmagick_∑th
(),
s_fûíame
.
d©a
());

38197 
	gfûe
 = 
p›í
(
comm™d
,"r");

38198 i‡(
	gfûe
) {

38199 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

38200 
	gcimg
::
ex˚±i⁄_mode
() = 0;

38201 
	gåy
 { 
lﬂd_≤m
(
fûe
); } 
ˇtch
 (...) {

38202 
p˛o£
(
fûe
);

38203 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

38204 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38206 
cimg_ö°™˚
,

38207 
fûíame
);

38209 
p˛o£
(
fûe
);

38210  *
	gthis
;

38214 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.≤m",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

38215 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

38216 } 
	gfûe
);

38217 
cimg_¢¥ötf
(
comm™d
,(command),"%s convert \"%s\" \"%s\"",

38218 
cimg
::
gøphicsmagick_∑th
(),
s_fûíame
.
d©a
(),
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().data());

38219 
	gcimg
::
sy°em
(
comm™d
,
cimg
::
gøphicsmagick_∑th
());

38220 i‡(!(
	gfûe
 = 
°d
::
f›í
(
fûëmp
,"rb"))) {

38221 
	gcimg
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"r"));

38222 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38224 
cimg_ö°™˚
,

38225 
fûíame
);

38227 } 
	gcimg
::
f˛o£
(
fûe
);

38228 
lﬂd_≤m
(
fûëmp
);

38229 
	g°d
::
ªmove
(
fûëmp
);

38230  *
	gthis
;

38234 
	gCImg
<
	gT
> 
gë_lﬂd_gøphicsmagick_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38235  
	gCImg
<
	gT
>().
lﬂd_gøphicsmagick_exã∫Æ
(
fûíame
);

38242 
	gCImg
<
	gT
>& 
lﬂd_gzù_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38243 i‡(!
	gfûíame
)

38244 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38246 
cimg_ö°™˚
);

38247 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

38248 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gbody
[512] = { 0 };

38250 *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
,
body
),

38251 *c⁄° 
	gext2
 = 
cimg
::
•lô_fûíame
(
body
,0);

38253 
	g°d
::
FILE
 *
fûe
 = 0;

38255 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gz")) {

38256 i‡(*
	gext2
Ë
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext2
);

38257 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

38259 i‡(*
	gext
Ë
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext
);

38260 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

38262 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

38263 } 
	gfûe
);

38264 
cimg_¢¥ötf
(
comm™d
,(command),"%s -c \"%s\" > \"%s\"",

38265 
cimg
::
gunzù_∑th
(),

38266 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

38267 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
());

38268 
	gcimg
::
sy°em
(
comm™d
);

38269 i‡(!(
	gfûe
 = 
°d
::
f›í
(
fûëmp
,"rb"))) {

38270 
	gcimg
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"r"));

38271 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38273 
cimg_ö°™˚
,

38274 
fûíame
);

38276 } 
	gcimg
::
f˛o£
(
fûe
);

38277 
lﬂd
(
fûëmp
);

38278 
	g°d
::
ªmove
(
fûëmp
);

38279  *
	gthis
;

38283 
	gCImg
<
	gT
> 
gë_lﬂd_gzù_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38284  
	gCImg
<
	gT
>().
lﬂd_gzù_exã∫Æ
(
fûíame
);

38291 
	gCImg
<
	gT
>& 
lﬂd_imagemagick_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38292 i‡(!
	gfûíame
)

38293 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


38295 
cimg_ö°™˚
);

38296 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

38297 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 };

38298 
	g°d
::
FILE
 *
fûe
 = 0;

38299 c⁄° 
	gCImg
<
	gch¨T
> 
	gs_fûíame
 = 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
();

38300 #i‡
cimg_OS
==1

38301 
cimg_¢¥ötf
(
comm™d
,(command),"%s%s \"%s\"Önm:-",

38302 
cimg
::
imagemagick_∑th
(),

38303 !
cimg
::
°rˇ£cmp
(cimg::
•lô_fûíame
(
fûíame
),"pdf")?" -density 400x400":"",

38304 
s_fûíame
.
d©a
());

38305 
	gfûe
 = 
p›í
(
comm™d
,"r");

38306 i‡(
	gfûe
) {

38307 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

38308 
	gcimg
::
ex˚±i⁄_mode
() = 0;

38309 
	gåy
 { 
lﬂd_≤m
(
fûe
); } 
ˇtch
 (...) {

38310 
p˛o£
(
fûe
);

38311 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

38312 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38314 
cimg_ö°™˚
,

38315 
fûíame
);

38317 
p˛o£
(
fûe
);

38318  *
	gthis
;

38322 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.≤m",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

38323 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

38324 } 
	gfûe
);

38325 
cimg_¢¥ötf
(
comm™d
,(command),"%s%s \"%s\" \"%s\"",

38326 
cimg
::
imagemagick_∑th
(),

38327 !
cimg
::
°rˇ£cmp
(cimg::
•lô_fûíame
(
fûíame
),"pdf")?" -density 400x400":"",

38328 
s_fûíame
.
d©a
(),
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().data());

38329 
	gcimg
::
sy°em
(
comm™d
,
cimg
::
imagemagick_∑th
());

38330 i‡(!(
	gfûe
 = 
°d
::
f›í
(
fûëmp
,"rb"))) {

38331 
	gcimg
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"r"));

38332 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38334 
cimg_ö°™˚
,

38335 
fûíame
);

38337 } 
	gcimg
::
f˛o£
(
fûe
);

38338 
lﬂd_≤m
(
fûëmp
);

38339 
	g°d
::
ªmove
(
fûëmp
);

38340  *
	gthis
;

38344 
	gCImg
<
	gT
> 
gë_lﬂd_imagemagick_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38345  
	gCImg
<
	gT
>().
lﬂd_imagemagick_exã∫Æ
(
fûíame
);

38352 
	gCImg
<
	gT
>& 
lﬂd_medc⁄_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38353 i‡(!
	gfûíame
)

38354 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


38356 
cimg_ö°™˚
);

38357 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

38358 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gbody
[512] = { 0 };

38359 
	gcimg
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"r"));

38360 
	g°d
::
FILE
 *
fûe
 = 0;

38362 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s.hdr",
cimg
::
fûíamî™d
());

38363 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

38364 } 
	gfûe
);

38365 
cimg_¢¥ötf
(
comm™d
,(command),"%s -w -cánlz -o \"%s\" -f \"%s\"",

38366 
cimg
::
medc⁄_∑th
(),

38367 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
(),

38368 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

38369 
	gcimg
::
sy°em
(
comm™d
);

38370 
	gcimg
::
•lô_fûíame
(
fûëmp
,
body
);

38372 
cimg_¢¥ötf
(
comm™d
,(comm™d),"%s.hdr",
body
);

38373 
	gfûe
 = 
°d
::
f›í
(
comm™d
,"rb");

38374 i‡(!
	gfûe
) {

38375 
cimg_¢¥ötf
(
comm™d
,(comm™d),"m000-%s.hdr",
body
);

38376 
	gfûe
 = 
°d
::
f›í
(
comm™d
,"rb");

38377 i‡(!
	gfûe
) {

38378 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38380 
cimg_ö°™˚
,

38381 
fûíame
);

38384 
	gcimg
::
f˛o£
(
fûe
);

38385 
lﬂd_™Æyze
(
comm™d
);

38386 
	g°d
::
ªmove
(
comm™d
);

38387 
	gcimg
::
•lô_fûíame
(
comm™d
,
body
);

38388 
cimg_¢¥ötf
(
comm™d
,(comm™d),"%s.img",
body
);

38389 
	g°d
::
ªmove
(
comm™d
);

38390  *
	gthis
;

38394 
	gCImg
<
	gT
> 
gë_lﬂd_medc⁄_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38395  
	gCImg
<
	gT
>().
lﬂd_medc⁄_exã∫Æ
(
fûíame
);

38402 
	gCImg
<
	gT
>& 
lﬂd_d¸aw_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38403 i‡(!
	gfûíame
)

38404 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


38406 
cimg_ö°™˚
);

38407 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

38408 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 };

38409 
	g°d
::
FILE
 *
fûe
 = 0;

38410 c⁄° 
	gCImg
<
	gch¨T
> 
	gs_fûíame
 = 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
();

38411 #i‡
cimg_OS
==1

38412 
cimg_¢¥ötf
(
comm™d
,(command),"%s -w -4 -c \"%s\"",

38413 
cimg
::
d¸aw_∑th
(),
s_fûíame
.
d©a
());

38414 
	gfûe
 = 
p›í
(
comm™d
,"r");

38415 i‡(
	gfûe
) {

38416 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

38417 
	gcimg
::
ex˚±i⁄_mode
() = 0;

38418 
	gåy
 { 
lﬂd_≤m
(
fûe
); } 
ˇtch
 (...) {

38419 
p˛o£
(
fûe
);

38420 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

38421 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38423 
cimg_ö°™˚
,

38424 
fûíame
);

38426 
p˛o£
(
fûe
);

38427  *
	gthis
;

38431 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.µm",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

38432 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

38433 } 
	gfûe
);

38434 
cimg_¢¥ötf
(
comm™d
,(command),"%s -w -4 -c \"%s\" > \"%s\"",

38435 
cimg
::
d¸aw_∑th
(),
s_fûíame
.
d©a
(),
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().data());

38436 
	gcimg
::
sy°em
(
comm™d
,
cimg
::
d¸aw_∑th
());

38437 i‡(!(
	gfûe
 = 
°d
::
f›í
(
fûëmp
,"rb"))) {

38438 
	gcimg
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"r"));

38439 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38441 
cimg_ö°™˚
,

38442 
fûíame
);

38444 } 
	gcimg
::
f˛o£
(
fûe
);

38445 
lﬂd_≤m
(
fûëmp
);

38446 
	g°d
::
ªmove
(
fûëmp
);

38447  *
	gthis
;

38451 
	gCImg
<
	gT
> 
gë_lﬂd_d¸aw_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

38452  
	gCImg
<
	gT
>().
lﬂd_d¸aw_exã∫Æ
(
fûíame
);

38461 
	gCImg
<
	gT
>& 
lﬂd_ˇmîa
(c⁄° 
ˇmîa_ödex
=0, c⁄° 
skù_‰ames
=0, c⁄° 
boﬁ
 
ªÀa£_ˇmîa
=
Ál£
,

38462 c⁄° 
ˇ±uª_width
=0, c⁄° 
ˇ±uª_height
=0) {

38463 #ifde‡
cimg_u£_›ícv


38464 i‡(
ˇmîa_ödex
>255)

38465 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


38467 
cimg_ö°™˚
,

38468 
ˇmîa_ödex
);

38469 
CvC≠tuª
 *
	gˇ±uª
[256] = { 0 };

38470 i‡(
	gªÀa£_ˇmîa
) {

38471 i‡(
	gˇ±uª
[
ˇmîa_ödex
]Ë
cvRñó£C≠tuª
(&(
ˇ±uª
[camera_index]));

38472 
	gˇ±uª
[
ˇmîa_ödex
] = 0;

38473  *
	gthis
;

38475 i‡(!
	gˇ±uª
[
ˇmîa_ödex
]) {

38476 
	gˇ±uª
[
ˇmîa_ödex
] = 
cvCª©eCamîaC≠tuª
(camera_index);

38477 i‡(!
	gˇ±uª
[
ˇmîa_ödex
]) {

38478 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38480 
cimg_ö°™˚
,

38481 
ˇmîa_ödex
);

38484 i‡(
	gˇ±uª_width
Ë
cvSëC≠tuªPr›îty
(
ˇ±uª
[
ˇmîa_ödex
],
CV_CAP_PROP_FRAME_WIDTH
,
ˇ±uª_width
);

38485 i‡(
	gˇ±uª_height
Ë
cvSëC≠tuªPr›îty
(
ˇ±uª
[
ˇmîa_ödex
],
CV_CAP_PROP_FRAME_HEIGHT
,
ˇ±uª_height
);

38486 c⁄° 
I∂Image
 *
	gimg
 = 0;

38487 
	gi
 = 0; i<
	gskù_‰ames
; ++iË
	gimg
 = 
cvQuîyFøme
(
ˇ±uª
[
ˇmîa_ödex
]);

38488 
	gimg
 = 
cvQuîyFøme
(
ˇ±uª
[
ˇmîa_ödex
]);

38489 i‡(
	gimg
) {

38490 c⁄° 
	g°ï
 = ()(
img
->
widthSãp
 - 3*img->
width
);

38491 
assign
(
img
->
width
,img->
height
,1,3);

38492 c⁄° * 
	g±rs
 = (*)
img
->
imageD©a
;

38493 
T
 *
	g±r_r
 = 
d©a
(0,0,0,0), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = data(0,0,0,2);

38494 i‡(
	g°ï
>0Ë
cimg_f‹Y
(*
this
,
y
) {

38495 
cimg_f‹X
(*
this
,
x
Ë{ *(
	g±r_b
++Ë(
T
)*(
±rs
++); *(
	g±r_g
++Ë(T)*’ås++); *(
	g±r_r
++) = (T)*(ptrs++); }

38496 
	g±rs
+=
°ï
;

38497 } 
	gsiz
 = ()
img
->
width
*img->
height
; siz; --siz) {

38498 *(
	g±r_b
++Ë(
T
)*(
±rs
++); *(
	g±r_g
++Ë(T)*’ås++); *(
	g±r_r
++) = (T)*(ptrs++);

38502 
	gcimg
::
unu£d
(
ˇmîa_ödex
,
skù_‰ames
,
ªÀa£_ˇmîa
,
ˇ±uª_width
,
ˇ±uª_height
);

38503 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38506 
cimg_ö°™˚
);

38508  *
	gthis
;

38512 
	gCImg
<
	gT
> 
gë_lﬂd_ˇmîa
(c⁄° 
ˇmîa_ödex
=0, c⁄° 
skù_‰ames
=0, c⁄° 
boﬁ
 
ªÀa£_ˇmîa
=
Ál£
,

38513 c⁄° 
ˇ±uª_width
=0, c⁄° 
ˇ±uª_height
=0) {

38514  
CImg
<
T
>().
lﬂd_ˇmîa
(
ˇmîa_ödex
,
skù_‰ames
,
ªÀa£_ˇmîa
,
ˇ±uª_width
,
ˇ±uª_height
);

38521 
	gCImg
<
	gT
>& 
lﬂd_Ÿhî
(c⁄° *c⁄° 
fûíame
) {

38522 i‡(!
	gfûíame
)

38523 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


38525 
cimg_ö°™˚
);

38527 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

38528 
	gcimg
::
ex˚±i⁄_mode
() = 0;

38529 
	gåy
 { 
lﬂd_magick
(
fûíame
); }

38530 
ˇtch
 (
CImgEx˚±i⁄
&) {

38531 
	gåy
 { 
lﬂd_imagemagick_exã∫Æ
(
fûíame
); }

38532 
ˇtch
 (
CImgEx˚±i⁄
&) {

38533 
	gåy
 { 
lﬂd_gøphicsmagick_exã∫Æ
(
fûíame
); }

38534 
ˇtch
 (
CImgEx˚±i⁄
&) {

38535 
	gåy
 { 
lﬂd_cimg
(
fûíame
); }

38536 
ˇtch
 (
CImgEx˚±i⁄
&) {

38537 
	gåy
 {

38538 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

38539 } 
ˇtch
 (
CImgEx˚±i⁄
&) {

38540 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

38541 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38543 
cimg_ö°™˚
,

38544 
fûíame
);

38546 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

38547 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


38549 
cimg_ö°™˚
,

38550 
fûíame
);

38555 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

38556  *
	gthis
;

38560 
	gCImg
<
	gT
> 
gë_lﬂd_Ÿhî
(c⁄° *c⁄° 
fûíame
) {

38561  
	gCImg
<
	gT
>().
lﬂd_Ÿhî
(
fûíame
);

38576 c⁄° 
	gCImg
<
	gT
>& 
¥öt
(c⁄° *c⁄° 
tôÀ
=0, c⁄° 
boﬁ
 
di•œy_°©s
=
åue
) const {

38577 
xm
 = 0, 
	gym
 = 0, 
	gzm
 = 0, 
	gvm
 = 0, 
	gxM
 = 0, 
	gyM
 = 0, 
	gzM
 = 0, 
	gvM
 = 0;

38578 
	gCImg
<
	gdoubÀT
> 
	g°
;

38579 i‡(!
is_em±y
(Ë&& 
	gdi•œy_°©s
) {

38580 
	g°
 = 
gë_°©s
();

38581 
	gxm
 = ()
°
[4]; 
	gym
 = ()°[5], 
	gzm
 = ()°[6], 
	gvm
 = ()st[7];

38582 
	gxM
 = ()
°
[8]; 
	gyM
 = ()°[9], 
	gzM
 = ()°[10], 
	gvM
 = ()st[11];

38584 c⁄° 
	gsiz
 = 
size
(), 
	gmsiz
 = 
siz
*(
T
), 
	gsiz1
 = siz-1, 
	gmdi•
 = 
msiz
<8*1024?0:(msiz<8*1024*1024?1:2), 
	gwidth1
 = 
_width
-1;

38586 
	g_tôÀ
[64] = { 0 };

38587 i‡(!
	gtôÀ
Ë
cimg_¢¥ötf
(
_tôÀ
,(_tôÀ),"CImg<%s>",
pixñ_ty≥
());

38589 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s%s%s%s: %sthis%s = %p, %ssize%s = (%u,%u,%u,%u) [%lu %s], %sdata%s = (%s*)%p",

38590 
cimg
::
t_magíè
,cimg::
t_bﬁd
,
tôÀ
?tôÀ:
_tôÀ
,cimg::
t_n‹mÆ
,

38591 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,(*)
this
,

38592 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
_width
,
_height
,
_dïth
,
_•e˘rum
,

38593 
mdi•
==0?
msiz
:(mdisp==1?(msiz>>10):(msiz>>20)),

38594 
mdi•
==0?"b":(mdisp==1?"Kio":"Mio"),

38595 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
pixñ_ty≥
(),(*)
begö
());

38596 i‡(
	g_d©a
Ë
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"..%∞(%sË[ ",(*)((*)
íd
()-1),
_is_sh¨ed
?"shared":"non-shared");

38597 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," (%sË[ ",
_is_sh¨ed
?"shared":"non-shared");

38599 i‡(!
is_em±y
()Ë
cimg_f‹off
(*
this
,
off
) {

38600 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),cimg::
ty≥
<
T
>::
f‹m©
(),cimg::ty≥<T>::f‹m©(
_d©a
[
off
]));

38601 i‡(
	goff
!=
siz1
Ë
°d
::
Ârötf
(
cimg
::
ouçut
(),"%s",
off
%
_width
==
width1
?" ; ":" ");

38602 i‡(
	goff
==7 && 
siz
>16Ë{ 
off
 = 
siz1
-8; 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"... "); }

38604 i‡(!
is_em±y
(Ë&& 
	gdi•œy_°©s
)

38605 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," ], %smin%s = %g, %smax%s = %g, %smean%s = %g, %sstd%s = %g, %scoords_min%s = (%u,%u,%u,%u), %scoords_max%s = (%u,%u,%u,%u).\n",

38606 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
°
[0],

38607 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
°
[1],

38608 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
°
[2],

38609 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
°d
::
sqπ
(
°
[3]),

38610 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
xm
,
ym
,
zm
,
vm
,

38611 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
xM
,
yM
,
zM
,
vM
);

38612 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s].\n",
is_em±y
()?"":" ");

38613 
	g°d
::
fÊush
(
cimg
::
ouçut
());

38614  *
	gthis
;

38621 c⁄° 
	gCImg
<
	gT
>& 
di•œy
(
CImgDi•œy
& 
di•
) const {

38622 
	gdi•
.
di•œy
(*
this
);

38623  *
	gthis
;

38631 c⁄° 
	gCImg
<
	gT
>& 
di•œy
(
CImgDi•œy
 &
di•
, c⁄° 
boﬁ
 
di•œy_öfo
, *c⁄° 
XYZ
=0) const {

38632  
_di•œy
(
di•
,0,
di•œy_öfo
,
XYZ
,
Ál£
);

38640 c⁄° 
	gCImg
<
	gT
>& 
di•œy
(c⁄° *c⁄° 
tôÀ
=0, c⁄° 
boﬁ
 
di•œy_öfo
=
åue
, *c⁄° 
XYZ
=0) const {

38641 
CImgDi•œy
 
di•
;

38642  
_di•œy
(
di•
,
tôÀ
,
di•œy_öfo
,
XYZ
,
Ál£
);

38645 c⁄° 
	gCImg
<
	gT
>& 
_di•œy
(
CImgDi•œy
 &
di•
, c⁄° *c⁄° 
tôÀ
,

38646 c⁄° 
boﬁ
 
di•œy_öfo
, *c⁄° 
XYZ
,

38647 c⁄° 
boﬁ
 
exô_⁄_sim∂e˛ick
) const {

38648 
	gﬁdw
 = 0, 
	gﬁdh
 = 0, 
	g_XYZ
[3], 
	gkey
 = 0;

38649 
	gx0
 = 0, 
	gy0
 = 0, 
	gz0
 = 0, 
	gx1
 = 
width
()-1, 
	gy1
 = 
height
()-1, 
	gz1
 = 
dïth
()-1;

38651 i‡(!
	gdi•
) {

38652 
	gdi•
.
assign
(
cimg_fôs¸ìn
(
_width
,
_height
,
_dïth
),
tôÀ
?title:0,1);

38653 i‡(!
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("CImg<%s> (%ux%ux%ux%u)",
pixñ_ty≥
(),
_width
,
_height
,
_dïth
,
_•e˘rum
);

38654 
	gdi•
.
£t_tôÀ
("%s",
tôÀ
);

38655 } i‡(
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("%s",
tôÀ
);

38656 
	gdi•
.
show
().
Êush
();

38658 c⁄° 
	gCImg
<> 
	gdtôÀ
 = 
CImg
<>::
°rög
(
di•
.
tôÀ
());

38659 i‡(
	gdi•œy_öfo
Ë
¥öt
(
dtôÀ
);

38661 
	gCImg
<
	gT
> 
	gzoom
;

38662 
boﬁ
 
	gª£t_võw
 = 
åue
, 
	gªsize_di•
 = 
Ál£
, 
	gis_fú°_£À˘
 =Årue; !
	gkey
 && !
	gdi•
.
is_˛o£d
(); ) {

38663 i‡(
	gª£t_võw
) {

38664 i‡(
	gXYZ
Ë{ 
	g_XYZ
[0] = 
XYZ
[0]; _XYZ[1] = XYZ[1]; _XYZ[2] = XYZ[2]; }

38665 { 
	g_XYZ
[0] = (
x0
 + 
x1
)/2; _XYZ[1] = (
y0
 + 
y1
)/2; _XYZ[2] = (
z0
 + 
z1
)/2; }

38666 
	gx0
 = 0; 
	gy0
 = 0; 
	gz0
 = 0; 
	gx1
 = 
width
()-1; 
	gy1
 = 
height
()-1; 
	gz1
 = 
dïth
()-1;

38667 
	gﬁdw
 = 
di•
.
width
(); 
	gﬁdh
 = di•.
height
();

38668 
	gª£t_võw
 = 
Ál£
;

38670 i‡(!
	gx0
 && !
	gy0
 && !
	gz0
 && 
	gx1
==
width
()-1 && 
y1
==
height
()-1 && 
z1
==
dïth
()-1Ë{ i‡(
is_em±y
()Ë
zoom
.
assign
(1,1,1,1,0); 
	gzoom
.assign(); }

38671 
	gzoom
 = 
gë_¸›
(
x0
,
y0
,
z0
,
x1
,
y1
,
z1
);

38674 
	gdx
 = 1 + 
x1
 - 
x0
, 
	gdy
 = 1 + 
y1
 - 
y0
, 
	gdz
 = 1 + 
z1
 - 
z0
,

38675 
	gtw
 = 
dx
 + (
dz
>1?dz:0), 
	gth
 = 
dy
 + (dz>1?dz:0);

38676 i‡(!
is_em±y
(Ë&& !
	gdi•
.
is_fuŒs¸ìn
(Ë&& 
	gªsize_di•
) {

38678 
	gâw
 = 
tw
*
di•
.
width
()/
ﬁdw
, 
	gâh
 = 
th
*di•.
height
()/
ﬁdh
,

38679 
	gdM
 = 
cimg
::
max
(
âw
,
âh
), 
	gdiM
 = ()cimg::max(
di•
.
width
(),di•.
height
()),

38680 
	gimgw
 = 
cimg
::
max
(16U,
âw
*
diM
/
dM
), 
	gimgh
 = cimg::max(16U,
âh
*diM/dM);

38681 
	gdi•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(
imgw
,
imgh
,1),false);

38682 
	gªsize_di•
 = 
Ál£
;

38684 
	gﬁdw
 = 
tw
; 
	gﬁdh
 = 
th
;

38686 
boﬁ


38687 
	ggo_up
 = 
Ál£
, 
	ggo_down
 = fÆ£, 
	ggo_À·
 = fÆ£, 
	ggo_right
 = false,

38688 
	ggo_öc
 = 
Ál£
, 
	ggo_dec
 = fÆ£, 
	ggo_ö
 = fÆ£, 
	ggo_out
 = false,

38689 
	ggo_ö_˚¡î
 = 
Ál£
;

38690 c⁄° 
	gCImg
<
	gT
>& 
	gvisu
 = 
zoom
?zoom:*
this
;

38692 
	gdi•
.
£t_tôÀ
(
dtôÀ
.
_d©a
);

38693 i‡(
	g_width
>1 && 
	gvisu
._width==1Ë
di•
.
£t_tôÀ
("%†| x=%u",di•.
_tôÀ
,
x0
);

38694 i‡(
	g_height
>1 && 
	gvisu
._height==1Ë
di•
.
£t_tôÀ
("%†| y=%u",di•.
_tôÀ
,
y0
);

38695 i‡(
	g_dïth
>1 && 
	gvisu
._dïth==1Ë
di•
.
£t_tôÀ
("%†| z=%u",di•.
_tôÀ
,
z0
);

38697 i‡(!
	gis_fú°_£À˘
Ë{ 
	g_XYZ
[0] = (
x1
-
x0
)/2; _XYZ[1] = (
y1
-
y0
)/2; _XYZ[2] = (
z1
-
z0
)/2; }

38698 c⁄° 
	gCImg
<
	götT
> 
	g£À˘i⁄
 = 
visu
.
_gë_£À˘
(
di•
,0,2,
_XYZ
,
x0
,
y0
,
z0
,
is_fú°_£À˘
,
_dïth
>1);

38699 
	gis_fú°_£À˘
 = 
Ál£
;

38701 i‡(
	gdi•
.
whìl
()) {

38702 i‡(
	gdi•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()Ë{ 
	ggo_out
 = !(
go_ö
 = 
di•
.
whìl
()>0); 
	ggo_ö_˚¡î
 = 
Ál£
; }

38703 i‡(
	gdi•
.
is_keySHIFTLEFT
(Ë|| di•.
is_keySHIFTRIGHT
()Ë{ 
	ggo_right
 = !(
go_À·
 = 
di•
.
whìl
()>0); }

38704 i‡(
	gdi•
.
is_keyALT
(Ë|| di•.
is_keyALTGR
(Ë|| 
	g_dïth
==1Ë{ 
go_down
 = !(
go_up
 = 
di•
.
whìl
()>0); }

38705 
	gdi•
.
£t_whìl
();

38709 
	gsx0
 = 
£À˘i⁄
(0), 
	gsy0
 = sñe˘i⁄(1), 
	gsz0
 = selection(2),

38710 
	gsx1
 = 
£À˘i⁄
(3), 
	gsy1
 = sñe˘i⁄(4), 
	gsz1
 = selection(5);

38711 i‡(
	gsx0
>=0 && 
sy0
>=0 && 
sz0
>=0 && 
sx1
>=0 && 
sy1
>=0 && 
sz1
>=0) {

38712 
x1
 = 
x0
 + 
sx1
; 
	gy1
 = 
y0
 + 
sy1
; 
	gz1
 = 
z0
 + 
sz1
;

38713 
	gx0
+=
sx0
; 
	gy0
+=
sy0
; 
	gz0
+=
sz0
;

38714 i‡(
	gsx0
==
sx1
 && 
sy0
==
sy1
 && 
sz0
==
sz1
) {

38715 i‡(
exô_⁄_sim∂e˛ick
 && (!
zoom
 || 
is_em±y
())Ë; 
	gª£t_võw
 = 
åue
;

38717 
	gªsize_di•
 = 
åue
;

38718 } 
	gkey
 = 
di•
.
key
()) {

38719 #i‡
cimg_OS
!=2

38720 
cimg
::
keyCTRLRIGHT
 : cimg::
keySHIFTRIGHT
 :

38722 0 : 
cimg
::
keyCTRLLEFT
 : cimg::
keyPAD5
 : cimg::
keySHIFTLEFT
 :

38723 #i‡
cimg_OS
!=2

38724 
cimg
::
keyALTGR
 :

38726 
cimg
::
keyALT
 : 
key
 = 0; ;

38727 
	gcimg
::
keyP
 : i‡(
visu
.
_dïth
>1 && (
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
())) {

38729 
w1
 = 
visu
.
_width
*
di•
.
width
()/(visu._width+(visu.
_dïth
>1?visu._depth:0)),

38730 
	gh1
 = 
visu
.
_height
*
di•
.
height
()/(visu._height+(visu.
_dïth
>1?visu._depth:0));

38731 
	g‰ame_timög
 = 5;

38732 
boﬁ
 
	gis_°›≥d
 = 
Ál£
;

38733 
	gdi•
.
£t_key
(
key
,
Ál£
).
£t_whìl
().
ªsize
(
cimg_fôs¸ìn
(
w1
,
h1
,1),Ál£); 
	gkey
 = 0;

38734 
	gtimî
 = 0; !
	gkey
 && !
	gdi•
.
is_˛o£d
(Ë&& !di•.
buâ⁄
(); ) {

38735 i‡(
	gdi•
.
is_ªsized
()Ëdi•.
ªsize
(
Ál£
);

38736 i‡(!
	gtimî
) {

38737 
	gvisu
.
gë_¶i˚
(()
_XYZ
[2]).
di•œy
(
di•
.
£t_tôÀ
("%†| z=%d",
dtôÀ
.
d©a
(),_XYZ[2]));

38738 (++
	g_XYZ
[2])%=
visu
.
_dïth
;

38740 i‡(!
	gis_°›≥d
Ë{ i‡(++
	gtimî
>()
	g‰ame_timög
)Åimer = 0; } timer = ~0U;

38741 i‡(
	gdi•
.
whìl
()Ë{ 
	g‰ame_timög
-=
di•
.whìl()/3.0f; di•.
£t_whìl
(); }

38742 
	gkey
 = 
di•
.
key
()) {

38743 #i‡
cimg_OS
!=2

38744 
cimg
::
keyCTRLRIGHT
 :

38746 
cimg
::
keyCTRLLEFT
 : 
key
 = 0; ;

38747 
	gcimg
::
keyPAGEUP
 : 
‰ame_timög
-=0.3f; 
	gkey
 = 0; ;

38748 
	gcimg
::
keyPAGEDOWN
 : 
‰ame_timög
+=0.3f; 
	gkey
 = 0; ;

38749 
	gcimg
::
keySPACE
 : 
is_°›≥d
 = !is_°›≥d; 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; ;

38750 
	gcimg
::
keyARROWLEFT
 : 
cimg
::
keyARROWUP
 : 
is_°›≥d
 = 
åue
; 
	gtimî
 = 0; 
	gkey
 = 0; ;

38751 
	gcimg
::
keyARROWRIGHT
 : 
cimg
::
keyARROWDOWN
 : 
is_°›≥d
 = 
åue
; (
	g_XYZ
[2]+=
visu
.
_dïth
-2)%=visu._dïth; 
	gtimî
 = 0; 
	gkey
 = 0; ;

38752 
	gcimg
::
keyD
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

38753 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
CImgDi•œy
::
_fôs¸ìn
(3*di•.
width
()/2,3*di•.
height
()/2,1,128,-100,false),

38754 
CImgDi•œy
::
_fôs¸ìn
(3*
di•
.
width
()/2,3*di•.
height
()/2,1,128,-100,
åue
),
Ál£
);

38755 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

38757 
	gcimg
::
keyC
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

38758 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(2*di•.
width
()/3,2*di•.
height
()/3,1),Ál£).
£t_key
(
key
,Ál£); 
	gkey
 = 0;

38760 
	gcimg
::
keyR
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

38761 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(
_width
,
_height
,
_dïth
),Ál£).
£t_key
(
key
,Ál£); 
	gkey
 = 0;

38763 
	gcimg
::
keyF
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

38764 
di•
.
ªsize
(di•.
s¸ìn_width
(),di•.
s¸ìn_height
(),
Ál£
).
toggÀ_fuŒs¸ìn
().
£t_key
(
key
,Ál£); 
	gkey
 = 0;

38767 
	g‰ame_timög
 = 
‰ame_timög
<1?1:(frame_timing>39?39:frame_timing);

38768 
	gdi•
.
waô
(20);

38771 
	gw2
 = (
visu
.
_width
 + (visu.
_dïth
>1?visu._dïth:0))*
di•
.
width
()/visu._width,

38772 
	gh2
 = (
visu
.
_height
 + (visu.
_dïth
>1?visu._dïth:0))*
di•
.
height
()/visu._height;

38773 
	gdi•
.
ªsize
(
cimg_fôs¸ìn
(
w2
,
h2
,1),
Ál£
).
£t_tôÀ
(
dtôÀ
.
d©a
()).
£t_key
().
£t_buâ⁄
().
£t_whìl
();

38774 
	gkey
 = 0;

38776 
	gcimg
::
keyHOME
 : 
ª£t_võw
 = 
ªsize_di•
 = 
åue
; 
	gkey
 = 0; ;

38777 
	gcimg
::
keyPADADD
 : 
go_ö
 = 
åue
; 
	ggo_ö_˚¡î
 =Årue; 
	gkey
 = 0; ;

38778 
	gcimg
::
keyPADSUB
 : 
go_out
 = 
åue
; 
	gkey
 = 0; ;

38779 
	gcimg
::
keyARROWLEFT
 : 
cimg
::
keyPAD4
: 
go_À·
 = 
åue
; 
	gkey
 = 0; ;

38780 
	gcimg
::
keyARROWRIGHT
 : 
cimg
::
keyPAD6
: 
go_right
 = 
åue
; 
	gkey
 = 0; ;

38781 
	gcimg
::
keyARROWUP
 : 
cimg
::
keyPAD8
: 
go_up
 = 
åue
; 
	gkey
 = 0; ;

38782 
	gcimg
::
keyARROWDOWN
 : 
cimg
::
keyPAD2
: 
go_down
 = 
åue
; 
	gkey
 = 0; ;

38783 
	gcimg
::
keyPAD7
 : 
go_up
 = 
go_À·
 = 
åue
; 
	gkey
 = 0; ;

38784 
	gcimg
::
keyPAD9
 : 
go_up
 = 
go_right
 = 
åue
; 
	gkey
 = 0; ;

38785 
	gcimg
::
keyPAD1
 : 
go_down
 = 
go_À·
 = 
åue
; 
	gkey
 = 0; ;

38786 
	gcimg
::
keyPAD3
 : 
go_down
 = 
go_right
 = 
åue
; 
	gkey
 = 0; ;

38787 
	gcimg
::
keyPAGEUP
 : 
go_öc
 = 
åue
; 
	gkey
 = 0; ;

38788 
	gcimg
::
keyPAGEDOWN
 : 
go_dec
 = 
åue
; 
	gkey
 = 0; ;

38790 i‡(
	ggo_ö
) {

38792 
	gmx
 = 
go_ö_˚¡î
?
di•
.
width
()/2:di•.
mou£_x
(),

38793 
	gmy
 = 
go_ö_˚¡î
?
di•
.
height
()/2:di•.
mou£_y
(),

38794 
	gmX
 = 
mx
*(
_width
+(
_dïth
>1?_dïth:0))/
di•
.
width
(),

38795 
	gmY
 = 
my
*(
_height
+(
_dïth
>1?_dïth:0))/
di•
.
height
();

38796 
	gX
 = 
_XYZ
[0], 
	gY
 = _XYZ[1], 
	gZ
 = _XYZ[2];

38797 i‡(
	gmX
<
width
(Ë&& 
	gmY
<
height
()Ë{ 
	gX
 = 
x0
 + 
mX
*(1+
x1
-x0)/
_width
; 
	gY
 = 
y0
 + 
mY
*(1+
y1
-y0)/
_height
; 
	gZ
 = 
_XYZ
[2]; }

38798 i‡(
	gmX
<
width
(Ë&& 
	gmY
>=
height
()Ë{ 
X
 = 
x0
 + 
mX
*(1+
x1
-x0)/
_width
; 
	gZ
 = 
z0
 + (
mY
-
_height
)*(1+
z1
-z0)/
_dïth
; 
	gY
 = 
_XYZ
[1]; }

38799 i‡(
	gmX
>=
width
(Ë&& 
mY
<
height
()Ë{ 
Y
 = 
y0
 + mY*(1+
y1
-y0)/
_height
; 
	gZ
 = 
z0
 + (
mX
-
_width
)*(1+
z1
-z0)/
_dïth
; 
	gX
 = 
_XYZ
[0]; }

38800 i‡(
	gx1
-
	gx0
>4Ë{ x0 = 
X
 - 7*(X-
x0
)/8; x1 = X + 7*(
x1
-X)/8; }

38801 i‡(
	gy1
-
	gy0
>4Ë{ y0 = 
Y
 - 7*(Y-
y0
)/8; y1 = Y + 7*(
y1
-Y)/8; }

38802 i‡(
	gz1
-
	gz0
>4Ë{ z0 = 
Z
 - 7*(Z-
z0
)/8; z1 = Z + 7*(
z1
-Z)/8; }

38804 i‡(
	ggo_out
) {

38806 
	gdñè_x
 = (
x1
-
x0
)/8, 
	gdñè_y
 = (
y1
-
y0
)/8, 
	gdñè_z
 = (
z1
-
z0
)/8,

38807 
	gndñè_x
 = 
dñè_x
?dñè_x:(
_width
>1?1:0),

38808 
	gndñè_y
 = 
dñè_y
?dñè_y:(
_height
>1?1:0),

38809 
	gndñè_z
 = 
dñè_z
?dñè_z:(
_dïth
>1?1:0);

38810 
	gx0
-=
ndñè_x
; 
	gy0
-=
ndñè_y
; 
	gz0
-=
ndñè_z
;

38811 
	gx1
+=
ndñè_x
; 
	gy1
+=
ndñè_y
; 
	gz1
+=
ndñè_z
;

38812 i‡(
	gx0
<0Ë{ 
	gx1
-=
x0
; x0 = 0; i‡(x1>=
width
()Ë
x1
 = width() - 1; }

38813 i‡(
	gy0
<0Ë{ 
	gy1
-=
y0
; y0 = 0; i‡(y1>=
height
()Ë
y1
 = height() - 1; }

38814 i‡(
	gz0
<0Ë{ 
	gz1
-=
z0
; z0 = 0; i‡(z1>=
dïth
()Ë
z1
 = depth() - 1; }

38815 i‡(
	gx1
>=
width
()Ë{ 
x0
-=(
x1
-width()+1); x1 = width()-1; i‡(
	gx0
<0) x0 = 0; }

38816 i‡(
	gy1
>=
height
()Ë{ 
y0
-=(
y1
-height()+1); y1 = height()-1; i‡(
	gy0
<0) y0 = 0; }

38817 i‡(
	gz1
>=
dïth
()Ë{ 
z0
-=(
z1
-dïth()+1); z1 = dïth()-1; i‡(
	gz0
<0) z0 = 0; }

38819 i‡(
	ggo_À·
) {

38820 c⁄° 
	gdñè
 = (
x1
-
x0
)/5, 
	gndñè
 = 
dñè
?dñè:(
_width
>1?1:0);

38821 i‡(
	gx0
-
	gndñè
>=0Ë{ 
x0
-=
ndñè
; 
	gx1
-=ndelta; }

38822 { 
	gx1
-=
x0
; 
	gx0
 = 0; }

38824 i‡(
	ggo_right
) {

38825 c⁄° 
	gdñè
 = (
x1
-
x0
)/5, 
	gndñè
 = 
dñè
?dñè:(
_width
>1?1:0);

38826 i‡(
	gx1
+
	gndñè
<
width
()Ë{ 
	gx0
+=
ndñè
; x1+=ndelta; }

38827 { 
	gx0
+=(
width
()-1-
x1
); 
	gx1
 = width()-1; }

38829 i‡(
	ggo_up
) {

38830 c⁄° 
	gdñè
 = (
y1
-
y0
)/5, 
	gndñè
 = 
dñè
?dñè:(
_height
>1?1:0);

38831 i‡(
	gy0
-
	gndñè
>=0Ë{ 
y0
-=
ndñè
; 
	gy1
-=ndelta; }

38832 { 
	gy1
-=
y0
; 
	gy0
 = 0; }

38834 i‡(
	ggo_down
) {

38835 c⁄° 
	gdñè
 = (
y1
-
y0
)/5, 
	gndñè
 = 
dñè
?dñè:(
_height
>1?1:0);

38836 i‡(
	gy1
+
	gndñè
<
height
()Ë{ 
	gy0
+=
ndñè
; y1+=ndelta; }

38837 { 
	gy0
+=(
height
()-1-
y1
); 
	gy1
 = height()-1; }

38839 i‡(
	ggo_öc
) {

38840 c⁄° 
	gdñè
 = (
z1
-
z0
)/5, 
	gndñè
 = 
dñè
?dñè:(
_dïth
>1?1:0);

38841 i‡(
	gz0
-
	gndñè
>=0Ë{ 
z0
-=
ndñè
; 
	gz1
-=ndelta; }

38842 { 
	gz1
-=
z0
; 
	gz0
 = 0; }

38844 i‡(
	ggo_dec
) {

38845 c⁄° 
	gdñè
 = (
z1
-
z0
)/5, 
	gndñè
 = 
dñè
?dñè:(
_dïth
>1?1:0);

38846 i‡(
	gz1
+
	gndñè
<
dïth
()Ë{ 
	gz0
+=
ndñè
; z1+=ndelta; }

38847 { 
	gz0
+=(
dïth
()-1-
z1
); 
	gz1
 = depth()-1; }

38849 
	gdi•
.
waô
(100);

38851 
	gdi•
.
£t_key
(
key
);

38852 i‡(
	gXYZ
Ë{ XYZ[0] = 
_XYZ
[0]; XYZ[1] = _XYZ[1]; XYZ[2] = _XYZ[2]; }

38853  *
	gthis
;

38876 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

38877 c⁄° 
	gCImg
<
	gT
>& 
di•œy_obje˘3d
(
CImgDi•œy
& 
di•
,

38878 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

38879 c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

38880 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

38881 c⁄° 
to
& 
›acôõs
,

38882 c⁄° 
boﬁ
 
˚¡îög
=
åue
,

38883 c⁄° 
ªndî_°©ic
=4, c⁄° 
ªndî_mŸi⁄
=1,

38884 c⁄° 
boﬁ
 
is_doubÀ_sided
=
åue
, c⁄° 
foˇÀ
=700,

38885 c⁄° 
light_x
=0, c⁄° 
light_y
=0, c⁄° 
light_z
=-5e8f,

38886 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f,

38887 c⁄° 
boﬁ
 
di•œy_axes
=
åue
, *c⁄° 
po£_m©rix
=0) const {

38888  
_di•œy_obje˘3d
(
di•
,0,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,
˚¡îög
,
ªndî_°©ic
,

38889 
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

38890 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

38891 
di•œy_axes
,
po£_m©rix
);

38895 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

38896 c⁄° 
	gCImg
<
	gT
>& 
di•œy_obje˘3d
(c⁄° *c⁄° 
tôÀ
,

38897 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

38898 c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

38899 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

38900 c⁄° 
to
& 
›acôõs
,

38901 c⁄° 
boﬁ
 
˚¡îög
=
åue
,

38902 c⁄° 
ªndî_°©ic
=4, c⁄° 
ªndî_mŸi⁄
=1,

38903 c⁄° 
boﬁ
 
is_doubÀ_sided
=
åue
, c⁄° 
foˇÀ
=700,

38904 c⁄° 
light_x
=0, c⁄° 
light_y
=0, c⁄° 
light_z
=-5e8f,

38905 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f,

38906 c⁄° 
boﬁ
 
di•œy_axes
=
åue
, *c⁄° 
po£_m©rix
=0) const {

38907 
CImgDi•œy
 
di•
;

38908  
_di•œy_obje˘3d
(
di•
,
tôÀ
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,
˚¡îög
,
ªndî_°©ic
,

38909 
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

38910 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

38911 
di•œy_axes
,
po£_m©rix
);

38915 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
>

38916 c⁄° 
	gCImg
<
	gT
>& 
di•œy_obje˘3d
(
CImgDi•œy
 &
di•
,

38917 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

38918 c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

38919 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

38920 c⁄° 
boﬁ
 
˚¡îög
=
åue
,

38921 c⁄° 
ªndî_°©ic
=4, c⁄° 
ªndî_mŸi⁄
=1,

38922 c⁄° 
boﬁ
 
is_doubÀ_sided
=
åue
, c⁄° 
foˇÀ
=700,

38923 c⁄° 
light_x
=0, c⁄° 
light_y
=0, c⁄° 
light_z
=-5e8f,

38924 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f,

38925 c⁄° 
boﬁ
 
di•œy_axes
=
åue
, *c⁄° 
po£_m©rix
=0) const {

38926  
di•œy_obje˘3d
(
di•
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
CImgLi°
<
ÊﬂtT
>(),
˚¡îög
,

38927 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

38928 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

38929 
di•œy_axes
,
po£_m©rix
);

38933 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
>

38934 c⁄° 
	gCImg
<
	gT
>& 
di•œy_obje˘3d
(c⁄° *c⁄° 
tôÀ
,

38935 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

38936 c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

38937 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

38938 c⁄° 
boﬁ
 
˚¡îög
=
åue
,

38939 c⁄° 
ªndî_°©ic
=4, c⁄° 
ªndî_mŸi⁄
=1,

38940 c⁄° 
boﬁ
 
is_doubÀ_sided
=
åue
, c⁄° 
foˇÀ
=700,

38941 c⁄° 
light_x
=0, c⁄° 
light_y
=0, c⁄° 
light_z
=-5e8f,

38942 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f,

38943 c⁄° 
boﬁ
 
di•œy_axes
=
åue
, *c⁄° 
po£_m©rix
=0) const {

38944  
di•œy_obje˘3d
(
tôÀ
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
CImgLi°
<
ÊﬂtT
>(),
˚¡îög
,

38945 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

38946 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

38947 
di•œy_axes
,
po£_m©rix
);

38951 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
>

38952 c⁄° 
	gCImg
<
	gT
>& 
di•œy_obje˘3d
(
CImgDi•œy
 &
di•
,

38953 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

38954 c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

38955 c⁄° 
boﬁ
 
˚¡îög
=
åue
,

38956 c⁄° 
ªndî_°©ic
=4, c⁄° 
ªndî_mŸi⁄
=1,

38957 c⁄° 
boﬁ
 
is_doubÀ_sided
=
åue
, c⁄° 
foˇÀ
=700,

38958 c⁄° 
light_x
=0, c⁄° 
light_y
=0, c⁄° 
light_z
=-5e8f,

38959 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f,

38960 c⁄° 
boﬁ
 
di•œy_axes
=
åue
, *c⁄° 
po£_m©rix
=0) const {

38961  
di•œy_obje˘3d
(
di•
,
vîti˚s
,
¥imôives
,
CImgLi°
<
T
>(),
˚¡îög
,

38962 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

38963 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

38964 
di•œy_axes
,
po£_m©rix
);

38969 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
>

38970 c⁄° 
	gCImg
<
	gT
>& 
di•œy_obje˘3d
(c⁄° *c⁄° 
tôÀ
,

38971 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

38972 c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

38973 c⁄° 
boﬁ
 
˚¡îög
=
åue
,

38974 c⁄° 
ªndî_°©ic
=4, c⁄° 
ªndî_mŸi⁄
=1,

38975 c⁄° 
boﬁ
 
is_doubÀ_sided
=
åue
, c⁄° 
foˇÀ
=700,

38976 c⁄° 
light_x
=0, c⁄° 
light_y
=0, c⁄° 
light_z
=-5e8f,

38977 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f,

38978 c⁄° 
boﬁ
 
di•œy_axes
=
åue
, *c⁄° 
po£_m©rix
=0) const {

38979  
di•œy_obje˘3d
(
tôÀ
,
vîti˚s
,
¥imôives
,
CImgLi°
<
T
>(),
˚¡îög
,

38980 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

38981 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

38982 
di•œy_axes
,
po£_m©rix
);

38986 
	gãm∂©e
<
ty≥«me
 
	gç
>

38987 c⁄° 
	gCImg
<
	gT
>& 
di•œy_obje˘3d
(
CImgDi•œy
 &
di•
,

38988 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

38989 c⁄° 
boﬁ
 
˚¡îög
=
åue
,

38990 c⁄° 
ªndî_°©ic
=4, c⁄° 
ªndî_mŸi⁄
=1,

38991 c⁄° 
boﬁ
 
is_doubÀ_sided
=
åue
, c⁄° 
foˇÀ
=700,

38992 c⁄° 
light_x
=0, c⁄° 
light_y
=0, c⁄° 
light_z
=-5e8f,

38993 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f,

38994 c⁄° 
boﬁ
 
di•œy_axes
=
åue
, *c⁄° 
po£_m©rix
=0) const {

38995  
di•œy_obje˘3d
(
di•
,
vîti˚s
,
CImgLi°
<
uötT
>(),
˚¡îög
,

38996 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

38997 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

38998 
di•œy_axes
,
po£_m©rix
);

39002 
	gãm∂©e
<
ty≥«me
 
	gç
>

39003 c⁄° 
	gCImg
<
	gT
>& 
di•œy_obje˘3d
(c⁄° *c⁄° 
tôÀ
,

39004 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

39005 c⁄° 
boﬁ
 
˚¡îög
=
åue
,

39006 c⁄° 
ªndî_°©ic
=4, c⁄° 
ªndî_mŸi⁄
=1,

39007 c⁄° 
boﬁ
 
is_doubÀ_sided
=
åue
, c⁄° 
foˇÀ
=700,

39008 c⁄° 
light_x
=0, c⁄° 
light_y
=0, c⁄° 
light_z
=-5e8f,

39009 c⁄° 
•ecuœr_lighäess
=0.2f, c⁄° 
•ecuœr_shööess
=0.1f,

39010 c⁄° 
boﬁ
 
di•œy_axes
=
åue
, *c⁄° 
po£_m©rix
=0) const {

39011  
di•œy_obje˘3d
(
tôÀ
,
vîti˚s
,
CImgLi°
<
uötT
>(),
˚¡îög
,

39012 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

39013 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

39014 
di•œy_axes
,
po£_m©rix
);

39017 
	gãm∂©e
<
ty≥«me
 
	gç
,Åy≥«mê
	gtf
,Åy≥«mê
	gtc
,Åy≥«mê
	gto
>

39018 c⁄° 
	gCImg
<
	gT
>& 
_di•œy_obje˘3d
(
CImgDi•œy
& 
di•
, c⁄° *c⁄° 
tôÀ
,

39019 c⁄° 
CImg
<
ç
>& 
vîti˚s
,

39020 c⁄° 
CImgLi°
<
tf
>& 
¥imôives
,

39021 c⁄° 
CImgLi°
<
tc
>& 
cﬁ‹s
,

39022 c⁄° 
to
& 
›acôõs
,

39023 c⁄° 
boﬁ
 
˚¡îög
,

39024 c⁄° 
ªndî_°©ic
, c⁄° 
ªndî_mŸi⁄
,

39025 c⁄° 
boﬁ
 
is_doubÀ_sided
, c⁄° 
foˇÀ
,

39026 c⁄° 
light_x
, c⁄° 
light_y
, c⁄° 
light_z
,

39027 c⁄° 
•ecuœr_lighäess
, c⁄° 
•ecuœr_shööess
,

39028 c⁄° 
boﬁ
 
di•œy_axes
, *c⁄° 
po£_m©rix
) const {

39029 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tç
,>::
	tty≥
 
	tçÊﬂt
;

39032 i‡(
is_em±y
()) {

39033 i‡(
	gdi•
Ë 
	gCImg
<
	gT
>(di•.
width
(),di•.
height
(),1,(
	gcﬁ‹s
 && cﬁ‹s[0].
size
()==1)?1:3,0).

39034 
_di•œy_obje˘3d
(
di•
,
tôÀ
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,
˚¡îög
,

39035 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

39036 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

39037 
di•œy_axes
,
po£_m©rix
);

39038  
	gCImg
<
	gT
>(1,2,1,1,64,128).
ªsize
(
cimg_fôs¸ìn
(640,480,1),1,(
cﬁ‹s
 && cﬁ‹s[0].
size
()==1)?1:3,3).

39039 
_di•œy_obje˘3d
(
di•
,
tôÀ
,
vîti˚s
,
¥imôives
,
cﬁ‹s
,
›acôõs
,
˚¡îög
,

39040 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

39041 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

39042 
di•œy_axes
,
po£_m©rix
);

39043 } { i‡(
	gdi•
Ëdi•.
ªsize
(*
this
,
Ál£
); }

39044 
	gîr‹_mesßge
[1024] = { 0 };

39045 i‡(!
	gvîti˚s
.
is_obje˘3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
åue
,
îr‹_mesßge
))

39046 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


39048 
cimg_ö°™˚
,
vîti˚s
.
_width
,
¥imôives
._width,
îr‹_mesßge
);

39049 i‡(
	gvîti˚s
.
	g_width
 && !
	g¥imôives
) {

39050 
	gCImgLi°
<
	gtf
> 
≈rimôives
(
vîti˚s
.
_width
,1,1,1,1);

39051 
cimgli°_f‹
(
≈rimôives
,
l
)Çprimitives(l,0) =Ü;

39052  
_di•œy_obje˘3d
(
di•
,
tôÀ
,
vîti˚s
,
≈rimôives
,
cﬁ‹s
,
›acôõs
,
˚¡îög
,

39053 
ªndî_°©ic
,
ªndî_mŸi⁄
,
is_doubÀ_sided
,
foˇÀ
,

39054 
light_x
,
light_y
,
light_z
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

39055 
di•œy_axes
,
po£_m©rix
);

39057 i‡(!
	gdi•
) {

39058 
	gdi•
.
assign
(
cimg_fôs¸ìn
(
_width
,
_height
,
_dïth
),
tôÀ
?title:0,3);

39059 i‡(!
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("CImg<%s> (%u vîti˚s, %uÖrimôives)",
pixñ_ty≥
(),
vîti˚s
.
_width
,
¥imôives
._width);

39060 } i‡(
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("%s",
tôÀ
);

39063 
	gCImg
<
	gÊﬂtT
>

39064 
	gpo£
,

39065 
rŸ©ed_vîti˚s
(
vîti˚s
.
_width
,3),

39066 
	gbbox_vîti˚s
, 
	grŸ©ed_bbox_vîti˚s
,

39067 
	gaxes_vîti˚s
, 
	grŸ©ed_axes_vîti˚s
,

39068 
	gbbox_›acôõs
, 
	gaxes_›acôõs
;

39069 
	gCImgLi°
<
	guötT
> 
	gbbox_¥imôives
, 
	gaxes_¥imôives
;

39070 
	gCImgLi°
<
	gtf
> 
	gªvî£_¥imôives
;

39071 
	gCImgLi°
<
	gT
> 
	gbbox_cﬁ‹s
, 
	gbbox_cﬁ‹s2
, 
	gaxes_cﬁ‹s
;

39072 
	gns_width
 = 0, 
	gns_height
 = 0;

39073 
	g_is_doubÀ_sided
 = ()
is_doubÀ_sided
;

39074 
boﬁ
 
	gndi•œy_axes
 = 
di•œy_axes
;

39075 c⁄° 
	gCImg
<
	gT
>

39076 
background_cﬁ‹
(1,1,1,
_•e˘rum
,0),

39077 
f‹eground_cﬁ‹
(1,1,1,
_•e˘rum
,255);

39079 
	gXoff
 = 0, 
	gYoff
 = 0, 
	gZoff
 = 0, 
	g•rôe_sˇÀ
 = 1,

39080 
	gxm
 = 0, 
	gxM
 = 
vîti˚s
?vîti˚s.
gë_sh¨ed_row
(0).
max_mö
(
xm
):0,

39081 
	gym
 = 0, 
	gyM
 = 
vîti˚s
?vîti˚s.
gë_sh¨ed_row
(1).
max_mö
(
ym
):0,

39082 
	gzm
 = 0, 
	gzM
 = 
vîti˚s
?vîti˚s.
gë_sh¨ed_row
(2).
max_mö
(
zm
):0;

39083 c⁄° 
	gdñè
 = 
cimg
::
max
(
xM
-
xm
,
yM
-
ym
,
zM
-
zm
);

39085 
	grŸ©ed_bbox_vîti˚s
 = 
bbox_vîti˚s
.
assign
(8,3,1,1,

39086 
xm
,
xM
,xM,xm,xm,xM,xM,xm,

39087 
ym
,ym,
yM
,yM,ym,ym,yM,yM,

39088 
zm
,zm,zm,zm,
zM
,zM,zM,zM);

39089 
	gbbox_¥imôives
.
assign
(6,1,4,1,1, 0,3,2,1, 4,5,6,7, 1,2,6,5, 0,4,7,3, 0,1,5,4, 2,3,7,6);

39090 
	gbbox_cﬁ‹s
.
assign
(6,
_•e˘rum
,1,1,1,
background_cﬁ‹
[0]);

39091 
	gbbox_cﬁ‹s2
.
assign
(6,
_•e˘rum
,1,1,1,
f‹eground_cﬁ‹
[0]);

39092 
	gbbox_›acôõs
.
assign
(
bbox_cﬁ‹s
.
_width
,1,1,1,0.3f);

39094 
	grŸ©ed_axes_vîti˚s
 = 
axes_vîti˚s
.
assign
(7,3,1,1,

39098 
	gaxes_›acôõs
.
assign
(3,1,1,1,1);

39099 
	gaxes_cﬁ‹s
.
assign
(3,
_•e˘rum
,1,1,1,
f‹eground_cﬁ‹
[0]);

39100 
	gaxes_¥imôives
.
assign
(3,1,2,1,1, 0,1, 0,2, 0,3);

39103 
	gCImg
<
	gT
> 
visu0
(*
this
), 
	gvisu
;

39104 
	gCImg
<
	gçÊﬂt
> 
zbuf„r
(
visu0
.
width
(),visu0.
height
(),1,1,0);

39105 
boﬁ
 
	göô_po£
 = 
åue
, 
	g˛icked
 = 
Ál£
, 
	gªdøw
 =Årue;

39106 
	gkey
 = 0;

39108 
	gx0
 = 0, 
	gy0
 = 0, 
	gx1
 = 0, 
	gy1
 = 0,

39109 
	gƒídî_°©ic
 = 
ªndî_°©ic
,

39110 
	gƒídî_mŸi⁄
 = 
ªndî_mŸi⁄
;

39111 
	gdi•
.
show
().
Êush
();

39113 !
	gdi•
.
is_˛o£d
(Ë&& !
	gkey
) {

39116 i‡(
	göô_po£
) {

39118 
	gøtio
 = 
dñè
>0?(2.0f*
cimg
::
mö
(
di•
.
width
(),di•.
height
())/(3.0f*
	gdñè
)):1,

39119 
	gdx
 = (
xM
 + 
xm
)/2, 
	gdy
 = (
yM
 + 
ym
)/2, 
	gdz
 = (
zM
 + 
zm
)/2;

39120 i‡(
	g˚¡îög
)

39121 
	gCImg
<
	gÊﬂtT
>(4,3,1,1, 
	gøtio
,0.,0.,-
øtio
*
	gdx
, 0.,øtio,0.,-øtio*
	gdy
, 0.,0.,øtio,-øtio*
	gdz
).
move_to
(
po£
);

39122 
	gCImg
<
	gÊﬂtT
>(4,3,1,1, 1,0,0,0, 0,1,0,0, 0,0,1,0).
move_to
(
po£
);

39123 i‡(
	gpo£_m©rix
) {

39124 
	gCImg
<
	gÊﬂtT
> 
po£0
(
po£_m©rix
,4,3,1,1,
Ál£
);

39125 
	gpo£0
.
ªsize
(4,4,1,1,0); 
	gpo£
.resize(4,4,1,1,0);

39126 
po£0
(3,3Ë
po£
(3,3) = 1;

39127 (
po£0
*
	gpo£
).
gë_¸›
(0,0,3,2).
move_to
(
po£
);

39128 
	gXoff
 = 
po£_m©rix
[12]; 
	gYoff
 =Öo£_m©rix[13]; 
	gZoff
 =Öo£_m©rix[14]; 
	g•rôe_sˇÀ
 =Öose_matrix[15];

39129 } { 
	gXoff
 = 
Yoff
 = 
Zoff
 = 0; 
	g•rôe_sˇÀ
 = 1; }

39130 
	göô_po£
 = 
Ál£
;

39131 
	gªdøw
 = 
åue
;

39135 i‡(
	gªdøw
) {

39137 
	gr00
 = 
po£
(0,0), 
	gr10
 =Öo£(1,0), 
	gr20
 =Öo£(2,0), 
	gr30
 =Öose(3,0),

39138 
	gr01
 = 
po£
(0,1), 
	gr11
 =Öo£(1,1), 
	gr21
 =Öo£(2,1), 
	gr31
 =Öose(3,1),

39139 
	gr02
 = 
po£
(0,2), 
	gr12
 =Öo£(1,2), 
	gr22
 =Öo£(2,2), 
	gr32
 =Öose(3,2);

39140 i‡((
	g˛icked
 && 
	gƒídî_mŸi⁄
>=0Ë|| (!
˛icked
 && 
ƒídî_°©ic
>=0))

39141 
cimg_f‹X
(
vîti˚s
,
l
) {

39142 c⁄° 
	gx
 = ()
vîti˚s
(
l
,0), 
	gy
 = ()vîti˚s÷,1), 
	gz
 = ()vertices(l,2);

39143 
rŸ©ed_vîti˚s
(
l
,0Ë
r00
*
x
 + 
r10
*
y
 + 
r20
*
z
 + 
r30
;

39144 
rŸ©ed_vîti˚s
(
l
,1Ë
r01
*
x
 + 
r11
*
y
 + 
r21
*
z
 + 
r31
;

39145 
rŸ©ed_vîti˚s
(
l
,2Ë
r02
*
x
 + 
r12
*
y
 + 
r22
*
z
 + 
r32
;

39147 
cimg_f‹X
(
bbox_vîti˚s
,
l
) {

39148 c⁄° 
	gx
 = 
bbox_vîti˚s
(
l
,0), 
	gy
 = bbox_vîti˚s÷,1), 
	gz
 = bbox_vertices(l,2);

39149 
rŸ©ed_bbox_vîti˚s
(
l
,0Ë
r00
*
x
 + 
r10
*
y
 + 
r20
*
z
 + 
r30
;

39150 
rŸ©ed_bbox_vîti˚s
(
l
,1Ë
r01
*
x
 + 
r11
*
y
 + 
r21
*
z
 + 
r31
;

39151 
rŸ©ed_bbox_vîti˚s
(
l
,2Ë
r02
*
x
 + 
r12
*
y
 + 
r22
*
z
 + 
r32
;

39155 
	gvisu
 = 
visu0
;

39156 i‡((
	g˛icked
 && 
	gƒídî_mŸi⁄
<0Ë|| (!˛icked && 
	gƒídî_°©ic
<0))

39157 
	gvisu
.
døw_obje˘3d
(
Xoff
 + 
visu
.
_width
/2.0f,
Yoff
 + visu.
_height
/2.0f,
Zoff
,

39158 
rŸ©ed_bbox_vîti˚s
,
bbox_¥imôives
,
bbox_cﬁ‹s
,
bbox_›acôõs
,2,
Ál£
,
foˇÀ
).

39159 
døw_obje˘3d
(
Xoff
 + 
visu
.
_width
/2.0f,
Yoff
 + visu.
_height
/2.0f,
Zoff
,

39160 
rŸ©ed_bbox_vîti˚s
,
bbox_¥imôives
,
bbox_cﬁ‹s2
,1,
Ál£
,
foˇÀ
);

39161 
	gvisu
.
_døw_obje˘3d
((*)0,(!
˛icked
 && 
ƒídî_°©ic
>0)?
zbuf„r
.
fûl
(0):
CImg
<
çÊﬂt
>::
em±y
(),

39162 
Xoff
 + 
visu
.
_width
/2.0f,
Yoff
 + visu.
_height
/2.0f,
Zoff
,

39163 
rŸ©ed_vîti˚s
,
ªvî£_¥imôives
?ªvî£_¥imôives:
¥imôives
,

39164 
cﬁ‹s
,
›acôõs
,
˛icked
?
ƒídî_mŸi⁄
:
ƒídî_°©ic
,
_is_doubÀ_sided
==1,
foˇÀ
,

39165 
width
()/2.0f+
light_x
,
height
()/2.0f+
light_y
,
light_z
+
Zoff
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

39166 
•rôe_sˇÀ
);

39168 i‡(
	gndi•œy_axes
) {

39170 
	gn
 = ()
°d
::
sqπ
(1e-8 + 
r00
*r00 + 
r01
*r01 + 
r02
*r02),

39171 
	g_r00
 = 
r00
/
n
, 
	g_r10
 = 
r10
/n, 
	g_r20
 = 
r20
/n,

39172 
	g_r01
 = 
r01
/
n
, 
	g_r11
 = 
r11
/n, 
	g_r21
 = 
r21
/n,

39173 
	g_r02
 = 
r01
/
n
, 
	g_r12
 = 
r12
/n, 
	g_r22
 = 
r22
/n,

39174 
	gXaxes
 = 25, 
	gYaxes
 = 
visu
.
_height
 - 38.0f;

39175 
cimg_f‹X
(
axes_vîti˚s
,
l
) {

39177 
	gx
 = 
axes_vîti˚s
(
l
,0),

39178 
	gy
 = 
axes_vîti˚s
(
l
,1),

39179 
	gz
 = 
axes_vîti˚s
(
l
,2);

39180 
rŸ©ed_axes_vîti˚s
(
l
,0Ë
_r00
*
x
 + 
_r10
*
y
 + 
_r20
*
z
;

39181 
rŸ©ed_axes_vîti˚s
(
l
,1Ë
_r01
*
x
 + 
_r11
*
y
 + 
_r21
*
z
;

39182 
rŸ©ed_axes_vîti˚s
(
l
,2Ë
_r02
*
x
 + 
_r12
*
y
 + 
_r22
*
z
;

39184 
axes_›acôõs
(0,0Ë(
rŸ©ed_axes_vîti˚s
(1,2)>0)?0.5f:1.0f;

39185 
axes_›acôõs
(1,0Ë(
rŸ©ed_axes_vîti˚s
(2,2)>0)?0.5f:1.0f;

39186 
axes_›acôõs
(2,0Ë(
rŸ©ed_axes_vîti˚s
(3,2)>0)?0.5f:1.0f;

39187 
	gvisu
.
døw_obje˘3d
(
Xaxes
,
Yaxes
,0,
rŸ©ed_axes_vîti˚s
,
axes_¥imôives
,
axes_cﬁ‹s
,
axes_›acôõs
,1,
Ál£
,
foˇÀ
).

39188 
døw_ãxt
(()(
Xaxes
+
rŸ©ed_axes_vîti˚s
(4,0)),

39189 ()(
Yaxes
+
rŸ©ed_axes_vîti˚s
(4,1)),

39190 "X",
axes_cﬁ‹s
[0].
_d©a
,0,
axes_›acôõs
(0,0),13).

39191 
døw_ãxt
(()(
Xaxes
+
rŸ©ed_axes_vîti˚s
(5,0)),

39192 ()(
Yaxes
+
rŸ©ed_axes_vîti˚s
(5,1)),

39193 "Y",
axes_cﬁ‹s
[1].
_d©a
,0,
axes_›acôõs
(1,0),13).

39194 
døw_ãxt
(()(
Xaxes
+
rŸ©ed_axes_vîti˚s
(6,0)),

39195 ()(
Yaxes
+
rŸ©ed_axes_vîti˚s
(6,1)),

39196 "Z",
axes_cﬁ‹s
[2].
_d©a
,0,
axes_›acôõs
(2,0),13);

39198 
	gvisu
.
di•œy
(
di•
);

39199 i‡(!
	g˛icked
 || 
	gƒídî_mŸi⁄
==
ƒídî_°©ic
Ë
ªdøw
 = 
Ál£
;

39203 
	gdi•
.
waô
();

39204 i‡((
	gdi•
.
buâ⁄
(Ë|| di•.
whìl
()Ë&& di•.
mou£_x
()>=0 && 
di•
.
mou£_y
()>=0) {

39205 
ªdøw
 = 
åue
;

39206 i‡(!
	g˛icked
Ë{ 
	gx0
 = 
x1
 = 
di•
.
mou£_x
(); 
	gy0
 = 
y1
 = di•.
mou£_y
(); i‡(!
	gdi•
.
whìl
()Ë˛icked = 
åue
; }

39207 { 
	gx1
 = 
di•
.
mou£_x
(); 
	gy1
 = di•.
mou£_y
(); }

39208 i‡(
	gdi•
.
buâ⁄
()&1) {

39210 
	gR
 = 0.45f*
cimg
::
mö
(
di•
.
width
(),di•.
height
()),

39211 
	gR2
 = 
R
*R,

39212 
	gu0
 = ()(
x0
-
di•
.
width
()/2),

39213 
	gv0
 = ()(
y0
-
di•
.
height
()/2),

39214 
	gu1
 = ()(
x1
-
di•
.
width
()/2),

39215 
	gv1
 = ()(
y1
-
di•
.
height
()/2),

39216 
	gn0
 = ()
°d
::
sqπ
(
u0
*u0+
v0
*v0),

39217 
	gn1
 = ()
°d
::
sqπ
(
u1
*u1+
v1
*v1),

39218 
	gnu0
 = 
n0
>
R
?(
u0
*R/n0):u0,

39219 
	gnv0
 = 
n0
>
R
?(
v0
*R/n0):v0,

39220 
	gnw0
 = ()
°d
::
sqπ
(
cimg
::
max
(0,
R2
-
nu0
*nu0-
nv0
*nv0)),

39221 
	gnu1
 = 
n1
>
R
?(
u1
*R/n1):u1,

39222 
	gnv1
 = 
n1
>
R
?(
v1
*R/n1):v1,

39223 
	gnw1
 = ()
°d
::
sqπ
(
cimg
::
max
(0,
R2
-
nu1
*nu1-
nv1
*nv1)),

39224 
	gu
 = 
nv0
*
nw1
-
nw0
*
nv1
,

39225 
	gv
 = 
nw0
*
nu1
-
nu0
*
nw1
,

39226 
	gw
 = 
nv0
*
nu1
-
nu0
*
nv1
,

39227 
	gn
 = ()
°d
::
sqπ
(
u
*u+
v
*v+
w
*w),

39228 
	gÆpha
 = ()
°d
::
asö
(
n
/
R2
);

39229 (
	gCImg
<
	gÊﬂtT
>::
rŸ©i⁄_m©rix
(
u
,
v
,
w
,
Æpha
)*
	gpo£
).
move_to
(
po£
);

39230 
	gx0
 = 
x1
; 
	gy0
 = 
y1
;

39232 i‡(
	gdi•
.
buâ⁄
()&2) {

39233 i‡(
	gfoˇÀ
>0Ë
	gZoff
-=(
y0
-
y1
)*
foˇÀ
/400;

39234 { c⁄° 
	gs
 = 
°d
::
exp
((
y0
-
y1
)/400.0f); 
	gpo£
*=
s
; 
	g•rôe_sˇÀ
*=s; }

39235 
	gx0
 = 
x1
; 
	gy0
 = 
y1
;

39237 i‡(
	gdi•
.
whìl
()) {

39238 i‡(
	gfoˇÀ
>0Ë
	gZoff
-=
di•
.
whìl
()*
foˇÀ
/20;

39239 { c⁄° 
	gs
 = 
°d
::
exp
(
di•
.
whìl
()/20.0f); 
	gpo£
*=
s
; 
	g•rôe_sˇÀ
*=s; }

39240 
	gdi•
.
£t_whìl
();

39242 i‡(
	gdi•
.
buâ⁄
()&4Ë{ 
	gXoff
+=(
x1
-
x0
); 
	gYoff
+=(
y1
-
y0
); 
	gx0
 = x1; 
	gy0
 = y1; }

39243 i‡((
	gdi•
.
buâ⁄
()&1) && (disp.button()&2)) {

39244 
	göô_po£
 = 
åue
; 
	gdi•
.
£t_buâ⁄
(); 
	gx0
 = 
x1
; 
	gy0
 = 
y1
;

39245 
	gpo£
 = 
CImg
<
ÊﬂtT
>(4,3,1,1, 1,0,0,0, 0,1,0,0, 0,0,1,0);

39247 } i‡(
	g˛icked
Ë{ 
	gx0
 = 
x1
; 
	gy0
 = 
y1
; clicked = 
Ál£
; 
	gªdøw
 = 
åue
; }

39249 
	gkey
 = 
di•
.
key
()) {

39250 #i‡
cimg_OS
!=2

39251 
cimg
::
keyCTRLRIGHT
 :

39253 0 : 
cimg
::
keyCTRLLEFT
 : 
key
 = 0; ;

39254 
	gcimg
::
keyD
: i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39255 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
CImgDi•œy
::
_fôs¸ìn
(3*di•.
width
()/2,3*di•.
height
()/2,1,128,-100,false),

39256 
CImgDi•œy
::
_fôs¸ìn
(3*
di•
.
width
()/2,3*di•.
height
()/2,1,128,-100,
åue
),
Ál£
).

39257 
	g_is_ªsized
 = 
åue
;

39258 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39260 
	gcimg
::
keyC
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39261 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(2*di•.
width
()/3,2*di•.
height
()/3,1),Ál£).
	g_is_ªsized
 = 
åue
;

39262 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39264 
	gcimg
::
keyR
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39265 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(
_width
,
_height
,
_dïth
),Ál£).
	g_is_ªsized
 = 
åue
;

39266 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39268 
	gcimg
::
keyF
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39269 i‡(!
ns_width
 || !
ns_height
 ||

39270 
ns_width
>()
di•
.
s¸ìn_width
(Ë|| 
ns_height
>()di•.
s¸ìn_height
()) {

39271 
ns_width
 = 
di•
.
s¸ìn_width
()*3U/4;

39272 
	gns_height
 = 
di•
.
s¸ìn_height
()*3U/4;

39274 i‡(
	gdi•
.
is_fuŒs¸ìn
()Ëdi•.
ªsize
(
ns_width
,
ns_height
,
Ál£
);

39276 
	gns_width
 = ()
di•
.
width
(); 
	gns_height
 = di•.
height
();

39277 
	gdi•
.
ªsize
(
di•
.
s¸ìn_width
(),di•.
s¸ìn_height
(),
Ál£
);

39279 
	gdi•
.
toggÀ_fuŒs¸ìn
().
	g_is_ªsized
 = 
åue
;

39280 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39282 
	gcimg
::
keyT
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39283 i‡(--
_is_doubÀ_sided
==-2) _is_double_sided = 1;

39284 i‡(
	g_is_doubÀ_sided
>=0Ë
ªvî£_¥imôives
.
assign
();

39285 
	g¥imôives
.
gë_ªvî£_obje˘3d
().
move_to
(
ªvî£_¥imôives
);

39286 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39288 
	gcimg
::
keyZ
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39289 i‡(
zbuf„r
Ëzbuf„r.
assign
();

39290 
	gzbuf„r
.
assign
(
visu0
.
width
(),visu0.
height
(),1,1,0);

39291 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39293 
	gcimg
::
keyA
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39294 
ndi•œy_axes
 = !ndisplay_axes;

39295 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39297 
	gcimg
::
keyF1
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39298 
ƒídî_mŸi⁄
 = (
ƒídî_°©ic
==0 &&Çªndî_mŸi⁄!=0)?0:-1; 
	gƒídî_°©ic
 = 0;

39299 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39301 
	gcimg
::
keyF2
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39302 
ƒídî_mŸi⁄
 = (
ƒídî_°©ic
==1 &&Çªndî_mŸi⁄!=1)?1:-1; 
	gƒídî_°©ic
 = 1;

39303 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39305 
	gcimg
::
keyF3
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39306 
ƒídî_mŸi⁄
 = (
ƒídî_°©ic
==2 &&Çªndî_mŸi⁄!=2)?2:-1; 
	gƒídî_°©ic
 = 2;

39307 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39309 
	gcimg
::
keyF4
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39310 
ƒídî_mŸi⁄
 = (
ƒídî_°©ic
==3 &&Çªndî_mŸi⁄!=3)?3:-1; 
	gƒídî_°©ic
 = 3;

39311 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39313 
	gcimg
::
keyF5
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39314 
ƒídî_mŸi⁄
 = (
ƒídî_°©ic
==4 &&Çªndî_mŸi⁄!=4)?4:-1; 
	gƒídî_°©ic
 = 4;

39315 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39317 
	gcimg
::
keyF6
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39318 
ƒídî_mŸi⁄
 = (
ƒídî_°©ic
==5 &&Çªndî_mŸi⁄!=5)?5:-1; 
	gƒídî_°©ic
 = 5;

39319 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gªdøw
 = 
åue
;

39321 
	gcimg
::
keyS
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39322 
¢≠_numbî
 = 0;

39323 
	gfûíame
[32] = { 0 };

39324 
	g°d
::
FILE
 *
fûe
;

39326 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.bmp",
¢≠_numbî
++);

39327 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

39328 } 
	gfûe
);

39329 (+
	gvisu
).
døw_ãxt
(0,0," Savög s«pshŸ... ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13).
di•œy
(
di•
);

39330 
	gvisu
.
ßve
(
fûíame
);

39331 
	gvisu
.
døw_ãxt
(0,0," S«pshŸ '%s' saved. ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13,
fûíame
).
di•œy
(
di•
);

39332 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39334 
	gcimg
::
keyG
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39335 
¢≠_numbî
 = 0;

39336 
	gfûíame
[32] = { 0 };

39337 
	g°d
::
FILE
 *
fûe
;

39339 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.off",
¢≠_numbî
++);

39340 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

39341 } 
	gfûe
);

39342 
	gvisu
.
døw_ãxt
(0,0," Savög obje˘... ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13).
di•œy
(
di•
);

39343 
	gvîti˚s
.
ßve_off
(
ªvî£_¥imôives
?ªvî£_¥imôives:
¥imôives
,
cﬁ‹s
,
fûíame
);

39344 
	gvisu
.
døw_ãxt
(0,0," Obje˘ '%s' saved. ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13,
fûíame
).
di•œy
(
di•
);

39345 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39347 
	gcimg
::
keyO
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39348 
¢≠_numbî
 = 0;

39349 
	gfûíame
[32] = { 0 };

39350 
	g°d
::
FILE
 *
fûe
;

39352 #ifde‡
cimg_u£_zlib


39353 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.cimgz",
¢≠_numbî
++);

39355 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.cimg",
¢≠_numbî
++);

39357 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

39358 } 
	gfûe
);

39359 
	gvisu
.
døw_ãxt
(0,0," Savög obje˘... ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13).
di•œy
(
di•
);

39360 
	gvîti˚s
.
gë_obje˘3dtoCImg3d
(
ªvî£_¥imôives
?ªvî£_¥imôives:
¥imôives
,
cﬁ‹s
,
›acôõs
).
ßve
(
fûíame
);

39361 
	gvisu
.
døw_ãxt
(0,0," Obje˘ '%s' saved. ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13,
fûíame
).
di•œy
(
di•
);

39362 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39364 #ifde‡
cimg_u£_bﬂrd


39365 
	gcimg
::
keyP
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39366 
¢≠_numbî
 = 0;

39367 
	gfûíame
[32] = { 0 };

39368 
	g°d
::
FILE
 *
fûe
;

39370 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.ïs",
¢≠_numbî
++);

39371 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

39372 } 
	gfûe
);

39373 
	gvisu
.
døw_ãxt
(0,0," Savög EPS s«pshŸ... ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13).
di•œy
(
di•
);

39374 
	gLibBﬂrd
::
Bﬂrd
 
bﬂrd
;

39375 (+
	gvisu
).
_døw_obje˘3d
(&
bﬂrd
,
zbuf„r
.
fûl
(0),

39376 
Xoff
 + 
visu
.
_width
/2.0f,
Yoff
 + visu.
_height
/2.0f,
Zoff
,

39377 
rŸ©ed_vîti˚s
,
ªvî£_¥imôives
?ªvî£_¥imôives:
¥imôives
,

39378 
cﬁ‹s
,
›acôõs
,
˛icked
?
ƒídî_mŸi⁄
:
ƒídî_°©ic
,

39379 
_is_doubÀ_sided
==1,
foˇÀ
,

39380 
visu
.
width
()/2.0f+
light_x
,visu.
height
()/2.0f+
light_y
,
light_z
+
Zoff
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

39381 
•rôe_sˇÀ
);

39382 
	gbﬂrd
.
ßveEPS
(
fûíame
);

39383 
	gvisu
.
døw_ãxt
(0,0," Obje˘ '%s' saved. ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13,
fûíame
).
di•œy
(
di•
);

39384 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39386 
	gcimg
::
keyV
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39387 
¢≠_numbî
 = 0;

39388 
	gfûíame
[32] = { 0 };

39389 
	g°d
::
FILE
 *
fûe
;

39391 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.svg",
¢≠_numbî
++);

39392 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

39393 } 
	gfûe
);

39394 
	gvisu
.
døw_ãxt
(0,0," Savög SVG s«pshŸ... ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13).
di•œy
(
di•
);

39395 
	gLibBﬂrd
::
Bﬂrd
 
bﬂrd
;

39396 (+
	gvisu
).
_døw_obje˘3d
(&
bﬂrd
,
zbuf„r
.
fûl
(0),

39397 
Xoff
 + 
visu
.
_width
/2.0f,
Yoff
 + visu.
_height
/2.0f,
Zoff
,

39398 
rŸ©ed_vîti˚s
,
ªvî£_¥imôives
?ªvî£_¥imôives:
¥imôives
,

39399 
cﬁ‹s
,
›acôõs
,
˛icked
?
ƒídî_mŸi⁄
:
ƒídî_°©ic
,

39400 
_is_doubÀ_sided
==1,
foˇÀ
,

39401 
visu
.
width
()/2.0f+
light_x
,visu.
height
()/2.0f+
light_y
,
light_z
+
Zoff
,
•ecuœr_lighäess
,
•ecuœr_shööess
,

39402 
•rôe_sˇÀ
);

39403 
	gbﬂrd
.
ßveSVG
(
fûíame
);

39404 
	gvisu
.
døw_ãxt
(0,0," Obje˘ '%s' saved. ",
f‹eground_cﬁ‹
.
_d©a
,
background_cﬁ‹
._d©a,1,13,
fûíame
).
di•œy
(
di•
);

39405 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0;

39409 i‡(
	gdi•
.
is_ªsized
()) {

39410 
	gdi•
.
ªsize
(
Ál£
); 
	gvisu0
 = 
gë_ªsize
(
di•
,1);

39411 i‡(
	gzbuf„r
Ëzbuf„r.
assign
(
di•
.
width
(),di•.
height
());

39412 
	gªdøw
 = 
åue
;

39415 i‡(
	gpo£_m©rix
) {

39416 
	g°d
::
mem˝y
(
po£_m©rix
,
po£
.
_d©a
,12*());

39417 
	gpo£_m©rix
[12] = 
Xoff
;Öo£_m©rix[13] = 
Yoff
;Öo£_m©rix[14] = 
Zoff
;Öo£_m©rix[15] = 
•rôe_sˇÀ
;

39419 
	gdi•
.
£t_buâ⁄
().
£t_key
(
key
);

39420  *
	gthis
;

39435 c⁄° 
	gCImg
<
	gT
>& 
di•œy_gøph
(
CImgDi•œy
 &
di•
,

39436 c⁄° 
∂Ÿ_ty≥
=1, c⁄° 
vîãx_ty≥
=1,

39437 c⁄° *c⁄° 
œbñx
=0, c⁄° 
xmö
=0, c⁄° 
xmax
=0,

39438 c⁄° *c⁄° 
œbñy
=0, c⁄° 
ymö
=0, c⁄° 
ymax
=0) const {

39439 i‡(
is_em±y
())

39440 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


39442 
cimg_ö°™˚
);

39443 i‡(!
	gdi•
Ëdi•.
assign
(
cimg_fôs¸ìn
(640,480,1),0,0).
£t_tôÀ
("CImg<%s>",
pixñ_ty≥
());

39444 c⁄° 
	gsiz
 = ()
_width
*
_height
*
_dïth
, 
	gsiz1
 = 
cimg
::
max
(1U,
siz
-1);

39445 c⁄° 
	gﬁd_n‹mÆiz©i⁄
 = 
di•
.
n‹mÆiz©i⁄
();

39446 
	gdi•
.
show
().
Êush
().
	g_n‹mÆiz©i⁄
 = 0;

39448 
	gy0
 = 
ymö
, 
	gy1
 = 
ymax
, 
	gnxmö
 = 
xmö
, 
	gnxmax
 = 
xmax
;

39449 i‡(
	gnxmö
==
nxmax
Ë{ 
nxmö
 = 0; 
	gnxmax
 = 
siz1
; }

39450 
	gx0
 = 0, 
	gx1
 = 
width
()*
height
()*
dïth
(Ë- 1, 
	gkey
 = 0;

39452 
boﬁ
 
	gª£t_võw
 = 
åue
, 
	gªsize_di•
 = 
Ál£
; !
	gkey
 && !
	gdi•
.
is_˛o£d
(); ) {

39453 i‡(
	gª£t_võw
Ë{ 
	gx0
 = 0; 
	gx1
 = 
width
()*
height
()*
dïth
()-1; 
	gy0
 = 
ymö
; 
	gy1
 = 
ymax
;Ñe£t_võw = 
Ál£
; }

39454 
	gCImg
<
	gT
> 
zoom
(
x1
-
x0
+1,1,1,
•e˘rum
());

39455 
cimg_f‹C
(*
this
,
c
Ë
	gzoom
.
gë_sh¨ed_ch™√l
(cË
CImg
<
T
>(
d©a
(
x0
,0,0,c),
	gx1
-
	gx0
+1,1,1,1,
	gåue
);

39457 i‡(
	gy0
==
y1
Ë{ 
y0
 = 
zoom
.
mö_max
(y1); c⁄° 
	gdy
 = y1 - y0; y0-=
dy
/20; 
	gy1
+=dy/20; }

39458 i‡(
	gy0
==
y1
Ë{ --
y0
; ++
	gy1
; }

39459 c⁄° 
	gCImg
<
	götT
> 
	g£À˘i⁄
 = 
zoom
.
gë_£À˘_gøph
(
di•
,
∂Ÿ_ty≥
,
vîãx_ty≥
,

39460 
œbñx
,

39461 
nxmö
 + 
x0
*(
nxmax
-nxmö)/
siz1
,

39462 
nxmö
 + 
x1
*(
nxmax
-nxmö)/
siz1
,

39463 
œbñy
,
y0
,
y1
);

39464 c⁄° 
	gmou£_x
 = 
di•
.
mou£_x
(), 
	gmou£_y
 = di•.
mou£_y
();

39465 i‡(
	g£À˘i⁄
[0]>=0) {

39466 i‡(
£À˘i⁄
[2]<0Ë
ª£t_võw
 = 
åue
;

39468 
	gx1
 = 
x0
 + 
£À˘i⁄
[2]; 
	gx0
+=selection[0];

39469 i‡(
	g£À˘i⁄
[1]>=0 && 
£À˘i⁄
[3]>=0) {

39470 
y0
 = 
y1
 - 
£À˘i⁄
[3]*(y1-y0)/(
di•
.
height
()-32);

39471 
	gy1
-=
£À˘i⁄
[1]*(
y1
-
y0
)/(
di•
.
height
()-32);

39475 
boﬁ
 
	ggo_ö
 = 
Ál£
, 
	ggo_out
 = fÆ£, 
	ggo_À·
 = fÆ£, 
	ggo_right
 = fÆ£, 
	ggo_up
 = fÆ£, 
	ggo_down
 = false;

39476 
	gkey
 = 
di•
.
key
()) {

39477 
cimg
::
keyHOME
 : 
ª£t_võw
 = 
ªsize_di•
 = 
åue
; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39478 
	gcimg
::
keyPADADD
 : 
go_ö
 = 
åue
; 
	ggo_out
 = 
Ál£
; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39479 
	gcimg
::
keyPADSUB
 : 
go_out
 = 
åue
; 
	ggo_ö
 = 
Ál£
; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39480 
	gcimg
::
keyARROWLEFT
 : 
cimg
::
keyPAD4
 : 
go_À·
 = 
åue
; 
	ggo_right
 = 
Ál£
; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39481 
	gcimg
::
keyARROWRIGHT
 : 
cimg
::
keyPAD6
 : 
go_right
 = 
åue
; 
	ggo_À·
 = 
Ál£
; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39482 
	gcimg
::
keyARROWUP
 : 
cimg
::
keyPAD8
 : 
go_up
 = 
åue
; 
	ggo_down
 = 
Ál£
; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39483 
	gcimg
::
keyARROWDOWN
 : 
cimg
::
keyPAD2
 : 
go_down
 = 
åue
; 
	ggo_up
 = 
Ál£
; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39484 
	gcimg
::
keyPAD7
 : 
go_À·
 = 
åue
; 
	ggo_up
 =Årue; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39485 
	gcimg
::
keyPAD9
 : 
go_right
 = 
åue
; 
	ggo_up
 =Årue; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39486 
	gcimg
::
keyPAD1
 : 
go_À·
 = 
åue
; 
	ggo_down
 =Årue; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39487 
	gcimg
::
keyPAD3
 : 
go_right
 = 
åue
; 
	ggo_down
 =Årue; 
	gkey
 = 0; 
	gdi•
.
£t_key
(); ;

39489 i‡(
	gdi•
.
whìl
()) {

39490 i‡(
	gdi•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()Ë
	ggo_out
 = !(
go_ö
 = 
di•
.
whìl
()>0);

39491 i‡(
	gdi•
.
is_keySHIFTLEFT
(Ë|| di•.
is_keySHIFTRIGHT
()Ë
	ggo_À·
 = !(
go_right
 = 
di•
.
whìl
()>0);

39492 
	ggo_up
 = !(
go_down
 = 
di•
.
whìl
()<0);

39493 
	gkey
 = 0;

39496 i‡(
	ggo_ö
) {

39498 
	gxsiz
 = 
x1
 - 
x0
,

39499 
	gmx
 = (
mou£_x
-16)*
xsiz
/(
di•
.
width
()-32),

39500 
	gcx
 = 
x0
 + (
mx
<0?0:(mx>=
xsiz
?xsiz:mx));

39501 i‡(
	gx1
-
	gx0
>4) {

39502 
	gx0
 = 
cx
 - 7*(cx-
x0
)/8; 
	gx1
 = cx + 7*(
x1
-cx)/8;

39503 i‡(
	gdi•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

39505 
	gysiz
 = 
y1
 - 
y0
,

39506 
	gmy
 = (
mou£_y
-16)*
ysiz
/(
di•
.
height
()-32),

39507 
	gcy
 = 
y1
 - (
my
<0?0:(my>=
ysiz
?ysiz:my));

39508 
	gy0
 = 
cy
 - 7*(cy-
y0
)/8; 
	gy1
 = cy + 7*(
y1
-cy)/8;

39509 } 
	gy0
 = 
y1
 = 0;

39512 i‡(
	ggo_out
) {

39513 i‡(
	gx0
>0 || 
	gx1
<()
	gsiz1
) {

39514 c⁄° 
	gdñè_x
 = (
x1
-
x0
)/8, 
	gndñè_x
 = 
dñè_x
?dñè_x:(
siz
>1?1:0);

39515 c⁄° 
	gndñè_y
 = (
y1
-
y0
)/8;

39516 
	gx0
-=
ndñè_x
; 
	gx1
+=ndelta_x;

39517 
	gy0
-=
ndñè_y
; 
	gy1
+=ndelta_y;

39518 i‡(
	gx0
<0Ë{ 
	gx1
-=
x0
; x0 = 0; i‡(x1>=()
siz
Ë
x1
 = ()
siz1
; }

39519 i‡(
	gx1
>=()
siz
Ë{ 
x0
-=(
x1
-
siz1
); x1 = ()siz1; i‡(
	gx0
<0) x0 = 0; }

39522 i‡(
	ggo_À·
) {

39523 c⁄° 
	gdñè
 = (
x1
-
x0
)/5, 
	gndñè
 = 
dñè
?delta:1;

39524 i‡(
	gx0
-
	gndñè
>=0Ë{ 
x0
-=
ndñè
; 
	gx1
-=ndelta; }

39525 { 
	gx1
-=
x0
; 
	gx0
 = 0; }

39526 
	ggo_À·
 = 
Ál£
;

39528 i‡(
	ggo_right
) {

39529 c⁄° 
	gdñè
 = (
x1
-
x0
)/5, 
	gndñè
 = 
dñè
?delta:1;

39530 i‡(
	gx1
+
	gndñè
<()
	gsiz
Ë{ 
	gx0
+=
ndñè
; x1+=ndelta; }

39531 { 
	gx0
+=(
siz1
-
x1
); 
	gx1
 = siz1; }

39532 
	ggo_right
 = 
Ál£
;

39534 i‡(
	ggo_up
) {

39535 c⁄° 
	gdñè
 = (
y1
-
y0
)/10, 
	gndñè
 = 
dñè
?delta:1;

39536 
	gy0
+=
ndñè
; 
	gy1
+=ndelta;

39537 
	ggo_up
 = 
Ál£
;

39539 i‡(
	ggo_down
) {

39540 c⁄° 
	gdñè
 = (
y1
-
y0
)/10, 
	gndñè
 = 
dñè
?delta:1;

39541 
	gy0
-=
ndñè
; 
	gy1
-=ndelta;

39542 
	ggo_down
 = 
Ál£
;

39546 
	gdi•
.
	g_n‹mÆiz©i⁄
 = 
ﬁd_n‹mÆiz©i⁄
;

39547  *
	gthis
;

39551 c⁄° 
	gCImg
<
	gT
>& 
di•œy_gøph
(c⁄° *c⁄° 
tôÀ
=0,

39552 c⁄° 
∂Ÿ_ty≥
=1, c⁄° 
vîãx_ty≥
=1,

39553 c⁄° *c⁄° 
œbñx
=0, c⁄° 
xmö
=0, c⁄° 
xmax
=0,

39554 c⁄° *c⁄° 
œbñy
=0, c⁄° 
ymö
=0, c⁄° 
ymax
=0) const {

39555 i‡(
is_em±y
())

39556 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


39558 
cimg_ö°™˚
);

39559 
CImgDi•œy
 
	gdi•
;

39560  
di•œy_gøph
(
di•
.
£t_tôÀ
("%s",
tôÀ
),
∂Ÿ_ty≥
,
vîãx_ty≥
,
œbñx
,
xmö
,
xmax
,
œbñy
,
ymö
,
ymax
);

39573 c⁄° 
	gCImg
<
	gT
>& 
ßve
(c⁄° *c⁄° 
fûíame
, c⁄° 
numbî
=-1, c⁄° 
digôs
=6) const {

39574 i‡(!
fûíame
)

39575 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


39577 
cimg_ö°™˚
);

39579 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
);

39580 
	gnfûíame
[1024] = { 0 };

39581 c⁄° *c⁄° 
	g‚
 = (
numbî
>=0)?
cimg
::
numbî_fûíame
(
fûíame
,numbî,
digôs
,
nfûíame
):filename;

39583 #ifde‡
cimg_ßve_∂ugö


39584 
cimg_ßve_∂ugö
(
‚
);

39586 #ifde‡
cimg_ßve_∂ugö1


39587 
cimg_ßve_∂ugö1
(
‚
);

39589 #ifde‡
cimg_ßve_∂ugö2


39590 
cimg_ßve_∂ugö2
(
‚
);

39592 #ifde‡
cimg_ßve_∂ugö3


39593 
cimg_ßve_∂ugö3
(
‚
);

39595 #ifde‡
cimg_ßve_∂ugö4


39596 
cimg_ßve_∂ugö4
(
‚
);

39598 #ifde‡
cimg_ßve_∂ugö5


39599 
cimg_ßve_∂ugö5
(
‚
);

39601 #ifde‡
cimg_ßve_∂ugö6


39602 
cimg_ßve_∂ugö6
(
‚
);

39604 #ifde‡
cimg_ßve_∂ugö7


39605 
cimg_ßve_∂ugö7
(
‚
);

39607 #ifde‡
cimg_ßve_∂ugö8


39608 
cimg_ßve_∂ugö8
(
‚
);

39611 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"asc")Ë 
ßve_ascii
(
‚
);

39612 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"dlm") ||

39613 !
	gcimg
::
°rˇ£cmp
(
ext
,"txt")Ë 
ßve_dlm
(
‚
);

39614 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cpp") ||

39615 !
	gcimg
::
°rˇ£cmp
(
ext
,"hpp") ||

39616 !
	gcimg
::
°rˇ£cmp
(
ext
,"h") ||

39617 !
	gcimg
::
°rˇ£cmp
(
ext
,"c")Ë 
ßve_˝p
(
‚
);

39620 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"bmp")Ë 
ßve_bmp
(
‚
);

39621 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"jpg") ||

39622 !
	gcimg
::
°rˇ£cmp
(
ext
,"jpeg") ||

39623 !
	gcimg
::
°rˇ£cmp
(
ext
,"jpe") ||

39624 !
	gcimg
::
°rˇ£cmp
(
ext
,"jfif") ||

39625 !
	gcimg
::
°rˇ£cmp
(
ext
,"jif")Ë 
ßve_j≥g
(
‚
);

39626 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"rgb")Ë 
ßve_rgb
(
‚
);

39627 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"rgba")Ë 
ßve_rgba
(
‚
);

39628 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"≤g")Ë 
ßve_≤g
(
‚
);

39629 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"pgm") ||

39630 !
	gcimg
::
°rˇ£cmp
(
ext
,"ppm") ||

39631 !
	gcimg
::
°rˇ£cmp
(
ext
,"≤m")Ë 
ßve_≤m
(
‚
);

39632 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"≤k")Ë 
ßve_≤k
(
‚
);

39633 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"pfm")Ë 
ßve_pfm
(
‚
);

39634 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"exr")Ë 
ßve_exr
(
‚
);

39635 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"tif") ||

39636 !
	gcimg
::
°rˇ£cmp
(
ext
,"tiff")Ë 
ßve_tiff
(
‚
);

39639 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cimgz")Ë 
ßve_cimg
(
‚
,
åue
);

39640 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cimg"Ë|| !*
	gext
Ë 
ßve_cimg
(
‚
,
Ál£
);

39641 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"dcm")Ë 
ßve_medc⁄_exã∫Æ
(
‚
);

39642 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"hdr") ||

39643 !
	gcimg
::
°rˇ£cmp
(
ext
,"nii")Ë 
ßve_™Æyze
(
‚
);

39644 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"ör")Ë 
ßve_ör
(
‚
);

39645 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"mnc")Ë 
ßve_möc2
(
‚
);

39646 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"∑n")Ë 
ßve_∑nd‹e
(
‚
);

39647 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"øw")Ë 
ßve_øw
(
‚
);

39650 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gz")Ë 
ßve_gzù_exã∫Æ
(
‚
);

39653 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"yuv")Ë 
ßve_yuv
(
‚
,
åue
);

39654 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"avi") ||

39655 !
	gcimg
::
°rˇ£cmp
(
ext
,"mov") ||

39656 !
	gcimg
::
°rˇ£cmp
(
ext
,"asf") ||

39657 !
	gcimg
::
°rˇ£cmp
(
ext
,"divx") ||

39658 !
	gcimg
::
°rˇ£cmp
(
ext
,"flv") ||

39659 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpg") ||

39660 !
	gcimg
::
°rˇ£cmp
(
ext
,"m1v") ||

39661 !
	gcimg
::
°rˇ£cmp
(
ext
,"m2v") ||

39662 !
	gcimg
::
°rˇ£cmp
(
ext
,"m4v") ||

39663 !
	gcimg
::
°rˇ£cmp
(
ext
,"mjp") ||

39664 !
	gcimg
::
°rˇ£cmp
(
ext
,"mkv") ||

39665 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpe") ||

39666 !
	gcimg
::
°rˇ£cmp
(
ext
,"movie") ||

39667 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogm") ||

39668 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogg") ||

39669 !
	gcimg
::
°rˇ£cmp
(
ext
,"qt") ||

39670 !
	gcimg
::
°rˇ£cmp
(
ext
,"rm") ||

39671 !
	gcimg
::
°rˇ£cmp
(
ext
,"vob") ||

39672 !
	gcimg
::
°rˇ£cmp
(
ext
,"wmv") ||

39673 !
	gcimg
::
°rˇ£cmp
(
ext
,"xvid") ||

39674 !
	gcimg
::
°rˇ£cmp
(
ext
,"m≥g")Ë 
ßve_ffm≥g
(
‚
);

39675  
ßve_Ÿhî
(
‚
);

39682 c⁄° 
	gCImg
<
	gT
>& 
ßve_ascii
(c⁄° *c⁄° 
fûíame
) const {

39683  
_ßve_ascii
(0,
fûíame
);

39687 c⁄° 
	gCImg
<
	gT
>& 
ßve_ascii
(
°d
::
FILE
 *c⁄° 
fûe
) const {

39688  
_ßve_ascii
(
fûe
,0);

39691 c⁄° 
	gCImg
<
	gT
>& 
_ßve_ascii
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

39692 i‡(!
	gfûe
 && !
	gfûíame
)

39693 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


39695 
cimg_ö°™˚
);

39696 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"w");

39697 
	g°d
::
Ârötf
(
nfûe
,"%u %u %u %u\n",
_width
,
_height
,
_dïth
,
_•e˘rum
);

39698 c⁄° 
T
* 
	g±rs
 = 
_d©a
;

39699 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

39700 
cimg_f‹X
(*
this
,
x
Ë
	g°d
::
Ârötf
(
nfûe
,"%.16g ",()*(
±rs
++));

39701 
	g°d
::
Âutc
('\n',
nfûe
);

39703 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

39704  *
	gthis
;

39711 c⁄° 
	gCImg
<
	gT
>& 
ßve_˝p
(c⁄° *c⁄° 
fûíame
) const {

39712  
_ßve_˝p
(0,
fûíame
);

39716 c⁄° 
	gCImg
<
	gT
>& 
ßve_˝p
(
°d
::
FILE
 *c⁄° 
fûe
) const {

39717  
_ßve_˝p
(
fûe
,0);

39720 c⁄° 
	gCImg
<
	gT
>& 
_ßve_˝p
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

39721 i‡(!
	gfûe
 && !
	gfûíame
)

39722 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


39724 
cimg_ö°™˚
);

39725 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"w");

39726 
	gv¨«me
[1024] = { 0 };

39727 i‡(
	gfûíame
Ë
	g°d
::
ssˇnf
(
cimg
::
ba£«me
(
fûíame
),"%1023[a-zA-Z0-9_]",
v¨«me
);

39728 i‡(!*
	gv¨«me
Ë
cimg_¢¥ötf
(
v¨«me
,(varname),"unnamed");

39729 
	g°d
::
Ârötf
(
nfûe
,

39732 
v¨«me
,
_width
,
_height
,
_dïth
,
_•e˘rum
,
pixñ_ty≥
(),pixel_type(),varname,

39733 
is_em±y
()?"};":"");

39734 i‡(!
is_em±y
()Ë
	goff
 = 0, 
	gsiz
 = 
size
()-1; off<=
siz
; ++off) {

39735 
	g°d
::
Ârötf
(
nfûe
,
cimg
::
ty≥
<
T
>::
f‹m©
(),cimg::ty≥<T>::f‹m©((*
this
)[
off
]));

39736 i‡(
	goff
==
siz
Ë
°d
::
Ârötf
(
nfûe
," };\n");

39737 i‡(!((
	goff
+1)%16)Ë
	g°d
::
Ârötf
(
nfûe
,",\n ");

39738 
	g°d
::
Ârötf
(
nfûe
,", ");

39740 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

39741  *
	gthis
;

39748 c⁄° 
	gCImg
<
	gT
>& 
ßve_dlm
(c⁄° *c⁄° 
fûíame
) const {

39749  
_ßve_dlm
(0,
fûíame
);

39753 c⁄° 
	gCImg
<
	gT
>& 
ßve_dlm
(
°d
::
FILE
 *c⁄° 
fûe
) const {

39754  
_ßve_dlm
(
fûe
,0);

39757 c⁄° 
	gCImg
<
	gT
>& 
_ßve_dlm
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

39758 i‡(!
	gfûe
 && !
	gfûíame
)

39759 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


39761 
cimg_ö°™˚
);

39762 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

39763 i‡(
	g_dïth
>1)

39764 
	gcimg
::
w¨n
(
_cimg_ö°™˚


39766 
cimg_ö°™˚
,

39767 
fûíame
?filename:"(FILE*)");

39768 i‡(
	g_•e˘rum
>1)

39769 
	gcimg
::
w¨n
(
_cimg_ö°™˚


39771 
cimg_ö°™˚
,

39772 
fûíame
?filename:"(FILE*)");

39774 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"w");

39775 c⁄° 
T
* 
	g±rs
 = 
_d©a
;

39776 
cimg_f‹YZC
(*
this
,
y
,
z
,
c
) {

39777 
cimg_f‹X
(*
this
,
x
Ë
	g°d
::
Ârötf
(
nfûe
,"%.16g%s",()*(
±rs
++),(x==
width
()-1)?"":",");

39778 
	g°d
::
Âutc
('\n',
nfûe
);

39780 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

39781  *
	gthis
;

39788 c⁄° 
	gCImg
<
	gT
>& 
ßve_bmp
(c⁄° *c⁄° 
fûíame
) const {

39789  
_ßve_bmp
(0,
fûíame
);

39793 c⁄° 
	gCImg
<
	gT
>& 
ßve_bmp
(
°d
::
FILE
 *c⁄° 
fûe
) const {

39794  
_ßve_bmp
(
fûe
,0);

39797 c⁄° 
	gCImg
<
	gT
>& 
_ßve_bmp
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

39798 i‡(!
	gfûe
 && !
	gfûíame
)

39799 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


39801 
cimg_ö°™˚
);

39802 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

39803 i‡(
	g_dïth
>1)

39804 
	gcimg
::
w¨n
(
_cimg_ö°™˚


39806 
cimg_ö°™˚
,

39807 
fûíame
?filename:"(FILE*)");

39808 i‡(
	g_•e˘rum
>3)

39809 
	gcimg
::
w¨n
(
_cimg_ö°™˚


39811 
cimg_ö°™˚
,

39812 
fûíame
?filename:"(FILE*)");

39814 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

39815 
	ghódî
[54] = { 0 }, 
	gÆign_buf
[4] = { 0 };

39817 
	gÆign
 = (4 - (3*
_width
)%4)%4,

39818 
	gbuf_size
 = (3*
_width
 + 
Æign
)*
height
(),

39819 
	gfûe_size
 = 54 + 
buf_size
;

39820 
	ghódî
[0] = 'B'; header[1] = 'M';

39821 
	ghódî
[0x02] = 
fûe_size
&0xFF;

39822 
	ghódî
[0x03] = (
fûe_size
>>8)&0xFF;

39823 
	ghódî
[0x04] = (
fûe_size
>>16)&0xFF;

39824 
	ghódî
[0x05] = (
fûe_size
>>24)&0xFF;

39825 
	ghódî
[0x0A] = 0x36;

39826 
	ghódî
[0x0E] = 0x28;

39827 
	ghódî
[0x12] = 
_width
&0xFF;

39828 
	ghódî
[0x13] = (
_width
>>8)&0xFF;

39829 
	ghódî
[0x14] = (
_width
>>16)&0xFF;

39830 
	ghódî
[0x15] = (
_width
>>24)&0xFF;

39831 
	ghódî
[0x16] = 
_height
&0xFF;

39832 
	ghódî
[0x17] = (
_height
>>8)&0xFF;

39833 
	ghódî
[0x18] = (
_height
>>16)&0xFF;

39834 
	ghódî
[0x19] = (
_height
>>24)&0xFF;

39835 
	ghódî
[0x1A] = 1;

39836 
	ghódî
[0x1B] = 0;

39837 
	ghódî
[0x1C] = 24;

39838 
	ghódî
[0x1D] = 0;

39839 
	ghódî
[0x22] = 
buf_size
&0xFF;

39840 
	ghódî
[0x23] = (
buf_size
>>8)&0xFF;

39841 
	ghódî
[0x24] = (
buf_size
>>16)&0xFF;

39842 
	ghódî
[0x25] = (
buf_size
>>24)&0xFF;

39843 
	ghódî
[0x27] = 0x1;

39844 
	ghódî
[0x2B] = 0x1;

39845 
	gcimg
::
fwrôe
(
hódî
,54,
nfûe
);

39847 c⁄° 
T


39848 *
	g±r_r
 = 
d©a
(0,
_height
-1,0,0),

39849 *
	g±r_g
 = (
_•e˘rum
>=2)?
d©a
(0,
_height
-1,0,1):0,

39850 *
	g±r_b
 = (
_•e˘rum
>=3)?
d©a
(0,
_height
-1,0,2):0;

39852 
	g_•e˘rum
) {

39854 
cimg_f‹Y
(*
this
,
y
) {

39855 
cimg_f‹X
(*
this
,
x
) {

39856 c⁄° 
	gvÆ
 = ()*(
±r_r
++);

39857 
	g°d
::
Âutc
(
vÆ
,
nfûe
); std::fputc(val,nfile); std::fputc(val,nfile);

39859 
	gcimg
::
fwrôe
(
Æign_buf
,
Æign
,
nfûe
);

39860 
	g±r_r
-=2*
_width
;

39864 
cimg_f‹Y
(*
this
,
y
) {

39865 
cimg_f‹X
(*
this
,
x
) {

39866 
	g°d
::
Âutc
(0,
nfûe
);

39867 
	g°d
::
Âutc
(()(*(
±r_g
++)),
nfûe
);

39868 
	g°d
::
Âutc
(()(*(
±r_r
++)),
nfûe
);

39870 
	gcimg
::
fwrôe
(
Æign_buf
,
Æign
,
nfûe
);

39871 
	g±r_r
-=2*
_width
; 
	g±r_g
-=2*_width;

39875 
cimg_f‹Y
(*
this
,
y
) {

39876 
cimg_f‹X
(*
this
,
x
) {

39877 
	g°d
::
Âutc
(()(*(
±r_b
++)),
nfûe
);

39878 
	g°d
::
Âutc
(()(*(
±r_g
++)),
nfûe
);

39879 
	g°d
::
Âutc
(()(*(
±r_r
++)),
nfûe
);

39881 
	gcimg
::
fwrôe
(
Æign_buf
,
Æign
,
nfûe
);

39882 
	g±r_r
-=2*
_width
; 
	g±r_g
-=2*_width; 
	g±r_b
-=2*_width;

39886 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

39887  *
	gthis
;

39895 c⁄° 
	gCImg
<
	gT
>& 
ßve_j≥g
(c⁄° *c⁄° 
fûíame
, c⁄° 
quÆôy
=100) const {

39896  
_ßve_j≥g
(0,
fûíame
,
quÆôy
);

39900 c⁄° 
	gCImg
<
	gT
>& 
ßve_j≥g
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
quÆôy
=100) const {

39901  
_ßve_j≥g
(
fûe
,0,
quÆôy
);

39904 c⁄° 
	gCImg
<
	gT
>& 
_ßve_j≥g
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
quÆôy
) const {

39905 i‡(!
	gfûe
 && !
	gfûíame
)

39906 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


39908 
cimg_ö°™˚
);

39909 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

39910 i‡(
	g_dïth
>1)

39911 
	gcimg
::
w¨n
(
_cimg_ö°™˚


39913 
cimg_ö°™˚
,

39914 
fûíame
?filename:"(FILE*)");

39916 #i‚de‡
cimg_u£_j≥g


39917 i‡(!
	gfûe
Ë 
ßve_Ÿhî
(
fûíame
,
quÆôy
);

39918 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


39920 
cimg_ö°™˚
);

39922 
	gdimbuf
 = 0;

39923 
J_COLOR_SPACE
 
	gcﬁ‹ty≥
 = 
JCS_RGB
;

39925 
	g_•e˘rum
) {

39926 1 : 
dimbuf
 = 1; 
	gcﬁ‹ty≥
 = 
JCS_GRAYSCALE
; ;

39927 2 : 
dimbuf
 = 3; 
	gcﬁ‹ty≥
 = 
JCS_RGB
; ;

39928 3 : 
dimbuf
 = 3; 
	gcﬁ‹ty≥
 = 
JCS_RGB
; ;

39929  : 
dimbuf
 = 4; 
	gcﬁ‹ty≥
 = 
JCS_CMYK
; ;

39933 
j≥g_com¥ess_°ru˘
 
	gcöfo
;

39934 
j≥g_îr‹_mgr
 
	gjîr
;

39935 
	gcöfo
.
	gîr
 = 
j≥g_°d_îr‹
(&
jîr
);

39936 
j≥g_¸óã_com¥ess
(&
cöfo
);

39937 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

39938 
j≥g_°dio_de°
(&
cöfo
,
nfûe
);

39939 
	gcöfo
.
	gimage_width
 = 
_width
;

39940 
	gcöfo
.
	gimage_height
 = 
_height
;

39941 
	gcöfo
.
	göput_comp⁄íts
 = 
dimbuf
;

39942 
	gcöfo
.
	gö_cﬁ‹_•a˚
 = 
cﬁ‹ty≥
;

39943 
j≥g_£t_deÁu…s
(&
cöfo
);

39944 
j≥g_£t_quÆôy
(&
cöfo
,
quÆôy
<100?quÆôy:100,
TRUE
);

39945 
j≥g_°¨t_com¥ess
(&
cöfo
,
TRUE
);

39947 
JSAMPROW
 
	grow_poöãr
[1];

39948 
	gCImg
<
	guch¨T
> 
buf„r
(()
_width
*
dimbuf
);

39950 
	gcöfo
.
	g√xt_sˇ∆öe
<cöfo.
	gimage_height
) {

39951 *
	g±rd
 = 
buf„r
.
_d©a
;

39954 
	g_•e˘rum
) {

39956 c⁄° 
T
 *
±r_g
 = 
d©a
(0, 
cöfo
.
√xt_sˇ∆öe
);

39957 
	gb
 = 0; b < 
	gcöfo
.
	gimage_width
; b++)

39958 *(
	g±rd
++Ë()*(
±r_g
++);

39961 c⁄° 
T
 *
±r_r
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,0),

39962 *
	g±r_g
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,1);

39963 
	gb
 = 0; b < 
	gcöfo
.
	gimage_width
; ++b) {

39964 *(
	g±rd
++Ë()*(
±r_r
++);

39965 *(
	g±rd
++Ë()*(
±r_g
++);

39966 *(
	g±rd
++) = 0;

39970 c⁄° 
T
 *
±r_r
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,0),

39971 *
	g±r_g
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,1),

39972 *
	g±r_b
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,2);

39973 
	gb
 = 0; b < 
	gcöfo
.
	gimage_width
; ++b) {

39974 *(
	g±rd
++Ë()*(
±r_r
++);

39975 *(
	g±rd
++Ë()*(
±r_g
++);

39976 *(
	g±rd
++Ë()*(
±r_b
++);

39980 c⁄° 
T
 *
±r_r
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,0),

39981 *
	g±r_g
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,1),

39982 *
	g±r_b
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,2),

39983 *
	g±r_a
 = 
d©a
(0,
cöfo
.
√xt_sˇ∆öe
,0,3);

39984 
	gb
 = 0; b < 
	gcöfo
.
	gimage_width
; ++b) {

39985 *(
	g±rd
++Ë()*(
±r_r
++);

39986 *(
	g±rd
++Ë()*(
±r_g
++);

39987 *(
	g±rd
++Ë()*(
±r_b
++);

39988 *(
	g±rd
++Ë()*(
±r_a
++);

39992 *
	grow_poöãr
 = 
buf„r
.
_d©a
;

39993 
j≥g_wrôe_sˇ∆öes
(&
cöfo
,
row_poöãr
,1);

39995 
j≥g_föish_com¥ess
(&
cöfo
);

39996 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

39997 
j≥g_de°roy_com¥ess
(&
cöfo
);

39998  *
	gthis
;

40007 c⁄° 
	gCImg
<
	gT
>& 
ßve_magick
(c⁄° *c⁄° 
fûíame
, c⁄° 
byãs_≥r_pixñ
=0) const {

40008 i‡(!
fûíame
)

40009 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40011 
cimg_ö°™˚
);

40012 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

40014 #ifde‡
cimg_u£_magick


40015 
	g°mö
, 
	g°max
 = ()
max_mö
(
°mö
);

40016 i‡(
	g_dïth
>1)

40017 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40019 
cimg_ö°™˚
,

40020 
fûíame
);

40022 i‡(
	g_•e˘rum
>3)

40023 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40025 
cimg_ö°™˚
,

40026 
fûíame
);

40028 i‡(
	g°mö
<0 || (
	gbyãs_≥r_pixñ
==1 && 
°max
>=256) || stmax>=65536)

40029 
cimg
::
w¨n
(
_cimg_ö°™˚


40031 
cimg_ö°™˚
,

40032 
fûíame
,
°mö
,
°max
);

40034 
	gMagick
::
Image
 
image
(
Magick
::
Geomëry
(
_width
,
_height
),"black");

40035 
	gimage
.
ty≥
(
Magick
::
TrueCﬁ‹Ty≥
);

40036 
	gimage
.
dïth
(
byãs_≥r_pixñ
?(8*byãs_≥r_pixñ):(
°max
>=256?16:8));

40037 c⁄° 
T


40038 *
	g±r_r
 = 
d©a
(0,0,0,0),

40039 *
	g±r_g
 = 
_•e˘rum
>1?
d©a
(0,0,0,1):0,

40040 *
	g±r_b
 = 
_•e˘rum
>2?
d©a
(0,0,0,2):0;

40041 
	gMagick
::
PixñPackë
 *
pixñs
 = 
image
.
gëPixñs
(0,0,
_width
,
_height
);

40042 
	g_•e˘rum
) {

40044 
off
 = ()
_width
*
_height
; 
	goff
; --off) {

40045 
	gpixñs
->
	gªd
 = 
pixñs
->
gªí
 =Öixñs->
blue
 = (
Magick
::
Qu™tum
)*(
±r_r
++);

40046 ++
	gpixñs
;

40050 
off
 = ()
_width
*
_height
; 
	goff
; --off) {

40051 
	gpixñs
->
	gªd
 = (
Magick
::
Qu™tum
)*(
±r_r
++);

40052 
	gpixñs
->
	ggªí
 = (
Magick
::
Qu™tum
)*(
±r_g
++);

40053 
	gpixñs
->
	gblue
 = 0; ++pixels;

40057 
off
 = ()
_width
*
_height
; 
	goff
; --off) {

40058 
	gpixñs
->
	gªd
 = (
Magick
::
Qu™tum
)*(
±r_r
++);

40059 
	gpixñs
->
	ggªí
 = (
Magick
::
Qu™tum
)*(
±r_g
++);

40060 
	gpixñs
->
	gblue
 = (
Magick
::
Qu™tum
)*(
±r_b
++);

40061 ++
	gpixñs
;

40064 
	gimage
.
syncPixñs
();

40065 
	gimage
.
wrôe
(
fûíame
);

40067 
	gcimg
::
unu£d
(
byãs_≥r_pixñ
);

40068 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40070 
cimg_ö°™˚
,

40071 
fûíame
);

40073  *
	gthis
;

40081 c⁄° 
	gCImg
<
	gT
>& 
ßve_≤g
(c⁄° *c⁄° 
fûíame
, c⁄° 
byãs_≥r_pixñ
=0) const {

40082  
_ßve_≤g
(0,
fûíame
,
byãs_≥r_pixñ
);

40086 c⁄° 
	gCImg
<
	gT
>& 
ßve_≤g
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
byãs_≥r_pixñ
=0) const {

40087  
_ßve_≤g
(
fûe
,0,
byãs_≥r_pixñ
);

40090 c⁄° 
	gCImg
<
	gT
>& 
_ßve_≤g
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
byãs_≥r_pixñ
=0) const {

40091 i‡(!
fûe
 && !
fûíame
)

40092 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40094 
cimg_ö°™˚
);

40095 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

40097 #i‚de‡
cimg_u£_≤g


40098 
	gcimg
::
unu£d
(
byãs_≥r_pixñ
);

40099 i‡(!
	gfûe
Ë 
ßve_Ÿhî
(
fûíame
);

40100 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40102 
cimg_ö°™˚
);

40104 c⁄° *vﬁ©ûê
	gnfûíame
 = 
fûíame
;

40105 
	g°d
::
FILE
 *vﬁ©ûê
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
nfûíame
,"wb");

40107 
	g°mö
, 
	g°max
 = ()
max_mö
(
°mö
);

40108 i‡(
	g_dïth
>1)

40109 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40111 
cimg_ö°™˚
,

40112 
fûíame
);

40114 i‡(
	g_•e˘rum
>4)

40115 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40117 
cimg_ö°™˚
,

40118 
fûíame
);

40120 i‡(
	g°mö
<0 || (
	gbyãs_≥r_pixñ
==1 && 
°max
>=256) || stmax>=65536)

40121 
cimg
::
w¨n
(
_cimg_ö°™˚


40123 
cimg_ö°™˚
,

40124 
fûíame
,
°mö
,
°max
);

40127 
≤g_voidp
 
	gu£r_îr‹_±r
 = 0;

40128 
≤g_îr‹_±r
 
	gu£r_îr‹_‚
 = 0, 
	gu£r_w¨nög_‚
 = 0;

40129 
≤g_°ru˘p
 
	g≤g_±r
 = 
≤g_¸óã_wrôe_°ru˘
(
PNG_LIBPNG_VER_STRING
,
u£r_îr‹_±r
, 
u£r_îr‹_‚
, 
u£r_w¨nög_‚
);

40130 if(!
	g≤g_±r
){

40131 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40132 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40134 
cimg_ö°™˚
,

40135 
nfûíame
?nfilename:"(FILE*)");

40137 
≤g_öf›
 
	göfo_±r
 = 
≤g_¸óã_öfo_°ru˘
(
≤g_±r
);

40138 i‡(!
	göfo_±r
) {

40139 
≤g_de°roy_wrôe_°ru˘
(&
≤g_±r
,(
≤g_öf›p
)0);

40140 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40141 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40143 
cimg_ö°™˚
,

40144 
nfûíame
?nfilename:"(FILE*)");

40146 i‡(
£tjmp
(
≤g_jmpbuf
(
≤g_±r
))) {

40147 
≤g_de°roy_wrôe_°ru˘
(&
≤g_±r
, &
öfo_±r
);

40148 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40149 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40151 
cimg_ö°™˚
,

40152 
nfûíame
?nfilename:"(FILE*)");

40154 
≤g_öô_io
(
≤g_±r
, 
nfûe
);

40155 c⁄° 
	gbô_dïth
 = 
byãs_≥r_pixñ
?(byãs_≥r_pixñ*8):(
°max
>=256?16:8);

40156 
	gcﬁ‹_ty≥
;

40157 
•e˘rum
()) {

40158 1 : 
cﬁ‹_ty≥
 = 
PNG_COLOR_TYPE_GRAY
; ;

40159 2 : 
cﬁ‹_ty≥
 = 
PNG_COLOR_TYPE_GRAY_ALPHA
; ;

40160 3 : 
cﬁ‹_ty≥
 = 
PNG_COLOR_TYPE_RGB
; ;

40161  : 
cﬁ‹_ty≥
 = 
PNG_COLOR_TYPE_RGB_ALPHA
;

40163 c⁄° 
	göãæa˚_ty≥
 = 
PNG_INTERLACE_NONE
;

40164 c⁄° 
	gcom¥essi⁄_ty≥
 = 
PNG_COMPRESSION_TYPE_DEFAULT
;

40165 c⁄° 
	gfûãr_mëhod
 = 
PNG_FILTER_TYPE_DEFAULT
;

40166 
≤g_£t_IHDR
(
≤g_±r
,
öfo_±r
,
_width
,
_height
,
bô_dïth
,
cﬁ‹_ty≥
,
öãæa˚_ty≥
,
com¥essi⁄_ty≥
,
fûãr_mëhod
);

40167 
≤g_wrôe_öfo
(
≤g_±r
,
öfo_±r
);

40168 c⁄° 
	gbyã_dïth
 = 
bô_dïth
>>3;

40169 c⁄° 
	gnumCh™
 = 
•e˘rum
()>4?4:spectrum();

40170 c⁄° 
	gpixñ_bô_dïth_Êag
 = 
numCh™
 * (
bô_dïth
-1);

40173 
≤g_byãp
 *c⁄° 
	gimgD©a
 = 
√w
 
≤g_byã
*[
_height
];

40174 
	grow
 = 0;Ñow<
	g_height
; ++rowË
	gimgD©a
[
row
] = 
√w
 
≤g_byã
[
byã_dïth
*
numCh™
*
_width
];

40175 c⁄° 
T
 *
	gpC0
 = 
d©a
(0,0,0,0);

40176 
	gpixñ_bô_dïth_Êag
) {

40178 
cimg_f‹Y
(*
this
,
y
) {

40179 *
	g±rd
 = 
imgD©a
[
y
];

40180 
cimg_f‹X
(*
this
,
x
Ë*(
	g±rd
++Ë()*(
pC0
++);

40184 c⁄° 
T
 *
pC1
 = 
d©a
(0,0,0,1);

40185 
cimg_f‹Y
(*
this
,
y
) {

40186 *
	g±rd
 = 
imgD©a
[
y
];

40187 
cimg_f‹X
(*
this
,
x
) {

40188 *(
	g±rd
++Ë()*(
pC0
++);

40189 *(
	g±rd
++Ë()*(
pC1
++);

40194 c⁄° 
T
 *
pC1
 = 
d©a
(0,0,0,1), *
	gpC2
 = data(0,0,0,2);

40195 
cimg_f‹Y
(*
this
,
y
) {

40196 *
	g±rd
 = 
imgD©a
[
y
];

40197 
cimg_f‹X
(*
this
,
x
) {

40198 *(
	g±rd
++Ë()*(
pC0
++);

40199 *(
	g±rd
++Ë()*(
pC1
++);

40200 *(
	g±rd
++Ë()*(
pC2
++);

40205 c⁄° 
T
 *
pC1
 = 
d©a
(0,0,0,1), *
	gpC2
 = d©a(0,0,0,2), *
	gpC3
 = data(0,0,0,3);

40206 
cimg_f‹Y
(*
this
,
y
){

40207 *
	g±rd
 = 
imgD©a
[
y
];

40208 
cimg_f‹X
(*
this
,
x
){

40209 *(
	g±rd
++Ë()*(
pC0
++);

40210 *(
	g±rd
++Ë()*(
pC1
++);

40211 *(
	g±rd
++Ë()*(
pC2
++);

40212 *(
	g±rd
++Ë()*(
pC3
++);

40217 
cimg_f‹Y
(*
this
,
y
){

40218 *
	g±rd
 = (*)(
imgD©a
[
y
]);

40219 
cimg_f‹X
(*
this
,
x
Ë*(
	g±rd
++Ë()*(
pC0
++);

40220 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
((*)
imgD©a
[
y
],
_width
);

40224 c⁄° 
T
 *
pC1
 = 
d©a
(0,0,0,1);

40225 
cimg_f‹Y
(*
this
,
y
){

40226 *
	g±rd
 = (*)(
imgD©a
[
y
]);

40227 
cimg_f‹X
(*
this
,
x
) {

40228 *(
	g±rd
++Ë()*(
pC0
++);

40229 *(
	g±rd
++Ë()*(
pC1
++);

40231 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
((*)
imgD©a
[
y
],2*
_width
);

40235 c⁄° 
T
 *
pC1
 = 
d©a
(0,0,0,1), *
	gpC2
 = data(0,0,0,2);

40236 
cimg_f‹Y
(*
this
,
y
) {

40237 *
	g±rd
 = (*)(
imgD©a
[
y
]);

40238 
cimg_f‹X
(*
this
,
x
) {

40239 *(
	g±rd
++Ë()*(
pC0
++);

40240 *(
	g±rd
++Ë()*(
pC1
++);

40241 *(
	g±rd
++Ë()*(
pC2
++);

40243 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
((*)
imgD©a
[
y
],3*
_width
);

40247 c⁄° 
T
 *
pC1
 = 
d©a
(0,0,0,1), *
	gpC2
 = d©a(0,0,0,2), *
	gpC3
 = data(0,0,0,3);

40248 
cimg_f‹Y
(*
this
,
y
) {

40249 *
	g±rd
 = (*)(
imgD©a
[
y
]);

40250 
cimg_f‹X
(*
this
,
x
) {

40251 *(
	g±rd
++Ë()*(
pC0
++);

40252 *(
	g±rd
++Ë()*(
pC1
++);

40253 *(
	g±rd
++Ë()*(
pC2
++);

40254 *(
	g±rd
++Ë()*(
pC3
++);

40256 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
((*)
imgD©a
[
y
],4*
_width
);

40260 i‡(!
fûe
Ë
cimg
::
f˛o£
(
nfûe
);

40261 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40263 
cimg_ö°™˚
,

40264 
nfûíame
?nfilename:"(FILE*)");

40266 
≤g_wrôe_image
(
≤g_±r
,
imgD©a
);

40267 
≤g_wrôe_íd
(
≤g_±r
,
öfo_±r
);

40268 
≤g_de°roy_wrôe_°ru˘
(&
≤g_±r
, &
öfo_±r
);

40271 
cimg_f‹Y
(*
this
,
n
Ë
	gdñëe
[] 
	gimgD©a
[n];

40272 
	gdñëe
[] 
	gimgD©a
;

40273 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40274  *
	gthis
;

40283 c⁄° 
	gCImg
<
	gT
>& 
ßve_≤m
(c⁄° *c⁄° 
fûíame
, c⁄° 
byãs_≥r_pixñ
=0) const {

40284  
_ßve_≤m
(0,
fûíame
,
byãs_≥r_pixñ
);

40288 c⁄° 
	gCImg
<
	gT
>& 
ßve_≤m
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
byãs_≥r_pixñ
=0) const {

40289  
_ßve_≤m
(
fûe
,0,
byãs_≥r_pixñ
);

40292 c⁄° 
	gCImg
<
	gT
>& 
_ßve_≤m
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
byãs_≥r_pixñ
=0) const {

40293 i‡(!
fûe
 && !
fûíame
)

40294 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40296 
cimg_ö°™˚
);

40297 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

40299 
	g°mö
, 
	g°max
 = ()
max_mö
(
°mö
);

40300 i‡(
	g_dïth
>1)

40301 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40303 
cimg_ö°™˚
,

40304 
fûíame
?filename:"(FILE*)");

40305 i‡(
	g_•e˘rum
>3)

40306 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40308 
cimg_ö°™˚
,

40309 
fûíame
?filename:"(FILE*)");

40310 i‡(
	g°mö
<0 || (
	gbyãs_≥r_pixñ
==1 && 
°max
>=256) || stmax>=65536)

40311 
cimg
::
w¨n
(
_cimg_ö°™˚


40313 
cimg_ö°™˚
,

40314 
°mö
,
°max
,
fûíame
?filename:"(FILE*)");

40316 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

40317 c⁄° 
T


40318 *
	g±r_r
 = 
d©a
(0,0,0,0),

40319 *
	g±r_g
 = (
_•e˘rum
>=2)?
d©a
(0,0,0,1):0,

40320 *
	g±r_b
 = (
_•e˘rum
>=3)?
d©a
(0,0,0,2):0;

40321 c⁄° 
	gbuf_size
 = 
cimg
::
mö
(1024*1024UL,
_width
*
_height
*(
_•e˘rum
==1?1UL:3UL));

40323 
	g°d
::
Ârötf
(
nfûe
,"P%c\n%u %u\n%u\n",

40324 (
_•e˘rum
==1?'5':'6'),
_width
,
_height
,
°max
<256?255:(stmax<4096?4095:65535));

40326 
	g_•e˘rum
) {

40328 i‡(
byãs_≥r_pixñ
==1 || (!byãs_≥r_pixñ && 
°max
<256)) {

40329 
CImg
<
uch¨T
> 
buf
(
buf_size
);

40330 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40331 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
);

40332 *
	g±rd
 = 
buf
.
_d©a
;

40333 
	gi
 = 
N
; i>0; --iË*(
	g±rd
++Ë()*(
±r_r
++);

40334 
	gcimg
::
fwrôe
(
buf
.
_d©a
,
N
,
nfûe
);

40335 
	gto_wrôe
-=
N
;

40338 
	gCImg
<
	gush‹tT
> 
buf
(
buf_size
);

40339 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40340 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
);

40341 *
	g±rd
 = 
buf
.
_d©a
;

40342 
	gi
 = 
N
; i>0; --iË*(
	g±rd
++Ë()*(
±r_r
++);

40343 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
buf_size
);

40344 
	gcimg
::
fwrôe
(
buf
.
_d©a
,
N
,
nfûe
);

40345 
	gto_wrôe
-=
N
;

40350 i‡(
byãs_≥r_pixñ
==1 || (!byãs_≥r_pixñ && 
°max
<256)) {

40351 
CImg
<
uch¨T
> 
buf
(
buf_size
);

40352 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40353 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
/3);

40354 *
	g±rd
 = 
buf
.
_d©a
;

40355 
	gi
 = 
N
; i>0; --i) {

40356 *(
	g±rd
++Ë()*(
±r_r
++);

40357 *(
	g±rd
++Ë()*(
±r_g
++);

40358 *(
	g±rd
++) = 0;

40360 
	gcimg
::
fwrôe
(
buf
.
_d©a
,3*
N
,
nfûe
);

40361 
	gto_wrôe
-=
N
;

40364 
	gCImg
<
	gush‹tT
> 
buf
(
buf_size
);

40365 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40366 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
/3);

40367 *
	g±rd
 = 
buf
.
_d©a
;

40368 
	gi
 = 
N
; i>0; --i) {

40369 *(
	g±rd
++Ë()*(
±r_r
++);

40370 *(
	g±rd
++Ë()*(
±r_g
++);

40371 *(
	g±rd
++) = 0;

40373 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
buf_size
);

40374 
	gcimg
::
fwrôe
(
buf
.
_d©a
,3*
N
,
nfûe
);

40375 
	gto_wrôe
-=
N
;

40380 i‡(
byãs_≥r_pixñ
==1 || (!byãs_≥r_pixñ && 
°max
<256)) {

40381 
CImg
<
uch¨T
> 
buf
(
buf_size
);

40382 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40383 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
/3);

40384 *
	g±rd
 = 
buf
.
_d©a
;

40385 
	gi
 = 
N
; i>0; --i) {

40386 *(
	g±rd
++Ë()*(
±r_r
++);

40387 *(
	g±rd
++Ë()*(
±r_g
++);

40388 *(
	g±rd
++Ë()*(
±r_b
++);

40390 
	gcimg
::
fwrôe
(
buf
.
_d©a
,3*
N
,
nfûe
);

40391 
	gto_wrôe
-=
N
;

40394 
	gCImg
<
	gush‹tT
> 
buf
(
buf_size
);

40395 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40396 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
/3);

40397 *
	g±rd
 = 
buf
.
_d©a
;

40398 
	gi
 = 
N
; i>0; --i) {

40399 *(
	g±rd
++Ë()*(
±r_r
++);

40400 *(
	g±rd
++Ë()*(
±r_g
++);

40401 *(
	g±rd
++Ë()*(
±r_b
++);

40403 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
buf_size
);

40404 
	gcimg
::
fwrôe
(
buf
.
_d©a
,3*
N
,
nfûe
);

40405 
	gto_wrôe
-=
N
;

40410 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40411  *
	gthis
;

40418 c⁄° 
	gCImg
<
	gT
>& 
ßve_≤k
(c⁄° *c⁄° 
fûíame
) const {

40419  
_ßve_≤k
(0,
fûíame
);

40423 c⁄° 
	gCImg
<
	gT
>& 
ßve_≤k
(
°d
::
FILE
 *c⁄° 
fûe
) const {

40424  
_ßve_≤k
(
fûe
,0);

40427 c⁄° 
	gCImg
<
	gT
>& 
_ßve_≤k
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

40428 i‡(!
	gfûe
 && !
	gfûíame
)

40429 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40431 
cimg_ö°™˚
);

40432 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

40433 i‡(
	g_•e˘rum
>1)

40434 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40436 
cimg_ö°™˚
,

40437 
fûíame
?filename:"(FILE*)");

40439 c⁄° 
	gbuf_size
 = 
cimg
::
mö
(1024*1024LU,
_width
*
_height
*
_dïth
);

40440 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

40441 c⁄° 
T
 *
	g±r
 = 
d©a
(0,0,0,0);

40443 i‡(!
	gcimg
::
ty≥
<
T
>::
is_Êﬂt
(Ë&& (T)==1 && 
_dïth
<2Ë
_ßve_≤m
(
fûe
,
fûíame
,0);

40444 i‡(!
	gcimg
::
ty≥
<
T
>::
is_Êﬂt
() && (T)==1) {

40445 
°d
::
Ârötf
(
nfûe
,"P5\n%u %u %u\n255\n",
_width
,
_height
,
_dïth
);

40446 
	gCImg
<
	guch¨T
> 
buf
(
buf_size
);

40447 
	gto_wrôe
 = ()
_width
*
_height
*
_dïth
;Åo_write>0; ) {

40448 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
);

40449 *
	g±rd
 = 
buf
.
_d©a
;

40450 
	gi
 = 
N
; i>0; --iË*(
	g±rd
++Ë()*(
±r
++);

40451 
	gcimg
::
fwrôe
(
buf
.
_d©a
,
N
,
nfûe
);

40452 
	gto_wrôe
-=
N
;

40454 } i‡(!
	gcimg
::
ty≥
<
T
>::
is_Êﬂt
()) {

40455 i‡(
_dïth
>1Ë
°d
::
Ârötf
(
nfûe
,"P8\n%u %u %u\n%d\n",
_width
,
_height
,_dïth,()
max
());

40456 
	g°d
::
Ârötf
(
nfûe
,"P8\n%u %u\n%d\n",
_width
,
_height
,()
max
());

40457 
	gCImg
<
	götT
> 
buf
(
buf_size
);

40458 
	gto_wrôe
 = ()
_width
*
_height
*
_dïth
;Åo_write>0; ) {

40459 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
);

40460 *
	g±rd
 = 
buf
.
_d©a
;

40461 
	gi
 = 
N
; i>0; --iË*(
	g±rd
++Ë()*(
±r
++);

40462 
	gcimg
::
fwrôe
(
buf
.
_d©a
,
N
,
nfûe
);

40463 
	gto_wrôe
-=
N
;

40466 i‡(
	g_dïth
>1Ë
	g°d
::
Ârötf
(
nfûe
,"P9\n%u %u %u\n%g\n",
_width
,
_height
,
_dïth
,()
max
());

40467 
	g°d
::
Ârötf
(
nfûe
,"P9\n%u %u\n%g\n",
_width
,
_height
,()
max
());

40468 
	gCImg
<
	gÊﬂtT
> 
buf
(
buf_size
);

40469 
	gto_wrôe
 = ()
_width
*
_height
*
_dïth
;Åo_write>0; ) {

40470 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
);

40471 *
	g±rd
 = 
buf
.
_d©a
;

40472 
	gi
 = 
N
; i>0; --iË*(
	g±rd
++Ë()*(
±r
++);

40473 
	gcimg
::
fwrôe
(
buf
.
_d©a
,
N
,
nfûe
);

40474 
	gto_wrôe
-=
N
;

40478 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40479  *
	gthis
;

40486 c⁄° 
	gCImg
<
	gT
>& 
ßve_pfm
(c⁄° *c⁄° 
fûíame
) const {

40487  
gë_múr‹
('y').
_ßve_pfm
(0,
fûíame
);

40491 c⁄° 
	gCImg
<
	gT
>& 
ßve_pfm
(
°d
::
FILE
 *c⁄° 
fûe
) const {

40492  
gë_múr‹
('y').
_ßve_pfm
(
fûe
,0);

40495 c⁄° 
	gCImg
<
	gT
>& 
_ßve_pfm
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

40496 i‡(!
	gfûe
 && !
	gfûíame
)

40497 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40499 
cimg_ö°™˚
);

40500 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

40501 i‡(
	g_dïth
>1)

40502 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40504 
cimg_ö°™˚
,

40505 
fûíame
?filename:"(FILE*)");

40506 i‡(
	g_•e˘rum
>3)

40507 
	gcimg
::
w¨n
(
_cimg_ö°™˚


40509 
cimg_ö°™˚
,

40510 
fûíame
?filename:"(FILE*)");

40512 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

40513 c⁄° 
T


40514 *
	g±r_r
 = 
d©a
(0,0,0,0),

40515 *
	g±r_g
 = (
_•e˘rum
>=2)?
d©a
(0,0,0,1):0,

40516 *
	g±r_b
 = (
_•e˘rum
>=3)?
d©a
(0,0,0,2):0;

40517 c⁄° 
	gbuf_size
 = 
cimg
::
mö
(1024*1024U,
_width
*
_height
*(
_•e˘rum
==1?1:3));

40519 
	g°d
::
Ârötf
(
nfûe
,"P%c\n%u %u\n1.0\n",

40520 (
_•e˘rum
==1?'f':'F'),
_width
,
_height
);

40522 
	g_•e˘rum
) {

40524 
CImg
<
ÊﬂtT
> 
buf
(
buf_size
);

40525 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40526 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
);

40527 *
	g±rd
 = 
buf
.
_d©a
;

40528 
	gi
 = 
N
; i>0; --iË*(
	g±rd
++Ë()*(
±r_r
++);

40529 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
buf_size
);

40530 
	gcimg
::
fwrôe
(
buf
.
_d©a
,
N
,
nfûe
);

40531 
	gto_wrôe
-=
N
;

40535 
CImg
<
ÊﬂtT
> 
buf
(
buf_size
);

40536 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40537 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
/3);

40538 *
	g±rd
 = 
buf
.
_d©a
;

40539 
	gi
 = 
N
; i>0; --i) {

40540 *(
	g±rd
++Ë()*(
±r_r
++);

40541 *(
	g±rd
++Ë()*(
±r_g
++);

40542 *(
	g±rd
++) = 0;

40544 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
buf_size
);

40545 
	gcimg
::
fwrôe
(
buf
.
_d©a
,3*
N
,
nfûe
);

40546 
	gto_wrôe
-=
N
;

40550 
CImg
<
ÊﬂtT
> 
buf
(
buf_size
);

40551 
	gto_wrôe
 = ()
_width
*
_height
;Åo_write>0; ) {

40552 c⁄° 
	gN
 = 
cimg
::
mö
(()
to_wrôe
,
buf_size
/3);

40553 *
	g±rd
 = 
buf
.
_d©a
;

40554 
	gi
 = 
N
; i>0; --i) {

40555 *(
	g±rd
++Ë()*(
±r_r
++);

40556 *(
	g±rd
++Ë()*(
±r_g
++);

40557 *(
	g±rd
++Ë()*(
±r_b
++);

40559 i‡(!
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
buf_size
);

40560 
	gcimg
::
fwrôe
(
buf
.
_d©a
,3*
N
,
nfûe
);

40561 
	gto_wrôe
-=
N
;

40565 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40566  *
	gthis
;

40573 c⁄° 
	gCImg
<
	gT
>& 
ßve_rgb
(c⁄° *c⁄° 
fûíame
) const {

40574  
_ßve_rgb
(0,
fûíame
);

40578 c⁄° 
	gCImg
<
	gT
>& 
ßve_rgb
(
°d
::
FILE
 *c⁄° 
fûe
) const {

40579  
_ßve_rgb
(
fûe
,0);

40582 c⁄° 
	gCImg
<
	gT
>& 
_ßve_rgb
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

40583 i‡(!
	gfûe
 && !
	gfûíame
)

40584 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40586 
cimg_ö°™˚
);

40587 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

40588 i‡(
	g_•e˘rum
!=3)

40589 
cimg
::
w¨n
(
_cimg_ö°™˚


40591 
cimg_ö°™˚
,

40592 
fûíame
?filename:"(FILE*)");

40594 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

40595 c⁄° 
	gwh
 = ()
_width
*
_height
;

40596 *c⁄° 
	gbuf„r
 = 
√w
 [3*
wh
], *
	gnbuf„r
 = 
buf„r
;

40597 c⁄° 
T


40598 *
	g±r1
 = 
d©a
(0,0,0,0),

40599 *
	g±r2
 = 
_•e˘rum
>1?
d©a
(0,0,0,1):0,

40600 *
	g±r3
 = 
_•e˘rum
>2?
d©a
(0,0,0,2):0;

40601 
	g_•e˘rum
) {

40603 
k
 = 0; 
	gk
<
	gwh
; ++k) {

40604 c⁄° 
	gvÆ
 = ()*(
±r1
++);

40605 *(
	gnbuf„r
++Ë
vÆ
;

40606 *(
	gnbuf„r
++Ë
vÆ
;

40607 *(
	gnbuf„r
++Ë
vÆ
;

40611 
k
 = 0; 
	gk
<
	gwh
; ++k) {

40612 *(
	gnbuf„r
++Ë()(*(
±r1
++));

40613 *(
	gnbuf„r
++Ë()(*(
±r2
++));

40614 *(
	gnbuf„r
++) = 0;

40618 
k
 = 0; 
	gk
<
	gwh
; ++k) {

40619 *(
	gnbuf„r
++Ë()(*(
±r1
++));

40620 *(
	gnbuf„r
++Ë()(*(
±r2
++));

40621 *(
	gnbuf„r
++Ë()(*(
±r3
++));

40625 
	gcimg
::
fwrôe
(
buf„r
,3*
wh
,
nfûe
);

40626 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40627 
	gdñëe
[] 
	gbuf„r
;

40628  *
	gthis
;

40635 c⁄° 
	gCImg
<
	gT
>& 
ßve_rgba
(c⁄° *c⁄° 
fûíame
) const {

40636  
_ßve_rgba
(0,
fûíame
);

40640 c⁄° 
	gCImg
<
	gT
>& 
ßve_rgba
(
°d
::
FILE
 *c⁄° 
fûe
) const {

40641  
_ßve_rgba
(
fûe
,0);

40644 c⁄° 
	gCImg
<
	gT
>& 
_ßve_rgba
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

40645 i‡(!
	gfûe
 && !
	gfûíame
)

40646 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40648 
cimg_ö°™˚
);

40649 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

40650 i‡(
	g_•e˘rum
!=4)

40651 
cimg
::
w¨n
(
_cimg_ö°™˚


40653 
cimg_ö°™˚
,

40654 
fûíame
?filename:"(FILE*)");

40656 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

40657 c⁄° 
	gwh
 = ()
_width
*
_height
;

40658 *c⁄° 
	gbuf„r
 = 
√w
 [4*
wh
], *
	gnbuf„r
 = 
buf„r
;

40659 c⁄° 
T


40660 *
	g±r1
 = 
d©a
(0,0,0,0),

40661 *
	g±r2
 = 
_•e˘rum
>1?
d©a
(0,0,0,1):0,

40662 *
	g±r3
 = 
_•e˘rum
>2?
d©a
(0,0,0,2):0,

40663 *
	g±r4
 = 
_•e˘rum
>3?
d©a
(0,0,0,3):0;

40664 
	g_•e˘rum
) {

40666 
k
 = 0; 
	gk
<
	gwh
; ++k) {

40667 c⁄° 
	gvÆ
 = ()*(
±r1
++);

40668 *(
	gnbuf„r
++Ë
vÆ
;

40669 *(
	gnbuf„r
++Ë
vÆ
;

40670 *(
	gnbuf„r
++Ë
vÆ
;

40671 *(
	gnbuf„r
++) = 255;

40675 
k
 = 0; 
	gk
<
	gwh
; ++k) {

40676 *(
	gnbuf„r
++Ë()(*(
±r1
++));

40677 *(
	gnbuf„r
++Ë()(*(
±r2
++));

40678 *(
	gnbuf„r
++) = 0;

40679 *(
	gnbuf„r
++) = 255;

40683 
k
 = 0; 
	gk
<
	gwh
; ++k) {

40684 *(
	gnbuf„r
++Ë()(*(
±r1
++));

40685 *(
	gnbuf„r
++Ë()(*(
±r2
++));

40686 *(
	gnbuf„r
++Ë()(*(
±r3
++));

40687 *(
	gnbuf„r
++) = 255;

40691 
k
 = 0; 
	gk
<
	gwh
; ++k) {

40692 *(
	gnbuf„r
++Ë()(*(
±r1
++));

40693 *(
	gnbuf„r
++Ë()(*(
±r2
++));

40694 *(
	gnbuf„r
++Ë()(*(
±r3
++));

40695 *(
	gnbuf„r
++Ë()(*(
±r4
++));

40699 
	gcimg
::
fwrôe
(
buf„r
,4*
wh
,
nfûe
);

40700 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

40701 
	gdñëe
[] 
	gbuf„r
;

40702  *
	gthis
;

40718 c⁄° 
	gCImg
<
	gT
>& 
ßve_tiff
(c⁄° *c⁄° 
fûíame
, c⁄° 
com¥essi⁄_ty≥
=0) const {

40719 i‡(!
fûíame
)

40720 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40722 
cimg_ö°™˚
);

40723 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

40725 #ifde‡
cimg_u£_tiff


40726 
TIFF
 *
	gtif
 = 
TIFFO≥n
(
fûíame
,"w");

40727 i‡(
	gtif
) {

40728 
cimg_f‹Z
(*
this
,
z
Ë
gë_¶i˚
(z).
_ßve_tiff
(
tif
,z,
com¥essi⁄_ty≥
);

40729 
TIFFClo£
(
tif
);

40730 } 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40732 
cimg_ö°™˚
,

40733 
fûíame
);

40735 
	gcimg
::
unu£d
(
com¥essi⁄_ty≥
);

40736  
ßve_Ÿhî
(
fûíame
);

40738  *
	gthis
;

40741 #ifde‡
cimg_u£_tiff


40743 
	#_cimg_ßve_tiff
(
ty≥s
,
ty≥d
,
com¥essi⁄_ty≥
) \

40744 i‡(!
°d
::
	`°rcmp
(
ty≥s
,
	`pixñ_ty≥
())Ë{ c⁄° 
ty≥d
 
foo
 = (ty≥d)0;  
	`_ßve_tiff
(
tif
,
dúe˘‹y
,foo,
com¥essi⁄_ty≥
); }

	)

40747 
	gãm∂©e
<
ty≥«me
 
	gt
>

40748 c⁄° 
	gCImg
<
	gT
>& 
_ßve_tiff
(
TIFF
 *
tif
, c⁄° 
dúe˘‹y
, c⁄° 
t
& 
pixñ_t
, c⁄° 
com¥essi⁄_ty≥
) const {

40749 i‡(
is_em±y
(Ë|| !
	gtif
 || 
	gpixñ_t
Ë *
	gthis
;

40750 c⁄° *c⁄° 
	gfûíame
 = 
TIFFFûeName
(
tif
);

40751 
uöt32
 
	grow•î°rù
 = (uint32)-1;

40752 
uöt16
 
	g•p
 = 
_•e˘rum
, 
	gbµ
 = (
t
)*8, 
	gphŸomëric
;

40753 i‡(
	g•p
==3 || 
•p
==4Ë
phŸomëric
 = 
PHOTOMETRIC_RGB
;

40754 
	gphŸomëric
 = 
PHOTOMETRIC_MINISBLACK
;

40755 
TIFFSëDúe˘‹y
(
tif
,
dúe˘‹y
);

40756 
TIFFSëFõld
(
tif
,
TIFFTAG_IMAGEWIDTH
,
_width
);

40757 
TIFFSëFõld
(
tif
,
TIFFTAG_IMAGELENGTH
,
_height
);

40758 
TIFFSëFõld
(
tif
,
TIFFTAG_ORIENTATION
,
ORIENTATION_TOPLEFT
);

40759 
TIFFSëFõld
(
tif
,
TIFFTAG_SAMPLESPERPIXEL
,
•p
);

40760 i‡(
	gcimg
::
ty≥
<
t
>::
is_Êﬂt
()Ë
TIFFSëFõld
(
tif
,
TIFFTAG_SAMPLEFORMAT
,3);

40761 i‡(
	gcimg
::
ty≥
<
t
>::
mö
()==0Ë
TIFFSëFõld
(
tif
,
TIFFTAG_SAMPLEFORMAT
,1);

40762 
TIFFSëFõld
(
tif
,
TIFFTAG_SAMPLEFORMAT
,2);

40763 
TIFFSëFõld
(
tif
,
TIFFTAG_BITSPERSAMPLE
,
bµ
);

40764 
TIFFSëFõld
(
tif
,
TIFFTAG_PLANARCONFIG
,
PLANARCONFIG_CONTIG
);

40765 
TIFFSëFõld
(
tif
,
TIFFTAG_PHOTOMETRIC
,
phŸomëric
);

40766 
TIFFSëFõld
(
tif
,
TIFFTAG_COMPRESSION
,
com¥essi⁄_ty≥
?(com¥essi⁄_ty≥-1):
COMPRESSION_NONE
);

40767 
	grow•î°rù
 = 
TIFFDeÁu…SåùSize
(
tif
,
row•î°rù
);

40768 
TIFFSëFõld
(
tif
,
TIFFTAG_ROWSPERSTRIP
,
row•î°rù
);

40769 
TIFFSëFõld
(
tif
,
TIFFTAG_FILLORDER
,
FILLORDER_MSB2LSB
);

40770 
TIFFSëFõld
(
tif
,
TIFFTAG_SOFTWARE
,"CImg");

40771 
t
 *c⁄° 
	gbuf
 = (t*)
_TIFFmÆloc
(
TIFFSåùSize
(
tif
));

40772 i‡(
	gbuf
) {

40773 
	grow
 = 0;Ñow<
	g_height
;Ñow+=
row•î°rù
) {

40774 
uöt32
 
ƒow
 = (
row
 + 
row•î°rù
>
_height
?_height-row:rowsperstrip);

40775 
t°rù_t
 
	g°rù
 = 
TIFFCompuãSåù
(
tif
,
row
,0);

40776 
tsize_t
 
	gi
 = 0;

40777 
	gº
 = 0;Ñr<
	gƒow
; ++rr)

40778 
	gcc
 = 0; cc<
	g_width
; ++cc)

40779 
	gvv
 = 0; vv<
	g•p
; ++vv)

40780 
	gbuf
[
i
++] = (
t
)(*
this
)(
cc
,
	grow
 + 
	gº
,0,
	gvv
);

40781 i‡(
TIFFWrôeEncodedSåù
(
tif
,
°rù
,
buf
,
i
*(
t
))<0)

40782 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40784 
cimg_ö°™˚
,

40785 
fûíame
?filename:"(FILE*)");

40787 
_TIFF‰ì
(
buf
);

40789 
TIFFWrôeDúe˘‹y
(
tif
);

40790  (*
	gthis
);

40793 c⁄° 
	gCImg
<
	gT
>& 
_ßve_tiff
(
TIFF
 *
tif
, c⁄° 
dúe˘‹y
, c⁄° 
com¥essi⁄_ty≥
) const {

40794 
_cimg_ßve_tiff
("boﬁ",,
com¥essi⁄_ty≥
);

40795 
_cimg_ßve_tiff
("ch¨",,
com¥essi⁄_ty≥
);

40796 
_cimg_ßve_tiff
("unsig√d ch¨",,
com¥essi⁄_ty≥
);

40797 
_cimg_ßve_tiff
("sh‹t",,
com¥essi⁄_ty≥
);

40798 
_cimg_ßve_tiff
("unsig√d sh‹t",,
com¥essi⁄_ty≥
);

40799 
_cimg_ßve_tiff
("öt",,
com¥essi⁄_ty≥
);

40800 
_cimg_ßve_tiff
("unsig√d i¡",,
com¥essi⁄_ty≥
);

40801 
_cimg_ßve_tiff
("l⁄g",,
com¥essi⁄_ty≥
);

40802 
_cimg_ßve_tiff
("unsig√dÜ⁄g",,
com¥essi⁄_ty≥
);

40803 
_cimg_ßve_tiff
("Êﬂt",,
com¥essi⁄_ty≥
);

40804 
_cimg_ßve_tiff
("doubÀ",,
com¥essi⁄_ty≥
);

40805 c⁄° *c⁄° 
	gfûíame
 = 
TIFFFûeName
(
tif
);

40806 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


40808 
cimg_ö°™˚
,

40809 
pixñ_ty≥
(),
fûíame
?filename:"(FILE*)");

40810  *
	gthis
;

40819 c⁄° 
	gCImg
<
	gT
>& 
ßve_möc2
(c⁄° *c⁄° 
fûíame
,

40820 c⁄° *c⁄° 
imô©e_fûe
=0) const {

40821 i‡(!
fûíame
)

40822 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40824 
cimg_ö°™˚
);

40825 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

40827 #i‚de‡
cimg_u£_möc2


40828 
	gcimg
::
unu£d
(
imô©e_fûe
);

40829  
ßve_Ÿhî
(
fûíame
);

40831 
	gmöc
::
möc_1_wrôî
 
wå
;

40832 i‡(
	gimô©e_fûe
)

40833 
	gwå
.
›í
(
fûíame
, 
imô©e_fûe
);

40835 
	gmöc
::
möc_öfo
 
di
;

40836 if(
width
()Ë
	gdi
.
push_back
(
möc
::
dim_öfo
(width(), width()*0.5, -1, möc::dim_öfo::
DIM_X
));

40837 if(
height
()Ë
	gdi
.
push_back
(
möc
::
dim_öfo
(height(), height()*0.5, -1, möc::dim_öfo::
DIM_Y
));

40838 if(
dïth
()Ë
	gdi
.
push_back
(
möc
::
dim_öfo
(dïth(), dïth()*0.5, -1, möc::dim_öfo::
DIM_Z
));

40839 if(
•e˘rum
()Ë
	gdi
.
push_back
(
möc
::
dim_öfo
(•e˘rum(), s≥˘rum()*0.5, -1, möc::dim_öfo::
DIM_TIME
));

40840 
	gwå
.
›í
(
fûíame
, 
di
, 1, 
NC_FLOAT
, 0);

40842 if(
ty≥id
(
T
)==typeid())

40843 
wå
.
£tup_wrôe_byã
();

40844 if(
ty≥id
(
T
)==typeid())

40845 
wå
.
£tup_wrôe_öt
();

40846 if(
ty≥id
(
T
)==typeid())

40847 
wå
.
£tup_wrôe_doubÀ
();

40849 
	gwå
.
£tup_wrôe_Êﬂt
();

40850 
	gmöc
::
ßve_°™d¨d_vﬁume
(
wå
, 
this
->
_d©a
);

40851  *
	gthis
;

40860 c⁄° 
	gCImg
<
	gT
>& 
ßve_™Æyze
(c⁄° *c⁄° 
fûíame
, c⁄° *c⁄° 
voxñ_size
=0) const {

40861 i‡(!
fûíame
)

40862 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


40864 
cimg_ö°™˚
);

40865 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

40867 
	g°d
::
FILE
 *
fûe
;

40868 
	ghódî
[348] = { 0 }, 
	gh«me
[1024] = { 0 }, 
	göame
[1024] = { 0 };

40869 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
);

40870 
	gd©©y≥
=-1;

40871 
	g°d
::
mem£t
(
hódî
,0,348);

40872 i‡(!*
	gext
Ë{ 
cimg_¢¥ötf
(
h«me
,(h«me),"%s.hdr",
fûíame
); cimg_¢¥ötf(
öame
,(iname),"%s.img",filename); }

40873 i‡(!
	gcimg
::
°∫ˇ£cmp
(
ext
,"hdr",3)) {

40874 
	g°d
::
°r˝y
(
h«me
,
fûíame
); std::
°∫˝y
(
öame
,fûíame,(öame)-1); std::
•rötf
(öamê+ 
°d
::
°æí
(iname)-3,"img");

40876 i‡(!
	gcimg
::
°∫ˇ£cmp
(
ext
,"img",3)) {

40877 
	g°d
::
°r˝y
(
h«me
,
fûíame
); std::
°∫˝y
(
öame
,fûíame,(öame)-1); std::
•rötf
(h«mê+ 
°d
::
°æí
(iname)-3,"hdr");

40879 i‡(!
	gcimg
::
°∫ˇ£cmp
(
ext
,"nii",3)) {

40880 
	g°d
::
°∫˝y
(
h«me
,
fûíame
,(h«me)-1); *
	göame
 = 0;

40882 *c⁄° 
	gihódî
 = (*)
hódî
;

40883 *
	gihódî
 = 348;

40884 
	g°d
::
°r˝y
(
hódî
 + 4,"CImg");

40885 
	g°d
::
°r˝y
(
hódî
 + 14," ");

40886 ((*)(
	ghódî
 + 36))[0] = 4096;

40887 ((*)(
	ghódî
 + 38))[0] = 114;

40888 ((*)(
	ghódî
 + 40))[0] = 4;

40889 ((*)(
	ghódî
 + 40))[1] = 
_width
;

40890 ((*)(
	ghódî
 + 40))[2] = 
_height
;

40891 ((*)(
	ghódî
 + 40))[3] = 
_dïth
;

40892 ((*)(
	ghódî
 + 40))[4] = 
_•e˘rum
;

40893 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"boﬁ")Ë
	gd©©y≥
 = 2;

40894 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"unsig√d ch¨")Ë
	gd©©y≥
 = 2;

40895 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"ch¨")Ë
	gd©©y≥
 = 2;

40896 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"unsig√d sh‹t")Ë
	gd©©y≥
 = 4;

40897 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"sh‹t")Ë
	gd©©y≥
 = 4;

40898 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"unsig√d i¡")Ë
	gd©©y≥
 = 8;

40899 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"öt")Ë
	gd©©y≥
 = 8;

40900 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"unsig√dÜ⁄g")Ë
	gd©©y≥
 = 8;

40901 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"l⁄g")Ë
	gd©©y≥
 = 8;

40902 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"Êﬂt")Ë
	gd©©y≥
 = 16;

40903 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"doubÀ")Ë
	gd©©y≥
 = 64;

40904 i‡(
	gd©©y≥
<0)

40905 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


40907 
cimg_ö°™˚
,

40908 
pixñ_ty≥
(),
fûíame
);

40910 ((*)(
	ghódî
+70))[0] = 
d©©y≥
;

40911 ((*)(
	ghódî
+72))[0] = (
T
);

40912 ((*)(
	ghódî
+112))[0] = 1;

40913 ((*)(
	ghódî
+76))[0] = 0;

40914 i‡(
	gvoxñ_size
) {

40915 ((*)(
	ghódî
+76))[1] = 
voxñ_size
[0];

40916 ((*)(
	ghódî
+76))[2] = 
voxñ_size
[1];

40917 ((*)(
	ghódî
+76))[3] = 
voxñ_size
[2];

40918 } ((*)(
	ghódî
+76))[1] = ((*)(
hódî
+76))[2] = ((*)(header+76))[3] = 1;

40919 
	gfûe
 = 
cimg
::
f›í
(
h«me
,"wb");

40920 
	gcimg
::
fwrôe
(
hódî
,348,
fûe
);

40921 i‡(*
	göame
Ë{ 
	gcimg
::
f˛o£
(
fûe
); 
	gfûe
 = 
cimg
::
f›í
(
öame
,"wb"); }

40922 
	gcimg
::
fwrôe
(
_d©a
,
size
(),
fûe
);

40923 
	gcimg
::
f˛o£
(
fûe
);

40924  *
	gthis
;

40932 c⁄° 
	gCImg
<
	gT
>& 
ßve_cimg
(c⁄° *c⁄° 
fûíame
, c⁄° 
boﬁ
 
is_com¥es£d
=
Ál£
) const {

40933 
CImgLi°
<
T
>(*
this
,
åue
).
ßve_cimg
(
fûíame
,
is_com¥es£d
);

40934  *
	gthis
;

40938 c⁄° 
	gCImg
<
	gT
>& 
ßve_cimg
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
boﬁ
 
is_com¥es£d
=
Ál£
) const {

40939 
CImgLi°
<
T
>(*
this
,
åue
).
ßve_cimg
(
fûe
,
is_com¥es£d
);

40940  *
	gthis
;

40952 c⁄° 
	gCImg
<
	gT
>& 
ßve_cimg
(c⁄° *c⁄° 
fûíame
,

40953 c⁄° 
n0
,

40954 c⁄° 
x0
, c⁄° 
y0
,

40955 c⁄° 
z0
, c⁄° 
c0
) const {

40956 
	gCImgLi°
<
	gT
>(*
	gthis
,
	gåue
).
ßve_cimg
(
fûíame
,
n0
,
x0
,
y0
,
z0
,
c0
);

40957  *
	gthis
;

40961 c⁄° 
	gCImg
<
	gT
>& 
ßve_cimg
(
°d
::
FILE
 *c⁄° 
fûe
,

40962 c⁄° 
n0
,

40963 c⁄° 
x0
, c⁄° 
y0
,

40964 c⁄° 
z0
, c⁄° 
c0
) const {

40965 
	gCImgLi°
<
	gT
>(*
	gthis
,
	gåue
).
ßve_cimg
(
fûe
,
n0
,
x0
,
y0
,
z0
,
c0
);

40966  *
	gthis
;

40980 
ßve_em±y_cimg
(c⁄° *c⁄° 
fûíame
,

40981 c⁄° 
dx
, c⁄° 
dy
=1,

40982 c⁄° 
dz
=1, c⁄° 
dc
=1) {

40983  
CImgLi°
<
T
>::
ßve_em±y_cimg
(
fûíame
,1,
dx
,
dy
,
dz
,
dc
);

40991 
ßve_em±y_cimg
(
°d
::
FILE
 *c⁄° 
fûe
,

40992 c⁄° 
dx
, c⁄° 
dy
=1,

40993 c⁄° 
dz
=1, c⁄° 
dc
=1) {

40994  
CImgLi°
<
T
>::
ßve_em±y_cimg
(
fûe
,1,
dx
,
dy
,
dz
,
dc
);

41002 c⁄° 
	gCImg
<
	gT
>& 
ßve_ör
(c⁄° *c⁄° 
fûíame
, c⁄° *c⁄° 
voxñ_size
=0) const {

41003  
_ßve_ör
(0,
fûíame
,
voxñ_size
);

41007 c⁄° 
	gCImg
<
	gT
>& 
ßve_ör
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
voxñ_size
=0) const {

41008  
_ßve_ör
(
fûe
,0,
voxñ_size
);

41011 c⁄° 
	gCImg
<
	gT
>& 
_ßve_ör
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° *c⁄° 
voxñ_size
) const {

41012 i‡(!
	gfûe
 && !
	gfûíame
)

41013 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41015 
cimg_ö°™˚
);

41016 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

41018 
	göΩixsize
=-1;

41019 c⁄° *
	göπy≥
 = "unsigned fixed\nPIXSIZE=8 bits\nSCALE=2**0";

41020 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"unsig√d ch¨")Ë{ 
	göπy≥
 = "unsig√d fixed\nPIXSIZE=8 bôs\nSCALE=2**0"; 
	göΩixsize
 = 1; }

41021 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"ch¨")Ë{ 
	göπy≥
 = "fixed\nPIXSIZE=8 bôs\nSCALE=2**0"; 
	göΩixsize
 = 1; }

41022 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"unsig√d sh‹t")Ë{ 
	göπy≥
 = "unsig√d fixed\nPIXSIZE=16 bôs\nSCALE=2**0";
	göΩixsize
 = 2; }

41023 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"sh‹t")Ë{ 
	göπy≥
 = "fixed\nPIXSIZE=16 bôs\nSCALE=2**0"; 
	göΩixsize
 = 2; }

41024 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"unsig√d i¡")Ë{ 
	göπy≥
 = "unsig√d fixed\nPIXSIZE=32 bôs\nSCALE=2**0";
	göΩixsize
 = 4; }

41025 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"öt")Ë{ 
	göπy≥
 = "fixed\nPIXSIZE=32 bôs\nSCALE=2**0"; 
	göΩixsize
 = 4; }

41026 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"Êﬂt")Ë{ 
	göπy≥
 = "Êﬂt\nPIXSIZE=32 bôs"; 
	göΩixsize
 = 4; }

41027 i‡(!
	gcimg
::
°rˇ£cmp
(
pixñ_ty≥
(),"doubÀ")Ë{ 
	göπy≥
 = "Êﬂt\nPIXSIZE=64 bôs"; 
	göΩixsize
 = 8; }

41028 i‡(
	göΩixsize
<=0)

41029 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


41031 
cimg_ö°™˚
,

41032 
pixñ_ty≥
(),
fûíame
?filename:"(FILE*)");

41034 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

41035 
	ghódî
[257] = { 0 };

41036 
	gîr
 = 
cimg_¢¥ötf
(
hódî
,(hódî),"#INRIMAGE-4#{\nXDIM=%u\nYDIM=%u\nZDIM=%u\nVDIM=%u\n",
_width
,
_height
,
_dïth
,
_•e˘rum
);

41037 i‡(
	gvoxñ_size
Ë
	gîr
+=
°d
::
•rötf
(
hódî
 + 
îr
,"VX=%g\nVY=%g\nVZ=%g\n",
voxñ_size
[0],voxel_size[1],voxel_size[2]);

41038 
	gîr
+=
°d
::
•rötf
(
hódî
 + 
îr
,"TYPE=%s\nCPU=%s\n",
öπy≥
,
cimg
::
ídü¬ess
()?"sun":"decm");

41039 
	g°d
::
mem£t
(
hódî
 + 
îr
,'\n',252 -Érr);

41040 
	g°d
::
mem˝y
(
hódî
 + 252,"##}\n",4);

41041 
	gcimg
::
fwrôe
(
hódî
,256,
nfûe
);

41042 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
Ë
cimg_f‹C
(*this,
c
Ë
	gcimg
::
fwrôe
(&((*this)(x,y,z,c)),1,
nfûe
);

41043 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

41044  *
	gthis
;

41052 c⁄° 
	gCImg
<
	gT
>& 
ßve_exr
(c⁄° *c⁄° 
fûíame
) const {

41053 i‡(!
	gfûíame
)

41054 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41056 
cimg_ö°™˚
);

41057 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

41058 i‡(
	g_dïth
>1)

41059 
	gcimg
::
w¨n
(
_cimg_ö°™˚


41061 
cimg_ö°™˚
,

41062 
fûíame
);

41064 #i‚de‡
cimg_u£_›íexr


41065  
ßve_Ÿhî
(
fûíame
);

41067 
	gImf
::
Rgba
 *c⁄° 
±rd0
 = 
√w
 
Imf
::Rgba[()
_width
*
_height
], *
	g±rd
 =Öåd0, 
	grgba
;

41068 
	g_•e˘rum
) {

41070 c⁄° 
T
 *
±r_r
 = 
d©a
(), *c⁄° 
	g±r_e
 =Öå_∏+ ()
_width
*
_height
; 
	g±r_r
<ptr_e;) {

41071 
	grgba
.
	gr
 = 
rgba
.
g
 =Ñgba.
b
 = (
hÆf
)(*(
±r_r
++));

41072 
	grgba
.
	ga
 = (
hÆf
)1;

41073 *(
	g±rd
++Ë
rgba
;

41077 c⁄° 
T
 *
±r_r
 = 
d©a
(), *
	g±r_g
 = d©a(0,0,0,1), *c⁄° 
	g±r_e
 =Öå_∏+ ()
_width
*
_height
; 
	g±r_r
<ptr_e; ) {

41078 
	grgba
.
	gr
 = (
hÆf
)(*(
±r_r
++));

41079 
	grgba
.
	gg
 = (
hÆf
)(*(
±r_g
++));

41080 
	grgba
.
	gb
 = (
hÆf
)0;

41081 
	grgba
.
	ga
 = (
hÆf
)1;

41082 *(
	g±rd
++Ë
rgba
;

41086 c⁄° 
T
 *
±r_r
 = 
d©a
(), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *c⁄° 
	g±r_e
 =Öå_∏+ ()
_width
*
_height
; 
	g±r_r
<ptr_e;) {

41087 
	grgba
.
	gr
 = (
hÆf
)(*(
±r_r
++));

41088 
	grgba
.
	gg
 = (
hÆf
)(*(
±r_g
++));

41089 
	grgba
.
	gb
 = (
hÆf
)(*(
±r_b
++));

41090 
	grgba
.
	ga
 = (
hÆf
)1;

41091 *(
	g±rd
++Ë
rgba
;

41095 c⁄° 
T
 *
±r_r
 = 
d©a
(), *
	g±r_g
 = d©a(0,0,0,1), *
	g±r_b
 = d©a(0,0,0,2), *
	g±r_a
 = data(0,0,0,3),

41096 *c⁄° 
	g±r_e
 = 
±r_r
 + ()
_width
*
_height
; 
	g±r_r
<ptr_e;) {

41097 
	grgba
.
	gr
 = (
hÆf
)(*(
±r_r
++));

41098 
	grgba
.
	gg
 = (
hÆf
)(*(
±r_g
++));

41099 
	grgba
.
	gb
 = (
hÆf
)(*(
±r_b
++));

41100 
	grgba
.
	ga
 = (
hÆf
)(*(
±r_a
++));

41101 *(
	g±rd
++Ë
rgba
;

41105 
	gImf
::
RgbaOuçutFûe
 
outFûe
(
fûíame
,
_width
,
_height
,

41106 
_•e˘rum
==1?
Imf
::
WRITE_Y
:_•e˘rum==2?Imf::
WRITE_YA
:_•e˘rum==3?Imf::
WRITE_RGB
:Imf::
WRITE_RGBA
);

41107 
	goutFûe
.
£tFømeBuf„r
(
±rd0
,1,
_width
);

41108 
	goutFûe
.
wrôePixñs
(
_height
);

41109 
	gdñëe
[] 
	g±rd0
;

41110  *
	gthis
;

41120 c⁄° 
	gCImg
<
	gT
>& 
ßve_∑nd‹e
(c⁄° *c⁄° 
fûíame
, c⁄° 
cﬁ‹•a˚
=0) const {

41121  
_ßve_∑nd‹e
(0,
fûíame
,
cﬁ‹•a˚
);

41129 c⁄° 
	gCImg
<
	gT
>& 
ßve_∑nd‹e
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
cﬁ‹•a˚
=0) const {

41130  
_ßve_∑nd‹e
(
fûe
,0,
cﬁ‹•a˚
);

41133 
_ßve_∑nd‹e_hódî_Àngth
(
id
, *
dims
, c⁄° 
cﬁ‹•a˚
) const {

41134 
	gnbdims
 = 0;

41135 i‡(
	gid
==2 || 
id
==3 || id==4Ë{ 
dims
[0] = 1; 
	gdims
[1] = 
_width
; 
	gnbdims
 = 2; }

41136 i‡(
	gid
==5 || 
id
==6 || id==7Ë{ 
dims
[0] = 1; 
	gdims
[1] = 
_height
; dims[2] = 
_width
; 
	gnbdims
=3; }

41137 i‡(
	gid
==8 || 
id
==9 || id==10Ë{ 
dims
[0] = 
_•e˘rum
; 
	gdims
[1] = 
_dïth
; dims[2] = 
_height
; dims[3] = 
_width
; 
	gnbdims
 = 4; }

41138 i‡(
	gid
==16 || 
id
==17 || id==18Ë{ 
dims
[0] = 3; 
	gdims
[1] = 
_height
; dims[2] = 
_width
; dims[3] = 
cﬁ‹•a˚
; 
	gnbdims
 = 4; }

41139 i‡(
	gid
==19 || 
id
==20 || id==21Ë{ 
dims
[0] = 3; 
	gdims
[1] = 
_dïth
; dims[2] = 
_height
; dims[3] = 
_width
; dims[4] = 
cﬁ‹•a˚
; 
	gnbdims
 = 5; }

41140 i‡(
	gid
==22 || 
id
==23 || id==25Ë{ 
dims
[0] = 
_•e˘rum
; 
	gdims
[1] = 
_width
; 
	gnbdims
 = 2; }

41141 i‡(
	gid
==26 || 
id
==27 || id==29Ë{ 
dims
[0] = 
_•e˘rum
; 
	gdims
[1] = 
_height
; dims[2] = 
_width
; 
	gnbdims
=3; }

41142 i‡(
	gid
==30 || 
id
==31 || id==33Ë{ 
dims
[0] = 
_•e˘rum
; 
	gdims
[1] = 
_dïth
; dims[2] = 
_height
; dims[3] = 
_width
; 
	gnbdims
 = 4; }

41143  
	gnbdims
;

41146 c⁄° 
	gCImg
<
	gT
>& 
_ßve_∑nd‹e
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
cﬁ‹•a˚
) const {

41148 
	#__cimg_ßve_∑nd‹e_ˇ£
(
dty≥
) \

41149 
dty≥
 *
buf„r
 = 
√w
 dty≥[
	`size
()]; \

41150 c⁄° 
T
 *
±rs
 = 
_d©a
; \

41151 
	`cimg_f‹off
(*
this
,
off
Ë*(
buf„r
++Ë(
dty≥
)(*(
±rs
++)); \

41152 
buf„r
-=
	`size
(); \

41153 
cimg
::
	`fwrôe
(
buf„r
,
	`size
(),
nfûe
); \

41154 
dñëe
[] 
buf„r


	)

41156 
	#_cimg_ßve_∑nd‹e_ˇ£
(
sy
,
sz
,
sv
,
°y≥
,
id
) \

41157 i‡(!
ßved
 && (
sy
?(sy==
_height
):
åue
Ë&& (
sz
?(sz==
_dïth
):åueË&& (
sv
?(sv==
_•e˘rum
):åueË&& !
°d
::
	`°rcmp
(
°y≥
,
	`pixñ_ty≥
())) { \

41158 *
ihódî
 = (*)(
hódî
+12); \

41159 
nbdims
 = 
	`_ßve_∑nd‹e_hódî_Àngth
((*
ihódî
=
id
),
dims
,
cﬁ‹•a˚
); \

41160 
cimg
::
	`fwrôe
(
hódî
,36,
nfûe
); \

41161 i‡(()==4Ë{ 
ndims
[5] = { 0 }; 
d
 = 0; d<5; ++dËndims[d] = ()
dims
[d]; 
cimg
::
	`fwrôe
“dims,
nbdims
,
nfûe
); } \

41162 i‡(()==4Ë{ 
ndims
[5] = { 0 }; 
d
 = 0; d<5; ++dËndims[d] = ()
dims
[d]; 
cimg
::
	`fwrôe
“dims,
nbdims
,
nfûe
); } \

41163 i‡(()==4Ë{ 
ndims
[5] = { 0 }; 
d
 = 0; d<5; ++dËndims[d] = ()
dims
[d]; 
cimg
::
	`fwrôe
“dims,
nbdims
,
nfûe
); } \

41164 
throw
 
	`CImgIOEx˚±i⁄
(
_cimg_ö°™˚
 \

41166 
cimg_ö°™˚
, \

41167 
fûíame
?filename:"(FILE*)"); \

41168 i‡(
id
==2 || id==5 || id==8 || id==16 || id==19 || id==22 || id==26 || id==30) { \

41169 
	`__cimg_ßve_∑nd‹e_ˇ£
(); \

41170 } i‡(
id
==3 || id==6 || id==9 || id==17 || id==20 || id==23 || id==27 || id==31) { \

41171 i‡(()==4Ë{ 
	`__cimg_ßve_∑nd‹e_ˇ£
(); } \

41172 i‡(()==4Ë{ 
	`__cimg_ßve_∑nd‹e_ˇ£
(); } \

41173 i‡(()==4Ë{ 
	`__cimg_ßve_∑nd‹e_ˇ£
(); } \

41174 
throw
 
	`CImgIOEx˚±i⁄
(
_cimg_ö°™˚
 \

41176 
cimg_ö°™˚
, \

41177 
fûíame
?filename:"(FILE*)"); \

41178 } i‡(
id
==4 || id==7 || id==10 || id==18 || id==21 || id==25 || id==29 || id==33) { \

41179 i‡(()==4Ë{ 
	`__cimg_ßve_∑nd‹e_ˇ£
(); } \

41180 i‡(()==4Ë{ 
	`__cimg_ßve_∑nd‹e_ˇ£
(); } \

41181 
throw
 
	`CImgIOEx˚±i⁄
(
_cimg_ö°™˚
 \

41183 
cimg_ö°™˚
, \

41184 
fûíame
?filename:"(FILE*)"); \

41186 
ßved
 = 
åue
; \

41187 }

	)

41189 i‡(!
	gfûe
 && !
	gfûíame
)

41190 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41192 
cimg_ö°™˚
);

41193 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

41195 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

41196 
	ghódî
[36] = { 'P','A','N','D','O','R','E','0','4',0,0,0,

41198 
	gnbdims
, 
	gdims
[5] = { 0 };

41199 
boﬁ
 
	gßved
 = 
Ál£
;

41200 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"unsigned char",2);

41201 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"char",3);

41202 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"short",3);

41203 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"unsigned short",3);

41204 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"unsigned int",3);

41205 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"int",3);

41206 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"unsignedÜong",4);

41207 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"long",3);

41208 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"float",4);

41209 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,1,"double",4);

41211 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"unsigned char",5);

41212 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"char",6);

41213 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"short",6);

41214 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"unsigned short",6);

41215 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"unsigned int",6);

41216 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"int",6);

41217 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"unsignedÜong",7);

41218 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"long",6);

41219 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"float",7);

41220 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,1,"double",7);

41222 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"unsigned char",8);

41223 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"char",9);

41224 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"short",9);

41225 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"unsigned short",9);

41226 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"unsigned int",9);

41227 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"int",9);

41228 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"unsignedÜong",10);

41229 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"long",9);

41230 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"float",10);

41231 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,1,"double",10);

41233 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"unsigned char",16);

41234 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"char",17);

41235 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"short",17);

41236 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"unsigned short",17);

41237 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"unsigned int",17);

41238 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"int",17);

41239 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"unsignedÜong",18);

41240 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"long",17);

41241 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"float",18);

41242 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,3,"double",18);

41244 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"unsigned char",19);

41245 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"char",20);

41246 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"short",20);

41247 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"unsigned short",20);

41248 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"unsigned int",20);

41249 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"int",20);

41250 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"unsignedÜong",21);

41251 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"long",20);

41252 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"float",21);

41253 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,3,"double",21);

41255 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"unsigned char",22);

41256 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"char",23);

41257 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"short",23);

41258 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"unsigned short",23);

41259 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"unsigned int",23);

41260 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"int",23);

41261 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"unsignedÜong",25);

41262 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"long",23);

41263 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"float",25);

41264 
_cimg_ßve_∑nd‹e_ˇ£
(1,1,0,"double",25);

41266 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"unsigned char",26);

41267 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"char",27);

41268 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"short",27);

41269 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"unsigned short",27);

41270 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"unsigned int",27);

41271 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"int",27);

41272 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"unsignedÜong",29);

41273 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"long",27);

41274 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"float",29);

41275 
_cimg_ßve_∑nd‹e_ˇ£
(0,1,0,"double",29);

41277 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"unsigned char",30);

41278 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"char",31);

41279 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"short",31);

41280 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"unsigned short",31);

41281 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"unsigned int",31);

41282 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"int",31);

41283 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"unsignedÜong",33);

41284 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"long",31);

41285 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"float",33);

41286 
_cimg_ßve_∑nd‹e_ˇ£
(0,0,0,"double",33);

41288 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

41289  *
	gthis
;

41299 c⁄° 
	gCImg
<
	gT
>& 
ßve_øw
(c⁄° *c⁄° 
fûíame
, c⁄° 
boﬁ
 
is_mu…ùÀxed
=
Ál£
) const {

41300  
_ßve_øw
(0,
fûíame
,
is_mu…ùÀxed
);

41308 c⁄° 
	gCImg
<
	gT
>& 
ßve_øw
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
boﬁ
 
is_mu…ùÀxed
=
Ál£
) const {

41309  
_ßve_øw
(
fûe
,0,
is_mu…ùÀxed
);

41312 c⁄° 
	gCImg
<
	gT
>& 
_ßve_øw
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
boﬁ
 
is_mu…ùÀxed
) const {

41313 i‡(!
	gfûe
 && !
	gfûíame
)

41314 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41316 
cimg_ö°™˚
);

41317 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

41319 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

41320 i‡(!
	gis_mu…ùÀxed
Ë
	gcimg
::
fwrôe
(
_d©a
,
size
(),
nfûe
);

41322 
	gCImg
<
	gT
> 
buf
(
_•e˘rum
);

41323 
cimg_f‹XYZ
(*
this
,
x
,
y
,
z
) {

41324 
cimg_f‹C
(*
this
,
c
Ë
	gbuf
[c] = (*this)(
x
,
	gy
,
	gz
,
	gc
);

41325 
	gcimg
::
fwrôe
(
buf
.
_d©a
,
_•e˘rum
,
nfûe
);

41328 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

41329  *
	gthis
;

41343 c⁄° 
	gCImg
<
	gT
>& 
ßve_ffm≥g
(c⁄° *c⁄° 
fûíame
, c⁄° 
Âs
=25, c⁄° 
bôøã
=2048) const {

41344 i‡(!
fûíame
)

41345 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41347 
cimg_ö°™˚
);

41348 i‡(!
	gÂs
)

41349 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41351 
cimg_ö°™˚
,

41352 
fûíame
);

41353 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

41355 #i‚de‡
cimg_u£_ffm≥g


41356  
ßve_ffm≥g_exã∫Æ
(
fûíame
,0,
Âs
,
bôøã
);

41358 
	gCImgLi°
<
	gT
> 
	gli°
;

41359 
gë_•lô
('z').
move_to
(
li°
);

41360 
	gli°
.
ßve_ffm≥g
(
fûíame
,
Âs
,
bôøã
);

41362  *
	gthis
;

41371 c⁄° 
	gCImg
<
	gT
>& 
ßve_yuv
(c⁄° *c⁄° 
fûíame
, c⁄° 
boﬁ
 
is_rgb
=
åue
) const {

41372 
gë_•lô
('z').
ßve_yuv
(
fûíame
,
is_rgb
);

41373  *
	gthis
;

41381 c⁄° 
	gCImg
<
	gT
>& 
ßve_yuv
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
boﬁ
 
is_rgb
=
åue
) const {

41382 
gë_•lô
('z').
ßve_yuv
(
fûe
,
is_rgb
);

41383  *
	gthis
;

41397 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

41398 c⁄° 
	gCImg
<
	gT
>& 
ßve_off
(c⁄° 
CImgLi°
<
tf
>& 
¥imôives
, c⁄° CImgLi°<
tc
>& 
cﬁ‹s
,

41399 c⁄° *c⁄° 
fûíame
) const {

41400  
_ßve_off
(
¥imôives
,
cﬁ‹s
,0,
fûíame
);

41408 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

41409 c⁄° 
	gCImg
<
	gT
>& 
ßve_off
(c⁄° 
CImgLi°
<
tf
>& 
¥imôives
, c⁄° CImgLi°<
tc
>& 
cﬁ‹s
,

41410 
°d
::
FILE
 *c⁄° 
fûe
) const {

41411  
_ßve_off
(
¥imôives
,
cﬁ‹s
,
fûe
,0);

41414 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

41415 c⁄° 
	gCImg
<
	gT
>& 
_ßve_off
(c⁄° 
CImgLi°
<
tf
>& 
¥imôives
, c⁄° CImgLi°<
tc
>& 
cﬁ‹s
,

41416 
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) const {

41417 i‡(!
	gfûe
 && !
	gfûíame
)

41418 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41420 
cimg_ö°™˚
);

41421 i‡(
is_em±y
())

41422 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


41424 
cimg_ö°™˚
,

41425 
fûíame
?filename:"(FILE*)");

41427 
	gCImgLi°
<
	gT
> 
	g›acôõs
;

41428 
	gîr‹_mesßge
[1024] = { 0 };

41429 i‡(!
is_obje˘3d
(
¥imôives
,
cﬁ‹s
,
›acôõs
,
åue
,
îr‹_mesßge
))

41430 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimg_ö°™˚


41432 
cimg_ö°™˚
,

41433 
fûíame
?fûíame:"(FILE*)",
îr‹_mesßge
);

41435 c⁄° 
	gCImg
<
	gtc
> 
deÁu…_cﬁ‹
(1,3,1,1,200);

41436 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"w");

41437 
	gsuµ‹ãd_¥imôives
 = 0;

41438 
cimgli°_f‹
(
¥imôives
,
l
Ëi‡(
	g¥imôives
[l].
size
()!=5Ë++
suµ‹ãd_¥imôives
;

41439 
	g°d
::
Ârötf
(
nfûe
,"OFF\n%u %u %u\n",
_width
,
suµ‹ãd_¥imôives
,3*
¥imôives
._width);

41440 
cimg_f‹X
(*
this
,
i
Ë
	g°d
::
Ârötf
(
nfûe
,"%f %f %f\n",()((*this)(i,0)),()((*this)(i,1)),()((*this)(i,2)));

41441 
cimgli°_f‹
(
¥imôives
,
l
) {

41442 c⁄° 
	gCImg
<
	gtc
>& 
	gcﬁ‹
 = 
l
<
cﬁ‹s
.
width
()?cﬁ‹s[l]:
deÁu…_cﬁ‹
;

41443 c⁄° 
	gpsiz
 = 
¥imôives
[
l
].
size
(), 
	gcsiz
 = 
cﬁ‹
.size();

41444 c⁄° 
	gr
 = 
cﬁ‹
[0]/255.0f, 
	gg
 = (
csiz
>1?cﬁ‹[1]:
r
)/255.0f, 
	gb
 = (csiz>2?cﬁ‹[2]:
g
)/255.0f;

41445 
	gpsiz
) {

41446 1 : 
°d
::
Ârötf
(
nfûe
,"1 %u %‡%‡%f\n",()
¥imôives
(
l
,0),
r
,
g
,
b
); ;

41447 2 : 
°d
::
Ârötf
(
nfûe
,"2 %u %u %‡%‡%f\n",()
¥imôives
(
l
,0),(Ìrimôives÷,1),
r
,
g
,
b
); ;

41448 3 : 
°d
::
Ârötf
(
nfûe
,"3 %u %u %u %‡%‡%f\n",()
¥imôives
(
l
,0),()primitives(l,2),

41449 ()
¥imôives
(
l
,1),
r
,
g
,
b
); ;

41450 4 : 
°d
::
Ârötf
(
nfûe
,"4 %u %u %u %u %‡%‡%f\n",()
¥imôives
(
l
,0),()primitives(l,3),

41451 ()
¥imôives
(
l
,2),(Ìrimôives÷,1),
r
,
g
,
b
); ;

41452 5 : 
°d
::
Ârötf
(
nfûe
,"2 %u %u %‡%‡%f\n",()
¥imôives
(
l
,0),(Ìrimôives÷,1),
r
,
g
,
b
); ;

41454 c⁄° 
xt
 = ()
¥imôives
(
l
,2), 
	gyt
 = ()primitives(l,3);

41455 c⁄° 
	gπ
 = 
cﬁ‹
.
©XY
(
xt
,
yt
,0)/255.0f, 
	ggt
 = (
csiz
>1?cﬁ‹.©XY(xt,yt,1):
r
)/255.0f, 
	gbt
 = (csiz>2?cﬁ‹.©XY(xt,yt,2):
g
)/255.0f;

41456 
	g°d
::
Ârötf
(
nfûe
,"2 %u %u %‡%‡%f\n",()
¥imôives
(
l
,0),(Ìrimôives÷,1),
π
,
gt
,
bt
);

41459 c⁄° 
xt
 = ()
¥imôives
(
l
,3), 
	gyt
 = ()primitives(l,4);

41460 c⁄° 
	gπ
 = 
cﬁ‹
.
©XY
(
xt
,
yt
,0)/255.0f, 
	ggt
 = (
csiz
>1?cﬁ‹.©XY(xt,yt,1):
r
)/255.0f, 
	gbt
 = (csiz>2?cﬁ‹.©XY(xt,yt,2):
g
)/255.0f;

41461 
	g°d
::
Ârötf
(
nfûe
,"3 %u %u %u %‡%‡%f\n",()
¥imôives
(
l
,0),()primitives(l,2),

41462 ()
¥imôives
(
l
,1),
π
,
gt
,
bt
);

41465 c⁄° 
xt
 = ()
¥imôives
(
l
,4), 
	gyt
 = ()primitives(l,5);

41466 c⁄° 
	gπ
 = 
cﬁ‹
.
©XY
(
xt
,
yt
,0)/255.0f, 
	ggt
 = (
csiz
>1?cﬁ‹.©XY(xt,yt,1):
r
)/255.0f, 
	gbt
 = (csiz>2?cﬁ‹.©XY(xt,yt,2):
g
)/255.0f;

41467 
	g°d
::
Ârötf
(
nfûe
,"4 %u %u %u %u %‡%‡%f\n",()
¥imôives
(
l
,0),()primitives(l,3),

41468 ()
¥imôives
(
l
,2),(Ìrimôives÷,1),
π
,
gt
,
bt
);

41472 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

41473  *
	gthis
;

41487 c⁄° 
	gCImg
<
	gT
>& 
ßve_ffm≥g_exã∫Æ
(c⁄° *c⁄° 
fûíame
, c⁄° *c⁄° 
codec
=0,

41488 c⁄° 
Âs
=25, c⁄° 
bôøã
=2048) const {

41489 i‡(!
fûíame
)

41490 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41492 
cimg_ö°™˚
);

41493 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

41495 
	gCImgLi°
<
	gT
> 
	gli°
;

41496 
gë_•lô
('z').
move_to
(
li°
);

41497 
	gli°
.
ßve_ffm≥g_exã∫Æ
(
fûíame
,
codec
,
Âs
,
bôøã
);

41498  *
	gthis
;

41507 c⁄° 
	gCImg
<
	gT
>& 
ßve_gzù_exã∫Æ
(c⁄° *c⁄° 
fûíame
) const {

41508 i‡(!
	gfûíame
)

41509 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41511 
cimg_ö°™˚
);

41512 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

41514 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gbody
[512] = { 0 };

41516 *
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
,
body
),

41517 *
	gext2
 = 
cimg
::
•lô_fûíame
(
body
,0);

41518 
	g°d
::
FILE
 *
fûe
;

41520 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gz")) {

41521 i‡(*
	gext2
Ë
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext2
);

41522 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.cimg",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

41524 i‡(*
	gext
Ë
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext
);

41525 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.cimg",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

41527 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

41528 } 
	gfûe
);

41529 
ßve
(
fûëmp
);

41530 
cimg_¢¥ötf
(
comm™d
,(command),"%s -c \"%s\" > \"%s\"",

41531 
cimg
::
gzù_∑th
(),

41532 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
(),

41533 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

41534 
	gcimg
::
sy°em
(
comm™d
);

41535 
	gfûe
 = 
°d
::
f›í
(
fûíame
,"rb");

41536 i‡(!
	gfûe
)

41537 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


41539 
cimg_ö°™˚
,

41540 
fûíame
);

41542 
	gcimg
::
f˛o£
(
fûe
);

41543 
	g°d
::
ªmove
(
fûëmp
);

41544  *
	gthis
;

41554 c⁄° 
	gCImg
<
	gT
>& 
ßve_gøphicsmagick_exã∫Æ
(c⁄° *c⁄° 
fûíame
, c⁄° 
quÆôy
=100) const {

41555 i‡(!
fûíame
)

41556 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41558 
cimg_ö°™˚
);

41559 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

41561 #ifde‡
cimg_u£_≤g


41562 
	#_cimg_sge_ext1
 "≤g"

	)

41563 
	#_cimg_sge_ext2
 "≤g"

	)

41565 
	#_cimg_sge_ext1
 "pgm"

	)

41566 
	#_cimg_sge_ext2
 "µm"

	)

41568 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 };

41569 
	g°d
::
FILE
 *
fûe
;

41571 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
_•e˘rum
==1?
_cimg_sge_ext1
:
_cimg_sge_ext2
);

41572 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

41573 } 
	gfûe
);

41574 #ifde‡
cimg_u£_≤g


41575 
ßve_≤g
(
fûëmp
);

41577 
ßve_≤m
(
fûëmp
);

41579 
cimg_¢¥ötf
(
comm™d
,(command),"%s convert -quality %u \"%s\" \"%s\"",

41580 
cimg
::
gøphicsmagick_∑th
(),
quÆôy
,

41581 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
(),

41582 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

41583 
	gcimg
::
sy°em
(
comm™d
);

41584 
	gfûe
 = 
°d
::
f›í
(
fûíame
,"rb");

41585 i‡(!
	gfûe
)

41586 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


41588 
cimg_ö°™˚
,

41589 
fûíame
);

41591 i‡(
	gfûe
Ë
	gcimg
::
f˛o£
(
fûe
);

41592 
	g°d
::
ªmove
(
fûëmp
);

41593  *
	gthis
;

41603 c⁄° 
	gCImg
<
	gT
>& 
ßve_imagemagick_exã∫Æ
(c⁄° *c⁄° 
fûíame
, c⁄° 
quÆôy
=100) const {

41604 i‡(!
fûíame
)

41605 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41607 
cimg_ö°™˚
);

41608 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

41610 #ifde‡
cimg_u£_≤g


41611 
	#_cimg_sõ_ext1
 "≤g"

	)

41612 
	#_cimg_sõ_ext2
 "≤g"

	)

41614 
	#_cimg_sõ_ext1
 "pgm"

	)

41615 
	#_cimg_sõ_ext2
 "µm"

	)

41617 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 };

41618 
	g°d
::
FILE
 *
fûe
;

41620 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
_•e˘rum
==1?
_cimg_sõ_ext1
:
_cimg_sõ_ext2
);

41621 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

41622 } 
	gfûe
);

41623 #ifde‡
cimg_u£_≤g


41624 
ßve_≤g
(
fûëmp
);

41626 
ßve_≤m
(
fûëmp
);

41628 
cimg_¢¥ötf
(
comm™d
,(command),"%s -quality %u \"%s\" \"%s\"",

41629 
cimg
::
imagemagick_∑th
(),
quÆôy
,

41630 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
(),

41631 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

41632 
	gcimg
::
sy°em
(
comm™d
);

41633 
	gfûe
 = 
°d
::
f›í
(
fûíame
,"rb");

41634 i‡(!
	gfûe
)

41635 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


41637 
cimg_ö°™˚
,

41638 
fûíame
);

41640 i‡(
	gfûe
Ë
	gcimg
::
f˛o£
(
fûe
);

41641 
	g°d
::
ªmove
(
fûëmp
);

41642  *
	gthis
;

41651 c⁄° 
	gCImg
<
	gT
>& 
ßve_medc⁄_exã∫Æ
(c⁄° *c⁄° 
fûíame
) const {

41652 i‡(!
	gfûíame
)

41653 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41655 
cimg_ö°™˚
);

41656 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

41658 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gbody
[512] = { 0 };

41659 
	g°d
::
FILE
 *
fûe
;

41661 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s.hdr",
cimg
::
fûíamî™d
());

41662 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

41663 } 
	gfûe
);

41664 
ßve_™Æyze
(
fûëmp
);

41665 
cimg_¢¥ötf
(
comm™d
,(command),"%s -w -c dicom -o \"%s\" -f \"%s\"",

41666 
cimg
::
medc⁄_∑th
(),

41667 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

41668 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
());

41669 
	gcimg
::
sy°em
(
comm™d
);

41670 
	g°d
::
ªmove
(
fûëmp
);

41671 
	gcimg
::
•lô_fûíame
(
fûëmp
,
body
);

41672 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s.img",
body
);

41673 
	g°d
::
ªmove
(
fûëmp
);

41675 
	gfûe
 = 
°d
::
f›í
(
fûíame
,"rb");

41676 i‡(!
	gfûe
) {

41677 
cimg_¢¥ötf
(
comm™d
,(comm™d),"m000-%s",
fûíame
);

41678 
	gfûe
 = 
°d
::
f›í
(
comm™d
,"rb");

41679 i‡(!
	gfûe
) {

41680 
	gcimg
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"r"));

41681 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


41683 
cimg_ö°™˚
,

41684 
fûíame
);

41687 
	gcimg
::
f˛o£
(
fûe
);

41688 
	g°d
::
ª«me
(
comm™d
,
fûíame
);

41689  *
	gthis
;

41703 c⁄° 
	gCImg
<
	gT
>& 
ßve_Ÿhî
(c⁄° *c⁄° 
fûíame
, c⁄° 
quÆôy
=100) const {

41704 i‡(!
fûíame
)

41705 
throw
 
CImgArgumítEx˚±i⁄
(
_cimg_ö°™˚


41707 
cimg_ö°™˚
);

41708 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

41710 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

41711 
boﬁ
 
	gis_ßved
 = 
åue
;

41712 
	gcimg
::
ex˚±i⁄_mode
() = 0;

41713 
	gåy
 { 
ßve_magick
(
fûíame
); }

41714 
ˇtch
 (
CImgEx˚±i⁄
&) {

41715 
	gåy
 { 
ßve_imagemagick_exã∫Æ
(
fûíame
,
quÆôy
); }

41716 
ˇtch
 (
CImgEx˚±i⁄
&) {

41717 
	gåy
 { 
ßve_gøphicsmagick_exã∫Æ
(
fûíame
,
quÆôy
); }

41718 
ˇtch
 (
CImgEx˚±i⁄
&) {

41719 
	gis_ßved
 = 
Ál£
;

41723 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

41724 i‡(!
	gis_ßved
)

41725 
throw
 
CImgIOEx˚±i⁄
(
_cimg_ö°™˚


41727 
cimg_ö°™˚
,

41728 
fûíame
);

41729  *
	gthis
;

41733 
	gCImg
<
	gT
> 
_logo40x38
() {

41734 
	gCImg
<
	gT
> 
ªs
(40,38,1,3);

41735 c⁄° *
	g±rs
 = 
cimg
::
logo40x38
;

41736 
T
 *
	g±r1
 = 
ªs
.
d©a
(0,0,0,0), *
	g±r2
 =Ñes.d©a(0,0,0,1), *
	g±r3
 =Ñes.data(0,0,0,2);

41737 
	goff
 = 0; off<()
	gªs
.
_width
*ªs.
	g_height
;) {

41738 c⁄° 
	gn
 = *(
±rs
++), 
	gr
 = *’ås++), 
	gg
 = *’ås++), 
	gb
 = *(ptrs++);

41739 
	gl
 = 0;Ü<
	gn
; ++
	goff
, ++lË{ *(
	g±r1
++Ë(
T
)
r
; *(
	g±r2
++Ë(T)
g
; *(
	g±r3
++Ë(T)
b
; }

41741  
	gªs
;

41759 
	gãm∂©e
<
ty≥«me
 
	gT
>

41760 
	sCImgLi°
 {

41761 
	g_width
, 
	g_Æloˇãd_width
;

41762 
	gCImg
<
	gT
> *
	g_d©a
;

41778 
	gCImg
<
	tT
>* 
	tôî©‹
;

41786 c⁄° 
	tCImg
<
	tT
>* 
	tc⁄°_ôî©‹
;

41796 
T
 
	tvÆue_ty≥
;

41799 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,
	tboﬁ
>::
	tty≥
 
	tTboﬁ
;

41800 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTuch¨
;

41801 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTch¨
;

41802 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTush‹t
;

41803 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTsh‹t
;

41804 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTuöt
;

41805 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTöt
;

41806 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTul⁄g
;

41807 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTl⁄g
;

41808 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTÊﬂt
;

41809 
ty≥«me
 
	tcimg
::
	tsu≥r£t
<
	tT
,>::
	tty≥
 
	tTdoubÀ
;

41810 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,
	tboﬁ
>::
	tty≥
 
	tboﬁT
;

41811 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tuch¨T
;

41812 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tch¨T
;

41813 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tush‹tT
;

41814 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tsh‹tT
;

41815 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tuötT
;

41816 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tötT
;

41817 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tul⁄gT
;

41818 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tl⁄gT
;

41819 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tÊﬂtT
;

41820 
ty≥«me
 
	tcimg
::
	tœ°
<
	tT
,>::
	tty≥
 
	tdoubÀT
;

41828 #ifde‡
cimgli°_∂ugö


41829 #ö˛udê
cimgli°_∂ugö


41831 #ifde‡
cimgli°_∂ugö1


41832 #ö˛udê
cimgli°_∂ugö1


41834 #ifde‡
cimgli°_∂ugö2


41835 #ö˛udê
cimgli°_∂ugö2


41837 #ifde‡
cimgli°_∂ugö3


41838 #ö˛udê
cimgli°_∂ugö3


41840 #ifde‡
cimgli°_∂ugö4


41841 #ö˛udê
cimgli°_∂ugö4


41843 #ifde‡
cimgli°_∂ugö5


41844 #ö˛udê
cimgli°_∂ugö5


41846 #ifde‡
cimgli°_∂ugö6


41847 #ö˛udê
cimgli°_∂ugö6


41849 #ifde‡
cimgli°_∂ugö7


41850 #ö˛udê
cimgli°_∂ugö7


41852 #ifde‡
cimgli°_∂ugö8


41853 #ö˛udê
cimgli°_∂ugö8


41870 ~
CImgLi°
() {

41871 
	gdñëe
[] 
	g_d©a
;

41881 
CImgLi°
():

41882 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {}

41891 
ex∂icô
 
CImgLi°
(c⁄° 
n
):
_width
(n) {

41892 i‡(
n
Ë
_d©a
 = 
√w
 
CImg
<
T
>[
_Æloˇãd_width
 = 
cimg
::
max
(16UL,cimg::
√¨e°_pow2
(n))];

41893 { 
	g_Æloˇãd_width
 = 0; 
	g_d©a
 = 0; }

41905 
CImgLi°
(c⁄° 
n
, c⁄° 
width
, c⁄° 
height
=1,

41906 c⁄° 
dïth
=1, c⁄° 
•e˘rum
=1):

41907 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

41908 
assign
(
n
);

41909 
cimgli°_≠∂y
(*
this
,
assign
)(
	gwidth
,
	gheight
,
	gdïth
,
	g•e˘rum
);

41921 
CImgLi°
(c⁄° 
n
, c⁄° 
width
, c⁄° 
height
,

41922 c⁄° 
dïth
, c⁄° 
•e˘rum
, c⁄° 
T
 
vÆ
):

41923 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

41924 
assign
(
n
);

41925 
cimgli°_≠∂y
(*
this
,
assign
)(
	gwidth
,
	gheight
,
	gdïth
,
	g•e˘rum
,
	gvÆ
);

41939 
CImgLi°
(c⁄° 
n
, c⁄° 
width
, c⁄° 
height
,

41940 c⁄° 
dïth
, c⁄° 
•e˘rum
, c⁄° 
vÆ0
, c⁄° 
vÆ1
, ...):

41941 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

41942 
	#_CImgLi°_°d¨g
(
t
) { \

41943 
	`assign
(
n
,
width
,
height
,
dïth
,
•e˘rum
); \

41944 c⁄° 
siz
 = ()
width
*
height
*
dïth
*
•e˘rum
, 
nsiz
 = siz*
n
; \

41945 
T
 *
±rd
 = 
_d©a
->_data; \

41946 
va_li°
 
≠
; \

41947 
	`va_°¨t
(
≠
,
vÆ1
); \

41948 
l
 = 0, 
s
 = 0, 
i
 = 0; i<
nsiz
; ++i) { \

41949 *(
±rd
++Ë(
T
)(
i
==0?
vÆ0
:(i==1?
vÆ1
:
	`va_¨g
(
≠
,
t
))); \

41950 i‡((++
s
)==
siz
Ë{ 
±rd
 = 
_d©a
[++
l
]._data; s = 0; } \

41952 
	`va_íd
(
≠
); \

41953 }

	)

41954 
_CImgLi°_°d¨g
();

41968 
CImgLi°
(c⁄° 
n
, c⁄° 
width
, c⁄° 
height
,

41969 c⁄° 
dïth
, c⁄° 
•e˘rum
, c⁄° 
vÆ0
, c⁄° 
vÆ1
, ...):

41970 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

41971 
_CImgLi°_°d¨g
();

41980 
	gãm∂©e
<
ty≥«me
 
	gt
>

41981 
CImgLi°
(c⁄° 
n
, c⁄° 
CImg
<
t
>& 
img
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

41982 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

41983 
assign
(
n
);

41984 
cimgli°_≠∂y
(*
this
,
assign
)(
	gimg
,
	gis_sh¨ed
);

41992 
	gãm∂©e
<
ty≥«me
 
	gt
>

41993 
ex∂icô
 
CImgLi°
(c⁄° 
CImg
<
t
>& 
img
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

41994 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

41995 
assign
(1);

41996 
	g_d©a
[0].
assign
(
img
,
is_sh¨ed
);

42005 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
>

42006 
CImgLi°
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

42007 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42008 
assign
(2);

42009 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_shared);

42019 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
>

42020 
CImgLi°
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

42021 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42022 
assign
(3);

42023 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_shared);

42034 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
>

42035 
CImgLi°
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

42036 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42037 
assign
(4);

42038 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42050 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
,Åy≥«mê
	gt5
>

42051 
CImgLi°
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42052 c⁄° 
CImg
<
t5
>& 
img5
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

42053 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42054 
assign
(5);

42055 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42056 
	g_d©a
[4].
assign
(
img5
,
is_sh¨ed
);

42069 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
,Åy≥«mê
	gt5
,Åy≥«mê
	gt6
>

42070 
CImgLi°
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42071 c⁄° 
CImg
<
t5
>& 
img5
, c⁄° CImg<
t6
>& 
img6
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

42072 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42073 
assign
(6);

42074 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42075 
	g_d©a
[4].
assign
(
img5
,
is_sh¨ed
); _d©a[5].assign(
img6
,is_shared);

42089 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
,Åy≥«mê
	gt5
,Åy≥«mê
	gt6
,Åy≥«mê
	gt7
>

42090 
CImgLi°
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42091 c⁄° 
CImg
<
t5
>& 
img5
, c⁄° CImg<
t6
>& 
img6
, c⁄° CImg<
t7
>& 
img7
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

42092 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42093 
assign
(7);

42094 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42095 
	g_d©a
[4].
assign
(
img5
,
is_sh¨ed
); _d©a[5].assign(
img6
,is_sh¨ed); _d©a[6].assign(
img7
,is_shared);

42110 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
,Åy≥«mê
	gt5
,Åy≥«mê
	gt6
,Åy≥«mê
	gt7
,Åy≥«mê
	gt8
>

42111 
CImgLi°
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42112 c⁄° 
CImg
<
t5
>& 
img5
, c⁄° CImg<
t6
>& 
img6
, c⁄° CImg<
t7
>& 
img7
, c⁄° CImg<
t8
>& 
img8
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
):

42113 
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42114 
assign
(8);

42115 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42116 
	g_d©a
[4].
assign
(
img5
,
is_sh¨ed
); _d©a[5].assign(
img6
,is_sh¨ed); _d©a[6].assign(
img7
,is_sh¨ed); _d©a[7].assign(
img8
,is_shared);

42124 
	gãm∂©e
<
ty≥«me
 
	gt
>

42125 
CImgLi°
(c⁄° CImgLi°<
t
>& 
li°
):
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42126 
assign
(
li°
.
_width
);

42127 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].
assign
(
li°
[l],
Ál£
);

42131 
CImgLi°
(c⁄° CImgLi°<
T
>& 
li°
):
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42132 
assign
(
li°
.
_width
);

42133 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].
assign
(
li°
[l],li°[l].
_is_sh¨ed
);

42141 
	gãm∂©e
<
ty≥«me
 
	gt
>

42142 
CImgLi°
(c⁄° CImgLi°<
t
>& 
li°
, c⁄° 
boﬁ
 
is_sh¨ed
):
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42143 
assign
(
li°
.
_width
);

42144 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].
assign
(
li°
[l],
is_sh¨ed
);

42151 
ex∂icô
 
CImgLi°
(c⁄° *c⁄° 
fûíame
):
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42152 
assign
(
fûíame
);

42160 
ex∂icô
 
CImgLi°
(c⁄° 
CImgDi•œy
& 
di•
):
_width
(0),
_Æloˇãd_width
(0),
_d©a
(0) {

42161 
assign
(
di•
);

42168 
	gCImgLi°
<
	gT
> 
gë_sh¨ed
() {

42169 
	gCImgLi°
<
	gT
> 
ªs
(
_width
);

42170 
cimgli°_f‹
(*
this
,
l
Ë
	gªs
[l].
assign
(
_d©a
[l],
åue
);

42171  
	gªs
;

42175 c⁄° 
	gCImgLi°
<
	gT
> 
gë_sh¨ed
() const {

42176 
	gCImgLi°
<
	gT
> 
ªs
(
_width
);

42177 
cimgli°_f‹
(*
this
,
l
Ë
	gªs
[l].
assign
(
_d©a
[l],
åue
);

42178  
	gªs
;

42185 
	gCImgLi°
<
	gT
>& 
assign
() {

42186 
	gdñëe
[] 
	g_d©a
;

42187 
	g_width
 = 
_Æloˇãd_width
 = 0;

42188 
	g_d©a
 = 0;

42189  *
	gthis
;

42197 
	gCImgLi°
<
	gT
>& 
˛ór
() {

42198  
assign
();

42205 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
n
) {

42206 i‡(!
	gn
Ë 
assign
();

42207 i‡(
	g_Æloˇãd_width
<
	gn
 || _allocated_width>(n<<2)) {

42208 
	gdñëe
[] 
	g_d©a
;

42209 
	g_d©a
 = 
√w
 
CImg
<
T
>[
_Æloˇãd_width
=
cimg
::
max
(16UL,cimg::
√¨e°_pow2
(
n
))];

42211 
	g_width
 = 
n
;

42212  *
	gthis
;

42219 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
n
, c⁄° 
width
, c⁄° 
height
=1,

42220 c⁄° 
dïth
=1, c⁄° 
•e˘rum
=1) {

42221 
assign
(
n
);

42222 
cimgli°_≠∂y
(*
this
,
assign
)(
	gwidth
,
	gheight
,
	gdïth
,
	g•e˘rum
);

42223  *
	gthis
;

42230 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
n
, c⁄° 
width
, c⁄° 
height
,

42231 c⁄° 
dïth
, c⁄° 
•e˘rum
, c⁄° 
T
 
vÆ
) {

42232 
assign
(
n
);

42233 
cimgli°_≠∂y
(*
this
,
assign
)(
	gwidth
,
	gheight
,
	gdïth
,
	g•e˘rum
,
	gvÆ
);

42234  *
	gthis
;

42241 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
n
, c⁄° 
width
, c⁄° 
height
,

42242 c⁄° 
dïth
, c⁄° 
•e˘rum
, c⁄° 
vÆ0
, c⁄° 
vÆ1
, ...) {

42243 
_CImgLi°_°d¨g
();

42244  *
	gthis
;

42251 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
n
, c⁄° 
width
, c⁄° 
height
,

42252 c⁄° 
dïth
, c⁄° 
•e˘rum
, c⁄° 
vÆ0
, c⁄° 
vÆ1
, ...) {

42253 
_CImgLi°_°d¨g
();

42254  *
	gthis
;

42261 
	gãm∂©e
<
ty≥«me
 
	gt
>

42262 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
n
, c⁄° 
CImg
<
t
>& 
img
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42263 
assign
(
n
);

42264 
cimgli°_≠∂y
(*
this
,
assign
)(
	gimg
,
	gis_sh¨ed
);

42265  *
	gthis
;

42272 
	gãm∂©e
<
ty≥«me
 
	gt
>

42273 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImg
<
t
>& 
img
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42274 
assign
(1);

42275 
	g_d©a
[0].
assign
(
img
,
is_sh¨ed
);

42276  *
	gthis
;

42283 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
>

42284 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42285 
assign
(2);

42286 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_shared);

42287  *
	gthis
;

42294 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
>

42295 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42296 
assign
(3);

42297 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_shared);

42298  *
	gthis
;

42305 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
>

42306 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42307 c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42308 
assign
(4);

42309 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42310  *
	gthis
;

42317 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
,Åy≥«mê
	gt5
>

42318 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42319 c⁄° 
CImg
<
t5
>& 
img5
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42320 
assign
(5);

42321 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42322 
	g_d©a
[4].
assign
(
img5
,
is_sh¨ed
);

42323  *
	gthis
;

42330 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
,Åy≥«mê
	gt5
,Åy≥«mê
	gt6
>

42331 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42332 c⁄° 
CImg
<
t5
>& 
img5
, c⁄° CImg<
t6
>& 
img6
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42333 
assign
(6);

42334 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42335 
	g_d©a
[4].
assign
(
img5
,
is_sh¨ed
); _d©a[5].assign(
img6
,is_shared);

42336  *
	gthis
;

42343 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
,Åy≥«mê
	gt5
,Åy≥«mê
	gt6
,Åy≥«mê
	gt7
>

42344 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42345 c⁄° 
CImg
<
t5
>& 
img5
, c⁄° CImg<
t6
>& 
img6
, c⁄° CImg<
t7
>& 
img7
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42346 
assign
(7);

42347 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42348 
	g_d©a
[4].
assign
(
img5
,
is_sh¨ed
); _d©a[5].assign(
img6
,is_sh¨ed); _d©a[6].assign(
img7
,is_shared);

42349  *
	gthis
;

42356 
	gãm∂©e
<
ty≥«me
 
	gt1
,Åy≥«mê
	gt2
,Åy≥«mê
	gt3
,Åy≥«mê
	gt4
,Åy≥«mê
	gt5
,Åy≥«mê
	gt6
,Åy≥«mê
	gt7
,Åy≥«mê
	gt8
>

42357 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImg
<
t1
>& 
img1
, c⁄° CImg<
t2
>& 
img2
, c⁄° CImg<
t3
>& 
img3
, c⁄° CImg<
t4
>& 
img4
,

42358 c⁄° 
CImg
<
t5
>& 
img5
, c⁄° CImg<
t6
>& 
img6
, c⁄° CImg<
t7
>& 
img7
, c⁄° CImg<
t8
>& 
img8
,

42359 c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42360 
assign
(8);

42361 
	g_d©a
[0].
assign
(
img1
,
is_sh¨ed
); _d©a[1].assign(
img2
,is_sh¨ed); _d©a[2].assign(
img3
,is_sh¨ed); _d©a[3].assign(
img4
,is_shared);

42362 
	g_d©a
[4].
assign
(
img5
,
is_sh¨ed
); _d©a[5].assign(
img6
,is_sh¨ed); _d©a[6].assign(
img7
,is_sh¨ed); _d©a[7].assign(
img8
,is_shared);

42363  *
	gthis
;

42370 
	gãm∂©e
<
ty≥«me
 
	gt
>

42371 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImgLi°
<
t
>& 
li°
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42372 
cimg
::
unu£d
(
is_sh¨ed
);

42373 
assign
(
li°
.
_width
);

42374 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].
assign
(
li°
[l],
Ál£
);

42375  *
	gthis
;

42379 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImgLi°
<
T
>& 
li°
, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

42380 i‡(
this
==&
li°
)  *this;

42381 
	gCImgLi°
<
	gT
> 
ªs
(
li°
.
_width
);

42382 
cimgli°_f‹
(
ªs
,
l
Ë
	gªs
[l].
assign
(
li°
[l],
is_sh¨ed
);

42383  
	gªs
.
move_to
(*
this
);

42390 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° *c⁄° 
fûíame
) {

42391  
lﬂd
(
fûíame
);

42398 
	gCImgLi°
<
	gT
>& 
assign
(c⁄° 
CImgDi•œy
 &
di•
) {

42399  
assign
(
CImg
<
T
>(
di•
));

42407 
	gãm∂©e
<
ty≥«me
 
	gt
>

42408 
	gCImgLi°
<
	gt
>& 
move_to
(
CImgLi°
<
t
>& 
li°
) {

42409 
	gli°
.
assign
(
_width
);

42410 
boﬁ
 
	gis_⁄e_sh¨ed_ñemít
 = 
Ál£
;

42411 
cimgli°_f‹
(*
this
,
l
Ë
	gis_⁄e_sh¨ed_ñemít
|=
_d©a
[l].
_is_sh¨ed
;

42412 i‡(
	gis_⁄e_sh¨ed_ñemít
Ë
cimgli°_f‹
(*
this
,
l
Ë
	gli°
[l].
assign
(
_d©a
[l]);

42413 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].
move_to
(
li°
[l]);

42414 
assign
();

42415  
	gli°
;

42425 
	gãm∂©e
<
ty≥«me
 
	gt
>

42426 
	gCImgLi°
<
	gt
>& 
move_to
(
CImgLi°
<
t
>& 
li°
, c⁄° 
pos
) {

42427 i‡(
is_em±y
()Ë 
	gli°
;

42428 c⁄° 
	g≈os
 = 
pos
>
li°
.
_width
?list._width:pos;

42429 
	gli°
.
ö£π
(
_width
,
≈os
);

42430 
boﬁ
 
	gis_⁄e_sh¨ed_ñemít
 = 
Ál£
;

42431 
cimgli°_f‹
(*
this
,
l
Ë
	gis_⁄e_sh¨ed_ñemít
|=
_d©a
[l].
_is_sh¨ed
;

42432 i‡(
	gis_⁄e_sh¨ed_ñemít
Ë
cimgli°_f‹
(*
this
,
l
Ë
	gli°
[
≈os
+l].
assign
(
_d©a
[l]);

42433 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].
move_to
(
li°
[
≈os
+l]);

42434 
assign
();

42435  
	gli°
;

42443 
	gCImgLi°
<
	gT
>& 
sw≠
(
CImgLi°
<
T
>& 
li°
) {

42444 
	gcimg
::
sw≠
(
_width
,
li°
._width);

42445 
	gcimg
::
sw≠
(
_Æloˇãd_width
,
li°
._allocated_width);

42446 
	gcimg
::
sw≠
(
_d©a
,
li°
._data);

42447  
	gli°
;

42457 
	gCImgLi°
<
	gT
>& 
em±y
() {

42458 
	gCImgLi°
<
	gT
> 
	g_em±y
;

42459  
	g_em±y
.
assign
();

42473 
	gCImg
<
	gT
>& 
›î©‹
()(c⁄° 
	gpos
) {

42474 #i‡
cimg_vîbosôy
>=3

42475 i‡(
	gpos
>=
_width
) {

42476 
cimg
::
w¨n
(
_cimgli°_ö°™˚


42478 
cimgli°_ö°™˚
,

42479 
pos
);

42480  *
	g_d©a
;

42483  
	g_d©a
[
pos
];

42490 c⁄° 
	gCImg
<
	gT
>& 
›î©‹
()(c⁄° 
	gpos
) const {

42491  
	gc⁄°_ˇ°
<
	gCImgLi°
<
	gT
>*>(
	gthis
)->
›î©‹
()(
	gpos
);

42503 
	gT
& 
›î©‹
()(c⁄° 
	gpos
, c⁄° 
	gx
, c⁄° 
	gy
=0,

42504 c⁄° 
	gz
=0, c⁄° 
	gc
=0) {

42505  (*
this
)[
pos
](
x
,
y
,
z
,
c
);

42509 c⁄° 
	gT
& 
›î©‹
()(c⁄° 
	gpos
, c⁄° 
	gx
, c⁄° 
	gy
=0,

42510 c⁄° 
	gz
=0, c⁄° 
	gc
=0) const {

42511  (*
this
)[
pos
](
x
,
y
,
z
,
c
);

42518 
›î©‹
 
	gCImg
<
	gT
>*() {

42519  
	g_d©a
;

42523 
›î©‹
 c⁄° 
	gCImg
<
	gT
>*() const {

42524  
	g_d©a
;

42532 
	gãm∂©e
<
ty≥«me
 
	gt
>

42533 
	gCImgLi°
<
	gT
>& 
	g›î©‹
=(c⁄° 
CImg
<
t
>& 
img
) {

42534  
assign
(
img
);

42542 
	gãm∂©e
<
ty≥«me
 
	gt
>

42543 
	gCImgLi°
<
	gT
>& 
	g›î©‹
=(c⁄° 
CImgLi°
<
t
>& 
li°
) {

42544  
assign
(
li°
);

42548 
	gCImgLi°
<
	gT
>& 
	g›î©‹
=(c⁄° 
CImgLi°
<
T
>& 
li°
) {

42549  
assign
(
li°
);

42556 
	gCImgLi°
<
	gT
>& 
	g›î©‹
=(c⁄° *c⁄° 
fûíame
) {

42557  
assign
(
fûíame
);

42564 
	gCImgLi°
<
	gT
>& 
	g›î©‹
=(c⁄° 
CImgDi•œy
& 
di•
) {

42565  
assign
(
di•
);

42572 
	gCImgLi°
<
	gT
> 
	g›î©‹
+() const {

42573  
	gCImgLi°
<
	gT
>(*
	gthis
,
	gÁl£
);

42584 
	gãm∂©e
<
ty≥«me
 
	gt
>

42585 
	gCImgLi°
<
	gT
>& 
	g›î©‹
,(c⁄° 
	gCImg
<
	gt
>& 
	gimg
) {

42586  
ö£π
(
img
);

42593 
	gãm∂©e
<
ty≥«me
 
	gt
>

42594 
	gCImgLi°
<
	gT
>& 
	g›î©‹
,(c⁄° CImgLi°<
	gt
>& 
	gli°
) {

42595  
ö£π
(
li°
);

42603 
	gCImg
<
	gT
> 
	g›î©‹
>(c⁄° 
	gaxis
) const {

42604  
gë_≠≥nd
(
axis
,0);

42612 
	gCImgLi°
<
	gT
> 
	g›î©‹
<(c⁄° 
	gaxis
) const {

42613  
gë_•lô
(
axis
);

42631 c⁄° * 
pixñ_ty≥
() {

42632  
	gcimg
::
ty≥
<
T
>::
°rög
();

42639 
width
() const {

42640  ()
	g_width
;

42647 
size
() const {

42648  
	g_width
;

42655 
	gCImg
<
	gT
> *
d©a
() {

42656  
	g_d©a
;

42660 c⁄° 
	gCImg
<
	gT
> *
d©a
() const {

42661  
	g_d©a
;

42669 #i‡
cimg_vîbosôy
>=3

42670 
	gCImg
<
	gT
> *
d©a
(c⁄° 
pos
) {

42671 i‡(
	gpos
>=
size
())

42672 
cimg
::
w¨n
(
_cimgli°_ö°™˚


42674 
cimgli°_ö°™˚
,

42675 
pos
);

42676  
	g_d©a
 + 
	gpos
;

42679 c⁄° 
	gCImg
<
	gT
> *
d©a
(c⁄° 
l
) const {

42680  
	gc⁄°_ˇ°
<
	gCImgLi°
<
	gT
>*>(
	gthis
)->
d©a
(
l
);

42683 
	gCImg
<
	gT
> *
d©a
(c⁄° 
l
) {

42684  
	g_d©a
 + 
	gl
;

42688 c⁄° 
	gCImg
<
	gT
> *
d©a
(c⁄° 
l
) const {

42689  
	g_d©a
 + 
	gl
;

42696 
ôî©‹
 
begö
() {

42697  
	g_d©a
;

42701 
c⁄°_ôî©‹
 
begö
() const {

42702  
	g_d©a
;

42708 
ôî©‹
 
íd
() {

42709  
	g_d©a
 + 
	g_width
;

42713 
c⁄°_ôî©‹
 
íd
() const {

42714  
	g_d©a
 + 
	g_width
;

42720 
	gCImg
<
	gT
>& 
‰⁄t
() {

42721  *
	g_d©a
;

42725 c⁄° 
	gCImg
<
	gT
>& 
‰⁄t
() const {

42726  *
	g_d©a
;

42732 c⁄° 
	gCImg
<
	gT
>& 
back
() const {

42733  *(
	g_d©a
 + 
	g_width
 - 1);

42737 
	gCImg
<
	gT
>& 
back
() {

42738  *(
	g_d©a
 + 
	g_width
 - 1);

42745 
	gCImg
<
	gT
>& 
©
(c⁄° 
pos
) {

42746 i‡(
is_em±y
())

42747 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42749 
cimgli°_ö°™˚
);

42751  
	g_d©a
[
pos
<0?0:pos>=()
_width
?()_width-1:pos];

42764 
	gT
& 
©NXYZC
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

42765  (
	gpos
<0 ||Öos>=()
_width
)?(
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):
_d©a
[
pos
].
©XYZC
(
x
,
y
,
z
,
c
,out_value);

42769 
T
 
©NXYZC
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

42770  (
	gpos
<0 ||Öos>=()
_width
)?
out_vÆue
:
_d©a
[
pos
].
©XYZC
(
x
,
y
,
z
,
c
,out_value);

42782 
	gT
& 
©NXYZC
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) {

42783 i‡(
is_em±y
())

42784 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42786 
cimgli°_ö°™˚
);

42788  
_©NXYZC
(
pos
,
x
,
y
,
z
,
c
);

42792 
T
 
©NXYZC
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) const {

42793 i‡(
is_em±y
())

42794 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42796 
cimgli°_ö°™˚
);

42798  
_©NXYZC
(
pos
,
x
,
y
,
z
,
c
);

42801 
	gT
& 
_©NXYZC
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) {

42802  
	g_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)].
©XYZC
(
x
,
y
,
z
,
c
);

42805 
T
 
_©NXYZC
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) const {

42806  
	g_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)].
©XYZC
(
x
,
y
,
z
,
c
);

42819 
	gT
& 
©NXYZ
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

42820  (
	gpos
<0 ||Öos>=()
_width
)?(
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):
_d©a
[
pos
].
©XYZ
(
x
,
y
,
z
,
c
,out_value);

42824 
T
 
©NXYZ
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

42825  (
	gpos
<0 ||Öos>=()
_width
)?
out_vÆue
:
_d©a
[
pos
].
©XYZ
(
x
,
y
,
z
,
c
,out_value);

42837 
	gT
& 
©NXYZ
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
=0) {

42838 i‡(
is_em±y
())

42839 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42841 
cimgli°_ö°™˚
);

42843  
_©NXYZ
(
pos
,
x
,
y
,
z
,
c
);

42847 
T
 
©NXYZ
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
=0) const {

42848 i‡(
is_em±y
())

42849 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42851 
cimgli°_ö°™˚
);

42853  
_©NXYZ
(
pos
,
x
,
y
,
z
,
c
);

42856 
	gT
& 
_©NXYZ
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
=0) {

42857  
_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)].
©XYZ
(
x
,
y
,
z
,
c
);

42860 
T
 
_©NXYZ
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
=0) const {

42861  
_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)].
©XYZ
(
x
,
y
,
z
,
c
);

42874 
	gT
& 
©NXY
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

42875  (
	gpos
<0 ||Öos>=()
_width
)?(
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):
_d©a
[
pos
].
©XY
(
x
,
y
,
z
,
c
,out_value);

42879 
T
 
©NXY
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

42880  (
	gpos
<0 ||Öos>=()
_width
)?
out_vÆue
:
_d©a
[
pos
].
©XY
(
x
,
y
,
z
,
c
,out_value);

42892 
	gT
& 
©NXY
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
=0, c⁄° 
c
=0) {

42893 i‡(
is_em±y
())

42894 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42896 
cimgli°_ö°™˚
);

42898  
_©NXY
(
pos
,
x
,
y
,
z
,
c
);

42902 
T
 
©NXY
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
=0, c⁄° 
c
=0) const {

42903 i‡(
is_em±y
())

42904 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42906 
cimgli°_ö°™˚
);

42908  
_©NXY
(
pos
,
x
,
y
,
z
,
c
);

42911 
	gT
& 
_©NXY
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
=0, c⁄° 
c
=0) {

42912  
_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)].
©XY
(
x
,
y
,
z
,
c
);

42915 
T
 
_©NXY
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
=0, c⁄° 
c
=0) const {

42916  
_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)].
©XY
(
x
,
y
,
z
,
c
);

42929 
	gT
& 
©NX
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

42930  (
	gpos
<0 ||Öos>=()
_width
)?(
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):
_d©a
[
pos
].
©X
(
x
,
y
,
z
,
c
,out_value);

42934 
T
 
©NX
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

42935  (
	gpos
<0 ||Öos>=()
_width
)?
out_vÆue
:
_d©a
[
pos
].
©X
(
x
,
y
,
z
,
c
,out_value);

42947 
	gT
& 
©NX
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) {

42948 i‡(
is_em±y
())

42949 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42951 
cimgli°_ö°™˚
);

42953  
_©NX
(
pos
,
x
,
y
,
z
,
c
);

42957 
T
 
©NX
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

42958 i‡(
is_em±y
())

42959 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


42961 
cimgli°_ö°™˚
);

42963  
_©NX
(
pos
,
x
,
y
,
z
,
c
);

42966 
	gT
& 
_©NX
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) {

42967  
_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)].
©X
(
x
,
y
,
z
,
c
);

42970 
T
 
_©NX
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

42971  
_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)].
©X
(
x
,
y
,
z
,
c
);

42984 
	gT
& 
©N
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° 
T
 
out_vÆue
) {

42985  (
	gpos
<0 ||Öos>=()
_width
)?(
cimg
::
ãmp‹¨y
(
out_vÆue
)=out_vÆue):(*
this
)(
pos
,
	gx
,
	gy
,
	gz
,
	gc
);

42989 
T
 
©N
(c⁄° 
pos
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
, c⁄° T 
out_vÆue
) const {

42990  (
	gpos
<0 ||Öos>=()
_width
)?
out_vÆue
:(*
this
)(
pos
,
	gx
,
	gy
,
	gz
,
	gc
);

43002 
	gT
& 
©N
(c⁄° 
pos
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) {

43003 i‡(
is_em±y
())

43004 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43006 
cimgli°_ö°™˚
);

43007  
_©N
(
pos
,
x
,
y
,
z
,
c
);

43011 
T
 
©N
(c⁄° 
pos
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

43012 i‡(
is_em±y
())

43013 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43015 
cimgli°_ö°™˚
);

43016  
_©N
(
pos
,
x
,
y
,
z
,
c
);

43019 
	gT
& 
_©N
(c⁄° 
pos
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) {

43020  
_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)](
x
,
	gy
,
	gz
,
	gc
);

43023 
T
 
_©N
(c⁄° 
pos
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

43024  
_d©a
[
pos
<0?0:’os>=()
_width
?()_width-1:pos)](
x
,
	gy
,
	gz
,
	gc
);

43033 
	gCImg
<
	gch¨T
> 
vÆue_°rög
(c⁄° 
£∑øt‹
=',', c⁄° 
max_size
=0) const {

43034 i‡(
is_em±y
()Ë 
CImg
<
uch¨T
>(1,1,1,1,0);

43035 
	gCImgLi°
<
	gch¨T
> 
	gôems
;

43036 
	gl
 = 0;Ü<
	g_width
-1; ++l) {

43037 
	gCImg
<
	gch¨T
> 
	gôem
 = 
_d©a
[
l
].
vÆue_°rög
(
£∑øt‹
,0);

43038 
	gôem
.
back
(Ë
£∑øt‹
;

43039 
	gôem
.
move_to
(
ôems
);

43041 
	g_d©a
[
_width
-1].
vÆue_°rög
(
£∑øt‹
,0).
move_to
(
ôems
);

43042 
	gCImg
<
	gch¨T
> 
	gªs
; (
	gôems
>'x').
move_to
(
ªs
);

43043 i‡(
	gmax_size
Ë{ 
	gªs
.
¸›
(0,
max_size
); 
ªs
(max_size) = 0; }

43044  
	gªs
;

43057 
boﬁ
 
is_em±y
() const {

43058  (!
	g_d©a
 || !
	g_width
);

43065 
boﬁ
 
is_ßmeN
(c⁄° 
size_n
) const {

43066  
	g_width
==
size_n
;

43073 
	gãm∂©e
<
ty≥«me
 
	gt
>

43074 
boﬁ
 
is_ßmeN
(c⁄° 
CImgLi°
<
t
>& 
li°
) const {

43075  
is_ßmeN
(
li°
.
_width
);

43080 
	#_cimgli°_def_is_ßme1
(
axis
) \

43081 
boﬁ
 
is_ßme
##
	`axis
(c⁄° 
vÆ
) const { \

43082 
boﬁ
 
ªs
 = 
åue
; 
l
 = 0;Ü<
_width
 &&Ñes; ++lËª†
_d©a
[l].
is_ßme
##
	`axis
(
vÆ
); Ñes; \

43084 
boﬁ
 
is_ßmeN
##
	`axis
(c⁄° 
n
, c⁄° 
vÆ
) const { \

43085  
	`is_ßmeN
(
n
Ë&& 
is_ßme
##
	`axis
(
vÆ
); \

43087 

	)

43088 
	#_cimgli°_def_is_ßme2
(
axis1
,
axis2
) \

43089 
boﬁ
 
is_ßme
##
axis1
##
	`axis2
(c⁄° 
vÆ1
, c⁄° 
vÆ2
) const { \

43090 
boﬁ
 
ªs
 = 
åue
; 
l
 = 0;Ü<
_width
 &&Ñes; ++lËª†
_d©a
[l].
is_ßme
##
axis1
##
	`axis2
(
vÆ1
,
vÆ2
); Ñes; \

43092 
boﬁ
 
is_ßmeN
##
axis1
##
	`axis2
(c⁄° 
n
, c⁄° 
vÆ1
, c⁄° 
vÆ2
) const { \

43093  
	`is_ßmeN
(
n
Ë&& 
is_ßme
##
axis1
##
	`axis2
(
vÆ1
,
vÆ2
); \

43095 

	)

43096 
	#_cimgli°_def_is_ßme3
(
axis1
,
axis2
,
axis3
) \

43097 
boﬁ
 
is_ßme
##
axis1
##
axis2
##
	`axis3
(c⁄° 
vÆ1
, c⁄° 
vÆ2
, c⁄° 
vÆ3
) const { \

43098 
boﬁ
 
ªs
 = 
åue
; 
l
 = 0;Ü<
_width
 &&Ñes; ++lËª†
_d©a
[l].
is_ßme
##
axis1
##
axis2
##
	`axis3
(
vÆ1
,
vÆ2
,
vÆ3
); Ñes; \

43100 
boﬁ
 
is_ßmeN
##
axis1
##
axis2
##
	`axis3
(c⁄° 
n
, c⁄° 
vÆ1
, c⁄° 
vÆ2
, c⁄° 
vÆ3
) const { \

43101  
	`is_ßmeN
(
n
Ë&& 
is_ßme
##
axis1
##
axis2
##
	`axis3
(
vÆ1
,
vÆ2
,
vÆ3
); \

43103 

	)

43104 
	#_cimgli°_def_is_ßme
(
axis
) \

43105 
ãm∂©e
<
ty≥«me
 
t
> 
boﬁ
 
is_ßme
##
	`axis
(c⁄° 
CImg
<t>& 
img
) const { \

43106 
boﬁ
 
ªs
 = 
åue
; 
l
 = 0;Ü<
_width
 &&Ñes; ++lËª†
_d©a
[l].
is_ßme
##
	`axis
(
img
); Ñes; \

43108 
ãm∂©e
<
ty≥«me
 
t
> 
boﬁ
 
is_ßme
##
	`axis
(c⁄° 
CImgLi°
<t>& 
li°
) const { \

43109 c⁄° 
lmö
 = 
cimg
::
	`mö
(
_width
,
li°
._width); \

43110 
boﬁ
 
ªs
 = 
åue
; 
l
 = 0;Ü<
lmö
 &&Ñes; ++lËª†
_d©a
[l].
is_ßme
##
	`axis
(
li°
[l]); Ñes; \

43112 
ãm∂©e
<
ty≥«me
 
t
> 
boﬁ
 
is_ßmeN
##
	`axis
(c⁄° 
n
, c⁄° 
CImg
<t>& 
img
) const { \

43113  (
	`is_ßmeN
(
n
Ë&& 
is_ßme
##
	`axis
(
img
)); \

43115 
ãm∂©e
<
ty≥«me
 
t
> 
boﬁ
 
is_ßmeN
##
	`axis
(c⁄° 
CImgLi°
<t>& 
li°
) const { \

43116  (
	`is_ßmeN
(
li°
Ë&& 
is_ßme
##
	`axis
(list)); \

43117 }

	)

43119 
_cimgli°_def_is_ßme
(
XY
)

43120 
_cimgli°_def_is_ßme
(
XZ
)

43121 
_cimgli°_def_is_ßme
(
XC
)

43122 
_cimgli°_def_is_ßme
(
YZ
)

43123 
_cimgli°_def_is_ßme
(
YC
)

43124 
_cimgli°_def_is_ßme
(
XYZ
)

43125 
_cimgli°_def_is_ßme
(
XYC
)

43126 
_cimgli°_def_is_ßme
(
YZC
)

43127 
_cimgli°_def_is_ßme
(
XYZC
)

43128 
_cimgli°_def_is_ßme1
(
X
)

43129 
_cimgli°_def_is_ßme1
(
Y
)

43130 
_cimgli°_def_is_ßme1
(
Z
)

43131 
_cimgli°_def_is_ßme1
(
C
)

43132 
_cimgli°_def_is_ßme2
(
X
,
Y
)

43133 
_cimgli°_def_is_ßme2
(
X
,
Z
)

43134 
_cimgli°_def_is_ßme2
(
X
,
C
)

43135 
_cimgli°_def_is_ßme2
(
Y
,
Z
)

43136 
_cimgli°_def_is_ßme2
(
Y
,
C
)

43137 
_cimgli°_def_is_ßme2
(
Z
,
C
)

43138 
_cimgli°_def_is_ßme3
(
X
,
Y
,
Z
)

43139 
_cimgli°_def_is_ßme3
(
X
,
Y
,
C
)

43140 
_cimgli°_def_is_ßme3
(
X
,
Z
,
C
)

43141 
_cimgli°_def_is_ßme3
(
Y
,
Z
,
C
)

43150 
boﬁ
 
is_ßmeXYZC
(c⁄° 
dx
, c⁄° 
dy
, c⁄° 
dz
, c⁄° 
dc
) const {

43151 
boﬁ
 
	gªs
 = 
åue
;

43152 
	gl
 = 0;Ü<
	g_width
 && 
	gªs
; ++lËª†
_d©a
[
l
].
is_ßmeXYZC
(
dx
,
dy
,
dz
,
dc
);

43153  
	gªs
;

43164 
boﬁ
 
is_ßmeNXYZC
(c⁄° 
n
, c⁄° 
dx
, c⁄° 
dy
, c⁄° 
dz
, c⁄° 
dc
) const {

43165  
is_ßmeN
(
n
Ë&& 
is_ßmeXYZC
(
dx
,
dy
,
dz
,
dc
);

43176 
boﬁ
 
c⁄èösNXYZC
(c⁄° 
n
, c⁄° 
x
=0, c⁄° 
y
=0, c⁄° 
z
=0, c⁄° 
c
=0) const {

43177 i‡(
is_em±y
()Ë 
Ál£
;

43178  
	gn
>=0 && 
n
<()
_width
 && 
x
>=0 && x<
_d©a
[n].
width
(Ë&& 
y
>=0 && y<_d©a[n].
height
() &&

43179 
z
>=0 && z<
_d©a
[
n
].
dïth
(Ë&& 
c
>=0 && c<_d©a[n].
•e˘rum
();

43186 
boﬁ
 
c⁄èösN
(c⁄° 
n
) const {

43187 i‡(
is_em±y
()Ë 
	gÁl£
;

43188  
	gn
>=0 && 
n
<()
_width
;

43201 
	gãm∂©e
<
ty≥«me
 
	gt
>

43202 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
n
,Å& 
x
,Å&
y
,Å& 
z
,Å& 
c
) const {

43203 i‡(
is_em±y
()Ë 
	gÁl£
;

43204 
cimgli°_f‹
(*
this
,
l
Ëi‡(
	g_d©a
[l].
c⁄èös
(
pixñ
,
x
,
y
,
z
,
c
)Ë{ 
	gn
 = (
t
Ó;  
	gåue
; }

43205  
	gÁl£
;

43217 
	gãm∂©e
<
ty≥«me
 
	gt
>

43218 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
n
,Å& 
x
,Å&
y
,Å& 
z
) const {

43219 
t
 
	gc
;

43220  
c⁄èös
(
pixñ
,
n
,
x
,
y
,
z
,
c
);

43231 
	gãm∂©e
<
ty≥«me
 
	gt
>

43232 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
n
,Å& 
x
,Å&
y
) const {

43233 
t
 
	gz
, 
	gc
;

43234  
c⁄èös
(
pixñ
,
n
,
x
,
y
,
z
,
c
);

43244 
	gãm∂©e
<
ty≥«me
 
	gt
>

43245 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
n
,Å& 
x
) const {

43246 
t
 
	gy
, 
	gz
, 
	gc
;

43247  
c⁄èös
(
pixñ
,
n
,
x
,
y
,
z
,
c
);

43256 
	gãm∂©e
<
ty≥«me
 
	gt
>

43257 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
, 
t
& 
n
) const {

43258 
t
 
	gx
, 
	gy
, 
	gz
, 
	gc
;

43259  
c⁄èös
(
pixñ
,
n
,
x
,
y
,
z
,
c
);

43266 
boﬁ
 
c⁄èös
(c⁄° 
T
& 
pixñ
) const {

43267 
	gn
, 
	gx
, 
	gy
, 
	gz
, 
	gc
;

43268  
c⁄èös
(
pixñ
,
n
,
x
,
y
,
z
,
c
);

43277 
	gãm∂©e
<
ty≥«me
 
	gt
>

43278 
boﬁ
 
c⁄èös
(c⁄° 
CImg
<
T
>& 
img
, 
t
& 
n
) const {

43279 i‡(
is_em±y
()Ë 
	gÁl£
;

43280 c⁄° 
	gCImg
<
	gT
> *c⁄° 
	g±r
 = &
img
;

43281 
cimgli°_f‹
(*
this
,
i
Ëi‡(
	g_d©a
+
	gi
==
±r
Ë{ 
n
 = (
t
)i;  
	gåue
; }

43282  
	gÁl£
;

43289 
boﬁ
 
c⁄èös
(c⁄° 
CImg
<
T
>& 
img
) const {

43290 
	gn
;

43291  
c⁄èös
(
img
,
n
);

43304 
	gT
& 
mö
() {

43305 i‡(
is_em±y
())

43306 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43308 
cimgli°_ö°™˚
);

43309 
T
 *
	g±r_mö
 = 
_d©a
->_data;

43310 
T
 
	gmö_vÆue
 = *
±r_mö
;

43311 
cimgli°_f‹
(*
this
,
l
) {

43312 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43313 
cimg_f‹
(
img
,
±rs
,
T
Ëi‡(*
	g±rs
<
	gmö_vÆue
Ëmö_vÆuê*(
±r_mö
=ptrs);

43315  *
	g±r_mö
;

43319 c⁄° 
	gT
& 
mö
() const {

43320 i‡(
is_em±y
())

43321 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43323 
cimgli°_ö°™˚
);

43324 c⁄° 
T
 *
	g±r_mö
 = 
_d©a
->_data;

43325 
T
 
	gmö_vÆue
 = *
±r_mö
;

43326 
cimgli°_f‹
(*
this
,
l
) {

43327 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43328 
cimg_f‹
(
img
,
±rs
,
T
Ëi‡(*
	g±rs
<
	gmö_vÆue
Ëmö_vÆuê*(
±r_mö
=ptrs);

43330  *
	g±r_mö
;

43336 
	gT
& 
max
() {

43337 i‡(
is_em±y
())

43338 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43340 
cimgli°_ö°™˚
);

43341 
T
 *
	g±r_max
 = 
_d©a
->_data;

43342 
T
 
	gmax_vÆue
 = *
±r_max
;

43343 
cimgli°_f‹
(*
this
,
l
) {

43344 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43345 
cimg_f‹
(
img
,
±rs
,
T
Ëi‡(*
	g±rs
>
	gmax_vÆue
Ëmax_vÆuê*(
±r_max
=ptrs);

43347  *
	g±r_max
;

43351 c⁄° 
	gT
& 
max
() const {

43352 i‡(
is_em±y
())

43353 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43355 
cimgli°_ö°™˚
);

43356 c⁄° 
T
 *
	g±r_max
 = 
_d©a
->_data;

43357 
T
 
	gmax_vÆue
 = *
±r_max
;

43358 
cimgli°_f‹
(*
this
,
l
) {

43359 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43360 
cimg_f‹
(
img
,
±rs
,
T
Ëi‡(*
	g±rs
>
	gmax_vÆue
Ëmax_vÆuê*(
±r_max
=ptrs);

43362  *
	g±r_max
;

43369 
	gãm∂©e
<
ty≥«me
 
	gt
>

43370 
	gT
& 
mö_max
(
t
& 
max_vÆ
) {

43371 i‡(
is_em±y
())

43372 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43374 
cimgli°_ö°™˚
);

43375 
T
 *
	g±r_mö
 = 
_d©a
->_data;

43376 
T
 
	gmö_vÆue
 = *
±r_mö
, 
	gmax_vÆue
 = 
mö_vÆue
;

43377 
cimgli°_f‹
(*
this
,
l
) {

43378 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43379 
cimg_f‹
(
img
,
±rs
,
T
) {

43380 c⁄° 
T
 
	gvÆ
 = *
±rs
;

43381 i‡(
	gvÆ
<
	gmö_vÆue
Ë{ mö_vÆuê
vÆ
; 
	g±r_mö
 = 
±rs
; }

43382 i‡(
	gvÆ
>
	gmax_vÆue
Ëmax_vÆuê
vÆ
;

43385 
	gmax_vÆ
 = (
t
)
max_vÆue
;

43386  *
	g±r_mö
;

43393 
	gãm∂©e
<
ty≥«me
 
	gt
>

43394 c⁄° 
	gT
& 
mö_max
(
t
& 
max_vÆ
) const {

43395 i‡(
is_em±y
())

43396 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43398 
cimgli°_ö°™˚
);

43399 c⁄° 
T
 *
	g±r_mö
 = 
_d©a
->_data;

43400 
T
 
	gmö_vÆue
 = *
±r_mö
, 
	gmax_vÆue
 = 
mö_vÆue
;

43401 
cimgli°_f‹
(*
this
,
l
) {

43402 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43403 
cimg_f‹
(
img
,
±rs
,
T
) {

43404 c⁄° 
T
 
	gvÆ
 = *
±rs
;

43405 i‡(
	gvÆ
<
	gmö_vÆue
Ë{ mö_vÆuê
vÆ
; 
	g±r_mö
 = 
±rs
; }

43406 i‡(
	gvÆ
>
	gmax_vÆue
Ëmax_vÆuê
vÆ
;

43409 
	gmax_vÆ
 = (
t
)
max_vÆue
;

43410  *
	g±r_mö
;

43417 
	gãm∂©e
<
ty≥«me
 
	gt
>

43418 
	gT
& 
max_mö
(
t
& 
mö_vÆ
) {

43419 i‡(
is_em±y
())

43420 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43422 
cimgli°_ö°™˚
);

43423 
T
 *
	g±r_max
 = 
_d©a
->_data;

43424 
T
 
	gmö_vÆue
 = *
±r_max
, 
	gmax_vÆue
 = 
mö_vÆue
;

43425 
cimgli°_f‹
(*
this
,
l
) {

43426 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43427 
cimg_f‹
(
img
,
±rs
,
T
) {

43428 c⁄° 
T
 
	gvÆ
 = *
±rs
;

43429 i‡(
	gvÆ
>
	gmax_vÆue
Ë{ max_vÆuê
vÆ
; 
	g±r_max
 = 
±rs
; }

43430 i‡(
	gvÆ
<
	gmö_vÆue
Ëmö_vÆuê
vÆ
;

43433 
	gmö_vÆ
 = (
t
)
mö_vÆue
;

43434  *
	g±r_max
;

43438 
	gãm∂©e
<
ty≥«me
 
	gt
>

43439 c⁄° 
	gT
& 
max_mö
(
t
& 
mö_vÆ
) const {

43440 i‡(
is_em±y
())

43441 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43443 
cimgli°_ö°™˚
);

43444 c⁄° 
T
 *
	g±r_max
 = 
_d©a
->_data;

43445 
T
 
	gmö_vÆue
 = *
±r_max
, 
	gmax_vÆue
 = 
mö_vÆue
;

43446 
cimgli°_f‹
(*
this
,
l
) {

43447 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43448 
cimg_f‹
(
img
,
±rs
,
T
) {

43449 c⁄° 
T
 
	gvÆ
 = *
±rs
;

43450 i‡(
	gvÆ
>
	gmax_vÆue
Ë{ max_vÆuê
vÆ
; 
	g±r_max
 = 
±rs
; }

43451 i‡(
	gvÆ
<
	gmö_vÆue
Ëmö_vÆuê
vÆ
;

43454 
	gmö_vÆ
 = (
t
)
mö_vÆue
;

43455  *
	g±r_max
;

43471 
	gãm∂©e
<
ty≥«me
 
	gt
>

43472 
	gCImgLi°
<
	gT
>& 
ö£π
(c⁄° 
CImg
<
t
>& 
img
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

43473 c⁄° 
≈os
 = 
pos
==~0U?
_width
:pos;

43474 i‡(
	g≈os
>
	g_width
)

43475 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


43477 
cimgli°_ö°™˚
,

43478 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,img.
_d©a
,
≈os
);

43479 i‡(
	gis_sh¨ed
)

43480 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


43483 
cimgli°_ö°™˚
,

43484 
img
.
pixñ_ty≥
(),img.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,img.
_d©a
,
≈os
);

43486 
	gCImg
<
	gT
> *c⁄° 
	g√w_d©a
 = (++
_width
>
_Æloˇãd_width
)?
√w
 
CImg
<
T
>[_allocated_width?(_allocated_width<<=1):(_allocated_width=16)]:0;

43487 i‡(!
	g_d©a
) {

43488 
	g_d©a
 = 
√w_d©a
;

43489 *
	g_d©a
 = 
img
;

43491 i‡(
	g√w_d©a
) {

43492 i‡(
	g≈os
Ë
	g°d
::
mem˝y
(
√w_d©a
,
_d©a
,(
CImg
<
T
>)*
≈os
);

43493 i‡(
	g≈os
!=
_width
-1Ë
°d
::
mem˝y
(
√w_d©a
+
≈os
+1,
_d©a
+≈os,(
CImg
<
T
>)*(_width-1-npos));

43494 
	g°d
::
mem£t
(
_d©a
,0,(
CImg
<
T
>)*(
_width
-1));

43495 
	gdñëe
[] 
	g_d©a
;

43496 
	g_d©a
 = 
√w_d©a
;

43497 } i‡(
	g≈os
!=
_width
-1Ë
°d
::
memmove
(
_d©a
+
≈os
+1,_d©a+≈os,(
CImg
<
T
>)*(_width-1-npos));

43498 
	g_d©a
[
≈os
].
	g_width
 = 
_d©a
[≈os].
_height
 = _d©a[≈os].
_dïth
 = _d©a[≈os].
_•e˘rum
 = 0; _data[npos]._data = 0;

43499 
	g_d©a
[
≈os
] = 
img
;

43501  *
	gthis
;

43505 
	gCImgLi°
<
	gT
>& 
ö£π
(c⁄° 
CImg
<
T
>& 
img
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

43506 c⁄° 
≈os
 = 
pos
==~0U?
_width
:pos;

43507 i‡(
	g≈os
>
	g_width
)

43508 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


43510 
cimgli°_ö°™˚
,

43511 
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
,img.
_d©a
,
≈os
);

43512 
	gCImg
<
	gT
> *c⁄° 
	g√w_d©a
 = (++
_width
>
_Æloˇãd_width
)?
√w
 
CImg
<
T
>[_allocated_width?(_allocated_width<<=1):(_allocated_width=16)]:0;

43513 i‡(!
	g_d©a
) {

43514 
	g_d©a
 = 
√w_d©a
;

43515 i‡(
	gis_sh¨ed
 && 
	gimg
) {

43516 
	g_d©a
->
	g_width
 = 
img
.
_width
; _d©a->
	g_height
 = img.
_height
; _d©a->
	g_dïth
 = img.
_dïth
; _d©a->
	g_•e˘rum
 = img.
_•e˘rum
;

43517 
	g_d©a
->
	g_is_sh¨ed
 = 
åue
; _d©a->_d©®
img
.
_d©a
;

43518 } *
	g_d©a
 = 
img
;

43521 i‡(
	g√w_d©a
) {

43522 i‡(
	g≈os
Ë
	g°d
::
mem˝y
(
√w_d©a
,
_d©a
,(
CImg
<
T
>)*
≈os
);

43523 i‡(
	g≈os
!=
_width
-1Ë
°d
::
mem˝y
(
√w_d©a
+
≈os
+1,
_d©a
+≈os,(
CImg
<
T
>)*(_width-1-npos));

43524 i‡(
	gis_sh¨ed
 && 
	gimg
) {

43525 
	g√w_d©a
[
≈os
].
	g_width
 = 
img
.
_width
;Çew_d©a[≈os].
	g_height
 = img.
_height
;Çew_d©a[≈os].
	g_dïth
 = img.
_dïth
;

43526 
	g√w_d©a
[
≈os
].
	g_•e˘rum
 = 
img
.
_•e˘rum
;Çew_d©a[≈os].
	g_is_sh¨ed
 = 
åue
;Çew_d©a[≈os].
	g_d©a
 = img.
_d©a
;

43528 
	g√w_d©a
[
≈os
].
	g_width
 = 
√w_d©a
[≈os].
_height
 =Çew_d©a[≈os].
_dïth
 =Çew_d©a[≈os].
_•e˘rum
 = 0;Çew_d©a[≈os].
	g_d©a
 = 0;

43529 
	g√w_d©a
[
≈os
] = 
img
;

43531 
	g°d
::
mem£t
(
_d©a
,0,(
CImg
<
T
>)*(
_width
-1));

43532 
	gdñëe
[] 
	g_d©a
;

43533 
	g_d©a
 = 
√w_d©a
;

43535 i‡(
	g≈os
!=
_width
-1Ë
°d
::
memmove
(
_d©a
+
≈os
+1,_d©a+≈os,(
CImg
<
T
>)*(_width-1-npos));

43536 i‡(
	gis_sh¨ed
 && 
	gimg
) {

43537 
	g_d©a
[
≈os
].
	g_width
 = 
img
.
_width
; _d©a[≈os].
	g_height
 = img.
_height
; _d©a[≈os].
	g_dïth
 = img.
_dïth
; _d©a[≈os].
	g_•e˘rum
 = img.
_•e˘rum
;

43538 
	g_d©a
[
≈os
].
	g_is_sh¨ed
 = 
åue
; _d©a[≈os]._d©®
img
.
_d©a
;

43540 
	g_d©a
[
≈os
].
	g_width
 = 
_d©a
[≈os].
_height
 = _d©a[≈os].
_dïth
 = _d©a[≈os].
_•e˘rum
 = 0; _data[npos]._data = 0;

43541 
	g_d©a
[
≈os
] = 
img
;

43545  *
	gthis
;

43549 
	gãm∂©e
<
ty≥«me
 
	gt
>

43550 
	gCImgLi°
<
	gT
> 
gë_ö£π
(c⁄° 
CImg
<
t
>& 
img
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) const {

43551  (+*
this
).
ö£π
(
img
,
pos
,
is_sh¨ed
);

43559 
	gCImgLi°
<
	gT
>& 
ö£π
(c⁄° 
n
, c⁄° 
pos
=~0U) {

43560 
CImg
<
T
> 
em±y
;

43561 i‡(!
	gn
Ë *
	gthis
;

43562 c⁄° 
	g≈os
 = 
pos
==~0U?
_width
:pos;

43563 
	gi
 = 0; i<
	gn
; ++iË
ö£π
(
em±y
,
≈os
+
i
);

43564  *
	gthis
;

43568 
	gCImgLi°
<
	gT
> 
gë_ö£π
(c⁄° 
n
, c⁄° 
pos
=~0U) const {

43569  (+*
this
).
ö£π
(
n
,
pos
);

43579 
	gãm∂©e
<
ty≥«me
 
	gt
>

43580 
	gCImgLi°
<
	gT
>& 
ö£π
(c⁄° 
n
, c⁄° 
CImg
<
t
>& 
img
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

43581 i‡(!
n
Ë *
this
;

43582 c⁄° 
	g≈os
 = 
pos
==~0U?
_width
:pos;

43583 
ö£π
(
img
,
≈os
,
is_sh¨ed
);

43584 
	gi
 = 1; i<
	gn
; ++iË
ö£π
(
_d©a
[
≈os
],≈os+
i
,
is_sh¨ed
);

43585  *
	gthis
;

43589 
	gãm∂©e
<
ty≥«me
 
	gt
>

43590 
	gCImgLi°
<
	gT
> 
gë_ö£π
(c⁄° 
n
, c⁄° 
CImg
<
t
>& 
img
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) const {

43591  (+*
this
).
ö£π
(
n
,
img
,
pos
,
is_sh¨ed
);

43600 
	gãm∂©e
<
ty≥«me
 
	gt
>

43601 
	gCImgLi°
<
	gT
>& 
ö£π
(c⁄° 
CImgLi°
<
t
>& 
li°
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

43602 c⁄° 
≈os
 = 
pos
==~0U?
_width
:pos;

43603 i‡((*)
	gthis
!=(*)&
li°
Ë
cimgli°_f‹
÷i°,
l
Ë
ö£π
÷i°[l],
≈os
+l,
is_sh¨ed
);

43604 
ö£π
(
CImgLi°
<
T
>(
li°
),
≈os
,
is_sh¨ed
);

43605  *
	gthis
;

43609 
	gãm∂©e
<
ty≥«me
 
	gt
>

43610 
	gCImgLi°
<
	gT
> 
gë_ö£π
(c⁄° 
CImgLi°
<
t
>& 
li°
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) const {

43611  (+*
this
).
ö£π
(
li°
,
pos
,
is_sh¨ed
);

43621 
	gãm∂©e
<
ty≥«me
 
	gt
>

43622 
	gCImgLi°
<
	gT
>& 
ö£π
(c⁄° 
n
, c⁄° 
CImgLi°
<
t
>& 
li°
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) {

43623 i‡(!
n
Ë *
this
;

43624 c⁄° 
	g≈os
 = 
pos
==~0U?
_width
:pos;

43625 
	gi
 = 0; i<
	gn
; ++iË
ö£π
(
li°
,
≈os
,
is_sh¨ed
);

43626  *
	gthis
;

43630 
	gãm∂©e
<
ty≥«me
 
	gt
>

43631 
	gCImgLi°
<
	gT
> 
gë_ö£π
(c⁄° 
n
, c⁄° 
CImgLi°
<
t
>& 
li°
, c⁄° 
pos
=~0U, c⁄° 
boﬁ
 
is_sh¨ed
=
Ál£
) const {

43632  (+*
this
).
ö£π
(
n
,
li°
,
pos
,
is_sh¨ed
);

43640 
	gCImgLi°
<
	gT
>& 
ªmove
(c⁄° 
pos1
, c⁄° 
pos2
) {

43642 
	g≈os1
 = 
pos1
<
pos2
?pos1:pos2,

43643 
	gços2
 = 
pos1
<
pos2
?pos2:pos1,

43644 
	g≈os2
 = 
ços2
<
_width
?tpos2:_width-1;

43645 i‡(
	g≈os1
>=
_width
)

43646 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


43648 
cimgli°_ö°™˚
,

43649 
≈os1
,
ços2
);

43651 i‡(
	gços2
>=
_width
)

43652 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


43654 
cimgli°_ö°™˚
,

43655 
≈os1
,
ços2
);

43657 
	gk
 = 
≈os1
; k<=
≈os2
; ++kË
	g_d©a
[
k
].
assign
();

43658 c⁄° 
	gnb
 = 1 + 
≈os2
 - 
≈os1
;

43659 i‡(!(
	g_width
-=
nb
)Ë 
assign
();

43660 i‡(
	g_width
>(
	g_Æloˇãd_width
>>2) || _allocated_width<=16) {

43661 i‡(
≈os1
!=
_width
Ë
°d
::
memmove
(
_d©a
+≈os1,_d©a+
≈os2
+1,(
CImg
<
T
>)*(_width -Çpos1));

43662 
	g°d
::
mem£t
(
_d©a
 + 
_width
,0,(
CImg
<
T
>)*
nb
);

43664 
	g_Æloˇãd_width
>>=2;

43665 
	g_Æloˇãd_width
>16 && 
	g_width
<(_allocated_width>>1)) _allocated_width>>=1;

43666 
	gCImg
<
	gT
> *c⁄° 
	g√w_d©a
 = 
√w
 
CImg
<
T
>[
_Æloˇãd_width
];

43667 i‡(
	g≈os1
Ë
	g°d
::
mem˝y
(
√w_d©a
,
_d©a
,(
CImg
<
T
>)*
≈os1
);

43668 i‡(
	g≈os1
!=
_width
Ë
°d
::
mem˝y
(
√w_d©a
+
≈os1
,
_d©a
+
≈os2
+1,(
CImg
<
T
>)*(_width-npos1));

43669 i‡(
	g_width
!=
_Æloˇãd_width
Ë
°d
::
mem£t
(
√w_d©a
+
_width
,0,(_allocated_width - _width));

43670 
	g°d
::
mem£t
(
_d©a
,0,(
CImg
<
T
>)*(
_width
+
nb
));

43671 
	gdñëe
[] 
	g_d©a
;

43672 
	g_d©a
 = 
√w_d©a
;

43675  *
	gthis
;

43679 
	gCImgLi°
<
	gT
> 
gë_ªmove
(c⁄° 
pos1
, c⁄° 
pos2
) const {

43680  (+*
	gthis
).
ªmove
(
pos1
,
pos2
);

43687 
	gCImgLi°
<
	gT
>& 
ªmove
(c⁄° 
pos
) {

43688  
ªmove
(
pos
,pos);

43692 
	gCImgLi°
<
	gT
> 
gë_ªmove
(c⁄° 
pos
) const {

43693  (+*
	gthis
).
ªmove
(
pos
);

43699 
	gCImgLi°
<
	gT
>& 
ªmove
() {

43700  
ªmove
(
_width
-1);

43704 
	gCImgLi°
<
	gT
> 
gë_ªmove
() const {

43705  (+*
	gthis
).
ªmove
();

43709 
	gCImgLi°
<
	gT
>& 
ªvî£
() {

43710 
	gl
 = 0;Ü<
	g_width
/2; ++lË(*
	gthis
)[
l
].
sw≠
((*
this
)[
_width
-1-l]);

43711  *
	gthis
;

43715 
	gCImgLi°
<
	gT
> 
gë_ªvî£
() const {

43716  (+*
	gthis
).
ªvî£
();

43724 
	gCImgLi°
<
	gT
>& 
images
(c⁄° 
pos0
, c⁄° 
pos1
) {

43725  
gë_images
(
pos0
,
pos1
).
move_to
(*
this
);

43729 
	gCImgLi°
<
	gT
> 
gë_images
(c⁄° 
pos0
, c⁄° 
pos1
) const {

43730 i‡(
	gpos0
>
	gpos1
 ||Öos1>=
_width
)

43731 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


43733 
cimgli°_ö°™˚
,

43734 
pos0
,
pos1
);

43735 
	gCImgLi°
<
	gT
> 
ªs
(
pos1
-
pos0
+1);

43736 
cimgli°_f‹
(
ªs
,
l
Ë
	gªs
[l].
assign
(
_d©a
[
pos0
+l]);

43737  
	gªs
;

43745 
	gCImgLi°
<
	gT
> 
gë_sh¨ed_images
(c⁄° 
pos0
, c⁄° 
pos1
) {

43746 i‡(
	gpos0
>
	gpos1
 ||Öos1>=
_width
)

43747 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


43749 
cimgli°_ö°™˚
,

43750 
pos0
,
pos1
);

43751 
	gCImgLi°
<
	gT
> 
ªs
(
pos1
-
pos0
+1);

43752 
cimgli°_f‹
(
ªs
,
l
Ë
	gªs
[l].
assign
(
_d©a
[
pos0
+l],_d©a[pos0+l]?
åue
:
Ál£
);

43753  
	gªs
;

43757 c⁄° 
	gCImgLi°
<
	gT
> 
gë_sh¨ed_images
(c⁄° 
pos0
, c⁄° 
pos1
) const {

43758 i‡(
	gpos0
>
	gpos1
 ||Öos1>=
_width
)

43759 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


43761 
cimgli°_ö°™˚
,

43762 
pos0
,
pos1
);

43763 
	gCImgLi°
<
	gT
> 
ªs
(
pos1
-
pos0
+1);

43764 
cimgli°_f‹
(
ªs
,
l
Ë
	gªs
[l].
assign
(
_d©a
[
pos0
+l],_d©a[pos0+l]?
åue
:
Ál£
);

43765  
	gªs
;

43773 
	gCImg
<
	gT
> 
gë_≠≥nd
(c⁄° 
axis
, c⁄° 
Æign
=0) const {

43774 i‡(
is_em±y
()Ë 
CImg
<
T
>();

43775 i‡(
	g_width
==1Ë +((*
this
)[0]);

43776 
	gdx
 = 0, 
	gdy
 = 0, 
	gdz
 = 0, 
	gdc
 = 0, 
	gpos
 = 0;

43777 
	gCImg
<
	gT
> 
	gªs
;

43778 
	gcimg
::
unˇ£
(
axis
)) {

43780 
cimgli°_f‹
(*
this
,
l
) {

43781 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

43782 i‡(
	gimg
Ë{ 
	gdx
+=
img
.
_width
; 
	gdy
 = 
cimg
::
max
(
dy
,img.
_height
); 
	gdz
 = cimg::max(
dz
,img.
_dïth
); 
	gdc
 = cimg::max(
dc
,img.
_•e˘rum
); }

43784 
	gªs
.
assign
(
dx
,
dy
,
dz
,
dc
,0);

43785 i‡(
	gªs
Ë
cimgli°_f‹
(*
this
,
l
) {

43786 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

43787 i‡(
	gimg
Ë
	gªs
.
døw_image
(
pos
,

43788 ()(
Æign
*(
dy
-
img
.
_height
)),

43789 ()(
Æign
*(
dz
-
img
.
_dïth
)),

43790 ()(
Æign
*(
dc
-
img
.
_•e˘rum
)),

43791 
img
);

43792 
	gpos
+=
img
.
_width
;

43796 
cimgli°_f‹
(*
this
,
l
) {

43797 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

43798 i‡(
	gimg
Ë{ 
	gdx
 = 
cimg
::
max
(
dx
,
img
.
_width
); 
	gdy
+=img.
_height
; 
	gdz
 = cimg::max(
dz
,img.
_dïth
); 
	gdc
 = cimg::max(
dc
,img.
_•e˘rum
); }

43800 
	gªs
.
assign
(
dx
,
dy
,
dz
,
dc
,0);

43801 i‡(
	gªs
Ë
cimgli°_f‹
(*
this
,
l
) {

43802 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

43803 i‡(
	gimg
Ë
	gªs
.
døw_image
(()(
Æign
*(
dx
-
img
.
_width
)),

43804 
pos
,

43805 ()(
Æign
*(
dz
-
img
.
_dïth
)),

43806 ()(
Æign
*(
dc
-
img
.
_•e˘rum
)),

43807 
img
);

43808 
	gpos
+=
img
.
_height
;

43812 
cimgli°_f‹
(*
this
,
l
) {

43813 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

43814 i‡(
	gimg
Ë{ 
	gdx
 = 
cimg
::
max
(
dx
,
img
.
_width
); 
	gdy
 = cimg::max(
dy
,img.
_height
); 
	gdz
+=img.
_dïth
; 
	gdc
 = cimg::max(
dc
,img.
_•e˘rum
); }

43816 
	gªs
.
assign
(
dx
,
dy
,
dz
,
dc
,0);

43817 i‡(
	gªs
Ë
cimgli°_f‹
(*
this
,
l
) {

43818 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

43819 i‡(
	gimg
Ë
	gªs
.
døw_image
(()(
Æign
*(
dx
-
img
.
_width
)),

43820 ()(
Æign
*(
dy
-
img
.
_height
)),

43821 
pos
,

43822 ()(
Æign
*(
dc
-
img
.
_•e˘rum
)),

43823 
img
);

43824 
	gpos
+=
img
.
_dïth
;

43828 
cimgli°_f‹
(*
this
,
l
) {

43829 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

43830 i‡(
	gimg
Ë{ 
	gdx
 = 
cimg
::
max
(
dx
,
img
.
_width
); 
	gdy
 = cimg::max(
dy
,img.
_height
); 
	gdz
 = cimg::max(
dz
,img.
_dïth
); 
	gdc
+=img.
_•e˘rum
; }

43832 
	gªs
.
assign
(
dx
,
dy
,
dz
,
dc
,0);

43833 i‡(
	gªs
Ë
cimgli°_f‹
(*
this
,
l
) {

43834 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

43835 i‡(
	gimg
Ë
	gªs
.
døw_image
(()(
Æign
*(
dx
-
img
.
_width
)),

43836 ()(
Æign
*(
dy
-
img
.
_height
)),

43837 ()(
Æign
*(
dz
-
img
.
_dïth
)),

43838 
pos
,

43839 
img
);

43840 
	gpos
+=
img
.
_•e˘rum
;

43844  
	gªs
;

43852 
	gCImgLi°
<
	gT
>& 
•lô
(c⁄° 
axis
, c⁄° 
nb
=0) {

43853  
gë_•lô
(
axis
,
nb
).
move_to
(*
this
);

43857 
	gCImgLi°
<
	gT
> 
gë_•lô
(c⁄° 
axis
, c⁄° 
nb
=0) const {

43858 
CImgLi°
<
T
> 
ªs
;

43859 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].
gë_•lô
(
axis
,
nb
).
move_to
(
ªs
,~0U);

43860  
	gªs
;

43867 
	gãm∂©e
<
ty≥«me
 
	gt
>

43868 
	gCImgLi°
<
	gT
>& 
push_back
(c⁄° 
CImg
<
t
>& 
img
) {

43869  
ö£π
(
img
);

43876 
	gãm∂©e
<
ty≥«me
 
	gt
>

43877 
	gCImgLi°
<
	gT
>& 
push_‰⁄t
(c⁄° 
CImg
<
t
>& 
img
) {

43878  
ö£π
(
img
,0);

43885 
	gãm∂©e
<
ty≥«me
 
	gt
>

43886 
	gCImgLi°
<
	gT
>& 
push_back
(c⁄° 
CImgLi°
<
t
>& 
li°
) {

43887  
ö£π
(
li°
);

43894 
	gãm∂©e
<
ty≥«me
 
	gt
>

43895 
	gCImgLi°
<
	gT
>& 
push_‰⁄t
(c⁄° 
CImgLi°
<
t
>& 
li°
) {

43896  
ö£π
(
li°
,0);

43902 
	gCImgLi°
<
	gT
>& 
p›_back
() {

43903  
ªmove
(
_width
-1);

43909 
	gCImgLi°
<
	gT
>& 
p›_‰⁄t
() {

43910  
ªmove
(0);

43917 
	gCImgLi°
<
	gT
>& 
îa£
(c⁄° 
ôî©‹
 
ôî
) {

43918  
ªmove
(
ôî
-
_d©a
);

43936 
	gCImg
<
	götT
> 
gë_£À˘
(
CImgDi•œy
 &
di•
, c⁄° 
boﬁ
 
„©uª_ty≥
=
åue
,

43937 c⁄° 
axis
='x', c⁄° 
Æign
=0) const {

43938  
_gë_£À˘
(
di•
,0,
„©uª_ty≥
,
axis
,
Æign
,0,
Ál£
,false,false);

43949 
	gCImg
<
	götT
> 
gë_£À˘
(c⁄° *c⁄° 
tôÀ
, c⁄° 
boﬁ
 
„©uª_ty≥
=
åue
,

43950 c⁄° 
axis
='x', c⁄° 
Æign
=0) const {

43951 
CImgDi•œy
 
di•
;

43952  
_gë_£À˘
(
di•
,
tôÀ
,
„©uª_ty≥
,
axis
,
Æign
,0,
Ál£
,false,false);

43955 
	gCImg
<
	götT
> 
_gë_£À˘
(
CImgDi•œy
 &
di•
, c⁄° *c⁄° 
tôÀ
, c⁄° 
boﬁ
 
„©uª_ty≥
,

43956 c⁄° 
axis
, c⁄° 
Æign
,

43957 c⁄° 
‹ig
, c⁄° 
boﬁ
 
ªsize_di•
,

43958 c⁄° 
boﬁ
 
exô_⁄_rightbuâ⁄
, c⁄° boﬁ 
exô_⁄_whìl
) const {

43959 i‡(
is_em±y
())

43960 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


43962 
cimgli°_ö°™˚
);

43965 
	gCImgLi°
<
	guötT
> 
	g_ödi˚s
;

43966 
	gmax_width
 = 0, 
	gmax_height
 = 0, 
	gsum_width
 = 0, 
	gsum_height
 = 0;

43967 
cimgli°_f‹
(*
this
,
l
) {

43968 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

43970 
	gw
 = 
CImgDi•œy
::
_fôs¸ìn
(
img
.
_width
,img.
_height
,img.
_dïth
,128,-85,
Ál£
),

43971 
	gh
 = 
CImgDi•œy
::
_fôs¸ìn
(
img
.
_width
,img.
_height
,img.
_dïth
,128,-85,
åue
);

43972 i‡(
	gw
>
	gmax_width
Ëmax_width = 
w
;

43973 i‡(
	gh
>
	gmax_height
Ëmax_heighà
h
;

43974 
	gsum_width
+=
w
; 
	gsum_height
+=
h
;

43975 i‡(
	gaxis
=='x'Ë
CImg
<
uötT
>(
w
,1,1,1,()
	gl
).
move_to
(
_ödi˚s
);

43976 
	gCImg
<
	guötT
>(
	gh
,1,1,1,()
	gl
).
move_to
(
_ödi˚s
);

43978 c⁄° 
	gCImg
<
	guötT
> 
	gödi˚s0
 = 
_ödi˚s
>'x';

43981 i‡(!
	gdi•
) {

43982 i‡(
	gaxis
=='x'Ë
di•
.
assign
(
cimg_fôs¸ìn
(
sum_width
,
max_height
,1),
tôÀ
?title:0,1);

43983 
	gdi•
.
assign
(
cimg_fôs¸ìn
(
max_width
,
sum_height
,1),
tôÀ
?title:0,1);

43984 i‡(!
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("CImgLi°<%s> (%u)",
pixñ_ty≥
(),
_width
);

43985 } i‡(
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("%s",
tôÀ
);

43986 i‡(
	gªsize_di•
) {

43987 i‡(
	gaxis
=='x'Ë
di•
.
ªsize
(
cimg_fôs¸ìn
(
sum_width
,
max_height
,1),
Ál£
);

43988 
	gdi•
.
ªsize
(
cimg_fôs¸ìn
(
max_width
,
sum_height
,1),
Ál£
);

43991 c⁄° 
	gﬁd_n‹mÆiz©i⁄
 = 
di•
.
n‹mÆiz©i⁄
();

43992 
boﬁ
 
	gﬁd_is_ªsized
 = 
di•
.
is_ªsized
();

43993 
	gdi•
.
	g_n‹mÆiz©i⁄
 = 0;

43994 
	gdi•
.
show
().
£t_key
(0);

43995 c⁄° 
	gf‹eground_cﬁ‹
[] = { 255,255,255 }, 
	gbackground_cﬁ‹
[] = { 0,0,0 };

43998 
	gCImg
<
	guch¨T
> 
	gvisu0
, 
	gvisu
;

43999 
	gCImg
<
	guötT
> 
	gödi˚s
;

44000 
	gCImg
<
	götT
> 
posôi⁄s
(
_width
,4,1,1,-1);

44001 
	goödi˚0
 = -1, 
	goödi˚1
 = -1, 
	gödi˚0
 = -1, 
	gödi˚1
 = -1;

44002 
boﬁ
 
	gis_˛icked
 = 
Ál£
, 
	gis_£À˘ed
 = fÆ£, 
	gãxt_down
 = fÆ£, 
	gupd©e_di•œy
 = 
åue
;

44003 
	gkey
 = 0;

44004 !
	gis_£À˘ed
 && !
	gdi•
.
is_˛o£d
(Ë&& !
	gkey
) {

44007 i‡(!
	gvisu0
) {

44008 
	gvisu0
.
assign
(
di•
.
_width
,di•.
_height
,1,3,0); 
	gvisu
.assign();

44009 (
	gödi˚s0
.
gë_ªsize
(
axis
=='x'?
visu0
.
_width
:visu0.
_height
,1)).
move_to
(
ödi˚s
);

44010 
	göd
 = 0;

44011 i‡(
	gaxis
=='x'Ë
x
 = 0; 
	gx
<
	gvisu0
.
	g_width
; ) {

44012 c⁄° 
	gx0
 = 
x
;

44013 
	göd
 = 
ödi˚s
[
x
];

44014 
	gx
<
	gödi˚s
.
	g_width
 && indi˚s[
x
++]==
öd
) {}

44015 c⁄° 
CImg
<
T
>

44016 
⁄ex⁄e
(1,1,1,1,0),

44017 &
	g§c
 = 
_d©a
[
öd
]?_d©a[öd]:
⁄ex⁄e
;

44018 
	gCImg
<
	guch¨T
> 
	gªs
;

44019 
	g§c
.
__gë_£À˘
(
di•
,
ﬁd_n‹mÆiz©i⁄
,(
§c
.
_width
-1)/2,(§c.
_height
-1)/2,(§c.
_dïth
-1)/2).
move_to
(
ªs
);

44020 c⁄° 
	gh
 = 
CImgDi•œy
::
_fôs¸ìn
(
ªs
.
_width
,ªs.
_height
,1,128,-85,
åue
);

44021 
	gªs
.
ªsize
(
x
 - 
x0
,
cimg
::
max
(32U,
h
*
di•
.
_height
/
max_height
),1,
ªs
.
_•e˘rum
==1?3:-100);

44022 
posôi⁄s
(
öd
,0Ëposôi⁄s(öd,2Ë()
x0
;

44023 
posôi⁄s
(
öd
,1Ëposôi⁄s(öd,3Ë()(
Æign
*(
visu0
.
height
()-
ªs
.height()));

44024 
posôi⁄s
(
öd
,2)+=
ªs
.
_width
;

44025 
posôi⁄s
(
öd
,3)+=
ªs
.
_height
 - 1;

44026 
	gvisu0
.
døw_image
(
posôi⁄s
(
öd
,0),posôi⁄s(öd,1),
ªs
);

44027 } 
	gy
 = 0; y<
	gvisu0
.
	g_height
; ) {

44028 c⁄° 
	gy0
 = 
y
;

44029 
	göd
 = 
ödi˚s
[
y
];

44030 
	gy
<
	gvisu0
.
	g_height
 && 
	gödi˚s
[++
y
]==
öd
) {}

44031 c⁄° 
CImg
<
T
>

44032 &
§c
 = 
_d©a
[
öd
],

44033 
	g_img2d
 = 
§c
.
_dïth
>1?§c.
gë_¥oje˘i⁄s2d
((§c.
_width
-1)/2,(§c.
_height
-1)/2,(§c._dïth-1)/2):
CImg
<
T
>(),

44034 &
	gimg2d
 = 
_img2d
?_img2d:
§c
;

44035 
	gCImg
<
	guch¨T
> 
	gªs
 = 
ﬁd_n‹mÆiz©i⁄
==1 || (ﬁd_n‹mÆiz©i⁄==3 && 
cimg
::
ty≥
<
T
>::
°rög
()!=cimg::type<>::string())?

44036 
CImg
<
uch¨T
>(
img2d
.
gë_n‹mÆize
(0,255)):

44037 
CImg
<
uch¨T
>(
img2d
);

44038 i‡(
	gªs
.
	g_•e˘rum
>3Ëªs.
ch™√ls
(0,2);

44039 c⁄° 
	gw
 = 
CImgDi•œy
::
_fôs¸ìn
(
ªs
.
_width
,ªs.
_height
,1,128,-85,
Ál£
);

44040 
	gªs
.
ªsize
(
cimg
::
max
(32U,
w
*
di•
.
_width
/
max_width
),
y
 - 
y0
,1,
ªs
.
_•e˘rum
==1?3:-100);

44041 
posôi⁄s
(
öd
,0Ëposôi⁄s(öd,2Ë()(
Æign
*(
visu0
.
width
()-
ªs
.width()));

44042 
posôi⁄s
(
öd
,1Ëposôi⁄s(öd,3Ë()
y0
;

44043 
posôi⁄s
(
öd
,2)+=
ªs
.
_width
 - 1;

44044 
posôi⁄s
(
öd
,3)+=
ªs
.
_height
;

44045 
	gvisu0
.
døw_image
(
posôi⁄s
(
öd
,0),posôi⁄s(öd,1),
ªs
);

44047 i‡(
	gaxis
=='x'Ë--
posôi⁄s
(
öd
,2); --positions(ind,3);

44048 
	gupd©e_di•œy
 = 
åue
;

44051 i‡(!
	gvisu
 || 
	goödi˚0
!=
ödi˚0
 || 
oödi˚1
!=
ödi˚1
) {

44052 i‡(
ödi˚0
>=0 && 
ödi˚1
>=0) {

44053 
visu
.
assign
(
visu0
,
Ál£
);

44054 c⁄° 
	gödm
 = 
cimg
::
mö
(
ödi˚0
,
ödi˚1
), 
	gödM
 = cimg::
max
(indice0,indice1);

44055 
	göd
 = 
ödm
; ind<=
ödM
; ++ödËi‡(
posôi⁄s
(
öd
,0)>=0) {

44056 
visu
.
døw_ª˘™gÀ
(
posôi⁄s
(
öd
,0),posôi⁄s(öd,1),posôi⁄s(öd,2),posôi⁄s(öd,3),
background_cﬁ‹
,0.2f);

44057 i‡((
	gaxis
=='x' && 
posôi⁄s
(
öd
,2) -Öositions(ind,0)>=8) ||

44058 (
axis
!='x' && 
posôi⁄s
(
öd
,3) -Öositions(ind,1)>=8))

44059 
visu
.
døw_ª˘™gÀ
(
posôi⁄s
(
öd
,0),posôi⁄s(öd,1),posôi⁄s(öd,2),posôi⁄s(öd,3),
f‹eground_cﬁ‹
,0.9f,0xAAAAAAAA);

44061 c⁄° 
	gyt
 = ()
ãxt_down
?
visu
.
height
()-13:0;

44062 i‡(
	gis_˛icked
Ë
	gvisu
.
døw_ãxt
(0,
yt
," Image†#%u - #%u, Sizê%u",
f‹eground_cﬁ‹
,
background_cﬁ‹
,0.7f,13,

44063 
‹ig
 + 
ödm
,‹ig + 
ödM
,indM - indm + 1);

44064 
	gvisu
.
døw_ãxt
(0,
yt
," Imagê#%u (%u,%u,%u,%u)",
f‹eground_cﬁ‹
,
background_cﬁ‹
,0.7f,13,

44065 
‹ig
 + 
ödi˚0
,

44066 
_d©a
[
‹ig
+
ödi˚0
].
_width
,

44067 
_d©a
[
‹ig
+
ödi˚0
].
_height
,

44068 
_d©a
[
‹ig
+
ödi˚0
].
_dïth
,

44069 
_d©a
[
‹ig
+
ödi˚0
].
_•e˘rum
);

44070 
	gupd©e_di•œy
 = 
åue
;

44071 } 
	gvisu
.
assign
();

44073 i‡(!
	gvisu
Ë{ visu.
assign
(
visu0
,
åue
); 
	gupd©e_di•œy
 =Årue; }

44074 i‡(
	gupd©e_di•œy
Ë{ 
	gvisu
.
di•œy
(
di•
); upd©e_di•œy = 
Ál£
; }

44075 
	gdi•
.
waô
();

44078 c⁄° 
	gxm
 = 
di•
.
mou£_x
(), 
	gym
 = di•.
mou£_y
();

44079 
	gödi˚
 = -1;

44081 i‡(
	gxm
>=0) {

44082 
ödi˚
 = ()
ödi˚s
(
axis
=='x'?
xm
:
ym
);

44083 i‡(
	gdi•
.
buâ⁄
()&1) {

44084 i‡(!
	gis_˛icked
Ë{ is_˛icked = 
åue
; 
	goödi˚0
 = 
ödi˚0
; 
	gödi˚0
 = 
ödi˚
; }

44085 
	goödi˚1
 = 
ödi˚1
; 
	gödi˚1
 = 
ödi˚
;

44086 i‡(!
	g„©uª_ty≥
Ë
	gis_£À˘ed
 = 
åue
;

44088 i‡(!
	gis_˛icked
Ë{ 
	goödi˚0
 = 
oödi˚1
 = 
ödi˚0
; 
	gödi˚0
 = 
ödi˚1
 = 
ödi˚
; }

44089 
	gis_£À˘ed
 = 
åue
;

44092 i‡(
	gis_˛icked
) {

44093 i‡(!(
	gdi•
.
buâ⁄
()&1)Ë{ 
	gis_˛icked
 = 
is_£À˘ed
 = 
Ál£
; 
	gödi˚0
 = 
ödi˚1
 = -1; }

44094 
	gödi˚1
 = -1;

44095 } 
	gödi˚0
 = 
ödi˚1
 = -1;

44098 i‡(
	gdi•
.
buâ⁄
()&4Ë{ 
	gis_˛icked
 = 
is_£À˘ed
 = 
Ál£
; 
	gödi˚0
 = 
ödi˚1
 = -1; }

44099 i‡(
	gdi•
.
buâ⁄
()&2 && 
	gexô_⁄_rightbuâ⁄
Ë{ 
	gis_£À˘ed
 = 
åue
; 
	gödi˚1
 = 
ödi˚0
 = -1; }

44100 i‡(
	gdi•
.
whìl
(Ë&& 
	gexô_⁄_whìl
Ë
	gis_£À˘ed
 = 
åue
;

44102 
	gkey
 = 
di•
.
key
()) {

44103 #i‡
cimg_OS
!=2

44104 
cimg
::
keyCTRLRIGHT
 :

44106 0 : 
cimg
::
keyCTRLLEFT
 : 
key
 = 0; ;

44107 
	gcimg
::
keyD
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

44108 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
CImgDi•œy
::
_fôs¸ìn
(3*di•.
width
()/2,3*di•.
height
()/2,1,128,-100,false),

44109 
CImgDi•œy
::
_fôs¸ìn
(3*
di•
.
width
()/2,3*di•.
height
()/2,1,128,-100,
åue
),
Ál£
).

44110 
	g_is_ªsized
 = 
åue
;

44111 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

44113 
	gcimg
::
keyC
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

44114 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(2*di•.
width
()/3,2*di•.
height
()/3,1),Ál£).
	g_is_ªsized
 = 
åue
;

44115 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

44117 
	gcimg
::
keyR
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

44118 
di•
.
£t_fuŒs¸ìn
(
Ál£
).
ªsize
(
cimg_fôs¸ìn
(
axis
=='x'?
sum_width
:
max_width
,axis=='x'?
max_height
:
sum_height
,1),Ál£).
	g_is_ªsized
 = 
åue
;

44119 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

44121 
	gcimg
::
keyF
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

44122 
di•
.
ªsize
(di•.
s¸ìn_width
(),di•.
s¸ìn_height
(),
Ál£
).
toggÀ_fuŒs¸ìn
().
	g_is_ªsized
 = 
åue
;

44123 
	gdi•
.
£t_key
(
key
,
Ál£
); 
	gkey
 = 0; 
	gvisu0
.
assign
();

44125 
	gcimg
::
keyS
 : i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

44126 
¢≠_numbî
 = 0;

44127 
	gfûíame
[32] = { 0 };

44128 
	g°d
::
FILE
 *
fûe
;

44130 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.bmp",
¢≠_numbî
++);

44131 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

44132 } 
	gfûe
);

44133 i‡(
	gvisu0
) {

44134 
	gvisu
.
døw_ãxt
(0,0," Savög s«pshŸ... ",
f‹eground_cﬁ‹
,
background_cﬁ‹
,1,13).
di•œy
(
di•
);

44135 
	gvisu0
.
ßve
(
fûíame
);

44136 
	gvisu
.
døw_ãxt
(0,0," S«pshŸ '%s' saved. ",
f‹eground_cﬁ‹
,
background_cﬁ‹
,1,13,
fûíame
).
di•œy
(
di•
);

44138 
	gdi•
.
£t_key
(
key
,
Ál£
).
waô
(); 
	gkey
 = 0;

44140 
	gcimg
::
keyO
 :

44141 i‡(
di•
.
is_keyCTRLLEFT
(Ë|| di•.
is_keyCTRLRIGHT
()) {

44142 
¢≠_numbî
 = 0;

44143 
	gfûíame
[32] = { 0 };

44144 
	g°d
::
FILE
 *
fûe
;

44146 #ifde‡
cimg_u£_zlib


44147 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.cimgz",
¢≠_numbî
++);

44149 
cimg_¢¥ötf
(
fûíame
,(fûíame),
cimg_≠≤ame
 "_%.4u.cimg",
¢≠_numbî
++);

44151 i‡((
	gfûe
=
°d
::
f›í
(
fûíame
,"r"))!=0Ë
cimg
::
f˛o£
(
fûe
);

44152 } 
	gfûe
);

44153 
	gvisu
.
døw_ãxt
(0,0," Savög in°™˚... ",
f‹eground_cﬁ‹
,
background_cﬁ‹
,1,13).
di•œy
(
di•
);

44154 
ßve
(
fûíame
);

44155 
	gvisu
.
døw_ãxt
(0,0," In°™˚ '%s' saved. ",
f‹eground_cﬁ‹
,
background_cﬁ‹
,1,13,
fûíame
).
di•œy
(
di•
);

44156 
	gdi•
.
£t_key
(
key
,
Ál£
).
waô
(); 
	gkey
 = 0;

44159 i‡(
	gdi•
.
is_ªsized
()Ë{ di•.
ªsize
(
Ál£
); 
	gvisu0
.
assign
(); }

44160 i‡(
	gym
>=0 && 
ym
<13Ë{ i‡(!
ãxt_down
Ë{ 
visu
.
assign
(); 
	gãxt_down
 = 
åue
; }}

44161 i‡(
	gym
>=
visu
.
height
()-13Ë{ if(
ãxt_down
Ë{ visu.
assign
(); 
	gãxt_down
 = 
Ál£
; }}

44163 
	gCImg
<
	götT
> 
ªs
(1,2,1,1,-1);

44164 i‡(
	gis_£À˘ed
Ë{ i‡(
	g„©uª_ty≥
Ë
	gªs
.
fûl
(
cimg
::
mö
(
ödi˚0
,
ödi˚1
),cimg::
max
(indice0,indice1)); res.fill(indice0); }

44165 i‡(!(
	gdi•
.
buâ⁄
()&2)Ëdi•.
£t_buâ⁄
();

44166 
	gdi•
.
	g_n‹mÆiz©i⁄
 = 
ﬁd_n‹mÆiz©i⁄
;

44167 
	gdi•
.
	g_is_ªsized
 = 
ﬁd_is_ªsized
;

44168 
	gdi•
.
£t_key
(
key
);

44169  
	gªs
;

44176 
	gCImgLi°
<
	gT
>& 
lﬂd
(c⁄° *c⁄° 
fûíame
) {

44177 i‡(!
	gfûíame
)

44178 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44180 
cimgli°_ö°™˚
);

44182 i‡(!
	gcimg
::
°∫ˇ£cmp
(
fûíame
,"http://",7) || !cimg::strncasecmp(filename,"https://",8)) {

44183 
	gfûíame_loˇl
[1024] = { 0 };

44184 
lﬂd
(
cimg
::
lﬂd_√tw‹k_exã∫Æ
(
fûíame
,
fûíame_loˇl
));

44185 
	g°d
::
ªmove
(
fûíame_loˇl
);

44186  *
	gthis
;

44189 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
);

44190 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

44191 
	gcimg
::
ex˚±i⁄_mode
() = 0;

44192 
	gåy
 {

44193 #ifde‡
cimgli°_lﬂd_∂ugö


44194 
cimgli°_lﬂd_∂ugö
(
fûíame
);

44196 #ifde‡
cimgli°_lﬂd_∂ugö1


44197 
cimgli°_lﬂd_∂ugö1
(
fûíame
);

44199 #ifde‡
cimgli°_lﬂd_∂ugö2


44200 
cimgli°_lﬂd_∂ugö2
(
fûíame
);

44202 #ifde‡
cimgli°_lﬂd_∂ugö3


44203 
cimgli°_lﬂd_∂ugö3
(
fûíame
);

44205 #ifde‡
cimgli°_lﬂd_∂ugö4


44206 
cimgli°_lﬂd_∂ugö4
(
fûíame
);

44208 #ifde‡
cimgli°_lﬂd_∂ugö5


44209 
cimgli°_lﬂd_∂ugö5
(
fûíame
);

44211 #ifde‡
cimgli°_lﬂd_∂ugö6


44212 
cimgli°_lﬂd_∂ugö6
(
fûíame
);

44214 #ifde‡
cimgli°_lﬂd_∂ugö7


44215 
cimgli°_lﬂd_∂ugö7
(
fûíame
);

44217 #ifde‡
cimgli°_lﬂd_∂ugö8


44218 
cimgli°_lﬂd_∂ugö8
(
fûíame
);

44220 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"tif") ||

44221 !
	gcimg
::
°rˇ£cmp
(
ext
,"tiff")Ë
lﬂd_tiff
(
fûíame
);

44222 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gif")Ë
lﬂd_gif_exã∫Æ
(
fûíame
);

44223 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cimg") ||

44224 !
	gcimg
::
°rˇ£cmp
(
ext
,"cimgz") ||

44225 !*
	gext
Ë
lﬂd_cimg
(
fûíame
);

44226 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"rec") ||

44227 !
	gcimg
::
°rˇ£cmp
(
ext
,"∑r")Ë
lﬂd_∑ºec
(
fûíame
);

44228 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"avi") ||

44229 !
	gcimg
::
°rˇ£cmp
(
ext
,"mov") ||

44230 !
	gcimg
::
°rˇ£cmp
(
ext
,"asf") ||

44231 !
	gcimg
::
°rˇ£cmp
(
ext
,"divx") ||

44232 !
	gcimg
::
°rˇ£cmp
(
ext
,"flv") ||

44233 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpg") ||

44234 !
	gcimg
::
°rˇ£cmp
(
ext
,"m1v") ||

44235 !
	gcimg
::
°rˇ£cmp
(
ext
,"m2v") ||

44236 !
	gcimg
::
°rˇ£cmp
(
ext
,"m4v") ||

44237 !
	gcimg
::
°rˇ£cmp
(
ext
,"mjp") ||

44238 !
	gcimg
::
°rˇ£cmp
(
ext
,"mkv") ||

44239 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpe") ||

44240 !
	gcimg
::
°rˇ£cmp
(
ext
,"movie") ||

44241 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogm") ||

44242 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogg") ||

44243 !
	gcimg
::
°rˇ£cmp
(
ext
,"qt") ||

44244 !
	gcimg
::
°rˇ£cmp
(
ext
,"rm") ||

44245 !
	gcimg
::
°rˇ£cmp
(
ext
,"vob") ||

44246 !
	gcimg
::
°rˇ£cmp
(
ext
,"wmv") ||

44247 !
	gcimg
::
°rˇ£cmp
(
ext
,"xvid") ||

44248 !
	gcimg
::
°rˇ£cmp
(
ext
,"m≥g")Ë
lﬂd_ffm≥g
(
fûíame
);

44249 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gz")Ë
lﬂd_gzù_exã∫Æ
(
fûíame
);

44250 
throw
 
CImgIOEx˚±i⁄
("CImgList<%s>::load()",

44251 
pixñ_ty≥
());

44252 } 
ˇtch
 (
CImgIOEx˚±i⁄
&) {

44253 
	gåy
 {

44254 
	gcimg
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

44255 } 
ˇtch
 (
CImgIOEx˚±i⁄
&) {

44256 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

44257 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44259 
cimgli°_ö°™˚
,

44260 
fûíame
);

44262 
assign
(1);

44263 
	gåy
 {

44264 
	g_d©a
->
lﬂd
(
fûíame
);

44265 } 
ˇtch
 (
CImgIOEx˚±i⁄
&) {

44266 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

44267 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44269 
cimgli°_ö°™˚
,

44270 
fûíame
);

44273 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

44274  *
	gthis
;

44278 
	gCImgLi°
<
	gT
> 
gë_lﬂd
(c⁄° *c⁄° 
fûíame
) {

44279  
	gCImgLi°
<
	gT
>().
lﬂd
(
fûíame
);

44286 
	gCImgLi°
<
	gT
>& 
lﬂd_cimg
(c⁄° *c⁄° 
fûíame
) {

44287  
_lﬂd_cimg
(0,
fûíame
);

44291 
	gCImgLi°
<
	gT
> 
gë_lﬂd_cimg
(c⁄° *c⁄° 
fûíame
) {

44292  
	gCImgLi°
<
	gT
>().
lﬂd_cimg
(
fûíame
);

44299 
	gCImgLi°
<
	gT
>& 
lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
) {

44300  
_lﬂd_cimg
(
fûe
,0);

44304 
	gCImgLi°
<
	gT
> 
gë_lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
) {

44305  
CImgLi°
<
T
>().
lﬂd_cimg
(
fûe
);

44308 
	gCImgLi°
<
	gT
>& 
_lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
) {

44309 #ifde‡
cimg_u£_zlib


44310 
	#_cimgz_lﬂd_cimg_ˇ£
(
Tss
) { \

44311 
Byãf
 *c⁄° 
cbuf
 = 
√w
 Byãf[
csiz
]; \

44312 
cimg
::
	`‰ód
(
cbuf
,
csiz
,
nfûe
); \

44313 
øw
.
	`assign
(
W
,
H
,
D
,
C
); \

44314 
de°Àn
 = ()
øw
.
	`size
()*(
Tss
); \

44315 
	`uncom¥ess
((
Byãf
*)
øw
.
_d©a
,&
de°Àn
,
cbuf
,
csiz
); \

44316 
dñëe
[] 
cbuf
; \

44317 c⁄° 
Tss
 *
±rs
 = 
øw
.
_d©a
; \

44318 
off
 = 
øw
.
	`size
(); off; --offË*(
±rd
++Ë(
T
)*(
±rs
++); \

44319 }

	)

44321 
	#_cimgz_lﬂd_cimg_ˇ£
(
Tss
) \

44322 
throw
 
	`CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚
 \

44324 
cimgli°_ö°™˚
, \

44325 
fûíame
?fûíame:"(FILE*)");

	)

44328 
	#_cimg_lﬂd_cimg_ˇ£
(
Ts
,
Tss
) \

44329 i‡(!
lﬂded
 && !
cimg
::
	`°rˇ£cmp
(
Ts
,
°r_pixñty≥
)) { \

44330 
l
 = 0;Ü<
N
; ++l) { \

44331 
j
 = 0; (
i
=
°d
::
	`fgëc
(
nfûe
))!='\n' && i>=0Ë
tmp
[j++] = ()i;Åmp[j] = 0; \

44332 
W
 = 
H
 = 
D
 = 
C
 = 0; 
csiz
 = 0; \

44333 i‡((
îr
 = 
°d
::
	`ssˇnf
(
tmp
,"%u %u %u %u #%u",&
W
,&
H
,&
D
,&
C
,&
csiz
))<4) \

44334 
throw
 
	`CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚
 \

44336 
cimgli°_ö°™˚
, \

44337 
W
,
H
,
D
,
C
,
l
,
fûíame
?filename:("(FILE*)")); \

44338 i‡(
W
*
H
*
D
*
C
>0) { \

44339 
CImg
<
Tss
> 
øw
; \

44340 
CImg
<
T
> &
img
 = 
_d©a
[
l
]; \

44341 
img
.
	`assign
(
W
,
H
,
D
,
C
); \

44342 
T
 *
±rd
 = 
img
.
_d©a
; \

44343 i‡(
îr
==5Ë
	`_cimgz_lﬂd_cimg_ˇ£
(
Tss
) \

44344 
to_ªad
 = ()
img
.
	`size
();Åo_read>0; ) { \

44345 
øw
.
	`assign
(
cimg
::
	`mö
(
to_ªad
,
cimg_iobuf„r
)); \

44346 
cimg
::
	`‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
); \

44347 i‡(
ídün
!=
cimg
::
	`ídü¬ess
()Ëcimg::
	`övît_ídü¬ess
(
øw
.
_d©a
,øw.
_width
); \

44348 
to_ªad
-=
øw
.
_width
; \

44349 c⁄° 
Tss
 *
±rs
 = 
øw
.
_d©a
; \

44350 
off
 = ()
øw
.
_width
; off; --offË*(
±rd
++Ë(
T
)*(
±rs
++); \

44354 
lﬂded
 = 
åue
; \

44355 }

	)

44357 i‡(!
	gfûíame
 && !
	gfûe
)

44358 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44360 
cimgli°_ö°™˚
);

44362 c⁄° 
	gcimg_iobuf„r
 = 12*1024*1024;

44363 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

44364 
boﬁ
 
	glﬂded
 = 
Ál£
, 
	gídün
 = 
cimg
::
ídü¬ess
();

44365 
	gtmp
[256] = { 0 }, 
	g°r_pixñty≥
[256] = { 0 }, 
	g°r_ídün
[256] = { 0 };

44366 
	gj
, 
	gîr
, 
	gN
 = 0, 
	gW
, 
	gH
, 
	gD
, 
	gC
, 
	gcsiz
;

44367 
	gi
;

44369 
	gj
 = 0; (
	gi
=
°d
::
fgëc
(
nfûe
))!='\n' && 
i
!=
EOF
 && 
j
<256Ë
tmp
[j++] = ()i; 
	gtmp
[j] = 0;

44370 } *
	gtmp
=='#' && 
i
!=
EOF
);

44371 
	gîr
 = 
°d
::
ssˇnf
(
tmp
,"%u%*c%255[A-Za-z_]%*c%255[sA-Za-z_ ]",&
N
,
°r_pixñty≥
,
°r_ídün
);

44372 i‡(
	gîr
<2) {

44373 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

44374 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44376 
cimgli°_ö°™˚
,

44377 
fûíame
?filename:"(FILE*)");

44379 i‡(!
	gcimg
::
°∫ˇ£cmp
("lôée",
°r_ídün
,6)Ë
	gídün
 = 
Ál£
;

44380 i‡(!
	gcimg
::
°∫ˇ£cmp
("big",
°r_ídün
,3)Ë
	gídün
 = 
åue
;

44381 
assign
(
N
);

44382 
_cimg_lﬂd_cimg_ˇ£
("boﬁ",
boﬁ
);

44383 
_cimg_lﬂd_cimg_ˇ£
("unsigned_char",);

44384 
_cimg_lﬂd_cimg_ˇ£
("uchar",);

44385 
_cimg_lﬂd_cimg_ˇ£
("char",);

44386 
_cimg_lﬂd_cimg_ˇ£
("unsigned_short",);

44387 
_cimg_lﬂd_cimg_ˇ£
("ushort",);

44388 
_cimg_lﬂd_cimg_ˇ£
("short",);

44389 
_cimg_lﬂd_cimg_ˇ£
("unsigned_int",);

44390 
_cimg_lﬂd_cimg_ˇ£
("uint",);

44391 
_cimg_lﬂd_cimg_ˇ£
("int",);

44392 
_cimg_lﬂd_cimg_ˇ£
("unsigned_long",);

44393 
_cimg_lﬂd_cimg_ˇ£
("ulong",);

44394 
_cimg_lﬂd_cimg_ˇ£
("long",);

44395 
_cimg_lﬂd_cimg_ˇ£
("float",);

44396 
_cimg_lﬂd_cimg_ˇ£
("double",);

44397 i‡(!
	glﬂded
) {

44398 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

44399 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44401 
cimgli°_ö°™˚
,

44402 
°r_pixñty≥
,
fûíame
?filename:"(FILE*)");

44404 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

44405  *
	gthis
;

44422 
	gCImgLi°
<
	gT
>& 
lﬂd_cimg
(c⁄° *c⁄° 
fûíame
,

44423 c⁄° 
n0
, c⁄° 
n1
,

44424 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

44425 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
) {

44426  
_lﬂd_cimg
(0,
fûíame
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

44430 
	gCImgLi°
<
	gT
> 
gë_lﬂd_cimg
(c⁄° *c⁄° 
fûíame
,

44431 c⁄° 
n0
, c⁄° 
n1
,

44432 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

44433 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
) {

44434  
	gCImgLi°
<
	gT
>().
lﬂd_cimg
(
fûíame
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

44438 
	gCImgLi°
<
	gT
>& 
lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
,

44439 c⁄° 
n0
, c⁄° 
n1
,

44440 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

44441 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
) {

44442  
_lﬂd_cimg
(
fûe
,0,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

44446 
	gCImgLi°
<
	gT
> 
gë_lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
,

44447 c⁄° 
n0
, c⁄° 
n1
,

44448 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

44449 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
) {

44450  
	gCImgLi°
<
	gT
>().
lﬂd_cimg
(
fûe
,
n0
,
n1
,
x0
,
y0
,
z0
,
c0
,
x1
,
y1
,
z1
,
c1
);

44453 
	gCImgLi°
<
	gT
>& 
_lﬂd_cimg
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
,

44454 c⁄° 
n0
, c⁄° 
n1
,

44455 c⁄° 
x0
, c⁄° 
y0
, c⁄° 
z0
, c⁄° 
c0
,

44456 c⁄° 
x1
, c⁄° 
y1
, c⁄° 
z1
, c⁄° 
c1
) {

44457 
	#_cimg_lﬂd_cimg_ˇ£2
(
Ts
,
Tss
) \

44458 i‡(!
lﬂded
 && !
cimg
::
	`°rˇ£cmp
(
Ts
,
°r_pixñty≥
)) { \

44459 
l
 = 0;Ü<=
¬1
; ++l) { \

44460 
j
 = 0; (
i
=
°d
::
	`fgëc
(
nfûe
))!='\n' && i>=0Ë
tmp
[j++] = ()i;Åmp[j] = 0; \

44461 
W
 = 
H
 = 
D
 = 
C
 = 0; \

44462 i‡(
°d
::
	`ssˇnf
(
tmp
,"%u %u %u %u",&
W
,&
H
,&
D
,&
C
)!=4) \

44463 
throw
 
	`CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚
 \

44465 
cimgli°_ö°™˚
, \

44466 
W
,
H
,
D
,
C
,
l
,
fûíame
?filename:"(FILE*)"); \

44467 i‡(
W
*
H
*
D
*
C
>0) { \

44468 i‡(
l
<
¬0
 || 
nx0
>=
W
 || 
ny0
>=
H
 || 
nz0
>=
D
 || 
nc0
>=
C
Ë
°d
::
	`f£ek
(
nfûe
,W*H*D*C*(
Tss
),
SEEK_CUR
); \

44471 
_nx1
 = 
nx1
==~0U?
W
-1:nx1, \

44472 
_ny1
 = 
ny1
==~0U?
H
-1:ny1, \

44473 
_nz1
 = 
nz1
==~0U?
D
-1:nz1, \

44474 
_nc1
 = 
nc1
==~0U?
C
-1:nc1; \

44475 i‡(
_nx1
>=
W
 || 
_ny1
>=
H
 || 
_nz1
>=
D
 || 
_nc1
>=
C
) \

44476 
throw
 
	`CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚
 \

44479 
cimgli°_ö°™˚
, \

44480 
n0
,
x0
,
y0
,
z0
,
c0
,
n1
,
x1
,
y1
,
z1
,
c1
,
l
,
fûíame
?fûíame:"(FILE*)",
W
,
H
,
D
,
C
); \

44481 
CImg
<
Tss
> 
	`øw
(1 + 
_nx1
 - 
nx0
); \

44482 
CImg
<
T
> &
img
 = 
_d©a
[
l
 - 
¬0
]; \

44483 
img
.
	`assign
(1 + 
_nx1
 - 
nx0
,1 + 
_ny1
 - 
ny0
,1 + 
_nz1
 - 
nz0
,1 + 
_nc1
 - 
nc0
); \

44484 
T
 *
±rd
 = 
img
.
_d©a
; \

44485 c⁄° 
skùvb
 = 
nc0
*
W
*
H
*
D
*(
Tss
); \

44486 i‡(
skùvb
Ë
°d
::
	`f£ek
(
nfûe
,skùvb,
SEEK_CUR
); \

44487 
c
 = 1 + 
_nc1
 - 
nc0
; c; --c) { \

44488 c⁄° 
skùzb
 = 
nz0
*
W
*
H
*(
Tss
); \

44489 i‡(
skùzb
Ë
°d
::
	`f£ek
(
nfûe
,skùzb,
SEEK_CUR
); \

44490 
z
 = 1 + 
_nz1
 - 
nz0
; z; --z) { \

44491 c⁄° 
skùyb
 = 
ny0
*
W
*(
Tss
); \

44492 i‡(
skùyb
Ë
°d
::
	`f£ek
(
nfûe
,skùyb,
SEEK_CUR
); \

44493 
y
 = 1 + 
_ny1
 - 
ny0
; y; --y) { \

44494 c⁄° 
skùxb
 = 
nx0
*(
Tss
); \

44495 i‡(
skùxb
Ë
°d
::
	`f£ek
(
nfûe
,skùxb,
SEEK_CUR
); \

44496 
cimg
::
	`‰ód
(
øw
.
_d©a
,øw.
_width
,
nfûe
); \

44497 i‡(
ídün
!=
cimg
::
	`ídü¬ess
()Ëcimg::
	`övît_ídü¬ess
(
øw
.
_d©a
,øw.
_width
); \

44498 c⁄° 
Tss
 *
±rs
 = 
øw
.
_d©a
; \

44499 
off
 = 
øw
.
_width
; off; --offË*(
±rd
++Ë(
T
)*(
±rs
++); \

44500 c⁄° 
skùxe
 = (
W
-1-
_nx1
)*(
Tss
); \

44501 i‡(
skùxe
Ë
°d
::
	`f£ek
(
nfûe
,skùxe,
SEEK_CUR
); \

44503 c⁄° 
skùye
 = (
H
-1-
_ny1
)*
W
*(
Tss
); \

44504 i‡(
skùye
Ë
°d
::
	`f£ek
(
nfûe
,skùye,
SEEK_CUR
); \

44506 c⁄° 
skùze
 = (
D
-1-
_nz1
)*
W
*
H
*(
Tss
); \

44507 i‡(
skùze
Ë
°d
::
	`f£ek
(
nfûe
,skùze,
SEEK_CUR
); \

44509 c⁄° 
skùve
 = (
C
-1-
_nc1
)*
W
*
H
*
D
*(
Tss
); \

44510 i‡(
skùve
Ë
°d
::
	`f£ek
(
nfûe
,skùve,
SEEK_CUR
); \

44514 
lﬂded
 = 
åue
; \

44515 }

	)

44517 i‡(!
	gfûíame
 && !
	gfûe
)

44518 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44520 
cimgli°_ö°™˚
);

44522 
	g¬0
 = 
cimg
::
mö
(
n0
,
n1
), 
	g¬1
 = cimg::
max
(n0,n1),

44523 
	gnx0
 = 
cimg
::
mö
(
x0
,
x1
), 
	gnx1
 = cimg::
max
(x0,x1),

44524 
	gny0
 = 
cimg
::
mö
(
y0
,
y1
), 
	gny1
 = cimg::
max
(y0,y1),

44525 
	gnz0
 = 
cimg
::
mö
(
z0
,
z1
), 
	gnz1
 = cimg::
max
(z0,z1),

44526 
	gnc0
 = 
cimg
::
mö
(
c0
,
c1
), 
	gnc1
 = cimg::
max
(c0,c1);

44528 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

44529 
boﬁ
 
	glﬂded
 = 
Ál£
, 
	gídün
 = 
cimg
::
ídü¬ess
();

44530 
	gtmp
[256] = { 0 }, 
	g°r_pixñty≥
[256] = { 0 }, 
	g°r_ídün
[256] = { 0 };

44531 
	gj
, 
	gîr
, 
	gN
, 
	gW
, 
	gH
, 
	gD
, 
	gC
;

44532 
	gi
;

44533 
	gj
 = 0; (
	gi
=
°d
::
fgëc
(
nfûe
))!='\n' && 
i
!=
EOF
 && 
j
<256Ë
tmp
[j++] = ()i; 
	gtmp
[j] = 0;

44534 
	gîr
 = 
°d
::
ssˇnf
(
tmp
,"%u%*c%255[A-Za-z_]%*c%255[sA-Za-z_ ]",&
N
,
°r_pixñty≥
,
°r_ídün
);

44535 i‡(
	gîr
<2) {

44536 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

44537 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44539 
cimgli°_ö°™˚
,

44540 
fûíame
?filename:"(FILE*)");

44542 i‡(!
	gcimg
::
°∫ˇ£cmp
("lôée",
°r_ídün
,6)Ë
	gídün
 = 
Ál£
;

44543 i‡(!
	gcimg
::
°∫ˇ£cmp
("big",
°r_ídün
,3)Ë
	gídün
 = 
åue
;

44544 
	g¬1
 = 
n1
==~0U?
N
-1:n1;

44545 i‡(
	g¬1
>=
N
)

44546 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44549 
cimgli°_ö°™˚
,

44550 
n0
,
x0
,
y0
,
z0
,
c0
,
n1
,
x1
,
y1
,
z1
,
c1
,
fûíame
?fûíame:"(FILE*)",
N
);

44551 
assign
(1+
¬1
-
n0
);

44552 
_cimg_lﬂd_cimg_ˇ£2
("boﬁ",
boﬁ
);

44553 
_cimg_lﬂd_cimg_ˇ£2
("unsigned_char",);

44554 
_cimg_lﬂd_cimg_ˇ£2
("uchar",);

44555 
_cimg_lﬂd_cimg_ˇ£2
("char",);

44556 
_cimg_lﬂd_cimg_ˇ£2
("unsigned_short",);

44557 
_cimg_lﬂd_cimg_ˇ£2
("ushort",);

44558 
_cimg_lﬂd_cimg_ˇ£2
("short",);

44559 
_cimg_lﬂd_cimg_ˇ£2
("unsigned_int",);

44560 
_cimg_lﬂd_cimg_ˇ£2
("uint",);

44561 
_cimg_lﬂd_cimg_ˇ£2
("int",);

44562 
_cimg_lﬂd_cimg_ˇ£2
("unsigned_long",);

44563 
_cimg_lﬂd_cimg_ˇ£2
("ulong",);

44564 
_cimg_lﬂd_cimg_ˇ£2
("long",);

44565 
_cimg_lﬂd_cimg_ˇ£2
("float",);

44566 
_cimg_lﬂd_cimg_ˇ£2
("double",);

44567 i‡(!
	glﬂded
) {

44568 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

44569 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44571 
cimgli°_ö°™˚
,

44572 
°r_pixñty≥
,
fûíame
?filename:"(FILE*)");

44574 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

44575  *
	gthis
;

44582 
	gCImgLi°
<
	gT
>& 
lﬂd_∑ºec
(c⁄° *c⁄° 
fûíame
) {

44583 i‡(!
	gfûíame
)

44584 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44586 
cimgli°_ö°™˚
);

44588 
	gbody
[1024] = { 0 }, 
	gfûíamï¨
[1024] = { 0 }, 
	gfûíamîec
[1024] = { 0 };

44589 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
,
body
);

44590 i‡(!
	g°d
::
°rcmp
(
ext
,"∑r")Ë{ std::
°∫˝y
(
fûíamï¨
,
fûíame
,(fûíamï¨)-1); 
cimg_¢¥ötf
(
fûíamîec
,(fûíamîec),"%s.ªc",
body
); }

44591 i‡(!
	g°d
::
°rcmp
(
ext
,"PAR")Ë{ std::
°∫˝y
(
fûíamï¨
,
fûíame
,(fûíamï¨)-1); 
cimg_¢¥ötf
(
fûíamîec
,(fûíamîec),"%s.REC",
body
); }

44592 i‡(!
	g°d
::
°rcmp
(
ext
,"ªc")Ë{ std::
°∫˝y
(
fûíamîec
,
fûíame
,(fûíamîec)-1); 
cimg_¢¥ötf
(
fûíamï¨
,(fûíamï¨),"%s.∑r",
body
); }

44593 i‡(!
	g°d
::
°rcmp
(
ext
,"REC")Ë{ std::
°∫˝y
(
fûíamîec
,
fûíame
,(fûíamîec)-1); 
cimg_¢¥ötf
(
fûíamï¨
,(fûíamï¨),"%s.PAR",
body
); }

44594 
	g°d
::
FILE
 *
fûe
 = 
cimg
::
f›í
(
fûíamï¨
,"r");

44597 
	gCImgLi°
<
	gÊﬂtT
> 
	g°_¶i˚s
;

44598 
	gCImgLi°
<
	guötT
> 
	g°_globÆ
;

44599 
	gîr
;

44600 
	glöe
[256] = { 0 };

44601 dÿ{ 
	gîr
=
°d
::
fsˇnf
(
fûe
,"%255[^\n]%*c",
löe
); } îr!=
EOF
 && (*line=='#' || *line=='.'));

44603 
	g¢
,
	gsize_x
,
	gsize_y
,
	gpixsize
;

44604 
	grs
,
	gri
,
	gss
;

44605 
	gîr
 = 
°d
::
fsˇnf
(
fûe
,"%u%*u%*u%*u%*u%*u%*u%u%*u%u%u%g%g%g%*[^\n]",&
¢
,&
pixsize
,&
size_x
,&
size_y
,&
ri
,&
rs
,&
ss
);

44606 i‡(
	gîr
==7) {

44607 
CImg
<
ÊﬂtT
>::
ve˘‹
(()
¢
,()
pixsize
,()
size_x
,()
size_y
,
ri
,
rs
,
ss
,0).
move_to
(
°_¶i˚s
);

44608 
	gi
; ò0; i<
	g°_globÆ
.
	g_width
 && 
	g¢
<=
°_globÆ
[
i
][2]; ++i) {}

44609 i‡(
	gi
==
°_globÆ
.
_width
Ë
CImg
<
uötT
>::
ve˘‹
(
size_x
,
size_y
,
¢
).
move_to
(st_global);

44611 
	gCImg
<
	guötT
> &
	gvec
 = 
°_globÆ
[
i
];

44612 i‡(
	gsize_x
>
	gvec
[0]Ëvec[0] = 
size_x
;

44613 i‡(
	gsize_y
>
	gvec
[1]Ëvec[1] = 
size_y
;

44614 
	gvec
[2] = 
¢
;

44616 
	g°_¶i˚s
[
°_¶i˚s
.
_width
-1][7] = ()
i
;

44618 } 
	gîr
==7);

44621 
	g°d
::
FILE
 *
fûe2
 = 
cimg
::
f›í
(
fûíamîec
,"rb");

44622 
cimgli°_f‹
(
°_globÆ
,
l
) {

44623 c⁄° 
	gCImg
<
	guötT
>& 
	gvec
 = 
°_globÆ
[
l
];

44624 
	gCImg
<
	gT
>(
	gvec
[0],vec[1],vec[2]).
move_to
(*
this
);

44627 
cimgli°_f‹
(
°_¶i˚s
,
l
) {

44628 c⁄° 
	gCImg
<
	gÊﬂtT
>& 
	gvec
 = 
°_¶i˚s
[
l
];

44630 
	g¢
 = ()
vec
[0] - 1,

44631 
	gpixsize
 = ()
vec
[1],

44632 
	gsize_x
 = ()
vec
[2],

44633 
	gsize_y
 = ()
vec
[3],

44634 
	gimn
 = ()
vec
[7];

44635 c⁄° 
	gri
 = 
vec
[4], 
	grs
 = vec[5], 
	gss
 = vec[6];

44636 
	gpixsize
) {

44638 
CImg
<
uch¨T
> 
buf
(
size_x
,
size_y
);

44639 
	gcimg
::
‰ód
(
buf
.
_d©a
,
size_x
*
size_y
,
fûe2
);

44640 i‡(
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
size_x
*
size_y
);

44641 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
imn
];

44642 
cimg_f‹XY
(
img
,
x
,
y
Ëimg(x,y,
¢
Ë(
T
)(–
buf
(x,y)*
	grs
 + 
	gri
 )/(
rs
*
	gss
));

44645 
CImg
<
ush‹tT
> 
buf
(
size_x
,
size_y
);

44646 
	gcimg
::
‰ód
(
buf
.
_d©a
,
size_x
*
size_y
,
fûe2
);

44647 i‡(
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
size_x
*
size_y
);

44648 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
imn
];

44649 
cimg_f‹XY
(
img
,
x
,
y
Ëimg(x,y,
¢
Ë(
T
)(–
buf
(x,y)*
	grs
 + 
	gri
 )/(
rs
*
	gss
));

44652 
CImg
<
uötT
> 
buf
(
size_x
,
size_y
);

44653 
	gcimg
::
‰ód
(
buf
.
_d©a
,
size_x
*
size_y
,
fûe2
);

44654 i‡(
	gcimg
::
ídü¬ess
()Ë
cimg
::
övît_ídü¬ess
(
buf
.
_d©a
,
size_x
*
size_y
);

44655 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
imn
];

44656 
cimg_f‹XY
(
img
,
x
,
y
Ëimg(x,y,
¢
Ë(
T
)(–
buf
(x,y)*
	grs
 + 
	gri
 )/(
rs
*
	gss
));

44659 
cimg
::
f˛o£
(
fûe
);

44660 
	gcimg
::
f˛o£
(
fûe2
);

44661 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44663 
cimgli°_ö°™˚
,

44664 
pixsize
,
fûíame
);

44667 
	gcimg
::
f˛o£
(
fûe
);

44668 
	gcimg
::
f˛o£
(
fûe2
);

44669 i‡(!
	g_width
)

44670 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44672 
cimgli°_ö°™˚
,

44673 
fûíame
);

44674  *
	gthis
;

44678 
	gCImgLi°
<
	gT
> 
gë_lﬂd_∑ºec
(c⁄° *c⁄° 
fûíame
) {

44679  
	gCImgLi°
<
	gT
>().
lﬂd_∑ºec
(
fûíame
);

44692 
	gCImgLi°
<
	gT
>& 
lﬂd_yuv
(c⁄° *c⁄° 
fûíame
,

44693 c⁄° 
size_x
, c⁄° 
size_y
,

44694 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

44695 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
yuv2rgb
=
åue
) {

44696  
_lﬂd_yuv
(0,
fûíame
,
size_x
,
size_y
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
yuv2rgb
);

44700 
	gCImgLi°
<
	gT
> 
gë_lﬂd_yuv
(c⁄° *c⁄° 
fûíame
,

44701 c⁄° 
size_x
, c⁄° 
size_y
=1,

44702 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

44703 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
yuv2rgb
=
åue
) {

44704  
CImgLi°
<
T
>().
lﬂd_yuv
(
fûíame
,
size_x
,
size_y
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
yuv2rgb
);

44708 
	gCImgLi°
<
	gT
>& 
lﬂd_yuv
(
°d
::
FILE
 *c⁄° 
fûe
,

44709 c⁄° 
size_x
, c⁄° 
size_y
,

44710 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

44711 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
yuv2rgb
=
åue
) {

44712  
_lﬂd_yuv
(
fûe
,0,
size_x
,
size_y
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
yuv2rgb
);

44716 
	gCImgLi°
<
	gT
> 
gë_lﬂd_yuv
(
°d
::
FILE
 *c⁄° 
fûe
,

44717 c⁄° 
size_x
, c⁄° 
size_y
=1,

44718 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

44719 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
yuv2rgb
=
åue
) {

44720  
CImgLi°
<
T
>().
lﬂd_yuv
(
fûe
,
size_x
,
size_y
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
yuv2rgb
);

44723 
	gCImgLi°
<
	gT
>& 
_lﬂd_yuv
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
,

44724 c⁄° 
size_x
, c⁄° 
size_y
,

44725 c⁄° 
fú°_‰ame
, c⁄° 
œ°_‰ame
,

44726 c⁄° 
°ï_‰ame
, c⁄° 
boﬁ
 
yuv2rgb
) {

44727 i‡(!
	gfûíame
 && !
	gfûe
)

44728 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44730 
cimgli°_ö°™˚
);

44731 i‡(
	gsize_x
%2 || 
	gsize_y
%2)

44732 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44734 
cimgli°_ö°™˚
,

44735 
size_x
,
size_y
,
fûíame
?filename:"(FILE*)");

44736 i‡(!
	gsize_x
 || !
	gsize_y
)

44737 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44739 
cimgli°_ö°™˚
,

44740 
size_x
,
size_y
,
fûíame
?filename:"(FILE*)");

44743 
	gnfú°_‰ame
 = 
fú°_‰ame
<
œ°_‰ame
?first_frame:last_frame,

44744 
	g∆a°_‰ame
 = 
fú°_‰ame
<
œ°_‰ame
?last_frame:first_frame,

44745 
	gn°ï_‰ame
 = 
°ï_‰ame
?step_frame:1;

44747 
	gCImg
<
	guch¨T
> 
tmp
(
size_x
,
size_y
,1,3), 
UV
(size_x/2,size_y/2,1,2);

44748 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb");

44749 
boﬁ
 
	g°›_Êag
 = 
Ál£
;

44750 
	gîr
;

44751 i‡(
	gnfú°_‰ame
) {

44752 
	gîr
 = 
°d
::
f£ek
(
nfûe
,
nfú°_‰ame
*(
size_x
*
size_y
 + size_x*size_y/2),
SEEK_CUR
);

44753 i‡(
	gîr
) {

44754 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

44755 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44757 
cimgli°_ö°™˚
,

44758 
fûíame
?fûíame:"(FILE*)",
nfú°_‰ame
);

44761 
	g‰ame
;

44762 
	g‰ame
 = 
nfú°_‰ame
; !
	g°›_Êag
 && føme<=
∆a°_‰ame
; føme+=
n°ï_‰ame
) {

44763 
tmp
.
fûl
(0);

44765 
	gîr
 = ()
°d
::
‰ód
((*)(
tmp
.
_d©a
),1,(Èmp.
_width
*tmp.
_height
,
nfûe
);

44766 i‡(
	gîr
!=()(
tmp
.
_width
*tmp.
_height
)) {

44767 
°›_Êag
 = 
åue
;

44768 i‡(
	gîr
>0)

44769 
	gcimg
::
w¨n
(
_cimgli°_ö°™˚


44771 
cimgli°_ö°™˚
,

44772 
fûíame
?fûíame:"(FILE*)",
size_x
,
size_y
);

44774 
	gUV
.
fûl
(0);

44776 
	gîr
 = ()
°d
::
‰ód
((*)(
UV
.
_d©a
),1,(
size_t
)(UV.
size
()),
nfûe
);

44777 i‡(
	gîr
!=()(
UV
.
size
())) {

44778 
°›_Êag
 = 
åue
;

44779 i‡(
	gîr
>0)

44780 
	gcimg
::
w¨n
(
_cimgli°_ö°™˚


44782 
cimgli°_ö°™˚
,

44783 
fûíame
?fûíame:"(FILE*)",
size_x
,
size_y
);

44785 
cimg_f‹XY
(
UV
,
x
,
y
) {

44786 c⁄° 
	gx2
 = 
x
*2, 
	gy2
 = 
y
*2;

44787 
tmp
(
x2
,
y2
,1Ëtmp(x2+1,y2,1Ëtmp(x2,y2+1,1Ëtmp(x2+1,y2+1,1Ë
UV
(
x
,
y
,0);

44788 
tmp
(
x2
,
y2
,2Ëtmp(x2+1,y2,2Ëtmp(x2,y2+1,2Ëtmp(x2+1,y2+1,2Ë
UV
(
x
,
y
,1);

44790 i‡(
	gyuv2rgb
Ë
	gtmp
.
YCbCπoRGB
();

44791 
ö£π
(
tmp
);

44792 i‡(
	gn°ï_‰ame
>1Ë
	g°d
::
f£ek
(
nfûe
,(
n°ï_‰ame
-1)*(
size_x
*
size_y
 + size_x*size_y/2),
SEEK_CUR
);

44796 i‡(
	g°›_Êag
 && 
	g∆a°_‰ame
!=~0U && 
‰ame
!=
∆a°_‰ame
)

44797 
cimg
::
w¨n
(
_cimgli°_ö°™˚


44799 
cimgli°_ö°™˚
,

44800 
∆a°_‰ame
,
‰ame
-1,
fûíame
?filename:"(FILE*)");

44802 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

44803  *
	gthis
;

44817 
	gCImgLi°
<
	gT
>& 
lﬂd_ffm≥g
(c⁄° *c⁄° 
fûíame
, c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

44818 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
pixñ_f‹m©
=
åue
, c⁄° boﬁ 
ªsume
=
Ál£
) {

44819 i‡(!
fûíame
)

44820 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44822 
cimgli°_ö°™˚
);

44825 
	gnfú°_‰ame
 = 
fú°_‰ame
<
œ°_‰ame
?first_frame:last_frame,

44826 
	g∆a°_‰ame
 = 
fú°_‰ame
<
œ°_‰ame
?last_frame:first_frame,

44827 
	gn°ï_‰ame
 = 
°ï_‰ame
?step_frame:1;

44828 
assign
();

44830 #i‚de‡
cimg_u£_ffm≥g


44831 i‡((
	gnfú°_‰ame
 || 
	g∆a°_‰ame
!=~0U || 
n°ï_‰ame
>1Ë|| (
ªsume
 && (
pixñ_f‹m©
 || !pixel_format)))

44832 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44834 
cimgli°_ö°™˚
,

44835 
fûíame
);

44837  
lﬂd_ffm≥g_exã∫Æ
(
fûíame
);

44839 c⁄° 
PixñF‹m©
 
	gffm≥g_pixfmt
 = 
pixñ_f‹m©
?
PIX_FMT_RGB24
:
PIX_FMT_GRAY8
;

44840 
avcodec_ªgi°î_Æl
();

44841 
av_ªgi°î_Æl
();

44842 
AVF‹m©C⁄ãxt
 *
	gf‹m©_˘x
 = 0;

44843 
AVCodecC⁄ãxt
 *
	gcodec_˘x
 = 0;

44844 
AVCodec
 *
	gcodec
 = 0;

44845 
AVFøme
 *
	gav‰ame
 = 
avcodec_Æloc_‰ame
(), *
	gc⁄vîãd_‰ame
 =ávcodec_alloc_frame();

44846 
	gv°ªam
 = 0;

44848 i‡(
	gªsume
) {

44849 i‡(!
	gf‹m©_˘x
 || !
	gcodec_˘x
 || !
	gcodec
 || !
	gav‰ame
 || !
	gc⁄vîãd_‰ame
)

44850 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44852 
cimgli°_ö°™˚
,

44853 
fûíame
);

44856 i‡(
	gf‹m©_˘x
Ë
avf‹m©_˛o£_öput
(&
f‹m©_˘x
);

44857 i‡(
avf‹m©_›í_öput
(&
f‹m©_˘x
,
fûíame
,0,0)!=0)

44858 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


44860 
cimgli°_ö°™˚
,

44861 
fûíame
);

44863 i‡(!
	gav‰ame
 || !
	gc⁄vîãd_‰ame
 || 
avf‹m©_föd_°ªam_öfo
(
f‹m©_˘x
,
NULL
)<0) {

44864 
avf‹m©_˛o£_öput
(&
f‹m©_˘x
); 
	gf‹m©_˘x
 = 0;

44865  
lﬂd_ffm≥g_exã∫Æ
(
fûíame
);

44867 #i‡
cimg_vîbosôy
>=3

44868 
dump_f‹m©
(
f‹m©_˘x
,0,0,0);

44873 i‡(!
	gfú°_‰ame
 && !
	gœ°_‰ame
 && !
	g°ï_‰ame
) {

44874 
	gv°ªam
 = 0; v°ªam<()(
	gf‹m©_˘x
->
	gnb_°ªams
); ++vstream)

44875 i‡(
	gf‹m©_˘x
->
	g°ªams
[
v°ªam
]->
	gcodec
->
	gcodec_ty≥
==
AVMEDIA_TYPE_VIDEO
) ;

44876 i‡(
	gv°ªam
==()
f‹m©_˘x
->
nb_°ªams
Ë
assign
();

44878 
	gCImgLi°
<
	gdoubÀT
> 
	gtime°amps
;

44879 
	gnb_‰ames
;

44880 
AVPackë
 
	g∑ckë
;

44882 
	gnb_‰ames
 = 0; 
av_ªad_‰ame
(
f‹m©_˘x
,&
∑ckë
)>=0; 
av_‰ì_∑ckë
(&packet))

44883 i‡(
	g∑ckë
.
	g°ªam_ödex
==
v°ªam
) {

44884 
CImg
<
doubÀT
>::
ve˘‹
(()
∑ckë
.
±s
).
move_to
(
time°amps
);

44885 ++
	gnb_‰ames
;

44889 
	g‰amew
 = 
f‹m©_˘x
->
°ªams
[
v°ªam
]->
codec
->
width
,

44890 
	g‰ameh
 = 
f‹m©_˘x
->
°ªams
[
v°ªam
]->
codec
->
height
;

44892 
	gnum
 = ()(
f‹m©_˘x
->
°ªams
[
v°ªam
]->
r_‰ame_øã
).
num
,

44893 
	gdí
 = ()(
f‹m©_˘x
->
°ªams
[
v°ªam
]->
r_‰ame_øã
).
dí
,

44894 
	gÂs
 = 
num
/
dí
;

44896 
assign
(2);

44897 (*
	gthis
)[0].
assign
(1,4).
fûl
((
T
)
nb_‰ames
,(T)
‰amew
,(T)
‰ameh
,(T)
Âs
);

44898 (*
	gthis
)[1] = (
time°amps
>'y');

44900 
avf‹m©_˛o£_öput
(&
f‹m©_˘x
); 
	gf‹m©_˘x
 = 0;

44901  *
	gthis
;

44904 
	gv°ªam
 = 0; v°ªam<()(
	gf‹m©_˘x
->
	gnb_°ªams
) &&

44905 
	gf‹m©_˘x
->
	g°ªams
[
v°ªam
]->
	gcodec
->
	gcodec_ty≥
!=
AVMEDIA_TYPE_VIDEO
; ) ++
	gv°ªam
;

44906 i‡(
	gv°ªam
==()
f‹m©_˘x
->
nb_°ªams
) {

44907 
avf‹m©_˛o£_öput
(&
f‹m©_˘x
); 
	gf‹m©_˘x
 = 0;

44908  
lﬂd_ffm≥g_exã∫Æ
(
fûíame
);

44910 
	gcodec_˘x
 = 
f‹m©_˘x
->
°ªams
[
v°ªam
]->
codec
;

44911 
	gcodec
 = 
avcodec_föd_decodî
(
codec_˘x
->
codec_id
);

44912 i‡(!
	gcodec
) {

44913  
lﬂd_ffm≥g_exã∫Æ
(
fûíame
);

44915 i‡(
avcodec_›í2
(
codec_˘x
,
codec
,
NULL
)<0) {

44916  
lﬂd_ffm≥g_exã∫Æ
(
fûíame
);

44921 c⁄° 
	gnumByãs
 = 
avpi˘uª_gë_size
(
ffm≥g_pixfmt
,
codec_˘x
->
width
,codec_˘x->
height
);

44922 
uöt8_t
 *c⁄° 
	gbuf„r
 = 
√w
 uöt8_t[
numByãs
];

44923 
avpi˘uª_fûl
((
AVPi˘uª
 *)
c⁄vîãd_‰ame
,
buf„r
,
ffm≥g_pixfmt
,
codec_˘x
->
width
,codec_˘x->
height
);

44924 c⁄° 
T
 
	gfoo
 = (T)0;

44925 
AVPackë
 
	g∑ckë
;

44926 
	g‰ame
 = 0, 
	g√xt_‰ame
 = 
nfú°_‰ame
; føme<=
∆a°_‰ame
 && 
av_ªad_‰ame
(
f‹m©_˘x
,&
∑ckë
)>=0; ) {

44927 i‡(
	g∑ckë
.
	g°ªam_ödex
==()
v°ªam
) {

44928 
decoded
 = 0;

44929 #i‡
deföed
(
AV_VERSION_INT
)

44930 #i‡
LIBAVCODEC_VERSION_INT
<
AV_VERSION_INT
(52,26,0)

44931 
avcodec_decode_video
(
codec_˘x
,
av‰ame
,&
decoded
,
∑ckë
.
d©a
,Öackë.
size
);

44933 
avcodec_decode_video2
(
codec_˘x
,
av‰ame
,&
decoded
,&
∑ckë
);

44936 
avcodec_decode_video
(
codec_˘x
,
av‰ame
,&
decoded
,
∑ckë
.
d©a
,Öackë.
size
);

44938 i‡(
	gdecoded
) {

44939 i‡(
	g‰ame
==
√xt_‰ame
) {

44940 
SwsC⁄ãxt
 *
c
 = 
sws_gëC⁄ãxt
(
codec_˘x
->
width
,codec_˘x->
height
,codec_˘x->
pix_fmt
,codec_ctx->width,

44941 
codec_˘x
->
height
,
ffm≥g_pixfmt
,1,0,0,0);

44942 
sws_sˇÀ
(
c
,
av‰ame
->
d©a
,av‰ame->
löesize
,0,
codec_˘x
->
height
,
c⁄vîãd_‰ame
->data,converted_frame->linesize);

44943 i‡(
	gffm≥g_pixfmt
==
PIX_FMT_RGB24
) {

44944 
CImg
<
uch¨T
> 
√xt_image
(*
c⁄vîãd_‰ame
->
d©a
,3,
codec_˘x
->
width
,codec_˘x->
height
,1,
åue
);

44945 
	g√xt_image
.
_gë_≥rmuã_axes
("yzcx",
foo
).
move_to
(*
this
);

44947 
	gCImg
<
	guch¨T
> 
√xt_image
(*
c⁄vîãd_‰ame
->
d©a
,1,
codec_˘x
->
width
,codec_˘x->
height
,1,
åue
);

44948 
	g√xt_image
.
_gë_≥rmuã_axes
("yzcx",
foo
).
move_to
(*
this
);

44950 
	g√xt_‰ame
+=
n°ï_‰ame
;

44952 ++
	g‰ame
;

44954 
av_‰ì_∑ckë
(&
∑ckë
);

44955 i‡(
	g√xt_‰ame
>
	g∆a°_‰ame
) ;

44958 
	gdñëe
[] 
	gbuf„r
;

44960  *
	gthis
;

44964 
	gCImgLi°
<
	gT
> 
gë_lﬂd_ffm≥g
(c⁄° *c⁄° 
fûíame
, c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

44965 c⁄° 
°ï_‰ame
=1, c⁄° 
boﬁ
 
pixñ_f‹m©
=
åue
) {

44966  
CImgLi°
<
T
>().
lﬂd_ffm≥g
(
fûíame
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
,
pixñ_f‹m©
);

44973 
	gCImgLi°
<
	gT
>& 
lﬂd_ffm≥g_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

44974 i‡(!
	gfûíame
)

44975 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


44977 
cimgli°_ö°™˚
);

44978 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

44979 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gfûëmp2
[512] = { 0 };

44980 
	g°d
::
FILE
 *
fûe
 = 0;

44982 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

44983 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s_000001.µm",
fûëmp
);

44984 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp2
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

44985 } 
	gfûe
);

44986 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s_%%6d.µm",
fûëmp
);

44987 #i‡
cimg_OS
!=2

44988 
cimg_¢¥ötf
(
comm™d
,(command),"%s -i \"%s\" \"%s\" >/dev/null 2>&1",

44989 
cimg
::
ffm≥g_∑th
(),

44990 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

44991 
CImg
<
ch¨T
>::
°rög
(
fûëmp2
).
_sy°em_°ªsˇ≥
().
d©a
());

44993 
cimg_¢¥ötf
(
comm™d
,(command),"\"%s -i \"%s\" \"%s\"\" >NUL 2>&1",

44994 
cimg
::
ffm≥g_∑th
(),

44995 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

44996 
CImg
<
ch¨T
>::
°rög
(
fûëmp2
).
_sy°em_°ªsˇ≥
().
d©a
());

44998 
	gcimg
::
sy°em
(
comm™d
,0);

44999 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

45000 
	gcimg
::
ex˚±i⁄_mode
() = 0;

45001 
assign
();

45002 
	gi
 = 1;

45003 
boﬁ
 
	g°›_Êag
 = 
Ál£
; !°›_Êag; ++
	gi
) {

45004 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s_%.6u.µm",
fûëmp
,
i
);

45005 
	gCImg
<
	gT
> 
	gimg
;

45006 
	gåy
 { 
	gimg
.
lﬂd_≤m
(
fûëmp2
); }

45007 
ˇtch
 (
CImgEx˚±i⁄
&Ë{ 
	g°›_Êag
 = 
åue
; }

45008 i‡(
	gimg
Ë{ img.
move_to
(*
this
); 
	g°d
::
ªmove
(
fûëmp2
); }

45010 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

45011 i‡(
is_em±y
())

45012 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45014 
cimgli°_ö°™˚
,

45015 
fûíame
);

45016  *
	gthis
;

45020 
	gCImgLi°
<
	gT
> 
gë_lﬂd_ffm≥g_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

45021  
	gCImgLi°
<
	gT
>().
lﬂd_ffm≥g_exã∫Æ
(
fûíame
);

45029 
	gCImgLi°
<
	gT
>& 
lﬂd_gif_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

45030 i‡(!
	gfûíame
)

45031 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


45033 
cimgli°_ö°™˚
);

45034 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

45035 i‡(!
_lﬂd_gif_exã∫Æ
(
fûíame
,
Ál£
))

45036 i‡(!
_lﬂd_gif_exã∫Æ
(
fûíame
,
åue
))

45037 
	gåy
 { 
assign
(
CImg
<
T
>().
lﬂd_Ÿhî
(
fûíame
)); } 
ˇtch
 (
CImgEx˚±i⁄
&) {ássign(); }

45038 i‡(
is_em±y
())

45039 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45041 
cimgli°_ö°™˚
,
fûíame
);

45042  *
	gthis
;

45045 
	gCImgLi°
<
	gT
>& 
_lﬂd_gif_exã∫Æ
(c⁄° *c⁄° 
fûíame
, c⁄° 
boﬁ
 
u£_gøphicsmagick
=
Ál£
) {

45046 
comm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gfûëmp2
[512] = { 0 };

45047 
	g°d
::
FILE
 *
fûe
 = 0;

45049 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

45050 i‡(
	gu£_gøphicsmagick
Ë
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s.≤g.0",
fûëmp
);

45051 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s-0.≤g",
fûëmp
);

45052 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp2
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

45053 } 
	gfûe
);

45054 #i‡
cimg_OS
!=2

45055 i‡(
	gu£_gøphicsmagick
Ë
cimg_¢¥ötf
(
comm™d
,(command),"%s convert \"%s\" \"%s.png\" >/dev/null 2>&1",

45056 
cimg
::
gøphicsmagick_∑th
(),

45057 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

45058 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
());

45059 
cimg_¢¥ötf
(
comm™d
,(command),"%s \"%s\" \"%s.png\" >/dev/null 2>&1",

45060 
cimg
::
imagemagick_∑th
(),

45061 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

45062 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
());

45064 i‡(
	gu£_gøphicsmagick
Ë
cimg_¢¥ötf
(
comm™d
,(command),"\"%s convert \"%s\" \"%s.png\"\" >NUL 2>&1",

45065 
cimg
::
gøphicsmagick_∑th
(),

45066 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

45067 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
());

45068 
cimg_¢¥ötf
(
comm™d
,(command),"\"%s \"%s\" \"%s.png\"\" >NUL 2>&1",

45069 
cimg
::
imagemagick_∑th
(),

45070 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

45071 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
());

45073 
	gcimg
::
sy°em
(
comm™d
,0);

45074 c⁄° 
	gomode
 = 
cimg
::
ex˚±i⁄_mode
();

45075 
	gcimg
::
ex˚±i⁄_mode
() = 0;

45076 
assign
();

45079 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s.≤g",
fûëmp
);

45080 
	gCImg
<
	gT
> 
	gimg
;

45081 
	gåy
 { 
	gimg
.
lﬂd_≤g
(
fûëmp2
); }

45082 
ˇtch
 (
CImgEx˚±i⁄
&) { }

45083 i‡(
	gimg
Ë{ img.
move_to
(*
this
); 
	g°d
::
ªmove
(
fûëmp2
); }

45085 
	gi
 = 0;

45086 
boﬁ
 
	g°›_Êag
 = 
Ál£
; !°›_Êag; ++
	gi
) {

45087 i‡(
	gu£_gøphicsmagick
Ë
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s.≤g.%u",
fûëmp
,
i
);

45088 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s-%u.≤g",
fûëmp
,
i
);

45089 
	gCImg
<
	gT
> 
	gimg
;

45090 
	gåy
 { 
	gimg
.
lﬂd_≤g
(
fûëmp2
); }

45091 
ˇtch
 (
CImgEx˚±i⁄
&Ë{ 
	g°›_Êag
 = 
åue
; }

45092 i‡(
	gimg
Ë{ img.
move_to
(*
this
); 
	g°d
::
ªmove
(
fûëmp2
); }

45095 
	gcimg
::
ex˚±i⁄_mode
(Ë
omode
;

45096  *
	gthis
;

45100 
	gCImgLi°
<
	gT
> 
gë_lﬂd_gif_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

45101  
	gCImgLi°
<
	gT
>().
lﬂd_gif_exã∫Æ
(
fûíame
);

45108 
	gCImgLi°
<
	gT
>& 
lﬂd_gzù_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

45109 i‡(!
	gfûíame
)

45110 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45112 
cimgli°_ö°™˚
);

45113 
	g°d
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"rb"));

45114 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gbody
[512] = { 0 };

45116 *
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
,
body
),

45117 *
	gext2
 = 
cimg
::
•lô_fûíame
(
body
,0);

45118 
	g°d
::
FILE
 *
fûe
 = 0;

45120 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gz")) {

45121 i‡(*
	gext2
Ë
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext2
);

45122 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

45124 i‡(*
	gext
Ë
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext
);

45125 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

45127 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

45128 } 
	gfûe
);

45129 
cimg_¢¥ötf
(
comm™d
,(command),"%s -c \"%s\" > \"%s\"",

45130 
cimg
::
gunzù_∑th
(),

45131 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
(),

45132 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
());

45133 
	gcimg
::
sy°em
(
comm™d
);

45134 i‡(!(
	gfûe
 = 
°d
::
f›í
(
fûëmp
,"rb"))) {

45135 
	gcimg
::
f˛o£
(
cimg
::
f›í
(
fûíame
,"r"));

45136 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45138 
cimgli°_ö°™˚
,

45139 
fûíame
);

45141 } 
	gcimg
::
f˛o£
(
fûe
);

45142 
lﬂd
(
fûëmp
);

45143 
	g°d
::
ªmove
(
fûëmp
);

45144  *
	gthis
;

45148 
	gCImgLi°
<
	gT
> 
gë_lﬂd_gzù_exã∫Æ
(c⁄° *c⁄° 
fûíame
) {

45149  
	gCImgLi°
<
	gT
>().
lﬂd_gzù_exã∫Æ
(
fûíame
);

45159 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

45160 
	gCImgLi°
<
	gT
>& 
lﬂd_off
(c⁄° *c⁄° 
fûíame
,

45161 
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
) {

45162  
gë_lﬂd_off
(
fûíame
,
¥imôives
,
cﬁ‹s
).
move_to
(*
this
);

45166 
	gãm∂©e
<
ty≥«me
 
	gtf
,Åy≥«mê
	gtc
>

45167 
	gCImgLi°
<
	gT
> 
gë_lﬂd_off
(c⁄° *c⁄° 
fûíame
,

45168 
CImgLi°
<
tf
>& 
¥imôives
, CImgLi°<
tc
>& 
cﬁ‹s
) {

45169  
	gCImg
<
	gT
>().
lﬂd_off
(
fûíame
,
¥imôives
,
cﬁ‹s
)<'x';

45179 
	gCImgLi°
<
	gT
>& 
lﬂd_tiff
(c⁄° *c⁄° 
fûíame
,

45180 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

45181 c⁄° 
°ï_‰ame
=1) {

45183 
nfú°_‰ame
 = 
fú°_‰ame
<
œ°_‰ame
?first_frame:last_frame,

45184 
	gn°ï_‰ame
 = 
°ï_‰ame
?step_frame:1;

45185 
	g∆a°_‰ame
 = 
fú°_‰ame
<
œ°_‰ame
?last_frame:first_frame;

45186 #i‚de‡
cimg_u£_tiff


45187 i‡(
	gnfú°_‰ame
 || 
	g∆a°_‰ame
!=~0U || 
n°ï_‰ame
!=1)

45188 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


45190 
cimgli°_ö°™˚
,

45191 
fûíame
);

45193  
assign
(
CImg
<
T
>::
gë_lﬂd_tiff
(
fûíame
));

45195 
TIFF
 *
	gtif
 = 
TIFFO≥n
(
fûíame
,"r");

45196 i‡(
	gtif
) {

45197 
	gnb_images
 = 0;

45198 dÿ++
	gnb_images
; 
TIFFRódDúe˘‹y
(
tif
));

45199 i‡(
	gnfú°_‰ame
>=
nb_images
 || (
∆a°_‰ame
!=~0U &&Çlast_frame>=nb_images))

45200 
cimg
::
w¨n
(
_cimgli°_ö°™˚


45202 
cimgli°_ö°™˚
,

45203 
nfú°_‰ame
,
∆a°_‰ame
,
n°ï_‰ame
,
fûíame
,
nb_images
);

45205 i‡(
	gnfú°_‰ame
>=
nb_images
Ë 
assign
();

45206 i‡(
	g∆a°_‰ame
>=
nb_images
Ë
∆a°_‰ame
 =Çb_images-1;

45207 
assign
(1+(
∆a°_‰ame
-
nfú°_‰ame
)/
n°ï_‰ame
);

45208 
TIFFSëDúe˘‹y
(
tif
,0);

45209 #i‡
cimg_vîbosôy
>=3

45210 
TIFFSëW¨nögH™dÀr
(0);

45211 
TIFFSëEº‹H™dÀr
(0);

45213 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].
_lﬂd_tiff
(
tif
,
nfú°_‰ame
 +Ü*
n°ï_‰ame
);

45214 
TIFFClo£
(
tif
);

45215 } 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45217 
cimgli°_ö°™˚
,

45218 
fûíame
);

45219  *
	gthis
;

45224 
	gCImgLi°
<
	gT
> 
gë_lﬂd_tiff
(c⁄° *c⁄° 
fûíame
,

45225 c⁄° 
fú°_‰ame
=0, c⁄° 
œ°_‰ame
=~0U,

45226 c⁄° 
°ï_‰ame
=1) {

45227  
CImgLi°
<
T
>().
lﬂd_tiff
(
fûíame
,
fú°_‰ame
,
œ°_‰ame
,
°ï_‰ame
);

45242 c⁄° 
	gCImgLi°
<
	gT
>& 
¥öt
(c⁄° *c⁄° 
tôÀ
=0, c⁄° 
boﬁ
 
di•œy_°©s
=
åue
) const {

45243 
msiz
 = 0;

45244 
cimgli°_f‹
(*
this
,
l
Ë
	gmsiz
+=
_d©a
[l].
size
();

45245 
	gmsiz
*=(
T
);

45246 c⁄° 
	gmdi•
 = 
msiz
<8*1024?0:(msiz<8*1024*1024?1:2);

45247 
	g_tôÀ
[64] = { 0 };

45248 i‡(!
	gtôÀ
Ë
cimg_¢¥ötf
(
_tôÀ
,(_tôÀ),"CImgLi°<%s>",
pixñ_ty≥
());

45249 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s%s%s%s: %sthis%s = %p, %ssize%s = %u/%u [%u %s], %sdata%s = (CImg<%s>*)%p",

45250 
cimg
::
t_magíè
,cimg::
t_bﬁd
,
tôÀ
?tôÀ:
_tôÀ
,cimg::
t_n‹mÆ
,

45251 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,(*)
this
,

45252 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
_width
,
_Æloˇãd_width
,

45253 
mdi•
==0?
msiz
:(mdisp==1?(msiz>>10):(msiz>>20)),

45254 
mdi•
==0?"b":(mdisp==1?"Kio":"Mio"),

45255 
cimg
::
t_bﬁd
,cimg::
t_n‹mÆ
,
pixñ_ty≥
(),(*)
begö
());

45256 i‡(
	g_d©a
Ë
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"..%p.\n",(*)((*)
íd
()-1));

45257 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),".\n");

45259 
	gtmp
[16] = { 0 };

45260 
cimgli°_f‹
(*
this
,
Œ
) {

45261 
cimg_¢¥ötf
(
tmp
,—mp),"[%d]",
Œ
);

45262 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," ");

45263 
	g_d©a
[
Œ
].
¥öt
(
tmp
,
di•œy_°©s
);

45264 i‡(
	gŒ
==3 && 
_width
>8Ë{ 
Œ
 = _width-5; 
	g°d
::
Ârötf
(
cimg
::
ouçut
()," ...\n"); }

45266 
	g°d
::
fÊush
(
cimg
::
ouçut
());

45267  *
	gthis
;

45279 c⁄° 
	gCImgLi°
<
	gT
>& 
di•œy
(
CImgDi•œy
 &
di•
, c⁄° 
axis
='x', c⁄° 
Æign
=0) const {

45280 
gë_≠≥nd
(
axis
,
Æign
).
di•œy
(
di•
);

45281  *
	gthis
;

45294 c⁄° 
	gCImgLi°
<
	gT
>& 
di•œy
(
CImgDi•œy
 &
di•
, c⁄° 
boﬁ
 
di•œy_öfo
,

45295 c⁄° 
axis
='x', c⁄° 
Æign
=0,

45296 *c⁄° 
XYZ
=0) const {

45297 
boﬁ
 
is_exô
 = 
Ál£
;

45298  
_di•œy
(
di•
,0,
di•œy_öfo
,
axis
,
Æign
,
XYZ
,0,
åue
,
is_exô
);

45308 c⁄° 
	gCImgLi°
<
	gT
>& 
di•œy
(c⁄° *c⁄° 
tôÀ
=0, c⁄° 
boﬁ
 
di•œy_öfo
=
åue
,

45309 c⁄° 
axis
='x', c⁄° 
Æign
=0,

45310 *c⁄° 
XYZ
=0) const {

45311 
CImgDi•œy
 
di•
;

45312 
boﬁ
 
	gis_exô
 = 
Ál£
;

45313  
_di•œy
(
di•
,
tôÀ
,
di•œy_öfo
,
axis
,
Æign
,
XYZ
,0,
åue
,
is_exô
);

45316 c⁄° 
	gCImgLi°
<
	gT
>& 
_di•œy
(
CImgDi•œy
 &
di•
, c⁄° *c⁄° 
tôÀ
, c⁄° 
boﬁ
 
di•œy_öfo
,

45317 c⁄° 
axis
, c⁄° 
Æign
, *c⁄° 
XYZ
,

45318 c⁄° 
‹ig
, c⁄° 
boﬁ
 
is_fú°_ˇŒ
, boﬁ &
is_exô
) const {

45319 i‡(
is_em±y
())

45320 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


45322 
cimgli°_ö°™˚
);

45323 i‡(!
	gdi•
) {

45324 i‡(
	gaxis
=='x') {

45325 
sum_width
 = 0, 
	gmax_height
 = 0;

45326 
cimgli°_f‹
(*
this
,
l
) {

45327 c⁄° 
	gCImg
<
	gT
> &
	gimg
 = 
_d©a
[
l
];

45329 
	gw
 = 
CImgDi•œy
::
_fôs¸ìn
(
img
.
_width
,img.
_height
,img.
_dïth
,128,-85,
Ál£
),

45330 
	gh
 = 
CImgDi•œy
::
_fôs¸ìn
(
img
.
_width
,img.
_height
,img.
_dïth
,128,-85,
åue
);

45331 
	gsum_width
+=
w
;

45332 i‡(
	gh
>
	gmax_height
Ëmax_heighà
h
;

45334 
	gdi•
.
assign
(
cimg_fôs¸ìn
(
sum_width
,
max_height
,1),
tôÀ
?title:0,1);

45336 
	gmax_width
 = 0, 
	gsum_height
 = 0;

45337 
cimgli°_f‹
(*
this
,
l
) {

45338 c⁄° 
	gCImg
<
	gT
> &
	gimg
 = 
_d©a
[
l
];

45340 
	gw
 = 
CImgDi•œy
::
_fôs¸ìn
(
img
.
_width
,img.
_height
,img.
_dïth
,128,-85,
Ál£
),

45341 
	gh
 = 
CImgDi•œy
::
_fôs¸ìn
(
img
.
_width
,img.
_height
,img.
_dïth
,128,-85,
åue
);

45342 i‡(
	gw
>
	gmax_width
Ëmax_width = 
w
;

45343 
	gsum_height
+=
h
;

45345 
	gdi•
.
assign
(
cimg_fôs¸ìn
(
max_width
,
sum_height
,1),
tôÀ
?title:0,1);

45347 i‡(!
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("CImgLi°<%s> (%u)",
pixñ_ty≥
(),
_width
);

45348 } i‡(
	gtôÀ
Ë
	gdi•
.
£t_tôÀ
("%s",
tôÀ
);

45349 c⁄° 
	gCImg
<> 
	gdtôÀ
 = 
CImg
<>::
°rög
(
di•
.
tôÀ
());

45350 i‡(
	gdi•œy_öfo
Ë
¥öt
(
di•
.
tôÀ
());

45351 
	gdi•
.
show
().
Êush
();

45353 i‡(
	g_width
==1) {

45354 c⁄° 
dw
 = 
di•
.
_width
, 
	gdh
 = di•.
_height
;

45355 i‡(!
	gis_fú°_ˇŒ
)

45356 
	gdi•
.
ªsize
(
cimg_fôs¸ìn
(
_d©a
[0].
_width
,_d©a[0].
_height
,_d©a[0].
_dïth
),
Ál£
).

45357 
£t_tôÀ
("%†(%ux%ux%ux%u)",
dtôÀ
.
d©a
(),
_d©a
[0].
_width
,_d©a[0].
_height
,_d©a[0].
_dïth
,_d©a[0].
_•e˘rum
);

45358 
	g_d©a
[0].
_di•œy
(
di•
,0,
Ál£
,
XYZ
,!
is_fú°_ˇŒ
);

45359 i‡(
	gdi•
.
key
()Ë
	gis_exô
 = 
åue
;

45360 
	gdi•
.
ªsize
(
cimg_fôs¸ìn
(
dw
,
dh
,1),
Ál£
).
£t_tôÀ
("%s",
dtôÀ
.
d©a
());

45362 
boﬁ
 
	gdi•_ªsize
 = !
is_fú°_ˇŒ
;

45363 !
	gdi•
.
is_˛o£d
(Ë&& !
	gis_exô
) {

45364 c⁄° 
	gCImg
<
	götT
> 
	gs
 = 
_gë_£À˘
(
di•
,0,
åue
,
axis
,
Æign
,
‹ig
,
di•_ªsize
,!
is_fú°_ˇŒ
,true);

45365 
	gdi•_ªsize
 = 
åue
;

45366 i‡(
	gs
[0]<0) {

45367 i‡(
	gdi•
.
buâ⁄
()&2Ë{ di•.
Êush
(); ; }

45368 
	gis_exô
 = 
åue
;

45369 } i‡(
	gdi•
.
whìl
()) {

45370 c⁄° 
	gwhìl
 = 
di•
.
whìl
();

45371 
	gdi•
.
£t_whìl
();

45372 i‡(!
	gis_fú°_ˇŒ
 && 
	gwhìl
<0) ;

45373 i‡(
	gwhìl
>0 && 
	g_width
>=4) {

45375 
dñè
 = 
cimg
::
max
(1U,()cimg::
round
(0.3*
_width
)),

45376 
	göd0
 = ()
cimg
::
max
(0,
s
[0] - ()
dñè
),

45377 
	göd1
 = ()
cimg
::
mö
(
width
(Ë- 1,
s
[0] + ()
dñè
);

45378 i‡((
	göd0
!=0 || 
öd1
!=
_width
-1Ë&& ind1 - 
öd0
>=3Ë
gë_sh¨ed_images
(öd0,öd1).
_di•œy
(
di•
,0,
Ál£
,
axis
,
Æign
,
XYZ
,
‹ig
 + ind0,Ál£,
is_exô
);

45380 } i‡(
	gs
[0]!=0 || 
s
[1]!=
width
()-1Ë
gë_sh¨ed_images
(s[0],s[1]).
_di•œy
(
di•
,0,
Ál£
,
axis
,
Æign
,
XYZ
,
‹ig
+s[0],Ál£,
is_exô
);

45383  *
	gthis
;

45392 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve
(c⁄° *c⁄° 
fûíame
, c⁄° 
numbî
=-1, c⁄° 
digôs
=6) const {

45393 i‡(!
fûíame
)

45394 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


45396 
cimgli°_ö°™˚
);

45398 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
);

45399 
	gnfûíame
[1024] = { 0 };

45400 c⁄° *c⁄° 
	g‚
 = (
numbî
>=0)?
cimg
::
numbî_fûíame
(
fûíame
,numbî,
digôs
,
nfûíame
):filename;

45402 #ifde‡
cimgli°_ßve_∂ugö


45403 
cimgli°_ßve_∂ugö
(
‚
);

45405 #ifde‡
cimgli°_ßve_∂ugö1


45406 
cimgli°_ßve_∂ugö1
(
‚
);

45408 #ifde‡
cimgli°_ßve_∂ugö2


45409 
cimgli°_ßve_∂ugö2
(
‚
);

45411 #ifde‡
cimgli°_ßve_∂ugö3


45412 
cimgli°_ßve_∂ugö3
(
‚
);

45414 #ifde‡
cimgli°_ßve_∂ugö4


45415 
cimgli°_ßve_∂ugö4
(
‚
);

45417 #ifde‡
cimgli°_ßve_∂ugö5


45418 
cimgli°_ßve_∂ugö5
(
‚
);

45420 #ifde‡
cimgli°_ßve_∂ugö6


45421 
cimgli°_ßve_∂ugö6
(
‚
);

45423 #ifde‡
cimgli°_ßve_∂ugö7


45424 
cimgli°_ßve_∂ugö7
(
‚
);

45426 #ifde‡
cimgli°_ßve_∂ugö8


45427 
cimgli°_ßve_∂ugö8
(
‚
);

45429 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cimgz")Ë 
ßve_cimg
(
‚
,
åue
);

45430 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cimg"Ë|| !*
	gext
Ë 
ßve_cimg
(
‚
,
Ál£
);

45431 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"yuv")Ë 
ßve_yuv
(
‚
,
åue
);

45432 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"avi") ||

45433 !
	gcimg
::
°rˇ£cmp
(
ext
,"mov") ||

45434 !
	gcimg
::
°rˇ£cmp
(
ext
,"asf") ||

45435 !
	gcimg
::
°rˇ£cmp
(
ext
,"divx") ||

45436 !
	gcimg
::
°rˇ£cmp
(
ext
,"flv") ||

45437 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpg") ||

45438 !
	gcimg
::
°rˇ£cmp
(
ext
,"m1v") ||

45439 !
	gcimg
::
°rˇ£cmp
(
ext
,"m2v") ||

45440 !
	gcimg
::
°rˇ£cmp
(
ext
,"m4v") ||

45441 !
	gcimg
::
°rˇ£cmp
(
ext
,"mjp") ||

45442 !
	gcimg
::
°rˇ£cmp
(
ext
,"mkv") ||

45443 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpe") ||

45444 !
	gcimg
::
°rˇ£cmp
(
ext
,"movie") ||

45445 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogm") ||

45446 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogg") ||

45447 !
	gcimg
::
°rˇ£cmp
(
ext
,"qt") ||

45448 !
	gcimg
::
°rˇ£cmp
(
ext
,"rm") ||

45449 !
	gcimg
::
°rˇ£cmp
(
ext
,"vob") ||

45450 !
	gcimg
::
°rˇ£cmp
(
ext
,"wmv") ||

45451 !
	gcimg
::
°rˇ£cmp
(
ext
,"xvid") ||

45452 !
	gcimg
::
°rˇ£cmp
(
ext
,"m≥g")Ë 
ßve_ffm≥g
(
‚
);

45453 #ifde‡
cimg_u£_tiff


45454 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"tif") ||

45455 !
	gcimg
::
°rˇ£cmp
(
ext
,"tiff")Ë 
ßve_tiff
(
‚
);

45457 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gz")Ë 
ßve_gzù_exã∫Æ
(
‚
);

45458 { i‡(
	g_width
==1Ë
_d©a
[0].
ßve
(
‚
,-1); 
cimgli°_f‹
(*
this
,
l
Ë
	g_d©a
[l].save(fn,l); }

45459  *
	gthis
;

45467 
boﬁ
 
is_ßvóbÀ
(c⁄° *c⁄° 
fûíame
) {

45468 c⁄° *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
);

45469 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"cimgz") ||

45470 #ifde‡
cimg_u£_tiff


45471 !
	gcimg
::
°rˇ£cmp
(
ext
,"tif") ||

45472 !
	gcimg
::
°rˇ£cmp
(
ext
,"tiff") ||

45474 !
	gcimg
::
°rˇ£cmp
(
ext
,"yuv") ||

45475 !
	gcimg
::
°rˇ£cmp
(
ext
,"avi") ||

45476 !
	gcimg
::
°rˇ£cmp
(
ext
,"mov") ||

45477 !
	gcimg
::
°rˇ£cmp
(
ext
,"asf") ||

45478 !
	gcimg
::
°rˇ£cmp
(
ext
,"divx") ||

45479 !
	gcimg
::
°rˇ£cmp
(
ext
,"flv") ||

45480 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpg") ||

45481 !
	gcimg
::
°rˇ£cmp
(
ext
,"m1v") ||

45482 !
	gcimg
::
°rˇ£cmp
(
ext
,"m2v") ||

45483 !
	gcimg
::
°rˇ£cmp
(
ext
,"m4v") ||

45484 !
	gcimg
::
°rˇ£cmp
(
ext
,"mjp") ||

45485 !
	gcimg
::
°rˇ£cmp
(
ext
,"mkv") ||

45486 !
	gcimg
::
°rˇ£cmp
(
ext
,"mpe") ||

45487 !
	gcimg
::
°rˇ£cmp
(
ext
,"movie") ||

45488 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogm") ||

45489 !
	gcimg
::
°rˇ£cmp
(
ext
,"ogg") ||

45490 !
	gcimg
::
°rˇ£cmp
(
ext
,"qt") ||

45491 !
	gcimg
::
°rˇ£cmp
(
ext
,"rm") ||

45492 !
	gcimg
::
°rˇ£cmp
(
ext
,"vob") ||

45493 !
	gcimg
::
°rˇ£cmp
(
ext
,"wmv") ||

45494 !
	gcimg
::
°rˇ£cmp
(
ext
,"xvid") ||

45495 !
	gcimg
::
°rˇ£cmp
(
ext
,"m≥g")Ë 
	gåue
;

45496  
	gÁl£
;

45505 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_gif_exã∫Æ
(c⁄° *c⁄° 
fûíame
, c⁄° 
Âs
=25, c⁄° 
nb_lo›s
=0) {

45506 
comm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gfûëmp2
[512] = { 0 };

45507 
	gCImgLi°
<
	gch¨T
> 
	gfûíames
;

45508 
	g°d
::
FILE
 *
fûe
 = 0;

45510 #ifde‡
cimg_u£_≤g


45511 
	#_cimg_ßve_gif_ext
 "≤g"

	)

45513 
	#_cimg_ßve_gif_ext
 "µm"

	)

45517 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

45518 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s_000001." 
_cimg_ßve_gif_ext
,
fûëmp
);

45519 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp2
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

45520 } 
	gfûe
);

45521 
cimgli°_f‹
(*
this
,
l
) {

45522 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s_%.6u." 
_cimg_ßve_gif_ext
,
fûëmp
,
l
+1);

45523 
	gCImg
<
	gch¨T
>::
°rög
(
fûëmp2
).
move_to
(
fûíames
);

45524 i‡(
	g_d©a
[
l
].
	g_dïth
>1 || _d©a[l].
	g_•e˘rum
!=3Ë
_d©a
[l].
gë_ªsize
(-100,-100,1,3).
ßve
(
fûëmp2
);

45525 
	g_d©a
[
l
].
ßve
(
fûëmp2
);

45528 #i‡
cimg_OS
!=2

45529 
cimg_¢¥ötf
(
comm™d
,(command),"%s -delay 1x%u -loop %u",

45530 
cimg
::
imagemagick_∑th
(),
Âs
,
nb_lo›s
);

45531 
	gCImg
<
	guch¨T
>::
°rög
(
comm™d
).
move_to
(
fûíames
,0);

45532 
cimg_¢¥ötf
(
comm™d
,(command),"\"%s\" >/dev/null 2>&1",

45533 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

45534 
	gCImg
<
	guch¨T
>::
°rög
(
comm™d
).
move_to
(
fûíames
);

45536 
cimg_¢¥ötf
(
comm™d
,(command),"\"%s -delay 1x%u -loop %u",

45537 
cimg
::
imagemagick_∑th
(),
Âs
,
nb_lo›s
);

45538 
	gCImg
<
	guch¨T
>::
°rög
(
comm™d
).
move_to
(
fûíames
,0);

45539 
cimg_¢¥ötf
(
comm™d
,(command),"\"%s\"\" >NUL 2>&1",

45540 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

45541 
	gCImg
<
	guch¨T
>::
°rög
(
comm™d
).
move_to
(
fûíames
);

45543 
	gCImg
<
	gch¨T
> 
	g_comm™d
 = 
fûíames
>'x';

45544 
cimg_f‹
(
_comm™d
,
p
,Ëi‡(!*
	gp
) *p = ' ';

45545 
	g_comm™d
.
back
() = 0;

45547 
	gcimg
::
sy°em
(
_comm™d
);

45548 
	gfûe
 = 
°d
::
f›í
(
fûíame
,"rb");

45549 i‡(!
	gfûe
)

45550 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45552 
cimgli°_ö°™˚
,

45553 
fûíame
);

45554 
	gcimg
::
f˛o£
(
fûe
);

45555 
cimgli°_f‹_ö
(*
this
,1,
fûíames
.
_width
-1,
l
Ë
	g°d
::
ªmove
(filenames[l]);

45556  *
	gthis
;

45566 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_ffm≥g
(c⁄° *c⁄° 
fûíame
, c⁄° 
Âs
=25, c⁄° 
bôøã
=2048) const {

45567 i‡(!
fûíame
)

45568 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


45570 
cimgli°_ö°™˚
);

45571 i‡(!
	gÂs
)

45572 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


45574 
cimgli°_ö°™˚
,

45575 
fûíame
);

45576 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

45578 
cimgli°_f‹
(*
this
,
l
Ëi‡(!
	g_d©a
[l].
is_ßmeXYZ
(
_d©a
[0]))

45579 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


45581 
cimgli°_ö°™˚
,

45582 
fûíame
);

45584 #i‚de‡
cimg_u£_ffm≥g


45585  
ßve_ffm≥g_exã∫Æ
(
fûíame
,0,
Âs
,
bôøã
);

45587 
avcodec_ªgi°î_Æl
();

45588 
av_ªgi°î_Æl
();

45590 
	g‰ame_dimx
 = 
_d©a
[0].
width
(),

45591 
	g‰ame_dimy
 = 
_d©a
[0].
height
(),

45592 
	g‰ame_dimv
 = 
_d©a
[0].
•e˘rum
();

45593 i‡(
	g‰ame_dimv
!=1 && 
‰ame_dimv
!=3)

45594 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


45596 
cimgli°_ö°™˚
,

45597 
_d©a
[0].
_width
,_d©a[0].
_height
,_d©a[0].
_dïth
,_d©a[0].
_•e˘rum
,_d©a,
fûíame
);

45599 
PixñF‹m©
 
	gde°_pxl_fmt
 = 
PIX_FMT_YUV420P
;

45600 
PixñF‹m©
 
	g§c_pxl_fmt
 = (
‰ame_dimv
==3)?
PIX_FMT_RGB24
:
PIX_FMT_GRAY8
;

45602 
	gsws_Êags
 = 
SWS_FAST_BILINEAR
;

45603 
AVOuçutF‹m©
 *
	gfmt
 = 0;

45604 #i‡
deföed
(
AV_VERSION_INT
)

45605 #i‡
LIBAVFORMAT_VERSION_INT
<
AV_VERSION_INT
(52,45,0)

45606 
	gfmt
 = 
guess_f‹m©
(0,
fûíame
,0);

45607 i‡(!
	gfmt
Ëfmà
guess_f‹m©
("mpeg",0,0);

45609 
	gfmt
 = 
av_guess_f‹m©
(0,
fûíame
,0);

45610 i‡(!
	gfmt
Ëfmà
av_guess_f‹m©
("mpeg",0,0);

45613 
	gfmt
 = 
guess_f‹m©
(0,
fûíame
,0);

45614 i‡(!
	gfmt
Ëfmà
guess_f‹m©
("mpeg",0,0);

45617 i‡(!
	gfmt
)

45618 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


45620 
cimgli°_ö°™˚
,

45621 
fûíame
);

45623 
AVF‹m©C⁄ãxt
 *
	goc
 = 0;

45624 #i‡
deföed
(
AV_VERSION_INT
)

45625 #i‡
LIBAVFORMAT_VERSION_INT
<
AV_VERSION_INT
(52,36,0)

45626 
	goc
 = 
av_Æloc_f‹m©_c⁄ãxt
();

45628 
	goc
 = 
avf‹m©_Æloc_c⁄ãxt
();

45631 
	goc
 = 
av_Æloc_f‹m©_c⁄ãxt
();

45633 i‡(!
	goc
)

45634 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45636 
cimgli°_ö°™˚
,

45637 
fûíame
);

45639 
AVCodec
 *
	gcodec
 = 0;

45640 
AVFøme
 *
	gpi˘uª
 = 0;

45641 
AVFøme
 *
	gtmp_pi˘
 = 0;

45642 
	goc
->
	gof‹m©
 = 
fmt
;

45643 
	g°d
::
•rötf
(
oc
->
fûíame
,"%s",filename);

45646 
AVSåóm
 *
	gvideo_°r
 = 0;

45647 i‡(
	gfmt
->
	gvideo_codec
!=
CODEC_ID_NONE
) {

45648 
video_°r
 = 
avf‹m©_√w_°ªam
(
oc
,
NULL
);

45649 i‡(!
	gvideo_°r
) {

45650 
av_‰ì
(
oc
);

45651 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45653 
cimgli°_ö°™˚
,

45654 
fûíame
);

45657 
av_‰ì
(
oc
);

45658 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45660 
cimgli°_ö°™˚
,

45661 
fûíame
);

45664 
AVCodecC⁄ãxt
 *
	gc
 = 
video_°r
->
codec
;

45665 
	gc
->
	gcodec_id
 = 
fmt
->
video_codec
;

45666 
	gc
->
	gcodec_ty≥
 = 
AVMEDIA_TYPE_VIDEO
;

45667 
	gc
->
	gbô_øã
 = 1024*
bôøã
;

45668 
	gc
->
	gwidth
 = 
‰ame_dimx
;

45669 
	gc
->
	gheight
 = 
‰ame_dimy
;

45670 
	gc
->
	gtime_ba£
.
	gnum
 = 1;

45671 
	gc
->
	gtime_ba£
.
	gdí
 = 
Âs
;

45672 
	gc
->
	gg›_size
 = 12;

45673 
	gc
->
	gpix_fmt
 = 
de°_pxl_fmt
;

45674 i‡(
	gc
->
	gcodec_id
==
CODEC_ID_MPEG2VIDEO
Ë
c
->
max_b_‰ames
 = 2;

45675 i‡(
	gc
->
	gcodec_id
==
CODEC_ID_MPEG1VIDEO
Ë
c
->
mb_decisi⁄
 = 2;

45678 
	gcodec
 = 
avcodec_föd_ícodî
(
c
->
codec_id
);

45679 i‡(!
	gcodec
) {

45680 
av_‰ì
(
oc
);

45681 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45683 
cimgli°_ö°™˚
,

45684 
fûíame
);

45686 i‡(
avcodec_›í2
(
c
,
codec
,
NULL
)<0)

45687 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45689 
cimgli°_ö°™˚
,

45690 
fûíame
);

45692 
	gtmp_pi˘
 = 
avcodec_Æloc_‰ame
();

45693 i‡(!
	gtmp_pi˘
) {

45694 
avcodec_˛o£
(
video_°r
->
codec
);

45695 
av_‰ì
(
oc
);

45696 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45698 
cimgli°_ö°™˚
,

45699 
fûíame
);

45701 
	gtmp_pi˘
->
	glöesize
[0] = (
§c_pxl_fmt
==
PIX_FMT_RGB24
)?3*
‰ame_dimx
:frame_dimx;

45703 
	gtmp_size
 = 
avpi˘uª_gë_size
(
§c_pxl_fmt
,
‰ame_dimx
,
‰ame_dimy
);

45704 
uöt8_t
 *
	gtmp_buf„r
 = (uöt8_t*)
av_mÆloc
(
tmp_size
);

45705 i‡(!
	gtmp_buf„r
) {

45706 
av_‰ì
(
tmp_pi˘
);

45707 
avcodec_˛o£
(
video_°r
->
codec
);

45708 
av_‰ì
(
oc
);

45709 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45711 
cimgli°_ö°™˚
,

45712 
fûíame
);

45716 
avpi˘uª_fûl
((
AVPi˘uª
*)
tmp_pi˘
,
tmp_buf„r
,
§c_pxl_fmt
,
‰ame_dimx
,
‰ame_dimy
);

45717 
	gpi˘uª
 = 
avcodec_Æloc_‰ame
();

45718 i‡(!
	gpi˘uª
) {

45719 
av_‰ì
(
tmp_pi˘
->
d©a
[0]);

45720 
av_‰ì
(
tmp_pi˘
);

45721 
avcodec_˛o£
(
video_°r
->
codec
);

45722 
av_‰ì
(
oc
);

45723 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45725 
cimgli°_ö°™˚
,

45726 
fûíame
);

45729 
	gsize
 = 
avpi˘uª_gë_size
(
c
->
pix_fmt
,
‰ame_dimx
,
‰ame_dimy
);

45730 
uöt8_t
 *
	gbuf„r
 = (uöt8_t*)
av_mÆloc
(
size
);

45731 i‡(!
	gbuf„r
) {

45732 
av_‰ì
(
pi˘uª
);

45733 
av_‰ì
(
tmp_pi˘
->
d©a
[0]);

45734 
av_‰ì
(
tmp_pi˘
);

45735 
avcodec_˛o£
(
video_°r
->
codec
);

45736 
av_‰ì
(
oc
);

45737 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45739 
cimgli°_ö°™˚
,

45740 
fûíame
);

45744 
avpi˘uª_fûl
((
AVPi˘uª
*)
pi˘uª
,
buf„r
,
c
->
pix_fmt
,
‰ame_dimx
,
‰ame_dimy
);

45747 i‡(!(
	gfmt
->
	gÊags
&
	gAVFMT_NOFILE
)) {

45748 i‡(
avio_›í
(&
oc
->
pb
,
fûíame
,
AVIO_FLAG_WRITE
)<0)

45749 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45751 
cimgli°_ö°™˚
,

45752 
fûíame
);

45755 i‡(
avf‹m©_wrôe_hódî
(
oc
,
NULL
)<0)

45756 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45758 
cimgli°_ö°™˚
,

45759 
fûíame
);

45761 
SwsC⁄ãxt
 *
	gimg_c⁄vît_c⁄ãxt
 = 0;

45762 
	gimg_c⁄vît_c⁄ãxt
 = 
sws_gëC⁄ãxt
(
‰ame_dimx
,
‰ame_dimy
,
§c_pxl_fmt
,

45763 
c
->
width
,c->
height
,c->
pix_fmt
,
sws_Êags
,0,0,0);

45764 i‡(!
	gimg_c⁄vît_c⁄ãxt
) {

45766 
av_‰ì
(
pi˘uª
->
d©a
);

45767 
av_‰ì
(
pi˘uª
);

45768 
av_‰ì
(
tmp_pi˘
->
d©a
[0]);

45769 
av_‰ì
(
tmp_pi˘
);

45770 
avcodec_˛o£
(
video_°r
->
codec
);

45771 
av_‰ì
(
oc
);

45772 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45774 
cimgli°_ö°™˚
,

45775 
fûíame
);

45777 
	gªt
 = 0, 
	gout_size
;

45778 
uöt8_t
 *
	gvideo_outbuf
 = 0;

45779 
	gvideo_outbuf_size
 = 1000000;

45780 
	gvideo_outbuf
 = (
uöt8_t
*)
av_mÆloc
(
video_outbuf_size
);

45781 i‡(!
	gvideo_outbuf
) {

45783 
av_‰ì
(
pi˘uª
->
d©a
);

45784 
av_‰ì
(
pi˘uª
);

45785 
av_‰ì
(
tmp_pi˘
->
d©a
[0]);

45786 
av_‰ì
(
tmp_pi˘
);

45787 
avcodec_˛o£
(
video_°r
->
codec
);

45788 
av_‰ì
(
oc
);

45789 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45791 
cimgli°_ö°™˚
,

45792 
fûíame
);

45796 
cimgli°_f‹
(*
this
,
i
) {

45797 
	gCImg
<
	guöt8_t
> 
	gcuºítIm
 = 
_d©a
[
i
], 
	gªd
, 
	ggªí
, 
	gblue
, 
	ggøy
;

45798 i‡(
	g§c_pxl_fmt
==
PIX_FMT_RGB24
) {

45799 
ªd
 = 
cuºítIm
.
gë_sh¨ed_ch™√l
(0);

45800 
	ggªí
 = 
cuºítIm
.
gë_sh¨ed_ch™√l
(1);

45801 
	gblue
 = 
cuºítIm
.
gë_sh¨ed_ch™√l
(2);

45802 
cimg_f‹XY
(
cuºítIm
,
X
,
Y
) {

45803 
	gtmp_pi˘
->
	gd©a
[0][
Y
*
tmp_pi˘
->
löesize
[0] + 3*
	gX
] = 
ªd
(
X
,Y);

45804 
	gtmp_pi˘
->
	gd©a
[0][
Y
*
tmp_pi˘
->
löesize
[0] + 3*
	gX
 + 1] = 
gªí
(
X
,Y);

45805 
	gtmp_pi˘
->
	gd©a
[0][
Y
*
tmp_pi˘
->
löesize
[0] + 3*
	gX
 + 2] = 
blue
(
X
,Y);

45808 
	ggøy
 = 
cuºítIm
.
gë_sh¨ed_ch™√l
(0);

45809 
cimg_f‹XY
(
cuºítIm
,
X
,
Y
Ë
	gtmp_pi˘
->
	gd©a
[0][Y*
tmp_pi˘
->
löesize
[0] + 
	gX
] = 
gøy
(X,Y);

45811 i‡(!
	gvideo_°r
) ;

45812 i‡(
sws_sˇÀ
(
img_c⁄vît_c⁄ãxt
,
tmp_pi˘
->
d©a
,tmp_pi˘->
löesize
,0,
c
->
height
,
pi˘uª
->data,picture->linesize)<0) ;

45814 
AVPackë
 
	gpkt
;

45815 
	ggŸ_∑ckë
;

45816 
av_öô_∑ckë
(&
pkt
);

45817 
	gout_size
 = 
avcodec_ícode_video2
(
c
,&
pkt
,
pi˘uª
,&
gŸ_∑ckë
);

45818 i‡(
	ggŸ_∑ckë
) {

45819 
	gpkt
.
	g±s
 = 
av_ªsˇÀ_q
(
c
->
coded_‰ame
->
±s
,c->
time_ba£
,
video_°r
->time_base);

45820 i‡(
	gc
->
	gcoded_‰ame
->
	gkey_‰ame
Ë
	gpkt
.
	gÊags
|=
AV_PKT_FLAG_KEY
;

45821 
	gpkt
.
	g°ªam_ödex
 = 
video_°r
->
ödex
;

45822 
	gpkt
.
	gd©a
 = 
video_outbuf
;

45823 
	gpkt
.
	gsize
 = 
out_size
;

45824 
	gªt
 = 
av_wrôe_‰ame
(
oc
,&
pkt
);

45825 } i‡(
	gout_size
<0) ;

45826 i‡(
	gªt
) ;

45830 i‡(
	gvideo_°r
) {

45831 
avcodec_˛o£
(
video_°r
->
codec
);

45832 
av_‰ì
(
pi˘uª
->
d©a
[0]);

45833 
av_‰ì
(
pi˘uª
);

45834 
av_‰ì
(
tmp_pi˘
->
d©a
[0]);

45835 
av_‰ì
(
tmp_pi˘
);

45837 i‡(
av_wrôe_åaûî
(
oc
)<0)

45838 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


45840 
cimgli°_ö°™˚
,

45841 
fûíame
);

45843 
av_‰ìp
(&
oc
->
°ªams
[0]->
codec
);

45844 
av_‰ìp
(&
oc
->
°ªams
[0]);

45845 i‡(!(
	gfmt
->
	gÊags
&
	gAVFMT_NOFILE
)) {

45853 
av_‰ì
(
oc
);

45854 
av_‰ì
(
video_outbuf
);

45856  *
	gthis
;

45859 c⁄° 
	gCImgLi°
<
	gT
>& 
_ßve_yuv
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
boﬁ
 
is_rgb
) const {

45860 i‡(!
	gfûe
 && !
	gfûíame
)

45861 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


45863 
cimgli°_ö°™˚
);

45864 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(
fûe
,
fûíame
);  *
	gthis
; }

45865 i‡((*
	gthis
)[0].
width
()%2 || (*this)[0].
height
()%2)

45866 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


45868 
cimgli°_ö°™˚
,

45869 (*
this
)[0].
width
(),(*this)[0].
height
(),

45870 
fûíame
?filename:"(FILE*)");

45872 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

45873 
cimgli°_f‹
(*
this
,
l
) {

45874 
	gCImg
<
	guch¨T
> 
YCbCr
((*
this
)[
l
]);

45875 i‡(
	gis_rgb
Ë
	gYCbCr
.
RGBtoYCbCr
();

45876 
	gcimg
::
fwrôe
(
YCbCr
.
_d©a
,()YCbCr.
_width
*YCbCr.
_height
,
nfûe
);

45877 
	gcimg
::
fwrôe
(
YCbCr
.
gë_ªsize
(YCbCr.
_width
/2, YCbCr.
_height
/2,1,3,3).
d©a
(0,0,0,1),

45878 ()
YCbCr
.
_width
*YCbCr.
_height
/2,
nfûe
);

45880 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

45881  *
	gthis
;

45889 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_yuv
(c⁄° *c⁄° 
fûíame
=0, c⁄° 
boﬁ
 
is_rgb
=
åue
) const {

45890  
_ßve_yuv
(0,
fûíame
,
is_rgb
);

45898 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_yuv
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° 
boﬁ
 
is_rgb
=
åue
) const {

45899  
_ßve_yuv
(
fûe
,0,
is_rgb
);

45902 c⁄° 
	gCImgLi°
<
	gT
>& 
_ßve_cimg
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
, c⁄° 
boﬁ
 
is_com¥es£d
) const {

45903 i‡(!
	gfûe
 && !
	gfûíame
)

45904 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


45906 
cimgli°_ö°™˚
);

45907 #i‚de‡
cimg_u£_zlib


45908 i‡(
	gis_com¥es£d
)

45909 
	gcimg
::
w¨n
(
_cimgli°_ö°™˚


45911 
cimgli°_ö°™˚
,

45912 
fûíame
?filename:"(FILE*)");

45914 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

45915 c⁄° *c⁄° 
	g±y≥
 = 
pixñ_ty≥
(), *c⁄° 
	gëy≥
 = 
cimg
::
ídü¬ess
()?"big":"little";

45916 i‡(
	g°d
::
°r°r
(
±y≥
,"unsig√d")=ıty≥Ë
°d
::
Ârötf
(
nfûe
,"%u unsig√d_%†%s_ídün\n",
_width
,±y≥+9,
ëy≥
);

45917 
	g°d
::
Ârötf
(
nfûe
,"%u %†%s_ídün\n",
_width
,
±y≥
,
ëy≥
);

45918 
cimgli°_f‹
(*
this
,
l
) {

45919 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = 
_d©a
[
l
];

45920 
	g°d
::
Ârötf
(
nfûe
,"%u %u %u %u",
img
.
_width
,img.
_height
,img.
_dïth
,img.
_•e˘rum
);

45921 i‡(
	gimg
.
	g_d©a
) {

45922 
	gCImg
<
	gT
> 
	gtmp
;

45923 i‡(
	gcimg
::
ídü¬ess
()Ë{ 
tmp
 = 
img
; cimg::
övît_ídü¬ess
—mp.
_d©a
,tmp.
size
()); }

45924 c⁄° 
	gCImg
<
	gT
>& 
	gªf
 = 
cimg
::
ídü¬ess
()?
tmp
:
img
;

45925 
boﬁ
 
	gÁûed_to_com¥ess
 = 
åue
;

45926 i‡(
	gis_com¥es£d
) {

45927 #ifde‡
cimg_u£_zlib


45928 c⁄° 
	gsiz
 = (
T
)*
ªf
.
size
();

45929 
	gcsiz
 = 
siz
 + siz/100 + 16;

45930 
Byãf
 *c⁄° 
	gcbuf
 = 
√w
 Byãf[
csiz
];

45931 i‡(
com¥ess
(
cbuf
,&
csiz
,(
Byãf
*)
ªf
.
_d©a
,
siz
))

45932 
	gcimg
::
w¨n
(
_cimgli°_ö°™˚


45934 
cimgli°_ö°™˚
,

45935 
fûíame
?filename:"(FILE*)");

45937 
	g°d
::
Ârötf
(
nfûe
," #%lu\n",
csiz
);

45938 
	gcimg
::
fwrôe
(
cbuf
,
csiz
,
nfûe
);

45939 
	gdñëe
[] 
	gcbuf
;

45940 
	gÁûed_to_com¥ess
 = 
Ál£
;

45944 i‡(
	gÁûed_to_com¥ess
) {

45945 
	g°d
::
Âutc
('\n',
nfûe
);

45946 
	gcimg
::
fwrôe
(
ªf
.
_d©a
,ªf.
size
(),
nfûe
);

45948 } 
	g°d
::
Âutc
('\n',
nfûe
);

45950 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

45951  *
	gthis
;

45959 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_cimg
(c⁄° *c⁄° 
fûíame
, c⁄° 
boﬁ
 
is_com¥es£d
=
Ál£
) const {

45960  
_ßve_cimg
(0,
fûíame
,
is_com¥es£d
);

45968 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_cimg
(
°d
::
FILE
 *
fûe
, c⁄° 
boﬁ
 
is_com¥es£d
=
Ál£
) const {

45969  
_ßve_cimg
(
fûe
,0,
is_com¥es£d
);

45972 c⁄° 
	gCImgLi°
<
	gT
>& 
_ßve_cimg
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
,

45973 c⁄° 
n0
,

45974 c⁄° 
x0
, c⁄° 
y0
,

45975 c⁄° 
z0
, c⁄° 
c0
) const {

45976 
	#_cimg_ßve_cimg_ˇ£
(
Ts
,
Tss
) \

45977 i‡(!
ßved
 && !
cimg
::
	`°rˇ£cmp
(
Ts
,
°r_pixñty≥
)) { \

45978 
l
 = 0;Ü<
lmax
; ++l) { \

45979 
j
 = 0; (
i
=
°d
::
	`fgëc
(
nfûe
))!='\n'Ë
tmp
[j++]=()i;Åmp[j] = 0; \

45980 
W
 = 
H
 = 
D
 = 
C
 = 0; \

45981 i‡(
°d
::
	`ssˇnf
(
tmp
,"%u %u %u %u",&
W
,&
H
,&
D
,&
C
)!=4) \

45982 
throw
 
	`CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚
 \

45984 
cimgli°_ö°™˚
, \

45985 
W
,
H
,
D
,
C
,
l
,
fûíame
?filename:"(FILE*)"); \

45986 i‡(
W
*
H
*
D
*
C
>0) { \

45987 i‡(
l
<
n0
 || 
x0
>=
W
 || 
y0
>=
H
 || 
z0
>=
D
 || 
c0
>=DË
°d
::
	`f£ek
(
nfûe
,W*H*D*
C
*(
Tss
),
SEEK_CUR
); \

45989 c⁄° 
CImg
<
T
>& 
img
 = (*
this
)[
l
 - 
n0
]; \

45990 c⁄° 
T
 *
±rs
 = 
img
.
_d©a
; \

45992 
x1
 = 
x0
 + 
img
.
_width
 - 1, \

45993 
y1
 = 
y0
 + 
img
.
_height
 - 1, \

45994 
z1
 = 
z0
 + 
img
.
_dïth
 - 1, \

45995 
c1
 = 
c0
 + 
img
.
_•e˘rum
 - 1, \

45996 
nx1
 = 
x1
>=
W
?W-1:x1, \

45997 
ny1
 = 
y1
>=
H
?H-1:y1, \

45998 
nz1
 = 
z1
>=
D
?D-1:z1, \

45999 
nc1
 = 
c1
>=
C
?C-1:c1; \

46000 
CImg
<
Tss
> 
	`øw
(1+
nx1
-
x0
); \

46001 c⁄° 
skùvb
 = 
c0
*
W
*
H
*
D
*(
Tss
); \

46002 i‡(
skùvb
Ë
°d
::
	`f£ek
(
nfûe
,skùvb,
SEEK_CUR
); \

46003 
v
 = 1 + 
nc1
 - 
c0
; v; --v) { \

46004 c⁄° 
skùzb
 = 
z0
*
W
*
H
*(
Tss
); \

46005 i‡(
skùzb
Ë
°d
::
	`f£ek
(
nfûe
,skùzb,
SEEK_CUR
); \

46006 
z
 = 1 + 
nz1
 - 
z0
; z; --z) { \

46007 c⁄° 
skùyb
 = 
y0
*
W
*(
Tss
); \

46008 i‡(
skùyb
Ë
°d
::
	`f£ek
(
nfûe
,skùyb,
SEEK_CUR
); \

46009 
y
 = 1 + 
ny1
 - 
y0
; y; --y) { \

46010 c⁄° 
skùxb
 = 
x0
*(
Tss
); \

46011 i‡(
skùxb
Ë
°d
::
	`f£ek
(
nfûe
,skùxb,
SEEK_CUR
); \

46012 
øw
.
	`assign
(
±rs
,Ñaw.
_width
); \

46013 
±rs
+=
img
.
_width
; \

46014 i‡(
ídün
Ë
cimg
::
	`övît_ídü¬ess
(
øw
.
_d©a
,øw.
_width
); \

46015 
cimg
::
	`fwrôe
(
øw
.
_d©a
,øw.
_width
,
nfûe
); \

46016 c⁄° 
skùxe
 = (
W
 - 1 - 
nx1
)*(
Tss
); \

46017 i‡(
skùxe
Ë
°d
::
	`f£ek
(
nfûe
,skùxe,
SEEK_CUR
); \

46019 c⁄° 
skùye
 = (
H
 - 1 - 
ny1
)*
W
*(
Tss
); \

46020 i‡(
skùye
Ë
°d
::
	`f£ek
(
nfûe
,skùye,
SEEK_CUR
); \

46022 c⁄° 
skùze
 = (
D
 - 1 - 
nz1
)*
W
*
H
*(
Tss
); \

46023 i‡(
skùze
Ë
°d
::
	`f£ek
(
nfûe
,skùze,
SEEK_CUR
); \

46025 c⁄° 
skùve
 = (
C
 - 1 - 
nc1
)*
W
*
H
*
D
*(
Tss
); \

46026 i‡(
skùve
Ë
°d
::
	`f£ek
(
nfûe
,skùve,
SEEK_CUR
); \

46030 
ßved
 = 
åue
; \

46031 }

	)

46033 i‡(!
	gfûe
 && !
	gfûíame
)

46034 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


46036 
cimgli°_ö°™˚
);

46037 i‡(
is_em±y
())

46038 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


46040 
cimgli°_ö°™˚
,

46041 
fûíame
?filename:"(FILE*)");

46043 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"rb+");

46044 
boﬁ
 
	gßved
 = 
Ál£
, 
	gídün
 = 
cimg
::
ídü¬ess
();

46045 
	gtmp
[256] = { 0 }, 
	g°r_pixñty≥
[256] = { 0 }, 
	g°r_ídün
[256] = { 0 };

46046 
	gj
, 
	gîr
, 
	gN
, 
	gW
, 
	gH
, 
	gD
, 
	gC
;

46047 
	gi
;

46048 
	gj
 = 0; (
	gi
=
°d
::
fgëc
(
nfûe
))!='\n' && 
i
!=
EOF
 && 
j
<256Ë
tmp
[j++] = ()i; 
	gtmp
[j] = 0;

46049 
	gîr
 = 
°d
::
ssˇnf
(
tmp
,"%u%*c%255[A-Za-z_]%*c%255[sA-Za-z_ ]",&
N
,
°r_pixñty≥
,
°r_ídün
);

46050 i‡(
	gîr
<2) {

46051 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

46052 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


46054 
cimgli°_ö°™˚
,

46055 
fûíame
?filename:"(FILE*)");

46057 i‡(!
	gcimg
::
°∫ˇ£cmp
("lôée",
°r_ídün
,6)Ë
	gídün
 = 
Ál£
;

46058 i‡(!
	gcimg
::
°∫ˇ£cmp
("big",
°r_ídün
,3)Ë
	gídün
 = 
åue
;

46059 c⁄° 
	glmax
 = 
cimg
::
mö
(
N
,
n0
+
_width
);

46060 
_cimg_ßve_cimg_ˇ£
("boﬁ",
boﬁ
);

46061 
_cimg_ßve_cimg_ˇ£
("unsigned_char",);

46062 
_cimg_ßve_cimg_ˇ£
("uchar",);

46063 
_cimg_ßve_cimg_ˇ£
("char",);

46064 
_cimg_ßve_cimg_ˇ£
("unsigned_short",);

46065 
_cimg_ßve_cimg_ˇ£
("ushort",);

46066 
_cimg_ßve_cimg_ˇ£
("short",);

46067 
_cimg_ßve_cimg_ˇ£
("unsigned_int",);

46068 
_cimg_ßve_cimg_ˇ£
("uint",);

46069 
_cimg_ßve_cimg_ˇ£
("int",);

46070 
_cimg_ßve_cimg_ˇ£
("unsigned_long",);

46071 
_cimg_ßve_cimg_ˇ£
("ulong",);

46072 
_cimg_ßve_cimg_ˇ£
("long",);

46073 
_cimg_ßve_cimg_ˇ£
("float",);

46074 
_cimg_ßve_cimg_ˇ£
("double",);

46075 i‡(!
	gßved
) {

46076 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

46077 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


46079 
cimgli°_ö°™˚
,

46080 
fûíame
?fûíame:"(FILE*)",
°r_pixñty≥
);

46082 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

46083  *
	gthis
;

46095 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_cimg
(c⁄° *c⁄° 
fûíame
,

46096 c⁄° 
n0
,

46097 c⁄° 
x0
, c⁄° 
y0
,

46098 c⁄° 
z0
, c⁄° 
c0
) const {

46099  
_ßve_cimg
(0,
fûíame
,
n0
,
x0
,
y0
,
z0
,
c0
);

46111 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_cimg
(
°d
::
FILE
 *c⁄° 
fûe
,

46112 c⁄° 
n0
,

46113 c⁄° 
x0
, c⁄° 
y0
,

46114 c⁄° 
z0
, c⁄° 
c0
) const {

46115  
_ßve_cimg
(
fûe
,0,
n0
,
x0
,
y0
,
z0
,
c0
);

46118 
_ßve_em±y_cimg
(
°d
::
FILE
 *c⁄° 
fûe
, c⁄° *c⁄° 
fûíame
,

46119 c⁄° 
nb
,

46120 c⁄° 
dx
, c⁄° 
dy
,

46121 c⁄° 
dz
, c⁄° 
dc
) {

46122 
	g°d
::
FILE
 *c⁄° 
nfûe
 = 
fûe
?fûe:
cimg
::
f›í
(
fûíame
,"wb");

46123 c⁄° 
	gsiz
 = ()
dx
*
dy
*
dz
*
dc
*(
T
);

46124 
	g°d
::
Ârötf
(
nfûe
,"%u %s\n",
nb
,
pixñ_ty≥
());

46125 
	gi
=
nb
; i; --i) {

46126 
	g°d
::
Ârötf
(
nfûe
,"%u %u %u %u\n",
dx
,
dy
,
dz
,
dc
);

46127 
	goff
=
siz
; off; --offË
	g°d
::
Âutc
(0,
nfûe
);

46129 i‡(!
	gfûe
Ë
	gcimg
::
f˛o£
(
nfûe
);

46141 
ßve_em±y_cimg
(c⁄° *c⁄° 
fûíame
,

46142 c⁄° 
nb
,

46143 c⁄° 
dx
, c⁄° 
dy
=1,

46144 c⁄° 
dz
=1, c⁄° 
dc
=1) {

46145  
_ßve_em±y_cimg
(0,
fûíame
,
nb
,
dx
,
dy
,
dz
,
dc
);

46157 
ßve_em±y_cimg
(
°d
::
FILE
 *c⁄° 
fûe
,

46158 c⁄° 
nb
,

46159 c⁄° 
dx
, c⁄° 
dy
=1,

46160 c⁄° 
dz
=1, c⁄° 
dc
=1) {

46161  
_ßve_em±y_cimg
(
fûe
,0,
nb
,
dx
,
dy
,
dz
,
dc
);

46169 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_tiff
(c⁄° *c⁄° 
fûíame
, c⁄° 
com¥essi⁄_ty≥
=0) const {

46170 i‡(!
fûíame
)

46171 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


46173 
cimgli°_ö°™˚
);

46174 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

46176 #i‚de‡
cimg_u£_tiff


46177 i‡(
	g_width
==1Ë
_d©a
[0].
ßve_tiff
(
fûíame
,
com¥essi⁄_ty≥
);

46178 
cimgli°_f‹
(*
this
,
l
) {

46179 
	gnfûíame
[1024] = { 0 };

46180 
	gcimg
::
numbî_fûíame
(
fûíame
,
l
,6,
nfûíame
);

46181 
	g_d©a
[
l
].
ßve_tiff
(
nfûíame
,
com¥essi⁄_ty≥
);

46184 
TIFF
 *
	gtif
 = 
TIFFO≥n
(
fûíame
,"w");

46185 i‡(
	gtif
) {

46186 
	gdú
 = 0, 
	gl
 = 0;Ü<
	g_width
; ++l) {

46187 c⁄° 
	gCImg
<
	gT
>& 
	gimg
 = (*
this
)[
l
];

46188 i‡(
	gimg
) {

46189 i‡(
	gimg
.
	g_dïth
==1Ë
img
.
_ßve_tiff
(
tif
,
dú
++,
com¥essi⁄_ty≥
);

46190 
cimg_f‹Z
(
img
,
z
Ë
	gimg
.
gë_¶i˚
(z).
_ßve_tiff
(
tif
,
dú
++,
com¥essi⁄_ty≥
);

46193 
TIFFClo£
(
tif
);

46195 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


46197 
cimgli°_ö°™˚
,

46198 
fûíame
);

46200  *
	gthis
;

46208 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_gzù_exã∫Æ
(c⁄° *c⁄° 
fûíame
) const {

46209 i‡(!
	gfûíame
)

46210 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


46212 
cimgli°_ö°™˚
);

46214 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gbody
[512] = { 0 };

46216 *
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
,
body
),

46217 *
	gext2
 = 
cimg
::
•lô_fûíame
(
body
,0);

46218 
	g°d
::
FILE
 *
fûe
;

46220 i‡(!
	gcimg
::
°rˇ£cmp
(
ext
,"gz")) {

46221 i‡(*
	gext2
Ë
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext2
);

46222 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.cimg",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

46224 i‡(*
	gext
Ë
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
(),
ext
);

46225 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s.cimg",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

46227 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

46228 } 
	gfûe
);

46230 i‡(
is_ßvóbÀ
(
body
)) {

46231 
ßve
(
fûëmp
);

46232 
cimg_¢¥ötf
(
comm™d
,(command),"%s -c \"%s\" > \"%s\"",

46233 
cimg
::
gzù_∑th
(),

46234 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
(),

46235 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

46236 
	gcimg
::
sy°em
(
comm™d
);

46237 
	gfûe
 = 
°d
::
f›í
(
fûíame
,"rb");

46238 i‡(!
	gfûe
)

46239 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


46241 
cimgli°_ö°™˚
,

46242 
fûíame
);

46243 
	gcimg
::
f˛o£
(
fûe
);

46244 
	g°d
::
ªmove
(
fûëmp
);

46246 
	gnfûíame
[1024] = { 0 };

46247 
cimgli°_f‹
(*
this
,
l
) {

46248 
	gcimg
::
numbî_fûíame
(
body
,
l
,6,
nfûíame
);

46249 i‡(*
	gext
Ë
	g°d
::
•rötf
(
nfûíame
 + 
°d
::
°æí
“fûíame),".%s",
ext
);

46250 
	g_d©a
[
l
].
ßve_gzù_exã∫Æ
(
nfûíame
);

46253  *
	gthis
;

46263 c⁄° 
	gCImgLi°
<
	gT
>& 
ßve_ffm≥g_exã∫Æ
(c⁄° *c⁄° 
fûíame
, c⁄° *c⁄° 
codec
=0,

46264 c⁄° 
Âs
=25, c⁄° 
bôøã
=2048) const {

46265 i‡(!
fûíame
)

46266 
throw
 
CImgArgumítEx˚±i⁄
(
_cimgli°_ö°™˚


46268 
cimgli°_ö°™˚
);

46269 i‡(
is_em±y
()Ë{ 
	gcimg
::
„m±y
(0,
fûíame
);  *
	gthis
; }

46272 *c⁄° 
	gext
 = 
cimg
::
•lô_fûíame
(
fûíame
),

46273 *c⁄° 
	g_codec
 = 
codec
?codec:!
cimg
::
°rˇ£cmp
(
ext
,"flv")?"flv":"mpeg2video";

46275 
	gcomm™d
[1024] = { 0 }, 
	gfûëmp
[512] = { 0 }, 
	gfûëmp2
[512] = { 0 };

46276 
	gCImgLi°
<
	gch¨T
> 
	gfûíames
;

46277 
	g°d
::
FILE
 *
fûe
 = 0;

46278 
cimgli°_f‹
(*
this
,
l
Ëi‡(!
	g_d©a
[l].
is_ßmeXYZ
(
_d©a
[0]))

46279 
throw
 
CImgIn°™˚Ex˚±i⁄
(
_cimgli°_ö°™˚


46281 
cimgli°_ö°™˚
,

46282 
fûíame
);

46284 
cimg_¢¥ötf
(
fûëmp
,(fûëmp),"%s%c%s",
cimg
::
ãmp‹¨y_∑th
(),
cimg_fûe_£∑øt‹
,cimg::
fûíamî™d
());

46285 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s_000001.µm",
fûëmp
);

46286 i‡((
	gfûe
=
°d
::
f›í
(
fûëmp2
,"rb"))!=0Ë
cimg
::
f˛o£
(
fûe
);

46287 } 
	gfûe
);

46288 
cimgli°_f‹
(*
this
,
l
) {

46289 
cimg_¢¥ötf
(
fûëmp2
,(fûëmp2),"%s_%.6u.µm",
fûëmp
,
l
+1);

46290 
	gCImg
<
	gch¨T
>::
°rög
(
fûëmp2
).
move_to
(
fûíames
);

46291 i‡(
	g_d©a
[
l
].
	g_dïth
>1 || _d©a[l].
	g_•e˘rum
!=3Ë
_d©a
[l].
gë_ªsize
(-100,-100,1,3).
ßve_≤m
(
fûëmp2
);

46292 
	g_d©a
[
l
].
ßve_≤m
(
fûëmp2
);

46294 #i‡
cimg_OS
!=2

46295 
cimg_¢¥ötf
(
comm™d
,(command),"%s -i \"%s_%%6d.ppm\" -vcodec %s -b %uk -r %u -y \"%s\" >/dev/null 2>&1",

46296 
cimg
::
ffm≥g_∑th
(),

46297 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
(),

46298 
_codec
,
bôøã
,
Âs
,

46299 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

46301 
cimg_¢¥ötf
(
comm™d
,(command),"\"%s -i \"%s_%%6d.ppm\" -vcodec %s -b %uk -r %u -y \"%s\"\" >NUL 2>&1",

46302 
cimg
::
ffm≥g_∑th
(),

46303 
CImg
<
ch¨T
>::
°rög
(
fûëmp
).
_sy°em_°ªsˇ≥
().
d©a
(),

46304 
_codec
,
bôøã
,
Âs
,

46305 
CImg
<
ch¨T
>::
°rög
(
fûíame
).
_sy°em_°ªsˇ≥
().
d©a
());

46307 
	gcimg
::
sy°em
(
comm™d
);

46308 
	gfûe
 = 
°d
::
f›í
(
fûíame
,"rb");

46309 i‡(!
	gfûe
)

46310 
throw
 
CImgIOEx˚±i⁄
(
_cimgli°_ö°™˚


46312 
cimgli°_ö°™˚
,

46313 
fûíame
);

46314 
	gcimg
::
f˛o£
(
fûe
);

46315 
cimgli°_f‹
(*
this
,
l
Ë
	g°d
::
ªmove
(
fûíames
[l]);

46316  *
	gthis
;

46329 
	gCImgLi°
<
	gT
>& 
¸›_f⁄t
() {

46330  
gë_¸›_f⁄t
().
move_to
(*
this
);

46336 
	gCImgLi°
<
	gT
> 
gë_¸›_f⁄t
() const {

46337 
	gCImgLi°
<
	gT
> 
	gªs
;

46338 
cimgli°_f‹
(*
this
,
l
) {

46339 c⁄° 
	gCImg
<
	gT
>& 
	gÀâî
 = (*
this
)[
l
];

46340 
	gxmö
 = 
Àâî
.
_width
, 
	gxmax
 = 0;

46341 
cimg_f‹XY
(
Àâî
,
x
,
y
Ëi‡÷ëãr(x,y)Ë{ i‡(
	gx
<
	gxmö
Ëxmö = x; i‡(x>
	gxmax
) xmax = x; }

46342 i‡(
	gxmö
>
	gxmax
Ë
	gCImg
<
	gT
>(
	gÀâî
.
	g_width
,Àâî.
	g_height
,1,Àâî.
	g_•e˘rum
,0).
move_to
(
ªs
);

46343 
	gÀâî
.
gë_¸›
(
xmö
,0,
xmax
,
Àâî
.
_height
-1).
move_to
(
ªs
);

46345 
	gªs
[' '].
ªsize
(
ªs
['f'].
_width
,-100,-100,-100,0);

46346 i‡(' '+256<
	gªs
.
size
()Ëªs[' '+256].
ªsize
(
ªs
['f'].
_width
,-100,-100,-100,0);

46347  
	gªs
;

46356 c⁄° 
	gCImgLi°
<
	gT
>& 
f⁄t
(c⁄° 
f⁄t_height
, c⁄° 
boﬁ
 
is_v¨übÀ_width
=
åue
) {

46358 
	#_cimg_f⁄t
(
sx
,
sy
) \

46359 i‡(!
is_v¨übÀ_width
 && (!
f⁄t
 || f⁄t[0].
_height
!=
sy
)Ë
cimg
::
	`muãx
(11); f⁄à
	`_f⁄t
(cimg::f⁄t##
sx
##
x
##sy,sx,sy,
Ál£
); cimg::mutex(11,0); \

46360 i‡(
is_v¨übÀ_width
 && (!
vf⁄t
 || vf⁄t[0].
_height
!=
sy
)Ë
cimg
::
	`muãx
(11); vf⁄à
	`_f⁄t
(cimg::
f⁄t
##
sx
##
x
##sy,sx,sy,
åue
); cimg::mutex(11,0); \

46361 i‡(
f⁄t_height
==
sy
Ë 
is_v¨übÀ_width
?
vf⁄t
:
f⁄t
; \

46362 i‡(
is_v¨übÀ_width
) { \

46363 i‡(
cvf⁄t
 && 
f⁄t_height
==cvf⁄t[0].
_height
)  cvfont; \

46364 
cimg
::
	`muãx
(11); 
cvf⁄t
 = 
vf⁄t
; \

46365 
	`cimgli°_f‹
(
cvf⁄t
,
l
) \

46366 
cvf⁄t
[
l
].
	`ªsize
(
cimg
::
	`max
(1U,cvf⁄t[l].
_width
*
f⁄t_height
/cvf⁄t[l].
_height
),font_height,-100,-100, \

46367 
cvf⁄t
[0].
_height
>
f⁄t_height
?2:5); \

46368 
cimg
::
	`muãx
(11,0);  
cvf⁄t
; \

46370 i‡(
cf⁄t
 && 
f⁄t_height
==cf⁄t[0].
_height
)  cfont; \

46371 
cimg
::
	`muãx
(11); 
cf⁄t
 = 
f⁄t
; \

46372 
	`cimgli°_f‹
(
cf⁄t
,
l
) \

46373 
cf⁄t
[
l
].
	`ªsize
(
cimg
::
	`max
(1U,cf⁄t[l].
_width
*
f⁄t_height
/cf⁄t[l].
_height
),font_height,-100,-100, \

46374 
cf⁄t
[0].
_height
>
f⁄t_height
?2:5); \

46375 
cimg
::
	`muãx
(11,0);  
cf⁄t
; \

46377 

	)

46378 
	gCImgLi°
<
	gT
> 
	gf⁄t
, 
	gvf⁄t
, 
	gcf⁄t
, 
	gcvf⁄t
;

46379 i‡(!
	gf⁄t_height
Ë 
	gCImgLi°
<
	gT
>::
em±y
();

46380 i‡(
	gf⁄t_height
<=13Ë{ 
_cimg_f⁄t
(10,13); }

46381 i‡(
	gf⁄t_height
<=28Ë{ 
_cimg_f⁄t
(12,24); }

46382 i‡(
	gf⁄t_height
<=32Ë{ 
_cimg_f⁄t
(16,32); }

46383 
_cimg_f⁄t
(29,57);

46386 
	gCImgLi°
<
	gT
> 
_f⁄t
(c⁄° *c⁄° 
f⁄t
, c⁄° 
w
, c⁄° 
h
, c⁄° 
boﬁ
 
is_v¨übÀ_width
) {

46387 
	gCImgLi°
<
	gT
> 
ªs
(256,
w
,
h
,1,1);

46388 c⁄° *
	g±r
 = 
f⁄t
;

46389 
	gm
 = 0, 
	gvÆ
 = 0;

46390 
	gy
 = 0; y<
	gh
; ++y)

46391 
	gx
 = 0; x<256*
	gw
; ++x) {

46392 
	gm
>>=1; i‡(!mË{ m = 0x80000000; 
	gvÆ
 = *(
±r
++); }

46393 
	gCImg
<
	gT
>& 
	gimg
 = 
ªs
[
x
/
w
];

46394 
	gxm
 = 
x
%
w
;

46395 
img
(
xm
,
y
Ë(
T
)((
vÆ
&
m
)?1:0);

46397 i‡(
	gis_v¨übÀ_width
Ë
	gªs
.
¸›_f⁄t
();

46398  
	gªs
.
ö£π
(
ªs
);

46406 
	gCImgLi°
<
	gT
>& 
FFT
(c⁄° 
axis
, c⁄° 
boﬁ
 
övît
=
Ál£
) {

46407 i‡(
is_em±y
()Ë *
this
;

46408 i‡(
	g_width
==1Ë
ö£π
(1);

46409 i‡(
	g_width
>2)

46410 
	gcimg
::
w¨n
(
_cimgli°_ö°™˚


46412 
cimgli°_ö°™˚
);

46414 
	gCImg
<
	gT
>::
FFT
(
_d©a
[0],_d©a[1],
axis
,
övît
);

46415  *
	gthis
;

46419 
	gCImgLi°
<
	gTÊﬂt
> 
gë_FFT
(c⁄° 
axis
, c⁄° 
boﬁ
 
övît
=
Ál£
) const {

46420  
CImgLi°
<
TÊﬂt
>(*
this
,
Ál£
).
FFT
(
axis
,
övît
);

46427 
	gCImgLi°
<
	gT
>& 
FFT
(c⁄° 
boﬁ
 
övît
=
Ál£
) {

46428 i‡(
is_em±y
()Ë *
this
;

46429 i‡(
	g_width
==1Ë
ö£π
(1);

46430 i‡(
	g_width
>2)

46431 
	gcimg
::
w¨n
(
_cimgli°_ö°™˚


46433 
cimgli°_ö°™˚
);

46435 
	gCImg
<
	gT
>::
FFT
(
_d©a
[0],_d©a[1],
övît
);

46436  *
	gthis
;

46440 
	gCImgLi°
<
	gTÊﬂt
> 
gë_FFT
(c⁄° 
boﬁ
 
övît
=
Ál£
) const {

46441  
CImgLi°
<
TÊﬂt
>(*
this
,
Ál£
).
FFT
(
övît
);

46447 
	gCImgLi°
<
	gT
>& 
ªvî£_obje˘3d
() {

46448 
cimgli°_f‹
(*
this
,
l
) {

46449 
	gCImg
<
	gT
>& 
	gp
 = 
_d©a
[
l
];

46450 
	gp
.
size
()) {

46451 2: 3: 
cimg
::
sw≠
(
p
[0],p[1]); ;

46452 6: 
cimg
::
sw≠
(
p
[0],p[1],p[2],p[4],p[3],p[5]); ;

46453 9: 
cimg
::
sw≠
(
p
[0],p[1],p[3],p[5],p[4],p[6]); ;

46454 4: 
cimg
::
sw≠
(
p
[0],p[1],p[2],p[3]); ;

46455 12: 
cimg
::
sw≠
(
p
[0],p[1],p[2],p[3],p[4],p[6],p[5],p[7],p[8],p[10],p[9],p[11]); ;

46458  *
	gthis
;

46462 
	gCImgLi°
<
	gT
> 
gë_ªvî£_obje˘3d
() const {

46463  (+*
	gthis
).
ªvî£_obje˘3d
();

46477 
«me•a˚
 
	gcimg
 {

46480 
ölöe
 
ti˘oc
(c⁄° 
boﬁ
 
is_tic
) {

46481 
	gcimg
::
muãx
(2);

46482 
	gCImg
<> 
times
(64);

46483 
	gpos
 = 0;

46484 c⁄° 
	gt1
 = 
cimg
::
time
();

46485 i‡(
	gis_tic
) {

46486 
	gtimes
[
pos
++] = 
t1
;

46487 i‡(
	gpos
>=
times
.
_width
)

46488 
throw
 
CImgArgumítEx˚±i⁄
("cimg::tic(): Too much callsÅo 'cimg::tic()' without callsÅo 'cimg::toc()'.");

46489 
	gcimg
::
muãx
(2,0);

46490  
	gt1
;

46493 i‡(!
	gpos
)

46494 
throw
 
CImgArgumítEx˚±i⁄
("cimg::toc(): NoÖrevious callÅo 'cimg::tic()' has been made.");

46496 
	gt0
 = 
times
[--
pos
],

46497 
	gdt
 = 
t1
>=
t0
?—1-t0):
cimg
::
ty≥
<>::
max
();

46499 
	gedays
 = ()(
dt
/86400000.0),

46500 
	gehours
 = ()((
dt
 - 
edays
*86400000.0)/3600000.0),

46501 
	gemö
 = ()((
dt
 - 
edays
*86400000.0 - 
ehours
*3600000.0)/60000.0),

46502 
	ge£c
 = ()((
dt
 - 
edays
*86400000.0 - 
ehours
*3600000.0 - 
emö
*60000.0)/1000.0),

46503 
	gems
 = ()(
dt
 - 
edays
*86400000.0 - 
ehours
*3600000.0 - 
emö
*60000.0 - 
e£c
*1000.0);

46504 i‡(!
	gedays
 && !
	gehours
 && !
	gemö
 && !
	ge£c
)

46505 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s[CImg]%*sEœp£dÅime: %u ms%s\n",cimg::
t_ªd
,1+2*
pos
,"",
ems
,cimg::
t_n‹mÆ
);

46507 i‡(!
	gedays
 && !
	gehours
 && !
	gemö
)

46508 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s[CImg]%*sEœp£dÅime: %u se¯%u ms%s\n",cimg::
t_ªd
,1+2*
pos
,"",
e£c
,
ems
,cimg::
t_n‹mÆ
);

46510 i‡(!
	gedays
 && !
	gehours
)

46511 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s[CImg]%*sEœp£dÅime: %u mö %u se¯%u ms%s\n",cimg::
t_ªd
,1+2*
pos
,"",
emö
,
e£c
,
ems
,cimg::
t_n‹mÆ
);

46513 i‡(!
	gedays
)

46514 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s[CImg]%*sEœp£dÅime: %u hour†%u mö %u se¯%u ms%s\n",cimg::
t_ªd
,1+2*
pos
,"",
ehours
,
emö
,
e£c
,
ems
,cimg::
t_n‹mÆ
);

46516 
	g°d
::
Ârötf
(
cimg
::
ouçut
(),"%s[CImg]%*sEœp£dÅime: %u day†%u hour†%u mö %u se¯%u ms%s\n",cimg::
t_ªd
,1+2*
pos
,"",
edays
,
ehours
,
emö
,
e£c
,
ems
,cimg::
t_n‹mÆ
);

46521 
	gcimg
::
muãx
(2,0);

46522  
	gdt
;

46543 
	gãm∂©e
<
ty≥«me
 
	gt
>

46544 
ölöe
 
dülog
(c⁄° *c⁄° 
tôÀ
, c⁄° *c⁄° 
msg
,

46545 c⁄° *c⁄° 
buâ⁄1_œbñ
, c⁄° *c⁄° 
buâ⁄2_œbñ
,

46546 c⁄° *c⁄° 
buâ⁄3_œbñ
, c⁄° *c⁄° 
buâ⁄4_œbñ
,

46547 c⁄° *c⁄° 
buâ⁄5_œbñ
, c⁄° *c⁄° 
buâ⁄6_œbñ
,

46548 c⁄° 
CImg
<
t
>& 
logo
, c⁄° 
boﬁ
 
is_˚¡îed
 = 
Ál£
) {

46549 #i‡
cimg_di•œy
==0

46550 
cimg
::
unu£d
(
tôÀ
,
msg
,
buâ⁄1_œbñ
,
buâ⁄2_œbñ
,
buâ⁄3_œbñ
,
buâ⁄4_œbñ
,
buâ⁄5_œbñ
,
buâ⁄6_œbñ
,
logo
.
_d©a
,
is_˚¡îed
);

46551 
throw
 
CImgIOEx˚±i⁄
("cimg::dialog(): No displayávailable.");

46554 
	gbœck
[] = { 0,0,0 }, 
	gwhôe
[] = { 255,255,255 }, 
	ggøy
[] = { 200,200,200 }, 
	ggøy2
[] = { 150,150,150 };

46557 
	gCImgLi°
<> 
	gbuâ⁄s
, 
	gcbuâ⁄s
, 
	gsbuâ⁄s
;

46558 i‡(
	gbuâ⁄1_œbñ
Ë{ 
	gCImg
<>().
døw_ãxt
(0,0,
buâ⁄1_œbñ
,
bœck
,
gøy
,1,13).
move_to
(
buâ⁄s
);

46559 i‡(
	gbuâ⁄2_œbñ
Ë{ 
	gCImg
<>().
døw_ãxt
(0,0,
buâ⁄2_œbñ
,
bœck
,
gøy
,1,13).
move_to
(
buâ⁄s
);

46560 i‡(
	gbuâ⁄3_œbñ
Ë{ 
	gCImg
<>().
døw_ãxt
(0,0,
buâ⁄3_œbñ
,
bœck
,
gøy
,1,13).
move_to
(
buâ⁄s
);

46561 i‡(
	gbuâ⁄4_œbñ
Ë{ 
	gCImg
<>().
døw_ãxt
(0,0,
buâ⁄4_œbñ
,
bœck
,
gøy
,1,13).
move_to
(
buâ⁄s
);

46562 i‡(
	gbuâ⁄5_œbñ
Ë{ 
	gCImg
<>().
døw_ãxt
(0,0,
buâ⁄5_œbñ
,
bœck
,
gøy
,1,13).
move_to
(
buâ⁄s
);

46563 i‡(
	gbuâ⁄6_œbñ
Ë{ 
	gCImg
<>().
døw_ãxt
(0,0,
buâ⁄6_œbñ
,
bœck
,
gøy
,1,13).
move_to
(
buâ⁄s
);

46565 i‡(!
	gbuâ⁄s
.
	g_width
)

46566 
throw
 
CImgArgumítEx˚±i⁄
("cimg::dialog(): No buttons have been defined.");

46567 
cimgli°_f‹
(
buâ⁄s
,
l
Ë
	gbuâ⁄s
[l].
ªsize
(-100,-100,1,3);

46569 
	gbw
 = 0, 
	gbh
 = 0;

46570 
cimgli°_f‹
(
buâ⁄s
,
l
Ë{ 
	gbw
 = 
cimg
::
max
(
bw
,buâ⁄s[l].
_width
); 
	gbh
 = cimg::max(
bh
,buâ⁄s[l].
_height
); }

46571 
	gbw
+=8; 
	gbh
+=8;

46572 i‡(
	gbw
<64) bw = 64;

46573 i‡(
	gbw
>128) bw = 128;

46574 i‡(
	gbh
<24) bh = 24;

46575 i‡(
	gbh
>48) bh = 48;

46577 
	gCImg
<> 
buâ⁄
(
bw
,
bh
,1,3);

46578 
	gbuâ⁄
.
døw_ª˘™gÀ
(0,0,
bw
-1,
bh
-1,
gøy
);

46579 
	gbuâ⁄
.
døw_löe
(0,0,
bw
-1,0,
whôe
).døw_löe(0,
bh
-1,0,0,white);

46580 
	gbuâ⁄
.
døw_löe
(
bw
-1,0,bw-1,
bh
-1,
bœck
).draw_line(bw-1,bh-1,0,bh-1,black);

46581 
	gbuâ⁄
.
døw_löe
(1,
bh
-2,
bw
-2,bh-2,
gøy2
).draw_line(bw-2,bh-2,bw-2,1,gray2);

46582 
	gCImg
<> 
sbuâ⁄
(
bw
,
bh
,1,3);

46583 
	gsbuâ⁄
.
døw_ª˘™gÀ
(0,0,
bw
-1,
bh
-1,
gøy
);

46584 
	gsbuâ⁄
.
døw_löe
(0,0,
bw
-1,0,
bœck
).døw_löe(bw-1,0,bw-1,
bh
-1,black);

46585 
	gsbuâ⁄
.
døw_löe
(
bw
-1,
bh
-1,0,bh-1,
bœck
).draw_line(0,bh-1,0,0,black);

46586 
	gsbuâ⁄
.
døw_löe
(1,1,
bw
-2,1,
whôe
).døw_löe(1,
bh
-2,1,1,white);

46587 
	gsbuâ⁄
.
døw_löe
(
bw
-2,1,bw-2,
bh
-2,
bœck
).draw_line(bw-2,bh-2,1,bh-2,black);

46588 
	gsbuâ⁄
.
døw_löe
(2,
bh
-3,
bw
-3,bh-3,
gøy2
).draw_line(bw-3,bh-3,bw-3,2,gray2);

46589 
	gsbuâ⁄
.
døw_löe
(4,4,
bw
-5,4,
bœck
,1,0xAAAAAAAA,
åue
).døw_löe(bw-5,4,bw-5,
bh
-5,bœck,1,0xAAAAAAAA,
Ál£
);

46590 
	gsbuâ⁄
.
døw_löe
(
bw
-5,
bh
-5,4,bh-5,
bœck
,1,0xAAAAAAAA,
Ál£
).draw_line(4,bh-5,4,4,black,1,0xAAAAAAAA,false);

46591 
	gCImg
<> 
cbuâ⁄
(
bw
,
bh
,1,3);

46592 
	gcbuâ⁄
.
døw_ª˘™gÀ
(0,0,
bw
-1,
bh
-1,
bœck
).døw_ª˘™gÀ(1,1,bw-2,bh-2,
gøy2
).døw_ª˘™gÀ(2,2,bw-3,bh-3,
gøy
);

46593 
	gcbuâ⁄
.
døw_löe
(4,4,
bw
-5,4,
bœck
,1,0xAAAAAAAA,
åue
).døw_löe(bw-5,4,bw-5,
bh
-5,bœck,1,0xAAAAAAAA,
Ál£
);

46594 
	gcbuâ⁄
.
døw_löe
(
bw
-5,
bh
-5,4,bh-5,
bœck
,1,0xAAAAAAAA,
Ál£
).draw_line(4,bh-5,4,4,black,1,0xAAAAAAAA,false);

46596 
cimgli°_f‹
(
buâ⁄s
,
Œ
) {

46597 
	gCImg
<>(
	gcbuâ⁄
).
døw_image
(1+(
bw
-
buâ⁄s
[
Œ
].
width
())/2,1+(
bh
-buâ⁄s[Œ].
height
())/2,buttons[ll]).

46598 
move_to
(
cbuâ⁄s
);

46599 
	gCImg
<>(
	gsbuâ⁄
).
døw_image
((
bw
-
buâ⁄s
[
Œ
].
width
())/2,(
bh
-buâ⁄s[Œ].
height
())/2,buttons[ll]).

46600 
move_to
(
sbuâ⁄s
);

46601 
	gCImg
<>(
	gbuâ⁄
).
døw_image
((
bw
-
buâ⁄s
[
Œ
].
width
())/2,(
bh
-buâ⁄s[Œ].
height
())/2,buttons[ll]).

46602 
move_to
(
buâ⁄s
[
Œ
]);

46605 
	gCImg
<> 
	gˇnvas
;

46606 i‡(
	gmsg
Ë
	gCImg
<>().
døw_ãxt
(0,0,"%s",
bœck
,
gøy
,1,13,
msg
).
ªsize
(-100,-100,1,3).
move_to
(
ˇnvas
);

46608 
	gbwÆl
 = (
buâ⁄s
.
_width
-1)*(12+
bw
) + bw,

46609 
	gw
 = 
cimg
::
max
(196U,36+
logo
.
_width
+
ˇnvas
._width,24+
bwÆl
),

46610 
	gh
 = 
cimg
::
max
(96U,36+
ˇnvas
.
_height
+
bh
,36+
logo
._height+bh),

46611 
	glx
 = 12 + (
ˇnvas
.
_d©a
?0:((
w
-24-
logo
.
_width
)/2)),

46612 
	gly
 = (
h
-12-
bh
-
logo
.
_height
)/2,

46613 
	gtx
 = 
lx
+
logo
.
_width
+12,

46614 
	gty
 = (
h
-12-
bh
-
ˇnvas
.
_height
)/2,

46615 
	gbx
 = (
w
-
bwÆl
)/2,

46616 
	gby
 = 
h
-12-
bh
;

46618 i‡(
	gˇnvas
.
	g_d©a
)

46619 
	gˇnvas
 = 
CImg
<>(
w
,
	gh
,1,3).

46620 
døw_ª˘™gÀ
(0,0,
w
-1,
h
-1,
gøy
).

46621 
døw_löe
(0,0,
w
-1,0,
whôe
).døw_löe(0,
h
-1,0,0,white).

46622 
døw_löe
(
w
-1,0,w-1,
h
-1,
bœck
).draw_line(w-1,h-1,0,h-1,black).

46623 
døw_image
(
tx
,
ty
,
ˇnvas
);

46625 
	gˇnvas
 = 
CImg
<>(
w
,
	gh
,1,3).

46626 
døw_ª˘™gÀ
(0,0,
w
-1,
h
-1,
gøy
).

46627 
døw_löe
(0,0,
w
-1,0,
whôe
).døw_löe(0,
h
-1,0,0,white).

46628 
døw_löe
(
w
-1,0,w-1,
h
-1,
bœck
).draw_line(w-1,h-1,0,h-1,black);

46629 i‡(
	glogo
.
	g_d©a
Ë
	gˇnvas
.
døw_image
(
lx
,
ly
,
logo
);

46631 
	gxbuâ⁄s
[6] = { 0 };

46632 
cimgli°_f‹
(
buâ⁄s
,
Œl
Ë{ 
	gxbuâ⁄s
[Œl] = 
bx
+(
bw
+12)*Œl; 
	gˇnvas
.
døw_image
(
xbuâ⁄s
[Œl],
by
,buttons[lll]); }

46635 
CImgDi•œy
 
di•
(
ˇnvas
,
tôÀ
?tôÀ:" ",0,
Ál£
,
is_˚¡îed
?
åue
:false);

46636 i‡(
	gis_˚¡îed
Ë
	gdi•
.
move
((
CImgDi•œy
::
s¸ìn_width
(Ë- 
di•
.
width
())/2,

46637 (
CImgDi•œy
::
s¸ìn_height
(Ë- 
di•
.
height
())/2);

46638 
boﬁ
 
	g°›_Êag
 = 
Ál£
, 
	gª‰esh
 = false;

46639 
	go£À˘ed
 = -1, 
	go˛icked
 = -1, 
	g£À˘ed
 = -1, 
	g˛icked
 = -1;

46640 !
	gdi•
.
is_˛o£d
(Ë&& !
	g°›_Êag
) {

46641 i‡(
	gª‰esh
) {

46642 i‡(
	g˛icked
>=0Ë
CImg
<>(
ˇnvas
).
døw_image
(
xbuâ⁄s
[
˛icked
],
by
,
cbuâ⁄s
[˛icked]).
di•œy
(
di•
);

46644 i‡(
	g£À˘ed
>=0Ë
CImg
<>(
ˇnvas
).
døw_image
(
xbuâ⁄s
[
£À˘ed
],
by
,
sbuâ⁄s
[£À˘ed]).
di•œy
(
di•
);

46645 
	gˇnvas
.
di•œy
(
di•
);

46647 
	gª‰esh
 = 
Ál£
;

46649 
	gdi•
.
waô
(15);

46650 i‡(
	gdi•
.
is_ªsized
()Ëdi•.
ªsize
(
di•
,
Ál£
);

46652 i‡(
	gdi•
.
buâ⁄
()&1) {

46653 
	go˛icked
 = 
˛icked
;

46654 
	g˛icked
 = -1;

46655 
cimgli°_f‹
(
buâ⁄s
,
l
)

46656 i‡(
	gdi•
.
mou£_y
()>=()
by
 && 
di•
.mou£_y()<()(by+
bh
) &&

46657 
di•
.
mou£_x
()>=()
xbuâ⁄s
[
l
] && di•.mou£_x()<()(xbuâ⁄s[l]+
bw
)) {

46658 
˛icked
 = 
£À˘ed
 = 
l
;

46659 
	gª‰esh
 = 
åue
;

46661 i‡(
	g˛icked
!=
o˛icked
Ë
ª‰esh
 = 
åue
;

46662 } i‡(
	g˛icked
>=0Ë
°›_Êag
 = 
åue
;

46664 i‡(
	gdi•
.
key
()) {

46665 
	go£À˘ed
 = 
£À˘ed
;

46666 
	gdi•
.
key
()) {

46667 
	gcimg
::
keyESC
 : 
£À˘ed
=-1; 
	g°›_Êag
 = 
åue
; ;

46668 
	gcimg
::
keyENTER
 : i‡(
£À˘ed
<0Ë£À˘ed = 0; 
	g°›_Êag
 = 
åue
; ;

46669 
	gcimg
::
keyTAB
 :

46670 
cimg
::
keyARROWRIGHT
 :

46671 
cimg
::
keyARROWDOWN
 : 
£À˘ed
 = (£À˘ed+1)%
buâ⁄s
.
_width
; ;

46672 
	gcimg
::
keyARROWLEFT
 :

46673 
cimg
::
keyARROWUP
 : 
£À˘ed
 = (£À˘ed+
buâ⁄s
.
_width
-1)%buttons._width; ;

46675 
	gdi•
.
£t_key
();

46676 i‡(
	g£À˘ed
!=
o£À˘ed
Ë
ª‰esh
 = 
åue
;

46679 i‡(!
	gdi•
Ë
	g£À˘ed
 = -1;

46680  
	g£À˘ed
;

46685 
ölöe
 
dülog
(c⁄° *c⁄° 
tôÀ
, c⁄° *c⁄° 
msg
,

46686 c⁄° *c⁄° 
buâ⁄1_œbñ
, c⁄° *c⁄° 
buâ⁄2_œbñ
, c⁄° *c⁄° 
buâ⁄3_œbñ
,

46687 c⁄° *c⁄° 
buâ⁄4_œbñ
, c⁄° *c⁄° 
buâ⁄5_œbñ
, c⁄° *c⁄° 
buâ⁄6_œbñ
,

46688 c⁄° 
boﬁ
 
is_˚¡îed
) {

46689  
dülog
(
tôÀ
,
msg
,
buâ⁄1_œbñ
,
buâ⁄2_œbñ
,
buâ⁄3_œbñ
,
buâ⁄4_œbñ
,
buâ⁄5_œbñ
,
buâ⁄6_œbñ
,

46690 
CImg
<>::
_logo40x38
(),
is_˚¡îed
);

46709 
ölöe
 
evÆ
(c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
x
, c⁄° 
y
, c⁄° 
z
, c⁄° 
c
) {

46710 c⁄° 
	gCImg
<> 
	gem±y
;

46711  
	gem±y
.
evÆ
(
ex¥essi⁄
,
x
,
y
,
z
,
c
);

46714 
	gãm∂©e
<
ty≥«me
 
	gt
>

46715 
ölöe
 
	gCImg
<
ty≥«me
 
	gcimg
::
su≥r£t
<,
	gt
>::
ty≥
> 
evÆ
(c⁄° *c⁄° 
ex¥essi⁄
, c⁄° 
CImg
<
t
>& 
xyzc
) {

46716 c⁄° 
	gCImg
<> 
	gem±y
;

46717  
	gem±y
.
evÆ
(
ex¥essi⁄
,
xyzc
);

46727 
«me•a˚
 
	gcû
 = 
cimg_libøry_suffixed
;

46729 #ifde‡
_cimg_ªdeföe_FÆ£


46730 
	#FÆ£
 0

	)

46732 #ifde‡
_cimg_ªdeföe_True


46733 
	#True
 1

	)

46735 #ifde‡
_cimg_ªdeföe_N⁄e


46736 
	#N⁄e
 0

	)

46738 #ifde‡
_cimg_ªdeföe_mö


46739 
	#mö
(
a
,
b
Ë((◊)<(b))?◊):(b))

	)

46741 #ifde‡
_cimg_ªdeföe_max


46742 
	#max
(
a
,
b
Ë((◊)>(b))?◊):(b))

	)

46744 #ifde‡
_cimg_ªdeföe_PI


46745 
	#PI
 3.141592653589793238462643383

	)

	@processors/laser/calculos.cpp

1 
	~"ˇlculos.h
"

3 
	$öô_po£s
(
Po£
 
po£s_œ£r
[1000],

4 
Po£
 
po£s_robŸ
[1000],

5 
Po£
 
po£s_modño
[1000],

6 
Po£
 
po£s_modño_œ£r
[1000],

7 
Po£
 
po£s_ekf
[1000],

8 
Po£
 
po£s_ekf_œ£r
[1000],

9 
rx
,

10 
ry
,

11 
th


16 
po£s_robŸ
[0].
x
 = 
rx
 - 
	`cos
(
th
)*15.5;

17 
po£s_robŸ
[0].
y
 = 
ry
 - 
	`sö
(
th
)*15.5;

18 
po£s_robŸ
[0].
th
 =Åh;

20 
po£s_œ£r
[0].
x
 = 
rx
;

21 
po£s_œ£r
[0].
y
 = 
ry
;

22 
po£s_œ£r
[0].
th
 =Åh;

24 
po£s_modño
[0].
x
 = 
po£s_robŸ
[0].x;

25 
po£s_modño
[0].
y
 = 
po£s_robŸ
[0].y;

26 
po£s_modño
[0].
th
 = 
po£s_robŸ
[0].th;

28 
po£s_modño_œ£r
[0].
x
 = 
rx
;

29 
po£s_modño_œ£r
[0].
y
 = 
ry
;

30 
po£s_modño_œ£r
[0].
th
 =Åh;

32 
po£s_ekf
[0].
x
 = 
po£s_robŸ
[0].x;

33 
po£s_ekf
[0].
y
 = 
po£s_robŸ
[0].y;

34 
po£s_ekf
[0].
th
 = 
po£s_robŸ
[0].th;

36 
po£s_ekf_œ£r
[0].
x
 = 
rx
;

37 
po£s_ekf_œ£r
[0].
y
 = 
ry
;

38 
po£s_ekf_œ£r
[0].
th
 =Åh;

39 
	}
}

41 
	$gëRVñ
(
•ìd
, 
°ìrög
) {

43 
•ìd
 -= 0.5;

46 
°ìrög
 -= 0.5;

48 
°ìrög
 /= -1.0;

49 
gVÆ
 = 0;

50 i‡(
°ìrög
 > 0) {

51 
gVÆ
 = 0.5 + (
•ìd
);

54 
gVÆ
 = 0.5 + (
•ìd
 + 
°ìrög
);

56 
gVÆ
 -= 0.5;

57 
gVÆ
 *= 200;

58  
gVÆ
;

60 
	}
}

62 
	$gëLVñ
(
•ìd
, 
°ìrög
) {

64 
•ìd
 -= 0.5;

67 
°ìrög
 -= 0.5;

69 
°ìrög
 /= -1.0;

70 
gVÆ
 = 0;

71 i‡(
°ìrög
 < 0) {

72 
gVÆ
 = 0.5 + (
•ìd
);

75 
gVÆ
 = 0.5 + (
•ìd
 + 
°ìrög
);

77 
gVÆ
 -= 0.5;

78 
gVÆ
 *= 200;

79  
gVÆ
;

81 
	}
}

	@processors/laser/calculos.h

8 #i‚de‡
CALCULOS_H


9 
	#CALCULOS_H


	)

11 
	~"ekf.h
"

12 
	~"pﬁ¨_m©chög/pﬁ¨_m©chög/pﬁ¨_m©ch.h
"

13 
	~"CImg.h
"

14 c⁄° 
	gL_EJE
 = 32.0;

15 
öô_po£s
(
Po£
 
po£s_œ£r
[1000],

16 
Po£
 
po£s_robŸ
[1000],

17 
Po£
 
po£s_modño
[1000],

18 
Po£
 
po£s_modño_œ£r
[1000],

19 
Po£
 
po£s_ekf
[1000],

20 
Po£
 
po£s_ekf_œ£r
[1000],

21 
rx
,

22 
ry
,

23 
th


26 
gëRVñ
(
•ìd
, 
°ìrög
);

27 
gëLVñ
(
•ìd
, 
°ìrög
);

	@processors/laser/ekf.c

1 
	~"ekf.h
"

3 
	$i¢™_Êﬂt
(
f
) {

4  (
f
 != f);

5 
	}
}

6 
	gvd_hi°‹ül
[201];

8 
	gvi_hi°‹ül
[201];

9 
	$ekf_£t_vÆ‹es
(

10 
ekf
 *
ekf_vÆ‹es
,

11 
Po£
 
po£_™ãri‹
,

12 
Po£
 
po£_™ãri‹_œ£r
,

13 
l_eje
,

14 
vr
,
vl
,
dth
, 
dx
, 
dy
)

16 
Po£
 
p_x_k_
 = 
	`gë_√w_po£_modñ
(
vr
, 
vl
, 0.25, 
l_eje
, 
po£_™ãri‹
);

17 
v
 = (
vr
 + 
vl
) / 2;

19 
ekf_vÆ‹es
->
x_k_
[0][0] = 
p_x_k_
.
x
;

20 
ekf_vÆ‹es
->
x_k_
[1][0] = 
p_x_k_
.
y
;

21 
ekf_vÆ‹es
->
x_k_
[2][0] = 
p_x_k_
.
th
;

26 
ekf_vÆ‹es
->
z_k
[2][0] = 
dth
 + 
po£_™ãri‹_œ£r
.
th
;

28 
ekf_vÆ‹es
->
z_k
[0][0] =

29 (
po£_™ãri‹_œ£r
.
x


30 + 
dx
 * 
	`cos
(
po£_™ãri‹_œ£r
.
th
Ë- 
dy
 * 
	`sö
(pose_anterior_laser.th))

31 - 
	`cos
(
ekf_vÆ‹es
->
z_k
[2][0])*15.5;

33 
ekf_vÆ‹es
->
z_k
[1][0] =

34 (
po£_™ãri‹_œ£r
.
y


35 + 
dx
 * 
	`sö
(
po£_™ãri‹_œ£r
.
th
Ë+ 
dy
 * 
	`cos
(pose_anterior_laser.th))

36 - 
	`sö
(
ekf_vÆ‹es
->
z_k
[2][0])*15.5;

38 
ekf_vÆ‹es
->
f_k
[0][0] = 1.0;

39 
ekf_vÆ‹es
->
f_k
[0][1] = 0.0;

40 
ekf_vÆ‹es
->
f_k
[0][2] = -0.25 * 
v
 * 
	`sö
(
po£_™ãri‹
.
th
);

41 
ekf_vÆ‹es
->
f_k
[1][0] = 0.0;

42 
ekf_vÆ‹es
->
f_k
[1][1] = 1.0;

43 
ekf_vÆ‹es
->
f_k
[1][2] = 0.25 * 
v
 * 
	`cos
(
po£_™ãri‹
.
th
);

44 
ekf_vÆ‹es
->
f_k
[2][0] = 0.0;

45 
ekf_vÆ‹es
->
f_k
[2][1] = 0.0;

46 
ekf_vÆ‹es
->
f_k
[2][2] = 1.0;

57 
ekf_vÆ‹es
->
f_v
[0][0] = 0.25 * (1.0 / 2.0Ë* 
	`cos
(
po£_™ãri‹
.
th
);

58 
ekf_vÆ‹es
->
f_v
[0][1] = 0.25 * (1.0 / 2.0Ë* 
	`cos
(
po£_™ãri‹
.
th
);

59 
ekf_vÆ‹es
->
f_v
[1][0] = 0.25 * (1.0 / 2.0Ë* 
	`sö
(
po£_™ãri‹
.
th
);

60 
ekf_vÆ‹es
->
f_v
[1][1] = 0.25 * (1.0 / 2.0Ë* 
	`sö
(
po£_™ãri‹
.
th
);

61 
ekf_vÆ‹es
->
f_v
[2][0] = -0.25 * (1.0 /
l_eje
);

62 
ekf_vÆ‹es
->
f_v
[2][1] = 0.25 * (1.0 / 
l_eje
);

63 
	}
}

64 
	$gë_vi_ﬁd
(
v_i
) {

65 
v
;

66 i‡(
v_i
 < 0)

67 
v
 = -
v_i
;

69 
v
 = 
v_i
;

72 
vÆ‹
 = 
v
 / 1.9;

73 i‡(
v
 <= 20) {

74 
vÆ‹
 = 
v
 / 1.1;

75 } i‡(
v
 <= 40) {

76 
vÆ‹
 = (1.1 + ((40.0 / 33.0 - 1.1Ë/ (40.0 - 20.0))*(
v
 - 20.0));

77 
vÆ‹
 = 
v
 / valor;

78 } i‡(
v
 <= 60) {

80 
vÆ‹
 = (40.0 / 33.0 + ((60.0 / 43.0 - 40.0 / 33.0Ë/ (60.0 - 40.0))*(
v
 - 40.0));

81 
vÆ‹
 = 
v
 / valor;

82 } i‡(
v
 <= 80) {

83 
vÆ‹
 = (1.28 + ((1.51 - 1.28Ë/ (80.0 - 60.0))*(
v
 - 60.0));

84 
vÆ‹
 = 
v
 / valor;

86 } i‡(
v
 < 100) {

87 
vÆ‹
 = 
v
 / (1.58 + ((1.8 - 1.58) / (100.0 - 60.0))*(v - 60.0));

88 } i‡(
v
 >= 100)

89 
vÆ‹
 = 
v
 / 1.8;

90 i‡(
v_i
 < 0)

91  -
vÆ‹
;

93  
vÆ‹
;

94 
	}
}

96 
	$gë_vd_ﬁd
(
v_d
) {

97 
v
;

98 i‡(
v_d
 < 0)

99 
v
 = -
v_d
;

101 
v
 = 
v_d
;

103 
vÆ‹
 = 
v
 / 1.9;

104 i‡(
v
 <= 20) {

105 
vÆ‹
 = 
v
 / 1.06;

106 } i‡(
v
 <= 40) {

107 
vÆ‹
 = (1.06 + (((40.0 / 26.0Ë- 1.06Ë/ (40.0 - 20.0))*(
v
 - 20.0));

108 
vÆ‹
 = 
v
 / valor;

109 } i‡(
v
 <= 60) {

111 
vÆ‹
 = ((40.0 / 26.0Ë+ ((60.0 / 41.0 - (40.0 / 26.0)Ë/ (60 - 40.0))*(
v
 - 40));

112 
vÆ‹
 = (
v
 / valor)-5;

113 } i‡(
v
 <= 80) {

114 
vÆ‹
 = (1.25 + ((1.51 - 1.25Ë/ (80 - 60))*(
v
 - 60));

115 
vÆ‹
 = 
v
 / valor;

117 } i‡(
v
 < 100) {

118 
vÆ‹
 = 
v
 / (1.58 + ((1.8 - 1.58) / (100 - 60))*(v - 60));

119 } i‡(
v
 >= 100)

120 
vÆ‹
 = 
v
 / 1.8;

121 i‡(
v_d
 < 0)

122  -
vÆ‹
;

124  
vÆ‹
;

125 
	}
}

126 
	$£t_hi°‹ül
() {

127 
i
 = -100; i <= 100; i++) {

128 
vd_hi°‹ül
[100 + 
i
] = 
	`gë_vd_ﬁd
(() i);

129 
vi_hi°‹ül
[100 + 
i
] = 
	`gë_vi_ﬁd
(() i);

131 
	}
}

133 
	$£t_v_hi°o
(
vd
, 
vi
, 
Po£
 
po£_a˘uÆ
, Po£ 
po£_™ãri‹
, 
l_eje
) {

134 i‡(-100 <
vd
 && vd <100 && -100 <
vi
 && vi <= 100) {

135 i‡(
vd
 =0 && 
vi
 != 0)

136 
vi_hi°‹ül
[100 + 
vi
] = vi_hi°‹ül[100 + vi]*0.8 - 0.2 * (
po£_a˘uÆ
.
th
 - 
po£_™ãri‹
.thË* 
l_eje
 / 0.25;

137 i‡(
vd
 !0 && 
vi
 == 0)

138 
vd_hi°‹ül
[100 + 
vd
] = vd_hi°‹ül[100 + vd]*0.8 + 0.2 * (
po£_a˘uÆ
.
th
 - 
po£_™ãri‹
.thË* 
l_eje
 / 0.25;

140 
	}
}

142 
	$gë_vi_hi°o
(
v
) {

143 i‡(-100 < 
v
 && v < 100)

144  
vi_hi°‹ül
[
v
 + 100];

145 i‡(
v
 < -100) {

146  
vi_hi°‹ül
[0];

148  
vi_hi°‹ül
[200];

149 
	}
}

151 
	$gë_vd_hi°o
(
v
) {

152 i‡(-100 < 
v
 && v < 100)

153  
vd_hi°‹ül
[
v
 + 100];

154 i‡(
v
 < -100) {

155  
vd_hi°‹ül
[0];

157  
vd_hi°‹ül
[200];

158 
	}
}

160 
	$gë_√w_po£
(
vd
, 
vi
, 
öãrvÆo
, 
d_eje
, 
PMSˇn
 *
d©os
) {

161 
dt
 = 0.001;

162 
öãrvÆos
 = 
öãrvÆo
 / 
dt
;

163 
th0
 = 0.0;

164 
x0
 = -
	`cos
(0.0)*15;

165 
y0
 = -
	`sö
(0.0)*15;

166 
i
 = 0; i < 
öãrvÆos
; i++) {

167 
th0
 = 
	`gë_√w_dú
(
vd
, 
vi
,Åh0, 
d_eje
, 
dt
);

168 
x0
 = 
	`gë_√w_x
(
vd
, 
vi
, 
th0
, x0, 
dt
);

169 
y0
 = 
	`gë_√w_y
(
vd
, 
vi
, 
th0
, y0, 
dt
);

171 
d©os
->
th
 = 
th0
;

172 
d©os
->
rx
 = 
x0
 + 
	`cos
(
th0
)*15;

173 
d©os
->
ry
 = 
y0
 + 
	`sö
(
th0
)*15;

174 
	}
}

176 
Po£
 
	$gë_√w_po£_modñ
(
vd
, 
vi
, 
öãrvÆo
, 
d_eje
, 
Po£
 
po£
) {

177 
Po£
 
√w_po£
;

178 
dt
 = 0.001;

179 
th0
 = 
po£
.
th
;

180 
x0
 = (Ë
po£
.
x
;

181 
y0
 = (Ë
po£
.
y
;

182 
öãrvÆos
 = 
öãrvÆo
 / 
dt
;

183 
th1
 = 
th0
;

184 
x1
 = 
x0
;

185 
y1
 = 
y0
;

186 
i
 = 0; i < 
öãrvÆos
; i++) {

187 
th1
 = 
	`gë_√w_dú
(
vd
, 
vi
,Åh1, 
d_eje
, 
dt
);

188 
x1
 = 
	`gë_√w_x
(
vd
, 
vi
, 
th1
, x1, 
dt
);

189 
y1
 = 
	`gë_√w_y
(
vd
, 
vi
, 
th1
, y1, 
dt
);

192 
√w_po£
.
th
 = 
th1
;

193 
√w_po£
.
x
 = 
x1
;

194 
√w_po£
.
y
 = 
y1
;

195  
√w_po£
;

196 
	}
}

204 
	$ekf_öô
(
ekf
 *
ekf_vÆ‹es
) {

205 
	`£t_hi°‹ül
();

275 
ekf_vÆ‹es
->
p_k
[0][0]=2.658942;

276 
ekf_vÆ‹es
->
p_k
[0][1]=0.366914;

277 
ekf_vÆ‹es
->
p_k
[0][2]=0.004276;

278 
ekf_vÆ‹es
->
p_k
[1][0]=0.622768;

279 
ekf_vÆ‹es
->
p_k
[1][1]=1.171261;

280 
ekf_vÆ‹es
->
p_k
[1][2]=0.003539;

281 
ekf_vÆ‹es
->
p_k
[2][0]=0.001000;

282 
ekf_vÆ‹es
->
p_k
[2][1]=0.002030;

283 
ekf_vÆ‹es
->
p_k
[2][2]=0.003248;

301 
ekf_vÆ‹es
->
h
[0][0] = 1.0;

302 
ekf_vÆ‹es
->
h
[0][1] = 0.0;

303 
ekf_vÆ‹es
->
h
[0][2] = 0.0;

304 
ekf_vÆ‹es
->
h
[1][0] = 0.0;

305 
ekf_vÆ‹es
->
h
[1][1] = 1.0;

306 
ekf_vÆ‹es
->
h
[1][2] = 0.0;

307 
ekf_vÆ‹es
->
h
[2][0] = 0.0;

308 
ekf_vÆ‹es
->
h
[2][1] = 0.0;

309 
ekf_vÆ‹es
->
h
[2][2] = 1.0;

311 
ekf_vÆ‹es
->
q_k_1
[0][0] = 60.0;

312 
ekf_vÆ‹es
->
q_k_1
[0][1] = 0.0;

313 
ekf_vÆ‹es
->
q_k_1
[1][0] = 0.0;

314 
ekf_vÆ‹es
->
q_k_1
[1][1] = 60.0;

338 
ekf_vÆ‹es
->
r
[0][0] = 3.0;

339 
ekf_vÆ‹es
->
r
[0][1] = 0.0;

340 
ekf_vÆ‹es
->
r
[0][2] = 0.0;

341 
ekf_vÆ‹es
->
r
[1][0] = 0.0;

342 
ekf_vÆ‹es
->
r
[1][1] = 3.0;

343 
ekf_vÆ‹es
->
r
[1][2] = 0.0;

344 
ekf_vÆ‹es
->
r
[2][0] = 0.0;

345 
ekf_vÆ‹es
->
r
[2][1] = 0.0;

346 
ekf_vÆ‹es
->
r
[2][2] = 0.005;

347 
	}
}

349 
	$ekf_ˇlc_pk
(
ekf
 *
vÆ‹es
) {

350 
ªsu…ado
[3][3];

352 
i
 = 0; i < 3; i++) {

354 
j
 = 0; j < 3; j++) {

355 
ªsu…ado
[
i
][
j
] = 0;

356 
¬
 = 0;Çn < 3;Çn++) {

357 
ªsu…ado
[
i
][
j
] +(
vÆ‹es
->
k_k
[i][
¬
]Ë* (vÆ‹es->
h
[nn][j]);

359 
ªsu…ado
[
i
][
j
] = 
vÆ‹es
->
h
[i][j] -Ñesultado[i][j];

363 
i
 = 0; i < 3; i++) {

365 
j
 = 0; j < 3; j++) {

366 
vÆ‹es
->
p_k
[
i
][
j
] = 0;

367 
¬
 = 0;Çn < 3;Çn++) {

368 
vÆ‹es
->
p_k
[
i
][
j
] +(
ªsu…ado
[i][
¬
]Ë* (vÆ‹es->
p_k_
[nn][j]);

370 i‡(
	`i¢™
(
vÆ‹es
->
p_k
[
i
][
j
])==1 || valores->p_k[i][j] < 0.0000001)

371 
vÆ‹es
->
p_k
[
i
][
j
] = 0.0000001;

376 
	}
}

378 
	$gë_√w_x
(
vd
, 
vi
, 
dú
, 
x
, 
dt
) {

379  ((1.0 / 2.0Ë* (
vd
 + 
vi
Ë* 
	`cos
(
dú
Ë* 
dt
Ë+
x
;

380 
	}
}

382 
	$gë_√w_y
(
vd
, 
vi
, 
dú
, 
y
, 
dt
) {

383  ((1.0 / 2.0Ë* (
vd
 + 
vi
Ë* 
	`sö
(
dú
Ë* 
dt
Ë+
y
;

384 
	}
}

386 
	$gë_√w_dú
(
vd
, 
vi
, 
dú
, 
d_eje
, 
dt
) {

387  (1.0 / 
d_eje
)*(
vi
 - 
vd
Ë* 
dt
 + 
dú
;

388 
	}
}

390 
	$ekf_pk_˝y
(
ekf
 *
ekf_vÆ‹es
) {

391 
ekf_vÆ‹es
->
p_k_1
[0][0] =Ékf_vÆ‹es->
p_k
[0][0];

392 
ekf_vÆ‹es
->
p_k_1
[0][1] =Ékf_vÆ‹es->
p_k
[0][1];

393 
ekf_vÆ‹es
->
p_k_1
[0][2] =Ékf_vÆ‹es->
p_k
[0][2];

394 
ekf_vÆ‹es
->
p_k_1
[1][0] =Ékf_vÆ‹es->
p_k
[1][0];

395 
ekf_vÆ‹es
->
p_k_1
[1][1] =Ékf_vÆ‹es->
p_k
[1][1];

396 
ekf_vÆ‹es
->
p_k_1
[1][2] =Ékf_vÆ‹es->
p_k
[1][2];

397 
ekf_vÆ‹es
->
p_k_1
[2][0] =Ékf_vÆ‹es->
p_k
[2][0];

398 
ekf_vÆ‹es
->
p_k_1
[2][1] =Ékf_vÆ‹es->
p_k
[2][1];

399 
ekf_vÆ‹es
->
p_k_1
[2][2] =Ékf_vÆ‹es->
p_k
[2][2];

400 
	}
}

402 
	$gë_vi
(
v_i
) {

403  
	`gë_vi_hi°o
(
v_i
);

404 
	}
}

406 
	$gë_vd
(
v_d
) {

407  
	`gë_vd_hi°o
(
v_d
);

408 
	}
}

410 
	$ekf_ˇlc_yk
(
ekf
 *
vÆ‹es
) {

411 
vÆ‹es
->
y_k
[0][0] = vÆ‹es->
z_k
[0][0] - vÆ‹es->
x_k_
[0][0];

412 
vÆ‹es
->
y_k
[1][0] = vÆ‹es->
z_k
[1][0] - vÆ‹es->
x_k_
[1][0];

413 
vÆ‹es
->
y_k
[2][0] = vÆ‹es->
z_k
[2][0] - vÆ‹es->
x_k_
[2][0];

416 
i
 = 0; i < 3; i++) {

418 
j
 = 0; j < 1; j++) {

419 
vÆ‹es
->
x_k
[
i
][
j
] = 0;

420 
¬
 = 0;Çn < 3;Çn++) {

421 
vÆ‹es
->
x_k
[
i
][
j
] +(vÆ‹es->
k_k
[i][
¬
]Ë* (vÆ‹es->
y_k
[nn][j]);

425 
i
 = 0; i < 3; i++) {

426 
j
 = 0; j < 1; j++) {

427 
vÆ‹es
->
x_k
[
i
][
j
] +vÆ‹es->
x_k_
[i][j];

431 
	}
}

433 
	$ekf_ˇlc_kk
(
ekf
 *
vÆ‹es
) {

434 
ªsu…ado
[3][3];

435 
ªsu…ado_h
[3][3];

436 
ªsu…ado_a
[3][3];

438 
i
 = 0; i < 3; i++) {

440 
j
 = 0; j < 3; j++) {

441 
ªsu…ado_a
[
i
][
j
] = 0;

442 
¬
 = 0;Çn < 3;Çn++) {

443 
ªsu…ado_a
[
i
][
j
] +(
vÆ‹es
->
p_k_
[i][
¬
])*(vÆ‹es->
h
[nn][j]);

448 
i
 = 0; i < 3; i++) {

450 
j
 = 0; j < 3; j++) {

451 
ªsu…ado
[
i
][
j
] = 0;

452 
¬
 = 0;Çn < 3;Çn++) {

453 
ªsu…ado
[
i
][
j
] +(
vÆ‹es
->
h
[i][
¬
])*(vÆ‹es->
p_k_
[nn][j]);

457 
i
 = 0; i < 3; i++) {

459 
j
 = 0; j < 3; j++) {

460 
ªsu…ado_h
[
i
][
j
] = 0;

461 
¬
 = 0;Çn < 3;Çn++) {

462 
ªsu…ado_h
[
i
][
j
] +(
ªsu…ado
[i][
¬
]Ë* (
vÆ‹es
->
h
[nn][j]);

466 
ªsu…ado_2
[3][3] = {

467 {
ªsu…ado_h
[0][0] + 
vÆ‹es
->
r
[0][0],Ñesultado_h[0][1] + valores->r[0][1],Ñesultado_h[0][2] + valores->r[0][2]},

468 {
ªsu…ado_h
[1][0] + 
vÆ‹es
->
r
[1][0],Ñesultado_h[1][1] + valores->r[1][1],Ñesultado_h[1][2] + valores->r[1][2]},

469 {
ªsu…ado_h
[2][0] + 
vÆ‹es
->
r
[2][0],Ñesultado_h[2][1] + valores->r[2][1],Ñesultado_h[2][2] + valores->r[2][2]}

471 
ªsu…ado_3
[3][2] = {

476 
ªsu…ado_4
[3][3] = {

482 
a
 = 
ªsu…ado_2
[0][0]*(resultado_2[1][1] *Ñesultado_2[2][2] -Ñesultado_2[2][1] *Ñesultado_2[1][2]);

483 
b
 = 
ªsu…ado_2
[0][1]*(resultado_2[1][0] *Ñesultado_2[2][2] -Ñesultado_2[2][0] *Ñesultado_2[1][2]);

484 
c
 = 
ªsu…ado_2
[0][2]*(resultado_2[1][0] *Ñesultado_2[2][1] -Ñesultado_2[2][0] *Ñesultado_2[1][1]);

486 
dë
 = 
a
 - 
b
 + 
c
;

490 
i
 = 0; i < 3; i++) {

491 
j
 = 0; j < 3; j++) {

492 
ªsu…ado_3
[
j
][
i
] = 
ªsu…ado_2
[i][j];

498 
ªsu…ado_4
[0][0] = (
ªsu…ado_3
[1][1] *Ñesu…ado_3[2][2] -Ñesu…ado_3[2][1] *Ñesu…ado_3[1][2]Ë/ 
dë
;

499 
ªsu…ado_4
[0][1] = (-(
ªsu…ado_3
[1][0] *Ñesu…ado_3[2][2] -Ñesu…ado_3[2][0] *Ñesu…ado_3[1][2])Ë/ 
dë
;

500 
ªsu…ado_4
[0][2] = (
ªsu…ado_3
[1][0] *Ñesu…ado_3[2][1] -Ñesu…ado_3[2][0] *Ñesu…ado_3[1][1]Ë/ 
dë
;

501 
ªsu…ado_4
[1][0] = -(
ªsu…ado_3
[0][1] *Ñesu…ado_3[2][2] -Ñesu…ado_3[2][1] *Ñesu…ado_3[0][2]Ë/ 
dë
;

502 
ªsu…ado_4
[1][1] = (
ªsu…ado_3
[0][0] *Ñesu…ado_3[2][2] -Ñesu…ado_3[2][0] *Ñesu…ado_3[0][2]Ë/ 
dë
;

503 
ªsu…ado_4
[1][2] = -(
ªsu…ado_3
[0][0] *Ñesu…ado_3[2][1] -Ñesu…ado_3[2][0] *Ñesu…ado_3[0][1]Ë/ 
dë
;

504 
ªsu…ado_4
[2][0] = (
ªsu…ado_3
[0][1] *Ñesu…ado_3[1][2] -Ñesu…ado_3[1][1] *Ñesu…ado_3[0][2]Ë/ 
dë
;

505 
ªsu…ado_4
[2][1] = -(
ªsu…ado_3
[0][0] *Ñesu…ado_3[1][2] -Ñesu…ado_3[1][0] *Ñesu…ado_3[1][2]Ë/ 
dë
;

506 
ªsu…ado_4
[2][2] = (
ªsu…ado_3
[0][0] *Ñesu…ado_3[1][1] -Ñesu…ado_3[1][0] *Ñesu…ado_3[0][1]Ë/ 
dë
;

509 
i
 = 0; i < 3; i++) {

511 
j
 = 0; j < 3; j++) {

512 
vÆ‹es
->
k_k
[
i
][
j
] = 0;

513 
¬
 = 0;Çn < 3;Çn++) {

514 
vÆ‹es
->
k_k
[
i
][
j
] +(
ªsu…ado_a
[i][
¬
]Ë* (
ªsu…ado_4
[nn][j]);

519 
	}
}

521 
	$ekf_ˇlc_1
(
ekf
 *
vÆ‹es
) {

522 
ªsu…ado
[3][3] = {

527 
ªsu…ado_2
[3][3] = {

532 
ªsu…ado_3
[3][2] = {

537 
ªsu…ado_4
[3][3] = {

543 
i
 = 0; i < 3; i++) {

545 
j
 = 0; j < 3; j++) {

546 
¬
 = 0;Çn < 3;Çn++) {

547 
ªsu…ado
[
i
][
j
] +(
vÆ‹es
->
f_k
[i][
¬
]Ë* (vÆ‹es->
p_k_1
[nn][j]);

552 
i
 = 0; i < 3; i++) {

553 
j
 = 0; j < 3; j++) {

554 
vÆ‹es
->
f_k_t
[
j
][
i
] = vÆ‹es->
f_k
[i][j];

558 
i
 = 0; i < 3; i++) {

560 
j
 = 0; j < 3; j++) {

561 
ªsu…ado_2
[
i
][
j
] = 0;

562 
¬
 = 0;Çn < 3;Çn++) {

563 
ªsu…ado_2
[
i
][
j
] +(
ªsu…ado
[i][
¬
])*(
vÆ‹es
->
f_k_t
[nn][j]);

569 
i
 = 0; i < 3; i++) {

571 
j
 = 0; j < 2; j++) {

572 
ªsu…ado_3
[
i
][
j
] = 0;

573 
¬
 = 0;Çn < 2;Çn++) {

574 
ªsu…ado_3
[
i
][
j
] +(
vÆ‹es
->
f_v
[i][
¬
])*(vÆ‹es->
q_k_1
[nn][j]);

580 
i
 = 0; i < 3; i++) {

581 
j
 = 0; j < 2; j++) {

582 
vÆ‹es
->
f_v_t
[
j
][
i
] = vÆ‹es->
f_v
[i][j];

588 
i
 = 0; i < 3; i++) {

590 
j
 = 0; j < 3; j++) {

591 
¬
 = 0;Çn < 2;Çn++) {

592 
ªsu…ado_4
[
i
][
j
] +(
ªsu…ado_3
[i][
¬
])*(
vÆ‹es
->
f_v_t
[nn][j]);

597 
i
 = 0; i < 3; i++)

598 
j
 = 0; j < 3; j++)

599 
vÆ‹es
->
p_k_
[
i
][
j
] = 
ªsu…ado_2
[i][j] + 
ªsu…ado_4
[i][j];

602 
	}
};

	@processors/laser/ekf.h

1 #i‚de‡
_IRMA3_EKF_H_


2 
	#_IRMA3_EKF_H_


	)

4 
	~<m©h.h
>

5 
	~"pﬁ¨_m©chög/pﬁ¨_m©chög/pﬁ¨_m©ch.h
"

6 
£t_v_hi°o
(
vd
,
vi
,
Po£
 
a˘uÆ
,Po£ 
™ãri‹
,
l_eje
);

7 
	sekf
 {

8 
	mp_k
[3][3];

9 
	mp_k_
[3][3];

10 
	mp_k_1
[3][3];

11 
	mf_k
[3][3];

12 
	mf_k_t
[3][3];

13 
	mf_v
[3][2];

14 
	mf_v_t
[2][3];

15 
	mq_k_1
[2][2];

16 
	mh
[3][3];

17 
	mr
[3][3];

18 
	mk_k
[3][3];

19 
	my_k
[3][1];

20 
	mz_k
[3][1];

21 
	mx_k
[3][1];

22 
	mx_k_
[3][1];

24 
£t_hi°‹ül
();

25 
gë_vi_ﬁd
(
v_i
);

26 
gë_vd_ﬁd
(
v_i
);

27 
	sPo£
 {

28 
	mx
;

29 
	my
;

30 
	mth
;

32 
gë_vi
(
v
);

33 
gë_vd
(
v
);

34 
ekf_pk_˝y
(
ekf
 *
ekf_vÆ‹es
);

35 
Po£
 
gë_√w_po£_modñ
(
vd
, 
vi
, 
öãrvÆo
, 
d_eje
, Po£ 
po£
);

37 
ekf_öô
(
ekf
 *
ekf_vÆ‹es
);

39 
ekf_ˇlc_pk
(
ekf
 *
vÆ‹es
);

40 
ekf_ˇlc_yk
(
ekf
 *
vÆ‹es
);

42 
gë_√w_x
(
vd
, 
vi
, 
dú
, 
x
, 
dt
);

44 
gë_√w_y
(
vd
, 
vi
, 
dú
, 
y
, 
dt
);

46 
gë_√w_dú
(
vd
, 
vi
, 
dú
, 
d_eje
, 
dt
);

47 
gë_√w_po£
(
vd
, 
vi
, 
öãrvÆo
, 
d_eje
, 
PMSˇn
 *
d©os
);

48 
ekf_ˇlc_kk
(
ekf
 *
vÆ‹es
);

49 
ekf_ˇlc_1
(
ekf
 *
vÆ‹es
);

51 
ekf_£t_vÆ‹es
(

52 
ekf
 *
ekf_vÆ‹es
,

53 
Po£
 
po£_™ãri‹
,

54 
Po£
 
po£_™ãri‹_œ£r
,

55 
l_eje
,

56 
vr
,

57 
vl
,

58 
dth
,

59 
dx
,

60 
dy
);

	@processors/laser/laser.c

40 
	~"œ£r.h
"

43 
usög
 
«me•a˚
 
	gcimg_libøry
;

47 
Po£
 
	gpo£s_psm_œ£r
[1000];

48 
Po£
 
	gpo£s_psm
[1000];

49 
Po£
 
	gpo£s_modño
[1000];

50 
Po£
 
	gpo£s_modño_œ£r
[1000];

51 
Po£
 
	gpo£s_ekf
[1000];

52 
Po£
 
	gpo£s_ekf_œ£r
[1000];

54 
CImgDi•œy
 
	gdi•
;

55 
	gCImg
<> 
img
(
IMG_ANCHO
, 
IMG_ALTO
, 1, 4, 0);

56 
	gCImg
<> 
img_EKF
(
IMG_ANCHO
, 
IMG_ALTO
, 1, 4, 0);

57 
	gLa£rPro˚ss‹
::
	$öô
() {

58 
	`¥ötf
("Laser Area\n");

59 
pCDAExecutive
 = (
ExecutiveD©a
 *Ë
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

60 
pCDALa£r
 = (
La£rD©a
 *Ë
cda
.
	`gëMemPå
(
LASER_AREA
);

61 
img
.
	`fûl
(127);

62 
pCål
 = &(
pCDALa£r
->
˘æ
);

63 
£m_¨ó
 = 
LASER_AREA
;

64 
pCDALa£r
->
£nßr
 = 
åue
;

65 
pCål
->
lo›
 = 
run_cmd
;

66 
	`¥ötf
("Síß∏%s\n", (
pCDALa£r
->
£nßr
) ? "SI" : "NO");

71 #ifde‡
WINDOWS_OS


72 c⁄° 
devi˚
[] = "COM3";

74 c⁄° 
devi˚
[] = "/dev/ttyACM0";

77 
	`pm_öô
();

79 
	`öô_po£s
(

80 
po£s_psm_œ£r
,

81 
po£s_psm
,

82 
po£s_modño
,

83 
po£s_mej‹
,

84 
po£s_mej‹œ£r
,

85 
po£s_modño_œ£r
,

86 
po£s_ekf
,

87 
po£s_ekf_œ£r
,

88 
ãm¥x
,

89 
ãm¥y
,

90 
ãm±h


92 
	`Ârötf
(
°dout
, "Devi£:%s\n", 
devi˚
);

93 i‡(!
urg
.
	`c⁄√˘
(
devi˚
)) {

94 
	`Ârötf
(
°dout
, "UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

95 
	`exô
(1);

99 
	}
}

104 
	gLa£rPro˚ss‹
::
	$˛ónup
() {

106 
	}
}

109 
	mC≠tuªTimes
 = 1

113 
°©
 
	g°
 = {0};

115 
timevÆ
 
	gu…imo
;

116 
	gãm¥x
 = 0.0;

117 
	gãm¥y
 = 0.0;

118 
	gãm±h
 = 0.0;

120 
	gfûíame
[100];

121 
	gfûíame_ﬁd
[100];

122 
FILE
 *
	gpFûeM©œb
;

123 
	gtime°amp_ﬁd
 = 0;

125 
PMSˇn
 *
	gãr˚ro
;

128 
	gLa£rPro˚ss‹
::
	$°ï
() {

131 
boﬁ
 
£nßr
 = 
pCDALa£r
 -> sensar;

132 
e°ado
 = 
pCDALa£r
 ->Éstado;

133 
timevÆ
 
a˘uÆ
;

135 i‡(
£nßr
) {

136 
	`gëtimeofday
(&
u…imo
, 
NULL
);

137 
cda
.
	`lockAªa
(
LASER_AREA
);

139 
time°amp
 = 0;

140 
ve˘‹
<> 
d©a
;

143 
out°r_fﬁdî
[200];

144 
out°r_fûe
[200];

146 
time_t
 
t
;

148 
timevÆ
 
tv
;

149 
tm
 *
tmp
;

150 
	`gëtimeofday
(&
tv
, 
NULL
);

151 
t
 = 
tv
.
tv_£c
;

153 
tmp
 = 
	`loˇ…ime
(&
t
);

154 i‡(
tmp
 =
NULL
) {

155 
	`≥º‹
("localtime");

156 
	`exô
(
EXIT_FAILURE
);

158 i‡(
	`°r·ime
(
out°r_fﬁdî
,  (out°r_fﬁdî), "%Y%2m%2d", 
tmp
) == 0) {

159 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

160 
	`exô
(
EXIT_FAILURE
);

162 
	`Ârötf
(
°dout
, "Dúe˘‹io:%s\n", 
out°r_fﬁdî
);

163 i‡(
	`°r·ime
(
out°r_fûe
,  (out°r_fûe), "%H%M%S", 
tmp
) == 0) {

164 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

165 
	`exô
(
EXIT_FAILURE
);

167 
	`Ârötf
(
°dout
, "Archivo:%s\n", 
out°r_fûe
);

168 i‡(
	`°©
(
out°r_fﬁdî
, &
°
) == -1) {

169 
	`mkdú
(
out°r_fﬁdî
, 0700);

175 
n
 = 
urg
.
	`ˇ±uª
(
d©a
, &
time°amp
);

178 
pCDALa£r
->
time°amp
 =Åimestamp;

180 
	`Ârötf
(
°dout
, "Archivo:%06d\n", (Ë
tv
.
tv_u£c
);

181 
	`•rötf
(
fûíame
, "%s/%s_%06d", 
out°r_fﬁdî
, 
out°r_fûe
, (Ë
tv
.
tv_u£c
);

183 
FILE
 * 
pFûe
;

184 
pFûe
 = 
	`f›í
(
fûíame
, "w");

186 
	`Ârötf
(
°dout
, "X:%f\nY:%f\nD:%f\n", 
pCDALa£r
->
x
,ÖCDALa£r->
y
,ÖCDALa£r->
dú
);

188 
	`Ârötf
(
pFûe
, "vd:\t%d\n", 
pCDALa£r
->
vr
);

189 
	`Ârötf
(
pFûe
, "vi:\t%d\n", 
pCDALa£r
->
vl
);

192 
j
 = 
LASER_START
; j < 
n
; ++j) {

193 i‡(
j
 <
LASER_END
 && j >
LASER_START
) {

195 
pCDALa£r
->
ªad_d©a
[
j
] = 
d©a
[j];

196 i‡(
¥imîa_medici⁄
) {

197 
¥imîo
->
r
[
j
 - 
LASER_START
] = 
d©a
[j] / 10;

198 
£gundo
->
r
[
j
 - 
LASER_START
] = 
¥imîo
->r[j - LASER_START];

200 
£gundo
->
r
[
j
 - 
LASER_START
] = 
d©a
[j] / 10;

201 
	`Ârötf
(
pFûe
, "%ld\n", 
d©a
[
j
]);

205 i‡(
¥imîa_medici⁄
) {

206 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

207 
¥imîa_medici⁄
 = 
Ál£
;

210 
¥imîo
->
rx
 = 0;

211 
¥imîo
->
ry
 = 0;

212 
¥imîo
->
th
 = 0;

214 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

215 
boﬁ
 
m©chFaûed
 = 
Ál£
;

217 
vr
 = 
pCDALa£r
->vr;

218 
vl
 = 
pCDALa£r
->vl;

225 
	`gë_√w_po£
(
	`gë_vd
(
vr
),
	`gë_vi
(vr),0.25,33,
£gundo
);

226 #ifde‡
IMG_SCAN


227 i‡(
n_po£
 > 0) {

229 
	`£t_img_sˇn
(
img_sˇn
, 
po£s_ekf_œ£r
[
n_po£
], 
img_EKF
, 
¥imîo
);

230 
åy
 {

231 
img_sˇn
->
rx
 = 0;

232 
img_sˇn
->
th
 = 0;

233 
img_sˇn
->
ry
 = 0;

234 
	`pm_¥ïro˚ssSˇn
(
img_sˇn
);

235 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

236 
	`pm_psm
(
img_sˇn
, 
£gundo
, 
NULL
);

237 
îr_idx
 = 
	`pm_îr‹_ödex2
(
img_sˇn
, 
£gundo
);

238 
cout
 << " %Éº(img): " << 
îr_idx
 << "\n";

239 } 
	`ˇtch
 (
îr
) {

240 
˚º
 << "Eº‹ " << 
îr
 << "ˇughà: faûed m©ch." << 
ídl
;

241 
m©chFaûed
 = 
åue
;

246 
åy
 {

248 
¥imîo
->
rx
 = 0;

249 
¥imîo
->
th
 = 0;

250 
¥imîo
->
ry
 = 0;

252 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

253 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

254 
	`pm_psm
(
¥imîo
, 
£gundo
, 
NULL
);

256 } 
	`ˇtch
 (
îr
) {

257 
˚º
 << "Eº‹ " << 
îr
 << "ˇughà: faûed m©ch." << 
ídl
;

258 
m©chFaûed
 = 
åue
;

260 
îr_idx
 = 
	`pm_îr‹_ödex2
(
¥imîo
, 
£gundo
);

261 
cout
 << " %Éº: " << 
îr_idx
 << "\n";

262 i‡(
m©chFaûed
 || 
îr_idx
 > 2) {

263 
åy
 {

264 
Po£
 
ãmp
;

266 
ãmp
.
x
 = 
£gundo
->
rx
;

267 
ãmp
.
y
 = 
£gundo
->
ry
;

268 
ãmp
.
th
 = 
£gundo
->th;

270 
Po£
 
‹igí
;

271 
‹igí
.
x
 = 0;

272 
‹igí
.
y
 = 0;

273 
‹igí
.
th
 = 0;

274 
Po£
 
√w_po£
 = 
	`gë_√w_po£_modñ
(-
	`gë_vd
(
vr
), -
	`gë_vi
(
vl
), 0.25, 
L_EJE
, 
‹igí
);

275 
£gundo
->
rx
 = 0;

276 
£gundo
->
ry
 = 0;

277 
£gundo
->
th
 = 0;

278 
¥imîo
->
rx
 = (
√w_po£
.
x
 - 
ãmp
.x) / 2;

279 
¥imîo
->
ry
 = (
√w_po£
.
y
 - 
ãmp
.y) / 2;

280 
¥imîo
->
th
 = (
√w_po£
.th - 
ãmp
.th) / 2;

281 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

282 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

283 
	`pm_psm
(
£gundo
, 
¥imîo
, 
NULL
);

284 
PM_TYPE
 
îr_idx_2
 = 
	`pm_îr‹_ödex2
(
£gundo
, 
¥imîo
);

285 
cout
 << " %Éº 2: " << 
îr_idx_2
 << "\n";

286 i‡(
îr_idx
 > 
îr_idx_2
) {

287 
£gundo
->
rx
 = -
¥imîo
->rx;

288 
£gundo
->
ry
 = -
¥imîo
->ry;

289 
£gundo
->
th
 = -
¥imîo
->th;

291 
£gundo
->
rx
 = 
ãmp
.
x
;

292 
£gundo
->
ry
 = 
ãmp
.
y
;

293 
£gundo
->
th
 = 
ãmp
.th;

294 
îr_idx
 = 
îr_idx_2
;

296 } 
	`ˇtch
 (
îr
) {

297 
˚º
 << "Eº‹ " << 
îr
 << "ˇughà: faûed m©ch." << 
ídl
;

298 
m©chFaûed
 = 
åue
;

302 #ifde‡
IMG_SCAN


306 
dx
 = 
£gundo
->
rx
;

307 
dy
 = 
£gundo
->
ry
;

308 
dth
 = 
£gundo
->
th
;

309 
xx
 = 
£gundo
->
rx
 * 
	`cos
(
ãm±h
Ë- segundo->
ry
 * 
	`sö
(tempth);

310 
yy
 = 
£gundo
->
rx
 * 
	`sö
(
ãm±h
Ë+ segundo->
ry
 * 
	`cos
(tempth);

311 
âh
 = 
£gundo
->
th
;

312 
£gundo
->
rx
 = 
xx
;

313 
£gundo
->
ry
 = 
yy
;

314 
£gundo
->
th
 = 
âh
;

316 
ãm¥x
 +
xx
;

317 
ãm¥y
 +
yy
;

318 
ãm±h
 +
âh
;

319 
n_po£
++;

321 
po£s_psm_œ£r
[
n_po£
].
x
 = 
ãm¥x
;

322 
po£s_psm_œ£r
[
n_po£
].
y
 = 
ãm¥y
;

323 
po£s_psm_œ£r
[
n_po£
].
th
 = 
ãm±h
;

325 
po£s_psm
[
n_po£
].
x
 = 
ãm¥x
 - 
	`cos
(
ãm±h
)*15.5;

326 
po£s_psm
[
n_po£
].
y
 = 
ãm¥y
 - 
	`sö
(
ãm±h
)*15.5;

327 
po£s_psm
[
n_po£
].
th
 = 
ãm±h
;

328 
po£s_modño
[
n_po£
] = 
	`gë_√w_po£_modñ
(
	`gë_vd
(
vr
), 
	`gë_vi
(
vl
), 0.25, 
L_EJE
,Öoses_modelo[n_pose - 1]);

330 
po£s_modño_œ£r
[
n_po£
].
x
 = 
po£s_modño
[n_po£].x + 
	`cos
’o£s_modño[n_po£].
th
)*15.5;

331 
po£s_modño_œ£r
[
n_po£
].
y
 = 
po£s_modño
[n_po£].y + 
	`sö
’o£s_modño[n_po£].
th
)*15.5;

332 
po£s_modño_œ£r
[
n_po£
].
th
 = 
po£s_modño
[n_pose].th;

334 
	`ekf_£t_vÆ‹es
(

335 &
ekf_vÆ‹es
,

336 
po£s_ekf
[
n_po£
 - 1],

337 
po£s_ekf_œ£r
[
n_po£
 - 1],

338 
L_EJE
, 
	`gë_vd
(
vr
),

339 
	`gë_vi
(
vl
),

340 
dth
, 
dx
, 
dy
);

341 
	`ekf_pk_˝y
(&
ekf_vÆ‹es
);

342 
	`ekf_ˇlc_1
(&
ekf_vÆ‹es
);

343 
	`ekf_ˇlc_kk
(&
ekf_vÆ‹es
);

344 
	`ekf_ˇlc_yk
(&
ekf_vÆ‹es
);

345 
	`ekf_ˇlc_pk
(&
ekf_vÆ‹es
);

347 
po£s_ekf
[
n_po£
].
x
 = 
ekf_vÆ‹es
.
x_k
[0][0];

348 
po£s_ekf
[
n_po£
].
y
 = 
ekf_vÆ‹es
.
x_k
[1][0];

349 
po£s_ekf
[
n_po£
].
th
 = 
ekf_vÆ‹es
.
x_k
[2][0];

351 
po£s_ekf_œ£r
[
n_po£
].
x
 = 
po£s_ekf
[n_po£].x + 
	`cos
’o£s_ekf[n_po£].
th
)*15.5;

352 
po£s_ekf_œ£r
[
n_po£
].
y
 = 
po£s_ekf
[n_po£].y + 
	`sö
’o£s_ekf[n_po£].
th
)*15.5;

353 
po£s_ekf_œ£r
[
n_po£
].
th
 = 
po£s_ekf
[n_pose].th;

355 
	`£t_v_hi°o
(
vr
, 
vl
, 
po£s_ekf_œ£r
[
n_po£
 - 1],Öo£s_ekf_œ£r[n_po£], 
L_EJE
);

358 
	`£t_image
(
£gundo
, 
po£s_ekf_œ£r
[
n_po£
], 
img_EKF
);

359 
	`£t_image_cﬁ‹
(
£gundo
, 
po£s_ekf_œ£r
[
n_po£
], 
img_EKF
, 
azul
);

360 i‡(
n_po£
 > 1)

361 
	`£t_image_cﬁ‹_bœnco
(
img_sˇn
, 
po£s_ekf_œ£r
[
n_po£
 - 1], 
img_EKF_bœnco
, 
bœck
);

363 
CImg
<> 
	`img_ãmp_ekf
(
img_EKF
);

364 
	`£t_image_cﬁ‹
(
¥imîo
, 
po£s_ekf_œ£r
[
n_po£
 - 1], 
img_ãmp_ekf
, 
vîde
);

365 
	`£t_image_cﬁ‹
(
img_sˇn
, 
po£s_ekf_œ£r
[
n_po£
 - 1], 
img_ãmp_ekf
, 
rojo
);

366 
	`dibuj¨_robŸ
(
£gundo
, 
po£s_ekf_œ£r
[
n_po£
], 
po£s_ekf
[n_po£], 
img_ãmp_ekf
);

367 
	`dibuj¨_po£s
(
po£s_ekf_œ£r
, 
po£s_ekf
, 
n_po£
, 
img_ãmp_ekf
);

370 
di•
.
	`di•œy
(
img_ekf
);

371 
ãr˚ro
 = 
£gundo
;

372 
£gundo
 = 
¥imîo
;

373 
¥imîo
 = 
ãr˚ro
;

375 
time°amp_ﬁd
 = 
tv
.
tv_u£c
;

376 
	`f˛o£
(
pFûe
);

377 
	`°r˝y
(
fûíame_ﬁd
, 
fûíame
);

379 
pCDALa£r
 -> 
x
 = 
ãm¥x
;

380 
pCDALa£r
 -> 
y
 = 
ãm¥y
;

381 
pCDALa£r
 -> 
dú
 = 
ãm±h
;

382 
pCDALa£r
 -> 
£nßr
 = 
Ál£
;

384 
	`cimg_f‹XY
(
img
,
xx
,
yy
){

385 
pCDALa£r
 -> 
m≠
[
xx
][
yy
] = 
	`img
(xx,yy,0);

387 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

393 
	}
}

403 
	$maö
() {

404 
	`Ârötf
(
°dout
, "\nIRMA2: Laser Process \n");

405 
La£rPro˚ss‹
 
œ£r
;

406 
di•
.
	`di•œy
(
img
);

408 
po£s_œ£r
[0].
x
 = 
ãm¥x
;

409 
po£s_œ£r
[0].
y
 = 
ãm¥y
;

410 
po£s_œ£r
[0].
th
 = 
ãm±h
;

412 
po£s_robŸ
[0].
x
 = 
ãm¥x
 - 
	`cos
(
ãm±h
)*15.5;

413 
po£s_robŸ
[0].
y
 = 
ãm¥y
 - 
	`sö
(
ãm±h
)*15.5;

414 
po£s_robŸ
[0].
th
 = 
ãm±h
;

416 
œ£r
.
	`execuã
();

419 
	}
}

	@processors/laser/laser.cpp

40 
	~"œ£r.h
"

43 
usög
 
«me•a˚
 
	gcimg_libøry
;

47 
Po£
 
	gpo£s_psm_œ£r
[1000];

48 
Po£
 
	gpo£s_psm
[1000];

49 
Po£
 
	gpo£s_modño
[1000];

50 
Po£
 
	gpo£s_modño_œ£r
[1000];

51 
Po£
 
	gpo£s_ekf
[1000];

52 
Po£
 
	gpo£s_ekf_œ£r
[1000];

54 
	gãm¥x
 = 0.0;

55 
	gãm¥y
 = 0.0;

56 
	gãm±h
 = 0.0;

58 
CImgDi•œy
 
	gdi•
;

59 
CImgDi•œy
 
	gdi•_modñ
;

60 
CImgDi•œy
 
	gdi•_psm
;

61 
	gCImg
<> 
img_EKF_bœnco
(
IMG_ANCHO
, 
IMG_ALTO
, 1, 4, 0);

62 
	gCImg
<> 
img_EKF
(
IMG_ANCHO
, 
IMG_ALTO
, 1, 4, 0);

63 
	gCImg
<> 
img
(
IMG_ANCHO
, 
IMG_ALTO
, 1, 4, 0);

64 
	gCImg
<> 
img_modño
(
IMG_ANCHO
, 
IMG_ALTO
, 1, 4, 0);

65 
ekf
 
	gekf_vÆ‹es
;

66 
	gLa£rPro˚ss‹
::
	$öô
() {

67 
	`¥ötf
("Laser Area\n");

68 
pCDAExecutive
 = (
ExecutiveD©a
 *Ë
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

69 
pCDALa£r
 = (
La£rD©a
 *Ë
cda
.
	`gëMemPå
(
LASER_AREA
);

70 
img_EKF_bœnco
.
	`fûl
(127);

71 
img_EKF
.
	`fûl
(127);

72 
img
.
	`fûl
(127);

73 
img_modño
.
	`fûl
(127);

75 
pCål
 = &(
pCDALa£r
->
˘æ
);

76 
£m_¨ó
 = 
LASER_AREA
;

77 
pCDALa£r
->
£nßr
 = 
åue
;

78 
pCDALa£r
->
img_Æto
 = 
IMG_ALTO
;

79 
pCDALa£r
->
img_™cho
 = 
IMG_ANCHO
;

80 
pCål
->
lo›
 = 
run_cmd
;

81 
	`¥ötf
("Síß∏%s\n", (
pCDALa£r
->
£nßr
) ? "SI" : "NO");

86 #ifde‡
WINDOWS_OS


87 c⁄° 
devi˚
[] = "COM3";

89 c⁄° 
devi˚
[] = "/dev/ttyACM0";

92 
	`pm_öô
();

94 
	`ekf_öô
(&
ekf_vÆ‹es
);

96 
	`öô_po£s
(

97 
po£s_psm_œ£r
,

98 
po£s_psm
,

99 
po£s_modño
,

100 
po£s_modño_œ£r
,

101 
po£s_ekf
,

102 
po£s_ekf_œ£r
,

103 
ãm¥x
,

104 
ãm¥y
,

105 
ãm±h


107 
	`Ârötf
(
°dout
, "Devi£:%s\n", 
devi˚
);

108 i‡(!
urg
.
	`c⁄√˘
(
devi˚
)) {

109 
	`Ârötf
(
°dout
, "UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

110 
	`exô
(1);

114 
	}
}

119 
	gLa£rPro˚ss‹
::
	$˛ónup
() {

121 
	}
}

124 
	mC≠tuªTimes
 = 1

128 
°©
 
	g°
 = {0};

130 
timevÆ
 
	gu…imo
;

133 
	gfûíame
[100];

134 
	gfûíame_ﬁd
[100];

135 
FILE
 *
	gpFûeM©œb
;

136 
	gtime°amp_ﬁd
 = 0;

138 
PMSˇn
 *
	gãr˚ro
;

139 
PM_TYPE
 
	gîr_idx
;

141 
	gLa£rPro˚ss‹
::
	$°ï
() {

144 
boﬁ
 
£nßr
 = 
pCDALa£r
 -> sensar;

145 
e°ado
 = 
pCDALa£r
 ->Éstado;

146 
timevÆ
 
a˘uÆ
;

148 i‡(
£nßr
) {

149 
	`gëtimeofday
(&
u…imo
, 
NULL
);

150 
cda
.
	`lockAªa
(
LASER_AREA
);

152 
time°amp
 = 0;

153 
ve˘‹
<> 
d©a
;

156 
out°r_fﬁdî
[200];

157 
out°r_fûe
[200];

159 
time_t
 
t
;

161 
timevÆ
 
tv
;

162 
tm
 *
tmp
;

163 
	`gëtimeofday
(&
tv
, 
NULL
);

164 
t
 = 
tv
.
tv_£c
;

166 
tmp
 = 
	`loˇ…ime
(&
t
);

167 i‡(
tmp
 =
NULL
) {

168 
	`≥º‹
("localtime");

169 
	`exô
(
EXIT_FAILURE
);

171 i‡(
	`°r·ime
(
out°r_fﬁdî
,  (out°r_fﬁdî), "%Y%2m%2d", 
tmp
) == 0) {

172 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

173 
	`exô
(
EXIT_FAILURE
);

175 
	`Ârötf
(
°dout
, "Dúe˘‹io:%s\n", 
out°r_fﬁdî
);

176 i‡(
	`°r·ime
(
out°r_fûe
,  (out°r_fûe), "%H%M%S", 
tmp
) == 0) {

177 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

178 
	`exô
(
EXIT_FAILURE
);

180 
	`Ârötf
(
°dout
, "Archivo:%s\n", 
out°r_fûe
);

181 i‡(
	`°©
(
out°r_fﬁdî
, &
°
) == -1) {

182 
	`mkdú
(
out°r_fﬁdî
, 0700);

188 
n
 = 
urg
.
	`ˇ±uª
(
d©a
, &
time°amp
);

191 
pCDALa£r
->
time°amp
 =Åimestamp;

193 
	`Ârötf
(
°dout
, "Archivo:%06d\n", (Ë
tv
.
tv_u£c
);

194 
	`•rötf
(
fûíame
, "%s/%s_%06d", 
out°r_fﬁdî
, 
out°r_fûe
, (Ë
tv
.
tv_u£c
);

196 
FILE
 * 
pFûe
;

197 
pFûe
 = 
	`f›í
(
fûíame
, "w");

199 
	`Ârötf
(
°dout
, "X:%f\nY:%f\nD:%f\n", 
pCDALa£r
->
x
,ÖCDALa£r->
y
,ÖCDALa£r->
dú
);

201 
	`Ârötf
(
pFûe
, "vd:\t%d\n", 
pCDALa£r
->
vr
);

202 
	`Ârötf
(
pFûe
, "vi:\t%d\n", 
pCDALa£r
->
vl
);

205 
j
 = 
LASER_START
; j < 
n
; ++j) {

206 i‡(
j
 <
LASER_END
 && j >
LASER_START
) {

208 
pCDALa£r
->
ªad_d©a
[
j
] = 
d©a
[j];

209 i‡(
¥imîa_medici⁄
) {

210 
¥imîo
->
r
[
j
 - 
LASER_START
] = 
d©a
[j] / 10;

211 
£gundo
->
r
[
j
 - 
LASER_START
] = 
¥imîo
->r[j - LASER_START];

213 
£gundo
->
r
[
j
 - 
LASER_START
] = 
d©a
[j] / 10;

214 
	`Ârötf
(
pFûe
, "%ld\n", 
d©a
[
j
]);

218 i‡(
¥imîa_medici⁄
) {

219 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

220 
¥imîa_medici⁄
 = 
Ál£
;

223 
¥imîo
->
rx
 = 0;

224 
¥imîo
->
ry
 = 0;

225 
¥imîo
->
th
 = 0;

227 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

228 
boﬁ
 
m©chFaûed
 = 
Ál£
;

230 
vr
 = 
pCDALa£r
->vr;

231 
vl
 = 
pCDALa£r
->vl;

238 
	`gë_√w_po£
(
	`gë_vd
(
vr
),
	`gë_vi
(vr),0.25,33,
£gundo
);

240 #ifde‡
IMG_SCAN


241 i‡(
n_po£
 > 0) {

243 
	`£t_img_sˇn
(
img_sˇn
, 
po£s_ekf_œ£r
[
n_po£
], 
img_EKF
, 
¥imîo
);

244 
åy
 {

245 
img_sˇn
->
rx
 = 0;

246 
img_sˇn
->
th
 = 0;

247 
img_sˇn
->
ry
 = 0;

248 
	`pm_¥ïro˚ssSˇn
(
img_sˇn
);

249 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

250 
	`pm_psm
(
img_sˇn
, 
£gundo
, 
NULL
);

251 
îr_idx
 = 
	`pm_îr‹_ödex2
(
img_sˇn
, 
£gundo
);

252 
cout
 << " %Éº(img): " << 
îr_idx
 << "\n";

253 } 
	`ˇtch
 (
îr
) {

254 
˚º
 << "Eº‹ " << 
îr
 << "ˇughà: faûed m©ch." << 
ídl
;

255 
m©chFaûed
 = 
åue
;

260 
åy
 {

262 
¥imîo
->
rx
 = 0;

263 
¥imîo
->
th
 = 0;

264 
¥imîo
->
ry
 = 0;

266 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

267 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

268 
	`pm_psm
(
¥imîo
, 
£gundo
, 
NULL
);

270 } 
	`ˇtch
 (
îr
) {

271 
˚º
 << "Eº‹ " << 
îr
 << "ˇughà: faûed m©ch." << 
ídl
;

272 
m©chFaûed
 = 
åue
;

274 
îr_idx
 = 
	`pm_îr‹_ödex2
(
¥imîo
, 
£gundo
);

275 
cout
 << " %Éº: " << 
îr_idx
 << "\n";

276 i‡(
m©chFaûed
 || 
îr_idx
 > 2) {

277 
åy
 {

278 
Po£
 
ãmp
;

280 
ãmp
.
x
 = 
£gundo
->
rx
;

281 
ãmp
.
y
 = 
£gundo
->
ry
;

282 
ãmp
.
th
 = 
£gundo
->th;

284 
Po£
 
‹igí
;

285 
‹igí
.
x
 = 0;

286 
‹igí
.
y
 = 0;

287 
‹igí
.
th
 = 0;

288 
Po£
 
√w_po£
 = 
	`gë_√w_po£_modñ
(-
	`gë_vd
(
vr
), -
	`gë_vi
(
vl
), 0.25, 
L_EJE
, 
‹igí
);

289 
£gundo
->
rx
 = 0;

290 
£gundo
->
ry
 = 0;

291 
£gundo
->
th
 = 0;

292 
¥imîo
->
rx
 = (
√w_po£
.
x
 - 
ãmp
.x) / 2;

293 
¥imîo
->
ry
 = (
√w_po£
.
y
 - 
ãmp
.y) / 2;

294 
¥imîo
->
th
 = (
√w_po£
.th - 
ãmp
.th) / 2;

295 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

296 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

297 
	`pm_psm
(
£gundo
, 
¥imîo
, 
NULL
);

298 
PM_TYPE
 
îr_idx_2
 = 
	`pm_îr‹_ödex2
(
£gundo
, 
¥imîo
);

299 
cout
 << " %Éº 2: " << 
îr_idx_2
 << "\n";

300 i‡(
îr_idx
 > 
îr_idx_2
) {

301 
£gundo
->
rx
 = -
¥imîo
->rx;

302 
£gundo
->
ry
 = -
¥imîo
->ry;

303 
£gundo
->
th
 = -
¥imîo
->th;

305 
£gundo
->
rx
 = 
ãmp
.
x
;

306 
£gundo
->
ry
 = 
ãmp
.
y
;

307 
£gundo
->
th
 = 
ãmp
.th;

308 
îr_idx
 = 
îr_idx_2
;

310 } 
	`ˇtch
 (
îr
) {

311 
˚º
 << "Eº‹ " << 
îr
 << "ˇughà: faûed m©ch." << 
ídl
;

312 
m©chFaûed
 = 
åue
;

316 #ifde‡
IMG_SCAN


320 
dx
 = 
£gundo
->
rx
;

321 
dy
 = 
£gundo
->
ry
;

322 
dth
 = 
£gundo
->
th
;

323 
xx
 = 
£gundo
->
rx
 * 
	`cos
(
ãm±h
Ë- segundo->
ry
 * 
	`sö
(tempth);

324 
yy
 = 
£gundo
->
rx
 * 
	`sö
(
ãm±h
Ë+ segundo->
ry
 * 
	`cos
(tempth);

325 
âh
 = 
£gundo
->
th
;

326 
£gundo
->
rx
 = 
xx
;

327 
£gundo
->
ry
 = 
yy
;

328 
£gundo
->
th
 = 
âh
;

330 
ãm¥x
 +
xx
;

331 
ãm¥y
 +
yy
;

332 
ãm±h
 +
âh
;

333 
n_po£
++;

334 
	`Ârötf
(
°dout
, "XX:%f\nYY:%f\nDD:%f\n", 
xx
, 
yy
,
âh
);

335 
po£s_psm_œ£r
[
n_po£
].
x
 = 
ãm¥x
;

336 
po£s_psm_œ£r
[
n_po£
].
y
 = 
ãm¥y
;

337 
po£s_psm_œ£r
[
n_po£
].
th
 = 
ãm±h
;

339 
po£s_psm
[
n_po£
].
x
 = 
ãm¥x
 - 
	`cos
(
ãm±h
)*15.5;

340 
po£s_psm
[
n_po£
].
y
 = 
ãm¥y
 - 
	`sö
(
ãm±h
)*15.5;

341 
po£s_psm
[
n_po£
].
th
 = 
ãm±h
;

342 
po£s_modño
[
n_po£
] = 
	`gë_√w_po£_modñ
(
	`gë_vd
(
vr
), 
	`gë_vi
(
vl
), 0.25, 
L_EJE
,Öoses_modelo[n_pose - 1]);

344 
po£s_modño_œ£r
[
n_po£
].
x
 = 
po£s_modño
[n_po£].x + 
	`cos
’o£s_modño[n_po£].
th
)*15.5;

345 
po£s_modño_œ£r
[
n_po£
].
y
 = 
po£s_modño
[n_po£].y + 
	`sö
’o£s_modño[n_po£].
th
)*15.5;

346 
po£s_modño_œ£r
[
n_po£
].
th
 = 
po£s_modño
[n_pose].th;

348 
	`ekf_£t_vÆ‹es
(

349 &
ekf_vÆ‹es
,

350 
po£s_ekf
[
n_po£
 - 1],

351 
po£s_ekf_œ£r
[
n_po£
 - 1],

352 
L_EJE
, 
	`gë_vd
(
vr
),

353 
	`gë_vi
(
vl
),

354 
dth
, 
dx
, 
dy
);

355 
	`ekf_pk_˝y
(&
ekf_vÆ‹es
);

356 
	`ekf_ˇlc_1
(&
ekf_vÆ‹es
);

357 
	`ekf_ˇlc_kk
(&
ekf_vÆ‹es
);

358 
	`ekf_ˇlc_yk
(&
ekf_vÆ‹es
);

359 
	`ekf_ˇlc_pk
(&
ekf_vÆ‹es
);

361 
po£s_ekf
[
n_po£
].
x
 = 
ekf_vÆ‹es
.
x_k
[0][0];

362 
po£s_ekf
[
n_po£
].
y
 = 
ekf_vÆ‹es
.
x_k
[1][0];

363 
po£s_ekf
[
n_po£
].
th
 = 
ekf_vÆ‹es
.
x_k
[2][0];

365 
po£s_ekf_œ£r
[
n_po£
].
x
 = 
po£s_ekf
[n_po£].x + 
	`cos
’o£s_ekf[n_po£].
th
)*15.5;

366 
po£s_ekf_œ£r
[
n_po£
].
y
 = 
po£s_ekf
[n_po£].y + 
	`sö
’o£s_ekf[n_po£].
th
)*15.5;

367 
po£s_ekf_œ£r
[
n_po£
].
th
 = 
po£s_ekf
[n_pose].th;

369 
	`£t_v_hi°o
(
vr
, 
vl
, 
po£s_ekf_œ£r
[
n_po£
 - 1],Öo£s_ekf_œ£r[n_po£], 
L_EJE
);

372 
	`£t_image
(
£gundo
, 
po£s_ekf_œ£r
[
n_po£
], 
img_EKF
);

373 
	`£t_image_cﬁ‹
(
£gundo
, 
po£s_ekf_œ£r
[
n_po£
], 
img_EKF
, 
azul
);

374 i‡(
n_po£
 > 1)

375 
	`£t_image_cﬁ‹_bœnco
(
img_sˇn
, 
po£s_ekf_œ£r
[
n_po£
 - 1], 
img_EKF_bœnco
, 
bœck
);

377 #ifde‡
PLOT_ALL


378 
CImg
<> 
	`img_ãmp_ekf
(
img_EKF
);

379 
	`£t_image_cﬁ‹
(
¥imîo
, 
po£s_ekf_œ£r
[
n_po£
 - 1], 
img_ãmp_ekf
, 
vîde
);

380 
	`£t_image_cﬁ‹
(
img_sˇn
, 
po£s_ekf_œ£r
[
n_po£
 - 1], 
img_ãmp_ekf
, 
rojo
);

381 
	`dibuj¨_robŸ
(
£gundo
, 
po£s_ekf_œ£r
[
n_po£
], 
po£s_ekf
[n_po£], 
img_ãmp_ekf
);

382 
	`dibuj¨_po£s
(
po£s_ekf_œ£r
, 
po£s_ekf
, 
n_po£
, 
img_ãmp_ekf
);

383 
puΩÀ
[] = { 255,0,255 };

384 
img_ãmp_ekf
.
	`døw_ãxt
(50,5,"EKF",

385 
whôe
,
NULL
,1);

391 
	`£t_image
(
£gundo
, 
po£s_modño_œ£r
[
n_po£
], 
img_modño
);

392 
CImg
<> 
	`img_ãmp_modño
(
img_modño
);

393 
	`dibuj¨_robŸ
(
£gundo
, 
po£s_modño_œ£r
[
n_po£
], 
po£s_modño
[n_po£], 
img_ãmp_modño
);

394 
	`dibuj¨_po£s
(
po£s_modño_œ£r
, 
po£s_modño
, 
n_po£
, 
img_ãmp_modño
);

403 
	`£t_image_cﬁ‹_bœnco
(
£gundo
, 
po£s_psm_œ£r
[
n_po£
], 
img
, 
bœck
);

404 
	`£t_image
(
£gundo
, 
po£s_psm_œ£r
[
n_po£
], 
img
);

405 
CImg
<> 
	`img_ãmp_psm
(
img
);

406 
	`dibuj¨_robŸ
(
£gundo
, 
po£s_psm_œ£r
[
n_po£
], 
po£s_psm
[n_po£], 
img_ãmp_psm
);

407 
	`dibuj¨_po£s
(
po£s_psm_œ£r
, 
po£s_psm
, 
n_po£
, 
img_ãmp_psm
);

411 
di•_psm
.
	`di•œy
(
img_ãmp_psm
);

413 #ifde‡
PLOT_ALL


414 
di•
.
	`di•œy
(
img_ãmp_ekf
);

415 
di•_modñ
.
	`di•œy
(
img_ãmp_modño
);

418 
ãr˚ro
 = 
£gundo
;

419 
£gundo
 = 
¥imîo
;

420 
¥imîo
 = 
ãr˚ro
;

422 
time°amp_ﬁd
 = 
tv
.
tv_u£c
;

423 
	`f˛o£
(
pFûe
);

424 
	`°r˝y
(
fûíame_ﬁd
, 
fûíame
);

426 
pCDALa£r
 -> 
x
 = 
ãm¥x
;

427 
pCDALa£r
 -> 
y
 = 
ãm¥y
;

428 
pCDALa£r
 -> 
dú
 = 
ãm±h
;

429 
pCDALa£r
 -> 
£nßr
 = 
Ál£
;

430 i‡(
vl
 !0 || 
vr
 != 0){

431 
pCDALa£r
 -> 
dx
 = 
xx
;

432 
pCDALa£r
 -> 
dy
 = 
yy
;

433 
pCDALa£r
 -> 
ddú
 = 
âh
;

436 
	`cimg_f‹XY
(
img
,
xx
,
yy
){

437 
pCDALa£r
 -> 
m≠
[
xx
][
yy
] = 
	`img
(xx,yy,0);

439 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

442 
	}
}

452 
	$maö
() {

453 
	`Ârötf
(
°dout
, "\nIRMA2: Laser Process \n");

454 
La£rPro˚ss‹
 
œ£r
;

455 
di•
.
	`di•œy
(
img_EKF_bœnco
);

456 #ifde‡
PLOT_ALL


457 
di•_modñ
.
	`di•œy
(
img_modño
);

458 
di•_psm
.
	`di•œy
(
img
);

460 
œ£r
.
	`execuã
();

463 
	}
}

	@processors/laser/laser.h

38 #i‚de‡
_IRMA2_LASER_H_


39 
	#_IRMA2_LASER_H_


	)

44 
	~<ve˘‹
>

45 
	~<sys/shm.h
>

46 
	~<uni°d.h
>

47 
	~<°dio.h
>

48 
	~<°rög.h
>

49 
	~<f°ªam
>

50 
	~<m©h.h
>

51 
	~"urg-0.8.18/ö˛ude/˝p/UrgDevi˚.h
"

52 
	~"pﬁ¨_m©chög/pﬁ¨_m©chög/pﬁ¨_m©ch.h
"

53 
	~<io°ªam
>

54 
	~<ˇs£π
>

55 
	~<loˇÀ
>

56 
	~<°dlib.h
>

57 
	~<dúít.h
>

58 
	~<sys/°©.h
>

59 
	~<sys/time.h
>

60 
	~"CImg.h
"

61 
	~"ekf.h
"

62 
	~"võw.h
"

63 
	~"ˇlculos.h
"

65 
	~<c°dlib
>

66 
	~<c°dio
>

67 
	~<sys/ty≥s.h
>

69 
	~"../ba£/¥o˚ss‹.h
"

70 
	~"../../comm⁄/c⁄figFûe/c⁄figFûe.h
"

75 
	#INTERP
 1

76 
	#NIT
 10

77 
	#GATE1
 0.5

78 
	#GATE2
 0.05

80 
	#MAXR
 = 7.8

81 

	)

85 c⁄° 
	gN_ANGULOS
 = 726;

91 
usög
 
«me•a˚
 
	gqrk
;

92 
usög
 
«me•a˚
 
	g°d
;

93 
	gn_po£
 = 0;

94 ˛as†
	cLa£rPro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚
 {

95 
¥iv©e
:

97 
ExecutiveD©a
 *
pCDAExecutive
;

98 
La£rD©a
 *
	mpCDALa£r
;

99 
	mx
[
N_ANGULOS
];

100 
UrgDevi˚
 
	murg
;

101 
	m¶ìp_time
;

102 
boﬁ
 
	m¥imîa_medici⁄
;

103 
PMSˇn
 *
	m¥imîo
;

104 
PMSˇn
 *
	m£gundo
;

105 
PMSˇn
 *
	mimg_sˇn
;

106 
	mpublic
:

108 
	$La£rPro˚ss‹
() {

110 
	`¥ötf
("Constructor\n");

111 
¥imîa_medici⁄
 = 
åue
;

112 
¥imîo
 = (
PMSˇn
 *Ë
	`mÆloc
( (PMScan));

113 
£gundo
 = (
PMSˇn
 *Ë
	`mÆloc
( (PMScan));

114 
img_sˇn
 = (
PMSˇn
 *Ë
	`mÆloc
( (PMScan));

117 
	`öô
();

118 
	`°ï
();

119 
	`˛ónup
();

120 
	}
};

	@processors/laser/laser_old.c

40 
	~"œ£r.h
"

43 
usög
 
«me•a˚
 
	gcimg_libøry
;

46 
Po£
 
	gpo£s_œ£r
[1000];

47 
Po£
 
	gpo£s_robŸ
[1000];

48 
CImgDi•œy
 
	gdi•
;

49 
	gCImg
<> 
img
(
IMG_ANCHO
, 
IMG_ALTO
, 1, 4, 0);

50 
	gLa£rPro˚ss‹
::
	$öô
() {

51 
	`¥ötf
("Laser Area\n");

52 
pCDAExecutive
 = (
ExecutiveD©a
 *Ë
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

53 
pCDALa£r
 = (
La£rD©a
 *Ë
cda
.
	`gëMemPå
(
LASER_AREA
);

54 
img
.
	`fûl
(127);

55 
pCål
 = &(
pCDALa£r
->
˘æ
);

56 
£m_¨ó
 = 
LASER_AREA
;

57 
pCDALa£r
->
£nßr
 = 
åue
;

58 
pCål
->
lo›
 = 
run_cmd
;

59 
	`¥ötf
("Síß∏%s\n", (
pCDALa£r
->
£nßr
) ? "SI" : "NO");

64 #ifde‡
WINDOWS_OS


65 c⁄° 
devi˚
[] = "COM3";

67 c⁄° 
devi˚
[] = "/dev/ttyACM0";

70 
	`pm_öô
();

71 
	`Ârötf
(
°dout
, "Devi£:%s\n", 
devi˚
);

72 i‡(!
urg
.
	`c⁄√˘
(
devi˚
)) {

73 
	`Ârötf
(
°dout
, "UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

74 
	`exô
(1);

78 
	}
}

83 
	gLa£rPro˚ss‹
::
	$˛ónup
() {

85 
	}
}

88 
	mC≠tuªTimes
 = 1

92 
°©
 
	g°
 = {0};

107 
timevÆ
 
	gu…imo
;

108 
	gãm¥x
 = 0.0;

109 
	gãm¥y
 = 0.0;

110 
	gãm±h
 = 0.0;

112 
	gfûíame
[100];

113 
	gfûíame_ﬁd
[100];

114 
FILE
 *
	gpFûeM©œb
;

115 
	gtime°amp_ﬁd
 = 0;

117 
PMSˇn
 *
	gãr˚ro
;

120 
	gLa£rPro˚ss‹
::
	$°ï
() {

123 
boﬁ
 
£nßr
 = 
pCDALa£r
 -> sensar;

124 
e°ado
 = 
pCDALa£r
 ->Éstado;

125 
timevÆ
 
a˘uÆ
;

129 i‡(
£nßr
) {

130 
	`gëtimeofday
(&
u…imo
, 
NULL
);

131 
cda
.
	`lockAªa
(
LASER_AREA
);

133 
time°amp
 = 0;

134 
ve˘‹
<> 
d©a
;

137 
out°r_fﬁdî
[200];

138 
out°r_fûe
[200];

140 
time_t
 
t
;

142 
timevÆ
 
tv
;

143 
tm
 *
tmp
;

144 
	`gëtimeofday
(&
tv
, 
NULL
);

145 
t
 = 
tv
.
tv_£c
;

147 
tmp
 = 
	`loˇ…ime
(&
t
);

148 i‡(
tmp
 =
NULL
) {

149 
	`≥º‹
("localtime");

150 
	`exô
(
EXIT_FAILURE
);

152 i‡(
	`°r·ime
(
out°r_fﬁdî
,  (out°r_fﬁdî), "%Y%2m%2d", 
tmp
) == 0) {

153 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

154 
	`exô
(
EXIT_FAILURE
);

156 
	`Ârötf
(
°dout
, "Dúe˘‹io:%s\n", 
out°r_fﬁdî
);

157 i‡(
	`°r·ime
(
out°r_fûe
,  (out°r_fûe), "%H%M%S", 
tmp
) == 0) {

158 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

159 
	`exô
(
EXIT_FAILURE
);

161 
	`Ârötf
(
°dout
, "Archivo:%s\n", 
out°r_fûe
);

162 i‡(
	`°©
(
out°r_fﬁdî
, &
°
) == -1) {

163 
	`mkdú
(
out°r_fﬁdî
, 0700);

169 
n
 = 
urg
.
	`ˇ±uª
(
d©a
, &
time°amp
);

173 
pCDALa£r
->
time°amp
 =Åimestamp;

175 
	`Ârötf
(
°dout
, "Archivo:%06d\n", (Ë
tv
.
tv_u£c
);

176 
	`•rötf
(
fûíame
, "%s/%s_%06d", 
out°r_fﬁdî
, 
out°r_fûe
, (Ë
tv
.
tv_u£c
);

182 
FILE
 * 
pFûe
;

183 
pFûe
 = 
	`f›í
(
fûíame
, "w");

185 
	`Ârötf
(
°dout
, "X:%f\nY:%f\nD:%f\n", 
pCDALa£r
->
x
,ÖCDALa£r->
y
,ÖCDALa£r->
dú
);

188 
	`Ârötf
(
pFûe
, "vR:\t%d\n", 
pCDALa£r
->
vr
);

189 
	`Ârötf
(
pFûe
, "SL:\t%d\n", 
pCDALa£r
->
vl
);

192 
j
 = 
LASER_START
; j < 
n
; ++j) {

193 i‡(
j
 <
LASER_END
 && j >
LASER_START
) {

195 
pCDALa£r
->
ªad_d©a
[
j
] = 
d©a
[j];

196 i‡(
¥imîa_medici⁄
) {

197 
¥imîo
->
r
[
j
 - 
LASER_START
] = 
d©a
[j] / 10;

198 
£gundo
->
r
[
j
 - 
LASER_START
] = 
¥imîo
->r[j - LASER_START];

200 
£gundo
->
r
[
j
 - 
LASER_START
] = 
d©a
[j] / 10;

201 
	`Ârötf
(
pFûe
, "%ld\n", 
d©a
[
j
]);

207 i‡(
¥imîa_medici⁄
) {

208 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

209 
¥imîa_medici⁄
 = 
Ál£
;

213 
¥imîo
->
rx
 = 0;

214 
¥imîo
->
ry
 = 0;

215 
¥imîo
->
th
 = 0;

217 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

218 
boﬁ
 
m©chFaûed
 = 
Ál£
;

219 
åy
 {

220 
¥imîo
->
rx
 = 0;

221 
¥imîo
->
th
 = 0;

222 
¥imîo
->
ry
 = 0;

227 
vr
 = 
pCDALa£r
->vr;

228 
vl
 = 
pCDALa£r
->vl;

235 
	`gë_√w_po£
(
vr
/1.4,
vl
/1.4,0.25,29.4,
£gundo
);

239 
	`pm_psm
(
¥imîo
, 
£gundo
, 
NULL
);

244 } 
	`ˇtch
 (
îr
) {

245 
˚º
 << "Eº‹ caught: faûed m©ch." << 
ídl
;

246 
m©chFaûed
 = 
åue
;

249 
PM_TYPE
 
îr_idx
 = 
	`pm_îr‹_ödex2
(
¥imîo
, 
£gundo
);

250 
cout
 << " %Éº: " << 
îr_idx
 << "\n";

251 i‡(
m©chFaûed
 || 
îr_idx
 > 5.0) {

252 
	`¥ötf
("Nueva Prueba.\n");

253 
åy
 {

254 
Po£
 
ãmp
;

255 
ãmp
.
x
 = 
£gundo
->
rx
;

256 
ãmp
.
y
 = 
£gundo
->
ry
;

257 
ãmp
.
th
 = 
£gundo
->th;

259 
£gundo
->
rx
 = 0;

260 
£gundo
->
ry
 = 0;

261 
£gundo
->
th
 = 0;

262 
¥imîo
->
rx
 = 0;

263 
¥imîo
->
ry
 = 0;

264 
¥imîo
->
th
 = 0;

265 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

266 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

267 
	`pm_psm
(
£gundo
, 
¥imîo
, 
NULL
);

268 
PM_TYPE
 
îr_idx_2
 = 
	`pm_îr‹_ödex2
(
£gundo
, 
¥imîo
);

269 
cout
 << " %Éº 2: " << 
îr_idx_2
 << "\n";

270 i‡(
îr_idx
 > 
îr_idx_2
) {

271 
£gundo
->
rx
 = -
¥imîo
->rx;

272 
£gundo
->
ry
 = -
¥imîo
->ry;

273 
£gundo
->
th
 = -
¥imîo
->th;

275 
£gundo
->
rx
 = 
ãmp
.
x
;

276 
£gundo
->
ry
 = 
ãmp
.
y
;

277 
£gundo
->
th
 = 
ãmp
.th;

278 
îr_idx
 = 
îr_idx_2
;

280 } 
	`ˇtch
 (
îr
) {

281 
˚º
 << "Eº‹ " << 
îr
 << "ˇughà: faûed m©ch." << 
ídl
;

282 
m©chFaûed
 = 
åue
;

286 
	`Ârötf
(
°dout
, "\n");

287 i‡(
pCDAExecutive
->
⁄_movög
) {

288 
	`Ârötf
(
pFûe
, "SP:\t%f\n", 
pCDAExecutive
->
exec_•ìd
);

289 
	`Ârötf
(
pFûe
, "St:\t%f\n", 
pCDAExecutive
->
exec_°ìrög
);

291 
	`Ârötf
(
pFûe
, "SP:\t0\n");

292 
	`Ârötf
(
pFûe
, "St:\t0\n");

296 
xx
 = 
£gundo
->
rx
 * 
	`cos
(
ãm±h
Ë- segundo->
ry
 * 
	`sö
(tempth);

297 
yy
 = 
£gundo
->
rx
 * 
	`sö
(
ãm±h
Ë+ segundo->
ry
 * 
	`cos
(tempth);

298 
âh
 = 
£gundo
->
th
;

299 
£gundo
->
rx
 = 
xx
;

300 
£gundo
->
ry
 = 
yy
;

301 
£gundo
->
th
 = 
âh
;

307 
ãm¥x
 +
xx
;

308 
ãm¥y
 +
yy
;

309 
ãm±h
 +
âh
;

311 
n_po£
++;

312 
po£s_œ£r
[
n_po£
].
x
 = 
ãm¥x
;

313 
po£s_œ£r
[
n_po£
].
y
 = 
ãm¥y
;

314 
po£s_œ£r
[
n_po£
].
th
 = 
ãm±h
;

316 
po£s_robŸ
[
n_po£
].
x
 = 
ãm¥x
 - 
	`cos
(
ãm±h
)*15.5;

317 
po£s_robŸ
[
n_po£
].
y
 = 
ãm¥y
 - 
	`sö
(
ãm±h
)*15.5;

318 
po£s_robŸ
[
n_po£
].
th
 = 
ãm±h
;

321 
	`£t_image_cﬁ‹_bœnco
(
£gundo
, 
po£s_œ£r
[
n_po£
], 
img
);

329 
di•
.
	`di•œy
(
img
);

330 
ãr˚ro
 = 
£gundo
;

331 
£gundo
 = 
¥imîo
;

332 
¥imîo
 = 
ãr˚ro
;

334 
time°amp_ﬁd
 = 
tv
.
tv_u£c
;

335 
	`f˛o£
(
pFûe
);

336 
	`°r˝y
(
fûíame_ﬁd
, 
fûíame
);

337 
pCDALa£r
 -> 
x
 = 
ãm¥x
;

338 
pCDALa£r
 -> 
y
 = 
ãm¥y
;

339 
pCDALa£r
 -> 
dú
 = 
ãm±h
;

340 
pCDALa£r
 -> 
£nßr
 = 
Ál£
;

341 
	`cimg_f‹XY
(
img
,
xx
,
yy
){

342 
pCDALa£r
 -> 
m≠
[
xx
][
yy
] = 
	`img
(xx,yy,0);

345 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

351 
	}
}

361 
	$maö
() {

362 
	`Ârötf
(
°dout
, "\nIRMA2: Laser Process \n");

363 
La£rPro˚ss‹
 
œ£r
;

364 
di•
.
	`di•œy
(
img
);

366 
po£s_œ£r
[0].
x
 = 
ãm¥x
;

367 
po£s_œ£r
[0].
y
 = 
ãm¥y
;

368 
po£s_œ£r
[0].
th
 = 
ãm±h
;

370 
po£s_robŸ
[0].
x
 = 
ãm¥x
 - 
	`cos
(
ãm±h
)*15.5;

371 
po£s_robŸ
[0].
y
 = 
ãm¥y
 - 
	`sö
(
ãm±h
)*15.5;

372 
po£s_robŸ
[0].
th
 = 
ãm±h
;

374 
œ£r
.
	`execuã
();

377 
	}
}

	@processors/laser/laser_old.cpp

40 
	~"œ£r.h
"

43 
usög
 
«me•a˚
 
	gcimg_libøry
;

46 
Po£
 
	gpo£s_œ£r
[1000];

47 
Po£
 
	gpo£s_robŸ
[1000];

48 
CImgDi•œy
 
	gdi•
;

49 
	gCImg
<> 
img
(
IMG_ANCHO
, 
IMG_ALTO
, 1, 4, 0);

50 
	gLa£rPro˚ss‹
::
	$öô
() {

51 
	`¥ötf
("Laser Area\n");

52 
pCDAExecutive
 = (
ExecutiveD©a
 *Ë
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

53 
pCDALa£r
 = (
La£rD©a
 *Ë
cda
.
	`gëMemPå
(
LASER_AREA
);

54 
img
.
	`fûl
(127);

55 
pCål
 = &(
pCDALa£r
->
˘æ
);

56 
£m_¨ó
 = 
LASER_AREA
;

57 
pCDALa£r
->
£nßr
 = 
åue
;

58 
pCål
->
lo›
 = 
run_cmd
;

59 
	`¥ötf
("Síß∏%s\n", (
pCDALa£r
->
£nßr
) ? "SI" : "NO");

64 #ifde‡
WINDOWS_OS


65 c⁄° 
devi˚
[] = "COM3";

67 c⁄° 
devi˚
[] = "/dev/ttyACM0";

70 
	`pm_öô
();

71 
	`Ârötf
(
°dout
, "Devi£:%s\n", 
devi˚
);

72 i‡(!
urg
.
	`c⁄√˘
(
devi˚
)) {

73 
	`Ârötf
(
°dout
, "UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

74 
	`exô
(1);

78 
	}
}

83 
	gLa£rPro˚ss‹
::
	$˛ónup
() {

85 
	}
}

88 
	mC≠tuªTimes
 = 1

92 
°©
 
	g°
 = {0};

107 
timevÆ
 
	gu…imo
;

108 
	gãm¥x
 = 0.0;

109 
	gãm¥y
 = 0.0;

110 
	gãm±h
 = 0.0;

112 
	gfûíame
[100];

113 
	gfûíame_ﬁd
[100];

114 
FILE
 *
	gpFûeM©œb
;

115 
	gtime°amp_ﬁd
 = 0;

117 
PMSˇn
 *
	gãr˚ro
;

120 
	gLa£rPro˚ss‹
::
	$°ï
() {

123 
boﬁ
 
£nßr
 = 
pCDALa£r
 -> sensar;

124 
e°ado
 = 
pCDALa£r
 ->Éstado;

125 
timevÆ
 
a˘uÆ
;

129 i‡(
£nßr
) {

130 
	`gëtimeofday
(&
u…imo
, 
NULL
);

131 
cda
.
	`lockAªa
(
LASER_AREA
);

133 
time°amp
 = 0;

134 
ve˘‹
<> 
d©a
;

137 
out°r_fﬁdî
[200];

138 
out°r_fûe
[200];

140 
time_t
 
t
;

142 
timevÆ
 
tv
;

143 
tm
 *
tmp
;

144 
	`gëtimeofday
(&
tv
, 
NULL
);

145 
t
 = 
tv
.
tv_£c
;

147 
tmp
 = 
	`loˇ…ime
(&
t
);

148 i‡(
tmp
 =
NULL
) {

149 
	`≥º‹
("localtime");

150 
	`exô
(
EXIT_FAILURE
);

152 i‡(
	`°r·ime
(
out°r_fﬁdî
,  (out°r_fﬁdî), "%Y%2m%2d", 
tmp
) == 0) {

153 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

154 
	`exô
(
EXIT_FAILURE
);

156 
	`Ârötf
(
°dout
, "Dúe˘‹io:%s\n", 
out°r_fﬁdî
);

157 i‡(
	`°r·ime
(
out°r_fûe
,  (out°r_fûe), "%H%M%S", 
tmp
) == 0) {

158 
	`Ârötf
(
°dîr
, "strftimeÑeturned 0");

159 
	`exô
(
EXIT_FAILURE
);

161 
	`Ârötf
(
°dout
, "Archivo:%s\n", 
out°r_fûe
);

162 i‡(
	`°©
(
out°r_fﬁdî
, &
°
) == -1) {

163 
	`mkdú
(
out°r_fﬁdî
, 0700);

169 
n
 = 
urg
.
	`ˇ±uª
(
d©a
, &
time°amp
);

173 
pCDALa£r
->
time°amp
 =Åimestamp;

175 
	`Ârötf
(
°dout
, "Archivo:%06d\n", (Ë
tv
.
tv_u£c
);

176 
	`•rötf
(
fûíame
, "%s/%s_%06d", 
out°r_fﬁdî
, 
out°r_fûe
, (Ë
tv
.
tv_u£c
);

182 
FILE
 * 
pFûe
;

183 
pFûe
 = 
	`f›í
(
fûíame
, "w");

185 
	`Ârötf
(
°dout
, "X:%f\nY:%f\nD:%f\n", 
pCDALa£r
->
x
,ÖCDALa£r->
y
,ÖCDALa£r->
dú
);

188 
	`Ârötf
(
pFûe
, "vR:\t%d\n", 
pCDALa£r
->
vr
);

189 
	`Ârötf
(
pFûe
, "SL:\t%d\n", 
pCDALa£r
->
vl
);

192 
j
 = 
LASER_START
; j < 
n
; ++j) {

193 i‡(
j
 <
LASER_END
 && j >
LASER_START
) {

195 
pCDALa£r
->
ªad_d©a
[
j
] = 
d©a
[j];

196 i‡(
¥imîa_medici⁄
) {

197 
¥imîo
->
r
[
j
 - 
LASER_START
] = 
d©a
[j] / 10;

198 
£gundo
->
r
[
j
 - 
LASER_START
] = 
¥imîo
->r[j - LASER_START];

200 
£gundo
->
r
[
j
 - 
LASER_START
] = 
d©a
[j] / 10;

201 
	`Ârötf
(
pFûe
, "%ld\n", 
d©a
[
j
]);

207 i‡(
¥imîa_medici⁄
) {

208 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

209 
¥imîa_medici⁄
 = 
Ál£
;

213 
¥imîo
->
rx
 = 0;

214 
¥imîo
->
ry
 = 0;

215 
¥imîo
->
th
 = 0;

217 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

218 
boﬁ
 
m©chFaûed
 = 
Ál£
;

219 
åy
 {

220 
¥imîo
->
rx
 = 0;

221 
¥imîo
->
th
 = 0;

222 
¥imîo
->
ry
 = 0;

227 
vr
 = 
pCDALa£r
->vr;

228 
vl
 = 
pCDALa£r
->vl;

235 
	`gë_√w_po£
(
vr
/1.4,
vl
/1.4,0.25,29.4,
£gundo
);

239 
	`pm_psm
(
¥imîo
, 
£gundo
, 
NULL
);

244 } 
	`ˇtch
 (
îr
) {

245 
˚º
 << "Eº‹ caught: faûed m©ch." << 
ídl
;

246 
m©chFaûed
 = 
åue
;

249 
PM_TYPE
 
îr_idx
 = 
	`pm_îr‹_ödex2
(
¥imîo
, 
£gundo
);

250 
cout
 << " %Éº: " << 
îr_idx
 << "\n";

251 i‡(
m©chFaûed
 || 
îr_idx
 > 5.0) {

252 
	`¥ötf
("Nueva Prueba.\n");

253 
åy
 {

254 
Po£
 
ãmp
;

255 
ãmp
.
x
 = 
£gundo
->
rx
;

256 
ãmp
.
y
 = 
£gundo
->
ry
;

257 
ãmp
.
th
 = 
£gundo
->th;

259 
£gundo
->
rx
 = 0;

260 
£gundo
->
ry
 = 0;

261 
£gundo
->
th
 = 0;

262 
¥imîo
->
rx
 = 0;

263 
¥imîo
->
ry
 = 0;

264 
¥imîo
->
th
 = 0;

265 
	`pm_¥ïro˚ssSˇn
(
¥imîo
);

266 
	`pm_¥ïro˚ssSˇn
(
£gundo
);

267 
	`pm_psm
(
£gundo
, 
¥imîo
, 
NULL
);

268 
PM_TYPE
 
îr_idx_2
 = 
	`pm_îr‹_ödex2
(
£gundo
, 
¥imîo
);

269 
cout
 << " %Éº 2: " << 
îr_idx_2
 << "\n";

270 i‡(
îr_idx
 > 
îr_idx_2
) {

271 
£gundo
->
rx
 = -
¥imîo
->rx;

272 
£gundo
->
ry
 = -
¥imîo
->ry;

273 
£gundo
->
th
 = -
¥imîo
->th;

275 
£gundo
->
rx
 = 
ãmp
.
x
;

276 
£gundo
->
ry
 = 
ãmp
.
y
;

277 
£gundo
->
th
 = 
ãmp
.th;

278 
îr_idx
 = 
îr_idx_2
;

280 } 
	`ˇtch
 (
îr
) {

281 
˚º
 << "Eº‹ " << 
îr
 << "ˇughà: faûed m©ch." << 
ídl
;

282 
m©chFaûed
 = 
åue
;

286 
	`Ârötf
(
°dout
, "\n");

287 i‡(
pCDAExecutive
->
⁄_movög
) {

288 
	`Ârötf
(
pFûe
, "SP:\t%f\n", 
pCDAExecutive
->
exec_•ìd
);

289 
	`Ârötf
(
pFûe
, "St:\t%f\n", 
pCDAExecutive
->
exec_°ìrög
);

291 
	`Ârötf
(
pFûe
, "SP:\t0\n");

292 
	`Ârötf
(
pFûe
, "St:\t0\n");

296 
xx
 = 
£gundo
->
rx
 * 
	`cos
(
ãm±h
Ë- segundo->
ry
 * 
	`sö
(tempth);

297 
yy
 = 
£gundo
->
rx
 * 
	`sö
(
ãm±h
Ë+ segundo->
ry
 * 
	`cos
(tempth);

298 
âh
 = 
£gundo
->
th
;

299 
£gundo
->
rx
 = 
xx
;

300 
£gundo
->
ry
 = 
yy
;

301 
£gundo
->
th
 = 
âh
;

307 
ãm¥x
 +
xx
;

308 
ãm¥y
 +
yy
;

309 
ãm±h
 +
âh
;

311 
n_po£
++;

312 
po£s_œ£r
[
n_po£
].
x
 = 
ãm¥x
;

313 
po£s_œ£r
[
n_po£
].
y
 = 
ãm¥y
;

314 
po£s_œ£r
[
n_po£
].
th
 = 
ãm±h
;

316 
po£s_robŸ
[
n_po£
].
x
 = 
ãm¥x
 - 
	`cos
(
ãm±h
)*15.5;

317 
po£s_robŸ
[
n_po£
].
y
 = 
ãm¥y
 - 
	`sö
(
ãm±h
)*15.5;

318 
po£s_robŸ
[
n_po£
].
th
 = 
ãm±h
;

321 
	`£t_image_cﬁ‹_bœnco
(
£gundo
, 
po£s_œ£r
[
n_po£
], 
img
);

329 
di•
.
	`di•œy
(
img
);

330 
ãr˚ro
 = 
£gundo
;

331 
£gundo
 = 
¥imîo
;

332 
¥imîo
 = 
ãr˚ro
;

334 
time°amp_ﬁd
 = 
tv
.
tv_u£c
;

335 
	`f˛o£
(
pFûe
);

336 
	`°r˝y
(
fûíame_ﬁd
, 
fûíame
);

337 
pCDALa£r
 -> 
x
 = 
ãm¥x
;

338 
pCDALa£r
 -> 
y
 = 
ãm¥y
;

339 
pCDALa£r
 -> 
dú
 = 
ãm±h
;

340 
pCDALa£r
 -> 
£nßr
 = 
Ál£
;

341 
	`cimg_f‹XY
(
img
,
xx
,
yy
){

342 
pCDALa£r
 -> 
m≠
[
xx
][
yy
] = 
	`img
(xx,yy,0);

345 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

351 
	}
}

361 
	$maö
() {

362 
	`Ârötf
(
°dout
, "\nIRMA2: Laser Process \n");

363 
La£rPro˚ss‹
 
œ£r
;

364 
di•
.
	`di•œy
(
img
);

366 
po£s_œ£r
[0].
x
 = 
ãm¥x
;

367 
po£s_œ£r
[0].
y
 = 
ãm¥y
;

368 
po£s_œ£r
[0].
th
 = 
ãm±h
;

370 
po£s_robŸ
[0].
x
 = 
ãm¥x
 - 
	`cos
(
ãm±h
)*15.5;

371 
po£s_robŸ
[0].
y
 = 
ãm¥y
 - 
	`sö
(
ãm±h
)*15.5;

372 
po£s_robŸ
[0].
th
 = 
ãm±h
;

374 
œ£r
.
	`execuã
();

377 
	}
}

	@processors/laser/matlabfile.c

1 
	~<m©œbfûe.h
>

4 
FILE
 *
	gpFûeM©œb
;

6 
	$ˇbezîa_m©œb
(c⁄° * 
dúe˘‹io
, 
time°amp
, 
time°amp_ﬁd
, c⁄° * 
time
, c⁄° * 
¨chivo
, c⁄° * 
¨chivo_ﬁd
,
ãm¥x
,
ãm¥y
,
ãm±h
) {

11 
fûíame_m©œb
[100];

13 
	`•rötf
(
fûíame_m©œb
, "m©_%s_%06ld.m", 
time
, 
time°amp
);

14 
	`¥ötf
("ArchivÿM©œb: %s", 
fûíame_m©œb
);

15 
pFûeM©œb
 = 
	`f›í
(
fûíame_m©œb
, "w");

17 
	`Ârötf
(
pFûeM©œb
, "ifÇot(exist('poses'))\nÖoses= [];\nend\n");

18 
	`Ârötf
(
pFûeM©œb
, "fûíamê'%s';\n", 
¨chivo_ﬁd
);

19 
	`Ârötf
(
pFûeM©œb
, "filename = unix_to_win(filename);\n");

20 
	`Ârötf
(
pFûeM©œb
, "p%s_%06ldˆìr_¨chivo(fûíame);\n", 
time
, 
time°amp_ﬁd
);

21 
	`Ârötf
(
pFûeM©œb
, "po£=[%f,%f,%f];\n", 
ãm¥x
, 
ãm¥y
, 
ãm±h
);

22 
	`Ârötf
(
pFûeM©œb
, "poses = [poses;pose];\n");

23 
	`Ârötf
(
pFûeM©œb
, "p%s_%06ld =Åønsf‹m_to_globÆ’%s_%06ld,po£);\n", 
time
, 
time°amp_ﬁd
,Åime,Åimestamp_old);

27 
	`Ârötf
(
pFûeM©œb
, "ifÇot(exist('h'))\n");

28 
	`Ârötf
(
pFûeM©œb
, " figure,áxisÉqual, grid, hold on;\n");

29 
	`Ârötf
(
pFûeM©œb
, " h =Ölot(0,0,'r','erasemode','xor');\n");

30 
	`Ârötf
(
pFûeM©œb
, " së(h(1),'xd©a',p%s_%06ld(1,:),'yd©a',p%s_%06ld(2,:),'cﬁ‹','gªí')\n", 
time
, 
time°amp_ﬁd
,Åime,Åimestamp_old);

31 
	`Ârötf
(
pFûeM©œb
, "else\n");

32 
	`Ârötf
(
pFûeM©œb
, "h[h;ÖlŸ(0,0,'.','xd©a',p%s_%06ld(1,:),'yd©a',p%s_%06ld(2,:),'cﬁ‹','ªd','di•œy«me','Ref_%s_%06ld','m¨kî','o','m¨kîsize',4)]\n", 
time
, 
time°amp_ﬁd
,Åime,Åimestamp_old,Åime,Åimestamp_old);

33 
	`Ârötf
(
pFûeM©œb
, "end\n");

35 
	}
}

36 
	$föÆ_m©œb
(

37 
time°amp
,

38 c⁄° * 
¨chivo
,

39 c⁄° * 
time
,

40 
PMSˇn
 *
£gundo
,

41 
x
,

42 
y
,
ãm¥x
,
ãm¥y
,
ãm±h
) {

44 
	`Ârötf
(
pFûeM©œb
, "fûíamê'%s';\n", 
¨chivo
);

45 
	`Ârötf
(
pFûeM©œb
, "filename = unix_to_win(filename);\n");

46 
	`Ârötf
(
pFûeM©œb
, "p%s_%06dˆìr_¨chivo(fûíame);\n", 
time
, 
time°amp
);

53 
	`Ârötf
(
pFûeM©œb
, "ifÇot(exist('movimientos'))\n movimientos= [];\nend\n");

54 
	`Ârötf
(
pFûeM©œb
, "ifÇot(exist('movimientos_raw'))\n movimientos_raw= [];\nend\n");

56 
	`Ârötf
(
pFûeM©œb
, "movimõ¡o_øw=[%f,%f,%f];\n", 
x
, 
y
, 
£gundo
->
th
);

57 
	`Ârötf
(
pFûeM©œb
, "movimientos_raw = [movimientos_raw;movimiento_raw]\n");

59 
	`Ârötf
(
pFûeM©œb
, "movimõ¡o=[%f,%f,%f];\n", 
£gundo
->
rx
, segundo->
ry
, segundo->
th
);

60 
	`Ârötf
(
pFûeM©œb
, "movimientos = [movimientos;movimiento]\n");

61 
	`Ârötf
(
pFûeM©œb
, "po£=[%f,%f,%f];\n", 
£gundo
->
rx
 + 
ãm¥x
, segundo->
ry
 + 
ãm¥y
, segundo->
th
 + 
ãm±h
);

63 
	`Ârötf
(
pFûeM©œb
, "poses = [poses;pose]\n");

64 
	`Ârötf
(
pFûeM©œb
, "p%s_%06d =Åønsf‹m_to_globÆ’%s_%06d,po£);\n", 
time
, 
time°amp
,Åime,Åimestamp);

65 
	`Ârötf
(
pFûeM©œb
, "h[h;ÖlŸ(0,0,'.','xd©a',p%s_%06d(1,:),'yd©a',p%s_%06d(2,:),'di•œy«me','Pos_%s_%06d','m¨kî','o','m¨kîsize',4)]\n", 
time
, 
time°amp
,Åime,Åimestamp,Åime,Åimestamp);

68 
	`f˛o£
(
pFûeM©œb
);

69 
	}
}

	@processors/laser/matlabfile.h

8 #i‚de‡
MATLABFILE_H


9 
	#MATLABFILE_H


	)

10 
	~"pﬁ¨_m©chög/pﬁ¨_m©chög/pﬁ¨_m©ch.h
"

11 
	~<°dio.h
>

12 
	~<°rög.h
>

13 
	~<°dio.h
>

14 
	~<°rög.h
>

15 
	~<f°ªam
>

16 
ˇbezîa_m©œb
(c⁄° * 
dúe˘‹io
, 
time°amp
, 
time°amp_ﬁd
, c⁄° * 
time
, c⁄° * 
¨chivo
, c⁄° * 
¨chivo_ﬁd
);

17 
föÆ_m©œb
(

18 
time°amp
,

19 c⁄° * 
¨chivo
,

20 c⁄° * 
time
,

21 
PMSˇn
 *
£gundo
,

22 
x
,

23 
y
);

	@processors/laser/polar_matching/mainpage.h

	@processors/laser/polar_matching/polar_matching/draw.c

31 #ifde‡
__löux__


33 
	~<uni°d.h
>

35 
	~<°dio.h
>

36 
	~<m©h.h
>

37 
	~<°rög.h
>

38 
	~<°dlib.h
>

40 #ifde‡
DR_ENABLE


41 
	~<X11/Xlib.h
>

42 
	~<X11/Xutû.h
>

46 
	#DR_MARKER_CIRCLE
 1

47 
	#DR_MARKER_TRIANGLE
 2

48 
	#DR_MARKER_CROSS
 3

49 

	)

53 c⁄° * 
	gdr_COLORS
[] = {"red","green","blue","gray","yellow","magenta","pink","lightgray","brown"};

54 c⁄° 
	gdr_COLORS_CNT
 = 9;

58 #ifde‡
DR_ENABLE


60 
	gh™dÀ
;

61 
	#DR_MARKER_SIZE
 3

62 
	#MAX_OBJECTS
 400000

63 

	)

64 
	#LINE
 1

	)

65 
	#MARKER
 2

	)

66 
	#TEXT
 3

	)

67 
	#CIRCLE
 4

	)

70 
Di•œy
 *
	gdr_Di•œy
;

71 
	gdr_S¸ìn
;

72 
	gdr_Dïth
;

73 
	gdr_BœckPixñ
;

74 
	gdr_WhôePixñ
;

75 
Wödow
 
	gdr_Wödow
;

76 
GC
 
	gdr_GC
;

77 
Cﬁ‹m≠
 
	gdr_Cﬁ‹m≠
;

79 
	sAxis
{

80 
	mxmö
,
	mymö
,
	mxmax
,
	mymax
;

81 } 
	gaxis
;

82 
	gdr_xm
,
	gdr_ym
;

83 
	gdr_kx
,
	gdr_ky
;

86 
ölöe
 
	$dr_di•x
(
x
)

88  ()((
x
-
axis
.
xmö
)*
dr_kx
);

89 
	}
}

90 
ölöe
 
	$dr_di•y
(
y
)

92  ()(
dr_ym
-(
y
-
axis
.
ymö
)*
dr_ky
);

93 
	}
}

95 
	sLöe
{ 
	mt
; 
	mx1
,
	my1
,
	mx2
,
	my2
; 
	mcﬁ‹
[100]; };

96 
	sCú˛e
{
	mt
; 
	mx
,
	my
,
	mr
; 
	mcﬁ‹
[100]; };

97 
	sM¨kî
{
	mt
;
	mx
,
	my
;
	mcﬁ‹
[100];
	mty≥
;};

98 
	sText
 {
	mt
;
	mx
,
	my
;
	mãxt
[1000];
	mhz_Æ
,
	mvr_Æ
;
	mcﬁ‹
[100];};

101 
	uObj
 {
Löe
 
	ml
;
M¨kî
 
	mm
;
Text
 
	mt
;
Cú˛e
 
	mc
;};

103 
Obj
 
	gobj
[
MAX_OBJECTS
];

104 
	gobj_nmb
;

106 
	gdr_axes_equÆ
=1;

110 
	$axisEquÆ
(*
xmö
,* 
ymö
,* 
xmax
,*
ymax
)

112 
dx
=(*
xmax
-*
xmö
)/2.0;

113 
dy
=(*
ymax
-*
ymö
)/2.0;

114 
cx
=(*
xmax
+*
xmö
)/2.0;

115 
cy
=(*
ymax
+*
ymö
)/2.0;

117 
XWödowAâribuãs
 
wö_©å
;

118 
	`XGëWödowAâribuãs
(
dr_Di•œy
, 
dr_Wödow
, &
wö_©å
);

119 
dr_xm
 = 
wö_©å
.
width
;

120 
dr_ym
 = 
wö_©å
.
height
;

121 if(
dr_axes_equÆ
)

123 if(
dx
>
dy
)

125 *
ymax
 = 
cy
 + (
dx
*
dr_ym
)/
dr_xm
;

126 *
ymö
 = 
cy
 - (
dx
*
dr_ym
)/
dr_xm
;

130 *
xmax
 = 
cx
 + (
dy
*
dr_xm
)/
dr_ym
;

131 *
xmö
 = 
cx
 - (
dy
*
dr_xm
)/
dr_ym
;

134 
dr_kx
 = 
dr_xm
/(
axis
.
xmax
-axis.
xmö
);

135 
dr_ky
 = 
dr_ym
/(
axis
.
ymax
-axis.
ymö
);

136 
	}
}

138 
	$døw_grid
()

140 
n
,
nx
,
ny
;

141 
i
;

142 
dx
 = (
axis
.
xmax
-axis.
xmö
);

143 
dy
 = (
axis
.
ymax
-axis.
ymö
);

144 
döc
,
döcx
,
döcy
,
d
;

145 
s
[1000];

146 *
°r
,*
°rx
, *
°ry
;

148 
d
 = 
dx
;

149 
döc
= 1;

150 
n
 = 
d
/1.0;

151 
°r
 = (*)"1 cm";

152 if(
n
>30)

154 
n
=
d
/10.0;

155 
döc
=10;

156 
°r
 = (*)"10 cm";

157 if(
n
>30)

159 
n
=
d
/100.0;

160 
döc
=100;

161 
°r
 = (*)"1 m";

162 if(
n
>30)

164 
n
=
d
/100.0;

165 
döc
=1000;

166 
°r
 = (*)"10 m";

170 
döcx
 = 
döc
;

171 
nx
 = 
n
;

172 
°rx
 = 
°r
;

174 if(!
dr_axes_equÆ
)

176 
d
 = 
dy
;

177 
döc
= 1;

178 
n
 = 
d
/1.0;

179 
°r
 = (*)"1 cm";

180 if(
n
>30)

182 
n
=
d
/10.0;

183 
döc
=10;

184 
°r
 = (*)"10 cm";

185 if(
n
>30)

187 
n
=
d
/100.0;

188 
döc
=100;

189 
°r
 = (*)"1 m";

190 if(
n
>30)

192 
n
=
d
/100.0;

193 
döc
=1000;

194 
°r
 = (*)"10 m";

199 
döcy
 = 
döc
;

200 
ny
 = 
n
;

201 
°ry
 = 
°r
;

204 
XCﬁ‹
 
cﬁ
;

206 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, "bœck", &
cﬁ
);

207 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

208 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

210 
x°¨t
 = ()(
axis
.
xmö
/
döcx
)*dincx;

211 
y°¨t
 = ()(
axis
.
ymö
/
döcy
)*dincy;

212 
i
=0;i<=
nx
;i++)

214 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,
	`dr_di•x
(
x°¨t
+
i
*
döcx
),

215 
	`dr_di•y
(
axis
.
ymö
),
	`dr_di•x
(
x°¨t
+
i
*
döcx
),dr_di•y◊xis.
ymax
));

217 
	`•rötf
(
s
,"%.0f",
x°¨t
+
i
*
döcx
);

218 
	`XDøwSåög
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
, 
	`dr_di•x
(
x°¨t
+
i
*
döcx
),

219 
	`dr_di•y
(
axis
.
ymö
), 
s
,
	`°æí
(s));

221 
i
=0;i<=
ny
;i++)

223 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,

224 
	`dr_di•x
(
axis
.
xmö
),
	`dr_di•y
(
y°¨t
+
i
*
döcy
),

225 
	`dr_di•x
(
axis
.
xmax
),
	`dr_di•y
(
y°¨t
+
i
*
döcy
));

228 
	`•rötf
(
s
,"%.0f",
y°¨t
+
i
*
döcy
);

229 
	`XDøwSåög
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
, 
	`dr_di•x
(
axis
.
xmö
),

230 
	`dr_di•y
(
y°¨t
+
i
*
döcy
), 
s
,
	`°æí
(s));

233 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, "bœck", &
cﬁ
);

234 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

235 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

237 if(
axis
.
xmö
<=0 &&áxis.
xmax
>=0)

238 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,
	`dr_di•x
(0),
	`dr_di•y
(
axis
.
ymö
),

239 
	`dr_di•x
(0),
	`dr_di•y
(
axis
.
ymax
));

240 if(
axis
.
ymö
<=0 &&áxis.
ymax
>=0)

241 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,
	`dr_di•x
(
axis
.
xmö
),
	`dr_di•y
(0),

242 
	`dr_di•x
(
axis
.
xmax
),
	`dr_di•y
(0));

243 
	}
}

245 
	$¸óãGC
(
Wödow
 
theNewWödow
,
GC
 *
theNewGC
)

247 
XGCVÆues
 
theGCVÆues
;

248 *
theNewGC
 = 
	`XCª©eGC
(
dr_Di•œy
,
theNewWödow
,(Ë0,&
theGCVÆues
);

249 if(*
theNewGC
 == 0)

252 
	`XSëF‹eground
(
dr_Di•œy
,*
theNewGC
,
dr_WhôePixñ
);

253 
	`XSëBackground
(
dr_Di•œy
,*
theNewGC
,
dr_BœckPixñ
);

256 
	}
}

258 
Wödow
 
	$O≥nWödow
(
x
, 
y
, 
width
, 
height
, 
Êag
,
GC
 *
theNewGC
)

260 
XSëWödowAâribuãs
 
theWödowAâribuãs
;

261 
theWödowMask
;

262 
XSizeHöts
 
theSizeHöts
;

263 
XWMHöts
 
theWMHöts
;

264 
Wödow
 
theNewWödow
;

267 
theWödowAâribuãs
.
b‹dî_pixñ
 = 
	`BœckPixñ
(
dr_Di•œy
,
dr_S¸ìn
);

268 
theWödowAâribuãs
.
background_pixñ
 = 
	`WhôePixñ
(
dr_Di•œy
,
dr_S¸ìn
);

269 
theWödowAâribuãs
.
ovîride_ªdúe˘
 = 
FÆ£
;

271 
theWödowMask
 = 
CWBackPixñ
|
CWB‹dîPixñ
|
CWOvîrideRedúe˘
;

273 
	#DR_BORDER_WIDTH
 2

	)

275 
theNewWödow
 = 
	`XCª©eWödow
–
dr_Di•œy
,

276 
	`RoŸWödow
(
dr_Di•œy
,
dr_S¸ìn
),

277 
x
,
y
,
width
,
height
,

278 
DR_BORDER_WIDTH
,
dr_Dïth
,

279 
I≈utOuçut
,

280 
C›yFromP¨ít
,

281 
theWödowMask
,

282 &
theWödowAâribuãs
);

285 
theWMHöts
.
öôül_°©e
 = 
N‹mÆSèã
;

286 
theWMHöts
.
Êags
 = 
SèãHöt
;

288 
	`XSëWMHöts
(
dr_Di•œy
,
theNewWödow
,&
theWMHöts
);

290 
theSizeHöts
.
Êags
 = 
PPosôi⁄
 | 
PSize
;

291 
theSizeHöts
.
x
 = x;

292 
theSizeHöts
.
y
 = y;

293 
theSizeHöts
.
width
 = width;

294 
theSizeHöts
.
height
 = height;

296 
	`XSëN‹mÆHöts
(
dr_Di•œy
,
theNewWödow
,&
theSizeHöts
);

298 if–
	`¸óãGC
(
theNewWödow
,
theNewGC
) == 0){

299 
	`XDe°royWödow
(
dr_Di•œy
,
theNewWödow
);

300 –(
Wödow
) 0);

304 
	`XM≠Wödow
(
dr_Di•œy
,
theNewWödow
);

305 
	`XFlush
(
dr_Di•œy
);

307  
theNewWödow
;

308 
	}
}

320 
	$dr_öô
(
s¸ìn_x_max
,
s¸ìn_y_max
,
xmö
, 
ymö
, 
xmax
, 
ymax
)

322 #ifde‡
DR_ENABLE


323 
dr_Di•œy
 = 
	`XO≥nDi•œy
(
NULL
);

325 
dr_S¸ìn
 = 
	`DeÁu…S¸ìn
(
dr_Di•œy
);

326 
dr_Dïth
 = 
	`DeÁu…Dïth
(
dr_Di•œy
,
dr_S¸ìn
);

327 
dr_BœckPixñ
 = 
	`WhôePixñ
(
dr_Di•œy
,
dr_S¸ìn
);

328 
dr_WhôePixñ
 = 
	`BœckPixñ
(
dr_Di•œy
,
dr_S¸ìn
);

329 
dr_Cﬁ‹m≠
 = 
	`DeÁu…Cﬁ‹m≠
(
dr_Di•œy
,
dr_S¸ìn
);

331 
dr_Wödow
 = 
	`O≥nWödow
(0,0,
s¸ìn_x_max
, 
s¸ìn_y_max
,0,&
dr_GC
);

333 
	`XSñe˘I≈ut
(
dr_Di•œy
, 
dr_Wödow
, 
ExposuªMask
|
Buâ⁄PªssMask
|
KeyPªssMask
);

335 
axis
.
xmö
=xmö;áxis.
xmax
=xmax;áxis.
ymö
=ymö;áxis.
ymax
=ymax;

336 
	`axisEquÆ
(&
axis
.
xmö
, &axis.
ymö
, &axis.
xmax
, &axis.
ymax
);

338 
	`døw_grid
();

339 
obj_nmb
=0;

341 
	`¥ötf
("DrawÜibrary: use mouse wheelÅo zoom, click withÜeft buttonÅoÖan.\n");

344 
	`¥ötf
("DrawÜibrary: disabled. ToÉnable it uncomment #define DR_ENABLE in draw.c\n");

346 
	}
}

350 
	$dr_˛o£
()

352 #ifde‡
DR_ENABLE


353 
	`XDe°royWödow
(
dr_Di•œy
,
dr_Wödow
);

355 
	}
}

364 
	$dr_löe
(
x1
, 
y1
, 
x2
, 
y2
,c⁄° *
cﬁ‹
)

366 #ifde‡
DR_ENABLE


367 
XCﬁ‹
 
cﬁ
;

368 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, 
cﬁ‹
, &
cﬁ
);

369 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

370 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

372 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,

373 
	`dr_di•x
(
x1
),
	`dr_di•y
(
y1
),

374 
	`dr_di•x
(
x2
),
	`dr_di•y
(
y2
));

375 
	`XFlush
(
dr_Di•œy
);

379 
obj
[
obj_nmb
].
l
.
t
 = 
LINE
;

380 
obj
[
obj_nmb
].
l
.
x1
 = x1;

381 
obj
[
obj_nmb
].
l
.
y1
 = y1;

382 
obj
[
obj_nmb
].
l
.
x2
 = x2;

383 
obj
[
obj_nmb
].
l
.
y2
 = y2;

384 
	`°r˝y
(
obj
[
obj_nmb
].
l
.
cﬁ‹
,color);

385 
obj_nmb
++;

386 if(
obj_nmb
>=
MAX_OBJECTS
)

388 
	`Ârötf
 (
°dîr
, "draw.c: MaxÇumber of stored objectsÑeached");

389 
obj_nmb
--;

392 
	}
}

401 
	$dr_cú˛e
(
x
, 
y
, 
r
,c⁄° *
cﬁ‹
)

403 #ifde‡
DR_ENABLE


404 
XCﬁ‹
 
cﬁ
;

406 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, 
cﬁ‹
, &
cﬁ
);

407 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

408 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

410 if–(2.0*
r
*
dr_kx
)>2 && (2.0*r*
dr_ky
)>2 )

411 
	`XDøwArc
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
,
	`dr_di•x
(
x
-
r
),

412 
	`dr_di•y
(
y
+
r
), 2.0*r*
dr_kx
, 2.0*r*
dr_ky
, 0, 23040);

414 
	`XDøwPoöt
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
,
	`dr_di•x
(
x
-
r
),
	`dr_di•y
(
y
+r));

416 
	`XFlush
(
dr_Di•œy
);

418 
obj
[
obj_nmb
].
c
.
t
 = 
CIRCLE
;

419 
obj
[
obj_nmb
].
c
.
x
 = x;

420 
obj
[
obj_nmb
].
c
.
y
 = y;

421 
obj
[
obj_nmb
].
c
.
r
 =Ñ;

422 
	`°r˝y
(
obj
[
obj_nmb
].
c
.
cﬁ‹
,color);

423 
obj_nmb
++;

424 if(
obj_nmb
>=
MAX_OBJECTS
)

426 
	`Ârötf
 (
°dîr
, "draw.c: MaxÇumber of stored objectsÑeached");

427 
obj_nmb
--;

430 
	}
}

446 
	$dr_cov_ñlù£
(
x
, 
y
, 
cxx
,
cxy
,
cyy
,c⁄° *
cﬁ‹
)

448 #ifde‡
DR_ENABLE


449 
™gÀ_maj‹_ød
, 
maj‹_°dev
, 
mö‹_°dev
;

450 
XCﬁ‹
 
cﬁ
;

452 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, 
cﬁ‹
, &
cﬁ
);

453 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

454 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

456 
dis¸im
, 
œmbda
;

458 
dis¸im
 = (
cxx
- 
cyy
)*(cxx- cyy)+4.0*
cxy
*cxy;

459 i‡(
dis¸im
 > 0)

460 
dis¸im
 = 
	`sqπ
(discrim)/2.0;

461 (
dis¸im
 = 0.0);

463 
œmbda
 = (
cxx
+
cyy
)/2.0 + 
dis¸im
;

464 i‡(
cxy
 != 0)

465 
™gÀ_maj‹_ød
 = 
	`©™2
(
cxx
-
œmbda
, -
cxy
);

466 
™gÀ_maj‹_ød
 = 0.0;

467 
maj‹_°dev
 = 
	`sqπ
(
œmbda
);

468 
œmbda
 = (
cxx
+
cyy
)/2.0 - 
dis¸im
;

469 i‡(
œmbda
 > 0)

470 
mö‹_°dev
 = 
	`sqπ
(
œmbda
);

472 
mö‹_°dev
 = 0.0;

474 c⁄° 
ANGLE_DIVISIONS
 = 12;

475 c⁄° 
™gÀ_öc
 = 
M_PI
*2.0/(
ANGLE_DIVISIONS
-1.0);

476 c⁄° 
c
 = 
	`cos
(
™gÀ_maj‹_ød
), 
s
 = 
	`sö
(angle_major_rad);

477 
i
;

479 
œ°_x
 = 
maj‹_°dev
*
c
+
x
, 
œ°_y
=maj‹_°dev*
s
+
y
;

480 
i
=1; i<
ANGLE_DIVISIONS
; i++)

482 
coß
 = 
	`cos
(
i
*
™gÀ_öc
), 
söa
 = 
	`sö
(i*angle_inc);

483 
xp
 = 
maj‹_°dev
*
coß
*
c
-
mö‹_°dev
*
söa
*
s
 + 
x
;

484 
yp
 = 
maj‹_°dev
*
coß
*
s
+
mö‹_°dev
*
söa
*
c
 + 
y
;

486 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,

487 
	`dr_di•x
(
œ°_x
),
	`dr_di•y
(
œ°_y
),

488 
	`dr_di•x
(
xp
),
	`dr_di•y
(
yp
));

492 
obj
[
obj_nmb
].
l
.
t
 = 
LINE
;

493 
obj
[
obj_nmb
].
l
.
x1
 = 
œ°_x
;

494 
obj
[
obj_nmb
].
l
.
y1
 = 
œ°_y
;

495 
obj
[
obj_nmb
].
l
.
x2
 = 
xp
;

496 
obj
[
obj_nmb
].
l
.
y2
 = 
yp
;

497 
	`°r˝y
(
obj
[
obj_nmb
].
l
.
cﬁ‹
,color);

498 
obj_nmb
++;

499 if(
obj_nmb
>=
MAX_OBJECTS
)

501 
	`Ârötf
 (
°dîr
, "draw.c: MaxÇumber of stored objectsÑeached");

502 
obj_nmb
--;

504 
œ°_x
 = 
xp
; 
œ°_y
 = 
yp
;

506 
	`XFlush
(
dr_Di•œy
);

508 
	}
}

517 
	$dr_m¨kî
(
x
, 
y
, 
ty≥
,c⁄° *
cﬁ‹
)

519 #ifde‡
DR_ENABLE


520 
obj
[
obj_nmb
].
m
.
t
 = 
MARKER
;

521 
obj
[
obj_nmb
].
m
.
x
 = x;

522 
obj
[
obj_nmb
].
m
.
y
 = y;

523 
obj
[
obj_nmb
].
m
.
ty≥
 =Åype;

524 
	`°r˝y
(
obj
[
obj_nmb
].
m
.
cﬁ‹
,color);

525 
obj_nmb
++;

526 if(
obj_nmb
>=
MAX_OBJECTS
)

528 
	`Ârötf
 (
°dîr
, "draw.c: MaxÇumber of stored objectsÑeached");

529 
obj_nmb
--;

532 
	}
}

542 
	$dr_ãxt
(
x
, 
y
, 
hz_Æ
,
vr_Æ
,c⁄° *
ãxt
, c⁄° * 
cﬁ‹
)

544 #ifde‡
DR_ENABLE


545 
XCﬁ‹
 
cﬁ
;

546 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, 
cﬁ‹
, &
cﬁ
);

547 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

548 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

550 
	`XDøwSåög
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
,
	`dr_di•x
(
x
),

551 
	`dr_di•y
(
y
), 
ãxt
,
	`°æí
(text));

554 
obj
[
obj_nmb
].
t
.à
TEXT
 ;

555 
obj
[
obj_nmb
].
t
.
x
 = x;

556 
obj
[
obj_nmb
].
t
.
y
 = y;

557 
obj
[
obj_nmb
].
t
.
hz_Æ
 = hz_al ;

558 
obj
[
obj_nmb
].
t
.
vr_Æ
 = vr_al;

559 
	`°r˝y
(
obj
[
obj_nmb
].
t
.
cﬁ‹
,color);

560 
	`°r˝y
(
obj
[
obj_nmb
].
t
.
ãxt
,text);

561 
obj_nmb
++;

562 if(
obj_nmb
>=
MAX_OBJECTS
)

564 
	`Ârötf
 (
°dîr
, "draw.c: MaxÇumber of stored objectsÑeached");

565 
obj_nmb
--;

567 
	`XFlush
(
dr_Di•œy
);

569 
	}
}

578 
	$dr_ãxt_pix
(
px
, 
py
,c⁄° *
ãxt
, c⁄° * 
cﬁ‹
)

580 #ifde‡
DR_ENABLE


581 
XCﬁ‹
 
cﬁ
;

582 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, 
cﬁ‹
, &
cﬁ
);

583 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

584 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

586 
	`XDøwSåög
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
,
px
,
py
,
ãxt
,
	`°æí
(text));

588 
	`XFlush
(
dr_Di•œy
);

590 
	}
}

595 
	$dr_ª∂Ÿ
()

597 #ifde‡
DR_ENABLE


598 
i
;

599 
XCﬁ‹
 
cﬁ
;

600 
x
,
y
,
x1
,
x2
,
x3
,
y1
,
y2
,
y3
;

601 * 
œ°Cﬁour
;

602 
	`°r˝y
(
œ°Cﬁour
, "white");

603 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, 
œ°Cﬁour
, &
cﬁ
);

604 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

605 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

606 
	`XFûlRe˘™gÀ
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
, 0, 0, ()
dr_xm
, ()
dr_ym
);

608 
	`døw_grid
();

609 
i
=0;i<
obj_nmb
;i++)

611 if–
	`°rcmp
(
obj
[
i
].
l
.
cﬁ‹
, 
œ°Cﬁour
) )

614 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, 
obj
[
i
].
l
.
cﬁ‹
, &
cﬁ
);

615 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

616 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

617 
œ°Cﬁour
 = 
obj
[
i
].
l
.
cﬁ‹
;

620 
obj
[
i
].
l
.
t
){

621 
LINE
:

623 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,

624 
	`dr_di•x
(
obj
[
i
].
l
.
x1
),
	`dr_di•y
(obj[i].l.
y1
),

625 
	`dr_di•x
(
obj
[
i
].
l
.
x2
),
	`dr_di•y
(obj[i].l.
y2
));

628 
MARKER
:

629 
obj
[
i
].
m
.
ty≥
)

631 
DR_MARKER_CIRCLE
:

632 
	`XDøwArc
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
,
	`dr_di•x
(
obj
[
i
].
m
.
x
)-
DR_MARKER_SIZE
,

633 
	`dr_di•y
(
obj
[
i
].
m
.
y
)-
DR_MARKER_SIZE
, 2.0*DR_MARKER_SIZE, 2.0*DR_MARKER_SIZE, 0, 23040);

635 
DR_MARKER_TRIANGLE
:

636 
x
 = 
	`dr_di•x
(
obj
[
i
].
m
.x);

637 
y
 = 
	`dr_di•y
(
obj
[
i
].
m
.y);

638 
x1
 = 
x
;

639 
y1
 = 
y
-
DR_MARKER_SIZE
;

640 
x2
 = 
x
-
DR_MARKER_SIZE
;

641 
y2
 = 
y
+
DR_MARKER_SIZE
;

642 
x3
 = 
x
+
DR_MARKER_SIZE
;

643 
y3
 = 
y
+
DR_MARKER_SIZE
;

644 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,
x1
,
y1
,
x2
,
y2
);

645 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,
x2
,
y2
,
x3
,
y3
);

646 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,
x3
,
y3
,
x1
,
y1
);

648 
DR_MARKER_CROSS
:

649 
x
 = 
	`dr_di•x
(
obj
[
i
].
m
.x);

650 
y
 = 
	`dr_di•y
(
obj
[
i
].
m
.y);

651 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,
x
,
y
-
DR_MARKER_SIZE
,x,y+DR_MARKER_SIZE);

652 
	`XDøwLöe
(
dr_Di•œy
,
dr_Wödow
,
dr_GC
,
x
-
DR_MARKER_SIZE
,
y
,x+DR_MARKER_SIZE,y);

656 
TEXT
:

657 
	`XDøwSåög
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
,
	`dr_di•x
(
obj
[
i
].
t
.
x
),

658 
	`dr_di•y
(
obj
[
i
].
t
.
y
), obj[i].t.
ãxt
,
	`°æí
(obj[i].t.text));

660 
CIRCLE
:

661 if(
axis
.
xmö
<
obj
[
i
].
c
.
x
 &&áxis.
xmax
>obj[i].c.x

662 && 
axis
.
ymö
<
obj
[
i
].
c
.
y
 &&áxis.
ymax
>obj[i].c.y)

664 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, 
obj
[
i
].
c
.
cﬁ‹
, &
cﬁ
);

665 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

666 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

668 if(
obj
[
i
].
c
.
r
*
dr_ky
>1)

670 
	`XDøwArc
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
,
	`dr_di•x
(
obj
[
i
].
c
.
x
-obj[i].c.
r
),

671 
	`dr_di•y
(
obj
[
i
].
c
.
y
+obj[i].c.
r
), 2.0*obj[i].c.r*
dr_kx
, 2.0*obj[i].c.r*
dr_ky
, 0, 23040);

674 
	`XDøwPoöt
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
,
	`dr_di•x
(
obj
[
i
].
c
.
x
),
	`dr_di•y
(obj[i].c.
y
) );

680 
	`XFlush
(
dr_Di•œy
);

682 
	}
}

692 
	$dr_sˇÀ
(
xmö
, 
ymö
, 
xmax
, 
ymax
)

694 #ifde‡
DR_ENABLE


695 
	`axisEquÆ
(&
xmö
, &
ymö
, &
xmax
, &
ymax
);

696 
axis
.
xmö
=xmö;axis.
xmax
=xmax;axis.
ymö
=ymö;axis.
ymax
=ymax;

697 
	`dr_ª∂Ÿ
();

699 
	}
}

702 
	$dr_îa£
()

704 #ifde‡
DR_ENABLE


705 
XCﬁ‹
 
cﬁ
;

707 
	`XP¨£Cﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, "whôe", &
cﬁ
);

708 
	`XAŒocCﬁ‹
(
dr_Di•œy
, 
dr_Cﬁ‹m≠
, &
cﬁ
);

709 
	`XSëF‹eground
(
dr_Di•œy
, 
dr_GC
, 
cﬁ
.
pixñ
);

710 
	`XFûlRe˘™gÀ
(
dr_Di•œy
, 
dr_Wödow
, 
dr_GC
, 0, 0, ()
dr_xm
, ()
dr_ym
);

711 
obj_nmb
=0;

712 
	`døw_grid
();

714 
	}
}

726 
	$dr_zoom
()

728 #ifde‡
DR_ENABLE


729 
ch
=0;

730 
dx
,
dy
,
cx
,
cy
;

731 
Axis
 
ﬁdax
 = 
axis
;

735 
KeySym
 
wö_key
;

736 
XEvít
 
evít
;

737 c⁄° 
buff_Àn
 = 1024;

738 
buff
[
buff_Àn
];

740 
ch
!='q')

742 
ch
 = 0;

743 
	`XNextEvít
(
dr_Di•œy
, &
evít
);

744 i‡–
evít
.
ty≥
 =
KeyPªss
 && 
	`XLookupSåög
(&evít.
xkey
,
buff
,
buff_Àn
,&
wö_key
,0) == 1)

746 
ch
 = 
buff
[0];

748 i‡(
evít
.
ty≥
 =
Buâ⁄Pªss
)

751 
evít
.
xbuâ⁄
.
buâ⁄
)

753 5: 
ch
 = '3'; ;

754 4: 
ch
 = '9'; ;

756 if(
evít
.
xbuâ⁄
.
y
 < 
dr_ym
/3)

757 
ch
 = '8';

758 if(
evít
.
xbuâ⁄
.
y
 > (2*
dr_ym
)/3)

759 
ch
 = '2';

760 if(
evít
.
xbuâ⁄
.
x
 < 
dr_xm
/3)

761 
ch
 = '4';

762 if(
evít
.
xbuâ⁄
.
x
 > (2*
dr_xm
)/3)

763 
ch
 = '6';

768 
ch
)

771 
dx
 = 
axis
.
xmax
-axis.
xmö
;

772 
axis
.
xmax
 +
dx
/4.0;

773 
axis
.
xmö
 +
dx
/4.0;

776 
dx
 = 
axis
.
xmax
-axis.
xmö
;

777 
axis
.
xmax
 -
dx
/4.0;

778 
axis
.
xmö
 -
dx
/4.0;

781 
dy
 = 
axis
.
ymax
-axis.
ymö
;

782 
axis
.
ymax
 -
dy
/4.0;

783 
axis
.
ymö
 -
dy
/4.0;

786 
dy
 = 
axis
.
ymax
-axis.
ymö
;

787 
axis
.
ymax
 +
dy
/4.0;

788 
axis
.
ymö
 +
dy
/4.0;

791 
dx
 = 
axis
.
xmax
-axis.
xmö
;

792 
dy
 = 
axis
.
ymax
-axis.
ymö
;

793 
cx
 = (
axis
.
xmax
+axis.
xmö
)/2.0;

794 
cy
 = (
axis
.
ymax
+axis.
ymö
)/2.0;

795 
axis
.
xmö
 = 
cx
-
dx
/3.6;

796 
axis
.
xmax
 = 
cx
+
dx
/3.6;

797 
axis
.
ymö
 = 
cy
-
dy
/3.6;

798 
axis
.
ymax
 = 
cy
+
dy
/3.6;

801 
dx
 = 
axis
.
xmax
-axis.
xmö
;

802 
dy
 = 
axis
.
ymax
-axis.
ymö
;

803 
cx
 = (
axis
.
xmax
+axis.
xmö
)/2.0;

804 
cy
 = (
axis
.
ymax
+axis.
ymö
)/2.0;

806 
axis
.
xmö
 = 
cx
-
dx
*0.7;

807 
axis
.
xmax
 = 
cx
+
dx
*0.7;

808 
axis
.
ymö
 = 
cy
-
dy
*0.7;

809 
axis
.
ymax
 = 
cy
+
dy
*0.7;

811 'c' : 
axis
=
ﬁdax
;

814 
ch
 ='q';

817 if(
ch
!='q' && ch != 0)

819 
	`axisEquÆ
(&
axis
.
xmö
, &axis.
ymö
, &axis.
xmax
, &axis.
ymax
);

820 
	`dr_ª∂Ÿ
();

824 
	}
}

828 
	$dr_fô
()

830 #ifde‡
DR_ENABLE


831 
i
;

832 
axis
.
xmö
 = 1000000;

833 
axis
.
xmax
 = -10000000;

834 
axis
.
ymö
 = 1000000;

835 
axis
.
ymax
 = -10000000;

837 
i
=0;i<
obj_nmb
;i++)

839 
obj
[
i
].
l
.
t
){

840 
LINE
:

841 if(
obj
[
i
].
l
.
x1
 <
axis
.
xmö
)

842 
axis
.
xmö
 = 
obj
[
i
].
l
.
x1
;

843 if(
obj
[
i
].
l
.
x1
 >
axis
.
xmax
)

844 
axis
.
xmax
 = 
obj
[
i
].
l
.
x1
;

845 if(
obj
[
i
].
l
.
y1
 <
axis
.
ymö
)

846 
axis
.
ymö
 = 
obj
[
i
].
l
.
y1
;

847 if(
obj
[
i
].
l
.
y1
 >
axis
.
ymax
)

848 
axis
.
ymax
 = 
obj
[
i
].
l
.
y1
;

850 if(
obj
[
i
].
l
.
x2
 <
axis
.
xmö
)

851 
axis
.
xmö
 = 
obj
[
i
].
l
.
x2
;

852 if(
obj
[
i
].
l
.
x2
 >
axis
.
xmax
)

853 
axis
.
xmax
 = 
obj
[
i
].
l
.
x2
;

854 if(
obj
[
i
].
l
.
y2
 <
axis
.
ymö
)

855 
axis
.
ymö
 = 
obj
[
i
].
l
.
y2
;

856 if(
obj
[
i
].
l
.
y2
 >
axis
.
ymax
)

857 
axis
.
ymax
 = 
obj
[
i
].
l
.
y2
;

859 
MARKER
:

860 if(
obj
[
i
].
m
.
x
 <
axis
.
xmö
)

861 
axis
.
xmö
 = 
obj
[
i
].
m
.
x
;

862 if(
obj
[
i
].
m
.
x
 >
axis
.
xmax
)

863 
axis
.
xmax
 = 
obj
[
i
].
m
.
x
;

864 if(
obj
[
i
].
m
.
y
 <
axis
.
ymö
)

865 
axis
.
ymö
 = 
obj
[
i
].
m
.
y
;

866 if(
obj
[
i
].
m
.
y
 >
axis
.
ymax
)

867 
axis
.
ymax
 = 
obj
[
i
].
m
.
y
;

869 
TEXT
:

870 if(
obj
[
i
].
t
.
x
 <
axis
.
xmö
)

871 
axis
.
xmö
 = 
obj
[
i
].
t
.
x
;

872 if(
obj
[
i
].
t
.
x
 >
axis
.
xmax
)

873 
axis
.
xmax
 = 
obj
[
i
].
t
.
x
;

874 if(
obj
[
i
].
t
.
y
 <
axis
.
ymö
)

875 
axis
.
ymö
 = 
obj
[
i
].
t
.
y
;

876 if(
obj
[
i
].
t
.
y
 >
axis
.
ymax
)

877 
axis
.
ymax
 = 
obj
[
i
].
t
.
y
;

879 
CIRCLE
:

880 if(
obj
[
i
].
c
.
x
 <
axis
.
xmö
)

881 
axis
.
xmö
 = 
obj
[
i
].
c
.
x
;

882 if(
obj
[
i
].
c
.
x
 >
axis
.
xmax
)

883 
axis
.
xmax
 = 
obj
[
i
].
c
.
x
;

884 if(
obj
[
i
].
c
.
y
 <
axis
.
ymö
)

885 
axis
.
ymö
 = 
obj
[
i
].
c
.
y
;

886 if(
obj
[
i
].
c
.
y
 >
axis
.
ymax
)

887 
axis
.
ymax
 = 
obj
[
i
].
c
.
y
;

891 
dx
,
dy
;

892 
dx

axis
.
xmax
-axis.
xmö
;

893 
dy

axis
.
ymax
-axis.
ymö
;

894 
axis
.
xmö
 -
dx
/20.0;

895 
axis
.
xmax
 +
dx
/20.0;

896 
axis
.
ymö
 -
dy
/20.0;

897 
axis
.
ymax
 +
dy
/20.0;

899 
	`axisEquÆ
(&
axis
.
xmö
, &axis.
ymö
, &axis.
xmax
, &axis.
ymax
);

900 
	`dr_ª∂Ÿ
();

902 
	}
}

907 
	$dr_ßve
(c⁄° *
fûíame
)

909 #ifde‡
DR_ENABLE


910 
s
[1000];

912 
	`•rötf
(
s
," xwd -id %ò-nobdr†-sûíà| xwdt›nm |Önmt›ng > %s",()
dr_Wödow
,
fûíame
);

913 if(
	`sy°em
(
s
)==-1)

914 
	`¥ötf
("dr_ßve: ERROR couldÇŸ savêimagê%†(check i‡xwd,xwdt›nmándÖnmt›ngáªÖª£¡)\n",
fûíame
);

916 
	}
}

921 
	$dr_equÆ
(
equÆ
)

923 #ifde‡
DR_ENABLE


924 
dr_axes_equÆ
 = 
equÆ
;

926 
	}
}

	@processors/laser/polar_matching/polar_matching/draw.h

26 #i‚de‡
_DRAW_


27 
	#_DRAW_


	)

28 "C" * 
dr_COLORS
[];

29 "C" 
dr_COLORS_CNT
;

31 "C" 
dr_öô
(
s¸ìn_x_max
,
s¸ìn_y_max
,
xmö
, 
ymö
, 
xmax
, 
ymax
);

32 "C" 
dr_˛o£
();

33 "C" 
dr_löe
(
x1
, 
y1
, 
x2
, 
y2
,c⁄° *
cﬁ‹
);

34 "C" 
dr_m¨kî
(
x
, 
y
, 
ty≥
,c⁄° *
cﬁ‹
);

35 "C" 
dr_ãxt
(
x
, 
y
, 
hz_Æ
,
vr_Æ
,c⁄° *
ãxt
, c⁄° * 
cﬁ‹
);

36 "C" 
dr_ãxt_pix
(
px
, 
py
,c⁄° *
ãxt
, c⁄° * 
cﬁ‹
);

37 "C" 
dr_sˇÀ
(
xmö
, 
ymö
, 
xmax
, 
ymax
);

38 "C" 
dr_ª∂Ÿ
();

39 "C" 
dr_îa£
();

40 "C" 
dr_cú˛e
(
x
, 
y
, 
r
,c⁄° *
cﬁ‹
);

41 "C" 
dr_cov_ñlù£
(
x
, 
y
, 
c11
,
c12
,
c22
,c⁄° *
cﬁ‹
);

42 "C" 
dr_zoom
();

43 "C" 
dr_fô
();

44 "C" 
dr_ßve
(c⁄° *
fûíame
);

45 "C" 
dr_equÆ
(
equÆ
);

	@processors/laser/polar_matching/polar_matching/polar_match.cpp

41 
	~<io°ªam
>

42 
	~<uni°d.h
>

43 
	~<m©h.h
>

44 
	~<°dlib.h
>

45 
	~<°rög.h
>

46 
	~<as£π.h
>

49 #ifde‡
__löux__


50 
	~<time.h
>

53 
	~"pﬁ¨_m©ch.h
"

54 
	~"døw.h
"

57 
usög
 
«me•a˚
 
	g°d
;

61 
PM_TYPE
 
	gpm_fi
[
PM_L_POINTS
];

62 
PM_TYPE
 
	gpm_si
[
PM_L_POINTS
];

63 
PM_TYPE
 
	gpm_co
[
PM_L_POINTS
];

64 c⁄° 
PM_TYPE
 
	gPM_D2R
 = 
M_PI
 / 180.0;

65 c⁄° 
PM_TYPE
 
	gPM_R2D
 = 180.0 / 
M_PI
;

66 c⁄° 
PM_TYPE
 
	gPM_FI_MIN
 = -1.3008157081 - 
M_PI
 / 4;

69 c⁄° 
PM_TYPE
 
	gPM_FI_MAX
 = 
M_PI
 / 2.0 + 
PM_FOV
*
PM_D2R
 / 2.0;

72 c⁄° 
PM_TYPE
 
	gPM_DFI
 = 
M_PI
 / 512;

74 
pm_sˇn_¥oje˘_√w
(c⁄° 
PMSˇn
 *
a˘
, 
PM_TYPE
 *
√w_r
, *
√w_bad
);

75 
pm_sˇn_¥oje˘
(c⁄° 
PMSˇn
 *
a˘
, 
PM_TYPE
 *
√w_r
, *
√w_bad
);

76 
PM_TYPE
 
pm_‹õ¡©i⁄_£¨ch
(c⁄° 
PMSˇn
 *
ªf
, c⁄° PM_TYPE *
√w_r
, c⁄° *
√w_bad
);

77 
PM_TYPE
 
pm_å™¶©i⁄_e°im©i⁄
(c⁄° 
PMSˇn
 *
ªf
, c⁄° PM_TYPE *
√w_r
, c⁄° *
√w_bad
, PM_TYPE 
C
, PM_TYPE *
dx
, PM_TYPE*
dy
, PM_TYPE 
©h
);

83 
	$pm_m£c
() {

84 #ifde‡
__löux__


85 
time•ec
 
ç
;

86 
time
;

87 
	`˛ock_gëtime
(
CLOCK_THREAD_CPUTIME_ID
, &
ç
);

88 
time
 = 
ç
.
tv_£c
 * 1000.0 + ((Ëç.
tv_n£c
) / 1000000.0;

89  
time
;

93 
	}
}

102 
ölöe
 
PM_TYPE
 
	$n‹m_a
(
PM_TYPE
 
a
) {

103 
m
;

104 
m
 = (Ë(
a
 / (2.0 * 
M_PI
));

105 
a
 =á - (
PM_TYPE
Ë
m
 * 
M_PI
;

106 i‡(
a
 < (-
M_PI
))

107 
a
 +2.0 * 
M_PI
;

108 i‡(
a
 >
M_PI
)

109 
a
 -2.0 * 
M_PI
;

110  ( 
a
);

111 
	}
}

125 
	$pm_öô
(c⁄° * 
fûíame
, 
FILE
 **
fö
) {

126 
	`¥ötf
("InôülizögÖﬁ¨ sˇ¿m©chög f‹: %s\n", 
PM_LASER_NAME
);

127 
size_t
 
Àn
 = 2000;

128 *
löe
;

129 
löe
 = 
√w
 [
Àn
];

130 i‡(
fö
 !
NULL
) {

131 *
fö
 = 
NULL
;

134 i‡(
fûíame
 !
NULL
) {

135 *
fö
 = 
	`f›í
(
fûíame
, "rt");

136 i‡(*
fö
 =
NULL
) {

137 
˚º
 << "pm_öô: u«bÀÅÿ›í fûe:" << 
fûíame
 << 
ídl
;

138 
throw
 1;

140 
	`gëlöe
(&
löe
, &
Àn
, *
fö
);

141 
cout
 << 
löe
 << 
ídl
;

142 
dñëe
[] 
löe
;

145 
i
 = 0; i < 
PM_L_POINTS
; i++) {

147 
pm_fi
[
i
] = ((ËiË* 
PM_DFI
 + 
PM_FI_MIN
;

148 
pm_si
[
i
] = 
	`söf
(
pm_fi
[i]);

149 
pm_co
[
i
] = 
	`cosf
(
pm_fi
[i]);

151 
	}
}

166 
	$pm_ªadSˇn
(
FILE
 *
fö
, 
PMSˇn
 *
ls
) {

167 
n
 = 0;

168 
n
 +
	`fsˇnf
(
fö
, "%l‡%‡%‡%f\n", & (
ls
->
t
), & (ls->
rx
), & (ls->
ry
), & (ls->
th
));

169 
ls
->
t
 -
PM_TIME_DELAY
;

170 
ls
->
rx
 *= 100.0;

171 
ls
->
ry
 *= 100.0;

172 
ls
->
th
 = 
	`n‹m_a
÷s->th - 
M_PI
 / 2.0);

174 
i
 = 0; i < 
PM_L_POINTS
; i++) {

175 
n
 +
	`fsˇnf
(
fö
, "%f\n", & (
ls
->
r
[
i
]));

176 
ls
->
x
[
i
] = (ls->
r
[i]Ë* 
pm_co
[i];

177 
ls
->
y
[
i
] = (ls->
r
[i]Ë* 
pm_si
[i];

178 
ls
->
bad
[
i
] = 0;

180 i‡(
i
 !(
PM_L_POINTS
 - 1)) {

181 
PM_TYPE
 
dummy
;

182 
	`fsˇnf
(
fö
, "%f\n", & 
dummy
);

185 i‡(
n
 !(
PM_L_POINTS
 + 4))

188 
	}
}

201 
	$pm_∂ŸSˇnAt
(c⁄° 
PMSˇn
 *
ls
, 
PM_TYPE
 
x
, PM_TYPE 
y
, PM_TYPE 
th
, c⁄° *
cﬁ
, 
dümëî
, 
boﬁ
 
c⁄√˘_löes
) {

202 
xx
, 
yy
, 
xw
, 
yw
, 
œ°_xw
 = 0, 
œ°_yw
 = 0;

203 
si_th
 = 
	`söf
(
th
);

204 
co_th
 = 
	`cosf
(
th
);

205 *
cﬁ‹
;

206 
‹ig_cﬁ
[1000];

208 
	`°r˝y
(
‹ig_cﬁ
, 
cﬁ
);

210 
	`dr_cú˛e
(
x
, 
y
, 10.0, 
cﬁ
);

211 
	`dr_löe
(
x
, 
y
, x + 10.0 * 
	`cosf
(
th
 + 
M_PI
 / 2.0), y + 10.0 * 
	`söf
—h + M_PI / 2.0), 
cﬁ
);

212 
i
 = 0; i < 
PM_L_POINTS
; i += 1) {

213 i‡(
ls
->
r
[
i
] > 
PM_MAX_RANGE
)

215 
xx
 = 
ls
->
r
[
i
] * 
pm_co
[i];

216 
yy
 = 
ls
->
r
[
i
] * 
pm_si
[i] + 
PM_LASER_Y
;

217 
xw
 = 
xx
 * 
co_th
 - 
yy
 * 
si_th
 + 
x
;

218 
yw
 = 
xx
 * 
si_th
 + 
yy
 * 
co_th
 + 
y
;

219 i‡(
ls
->
bad
[
i
] == 0) {

220 
cﬁ‹
 = 
‹ig_cﬁ
;

221 
	`dr_cú˛e
(
xw
, 
yw
, 
dümëî
, 
cﬁ‹
);

224 
cﬁ‹
 = 
‹ig_cﬁ
;

225 
	`dr_cú˛e
(
xw
, 
yw
, 
dümëî
, 
cﬁ‹
);

227 i‡(
c⁄√˘_löes
 && 
i
 != 0) {

228 
	`dr_löe
(
xw
, 
yw
, 
œ°_xw
, 
œ°_yw
, 
cﬁ‹
);

230 
œ°_xw
 = 
xw
;

231 
œ°_yw
 = 
yw
;

233 
	}
}

243 
	$pm_∂ŸSˇn
(
PMSˇn
 *
ls
, c⁄° *
cﬁ
, 
dümëî
, 
boﬁ
 
c⁄√˘_löes
) {

244 
	`pm_∂ŸSˇnAt
(
ls
,Üs->
rx
,Üs->
ry
,Üs->
th
, 
cﬁ
, 
dümëî
, 
c⁄√˘_löes
);

245 
	}
}

264 
	$pm_medün_fûãr
(
PMSˇn
 *
ls
) {

265 c⁄° 
HALF_WINDOW
 = 2;

266 c⁄° 
WINDOW
 = 2 * 
HALF_WINDOW
 + 1;

267 
PM_TYPE
 
r
[
WINDOW
];

268 
PM_TYPE
 
w
;

270 
i
, 
j
, 
k
, 
l
;

272 
i
 = 0; i < 
PM_L_POINTS
; i++) {

273 
k
 = 0;

274 
j
 = 
i
 - 
HALF_WINDOW
; j <= i + HALF_WINDOW; j++) {

275 
l
 = ((
j
 >= 0) ? j : 0);

276 
r
[
k
] = 
ls
->r[ ((
l
 < 
PM_L_POINTS
) ?Ü : (PM_L_POINTS - 1)) ];

277 
k
++;

280 
j
 = (
WINDOW
 - 1); j > 0; j--)

281 
k
 = 0; k < 
j
; k++)

282 i‡(
r
[
k
] >Ñ[k + 1])

284 
w
 = 
r
[
k
];

285 
r
[
k
] =Ñ[k + 1];

286 
r
[
k
 + 1] = 
w
;

288 
ls
->
r
[
i
] =Ñ[
HALF_WINDOW
];

290 
	}
}

305 
	$pm_£gmít_sˇn
(
PMSˇn
 *
ls
) {

306 c⁄° 
PM_TYPE
 
MAX_DIST
 = 
PM_SEG_MAX_DIST
;

307 
PM_TYPE
 
dr
;

308 
£g_˙t
 = 0;

309 
öt_˙t
 = 0;

310 
i
, 
˙t
;

311 
boﬁ
 
bªak_£g
;

313 
£g_˙t
 = 1;

314 
öt_˙t
 = 1;

316 
Sx
 = 0, 
Sys
 = 0;

317 
Sy
 = 0;

318 
Sxy
 = 0;

319 
Sxs
 = 0;

323 i‡(
	`Ábsf
(
ls
->
r
[0] -Üs->r[1]Ë< 
MAX_DIST
)

326 
x
 = 
ls
->
r
[0] * 
pm_co
[0];

327 
y
 = 
ls
->
r
[0] * 
pm_si
[0];

328 
x1
 = 
ls
->
r
[1] * 
pm_co
[1];

329 
y1
 = 
ls
->
r
[1] * 
pm_si
[1];

331 
ls
->
≥ndõ¡e_x_2
[0] = (
x1
 - 
x
Ë/ (
y1
 - 
y
);

332 
ls
->
≥ndõ¡e_x_2
[1] = (
x1
 - 
x
Ë/ (
y1
 - 
y
);

333 
Sx
 +
x
 + 
x1
;

334 
Sy
 +
y
 + 
y1
;

336 
Sxy
 +
x
 * 
y
 + 
x1
*
y1
;

337 
Sxs
 +
x
 * x + 
x1
*x1;

338 
ls
->
≥ndõ¡e_x_öt
[0] = (2 * 
Sxy
 - 
Sx
 * 
Sy
Ë/ (2 * 
Sxs
 - Sx * Sx);

339 
ls
->
≥ndõ¡e_x_b
[0] = (
Sy
 -Üs->
≥ndõ¡e_x_öt
[0] * 
Sx
) / 2;

340 
ls
->
≥ndõ¡e_x
[0] = 
öt_˙t
;

341 
ls
->
≥ndõ¡e_x
[1] = 
öt_˙t
;

342 
ls
->
≥ndõ¡e_x_öt
[1] =Üs->pendiente_x_int[0];

343 
ls
->
≥ndõ¡e_x_b
[1] =Üs->pendiente_x_b[0];

346 
ls
->
£g
[0] = 
£g_˙t
;

347 
ls
->
£g
[1] = 
£g_˙t
;

348 
˙t
 = 2;

350 
ls
->
≥ndõ¡e_x
[0] = 0;

351 
ls
->
≥ndõ¡e_x
[1] = 
öt_˙t
;

352 
˙t
 = 1;

354 
ls
->
£g
[0] = 0;

355 
ls
->
£g
[1] = 
£g_˙t
;

356 
˙t
 = 1;

359 
i
 = 2; i < 
PM_L_POINTS
; i++) {

361 
di°™cüx
;

362 
di°™cüy
;

364 
bªak_£g
 = 
Ál£
;

365 i‡(
ls
->
bad
[
i
]) {

366 
ls
->
≥ndõ¡e_x
[
i
] = 0;

367 
ls
->
tùo
[
i
] = 0;

368 
öt_˙t
++;

370 
bªak_£g
 = 
åue
;

371 
ls
->
£g
[
i
] = 0;

373 
dr
 = 
ls
->
r
[
i
]- (2.0 *Üs->r[i - 1] -Üs->r[i - 2]);

376 i‡(
	`Ábsf
(
ls
->
r
[
i
] -Üs->r[ò- 1]Ë< 
MAX_DIST
 ||

377 ((
ls
->
£g
[
i
 - 1] =ls->£g[ò- 2]Ë&& 
	`Ábsf
(
dr
Ë< 
MAX_DIST
)) {

379 
˙t
++;

380 
ls
->
£g
[
i
] = 
£g_˙t
;

383 
x1
 = 
ls
->
r
[
i
] * 
pm_co
[i];

384 
y1
 = 
ls
->
r
[
i
] * 
pm_si
[i];

385 
x
 = 
ls
->
r
[
i
 - 1] * 
pm_co
[i - 1];

386 
y
 = 
ls
->
r
[
i
 - 1] * 
pm_si
[i - 1 ];

388 
ls
->
≥ndõ¡e_x_2
[
i
] = (
x1
 - 
x
Ë/ (
y1
 - 
y
);

389 
ls
->
≥ndõ¡e_x_2
[
i
] = (
x1
 - 
x
Ë/ (
y1
 - 
y
);

390 
Sx
 = 0;

391 
Sy
 = 0;

392 
Sxy
 = 0;

393 
Sxs
 = 0;

394 
Sys
 = 0;

395 
n
 = 0;

396 
j
 = 
i
 - 7; 0 <j && j <(ò+ 7Ë&& j < 
PM_L_POINTS
; j++) {

397 
x
 = 
ls
->
r
[
j
] * 
pm_co
[j];

398 
y
 = 
ls
->
r
[
j
] * 
pm_si
[j];

399 
Sx
 +
x
;

400 
Sy
 +
y
;

401 
Sxy
 +
x
 * 
y
;

402 
Sxs
 +
x
 * x;

403 
Sys
 +
y
 * y;

404 
n
++;

406 
ls
->
≥ndõ¡e_x_öt
[
i
] = (
n
 * 
Sxy
 - 
Sx
 * 
Sy
Ë/ (¿* 
Sxs
 - Sx * Sx);

407 
ls
->
≥ndõ¡e_y_öt
[
i
] = (
n
 * 
Sxy
 - 
Sy
 * 
Sx
Ë/ (¿* 
Sys
 - Sy * Sy);

408 
ls
->
≥ndõ¡e_x_©™f
[
i
] = 
	`©™2
÷s->
≥ndõ¡e_x_öt
[i], 1);

409 
ls
->
≥ndõ¡e_y_©™f
[
i
] = 
	`©™2
÷s->
≥ndõ¡e_y_öt
[i], 1);

410 
ls
->
≥ndõ¡e_x_b
[
i
] = (
Sy
 -Üs->
≥ndõ¡e_x_öt
[i] * 
Sx
Ë/ 
n
;

411 
ls
->
≥ndõ¡e_y_b
[
i
] = (
Sx
 -Üs->
≥ndõ¡e_y_öt
[i] * 
Sy
Ë/ 
n
;

414 
di°™cüx
 = 0;

415 
di°™cüy
 = 0;

416 
j
 = 
i
 - 7; 0 <j && j <(ò+ 7Ë&& j < 
PM_L_POINTS
; j++) {

417 
x
 = 
ls
->
r
[
j
] * 
pm_co
[j];

418 
y
 = 
ls
->
r
[
j
] * 
pm_si
[j];

419 
d1
 = (
ls
->
≥ndõ¡e_x_öt
[
i
] * 
x
 - 
y
 +Üs->
≥ndõ¡e_x_b
[i]) / (ls->pendiente_x_int[i] *Üs->pendiente_x_int[i]);

420 
d2
 = (
ls
->
≥ndõ¡e_y_öt
[
i
] * 
y
 - 
x
 +Üs->
≥ndõ¡e_y_b
[i]) / (ls->pendiente_y_int[i] *Üs->pendiente_y_int[i]);

422 
di°™cüx
 +((
d1
>0)?1:-1)*d1;

423 
di°™cüy
 +((
d2
>0)?1:-1)*d2;

427 i‡(
di°™cüx
 / 
n
 > 3 && 
di°™cüy
 /Ç > 3) {

428 
öt_˙t
++;

429 i‡(
i
 > 10) {

430 
ls
->
≥ndõ¡e_x
[
i
] = 
öt_˙t
;

431 
ls
->
tùo
[
i
] = 2;

433 
ls
->
≥ndõ¡e_x
[
i
] = 
öt_˙t
;

434 
ls
->
tùo
[
i
] = 1;

439 
ls
->
≥ndõ¡e_x
[
i
] = 
öt_˙t
;

440 
ls
->
tùo
[
i
] = 1;

443 
bªak_£g
 = 
åue
;

446 i‡(
bªak_£g
)

448 i‡(
˙t
 == 1) {

450 
dr
 = 
ls
->
r
[
i
]- (2.0 *Üs->r[i - 1] -Üs->r[i - 2]);

451 i‡(
ls
->
£g
[
i
 - 2] =0 &&Üs->
bad
[i] == 0 &&Üs->bad[i - 1] == 0

452 && 
ls
->
bad
[
i
 - 2] =0 && 
	`Ábsf
(
dr
Ë< 
MAX_DIST
) {

453 
ls
->
£g
[
i
] = 
£g_˙t
;

454 
ls
->
£g
[
i
 - 1] = 
£g_˙t
;

455 
ls
->
£g
[
i
 - 2] = 
£g_˙t
;

456 
˙t
 = 3;

459 
ls
->
£g
[
i
 - 1] = 0;

463 
ls
->
£g
[
i
] = 
£g_˙t
;

464 
˙t
 = 1;

468 
£g_˙t
++;

469 
ls
->
£g
[
i
] = 
£g_˙t
;

470 
˙t
 = 1;

475 
	}
}

482 
	$pm_föd_Ár_poöts
(
PMSˇn
 *
ls
) {

483 
i
 = 0; i < 
PM_L_POINTS
; i++) {

485 i‡(
ls
->
r
[
i
] > 
PM_MAX_RANGE
 || (i > 23 && i < 50) || (i > 642 && i < 669))

486 
ls
->
bad
[
i
] |
PM_RANGE
;

488 
	}
}

493 
	$pm_show_£gmíèti⁄
(c⁄° 
PMSˇn
 *
ls
) {

494 
x
, 
y
, 
xw
, 
yw
, 
œ°_xw
 = 0, 
œ°_yw
 = 0;

495 
si_th
 = 
	`söf
(
ls
->
th
);

496 
co_th
 = 
	`cosf
(
ls
->
th
);

497 *
cﬁ‹
;

498 c⁄° *
cﬁ
 = "red";

500 
	`dr_cú˛e
(
ls
->
rx
,Üs->
ry
, 10.0, 
cﬁ
);

501 
	`dr_löe
(
ls
->
rx
,Üs->
ry
,Üs->rx + 10.0 * 
	`cosf
÷s->
th
 + 
M_PI
 / 2.0),

502 
ls
->
ry
 + 10.0 * 
	`söf
÷s->
th
 + 
M_PI
 / 2.0), 
cﬁ
);

503 
	`dr_löe
(0, -100, 180, -100, "black");

504 
i
 = 0; i < 
PM_L_POINTS
; i++) {

505 
x
 = 
ls
->
r
[
i
] * 
pm_co
[i];

506 
y
 = 
ls
->
r
[
i
] * 
pm_si
[i] + 
PM_LASER_Y
;

507 
xw
 = 
x
 * 
co_th
 - 
y
 * 
si_th
 + 
ls
->
rx
;

508 
yw
 = 
x
 * 
si_th
 + 
y
 * 
co_th
 + 
ls
->
ry
;

509 
cﬁ‹
 = 
dr_COLORS
[
	`abs
(
ls
->
£g
[
i
]Ë% (
dr_COLORS_CNT
 - 1) ];

510 i‡(
ls
->
£g
[
i
] == 0)

511 
cﬁ‹
 = 
dr_COLORS
[
dr_COLORS_CNT
 - 1];

512 
	`dr_cú˛e
(
pm_fi
[
i
] * 
PM_R2D
, 
ls
->
r
[i] / 10.0 - 100.0, 1, 
cﬁ‹
);

513 
	`dr_cú˛e
(
xw
, 
yw
, 2, 
cﬁ‹
);

514 i‡(
i
 !0 && 
ls
->
£g
[i] != 0 &&Üs->seg[i] ==Üs->seg[i - 1]) {

515 
	`dr_löe
(
xw
, 
yw
, 
œ°_xw
, 
œ°_yw
, 
cﬁ‹
);

516 
	`dr_löe
(
pm_fi
[
i
] * 
PM_R2D
, 
ls
->
r
[i] / 10.0 - 100.0,

517 
pm_fi
[
i
 - 1] * 
PM_R2D
, 
ls
->
r
[ò- 1] / 10.0 - 100.0, 
cﬁ‹
);

519 
°r
[1000];

520 
	`•rötf
(
°r
, "%i", 
ls
->
£g
[
i
]);

521 
	`dr_ãxt
(
xw
, 
yw
, 1, 1, 
°r
, 
cﬁ
);

522 
	`dr_ãxt
(
pm_fi
[
i
] * 
PM_R2D
, 
ls
->
r
[i] / 10.0 - 100.0, 1, 1, 
°r
, 
cﬁ
);

524 
œ°_xw
 = 
xw
;

525 
œ°_yw
 = 
yw
;

527 
°r
[1000];

528 
	`•rötf
(
°r
, "%.3lf", 
ls
->
t
);

529 
	`dr_ãxt
(
ls
->
rx
,Üs->
ry
, 1, 1, 
°r
, 
cﬁ
);

530 
	}
}

537 
	$pm_¥ïro˚ssSˇn
(
PMSˇn
 *
ls
) {

538 
i
 = 0; i < 
PM_L_POINTS
; i++) {

539 
ls
->
bad
[
i
] = 0;

540 
ls
->
£g
[
i
] = 0;

542 
	`pm_medün_fûãr
(
ls
);

543 
	`pm_föd_Ár_poöts
(
ls
);

544 
	`pm_£gmít_sˇn
(
ls
);

545 
	}
}

571 
boﬁ
 
	$pm_is_c‹rid‹
(
PMSˇn
 *
a˘
) {

572 
PM_TYPE
 
fi1
 = 0, 
fi2
 = 0, 
fi3
 = 0;

573 
PM_TYPE
 
sxx
 = 0, 
sx
 = 0, 
°d1
, 
°d2
;

574 
PM_TYPE
 
n
 = 0;

576 
i
 = 0; i < (
PM_L_POINTS
 - 1); i++) {

577 i‡(
a˘
->
£g
[
i
] =a˘->£g[ò+ 1] &&á˘->£g[i] !0 && !a˘->
bad
[i])

579 
PM_TYPE
 
x
, 
y
, 
x1
, 
y1
, 
fi
;

580 
x
 = 
a˘
->
r
[
i
] * 
pm_co
[i];

581 
y
 = 
a˘
->
r
[
i
] * 
pm_si
[i];

582 
x1
 = 
a˘
->
r
[
i
 + 1] * 
pm_co
[i + 1];

583 
y1
 = 
a˘
->
r
[
i
 + 1] * 
pm_si
[i + 1];

584 
fi
 = 
	`©™2f
(
y1
 - 
y
, 
x1
 - 
x
Ë* 
PM_R2D
;

586 i‡(
fi
 < 0)

587 
fi
 += 180.0;

588 i‡(
i
 == 0)

590 
fi1
 = 
fi
;

591 
fi2
 = 
fi
;

592 
fi3
 = 
fi
;

595 
fi3
 = 
fi2
;

596 
fi2
 = 
fi1
;

597 
fi1
 = 
fi
;

599 i‡(
fi1
 <
fi2
 && fi2 <
fi3
)

600 
fi
 = 
fi2
;

601 i‡(
fi2
 <
fi3
 && fi3 <
fi1
)

602 
fi
 = 
fi3
;

603 i‡(
fi3
 <
fi1
 && fi1 <
fi2
)

604 
fi
 = 
fi1
;

606 
sx
 +
fi
;

607 
sxx
 +
fi
*fi;

608 
n
 += 1.0;

611 i‡(
n
 > 1) {

612 
PM_TYPE
 
v¨
 = (
sxx
 - 
sx
 * sx / 
n
) / (n - 1.0);

613 i‡(
v¨
 > 0) {

614 
°d1
 = 
	`sqπf
(
v¨
);

616 
°d1
 = 0;

619 
˚º
 << "pm_is_c‹rid‹: ERRORÇ<=1" << 
ídl
;

620 
throw
 3;

624 
sxx
 = 0;

625 
n
 = 0;

626 
sx
 = 0;

627 
i
 = 0; i < (
PM_L_POINTS
 - 1); i++) {

628 i‡(
a˘
->
£g
[
i
] =a˘->£g[ò+ 1] &&á˘->£g[i] !0 && !a˘->
bad
[i])

630 
PM_TYPE
 
x
, 
y
, 
x1
, 
y1
, 
fi
;

631 
x
 = 
a˘
->
r
[
i
] * 
	`cosf
(
pm_fi
[i] + 
M_PI
 / 5.0);

632 
y
 = 
a˘
->
r
[
i
] * 
	`söf
(
pm_fi
[i] + 
M_PI
 / 5.0);

633 
x1
 = 
a˘
->
r
[
i
 + 1] * 
	`cosf
(
pm_fi
[ò+ 1] + 
M_PI
 / 5.0);

634 
y1
 = 
a˘
->
r
[
i
 + 1] * 
	`söf
(
pm_fi
[ò+ 1] + 
M_PI
 / 5.0);

635 
fi
 = 
	`©™2f
(
y1
 - 
y
, 
x1
 - 
x
Ë* 
PM_R2D
;

637 i‡(
fi
 < 0)

638 
fi
 += 180.0;

639 i‡(
i
 == 0)

641 
fi1
 = 
fi
;

642 
fi2
 = 
fi
;

643 
fi3
 = 
fi
;

645 
fi1
 = 
fi
;

646 
fi2
 = 
fi1
;

647 
fi3
 = 
fi2
;

649 i‡(
fi1
 <
fi2
 && fi2 <
fi3
)

650 
fi
 = 
fi2
;

651 i‡(
fi2
 <
fi3
 && fi3 <
fi1
)

652 
fi
 = 
fi3
;

653 i‡(
fi3
 <
fi1
 && fi1 <
fi2
)

654 
fi
 = 
fi1
;

656 
sx
 +
fi
;

657 
sxx
 +
fi
*fi;

658 
n
 += 1.0;

662 i‡(
n
 > 1) {

663 
PM_TYPE
 
v¨
 = (
sxx
 - 
sx
 * sx / 
n
) / (n - 1.0);

664 i‡(
v¨
 > 0) {

665 
°d2
 = 
	`sqπf
(
v¨
);

667 
°d2
 = 0;

670 
˚º
 << "pm_is_c‹rid‹: ERRORÇ<=1" << 
ídl
;

671 
throw
 2;

675 
PM_TYPE
 
°
;

676 i‡(
°d1
 < 
°d2
)

677 
°
 = 
°d1
;

679 
°
 = 
°d2
;

680 i‡(
°
 < 
PM_CORRIDOR_THRESHOLD
) {

682  
åue
;

685  
Ál£
;

687 
	}
}

712 
PM_TYPE
 
	$pm_îr‹_ödex
(
PMSˇn
 *
l§
, PMSˇ¿*
lß
) {

713 
i
, 
j
;

714 
PM_TYPE
 
rx
[
PM_L_POINTS
], 
ry
[PM_L_POINTS], 
ax
[PM_L_POINTS], 
ay
[PM_L_POINTS];

715 
PM_TYPE
 
x
, 
y
;

716 
PM_TYPE
 
d
, 
dmö
, 
dsum
, 
dx
, 
dy
;

717 
PM_TYPE
 
dsum1
;

718 
n
, 
n1
, 
∫
 = 0, 
™
 = 0;

719 c⁄° 
PM_TYPE
 
HUGE_ERROR
 = 1000000;

720 c⁄° 
PM_TYPE
 
DISTANCE_TRESHOLD
 = 
PM_MAX_RANGE
 / 2;

721 c⁄° 
MIN_POINTS
 = 
PM_MIN_VALID_POINTS
;

723 
lß
->
th
 = 
	`n‹m_a
(lsa->th);

724 
PM_TYPE
 
co
 = 
	`cosf
(
lß
->
th
);

725 
PM_TYPE
 
si
 = 
	`söf
(
lß
->
th
);

730 
ödex360
 = ((
PM_L_POINTS
 - 1Ë* 360Ë/ 
PM_FOV
;

731 
ödexIn¸emít
 = (
lß
->
th
 * 
PM_R2D
 * (
PM_L_POINTS
 - 1)Ë/ 
PM_FOV
;

733 
i
 = 0; i < 
PM_L_POINTS
; i++) {

736 i‡(!
l§
->
bad
[
i
]) {

738 
j
 = (
i
 - 
ödexIn¸emít
 + 
ödex360
) % index360;

739 
	`as£π
((
i
 - 
ödexIn¸emít
 + 
ödex360
) >= 0);

742 i‡((
j
 >0Ë&& (j < 
PM_L_POINTS
)) {

743 
rx
[
∫
] = 
l§
->
r
[
i
] * 
pm_co
[i];

744 
ry
[
∫
] = 
l§
->
r
[
i
] * 
pm_si
[i];

746 
∫
++;

752 
i
 = 0; i < 
PM_L_POINTS
; i++) {

753 i‡(!
lß
->
bad
[
i
]) {

754 
j
 = (
i
 + 
ödexIn¸emít
 + 
ödex360
) % index360;

755 
	`as£π
((
i
 + 
ödexIn¸emít
 + 
ödex360
) >= 0);

757 i‡((
j
 >0Ë&& (j < 
PM_L_POINTS
)) {

758 
x
 = 
lß
->
r
[
i
] * 
pm_co
[i];

759 
y
 = 
lß
->
r
[
i
] * 
pm_si
[i];

761 
ax
[
™
] = 
x
 * 
co
 - 
y
 * 
si
 + 
lß
->
rx
;

762 
ay
[
™
] = 
x
 * 
si
 + 
y
 * 
co
 + 
lß
->
ry
;

764 
™
++;

770 
dsum
 = 0;

771 
n
 = 0;

772 
i
 = 0; i < 
™
; i++) {

773 
dmö
 = 
HUGE_ERROR
;

774 
j
 = 0; j < 
∫
; j++) {

775 
dx
 = 
rx
[
j
] - 
ax
[
i
];

776 
dy
 = 
ry
[
j
] - 
ay
[
i
];

777 
d
 = 
	`sqπf
(
dx
 * dx + 
dy
 * dy);

778 i‡(
d
 < 
dmö
)

779 
dmö
 = 
d
;

781 i‡(
dmö
 < 
DISTANCE_TRESHOLD
) {

782 
n
++;

783 
dsum
 +
dmö
;

787 i‡(
n
 > 0) {

788 
dsum1
 = 
dsum
 / (
PM_TYPE
Ë
n
;

789 
n1
 = 
n
;

791  
HUGE_ERROR
;

794 
dsum
 = 0;

795 
n
 = 0;

796 
i
 = 0; i < 
∫
; i++) {

797 
dmö
 = 
HUGE_ERROR
;

798 
j
 = 0; j < 
™
; j++) {

799 
dx
 = 
rx
[
i
] - 
ax
[
j
];

800 
dy
 = 
ry
[
i
] - 
ay
[
j
];

801 
d
 = 
	`sqπf
(
dx
 * dx + 
dy
 * dy);

802 i‡(
d
 < 
dmö
)

803 
dmö
 = 
d
;

805 i‡(
dmö
 < 
DISTANCE_TRESHOLD
) {

806 
n
++;

807 
dsum
 +
dmö
;

811 i‡(
n
 > 0) {

812 
dsum
 = dsum / (
PM_TYPE
Ë
n
;

814  
HUGE_ERROR
;

818 i‡(
n1
 > 
MIN_POINTS
 && 
n
 > MIN_POINTS) {

819 i‡(
dsum1
 > 
dsum
)

820  
dsum1
;

822  
dsum
;

824  
HUGE_ERROR
;

825 
	}
}

842 
PM_TYPE
 
	$pm_îr‹_ödex2
(
PMSˇn
 *
ªf
, PMSˇ¿*
cur
, * 
assocüãdPoöts
) {

844 
PMSˇn
 
cur2
;

845 
PM_TYPE
 
rx
, 
ry
, 
πh
, 
ax
, 
ay
, 
©h
;

846 
PM_TYPE
 
t13
, 
t23
, 
LASER_Y
 = 
PM_LASER_Y
;

847 
PM_TYPE
 
√w_r
[
PM_L_POINTS
];

848 
√w_bad
[
PM_L_POINTS
];

849 
PM_TYPE
 
avg_îr
 = 100000000.0;

851 
rx
 = 
ªf
->rx;

852 
ry
 = 
ªf
->ry;

853 
πh
 = 
ªf
->
th
;

854 
ax
 = 
cur
->
rx
;

855 
ay
 = 
cur
->
ry
;

856 
©h
 = 
cur
->
th
;

860 
t13
 = 
	`söf
(
πh
 - 
©h
Ë* 
LASER_Y
 + 
	`cosf
‘thË* 
ax
 + söf‘thË* 
ay
 - söf‘thË* 
ry
 - 
rx
 * cosf(rth);

861 
t23
 = 
	`cosf
(
πh
 - 
©h
Ë* 
LASER_Y
 - 
	`söf
‘thË* 
ax
 + cosf‘thË* 
ay
 - cosf‘thË* 
ry
 + 
rx
 * sinf(rth) - LASER_Y;

863 
cur2
 = *
cur
;

864 
cur2
.
rx
 = 
t13
;

865 
cur2
.
ry
 = 
t23
;

866 
cur2
.
th
 = 
©h
 - 
πh
;

869 
	`pm_sˇn_¥oje˘
(&
cur2
, 
√w_r
, 
√w_bad
);

871 
PM_TYPE
 
e
 = 0;

872 
n
 = 0;

874 
öicio
 = 0;

875 
fö
 = 0;

877 
i
 = 
öicio
; i < 
PM_L_POINTS
 - 
fö
; i++)

879 
PM_TYPE
 
dñè
 = 
	`Ábsf
(
√w_r
[
i
] - 
ªf
->
r
[i]);

880 i‡(!
√w_bad
[
i
] && !
ªf
->
bad
[i] && 
dñè
 < 
PM_MAX_ERROR
 / 2.0) {

881 
e
 +
dñè
;

882 
n
++;

886 i‡(
n
 > 0)

887 
avg_îr
 = 
e
 / 
n
;

888 i‡(
assocüãdPoöts
 !
NULL
) {

889 *
assocüãdPoöts
 = 
n
;

891  
avg_îr
;

892 
	}
}

910 
PM_TYPE
 
	$pm_c‹rid‹_™gÀ
(
PMSˇn
 *
a˘
) {

911 
PM_TYPE
 
fi
;

912 
n
 = 0, 
j
, 
i
;

913 
PM_TYPE
 
™g
[
PM_L_POINTS
];

914 
hi°
[180];

916 
i
 = 0; i < 180; i++)

917 
hi°
[
i
] = 0;

919 
i
 = 0; i < (
PM_L_POINTS
 - 1); i++) {

920 i‡(
a˘
->
£g
[
i
] =a˘->£g[ò+ 1] &&á˘->£g[i] !0 && !a˘->
bad
[i])

922 
PM_TYPE
 
x
, 
y
, 
x1
, 
y1
, 
fi
;

923 
x
 = 
a˘
->
r
[
i
] * 
pm_co
[i];

924 
y
 = 
a˘
->
r
[
i
] * 
pm_si
[i];

926 
x1
 = 
a˘
->
r
[
i
 + 1] * 
pm_co
[i + 1];

927 
y1
 = 
a˘
->
r
[
i
 + 1] * 
pm_si
[i + 1];

928 
fi
 = 
	`©™2f
(
y1
 - 
y
, 
x1
 - 
x
Ë* 
PM_R2D
;

931 i‡(
fi
 < 0)

932 
fi
 += 180.0;

933 
™g
[
n
] = 
fi
;

934 
n
++;

936 
j
 = (2 * (Ë
	`Êo‹
(
fi
 / 2.0 + 0.5)) % 180;

937 
hi°
[
j
 % 180]++;

942 
imax
 = -1, 
max
 = 0;

943 
i
 = 0; i < 180; i += 2)

944 i‡(
hi°
[
i
] > 
max
) {

945 
max
 = 
hi°
[
i
];

946 
imax
 = 
i
;

948 i‡(
max
 == 0) {

949 
˚º
 << "pm_c‹rid‹_™gÀ: ERRORÇÿmaximum" << 
ídl
;

950 
throw
 1;

953 
PM_TYPE
 
m
 = 0;

954 
˙t
 = 0, 
d
;

956 
i
 = 0; i < 
n
; i++) {

957 
fi
 = 
™g
[
i
];

958 
j
 = ((Ë
	`Êo‹
(
fi
 + 0.5)) % 180;

959 
d
 = 
	`abs
(
j
 - 
imax
);

960 c⁄° 
TRESHOLD
 = 5;

961 i‡((
d
 < 90 && d % 90 < 
TRESHOLD
) || (d >= 90 && (90 - d % 90)) < TRESHOLD) {

963 
˙t
++;

964 i‡(
imax
 < 10 && 
j
 > 170)

965 
m
 +180.0 - 
fi
;

967 i‡(
imax
 > 170 && 
j
 < 10)

968 
m
 +180.0 + 
fi
;

970 
m
 +
fi
;

973 
m
 = m / (
PM_TYPE
Ë
˙t
;

974  
m
*
PM_D2R
;

975 
	}
}

997 
	$pm_cov_e°
(
PM_TYPE
 
îr
, *
c11
, *
c12
, *
c22
, *
c33
,

998 
boﬁ
 
c‹rid‹
, 
PM_TYPE
 
c‹r_™gÀ
) {

999 
	#SQ
(
x
Ë((x)*(x))

	)

1000 c⁄° 
cov_x
 = 
	`SQ
(
PM_MIN_STD_XY
);

1001 c⁄° 
cov_y
 = 
	`SQ
(
PM_MIN_STD_XY
);

1002 c⁄° 
cov_th
 = 
	`SQ
(
PM_MIN_STD_ORIENTATION
 * 
M_PI
 / 180.0);

1004 c⁄° 
cov_Æ⁄g
 = 
	`SQ
(
PM_MIN_STD_XY
 * 20.0);

1005 c⁄° 
cov_a¸oss
 = 
	`SQ
(
PM_MIN_STD_XY
 * 1.5);

1007 
îr
 =Éº - 
PM_MATCH_ERROR_OFFSET
;

1008 i‡(
îr
 < 1.0)

1009 
îr
 = 1.0;

1010 i‡(
c‹rid‹
)

1012 
co
 = 
	`cosf
(
c‹r_™gÀ
);

1013 
si
 = 
	`söf
(
c‹r_™gÀ
);

1014 *
c11
 = 
îr
 * (
	`SQ
(
co
Ë* 
cov_Æ⁄g
 + SQ(
si
Ë* 
cov_a¸oss
);

1015 *
c12
 = 
îr
 * (-
co
 * 
si
 * (-
cov_Æ⁄g
 + 
cov_a¸oss
));

1016 *
c22
 = 
îr
 * (
	`SQ
(
si
Ë* 
cov_Æ⁄g
 + SQ(
co
Ë* 
cov_a¸oss
);

1017 *
c33
 = 
îr
*
cov_th
;

1019 *
c12
 = 0;

1020 *
c11
 = 
îr
*
cov_x
;

1021 *
c22
 = 
îr
*
cov_y
;

1022 *
c33
 = 
îr
*
cov_th
;

1024 
	}
}

1048 
PM_TYPE
 
	$pm_psm
(c⁄° 
PMSˇn
 *
l§
, PMSˇ¿*
lß
, 
FILE
 *
fûe
) {

1049 
PMSˇn
 
a˘
, 
ªf
;

1050 
PM_TYPE
 
rx
, 
ry
, 
πh
, 
ax
, 
ay
, 
©h
;

1051 
PM_TYPE
 
t13
, 
t23
, 
LASER_Y
 = 
PM_LASER_Y
;

1052 
PM_TYPE
 
√w_r
[
PM_L_POINTS
];

1053 
√w_bad
[
PM_L_POINTS
];

1054 
PM_TYPE
 
C
 = 
PM_WEIGHTING_FACTOR
;

1055 
ôî
, 
smÆl_c‹r_˙t
 = 0;

1056 
PM_TYPE
 
dx
 = 0, 
dy
 = 0, 
dth
 = 0;

1057 
PM_TYPE
 
avg_îr
 = 100000000.0;

1059 #ifde‡ 
PM_GENERATE_RESULTS


1060 
°¨t_tick
, 
dód_tick
, 
íd_tick
, 
íd_tick2
;

1061 
FILE
 *
f
;

1062 
f
 = 
	`f›í
(
PM_TIME_FILE
, "w");

1063 
dód_tick
 = 0;

1064 
°¨t_tick
 = 
	`pm_m£c
();

1067 
a˘
 = *
lß
;

1068 
ªf
 = *
l§
;

1070 
rx
 = 
ªf
.rx;

1071 
ry
 = 
ªf
.ry;

1072 
πh
 = 
ªf
.
th
;

1073 
ax
 = 
a˘
.
rx
;

1074 
ay
 = 
a˘
.
ry
;

1075 
©h
 = 
a˘
.
th
;

1079 
t13
 = 
	`söf
(
πh
 - 
©h
Ë* 
LASER_Y
 + 
	`cosf
‘thË* 
ax
 + söf‘thË* 
ay
 - söf‘thË* 
ry
 - 
rx
 * cosf(rth);

1080 
t23
 = 
	`cosf
(
πh
 - 
©h
Ë* 
LASER_Y
 - 
	`söf
‘thË* 
ax
 + cosf‘thË* 
ay
 - cosf‘thË* 
ry
 + 
rx
 * sinf(rth) - LASER_Y;

1082 
ªf
.
rx
 = 0;

1083 
ªf
.
ry
 = 0;

1084 
ªf
.
th
 = 0;

1085 
a˘
.
rx
 = 
t13
;

1086 
a˘
.
ry
 = 
t23
;

1087 
a˘
.
th
 = 
©h
 - 
πh
;

1089 
ax
 = 
a˘
.
rx
;

1090 
ay
 = 
a˘
.
ry
;

1091 
©h
 = 
a˘
.
th
;

1093 
îr_mö
 = 100000;

1094 
x_mö
 = 0;

1095 
y_mö
 = 0;

1096 
th_mö
 = 0;

1097 i‡(
fûe
 !
NULL
)

1098 
	`Ârötf
(
fûe
, "iteraciones = []\n");

1099 
ôî
 = -1;

1100 
PM_TYPE
 
îr_idx
;

1101 ++
ôî
 < 
PM_MAX_ITER
 && 
smÆl_c‹r_˙t
 < 3)

1103 i‡((
	`Ábsf
(
dx
Ë+ fabsf(
dy
Ë+ fabsf(
dth
)Ë< 
PM_STOP_COND
)

1104 
smÆl_c‹r_˙t
++;

1106 
smÆl_c‹r_˙t
 = 0;

1108 #ifde‡ 
PM_GENERATE_RESULTS


1109 
íd_tick
 = 
	`pm_m£c
();

1110 
	`Ârötf
(
f
, "%ò%l‡%l‡%l‡%lf\n", 
ôî
,

1111 
íd_tick
 - 
°¨t_tick
 - 
dód_tick
, 
ax
, 
ay
, 
©h
 * 
PM_R2D
);

1112 
íd_tick2
 = 
	`pm_m£c
();

1113 
dód_tick
 +
íd_tick2
 - 
íd_tick
;

1117 #ifde‡
GR


1118 
	`dr_îa£
();

1119 
	`dr_cú˛e
(
ax
, 
ay
, 5.0, "green");

1120 
	`dr_löe
(0, -100, 200, -100, "black");

1121 
	`dr_löe
(0, -200, 200, -200, "black");

1122 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1123 
	`dr_cú˛e
(
ªf
.
r
[
i
] * 
pm_co
[i],Ñef.r[i] * 
pm_si
[i], 4.0, "black");

1124 
	`dr_cú˛e
(
pm_fi
[
i
] * 
PM_R2D
, 
ªf
.
r
[i] / 10.0 - 100, 1, "black");

1128 
a˘
.
rx
 = 
ax
;

1129 
a˘
.
ry
 = 
ay
;

1130 
a˘
.
th
 = 
©h
;

1133 
PMSˇn
 
ãmp
 = *
l§
;

1134 
îr_idx
 = 
	`pm_îr‹_ödex2
(&
ãmp
, &
a˘
);

1135 
cout
 << " %Éº: " << 
îr_idx
 << " ; " << 
a˘
.
rx
 << " ; " <<á˘.
ry
 << " ; " <<á˘.
th
 << "\n";

1136 i‡(
îr_idx
 < 
îr_mö
) {

1137 
îr_mö
 = 
îr_idx
;

1138 
x_mö
 = 
a˘
.
rx
;

1139 
y_mö
 = 
a˘
.
ry
;

1140 
th_mö
 = 
a˘
.
th
;

1143 
	`pm_sˇn_¥oje˘
(&
a˘
, 
√w_r
, 
√w_bad
);

1144 i‡(
fûe
 !
NULL
) {

1145 
	`Ârötf
(
fûe
, "ifÉxist('print_iteraciones','var') &&Örint_iteraciones ==Årue\n");

1146 
	`Ârötf
(
fûe
, " iãøci⁄_%d = [", 
ôî
);

1149 
j
 = 0; j < 
PM_L_POINTS
; ++j) {

1153 
	`Ârötf
(
fûe
, "%f", 
√w_r
[
j
]);

1154 i‡(
j
 !
PM_L_POINTS
 - 1)

1155 
	`Ârötf
(
fûe
, ",");

1157 
	`Ârötf
(
fûe
, "];\n");

1158 
	`Ârötf
(
fûe
, " iãøci⁄_%d =Åøns_r(ôîaci⁄_%d);\n", 
ôî
, iter);

1159 
	`Ârötf
(
fûe
, " iãøci⁄_%d =Åønsf‹m_to_globÆ(ôîaci⁄_%d,po£s”nd,:));\n", 
ôî
, iter);

1160 
	`Ârötf
(
fûe
, " h = [h ;ÖlŸ(0,0,'.','xd©a',ôîaci⁄_%d(1,:),'yd©a',ôîaci⁄_%d(2,:),'di•œy«me','ôîaci⁄_%d (%f,%f,%f)','löe','-','m¨kî','.','m¨kîsize',1)];\n", 
ôî
, iãr, iãr, 
a˘
.
rx
,á˘.
ry
,á˘.
th
);

1161 
	`Ârötf
(
fûe
, "Öause;\n");

1162 
	`Ârötf
(
fûe
, "end;");

1167 i‡(
ôî
 % 2 == 0) {

1168 
dth
 = 
	`pm_‹õ¡©i⁄_£¨ch
(&
ªf
, 
√w_r
, 
√w_bad
);

1169 
©h
 +
dth
;

1175 i‡(
ôî
 =
PM_CHANGE_WEIGHT_ITER
)

1176 
C
 = C / 50.0;

1177 #ifde‡
GR


1178 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1179 
	`dr_cú˛e
(
pm_fi
[
i
] * 
PM_R2D
, 
ªf
.
r
[i] / 10.0 - 200, 1, "black");

1183 
avg_îr
 = 
	`pm_å™¶©i⁄_e°im©i⁄
(&
ªf
, 
√w_r
, 
√w_bad
, 
C
, &
dx
, &
dy
, 
©h
);

1184 
ax
 +
dx
;

1185 
ay
 +
dy
;

1187 
îr_idx
 = 
	`pm_îr‹_ödex2
(&
ãmp
, &
a˘
);

1189 i‡(
îr_idx
 < 
îr_mö
) {

1190 
îr_mö
 = 
îr_idx
;

1191 
x_mö
 = 
a˘
.
rx
;

1192 
y_mö
 = 
a˘
.
ry
;

1193 
th_mö
 = 
a˘
.
th
;

1196 #ifde‡
GR


1197 
cout
 << "ôî " << 
ôî
 << " " << 
ax
 << " " << 
ay
 << " " << 
©h
 * 
PM_R2D
 << " " << 
dx
 << " " << 
dy
 << 
ídl
;

1198 
	`dr_zoom
();

1204 #ifde‡ 
PM_GENERATE_RESULTS


1205 
íd_tick
 = 
	`pm_m£c
();

1206 
	`Ârötf
(
f
, "%ò%l‡%l‡%l‡%lf\n", 
ôî
,

1207 
íd_tick
 - 
°¨t_tick
 - 
dód_tick
, 
ax
, 
ay
, 
©h
 * 
PM_R2D
);

1208 
	`f˛o£
(
f
);

1212 
lß
->
rx
 = 
x_mö
;

1213 
lß
->
ry
 = 
y_mö
;

1214 
lß
->
th
 = 
th_mö
;

1216 i‡(
fûe
 !
NULL
)

1217 
	`Ârötf
(
fûe
, "nôî=%d;\n", 
ôî
);

1218  ( 
avg_îr
);

1219 
	}
}

1234 
PM_TYPE
 
	$poöt_löe_di°™˚
(
PM_TYPE
 
x1
, PM_TYPE 
y1
, PM_TYPE 
x2
, PM_TYPE 
y2
,

1235 
PM_TYPE
 
x3
, PM_TYPE 
y3
, PM_TYPE *
x
, PM_TYPE *
y
) {

1236 
PM_TYPE
 
ax
, 
ay
, 
t1
, 
D
;

1237 
ax
 = 
x2
 - 
x1
;

1238 
ay
 = 
y2
 - 
y1
;

1239 
D
 = 
	`sqπf
(
ax
 *áx + 
ay
 *áy);

1240 i‡(
D
 < 0.0001) {

1241 
˚º
 << "poöt_löe_di°™˚: u√x≥˘ed D:" << 
D
 << 
ídl
;

1244 
t1
 = -(-
ax
 * 
x3
 + 
ay
 * 
y1
 +áx * 
x1
 -áy * 
y3
) / (ax *áx +áy *áy);

1245 i‡(
t1
 < 0 ||Å1 > 1)

1249 *
x
 = 
x1
 + 
t1
*
ax
;

1250 *
y
 = 
y1
 + 
t1
*
ay
;

1251  ( 
	`sqπf
((
x3
 - *
x
Ë* (x3 - *xË+ (
y3
 - *
y
) * (y3 - *y)));

1252 
	}
}

1263 
PM_TYPE
 
	$pm_i˝
(c⁄° 
PMSˇn
 *
l§
, PMSˇ¿*
lß
) {

1264 
	#INTERPOLATE_ICP


1265 
PMSˇn
 
a˘
, 
ªf
;

1266 
PM_TYPE
 
rx
, 
ry
, 
πh
, 
ax
, 
ay
, 
©h
;

1267 
PM_TYPE
 
t13
, 
t23
, 
LASER_Y
 = 
PM_LASER_Y
;

	)

1268 
√w_bad
[
PM_L_POINTS
];

1269 
PM_TYPE
 
√w_r
[
PM_L_POINTS
];

1270 
PM_TYPE
 
nx
[
PM_L_POINTS
];

1271 
PM_TYPE
 
ny
[
PM_L_POINTS
];

1272 
ödex
[
PM_L_POINTS
][2];

1273 
PM_TYPE
 
di°
[
PM_L_POINTS
];

1274 
n
 = 0;

1275 
ôî
, 
i
, 
j
, 
smÆl_c‹r_˙t
 = 0, 
k
, 
imax
;

1276 
wödow
 = 
PM_SEARCH_WINDOW
;

1277 
PM_TYPE
 
abs_îr
 = 0, 
dx
 = 0, 
dy
 = 0, 
dth
 = 0;

1278 
PM_TYPE
 
co
, 
si
;

1280 #ifde‡ 
PM_GENERATE_RESULTS


1281 
°¨t_tick
, 
dód_tick
, 
íd_tick
, 
íd_tick2
;

1282 
FILE
 *
f
;

1283 
f
 = 
	`f›í
(
PM_TIME_FILE
, "w");

1284 
dód_tick
 = 0;

1285 
°¨t_tick
 = 
	`pm_m£c
();

1288 
a˘
 = *
lß
;

1289 
ªf
 = *
l§
;

1291 
rx
 = 
ªf
.rx;

1292 
ry
 = 
ªf
.ry;

1293 
πh
 = 
ªf
.
th
;

1294 
ax
 = 
a˘
.
rx
;

1295 
ay
 = 
a˘
.
ry
;

1296 
©h
 = 
a˘
.
th
;

1300 
t13
 = 
	`söf
(
πh
 - 
©h
Ë* 
LASER_Y
 + 
	`cosf
‘thË* 
ax
 + söf‘thË* 
ay
 - söf‘thË* 
ry
 - 
rx
 * cosf(rth);

1301 
t23
 = 
	`cosf
(
πh
 - 
©h
Ë* 
LASER_Y
 - 
	`söf
‘thË* 
ax
 + cosf‘thË* 
ay
 - cosf‘thË* 
ry
 + 
rx
 * sinf(rth) - LASER_Y;

1303 
ªf
.
rx
 = 0;

1304 
ªf
.
ry
 = 0;

1305 
ªf
.
th
 = 0;

1306 
a˘
.
rx
 = 
t13
;

1307 
a˘
.
ry
 = 
t23
;

1308 
a˘
.
th
 = 
©h
 - 
πh
;

1310 
ax
 = 
a˘
.
rx
;

1311 
ay
 = 
a˘
.
ry
;

1312 
©h
 = 
a˘
.
th
;

1316 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1317 
ªf
.
x
[
i
] =Ñef.
r
[i] * 
pm_co
[i];

1318 
ªf
.
y
[
i
] =Ñef.
r
[i] * 
pm_si
[i];

1320 
a˘
.
x
[
i
] =á˘.
r
[i] * 
pm_co
[i];

1321 
a˘
.
y
[
i
] =á˘.
r
[i] * 
pm_si
[i];

1324 
ôî
 = -1;

1325 ++
ôî
 < 
PM_MAX_ITER_ICP
 && 
smÆl_c‹r_˙t
 < 3)

1328 i‡((
	`Ábsf
(
dx
Ë+ fabsf(
dy
Ë+ fabsf(
dth
Ë* 
PM_R2D
Ë< 
PM_STOP_COND_ICP
)

1329 
smÆl_c‹r_˙t
++;

1331 
smÆl_c‹r_˙t
 = 0;

1333 #ifde‡ 
PM_GENERATE_RESULTS


1334 
íd_tick
 = 
	`pm_m£c
();

1335 
	`Ârötf
(
f
, "%ò%l‡%l‡%l‡%lf\n", 
ôî
,

1336 
íd_tick
 - 
°¨t_tick
 - 
dód_tick
, 
ax
, 
ay
, 
©h
 * 
PM_R2D
);

1337 
íd_tick2
 = 
	`pm_m£c
();

1338 
dód_tick
 +
íd_tick2
 - 
íd_tick
;

1341 #ifde‡
GR


1342 
	`dr_îa£
();

1343 
	`dr_cú˛e
(
ax
, 
ay
, 5.0, "green");

1344 
	`dr_löe
(0, -100, 200, -100, "black");

1345 
	`dr_löe
(0, -200, 200, -200, "black");

1349 
a˘
.
rx
 = 
ax
;

1350 
a˘
.
ry
 = 
ay
;

1351 
a˘
.
th
 = 
©h
;

1352 
	`pm_sˇn_¥oje˘
(&
a˘
, 
√w_r
, 
√w_bad
);

1355 
co
 = 
	`cosf
(
©h
);

1356 
si
 = 
	`söf
(
©h
);

1357 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1358 
nx
[
i
] = 
a˘
.
x
[i] * 
co
 -á˘.
y
[i] * 
si
 + 
ax
;

1359 
ny
[
i
] = 
a˘
.
x
[i] * 
si
 +á˘.
y
[i] * 
co
 + 
ay
;

1360 #ifde‡
GR


1361 i‡(
ªf
.
bad
[
i
])

1362 
	`dr_cú˛e
(
ªf
.
x
[
i
],Ñef.
y
[i], 4, "yellow");

1364 
	`dr_cú˛e
(
ªf
.
x
[
i
],Ñef.
y
[i], 4, "black");

1365 i‡(
√w_bad
[
i
])

1366 
	`dr_cú˛e
(
nx
[
i
], 
ny
[i], 4, "green");

1368 
	`dr_cú˛e
(
nx
[
i
], 
ny
[i], 4, "blue");

1372 #ifde‡
GR


1373 
cout
 << "öãΩﬁ©edÑ™ges.Öªs†íãr" << 
ídl
;

1376 
	`dr_zoom
();

1382 
n
 = 0;

1383 
PM_TYPE
 
d
, 
mö_d
;

1384 
mö_idx
;

1386 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1387 
mö_d
 = 1000000;

1388 
mö_idx
 = -1;

1389 i‡(!
√w_bad
[
i
]) {

1390 
imö
, 
imax
;

1391 
imö
 = 
i
 - 
wödow
;

1392 i‡(
imö
 < 0)

1393 
imö
 = 0;

1394 
imax
 = 
i
 + 
wödow
;

1395 i‡(
imax
 > 
PM_L_POINTS
)

1396 
imax
 = 
PM_L_POINTS
;

1398 
j
 = 
imö
; j < 
imax
; j++) {

1399 i‡(!
ªf
.
bad
[
j
]) {

1400 
d
 = 
	`SQ
(
nx
[
i
] - 
ªf
.
x
[
j
]Ë+ SQ(
ny
[i] -Ñef.
y
[j]);

1401 i‡(
d
 < 
mö_d
) {

1402 
mö_d
 = 
d
;

1403 
mö_idx
 = 
j
;

1407 i‡(
mö_idx
 >0 && 
	`sqπf
(
mö_d
Ë< 
PM_MAX_ERROR
)

1409 
ödex
[
n
][0] = 
i
;

1410 
ödex
[
n
][1] = 
mö_idx
;

1411 
di°
[
n
] = 
	`sqπf
(
mö_d
);

1412 
n
++;

1413 #ifde‡
GR


1414 
	`dr_löe
(
nx
[
i
], 
ny
[i], 
ªf
.
x
[
mö_idx
],Ñef.
y
[min_idx], "blue");

1421 i‡(
n
 < 
PM_MIN_VALID_POINTS
) {

1422 
˚º
 << "pm_i˝: ERRORÇŸÉnoughÖoöts" << 
ídl
;

1423 #ifde‡ 
PM_GENERATE_RESULTS


1424 
	`f˛o£
(
f
);

1426 
throw
 1;

1431 
imax
 = (Ë((Ë
n
 * 0.2);

1432 
i
 = 0; i < 
imax
; i++)

1433 
j
 = 1; j < (
n
 - 
i
); j++) {

1434 i‡(
di°
[
j
] < dist[j - 1])

1437 
k
 = 
ödex
[
j
][0];

1438 
ödex
[
j
][0] = index[j - 1][0];

1439 
ödex
[
j
 - 1][0] = 
k
;

1441 
k
 = 
ödex
[
j
][1];

1442 
ödex
[
j
][1] = index[j - 1][1];

1443 
ödex
[
j
 - 1][1] = 
k
;

1445 
d
 = 
di°
[
j
];

1446 
di°
[
j
] = dist[j - 1];

1447 
di°
[
j
 - 1] = 
d
;

1451 #ifde‡
INTERPOLATE_ICP


1454 
PM_TYPE
 
ix
[
PM_L_POINTS
], 
iy
[PM_L_POINTS];

1458 
PM_TYPE
 
d0
, 
d1
, 
d2
;

1459 
PM_TYPE
 
möx1
, 
möy1
, 
möx2
, 
möy2
;

1460 
max_i
 = 
n
 - 
imax
;

1461 
i
 = 0; i < 
max_i
; i++) {

1465 #ifde‡
GR


1466 
	`dr_cú˛e
(
nx
[
ödex
[
i
][0]], 
ny
[index[i][0]], 1.0, "brown");

1467 
	`dr_cú˛e
(
ªf
.
x
[
ödex
[
i
][1]],Ñef.
y
[index[i][1]], 1.0, "brown");

1468 
	`dr_cú˛e
(
ªf
.
x
[
ödex
[
i
][1] - 1],Ñef.
y
[index[i][1] - 1], 1.0, "brown");

1469 
	`dr_cú˛e
(
ªf
.
x
[
ödex
[
i
][1] + 1],Ñef.
y
[index[i][1] + 1], 1.0, "brown");

1471 
d1
 = -1;

1472 
d2
 = -1;

1473 i‡(
ödex
[
i
][1] > 0)

1475 
d1
 = 
	`poöt_löe_di°™˚
(
ªf
.
x
[
ödex
[
i
][1] - 1],Ñef.
y
[index[i][1] - 1],

1476 
ªf
.
x
[
ödex
[
i
][1]],Ñef.
y
[index[i][1]],

1477 
nx
[
ödex
[
i
][0]], 
ny
[index[i][0]],

1478 &
möx1
, &
möy1
);

1481 i‡(
ödex
[
i
][1]< (
PM_L_POINTS
 - 1))

1483 
d2
 = 
	`poöt_löe_di°™˚
(
ªf
.
x
[
ödex
[
i
][1]],Ñef.
y
[index[i][1]],

1484 
ªf
.
x
[
ödex
[
i
][1] + 1],Ñef.
y
[index[i][1] + 1],

1485 
nx
[
ödex
[
i
][0]], 
ny
[index[i][0]],

1486 &
möx2
, &
möy2
);

1489 
ix
[
ödex
[
i
][1]] = 
ªf
.
x
[index[i][1]];

1490 
iy
[
ödex
[
i
][1]] = 
ªf
.
y
[index[i][1]];

1491 
d0
 = 
	`sqπf
(
	`SQ
(
ªf
.
x
[
ödex
[
i
][1]] - 
nx
[ödex[i][0]]Ë+ SQ‘ef.
y
[ödex[i][1]] - 
ny
[index[i][0]]));

1494 i‡(
d1
 > 0 && d1 < 
d0
) {

1495 
ix
[
ödex
[
i
][1]] = 
möx1
;

1496 
iy
[
ödex
[
i
][1]] = 
möy1
;

1497 
d0
 = 
d1
;

1501 i‡(
d2
 > 0 && d2 < 
d0
) {

1502 
ix
[
ödex
[
i
][1]] = 
möx2
;

1503 
iy
[
ödex
[
i
][1]] = 
möy2
;

1505 #ifde‡
GR


1506 
	`dr_löe
(
nx
[
ödex
[
i
][0]], 
ny
[ödex[i][0]], 
ix
[ödex[i][1]], 
iy
[index[i][1]], "green");

1519 
PM_TYPE
 
sxx
 = 0, 
sxy
 = 0, 
syx
 = 0, 
syy
 = 0;

1520 
PM_TYPE
 
mó≈x
, 
mó≈y
, 
mó≈px
, 
mó≈py
;

1521 
mó≈x
 = 0;

1522 
mó≈y
 = 0;

1523 
mó≈px
 = 0;

1524 
mó≈py
 = 0;

1526 
abs_îr
 = 0;

1527 
imax
 = 
n
 - imax;

1528 
i
 = 0; i < 
imax
; i++) {

1531 
mó≈x
 +
nx
[
ödex
[
i
][0]];

1532 
mó≈y
 +
ny
[
ödex
[
i
][0]];

1534 #ifde‡
INTERPOLATE_ICP


1535 
mó≈px
 +
ix
[
ödex
[
i
][1]];

1536 
mó≈py
 +
iy
[
ödex
[
i
][1]];

1538 
mó≈px
 +
ªf
.
x
[
ödex
[
i
][1]];

1539 
mó≈py
 +
ªf
.
y
[
ödex
[
i
][1]];

1542 #ifde‡
GR


1543 
	`dr_löe
(
nx
[
ödex
[
i
][0]], 
ny
[ödex[i][0]], 
ªf
.
x
[ödex[i][1]],Ñef.
y
[index[i][1]], "red");

1546 
mó≈x
 /
imax
;

1547 
mó≈y
 /
imax
;

1549 
mó≈px
 /
imax
;

1550 
mó≈py
 /
imax
;

1552 
i
 = 0; i < 
imax
; i++) {

1553 #ifde‡
INTERPOLATE_ICP


1554 
sxx
 +(
nx
[
ödex
[
i
][0]] - 
mó≈x
Ë* (
ix
[ödex[i][1]] - 
mó≈px
);

1555 
sxy
 +(
nx
[
ödex
[
i
][0]] - 
mó≈x
Ë* (
iy
[ödex[i][1]] - 
mó≈py
);

1556 
syx
 +(
ny
[
ödex
[
i
][0]] - 
mó≈y
Ë* (
ix
[ödex[i][1]] - 
mó≈px
);

1557 
syy
 +(
ny
[
ödex
[
i
][0]] - 
mó≈y
Ë* (
iy
[ödex[i][1]] - 
mó≈py
);

1559 
sxx
 +(
nx
[
ödex
[
i
][0]] - 
mó≈x
Ë* (
ªf
.
x
[ödex[i][1]] - 
mó≈px
);

1560 
sxy
 +(
nx
[
ödex
[
i
][0]] - 
mó≈x
Ë* (
ªf
.
y
[ödex[i][1]] - 
mó≈py
);

1561 
syx
 +(
ny
[
ödex
[
i
][0]] - 
mó≈y
Ë* (
ªf
.
x
[ödex[i][1]] - 
mó≈px
);

1562 
syy
 +(
ny
[
ödex
[
i
][0]] - 
mó≈y
Ë* (
ªf
.
y
[ödex[i][1]] - 
mó≈py
);

1567 
dth
 = 
	`©™2f
(
sxy
 - 
syx
, 
sxx
 + 
syy
);

1568 
dx
 = 
mó≈px
 - 
ax
 - (
	`cosf
(
dth
Ë* (
mó≈x
 -áxË- 
	`söf
(dthË* (
mó≈y
 - 
ay
));

1569 
dy
 = 
mó≈py
 - 
ay
 - (
	`söf
(
dth
Ë* (
mó≈x
 - 
ax
Ë+ 
	`cosf
(dthË* (
mó≈y
 -áy));

1571 
ax
 +
dx
;

1572 
ay
 +
dy
;

1573 
©h
 +
dth
;

1574 
©h
 = 
	`n‹m_a
(ath);

1578 #ifde‡
GR


1579 
cout
 << "ôî " << 
ôî
 << " " << 
ax
 << " " << 
ay
 << " " << 
©h
 * 
PM_R2D
 << " " << 
dx
 << " " << 
dy
 << 
ídl
;

1581 
	`dr_zoom
();

1582 
	`u¶ìp
(10000);

1588 #ifde‡ 
PM_GENERATE_RESULTS


1589 
íd_tick
 = 
	`pm_m£c
();

1590 
	`Ârötf
(
f
, "%ò%l‡%l‡%l‡%lf\n", 
ôî
,

1591 
íd_tick
 - 
°¨t_tick
 - 
dód_tick
, 
ax
, 
ay
, 
©h
 * 
PM_R2D
);

1592 
	`f˛o£
(
f
);

1595 
lß
->
rx
 = 
ax
;

1596 
lß
->
ry
 = 
ay
;

1597 
lß
->
th
 = 
©h
;

1598  ( 
abs_îr
 / 
n
);

1599 
	}
}

1612 
	$pm_ßve_sˇn
(
PMSˇn
 *
a˘
, c⁄° *
fûíame
) {

1613 
FILE
 *
f
;

1614 
f
 = 
	`f›í
(
fûíame
, "w");

1615 
i
 = 0; i < 
PM_L_POINTS
; i++)

1616 
	`Ârötf
(
f
, "%‡%ò%i\n", 
a˘
->
r
[
i
],á˘->
bad
[i],á˘->
£g
[i]);

1617 
	`f˛o£
(
f
);

1618 
	}
}

1625 
	$pm_∂ŸSˇn4Thesis
(
PMSˇn
 *
l§
, PMSˇ¿*
lß
) {

1626 
x
, 
y
, 
xw
, 
yw
, 
œ°_xw
 = 0, 
œ°_yw
 = 0;

1627 
si_th
;

1628 
co_th
;

1629 *
cﬁ
;

1630 
i
;

1631 
PMSˇn
 *
ls
;

1633 
	`dr_îa£
();

1635 
ls
 = 
l§
;

1636 
cﬁ
 = (*) "black";

1637 
	`dr_cú˛e
(
ls
->
rx
,Üs->
ry
, 10.0, 
cﬁ
);

1638 
	`dr_löe
(
ls
->
rx
,Üs->
ry
,Üs->rx + 10.0 * 
	`cosf
÷s->
th
 + 
M_PI
 / 2.0),

1639 
ls
->
ry
 + 10.0 * 
	`söf
÷s->
th
 + 
M_PI
 / 2.0), 
cﬁ
);

1640 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1641 
x
 = 
ls
->
r
[
i
] * 
pm_co
[i];

1642 
y
 = 
ls
->
r
[
i
] * 
pm_si
[i];

1643 
xw
 = 
x
;

1644 
yw
 = 
y
;

1646 i‡(
ls
->
r
[
i
] < 
PM_MAX_RANGE
 &&Üs->r[i] > 
PM_MIN_RANGE
) {

1647 
	`dr_cú˛e
(
xw
, 
yw
, 4, 
cﬁ
);

1648 i‡(
i
 > 0 && 
ls
->
r
[ò- 1] < 
PM_MAX_RANGE
 &&Üs->r[ò- 1] > 
PM_MIN_RANGE
)

1649 
	`dr_löe
(
xw
, 
yw
, 
œ°_xw
, 
œ°_yw
, 
cﬁ
);

1651 
œ°_xw
 = 
xw
;

1652 
œ°_yw
 = 
yw
;

1656 
ls
 = 
lß
;

1657 
si_th
 = 
	`söf
(
ls
->
th
);

1658 
co_th
 = 
	`cosf
(
ls
->
th
);

1659 
cﬁ
 = (*) "blue";

1660 
	`dr_cú˛e
(
ls
->
rx
,Üs->
ry
, 10.0, 
cﬁ
);

1661 
	`dr_löe
(
ls
->
rx
,Üs->
ry
,Üs->rx + 10.0 * 
	`cosf
÷s->
th
 + 
M_PI
 / 2.0),

1662 
ls
->
ry
 + 10.0 * 
	`söf
÷s->
th
 + 
M_PI
 / 2.0), 
cﬁ
);

1664 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1665 
x
 = 
ls
->
r
[
i
] * 
pm_co
[i];

1666 
y
 = 
ls
->
r
[
i
] * 
pm_si
[i];

1667 
xw
 = 
x
 * 
co_th
 - 
y
 * 
si_th
 + 
ls
->
rx
;

1668 
yw
 = 
x
 * 
si_th
 + 
y
 * 
co_th
 + 
ls
->
ry
;

1670 i‡(
ls
->
r
[
i
] < 
PM_MAX_RANGE
 &&Üs->r[i] > 
PM_MIN_RANGE
) {

1671 
	`dr_cú˛e
(
xw
, 
yw
, 4, 
cﬁ
);

1672 i‡(
i
 > 0 && 
ls
->
r
[ò- 1] < 
PM_MAX_RANGE
 &&Üs->r[ò- 1] > 
PM_MIN_RANGE
)

1673 
	`dr_löe
(
xw
, 
yw
, 
œ°_xw
, 
œ°_yw
, 
cﬁ
);

1675 
œ°_xw
 = 
xw
;

1676 
œ°_yw
 = 
yw
;

1678 
	`dr_fô
();

1679 
	}
}

1692 
	$pm_∂ŸTime4Thesis
(
PM_TYPE
 
xt
, PM_TYPE 
yt
, PM_TYPE 
tht
, *
ôî
, *
time
) {

1693 
FILE
 *
f
;

1694 
˙t
 = 5;

1695 
i
 = -1;

1696 
t
 = -1, 
xx
, 
yy
, 
th
;

1697 
x
, 
y1
, 
y2
, 
y3
, 
lx
 = -1, 
ly1
 = -1, 
ly2
 = -1, 
ly3
 = -1;

1698 c⁄° *
c1
 = "ªd", *
c2
 = "bœck", *
c3
 = "blue";

1699 
s
[1000];

1701 
f
 = 
	`f›í
(
PM_TIME_FILE
, "r");

1702 i‡(
f
 =
NULL
) {

1703 
˚º
 << "pm_∂ŸTime4Thesis: Eº‹: couldÇŸ o≥¿fûê" << 
PM_TIME_FILE
 << 
ídl
;

1704 
throw
 1;

1707 
	`dr_îa£
();

1708 
˙t
 == 5) {

1709 
˙t
 = 
	`fsˇnf
(
f
, "%ò%l‡%l‡%l‡%lf\n", &
i
, &
t
, &
xx
, &
yy
, &
th
);

1710 
x
 = 
t
;

1711 
y1
 = 
	`Ábsf
(
xx
 - 
xt
);

1712 
y2
 = 
	`Ábsf
(
yy
 - 
yt
);

1713 
y3
 = 
	`Ábsf
(
th
 - 
tht
);

1714 i‡(
i
 % 10)

1715 
	`dr_löe
(
x
, 0.4, x, -0.4, "black");

1717 
	`dr_löe
(
x
, 2, x, -2, "black");

1718 
	`•rötf
(
s
, "%02i", 
i
);

1719 
	`dr_ãxt
(
x
, 2, 1, 1, 
s
, "black");

1721 
	`dr_m¨kî
(
x
, 
y1
, 1, 
c1
);

1722 
	`dr_m¨kî
(
x
, 
y2
, 2, 
c2
);

1723 
	`dr_m¨kî
(
x
, 
y3
, 3, 
c3
);

1724 i‡(
lx
 > 0) {

1725 
	`dr_löe
(
lx
, 
ly1
, 
x
, 
y1
, 
c1
);

1726 
	`dr_löe
(
lx
, 
ly2
, 
x
, 
y2
, 
c2
);

1727 
	`dr_löe
(
lx
, 
ly3
, 
x
, 
y3
, 
c3
);

1729 
lx
 = 
x
;

1730 
ly1
 = 
y1
;

1731 
ly2
 = 
y2
;

1732 
ly3
 = 
y3
;

1735 
	`dr_fô
();

1736 i‡(
ôî
 !
NULL
 && 
time
 != NULL) {

1737 *
ôî
 = 
i
;

1738 *
time
 = 
t
;

1740 
	}
}

1756 
	$pm_sˇn_¥oje˘_√w
(c⁄° 
PMSˇn
 *
a˘
, 
PM_TYPE
 *
√w_r
, *
√w_bad
) {

1757 
PM_TYPE
 
r
[
PM_L_POINTS
], 
fi
[PM_L_POINTS];

1758 
PM_TYPE
 
x
=0, 
y
=0;

1759 
i
=0;

1760 
PM_TYPE
 
dñè
;

1766 
dif
 = 
a˘
->
th
 / 
PM_DFI
;

1767 
i
 = 0; i < 
	`abs
(
dif
); i++) {

1768 i‡(
i
 < 0) {

1769 
√w_r
[
PM_L_POINTS
 - 
i
] = 0;

1770 
√w_bad
[
PM_L_POINTS
 - 
i
] = 16;

1772 
√w_r
[
i
] = 0;

1773 
√w_bad
[
i
] = 16;

1777 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1778 
dñè
 = 
a˘
->
th
 + 
pm_fi
[
i
];

1779 
x
 = 
a˘
->
r
[
i
] * 
	`cosf
(
dñè
Ë+á˘->
rx
;

1780 
y
 = 
a˘
->
r
[
i
] * 
	`söf
(
dñè
Ë+á˘->
ry
;

1781 
r
[
i
] = 
	`sqπf
(
x
 * x + 
y
 * y);

1782 
fi
[
i
] = 
	`©™2f
(
y
, 
x
);

1785 i‡(
i
 + 
dif
 > 0 && i - di‡< 
PM_L_POINTS
) {

1786 
√w_r
[
i
 + 
dif
] = 
	`sqπf
(
x
 * x + 
y
 * y);

1787 
√w_bad
[
i
 + 
dif
] = 0;

1790 
√w_r
[
i
 + 
dif
] = 0;

1791 
√w_bad
[
i
 + 
dif
] = 16;

1795 #ifde‡
GR


1797 
	`dr_cú˛e
(
x
, 
y
, 4.0, "red");

1799 
	`dr_cú˛e
(
fi
[
i
] * 
PM_R2D
, 
r
[i] / 10.0 - 100, 1, "red");

1888 
	}
}

1904 
	$pm_sˇn_¥oje˘
(c⁄° 
PMSˇn
 *
a˘
, 
PM_TYPE
 *
√w_r
, *
√w_bad
) {

1905 
PM_TYPE
 
r
[
PM_L_POINTS
], 
fi
[PM_L_POINTS];

1906 
PM_TYPE
 
x
, 
y
;

1907 
i
;

1908 
PM_TYPE
 
dñè
;

1912 
i
 = 0; i < 
PM_L_POINTS
; i++) {

1913 
dñè
 = 
a˘
->
th
 + 
pm_fi
[
i
];

1914 
x
 = 
a˘
->
r
[
i
] * 
	`cosf
(
dñè
Ë+á˘->
rx
;

1915 
y
 = 
a˘
->
r
[
i
] * 
	`söf
(
dñè
Ë+á˘->
ry
;

1916 
r
[
i
] = 
	`sqπf
(
x
 * x + 
y
 * y);

1917 
fi
[
i
] = 
	`©™2f
(
y
, 
x
);

1919 i‡(
x
 < 0 && 
y
 < 0)

1920 
fi
[
i
] +2.0 * 
M_PI
;

1921 
√w_r
[
i
] = 10000;

1922 
√w_bad
[
i
] = 
PM_EMPTY
;

1924 #ifde‡
GR


1926 
	`dr_cú˛e
(
x
, 
y
, 4.0, "red");

1928 
	`dr_cú˛e
(
fi
[
i
] * 
PM_R2D
, 
r
[i] / 10.0 - 100, 1, "red");

1936 
i
 = 1; i < 
PM_L_POINTS
; i++) {

1941 i‡(
a˘
->
£g
[
i
] !0 &&á˘->£g[i] =a˘->£g[ò- 1] && !a˘->
bad
[i] && !act->bad[i - 1]) {

1943 
j0
, 
j1
;

1944 
PM_TYPE
 
r0
, 
r1
, 
a0
, 
a1
;

1945 
boﬁ
 
oc˛uded
;

1950 i‡(
	`Ábsf
(
fi
[
i
] - fi[ò- 1]Ë>
M_PI
)

1953 i‡(
fi
[
i
] > fi[i - 1])

1956 
oc˛uded
 = 
Ál£
;

1957 
a0
 = 
fi
[
i
 - 1];

1958 
a1
 = 
fi
[
i
];

1959 
j0
 = (Ë
	`˚û
((
fi
[
i
 - 1] - 
PM_FI_MIN
Ë/ 
PM_DFI
);

1960 
j1
 = (Ë
	`Êo‹
((
fi
[
i
] - 
PM_FI_MIN
Ë/ 
PM_DFI
);

1961 
r0
 = 
r
[
i
 - 1];

1962 
r1
 = 
r
[
i
];

1965 
oc˛uded
 = 
åue
;

1967 
a0
 = 
fi
[
i
];

1968 
a1
 = 
fi
[
i
 - 1];

1969 
j0
 = (Ë
	`˚û
((
fi
[
i
] - 
PM_FI_MIN
Ë/ 
PM_DFI
);

1970 
j1
 = (Ë
	`Êo‹
((
fi
[
i
 - 1] - 
PM_FI_MIN
Ë/ 
PM_DFI
);

1971 
r0
 = 
r
[
i
];

1972 
r1
 = 
r
[
i
 - 1];

1977 
j0
 <
j1
)

1979 
PM_TYPE
 
ri
 = (
r1
 - 
r0
Ë/ (
a1
 - 
a0
Ë* (((PM_TYPEË
j0
 * 
PM_DFI
 + 
PM_FI_MIN
) -á0) +Ñ0;

1983 i‡(
j0
 >0 && j0 < 
PM_L_POINTS
 && 
√w_r
[j0] > 
ri
) {

1984 
√w_r
[
j0
] = 
ri
;

1985 
√w_bad
[
j0
] &~
PM_EMPTY
;

1986 i‡(
oc˛uded
)

1987 
√w_bad
[
j0
] =Çew_bad[j0] | 
PM_OCCLUDED
;

1989 
√w_bad
[
j0
] =Çew_bad[j0]&~
PM_OCCLUDED
;

1991 
√w_bad
[
j0
] |
a˘
->
bad
[
i
];

1992 
√w_bad
[
j0
] |
a˘
->
bad
[
i
 - 1];

1994 i‡(
ri
 > 
PM_MAX_RANGE
 &&Ñò< 
PM_MIN_RANGE
)

1995 
√w_bad
[
j0
] |
PM_RANGE
;

1996 #ifde‡
GR


1997 
	`dr_cú˛e
(
pm_fi
[
j0
] * 
PM_R2D
, 
√w_r
[j0] / 10.0 - 100, 1, "yellow");

2001 
j0
++;

2006 #ifde‡
GR


2008 
i
 = 0; i < 
PM_L_POINTS
; i++) {

2009 
x
, 
y
;

2010 
x
 = 
√w_r
[
i
] * 
pm_co
[i];

2011 
y
 = 
√w_r
[
i
] * 
pm_si
[i];

2012 
	`dr_cú˛e
(
x
, 
y
, 3, "yellow");

2013 
	`dr_cú˛e
(
fi
[
i
] * 
PM_R2D
, 
√w_r
[i] / 10.0 - 100, 1, "yellow");

2015 
	`dr_zoom
();

2017 
	}
}

2038 
PM_TYPE
 
	$pm_‹õ¡©i⁄_£¨ch
(c⁄° 
PMSˇn
 *
ªf
, c⁄° 
PM_TYPE
 *
√w_r
, c⁄° *
√w_bad
) {

2039 
i
;

2040 
wödow
 = 
PM_SEARCH_WINDOW
;

2041 
PM_TYPE
 
dth
 = 0.0;

2043 
PM_TYPE
 
e
, 
îr
[
PM_L_POINTS
];

2044 
PM_TYPE
 
bëa
[
PM_L_POINTS
];

2045 c⁄° 
PM_TYPE
 
LARGE_NUMBER
 = 10000;

2046 
PM_TYPE
 
n
;

2047 
k
 = 0;

2049 
di
 = -
wödow
; di <= window; di++) {

2050 
n
 = 0;

2051 
e
 = 0;

2053 
mö_i
, 
max_i
;

2054 i‡(
di
 <= 0) {

2055 
mö_i
 = -
di
;

2056 
max_i
 = 
PM_L_POINTS
;

2058 
mö_i
 = 0;

2059 
max_i
 = 
PM_L_POINTS
 - 
di
;

2064 
i
 = 
mö_i
; i < 
max_i
; i++)

2066 
PM_TYPE
 
dñè
 = 
	`Ábsf
(
√w_r
[
i
] - 
ªf
->
r
[ò+ 
di
]);

2067 #i‡
PM_LASER
 =
PM_HOKUYO_UTM_30LX


2071 i‡(!
√w_bad
[
i
] && !
ªf
->
bad
[ò+ 
di
] && 
dñè
 < 
PM_MAX_ERROR
)

2073 i‡(!
√w_bad
[
i
] && !
ªf
->
bad
[ò+ 
di
])

2076 
e
 +
dñè
;

2077 
n
++;

2081 i‡(
n
 > 0)

2082 
îr
[
k
] = 
e
 / 
n
;

2084 
îr
[
k
] = 
LARGE_NUMBER
;

2085 
bëa
[
k
] = 
di
;

2086 
k
++;

2089 #ifde‡
GR


2090 
FILE
 *
fo
;

2091 
fo
 = 
	`f›í
("angles.txt", "w");

2092 
i
 = 0; i < 
k
; i++) {

2093 
	`dr_cú˛e
(
bëa
[
i
], 
îr
[i], 1.0, "blue");

2094 
	`Ârötf
(
fo
, "%‡%f\n", 
bëa
[
i
], 
îr
[i]);

2096 
	`f˛o£
(
fo
);

2102 
PM_TYPE
 
emö
 = 
LARGE_NUMBER
 * 10.0;

2103 
imö
 = -1;

2104 
i
 = 0; i < 
k
; i++) {

2105 i‡(
îr
[
i
] < 
emö
) {

2106 
emö
 = 
îr
[
i
];

2107 
imö
 = 
i
;

2111 i‡(
îr
[
imö
] >
LARGE_NUMBER
) {

2112 
˚º
 << "Pﬁ¨ M©ch: orõ¡©i⁄ sórch faûed" << 
îr
[
imö
] << 
ídl
;

2113 
throw
 1;

2115 
dth
 = 
bëa
[
imö
] * 
PM_DFI
;

2118 i‡(
imö
 >1 && imö < (
k
 - 1))

2121 
PM_TYPE
 
D
 = 
îr
[
imö
 - 1] +Érr[imin + 1] - 2.0 *Érr[imin];

2122 
PM_TYPE
 
d
 = 
LARGE_NUMBER
;

2123 i‡(
	`Ábsf
(
D
Ë> 0.01 && 
îr
[
imö
 - 1] >Érr[imin] &&Érr[imin + 1] >Érr[imin])

2124 
d
 = (
îr
[
imö
 - 1] -Éº[imö + 1]Ë/ 
D
 / 2.0;

2126 i‡(
	`Ábsf
(
d
) < 1.0)

2127 
dth
 +
d
 * 
PM_DFI
;

2130 #ifde‡
GR


2131 
cout
 << "™gÀ c‹ª˘i⁄[deg]: " << 
dth
 * 
PM_R2D
 << 
ídl
;

2132 
	`dr_zoom
();

2134  (
dth
);

2135 
	}
}

2147 
PM_TYPE
 
	$pm_å™¶©i⁄_e°im©i⁄
(c⁄° 
PMSˇn
 *
ªf
, c⁄° 
PM_TYPE
 *
√w_r
, c⁄° *
√w_bad
, PM_TYPE 
C
, PM_TYPE *
dx
, PM_TYPE *
dy
, PM_TYPE 
dth
) {

2150 
i
;

2151 
PM_TYPE
 
hi1
, 
hi2
, 
hwi1
, 
hwi2
, 
hw1
 = 0, 
hw2
 = 0, 
hwh11
 = 0;

2152 
PM_TYPE
 
hwh12
 = 0, 
hwh21
 = 0, 
hwh22
 = 0, 
w
;

2153 
PM_TYPE
 
dr
;

2154 
PM_TYPE
 
abs_îr
 = 0;

2155 
n
 = 0;

2157 
dif
 = 
	`abs
(
dth
 / 
PM_DFI
);

2158 
quô¨
 = 0;

2159 i‡(
dif
 < 30)

2160 
quô¨
 = 
dif
;

2162 
quô¨
 = 30;

2163 
i
 = 
quô¨
; i < 
PM_L_POINTS
 - quitar; i++) {

2164 
dr
 = 
ªf
->
r
[
i
] - 
√w_r
[i];

2165 
abs_îr
 +
	`Ábsf
(
dr
);

2168 i‡(
ªf
->
bad
[
i
] =0 && 
√w_bad
[i] =0 && 
√w_r
[i] < 
PM_MAX_RANGE
 &&Çew_r[i] > 
PM_MIN_RANGE
 && 
	`Ábsf
(
dr
Ë< 
PM_MAX_ERROR
) {

2171 
w
 = 
C
 / (
dr
 * dr + C);

2172 
n
++;

2175 
hi1
 = 
pm_co
[
i
];

2176 
hi2
 = 
pm_si
[
i
];

2181 
hwi1
 = 
hi1
*
w
;

2182 
hwi2
 = 
hi2
*
w
;

2185 
hw1
 +
hwi1
*
dr
;

2186 
hw2
 +
hwi2
*
dr
;

2189 
hwh11
 +
hwi1
*
hi1
;

2190 
hwh12
 +
hwi1
*
hi2
;

2192 
hwh22
 +
hwi2
*
hi2
;

2194 #ifde‡
GR


2196 
	`dr_cú˛e
(
pm_fi
[
i
] * 
PM_R2D
, 
√w_r
[i] / 10.0 - 200, 1, "red");

2197 
	`dr_cú˛e
(
pm_fi
[
i
] * 
PM_R2D
, 
dr
 / 10.0 - 200, 1, "blue");

2201 
x
, 
y
;

2202 
x
 = 
pm_fi
[
i
] * 
PM_R2D
;

2203 
y
 = 
√w_r
[
i
] / 10.0 - 200;

2204 
	`dr_löe
(
x
, 
y
, x + 
hwi1
*
dr
, y + 
hwi2
*dr, "red");

2205 
x
 = 
√w_r
[
i
] * 
pm_co
[i];

2206 
y
 = 
√w_r
[
i
] * 
pm_si
[i];

2207 
	`dr_löe
(
x
, 
y
, x + 
hwi1
*
dr
, y + 
hwi2
*dr, "red");

2213 i‡(
n
 < 
PM_MIN_VALID_POINTS
)

2215 
˚º
 << "pm_å™¶©i⁄_e°im©i⁄: ERRORÇŸÉnoughÖoöt†(" << 
n
 << ")" << 
ídl
;

2216 #ifde‡
GR


2217 
	`dr_zoom
();

2219 
throw
 1;

2223 
PM_TYPE
 
D
;

2224 
PM_TYPE
 
öv11
, 
öv21
, 
öv12
, 
öv22
;

2226 
D
 = 
hwh11
 * 
hwh22
 - 
hwh12
*
hwh21
;

2227 i‡(
D
 < 0.001) {

2228 
˚º
 << "pm_löórized_m©ch: ERROR dëîmö™àtÿsmÆl! " << 
D
 << 
ídl
;

2229 
throw
 1;

2231 
öv11
 = 
hwh22
 / 
D
;

2232 
öv12
 = -
hwh12
 / 
D
;

2233 
öv21
 = -
hwh12
 / 
D
;

2234 
öv22
 = 
hwh11
 / 
D
;

2236 *
dx
 = 
öv11
 * 
hw1
 + 
öv12
*
hw2
;

2237 *
dy
 = 
öv21
 * 
hw1
 + 
öv22
*
hw2
;

2238  (
abs_îr
 / 
n
);

2239 
	}
}

2251 
	$pm_èke_simuœãd_sˇn
(c⁄° 
PM_TYPE
 
xl
, c⁄° PM_TYPE 
yl
, c⁄° PM_TYPE 
thl
, 
PMSˇn
 *
ls
,

2252 
PM_TYPE
 
wÆlDi°Le·
 = 150.0, PM_TYPE 
wÆlDi°Fr⁄t
 = 200.0) {

2253 i‡(
PM_LASER_Y
 != 0) {

2254 
˚º
 << "simuœãd_room: ERROR PM_LASER_Y i†nŸ 0!!!" << 
ídl
;

2255 
throw
 4;

2259 c⁄° 
N
 = 4;

2260 
PM_TYPE
 
a
[
N
] = {0, 
M_PI
 / 2.0, M_PI, -M_PI / 2.0};

2261 
PM_TYPE
 
d
[
N
] = {
wÆlDi°Le·
, 
wÆlDi°Fr⁄t
, wallDistLeft, wallDistFront};

2263 
PM_TYPE
 
r
, 
rmö
, 
D
, 
fi
;

2265 
ls
->
rx
 = 
xl
;

2266 
ls
->
ry
 = 
yl
;

2267 
ls
->
th
 = 
thl
;

2270 c⁄° 
PM_TYPE
 
LARGE_NUMBER
 = 100000;

2271 
i
 = 0; i < 
PM_L_POINTS
; i++) {

2272 
rmö
 = 
LARGE_NUMBER
;

2273 
fi
 = 
pm_fi
[
i
];

2274 
j
 = 0; j < 
N
; j++) {

2275 
D
 = 
	`cosf
(
thl
 + 
fi
Ë* cosf(
a
[
j
]Ë+ 
	`söf
(thl + fi) * sinf(a[j]);

2276 i‡(
	`Ábsf
(
D
) > 0.001) {

2277 
r
 = (
d
[
j
] - 
xl
 * 
	`cosf
(
a
[j]Ë- 
yl
 * 
	`söf
◊[j])Ë/ 
D
;

2278 i‡(
r
 > 0 &&Ñ < 
rmö
)

2279 
rmö
 = 
r
;

2282 
ls
->
r
[
i
] = 
rmö
;

2283 
ls
->
£g
[
i
] = 0;

2284 
ls
->
bad
[
i
] = 0;

2286 
	}
}

2297 
	$pm_unô_ã°
(
m©chög_Æg
, 
boﬁ
 
öãø˘ive
) {

2298 c⁄° 
PM_TYPE
 
ïs
 = 0.5;

2299 c⁄° 
PM_TYPE
 
ïsTh
 = 0.5 * 
PM_D2R
;

2301 * 
m©chîName
;

2302 i‡(
m©chög_Æg
 =
PM_PSM
)

2303 
m©chîName
 = (*) "PSM";

2305 
m©chîName
 = (*) "ICP";

2307 
	`¥ötf
("Ru¬ög sˇ¿m©chög unôÅe° f‹ %s. Compûed f‹: %s\n", 
m©chîName
, 
PM_LASER_NAME
);

2309 
	`pm_öô
();

2311 i‡(
öãø˘ive
) {

2312 
	`dr_öô
(600, 600, -1000, -1000, 1000, 1000);

2315 
PMSˇn
 
lsc
;

2316 
PMSˇn
 
l§
;

2317 
xc
, 
yc
, 
thc
;

2318 
xr
, 
yr
, 
thr
;

2319 
ã°
 = -1;

2321 
xr
 = 0.0;

2322 
yr
 = 0.0;

2323 
thr
 = 0.0;

2324 
	`pm_èke_simuœãd_sˇn
(
xr
, 
yr
, 
thr
, &
l§
);

2325 
	`pm_¥ïro˚ssSˇn
(&
l§
);

2328 
xc
 = 0.0;

2329 
yc
 = 0.0;

2330 
thc
 = 0.0;

2331 
ã°
++;

2332 
	`pm_èke_simuœãd_sˇn
(
xc
, 
yc
, 
thc
, &
lsc
);

2333 
lsc
.
rx
 = 0.0;

2334 
lsc
.
ry
 = 0.0;

2335 
lsc
.
th
 = 0.0;

2336 
	`pm_¥ïro˚ssSˇn
(&
lsc
);

2338 i‡(
öãø˘ive
) {

2339 
	`dr_îa£
();

2340 
	`pm_∂ŸSˇn
(&
l§
, "bœck", 2.0, 
åue
);

2341 
	`pm_∂ŸSˇn
(&
lsc
, "blue", 2.0, 
åue
);

2342 
	`dr_fô
();

2343 
	`dr_zoom
();

2346 i‡(
m©chög_Æg
 =
PM_PSM
)

2347 
	`pm_psm
(&
l§
, &
lsc
, 
NULL
);

2349 
	`pm_i˝
(&
l§
, &
lsc
);

2351 
	`¥ötf
("Test%i:init.Öose:(%.1f,%.1f,%.1f);ÖositionÉrror:%.2f[cm] orient.Érror:%.2f[deg]\n",

2352 
ã°
, 
xc
, 
yc
, 
thc
*
PM_R2D
, 
	`sqπf
(
	`SQ
(x¯- 
lsc
.
rx
Ë+ SQ(y¯-Üsc.
ry
)), (th¯-Üsc.
th
) * PM_R2D);

2353 i‡(
öãø˘ive
) {

2354 
	`pm_∂ŸSˇn
(&
lsc
, "ªd", 2.0, 
åue
);

2355 
	`dr_zoom
();

2357 
	`as£π
(
	`Ábsf
(
xc
 - 
lsc
.
rx
Ë<
ïs
);

2358 
	`as£π
(
	`Ábsf
(
yc
 - 
lsc
.
ry
Ë<
ïs
);

2359 
	`as£π
(
	`Ábsf
(
thc
 - 
lsc
.
th
Ë<
ïsTh
);

2361 
xc
 = 0;

2362 
yc
 = 0;

2363 
thc
 = 0.1;

2364 
ã°
++;

2365 
	`pm_èke_simuœãd_sˇn
(
xc
, 
yc
, 
thc
, &
lsc
);

2366 
lsc
.
rx
 = 0.0;

2367 
lsc
.
ry
 = 0.0;

2368 
lsc
.
th
 = 0.0;

2369 
	`pm_¥ïro˚ssSˇn
(&
lsc
);

2370 i‡(
m©chög_Æg
 =
PM_PSM
)

2371 
	`pm_psm
(&
l§
, &
lsc
, 
NULL
);

2373 
	`pm_i˝
(&
l§
, &
lsc
);

2375 
	`¥ötf
("Test%i:init.Öose:(%.1f,%.1f,%.1f);ÖositionÉrror:%.2f[cm] orient.Érror:%.2f[deg]\n",

2376 
ã°
, 
xc
, 
yc
, 
thc
*
PM_R2D
, 
	`sqπf
(
	`SQ
(x¯- 
lsc
.
rx
Ë+ SQ(y¯-Üsc.
ry
)), (th¯-Üsc.
th
) * PM_R2D);

2377 i‡(
öãø˘ive
) {

2378 
	`dr_îa£
();

2379 
	`pm_∂ŸSˇn
(&
l§
, "bœck", 2.0, 
åue
);

2380 
	`pm_∂ŸSˇnAt
(&
lsc
, 
xc
, 
yc
, 
thc
, "blue", 2.0, 
åue
);

2381 
	`pm_∂ŸSˇn
(&
lsc
, "ªd", 2.0, 
åue
);

2382 
	`dr_fô
();

2383 
	`dr_zoom
();

2385 
	`as£π
(
	`Ábsf
(
xc
 - 
lsc
.
rx
Ë<
ïs
);

2386 
	`as£π
(
	`Ábsf
(
yc
 - 
lsc
.
ry
Ë<
ïs
);

2387 
	`as£π
(
	`Ábsf
(
thc
 - 
lsc
.
th
Ë<
ïsTh
);

2389 
xc
 = 10.0;

2390 
yc
 = 0;

2391 
thc
 = 0.0;

2392 
ã°
++;

2393 
	`pm_èke_simuœãd_sˇn
(
xc
, 
yc
, 
thc
, &
lsc
);

2394 
lsc
.
rx
 = 0.0;

2395 
lsc
.
ry
 = 0.0;

2396 
lsc
.
th
 = 0.0;

2397 
	`pm_¥ïro˚ssSˇn
(&
lsc
);

2398 i‡(
m©chög_Æg
 =
PM_PSM
)

2399 
	`pm_psm
(&
l§
, &
lsc
, 
NULL
);

2401 
	`pm_i˝
(&
l§
, &
lsc
);

2403 
	`¥ötf
("Test%i:init.Öose:(%.1f,%.1f,%.1f);ÖositionÉrror:%.2f[cm] orient.Érror:%.2f[deg]\n",

2404 
ã°
, 
xc
, 
yc
, 
thc
*
PM_R2D
, 
	`sqπf
(
	`SQ
(x¯- 
lsc
.
rx
Ë+ SQ(y¯-Üsc.
ry
)), (th¯-Üsc.
th
) * PM_R2D);

2405 i‡(
öãø˘ive
) {

2406 
	`dr_îa£
();

2407 
	`pm_∂ŸSˇn
(&
l§
, "bœck", 2.0, 
åue
);

2408 
	`pm_∂ŸSˇnAt
(&
lsc
, 
xc
, 
yc
, 
thc
, "blue", 2.0, 
åue
);

2409 
	`pm_∂ŸSˇn
(&
lsc
, "ªd", 2.0, 
åue
);

2410 
	`dr_fô
();

2411 
	`dr_zoom
();

2413 
	`as£π
(
	`Ábsf
(
xc
 - 
lsc
.
rx
Ë<
ïs
);

2414 
	`as£π
(
	`Ábsf
(
yc
 - 
lsc
.
ry
Ë<
ïs
);

2415 
	`as£π
(
	`Ábsf
(
thc
 - 
lsc
.
th
Ë<
ïsTh
);

2417 
xc
 = 0.0;

2418 
yc
 = 10.0;

2419 
thc
 = 0.0;

2420 
ã°
++;

2421 
	`pm_èke_simuœãd_sˇn
(
xc
, 
yc
, 
thc
, &
lsc
);

2422 
lsc
.
rx
 = 0.0;

2423 
lsc
.
ry
 = 0.0;

2424 
lsc
.
th
 = 0.0;

2425 
	`pm_¥ïro˚ssSˇn
(&
lsc
);

2426 i‡(
m©chög_Æg
 =
PM_PSM
)

2427 
	`pm_psm
(&
l§
, &
lsc
, 
NULL
);

2429 
	`pm_i˝
(&
l§
, &
lsc
);

2431 
	`¥ötf
("Test%i:init.Öose:(%.1f,%.1f,%.1f);ÖositionÉrror:%.2f[cm] orient.Érror:%.2f[deg]\n",

2432 
ã°
, 
xc
, 
yc
, 
thc
*
PM_R2D
, 
	`sqπf
(
	`SQ
(x¯- 
lsc
.
rx
Ë+ SQ(y¯-Üsc.
ry
)), (th¯-Üsc.
th
) * PM_R2D);

2433 i‡(
öãø˘ive
) {

2434 
	`dr_îa£
();

2435 
	`pm_∂ŸSˇn
(&
l§
, "bœck", 2.0, 
åue
);

2436 
	`pm_∂ŸSˇnAt
(&
lsc
, 
xc
, 
yc
, 
thc
, "blue", 2.0, 
åue
);

2437 
	`pm_∂ŸSˇn
(&
lsc
, "ªd", 2.0, 
åue
);

2438 
	`dr_fô
();

2439 
	`dr_zoom
();

2442 
	`as£π
(
	`Ábsf
(
xc
 - 
lsc
.
rx
Ë<
ïs
);

2443 
	`as£π
(
	`Ábsf
(
yc
 - 
lsc
.
ry
Ë<
ïs
);

2444 
	`as£π
(
	`Ábsf
(
thc
 - 
lsc
.
th
Ë<
ïsTh
);

2446 
	`as£π
(
	`pm_is_c‹rid‹
(&
lsc
Ë=
Ál£
);

2450 
xr
 = 0.0;

2451 
yr
 = 0.0;

2452 
thr
 = 0.0;

2453 
ã°
++;

2454 
	`pm_èke_simuœãd_sˇn
(
xr
, 
yr
, 
thr
, &
l§
, 200.0, 1.5 * 
PM_MAX_RANGE
);

2455 
	`pm_¥ïro˚ssSˇn
(&
l§
);

2457 
xc
 = 10.0;

2458 
yc
 = 0.0;

2459 
thc
 = 0.1;

2460 
	`pm_èke_simuœãd_sˇn
(
xc
, 
yc
, 
thc
, &
lsc
, 200.0, 1.5 * 
PM_MAX_RANGE
);

2461 
lsc
.
rx
 = 0.0;

2462 
lsc
.
ry
 = 0.0;

2463 
lsc
.
th
 = 0.0;

2464 
	`pm_¥ïro˚ssSˇn
(&
lsc
);

2466 i‡(
öãø˘ive
) {

2467 
	`dr_îa£
();

2468 
	`pm_∂ŸSˇn
(&
l§
, "bœck", 2.0, 
åue
);

2469 
	`pm_∂ŸSˇn
(&
lsc
, "blue", 2.0, 
åue
);

2470 
	`dr_fô
();

2471 
	`dr_zoom
();

2474 i‡(
m©chög_Æg
 =
PM_PSM
)

2475 
	`pm_psm
(&
l§
, &
lsc
, 
NULL
);

2477 
	`pm_i˝
(&
l§
, &
lsc
);

2479 
	`¥ötf
("Test%i:init.Öose:(%.1f,%.1f,%.1f);ÖositionÉrror:%.2f[cm] orient.Érror:%.2f[deg]\n",

2480 
ã°
, 
xc
, 
yc
, 
thc
*
PM_R2D
, 
	`sqπf
(
	`SQ
(x¯- 
lsc
.
rx
Ë+ SQ(y¯-Üsc.
ry
)), (th¯-Üsc.
th
) * PM_R2D);

2482 
	`as£π
(
	`Ábsf
(
xc
 - 
lsc
.
rx
Ë<
ïs
);

2483 
	`as£π
(
	`Ábsf
(
thc
 - 
lsc
.
th
Ë<
ïsTh
);

2485 
boﬁ
 
c‹rid‹
 = 
	`pm_is_c‹rid‹
(&
lsc
);

2486 
	`as£π
(
c‹rid‹
);

2487 
PM_TYPE
 
îr‹
 = 
	`pm_îr‹_ödex
(&
l§
, &
lsc
);

2488 
PM_TYPE
 
™gÀ
 = 
	`pm_c‹rid‹_™gÀ
(&
l§
);

2490 
c11
, 
c12
, 
c22
, 
c33
;

2491 
	`pm_cov_e°
(
îr‹
, &
c11
, &
c12
, &
c22
, &
c33
, 
c‹rid‹
, 
™gÀ
);

2493 
	`¥ötf
("Eº‹ index:%.1f,ángÀ:%.1f, cov: %.1f,%.1f,%.1f,%.1f\n", 
îr‹
, 
™gÀ
*
PM_R2D
, 
	`sqπ
(
c11
),

2494 
c12
 / 
	`sqπ
(
c11
Ë/ sqπ(
c22
), sqπ(c22), sqπ(
c33
Ë* 
PM_R2D
);

2495 i‡(
öãø˘ive
) {

2496 
	`pm_∂ŸSˇn
(&
lsc
, "ªd", 2.0, 
åue
);

2497 
	`dr_cov_ñlù£
(0, 0, 
c11
, 
c12
, 
c22
, "black");

2498 
	`dr_fô
();

2499 
	`dr_zoom
();

2502 
	`¥ötf
("UnitÅest......................PASSED\n");

2503 
	}
}

	@processors/laser/polar_matching/polar_matching/polar_match.h

33 #i‚de‡
_POLAR_MATCH_


34 
	#_POLAR_MATCH_


	)

36 
	~<°dio.h
>

45 
	#PM_PSD_SCANNER
 0

	)

46 
	#PM_HOKUYO_URG_04LX
 1

	)

47 
	#PM_SICK_LMS200
 2

	)

48 
	#PM_HOKUYO_UTM_30LX
 3

	)

52 
	#PM_LASER
 
PM_HOKUYO_URG_04LX


	)

58 #i‡
PM_LASER
 =
PM_PSD_SCANNER


59 
	#PM_LASER_NAME
 "PSD_Scanner"

60 
	#PM_L_POINTS
 200

61 
	#PM_FOV
 360

62 
	#PM_MAX_RANGE
 400

63 
	#PM_MIN_VALID_POINTS
 100

64 
	#PM_SEARCH_WINDOW
 50

65 
	#PM_CORRIDOR_THRESHOLD
 25.0

66 #ñi‡
PM_LASER
 =
PM_HOKUYO_URG_04LX


	)

67 
	#PM_LASER_NAME
 "Hokuyo URG-04LX"

68 
	#PM_L_POINTS
 680

69 
	#PM_FOV
 240

71 
	#PM_MAX_RANGE
 400

72 
	#PM_MIN_VALID_POINTS
 20

73 
	#PM_SEARCH_WINDOW
 80

74 
	#PM_CORRIDOR_THRESHOLD
 25.0

75 #ñi‡
PM_LASER
 =
PM_SICK_LMS200


	)

76 
	#PM_LASER_NAME
 "Sick LMS"

77 
	#PM_L_POINTS
 181

78 
	#PM_FOV
 180

79 
	#PM_MAX_RANGE
 1000

80 
	#PM_MIN_VALID_POINTS
 40

81 
	#PM_SEARCH_WINDOW
 20

82 
	#PM_CORRIDOR_THRESHOLD
 25.0

83 #ñi‡
PM_LASER
 =
PM_HOKUYO_UTM_30LX


	)

84 
	#PM_LASER_NAME
 "HOKUYO UTM-30LX"

85 
	#PM_L_POINTS
 1081

86 
	#PM_FOV
 270

87 
	#PM_MAX_RANGE
 700

88 
	#PM_MIN_VALID_POINTS
 300

89 
	#PM_SEARCH_WINDOW
 200

90 
	#PM_CORRIDOR_THRESHOLD
 25.0

92 

	)

96 
	#PM_TIME_DELAY
 0

97 
	#PM_LASER_Y
 0

103 
	#PM_MIN_RANGE
 15.0f

104 
	#PM_SEG_MAX_DIST
 20.0

105 
	#PM_WEIGHTING_FACTOR
 70*70

106 
	#PM_CHANGE_WEIGHT_ITER
 10

107 

	)

108 
	#PM_TYPE
 

109 

	)

110 
	#PM_MAX_ERROR
 100

111 
	#PM_STOP_COND
 0.2

112 
	#PM_MAX_ITER
 30

113 
	#PM_MAX_ITER_ICP
 60

114 
	#PM_STOP_COND_ICP
 0.1

115 

	)

116 
	#PM_MIN_STD_XY
 20.0

117 
	#PM_MIN_STD_ORIENTATION
 4.0

118 
	#PM_MATCH_ERROR_OFFSET
 5.0

119 

	)

120 
	#PM_ODO
 -1

121 
	#PM_PSM
 1

122 
	#PM_ICP
 3

123 

	)

124 
	#PM_TIME_FILE
 "results/iterations.txt"

125 

	)

127 
	#PM_RANGE
 1

128 
	#PM_MOVING
 2

129 
	#PM_MIXED
 4

130 
	#PM_OCCLUDED
 8

131 
	#PM_EMPTY
 16

132 

	)

133 
PM_TYPE
 
pm_fi
[
PM_L_POINTS
];

134 
PM_TYPE
 
pm_si
[
PM_L_POINTS
];

135 
PM_TYPE
 
pm_co
[
PM_L_POINTS
];

136 c⁄° 
PM_TYPE
 
PM_D2R
;

137 c⁄° 
PM_TYPE
 
PM_R2D
;

148 
	sPMSˇn


150 
	mt
;

151 
PM_TYPE
 
	mrx
;

152 
PM_TYPE
 
	mry
;

153 
PM_TYPE
 
	mth
;

154 
PM_TYPE
 
	mr
[
PM_L_POINTS
];

155 
PM_TYPE
 
	mx
[
PM_L_POINTS
];

156 
PM_TYPE
 
	my
[
PM_L_POINTS
];

157 
	mbad
[
PM_L_POINTS
];

160 
	m£g
[
PM_L_POINTS
];

161 
	m≥ndõ¡e_x
[
PM_L_POINTS
];

162 
	m≥ndõ¡e_x_2
[
PM_L_POINTS
];

163 
	m≥ndõ¡e_x_©™f
[
PM_L_POINTS
];

164 
	m≥ndõ¡e_x_öt
[
PM_L_POINTS
];

165 
	m≥ndõ¡e_x_b
[
PM_L_POINTS
];

166 
	m≥ndõ¡e_y
[
PM_L_POINTS
];

167 
	m≥ndõ¡e_y_2
[
PM_L_POINTS
];

168 
	m≥ndõ¡e_y_©™f
[
PM_L_POINTS
];

169 
	m≥ndõ¡e_y_öt
[
PM_L_POINTS
];

170 
	m≥ndõ¡e_y_b
[
PM_L_POINTS
];

171 
	mtùo
[
PM_L_POINTS
];

174 
pm_öô
(c⁄° * 
fûíame
=
NULL
, 
FILE
 **
fö
=NULL);

175 
pm_ªadSˇn
(
FILE
 *
fö
, 
PMSˇn
 *
ls
);

176 
pm_ßve_sˇn
(
PMSˇn
 *
a˘
,c⁄° *
fûíame
);

178 
pm_¥ïro˚ssSˇn
(
PMSˇn
 *
ls
);

180 
PM_TYPE
 
pm_psm
–c⁄° 
PMSˇn
 *
l§
,PMSˇ¿*
lß
,
FILE
 *
fûe
);

181 
PM_TYPE
 
pm_i˝
–c⁄° 
PMSˇn
 *
l§
,PMSˇ¿*
lß
);

183 
pm_∂ŸSˇnAt
(c⁄° 
PMSˇn
 *
ls
, 
PM_TYPE
 
x
,PM_TYPE 
y
,PM_TYPE 
th
,c⁄° *
cﬁ
, 
dümëî
 = 2.0, 
boﬁ
 
c⁄√˘_löes
 = 
Ál£
);

184 
pm_∂ŸSˇn
(
PMSˇn
 *
ls
, c⁄° *
cﬁ
,
dümëî
 = 2.0, 
boﬁ
 
c⁄√˘_löes
 = 
Ál£
);

185 
pm_show_£gmíèti⁄
(c⁄° 
PMSˇn
 *
ls
);

186 
pm_∂ŸSˇn4Thesis
(
PMSˇn
 *
l§
,PMSˇ¿*
lß
);

187 
pm_∂ŸTime4Thesis
(
PM_TYPE
 
xt
, PM_TYPE 
yt
, PM_TYPE 
tht
,*
ôî
=
NULL
,*
time
=NULL);

189 
boﬁ
 
pm_is_c‹rid‹
(
PMSˇn
 *
a˘
);

190 
PM_TYPE
 
pm_îr‹_ödex
(
PMSˇn
 *
l§
,PMSˇ¿*
lß
);

191 
PM_TYPE
 
pm_îr‹_ödex2
 ( 
PMSˇn
 *
ªf
,PMSˇ¿*
cur
, * 
assocüãdPoöts
=
NULL
 );

192 
PM_TYPE
 
pm_c‹rid‹_™gÀ
(
PMSˇn
 *
a˘
);

193 
pm_cov_e°
(
PM_TYPE
 
îr
, *
c11
,*
c12
, *
c22
, *
c33
,

194 
boﬁ
 
c‹rid‹
=
Ál£
, 
PM_TYPE
 
c‹r_™gÀ
=0);

196 
pm_unô_ã°
(
m©chög_Æg
 = 
PM_PSM
, 
boﬁ
 
öãø˘ive
=
åue
);

	@processors/laser/polar_matching/test/example.cpp

23 
	~<io°ªam
>

24 
	~<uni°d.h
>

25 
	~<m©h.h
>

26 
	~<°dlib.h
>

27 
	~<as£π.h
>

28 
	~<pﬁ¨_m©ch.h
>

30 
	~"døw.h
"

32 
usög
 
«me•a˚
 
	g°d
;

36 
ªad_sˇn2
(
FILE
 *
fö
, 
PMSˇn
 *
ls
);

38 
ªad_sˇn4
(
FILE
 *
fö
, 
PMSˇn
 *
ls
);

40 
ªad_sˇn5
(
FILE
 *
fö
, 
PMSˇn
 *
ls
);

42 
m©ch_psd
();

44 
œ£r_odomëry_exam∂e
(
¨gc
, *
¨gv
[]);

46 
œ£r_odomëry_exam∂e_im¥oved
(
¨gc
, *
¨gv
[]);

51 
	$maö
(
¨gc
, *
¨gv
[])

53 
PM_LASER
)

55 
PM_HOKUYO_URG_04LX
:

56 
	`œ£r_odomëry_exam∂e
(
¨gc
,
¨gv
);

58 
PM_HOKUYO_UTM_30LX
:

59 
	`œ£r_odomëry_exam∂e
(
¨gc
,
¨gv
);

62 
PM_PSD_SCANNER
:

63 
	`m©ch_psd
();

65 
PM_SICK_LMS200
:

66 
	`œ£r_odomëry_exam∂e
(
¨gc
,
¨gv
);

69 
	`¥ötf
("Main:Çoáction chosen.\n");

73 
	`¥ötf
("Finished.\n");

74 
	}
}

84 
	$œ£r_odomëry_exam∂e
(
¨gc
, *
¨gv
[])

86 
boﬁ
 
∑úwi£
 = 
Ál£
;

87 if(
PM_LASER_Y
 != 0)

89 
˚º
 <<"ERROR PM_LASER_YÇŸ 0 f‹ m≠pög"<<
ídl
;

90 
	`exô
(-1);

93 if(
¨gc
 > 4)

95 
	`¥ötf
("usage:Üog_file_name [start_point] [p]\n");

96 
	`¥ötf
("ScansÖreceeding start_pointáre ignored. WhenÖÖresent,Öairwise matchÑesultsáre shown.\n");

100 * 
‚ame
;

101 if(
¨gc
>1)

103 
‚ame
 = 
¨gv
[1];

107 
PM_LASER
)

109 
PM_HOKUYO_URG_04LX
:

110 
‚ame
 = (*)"data/hokuyo_urg_04lx_ug1_example.txt";

112 
PM_HOKUYO_UTM_30LX
:

113 
‚ame
 = (*)"data/hokuyo_utm_30lx_from_Mohsen_Akbaritabar.txt";

115 
PM_SICK_LMS200
:

116 
‚ame
 = (*)"data/sick_lms200.log";

119 
	`exô
(-1);

124 
FILE
 *
fö
;

127 
	`pm_öô
(
‚ame
,&
fö
);

129 
°¨tPoöt
 = 0;

130 if(
¨gc
 == 3 ||árgc == 4 )

132 
	`as£π
(
	`ssˇnf
(
¨gv
[2],"%i",&
°¨tPoöt
)==1);

135 if(
¨gc
 == 4)

137 
	`as£π
(*
¨gv
[3]=='p');

138 
∑úwi£
 = 
åue
;

142 
	`dr_öô
(600,600,-400, -200, 700, 1200);

144 
PMSˇn
 
ls
,
ls_œ°
;

146 
rx
=0,
ry
=0,
th
=0;

148 
boﬁ
 
bFú°
 = 
åue
;

149 
˙t
 = 0;

150 
îr‹
 = 0;

151 !
îr‹
)

153 
PM_LASER
)

155 
PM_HOKUYO_URG_04LX
:

156 
îr‹
 = 
	`ªad_sˇn4
(
fö
,&
ls
);

158 
PM_HOKUYO_UTM_30LX
:

159 
îr‹
 = 
	`ªad_sˇn5
(
fö
,&
ls
);

161 
PM_SICK_LMS200
:

162 
îr‹
 = 
	`ªad_sˇn4
(
fö
,&
ls
);

165 
	`exô
(-1);

168 if(
îr‹
)

170 
	`¥ötf
("laser_odometry_example:Ñeading scan failed.\n");

174 
˙t
++;

175 if(
˙t
 < 
°¨tPoöt
)

180 
cout
 <<
ídl
<<
˙t
<<"Å: "<<
ls
.
t
<< " ";

183 
	`pm_¥ïro˚ssSˇn
(&
ls
);

185 if(
bFú°
)

187 
bFú°
 = 
Ál£
;

188 
ls_œ°
 = 
ls
;

193 
åy
{

195 
ls
.
rx
 = 0;ls.
ry
=0;ls.
th
=0;

196 
ls_œ°
.
rx
 = 0;ls_œ°.
ry
=0;ls_œ°.
th
=0;

198 
	`pm_psm
(&
ls_œ°
,&
ls
);

201 
xx
,
yy
,
âh
;

203 
xx
 = 
ls
.
rx
*
	`cos
(
th
Ë-Üs.
ry
*
	`sö
(th) +Ñx;

204 
yy
 = 
ls
.
rx
*
	`sö
(
th
Ë+Üs.
ry
*
	`cos
(th) +Ñy;

205 
âh

th
 + 
ls
.th;

207 
rx
 = 
xx
;

208 
ry
 = 
yy
;

209 
th
 = 
âh
;

211 if(
∑úwi£
)

213 
	`dr_îa£
();

214 
	`pm_∂ŸSˇn
(&
ls_œ°
,"black");

215 
	`pm_∂ŸSˇn
(&
ls
,"green");

217 
boﬁ
 
c‹rid‹
 = 
	`pm_is_c‹rid‹
(&
ls
);

218 
PM_TYPE
 
™gÀ
;

219 if(
c‹rid‹
)

221 
™gÀ
 = 
	`pm_c‹rid‹_™gÀ
(&
ls_œ°
);

222 
cout
 <<" c‹rid‹"<<
ídl
;

226 
™gÀ
 = 0;

228 
PM_TYPE
 
îr_idx
 = 
	`pm_îr‹_ödex
(&
ls_œ°
,&
ls
);

229 
cout
 <<"Éº: "<<
îr_idx
;

231 
c11
,
c12
, 
c22
, 
c33
;

232 
	`pm_cov_e°
(
îr_idx
, &
c11
,&
c12
, &
c22
, &
c33
,
c‹rid‹
, 
™gÀ
);

233 
cout
 <<
ídl
<<"Eº‹ index: "<<
îr_idx
<<"ángÀ "<<
™gÀ
*
PM_R2D
<<endl;

234 
cout
 <<"COV: "<<
	`sqπ
(
c11
)<<" "<<
c12
/sqπ(c11)/sqπ(
c22
)<<" "<<sqπ(c22)<<" deg "<<sqπ(
c33
)*
PM_R2D
<<
ídl
;

235 
	`dr_cov_ñlù£
(0,0,
c11
,
c12
,
c22
,"black");

236 
	`dr_fô
();

237 
	`dr_zoom
();

241 
ls
.
rx
 = 
xx
;Üs.
ry
 = 
yy
;Üs.
th
 = 
âh
;

243 
	`pm_∂ŸSˇnAt
(&
ls
,
rx
,
ry
,
th
,"red",1.0);

252 
ls
.
rx
 = 0;ls.
ry
=0;ls.
th
=0;

253 
ls_œ°
 = 
ls
;

254 }
	`ˇtch
(
îr
)

256 
˚º
 <<"îr‹_ˇught: maö"<<
ídl
;

261 
	`f˛o£
(
fö
);

262 
	`¥ötf
("\nFinished.\n");

263 
	`dr_zoom
();

265 
	}
}

275 
	$œ£r_odomëry_exam∂e_im¥oved
(
¨gc
, *
¨gv
[])

277 
boﬁ
 
∑úwi£
 = 
Ál£
;

278 if(
PM_LASER_Y
 != 0)

280 
˚º
 <<"ERROR PM_LASER_YÇŸ 0 f‹ m≠pög"<<
ídl
;

281 
	`exô
(-1);

284 if(
¨gc
 > 4)

286 
	`¥ötf
("usage:Üog_file_name [start_point] [p]\n");

287 
	`¥ötf
("ScansÖreceeding start_pointáre ignored. WhenÖÖresent,Öairwise matchÑesultsáre shown.\n");

291 * 
‚ame
;

292 if(
¨gc
>1)

294 
‚ame
 = 
¨gv
[1];

298 
PM_LASER
)

300 
PM_HOKUYO_URG_04LX
:

301 
‚ame
 = (*)"data/hokuyo_urg_04lx_ug1_example.txt";

303 
PM_HOKUYO_UTM_30LX
:

304 
‚ame
 = (*)"../../data/UTM_1.txt";

306 
PM_SICK_LMS200
:

307 
‚ame
 = (*)"data/sick_lms200.log";

310 
	`exô
(-1);

315 
FILE
 *
fö
;

318 
	`pm_öô
(
‚ame
,&
fö
);

320 
°¨tPoöt
 = 0;

321 if(
¨gc
 == 3 ||árgc == 4 )

323 
	`as£π
(
	`ssˇnf
(
¨gv
[2],"%i",&
°¨tPoöt
)==1);

326 if(
¨gc
 == 4)

328 
	`as£π
(*
¨gv
[3]=='p');

329 
∑úwi£
 = 
åue
;

333 
	`dr_öô
(600,600,-400, -200, 700, 1200);

335 
PMSˇn
 
ls
,
ls_œ°
, 
ls_ªf
;

337 
rx
=0,
ry
=0,
th
=0;

338 
xx_œ°
=0,
yy_œ°
=0,
âh_œ°
=0;

341 
boﬁ
 
bFú°
 = 
åue
;

342 
˙t
 = 0;

343 
îr‹
 = 0;

345 !
îr‹
)

348 
PM_LASER
)

350 
PM_HOKUYO_URG_04LX
:

351 
îr‹
 = 
	`ªad_sˇn4
(
fö
,&
ls
);

353 
PM_HOKUYO_UTM_30LX
:

354 
îr‹
 = 
	`ªad_sˇn5
(
fö
,&
ls
);

356 
PM_SICK_LMS200
:

357 
îr‹
 = 
	`ªad_sˇn4
(
fö
,&
ls
);

360 
	`exô
(-1);

363 if(
îr‹
)

365 
	`¥ötf
("laser_odometry_example:Ñeading scan failed.\n");

369 
˙t
++;

370 if(
˙t
 < 
°¨tPoöt
)

376 
cout
 <<
ídl
<<
˙t
<<"Å: "<<
ls
.
t
<< " ";

379 
	`pm_¥ïro˚ssSˇn
(&
ls
);

381 if(
bFú°
)

383 
bFú°
 = 
Ál£
;

384 
ls
.
rx
 = 0;Üs.
ry
 = 0;ls.
th
 = 0;

385 
ls_œ°
 = 
ls
;

386 
ls_ªf
 = 
ls
;

391 
ls
.
rx
 = 
ls_œ°
.rx;

392 
ls
.
ry
 = 
ls_œ°
.ry;

393 
ls
.
th
 = 
ls_œ°
.th;

395 
ls_ªf
.
rx
 = 0;ls_ªf.
ry
=0;ls_ªf.
th
=0;

397 
boﬁ
 
m©chFaûed
 = 
Ál£
;

398 
åy


400 
	`pm_psm
(&
ls_ªf
,&
ls
);

401 }
	`ˇtch
(
îr
)

403 
˚º
 << "Eº‹ caught: faûed m©ch." << 
ídl
;

404 
m©chFaûed
 = 
åue
;

407 
PM_TYPE
 
îr_idx
 = 
	`pm_îr‹_ödex2
(&
ls_œ°
,&
ls
);

408 
cout
 <<"Éº: "<<
îr_idx
;

410 
boﬁ
 
ªfSwôched
 = 
Ál£
;

411 if(
m©chFaûed
 || 
îr_idx
 > 5.0)

413 
ªfSwôched
 = 
åue
;

414 
	`¥ötf
(" SwitchingÑeference scan.\n");

415 
ls_ªf
 = 
ls_œ°
;

416 
ls
.
rx
 = 0;ls.
ry
 = 0;Üs.
th
 = 0;

417 
ls_ªf
.
rx
 = 0;ls_ªf.
ry
 = 0;Üs_ªf.
th
 = 0;

418 
	`pm_psm
–&
ls_ªf
, &
ls
 );

419 
rx
 = 
xx_œ°
;

420 
ry
 = 
yy_œ°
;

421 
th
 = 
âh_œ°
;

422 
ls_ªf
 = 
ls_œ°
;

426 
xx
,
yy
,
âh
;

428 
xx
 = 
ls
.
rx
*
	`cos
(
th
Ë-Üs.
ry
*
	`sö
(th) +Ñx;

429 
yy
 = 
ls
.
rx
*
	`sö
(
th
Ë+Üs.
ry
*
	`cos
(th) +Ñy;

430 
âh

th
 + 
ls
.th;

432 
ls
.
rx
 = 
xx
;Üs.
ry
 = 
yy
;Üs.
th
 = 
âh
;

434 if(
ªfSwôched
 || 
˙t
 == 2)

435 
	`pm_∂ŸSˇnAt
(&
ls
,
rx
,
ry
,
th
,"red",1.0);

442 
ls
.
rx
 = 0;ls.
ry
=0;ls.
th
=0;

443 
ls_œ°
 = 
ls
;

444 
xx_œ°
 = 
xx
;

445 
yy_œ°
 = 
yy
;

446 
âh_œ°
 = 
âh
;

450 
	`f˛o£
(
fö
);

451 
	`¥ötf
("\nFinished.\n");

452 
	`dr_zoom
();

454 
	}
}

459 
	$ªad_sˇn2
(
FILE
 *
fö
, 
PMSˇn
 *
ls
)

461 
n
=0;

463 
ls
->
rx
 = 0;

464 
ls
->
ry
 = 0;

465 
ls
->
t
 =-1;

466 
ls
->
th
 = 0;

468 
i
=0; i<
PM_L_POINTS
; i++)

470 
fi
;

471 
n
+=
	`fsˇnf
(
fö
,"%‡%‡",&
fi
,&(
ls
->
r
[
i
]));

472 
ls
->
x
[
i
] = (ls->
r
[i])*
pm_co
[i];

473 
ls
->
y
[
i
] = (ls->
r
[i])*
pm_si
[i];

474 
ls
->
bad
[
i
] = 0;

475 if(
ls
->
r
[
i
]<10)

477 
ls
 ->
r
[
i
] = 10000;

480 if(
n
!=(2*
PM_L_POINTS
))

483 
	}
}

487 
	$m©ch_psd
()

489 
	`as£π
(
PM_LASER
 =
PM_PSD_SCANNER
);

491 
	`dr_öô
(600,600,-500, -500, 500, 500);

493 
PMSˇn
 
ls
,
ls_œ°
;

495 
FILE
* 
fö
;

496 
	`pm_öô
("d©a/b©h_1.sˇn",&
fö
);

497 
	`ªad_sˇn2
(
fö
,&
ls_œ°
);

498 
	`f˛o£
(
fö
);

500 
	`pm_¥ïro˚ssSˇn
(&
ls_œ°
);

502 
	`pm_öô
("d©a/b©h_2.sˇn",&
fö
);

503 
	`ªad_sˇn2
(
fö
,&
ls
);

504 
	`f˛o£
(
fö
);

506 
	`pm_¥ïro˚ssSˇn
(&
ls
);

508 
	`¥ötf
("Scan 1\n");

509 
	`pm_∂ŸSˇn
(&
ls
,"red");

510 
	`dr_fô
();

511 
	`dr_zoom
();

513 
	`¥ötf
("Scan 1ánd 2\n");

514 
	`pm_∂ŸSˇn
(&
ls_œ°
,"black");

515 
	`dr_fô
();

516 
	`dr_zoom
();

518 
	`pm_psm
(&
ls_œ°
,&
ls
);

520 
	`¥ötf
("Scan 1ánd 2 matched\n");

521 
	`dr_îa£
();

522 
	`pm_∂ŸSˇn
(&
ls_œ°
,"black");

523 
	`pm_∂ŸSˇn
(&
ls
,"blue");

524 
	`dr_zoom
();

525 
	}
}

535 
	$ªad_sˇn4
(
FILE
 *
fö
, 
PMSˇn
 *
ls
)

537 
n
=0;

539 
time
;

540 
n
 +
	`fsˇnf
(
fö
,"%ò%‡%‡%‡", &
time
, &
ls
->
rx
, &ls->
ry
, &ls->
th
);

542 
ls
->
t
 = ()
time
/1000.0f;

543 
ls
->
th
 =Üs->th * 
PM_D2R
;

545 
i
=0; i<
PM_L_POINTS
; i++)

547 
n
+=
	`fsˇnf
(
fö
,"%‡",&(
ls
->
r
[
i
]));

548 
ls
->
r
[
i
] =Üs->r[i] /10.0;

549 
ls
->
x
[
i
] = (ls->
r
[i])*
pm_co
[i];

550 
ls
->
y
[
i
] = (ls->
r
[i])*
pm_si
[i];

551 
ls
->
bad
[
i
] = 0;

554 if(
ls
->
r
[
i
]<10)

556 
ls
 ->
r
[
i
] = 10000;

559 if(
n
!=(
PM_L_POINTS
+4))

562 
	}
}

573 
	$ªad_sˇn5
(
FILE
 *
fö
, 
PMSˇn
 *
ls
)

575 
n
=0;

577 
ls
->
rx
 = 0;

578 
ls
->
ry
 = 0;

579 
ls
->
th
 = 0;

580 
ls
->
t
 = -1.0;

582 
i
=0; i<
PM_L_POINTS
; i++)

584 
n
+=
	`fsˇnf
(
fö
,"%‡",&(
ls
->
r
[
i
]));

585 
ls
->
r
[
i
] =Üs->r[i] *100.0;

586 
ls
->
x
[
i
] = (ls->
r
[i])*
pm_co
[i];

587 
ls
->
y
[
i
] = (ls->
r
[i])*
pm_si
[i];

588 
ls
->
bad
[
i
] = 0;

590 if(
ls
->
r
[
i
]<10)

592 
ls
 ->
r
[
i
] = 10000;

595 if(
n
!=(
PM_L_POINTS
))

598 
	}
}

	@processors/laser/polar_matching/test/main.cpp

21 
	~<°rög.h
>

23 
	~"pﬁ¨_m©ch.h
"

27 
	$maö
(
¨gc
, *
¨gv
[])

29 
	`¥ötf
("Polar Scan MatchingÅests. Run with --non-interactiveÅo forÇo graphics.\n");

30 
boﬁ
 
öãø˘ive
 = 
åue
;

32 if(
¨gc
==2)

34 if(!
	`°rcmp
("--n⁄-öãø˘ive", 
¨gv
[1]))

35 
öãø˘ive
 = 
Ál£
;

38 
	`pm_unô_ã°
(
PM_PSM
, 
öãø˘ive
);

39 
	`pm_unô_ã°
(
PM_ICP
, 
öãø˘ive
);

41 
	}
}

	@processors/laser/urg-0.8.18/config.h

8 
	#HAVE_ATEXIT
 1

	)

12 
	#HAVE_DECL_STRERROR_R
 1

	)

16 
	#HAVE_DIRENT_H
 1

	)

19 
	#HAVE_DLFCN_H
 1

	)

25 
	#HAVE_FCNTL_H
 1

	)

28 
	#HAVE_FLOOR
 1

	)

31 
	#HAVE_GETTIMEOFDAY
 1

	)

34 
	#HAVE_INTTYPES_H
 1

	)

37 
	#HAVE_LIBSDL
 1

	)

40 
	#HAVE_LIBSDL_NET
 1

	)

44 
	#HAVE_MALLOC
 1

	)

47 
	#HAVE_MEMMOVE
 1

	)

50 
	#HAVE_MEMORY_H
 1

	)

56 
	#HAVE_SELECT
 1

	)

63 
	#HAVE_STDBOOL_H
 1

	)

66 
	#HAVE_STDDEF_H
 1

	)

69 
	#HAVE_STDINT_H
 1

	)

72 
	#HAVE_STDLIB_H
 1

	)

75 
	#HAVE_STRERROR
 1

	)

78 
	#HAVE_STRERROR_R
 1

	)

81 
	#HAVE_STRINGS_H
 1

	)

84 
	#HAVE_STRING_H
 1

	)

87 
	#HAVE_STRRCHR
 1

	)

90 
	#HAVE_STRSTR
 1

	)

93 
	#HAVE_STRTOL
 1

	)

104 
	#HAVE_SYS_SELECT_H
 1

	)

107 
	#HAVE_SYS_SOCKET_H
 1

	)

110 
	#HAVE_SYS_STAT_H
 1

	)

113 
	#HAVE_SYS_TIME_H
 1

	)

116 
	#HAVE_SYS_TYPES_H
 1

	)

119 
	#HAVE_TERMIOS_H
 1

	)

122 
	#HAVE_UNISTD_H
 1

	)

125 
	#HAVE_VPRINTF
 1

	)

128 
	#HAVE__BOOL
 1

	)

132 
	#LSTAT_FOLLOWS_SLASHED_SYMLINK
 1

	)

136 
	#LT_OBJDIR
 ".libs/"

	)

139 
	#MAJOR_VERSION
 "0"

	)

142 
	#MICRO_VERSION
 "18"

	)

145 
	#MINOR_VERSION
 "8"

	)

148 
	#PACKAGE
 "urg"

	)

151 
	#PACKAGE_BUGREPORT
 "ßtofumi@u£rs.sour˚f‹ge.jp"

	)

154 
	#PACKAGE_NAME
 "urg"

	)

157 
	#PACKAGE_STRING
 "urg 0.8.18"

	)

160 
	#PACKAGE_TARNAME
 "urg"

	)

163 
	#PACKAGE_URL
 ""

	)

166 
	#PACKAGE_VERSION
 "0.8.18"

	)

169 
	#SELECT_TYPE_ARG1
 

	)

172 
	#SELECT_TYPE_ARG234
 (
fd_£t
 *)

	)

175 
	#SELECT_TYPE_ARG5
 (
timevÆ
 *)

	)

178 
	#STDC_HEADERS
 1

	)

184 
	#TIME_WITH_SYS_TIME
 1

	)

187 
	#VERSION
 "0.8.18"

	)

	@processors/laser/urg-0.8.18/include/c/detect_os.h

1 #i‚de‡
QRK_C_DETECT_OS_H


2 
	#QRK_C_DETECT_OS_H


	)

13 #i‡
deföed
 
_MSC_VER
 || deföed 
__CYGWIN__
 || deföed 
__MINGW32__


14 
	#WINDOWS_OS


	)

16 #i‡
deföed
 
_MSC_VER


17 
	#MSC


	)

18 #ñi‡
deföed
 
__CYGWIN__


19 
	#Cygwö


	)

20 #ñi‡
deföed
 
__MINGW32__


21 
	#MöGW


	)

24 #ñi‡
deföed
 
__löux__


25 
	#LINUX_OS


	)

29 
	#MAC_OS


	)

	@processors/laser/urg-0.8.18/include/c/math_utils.h

1 #i‚de‡
QRK_C_MATH_UTILS_H


2 
	#QRK_C_MATH_UTILS_H


	)

13 
	~"dëe˘_os.h
"

14 #i‡
deföed
(
WINDOWS_OS
)

15 
	#_USE_MATH_DEFINES


	)

17 
	~<m©h.h
>

19 #i‚de‡
M_PI


21 
	#M_PI
 3.14159265358979323846

	)

	@processors/laser/urg-0.8.18/include/c/ring_buffer.h

1 #i‚de‡
RING_BUFFER_H


2 
	#RING_BUFFER_H


	)

17 *
	mbuf„r
;

18 
	mbuf„r_size
;

19 
	mfú°
;

20 
	mœ°
;

21 } 
	trögBuf„r_t
;

31 
rög_öôülize
(
rögBuf„r_t
 *
rög
,

32 *
buf„r
, c⁄° 
shi·_Àngth
);

40 
rög_˛ór
(
rögBuf„r_t
 *
rög
);

48 
rög_size
(c⁄° 
rögBuf„r_t
 *
rög
);

56 
rög_ˇ∑côy
(c⁄° 
rögBuf„r_t
 *
rög
);

68 
rög_wrôe
(
rögBuf„r_t
 *
rög
, c⁄° *
d©a
, 
size
);

80 
rög_ªad
(
rögBuf„r_t
 *
rög
, *
buf„r
, 
size
);

	@processors/laser/urg-0.8.18/include/c/serial_ctrl.h

1 #i‚de‡
QRK_C_SERIAL_CTRL_H


2 
	#QRK_C_SERIAL_CTRL_H


	)

15 
	~"£rül_t.h
"

18 
£rül_öôülize
(
£rül_t
 *
£rül
);

31 
£rül_c⁄√˘
(
£rül_t
 *
£rül
, c⁄° *
devi˚
, 
baudøã
);

39 
£rül_disc⁄√˘
(
£rül_t
 *
£rül
);

50 
£rül_isC⁄√˘ed
(c⁄° 
£rül_t
 *
£rül
);

62 
£rül_£tBaudøã
(
£rül_t
 *
£rül
, 
baudøã
);

75 
£rül_£nd
(
£rül_t
 *
£rül
, c⁄° *
d©a
, 
d©a_size
);

89 
£rül_ªcv
(
£rül_t
 *
£rül
,

90 *
d©a
, 
d©a_size_max
, 
timeout
);

101 
£rül_ungëc
(
£rül_t
 *
£rül
, 
ch
);

107 
£rül_˛ór
(
£rül_t
* 
£rül
);

	@processors/laser/urg-0.8.18/include/c/serial_t.h

1 #i‚de‡
QRK_C_SERIAL_T_H


2 
	#QRK_C_SERIAL_T_H


	)

13 #i‚de‡
NO_DETECT_OS_H


14 
	~"dëe˘_os.h
"

17 #i‡
deföed
(
WINDOWS_OS
)

18 
	~"£rül_t_wö.h
"

20 #ñi‡
deföed
(
LINUX_OS
Ë|| deföed(
MAC_OS
)

21 
	~"£rül_t_lö.h
"

24 
	~"£rül_t_Ÿhî.h
"

	@processors/laser/urg-0.8.18/include/c/serial_t_lin.h

1 #i‚de‡
QRK_C_SERIAL_T_LIN_H


2 
	#QRK_C_SERIAL_T_LIN_H


	)

13 
	~"rög_buf„r.h
"

14 
	~<ãrmios.h
>

18 
	mSîülEº‹SåögSize
 = 256,

19 
	mRögBuf„rSizeShi·
 = 10,

20 
	mRögBuf„rSize
 = 1 << 
RögBuf„rSizeShi·
,

29 
	mî∫o_
;

30 
	mîr‹_°rög_
[
SîülEº‹SåögSize
];

31 
	mfd_
;

32 
ãrmios
 
	msio_
;

33 
rögBuf„r_t
 
	mrög_
;

34 
	mbuf„r_
[
RögBuf„rSize
];

35 
	mhas_œ°_ch_
;

36 
	mœ°_ch_
;

38 } 
	t£rül_t
;

	@processors/laser/urg-0.8.18/include/c/serial_t_win.h

1 #i‚de‡
QRK_C_SERIAL_T_WIN_H


2 
	#QRK_C_SERIAL_T_WIN_H


	)

13 
	~"rög_buf„r.h
"

14 
	~<wödows.h
>

18 
	mSîülEº‹SåögSize
 = 256,

19 
	mRögBuf„rSizeShi·
 = 10,

20 
	mRögBuf„rSize
 = 1 << 
RögBuf„rSizeShi·
,

28 
	mî∫o_
;

29 
HANDLE
 
	mhCom_
;

30 
	mcuºít_timeout_
;

31 
rögBuf„r_t
 
	mrög_
;

32 
	mbuf„r_
[
RögBuf„rSize
];

33 
	mhas_œ°_ch_
;

34 
	mœ°_ch_
;

36 } 
	t£rül_t
;

	@processors/laser/urg-0.8.18/include/c/serial_utils.h

1 #i‚de‡
QRK_SERIAL_UTILS_H


2 
	#QRK_SERIAL_UTILS_H


	)

15 
	~"£rül_t.h
"

24 
£rül_isLF
(c⁄° 
ch
);

36 
£rül_skù
(
£rül_t
 *
£rül
, 
tŸÆ_timeout
,

37 
óch_timeout
);

52 
£rül_gëLöe
(
£rül_t
 *
£rül
,

53 *
d©a
, 
d©a_size_max
, 
timeout
);

	@processors/laser/urg-0.8.18/include/c/urg_ctrl.h

1 #i‚de‡
QRK_C_URG_CTRL_H


2 
	#QRK_C_URG_CTRL_H


	)

15 #ifde‡
__˝lu•lus


19 
	~"urg_t.h
"

26 
UrgLöeWidth
 = 64 + 1 + 1,

27 
UrgInföôyTimes
 = 0,

35 
URG_GD
,

36 
URG_GD_INTENSITY
,

37 
URG_GS
,

38 
URG_MD
,

39 
URG_MD_INTENSITY
,

40 
URG_MS
,

41 } 
	turg_ªque°_ty≥
;

48 
URG_FIRST
 = -1,

49 
URG_LAST
 = -1,

51 
UrgInvÆidTime°amp
 = -1,

55 
urg_öôülize
(
urg_t
 *
urg
);

84 
urg_c⁄√˘
(
urg_t
 *
urg
, c⁄° *
devi˚
, 
baudøã
);

95 
urg_disc⁄√˘
(
urg_t
 *
urg
);

116 
urg_isC⁄√˘ed
(c⁄° 
urg_t
 *
urg
);

129 c⁄° *
urg_îr‹
(c⁄° 
urg_t
 *
urg
);

146 
urg_vîsi⁄Löes
(
urg_t
 *
urg
, * 
löes
[], 
löes_max
);

177 
urg_∑ømëîs
(
urg_t
 *
urg
, 
urg_∑ømëî_t
* 
∑ømëîs
);

190 c⁄° * 
urg_modñ
(c⁄° 
urg_t
 *
urg
);

216 
urg_d©aMax
(c⁄° 
urg_t
 *
urg
);

233 
urg_sˇnM£c
(c⁄° 
urg_t
 *
urg
);

263 
urg_maxDi°™˚
(c⁄° 
urg_t
 *
urg
);

276 
urg_möDi°™˚
(c⁄° 
urg_t
 *
urg
);

293 
urg_£tSkùLöes
(
urg_t
 *
urg
, 
löes
);

307 
urg_£tSkùFømes
(
urg_t
 *
urg
, 
‰ames
);

333 
urg_£tC≠tuªTimes
(
urg_t
 *
urg
, 
times
);

345 
urg_ªmaöC≠tuªTimes
(c⁄° 
urg_t
 *
urg
);

380 
urg_ªque°D©a
(
urg_t
 *
urg
,

381 
urg_ªque°_ty≥
 
ªque°_ty≥
,

382 
fú°_ödex
,

383 
œ°_ödex
);

398 
urg_ª˚iveD©a
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
);

411 
urg_ª˚iveD©aWôhI¡ísôy
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
,

412 
öãnsôy
[]);

429 
urg_ª˚iveP¨tülD©a
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
,

430 
fú°_ödex
, 
œ°_ödex
);

454 
urg_ª˚¡Time°amp
(c⁄° 
urg_t
 *
urg
);

488 
urg_ödex2ød
(c⁄° 
urg_t
 *
urg
, 
ödex
);

501 
urg_ödex2deg
(c⁄° 
urg_t
 *
urg
, 
ödex
);

516 
urg_ød2ödex
(c⁄° 
urg_t
 *
urg
, 
ødün
);

529 
urg_deg2ödex
(c⁄° 
urg_t
 *
urg
, 
degªe
);

545 
urg_œ£rOn
(
urg_t
 *
urg
);

556 
urg_œ£rOff
(
urg_t
 *
urg
);

567 
urg_ªboŸ
(
urg_t
 *
urg
);

573 
urg_ª£t
(
urg_t
 *
urg
);

587 
urg_íabÀTime°ampMode
(
urg_t
 *
urg
);

598 
urg_dißbÀTime°ampMode
(
urg_t
 *
urg
);

625 
urg_cuºítTime°amp
(
urg_t
 *
urg
);

627 #ifde‡
__˝lu•lus


	@processors/laser/urg-0.8.18/include/c/urg_delay.h

1 #i‚de‡
QRK_C_URG_DELAY_H


2 
	#QRK_C_URG_DELAY_H


	)

13 #ifde‡
__˝lu•lus


25 
urg_dñay
(
m£c
);

27 #ifde‡
__˝lu•lus


	@processors/laser/urg-0.8.18/include/c/urg_parameter_t.h

1 #i‚de‡
QRK_URG_PARAMETER_T_H


2 
	#QRK_URG_PARAMETER_T_H


	)

15 
	mUrgP¨amëîLöes
 = 8 + 1 + 1,

16 
	mSís‹Ty≥LöeMax
 = 80,

24 
	m£ns‹_ty≥
[
Sís‹Ty≥LöeMax
];

25 
	mdi°™˚_mö_
;

26 
	mdi°™˚_max_
;

27 
	m¨ó_tŸÆ_
;

28 
	m¨ó_mö_
;

29 
	m¨ó_max_
;

30 
	m¨ó_‰⁄t_
;

31 
	msˇn_Ωm_
;

32 } 
	turg_∑ømëî_t
;

	@processors/laser/urg-0.8.18/include/c/urg_t.h

1 #i‚de‡
QRK_C_URG_T_H


2 
	#QRK_C_URG_T_H


	)

13 
	~"urg_∑ømëî_t.h
"

14 
	~"£rül_t.h
"

21 
	mUrgLa£rOff
 = 0,

22 
	mUrgLa£rOn
,

23 
	mUrgLa£rUnknown
,

24 } 
	turg_œ£r_°©e_t
;

32 
£rül_t
 
	m£rül_
;

33 
	mî∫o_
;

34 
urg_∑ømëî_t
 
	m∑ømëîs_
;

36 
	mskù_löes_
;

37 
	mskù_‰ames_
;

38 
	mˇ±uª_times_
;

40 
urg_œ£r_°©e_t
 
	mis_œ£r_⁄_
;

42 
	mœ°_time°amp_
;

43 
	mªmaö_times_
;

45 
	mªmaö_d©a_
[3];

46 
	mªmaö_byã_
;

48 } 
	turg_t
;

	@processors/laser/urg-0.8.18/include/c/urg_ticks.h

1 #i‚de‡
QRK_C_URG_TICKS_H


2 
	#QRK_C_URG_TICKS_H


	)

13 #ifde‡
__˝lu•lus


23 
urg_ticks
();

25 #ifde‡
__˝lu•lus


	@processors/laser/urg-0.8.18/include/cpp/Angle.h

1 #i‚de‡
QRK_ANGLE_H


2 
	#QRK_ANGLE_H


	)

14 
«me•a˚
 
	gqrk


19 ˛as†
	cAngÀ


21 
	gpublic
:

22 
AngÀ
();

23 
AngÀ
(c⁄° AngÀ& 
rhs
);

25 
	gAngÀ
& 
	g›î©‹
 = (c⁄° 
AngÀ
& 
rhs
);

26 
	gAngÀ
& 
	g›î©‹
 +(c⁄° 
AngÀ
& 
rhs
);

27 c⁄° 
AngÀ
 
	g›î©‹
 + (c⁄° 
	gAngÀ
& 
	grhs
) const;

28 
	gAngÀ
& 
	g›î©‹
 -(c⁄° 
AngÀ
& 
rhs
);

29 c⁄° 
AngÀ
 
	g›î©‹
 - (c⁄° 
	gAngÀ
& 
	grhs
) const;

30 
	gAngÀ
& 
	g›î©‹
 *(c⁄° 
rhs
);

31 
AngÀ
 
	g›î©‹
 * (c⁄° 
	grhs
) const;

32 
‰õnd
 c⁄° 
AngÀ
 
	g›î©‹
 * (c⁄° 
	glhs
, c⁄° 
	gAngÀ
& 
	grhs
);

34 
n‹mÆize
();

42 
to_deg
() const;

50 
to_ød
() const;

52 
	g¥iv©e
:

53 
ødün_™gÀ_
;

55 
‰õnd
 
AngÀ
 
ød
(
ødün
);

56 
‰õnd
 
AngÀ
 
deg
(
degªe
);

66 
AngÀ
 
ød
(
ødün
);

75 
AngÀ
 
deg
(
degªe
);

	@processors/laser/urg-0.8.18/include/cpp/CaptureSettings.h

1 #i‚de‡
QRK_CAPTURE_SETTINGS_H


2 
	#QRK_CAPTURE_SETTINGS_H


	)

16 
«me•a˚
 
	gqrk


22 
	gTy≥Unknown
,

23 
	gQT
,

24 
	gGD
,

25 
	gGS
,

26 
	gMD
,

27 
	gMS
,

28 
	gME
,

29 
	gMx_Rïly
,

30 
	gInvÆidD©a
,

31 } 
	tC≠tuªTy≥
;

37 ˛as†
	cC≠tuªSëtögs


39 
	gpublic
:

40 
C≠tuªTy≥
 
ty≥
;

41 
	gîr‹_code
;

42 
	gtime°amp
;

43 
	gˇ±uª_fú°
;

44 
	gˇ±uª_œ°
;

45 
	gskù_löes
;

46 
	gskù_‰ames
;

47 
	gªmaö_times
;

48 
	gd©a_byã
;

51 
C≠tuªSëtögs
()

52 : 
ty≥
(
Ty≥Unknown
), 
îr‹_code
(-1), 
time°amp
(-1),

53 
ˇ±uª_fú°
(-1), 
ˇ±uª_œ°
(-1),

54 
skù_löes
(-1), 
skù_‰ames
(-1), 
ªmaö_times
(-1), 
d©a_byã
(-1)

	@processors/laser/urg-0.8.18/include/cpp/ConditionVariable.h

1 #i‚de‡
QRK_CONDITION_VARIABLE_H


2 
	#QRK_CONDITION_VARIABLE_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


18 
˛ass
 
	gLock
;

23 ˛as†
	cC⁄dôi⁄V¨übÀ


25 
C⁄dôi⁄V¨übÀ
(c⁄° C⁄dôi⁄V¨übÀ& 
rhs
);

26 
	gC⁄dôi⁄V¨übÀ
& 
	g›î©‹
 = (c⁄° 
C⁄dôi⁄V¨übÀ
& 
rhs
);

28 
	gpIm∂
;

29 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

31 
	gpublic
:

33 
NoTimeout
 = -1,

35 
C⁄dôi⁄V¨übÀ
();

36 ~
C⁄dôi⁄V¨übÀ
();

38 
boﬁ
 
isWaôög
();

39 
wakeup
();

40 
wakeupAŒ
();

42 
boﬁ
 
waô
(
Lock
* 
lock
, 
timeout
 = 
NoTimeout
);

	@processors/laser/urg-0.8.18/include/cpp/Connection.h

1 #i‚de‡
QRK_CONNECTION_H


2 
	#QRK_CONNECTION_H


	)

13 
	~<c°ddef
>

16 
«me•a˚
 
	gqrk


19 
	gRe˚iveTimeout
 = -1,

20 
	gEº‹La°Index
 = -2,

25 ˛as†
	cC⁄√˘i⁄


27 
	gpublic
:

28 
vútuÆ
 ~
C⁄√˘i⁄
() {}

36 
vútuÆ
 c⁄° * 
wh©
() const = 0;

48 
vútuÆ
 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
) = 0;

54 
vútuÆ
 
disc⁄√˘
() = 0;

65 
vútuÆ
 
boﬁ
 
£tBaudøã
(
baudøã
) = 0;

75 
vútuÆ
 
baudøã
() const = 0;

84 
vútuÆ
 
boﬁ
 
isC⁄√˘ed
() const = 0;

95 
vútuÆ
 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
) = 0;

105 
vútuÆ
 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
) = 0;

113 
vútuÆ
 
size_t
 
size
() const = 0;

119 
vútuÆ
 
Êush
() = 0;

127 
vútuÆ
 
˛ór
() = 0;

135 
vútuÆ
 
ungëc
(c⁄° 
ch
) = 0;

	@processors/laser/urg-0.8.18/include/cpp/ConnectionUtils.h

1 #i‚de‡
QRK_CONNECTION_UTILS_H


2 
	#QRK_CONNECTION_UTILS_H


	)

13 
	~<c°ddef
>

14 
	~<Æg‹ôhm
>

18 
«me•a˚
 
	gqrk


20 
˛ass
 
	gC⁄√˘i⁄
;

29 
boﬁ
 
isLF
(c⁄° 
ch
);

41 
skù
(
C⁄√˘i⁄
* 
c⁄
, 
tŸÆ_timeout
, 
óch_timeout
 = 0);

56 
ªadlöe
(
C⁄√˘i⁄
* 
c⁄
, * 
buf
, c⁄° 
size_t
 
cou¡
,

57 
timeout
);

65 
	gãm∂©e
 <
˛ass
 
	gT
>

66 
sw≠C⁄√˘i⁄
(
T
& 
a
, T& 
b
)

68 
C⁄√˘i⁄
* 
	gt
 = 
a
.
c⁄√˘i⁄
();

69 
	ga
.
£tC⁄√˘i⁄
(
b
.
c⁄√˘i⁄
());

70 
	gb
.
£tC⁄√˘i⁄
(
t
);

	@processors/laser/urg-0.8.18/include/cpp/Coordinate.h

1 #i‚de‡
QRC_COORDINATE_H


2 
	#QRC_COORDINATE_H


	)

13 
	~"Posôi⁄.h
"

14 
	~<£t
>

15 
	~<mem‹y
>

18 
«me•a˚
 
	gqrk


23 ˛as†
	cCo‹dö©e


25 
	gpublic
:

26 
Co‹dö©e
();

27 
	gvútuÆ
 ~
Co‹dö©e
();

33 
Co‹dö©e
* 
roŸ
();

44 
£tOrigöTo
(
Co‹dö©e
* 
∑ª¡
, c⁄° 
Posôi⁄
<>& 
posôi⁄
);

52 
Co‹dö©e
* 
∑ª¡
() const;

60 
	g°d
::
£t
<
Co‹dö©e
*> 
chûdªn
() const;

71 
	gPosôi⁄
<> 
off£t
(c⁄° 
Co‹dö©e
* 
chûd
) const;

81 
	gPosôi⁄
<> 
poötPosôi⁄
(c⁄° 
Co‹dö©e
* 
co‹dö©e
,

82 c⁄° 
Posôi⁄
<>& 
posôi⁄
) const;

84 
	g¥Ÿe˘ed
:

88 
vútuÆ
 
bef‹eEvÆu©e
()

92 
¥iv©e
:

93 
Co‹dö©e
(Co‹dö©e* 
∑ª¡
);

94 
Co‹dö©e
(c⁄° Co‹dö©e& 
rhs
);

95 
	gCo‹dö©e
& 
	g›î©‹
 = (c⁄° 
Co‹dö©e
& 
rhs
);

97 
	gpIm∂
;

98 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/include/cpp/DetectOS.h

1 #i‚de‡
QRK_DETECT_OS_H


2 
	#QRK_DETECT_OS_H


	)

13 #i‡
deföed
 
_MSC_VER
 || deföed 
__CYGWIN__
 || deföed 
__MINGW32__


14 
	#WINDOWS_OS


	)

16 #i‡
deföed
 
_MSC_VER


17 
	#MSC


	)

18 #ñi‡
deföed
 
__CYGWIN__


19 
	#Cygwö


	)

20 #ñi‡
deföed
 
__MINGW32__


21 
	#MöGW


	)

24 #ñi‡
deföed
 
__löux__


25 
	#LINUX_OS


	)

29 
	#MAC_OS


	)

	@processors/laser/urg-0.8.18/include/cpp/DeviceIpManager.h

1 #i‚de‡
QRK_DEVICE_IP_MANAGER_H


2 
	#QRK_DEVICE_IP_MANAGER_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


21 ˛as†
	cDevi˚IpM™agî


23 
Devi˚IpM™agî
();

24 
Devi˚IpM™agî
(c⁄° Devi˚IpM™agî& 
rhs
);

25 
	gDevi˚IpM™agî
& 
	g›î©‹
 = (c⁄° 
Devi˚IpM™agî
& 
rhs
);

27 
	gpIm∂
;

28 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

30 
	gpublic
:

31 ~
Devi˚IpM™agî
();

32 
Devi˚IpM™agî
* 
obje˘
();

34 
¸óãIpP‹t
(c⁄° * 
devi˚
, 
sub_id
 = 0);

	@processors/laser/urg-0.8.18/include/cpp/DeviceServer.h

1 #i‚de‡
QRK_DEVICE_SERVER_H


2 
	#QRK_DEVICE_SERVER_H


	)

13 
«me•a˚
 
	gqrk


18 ˛as†
	cDevi˚Sîvî


20 
	gpublic
:

21 
vútuÆ
 ~
Devi˚Sîvî
()

25 
vútuÆ
 
boﬁ
 
a˘iv©e
(
p‹t
) = 0;

27 
vútuÆ
 
upd©eI¡îvÆ
() = 0;

29 
vútuÆ
 
upd©e
() = 0;

	@processors/laser/urg-0.8.18/include/cpp/FindComPorts.h

1 #i‚de‡
QRK_FIND_COM_PORTS_H


2 
	#QRK_FIND_COM_PORTS_H


	)

15 
	~<°rög
>

16 
	~<ve˘‹
>

17 
	~<mem‹y
>

20 
«me•a˚
 
	gqrk


28 ˛as†
	cFödComP‹ts


30 
	gpublic
:

31 
FödComP‹ts
();

32 ~
FödComP‹ts
();

38 
˛órBa£Names
();

46 
addBa£Name
(c⁄° * 
ba£_«me
);

56 
	g°d
::
ve˘‹
<
°d
::
°rög
> 
ba£Names
();

59 
addDrivîName
(c⁄° * 
drivî_«me
);

70 
size_t
 
föd
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
, 
boﬁ
 
Æl_p‹ts
 = 
åue
);

72 
size_t
 
föd
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
,

73 
°d
::
ve˘‹
<°d::
°rög
>& 
drivî_«mes
, 
boﬁ
 
Æl_p‹ts
 = 
åue
);

75 
	g¥iv©e
:

76 
FödComP‹ts
(c⁄° FödComP‹ts& 
rhs
);

77 
	gFödComP‹ts
& 
	g›î©‹
 = (c⁄° 
FödComP‹ts
& 
rhs
);

79 
	gpIm∂
;

80 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/include/cpp/IsUsbCom.h

1 #i‚de‡
QRK_IS_USB_COM_H


2 
	#QRK_IS_USB_COM_H


	)

13 
	~<ve˘‹
>

14 
	~<°rög
>

17 
«me•a˚
 
	gqrk


20 ˛as†
	cIsUsbCom
 {

21 
	gpublic
:

22 
vútuÆ
 ~
IsUsbCom
() {

33 
vútuÆ
 
°d
::
ve˘‹
<°d::
°rög
> 
ba£Names
() const

35 
°d
::
ve˘‹
<°d::
°rög
> 
dummy
;

36  
	gdummy
;

47 
vútuÆ
 
	g°d
::
ve˘‹
<
°d
::
°rög
> 
usbDrivîs
() const

49 
°d
::
ve˘‹
<°d::
°rög
> 
dummy
;

50  
	gdummy
;

	@processors/laser/urg-0.8.18/include/cpp/Lock.h

1 #i‚de‡
QRK_LOCK_H


2 
	#QRK_LOCK_H


	)

13 
	~"C⁄dôi⁄V¨übÀ.h
"

14 
	~<c°ddef
>

17 
«me•a˚
 
	gqrk


22 ˛as†
	cLock
 {

24 
‰õnd
 
˛ass
 
	gC⁄dôi⁄ÆV¨übÀ
;

25 
‰õnd
 
boﬁ
 
	gC⁄dôi⁄V¨übÀ
::
waô
(
Lock
* 
lock
, 
timeout
);

27 
Lock
(c⁄° Lock& 
rhs
);

28 
	gLock
& 
	g›î©‹
 = (c⁄° 
Lock
& 
rhs
);

34 
	gpIm∂
;

35 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

37 
	gpublic
:

38 
Lock
();

39 ~
Lock
();

45 
lock
();

51 
boﬁ
 
åyLock
();

57 
u∆ock
();

	@processors/laser/urg-0.8.18/include/cpp/LockGuard.h

1 #i‚de‡
QRK_LOCK_GUARD_H


2 
	#QRK_LOCK_GUARD_H


	)

13 
	~<mem‹y
>

14 
	~<c°ddef
>

17 
«me•a˚
 
	gqrk


19 
˛ass
 
	gLock
;

24 ˛as†
	cLockGu¨d


26 
LockGu¨d
();

27 
LockGu¨d
(c⁄° LockGu¨d& 
rhs
);

28 
	gLockGu¨d
& 
	g›î©‹
 = (c⁄° 
LockGu¨d
& 
rhs
);

33 
	gpIm∂
;

34 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

36 
	gpublic
:

42 
ex∂icô
 
LockGu¨d
(
qrk
::
Lock
& 
muãx
);

43 ~
LockGu¨d
();

	@processors/laser/urg-0.8.18/include/cpp/LogNameHolder.h

1 #i‚de‡
QRK_LOG_NAME_HOLDER_H


2 
	#QRK_LOG_NAME_HOLDER_H


	)

13 
	~<mem‹y
>

14 
	~<°rög
>

17 
«me•a˚
 
	gqrk


22 ˛as†
	cLogNameHﬁdî


24 
LogNameHﬁdî
();

25 
LogNameHﬁdî
(c⁄° LogNameHﬁdî& 
rhs
);

26 
	gLogNameHﬁdî
& 
	g›î©‹
 = (c⁄° 
LogNameHﬁdî
& 
rhs
);

28 
	gpIm∂
;

29 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

31 
	gpublic
:

32 ~
LogNameHﬁdî
();

33 
LogNameHﬁdî
* 
obje˘
();

35 
	g°d
::
°rög
 
«me
(c⁄° * 
ba£Name
);

	@processors/laser/urg-0.8.18/include/cpp/MathUtils.h

1 #i‚de‡
QRK_MATH_UTILS_H


2 
	#QRK_MATH_UTILS_H


	)

13 
	~"Dëe˘OS.h
"

14 #i‡
deföed
(
WINDOWS_OS
)

15 
	#_USE_MATH_DEFINES


	)

17 
	~<m©h.h
>

20 #i‚de‡
M_PI


22 
	#M_PI
 3.14159265358979323846

	)

25 #i‡
deföed
(
MSC
)

26 
Ãöt
(
x
);

	@processors/laser/urg-0.8.18/include/cpp/MonitorDataHandler.h

1 #i‚de‡
QRK_MONITOR_DATA_HANDLER_H


2 
	#QRK_MONITOR_DATA_HANDLER_H


	)

13 
	~"M⁄ô‹ModeM™agî.h
"

14 
	~"Dëe˘OS.h
"

15 
	~<°rög
>

17 #ifde‡
MSC


18 
	#¢¥ötf
 
_¢¥ötf


	)

22 
«me•a˚
 
	gqrk


34 ˛as†
	cM⁄ô‹D©aH™dÀr


36 
M⁄ô‹D©aH™dÀr
();

37 
M⁄ô‹D©aH™dÀr
(c⁄° M⁄ô‹D©aH™dÀr& 
rhs
);

38 
	gM⁄ô‹D©aH™dÀr
& 
	g›î©‹
 = (c⁄° 
M⁄ô‹D©aH™dÀr
& 
rhs
);

40 
	gpIm∂
;

41 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

43 
	gpublic
:

44 
ex∂icô
 
M⁄ô‹D©aH™dÀr
(
°d
::
°rög
 
fûe
,

45 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode
);

46 ~
M⁄ô‹D©aH™dÀr
();

48 
„tch
(* 
d©a
, 
size
, c⁄° * 
commít
 = 
NULL
);

53 
„tch
(
°d
::
°rög
& 
d©a
, c⁄° * 
commít
 = 
NULL
);

54 
„tch
(
boﬁ
& 
d©a
, c⁄° * 
commít
 = 
NULL
);

55 
„tch
(& 
d©a
, c⁄° * 
commít
 = 
NULL
);

56 
„tch
(& 
d©a
, c⁄° * 
commít
 = 
NULL
);

57 
„tch
(& 
d©a
, c⁄° * 
commít
 = 
NULL
);

58 
„tch
(& 
d©a
, c⁄° * 
commít
 = 
NULL
);

	@processors/laser/urg-0.8.18/include/cpp/MonitorEventScheduler.h

1 #i‚de‡
QRK_MONITOR_EVENT_SCHEDULER_H


2 
	#QRK_MONITOR_EVENT_SCHEDULER_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


18 
˛ass
 
	gC⁄dôi⁄V¨übÀ
;

19 
˛ass
 
	gDevi˚Sîvî
;

20 
˛ass
 
	gLock
;

26 ˛as†
	cM⁄ô‹EvítScheduÀr


28 
M⁄ô‹EvítScheduÀr
();

29 
M⁄ô‹EvítScheduÀr
(c⁄° M⁄ô‹EvítScheduÀr& 
rhs
);

30 
	gM⁄ô‹EvítScheduÀr
& 
	g›î©‹
 = (c⁄° 
M⁄ô‹EvítScheduÀr
& 
rhs
);

32 
	gpIm∂
;

33 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

35 
	gpublic
:

36 ~
M⁄ô‹EvítScheduÀr
();

37 
M⁄ô‹EvítScheduÀr
* 
obje˘
();

39 
ãrmö©e
();

41 
ªgi°îWakeupTicks
(
C⁄dôi⁄V¨übÀ
* 
c⁄dôi⁄
, 
ticks
);

42 
ªgi°îDevi˚Sîvî
(
Devi˚Sîvî
* 
devi˚
);

	@processors/laser/urg-0.8.18/include/cpp/MonitorModeManager.h

1 #i‚de‡
QRK_MONITOR_MODE_MANAGER_H


2 
	#QRK_MONITOR_MODE_MANAGER_H


	)

13 
	~<mem‹y
>

21 
«me•a˚
 
	gqrk


23 ˛as†
	cM⁄ô‹ModeM™agî


25 
M⁄ô‹ModeM™agî
();

26 
M⁄ô‹ModeM™agî
(c⁄° M⁄ô‹ModeM™agî& 
rhs
);

27 
	gM⁄ô‹ModeM™agî
& 
	g›î©‹
 = (c⁄° 
M⁄ô‹ModeM™agî
& 
rhs
);

29 
	gpIm∂
;

30 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

32 
	gpublic
:

36 
Undeföed
,

37 
	gRec‹d
,

38 
	gPœy
,

39 
	gSimuœti⁄
,

40 } 
	tM⁄ô‹Mode
;

42 ~
M⁄ô‹ModeM™agî
();

43 
M⁄ô‹ModeM™agî
* 
obje˘
();

45 
£tMode
(
¨gc
, * 
¨gv
[]);

46 
M⁄ô‹Mode
 
mode
();

	@processors/laser/urg-0.8.18/include/cpp/Point.h

1 #i‚de‡
QRK_POINT_H


2 
	#QRK_POINT_H


	)

13 
«me•a˚
 
	gqrk


18 
	gãm∂©e
 <
ty≥«me
 
	gT
>

19 ˛as†
	cPoöt


21 
	gpublic
:

22 
T
 
x
;

23 
T
 
	gy
;

26 
Poöt
(Ë: 
x
(0), 
y
(0)

31 
Poöt
(
T
 
x_
, T 
y_
Ë: 
x
(x_), 
y
(y_)

36 
boﬁ
 
	g›î©‹
 =(c⁄° 
Poöt
<
T
>& 
rhs
) const

38  ((
this
->
x
 =
rhs
.xË&& (this->
y
 =rhs.y)Ë? 
åue
 : 
Ál£
;

42 
boﬁ
 
	g›î©‹
 < (c⁄° 
	gPoöt
<
	gT
>& 
	grhs
) const

44 i‡(
	gy
 < 
	grhs
.y) {

45  
	gåue
;

47 } i‡(
	gx
 < 
	grhs
.x) {

48  
	gåue
;

51  
	gÁl£
;

56 
	gPoöt
<
	gT
>& 
	g›î©‹
 +(c⁄° 
Poöt
<
T
>& 
rhs
)

58 
this
->
x
 +
rhs
.x;

59 
	gthis
->
	gy
 +
rhs
.
y
;

61  *
	gthis
;

65 c⁄° 
	gPoöt
<
	gT
> 
	g›î©‹
 + (c⁄° Poöt<T>& 
	grhs
) const

67  
	gPoöt
<
	gT
>(*
	gthis
Ë+
rhs
;

71 
	gPoöt
<
	gT
>& 
	g›î©‹
 -(c⁄° 
Poöt
<
T
>& 
rhs
)

73 
this
->
x
 -
rhs
.x;

74 
	gthis
->
	gy
 -
rhs
.
y
;

76  *
	gthis
;

80 c⁄° 
	gPoöt
<
	gT
> 
	g›î©‹
 - (c⁄° Poöt<T>& 
	grhs
) const

82  
	gPoöt
<
	gT
>(*
	gthis
Ë-
rhs
;

86 
	gPoöt
<
	gT
>& 
	g›î©‹
 *(c⁄° & 
rhs
)

88 
this
->
x
 = 
°©ic_ˇ°
<
T
>—his->x * 
rhs
);

89 
	gthis
->
	gy
 = 
°©ic_ˇ°
<
T
>(
this
->
y
 * 
rhs
);

91  *
	gthis
;

95 
	gPoöt
<
	gT
> 
	g›î©‹
 * (c⁄° & 
	grhs
) const

97  
	gPoöt
<
	gT
>(*
	gthis
Ë*
rhs
;

101 
‰õnd
 c⁄° 
	gPoöt
<
	gT
> 
	g›î©‹
 * (c⁄° 
	glhs
, c⁄° Poöt<T>& 
	grhs
)

103  
	gPoöt
<
	gT
>(
	grhs
Ë*
lhs
;

	@processors/laser/urg-0.8.18/include/cpp/Position.h

1 #i‚de‡
QRK_POSITION_H


2 
	#QRK_POSITION_H


	)

15 
	~"AngÀ.h
"

16 
	~<io°ªam
>

19 
«me•a˚
 
	gqrk


24 
	gãm∂©e
<
˛ass
 
	gT
>

25 ˛as†
	cPosôi⁄


27 
	gpublic
:

28 
T
 
x
;

29 
T
 
	gy
;

30 
AngÀ
 
	g™gÀ
;

33 
Posôi⁄
(Ë: 
x
(0), 
y
(0)

38 
Posôi⁄
(c⁄° Posôi⁄& 
rhs
Ë: 
x
‘hs.x), 
y
‘hs.y), 
™gÀ
(rhs.angle)

43 
Posôi⁄
(
T
 
x_
, T 
y_
, c⁄° 
AngÀ
& 
™gÀ_
Ë: 
x
(x_), 
y
(y_), 
™gÀ
(angle_)

48 
to_deg
() const

50  
	g™gÀ
.
to_deg
();

54 
to_ød
() const

56  
	g™gÀ
.
to_ød
();

60 
boﬁ
 
	g›î©‹
 =(c⁄° 
Posôi⁄
& 
rhs
) const

62 i‡((
this
->
x
 =
rhs
.xË&& (this->
y
 ==Ñhs.y) &&

63 (
this
->
™gÀ
.
to_ød
(Ë=
rhs
.angle.to_rad())) {

64  
åue
;

66  
	gÁl£
;

71 
	gPosôi⁄
& 
	g›î©‹
 = (c⁄° 
Posôi⁄
<
T
>& 
rhs
)

73 
this
->
x
 = 
rhs
.x;

74 
	gthis
->
	gy
 = 
rhs
.
y
;

75 
	gthis
->
	g™gÀ
 = 
rhs
.
™gÀ
;

77  *
	gthis
;

80 
	gPosôi⁄
<
	gT
>& 
	g›î©‹
 +(c⁄° 
Posôi⁄
<
T
>& 
rhs
)

82 
this
->
x
 +
rhs
.x;

83 
	gthis
->
	gy
 +
rhs
.
y
;

84 
	gthis
->
	g™gÀ
 +
rhs
.
™gÀ
;

86  *
	gthis
;

90 c⁄° 
	gPosôi⁄
<
	gT
> 
	g›î©‹
 + (c⁄° Posôi⁄<T>& 
	grhs
) const

92  
	gPosôi⁄
<
	gT
>(*
	gthis
Ë+
rhs
;

96 
	gPosôi⁄
<
	gT
>& 
	g›î©‹
 -(c⁄° 
Posôi⁄
<
T
>& 
rhs
)

98 
this
->
x
 -
rhs
.x;

99 
	gthis
->
	gy
 -
rhs
.
y
;

100 
	gthis
->
	g™gÀ
 -
rhs
.
™gÀ
;

102  *
	gthis
;

106 c⁄° 
	gPosôi⁄
<
	gT
> 
	g›î©‹
 - (c⁄° Posôi⁄<T>& 
	grhs
) const

108  
	gPosôi⁄
<
	gT
>(*
	gthis
Ë-
rhs
;

112 
	gPosôi⁄
<
	gT
>& 
	g›î©‹
 *(c⁄° 
T
& 
rhs
)

114 
this
->
x
 *
rhs
;

115 
	gthis
->
	gy
 *
rhs
;

116 
	gthis
->
	g™gÀ
 *
rhs
;

118  *
	gthis
;

122 
	gPosôi⁄
<
	gT
> 
	g›î©‹
 * (c⁄° T& 
	grhs
) const

124 
	gPosôi⁄
<
	gT
> 
ªt
(*
this
);

125  
	gªt
 *
rhs
;

129 
‰õnd
 c⁄° 
	gPosôi⁄
<
	gT
> 
	g›î©‹
 * (c⁄° T& 
	glhs
,

130 c⁄° 
	gPosôi⁄
<
	gT
>& 
	grhs
)

132  
	gPosôi⁄
<
	gT
>(
	grhs
Ë* 
	glhs
;

136 
‰õnd
 
	g°d
::
o°ªam
& 
›î©‹
 << (
°d
::o°ªam& 
out
,

137 c⁄° 
	gPosôi⁄
<
	gT
>& 
	grhs
)

139 
	gout
 << '(' << 
	grhs
.
	gx
 << ", " <<Ñhs.
	gy


140 << ", deg(" << 
	grhs
.
	g™gÀ
.
to_deg
() << "))";

142  
	gout
;

	@processors/laser/urg-0.8.18/include/cpp/RangeCaptureMode.h

1 #i‚de‡
QRK_RANGE_CAPTURE_MODE_H


2 
	#QRK_RANGE_CAPTURE_MODE_H


	)

13 
«me•a˚
 
	gqrk


25 
	gM™uÆC≠tuª
,

26 
	gAutoC≠tuª
,

27 
	gI¡ísôyC≠tuª
,

28 } 
	tR™geC≠tuªMode
;

	@processors/laser/urg-0.8.18/include/cpp/RangeSensor.h

1 #i‚de‡
QRK_RANGE_SENSOR_H


2 
	#QRK_RANGE_SENSOR_H


	)

13 
	~"R™geC≠tuªMode.h
"

14 
	~"M©hUtûs.h
"

15 
	~<ve˘‹
>

16 
	~<°rög
>

19 
«me•a˚
 
	gqrk


21 
˛ass
 
	gC⁄√˘i⁄
;

22 
˛ass
 
	gR™geSís‹P¨amëî
;

26 ˛as†
	cR™geSís‹


28 
	gpublic
:

29 
vútuÆ
 ~
R™geSís‹
() {}

46 
vútuÆ
 c⁄° * 
wh©
() const = 0;

70 
vútuÆ
 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
) = 0;

78 
vútuÆ
 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
) = 0;

86 
vútuÆ
 
C⁄√˘i⁄
* 
c⁄√˘i⁄
() = 0;

92 
vútuÆ
 
disc⁄√˘
() = 0;

101 
vútuÆ
 
boﬁ
 
isC⁄√˘ed
() const = 0;

109 
vútuÆ
 
möDi°™˚
() const = 0;

117 
vútuÆ
 
maxDi°™˚
() const = 0;

125 
vútuÆ
 
maxSˇnLöes
() const = 0;

127 
vútuÆ
 
sˇnM£c
() const = 0;

129 
vútuÆ
 
£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
) = 0;

130 
vútuÆ
 
R™geC≠tuªMode
 
ˇ±uªMode
() = 0;

144 
vútuÆ
 
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
) = 0;

147 
vútuÆ
 
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

148 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

149 * 
time°amp
) = 0;

164 
vútuÆ
 
boﬁ
 
£tTime°amp
(
time°amp
 = 0, * 
ª•⁄£_m£c
 = 
NULL
,

165 * 
f‹˚_dñay_m£c
 = 
NULL
) = 0;

173 
vútuÆ
 
ª˚¡Time°amp
() const

179 
vútuÆ
 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
) = 0;

195 
vútuÆ
 
ödex2ød
(c⁄° 
ödex
) const = 0;

211 
ödex2deg
(c⁄° 
ödex
) const

213  
	g°©ic_ˇ°
<>(
Êo‹
((180.0 * 
ödex2ød
(
ödex
Ë/ 
M_PI
) + 0.5));

228 
vútuÆ
 
ød2ödex
(c⁄° 
ødün
) const = 0;

242 
deg2ödex
(c⁄° 
degªe
) const

244  
ød2ödex
(
degªe
 * 
M_PI
 / 180.0);

253 
vútuÆ
 
£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
) = 0;

261 
vútuÆ
 
R™geSís‹P¨amëî
 
∑ømëî
() const = 0;

	@processors/laser/urg-0.8.18/include/cpp/RangeSensorParameter.h

1 #i‚de‡
QRK_RANGE_SENSOR_PARAMETER_H


2 
	#QRK_RANGE_SENSOR_PARAMETER_H


	)

13 
	~<°rög
>

16 
«me•a˚
 
	gqrk


19 ˛as†
	cR™geSís‹P¨amëî


21 
	gpublic
:

23 
MODL
 = 0,

24 
	gDMIN
,

25 
	gDMAX
,

26 
	gARES
,

27 
	gAMIN
,

28 
	gAMAX
,

29 
	gAFRT
,

30 
	gSCAN
,

33 
	g°d
::
°rög
 
modñ
;

34 
	gdi°™˚_mö
;

35 
	gdi°™˚_max
;

36 
	g¨ó_tŸÆ
;

37 
	g¨ó_mö
;

38 
	g¨ó_max
;

39 
	g¨ó_‰⁄t
;

40 
	gsˇn_Ωm
;

42 
R™geSís‹P¨amëî
()

43 : 
modñ
(""), 
di°™˚_mö
(0), 
di°™˚_max
(0), 
¨ó_tŸÆ
(0),

44 
¨ó_mö
(0), 
¨ó_max
(0), 
¨ó_‰⁄t
(0), 
sˇn_Ωm
(600)

	@processors/laser/urg-0.8.18/include/cpp/RingBuffer.h

1 #i‚de‡
QRK_RING_BUFFER_H


2 
	#QRK_RING_BUFFER_H


	)

13 
	~<deque
>

16 
«me•a˚
 
	gqrk


19 
	gãm∂©e
 <
˛ass
 
	gT
>

20 ˛as†
	cRögBuf„r


22 
	gpublic
:

23 
ex∂icô
 
RögBuf„r
()

31 
size_t
 
size
()

33  
rög_buf„r_
.
size
();

43 
boﬁ
 
em±y
()

45  
	grög_buf„r_
.
em±y
();

55 
put
(c⁄° 
T
* 
d©a
, 
size_t
 
size
)

57 c⁄° 
T
* 
	gœ°_p
 = 
d©a
 + 
size
;

58 
	grög_buf„r_
.
ö£π
(
rög_buf„r_
.
íd
(), 
d©a
, 
œ°_p
);

70 
size_t
 
gë
(
T
* 
d©a
, size_à
size
)

72 
size_t
 
	gn
 = 
°d
::
mö
(
size
, 
rög_buf„r_
.size());

73 
	g°d
::
c›y
(
rög_buf„r_
.
begö
(),Ñög_buf„r_.begö(Ë+ 
n
, 
d©a
);

74 
	grög_buf„r_
.
îa£
(
rög_buf„r_
.
begö
(),Ñög_buf„r_.begö(Ë+ 
n
);

75  
	gn
;

84 
ungëc
(c⁄° 
T
 
ch
)

86 
	grög_buf„r_
.
push_‰⁄t
(
ch
);

93 
˛ór
()

95 
	grög_buf„r_
.
˛ór
();

99 
	g¥iv©e
:

100 
RögBuf„r
(c⁄° RögBuf„r& 
rhs
);

101 
	gRögBuf„r
& 
	g›î©‹
 = (c⁄° 
RögBuf„r
& 
rhs
);

103 
	g°d
::
deque
<
T
> 
rög_buf„r_
;

	@processors/laser/urg-0.8.18/include/cpp/Semaphore.h

1 #i‚de‡
QRK_SEMAPHORE_H


2 
	#QRK_SEMAPHORE_H


	)

15 
	~<mem‹y
>

16 
	~<c°ddef
>

19 
«me•a˚
 
	gqrk


24 ˛as†
	cSem≠h‹e


26 
Sem≠h‹e
();

27 
Sem≠h‹e
(c⁄° Sem≠h‹e& 
rhs
);

28 
	gSem≠h‹e
& 
	g›î©‹
 = (c⁄° 
Sem≠h‹e
& 
rhs
);

30 
	gpIm∂
;

31 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

33 
	gpublic
:

39 
ex∂icô
 
Sem≠h‹e
(
size_t
 
öôül_vÆue
);

40 ~
Sem≠h‹e
();

48 
waô
();

59 
boﬁ
 
åyWaô
();

67 
po°
();

75 
size_t
 
vÆue
();

	@processors/laser/urg-0.8.18/include/cpp/SerialDevice.h

1 #i‚de‡
QRK_SERIAL_DEVICE_H


2 
	#QRK_SERIAL_DEVICE_H


	)

13 
	~"C⁄√˘i⁄.h
"

14 
	~<mem‹y
>

17 
«me•a˚
 
	gqrk


20 ˛as†
	cSîülDevi˚
 : 
public
 
C⁄√˘i⁄


22 
public
:

24 
DeÁu…Baudøã
 = 115200,

26 
SîülDevi˚
();

27 ~
SîülDevi˚
();

29 c⁄° * 
wh©
() const;

31 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
 = 
DeÁu…Baudøã
);

32 
disc⁄√˘
();

33 
boﬁ
 
£tBaudøã
(
baudøã
);

34 
baudøã
() const;

35 
boﬁ
 
isC⁄√˘ed
() const;

36 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
);

37 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
);

38 
size_t
 
size
() const;

39 
Êush
();

40 
˛ór
();

41 
ungëc
(c⁄° 
ch
);

43 
	g¥iv©e
:

44 
SîülDevi˚
(c⁄° SîülDevi˚& 
rhs
);

45 
	gSîülDevi˚
& 
	g›î©‹
 = (c⁄° 
SîülDevi˚
& 
rhs
);

47 
	gpIm∂
;

48 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/include/cpp/TcpipSocket.h

1 #i‚de‡
QRK_TCPIP_SOCKET_H


2 
	#QRK_TCPIP_SOCKET_H


	)

13 
	~"C⁄√˘i⁄.h
"

14 
	~<°rög
>

15 
	~<mem‹y
>

18 
«me•a˚
 
	gqrk


20 
˛ass
 
	gSockëSë
;

24 ˛as†
	cT˝ùSockë
 : 
public
 
C⁄√˘i⁄


26 
public
:

27 
T˝ùSockë
();

35 
T˝ùSockë
(* 
sockë
);

44 
T˝ùSockë
(
SockëSë
* 
sockë_£t
, * 
sockë
 = 
NULL
);

46 ~
T˝ùSockë
();

48 c⁄° * 
wh©
() const;

50 
boﬁ
 
c⁄√˘
(c⁄° * 
ho°
, 
p‹t
);

51 
disc⁄√˘
();

52 
boﬁ
 
£tBaudøã
(
baudøã
);

53 
baudøã
() const;

54 
boﬁ
 
isC⁄√˘ed
() const;

55 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
);

56 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
);

57 
size_t
 
size
() const;

58 
Êush
();

59 
˛ór
();

60 
ungëc
(c⁄° 
ch
);

62 
	g¥iv©e
:

63 
T˝ùSockë
(c⁄° T˝ùSockë& 
rhs
);

64 
	gT˝ùSockë
& 
	g›î©‹
 = (c⁄° 
T˝ùSockë
& 
rhs
);

66 
	gpIm∂
;

67 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/include/cpp/Thread.h

1 #i‚de‡
QRK_THREAD_H


2 
	#QRK_THREAD_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


21 ˛as†
	cThªad


23 
Thªad
();

24 
Thªad
(c⁄° Thªad& 
rhs
);

25 
	gThªad
& 
	g›î©‹
 = (c⁄° 
Thªad
& 
rhs
);

27 
	gpIm∂
;

28 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

30 
	gpublic
:

32 
Inföôy
 = -1,

41 
ex∂icô
 
Thªad
((*
‚
)(*), * 
¨gs
);

42 ~
Thªad
();

50 
run
(
times
 = 1);

56 
°›
();

64 
waô
();

73 
boﬁ
 
isRu¬ög
() const;

	@processors/laser/urg-0.8.18/include/cpp/UrgCtrl.h

1 #i‚de‡
URG_CTRL_H


2 
	#URG_CTRL_H


	)

13 
	~"R™geSís‹.h
"

14 
	~"Co‹dö©e.h
"

17 
«me•a˚
 
	gqrk


19 
˛ass
 
	gC⁄√˘i⁄
;

27 
˛ass
 
	gUrgCål
 : 
public
 
Co‹dö©e
,Öubli¯
	gR™geSís‹


29 
	gpublic
:

32 
DeÁu…Baudøã
 = 115200,

33 
	gDeÁu…RëryTimes
 = 8,

34 
	gInföôy
 = 0,

36 
	gOff
 = 0,

37 
	gOn
 = 1,

40 
UrgCål
();

41 
	gvútuÆ
 ~
UrgCål
();

43 c⁄° * 
wh©
() const;

45 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
 = 
DeÁu…Baudøã
);

46 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
);

47 
C⁄√˘i⁄
* 
c⁄√˘i⁄
();

48 
disc⁄√˘
();

49 
boﬁ
 
isC⁄√˘ed
() const;

51 
möDi°™˚
() const;

52 
maxDi°™˚
() const;

53 
maxSˇnLöes
() const;

56 
£tRëryTimes
(
size_t
 
times
);

57 
£tC≠tuªsSize
(
size_t
 
size
);

58 
sˇnM£c
() const;

59 
£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
);

60 
R™geC≠tuªMode
 
ˇ±uªMode
();

61 
£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
);

62 
£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
);

63 
£tC≠tuªTimes
(
size_t
 
times
);

64 
size_t
 
ªmaöC≠tuªTimes
();

65 
£tC≠tuªSkùLöes
(
size_t
 
skù_löes
);

66 
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
 = 
NULL
);

67 
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

68 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

69 * 
time°amp
 = 
NULL
);

70 
°›
();

71 
boﬁ
 
£tTime°amp
(
time°amp
 = 0, * 
ª•⁄£_m£c
 = 
NULL
,

72 * 
f‹˚_dñay_m£c
 = 
NULL
);

73 
ª˚¡Time°amp
() const;

74 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
);

76 
ödex2ød
(c⁄° 
ödex
) const;

77 
ød2ödex
(c⁄° 
ødün
) const;

78 
£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
);

79 
R™geSís‹P¨amëî
 
∑ømëî
() const;

80 
boﬁ
 
lﬂdP¨amëî
();

81 
boﬁ
 
vîsi⁄Löes
(
°d
::
ve˘‹
<°d::
°rög
>& 
löes
);

82 
boﬁ
 
ªboŸ
();

83 
boﬁ
 
ª£t
();

86 
	g¥Ÿe˘ed
:

87 
vútuÆ
 
ˇ±uªRe˚ived
();

90 
	g¥iv©e
:

91 
UrgCål
(c⁄° UrgCål& 
rhs
);

92 
	gUrgCål
& 
	g›î©‹
 = (c⁄° 
UrgCål
& 
rhs
);

94 
	gpIm∂
;

95 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/include/cpp/UrgDevice.h

1 #i‚de‡
QRK_URG_DEVICE_H


2 
	#QRK_URG_DEVICE_H


	)

13 
	~"R™geSís‹.h
"

14 
	~"Co‹dö©e.h
"

17 
«me•a˚
 
	gqrk


19 
˛ass
 
	gC⁄√˘i⁄
;

23 
˛ass
 
	gUrgDevi˚
 : 
public
 
Co‹dö©e
,Öubli¯
	gR™geSís‹


25 
	gpublic
:

29 
DeÁu…Baudøã
 = 115200,

30 
	gDeÁu…RëryTimes
 = 8,

31 
	gInföôy
 = 0,

33 
	gOff
 = 0,

34 
	gOn
 = 1,

37 
UrgDevi˚
();

38 
	gvútuÆ
 ~
UrgDevi˚
();

40 c⁄° * 
wh©
() const;

42 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
 = 
DeÁu…Baudøã
);

43 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
);

44 
C⁄√˘i⁄
* 
c⁄√˘i⁄
();

45 
disc⁄√˘
();

46 
boﬁ
 
isC⁄√˘ed
() const;

48 
möDi°™˚
() const;

49 
maxDi°™˚
() const;

50 
maxSˇnLöes
() const;

62 
£tRëryTimes
(
size_t
 
times
);

70 
£tC≠tuªsSize
(
size_t
 
size
);

78 
sˇnM£c
() const;

88 
£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
);

98 
R™geC≠tuªMode
 
ˇ±uªMode
();

109 
£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
);

120 
£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
);

133 
£tC≠tuªTimes
(
size_t
 
times
);

143 
size_t
 
ªmaöC≠tuªTimes
();

169 
£tC≠tuªSkùLöes
(
size_t
 
skù_löes
);

172 
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
 = 
NULL
);

180 
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

181 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

182 * 
time°amp
 = 
NULL
);

190 
°›
();

193 
boﬁ
 
£tTime°amp
(
time°amp
 = 0, * 
ª•⁄£_m£c
 = 
NULL
,

194 * 
f‹˚_dñay_m£c
 = 
NULL
);

196 
ª˚¡Time°amp
() const;

204 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
);

206 
ödex2ød
(c⁄° 
ödex
) const;

207 
ød2ödex
(c⁄° 
ødün
) const;

209 
£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
);

210 
R™geSís‹P¨amëî
 
∑ømëî
() const;

219 
boﬁ
 
lﬂdP¨amëî
();

233 
boﬁ
 
vîsi⁄Löes
(
°d
::
ve˘‹
<°d::
°rög
>& 
löes
);

241 
boﬁ
 
ªboŸ
();

244 
	g¥Ÿe˘ed
:

245 
vútuÆ
 
ˇ±uªRe˚ived
();

248 
	g¥iv©e
:

249 
UrgDevi˚
(c⁄° UrgDevi˚& 
rhs
);

250 
	gUrgDevi˚
& 
	g›î©‹
 = (c⁄° 
UrgDevi˚
& 
rhs
);

252 
	gpIm∂
;

253 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/include/cpp/UrgServer.h

1 #i‚de‡
QRK_URG_SERVER_H


2 
	#QRK_URG_SERVER_H


	)

13 
	~"Devi˚Sîvî.h
"

14 
	~<mem‹y
>

17 
«me•a˚
 
	gqrk


22 ˛as†
	cUrgSîvî
 : 
public
 
Devi˚Sîvî


24 
UrgSîvî
(c⁄° UrgSîvî& 
rhs
);

25 
	gUrgSîvî
& 
	g›î©‹
 = (c⁄° 
UrgSîvî
& 
rhs
);

27 
	gpIm∂
;

28 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

30 
	gpublic
:

31 
UrgSîvî
();

32 ~
UrgSîvî
();

34 
boﬁ
 
a˘iv©e
(
p‹t
);

35 
upd©eI¡îvÆ
();

36 
upd©e
();

	@processors/laser/urg-0.8.18/include/cpp/UrgUsbCom.h

1 #i‚de‡
QRK_URG_USB_COM_H


2 
	#QRK_URG_USB_COM_H


	)

13 
	~"IsUsbCom.h
"

16 
«me•a˚
 
	gqrk


19 ˛as†
	cUrgUsbCom
 : 
public
 
IsUsbCom


21 
public
:

22 
UrgUsbCom
();

24 
	g°d
::
ve˘‹
<
°d
::
°rög
> 
ba£Names
();

25 
boﬁ
 
isUsbCom
(c⁄° * 
com_p‹t
);

27 
	g¥iv©e
:

28 
UrgUsbCom
(c⁄° UrgUsbCom& 
rhs
);

29 
	gUrgUsbCom
& 
	g›î©‹
 = (c⁄° 
UrgUsbCom
& 
rhs
);

	@processors/laser/urg-0.8.18/include/cpp/UrgUtils.h

1 #i‚de‡
QRK_URG_UTILS_H


2 
	#QRK_URG_UTILS_H


	)

13 
	~<c°dlib
>

16 
«me•a˚
 
	gqrk


26 
	gãm∂©e
 <
˛ass
 
	gT
>

27 
urgSîülId
(
T
* 
urg
)

29 
	g°d
::
ve˘‹
<
°d
::
°rög
> 
vîsi⁄_löes
;

30 i‡(! 
	gurg
->
vîsi⁄Löes
(
vîsi⁄_löes
)) {

33 i‡(
	gvîsi⁄_löes
.
size
() < 5) {

37 
	g°d
::
°rög
& 
£rül_löe
 = 
vîsi⁄_löes
[4];

38 i‡(
	g£rül_löe
.
size
() < 7) {

41  
©ﬁ
(
£rül_löe
.
sub°r
(6).
c_°r
());

	@processors/laser/urg-0.8.18/include/cpp/delay.h

1 #i‚de‡
QRK_DELAY_H


2 
	#QRK_DELAY_H


	)

15 
«me•a˚
 
	gqrk


22 
dñay
(
m£c
);

	@processors/laser/urg-0.8.18/include/cpp/findUrgPorts.h

1 #i‚de‡
QRK_FIND_URG_PORTS_H


2 
	#QRK_FIND_URG_PORTS_H


	)

13 
	~<ve˘‹
>

14 
	~<°rög
>

17 
«me•a˚
 
	gqrk


31 
size_t
 
födUrgP‹ts
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
);

	@processors/laser/urg-0.8.18/include/cpp/isUsingComDriver.h

1 #i‚de‡
QRK_IS_USING_COM_DRIVER_H


2 
	#QRK_IS_USING_COM_DRIVER_H


	)

13 
«me•a˚
 
	gqrk


27 
boﬁ
 
isUsögComDrivî
(c⁄° * 
com_p‹t
, c⁄° * 
drivî_«me
);

	@processors/laser/urg-0.8.18/include/cpp/log_printf.h

1 #i‚de‡
QRK_LOG_PRINTF_H


2 
	#QRK_LOG_PRINTF_H


	)

13 
«me•a˚
 
	gqrk


20 
log_¥ötf
(c⁄° *
f‹m©
, ...);

28 
log_£tName
(c⁄° * 
fûe_«me
);

	@processors/laser/urg-0.8.18/include/cpp/mConnection.h

1 #i‚de‡
QRK_M_CONNECTION_H


2 
	#QRK_M_CONNECTION_H


	)

13 
	~"C⁄√˘i⁄.h
"

14 
	~<mem‹y
>

17 
«me•a˚
 
	gqrk


22 ˛as†
	cmC⁄√˘i⁄
 : 
public
 
C⁄√˘i⁄


24 
mC⁄√˘i⁄
();

25 
mC⁄√˘i⁄
(c⁄° mC⁄√˘i⁄& 
rhs
);

26 
	gmC⁄√˘i⁄
& 
	g›î©‹
 = (c⁄° 
mC⁄√˘i⁄
& 
rhs
);

28 
	gpIm∂
;

29 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

31 
	gpublic
:

32 
ex∂icô
 
mC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄√˘i⁄
);

33 ~
mC⁄√˘i⁄
();

35 c⁄° * 
wh©
() const;

37 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
);

38 
disc⁄√˘
();

39 
boﬁ
 
£tBaudøã
(
baudøã
);

40 
baudøã
() const;

41 
boﬁ
 
isC⁄√˘ed
() const;

42 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
);

43 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
);

44 
size_t
 
size
() const;

45 
Êush
();

46 
˛ór
();

47 
ungëc
(c⁄° 
ch
);

	@processors/laser/urg-0.8.18/include/cpp/mUrgDevice.h

1 #i‚de‡
QRK_M_URG_DEVICE_H


2 
	#QRK_M_URG_DEVICE_H


	)

13 
	~"UrgDevi˚.h
"

16 
«me•a˚
 
	gqrk


21 ˛as†
	cmUrgDevi˚
 : 
public
 
R™geSís‹


23 
mUrgDevi˚
();

24 
mUrgDevi˚
(c⁄° mUrgDevi˚& 
rhs
);

25 
	gmUrgDevi˚
& 
	g›î©‹
 = (c⁄° 
mUrgDevi˚
& 
rhs
);

27 
	gpIm∂
;

28 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

30 
	gpublic
:

35 
DeÁu…Baudøã
 = 115200,

36 
	gInföôy
 = 0,

83 
ex∂icô
 
mUrgDevi˚
(
¨gc
, *
¨gv
[]);

84 ~
mUrgDevi˚
();

86 c⁄° * 
wh©
() const;

88 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
 = 
DeÁu…Baudøã
);

89 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
);

90 
C⁄√˘i⁄
* 
c⁄√˘i⁄
();

91 
disc⁄√˘
();

92 
boﬁ
 
isC⁄√˘ed
() const;

94 
möDi°™˚
() const;

95 
maxDi°™˚
() const;

96 
maxSˇnLöes
() const;

98 
£tRëryTimes
(
size_t
 
times
);

100 
sˇnM£c
() const;

102 
£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
);

103 
R™geC≠tuªMode
 
ˇ±uªMode
();

105 
£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
);

106 
£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
);

107 
£tC≠tuªTimes
(
size_t
 
times
);

108 
size_t
 
ªmaöC≠tuªTimes
();

109 
£tC≠tuªSkùLöes
(
size_t
 
skù_löes
);

111 
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
 = 
NULL
);

112 
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

113 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

114 * 
time°amp
 = 
NULL
);

115 
°›
();

117 
boﬁ
 
£tTime°amp
(
ticks
 = 0, * 
ª•⁄£_m£c
 = 
NULL
,

118 * 
f‹˚_dñay_m£c
 = 
NULL
);

120 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
);

122 
ödex2ød
(c⁄° 
ödex
) const;

123 
ød2ödex
(c⁄° 
ødün
) const;

125 
£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
);

126 
R™geSís‹P¨amëî
 
∑ømëî
() const;

127 
boﬁ
 
lﬂdP¨amëî
();

129 
boﬁ
 
vîsi⁄Löes
(
°d
::
ve˘‹
<°d::
°rög
>& 
löes
);

131 
ªboŸ
();

	@processors/laser/urg-0.8.18/include/cpp/split.h

1 #i‚de‡
QRK_SPLIT_H


2 
	#QRK_SPLIT_H


	)

13 
	~<ve˘‹
>

14 
	~<°rög
>

17 
«me•a˚
 
	gqrk


29 
size_t
 
•lô
(
°d
::
ve˘‹
<°d::
°rög
>& 
tokís
,

30 c⁄° 
°d
::
°rög
& 
‹igöÆ
, c⁄° * 
•lô_∑âîn
 = " \t",

31 
boﬁ
 
c⁄töious_∑âîn
 = 
åue
);

	@processors/laser/urg-0.8.18/include/cpp/ticks.h

1 #i‚de‡
QRK_TICKS_H


2 
	#QRK_TICKS_H


	)

15 
«me•a˚
 
	gqrk


22 
ticks
();

	@processors/laser/urg-0.8.18/samples/c/capture_sample.c

11 
	~"urg_˘æ.h
"

12 
	~"dëe˘_os.h
"

13 
	~<°dio.h
>

14 
	~<°dlib.h
>

15 
	~<as£π.h
>

18 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

20 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

21 
	`urg_disc⁄√˘
(
urg
);

23 #ifde‡
MSC


24 
	`gëch¨
();

26 
	`exô
(1);

27 
	}
}

30 
	$¥ötD©a
(
urg_t
 *
urg
, 
urg_∑ømëî_t
 *
∑ømëî
, 
d©a
[])

35 
time°amp
 = 
	`urg_ª˚¡Time°amp
(
urg
);

39 
	`¥ötf
("%d: %ld [mm], %ld [msec]\n",

40 
∑ømëî
->
¨ó_‰⁄t_
, 
d©a
[∑ømëî->¨ó_‰⁄t_], 
time°amp
);

41 
	}
}

45 
	$maö
(
¨gc
, *
¨gv
[])

48 
C≠tuªTimes
 = 10,

51 #ifde‡
WINDOWS_OS


52 c⁄° 
devi˚
[] = "COM3";

54 c⁄° 
devi˚
[] = "/dev/ttyACM0";

57 
d©a_max
;

58 * 
d©a
;

59 
urg_∑ømëî_t
 
∑ømëî
;

60 
ªt
;

61 
n
;

62 
i
;

65 
urg_t
 
urg
;

66 
	`urg_öôülize
(&
urg
);

67 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

68 i‡(
ªt
 < 0) {

69 
	`urg_exô
(&
urg
, "urg_connect()");

73 
d©a_max
 = 
	`urg_d©aMax
(&
urg
);

74 
d©a
 = (*)
	`mÆloc
((Ë* 
d©a_max
);

75 i‡(
d©a
 =
NULL
) {

76 
	`≥º‹
("data buffer");

77 
	`exô
(1);

79 
	`urg_∑ømëîs
(&
urg
, &
∑ømëî
);

82 
	`¥ötf
("GD capture\n");

83 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

85 
ªt
 = 
	`urg_ªque°D©a
(&
urg
, 
URG_GD
, 
URG_FIRST
, 
URG_LAST
);

86 i‡(
ªt
 < 0) {

87 
	`urg_exô
(&
urg
, "urg_requestData()");

91 
n
 = 
	`urg_ª˚iveD©a
(&
urg
, 
d©a
, 
d©a_max
);

92 i‡(
n
 < 0) {

93 
	`urg_exô
(&
urg
, "urg_receiveData()");

97 
	`¥ötD©a
(&
urg
, &
∑ømëî
, 
d©a
);

99 
	`¥ötf
("\n");

103 
	`¥ötf
("MD capture\n");

108 
	`as£π
(
C≠tuªTimes
 < 100);

109 
	`urg_£tC≠tuªTimes
(&
urg
, 
C≠tuªTimes
);

112 
ªt
 = 
	`urg_ªque°D©a
(&
urg
, 
URG_MD
, 
URG_FIRST
, 
URG_LAST
);

113 i‡(
ªt
 < 0) {

114 
	`urg_exô
(&
urg
, "urg_requestData()");

117 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

119 
n
 = 
	`urg_ª˚iveD©a
(&
urg
, 
d©a
, 
d©a_max
);

120 i‡(
n
 < 0) {

121 
	`urg_exô
(&
urg
, "urg_receiveData()");

125 
	`¥ötD©a
(&
urg
, &
∑ømëî
, 
d©a
);

128 
	`urg_disc⁄√˘
(&
urg
);

129 
	`‰ì
(
d©a
);

131 #ifde‡
MSC


132 
	`gëch¨
();

136 
	}
}

	@processors/laser/urg-0.8.18/samples/c/convert_2d.c

11 
	~<m©h.h
>

12 
	~"urg_˘æ.h
"

13 
	~<°dio.h
>

14 
	~<°dlib.h
>

17 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

19 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

20 
	`urg_disc⁄√˘
(
urg
);

22 #ifde‡
MSC


23 
	`gëch¨
();

25 
	`exô
(1);

26 
	}
}

30 
	$maö
(
¨gc
, *
¨gv
[])

32 #ifde‡
WINDOWS_OS


33 c⁄° 
devi˚
[] = "COM3";

35 c⁄° 
devi˚
[] = "/dev/ttyACM0";

38 *
d©a
 = 
NULL
;

39 
d©a_max
;

40 
mö_Àngth
 = 0;

41 
max_Àngth
 = 0;

42 
ªt
;

43 
n
;

44 
i
;

47 
urg_t
 
urg
;

48 
	`urg_öôülize
(&
urg
);

49 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

50 i‡(
ªt
 < 0) {

51 
	`urg_exô
(&
urg
, "urg_connect()");

55 
d©a_max
 = 
	`urg_d©aMax
(&
urg
);

56 
d©a
 = (*)
	`mÆloc
((Ë* 
d©a_max
);

57 i‡(
d©a
 =
NULL
) {

58 
	`≥º‹
("data buffer");

59 
	`exô
(1);

63 
ªt
 = 
	`urg_ªque°D©a
(&
urg
, 
URG_GD
, 
URG_FIRST
, 
URG_LAST
);

64 i‡(
ªt
 < 0) {

65 
	`urg_exô
(&
urg
, "urg_requestData()");

69 
n
 = 
	`urg_ª˚iveD©a
(&
urg
, 
d©a
, 
d©a_max
);

70 i‡(
n
 < 0) {

71 
	`urg_exô
(&
urg
, "urg_receiveData()");

76 
mö_Àngth
 = 
	`urg_möDi°™˚
(&
urg
);

77 
max_Àngth
 = 
	`urg_maxDi°™˚
(&
urg
);

78 
i
 = 0; i < 
n
; ++i) {

79 
x
, 
y
;

80 
Àngth
 = 
d©a
[
i
];

83 i‡((
Àngth
 <
mö_Àngth
Ë|| (Àngth >
max_Àngth
)) {

87 
x
 = ()(
Àngth
 * 
	`cos
(
	`urg_ödex2ød
(&
urg
, 
i
)));

88 
y
 = ()(
Àngth
 * 
	`sö
(
	`urg_ödex2ød
(&
urg
, 
i
)));

90 
	`¥ötf
("%d\t%d\t# %d, %ld\n", 
x
, 
y
, 
i
, 
Àngth
);

93 
	`urg_disc⁄√˘
(&
urg
);

94 
	`‰ì
(
d©a
);

96 #ifde‡
MSC


97 
	`gëch¨
();

101 
	}
}

	@processors/laser/urg-0.8.18/samples/c/gd_scan.c

13 
	~"urg_˘æ.h
"

14 
	~<°dio.h
>

15 
	~<°dlib.h
>

18 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

20 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

21 
	`urg_disc⁄√˘
(
urg
);

23 #ifde‡
MSC


24 
	`gëch¨
();

26 
	`exô
(1);

27 
	}
}

30 
	$maö
(
¨gc
, *
¨gv
[])

32 #ifde‡
WINDOWS_OS


33 c⁄° 
devi˚
[] = "COM3";

35 c⁄° 
devi˚
[] = "/dev/ttyACM0";

38 
d©a_max
;

39 *
d©a
;

40 
time°amp
;

41 
ªt
;

42 
n
;

43 
i
;

44 
urg_t
 
urg
;

46 ()
¨gc
;

47 ()
¨gv
;

50 
	`urg_öôülize
(&
urg
);

51 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

52 i‡(
ªt
 < 0) {

53 
	`urg_exô
(&
urg
, "urg_connect()");

57 
d©a_max
 = 
	`urg_d©aMax
(&
urg
);

58 
d©a
 = (*)
	`mÆloc
((Ë* 
d©a_max
);

59 i‡(
d©a
 =
NULL
) {

60 
	`≥º‹
("malloc");

61 
	`exô
(1);

65 
ªt
 = 
	`urg_ªque°D©a
(&
urg
, 
URG_GD
, 
URG_FIRST
, 
URG_LAST
);

66 i‡(
ªt
 < 0) {

67 
	`urg_exô
(&
urg
, "urg_requestData()");

71 
n
 = 
	`urg_ª˚iveD©a
(&
urg
, 
d©a
, 
d©a_max
);

72 
	`¥ötf
("#Ç = %d\n", 
n
);

73 i‡(
n
 < 0) {

74 
	`urg_exô
(&
urg
, "urg_receiveData()");

78 
time°amp
 = 
	`urg_ª˚¡Time°amp
(&
urg
);

79 
	`¥ötf
("#Åime°amp: %d\n", 
time°amp
);

80 
i
 = 0; i < 
n
; ++i) {

82 
	`¥ötf
("%d %ld, ", 
i
, 
d©a
[i]);

84 
	`¥ötf
("\n");

86 
	`urg_disc⁄√˘
(&
urg
);

87 
	`‰ì
(
d©a
);

89 #ifde‡
MSC


90 
	`gëch¨
();

94 
	}
}

	@processors/laser/urg-0.8.18/samples/c/get_parameters.c

13 
	~"urg_˘æ.h
"

14 
	~"dëe˘_os.h
"

15 
	~<°dio.h
>

16 
	~<°dlib.h
>

19 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

21 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

22 
	`urg_disc⁄√˘
(
urg
);

24 #ifde‡
MSC


25 
	`gëch¨
();

27 
	`exô
(1);

28 
	}
}

32 
	$maö
(
¨gc
, *
¨gv
[])

34 #ifde‡
WINDOWS_OS


35 c⁄° 
devi˚
[] = "COM3";

37 c⁄° 
devi˚
[] = "/dev/ttyACM0";

40 
urg_t
 
urg
;

41 
urg_∑ømëî_t
 
∑ømëîs
;

42 
ªt
;

45 
	`urg_öôülize
(&
urg
);

46 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

47 i‡(
ªt
 < 0) {

48 
	`urg_exô
(&
urg
, "urg_connect()");

52 
ªt
 = 
	`urg_∑ømëîs
(&
urg
, &
∑ømëîs
);

53 
	`¥ötf
("urg_gëP¨amëîs: %s\n", 
	`urg_îr‹
(&
urg
));

54 i‡(
ªt
 < 0) {

55 
	`urg_disc⁄√˘
(&
urg
);

56 
	`exô
(1);

60 
	`¥ötf
("di°™˚_mö: %ld\n", 
∑ømëîs
.
di°™˚_mö_
);

61 
	`¥ötf
("di°™˚_max: %ld\n", 
∑ømëîs
.
di°™˚_max_
);

62 
	`¥ötf
("¨ó_tŸÆ: %d\n", 
∑ømëîs
.
¨ó_tŸÆ_
);

63 
	`¥ötf
("¨ó_mö: %d\n", 
∑ømëîs
.
¨ó_mö_
);

64 
	`¥ötf
("¨ó_max: %d\n", 
∑ømëîs
.
¨ó_max_
);

65 
	`¥ötf
("¨ó_‰⁄t: %d\n", 
∑ømëîs
.
¨ó_‰⁄t_
);

66 
	`¥ötf
("sˇn_Ωm: %d\n", 
∑ømëîs
.
sˇn_Ωm_
);

67 
	`¥ötf
("\n");

70 
	`¥ötf
("urg_gëDi°™˚Max(): %ld\n", 
	`urg_maxDi°™˚
(&
urg
));

71 
	`¥ötf
("urg_gëDi°™˚Mö(): %ld\n", 
	`urg_möDi°™˚
(&
urg
));

72 
	`¥ötf
("urg_gëSˇnM£c(): %d\n", 
	`urg_sˇnM£c
(&
urg
));

73 
	`¥ötf
("urg_gëD©aMax(): %d\n", 
	`urg_d©aMax
(&
urg
));

75 #ifde‡
MSC


76 
	`gëch¨
();

80 
	}
}

	@processors/laser/urg-0.8.18/samples/c/get_timestamp.c

13 
	~"urg_˘æ.h
"

14 
	~<°dio.h
>

15 
	~<°dlib.h
>

18 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

20 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

21 
	`urg_disc⁄√˘
(
urg
);

23 #ifde‡
MSC


24 
	`gëch¨
();

26 
	`exô
(1);

27 
	}
}

31 
	$maö
(
¨gc
, *
¨gv
[])

34 
C≠tuªTimes
 = 10,

37 #ifde‡
WINDOWS_OS


38 c⁄° 
devi˚
[] = "COM3";

40 c⁄° 
devi˚
[] = "/dev/ttyACM0";

43 
time°amp
 = 0;

44 
ªt
 = 0;

45 
i
;

46 
urg_t
 
urg
;

49 
	`urg_öôülize
(&
urg
);

50 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

51 i‡(
ªt
 < 0) {

52 
	`urg_exô
(&
urg
, "urg_connect()");

56 
	`urg_íabÀTime°ampMode
(&
urg
);

57 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

58 
time°amp
 = 
	`urg_cuºítTime°amp
(&
urg
);

59 
	`¥ötf
("%02d:Åime°amp: %ld [m£c]\n", 
i
, 
time°amp
);

61 
	`urg_dißbÀTime°ampMode
(&
urg
);

63 #ifde‡
MSC


64 
	`gëch¨
();

68 
	}
}

	@processors/laser/urg-0.8.18/samples/c/get_version_lines.c

13 
	~"urg_˘æ.h
"

14 
	~<°dio.h
>

15 
	~<°dlib.h
>

18 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

20 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

21 
	`urg_disc⁄√˘
(
urg
);

23 #ifde‡
MSC


24 
	`gëch¨
();

26 
	`exô
(1);

27 
	}
}

31 
	$maö
(
¨gc
, *
¨gv
[])

34 
LöesMax
 = 5,

37 #ifde‡
WINDOWS_OS


38 c⁄° 
devi˚
[] = "COM4";

40 c⁄° 
devi˚
[] = "/dev/ttyACM0";

43 
buf„r
[
LöesMax
][
UrgLöeWidth
];

44 *
löes
[
LöesMax
];

45 
ªt
;

46 
i
;

47 
urg_t
 
urg
;

50 
	`urg_öôülize
(&
urg
);

51 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

52 i‡(
ªt
 < 0) {

53 
	`urg_exô
(&
urg
, "urg_connect()");

57 
i
 = 0; i < 
LöesMax
; ++i) {

58 
löes
[
i
] = 
buf„r
[i];

60 
ªt
 = 
	`urg_vîsi⁄Löes
(&
urg
, 
löes
, 
LöesMax
);

61 
	`¥ötf
("urg_gëVîsi⁄: %s\n", 
	`urg_îr‹
(&
urg
));

62 i‡(
ªt
 < 0) {

63 
	`urg_disc⁄√˘
(&
urg
);

64 
	`exô
(1);

68 
i
 = 0; i < 
LöesMax
; ++i) {

69 
	`¥ötf
("%s\n", 
löes
[
i
]);

73 
	`urg_disc⁄√˘
(&
urg
);

75 #ifde‡
MSC


76 
	`gëch¨
();

80 
	}
}

	@processors/laser/urg-0.8.18/samples/c/intensity_sample.c

11 
	~"urg_˘æ.h
"

12 
	~<°dio.h
>

13 
	~<°rög.h
>

14 
	~<°dlib.h
>

15 
	~<as£π.h
>

18 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

20 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

21 
	`urg_disc⁄√˘
(
urg
);

23 #ifde‡
MSC


24 
	`gëch¨
();

26 
	`exô
(1);

27 
	}
}

30 
	$¥ötD©a
(
urg_t
 *
urg
, 
urg_∑ømëî_t
 *
∑ømëî
,

31 
d©a
[], 
d©a_size
, 
öãnsôy
[])

34 
time°amp
 = 
	`urg_ª˚¡Time°amp
(
urg
);

38 
	`¥ötf
("%d: %ld [mm] (%ldË%d [m£c]\n", 
∑ømëî
->
¨ó_‰⁄t_
,

39 
d©a
[
∑ømëî
->
¨ó_‰⁄t_
],

40 
öãnsôy
[
∑ømëî
->
¨ó_‰⁄t_
],

41 
time°amp
);

44 
i
;

46 
i
 = 0; i < 
d©a_size
; ++i) {

47 
	`¥ötf
("%d: %ld [mm] (%ld)\n", 
i
, 
d©a
[i], 
öãnsôy
[i]);

50 
	}
}

54 
	$maö
(
¨gc
, *
¨gv
[])

57 
C≠tuªTimes
 = 1,

60 #ifde‡
WINDOWS_OS


61 c⁄° 
devi˚
[] = "COM3";

63 c⁄° 
devi˚
[] = "/dev/ttyACM0";

66 
d©a_max
;

67 * 
d©a
;

68 * 
öãnsôy
;

70 
urg_∑ømëî_t
 
∑ømëî
;

71 
ªt
;

72 
n
;

73 
i
;

74 
urg_t
 
urg
;

77 
	`urg_öôülize
(&
urg
);

78 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

79 i‡(
ªt
 < 0) {

80 
	`urg_exô
(&
urg
, "urg_connect()");

84 
d©a_max
 = 
	`urg_d©aMax
(&
urg
);

85 
d©a
 = (*)
	`mÆloc
((Ë* 
d©a_max
);

86 i‡(
d©a
 =
NULL
) {

87 
	`≥º‹
("data buffer");

88 
	`exô
(1);

90 
öãnsôy
 = (*)
	`mÆloc
((Ë* 
d©a_max
);

91 i‡(
öãnsôy
 =
NULL
) {

92 
	`≥º‹
("data buffer");

93 
	`exô
(1);

96 
	`urg_∑ømëîs
(&
urg
, &
∑ømëî
);

99 i‡(
	`°rcmp
("UTM-30LX", 
	`urg_modñ
(&
urg
))) {

103 
	`¥ötf
("GD capture\n");

104 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

106 
ªt
 = 
	`urg_ªque°D©a
(&
urg
, 
URG_GD_INTENSITY
, 
URG_FIRST
, 
URG_LAST
);

107 i‡(
ªt
 < 0) {

108 
	`urg_exô
(&
urg
, "urg_requestData()");

112 
n
 = 
	`urg_ª˚iveD©aWôhI¡ísôy
(&
urg
, 
d©a
, 
d©a_max
, 
öãnsôy
);

113 i‡(
n
 < 0) {

114 
	`urg_exô
(&
urg
, "urg_receiveData()");

116 
	`¥ötD©a
(&
urg
, &
∑ømëî
, 
d©a
, 
n
, 
öãnsôy
);

118 
	`¥ötf
("\n");

122 
	`¥ötf
("MD(ME) capture\n");

127 
	`as£π
(
C≠tuªTimes
 < 100);

128 
	`urg_£tC≠tuªTimes
(&
urg
, 
C≠tuªTimes
);

131 
ªt
 = 
	`urg_ªque°D©a
(&
urg
, 
URG_MD_INTENSITY
, 
URG_FIRST
, 
URG_LAST
);

132 i‡(
ªt
 < 0) {

133 
	`urg_exô
(&
urg
, "urg_requestData()");

136 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

138 
n
 = 
	`urg_ª˚iveD©aWôhI¡ísôy
(&
urg
, 
d©a
, 
d©a_max
, 
öãnsôy
);

139 i‡(
n
 < 0) {

140 
	`urg_exô
(&
urg
, "urg_receiveData()");

142 
	`¥ötD©a
(&
urg
, &
∑ømëî
, 
d©a
, 
n
, 
öãnsôy
);

145 
	`urg_disc⁄√˘
(&
urg
);

146 
	`‰ì
(
d©a
);

147 
	`‰ì
(
öãnsôy
);

149 #ifde‡
MSC


150 
	`gëch¨
();

154 
	}
}

	@processors/laser/urg-0.8.18/samples/c/md_scan.c

13 
	~"urg_˘æ.h
"

14 
	~<°dio.h
>

15 
	~<°dlib.h
>

16 
	~<as£π.h
>

19 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

21 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

22 
	`urg_disc⁄√˘
(
urg
);

24 #ifde‡
MSC


25 
	`gëch¨
();

27 
	`exô
(1);

28 
	}
}

32 
	$maö
(
¨gc
, *
¨gv
[])

35 
C≠tuªTimes
 = 10,

38 #ifde‡
WINDOWS_OS


39 c⁄° 
devi˚
[] = "COM3";

41 c⁄° 
devi˚
[] = "/dev/ttyACM0";

44 
d©a_max
;

45 * 
d©a
;

46 
time°amp
 = -1;

47 
¥evious_time°amp
;

48 
ªmaö_times
;

49 
urg_∑ømëî_t
 
∑ømëî
;

50 
ªt
;

51 
n
;

52 
i
;

53 
urg_t
 
urg
;

56 
	`urg_öôülize
(&
urg
);

57 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

58 i‡(
ªt
 < 0) {

59 
	`urg_exô
(&
urg
, "urg_connect()");

60 
	`exô
(1);

64 
d©a_max
 = 
	`urg_d©aMax
(&
urg
);

65 
d©a
 = (*)
	`mÆloc
((Ë* 
d©a_max
);

66 i‡(
d©a
 =
NULL
) {

67 
	`Ârötf
(
°dîr
, "d©a_max: %d\n", 
d©a_max
);

68 
	`≥º‹
("data buffer");

69 
	`exô
(1);

71 
	`urg_∑ømëîs
(&
urg
, &
∑ømëî
);

78 i‡(
C≠tuªTimes
 < 100) {

79 
	`urg_£tC≠tuªTimes
(&
urg
, 
C≠tuªTimes
);

83 
ªt
 = 
	`urg_ªque°D©a
(&
urg
, 
URG_MD
, 
URG_FIRST
, 
URG_LAST
);

84 i‡(
ªt
 < 0) {

85 
	`urg_exô
(&
urg
, "urg_requestData()");

88 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

90 
n
 = 
	`urg_ª˚iveD©a
(&
urg
, 
d©a
, 
d©a_max
);

91 
	`¥ötf
("¿%d\n", 
n
);

92 i‡(
n
 < 0) {

93 
	`urg_exô
(&
urg
, "urg_receiveData()");

94 } i‡(
n
 == 0) {

95 
	`¥ötf
("n == 0\n");

96 --
i
;

104 
¥evious_time°amp
 = 
time°amp
;

105 
time°amp
 = 
	`urg_ª˚¡Time°amp
(&
urg
);

106 
ªmaö_times
 = 
	`urg_ªmaöC≠tuªTimes
(&
urg
);

109 
	`¥ötf
("%d/%d: %ld [mm], %d [msec], (%d)\n",

110 
ªmaö_times
, 
C≠tuªTimes
, 
d©a
[
∑ømëî
.
¨ó_‰⁄t_
], 
time°amp
,

111 
time°amp
 - 
¥evious_time°amp
);

113 
	`¥ötf
("%d, %d\n", 
i
, 
ªmaö_times
);

115 i‡(
ªmaö_times
 <= 0) {

120 
	`urg_disc⁄√˘
(&
urg
);

121 
	`‰ì
(
d©a
);

123 #ifde‡
MSC


124 
	`gëch¨
();

128 
	}
}

	@processors/laser/urg-0.8.18/samples/c/multi_urg.c

13 
	~"urg_˘æ.h
"

14 
	~<°dio.h
>

15 
	~<°dlib.h
>

18 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

20 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

21 
	`urg_disc⁄√˘
(
urg
);

23 #ifde‡
MSC


24 
	`gëch¨
();

26 
	`exô
(1);

27 
	}
}

31 
	$maö
(
¨gc
, *
¨gv
[])

34 
Times
 = 10,

35 
Urgs
 = 2,

38 
urg_t
 
urg
[
Urgs
];

39 *
d©a
[
Urgs
];

40 
d©a_max
[
Urgs
];

41 
time°amp
;

42 
ªt
;

43 
n
;

44 
i
;

45 
k
;

47 #ifde‡
WINDOWS_OS


48 c⁄° *
devi˚s
[] = { "COM3", "COM4" };

50 c⁄° *
devi˚s
[] = { "/dev/ttyACM0", "/dev/ttyACM1" };

54 
i
 = 0; i < 
Urgs
; ++i) {

55 
	`urg_öôülize
(&
urg
[
i
]);

56 
ªt
 = 
	`urg_c⁄√˘
(&
urg
[
i
], 
devi˚s
[i], 115200);

57 i‡(
ªt
 < 0) {

58 
	`urg_exô
(&
urg
[
i
], "urg_connect()");

61 
	`urg_œ£rOff
(&
urg
[
i
]);

68 
d©a_max
[
i
] = 
	`urg_d©aMax
(&
urg
[i]);

69 
d©a
[
i
] = (*)
	`mÆloc
((Ë* 
d©a_max
[i]);

70 i‡(
d©a
[
i
] =
NULL
) {

71 
	`≥º‹
("data buffer");

72 
	`exô
(1);

77 
i
 = 0; i < 
Urgs
; ++i) {

78 
	`urg_£tC≠tuªTimes
(&
urg
[
i
], 
Times
);

81 
ªt
 = 
	`urg_ªque°D©a
(&
urg
[
i
], 
URG_MD
, 
URG_FIRST
, 
URG_LAST
);

82 i‡(
ªt
 < 0) {

83 
	`urg_exô
(&
urg
[
i
], "urg_requestData()");

87 
k
 = 0; k < 
Times
; ++k) {

88 
i
 = 0; i < 
Urgs
; ++i) {

90 
ªmaö_times
 = 
	`urg_ªmaöC≠tuªTimes
(&
urg
[
i
]);

91 
	`¥ötf
(" %d: ", 
i
);

92 
	`¥ötf
("(%03d/%03d): ", 
ªmaö_times
, 
Times
);

93 i‡(
ªmaö_times
 <= 0) {

94 
	`¥ötf
("\n");

99 
n
 = 
	`urg_ª˚iveD©a
(&
urg
[
i
], 
d©a
[i], 
d©a_max
[i]);

100 i‡(
n
 < 0) {

103 
	`¥ötf
("%s: %s\n", "urg_ª˚iveD©a()", 
	`urg_îr‹
(
urg
));

108 
time°amp
 = 
	`urg_ª˚¡Time°amp
(&
urg
[
i
]);

109 
	`¥ötf
("time°amp: %d, ", 
time°amp
);

112 
j
;

113 
j
 = 0; j < 
n
; ++j) {

115 
	`¥ötf
("%d:%ld, ", 
j
, 
d©a
[
i
][j]);

117 
	`¥ötf
("\n");

120 
	`¥ötf
("\n");

126 
i
 = 0; i < 
Urgs
; ++i) {

127 
	`urg_disc⁄√˘
(&
urg
[
i
]);

128 
	`‰ì
(
d©a
[
i
]);

131 #ifde‡
MSC


132 
	`gëch¨
();

136 
	}
}

	@processors/laser/urg-0.8.18/samples/c/partial_scan.c

11 
	~"urg_˘æ.h
"

12 
	~<°dio.h
>

13 
	~<°dlib.h
>

16 
	$urg_exô
(
urg_t
 *
urg
, c⁄° *
mesßge
)

18 
	`¥ötf
("%s: %s\n", 
mesßge
, 
	`urg_îr‹
(
urg
));

19 
	`urg_disc⁄√˘
(
urg
);

21 #ifde‡
MSC


22 
	`gëch¨
();

24 
	`exô
(1);

25 
	}
}

28 
	$maö
(
¨gc
, *
¨gv
[])

31 
Buf„rSize
 = 3,

34 #ifde‡
WINDOWS_OS


35 c⁄° 
devi˚
[] = "COM3";

37 c⁄° 
devi˚
[] = "/dev/ttyACM0";

40 
d©a
[
Buf„rSize
];

41 
urg_∑ømëî_t
 
∑ømëî
;

42 
fú°
, 
œ°
;

43 
ªt
;

44 
n
;

45 
i
;

46 
urg_t
 
urg
;

49 
	`urg_öôülize
(&
urg
);

50 
ªt
 = 
	`urg_c⁄√˘
(&
urg
, 
devi˚
, 115200);

51 i‡(
ªt
 < 0) {

52 
	`urg_exô
(&
urg
, "urg_connect()");

55 
	`urg_∑ømëîs
(&
urg
, &
∑ømëî
);

57 
fú°
 = 
∑ømëî
.
¨ó_‰⁄t_
;

58 
œ°
 = 
fú°
 + 
Buf„rSize
;

61 
ªt
 = 
	`urg_ªque°D©a
(&
urg
, 
URG_GD
, 
fú°
, 
œ°
);

62 i‡(
ªt
 < 0) {

63 
	`urg_exô
(&
urg
, "urg_requestData()");

67 
n
 = 
	`urg_ª˚iveP¨tülD©a
(&
urg
, 
d©a
, 
Buf„rSize
, 
fú°
, 
œ°
);

68 
	`¥ötf
("#Ç = %d\n", 
n
);

69 i‡(
n
 < 0) {

70 
	`urg_exô
(&
urg
, "urg_receivePartialData()");

74 
i
 = 0; i < 
n
; ++i) {

76 
	`¥ötf
("(%d: %ld), ", 
i
, 
d©a
[i]);

78 
	`¥ötf
("\n");

80 
	`urg_disc⁄√˘
(&
urg
);

82 #ifde‡
MSC


83 
	`gëch¨
();

87 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/acquire_data.cpp

11 
	~"födUrgP‹ts.h
"

12 
	~"UrgDevi˚.h
"

13 
	~<c°dlib
>

14 
	~<io°ªam
>

15 
	~<f°ªam
>

17 
usög
 
«me•a˚
 
	gqrk
;

18 
usög
 
«me•a˚
 
	g°d
;

21 
	g«me•a˚


23 
ouçutCsv
(
of°ªam
& 
fout
, c⁄° 
ve˘‹
<>& 
d©a
)

25 
	gve˘‹
<>::
c⁄°_ôî©‹
 
ô
 = 
d©a
.
begö
();

26 
	gô
 !
d©a
.
íd
(); ++it) {

29 
	gfout
 << *
	gô
 << ',';

31 
	gfout
 << 
	gídl
;

37 
	$maö
(
¨gc
, *
¨gv
[])

39 i‡(
¨gc
 < 3) {

40 
˚º
 << "ußge:" << 
ídl


41 << "\t" << 
¨gv
[0] << " <number of scans> <output file>\n"

42 << 
ídl
;

43 
	`exô
(1);

45 
sˇn_times
 = 
	`©oi
(
¨gv
[1]);

46 
	`max
(
sˇn_times
, 0);

47 
of°ªam
 
	`fout
(
¨gv
[2]);

48 i‡(! 
fout
.
	`is_›í
()) {

49 
	`≥º‹
(
¨gv
[2]);

53 
ve˘‹
<
°rög
> 
p‹ts
;

54 
	`födUrgP‹ts
(
p‹ts
);

56 i‡(
p‹ts
.
	`em±y
()) {

57 
˚º
 << "nÿp‹ts." << 
ídl
;

58 
	`exô
(1);

61 
UrgDevi˚
 
urg
;

62 i‡(! 
urg
.
	`c⁄√˘
(
p‹ts
[0].
	`c_°r
())) {

63 
˚º
 << "UrgDevi˚::c⁄√˘: " << 
urg
.
	`wh©
(Ë<< 
ídl
;

64 
	`exô
(1);

68 
ve˘‹
<> 
d©a
;

69 
i
 = 0; i < 
sˇn_times
; ++i) {

70 
n
 = 
urg
.
	`ˇ±uª
(
d©a
);

71 i‡(
n
 < 0) {

74 
	`ouçutCsv
(
fout
, 
d©a
);

75 
cout
 << (
i
 + 1Ë<< " sˇ√d." << 
ídl
;

78 #ifde‡
MSC


79 
	`gëch¨
();

83 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/connectById.cpp

11 
	~"UrgDevi˚.h
"

12 
	~"UrgUtûs.h
"

13 
	~"C⁄√˘i⁄.h
"

14 
	~"C⁄√˘i⁄Utûs.h
"

15 
	~<io°ªam
>

17 
usög
 
«me•a˚
 
	gqrk
;

18 
usög
 
«me•a˚
 
	g°d
;

21 
	g«me•a˚


23 
boﬁ
 
adju°ById
(
UrgDevi˚
 
urg
[], 
£rüls
[], 
size_t
 
n
)

26 
	gve˘‹
<> 
	gdevi˚_£rüls
;

27 
size_t
 
	gi
 = 0; i < 
	gn
; ++i) {

28 
	g£rül_id
 = 
urgSîülId
<
UrgDevi˚
>(&
urg
[
i
]);

29 
	gdevi˚_£rüls
.
push_back
(
£rül_id
);

33 
size_t
 
	gi
 = 0; i < 
	gn
; ++i) {

34 
	gªque°ed_£rül
 = 
£rüls
[
i
];

35 i‡(
	gdevi˚_£rüls
[
i
] =
ªque°ed_£rül
) {

39 
	gve˘‹
<>::
ôî©‹
 
p
 =

40 
föd
(
devi˚_£rüls
.
begö
(), devi˚_£rüls.
íd
(), 
ªque°ed_£rül
);

41 i‡(
	gp
 =
devi˚_£rüls
.
íd
()) {

42  
Ál£
;

44 
size_t
 
	gsw≠_ödex
 = 
p
 - 
devi˚_£rüls
.
begö
();

46 
	gsw≠C⁄√˘i⁄
<
	gUrgDevi˚
>(
	gurg
[
i
], urg[
sw≠_ödex
]);

47 
sw≠
(
devi˚_£rüls
[
i
], devi˚_£rüls[
sw≠_ödex
]);

50  
	gåue
;

55 
	$maö
(
¨gc
, *
¨gv
[])

58 
£rüls
[] = {

62 #ifde‡
WINDOWS_OS


63 c⁄° * 
devi˚s
[] = { "COM3", "COM4" };

65 c⁄° * 
devi˚s
[] = { "/dev/ttyACM0", "/dev/ttyACM1" };

68 
UrgDevi˚
 
urg
[2];

71 
size_t
 
n
 = (
£rüls
) / (serials[0]);

72 
size_t
 
i
 = 0; i < 
n
; ++i) {

73 i‡(! 
urg
[
i
].
	`c⁄√˘
(
devi˚s
[i])) {

74 
cout
 << "UrgDevi˚::c⁄√˘: " << 
urg
[
i
].
	`wh©
(Ë<< 
ídl
;

75 
	`exô
(1);

79 i‡(! 
	`adju°ById
(
urg
, 
£rüls
, 
n
)) {

80 
cout
 << "Áû sw≠ById()" << 
ídl
;

81 
	`exô
(1);

85 
cout
 << "ªsu…" << 
ídl
;

86 
size_t
 
i
 = 0; i < 
n
; ++i) {

87 
cout
 << 
i
 << ", " << 
urgSîülId
<
UrgDevi˚
>(&
urg
[i]Ë<< 
ídl
;

90 
size_t
 
i
 = 0; i < 
n
; ++i) {

91 
dñëe
 
urg
[
i
].
	`c⁄√˘i⁄
();

92 
urg
[
i
].
	`£tC⁄√˘i⁄
(
NULL
);

95 #ifde‡
MSC


96 
	`gëch¨
();

100 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/findUrgPorts.cpp

11 
	~"födUrgP‹ts.h
"

12 
	~<SDL.h
>

14 
usög
 
«me•a˚
 
	gqrk
;

15 
usög
 
«me•a˚
 
	g°d
;

19 
	$maö
(
¨gc
, *
¨gv
[])

21 
ve˘‹
<
°rög
> 
p‹ts
;

22 
	`födUrgP‹ts
(
p‹ts
);

25 
	`¥ötf
("p‹ts: %u\n", 
p‹ts
.
	`size
());

26 
ve˘‹
<
°rög
>::
ôî©‹
 
ô
 = 
p‹ts
.
	`begö
();

27 
ô
 !
p‹ts
.
	`íd
(); ++it) {

28 
	`¥ötf
("%s\n", 
ô
->
	`c_°r
());

32 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/gdScan.cpp

11 
	~"UrgDevi˚.h
"

12 
	~<c°dlib
>

13 
	~<c°dio
>

15 
usög
 
«me•a˚
 
	gqrk
;

16 
usög
 
«me•a˚
 
	g°d
;

20 
	$maö
(
¨gc
, *
¨gv
[])

23 #ifde‡
WINDOWS_OS


24 c⁄° 
devi˚
[] = "COM3";

26 c⁄° 
devi˚
[] = "/dev/ttyACM0";

29 
UrgDevi˚
 
urg
;

30 i‡(! 
urg
.
	`c⁄√˘
(
devi˚
)) {

31 
	`¥ötf
("UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

32 
	`exô
(1);

37 íum { 
C≠tuªTimes
 = 1 };

38 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

39 
time°amp
 = 0;

40 
ve˘‹
<> 
d©a
;

43 
n
 = 
urg
.
	`ˇ±uª
(
d©a
, &
time°amp
);

46 
	`¥ötf
("time°amp: %ld\n", 
time°amp
);

47 
j
 = 0; j < 
n
; ++j) {

50 
	`¥ötf
("%d:%ld, ", 
j
, 
d©a
[j]);

52 
	`¥ötf
("\n");

55 #ifde‡
MSC


56 
	`gëch¨
();

60 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/intensityScan.cpp

11 
	~"UrgDevi˚.h
"

12 
	~"dñay.h
"

13 
	~<SDL.h
>

14 
	~<c°dlib
>

15 
	~<c°dio
>

17 
usög
 
«me•a˚
 
	gqrk
;

18 
usög
 
«me•a˚
 
	g°d
;

21 
	$maö
(
¨gc
, *
¨gv
[])

24 #ifde‡
WINDOWS_OS


25 c⁄° 
devi˚
[] = "COM3";

27 c⁄° 
devi˚
[] = "/dev/ttyACM0";

30 
UrgDevi˚
 
urg
;

31 i‡(! 
urg
.
	`c⁄√˘
(
devi˚
)) {

32 
	`¥ötf
("UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

33 
	`exô
(1);

35 
sˇn_m£c
 = 
urg
.
	`sˇnM£c
();

36 
urg
.
	`£tC≠tuªMode
(
I¡ísôyC≠tuª
);

39 
C≠tuªTimes
 = 10,

42 
ve˘‹
<> 
d©a
;

43 
ve˘‹
<> 
öãnsôy_d©a
;

45 
¥evious_time°amp
 = 0;

46 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

47 
time°amp
 = 0;

48 
d©a_n
 = 
urg
.
	`ˇ±uªWôhI¡ísôy
(
d©a
, 
öãnsôy_d©a
, &
time°amp
);

49 i‡(
d©a_n
 > 0) {

50 
‰⁄t_ödex
 = 
urg
.
	`ød2ödex
(0.0);

51 
	`¥ötf
("%d: %ld [mm] (%ld), %ld [msec] (%ld)\n",

52 
i
, 
d©a
[
‰⁄t_ödex
], 
öãnsôy_d©a
[‰⁄t_ödex], 
time°amp
,

53 
time°amp
 - 
¥evious_time°amp
);

54 
¥evious_time°amp
 = 
time°amp
;

56 --
i
;

57 
	`dñay
(
sˇn_m£c
);

61 #ifde‡
MSC


62 
	`gëch¨
();

66 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/mdScan.cpp

11 
	~"UrgDevi˚.h
"

12 
	~"dñay.h
"

13 
	~"ticks.h
"

14 
	~<c°dlib
>

15 
	~<c°dio
>

17 
usög
 
«me•a˚
 
	gqrk
;

18 
usög
 
«me•a˚
 
	g°d
;

22 
	$maö
(
¨gc
, *
¨gv
[])

25 #ifde‡
WINDOWS_OS


26 c⁄° 
devi˚
[] = "COM3";

28 c⁄° 
devi˚
[] = "/dev/ttyACM0";

31 
UrgDevi˚
 
urg
;

32 i‡(! 
urg
.
	`c⁄√˘
(
devi˚
)) {

33 
	`¥ötf
("UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

34 
	`exô
(1);

39 
urg
.
	`£tC≠tuªMode
(
AutoC≠tuª
);

43 
urg
.
	`£tC≠tuªMode
(
I¡ísôyC≠tuª
);

44 
urg
.
	`£tC≠tuªSkùLöes
(2);

46 
sˇn_m£c
 = 
urg
.
	`sˇnM£c
();

52 c⁄° 
ød90
 = 90.0 * 
M_PI
 / 180.0;

53 
urg
.
	`£tC≠tuªR™ge
(urg.
	`ød2ödex
(-
ød90
), urg.rad2index(rad90));

56 
¥e_time°amp
 = 
	`ticks
();

60 íum { 
C≠tuªTimes
 = 10};

61 
urg
.
	`£tC≠tuªTimes
(
C≠tuªTimes
);

62 
i
 = 0; i < 
C≠tuªTimes
;) {

63 
time°amp
 = 0;

64 
ve˘‹
<> 
d©a
;

67 
n
 = 
urg
.
	`ˇ±uª
(
d©a
, &
time°amp
);

68 i‡(
n
 <= 0) {

69 
	`dñay
(
sˇn_m£c
);

74 
	`¥ötf
("timestamp: %ld, (%ld), %ld\n",

75 
time°amp
, 
	`ticks
(),Åime°am∞- 
¥e_time°amp
);

76 
¥e_time°amp
 = 
time°amp
;

78 
j
 = 0; j < 
n
; ++j) {

81 
	`¥ötf
("%d:%ld, ", 
j
, 
d©a
[j]);

83 
	`¥ötf
("\n");

85 ++
i
;

88 #ifde‡
MSC


89 
	`gëch¨
();

93 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/parameterLines.cpp

11 
	~"UrgDevi˚.h
"

12 
	~"R™geSís‹P¨amëî.h
"

13 
	~<c°dlib
>

14 
	~<c°dio
>

16 
usög
 
«me•a˚
 
	gqrk
;

20 
	$maö
(
¨gc
, *
¨gv
[])

23 #ifde‡
WINDOWS_OS


24 c⁄° 
devi˚
[] = "COM3";

26 c⁄° 
devi˚
[] = "/dev/ttyACM0";

29 
UrgDevi˚
 
urg
;

30 i‡(! 
urg
.
	`c⁄√˘
(
devi˚
)) {

31 
	`¥ötf
("UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

32 
	`exô
(1);

36 
R™geSís‹P¨amëî
 
∑ømëîs
 = 
urg
.
	`∑ømëî
();

37 
	`¥ötf
("modñ: %s\n", 
∑ømëîs
.
modñ
.
	`c_°r
());

38 
	`¥ötf
("di°™˚_mö: %ld\n", 
∑ømëîs
.
di°™˚_mö
);

39 
	`¥ötf
("di°™˚_max: %ld\n", 
∑ømëîs
.
di°™˚_max
);

40 
	`¥ötf
("¨ó_tŸÆ: %d\n", 
∑ømëîs
.
¨ó_tŸÆ
);

41 
	`¥ötf
("¨ó_mö: %d\n", 
∑ømëîs
.
¨ó_mö
);

42 
	`¥ötf
("¨ó_max: %d\n", 
∑ømëîs
.
¨ó_max
);

43 
	`¥ötf
("¨ó_‰⁄t: %d\n", 
∑ømëîs
.
¨ó_‰⁄t
);

44 
	`¥ötf
("sˇn_Ωm: %d\n", 
∑ømëîs
.
sˇn_Ωm
);

46 #ifde‡
MSC


47 
	`gëch¨
();

51 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/serialId.cpp

11 
	~"UrgDevi˚.h
"

12 
	~"UrgUtûs.h
"

13 
	~<c°dio
>

15 
usög
 
«me•a˚
 
	gqrk
;

19 
	$maö
(
¨gc
, *
¨gv
[])

22 #ifde‡
WINDOWS_OS


23 c⁄° 
devi˚
[] = "COM3";

25 c⁄° 
devi˚
[] = "/dev/ttyACM0";

28 
UrgDevi˚
 
urg
;

29 i‡(! 
urg
.
	`c⁄√˘
(
devi˚
)) {

30 
	`¥ötf
("UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

31 
	`exô
(1);

34 
	`¥ötf
("Sîü»ID: %ld\n", 
urgSîülId
<
UrgDevi˚
>(&
urg
));

36 #ifde‡
MSC


37 
	`gëch¨
();

41 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/thread_scan.cpp

10 
	~"UrgDevi˚.h
"

11 
	~"Thªad.h
"

12 
	~"dñay.h
"

13 
	~<io°ªam
>

14 
	~<c°dlib
>

16 
usög
 
«me•a˚
 
	gqrk
;

17 
usög
 
«me•a˚
 
	g°d
;

19 
	#AUTO_CAPTURE_TEST


	)

22 
	$thªad_fun˘i⁄
(* 
¨gs
)

24 
UrgDevi˚
 
urg
;

26 c⁄° * 
devi˚
 = 
°©ic_ˇ°
<c⁄° *>(
¨gs
);

27 i‡(! 
urg
.
	`c⁄√˘
(
devi˚
)) {

28 
cout
 << "UrgDevi˚::c⁄√˘: " << 
urg
.
	`wh©
(Ë<< 
ídl
;

29 
	`exô
(1);

31 #i‡
	`deföed
(
AUTO_CAPTURE_TEST
)

32 
urg
.
	`£tC≠tuªMode
(
AutoC≠tuª
);

35 íum { 
C≠tuªTimes
 = 10 };

36 
ve˘‹
<> 
d©a
;

37 
sˇn_times
 = 0;

38 
sˇn_times
 < 
C≠tuªTimes
) {

39 
d©a
.
	`˛ór
();

40 
time°amp
;

41 i‡(
urg
.
	`ˇ±uª
(
d©a
, &
time°amp
)) {

42 
cout
 << 
devi˚
 << ":Ç = " << 
d©a
.
	`size
()

43 << ", (" << 
time°amp
 << ')'

44 << ", " << 
sˇn_times
 << 
ídl
;

45 ++
sˇn_times
;

47 #i‡
	`deföed
(
AUTO_CAPTURE_TEST
)

48 
	`dñay
(
urg
.
	`sˇnM£c
());

51 
	`dñay
(1);

55 
	}
}

58 
	$maö
(
¨gc
, *
¨gv
[])

61 #ifde‡
WINDOWS_OS


62 c⁄° *
devi˚s
[] = {

67 c⁄° *
devi˚s
[] = {

73 
Thªad
 *
thªads
[2];

74 
i
 = 0; i < 2; ++i) {

75 
thªads
[
i
] = 
√w
 
	`Thªad
(
thªad_fun˘i⁄
, 
c⁄°_ˇ°
<*>(
devi˚s
[i]));

76 
thªads
[
i
]->
	`run
();

79 
i
 = 0; i < 2; ++i) {

80 
thªads
[
i
]->
	`waô
();

83 #ifde‡
MSC


84 
	`gëch¨
();

88 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp/versionLines.cpp

11 
	~"UrgDevi˚.h
"

12 
	~<io°ªam
>

13 
	~<c°dlib
>

14 
	~<c°dio
>

16 
usög
 
«me•a˚
 
	gqrk
;

17 
usög
 
«me•a˚
 
	g°d
;

21 
	$maö
(
¨gc
, *
¨gv
[])

23 #ifde‡
WINDOWS_OS


24 c⁄° 
devi˚
[] = "COM3";

26 c⁄° 
devi˚
[] = "/dev/ttyACM0";

29 
UrgDevi˚
 
urg
;

30 i‡(! 
urg
.
	`c⁄√˘
(
devi˚
)) {

31 
	`¥ötf
("UrgDevi˚::c⁄√˘: %s\n", 
urg
.
	`wh©
());

32 
	`exô
(1);

35 
ve˘‹
<
°rög
> 
löes
;

38 
urg
.
	`vîsi⁄Löes
(
löes
);

39 i‡(
löes
.
	`em±y
()) {

40 
˚º
 << "UrgDevi˚::vîsi⁄Löes: " << 
urg
.
	`wh©
(Ë<< 
ídl
;

41 
	`exô
(1);

45 
ve˘‹
<
°rög
>::
ôî©‹
 
ô
 = 
löes
.
	`begö
();

46 
ô
 !
löes
.
	`íd
(); ++it) {

47 
cout
 << *
ô
 << 
ídl
;

50 #ifde‡
MSC


51 
	`gëch¨
();

55 
	}
}

	@processors/laser/urg-0.8.18/samples/cpp_ethernet/captureIntensitySample.cpp

11 
	~"UrgDevi˚.h
"

12 
	~"T˝ùSockë.h
"

13 
	~"dñay.h
"

14 
	~<SDL.h
>

15 
	~<c°dlib
>

17 
usög
 
«me•a˚
 
	gqrk
;

18 
usög
 
«me•a˚
 
	g°d
;

21 
	$maö
(
¨gc
, *
¨gv
[])

23 c⁄° 
addªss
[] = "192.168.0.10";

24 
p‹t
 = 10940;

26 
T˝ùSockë
 
t˝ù
;

27 
UrgDevi˚
 
urg
;

28 i‡(! 
t˝ù
.
	`c⁄√˘
(
addªss
, 
p‹t
)) {

29 
	`¥ötf
("T˝ùSockë::c⁄√˘: %s\n", 
t˝ù
.
	`wh©
());

30 
	`exô
(1);

33 
urg
.
	`£tC⁄√˘i⁄
(&
t˝ù
);

34 
urg
.
	`lﬂdP¨amëî
();

36 
sˇn_m£c
 = 
urg
.
	`sˇnM£c
();

37 
urg
.
	`£tC≠tuªMode
(
I¡ísôyC≠tuª
);

38 
urg
.
	`£tC≠tuªR™ge
(0, 760);

41 
C≠tuªTimes
 = 10,

44 
ve˘‹
<> 
d©a
;

45 
ve˘‹
<> 
öãnsôy_d©a
;

47 
¥evious_time°amp
 = 0;

48 
i
 = 0; i < 
C≠tuªTimes
; ++i) {

49 
	`Ârötf
(
°dîr
, ".");

51 
time°amp
 = 0;

52 
d©a_n
 = 
urg
.
	`ˇ±uªWôhI¡ísôy
(
d©a
, 
öãnsôy_d©a
, &
time°amp
);

53 i‡(
d©a_n
 > 0) {

54 
‰⁄t_ödex
 = 
urg
.
	`ød2ödex
(0.0);

56 
	`¥ötf
("%d: %ld [mm] (%ld), %ld [msec] (%ld)\n",

57 
i
, 
d©a
[
‰⁄t_ödex
], 
öãnsôy_d©a
[‰⁄t_ödex], 
time°amp
,

58 
time°amp
 - 
¥evious_time°amp
);

60 ()
‰⁄t_ödex
;

61 
j
 = 0; j < 
d©a_n
; ++j) {

62 
	`¥ötf
("%ld(%ld), ", 
d©a
[
j
], 
öãnsôy_d©a
[j]);

64 
	`¥ötf
("\n");

66 
¥evious_time°amp
 = 
time°amp
;

68 --
i
;

69 
	`dñay
(
sˇn_m£c
);

73 #ifde‡
MSC


74 
	`gëch¨
();

78 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/ScipUtils.cpp

11 
	~"ScùUtûs.h
"

12 
	~"C⁄√˘i⁄.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~<c°dlib
>

16 
usög
 
«me•a˚
 
	gqrk
;

17 
usög
 
«me•a˚
 
	g°d
;

20 
	$decode
(c⁄° 
code
[], 
byã
)

22 
vÆue
 = 0;

23 
i
;

25 
i
 = 0; i < 
byã
; ++i) {

26 
vÆue
 <<= 6;

27 
vÆue
 &= ~0x3f;

28 
vÆue
 |
code
[
i
] - 0x30;

30  
vÆue
;

31 
	}
}

34 
	$addSum
(c⁄° * 
buf
, 
size_t
 
cou¡
)

36 
sum
 = 0;

37 
size_t
 
i
 = 0; i < 
cou¡
; ++i) {

38 
sum
 +
buf
[
i
];

40  
sum
;

41 
	}
}

44 
ªcvRïly
(
qrk
::
C⁄√˘i⁄
* 
c⁄
, 
timeout
,

45 
°d
::
ve˘‹
<°d::
°rög
>* 
löes
)

48 íum { 
LöeMax
 = 64 + 1};

49 
	gbuf„r
[
LöeMax
];

50 
	gn
 = 
ªadlöe
(
c⁄
, 
buf„r
, 
LöeMax
, 
timeout
);

51 i‡(
	gn
 <= 0) {

52  
Re˚iveTimeout
;

56 
	gn
 = 
ªadlöe
(
c⁄
, 
buf„r
, 
LöeMax
, 
timeout
);

57 i‡(
	gn
 <= 0) {

58  
Re˚iveTimeout
;

62 
	gchecksum
 = (
addSum
(
buf„r
, 
n
 - 1) & 0x3f) + 0x30;

63 i‡(
	gbuf„r
[
n
 - 1] !
checksum
) {

67 
	gbuf„r
[2] = '\0';

68 
	gª∂y_code
 = 
°πﬁ
(
buf„r
, 
NULL
, 16);

71 
	gœ°_ch
;

72 
	gn
 = 
c⁄
->
ª˚ive
(&
œ°_ch
, 1, 
timeout
);

73 i‡(
	gn
 != 1) {

76 i‡(! 
isLF
(
œ°_ch
)) {

79 
	gc⁄
->
ungëc
(
œ°_ch
);

83 i‡(
	glöes
 !
NULL
) {

84 
åue
) {

85 
n
 = 
ªadlöe
(
c⁄
, 
buf„r
, 
LöeMax
, 
timeout
);

86 
	glöes
->
push_back
(
buf„r
);

87 i‡((
	gn
 =1Ë&& 
isLF
(
buf„r
[0])) {

90 } i‡(
	gn
 <= 0) {

96 #i‡
deföed
(
WINDOWS_OS
)

97 
gëch¨
();

100  
	gª∂y_code
;

	@processors/laser/urg-0.8.18/samples/scip_samples/ScipUtils.h

1 #i‚de‡
QRK_SCIP_UTILS_H


2 
	#QRK_SCIP_UTILS_H


	)

14 
	~<ve˘‹
>

15 
	~<°rög
>

18 
«me•a˚
 
	gqrk
 {

19 
˛ass
 
	gC⁄√˘i⁄
;

22 
	gScùTimeout
 = 200,

35 
decode
(c⁄° 
code
[], 
byã
);

48 
ªcvRïly
(
qrk
::
C⁄√˘i⁄
* 
c⁄
, 
timeout
,

49 
°d
::
ve˘‹
<°d::
°rög
>* 
löes
 = 
NULL
);

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_cr.cpp

11 
	~"SîülDevi˚.h
"

12 
	~"Dëe˘OS.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~"ScùUtûs.h
"

15 
	~<c°dio
>

17 
usög
 
«me•a˚
 
	gqrk
;

21 
	$maö
(
¨gc
, *
¨gv
[])

24 #i‡
	`deföed
(
WINDOWS_OS
)

25 c⁄° 
devi˚
[] = "COM3";

26 #ñi‡
	`deföed
(
LINUX_OS
)

27 c⁄° 
devi˚
[] = "/dev/ttyACM0";

29 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

32 
SîülDevi˚
 
c⁄
;

33 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

34 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

35 #i‡
	`deföed
(
WINDOWS_OS
)

36 
	`¥ötf
("HitÑeturn key.\n");

37 
	`gëch¨
();

39 
	`exô
(1);

43 íum { 
Timeout
 = 200 };

44 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

45 
	`skù
(&
c⁄
, 
Timeout
);

48 
≥r˚¡
[] = { 10, 5, 0 };

49 
size_t
 
åy_times
 = (
≥r˚¡
)/(percent[0]);

50 
size_t
 
i
 = 0; i < 
åy_times
; ++i) {

52 
	`¥ötf
("CR: %d\n", 
≥r˚¡
[
i
]);

53 
comm™d
[] = "CRxx\n";

54 
	`•rötf
(
comm™d
, "CR%02d\n", 
≥r˚¡
[
i
]);

55 
c⁄
.
	`£nd
(
comm™d
, 5);

56 
ªt
 = 
	`ªcvRïly
(&
c⁄
, 
Timeout
);

57 i‡((
ªt
 != 0x00) && (ret != 0x0e) && (ret != 0x03)) {

58 
	`¥ötf
("CR: %d\n", 
ªt
);

59 #i‡
	`deföed
(
WINDOWS_OS
)

60 
	`¥ötf
("HitÑeturn key.\n");

61 
	`gëch¨
();

63 
	`exô
(1);

67 
c⁄
.
	`£nd
("MD0000000101020\n", 16);

70 
ªt
 = 
	`ªcvRïly
(&
c⁄
, 
Timeout
);

71 i‡(
ªt
 != 0x00) {

72 
	`¥ötf
("MD: %d\n", 
ªt
);

73 #i‡
	`deföed
(
WINDOWS_OS
)

74 
	`¥ötf
("HitÑeturn key.\n");

75 
	`gëch¨
();

77 
	`exô
(1);

80 
¥e_time°amp
 = 0;

81 
i
 = 0; i < 5; ++i) {

83 
size_t
 
löe_cou¡
 = 0;

84 íum { 
LöeMax
 = 64 + 1 };

85 
buf„r
[
LöeMax
];

86 
n
;

87 (
n
 = 
	`ªadlöe
(&
c⁄
, 
buf„r
, 
LöeMax
, 
Timeout
)) > 0) {

88 i‡(
löe_cou¡
 == 2) {

89 
time°amp
 = 
	`decode
(
buf„r
, 4);

90 
diff
 = 
time°amp
 - 
¥e_time°amp
;

91 i‡(
diff
 < 
Timeout
) {

93 
	`¥ötf
("%d [m£c]\n", 
diff
);

95 
¥e_time°amp
 = 
time°amp
;

97 ++
löe_cou¡
;

102 #i‡
	`deföed
(
WINDOWS_OS
)

103 
	`¥ötf
("HitÑeturn key.\n");

104 
	`gëch¨
();

108 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_gd.cpp

11 
	~"Dëe˘OS.h
"

12 
	~"SîülDevi˚.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~"ScùUtûs.h
"

15 
	~<c°rög
>

16 
	~<c°dio
>

18 
usög
 
«me•a˚
 
	gqrk
;

22 
	$maö
(
¨gc
, *
¨gv
[])

25 #i‡
	`deföed
(
WINDOWS_OS
)

26 c⁄° 
devi˚
[] = "COM3";

27 #ñi‡
	`deföed
(
LINUX_OS
)

28 c⁄° 
devi˚
[] = "/dev/ttyACM0";

30 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

33 
SîülDevi˚
 
c⁄
;

34 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

35 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

36 #i‡
	`deföed
(
WINDOWS_OS
)

37 
	`gëch¨
();

39 
	`exô
(1);

43 íum { 
Timeout
 = 200 };

44 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

45 
	`skù
(&
c⁄
, 
Timeout
);

48 
c⁄
.
	`£nd
("BM\n", 3);

49 
ªt
 = 
	`ªcvRïly
(&
c⁄
, 
Timeout
);

50 i‡(
ªt
 < 0) {

51 
	`¥ötf
("BM faû: %d\n", 
ªt
);

52 #i‡
	`deföed
(
WINDOWS_OS
)

53 
	`gëch¨
();

55 
	`exô
(1);

64 
c⁄
.
	`£nd
("GD0000072501\n", 13);

68 
LöeMax
 = 64 + 1 + 1,

69 
URG_04LX_MAX
 = 725,

70 
PackëByã
 = 3,

72 
buf„r
[
LöeMax
];

73 
d©a_buf„r
[(
URG_04LX_MAX
 + 1Ë* 
PackëByã
];

74 
fûÀd
 = 0;

75 
löe_cou¡
 = 0;

76 
n
;

77 (
n
 = 
	`ªadlöe
(&
c⁄
, 
buf„r
, 
LöeMax
, 
Timeout
)) > 0) {

78 
	`¥ötf
("%s\n", 
buf„r
);

84 i‡(
löe_cou¡
 >= 3) {

85 
c›y_size
 = 
n
 - 1;

86 
	`memmove
(&
d©a_buf„r
[
fûÀd
], 
buf„r
, 
c›y_size
);

87 
fûÀd
 +
c›y_size
;

89 ++
löe_cou¡
;

91 
	`¥ötf
("\n");

96 
i
 = 0; i < 
URG_04LX_MAX
; ++i) {

98 
Àngth
 = 
	`decode
(&
d©a_buf„r
[
i
 * 
PackëByã
], PacketByte);

99 
	`¥ötf
("%d, ", 
Àngth
);

100 i‡((
i
 % 10) == 00) {

101 
	`¥ötf
("\n");

104 
	`¥ötf
("\n");

106 #i‡
	`deföed
(
WINDOWS_OS
)

107 
	`¥ötf
("HitÑeturn key.\n");

108 
	`gëch¨
();

112 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_ii.cpp

11 
	~"SîülDevi˚.h
"

12 
	~"Dëe˘OS.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~<°dio.h
>

16 
usög
 
«me•a˚
 
	gqrk
;

20 
	$maö
(
¨gc
, *
¨gv
[]) {

23 #i‡
	`deföed
(
WINDOWS_OS
)

24 c⁄° 
devi˚
[] = "COM3";

25 #ñi‡
	`deföed
(
LINUX_OS
)

26 c⁄° 
devi˚
[] = "/dev/ttyACM0";

28 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

31 
SîülDevi˚
 
c⁄
;

32 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

33 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

34 #i‡
	`deföed
(
WINDOWS_OS
)

35 
	`¥ötf
("HitÑeturn key.\n");

36 
	`gëch¨
();

38 
	`exô
(1);

42 íum { 
Timeout
 = 200 };

43 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

44 
	`skù
(&
c⁄
, 
Timeout
);

47 
c⁄
.
	`£nd
("II\n", 3);

50 íum { 
LöeMax
 = 64 + 1 };

51 
buf„r
[
LöeMax
];

52 
n
;

53 (
n
 = 
	`ªadlöe
(&
c⁄
, 
buf„r
, 
LöeMax
, 
Timeout
)) > 0) {

54 
	`¥ötf
("%s\n", 
buf„r
);

57 #i‡
	`deföed
(
WINDOWS_OS
)

58 
	`¥ötf
("HitÑeturn key.\n");

59 
	`gëch¨
();

63 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_md.cpp

11 
	~"Dëe˘OS.h
"

12 
	~"SîülDevi˚.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~"ScùUtûs.h
"

15 
	~<c°dio
>

17 
usög
 
«me•a˚
 
	gqrk
;

21 
	$maö
(
¨gc
, *
¨gv
[])

24 #i‡
	`deföed
(
WINDOWS_OS
)

25 c⁄° 
devi˚
[] = "COM3";

26 #ñi‡
	`deföed
(
LINUX_OS
)

27 c⁄° 
devi˚
[] = "/dev/ttyACM0";

29 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

32 
SîülDevi˚
 
c⁄
;

33 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

34 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

35 #i‡
	`deföed
(
WINDOWS_OS
)

36 
	`¥ötf
("HitÑeturn key.\n");

37 
	`gëch¨
();

39 
	`exô
(1);

43 íum { 
Timeout
 = 200 };

44 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

45 
	`skù
(&
c⁄
, 
Timeout
);

59 
c⁄
.
	`£nd
("MD0000072501005\n", 16);

63 
LöeMax
 = 64 + 1 + 1,

64 
URG_04LX_MAX
 = 725,

65 
TryTimes
 = 5,

67 
buf„r
[
LöeMax
];

68 
n
;

69 
j
 = 0; j < 
TryTimes
; ++j) {

70 (
n
 = 
	`ªadlöe
(&
c⁄
, 
buf„r
, 
LöeMax
, 
Timeout
)) > 0) {

71 
	`¥ötf
("%s\n", 
buf„r
);

73 
	`¥ötf
("\n");

76 i‡(
j
 >= 1) {

77 
c⁄
.
	`£nd
("QT\n", 3);

80 
	`¥ötf
("\n");

86 #i‡
	`deföed
(
WINDOWS_OS
)

87 
	`¥ötf
("HitÑeturn key.\n");

88 
	`gëch¨
();

92 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_pp.cpp

11 
	~"SîülDevi˚.h
"

12 
	~"Dëe˘OS.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~<c°dio
>

15 
	~<c°dlib
>

17 
usög
 
«me•a˚
 
	gqrk
;

21 
	$maö
(
¨gc
, *
¨gv
[])

24 #i‡
	`deföed
(
WINDOWS_OS
)

25 c⁄° 
devi˚
[] = "COM3";

26 #ñi‡
	`deföed
(
LINUX_OS
)

27 c⁄° 
devi˚
[] = "/dev/ttyACM0";

29 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

32 
SîülDevi˚
 
c⁄
;

33 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

34 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

35 #i‡
	`deföed
(
WINDOWS_OS
)

36 
	`¥ötf
("HitÑeturn key.\n");

37 
	`gëch¨
();

39 
	`exô
(1);

43 íum { 
Timeout
 = 200 };

44 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

45 
	`skù
(&
c⁄
, 
Timeout
);

48 
c⁄
.
	`£nd
("PP\n", 3);

51 íum { 
LöeMax
 = 64 + 1 };

52 
buf„r
[
LöeMax
];

53 
n
;

54 (
n
 = 
	`ªadlöe
(&
c⁄
, 
buf„r
, 
LöeMax
, 
Timeout
)) > 0) {

55 
	`¥ötf
("%s\n", 
buf„r
);

58 #i‡
	`deföed
(
WINDOWS_OS
)

59 
	`¥ötf
("HitÑeturn key.\n");

60 
	`gëch¨
();

64 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_scip.cpp

12 
	~"SîülDevi˚.h
"

13 
	~"ScùUtûs.h
"

14 
	~"Dëe˘OS.h
"

15 
	~<c°dlib
>

16 
	~<c°dio
>

18 
usög
 
«me•a˚
 
	gqrk
;

22 
	$maö
(
¨gc
, *
¨gv
[])

25 #i‡
	`deföed
(
WINDOWS_OS
)

26 c⁄° 
devi˚
[] = "COM3";

27 #ñi‡
	`deföed
(
LINUX_OS
)

28 c⁄° 
devi˚
[] = "/dev/ttyACM0";

30 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

33 
SîülDevi˚
 
c⁄
;

34 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

35 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

36 #i‡
	`deföed
(
WINDOWS_OS
)

37 
	`¥ötf
("HitÑeturn key.\n");

38 
	`gëch¨
();

40 
	`exô
(1);

44 íum { 
Timeout
 = 200, 
Buf„rMax
 = 64 + 1 };

45 
buf„r
[
Buf„rMax
];

47 
i
 = 0; i < 2; ++i) {

48 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

50 
n
 = 
c⁄
.
	`ª˚ive
(
buf„r
, 
Buf„rMax
, 
Timeout
);

51 
j
 = 0; j < 
n
; ++j) {

52 
ch
 = 
buf„r
[
j
];

53 i‡(
	`i•röt
(
ch
)) {

54 
	`¥ötf
("%c", 
ch
);

56 
	`¥ötf
("[%02x]\n", 
°©ic_ˇ°
<>(
ch
));

59 
	`¥ötf
("\n");

62 #i‡
	`deföed
(
WINDOWS_OS
)

63 
	`¥ötf
("HitÑeturn key.\n");

64 
	`gëch¨
();

68 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_ss.cpp

11 
	~"SîülDevi˚.h
"

12 
	~"Dëe˘OS.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~<c°dio
>

16 
usög
 
«me•a˚
 
	gqrk
;

20 
	$maö
(
¨gc
, *
¨gv
[])

23 #i‡
	`deföed
(
WINDOWS_OS
)

24 c⁄° 
devi˚
[] = "COM3";

25 #ñi‡
	`deföed
(
LINUX_OS
)

27 c⁄° 
devi˚
[] = "/dev/ttyACM0";

29 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

32 
SîülDevi˚
 
c⁄
;

33 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

34 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

35 #i‡
	`deföed
(
WINDOWS_OS
)

36 
	`¥ötf
("HitÑeturn key.\n");

37 
	`gëch¨
();

39 
	`exô
(1);

43 
åy_baudøã
[] = { 115200, 19200, 38400 };

44 
size_t
 
åy_times
 = (
åy_baudøã
)/(try_baudrate[0]);

45 
size_t
 
i
 = 0; i < 
åy_times
; ++i) {

48 
	`¥ötf
("£àho° baudøã: %ld\n", 
åy_baudøã
[
i
]);

49 
c⁄
.
	`£tBaudøã
(
åy_baudøã
[
i
]);

50 
c⁄
.
	`Êush
();

52 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

55 íum { 
LöeMax
 = 64 + 1, 
Timeout
 = 200 };

56 
buf„r
[
LöeMax
];

57 
n
;

58 (
n
 = 
	`ªadlöe
(&
c⁄
, 
buf„r
, 
LöeMax
, 
Timeout
)) > 0) {

59 
	`¥ötf
("%s\n", 
buf„r
);

63 #i‡
	`deföed
(
WINDOWS_OS
)

64 
	`¥ötf
("HitÑeturn key.\n");

65 
	`gëch¨
();

69 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_tm.cpp

11 
	~"SîülDevi˚.h
"

12 
	~"C⁄√˘i⁄Utûs.h
"

13 
	~"ScùUtûs.h
"

14 
	~"Dëe˘OS.h
"

15 
	~<c°dio
>

17 
usög
 
«me•a˚
 
	gqrk
;

20 
	$ªcvTm1Rïly
(
C⁄√˘i⁄
* 
c⁄
, 
timeout
)

22 
c⁄
->
	`£nd
("TM1\n", 4);

25 
ªt
 = 
	`ªcvRïly
(
c⁄
, 
timeout
);

26 i‡(
ªt
 != 0x00) {

27 
	`Ârötf
(
°dîr
, "ªcvRïly: %d\n", 
ªt
);

32 íum { 
Time°ampLöe
 = 5 + 1 };

33 
buf„r
[
Time°ampLöe
];

34 
n
 = 
	`ªadlöe
(
c⁄
, 
buf„r
, 
Time°ampLöe
, 
timeout
);

35 
time°amp
 = 0;

36 i‡(
n
 == 5) {

38 
	`¥ötf
("%s\n", 
buf„r
);

41 
time°amp
 = 
	`decode
(
buf„r
, 4);

45 
ªcv_ch
 = '\0';

46 
n
 = 
c⁄
->
	`ª˚ive
(&
ªcv_ch
, 1, 
timeout
);

47 i‡(! 
	`isLF
(
ªcv_ch
)) {

51  
time°amp
;

52 
	}
}

56 
	$maö
(
¨gc
, *
¨gv
[]) {

59 #i‡
	`deföed
(
WINDOWS_OS
)

60 c⁄° 
devi˚
[] = "COM3";

61 #ñi‡
	`deföed
(
LINUX_OS
)

62 c⁄° 
devi˚
[] = "/dev/ttyACM0";

64 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

67 
SîülDevi˚
 
c⁄
;

68 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

69 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

70 #i‡
	`deföed
(
WINDOWS_OS
)

71 
	`¥ötf
("HitÑeturn key.\n");

72 
	`gëch¨
();

74 
	`exô
(1);

78 íum { 
Timeout
 = 200 };

79 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

80 
	`skù
(&
c⁄
, 
Timeout
);

83 
c⁄
.
	`£nd
("TM0\n", 4);

84 
ªt
 = 
	`ªcvRïly
(&
c⁄
, 
Timeout
);

85 i‡(
ªt
 != 0x00) {

86 
	`¥ötf
("%d: PÀa£ÑeboŸ URG.\n", 
ªt
);

87 #i‡
	`deföed
(
WINDOWS_OS
)

88 
	`¥ötf
("HitÑeturn key.\n");

89 
	`gëch¨
();

91 
	`exô
(1);

94 íum { 
TryTimes
 = 3 };

95 
i
 = 0; i < 
TryTimes
; ++i) {

97 
time°amp
 = 
	`ªcvTm1Rïly
(&
c⁄
, 
Timeout
);

98 
	`¥ötf
("=> %ld [m£c]\n\n", 
time°amp
);

102 
c⁄
.
	`£nd
("TM2\n", 4);

103 
ªt
 = 
	`ªcvRïly
(&
c⁄
, 
Timeout
);

104 i‡(
ªt
 != 0x00) {

105 
	`¥ötf
("%d: PÀa£ÑeboŸ URG.\n", 
ªt
);

106 #i‡
	`deföed
(
WINDOWS_OS
)

107 
	`¥ötf
("HitÑeturn key.\n");

108 
	`gëch¨
();

110 
	`exô
(1);

112 
	`¥ötf
("exitÇormaly.\n");

114 #i‡
	`deföed
(
WINDOWS_OS
)

115 
	`¥ötf
("HitÑeturn key.\n");

116 
	`gëch¨
();

120 
	}
}

	@processors/laser/urg-0.8.18/samples/scip_samples/scip_20_vv.cpp

11 
	~"SîülDevi˚.h
"

12 
	~"Dëe˘OS.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~<c°dio
>

15 
	~<c°dlib
>

17 
usög
 
«me•a˚
 
	gqrk
;

21 
	$maö
(
¨gc
, *
¨gv
[])

24 #i‡
	`deföed
(
WINDOWS_OS
)

25 c⁄° 
devi˚
[] = "COM3";

26 #ñi‡
	`deföed
(
LINUX_OS
)

27 c⁄° 
devi˚
[] = "/dev/ttyACM0";

29 c⁄° 
devi˚
[] = "/dev/tty.usbmodem1d11";

32 
SîülDevi˚
 
c⁄
;

33 i‡(! 
c⁄
.
	`c⁄√˘
(
devi˚
, 19200)) {

34 
	`¥ötf
("SîülDevi˚::c⁄√˘: %s\n", 
c⁄
.
	`wh©
());

35 #i‡
	`deföed
(
WINDOWS_OS
)

36 
	`¥ötf
("HitÑeturn key.\n");

37 
	`gëch¨
();

39 
	`exô
(1);

43 íum { 
Timeout
 = 200 };

44 
c⁄
.
	`£nd
("SCIP2.0\n", 8);

45 
	`skù
(&
c⁄
, 
Timeout
);

48 
c⁄
.
	`£nd
("VV\n", 3);

51 íum { 
LöeMax
 = 64 + 1 };

52 
buf„r
[
LöeMax
];

53 
n
;

54 (
n
 = 
	`ªadlöe
(&
c⁄
, 
buf„r
, 
LöeMax
, 
Timeout
)) > 0) {

55 
	`¥ötf
("%s\n", 
buf„r
);

58 #i‡
	`deföed
(
WINDOWS_OS
)

59 
	`¥ötf
("HitÑeturn key.\n");

60 
	`gëch¨
();

64 
	}
}

	@processors/laser/urg-0.8.18/src/c/connection/ring_buffer.c

10 
	~"rög_buf„r.h
"

13 
	$rög_öôülize
(
rögBuf„r_t
 *
rög
, *
buf„r
, c⁄° 
shi·_Àngth
)

15 
rög
->
buf„r
 = buffer;

16 
rög
->
buf„r_size
 = 1 << 
shi·_Àngth
;

17 
	`rög_˛ór
(
rög
);

18 
	}
}

21 
	$rög_˛ór
(
rögBuf„r_t
 *
rög
)

23 
rög
->
fú°
 = 0;

24 
rög
->
œ°
 = 0;

25 
	}
}

28 
	$rög_size
(c⁄° 
rögBuf„r_t
 *
rög
)

30 
fú°
 = 
rög
->first;

31 
œ°
 = 
rög
->last;

33  (
œ°
 >
fú°
Ë?Üa° - fú° : 
rög
->
buf„r_size
 - (first -Üast);

34 
	}
}

37 
	$rög_ˇ∑côy
(c⁄° 
rögBuf„r_t
 *
rög
)

39  
rög
->
buf„r_size
 - 1;

40 
	}
}

43 
	$ch¨move
(*
de°
, c⁄° *
§c
, 
n
)

45 c⁄° *
œ°_p
 = 
de°
 + 
n
;

46 
de°
 < 
œ°_p
) {

47 *
de°
++ = *
§c
++;

49 
	}
}

52 
	$rög_wrôe
(
rögBuf„r_t
 *
rög
, c⁄° *
d©a
, 
size
)

54 
‰ì_size
 = 
	`rög_ˇ∑côy
(
rög
Ë- 
	`rög_size
(ring);

55 
push_size
 = (
size
 > 
‰ì_size
) ? free_size : size;

58 i‡(
rög
->
fú°
 <rög->
œ°
) {

60 
À·_size
 = 0;

61 
to_íd
 = 
rög
->
buf„r_size
 -Ñög->
œ°
;

62 
move_size
 = (
to_íd
 > 
push_size
) ?Öush_size :Åo_end;

64 
	`ch¨move
(&
rög
->
buf„r
[rög->
œ°
], 
d©a
, 
move_size
);

65 
rög
->
œ°
 +
move_size
;

66 
rög
->
œ°
 &‘ög->
buf„r_size
 -1);

68 
À·_size
 = 
push_size
 - 
move_size
;

69 i‡(
À·_size
 > 0) {

71 
	`ch¨move
(
rög
->
buf„r
, &
d©a
[
move_size
], 
À·_size
);

72 
rög
->
œ°
 = 
À·_size
;

76 
	`ch¨move
(&
rög
->
buf„r
[rög->
œ°
], 
d©a
, 
size
);

77 
rög
->
œ°
 +
push_size
;

79  
push_size
;

80 
	}
}

83 
	$rög_ªad
(
rögBuf„r_t
 *
rög
, *
buf„r
, 
size
)

86 
now_size
 = 
	`rög_size
(
rög
);

87 
p›_size
 = (
size
 > 
now_size
) ?Çow_size : size;

89 i‡(
rög
->
fú°
 <rög->
œ°
) {

90 
	`ch¨move
(
buf„r
, &
rög
->buf„r[rög->
fú°
], 
p›_size
);

91 
rög
->
fú°
 +
p›_size
;

95 
À·_size
 = 0;

96 
to_íd
 = 
rög
->
buf„r_size
 -Ñög->
fú°
;

97 
move_size
 = (
to_íd
 > 
p›_size
) ?Öop_size :Åo_end;

98 
	`ch¨move
(
buf„r
, &
rög
->buf„r[rög->
fú°
], 
move_size
);

100 
rög
->
fú°
 +
move_size
;

101 
rög
->
fú°
 &‘ög->
buf„r_size
 -1);

103 
À·_size
 = 
p›_size
 - 
move_size
;

104 i‡(
À·_size
 > 0) {

106 
	`ch¨move
(&
buf„r
[
move_size
], 
rög
->buf„r, 
À·_size
);

108 
rög
->
fú°
 = 
À·_size
;

111  
p›_size
;

112 
	}
}

	@processors/laser/urg-0.8.18/src/c/connection/ring_buffer.h

1 #i‚de‡
RING_BUFFER_H


2 
	#RING_BUFFER_H


	)

17 *
	mbuf„r
;

18 
	mbuf„r_size
;

19 
	mfú°
;

20 
	mœ°
;

21 } 
	trögBuf„r_t
;

31 
rög_öôülize
(
rögBuf„r_t
 *
rög
,

32 *
buf„r
, c⁄° 
shi·_Àngth
);

40 
rög_˛ór
(
rögBuf„r_t
 *
rög
);

48 
rög_size
(c⁄° 
rögBuf„r_t
 *
rög
);

56 
rög_ˇ∑côy
(c⁄° 
rögBuf„r_t
 *
rög
);

68 
rög_wrôe
(
rögBuf„r_t
 *
rög
, c⁄° *
d©a
, 
size
);

80 
rög_ªad
(
rögBuf„r_t
 *
rög
, *
buf„r
, 
size
);

	@processors/laser/urg-0.8.18/src/c/connection/serial_ctrl.c

13 
	~"£rül_˘æ.h
"

15 #i‡
deföed
(
WINDOWS_OS
)

17 
	~"£rül_˘æ_wö.c
"

21 
	~"£rül_˘æ_lö.c
"

	@processors/laser/urg-0.8.18/src/c/connection/serial_ctrl.h

1 #i‚de‡
QRK_C_SERIAL_CTRL_H


2 
	#QRK_C_SERIAL_CTRL_H


	)

15 
	~"£rül_t.h
"

18 
£rül_öôülize
(
£rül_t
 *
£rül
);

31 
£rül_c⁄√˘
(
£rül_t
 *
£rül
, c⁄° *
devi˚
, 
baudøã
);

39 
£rül_disc⁄√˘
(
£rül_t
 *
£rül
);

50 
£rül_isC⁄√˘ed
(c⁄° 
£rül_t
 *
£rül
);

62 
£rül_£tBaudøã
(
£rül_t
 *
£rül
, 
baudøã
);

75 
£rül_£nd
(
£rül_t
 *
£rül
, c⁄° *
d©a
, 
d©a_size
);

89 
£rül_ªcv
(
£rül_t
 *
£rül
,

90 *
d©a
, 
d©a_size_max
, 
timeout
);

101 
£rül_ungëc
(
£rül_t
 *
£rül
, 
ch
);

107 
£rül_˛ór
(
£rül_t
* 
£rül
);

	@processors/laser/urg-0.8.18/src/c/connection/serial_ctrl_lin.c

13 
	~"£rül_î∫o.h
"

14 
	~"rög_buf„r.h
"

15 
	~<uni°d.h
>

16 
	~<°dio.h
>

17 
	~<f˙é.h
>

18 
	~<î∫o.h
>

19 
	~<°rög.h
>

24 
	mFÆ£
 = 0,

25 
	mTrue
,

30 
	mInvÆidFd
 = -1,

34 
	$£rül_öôülize
(
£rül_t
 *
£rül
)

36 
£rül
->
fd_
 = 
InvÆidFd
;

37 
£rül
->
î∫o_
 = 
SîülNoEº‹
;

38 
£rül
->
has_œ°_ch_
 = 
FÆ£
;

40 
	`rög_öôülize
(&
£rül
->
rög_
, sîül->
buf„r_
, 
RögBuf„rSizeShi·
);

41 
	}
}

45 
	$£rül_c⁄√˘
(
£rül_t
 *
£rül
, c⁄° *
devi˚
, 
baudøã
)

47 
Êags
 = 0;

48 
ªt
 = 0;

50 
	`£rül_öôülize
(
£rül
);

52 #i‚de‡
MAC_OS


53 íum { 
O_EXLOCK
 = 0x0 };

55 
£rül
->
fd_
 = 
	`›í
(
devi˚
, 
O_RDWR
 | 
O_EXLOCK
 | 
O_NONBLOCK
 | 
O_NOCTTY
);

56 i‡(
£rül
->
fd_
 < 0) {

58 
	`°ªº‹_r
(
î∫o
, 
£rül
->
îr‹_°rög_
, 
SîülEº‹SåögSize
);

59  
SîülC⁄√˘i⁄Faû
;

62 
Êags
 = 
	`f˙é
(
£rül
->
fd_
, 
F_GETFL
, 0);

63 
	`f˙é
(
£rül
->
fd_
, 
F_SETFL
, 
Êags
 & ~
O_NONBLOCK
);

66 
	`tcgë©å
(
£rül
->
fd_
, &£rül->
sio_
);

67 
£rül
->
sio_
.
c_iÊag
 = 0;

68 
£rül
->
sio_
.
c_oÊag
 = 0;

69 
£rül
->
sio_
.
c_cÊag
 &~(
CSIZE
 | 
PARENB
 | 
CSTOPB
);

70 
£rül
->
sio_
.
c_cÊag
 |
CS8
 | 
CREAD
 | 
CLOCAL
;

71 
£rül
->
sio_
.
c_lÊag
 &~(
ICANON
 | 
ECHO
 | 
ISIG
 | 
IEXTEN
);

73 
£rül
->
sio_
.
c_cc
[
VMIN
] = 0;

74 
£rül
->
sio_
.
c_cc
[
VTIME
] = 0;

77 
ªt
 = 
	`£rül_£tBaudøã
(
£rül
, 
baudøã
);

78 i‡(
ªt
 < 0) {

79  
ªt
;

83 
£rül
->
has_œ°_ch_
 = 
FÆ£
;

86 
	}
}

90 
	$£rül_disc⁄√˘
(
£rül_t
 *
£rül
)

92 i‡(
£rül
->
fd_
 >= 0) {

93 
	`˛o£
(
£rül
->
fd_
);

94 
£rül
->
fd_
 = 
InvÆidFd
;

96 
	}
}

99 
	$£rül_isC⁄√˘ed
(c⁄° 
£rül_t
 *
£rül
)

101  ((
£rül
 =
NULL
Ë|| (£rül->
fd_
 =
InvÆidFd
)) ? 0 : 1;

102 
	}
}

106 
	$£rül_£tBaudøã
(
£rül_t
 *
£rül
, 
baudøã
)

108 
baudøã_vÆue
 = -1;

110 
baudøã
) {

112 
baudøã_vÆue
 = 
B4800
;

116 
baudøã_vÆue
 = 
B9600
;

120 
baudøã_vÆue
 = 
B19200
;

124 
baudøã_vÆue
 = 
B38400
;

128 
baudøã_vÆue
 = 
B57600
;

132 
baudøã_vÆue
 = 
B115200
;

136  
SîülSëBaudøãFaû
;

140 
	`cf£to•ìd
(&
£rül
->
sio_
, 
baudøã_vÆue
);

141 
	`cf£ti•ìd
(&
£rül
->
sio_
, 
baudøã_vÆue
);

142 
	`tc£èâr
(
£rül
->
fd_
, 
TCSADRAIN
, &£rül->
sio_
);

143 
	`£rül_˛ór
(
£rül
);

146 
	}
}

150 
	$£rül_£nd
(
£rül_t
 *
£rül
, c⁄° *
d©a
, 
d©a_size
)

152 i‡(! 
	`£rül_isC⁄√˘ed
(
£rül
)) {

153  
SîülC⁄√˘i⁄Faû
;

155  
	`wrôe
(
£rül
->
fd_
, 
d©a
, 
d©a_size
);

156 
	}
}

159 
	$waôRe˚ive
(
£rül_t
* 
£rül
, 
timeout
)

161 
fd_£t
 
rfds
;

162 
timevÆ
 
tv
;

165 
	`FD_ZERO
(&
rfds
);

166 
	`FD_SET
(
£rül
->
fd_
, &
rfds
);

168 
tv
.
tv_£c
 = 
timeout
 / 1000;

169 
tv
.
tv_u£c
 = (
timeout
 % 1000) * 1000;

171 i‡(
	`£À˘
(
£rül
->
fd_
 + 1, &
rfds
, 
NULL
, NULL,

172 (
timeout
 < 0Ë? 
NULL
 : &
tv
) <= 0) {

177 
	}
}

180 
	$öã∫Æ_ª˚ive
(
d©a
[], 
d©a_size_max
,

181 
£rül_t
* 
£rül
, 
timeout
)

183 
fûÀd
 = 0;

185 i‡(
d©a_size_max
 <= 0) {

189 
fûÀd
 < 
d©a_size_max
) {

190 
ªquúe_n
;

191 
ªad_n
;

193 i‡(! 
	`waôRe˚ive
(
£rül
, 
timeout
)) {

197 
ªquúe_n
 = 
d©a_size_max
 - 
fûÀd
;

198 
ªad_n
 = 
	`ªad
(
£rül
->
fd_
, &
d©a
[
fûÀd
], 
ªquúe_n
);

199 i‡(
ªad_n
 <= 0) {

203 
fûÀd
 +
ªad_n
;

205  
fûÀd
;

206 
	}
}

210 
	$£rül_ªcv
(
£rül_t
 *
£rül
, * 
d©a
, 
d©a_size_max
, 
timeout
)

212 
fûÀd
;

213 
ªad_n
;

214 
buf„r_size
;

216 i‡(
d©a_size_max
 <= 0) {

221 
fûÀd
 = 0;

222 i‡(
£rül
->
has_œ°_ch_
 !
FÆ£
) {

223 
d©a
[0] = 
£rül
->
œ°_ch_
;

224 
£rül
->
has_œ°_ch_
 = 
FÆ£
;

225 ++
fûÀd
;

228 i‡(! 
	`£rül_isC⁄√˘ed
(
£rül
)) {

229 i‡(
fûÀd
 > 0) {

230  
fûÀd
;

232  
SîülC⁄√˘i⁄Faû
;

235 
buf„r_size
 = 
	`rög_size
(&
£rül
->
rög_
);

236 
ªad_n
 = 
d©a_size_max
 - 
fûÀd
;

237 i‡(
buf„r_size
 < 
ªad_n
) {

239 
buf„r
[
RögBuf„rSize
];

240 
n
 = 
	`öã∫Æ_ª˚ive
(
buf„r
,

241 
	`rög_ˇ∑côy
(&
£rül
->
rög_
Ë- 
buf„r_size
,

242 
£rül
, 0);

243 
	`rög_wrôe
(&
£rül
->
rög_
, 
buf„r
, 
n
);

245 
buf„r_size
 = 
	`rög_size
(&
£rül
->
rög_
);

248 i‡(
ªad_n
 > 
buf„r_size
) {

249 
ªad_n
 = 
buf„r_size
;

251 i‡(
ªad_n
 > 0) {

252 
	`rög_ªad
(&
£rül
->
rög_
, &
d©a
[
fûÀd
], 
ªad_n
);

253 
fûÀd
 +
ªad_n
;

257 
fûÀd
 +
	`öã∫Æ_ª˚ive
(&
d©a
[filled],

258 
d©a_size_max
 - 
fûÀd
, 
£rül
, 
timeout
);

259  
fûÀd
;

260 
	}
}

264 
	$£rül_ungëc
(
£rül_t
 *
£rül
, 
ch
)

266 
£rül
->
has_œ°_ch_
 = 
True
;

267 
£rül
->
œ°_ch_
 = 
ch
;

268 
	}
}

271 
	$£rül_˛ór
(
£rül_t
* 
£rül
)

273 
	`tcdøö
(
£rül
->
fd_
);

274 
	`tcÊush
(
£rül
->
fd_
, 
TCIOFLUSH
);

275 
	`rög_˛ór
(&
£rül
->
rög_
);

276 
£rül
->
has_œ°_ch_
 = 
FÆ£
;

277 
	}
}

	@processors/laser/urg-0.8.18/src/c/connection/serial_ctrl_win.c

12 
	~"£rül_˘æ.h
"

13 
	~"£rül_î∫o.h
"

14 
	~"rög_buf„r.h
"

15 
	~<°dio.h
>

19 
	mFÆ£
 = 0,

20 
	mTrue
,

24 
	$£tTimeout
(
£rül_t
 *
£rül
, 
timeout
)

26 
COMMTIMEOUTS
 
timeouts
;

27 
	`GëCommTimeouts
(
£rül
->
hCom_
, &
timeouts
);

29 
timeouts
.
RódI¡îvÆTimeout
 = (
timeout
 =0Ë? 
MAXDWORD
 : 0;

30 
timeouts
.
RódTŸÆTimeoutC⁄°™t
 = 
timeout
;

31 
timeouts
.
RódTŸÆTimeoutMu…ùlõr
 = 0;

33 
	`SëCommTimeouts
(
£rül
->
hCom_
, &
timeouts
);

34 
	}
}

37 
	$£rül_öôülize
(
£rül_t
 *
£rül
)

39 
£rül
->
hCom_
 = 
INVALID_HANDLE_VALUE
;

40 
£rül
->
î∫o_
 = 
SîülNoEº‹
;

41 
£rül
->
has_œ°_ch_
 = 
FÆ£
;

43 
	`rög_öôülize
(&
£rül
->
rög_
, sîül->
buf„r_
, 
RögBuf„rSizeShi·
);

44 
	}
}

48 
	$£rül_c⁄√˘
(
£rül_t
 *
£rül
, c⁄° *
devi˚
, 
baudøã
)

51 íum { 
NameLígth
 = 11 };

52 
adju°ed_devi˚
[
NameLígth
];

54 
	`£rül_öôülize
(
£rül
);

57 
	`_¢¥ötf
(
adju°ed_devi˚
, 
NameLígth
, "\\\\.\\%s", 
devi˚
);

58 
£rül
->
hCom_
 = 
	`Cª©eFûeA
(
adju°ed_devi˚
, 
GENERIC_READ
 | 
GENERIC_WRITE
, 0,

59 
NULL
, 
OPEN_EXISTING
, 
FILE_ATTRIBUTE_NORMAL
, NULL);

61 i‡(
£rül
->
hCom_
 =
INVALID_HANDLE_VALUE
) {

62 
	`¥ötf
("›í faûed: %s\n", 
devi˚
);

67 
	`SëupComm
(
£rül
->
hCom_
, 4096 * 8, 4096);

70 
	`£rül_£tBaudøã
(
£rül
, 
baudøã
);

73 
£rül
->
has_œ°_ch_
 = 
FÆ£
;

76 
£rül
->
cuºít_timeout_
 = 0;

77 
	`£tTimeout
(
£rül
, sîül->
cuºít_timeout_
);

80 
	}
}

84 
	$£rül_disc⁄√˘
(
£rül_t
 *
£rül
)

86 i‡(
£rül
->
hCom_
 !
INVALID_HANDLE_VALUE
) {

87 
	`Clo£H™dÀ
(
£rül
->
hCom_
);

88 
£rül
->
hCom_
 = 
INVALID_HANDLE_VALUE
;

90 
	}
}

93 
	$£rül_isC⁄√˘ed
(c⁄° 
£rül_t
 *
£rül
)

95  (
£rül
->
hCom_
 =
INVALID_HANDLE_VALUE
) ? 0 : 1;

96 
	}
}

100 
	$£rül_£tBaudøã
(
£rül_t
 *
£rül
, 
baudøã
)

102 
baudøã_vÆue
;

103 
DCB
 
dcb
;

105 
baudøã
) {

108 
baudøã_vÆue
 = 
CBR_4800
;

112 
baudøã_vÆue
 = 
CBR_9600
;

116 
baudøã_vÆue
 = 
CBR_19200
;

120 
baudøã_vÆue
 = 
CBR_38400
;

124 
baudøã_vÆue
 = 
CBR_57600
;

128 
baudøã_vÆue
 = 
CBR_115200
;

132 
baudøã_vÆue
 = 
baudøã
;

135 
	`GëCommSèã
(
£rül
->
hCom_
, &
dcb
);

136 
dcb
.
BaudR©e
 = 
baudøã_vÆue
;

137 
dcb
.
ByãSize
 = 8;

138 
dcb
.
P¨ôy
 = 
NOPARITY
;

139 
dcb
.
fP¨ôy
 = 
FALSE
;

140 
dcb
.
St›Bôs
 = 
ONESTOPBIT
;

141 
	`SëCommSèã
(
£rül
->
hCom_
, &
dcb
);

144 
	}
}

148 
	$£rül_£nd
(
£rül_t
 *
£rül
, c⁄° *
d©a
, 
d©a_size
)

150 
DWORD
 
n
;

152 i‡(
d©a_size
 < 0) {

156 i‡(! 
	`£rül_isC⁄√˘ed
(
£rül
)) {

157  
SîülC⁄√˘i⁄Faû
;

160 
	`WrôeFûe
(
£rül
->
hCom_
, 
d©a
, (
DWORD
)
d©a_size
, &
n
, 
NULL
);

161  
n
;

162 
	}
}

165 
	$öã∫Æ_ª˚ive
(
d©a
[], 
d©a_size_max
,

166 
£rül_t
* 
£rül
, 
timeout
)

168 
fûÀd
 = 0;

169 
DWORD
 
n
;

171 i‡(
timeout
 !
£rül
->
cuºít_timeout_
) {

172 
	`£tTimeout
(
£rül
, 
timeout
);

173 
£rül
->
cuºít_timeout_
 = 
timeout
;

176 
	`RódFûe
(
£rül
->
hCom_
, &
d©a
[
fûÀd
],

177 (
DWORD
)
d©a_size_max
 - 
fûÀd
, &
n
, 
NULL
);

179  
fûÀd
 + 
n
;

180 
	}
}

184 
	$£rül_ªcv
(
£rül_t
 *
£rül
, * 
d©a
, 
d©a_size_max
, 
timeout
)

186 
fûÀd
 = 0;

187 
buf„r_size
;

188 
ªad_n
;

190 i‡(
d©a_size_max
 <= 0) {

195 i‡(
£rül
->
has_œ°_ch_
) {

196 
d©a
[0] = 
£rül
->
œ°_ch_
;

197 
£rül
->
has_œ°_ch_
 = 
FÆ£
;

198 ++
fûÀd
;

201 i‡(! 
	`£rül_isC⁄√˘ed
(
£rül
)) {

202 i‡(
fûÀd
 > 0) {

203  
fûÀd
;

205  
SîülC⁄√˘i⁄Faû
;

208 
buf„r_size
 = 
	`rög_size
(&
£rül
->
rög_
);

209 
ªad_n
 = 
d©a_size_max
 - 
fûÀd
;

210 i‡(
buf„r_size
 < 
ªad_n
) {

212 
buf„r
[
RögBuf„rSize
];

213 
n
 = 
	`öã∫Æ_ª˚ive
(
buf„r
,

214 
	`rög_ˇ∑côy
(&
£rül
->
rög_
Ë- 
buf„r_size
,

215 
£rül
, 0);

216 
	`rög_wrôe
(&
£rül
->
rög_
, 
buf„r
, 
n
);

218 
buf„r_size
 = 
	`rög_size
(&
£rül
->
rög_
);

221 i‡(
ªad_n
 > 
buf„r_size
) {

222 
ªad_n
 = 
buf„r_size
;

224 i‡(
ªad_n
 > 0) {

225 
	`rög_ªad
(&
£rül
->
rög_
, &
d©a
[
fûÀd
], 
ªad_n
);

226 
fûÀd
 +
ªad_n
;

230 
fûÀd
 +
	`öã∫Æ_ª˚ive
(&
d©a
[filled],

231 
d©a_size_max
 - 
fûÀd
, 
£rül
, 
timeout
);

232  
fûÀd
;

233 
	}
}

237 
	$£rül_ungëc
(
£rül_t
 *
£rül
, 
ch
)

239 
£rül
->
has_œ°_ch_
 = 
True
;

240 
£rül
->
œ°_ch_
 = 
ch
;

241 
	}
}

244 
	$£rül_˛ór
(
£rül_t
* 
£rül
)

246 
	`PurgeComm
(
£rül
->
hCom_
,

247 
PURGE_RXABORT
 | 
PURGE_TXABORT
 | 
PURGE_RXCLEAR
 | 
PURGE_TXCLEAR
);

249 
£rül
->
has_œ°_ch_
 = 
FÆ£
;

250 
	}
}

	@processors/laser/urg-0.8.18/src/c/connection/serial_errno.h

1 #i‚de‡
QRK_C_SERIAL_ERRNO_H


2 
	#QRK_C_SERIAL_ERRNO_H


	)

14 
	mSîülNoEº‹
 = 0,

15 
	mSîülNŸIm∂emíãd
 = -1,

16 
	mSîülC⁄√˘i⁄Faû
 = -2,

17 
	mSîülSídFaû
 = -3,

18 
	mSîülRecvFaû
 = -4,

19 
	mSîülSëBaudøãFaû
 = -5,

	@processors/laser/urg-0.8.18/src/c/connection/serial_t.h

1 #i‚de‡
QRK_C_SERIAL_T_H


2 
	#QRK_C_SERIAL_T_H


	)

13 #i‚de‡
NO_DETECT_OS_H


14 
	~"dëe˘_os.h
"

17 #i‡
deföed
(
WINDOWS_OS
)

18 
	~"£rül_t_wö.h
"

20 #ñi‡
deföed
(
LINUX_OS
Ë|| deföed(
MAC_OS
)

21 
	~"£rül_t_lö.h
"

24 
	~"£rül_t_Ÿhî.h
"

	@processors/laser/urg-0.8.18/src/c/connection/serial_t_lin.h

1 #i‚de‡
QRK_C_SERIAL_T_LIN_H


2 
	#QRK_C_SERIAL_T_LIN_H


	)

13 
	~"rög_buf„r.h
"

14 
	~<ãrmios.h
>

18 
	mSîülEº‹SåögSize
 = 256,

19 
	mRögBuf„rSizeShi·
 = 10,

20 
	mRögBuf„rSize
 = 1 << 
RögBuf„rSizeShi·
,

29 
	mî∫o_
;

30 
	mîr‹_°rög_
[
SîülEº‹SåögSize
];

31 
	mfd_
;

32 
ãrmios
 
	msio_
;

33 
rögBuf„r_t
 
	mrög_
;

34 
	mbuf„r_
[
RögBuf„rSize
];

35 
	mhas_œ°_ch_
;

36 
	mœ°_ch_
;

38 } 
	t£rül_t
;

	@processors/laser/urg-0.8.18/src/c/connection/serial_t_win.h

1 #i‚de‡
QRK_C_SERIAL_T_WIN_H


2 
	#QRK_C_SERIAL_T_WIN_H


	)

13 
	~"rög_buf„r.h
"

14 
	~<wödows.h
>

18 
	mSîülEº‹SåögSize
 = 256,

19 
	mRögBuf„rSizeShi·
 = 10,

20 
	mRögBuf„rSize
 = 1 << 
RögBuf„rSizeShi·
,

28 
	mî∫o_
;

29 
HANDLE
 
	mhCom_
;

30 
	mcuºít_timeout_
;

31 
rögBuf„r_t
 
	mrög_
;

32 
	mbuf„r_
[
RögBuf„rSize
];

33 
	mhas_œ°_ch_
;

34 
	mœ°_ch_
;

36 } 
	t£rül_t
;

	@processors/laser/urg-0.8.18/src/c/connection/serial_utils.c

10 
	~"£rül_utûs.h
"

11 
	~"£rül_˘æ.h
"

13 
	~<°dio.h
>

14 
	~<˘y≥.h
>

18 
	$£rül_isLF
(c⁄° 
ch
)

20  ((
ch
 == '\r') || (ch == '\n')) ? 1 : 0;

21 
	}
}

25 
	$£rül_skù
(
£rül_t
 *
£rül
, 
tŸÆ_timeout
, 
óch_timeout
)

27 
ªcv_ch
;

30 
£rül
->
œ°_ch_
 = '\0';

32 i‡(
óch_timeout
 <= 0) {

33 
óch_timeout
 = 
tŸÆ_timeout
;

38 
n
 = 
	`£rül_ªcv
(
£rül
, &
ªcv_ch
, 1, 
óch_timeout
);

39 i‡(
n
 <= 0) {

43 
	}
}

47 
	$£rül_gëLöe
(
£rül_t
 *
£rül
, * 
d©a
, 
d©a_size_max
,

48 
timeout
)

51 
fûÀd
 = 0;

52 
is_timeout
 = 0;

54 
fûÀd
 < 
d©a_size_max
) {

55 
ªcv_ch
;

56 
n
 = 
	`£rül_ªcv
(
£rül
, &
ªcv_ch
, 1, 
timeout
);

57 i‡(
n
 <= 0) {

58 
is_timeout
 = 1;

60 } i‡(
	`£rül_isLF
(
ªcv_ch
)) {

63 
d©a
[
fûÀd
++] = 
ªcv_ch
;

65 i‡(
fûÀd
 =
d©a_size_max
) {

66 --
fûÀd
;

67 
	`£rül_ungëc
(
£rül
, 
d©a
[
fûÀd
]);

69 
d©a
[
fûÀd
] = '\0';

71 i‡((
fûÀd
 =0Ë&& 
is_timeout
) {

74  
fûÀd
;

76 
	}
}

	@processors/laser/urg-0.8.18/src/c/connection/serial_utils.h

1 #i‚de‡
QRK_SERIAL_UTILS_H


2 
	#QRK_SERIAL_UTILS_H


	)

15 
	~"£rül_t.h
"

24 
£rül_isLF
(c⁄° 
ch
);

36 
£rül_skù
(
£rül_t
 *
£rül
, 
tŸÆ_timeout
,

37 
óch_timeout
);

52 
£rül_gëLöe
(
£rül_t
 *
£rül
,

53 *
d©a
, 
d©a_size_max
, 
timeout
);

	@processors/laser/urg-0.8.18/src/c/system/detect_os.h

1 #i‚de‡
QRK_C_DETECT_OS_H


2 
	#QRK_C_DETECT_OS_H


	)

13 #i‡
deföed
 
_MSC_VER
 || deföed 
__CYGWIN__
 || deföed 
__MINGW32__


14 
	#WINDOWS_OS


	)

16 #i‡
deföed
 
_MSC_VER


17 
	#MSC


	)

18 #ñi‡
deföed
 
__CYGWIN__


19 
	#Cygwö


	)

20 #ñi‡
deföed
 
__MINGW32__


21 
	#MöGW


	)

24 #ñi‡
deföed
 
__löux__


25 
	#LINUX_OS


	)

29 
	#MAC_OS


	)

	@processors/laser/urg-0.8.18/src/c/system/math_utils.h

1 #i‚de‡
QRK_C_MATH_UTILS_H


2 
	#QRK_C_MATH_UTILS_H


	)

13 
	~"dëe˘_os.h
"

14 #i‡
deföed
(
WINDOWS_OS
)

15 
	#_USE_MATH_DEFINES


	)

17 
	~<m©h.h
>

19 #i‚de‡
M_PI


21 
	#M_PI
 3.14159265358979323846

	)

	@processors/laser/urg-0.8.18/src/c/system/urg_delay.c

10 
	~"dëe˘_os.h
"

11 #i‡
deföed
(
WINDOWS_OS
)

12 
	~<wödows.h
>

13 
	~<time.h
>

15 
	~<uni°d.h
>

16 
	~<sys/time.h
>

19 #i‡
deföed
(
MSC
)

20 #¥agm®
commít
(
lib
, "winmm.lib")

24 
	mFÆ£
 = 0,

25 
	mTrue
,

28 #i‡
deföed
(
WINDOWS_OS
)

29 
	gis_öôülized_
 = 
FÆ£
;

33 
	$urg_dñay
(
m£c
)

35 #i‡
	`deföed
(
WINDOWS_OS
)

36 i‡(
is_öôülized_
 =
FÆ£
) {

37 
	`timeBegöPîiod
(1);

38 
is_öôülized_
 = 
True
;

40 
	`SÀï
(
m£c
);

44 
	`u¶ìp
(1000 * 
m£c
);

46 
	}
}

	@processors/laser/urg-0.8.18/src/c/system/urg_delay.h

1 #i‚de‡
QRK_C_URG_DELAY_H


2 
	#QRK_C_URG_DELAY_H


	)

13 #ifde‡
__˝lu•lus


25 
urg_dñay
(
m£c
);

27 #ifde‡
__˝lu•lus


	@processors/laser/urg-0.8.18/src/c/system/urg_ticks.c

10 
	~"urg_ticks.h
"

11 
	~"dëe˘_os.h
"

12 #i‡
deföed
 
WINDOWS_OS


13 
	~<time.h
>

15 
	~<sys/time.h
>

16 
	~<°dio.h
>

20 
	$urg_ticks
()

22 
cuºít_ticks
 = 0;

24 #i‡
	`deföed
(
LINUX_OS
)

26 
fú°_ticks
 = 0;

27 
timevÆ
 
tvp
;

28 
	`gëtimeofday
(&
tvp
, 
NULL
);

29 
globÆ_ticks
 = 
tvp
.
tv_£c
 * 1000 +Åvp.
tv_u£c
 / 1000;

30 i‡(
fú°_ticks
 == 0) {

31 
fú°_ticks
 = 
globÆ_ticks
;

33 
cuºít_ticks
 = 
globÆ_ticks
 - 
fú°_ticks
;

36 
cuºít_ticks
 = ()(
	`˛ock
(Ë/ (
CLOCKS_PER_SEC
 / 1000.0));

38  
cuºít_ticks
;

39 
	}
}

	@processors/laser/urg-0.8.18/src/c/system/urg_ticks.h

1 #i‚de‡
QRK_C_URG_TICKS_H


2 
	#QRK_C_URG_TICKS_H


	)

13 #ifde‡
__˝lu•lus


23 
urg_ticks
();

25 #ifde‡
__˝lu•lus


	@processors/laser/urg-0.8.18/src/c/urg/scip_handler.c

13 
	~"scù_h™dÀr.h
"

14 
	~"£rül_î∫o.h
"

15 
	~"£rül_˘æ.h
"

16 
	~"£rül_utûs.h
"

17 
	~"urg_î∫o.h
"

18 
	~<°dio.h
>

19 
	~<°dlib.h
>

20 
	~<°rög.h
>

21 
	~<˘y≥.h
>

23 #i‡
deföed
(
WINDOWS_OS
)

24 
	#¢¥ötf
 
_¢¥ötf


	)

33 
	mScùTimeout
 = 1000,

34 
	mEachTimeout
 = 100,

39 
	$scù_£nd
(
£rül_t
 *
£rül
, c⁄° *
£nd_comm™d
)

41 
n
 = ()
	`°æí
(
£nd_comm™d
);

42  
	`£rül_£nd
(
£rül
, 
£nd_comm™d
, 
n
);

43 
	}
}

51 
	$scù_ªcv
(
£rül_t
 *
£rül
, c⁄° *
comm™d_fú°
,

52 * 
ªtu∫_code
, 
ex≥˘ed_ªt
[], 
timeout
)

54 
ªcv_ch
 = '\0';

55 
ªt_code
 = 0;

56 
n
;

57 
i
;

60 
buf„r
[
ScùLöeWidth
];

63 
n
 = 
	`£rül_gëLöe
(
£rül
, 
buf„r
, 
ScùLöeWidth
, 
timeout
);

64 i‡(
n
 < 0) {

65  
UrgSîülRecvFaû
;

69 i‡(! ((
n
 =1Ë&& (
buf„r
[0] == 0x00))) {

70 i‡(
	`°∫cmp
(
buf„r
, 
comm™d_fú°
, 2)) {

72  
UrgMism©chRe•⁄£
;

77 
n
 = 
	`£rül_gëLöe
(
£rül
, 
buf„r
, 
ScùLöeWidth
, 
timeout
);

80 
n
 = 
	`£rül_ªcv
(
£rül
, &
ªcv_ch
, 1, 
timeout
);

81 i‡((
n
 =1Ë&& (! 
	`£rül_isLF
(
ªcv_ch
))) {

82 
	`£rül_ungëc
(
£rül
, 
ªcv_ch
);

86 
ªt_code
 = 
	`°πﬁ
(
buf„r
, 
NULL
, 16);

87 i‡(
ªtu∫_code
 !
NULL
) {

88 *
ªtu∫_code
 = 
ªt_code
;

90 
i
 = 0; 
ex≥˘ed_ªt
[i] != -1; ++i) {

91 i‡(
ªt_code
 =
ex≥˘ed_ªt
[
i
]) {

95  
ªt_code
;

96 
	}
}

100 
	$scù_scù20
(
£rül_t
 *
£rül
)

102 
ex≥˘ed_ªt
[] = { 0x0, 0xE, -1 };

103 
ªt
;

105 
ªt
 = 
	`scù_£nd
(
£rül
, "SCIP2.0\n");

106 i‡(
ªt
 != 8) {

107  
ªt
;

110  
	`scù_ªcv
(
£rül
, "SC", 
NULL
, 
ex≥˘ed_ªt
, 
ScùTimeout
);

111 
	}
}

115 
	$scù_qt
(
£rül_t
 *
£rül
, *
ªtu∫_code
, 
waô_ª∂y
)

117 
ex≥˘ed_ªt
[] = { 0x0, -1 };

118 
ªt
;

120 
ªt
 = 
	`scù_£nd
(
£rül
, "QT\n");

121 i‡(
ªt
 != 3) {

122  
ªt
;

125 i‡(
waô_ª∂y
 =
ScùNoWaôRïly
) {

129 
ªt
 = 
	`scù_ªcv
(
£rül
, "QT", 
ªtu∫_code
, 
ex≥˘ed_ªt
, 
ScùTimeout
);

130 i‡(
ªtu∫_code
 && (*return_code == 0xE)) {

131 *
ªtu∫_code
 = -(*return_code);

132  
UrgScù10
;

135  
ªt
;

136 
	}
}

140 
	$scù_µ
(
£rül_t
 *
£rül
, 
urg_∑ømëî_t
 *
∑ømëîs
)

142 
£nd_n
;

143 
ªt
 = 0;

144 
ex≥˘ed_ª∂y
[] = { 0x0, -1 };

145 
n
;

146 
i
;

148 
buf„r
[
ScùLöeWidth
];

150 
£nd_n
 = 
	`scù_£nd
(
£rül
, "PP\n");

151 i‡(
£nd_n
 != 3) {

152  
SîülSídFaû
;

156 
ªt
 = 
	`scù_ªcv
(
£rül
, "PP", 
NULL
, 
ex≥˘ed_ª∂y
, 
ScùTimeout
);

157 i‡(
ªt
 < 0) {

158  
ªt
;

162 
i
 = 0; i < 
UrgP¨amëîLöes
; ++i) {

163 
n
 = 
	`£rül_gëLöe
(
£rül
, 
buf„r
, 
ScùLöeWidth
, 
ScùTimeout
);

164 i‡(
n
 <= 0) {

165  
ªt
;

170 i‡(
i
 == 0) {

171 
	`°∫˝y
(
∑ømëîs
->
£ns‹_ty≥
, &
buf„r
[5], 8);

172 
∑ømëîs
->
£ns‹_ty≥
[8] = '\0';

174 } i‡(
i
 == 1) {

175 
∑ømëîs
->
di°™˚_mö_
 = 
	`©oi
(&
buf„r
[5]);

177 } i‡(
i
 == 2) {

178 
∑ømëîs
->
di°™˚_max_
 = 
	`©oi
(&
buf„r
[5]);

180 } i‡(
i
 == 3) {

181 
∑ømëîs
->
¨ó_tŸÆ_
 = 
	`©oi
(&
buf„r
[5]);

183 } i‡(
i
 == 4) {

184 
∑ømëîs
->
¨ó_mö_
 = 
	`©oi
(&
buf„r
[5]);

186 } i‡(
i
 == 5) {

187 
∑ømëîs
->
¨ó_max_
 = 
	`©oi
(&
buf„r
[5]);

189 } i‡(
i
 == 6) {

190 
∑ømëîs
->
¨ó_‰⁄t_
 = 
	`©oi
(&
buf„r
[5]);

192 } i‡(
i
 == 7) {

193 
∑ømëîs
->
sˇn_Ωm_
 = 
	`©oi
(&
buf„r
[5]);

198 
	}
}

202 
	$scù_vv
(
£rül_t
 *
£rül
, *
löes
[], 
löes_max
)

204 
£nd_n
;

205 
ªt
 = 0;

206 
ex≥˘ed_ª∂y
[] = { 0x0, -1 };

207 
n
;

208 
i
;

211 
i
 = 0; i < 
löes_max
; ++i) {

212 *
löes
[
i
] = '\0';

216 
£nd_n
 = 
	`scù_£nd
(
£rül
, "VV\n");

217 i‡(
£nd_n
 != 3) {

218  
SîülSídFaû
;

222 
ªt
 = 
	`scù_ªcv
(
£rül
, "VV", 
NULL
, 
ex≥˘ed_ª∂y
, 
ScùTimeout
);

223 i‡(
ªt
 < 0) {

224  
ªt
;

228 
i
 = 0; i < 
löes_max
; ++i) {

229 
n
 = 
	`£rül_gëLöe
(
£rül
, 
löes
[
i
], 
ScùLöeWidth
, 
ScùTimeout
);

230 i‡(
n
 <= 0) {

231  
ªt
;

235 
	`£rül_skù
(
£rül
, 
ScùTimeout
, 
EachTimeout
);

236  
ªt
;

237 
	}
}

241 
	$scù_ss
(
£rül_t
 *
£rül
, 
baudøã
)

243 
ex≥˘ed_ª∂y
[] = { 0x0, 0x3, 0x4, -1 };

244 
£nd_n
;

245 
ªt
;

251 
buf„r
[] = "SSxxxxxx\n";

252 
	`¢¥ötf
(
buf„r
, 10, "SS%06ld\n", 
baudøã
);

253 
£nd_n
 = 
	`scù_£nd
(
£rül
, 
buf„r
);

254 i‡(
£nd_n
 != 9) {

255  
SîülSídFaû
;

259 
ªt
 = 
	`scù_ªcv
(
£rül
, "SS", 
NULL
, 
ex≥˘ed_ª∂y
, 
ScùTimeout
);

260 i‡(
ªt
 < 0) {

261  
ªt
;

265 
	}
}

	@processors/laser/urg-0.8.18/src/c/urg/scip_handler.h

1 #i‚de‡
QRK_C_SCIP_HANDLER_H


2 
	#QRK_C_SCIP_HANDLER_H


	)

13 
	~"urg_∑ømëî_t.h
"

14 
	~"£rül_t.h
"

18 
	mScùNoWaôRïly
 = 0,

19 
	mScùWaôRïly
 = 1,

20 
	mScùLöeWidth
 = 64 + 1 + 1,

33 
scù_£nd
(
£rül_t
 *
£rül
, c⁄° *
£nd_comm™d
);

52 
scù_ªcv
(
£rül_t
 *
£rül
, c⁄° *
comm™d_fú°
,

53 * 
ªtu∫_code
, 
ex≥˘ed_ªt
[],

54 
timeout
);

67 
scù_scù20
(
£rül_t
 *
£rül
);

83 
scù_qt
(
£rül_t
 *
£rül
, *
ªtu∫_code
, 
waô_ª∂y
);

96 
scù_µ
(
£rül_t
 *
£rül
, 
urg_∑ømëî_t
 *
∑ømëîs
);

109 
scù_vv
(
£rül_t
 *
£rül
, *
löes
[], 
löes_max
);

121 
scù_ss
(
£rül_t
 *
£rül
, 
baudøã
);

	@processors/laser/urg-0.8.18/src/c/urg/urg_ctrl.c

10 
	~"m©h_utûs.h
"

11 
	~"urg_˘æ.h
"

12 
	~"scù_h™dÀr.h
"

13 
	~"urg_î∫o.h
"

14 
	~"£rül_˘æ.h
"

15 
	~"£rül_utûs.h
"

16 
	~"£rül_î∫o.h
"

17 
	~"urg_ticks.h
"

18 
	~"urg_dñay.h
"

19 
	~<°rög.h
>

20 
	~<°dlib.h
>

21 
	~<°dio.h
>

23 #i‡
deföed
(
WINDOWS_OS
)

24 
	#¢¥ötf
 
_¢¥ötf


	)

29 
	mScùTimeout
 = 1000,

30 
	mEachTimeout
 = 100 * 2,

32 
	mInvÆidR™ge
 = -1,

36 
	$urg_öôülize
(
urg_t
 *
urg
)

38 
	`£rül_öôülize
(&
urg
->
£rül_
);

39 
urg
->
î∫o_
 = 
UrgNoEº‹
;

40 
urg
->
œ°_time°amp_
 = 0;

41 
	}
}

44 
	$urg_fú°C⁄√˘i⁄
(
urg_t
 *
urg
, 
baudøã
)

46 
åy_baudøãs
[] = { 115200, 19200, 38400 };

47 
åy_size
 = (
åy_baudøãs
) / (try_baudrates[0]);

48 
¥e_ticks
;

49 
ª∂y
 = 0;

50 
ªt
;

51 
i
;

55 
i
 = 1; i < 
åy_size
; ++i) {

56 i‡(
baudøã
 =
åy_baudøãs
[
i
]) {

57 
sw≠_tmp
 = 
åy_baudøãs
[
i
];

58 
åy_baudøãs
[
i
] =Åry_baudrates[0];

59 
åy_baudøãs
[0] = 
sw≠_tmp
;

65 
i
 = 0; i < 
åy_size
; ++i) {

68 
ªt
 = 
	`£rül_£tBaudøã
(&
urg
->
£rül_
, 
åy_baudøãs
[
i
]);

69 i‡(
ªt
 < 0) {

70  
ªt
;

73 
	`£rül_˛ór
(&
urg
->
£rül_
);

76 
ªt
 = 
	`scù_qt
(&
urg
->
£rül_
, &
ª∂y
, 
ScùWaôRïly
);

77 i‡(
ªt
 =
UrgSîülRecvFaû
) {

82 i‡((
ªt
 =
UrgMism©chRe•⁄£
Ë&& (
ª∂y
 != -0xE)) {

86 
	`£rül_˛ór
(&
urg
->
£rül_
);

87 
	`£rül_skù
(&
urg
->
£rül_
, 
ScùTimeout
, 
EachTimeout
);

88 
ª∂y
 = 0x00;

93 i‡(
ª∂y
 != 0x00) {

94 i‡((
ªt
 = 
	`scù_scù20
(&
urg
->
£rül_
)) < 0) {

98 i‡(
ªt
 == 12) {

100  
UrgScù10
;

105 i‡(
baudøã
 =
åy_baudøãs
[
i
]) {

110 
¥e_ticks
 = 
	`urg_ticks
();

111 i‡(
	`scù_ss
(&
urg
->
£rül_
, 
baudøã
) < 0) {

112  
UrgSsFaû
;

117 
ª∂y_m£c
 = 
	`urg_ticks
(Ë- 
¥e_ticks
;

118 
	`urg_dñay
((
ª∂y_m£c
 * 4 / 3) + 10);

120  
	`£rül_£tBaudøã
(&
urg
->
£rül_
, 
baudøã
);

124  
UrgAdju°BaudøãFaû
;

125 
	}
}

128 
	$urg_t_öôülize
(
urg_t
 *
urg
)

130 
urg
->
∑ømëîs_
.
¨ó_max_
 = 0;

131 
urg
->
∑ømëîs_
.
sˇn_Ωm_
 = 0;

132 
urg
->
∑ømëîs_
.
£ns‹_ty≥
[0] = '\0';

133 
urg
->
ªmaö_byã_
 = 0;

134 
	}
}

138 
	$urg_c⁄√˘
(
urg_t
 *
urg
, c⁄° *
devi˚
, 
baudøã
)

140 
ªt
;

141 
	`urg_t_öôülize
(
urg
);

144 
ªt
 = 
	`£rül_c⁄√˘
(&
urg
->
£rül_
, 
devi˚
, 
baudøã
);

145 i‡(
ªt
 != 0) {

146 
urg
->
î∫o_
 = 
UrgSîülC⁄√˘i⁄Faû
;

147  
ªt
;

150 
	`urg_dñay
(0);

153 
ªt
 = 
	`urg_fú°C⁄√˘i⁄
(
urg
, 
baudøã
);

154 i‡(
ªt
 < 0) {

155 
urg
->
î∫o_
 = 
ªt
;

156 
	`£rül_disc⁄√˘
(&
urg
->
£rül_
);

157  
ªt
;

161 
ªt
 = 
	`scù_µ
(&
urg
->
£rül_
, &urg->
∑ømëîs_
);

162 i‡(
ªt
 < 0) {

163 
urg
->
î∫o_
 = 
ªt
;

164 
	`£rül_disc⁄√˘
(&
urg
->
£rül_
);

165  
ªt
;

167 
urg
->
skù_löes_
 = 1;

168 
urg
->
skù_‰ames_
 = 0;

169 
urg
->
ˇ±uª_times_
 = 0;

170 
urg
->
is_œ£r_⁄_
 = 
UrgLa£rUnknown
;

171 
urg
->
ªmaö_times_
 = 0;

173 
urg
->
î∫o_
 = 
UrgNoEº‹
;

175 
	}
}

178 
	$urg_disc⁄√˘
(
urg_t
 *
urg
)

181 
	`urg_œ£rOff
(
urg
);

182 
	`£rül_skù
(&
urg
->
£rül_
, 
ScùTimeout
, 
EachTimeout
);

185 
	`£rül_disc⁄√˘
(&
urg
->
£rül_
);

186 
	}
}

189 
	$urg_isC⁄√˘ed
(c⁄° 
urg_t
 *
urg
)

192  
	`£rül_isC⁄√˘ed
(&
urg
->
£rül_
);

193 
	}
}

196 c⁄° *
	$urg_îr‹
(c⁄° 
urg_t
 *
urg
)

198  
	`urg_°ªº‹
(
urg
->
î∫o_
);

199 
	}
}

202 
	$urg_vîsi⁄Löes
(
urg_t
 *
urg
, * 
löes
[], 
löes_max
)

204 i‡(! 
	`urg_isC⁄√˘ed
(
urg
)) {

207  
	`scù_vv
(&
urg
->
£rül_
, 
löes
, 
löes_max
);

208 
	}
}

212 
	$urg_∑ømëîs
(
urg_t
 *
urg
, 
urg_∑ømëî_t
* 
∑ømëîs
)

214 i‡(
	`urg_isC⁄√˘ed
(
urg
)) {

215 *
∑ømëîs
 = 
urg
->
∑ømëîs_
;

217 
	`scù_µ
(&
urg
->
£rül_
, &urg->
∑ømëîs_
);

218 i‡(
∑ømëîs
) {

219 *
∑ømëîs
 = 
urg
->
∑ømëîs_
;

223 
urg
->
î∫o_
 = 
UrgNoEº‹
;

225 
	}
}

228 c⁄° * 
	$urg_modñ
(c⁄° 
urg_t
 *
urg
)

230  
urg
->
∑ømëîs_
.
£ns‹_ty≥
;

231 
	}
}

234 
	$urg_d©aMax
(c⁄° 
urg_t
 *
urg
)

236  
urg
->
∑ømëîs_
.
¨ó_max_
 + 1;

237 
	}
}

240 
	$urg_sˇnM£c
(c⁄° 
urg_t
 *
urg
)

242 
sˇn_Ωm
 = 
urg
->
∑ømëîs_
.
sˇn_Ωm_
;

243  (
sˇn_Ωm
 <= 0) ? 1 : (1000 * 60 / scan_rpm);

244 
	}
}

247 
	$urg_maxDi°™˚
(c⁄° 
urg_t
 *
urg
)

249  
urg
->
∑ømëîs_
.
di°™˚_max_
;

250 
	}
}

253 
	$urg_möDi°™˚
(c⁄° 
urg_t
 *
urg
)

255  
urg
->
∑ømëîs_
.
di°™˚_mö_
;

256 
	}
}

259 
	$urg_£tSkùLöes
(
urg_t
 *
urg
, 
löes
)

262 i‡(
löes
 == 0) {

263 
löes
 = 1;

265 i‡((
löes
 < 0) || (lines > 99)) {

269 
urg
->
skù_löes_
 = 
löes
;

271 
	}
}

274 
	$urg_£tSkùFømes
(
urg_t
 *
urg
, 
‰ames
)

277 i‡((
‰ames
 < 0) || (frames > 9)) {

281 
urg
->
skù_‰ames_
 = 
‰ames
;

283 
	}
}

286 
	$urg_£tC≠tuªTimes
(
urg_t
 *
urg
, 
times
)

289 i‡((
times
 < 0) || (times >= 100)) {

290 
urg
->
ˇ±uª_times_
 = 0;

292 
urg
->
ˇ±uª_times_
 = 
times
;

296 
	}
}

299 
	$urg_ªmaöC≠tuªTimes
(c⁄° 
urg_t
 *
urg
)

301 i‡(
urg
->
ˇ±uª_times_
 == 0) {

306  
urg
->
ªmaö_times_
;

308 
	}
}

311 
	$urg_ªque°D©a
(
urg_t
 *
urg
,

312 
urg_ªque°_ty≥
 
ªque°_ty≥
,

313 
fú°_ödex
,

314 
œ°_ödex
)

316 
buf„r
[] = "MDsssseeeellstt\n";

318 i‡(
fú°_ödex
 =
URG_FIRST
) {

319 
fú°_ödex
 = 
urg
->
∑ømëîs_
.
¨ó_mö_
;

321 i‡(
œ°_ödex
 =
URG_LAST
) {

322 
œ°_ödex
 = 
urg
->
∑ømëîs_
.
¨ó_max_
;

325 i‡((
ªque°_ty≥
 =
URG_GD
Ë|| (ªque°_ty≥ =
URG_GS
) ||

326 (
ªque°_ty≥
 =
URG_GD_INTENSITY
)) {

329 
	`¢¥ötf
(
buf„r
, 14, "G%c%04d%04d%02d\n",

330 (((
ªque°_ty≥
 =
URG_GD
) ||

331 (
ªque°_ty≥
 =
URG_GD_INTENSITY
)) ? 'D' : 'S'),

332 
fú°_ödex
, 
œ°_ödex
,

333 
urg
->
skù_löes_
);

336 i‡(
urg
->
is_œ£r_⁄_
 !
UrgLa£rOn
) {

337 
ªt
 = 
	`urg_œ£rOn
(
urg
);

338 i‡(
ªt
 < 0) {

339  
ªt
;

343 } i‡((
ªque°_ty≥
 =
URG_MD
Ë|| (ªque°_ty≥ =
URG_MS
) ||

344 (
ªque°_ty≥
 =
URG_MD_INTENSITY
)) {

345 
ty≥
 = (
ªque°_ty≥
 =
URG_MS
) ? 'S' : 'D';

348 
	`¢¥ötf
(
buf„r
, 17, "M%c%04d%04d%02d%d%02d\n",

349 
ty≥
,

350 
fú°_ödex
, 
œ°_ödex
,

351 
urg
->
skù_löes_
,

352 
urg
->
skù_‰ames_
,

353 
urg
->
ˇ±uª_times_
);

354 
urg
->
ªmaö_times_
 = urg->
ˇ±uª_times_
;

357 
urg
->
î∫o_
 = 
UrgInvÆidArgs
;;

358  
urg
->
î∫o_
;

361 i‡((
ªque°_ty≥
 =
URG_GD_INTENSITY
) ||

362 (
ªque°_ty≥
 =
URG_MD_INTENSITY
)) {

363 i‡(! 
	`°rcmp
("UTM-30LX", 
urg
->
∑ømëîs_
.
£ns‹_ty≥
)) {

364 i‡(
ªque°_ty≥
 =
URG_GD_INTENSITY
) {

365 
urg
->
î∫o_
 = 
UtmNoGDI¡ísôy
;

366  
urg
->
î∫o_
;

369 
buf„r
[0] = 'M';

370 
buf„r
[1] = 'E';

373 
buf„r
[10] = '0';

374 
buf„r
[11] = '2';

378 
buf„r
[10] = 'F';

379 
buf„r
[11] = 'F';

383  
	`scù_£nd
(&
urg
->
£rül_
, 
buf„r
);

384 
	}
}

388 
	$decode
(c⁄° * 
d©a
, 
d©a_byã
)

390 c⁄° * 
p
 = 
d©a
;

391 c⁄° * 
œ°_p
 = 
p
 + 
d©a_byã
;

393 
vÆue
 = 0;

394 
p
 < 
œ°_p
) {

395 
vÆue
 <<= 6;

396 
vÆue
 &= ~0x3f;

397 
vÆue
 |*
p
++ - 0x30;

399  
vÆue
;

400 
	}
}

403 
	$c⁄vîtRawD©a
(
d©a
[], 
d©a_max
,

404 c⁄° * 
buf„r
, 
buf„r_size
, 
fûÀd
,

405 
d©a_byãs
, 
skù_löes
,

406 
°‹e_œ°
, 
urg_t
* 
urg
)

408 
n
;

409 
i
;

410 
j
;

411 
ªmaö_byã
 = 
urg
->
ªmaö_byã_
;

412 
Àngth
;

413 *
d©a_p
 = 
d©a
 + 
fûÀd
;

415 i‡(
d©a_max
 > 
°‹e_œ°
) {

416 
d©a_max
 = 
°‹e_œ°
;

419 i‡(
fûÀd
 == 0) {

422 
ªmaö_byã
 = 0;

425 i‡(
buf„r_size
 <= 0) {

426  
fûÀd
;

430 i‡(
ªmaö_byã
 > 0) {

431 
	`mem˝y
(&
urg
->
ªmaö_d©a_
[
ªmaö_byã
], 
buf„r
, 
d©a_byãs
 -Ñemain_byte);

432 
n
 = 
skù_löes
;

433 i‡((
fûÀd
 + 
n
Ë> 
d©a_max
) {

434 
n
 = 
d©a_max
 - 
fûÀd
;

436 
Àngth
 = 
	`decode
(
urg
->
ªmaö_d©a_
, 
d©a_byãs
);

437 
j
 = 0; j < 
n
; ++j) {

438 *
d©a_p
++ = 
Àngth
;

440 
fûÀd
 +
n
;

444 
n
 = 
buf„r_size
 - 
d©a_byãs
;

445 
i
 = (
d©a_byãs
 - 
ªmaö_byã
Ë% d©a_byãs; i <
n
; i += data_bytes) {

446 
Àngth
 = 
	`decode
(&
buf„r
[
i
], 
d©a_byãs
);

447 
j
 = 0; j < 
skù_löes
; ++j) {

448 i‡(
fûÀd
 >
d©a_max
) {

449  
d©a_max
;

451 *
d©a_p
++ = 
Àngth
;

452 ++
fûÀd
;

457 
urg
->
ªmaö_byã_
 = 
buf„r_size
 - 
i
;

458 
	`mem˝y
(
urg
->
ªmaö_d©a_
, &
buf„r
[
i
], urg->
ªmaö_byã_
);

460  
fûÀd
;

461 
	}
}

464 
	$checkSum
(c⁄° 
buf„r
[], 
size
, 
a˘uÆ_sum
)

466 c⁄° *
p
 = 
buf„r
;

467 c⁄° *
œ°_p
 = 
p
 + 
size
;

468 
ex≥˘ed_sum
 = 0x00;

470 
p
 < 
œ°_p
) {

471 
ex≥˘ed_sum
 +*
p
++;

473 
ex≥˘ed_sum
 = (expected_sum & 0x3f) + 0x30;

475  (
ex≥˘ed_sum
 =
a˘uÆ_sum
) ? 0 : -1;

476 
	}
}

479 
	$©oi_sub°r
(c⁄° *
°r
, 
size_t
 
Àn
)

481 
buf„r
[13];

483 
	`°∫˝y
(
buf„r
, 
°r
, 
Àn
);

484 
buf„r
[
Àn
] = '\0';

486  
	`©oi
(
buf„r
);

487 
	}
}

490 
	$öã∫Æ_ª˚iveD©a
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
,

491 
°‹e_fú°
, 
°‹e_œ°
,

492 
skù_löes
)

495 
EchoBack
 = 0,

496 
RïlyCode
,

497 
Time°amp
,

499 
FÆ£
 = 0,

500 
True
 = 1,

502 
MD_MS_Lígth
 = 15,

503 
GD_GS_Lígth
 = 12,

506 
löes
 = 0;

507 
buf„r
[
UrgLöeWidth
];

508 
fûÀd
 = 0;

509 
is_echoback
 = 
FÆ£
;

510 
n
;

512 
cuºít_ty≥
[] = "xx";

513 
cuºít_fú°
 = -1;

518 
cuºít_d©a_byãs
 = 3;

519 
dummy_œ°
;

520 
timeout
 = 
ScùTimeout
;

523 
urg
->
œ°_time°amp_
 = 
UrgInvÆidTime°amp
;

525 
urg
->
î∫o_
 = 
UrgNoRe•⁄£
;

528 
n
 = 
	`£rül_gëLöe
(&
urg
->
£rül_
, 
buf„r
, 
ScùLöeWidth
, 
timeout
);

530 i‡(
n
 <= 0) {

531 i‡(
is_echoback
) {

532 
is_echoback
 = 
FÆ£
;

533 
löes
 = 0;

539 i‡(
löes
 > 0) {

541 i‡(
	`checkSum
(
buf„r
, 
n
 - 1, buffer[n - 1]) < 0) {

542 
urg
->
î∫o_
 = 
UrgInvÆidRe•⁄£
;

543 
löes
 = 0;

544 
fûÀd
 = 0;

545 
is_echoback
 = 
FÆ£
;

550 i‡(
löes
 > 
Time°amp
) {

552 
fûÀd
 = 
	`c⁄vîtRawD©a
(
d©a
, 
d©a_max
, 
buf„r
, 
n
 - 1, filled,

553 
cuºít_d©a_byãs
, 
skù_löes
,

554 
°‹e_œ°
, 
urg
);

556 } i‡(
löes
 =
EchoBack
) {

558 i‡((
n
 !
GD_GS_Lígth
Ë&& (¿!
MD_MS_Lígth
)) {

560 
urg
->
î∫o_
 = 
UrgInvÆidRe•⁄£
;

561 
löes
 = 0;

562 
fûÀd
 = 0;

563 
is_echoback
 = 
FÆ£
;

567 
cuºít_ty≥
[0] = 
buf„r
[0];

568 
cuºít_ty≥
[1] = 
buf„r
[1];

571 
cuºít_fú°
 = 
	`©oi_sub°r
(&
buf„r
[2], 4);

575 i‡((
cuºít_fú°
 - 
°‹e_fú°
Ë>
d©a_max
) {

581 
dummy_œ°
 = 
cuºít_fú°
 - 
°‹e_fú°
;

582 
fûÀd
 = 0; fûÀd < 
dummy_œ°
; ++filled) {

583 
d©a
[
fûÀd
] = 
InvÆidR™ge
;

586 i‡(
n
 =
GD_GS_Lígth
) {

589 
urg
->
ªmaö_times_
 = 0;

596 
urg
->
ªmaö_times_
 = 
	`©oi
(&
buf„r
[13]);

598 
cuºít_d©a_byãs
 = (
cuºít_ty≥
[1] == 'S') ? 2 : 3;

600 } i‡(
löes
 =
RïlyCode
) {

601 i‡(! 
	`°∫cmp
(
buf„r
, "10", 2)) {

602 
urg
->
is_œ£r_⁄_
 = 
UrgLa£rOff
;

607 i‡(! 
	`°∫cmp
(
buf„r
, "0B", 2)) {

608 
	`£rül_skù
(&
urg
->
£rül_
, 
ScùTimeout
, 
timeout
);

613 i‡(
cuºít_ty≥
[0] ='M' && (! 
	`°∫cmp
(
buf„r
, "00", 2))) {

614 
is_echoback
 = 
True
;

617 } i‡(
löes
 =
Time°amp
) {

618 
urg
->
œ°_time°amp_
 = 
	`decode
(
buf„r
, 4);

621 ++
löes
;

622 
timeout
 = 
EachTimeout
;

625 i‡(
fûÀd
 <= 0) {

626  
urg
->
î∫o_
;

630 
œ°_ödex
 = 
d©a_max
;

631 i‡(
urg
->
∑ømëîs_
.
¨ó_max_
 < 
œ°_ödex
) {

632 
œ°_ödex
 = 
urg
->
∑ømëîs_
.
¨ó_max_
;

634 ; 
fûÀd
 <
œ°_ödex
; ++filled) {

635 
d©a
[
fûÀd
] = 
InvÆidRag√
;

639  
fûÀd
;

641 
	}
}

644 
	$urg_ª˚iveD©a
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
)

646 i‡(! 
	`urg_isC⁄√˘ed
(
urg
)) {

649  
	`öã∫Æ_ª˚iveD©a
(
urg
, 
d©a
, 
d©a_max
,

650 0, 
d©a_max
, 
urg
->
skù_löes_
);

651 
	}
}

654 
	$urg_ª˚iveD©aWôhI¡ísôy
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
,

655 
öãnsôy
[])

657 
i
;

658 
n
;

660 
n
 = 
	`öã∫Æ_ª˚iveD©a
(
urg
, 
d©a
, 
d©a_max
,

661 0, 
d©a_max
, 
urg
->
skù_löes_
);

663 
i
 = 0; i < 
n
; i += 2) {

664 
Àngth
 = 
d©a
[
i
];

666 i‡((
i
 + 1Ë< 
d©a_max
) {

667 
öãnsôy_vÆue
 = 
d©a
[
i
 + 1];

668 
öãnsôy
[
i
] = 
öãnsôy_vÆue
;

669 
öãnsôy
[
i
 + 1] = 
öãnsôy_vÆue
;

670 
d©a
[
i
 + 1] = 
Àngth
;

673  
n
;

674 
	}
}

677 
	$urg_ª˚iveP¨tülD©a
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
,

678 
fú°_ödex
, 
œ°_ödex
)

680  
	`öã∫Æ_ª˚iveD©a
(
urg
, 
d©a
, 
d©a_max
, 
fú°_ödex
, 
œ°_ödex
, 1);

681 
	}
}

684 
	$urg_ª˚¡Time°amp
(c⁄° 
urg_t
 *
urg
)

687  
urg
->
œ°_time°amp_
;

688 
	}
}

691 
	$urg_ödex2ød
(c⁄° 
urg_t
 *
urg
, 
ödex
)

693 
ødün
 = (2.0 * 
M_PI
) *

694 (
ödex
 - 
urg
->
∑ømëîs_
.
¨ó_‰⁄t_
Ë/ urg->∑ømëîs_.
¨ó_tŸÆ_
;

696  
ødün
;

697 
	}
}

700 
	$urg_ödex2deg
(c⁄° 
urg_t
 *
urg
, 
ödex
)

702 
degªe
 = ()
	`Êo‹
((
	`urg_ödex2ød
(
urg
, 
ödex
Ë* 180 / 
M_PI
) + 0.5);

704  
degªe
;

705 
	}
}

708 
	$urg_ød2ödex
(c⁄° 
urg_t
 *
urg
, 
ødün
)

710 
ödex
 =

711 ()
	`Êo‹
((((
ødün
 * 
urg
->
∑ømëîs_
.
¨ó_tŸÆ_
Ë/ (2.0*
M_PI
))

712 + 
urg
->
∑ømëîs_
.
¨ó_‰⁄t_
) + 0.5);

714 i‡(
ödex
 < 0) {

715 
ödex
 = 0;

716 } i‡(
ödex
 > 
urg
->
∑ømëîs_
.
¨ó_max_
) {

717 
ödex
 = 
urg
->
∑ømëîs_
.
¨ó_max_
;

719  
ödex
;

720 
	}
}

723 
	$urg_deg2ödex
(c⁄° 
urg_t
 *
urg
, 
degªe
)

725  
	`urg_ød2ödex
(
urg
, 
M_PI
 * 
degªe
 / 180.0);

726 
	}
}

729 
	$urg_œ£rOn
(
urg_t
 *
urg
)

732 
ex≥˘ed_ªt
[] = { 0, 2, -1 };

733 
£nd_n
 = 
	`scù_£nd
(&
urg
->
£rül_
, "BM\n");

734 i‡(
£nd_n
 != 3) {

736  
SîülSídFaû
;

738 i‡(
	`scù_ªcv
(&
urg
->
£rül_
, "BM", 
NULL
, 
ex≥˘ed_ªt
, 
ScùTimeout
) == 0) {

739 
urg
->
is_œ£r_⁄_
 = 
UrgLa£rOn
;

743 
	}
}

746 
	$urg_œ£rOff
(
urg_t
 *
urg
)

748  
	`scù_qt
(&
urg
->
£rül_
, 
NULL
, 
ScùWaôRïly
);

749 
	}
}

752 
	$urg_ªboŸ
(
urg_t
 *
urg
)

754 
ex≥˘ed_ªt
[][2] = {

758 
£nd_n
;

759 
ªcv_n
;

760 
i
;

762 
	`urg_œ£rOff
(
urg
);

765 
i
 = 0; i < 2; ++i) {

766 
£nd_n
 = 
	`scù_£nd
(&
urg
->
£rül_
, "RB\n");

767 i‡(
£nd_n
 != 3) {

768  
SîülSídFaû
;

771 
ªcv_n
 = 
	`scù_ªcv
(&
urg
->
£rül_
, "RB", 
NULL
,

772 
ex≥˘ed_ªt
[
i
], 
ScùTimeout
);

773 i‡(
ªcv_n
 < 0) {

774  
ªcv_n
;

779 
	`urg_disc⁄√˘
(
urg
);

782 
	}
}

785 
	$urg_ª£t
(
urg_t
 *
urg
)

787  
	`urg_ªboŸ
(
urg
);

788 
	}
}

791 
	$urg_íabÀTime°ampMode
(
urg_t
 *
urg
)

794 
ex≥˘ed_ªt
[] = { 0, 2, -1 };

795 
£nd_n
 = 
	`scù_£nd
(&
urg
->
£rül_
, "TM0\n");

796 i‡(
£nd_n
 != 4) {

797  
SîülSídFaû
;

799  
	`scù_ªcv
(&
urg
->
£rül_
, "TM", 
NULL
, 
ex≥˘ed_ªt
, 
ScùTimeout
);

800 
	}
}

803 
	$urg_dißbÀTime°ampMode
(
urg_t
 *
urg
)

806 
ex≥˘ed_ªt
[] = { 0, 3, -1 };

807 
£nd_n
 = 
	`scù_£nd
(&
urg
->
£rül_
, "TM2\n");

808 i‡(
£nd_n
 != 4) {

809  
SîülSídFaû
;

811  
	`scù_ªcv
(&
urg
->
£rül_
, "TM", 
NULL
, 
ex≥˘ed_ªt
, 
ScùTimeout
);

812 
	}
}

815 
	$urg_cuºítTime°amp
(
urg_t
 *
urg
)

817 
buf„r
[
ScùLöeWidth
];

818 
time°amp
 = -1;

819 
ªt
 = 0;

820 
n
;

823 
ex≥˘ed_ªt
[] = { 0, -1 };

824 
£nd_n
 = 
	`scù_£nd
(&
urg
->
£rül_
, "TM1\n");

825 i‡(
£nd_n
 != 4) {

826  
SîülSídFaû
;

828 
ªt
 = 
	`scù_ªcv
(&
urg
->
£rül_
, "TM", 
NULL
, 
ex≥˘ed_ªt
, 
ScùTimeout
);

829 i‡(
ªt
 != 0) {

830  
ªt
;

834 
n
 = 
	`£rül_gëLöe
(&
urg
->
£rül_
, 
buf„r
, 
ScùLöeWidth
, 
ScùTimeout
);

835 i‡(
n
 == 5) {

836 
time°amp
 = 
	`decode
(
buf„r
, 4);

840 
n
 = 
	`£rül_ªcv
(&
urg
->
£rül_
, 
buf„r
, 1, 
ScùTimeout
);

841 i‡(! 
	`£rül_isLF
(
buf„r
[0])) {

842 
	`£rül_ungëc
(&
urg
->
£rül_
, 
buf„r
[0]);

845  
time°amp
;

846 
	}
}

	@processors/laser/urg-0.8.18/src/c/urg/urg_ctrl.h

1 #i‚de‡
QRK_C_URG_CTRL_H


2 
	#QRK_C_URG_CTRL_H


	)

15 #ifde‡
__˝lu•lus


19 
	~"urg_t.h
"

26 
UrgLöeWidth
 = 64 + 1 + 1,

27 
UrgInföôyTimes
 = 0,

35 
URG_GD
,

36 
URG_GD_INTENSITY
,

37 
URG_GS
,

38 
URG_MD
,

39 
URG_MD_INTENSITY
,

40 
URG_MS
,

41 } 
	turg_ªque°_ty≥
;

48 
URG_FIRST
 = -1,

49 
URG_LAST
 = -1,

51 
UrgInvÆidTime°amp
 = -1,

55 
urg_öôülize
(
urg_t
 *
urg
);

84 
urg_c⁄√˘
(
urg_t
 *
urg
, c⁄° *
devi˚
, 
baudøã
);

95 
urg_disc⁄√˘
(
urg_t
 *
urg
);

116 
urg_isC⁄√˘ed
(c⁄° 
urg_t
 *
urg
);

129 c⁄° *
urg_îr‹
(c⁄° 
urg_t
 *
urg
);

146 
urg_vîsi⁄Löes
(
urg_t
 *
urg
, * 
löes
[], 
löes_max
);

177 
urg_∑ømëîs
(
urg_t
 *
urg
, 
urg_∑ømëî_t
* 
∑ømëîs
);

190 c⁄° * 
urg_modñ
(c⁄° 
urg_t
 *
urg
);

216 
urg_d©aMax
(c⁄° 
urg_t
 *
urg
);

233 
urg_sˇnM£c
(c⁄° 
urg_t
 *
urg
);

263 
urg_maxDi°™˚
(c⁄° 
urg_t
 *
urg
);

276 
urg_möDi°™˚
(c⁄° 
urg_t
 *
urg
);

293 
urg_£tSkùLöes
(
urg_t
 *
urg
, 
löes
);

307 
urg_£tSkùFømes
(
urg_t
 *
urg
, 
‰ames
);

333 
urg_£tC≠tuªTimes
(
urg_t
 *
urg
, 
times
);

345 
urg_ªmaöC≠tuªTimes
(c⁄° 
urg_t
 *
urg
);

380 
urg_ªque°D©a
(
urg_t
 *
urg
,

381 
urg_ªque°_ty≥
 
ªque°_ty≥
,

382 
fú°_ödex
,

383 
œ°_ödex
);

398 
urg_ª˚iveD©a
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
);

411 
urg_ª˚iveD©aWôhI¡ísôy
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
,

412 
öãnsôy
[]);

429 
urg_ª˚iveP¨tülD©a
(
urg_t
 *
urg
, 
d©a
[], 
d©a_max
,

430 
fú°_ödex
, 
œ°_ödex
);

454 
urg_ª˚¡Time°amp
(c⁄° 
urg_t
 *
urg
);

488 
urg_ödex2ød
(c⁄° 
urg_t
 *
urg
, 
ödex
);

501 
urg_ödex2deg
(c⁄° 
urg_t
 *
urg
, 
ödex
);

516 
urg_ød2ödex
(c⁄° 
urg_t
 *
urg
, 
ødün
);

529 
urg_deg2ödex
(c⁄° 
urg_t
 *
urg
, 
degªe
);

545 
urg_œ£rOn
(
urg_t
 *
urg
);

556 
urg_œ£rOff
(
urg_t
 *
urg
);

567 
urg_ªboŸ
(
urg_t
 *
urg
);

573 
urg_ª£t
(
urg_t
 *
urg
);

587 
urg_íabÀTime°ampMode
(
urg_t
 *
urg
);

598 
urg_dißbÀTime°ampMode
(
urg_t
 *
urg
);

625 
urg_cuºítTime°amp
(
urg_t
 *
urg
);

627 #ifde‡
__˝lu•lus


	@processors/laser/urg-0.8.18/src/c/urg/urg_errno.c

10 
	~"urg_î∫o.h
"

14 c⁄° * 
	$urg_°ªº‹
(c⁄° 
î∫o
)

16 c⁄° *
îr‹Så
[] = {

34 
n
 = (
îr‹Så
) / (errorStr[0]);

35 i‡((-
î∫o
 >
n
) || (errno > 0)) {

36  
îr‹Så
[0];

39  
îr‹Så
[-
î∫o
];

40 
	}
}

	@processors/laser/urg-0.8.18/src/c/urg/urg_errno.h

1 #i‚de‡
QRK_C_URG_ERRNO_H


2 
	#QRK_C_URG_ERRNO_H


	)

15 
	mUrgNoEº‹
 = 0,

16 
	mUrgNŸIm∂emíãd
 = -1,

17 
	mUrgSídFaû
 = -2,

18 
	mUrgRecvFaû
 = -3,

19 
	mUrgScù10
 = -4,

20 
	mUrgSsFaû
 = -5,

21 
	mUrgAdju°BaudøãFaû
 = -6,

22 
	mUrgInvÆidArgs
 = -7,

23 
	mUrgInvÆidRe•⁄£
 = -8,

24 
	mUrgSîülC⁄√˘i⁄Faû
 = -9,

25 
	mUrgSîülRecvFaû
 = -10,

26 
	mUrgMism©chRe•⁄£
 = -11,

27 
	mUrgNoRe•⁄£
 = -12,

28 
	mUtmNoGDI¡ísôy
 = -13,

39 c⁄° * 
urg_°ªº‹
(c⁄° 
urg_î∫o
);

	@processors/laser/urg-0.8.18/src/c/urg/urg_parameter_t.h

1 #i‚de‡
QRK_URG_PARAMETER_T_H


2 
	#QRK_URG_PARAMETER_T_H


	)

15 
	mUrgP¨amëîLöes
 = 8 + 1 + 1,

16 
	mSís‹Ty≥LöeMax
 = 80,

24 
	m£ns‹_ty≥
[
Sís‹Ty≥LöeMax
];

25 
	mdi°™˚_mö_
;

26 
	mdi°™˚_max_
;

27 
	m¨ó_tŸÆ_
;

28 
	m¨ó_mö_
;

29 
	m¨ó_max_
;

30 
	m¨ó_‰⁄t_
;

31 
	msˇn_Ωm_
;

32 } 
	turg_∑ømëî_t
;

	@processors/laser/urg-0.8.18/src/c/urg/urg_t.h

1 #i‚de‡
QRK_C_URG_T_H


2 
	#QRK_C_URG_T_H


	)

13 
	~"urg_∑ømëî_t.h
"

14 
	~"£rül_t.h
"

21 
	mUrgLa£rOff
 = 0,

22 
	mUrgLa£rOn
,

23 
	mUrgLa£rUnknown
,

24 } 
	turg_œ£r_°©e_t
;

32 
£rül_t
 
	m£rül_
;

33 
	mî∫o_
;

34 
urg_∑ømëî_t
 
	m∑ømëîs_
;

36 
	mskù_löes_
;

37 
	mskù_‰ames_
;

38 
	mˇ±uª_times_
;

40 
urg_œ£r_°©e_t
 
	mis_œ£r_⁄_
;

42 
	mœ°_time°amp_
;

43 
	mªmaö_times_
;

45 
	mªmaö_d©a_
[3];

46 
	mªmaö_byã_
;

48 } 
	turg_t
;

	@processors/laser/urg-0.8.18/src/cpp/common/RingBuffer.h

1 #i‚de‡
QRK_RING_BUFFER_H


2 
	#QRK_RING_BUFFER_H


	)

13 
	~<deque
>

16 
«me•a˚
 
	gqrk


19 
	gãm∂©e
 <
˛ass
 
	gT
>

20 ˛as†
	cRögBuf„r


22 
	gpublic
:

23 
ex∂icô
 
RögBuf„r
()

31 
size_t
 
size
()

33  
rög_buf„r_
.
size
();

43 
boﬁ
 
em±y
()

45  
	grög_buf„r_
.
em±y
();

55 
put
(c⁄° 
T
* 
d©a
, 
size_t
 
size
)

57 c⁄° 
T
* 
	gœ°_p
 = 
d©a
 + 
size
;

58 
	grög_buf„r_
.
ö£π
(
rög_buf„r_
.
íd
(), 
d©a
, 
œ°_p
);

70 
size_t
 
gë
(
T
* 
d©a
, size_à
size
)

72 
size_t
 
	gn
 = 
°d
::
mö
(
size
, 
rög_buf„r_
.size());

73 
	g°d
::
c›y
(
rög_buf„r_
.
begö
(),Ñög_buf„r_.begö(Ë+ 
n
, 
d©a
);

74 
	grög_buf„r_
.
îa£
(
rög_buf„r_
.
begö
(),Ñög_buf„r_.begö(Ë+ 
n
);

75  
	gn
;

84 
ungëc
(c⁄° 
T
 
ch
)

86 
	grög_buf„r_
.
push_‰⁄t
(
ch
);

93 
˛ór
()

95 
	grög_buf„r_
.
˛ór
();

99 
	g¥iv©e
:

100 
RögBuf„r
(c⁄° RögBuf„r& 
rhs
);

101 
	gRögBuf„r
& 
	g›î©‹
 = (c⁄° 
RögBuf„r
& 
rhs
);

103 
	g°d
::
deque
<
T
> 
rög_buf„r_
;

	@processors/laser/urg-0.8.18/src/cpp/common/split.cpp

13 
	~"•lô.h
"

15 
usög
 
«me•a˚
 
	g°d
;

18 
size_t
 
	gqrk
::
•lô
(
°d
::
ve˘‹
<°d::
°rög
>& 
tokís
,

19 c⁄° 
°d
::
°rög
& 
löe
, c⁄° * 
•lô_∑âîn
,

20 
boﬁ
 
c⁄töious_∑âîn
)

22 
°rög
 
	gbuf„r
 = 
löe
;

23 * 
	gq
 = &
buf„r
[0];

24 
size_t
 
	gn
 = 
löe
.
size
();

25 
size_t
 
	gi
 = 0; i < 
	gn
; ++i, ++
	gq
) {

26 c⁄° * 
	gp
 = 
•lô_∑âîn
; *p != '\0'; ++p) {

27 i‡(*
	gq
 =*
p
) {

28 *
q
 = '\0';

34 
size_t
 
	gi
 = 0; i < 
	gn
; ++i) {

35 i‡((
	gbuf„r
[
i
] !'\0'Ë|| (! 
c⁄töious_∑âîn
)) {

36 
°rög
 
löe
 = &
buf„r
[
i
];

37 
	gtokís
.
push_back
(
löe
);

38 
	gi
 +
löe
.
size
();

41  
	gtokís
.
size
();

	@processors/laser/urg-0.8.18/src/cpp/common/split.h

1 #i‚de‡
QRK_SPLIT_H


2 
	#QRK_SPLIT_H


	)

13 
	~<ve˘‹
>

14 
	~<°rög
>

17 
«me•a˚
 
	gqrk


29 
size_t
 
•lô
(
°d
::
ve˘‹
<°d::
°rög
>& 
tokís
,

30 c⁄° 
°d
::
°rög
& 
‹igöÆ
, c⁄° * 
•lô_∑âîn
 = " \t",

31 
boﬁ
 
c⁄töious_∑âîn
 = 
åue
);

	@processors/laser/urg-0.8.18/src/cpp/connection/Connection.h

1 #i‚de‡
QRK_CONNECTION_H


2 
	#QRK_CONNECTION_H


	)

13 
	~<c°ddef
>

16 
«me•a˚
 
	gqrk


19 
	gRe˚iveTimeout
 = -1,

20 
	gEº‹La°Index
 = -2,

25 ˛as†
	cC⁄√˘i⁄


27 
	gpublic
:

28 
vútuÆ
 ~
C⁄√˘i⁄
() {}

36 
vútuÆ
 c⁄° * 
wh©
() const = 0;

48 
vútuÆ
 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
) = 0;

54 
vútuÆ
 
disc⁄√˘
() = 0;

65 
vútuÆ
 
boﬁ
 
£tBaudøã
(
baudøã
) = 0;

75 
vútuÆ
 
baudøã
() const = 0;

84 
vútuÆ
 
boﬁ
 
isC⁄√˘ed
() const = 0;

95 
vútuÆ
 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
) = 0;

105 
vútuÆ
 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
) = 0;

113 
vútuÆ
 
size_t
 
size
() const = 0;

119 
vútuÆ
 
Êush
() = 0;

127 
vútuÆ
 
˛ór
() = 0;

135 
vútuÆ
 
ungëc
(c⁄° 
ch
) = 0;

	@processors/laser/urg-0.8.18/src/cpp/connection/ConnectionUtils.cpp

10 
	~"C⁄√˘i⁄Utûs.h
"

11 
	~"C⁄√˘i⁄.h
"

13 
usög
 
«me•a˚
 
	gqrk
;

16 
boﬁ
 
	gqrk
::
	$isLF
(c⁄° 
ch
)

18  ((
ch
 ='\r'Ë|| (ch ='\n')Ë? 
åue
 : 
Ál£
;

19 
	}
}

22 
	gqrk
::
	$skù
(
C⁄√˘i⁄
* 
c⁄
, 
tŸÆ_timeout
, 
óch_timeout
)

24 i‡(
óch_timeout
 <= 0) {

25 
óch_timeout
 = 
tŸÆ_timeout
;

29 
ªcv_ch
;

31 
n
 = 
c⁄
->
	`ª˚ive
(&
ªcv_ch
, 1, 
óch_timeout
);

32 i‡(
n
 <= 0) {

36 
	}
}

39 
	gqrk
::
	$ªadlöe
(
C⁄√˘i⁄
* 
c⁄
, * 
buf
, c⁄° 
size_t
 
cou¡
, 
timeout
)

42 
boﬁ
 
is_timeout
 = 
Ál£
;

43 
size_t
 
fûÀd
 = 0;

45 
fûÀd
 < 
cou¡
) {

46 
ªcv_ch
;

47 
n
 = 
c⁄
->
	`ª˚ive
(&
ªcv_ch
, 1, 
timeout
);

48 i‡(
n
 <= 0) {

49 
is_timeout
 = 
åue
;

51 } i‡(
	`isLF
(
ªcv_ch
)) {

54 
buf
[
fûÀd
++] = 
ªcv_ch
;

56 i‡(
fûÀd
 =
cou¡
) {

57 --
fûÀd
;

58 
c⁄
->
	`ungëc
(
buf
[
fûÀd
]);

60 
buf
[
fûÀd
] = '\0';

62 i‡((
fûÀd
 =0Ë&& 
is_timeout
) {

65  
°©ic_ˇ°
<>(
fûÀd
);

67 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/connection/ConnectionUtils.h

1 #i‚de‡
QRK_CONNECTION_UTILS_H


2 
	#QRK_CONNECTION_UTILS_H


	)

13 
	~<c°ddef
>

14 
	~<Æg‹ôhm
>

18 
«me•a˚
 
	gqrk


20 
˛ass
 
	gC⁄√˘i⁄
;

29 
boﬁ
 
isLF
(c⁄° 
ch
);

41 
skù
(
C⁄√˘i⁄
* 
c⁄
, 
tŸÆ_timeout
, 
óch_timeout
 = 0);

56 
ªadlöe
(
C⁄√˘i⁄
* 
c⁄
, * 
buf
, c⁄° 
size_t
 
cou¡
,

57 
timeout
);

65 
	gãm∂©e
 <
˛ass
 
	gT
>

66 
sw≠C⁄√˘i⁄
(
T
& 
a
, T& 
b
)

68 
C⁄√˘i⁄
* 
	gt
 = 
a
.
c⁄√˘i⁄
();

69 
	ga
.
£tC⁄√˘i⁄
(
b
.
c⁄√˘i⁄
());

70 
	gb
.
£tC⁄√˘i⁄
(
t
);

	@processors/laser/urg-0.8.18/src/cpp/connection/FindComPorts.cpp

10 
	~"FödComP‹ts.h
"

11 
	~"Dëe˘OS.h
"

12 #ifde‡
WINDOWS_OS


13 
	~<wödows.h
>

14 
	~<£tu∑pi.h
>

15 
	~<deque
>

16 
	~<Æg‹ôhm
>

18 #i‡
deföed
(
MSC
)

19 #¥agm®
commít
(
lib
, "setupapi.lib")

23 
	~<deque
>

24 
	~<Æg‹ôhm
>

25 
	~<c°rög
>

26 
	~<dúít.h
>

27 
	~<sys/°©.h
>

30 
usög
 
«me•a˚
 
	gqrk
;

31 
usög
 
«me•a˚
 
	g°d
;

34 
	gFödComP‹ts
::
pIm∂


36 
ve˘‹
<
°rög
> 
ba£_«mes_
;

37 
	gve˘‹
<
	g°rög
> 
	gdrivî_«mes_
;

40 
pIm∂
()

44 #i‡
deföed
(
LINUX_OS
)

45 
	gba£_«mes_
.
push_back
("/dev/ttyUSB");

46 
	gba£_«mes_
.
push_back
("/dev/usb/ttyUSB");

47 #ñi‡
deföed
(
MAC_OS
)

48 
	gba£_«mes_
.
push_back
("/dev/tty.usbmodem");

53 
addBa£Name
(c⁄° * 
ba£_«me
)

55 
	gba£_«mes_
.
ö£π
(
ba£_«mes_
.
begö
(), 
ba£_«me
);

59 
addDrivîName
(c⁄° * 
drivî_«me
)

61 
	gdrivî_«mes_
.
push_back
(
drivî_«me
);

65 
‹dîByDrivî
(
deque
<
°rög
>& 
p‹ts
, deque<°rög>& 
drivîs
,

66 c⁄° * 
drivî_«me
,

67 
boﬁ
 
Æl_p‹ts
)

69 i‡(
	gp‹ts
.
em±y
()) {

73 
	gve˘‹
<
	g°rög
>::
c⁄°_ôî©‹
 
ô
 =

74 
°d
::
föd
(
drivî_«mes_
.
begö
(), drivî_«mes_.
íd
(), 
drivî_«me
);

75 i‡(
	gô
 !
drivî_«mes_
.
íd
()) {

76 
p‹ts
.
push_‰⁄t
’‹ts.
back
());

77 
	gp‹ts
.
p›_back
();

79 
	gdrivîs
.
push_‰⁄t
(
drivîs
.
back
());

80 
	gdrivîs
.
p›_back
();

83 i‡(! 
	gÆl_p‹ts
) {

84 
	gp‹ts
.
p›_back
();

85 
	gdrivîs
.
p›_back
();

91 
addFoundP‹ts
(
ve˘‹
<
°rög
>& 
found_p‹ts
,

92 c⁄° 
°rög
& 
p‹t
)

94 
	gve˘‹
<
	g°rög
>::
ôî©‹
 
ô
 = 
found_p‹ts
.
begö
();

95 
	gô
 !
found_p‹ts
.
íd
(); ++it) {

100 i‡(! 
	gp‹t
.
com∑ª
(*
ô
)) {

104 
	gfound_p‹ts
.
push_back
(
p‹t
);

109 
	gFödComP‹ts
::
	$FödComP‹ts
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

111 
	}
}

114 
FödComP‹ts
::~
	$FödComP‹ts
()

116 
	}
}

119 
FödComP‹ts
::
	$˛órBa£Names
()

121 
pim∂
->
ba£_«mes_
.
	`˛ór
();

122 
	}
}

125 
	gFödComP‹ts
::
	$addBa£Name
(c⁄° * 
ba£_«me
)

127 
pim∂
->
	`addBa£Name
(
ba£_«me
);

128 
	}
}

131 
	gve˘‹
<
	g°rög
> 
	gFödComP‹ts
::
	$ba£Names
()

133  
pim∂
->
ba£_«mes_
;

134 
	}
}

137 
	gFödComP‹ts
::
	$addDrivîName
(c⁄° * 
drivî_«me
)

139 
pim∂
->
	`addDrivîName
(
drivî_«me
);

140 
	}
}

143 #ifde‡
WINDOWS_OS


145 
size_t
 
	gFödComP‹ts
::
föd
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
,

146 
°d
::
ve˘‹
<°d::
°rög
>& 
drivî_«mes
,

147 
boﬁ
 
Æl_p‹ts
)

150 
	gdeque
<
	g°rög
> 
	gfound_p‹ts
;

151 
	gdeque
<
	g°rög
> 
	gfound_drivîs
;

154 
GUID
 
	gGUID_DEVINTERFACE_COM_DEVICE
 =

159 
HDEVINFO
 
	ghdi
 = 
SëupDiGëCœssDevs
(&
GUID_DEVINTERFACE_COM_DEVICE
, 0, 0,

160 
DIGCF_PRESENT
 | 
DIGCF_INTERFACEDEVICE
);

161 i‡(
	ghdi
 =
INVALID_HANDLE_VALUE
) {

165 
SP_DEVINFO_DATA
 
	gsDevInfo
;

166 
	gsDevInfo
.
	gcbSize
 = (
SP_DEVINFO_DATA
);

167 
DWORD
 
	gi
 = 0; 
SëupDiEnumDevi˚Info
(
hdi
, 
i
, &
sDevInfo
); ++i){

169 íum { 
	gBuf„rSize
 = 256 };

170 
	gbuf„r
[
Buf„rSize
 + 1];

171 
DWORD
 
	gdwRegTy≥
;

172 
DWORD
 
	gdwSize
;

175 
SëupDiGëDevi˚Regi°ryPr›îtyA
(
hdi
, &
sDevInfo
, 
SPDRP_FRIENDLYNAME
,

176 &
dwRegTy≥
, (
BYTE
*)
buf„r
, 
Buf„rSize
,

177 &
dwSize
);

178 íum { 
	gComNameLígthMax
 = 7 };

179 
size_t
 
	gn
 = 
°æí
(
buf„r
);

180 i‡(
	gn
 < 
	gComNameLígthMax
) {

187 
	gj
 = 
n
 - 1; j > 0; --j) {

188 i‡(
	gbuf„r
[
j
] == ')') {

189 
buf„r
[
j
] = '\0';

193 * 
	gp
 = 
°r°r
(&
buf„r
[
n
 - 
ComNameLígthMax
], "COM");

194 i‡(! 
	gp
) {

197 
	gfound_p‹ts
.
push_back
(
p
);

200 
SëupDiGëDevi˚Regi°ryPr›îtyA
(
hdi
, &
sDevInfo
, 
SPDRP_DEVICEDESC
,

201 &
dwRegTy≥
, (
BYTE
*)
buf„r
, 
Buf„rSize
,

202 &
dwSize
);

203 
	gfound_drivîs
.
push_back
(
buf„r
);

204 
	gpim∂
->
‹dîByDrivî
(
found_p‹ts
, 
found_drivîs
, 
buf„r
, 
Æl_p‹ts
);

206 
SëupDiDe°royDevi˚InfoLi°
(
hdi
);

208 
	gp‹ts
.
ö£π
(
p‹ts
.
íd
(), 
found_p‹ts
.
begö
(), found_ports.end());

209 
	gdrivî_«mes
.
ö£π
(
drivî_«mes
.
íd
(),

210 
found_drivîs
.
begö
(), found_drivîs.
íd
());

212  
	gp‹ts
.
size
();

218 
	g«me•a˚


220 
£¨chFûes
(
ve˘‹
<
°rög
>& 
p‹ts
, c⁄° såög& 
dú_«me
)

222 
DIR
* 
	gdp
 = 
›ídú
(
dú_«me
.
c_°r
());

223 i‡(! 
	gdp
) {

227 
dúít
* 
	gdú
;

228 (
	gdú
 = 
ªaddú
(
dp
))) {

229 
°©
 
°©e
;

230 
°©
(
dú
->
d_«me
, &
°©e
);

231 i‡(
S_ISDIR
(
°©e
.
°_mode
)) {

232 
°rög
 
	gfûe
 = 
dú_«me
 + 
dú
->
d_«me
;

233 
	gp‹ts
.
push_back
(
fûe
);

241 
size_t
 
	gFödComP‹ts
::
föd
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
,

242 
°d
::
ve˘‹
<°d::
°rög
>& 
drivî_«mes
,

243 
boﬁ
 
Æl_p‹ts
)

245 
	g°©ic_ˇ°
<>(
	gÆl_p‹ts
);

246 
	g°©ic_ˇ°
<>(
	gdrivî_«mes
);

248 
	gve˘‹
<
	g°rög
> 
	gfound_p‹ts
;

251 
	gve˘‹
<
	g°rög
>::
ôî©‹
 
ô
 = 
pim∂
->
ba£_«mes_
.
begö
();

252 
	gô
 !
pim∂
->
ba£_«mes_
.
íd
(); ++it) {

255 c⁄° * 
	g∑th
 = 
ô
->
c_°r
();

256 c⁄° * 
	gœ°_¶ash
 = 
°ºchr
(
∑th
, '/') + 1;

258 
°rög
 
	gdú_«me
 = 
ô
->
sub°r
(0, 
œ°_¶ash
 - 
∑th
);

259 
	gve˘‹
<
	g°rög
> 
	gp‹ts
;

260 
£¨chFûes
(
p‹ts
, 
dú_«me
);

262 
size_t
 
	gn
 = 
ô
->
size
();

263 
	gve˘‹
<
	g°rög
>::
ôî©‹
 
fô
 = 
p‹ts
.
begö
();

264 
	gfô
 !
p‹ts
.
íd
(); ++fit) {

265 i‡(! 
	gfô
->
com∑ª
(0, 
n
, *
ô
)) {

267 
	gpim∂
->
addFoundP‹ts
(
found_p‹ts
, *
fô
);

272 
	gve˘‹
<
	g°rög
>::
ôî©‹
 
ô
 = 
found_p‹ts
.
begö
();

273 
	gô
 !
found_p‹ts
.
íd
(); ++it) {

274 
	gp‹ts
.
push_back
(*
ô
);

275 
	gdrivî_«mes
.
push_back
("");

278  
	gfound_p‹ts
.
size
();

283 
size_t
 
	gFödComP‹ts
::
föd
(
ve˘‹
<
°rög
>& 
p‹ts
, 
boﬁ
 
Æl_p‹ts
)

285 
	gve˘‹
<
	g°rög
> 
	gdrivî_«mes_dummy
;

286  
föd
(
p‹ts
, 
drivî_«mes_dummy
, 
Æl_p‹ts
);

	@processors/laser/urg-0.8.18/src/cpp/connection/FindComPorts.h

1 #i‚de‡
QRK_FIND_COM_PORTS_H


2 
	#QRK_FIND_COM_PORTS_H


	)

15 
	~<°rög
>

16 
	~<ve˘‹
>

17 
	~<mem‹y
>

20 
«me•a˚
 
	gqrk


28 ˛as†
	cFödComP‹ts


30 
	gpublic
:

31 
FödComP‹ts
();

32 ~
FödComP‹ts
();

38 
˛órBa£Names
();

46 
addBa£Name
(c⁄° * 
ba£_«me
);

56 
	g°d
::
ve˘‹
<
°d
::
°rög
> 
ba£Names
();

59 
addDrivîName
(c⁄° * 
drivî_«me
);

70 
size_t
 
föd
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
, 
boﬁ
 
Æl_p‹ts
 = 
åue
);

72 
size_t
 
föd
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
,

73 
°d
::
ve˘‹
<°d::
°rög
>& 
drivî_«mes
, 
boﬁ
 
Æl_p‹ts
 = 
åue
);

75 
	g¥iv©e
:

76 
FödComP‹ts
(c⁄° FödComP‹ts& 
rhs
);

77 
	gFödComP‹ts
& 
	g›î©‹
 = (c⁄° 
FödComP‹ts
& 
rhs
);

79 
	gpIm∂
;

80 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/connection/IsUsbCom.h

1 #i‚de‡
QRK_IS_USB_COM_H


2 
	#QRK_IS_USB_COM_H


	)

13 
	~<ve˘‹
>

14 
	~<°rög
>

17 
«me•a˚
 
	gqrk


20 ˛as†
	cIsUsbCom
 {

21 
	gpublic
:

22 
vútuÆ
 ~
IsUsbCom
() {

33 
vútuÆ
 
°d
::
ve˘‹
<°d::
°rög
> 
ba£Names
() const

35 
°d
::
ve˘‹
<°d::
°rög
> 
dummy
;

36  
	gdummy
;

47 
vútuÆ
 
	g°d
::
ve˘‹
<
°d
::
°rög
> 
usbDrivîs
() const

49 
°d
::
ve˘‹
<°d::
°rög
> 
dummy
;

50  
	gdummy
;

	@processors/laser/urg-0.8.18/src/cpp/connection/SerialDevice.cpp

10 
	~"SîülDevi˚.h
"

11 
	~"Dëe˘OS.h
"

12 
	~"RögBuf„r.h
"

13 
	~<°rög
>

15 
usög
 
«me•a˚
 
	gqrk
;

16 
usög
 
«me•a˚
 
	g°d
;

19 #i‡
deföed
(
WINDOWS_OS
)

20 
	~"SîülDevi˚_wö.˝p
"

22 
	~"SîülDevi˚_lö.˝p
"

26 
	gSîülDevi˚
::
pIm∂


28 
°rög
 
îr‹_mesßge_
;

29 
	gbaudøã_
;

30 
RawSîülDevi˚
 
	gøw_
;

31 
	gRögBuf„r
<> 
	grög_buf„r_
;

34 
pIm∂
(Ë: 
îr‹_mesßge_
("nÿîr‹"), 
baudøã_
(0)

39 
upd©eRögBuf„r
()

41 íum { 
	gBuf„rSize
 = 2048 };

42 
	gbuf„r
[
Buf„rSize
];

44 
	gn
 = 
øw_
.
ª˚ive
(
buf„r
, 
Buf„rSize
, 0);

45 i‡(
	gn
 > 0) {

46 
	grög_buf„r_
.
put
(
buf„r
, 
n
);

51 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
)

53 i‡(! 
isC⁄√˘ed
()) {

54 
	gîr‹_mesßge_
 = "no connection.";

57 i‡(
	gcou¡
 == 0) {

61 
size_t
 
	gfûÀd
 = 0;

63 
size_t
 
	grög_fûÀd
 = 
rög_buf„r_
.
size
();

64 i‡(
	grög_fûÀd
 < 
	gcou¡
) {

65 
upd©eRögBuf„r
();

69 
size_t
 
	gªad_size
 = 
°d
::
mö
(
cou¡
, 
rög_buf„r_
.
size
());

70 
	grög_buf„r_
.
gë
(
d©a
, 
ªad_size
);

71 
	gfûÀd
 +
ªad_size
;

74 
	gªad_size
 = 
max
(0, 
°©ic_ˇ°
<>(
cou¡
 - 
fûÀd
));

75 i‡(
	gªad_size
 > 0) {

76 
	gn
 = 
øw_
.
ª˚ive
(&
d©a
[
fûÀd
],

77 
°©ic_ˇ°
<>(
ªad_size
), 
timeout
);

78 i‡(
	gn
 < 0) {

79 
	gîr‹_mesßge_
 = 
øw_
.
wh©
();

80  
	gn
;

82 
	gfûÀd
 +
n
;

84  
	g°©ic_ˇ°
<>(
	gfûÀd
);

88 
boﬁ
 
isC⁄√˘ed
()

90  
	gøw_
.
isC⁄√˘ed
();

95 
	gSîülDevi˚
::
	$SîülDevi˚
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

97 
	}
}

100 
SîülDevi˚
::~
	$SîülDevi˚
()

102 
	`disc⁄√˘
();

103 
	}
}

106 c⁄° * 
	gSîülDevi˚
::
	$wh©
() const

108  
pim∂
->
îr‹_mesßge_
.
	`c_°r
();

109 
	}
}

112 
boﬁ
 
	gSîülDevi˚
::
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

114 
	`disc⁄√˘
();

115 
	`˛ór
();

116 i‡(! 
pim∂
->
øw_
.
	`c⁄√˘
(
devi˚
, 
baudøã
)) {

117 
pim∂
->
îr‹_mesßge_
 =Öim∂->
øw_
.
	`wh©
();

118  
Ál£
;

120  
åue
;

122 
	}
}

125 
	gSîülDevi˚
::
	$disc⁄√˘
()

127  
pim∂
->
øw_
.
	`disc⁄√˘
();

128 
	}
}

131 
boﬁ
 
	gSîülDevi˚
::
	$£tBaudøã
(
baudøã
)

133 i‡(! 
pim∂
->
øw_
.
	`£tBaudøã
(
baudøã
)) {

134 
pim∂
->
îr‹_mesßge_
 =Öim∂->
øw_
.
	`wh©
();

135 
pim∂
->
baudøã_
 = 0;

136  
Ál£
;

138 
pim∂
->
baudøã_
 = 
baudøã
;

139  
åue
;

140 
	}
}

143 
	gSîülDevi˚
::
	$baudøã
() const

145  
pim∂
->
baudøã_
;

146 
	}
}

149 
boﬁ
 
	gSîülDevi˚
::
	$isC⁄√˘ed
() const

151  
pim∂
->
	`isC⁄√˘ed
();

152 
	}
}

155 
	gSîülDevi˚
::
	$£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
)

157 i‡(! 
	`isC⁄√˘ed
()) {

158 
pim∂
->
îr‹_mesßge_
 = "no connection.";

162 
n
 = 
pim∂
->
øw_
.
	`£nd
(
d©a
, 
°©ic_ˇ°
<>(
cou¡
));

163 i‡(
n
 < 0) {

164 
pim∂
->
îr‹_mesßge_
 =Öim∂->
øw_
.
	`wh©
();

166  
n
;

167 
	}
}

170 
	gSîülDevi˚
::
	$ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
)

172 i‡(! 
	`isC⁄√˘ed
()) {

173 
pim∂
->
îr‹_mesßge_
 = "no connection.";

177  
pim∂
->
	`ª˚ive
(
d©a
, 
cou¡
, 
timeout
);

178 
	}
}

181 
size_t
 
	gSîülDevi˚
::
	$size
() const

183 
pim∂
->
	`upd©eRögBuf„r
();

184  
pim∂
->
rög_buf„r_
.
	`size
();

185 
	}
}

188 
	gSîülDevi˚
::
	$Êush
()

190 i‡(! 
	`isC⁄√˘ed
()) {

191 
pim∂
->
îr‹_mesßge_
 = "no connection.";

195  
pim∂
->
øw_
.
	`Êush
();

196 
	}
}

199 
	gSîülDevi˚
::
	$˛ór
()

201 
pim∂
->
øw_
.
	`Êush
();

202 
pim∂
->
rög_buf„r_
.
	`˛ór
();

203 
	}
}

206 
	gSîülDevi˚
::
	$ungëc
(c⁄° 
ch
)

208 i‡(! 
	`isC⁄√˘ed
()) {

209 
pim∂
->
îr‹_mesßge_
 = "no connection.";

213 
pim∂
->
rög_buf„r_
.
	`ungëc
(
ch
);

214 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/connection/SerialDevice.h

1 #i‚de‡
QRK_SERIAL_DEVICE_H


2 
	#QRK_SERIAL_DEVICE_H


	)

13 
	~"C⁄√˘i⁄.h
"

14 
	~<mem‹y
>

17 
«me•a˚
 
	gqrk


20 ˛as†
	cSîülDevi˚
 : 
public
 
C⁄√˘i⁄


22 
public
:

24 
DeÁu…Baudøã
 = 115200,

26 
SîülDevi˚
();

27 ~
SîülDevi˚
();

29 c⁄° * 
wh©
() const;

31 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
 = 
DeÁu…Baudøã
);

32 
disc⁄√˘
();

33 
boﬁ
 
£tBaudøã
(
baudøã
);

34 
baudøã
() const;

35 
boﬁ
 
isC⁄√˘ed
() const;

36 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
);

37 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
);

38 
size_t
 
size
() const;

39 
Êush
();

40 
˛ór
();

41 
ungëc
(c⁄° 
ch
);

43 
	g¥iv©e
:

44 
SîülDevi˚
(c⁄° SîülDevi˚& 
rhs
);

45 
	gSîülDevi˚
& 
	g›î©‹
 = (c⁄° 
SîülDevi˚
& 
rhs
);

47 
	gpIm∂
;

48 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/connection/SerialDevice_lin.cpp

10 
	~<uni°d.h
>

11 
	~<f˙é.h
>

12 
	~<ãrmios.h
>

13 
	~<˚ºno
>

14 
	~<c°rög
>

15 
	~<c°dio
>

18 ˛as†
	cRawSîülDevi˚


21 
	mInvÆidFd
 = -1,

24 
°rög
 
	gîr‹_mesßge_
;

25 
	gfd_
;

26 
ãrmios
 
	gsio_
;

27 
fd_£t
 
	grfds_
;

30 
boﬁ
 
	$waôRe˚ive
(
timeout
)

33 
	`FD_ZERO
(&
rfds_
);

34 
	`FD_SET
(
fd_
, &
rfds_
);

36 
timevÆ
 
tv
;

37 
tv
.
tv_£c
 = 
timeout
 / 1000;

38 
tv
.
tv_u£c
 = (
timeout
 % 1000) * 1000;

40 i‡(
	`£À˘
(
fd_
 + 1, &
rfds_
, 
NULL
, NULL,

41 (
timeout
 < 0Ë? 
NULL
 : &
tv
) <= 0) {

43  
Ál£
;

45  
åue
;

46 
	}
}

49 
	gpublic
:

50 
	$RawSîülDevi˚
(Ë: 
	`îr‹_mesßge_
("nÿîr‹."), 
	$fd_
(
InvÆidFd
)

52 
	}
}

55 c⁄° * 
	$wh©
()

57  
îr‹_mesßge_
.
	`c_°r
();

58 
	}
}

61 
boﬁ
 
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

63 #i‚de‡
MAC_OS


64 íum { 
O_EXLOCK
 = 0x0 };

66 
fd_
 = 
	`›í
(
devi˚
, 
O_RDWR
 | 
O_EXLOCK
 | 
O_NONBLOCK
 | 
O_NOCTTY
);

67 i‡(
fd_
 < 0) {

69 
îr‹_mesßge_
 = 
	`°rög
(
devi˚
Ë+ ": " + 
	`°ªº‹
(
î∫o
);

70  
Ál£
;

72 
Êags
 = 
	`f˙é
(
fd_
, 
F_GETFL
, 0);

73 
	`f˙é
(
fd_
, 
F_SETFL
, 
Êags
 & ~
O_NONBLOCK
);

76 
	`tcgë©å
(
fd_
, &
sio_
);

77 
sio_
.
c_iÊag
 = 0;

78 
sio_
.
c_oÊag
 = 0;

79 
sio_
.
c_cÊag
 &~(
CSIZE
 | 
PARENB
 | 
CSTOPB
);

80 
sio_
.
c_cÊag
 |
CS8
 | 
CREAD
 | 
CLOCAL
;

81 
sio_
.
c_lÊag
 &~(
ICANON
 | 
ECHO
 | 
ISIG
 | 
IEXTEN
);

83 
sio_
.
c_cc
[
VMIN
] = 0;

84 
sio_
.
c_cc
[
VTIME
] = 0;

87 i‡(! 
	`£tBaudøã
(
baudøã
)) {

88  
Ál£
;

90  
åue
;

91 
	}
}

94 
	$disc⁄√˘
()

96 i‡(
fd_
 !
InvÆidFd
) {

97 
	`˛o£
(
fd_
);

98 
fd_
 = 
InvÆidFd
;

100 
	}
}

103 
boﬁ
 
	$isC⁄√˘ed
()

105  (
fd_
 =
InvÆidFd
Ë? 
Ál£
 : 
åue
;

106 
	}
}

109 
boﬁ
 
	$£tBaudøã
(
baudøã
)

111 
baudøã_vÆue
 = -1;

112 íum { 
Eº‹MesßgeSize
 = 256 };

113 
îr‹_mesßge
[
Eº‹MesßgeSize
];

115 
baudøã
) {

118 
baudøã_vÆue
 = 
B4800
;

122 
baudøã_vÆue
 = 
B9600
;

126 
baudøã_vÆue
 = 
B19200
;

130 
baudøã_vÆue
 = 
B38400
;

134 
baudøã_vÆue
 = 
B57600
;

138 
baudøã_vÆue
 = 
B115200
;

142 
	`•rötf
(
îr‹_mesßge
, "Nÿh™dÀ baudøã vÆue: %ld", 
baudøã
);

143 
îr‹_mesßge_
 = 
	`°rög
(
îr‹_mesßge
);

144  
Ál£
;

148 
	`cf£to•ìd
(&
sio_
, 
baudøã_vÆue
);

149 
	`cf£ti•ìd
(&
sio_
, 
baudøã_vÆue
);

150 
	`tc£èâr
(
fd_
, 
TCSANOW
, &
sio_
);

151 
	`Êush
();

153  
åue
;

154 
	}
}

157 
	$£nd
(c⁄° * 
d©a
, 
cou¡
)

159 i‡(! 
	`isC⁄√˘ed
()) {

160 
îr‹_mesßge_
 = "no connection.";

163  
	`wrôe
(
fd_
, 
d©a
, 
cou¡
);

164 
	}
}

167 
	$ª˚ive
(
buf„r
[], 
cou¡
, 
timeout
)

169 
fûÀd
 = 0;

172 
n
 = 
	`ªad
(
fd_
, 
buf„r
, 
cou¡
);

173 i‡(
n
 < 0) {

174  
n
;

176 
fûÀd
 +
n
;

179 i‡(
fûÀd
 >
cou¡
) {

180  
fûÀd
;

184 
fûÀd
 < 
cou¡
) {

185 i‡(! 
	`waôRe˚ive
(
timeout
)) {

189 
ªquúed_n
 = 
cou¡
 - 
fûÀd
;

190 
n
 = 
	`ªad
(
fd_
, &
buf„r
[
fûÀd
], 
ªquúed_n
);

191 i‡(
n
 <= 0) {

195 
fûÀd
 +
n
;

197  
fûÀd
;

198 
	}
}

201 
	$Êush
()

203 
	`tcdøö
(
fd_
);

204 
	`tcÊush
(
fd_
, 
TCIOFLUSH
);

205 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/connection/SerialDevice_win.cpp

10 
	~"Dëe˘OS.h
"

11 
	~<wödows.h
>

12 
	~<£tu∑pi.h
>

13 
	~<°rög
>

14 
	~<c°dio
>

16 #ifde‡
MSC


17 
	#¢¥ötf
 
_¢¥ötf


	)

20 
usög
 
«me•a˚
 
	g°d
;

22 #unde‡
mö


23 #unde‡
max


26 ˛as†
	cRawSîülDevi˚


28 
°rög
 
	mîr‹_mesßge_
;

29 
HANDLE
 
	mhCom_
;

30 
	mcuºít_timeout_
;

31 
°rög
 
	mcom_«me_
;

34 
	mpublic
:

35 
	$RawSîülDevi˚
()

36 : 
	`îr‹_mesßge_
("nÿîr‹."), 
	`hCom_
(
INVALID_HANDLE_VALUE
),

37 
	$cuºít_timeout_
(0)

42 c⁄° * 
	$wh©
()

44  
îr‹_mesßge_
.
	`c_°r
();

45 
	}
}

48 
boﬁ
 
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

51 íum { 
NameLígth
 = 11 };

52 
adju°ed_devi˚
[
NameLígth
];

53 
	`¢¥ötf
(
adju°ed_devi˚
, 
NameLígth
, "\\\\.\\%s", 
devi˚
);

54 
hCom_
 = 
	`Cª©eFûeA
(
adju°ed_devi˚
, 
GENERIC_READ
 | 
GENERIC_WRITE
, 0,

55 
NULL
, 
OPEN_EXISTING
, 
FILE_ATTRIBUTE_NORMAL
, NULL);

57 i‡(
hCom_
 =
INVALID_HANDLE_VALUE
) {

58 
îr‹_mesßge_
 = 
	`°rög
("›í faûed: "Ë+ 
devi˚
;

59  
Ál£
;

61 
com_«me_
 = 
devi˚
;

64 
	`SëupComm
(
hCom_
, 4096 * 8, 4096);

67 
	`£tTimeout
(
cuºít_timeout_
);

70 
boﬁ
 
ªt
 = 
	`£tBaudøã
(
baudøã
);

71 i‡(! 
ªt
) {

72 
îr‹_mesßge_
 = "fail SerialDevice::setBaudrate()";

75  
åue
;

76 
	}
}

79 
	$£tTimeout
(
timeout
)

81 
COMMTIMEOUTS
 
timeouts
;

82 
	`GëCommTimeouts
(
hCom_
, &
timeouts
);

84 
timeouts
.
RódI¡îvÆTimeout
 = (
timeout
 =0Ë? 
MAXDWORD
 : 0;

85 
timeouts
.
RódTŸÆTimeoutC⁄°™t
 = 
timeout
;

86 
timeouts
.
RódTŸÆTimeoutMu…ùlõr
 = 0;

88 
	`SëCommTimeouts
(
hCom_
, &
timeouts
);

89 
	}
}

93 
	$disc⁄√˘
()

95 i‡(
hCom_
 !
INVALID_HANDLE_VALUE
) {

96 
	`Clo£H™dÀ
(
hCom_
);

97 
hCom_
 = 
INVALID_HANDLE_VALUE
;

99 
	}
}

102 
boﬁ
 
	$isC⁄√˘ed
()

104  (
hCom_
 =
INVALID_HANDLE_VALUE
Ë? 
Ál£
 : 
åue
;

105 
	}
}

108 
boﬁ
 
	$£tBaudøã
(
baudøã
)

110 
baudøã_vÆue
;

111 
baudøã
) {

114 
baudøã_vÆue
 = 
CBR_4800
;

118 
baudøã_vÆue
 = 
CBR_9600
;

122 
baudøã_vÆue
 = 
CBR_19200
;

126 
baudøã_vÆue
 = 
CBR_38400
;

130 
baudøã_vÆue
 = 
CBR_57600
;

134 
baudøã_vÆue
 = 
CBR_115200
;

138 
baudøã_vÆue
 = 
baudøã
;

141 
DCB
 
dcb
;

142 
	`GëCommSèã
(
hCom_
, &
dcb
);

143 
dcb
.
BaudR©e
 = 
baudøã_vÆue
;

144 
dcb
.
ByãSize
 = 8;

145 
dcb
.
P¨ôy
 = 
NOPARITY
;

146 
dcb
.
fP¨ôy
 = 
FALSE
;

147 
dcb
.
St›Bôs
 = 
ONESTOPBIT
;

148 i‡(
	`SëCommSèã
(
hCom_
, &
dcb
) == 0) {

149 
	`Êush
();

150  
Ál£
;

152  
åue
;

154 
	}
}

157 
	$£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
)

159 i‡(
cou¡
 <= 0) {

163 
DWORD
 
n
;

164 
	`WrôeFûe
(
hCom_
, 
d©a
, (
DWORD
)
cou¡
, &
n
, 
NULL
);

165  
n
;

166 
	}
}

169 
	$ª˚ive
(
d©a
[], 
cou¡
, 
timeout
)

171 i‡(
cou¡
 <= 0) {

175 i‡(
timeout
 !
cuºít_timeout_
) {

176 
	`£tTimeout
(
timeout
);

177 
cuºít_timeout_
 = 
timeout
;

180 
DWORD
 
n
;

181 
	`RódFûe
(
hCom_
, 
d©a
, 
cou¡
, &
n
, 
NULL
);

183  
n
;

184 
	}
}

187 
	$Êush
()

189 
	`PurgeComm
(
hCom_
,

190 
PURGE_RXABORT
 | 
PURGE_TXABORT
 |

191 
PURGE_RXCLEAR
 | 
PURGE_TXCLEAR
);

192 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/connection/TcpipSocket.h

1 #i‚de‡
QRK_TCPIP_SOCKET_H


2 
	#QRK_TCPIP_SOCKET_H


	)

13 
	~"C⁄√˘i⁄.h
"

14 
	~<°rög
>

15 
	~<mem‹y
>

18 
«me•a˚
 
	gqrk


20 
˛ass
 
	gSockëSë
;

24 ˛as†
	cT˝ùSockë
 : 
public
 
C⁄√˘i⁄


26 
public
:

27 
T˝ùSockë
();

35 
T˝ùSockë
(* 
sockë
);

44 
T˝ùSockë
(
SockëSë
* 
sockë_£t
, * 
sockë
 = 
NULL
);

46 ~
T˝ùSockë
();

48 c⁄° * 
wh©
() const;

50 
boﬁ
 
c⁄√˘
(c⁄° * 
ho°
, 
p‹t
);

51 
disc⁄√˘
();

52 
boﬁ
 
£tBaudøã
(
baudøã
);

53 
baudøã
() const;

54 
boﬁ
 
isC⁄√˘ed
() const;

55 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
);

56 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
);

57 
size_t
 
size
() const;

58 
Êush
();

59 
˛ór
();

60 
ungëc
(c⁄° 
ch
);

62 
	g¥iv©e
:

63 
T˝ùSockë
(c⁄° T˝ùSockë& 
rhs
);

64 
	gT˝ùSockë
& 
	g›î©‹
 = (c⁄° 
T˝ùSockë
& 
rhs
);

66 
	gpIm∂
;

67 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/connection/isUsingComDriver.cpp

10 
	~"isUsögComDrivî.h
"

11 
	~"Dëe˘OS.h
"

12 #ifde‡
WINDOWS_OS


13 
	~<wödows.h
>

14 
	~<°rög
>

17 
usög
 
«me•a˚
 
	g°d
;

20 #ifde‡
WINDOWS_OS


21 
	g«me•a˚


23 
boﬁ
 
exi°RegVÆue
(
HKEY
 
hkey
, 
LPCSTR
 
subkey
, c⁄° * 
föd_vÆue
)

25 
HKEY
 
	g√xt_hkey
;

26 i‡(
RegO≥nKeyExA
(
hkey
, 
subkey
,

27 0, 
KEY_READ
, &
√xt_hkey
Ë!
ERROR_SUCCESS
) {

28  
Ál£
;

30 íum { 
	gMaxLígth
 = 1024 };

33 
CHAR
 
	gdevi˚
[
MaxLígth
 + 1];

34 
	g«me
[
MaxLígth
 + 1];

36 
DWORD
 
	gªt
 = 
ERROR_SUCCESS
;

37 
	gi
 = 0; 
	gªt
 =
ERROR_SUCCESS
; ++i) {

38 
DWORD
 
	gdl
 = 
MaxLígth
;

39 
DWORD
 
	g∆
 = 
MaxLígth
;

40 
	gªt
 = 
RegEnumVÆueA
(
hkey
, 
i
, 
devi˚
, &
dl
,

41 
NULL
, NULL, (
BYTE
*)
«me
, &
∆
);

42 i‡(
	gªt
 !
ERROR_SUCCESS
) {

45 i‡(! 
°∫cmp
(
«me
, 
föd_vÆue
, 
∆
)) {

46 
RegClo£Key
(
√xt_hkey
);

47  
	gåue
;

52 
	g√xt_subkey
[
MaxLígth
];

53 
FILETIME
 
	gfûëime
;

55 
	gªt
 = 
ERROR_SUCCESS
;

56 
	gi
 = 0; 
	gªt
 =
ERROR_SUCCESS
; ++i) {

57 
DWORD
 
	gdl
 = 
MaxLígth
, 
	g∆
 = MaxLength;

58 
	gªt
 = 
RegEnumKeyExA
(
√xt_hkey
, 
i
, 
√xt_subkey
,

59 &
dl
, 
NULL
, NULL, &
∆
, &
fûëime
);

60 i‡(
	gªt
 !
ERROR_SUCCESS
) {

64 
boﬁ
 
	gvÆue_exi°
 =

65 
exi°RegVÆue
(
√xt_hkey
, 
√xt_subkey
, 
föd_vÆue
);

66 i‡(
	gvÆue_exi°
) {

67 
RegClo£Key
(
√xt_hkey
);

68  
	gåue
;

72 
RegClo£Key
(
√xt_hkey
);

73  
	gÁl£
;

78 
boﬁ
 
	gqrk
::
	$isUsögComDrivî
(c⁄° * 
com_p‹t
, c⁄° * 
drivî_«me
)

84 
°rög
 
vÆue_∑âîn
 = 
	`°rög
(
drivî_«me
Ë+ " (" + 
com_p‹t
 + ")";

85 i‡(
	`exi°RegVÆue
(
HKEY_LOCAL_MACHINE
,

87 
vÆue_∑âîn
.
	`c_°r
())) {

88  
åue
;

90  
Ál£
;

91 
	}
}

95 
boﬁ
 
	gqrk
::
	$isUsögComDrivî
(c⁄° * 
com_p‹t
, c⁄° * 
drivî_«me
)

97 
°©ic_ˇ°
<>(
com_p‹t
);

98 
°©ic_ˇ°
<>(
drivî_«me
);

100  
Ál£
;

101 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/connection/isUsingComDriver.h

1 #i‚de‡
QRK_IS_USING_COM_DRIVER_H


2 
	#QRK_IS_USING_COM_DRIVER_H


	)

13 
«me•a˚
 
	gqrk


27 
boﬁ
 
isUsögComDrivî
(c⁄° * 
com_p‹t
, c⁄° * 
drivî_«me
);

	@processors/laser/urg-0.8.18/src/cpp/connection/sdl/SdlNetInit.cpp

10 
	~"SdlNëInô.h
"

11 
	~"SdlInô.h
"

12 
	~<SDL_√t.h
>

14 
usög
 
«me•a˚
 
	gqrk
;

17 
	gSdlNëInô
::
pIm∂
 : 
¥iv©e
 
SdlInô


19 
boﬁ
 
öôülized
;

21 
boﬁ
 
	gSdlNëInô
::
pIm∂
::
öôülized
 = 
Ál£
;

24 
	gSdlNëInô
::
	$SdlNëInô
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

26 i‡(
pim∂
->
öôülized
) {

30 i‡(
	`SDLNë_Inô
() < 0) {

33 
	`©exô
(
SDLNë_Quô
);

34 
pim∂
->
öôülized
 = 
åue
;

35 
	}
}

38 
	gSdlNëInô
::~
	$SdlNëInô
()

40 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/connection/sdl/SdlNetInit.h

1 #i‚de‡
QRK_SDL_NET_INIT_H


2 
	#QRK_SDL_NET_INIT_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


19 ˛as†
	cSdlNëInô


21 
SdlNëInô
(c⁄° SdlNëInô& 
rhs
);

22 
	gSdlNëInô
& 
	g›î©‹
 = (c⁄° 
SdlNëInô
& 
rhs
);

24 
	gpIm∂
;

25 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

27 
	g¥Ÿe˘ed
:

28 
SdlNëInô
();

29 ~
SdlNëInô
();

	@processors/laser/urg-0.8.18/src/cpp/connection/sdl/SocketSet.cpp

10 
	~"SockëSë.h
"

11 
	~"SdlNëInô.h
"

12 
	~"T˝ùSockë.h
"

14 
usög
 
«me•a˚
 
	gqrk
;

20 
	gSockëSë
::
pIm∂
 : 
¥iv©e
 
SdlNëInô


22 
size_t
 
max_num
;

23 
size_t
 
	ghﬁd_num
;

24 
SDLNë_SockëSë
 
	gsockë_£t
;

26 
pIm∂
(
size_t
 
size
)

27 : 
max_num
(
size
), 
hﬁd_num
(0),

28 
sockë_£t
(
SDLNë_AŒocSockëSë
(
°©ic_ˇ°
<>(
max_num
)))

33 ~
pIm∂
()

35 
SDLNë_FªeSockëSë
(
sockë_£t
);

40 
	gSockëSë
::
	$SockëSë
(
size_t
 
size
Ë: 
	`pim∂
(
√w
 
	$pIm∂
(
size
))

42 
	}
}

45 
SockëSë
::~
	$SockëSë
()

47 
	}
}

50 
boﬁ
 
SockëSë
::
	$add
(
TCPsockë
 
sockë
)

52 i‡(
pim∂
->
hﬁd_num
 <Öim∂->
max_num
) {

53 i‡(
	`SDLNë_TCP_AddSockë
(
pim∂
->
sockë_£t
, 
sockë
) >= 0) {

54 ++(
pim∂
->
hﬁd_num
);

55  
åue
;

58  
Ál£
;

59 
	}
}

62 
	gSockëSë
::
	$dñ
(
TCPsockë
 
sockë
)

64 i‡((
pim∂
->
hﬁd_num
 > 0) &&

65 (
	`SDLNë_TCP_DñSockë
(
pim∂
->
sockë_£t
, 
sockë
) >= 0)) {

66 --(
pim∂
->
hﬁd_num
);

68 
	}
}

71 
size_t
 
	gSockëSë
::
	$check
(
timeout
)

73  
	`SDLNë_CheckSockës
(
pim∂
->
sockë_£t
, 
timeout
);

74 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/connection/sdl/SocketSet.h

1 #i‚de‡
QRK_SOCKET_SET_H


2 
	#QRK_SOCKET_SET_H


	)

13 
	~<SDL_√t.h
>

14 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


18 
˛ass
 
	gT˝ùCål
;

22 ˛as†
	cSockëSë


24 
	gpublic
:

30 
ex∂icô
 
SockëSë
(
size_t
 
size
 = 1);

31 ~
SockëSë
();

42 
boﬁ
 
add
(
TCPsockë
 
sockë
);

50 
dñ
(
TCPsockë
 
sockë
);

60 
size_t
 
check
(
timeout
);

62 
	g¥iv©e
:

63 
SockëSë
(c⁄° SockëSë& 
rhs
);

64 
	gSockëSë
& 
	g›î©‹
 = (c⁄° 
SockëSë
& 
rhs
);

66 
	gpIm∂
;

67 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/connection/sdl/TcpipServer.cpp

14 
	~"T˝ùSîvî.h
"

15 
	~"SdlNëInô.h
"

16 
	~"T˝ùSockë.h
"

17 
	~"Dëe˘OS.h
"

18 
	~<SDL_√t.h
>

19 
	~<°rög
>

21 
usög
 
«me•a˚
 
	gqrk
;

22 
usög
 
«me•a˚
 
	g°d
;

24 #ifde‡
MSC


25 
	#¢¥ötf
 
_¢¥ötf


	)

29 
	gT˝ùSîvî
::
pIm∂
 : 
¥iv©e
 
SdlNëInô


31 
°rög
 
îr‹_mesßge_
;

32 
IPaddªss
 
	gù_addªss_
;

33 
TCPsockë
 
	gac˚±_sockë_
;

34 
SDLNë_SockëSë
 
	gac˚±_£t_
;

35 
boﬁ
 
	gis_a˘iv©ed_
;

37 
T˝ùSockë
* 
	gc⁄_
;

40 
pIm∂
()

41 : 
îr‹_mesßge_
("noÉrror."),

42 
ac˚±_sockë_
(
NULL
), 
ac˚±_£t_
(NULL),

43 
is_a˘iv©ed_
(
Ál£
), 
c⁄_
(
NULL
)

48 ~
pIm∂
()

50 i‡(
	gc⁄_
) {

51 
dñëe
 
	gc⁄_
;

56 
boﬁ
 
a˘iv©e
(
p‹t
)

58 i‡(
	gis_a˘iv©ed_
) {

59 
disc⁄√˘
();

60 
dó˘iv©e
();

63 i‡(
SDLNë_ResﬁveHo°
(&
ù_addªss_
, 
NULL
,

64 
°©ic_ˇ°
<
Uöt16
>(
p‹t
)) < 0) {

65 íum { 
	gBuf„rSize
 = 256 };

66 
	gbuf„r
[
Buf„rSize
];

67 
¢¥ötf
(
buf„r
, 
Buf„rSize
 - 1, "%ld", 
p‹t
);

69 
	gîr‹_mesßge_
 =

70 
°rög
("activate(): canÇotássignÖort ")

71 + 
buf„r
 + " :" + 
SDLNë_GëEº‹
();

72  
	gÁl£
;

75 
	gac˚±_sockë_
 = 
SDLNë_TCP_O≥n
(&
ù_addªss_
);

76 i‡(
	gac˚±_sockë_
 =
NULL
) {

77 
îr‹_mesßge_
 = 
°rög
("activate(): couldÇot open socket.")

78 + " :" + 
SDLNë_GëEº‹
();

79  
	gÁl£
;

82 
	gac˚±_£t_
 = 
SDLNë_AŒocSockëSë
(1);

83 i‡(
	gac˚±_£t_
 =
NULL
) {

84 
îr‹_mesßge_
 = 
°rög
("accept(): couldÇotállock socket set.")

85 + ": " + 
SDLNë_GëEº‹
();

86  
	gÁl£
;

89 i‡(
SDLNë_TCP_AddSockë
(
ac˚±_£t_
, 
ac˚±_sockë_
) < 0) {

90 
	gîr‹_mesßge_
 = 
°rög
("accept(): couldÇotádd socket.")

91 + " :" + 
SDLNë_GëEº‹
();

92  
	gÁl£
;

95 
	gis_a˘iv©ed_
 = 
åue
;

96  
	gåue
;

100 
dó˘iv©e
()

102 i‡(! 
	gis_a˘iv©ed_
) {

106 i‡(
SDLNë_TCP_DñSockë
(
ac˚±_£t_
, 
ac˚±_sockë_
) < 0) {

107 
	gîr‹_mesßge_
 = "deactivate(): SDLNet_GetError()";

111 
SDLNë_FªeSockëSë
(
ac˚±_£t_
);

112 
	gac˚±_£t_
 = 
NULL
;

114 
SDLNë_TCP_Clo£
(
ac˚±_sockë_
);

115 
	gac˚±_sockë_
 = 
NULL
;

117 
	gis_a˘iv©ed_
 = 
Ál£
;

121 
boﬁ
 
ac˚±
(
timeout
)

123 i‡(
	gis_a˘iv©ed_
 =
Ál£
) {

124 
îr‹_mesßge_
 = "calláctivate() beforeáccept() called.";

125  
	gÁl£
;

128 
	gn
 = 
SDLNë_CheckSockës
(
ac˚±_£t_
, 
timeout
);

129 i‡((
	gn
 <0Ë|| (! 
SDLNë_SockëRódy
(
ac˚±_sockë_
))) {

131  
Ál£
;

134 
TCPsockë
 
	gsockë
 = 
SDLNë_TCP_Ac˚±
(
ac˚±_sockë_
);

135 i‡(
	gsockë
 =
NULL
) {

136  
Ál£
;

139 i‡(
	gc⁄_
) {

140 
dñëe
 
	gc⁄_
;

142 
	gc⁄_
 = 
√w
 
T˝ùSockë
(
sockë
);

143  
	gåue
;

147 
disc⁄√˘
()

149 i‡(
	gc⁄_
) {

150 
	gc⁄_
->
disc⁄√˘
();

156 
	gT˝ùSîvî
::
	$T˝ùSîvî
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

158 
	}
}

161 
T˝ùSîvî
::~
	$T˝ùSîvî
()

163 
	`dó˘iv©e
();

164 
	}
}

167 c⁄° * 
	gT˝ùSîvî
::
	$wh©
() const

169  
pim∂
->
îr‹_mesßge_
.
	`c_°r
();

170 
	}
}

173 
boﬁ
 
	gT˝ùSîvî
::
	$a˘iv©e
(
p‹t
)

175  
pim∂
->
	`a˘iv©e
(
p‹t
);

176 
	}
}

179 
	gT˝ùSîvî
::
	$dó˘iv©e
()

181 
pim∂
->
	`dó˘iv©e
();

182 
	}
}

185 
boﬁ
 
	gT˝ùSîvî
::
	$ac˚±
(
timeout
)

187  
pim∂
->
	`ac˚±
(
timeout
);

188 
	}
}

191 
boﬁ
 
	gT˝ùSîvî
::
	$c⁄√˘
(c⁄° * 
ho°
, 
p‹t
)

193 i‡(! 
	`isC⁄√˘ed
()) {

194  
Ál£
;

197  
pim∂
->
c⁄_
->
	`c⁄√˘
(
ho°
, 
p‹t
);

198 
	}
}

201 
	gT˝ùSîvî
::
	$disc⁄√˘
()

203 
pim∂
->
	`disc⁄√˘
();

204 
	}
}

207 
boﬁ
 
	gT˝ùSîvî
::
	$£tBaudøã
(
baudøã
)

209 i‡(! 
	`isC⁄√˘ed
()) {

210  
Ál£
;

212  
pim∂
->
c⁄_
->
	`£tBaudøã
(
baudøã
);

213 
	}
}

216 
	gT˝ùSîvî
::
	$baudøã
() const

218 i‡(! 
	`isC⁄√˘ed
()) {

221  
pim∂
->
c⁄_
->
	`baudøã
();

222 
	}
}

225 
boﬁ
 
	gT˝ùSîvî
::
	$isC⁄√˘ed
() const

227 i‡(! 
pim∂
->
c⁄_
) {

228  
Ál£
;

230  
pim∂
->
c⁄_
->
	`isC⁄√˘ed
();

231 
	}
}

234 
	gT˝ùSîvî
::
	$£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
)

236 i‡(! 
pim∂
->
c⁄_
) {

239  
pim∂
->
c⁄_
->
	`£nd
(
d©a
, 
cou¡
);

240 
	}
}

243 
	gT˝ùSîvî
::
	$ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
)

245 i‡(! 
pim∂
->
c⁄_
) {

248  
pim∂
->
c⁄_
->
	`ª˚ive
(
d©a
, 
cou¡
, 
timeout
);

249 
	}
}

252 
size_t
 
	gT˝ùSîvî
::
	$size
() const

254 i‡(! 
pim∂
->
c⁄_
) {

257  
pim∂
->
c⁄_
->
	`size
();

258 
	}
}

261 
	gT˝ùSîvî
::
	$Êush
()

263 i‡(! 
pim∂
->
c⁄_
) {

266  
pim∂
->
c⁄_
->
	`Êush
();

267 
	}
}

270 
	gT˝ùSîvî
::
	$˛ór
()

272 i‡(! 
pim∂
->
c⁄_
) {

275  
pim∂
->
c⁄_
->
	`˛ór
();

276 
	}
}

279 
	gT˝ùSîvî
::
	$ungëc
(c⁄° 
ch
)

281 i‡(! 
pim∂
->
c⁄_
) {

284  
pim∂
->
c⁄_
->
	`ungëc
(
ch
);

285 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/connection/sdl/TcpipServer.h

1 #i‚de‡
QRK_TCPIP_SERVER_H


2 
	#QRK_TCPIP_SERVER_H


	)

13 
	~"C⁄√˘i⁄.h
"

14 
	~<mem‹y
>

17 
«me•a˚
 
	gqrk


20 ˛as†
	cT˝ùSîvî
 : 
public
 
C⁄√˘i⁄


22 
public
:

24 
NoTimeout
 = -1,

26 
T˝ùSîvî
();

27 ~
T˝ùSîvî
();

29 c⁄° * 
wh©
() const;

31 
boﬁ
 
a˘iv©e
(
p‹t
);

32 
dó˘iv©e
();

33 
boﬁ
 
ac˚±
(
timeout
 = 
NoTimeout
);

35 
boﬁ
 
c⁄√˘
(c⁄° * 
ho°
, 
p‹t
);

36 
disc⁄√˘
();

37 
boﬁ
 
£tBaudøã
(
baudøã
);

38 
baudøã
() const;

39 
boﬁ
 
isC⁄√˘ed
() const;

40 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
);

41 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
);

42 
size_t
 
size
() const;

43 
Êush
();

44 
˛ór
();

45 
ungëc
(c⁄° 
ch
);

47 
	g¥iv©e
:

48 
T˝ùSîvî
(c⁄° T˝ùSîvî& 
rhs
);

49 
	gT˝ùSîvî
& 
	g›î©‹
 = (c⁄° 
T˝ùSîvî
& 
rhs
);

51 
	gpIm∂
;

52 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/connection/sdl/TcpipSocket.cpp

10 
	~"Dëe˘OS.h
"

11 
	~"T˝ùSockë.h
"

12 
	~"SdlNëInô.h
"

13 
	~"SockëSë.h
"

14 
	~"RögBuf„r.h
"

15 
	~<°rög
>

17 #ifde‡
WINDOWS_OS


18 
	#¢¥ötf
 
_¢¥ötf


	)

21 
usög
 
«me•a˚
 
	gqrk
;

22 
usög
 
«me•a˚
 
	g°d
;

25 
	gT˝ùSockë
::
pIm∂
 : 
¥iv©e
 
SdlNëInô


27 
°rög
 
îr‹_mesßge_
;

28 
TCPsockë
 
	gsockë_
;

29 
SockëSë
* 
	gsockë_£t_
;

30 
SDLNë_SockëSë
 
	gown_£t_
;

31 
	gRögBuf„r
<> 
	grög_buf„r_
;

32 
boﬁ
 
	ghave_d©a_
;

33 
	gdummy_baudøã_
;

36 
pIm∂
(
TCPsockë
 
sockë
, 
SockëSë
* 
sockë_£t
)

37 : 
îr‹_mesßge_
("nÿîr‹."), 
sockë_
(
sockë
),

38 
sockë_£t_
(
sockë_£t
), 
own_£t_
(
NULL
), 
have_d©a_
(
Ál£
),

39 
dummy_baudøã_
(0)

41 i‡(
	gsockë_£t_
 =
NULL
) {

42 
own_£t_
 = 
SDLNë_AŒocSockëSë
(1);

43 i‡(
	gsockë_
 !
NULL
) {

44 
addSockë
(
sockë_
);

47 
	gsockë_£t_
->
add
(
sockë_
);

52 ~
pIm∂
()

54 
disc⁄√˘
();

55 i‡(
	gown_£t_
) {

56 
SDLNë_FªeSockëSë
(
own_£t_
);

61 
disc⁄√˘
()

63 i‡(
	gsockë_
) {

64 i‡(
	gsockë_£t_
) {

65 
	gsockë_£t_
->
dñ
(
sockë_
);

67 
dñëeSockë
(
sockë_
);

70 
SDLNë_TCP_Clo£
(
sockë_
);

71 
	gsockë_
 = 
NULL
;

73 
	gîr‹_mesßge_
 = "disconnected.";

77 
addSockë
(
TCPsockë
 
sockë
)

79 
SDLNë_TCP_AddSockë
(
own_£t_
, 
sockë
);

83 
dñëeSockë
(
TCPsockë
 
sockë
)

85 
SDLNë_TCP_DñSockë
(
own_£t_
, 
sockë
);

89 
upd©e
(
timeout
, 
size
 = 0)

91 íum { 
Buf„rSize
 = 1024 };

92 
	gªquúe_size
 = (
size
 > 0Ë? sizê: 
Buf„rSize
;

93 
	gfûÀd
 = 0;

94 
	gfûÀd
 < 
	gªquúe_size
) {

95 i‡(
	gsockë_£t_
 =
NULL
) {

96 i‡(
SDLNë_CheckSockës
(
own_£t_
,

97 (
size
 =0Ë? 0 : 
timeout
) <= 0) {

101 i‡(! 
SDLNë_SockëRódy
(
sockë_
)) {

104 
	gd©a
[
Buf„rSize
];

105 
	gªad_n
 = 
ªquúe_size
 - 
fûÀd
;

106 
	gn
 =

107 
SDLNë_TCP_Recv
(
sockë_
, 
d©a
,

108 (
ªad_n
 > 
Buf„rSize
) ? BufferSize :Ñead_n);

109 i‡(
	gn
 <= 0) {

110 
disc⁄√˘
();

113 
	grög_buf„r_
.
put
(
d©a
, 
n
);

114 
	ghave_d©a_
 = 
åue
;

115 
	gfûÀd
 +
n
;

117 i‡(
	gsockë_£t_
 !
NULL
) {

127 
	gT˝ùSockë
::
	$T˝ùSockë
(Ë: 
	`pim∂
(
√w
 
	$pIm∂
(
NULL
, NULL))

129 
	}
}

132 
	gT˝ùSockë
::
	$T˝ùSockë
(* 
sockë
)

133 : 
	`pim∂
(
√w
 
	`pIm∂
(
°©ic_ˇ°
<
TCPsockë
>(
sockë
), 
NULL
))

135 
	}
}

138 
	gT˝ùSockë
::
	$T˝ùSockë
(
SockëSë
* 
sockë_£t
, * 
sockë
)

139 : 
	`pim∂
(
√w
 
	`pIm∂
(
°©ic_ˇ°
<
TCPsockë
>(
sockë
), 
sockë_£t
))

141 
	}
}

144 
	gT˝ùSockë
::~
	$T˝ùSockë
()

146 
	}
}

149 c⁄° * 
T˝ùSockë
::
	$wh©
() const

151  
pim∂
->
îr‹_mesßge_
.
	`c_°r
();

152 
	}
}

155 
boﬁ
 
	gT˝ùSockë
::
	$c⁄√˘
(c⁄° * 
ho°
, 
p‹t
)

157 
IPaddªss
 
ù
;

158 
ªt
 = 
	`SDLNë_ResﬁveHo°
(&
ù
, 
ho°
, 
°©ic_ˇ°
<>(
p‹t
));

159 i‡(
ªt
 < 0) {

160 
pim∂
->
îr‹_mesßge_
 =

161 
	`°rög
("SDLNë_ResﬁveHo°(): "Ë+ 
	`SDLNë_GëEº‹
();

162  
Ál£
;

165 
TCPsockë
 
sockë
 = 
	`SDLNë_TCP_O≥n
(&
ù
);

166 i‡(
sockë
 =
NULL
) {

167 
°∫um
[13];

168 
	`•rötf
(
°∫um
, "%ld", 
p‹t
);

169 
pim∂
->
îr‹_mesßge_
 =

170 
	`°rög
(
	`SDLNë_GëEº‹
()Ë+ " (" + 
ho°
 + ", " + 
°∫um
 + ")";

171  
Ál£
;

173 
	`disc⁄√˘
();

174 
	`sw≠
(
sockë
, 
pim∂
->
sockë_
);

177 i‡(
pim∂
->
sockë_£t_
) {

178 
pim∂
->
sockë_£t_
->
	`add
’im∂->
sockë_
);

180 
pim∂
->
	`addSockë
’im∂->
sockë_
);

182 
pim∂
->
îr‹_mesßge_
 = "connected.";

183  
åue
;

184 
	}
}

187 
	gT˝ùSockë
::
	$disc⁄√˘
()

189 
pim∂
->
	`disc⁄√˘
();

190 
	}
}

193 
boﬁ
 
	gT˝ùSockë
::
	$£tBaudøã
(
baudøã
)

195 
pim∂
->
dummy_baudøã_
 = 
baudøã
;

196  
åue
;

197 
	}
}

200 
	gT˝ùSockë
::
	$baudøã
() const

202  
pim∂
->
dummy_baudøã_
;

203 
	}
}

206 
boﬁ
 
	gT˝ùSockë
::
	$isC⁄√˘ed
() const

208  (
pim∂
->
sockë_
 =
NULL
Ë? 
Ál£
 : 
åue
;

209 
	}
}

212 
	gT˝ùSockë
::
	$£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
)

214 i‡(! 
	`isC⁄√˘ed
()) {

217  
	`SDLNë_TCP_Síd
(
pim∂
->
sockë_
,

218 
c⁄°_ˇ°
<*>(
d©a
), 
°©ic_ˇ°
<>(
cou¡
));

219 
	}
}

222 
	gT˝ùSockë
::
	$ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
)

224 i‡(! 
	`isC⁄√˘ed
()) {

226 } i‡(
cou¡
 == 0) {

231 i‡((
pim∂
->
	`upd©e
(
timeout
Ë< 0Ë&& (!Öim∂->
have_d©a_
)) {

237 
size_t
 
fûÀd
 = 
pim∂
->
rög_buf„r_
.
	`size
();

238 i‡(
fûÀd
 >
cou¡
) {

239 
pim∂
->
rög_buf„r_
.
	`gë
(
d©a
, 
°©ic_ˇ°
<>(
cou¡
));

240 
pim∂
->
have_d©a_
 = !Öim∂->
rög_buf„r_
.
	`em±y
();

241  
°©ic_ˇ°
<>(
cou¡
);

245 
À·
 = 
°©ic_ˇ°
<>(
cou¡
 - 
fûÀd
);

246 i‡((
pim∂
->
own_£t_
 !
NULL
Ë&& (pim∂->
	`upd©e
(
timeout
, 
À·
) < 0)

247 && (! 
pim∂
->
have_d©a_
)) {

253 
fûÀd
 = 
pim∂
->
rög_buf„r_
.
	`size
();

254 
pim∂
->
rög_buf„r_
.
	`gë
(
d©a
, 
fûÀd
);

255 
pim∂
->
have_d©a_
 = !Öim∂->
rög_buf„r_
.
	`em±y
();

257  
°©ic_ˇ°
<>(
fûÀd
);

258 
	}
}

261 
size_t
 
	gT˝ùSockë
::
	$size
() const

263 i‡((
pim∂
->
	`upd©e
(0Ë< 0Ë&& (!Öim∂->
have_d©a_
)) {

266  
pim∂
->
rög_buf„r_
.
	`size
();

267 
	}
}

270 
	gT˝ùSockë
::
	$Êush
()

273 
	}
}

276 
T˝ùSockë
::
	$˛ór
()

278 
pim∂
->
rög_buf„r_
.
	`˛ór
();

279 
	}
}

282 
	gT˝ùSockë
::
	$ungëc
(c⁄° 
ch
)

284 i‡(! 
	`isC⁄√˘ed
()) {

285 
pim∂
->
îr‹_mesßge_
 = "no connection.";

289 
pim∂
->
rög_buf„r_
.
	`ungëc
(
ch
);

290 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/coordinate/Coordinate.cpp

10 
	~"Co‹dö©e.h
"

11 
	~"M©hUtûs.h
"

12 
	~<m≠
>

13 
	~<c°dio
>

15 
usög
 
«me•a˚
 
	gqrk
;

16 
usög
 
«me•a˚
 
	g°d
;

19 
	g«me•a˚


21 ˛as†
	cChûd


23 
	gpublic
:

24 
Co‹dö©e
* 
poöãr_
;

25 
	gPosôi⁄
<> 
	goff£t_
;

28 
Chûd
(Ë: 
poöãr_
(
NULL
)

33 
Chûd
(
Co‹dö©e
* 
poöãr
, c⁄° 
Posôi⁄
<>& 
off£t
)

34 : 
poöãr_
(
poöãr
), 
off£t_
(
off£t
)

38 
	gm≠
<
	tCo‹dö©e
*, 
	tChûd
> 
	tChûdªn
;

42 
	gPosôi⁄
<> 
rŸ©e
(c⁄° 
Posôi⁄
<>& 
poöt
, c⁄° 
ødün
)

44 
	gx
 = 
°©ic_ˇ°
<>

45 (
Ãöt
((
poöt
.
x
 * 
cos
(
ødün
)Ë- (poöt.
y
 * 
sö
(radian))));

46 
	gy
 = 
°©ic_ˇ°
<>

47 (
Ãöt
((
poöt
.
x
 * 
sö
(
ødün
)Ë+ (poöt.
y
 * 
cos
(radian))));

49  
	gPosôi⁄
<>(
	gx
, 
	gy
, 
	gpoöt
.
	g™gÀ
);

54 
	gCo‹dö©e
::
pIm∂


56 
Co‹dö©e
* 
∑ª¡_
;

57 
Chûdªn
 
	gchûdªn_
;

60 
pIm∂
(
Co‹dö©e
* 
∑ª¡
)

61 : 
∑ª¡_
(
∑ª¡
)

66 
îa£FromP¨ít
(
Co‹dö©e
* 
co‹dö©e
)

68 
∑ª¡_
->
pim∂
->
chûdªn_
.
îa£
(
co‹dö©e
);

72 
	gPosôi⁄
<> 
posôi⁄OnChûd
(c⁄° 
Co‹dö©e
* 
chûd
,

73 c⁄° 
Posôi⁄
<>& 
posôi⁄
)

75 
Co‹dö©e
* 
	g∑ª¡
 = 
chûd
->
∑ª¡
();

76 
	gPosôi⁄
<> 
	goff£t
 = 
∑ª¡
->
off£t
(
chûd
);

80 
	gPosôi⁄
<> 
	gc⁄vîãd_posôi⁄
 = 
rŸ©e
(
posôi⁄
, 
off£t
.
to_ød
());

81 
	gc⁄vîãd_posôi⁄
 +
off£t
;

83  
	gc⁄vîãd_posôi⁄
;

87 
	gPosôi⁄
<> 
posôi⁄OnP¨ít
(c⁄° 
Co‹dö©e
* 
chûd
,

88 c⁄° 
Posôi⁄
<>& 
posôi⁄
)

90 
Co‹dö©e
* 
	g∑ª¡
 = 
chûd
->
∑ª¡
();

91 
	gPosôi⁄
<> 
	goff£t
 = 
∑ª¡
->
off£t
(
chûd
);

95 
	gPosôi⁄
<> 
	gc⁄vîãd_posôi⁄
 = 
posôi⁄
 - 
off£t
;

96  
rŸ©e
(
c⁄vîãd_posôi⁄
, -
off£t
.
to_ød
());

100 
	gPosôi⁄
<> 
posôi⁄OnRoŸ
(c⁄° 
Co‹dö©e
* 
co‹dö©e
,

101 c⁄° 
Posôi⁄
<>& 
posôi⁄
)

103 i‡(
	gco‹dö©e
 =
roŸ
()) {

104  
posôi⁄
;

107  
posôi⁄OnP¨ít
(
co‹dö©e
,

108 
posôi⁄OnRoŸ
(
co‹dö©e
->
∑ª¡
(), 
posôi⁄
));

114 
	gCo‹dö©e
::
	$Co‹dö©e
(
Co‹dö©e
* 
∑ª¡
Ë: 
	`pim∂
(
√w
 
	$pIm∂
(
∑ª¡
))

116 
	}
}

119 
Co‹dö©e
::
	$Co‹dö©e
(Ë: 
	`pim∂
(
√w
 
	`pIm∂
(
	$roŸ
()))

122 
	`£tOrigöTo
(
	`roŸ
(), 
Posôi⁄
<>(0, 0, 
	`deg
(0)));

123 
	}
}

126 
	gCo‹dö©e
::~
	$Co‹dö©e
()

128 i‡(! 
pim∂
->
∑ª¡_
) {

136 
pim∂
->
	`îa£FromP¨ít
(
this
);

137 
	}
}

140 
Co‹dö©e
* 
	gCo‹dö©e
::
	$roŸ
()

142 
Co‹dö©e
 
	`roŸ_co‹dö©e
(
NULL
);

143  &
roŸ_co‹dö©e
;

144 
	}
}

147 
	gCo‹dö©e
::
£tOrigöTo
(
Co‹dö©e
* 
∑ª¡
,

148 c⁄° 
Posôi⁄
<>& 
posôi⁄
)

150 
	gpim∂
->
îa£FromP¨ít
(
this
);

152 
	g∑ª¡
->
	gpim∂
->
	gchûdªn_
[
this
] = 
Chûd
—his, 
posôi⁄
);

153 
	gpim∂
->
	g∑ª¡_
 = 
∑ª¡
;

157 
Co‹dö©e
* 
	gCo‹dö©e
::
	$∑ª¡
() const

159  
pim∂
->
∑ª¡_
;

160 
	}
}

163 
	g£t
<
	gCo‹dö©e
*> Co‹dö©e::
	$chûdªn
() const

165 
£t
<
Co‹dö©e
*> 
chûdªn
;

166 
Chûdªn
::
ôî©‹
 
ô
 = 
pim∂
->
chûdªn_
.
	`begö
();

167 
ô
 !
pim∂
->
chûdªn_
.
	`íd
(); ++it) {

168 
chûdªn
.
	`ö£π
(
ô
->
fú°
);

170  
chûdªn
;

171 
	}
}

174 
	gPosôi⁄
<> 
	gCo‹dö©e
::
	$off£t
(c⁄° 
Co‹dö©e
* 
chûd
) const

176 
Chûdªn
::
ôî©‹
 
ô
 = 
pim∂
->
chûdªn_
.
	`föd
(
c⁄°_ˇ°
<
Co‹dö©e
*>(
chûd
));

177 i‡(
ô
 !
pim∂
->
chûdªn_
.
	`íd
()) {

178  
ô
->
£c⁄d
.
off£t_
;

183 
	`Ârötf
(
°dîr
, "Coordinte::offset():Ço child.\n");

185 
Posôi⁄
<> 
dummy
;

186  
dummy
;

187 
	}
}

190 
	gPosôi⁄
<> 
	gCo‹dö©e
::
poötPosôi⁄
(c⁄° 
Co‹dö©e
* 
co‹dö©e
,

191 c⁄° 
Posôi⁄
<>& 
posôi⁄
) const

194 
	gc⁄°_ˇ°
<
	gCo‹dö©e
*>(
	gthis
)->
bef‹eEvÆu©e
();

195 i‡(
	gco‹dö©e
) {

196 
	gc⁄°_ˇ°
<
	gCo‹dö©e
*>(
	gco‹dö©e
)->
bef‹eEvÆu©e
();

200 
	gPosôi⁄
<> 
	groŸ_posôi⁄
 = 
posôi⁄
;

201 
Co‹dö©e
* 
	groŸ_co‹dö©e
 = 
roŸ
();

202 c⁄° 
Co‹dö©e
* 
	gp
 = 
co‹dö©e
;

203 
	gp
 !
roŸ_co‹dö©e
;Ö = 
p
->
∑ª¡
()) {

204 
roŸ_posôi⁄
 = 
pim∂
->
posôi⁄OnChûd
(
p
,Ñoot_position);

209  
	gpim∂
->
posôi⁄OnRoŸ
(
this
, 
roŸ_posôi⁄
);

	@processors/laser/urg-0.8.18/src/cpp/coordinate/Coordinate.h

1 #i‚de‡
QRC_COORDINATE_H


2 
	#QRC_COORDINATE_H


	)

13 
	~"Posôi⁄.h
"

14 
	~<£t
>

15 
	~<mem‹y
>

18 
«me•a˚
 
	gqrk


23 ˛as†
	cCo‹dö©e


25 
	gpublic
:

26 
Co‹dö©e
();

27 
	gvútuÆ
 ~
Co‹dö©e
();

33 
Co‹dö©e
* 
roŸ
();

44 
£tOrigöTo
(
Co‹dö©e
* 
∑ª¡
, c⁄° 
Posôi⁄
<>& 
posôi⁄
);

52 
Co‹dö©e
* 
∑ª¡
() const;

60 
	g°d
::
£t
<
Co‹dö©e
*> 
chûdªn
() const;

71 
	gPosôi⁄
<> 
off£t
(c⁄° 
Co‹dö©e
* 
chûd
) const;

81 
	gPosôi⁄
<> 
poötPosôi⁄
(c⁄° 
Co‹dö©e
* 
co‹dö©e
,

82 c⁄° 
Posôi⁄
<>& 
posôi⁄
) const;

84 
	g¥Ÿe˘ed
:

88 
vútuÆ
 
bef‹eEvÆu©e
()

92 
¥iv©e
:

93 
Co‹dö©e
(Co‹dö©e* 
∑ª¡
);

94 
Co‹dö©e
(c⁄° Co‹dö©e& 
rhs
);

95 
	gCo‹dö©e
& 
	g›î©‹
 = (c⁄° 
Co‹dö©e
& 
rhs
);

97 
	gpIm∂
;

98 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/geometry/Angle.cpp

10 
	~"AngÀ.h
"

11 
	~"M©hUtûs.h
"

13 
usög
 
«me•a˚
 
	gqrk
;

16 
	gAngÀ
::
	$AngÀ
(Ë: 
	$ødün_™gÀ_
(0.0)

18 
	}
}

21 
AngÀ
::
	$AngÀ
(c⁄° 
AngÀ
& 
rhs
Ë: 
	$ødün_™gÀ_
(
rhs
.
ødün_™gÀ_
)

23 
	}
}

26 
AngÀ
& AngÀ::
›î©‹
 = (c⁄° AngÀ& 
rhs
)

28 
this
->
ødün_™gÀ_
 = 
rhs
.radian_angle_;

30  *
	gthis
;

34 
	gAngÀ
& AngÀ::
›î©‹
 +(c⁄° 
AngÀ
& 
rhs
)

36 
this
->
ødün_™gÀ_
 +
rhs
.radian_angle_;

38  *
	gthis
;

42 c⁄° 
AngÀ
 
	gAngÀ
::
›î©‹
 + (c⁄° AngÀ& 
rhs
) const

44  
AngÀ
(*
this
Ë+
rhs
;

48 
	gAngÀ
& AngÀ::
›î©‹
 -(c⁄° 
AngÀ
& 
rhs
)

50 
this
->
ødün_™gÀ_
 -
rhs
.radian_angle_;

52  *
	gthis
;

56 c⁄° 
AngÀ
 
	gAngÀ
::
›î©‹
 - (c⁄° AngÀ& 
rhs
) const

58  
AngÀ
(*
this
Ë-
rhs
;

62 
	gAngÀ
& AngÀ::
›î©‹
 *(c⁄° 
rhs
)

64 
this
->
ødün_™gÀ_
 *
rhs
;

66  *
	gthis
;

70 
AngÀ
 
	gAngÀ
::
›î©‹
 * (
rhs
) const

72  
AngÀ
(*
this
Ë*
rhs
;

76 
	gAngÀ
::
	$n‹mÆize
()

78 
ødün_™gÀ_
 < -
M_PI
) {

79 
ødün_™gÀ_
 +2.0 * 
M_PI
;

81 
ødün_™gÀ_
 > 
M_PI
) {

82 
ødün_™gÀ_
 -2.0 * 
M_PI
;

84 
	}
}

87 
	gAngÀ
::
	$to_deg
() const

89  
°©ic_ˇ°
<>(180 * 
ødün_™gÀ_
 / 
M_PI
);

90 
	}
}

93 
	gAngÀ
::
	$to_ød
() const

95  
ødün_™gÀ_
;

96 
	}
}

99 
AngÀ
 
	gqrk
::
	$ød
(
ødün
)

101 
AngÀ
 
™gÀ
;

102 
™gÀ
.
ødün_™gÀ_
 = 
ødün
;

104  
™gÀ
;

105 
	}
}

108 
AngÀ
 
	gqrk
::
	$deg
(
degªe
)

110 
AngÀ
 
™gÀ
;

111 
™gÀ
.
ødün_™gÀ_
 = 
M_PI
 * 
degªe
 / 180.0;

113  
™gÀ
;

114 
	}
}

117 c⁄° 
AngÀ
 
	g›î©‹
 * (
	glhs
, c⁄° 
	gAngÀ
& 
	grhs
)

119  
AngÀ
(
rhs
Ë* 
	glhs
;

	@processors/laser/urg-0.8.18/src/cpp/geometry/Angle.h

1 #i‚de‡
QRK_ANGLE_H


2 
	#QRK_ANGLE_H


	)

14 
«me•a˚
 
	gqrk


19 ˛as†
	cAngÀ


21 
	gpublic
:

22 
AngÀ
();

23 
AngÀ
(c⁄° AngÀ& 
rhs
);

25 
	gAngÀ
& 
	g›î©‹
 = (c⁄° 
AngÀ
& 
rhs
);

26 
	gAngÀ
& 
	g›î©‹
 +(c⁄° 
AngÀ
& 
rhs
);

27 c⁄° 
AngÀ
 
	g›î©‹
 + (c⁄° 
	gAngÀ
& 
	grhs
) const;

28 
	gAngÀ
& 
	g›î©‹
 -(c⁄° 
AngÀ
& 
rhs
);

29 c⁄° 
AngÀ
 
	g›î©‹
 - (c⁄° 
	gAngÀ
& 
	grhs
) const;

30 
	gAngÀ
& 
	g›î©‹
 *(c⁄° 
rhs
);

31 
AngÀ
 
	g›î©‹
 * (c⁄° 
	grhs
) const;

32 
‰õnd
 c⁄° 
AngÀ
 
	g›î©‹
 * (c⁄° 
	glhs
, c⁄° 
	gAngÀ
& 
	grhs
);

34 
n‹mÆize
();

42 
to_deg
() const;

50 
to_ød
() const;

52 
	g¥iv©e
:

53 
ødün_™gÀ_
;

55 
‰õnd
 
AngÀ
 
ød
(
ødün
);

56 
‰õnd
 
AngÀ
 
deg
(
degªe
);

66 
AngÀ
 
ød
(
ødün
);

75 
AngÀ
 
deg
(
degªe
);

	@processors/laser/urg-0.8.18/src/cpp/geometry/Point.h

1 #i‚de‡
QRK_POINT_H


2 
	#QRK_POINT_H


	)

13 
«me•a˚
 
	gqrk


18 
	gãm∂©e
 <
ty≥«me
 
	gT
>

19 ˛as†
	cPoöt


21 
	gpublic
:

22 
T
 
x
;

23 
T
 
	gy
;

26 
Poöt
(Ë: 
x
(0), 
y
(0)

31 
Poöt
(
T
 
x_
, T 
y_
Ë: 
x
(x_), 
y
(y_)

36 
boﬁ
 
	g›î©‹
 =(c⁄° 
Poöt
<
T
>& 
rhs
) const

38  ((
this
->
x
 =
rhs
.xË&& (this->
y
 =rhs.y)Ë? 
åue
 : 
Ál£
;

42 
boﬁ
 
	g›î©‹
 < (c⁄° 
	gPoöt
<
	gT
>& 
	grhs
) const

44 i‡(
	gy
 < 
	grhs
.y) {

45  
	gåue
;

47 } i‡(
	gx
 < 
	grhs
.x) {

48  
	gåue
;

51  
	gÁl£
;

56 
	gPoöt
<
	gT
>& 
	g›î©‹
 +(c⁄° 
Poöt
<
T
>& 
rhs
)

58 
this
->
x
 +
rhs
.x;

59 
	gthis
->
	gy
 +
rhs
.
y
;

61  *
	gthis
;

65 c⁄° 
	gPoöt
<
	gT
> 
	g›î©‹
 + (c⁄° Poöt<T>& 
	grhs
) const

67  
	gPoöt
<
	gT
>(*
	gthis
Ë+
rhs
;

71 
	gPoöt
<
	gT
>& 
	g›î©‹
 -(c⁄° 
Poöt
<
T
>& 
rhs
)

73 
this
->
x
 -
rhs
.x;

74 
	gthis
->
	gy
 -
rhs
.
y
;

76  *
	gthis
;

80 c⁄° 
	gPoöt
<
	gT
> 
	g›î©‹
 - (c⁄° Poöt<T>& 
	grhs
) const

82  
	gPoöt
<
	gT
>(*
	gthis
Ë-
rhs
;

86 
	gPoöt
<
	gT
>& 
	g›î©‹
 *(c⁄° & 
rhs
)

88 
this
->
x
 = 
°©ic_ˇ°
<
T
>—his->x * 
rhs
);

89 
	gthis
->
	gy
 = 
°©ic_ˇ°
<
T
>(
this
->
y
 * 
rhs
);

91  *
	gthis
;

95 
	gPoöt
<
	gT
> 
	g›î©‹
 * (c⁄° & 
	grhs
) const

97  
	gPoöt
<
	gT
>(*
	gthis
Ë*
rhs
;

101 
‰õnd
 c⁄° 
	gPoöt
<
	gT
> 
	g›î©‹
 * (c⁄° 
	glhs
, c⁄° Poöt<T>& 
	grhs
)

103  
	gPoöt
<
	gT
>(
	grhs
Ë*
lhs
;

	@processors/laser/urg-0.8.18/src/cpp/geometry/Position.h

1 #i‚de‡
QRK_POSITION_H


2 
	#QRK_POSITION_H


	)

15 
	~"AngÀ.h
"

16 
	~<io°ªam
>

19 
«me•a˚
 
	gqrk


24 
	gãm∂©e
<
˛ass
 
	gT
>

25 ˛as†
	cPosôi⁄


27 
	gpublic
:

28 
T
 
x
;

29 
T
 
	gy
;

30 
AngÀ
 
	g™gÀ
;

33 
Posôi⁄
(Ë: 
x
(0), 
y
(0)

38 
Posôi⁄
(c⁄° Posôi⁄& 
rhs
Ë: 
x
‘hs.x), 
y
‘hs.y), 
™gÀ
(rhs.angle)

43 
Posôi⁄
(
T
 
x_
, T 
y_
, c⁄° 
AngÀ
& 
™gÀ_
Ë: 
x
(x_), 
y
(y_), 
™gÀ
(angle_)

48 
to_deg
() const

50  
	g™gÀ
.
to_deg
();

54 
to_ød
() const

56  
	g™gÀ
.
to_ød
();

60 
boﬁ
 
	g›î©‹
 =(c⁄° 
Posôi⁄
& 
rhs
) const

62 i‡((
this
->
x
 =
rhs
.xË&& (this->
y
 ==Ñhs.y) &&

63 (
this
->
™gÀ
.
to_ød
(Ë=
rhs
.angle.to_rad())) {

64  
åue
;

66  
	gÁl£
;

71 
	gPosôi⁄
& 
	g›î©‹
 = (c⁄° 
Posôi⁄
<
T
>& 
rhs
)

73 
this
->
x
 = 
rhs
.x;

74 
	gthis
->
	gy
 = 
rhs
.
y
;

75 
	gthis
->
	g™gÀ
 = 
rhs
.
™gÀ
;

77  *
	gthis
;

80 
	gPosôi⁄
<
	gT
>& 
	g›î©‹
 +(c⁄° 
Posôi⁄
<
T
>& 
rhs
)

82 
this
->
x
 +
rhs
.x;

83 
	gthis
->
	gy
 +
rhs
.
y
;

84 
	gthis
->
	g™gÀ
 +
rhs
.
™gÀ
;

86  *
	gthis
;

90 c⁄° 
	gPosôi⁄
<
	gT
> 
	g›î©‹
 + (c⁄° Posôi⁄<T>& 
	grhs
) const

92  
	gPosôi⁄
<
	gT
>(*
	gthis
Ë+
rhs
;

96 
	gPosôi⁄
<
	gT
>& 
	g›î©‹
 -(c⁄° 
Posôi⁄
<
T
>& 
rhs
)

98 
this
->
x
 -
rhs
.x;

99 
	gthis
->
	gy
 -
rhs
.
y
;

100 
	gthis
->
	g™gÀ
 -
rhs
.
™gÀ
;

102  *
	gthis
;

106 c⁄° 
	gPosôi⁄
<
	gT
> 
	g›î©‹
 - (c⁄° Posôi⁄<T>& 
	grhs
) const

108  
	gPosôi⁄
<
	gT
>(*
	gthis
Ë-
rhs
;

112 
	gPosôi⁄
<
	gT
>& 
	g›î©‹
 *(c⁄° 
T
& 
rhs
)

114 
this
->
x
 *
rhs
;

115 
	gthis
->
	gy
 *
rhs
;

116 
	gthis
->
	g™gÀ
 *
rhs
;

118  *
	gthis
;

122 
	gPosôi⁄
<
	gT
> 
	g›î©‹
 * (c⁄° T& 
	grhs
) const

124 
	gPosôi⁄
<
	gT
> 
ªt
(*
this
);

125  
	gªt
 *
rhs
;

129 
‰õnd
 c⁄° 
	gPosôi⁄
<
	gT
> 
	g›î©‹
 * (c⁄° T& 
	glhs
,

130 c⁄° 
	gPosôi⁄
<
	gT
>& 
	grhs
)

132  
	gPosôi⁄
<
	gT
>(
	grhs
Ë* 
	glhs
;

136 
‰õnd
 
	g°d
::
o°ªam
& 
›î©‹
 << (
°d
::o°ªam& 
out
,

137 c⁄° 
	gPosôi⁄
<
	gT
>& 
	grhs
)

139 
	gout
 << '(' << 
	grhs
.
	gx
 << ", " <<Ñhs.
	gy


140 << ", deg(" << 
	grhs
.
	g™gÀ
.
to_deg
() << "))";

142  
	gout
;

	@processors/laser/urg-0.8.18/src/cpp/monitor/DeviceIpManager.cpp

10 
	~"Devi˚IpM™agî.h
"

11 
	~<°rög
>

12 
	~<m≠
>

14 
usög
 
«me•a˚
 
	gqrk
;

15 
usög
 
«me•a˚
 
	g°d
;

18 
	g«me•a˚


20 
	gm≠
<
	t°rög
, > 
	tP‹tM≠
;

24 
	gDevi˚IpM™agî
::
pIm∂


26 
P‹tM≠
 
p‹t_m≠_
;

31 
¸óãIpP‹t
(c⁄° * 
devi˚
, 
sub_id
)

33 
	g°©ic_ˇ°
<>(
	gdevi˚
);

34 
	g°©ic_ˇ°
<>(
	gsub_id
);

44 
	gDevi˚IpM™agî
::
	$Devi˚IpM™agî
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

46 
	}
}

49 
Devi˚IpM™agî
::~
	$Devi˚IpM™agî
()

51 
	}
}

54 
Devi˚IpM™agî
* Devi˚IpM™agî::
	$obje˘
()

56 
Devi˚IpM™agî
 
sögÀt⁄_obje˘
;

57  &
sögÀt⁄_obje˘
;

58 
	}
}

61 
	gDevi˚IpM™agî
::
	$¸óãIpP‹t
(c⁄° * 
devi˚
, 
sub_id
)

63  
pim∂
->
	`¸óãIpP‹t
(
devi˚
, 
sub_id
);

64 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/monitor/DeviceIpManager.h

1 #i‚de‡
QRK_DEVICE_IP_MANAGER_H


2 
	#QRK_DEVICE_IP_MANAGER_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


21 ˛as†
	cDevi˚IpM™agî


23 
Devi˚IpM™agî
();

24 
Devi˚IpM™agî
(c⁄° Devi˚IpM™agî& 
rhs
);

25 
	gDevi˚IpM™agî
& 
	g›î©‹
 = (c⁄° 
Devi˚IpM™agî
& 
rhs
);

27 
	gpIm∂
;

28 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

30 
	gpublic
:

31 ~
Devi˚IpM™agî
();

32 
Devi˚IpM™agî
* 
obje˘
();

34 
¸óãIpP‹t
(c⁄° * 
devi˚
, 
sub_id
 = 0);

	@processors/laser/urg-0.8.18/src/cpp/monitor/DeviceServer.h

1 #i‚de‡
QRK_DEVICE_SERVER_H


2 
	#QRK_DEVICE_SERVER_H


	)

13 
«me•a˚
 
	gqrk


18 ˛as†
	cDevi˚Sîvî


20 
	gpublic
:

21 
vútuÆ
 ~
Devi˚Sîvî
()

25 
vútuÆ
 
boﬁ
 
a˘iv©e
(
p‹t
) = 0;

27 
vútuÆ
 
upd©eI¡îvÆ
() = 0;

29 
vútuÆ
 
upd©e
() = 0;

	@processors/laser/urg-0.8.18/src/cpp/monitor/LogNameHolder.cpp

10 
	~"LogNameHﬁdî.h
"

11 
	~"Dëe˘OS.h
"

12 
	~<m≠
>

13 
	~<c°dio
>

15 #ifde‡
MSC


16 
	#¢¥ötf
 
_¢¥ötf


	)

19 
usög
 
«me•a˚
 
	gqrk
;

20 
usög
 
«me•a˚
 
	g°d
;

23 
	g«me•a˚


25 
	gm≠
<
	t°rög
, > 
	tNames
;

29 
	gLogNameHﬁdî
::
pIm∂


31 
Names
 
«mes_numbî_
;

34 
°rög
 
«me
(c⁄° * 
ba£Name
)

36 
	gNames
::
ôî©‹
 
p
 = 
«mes_numbî_
.
föd
(
°rög
(
ba£Name
));

37 
	gid
 = (
p
 =
«mes_numbî_
.
íd
()Ë? 0 :Çames_numbî_[
ba£Name
] + 1;

38 
	g«mes_numbî_
[
ba£Name
] = 
id
;

40 íum { 
	gBuf„rSize
 = 14 };

41 
	gbuf„r
[
Buf„rSize
];

42 
¢¥ötf
(
buf„r
, 
Buf„rSize
, "_%d", 
id
);

44  (
°rög
(
ba£Name
Ë+ 
	gbuf„r
 + ".log").
c_°r
();

49 
	gLogNameHﬁdî
::
	$LogNameHﬁdî
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

51 
	}
}

54 
LogNameHﬁdî
::~
	$LogNameHﬁdî
()

56 
	}
}

59 
LogNameHﬁdî
* LogNameHﬁdî::
	$obje˘
()

61 
LogNameHﬁdî
 
sögÀt⁄_obje˘
;

62  &
sögÀt⁄_obje˘
;

63 
	}
}

66 
°rög
 
	gLogNameHﬁdî
::
	$«me
(c⁄° * 
ba£Name
)

68  
pim∂
->
	`«me
(
ba£Name
);

69 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/monitor/LogNameHolder.h

1 #i‚de‡
QRK_LOG_NAME_HOLDER_H


2 
	#QRK_LOG_NAME_HOLDER_H


	)

13 
	~<mem‹y
>

14 
	~<°rög
>

17 
«me•a˚
 
	gqrk


22 ˛as†
	cLogNameHﬁdî


24 
LogNameHﬁdî
();

25 
LogNameHﬁdî
(c⁄° LogNameHﬁdî& 
rhs
);

26 
	gLogNameHﬁdî
& 
	g›î©‹
 = (c⁄° 
LogNameHﬁdî
& 
rhs
);

28 
	gpIm∂
;

29 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

31 
	gpublic
:

32 ~
LogNameHﬁdî
();

33 
LogNameHﬁdî
* 
obje˘
();

35 
	g°d
::
°rög
 
«me
(c⁄° * 
ba£Name
);

	@processors/laser/urg-0.8.18/src/cpp/monitor/MonitorDataHandler.cpp

12 
	~"M⁄ô‹D©aH™dÀr.h
"

13 
	~"M⁄ô‹EvítScheduÀr.h
"

14 
	~"Lock.h
"

15 
	~"ticks.h
"

16 
	~"•lô.h
"

17 
	~<c°dlib
>

18 
	~<f°ªam
>

20 
usög
 
«me•a˚
 
	gqrk
;

21 
usög
 
«me•a˚
 
	g°d
;

24 
	g«me•a˚


27 
	gDummySize
 = 0,

30 c⁄° 
	gLF
 = 0x0a;

32 ˛as†
	cFûeH™dÀr


34 
	gpublic
:

35 
vútuÆ
 ~
FûeH™dÀr
()

39 
vútuÆ
 
„tchFú°Löe
(c⁄° 
size
, c⁄° * 
commít
 = 
NULL
) = 0;

40 
vútuÆ
 
„tch
(* 
d©a
, 
size
) = 0;

41 
vútuÆ
 
„tch
(
°rög
& 
d©a
) = 0;

42 
vútuÆ
 
„tch
(
boﬁ
& 
d©a
) = 0;

43 
vútuÆ
 
„tch
(& 
d©a
) = 0;

44 
vútuÆ
 
„tch
(& 
d©a
) = 0;

45 
vútuÆ
 
„tch
(& 
d©a
) = 0;

46 
vútuÆ
 
„tch
(& 
d©a
) = 0;

50 ˛as†
	cRec‹dH™dÀr
 : 
public
 
FûeH™dÀr


52 
public
:

53 
of°ªam
 
fout_
;

56 
Rec‹dH™dÀr
(c⁄° * 
fûe
)

58 
	gfout_
.
›í
(
fûe
, 
ios
::
bö¨y
);

59 i‡(! 
	gfout_
.
is_›í
()) {

60 
°rög
 
	gmesßge
 = såög("›íÜog fûe: "Ë+ 
fûe
;

61 
≥º‹
(
mesßge
.
c_°r
());

67 ~
Rec‹dH™dÀr
()

69 
	gfout_
.
˛o£
();

73 
„tchFú°Löe
(c⁄° 
size
, c⁄° * 
commít
 = 
NULL
)

75 
cuºít_ticks
 = 
ticks
();

76 
	gfout_
 << 
	gcuºít_ticks
 << "," << 
	gsize
;

78 i‡(
	gcommít
) {

79 
	gfout_
 << " # " << 
	gcommít
;

81 
£tEndl
(
fout_
);

83  
	gsize
;

87 
„tch
(* 
d©a
, 
size
)

89 
	gfout_
.
wrôe
(
d©a
, 
size
);

90 
£tEndl
(
fout_
);

92  
	gsize
;

98 
„tch
(
°rög
& 
d©a
)

100 
	gfout_
 << 
	gd©a
;

101 
£tEndl
(
fout_
);

103  
	gd©a
.
size
();

107 
„tch
(
boﬁ
& 
d©a
)

109 
	gfout_
 << 
	gd©a
;

110 
£tEndl
(
fout_
);

112  
	gd©a
;

116 
„tch
(& 
d©a
)

118 
	gfout_
 << 
	gd©a
;

119 
£tEndl
(
fout_
);

121  
	gd©a
;

125 
„tch
(& 
d©a
)

127 
	gfout_
 << 
	gd©a
;

128 
£tEndl
(
fout_
);

130  
	gd©a
;

134 
„tch
(& 
d©a
)

136 
	gfout_
 << 
	gd©a
;

137 
£tEndl
(
fout_
);

139  
	gd©a
;

143 
„tch
(& 
d©a
)

145 
	gfout_
 << 
	gd©a
;

146 
£tEndl
(
fout_
);

148  
	gd©a
;

152 
£tEndl
(
of°ªam
& 
fd
)

154 
	gch
 = 
LF
;

155 
	gfd
.
wrôe
(&
ch
, 1);

156 
	gfd
.
Êush
();

161 ˛as†
	cPœyH™dÀr
 : 
public
 
FûeH™dÀr


163 
M⁄ô‹EvítScheduÀr
* 
scheduÀr_
;

164 
C⁄dôi⁄V¨übÀ
 
	gc⁄dôi⁄_
;

165 
boﬁ
 
	gno_îr‹_
;

166 
°rög
 
	g∂ay_fûe_
;

168 
	gpublic
:

169 
if°ªam
 
fö_
;

172 
PœyH™dÀr
(c⁄° * 
fûe
)

173 : 
scheduÀr_
(
M⁄ô‹EvítScheduÀr
::
obje˘
()), 
no_îr‹_
(
åue
),

174 
∂ay_fûe_
(
fûe
)

176 
	gfö_
.
›í
(
fûe
, 
ios
::
bö¨y
);

177 i‡(! 
	gfö_
.
is_›í
()) {

178 
°rög
 
	gmesßge
 = såög("›íÜog fûe: "Ë+ 
fûe
;

179 
≥º‹
(
mesßge
.
c_°r
());

186 ~
PœyH™dÀr
()

188 
	gfö_
.
˛o£
();

189 i‡(
	gc⁄dôi⁄_
.
isWaôög
()) {

190 
	gc⁄dôi⁄_
.
wakeup
();

195 
„tchFú°Löe
(c⁄° 
size
, c⁄° * 
commít
 = 
NULL
)

197 
°©ic_ˇ°
<>(
size
);

198 
	g°©ic_ˇ°
<>(
	gcommít
);

201 
°rög
 
	glöe
;

202 
gëlöe
(
fö_
, 
löe
, 
LF
);

203 
size_t
 
	gcommít_posôi⁄
 = 
löe
.
föd
("#");

204 i‡(
	gcommít_posôi⁄
 !
°rög
::
≈os
) {

206 
löe
.
îa£
(
commít_posôi⁄
);

208 
	gve˘‹
<
	g°rög
> 
	gtokís
;

209 i‡(
•lô
(
tokís
, 
löe
, ",") != 2) {

210 i‡(
no_îr‹_
) {

211 
Ârötf
(
°dîr
, "mism©chÜog: %s\n", 
∂ay_fûe_
.
c_°r
());

213 
	gno_îr‹_
 = 
Ál£
;

217 
	gèrgë_ticks
 = 
©oi
(
tokís
[0].
c_°r
());

220 i‡(
	gèrgë_ticks
 > 
ticks
()) {

221 
	gscheduÀr_
->
ªgi°îWakeupTicks
(&
c⁄dôi⁄_
, 
èrgë_ticks
);

222 
Lock
 
	gmuãx
;

223 
	gmuãx
.
lock
();

224 
	gc⁄dôi⁄_
.
waô
(&
muãx
);

225 
	gmuãx
.
u∆ock
();

228 
	gd©a_size
 = 
©oi
(
tokís
[1].
c_°r
());

229  
	gd©a_size
;

233 
skùEndl
()

235 
	gíd_ch
 = '\0';

236 
	gfö_
.
ªad
(&
íd_ch
, 1);

240 
„tch
(* 
d©a
, 
size
)

242 i‡(
	gd©a
) {

243 
	gfö_
.
ªad
(
d©a
, 
size
);

246 íum { 
	gBuf„rSize
 = 256 };

247 
	gbuf„r
[
Buf„rSize
];

248 
	gÀ·_size
 = 
size
;

249 
	gÀ·_size
 > 0) {

250 
	gªadabÀ_size
 = 
mö
(
À·_size
, 
°©ic_ˇ°
<>(
Buf„rSize
));

251 
	gfö_
.
ªad
(
buf„r
, 
ªadabÀ_size
);

252 
	gÀ·_size
 -
ªadabÀ_size
;

255 
skùEndl
();

257  
	gsize
;

261 
„tch
(
°rög
& 
d©a
)

263 
gëlöe
(
fö_
, 
d©a
, 
LF
);

265  
	gd©a
.
size
();

269 
„tch
(
boﬁ
& 
d©a
)

271 
	gch
 = '\0';

272 
	gfö_
.
ªad
(&
ch
, 1);

273 
skùEndl
();

275 
	gd©a
 = (
ch
 ='0'Ë? 
Ál£
 : 
åue
;

276  
	gd©a
;

280 
„tch
(& 
d©a
)

282 
	gfö_
 >> 
	gd©a
;

283 
skùEndl
();

285  
	gd©a
;

289 
„tch
(& 
d©a
)

291 
	gfö_
 >> 
	gd©a
;

292 
skùEndl
();

294  
	gd©a
;

298 
„tch
(& 
d©a
)

300 
	gfö_
 >> 
	gd©a
;

301 
skùEndl
();

303  
	gd©a
;

307 
„tch
(& 
d©a
)

309 
	gfö_
 >> 
	gd©a
;

310 
skùEndl
();

312  
	gd©a
;

318 
	gM⁄ô‹D©aH™dÀr
::
pIm∂


320 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode_
;

321 
°rög
 
	gfûe_
;

322 
FûeH™dÀr
* 
	gh™dÀr_
;

325 
pIm∂
(
°rög
 
fûe
, 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode
)

326 : 
mode_
(
mode
), 
fûe_
(
fûe
), 
h™dÀr_
(
NULL
)

328 i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) {

329 
h™dÀr_
 = 
√w
 
Rec‹dH™dÀr
(
fûe_
.
c_°r
());

331 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Pœy
) {

332 
h™dÀr_
 = 
√w
 
PœyH™dÀr
(
fûe_
.
c_°r
());

334 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

340 ~
pIm∂
()

342 
dñëe
 
h™dÀr_
;

346 
„tch
(* 
d©a
, 
size
, c⁄° * 
commít
)

348 
	gd©a_size
 = 
h™dÀr_
->
„tchFú°Löe
(
size
, 
commít
);

349 i‡(
	gd©a_size
 < 0) {

352  
	gh™dÀr_
->
„tch
(
d©a
, 
d©a_size
);

356 
„tch
(
°rög
& 
d©a
, c⁄° * 
commít
)

358 
	gsize
 = 
d©a
.
size
();

359 i‡(
	gh™dÀr_
->
„tchFú°Löe
(
size
, 
commít
) < 0) {

362  
	gh™dÀr_
->
„tch
(
d©a
);

366 
„tch
(
boﬁ
& 
d©a
, c⁄° * 
commít
)

368 i‡(
	gh™dÀr_
->
„tchFú°Löe
(1, 
commít
) < 0) {

371  
	gh™dÀr_
->
„tch
(
d©a
);

375 
„tch
(& 
d©a
, c⁄° * 
commít
)

377 
	gn
 = 
digôsNumbî
(
d©a
);

378 i‡(
	gh™dÀr_
->
„tchFú°Löe
(
n
, 
commít
) < 0) {

381  
	gh™dÀr_
->
„tch
(
d©a
);

385 
„tch
(& 
d©a
, c⁄° * 
commít
)

387 
	gn
 = 
digôsNumbî
(
d©a
);

388 i‡(
	gh™dÀr_
->
„tchFú°Löe
(
n
, 
commít
) < 0) {

391  
	gh™dÀr_
->
„tch
(
d©a
);

395 
„tch
(& 
d©a
, c⁄° * 
commít
)

397 
	gn
 = 
digôsNumbî
(
d©a
);

398 i‡(
	gh™dÀr_
->
„tchFú°Löe
(
n
, 
commít
) < 0) {

401  
	gh™dÀr_
->
„tch
(
d©a
);

405 
„tch
(& 
d©a
, c⁄° * 
commít
)

407 
	gn
 = 
digôsNumbî
(
d©a
);

408 i‡(
	gh™dÀr_
->
„tchFú°Löe
(
n
, 
commít
) < 0) {

411  
	gh™dÀr_
->
„tch
(
d©a
);

415 
digôsNumbî
(
d©a
)

417 íum { 
	gBuf„rMax
 = 22 };

418 
	gbuf„r
[
Buf„rMax
];

419  
¢¥ötf
(
buf„r
, 
Buf„rMax
, "%ld", 
d©a
);

424 
	gM⁄ô‹D©aH™dÀr
::
M⁄ô‹D©aH™dÀr
(
°rög
 
fûe
,

425 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode
)

426 : 
pim∂
(
√w
 
	$pIm∂
(
fûe
, 
mode
))

428 
	}
}

431 
	gM⁄ô‹D©aH™dÀr
::~
	$M⁄ô‹D©aH™dÀr
()

433 
	}
}

436 
M⁄ô‹D©aH™dÀr
::
	$„tch
(* 
d©a
, 
size
, c⁄° * 
commít
)

438  
pim∂
->
	`„tch
(
d©a
, 
size
, 
commít
);

439 
	}
}

442 
	gM⁄ô‹D©aH™dÀr
::
	$„tch
(
°rög
& 
d©a
, c⁄° * 
commít
)

444  
pim∂
->
	`„tch
(
d©a
, 
commít
);

445 
	}
}

448 
	gM⁄ô‹D©aH™dÀr
::
	$„tch
(
boﬁ
& 
d©a
, c⁄° * 
commít
)

450  
pim∂
->
	`„tch
(
d©a
, 
commít
);

451 
	}
}

454 
	gM⁄ô‹D©aH™dÀr
::
	$„tch
(& 
d©a
, c⁄° * 
commít
)

456  
pim∂
->
	`„tch
(
d©a
, 
commít
);

457 
	}
}

460 
	gM⁄ô‹D©aH™dÀr
::
	$„tch
(& 
d©a
, c⁄° * 
commít
)

462  
pim∂
->
	`„tch
(
d©a
, 
commít
);

463 
	}
}

466 
	gM⁄ô‹D©aH™dÀr
::
	$„tch
(& 
d©a
, c⁄° * 
commít
)

468  
pim∂
->
	`„tch
(
d©a
, 
commít
);

469 
	}
}

472 
	gM⁄ô‹D©aH™dÀr
::
	$„tch
(& 
d©a
, c⁄° * 
commít
)

474  
pim∂
->
	`„tch
(
d©a
, 
commít
);

475 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/monitor/MonitorDataHandler.h

1 #i‚de‡
QRK_MONITOR_DATA_HANDLER_H


2 
	#QRK_MONITOR_DATA_HANDLER_H


	)

13 
	~"M⁄ô‹ModeM™agî.h
"

14 
	~"Dëe˘OS.h
"

15 
	~<°rög
>

17 #ifde‡
MSC


18 
	#¢¥ötf
 
_¢¥ötf


	)

22 
«me•a˚
 
	gqrk


34 ˛as†
	cM⁄ô‹D©aH™dÀr


36 
M⁄ô‹D©aH™dÀr
();

37 
M⁄ô‹D©aH™dÀr
(c⁄° M⁄ô‹D©aH™dÀr& 
rhs
);

38 
	gM⁄ô‹D©aH™dÀr
& 
	g›î©‹
 = (c⁄° 
M⁄ô‹D©aH™dÀr
& 
rhs
);

40 
	gpIm∂
;

41 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

43 
	gpublic
:

44 
ex∂icô
 
M⁄ô‹D©aH™dÀr
(
°d
::
°rög
 
fûe
,

45 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode
);

46 ~
M⁄ô‹D©aH™dÀr
();

48 
„tch
(* 
d©a
, 
size
, c⁄° * 
commít
 = 
NULL
);

53 
„tch
(
°d
::
°rög
& 
d©a
, c⁄° * 
commít
 = 
NULL
);

54 
„tch
(
boﬁ
& 
d©a
, c⁄° * 
commít
 = 
NULL
);

55 
„tch
(& 
d©a
, c⁄° * 
commít
 = 
NULL
);

56 
„tch
(& 
d©a
, c⁄° * 
commít
 = 
NULL
);

57 
„tch
(& 
d©a
, c⁄° * 
commít
 = 
NULL
);

58 
„tch
(& 
d©a
, c⁄° * 
commít
 = 
NULL
);

	@processors/laser/urg-0.8.18/src/cpp/monitor/MonitorEventScheduler.cpp

10 
	~"M⁄ô‹EvítScheduÀr.h
"

11 
	~"Thªad.h
"

12 
	~"Lock.h
"

13 
	~"ticks.h
"

14 
	~"dñay.h
"

15 
	~<li°
>

17 
usög
 
«me•a˚
 
	gqrk
;

18 
usög
 
«me•a˚
 
	g°d
;

21 
	gM⁄ô‹EvítScheduÀr
::
pIm∂


24 
ThªadMaxDñay
 = 200,

27 ˛as†
	cevít_t


29 
	gpublic
:

30 
ticks
;

31 
C⁄dôi⁄V¨übÀ
* 
	gc⁄dôi⁄
;

33 
evít_t
(
ticks_
, 
C⁄dôi⁄V¨übÀ
* 
c⁄dôi⁄_
)

34 : 
ticks
(
ticks_
), 
c⁄dôi⁄
(
c⁄dôi⁄_
)

38 
boﬁ
 
	g›î©‹
 < (c⁄° 
	gevít_t
& 
	grhs
) const

40  
	gticks
 < 
	grhs
.ticks;

44 
Lock
 
	gmuãx_
;

45 
Thªad
 
	gthªad_
;

46 
	gli°
<
	gevít_t
> 
	gevít_li°_
;

48 
C⁄dôi⁄V¨übÀ
 
	gwaô_c⁄dôi⁄_
;

49 
boﬁ
 
	gãrmö©ed_
;

52 
	$pIm∂
(Ë: 
	`thªad_
(
scheduÀ_thªad
, 
this
), 
	$ãrmö©ed_
(
Ál£
)

54 
thªad_
.
	`run
(
Thªad
::
Inföôy
);

55 
	}
}

58 ~
	$pIm∂
()

60 
	`ãrmö©e
();

61 
	}
}

64 
	$evítDñay
(
dñay_m£c
)

66 i‡(
dñay_m£c
 > 
ThªadMaxDñay
) {

69 
dñay_m£c
 = 
ThªadMaxDñay
;

71 
	`dñay
((
dñay_m£c
 > 0) ? delay_msec : 1);

72 
	}
}

75 
	$scheduÀ_thªad
(* 
¨gs
)

77 
pIm∂
* 
obj
 = 
°©ic_ˇ°
<pIm∂*>(
¨gs
);

78 
obj
->
muãx_
.
	`lock
();

79 i‡(
obj
->
ãrmö©ed_
) {

80 
obj
->
muãx_
.
	`u∆ock
();

86 
cuºít_ticks
 = 
	`ticks
();

87 
li°
<
evít_t
>::
ôî©‹
 
íd_ô
 = 
obj
->
evít_li°_
.
	`íd
();

88 
li°
<
evít_t
>::
ôî©‹
 
ô
 = 
obj
->
evít_li°_
.
	`begö
();

89 
ô
 !
íd_ô
;) {

90 i‡(
cuºít_ticks
 < 
ô
->
ticks
) {

94 i‡(! 
ô
->
c⁄dôi⁄
->
	`isWaôög
()) {

97 
dñay_m£c
 = 
ô
->
ticks
 - 
cuºít_ticks
;

98 
obj
->
muãx_
.
	`u∆ock
();

99 
	`evítDñay
(
dñay_m£c
);

103 
C⁄dôi⁄V¨übÀ
* 
c⁄dôi⁄
 = 
ô
->condition;

104 
ô
 = 
obj
->
evít_li°_
.
	`îa£
(it);

105 
c⁄dôi⁄
->
	`wakeup
();

108 i‡(
obj
->
evít_li°_
.
	`em±y
()) {

110 
	`evítDñay
(1);

111 
obj
->
waô_c⁄dôi⁄_
.
	`waô
(&obj->
muãx_
);

112 
obj
->
muãx_
.
	`u∆ock
();

116 
dñay_m£c
 = 
obj
->
evít_li°_
.
	`‰⁄t
().
ticks
 - 
cuºít_ticks
;

117 
obj
->
muãx_
.
	`u∆ock
();

118 
	`evítDñay
(
dñay_m£c
);

121 
	}
}

124 
	$ãrmö©e
()

126 i‡(! 
thªad_
.
	`isRu¬ög
()) {

130 
muãx_
.
	`lock
();

131 
ãrmö©ed_
 = 
åue
;

134 
li°
<
evít_t
>::
ôî©‹
 
íd_ô
 = 
evít_li°_
.
	`íd
();

135 
li°
<
evít_t
>::
ôî©‹
 
ô
 = 
evít_li°_
.
	`begö
();

136 
ô
 !
íd_ô
;) {

137 
C⁄dôi⁄V¨übÀ
* 
c⁄dôi⁄
 = 
ô
->condition;

138 
ô
 = 
evít_li°_
.
	`îa£
(it);

139 
c⁄dôi⁄
->
	`wakeup
();

141 
muãx_
.
	`u∆ock
();

143 i‡(
waô_c⁄dôi⁄_
.
	`isWaôög
()) {

144 
waô_c⁄dôi⁄_
.
	`wakeup
();

146 
thªad_
.
	`°›
();

147 
thªad_
.
	`waô
();

148 
	}
}

152 
	gM⁄ô‹EvítScheduÀr
::
	$M⁄ô‹EvítScheduÀr
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

154 
	}
}

157 
M⁄ô‹EvítScheduÀr
::~
	$M⁄ô‹EvítScheduÀr
()

159 
	}
}

162 
M⁄ô‹EvítScheduÀr
* M⁄ô‹EvítScheduÀr::
	$obje˘
()

164 
M⁄ô‹EvítScheduÀr
 
sögÀt⁄_obje˘
;

165  &
sögÀt⁄_obje˘
;

166 
	}
}

169 
	gM⁄ô‹EvítScheduÀr
::
	$ãrmö©e
()

171 
pim∂
->
	`ãrmö©e
();

172 
	}
}

175 
	gM⁄ô‹EvítScheduÀr
::
	$ªgi°îWakeupTicks
(
C⁄dôi⁄V¨übÀ
* 
c⁄dôi⁄
,

176 
ticks
)

178 
pim∂
->
muãx_
.
	`lock
();

179 i‡(
pim∂
->
ãrmö©ed_
) {

180 
pim∂
->
muãx_
.
	`u∆ock
();

185 
pIm∂
::
evít_t
 
	`evít
(
ticks
, 
c⁄dôi⁄
);

186 
li°
<
pIm∂
::
evít_t
> 
add_evít
;

187 
add_evít
.
	`push_back
(
evít
);

188 
pim∂
->
evít_li°_
.
	`mîge
(
add_evít
);

189 
pim∂
->
muãx_
.
	`u∆ock
();

192 i‡(
pim∂
->
waô_c⁄dôi⁄_
.
	`isWaôög
()) {

193 
pim∂
->
waô_c⁄dôi⁄_
.
	`wakeup
();

195 
	}
}

198 
	gM⁄ô‹EvítScheduÀr
::
	$ªgi°îDevi˚Sîvî
(
Devi˚Sîvî
* 
devi˚
)

200 
°©ic_ˇ°
<>(
devi˚
);

205 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/monitor/MonitorEventScheduler.h

1 #i‚de‡
QRK_MONITOR_EVENT_SCHEDULER_H


2 
	#QRK_MONITOR_EVENT_SCHEDULER_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


18 
˛ass
 
	gC⁄dôi⁄V¨übÀ
;

19 
˛ass
 
	gDevi˚Sîvî
;

20 
˛ass
 
	gLock
;

26 ˛as†
	cM⁄ô‹EvítScheduÀr


28 
M⁄ô‹EvítScheduÀr
();

29 
M⁄ô‹EvítScheduÀr
(c⁄° M⁄ô‹EvítScheduÀr& 
rhs
);

30 
	gM⁄ô‹EvítScheduÀr
& 
	g›î©‹
 = (c⁄° 
M⁄ô‹EvítScheduÀr
& 
rhs
);

32 
	gpIm∂
;

33 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

35 
	gpublic
:

36 ~
M⁄ô‹EvítScheduÀr
();

37 
M⁄ô‹EvítScheduÀr
* 
obje˘
();

39 
ãrmö©e
();

41 
ªgi°îWakeupTicks
(
C⁄dôi⁄V¨übÀ
* 
c⁄dôi⁄
, 
ticks
);

42 
ªgi°îDevi˚Sîvî
(
Devi˚Sîvî
* 
devi˚
);

	@processors/laser/urg-0.8.18/src/cpp/monitor/MonitorModeManager.cpp

10 
	~"M⁄ô‹ModeM™agî.h
"

11 
	~<c°rög
>

13 
usög
 
«me•a˚
 
	gqrk
;

16 
	gM⁄ô‹ModeM™agî
::
pIm∂


18 
M⁄ô‹Mode
 
mode_
;

21 
pIm∂
(Ë: 
mode_
(
Undeföed
)

27 
	gM⁄ô‹ModeM™agî
::
	$M⁄ô‹ModeM™agî
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

29 
	}
}

32 
M⁄ô‹ModeM™agî
::~
	$M⁄ô‹ModeM™agî
()

34 
	}
}

37 
M⁄ô‹ModeM™agî
* M⁄ô‹ModeM™agî::
	$obje˘
()

39 
M⁄ô‹ModeM™agî
 
obj
;

40  &
obj
;

41 
	}
}

44 
	gM⁄ô‹ModeM™agî
::
	$£tMode
(
¨gc
, * 
¨gv
[])

46 i‡(
pim∂
->
mode_
 !
Undeföed
) {

51 
i
 = 1; i < 
¨gc
; ++i) {

52 i‡((! 
	`°rcmp
("-r", 
¨gv
[
i
])) || (! strcmp("--record",árgv[i]))) {

53 
pim∂
->
mode_
 = 
Rec‹d
;

56 } i‡((! 
	`°rcmp
("-p", 
¨gv
[
i
])) || (! strcmp("--play",árgv[i]))) {

57 
pim∂
->
mode_
 = 
Pœy
;

60 } i‡((! 
	`°rcmp
("-s", 
¨gv
[
i
])) ||

61 (! 
	`°rcmp
("--simuœti⁄", 
¨gv
[
i
]))) {

62 
pim∂
->
mode_
 = 
Simuœti⁄
;

66 
	}
}

69 
	gM⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
M⁄ô‹ModeM™agî
::
	$mode
()

71  
pim∂
->
mode_
;

72 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/monitor/MonitorModeManager.h

1 #i‚de‡
QRK_MONITOR_MODE_MANAGER_H


2 
	#QRK_MONITOR_MODE_MANAGER_H


	)

13 
	~<mem‹y
>

21 
«me•a˚
 
	gqrk


23 ˛as†
	cM⁄ô‹ModeM™agî


25 
M⁄ô‹ModeM™agî
();

26 
M⁄ô‹ModeM™agî
(c⁄° M⁄ô‹ModeM™agî& 
rhs
);

27 
	gM⁄ô‹ModeM™agî
& 
	g›î©‹
 = (c⁄° 
M⁄ô‹ModeM™agî
& 
rhs
);

29 
	gpIm∂
;

30 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

32 
	gpublic
:

36 
Undeföed
,

37 
	gRec‹d
,

38 
	gPœy
,

39 
	gSimuœti⁄
,

40 } 
	tM⁄ô‹Mode
;

42 ~
M⁄ô‹ModeM™agî
();

43 
M⁄ô‹ModeM™agî
* 
obje˘
();

45 
£tMode
(
¨gc
, * 
¨gv
[]);

46 
M⁄ô‹Mode
 
mode
();

	@processors/laser/urg-0.8.18/src/cpp/monitor/UrgServer.cpp

10 
	~"UrgSîvî.h
"

12 
usög
 
«me•a˚
 
	gqrk
;

15 
	gUrgSîvî
::
pIm∂


21 
	gUrgSîvî
::
	$UrgSîvî
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

23 
	}
}

26 
UrgSîvî
::~
	$UrgSîvî
()

28 
	}
}

31 
boﬁ
 
UrgSîvî
::
	$a˘iv©e
(
p‹t
)

33 
°©ic_ˇ°
<>(
p‹t
);

36  
Ál£
;

37 
	}
}

40 
	gUrgSîvî
::
	$upd©eI¡îvÆ
()

43 
	}
}

46 
	gUrgSîvî
::
	$upd©e
()

48 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/monitor/UrgServer.h

1 #i‚de‡
QRK_URG_SERVER_H


2 
	#QRK_URG_SERVER_H


	)

13 
	~"Devi˚Sîvî.h
"

14 
	~<mem‹y
>

17 
«me•a˚
 
	gqrk


22 ˛as†
	cUrgSîvî
 : 
public
 
Devi˚Sîvî


24 
UrgSîvî
(c⁄° UrgSîvî& 
rhs
);

25 
	gUrgSîvî
& 
	g›î©‹
 = (c⁄° 
UrgSîvî
& 
rhs
);

27 
	gpIm∂
;

28 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

30 
	gpublic
:

31 
UrgSîvî
();

32 ~
UrgSîvî
();

34 
boﬁ
 
a˘iv©e
(
p‹t
);

35 
upd©eI¡îvÆ
();

36 
upd©e
();

	@processors/laser/urg-0.8.18/src/cpp/monitor/mConnection.cpp

10 
	~"mC⁄√˘i⁄.h
"

11 
	~"M⁄ô‹D©aH™dÀr.h
"

12 
	~"LogNameHﬁdî.h
"

13 
	~<°rög
>

15 
usög
 
«me•a˚
 
	gqrk
;

16 
usög
 
«me•a˚
 
	g°d
;

19 
	gmC⁄√˘i⁄
::
pIm∂


21 
C⁄√˘i⁄
* 
c⁄_
;

22 
M⁄ô‹D©aH™dÀr
* 
	gh™dÀr_
;

23 
	gM⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode_
;

24 
°rög
 
	gîr‹_mesßge_
;

26 
	gbaudøã_
;

29 
pIm∂
(
C⁄√˘i⁄
* 
c⁄√˘i⁄
)

30 : 
c⁄_
(
c⁄√˘i⁄
), 
h™dÀr_
(
NULL
), 
mode_
(
M⁄ô‹ModeM™agî
::
Undeföed
),

31 
îr‹_mesßge_
(
c⁄_
->
wh©
()), 
baudøã_
(0)

36 ~
pIm∂
()

38 
dñëe
 
	gh™dÀr_
;

42 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

44 i‡(! 
	gh™dÀr_
) {

45 
°rög
 
	glog_«me
 = 
LogNameHﬁdî
::
obje˘
()->
«me
("mConnection");

46 
	gmode_
 = 
M⁄ô‹ModeM™agî
::
obje˘
()->
mode
();

47 
	gh™dÀr_
 = 
√w
 
M⁄ô‹D©aH™dÀr
(
log_«me
, 
mode_
);

51 i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) {

52 
boﬁ
 
ªt
 = 
c⁄_
->
c⁄√˘
(
devi˚
, 
baudøã
);

53 
	gh™dÀr_
->
„tch
(
ªt
);

54  
	gªt
;

56 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Pœy
) {

57 
boﬁ
 
ªt
 = 
Ál£
;

58 i‡(
	gh™dÀr_
->
„tch
(
ªt
) < 0) {

59 
disc⁄√˘
();

60  
	gÁl£
;

62  
	gªt
;

64 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

67  
Ál£
;

70  
	gc⁄_
->
c⁄√˘
(
devi˚
, 
baudøã
);

75 
disc⁄√˘
()

77 
	gc⁄_
->
disc⁄√˘
();

81 
upd©eEº‹Mesßge
()

83 
	gîr‹_mesßge_
 = 
c⁄_
->
wh©
();

85 i‡((
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) ||

86 (
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
)) {

87 
h™dÀr_
->
„tch
(
îr‹_mesßge_
);

89 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

91 
îr‹_mesßge_
 = "Not implemented.";

96 
boﬁ
 
£tBaudøã
(
baudøã
)

99 i‡((
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) ||

100 (
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
)) {

101 
boﬁ
 
ªt
 = 
Ál£
;

102 i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) {

103 
ªt
 = 
c⁄_
->
£tBaudøã
(
baudøã
);

105 
	gh™dÀr_
->
„tch
(
ªt
);

106 
	gh™dÀr_
->
„tch
(
baudøã
);

107 
	gbaudøã_
 = 
baudøã
;

108  
	gªt
;

110 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

112  
Ál£
;

115  
	gc⁄_
->
£tBaudøã
(
baudøã
);

120 
baudøã
()

122 i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Pœy
) {

123  
baudøã_
;

126  
	gc⁄_
->
baudøã
();

131 
boﬁ
 
isC⁄√˘ed
()

134 i‡((
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) ||

135 (
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
)) {

136 
boﬁ
 
ªt
 = 
c⁄_
->
isC⁄√˘ed
();

137 
	gh™dÀr_
->
„tch
(
ªt
);

138  
	gªt
;

140 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

142  
Ál£
;

145  
	gc⁄_
->
isC⁄√˘ed
();

150 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
)

152 i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) {

154 
£nd_size
 = 
c⁄_
->
£nd
(
d©a
, 
cou¡
);

155  
	gh™dÀr_
->
„tch
(
c⁄°_ˇ°
<*>(
d©a
), 
£nd_size
, "send()");

157 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Pœy
) {

158 
°rög
 
löe
;

159 
	g£nd_size
 = 
h™dÀr_
->
„tch
(
°©ic_ˇ°
<*>(
NULL
), 
cou¡
);

160 i‡(
	g£nd_size
 < 0) {

161 
disc⁄√˘
();

163  
	g£nd_size
;

165 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

168  
Ál£
;

171  
	gc⁄_
->
£nd
(
d©a
, 
cou¡
);

176 
ªcv
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
)

178 i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) {

179 
ªcv_size
 = 
c⁄_
->
ª˚ive
(
d©a
, 
cou¡
, 
timeout
);

180  
	gh™dÀr_
->
„tch
(
d©a
, 
ªcv_size
, "recv()");

182 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Pœy
) {

183 
ªcv_size
 = 
h™dÀr_
->
„tch
(
d©a
, 
cou¡
);

184 i‡(
	gªcv_size
 < 0) {

185 
disc⁄√˘
();

187  
	gªcv_size
;

189 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

192  
Ál£
;

195  
	gc⁄_
->
ª˚ive
(
d©a
, 
cou¡
, 
timeout
);

200 
size_t
 
size
()

203  
	gc⁄_
->
size
();

205 i‡((
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) ||

206 (
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
)) {

207 
d©a_size
 = 
c⁄_
->
size
();

208  
	gh™dÀr_
->
„tch
(
d©a_size
);

210 } i‡(
	gmode_
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

216  
	gc⁄_
->
size
();

222 
	gmC⁄√˘i⁄
::
	$mC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄√˘i⁄
Ë: 
	`pim∂
(
√w
 
	$pIm∂
(
c⁄√˘i⁄
))

224 
	}
}

227 
mC⁄√˘i⁄
::~
	$mC⁄√˘i⁄
()

229 
	}
}

232 c⁄° * 
mC⁄√˘i⁄
::
	$wh©
() const

234 
pim∂
->
	`upd©eEº‹Mesßge
();

235  
pim∂
->
îr‹_mesßge_
.
	`c_°r
();

236 
	}
}

239 
boﬁ
 
	gmC⁄√˘i⁄
::
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

241  
pim∂
->
	`c⁄√˘
(
devi˚
, 
baudøã
);

242 
	}
}

245 
	gmC⁄√˘i⁄
::
	$disc⁄√˘
()

247 
pim∂
->
	`disc⁄√˘
();

248 
	}
}

251 
boﬁ
 
	gmC⁄√˘i⁄
::
	$£tBaudøã
(
baudøã
)

253  
pim∂
->
	`£tBaudøã
(
baudøã
);

254 
	}
}

257 
	gmC⁄√˘i⁄
::
	$baudøã
() const

259  
pim∂
->
	`baudøã
();

260 
	}
}

263 
boﬁ
 
	gmC⁄√˘i⁄
::
	$isC⁄√˘ed
() const

265  
pim∂
->
	`isC⁄√˘ed
();

266 
	}
}

269 
	gmC⁄√˘i⁄
::
	$£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
)

271  
pim∂
->
	`£nd
(
d©a
, 
cou¡
);

272 
	}
}

275 
	gmC⁄√˘i⁄
::
	$ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
)

277  
pim∂
->
	`ªcv
(
d©a
, 
cou¡
, 
timeout
);

278 
	}
}

281 
size_t
 
	gmC⁄√˘i⁄
::
	$size
() const

283  
pim∂
->
	`size
();

284 
	}
}

287 
	gmC⁄√˘i⁄
::
	$Êush
()

289 
pim∂
->
c⁄_
->
	`Êush
();

290 
	}
}

293 
	gmC⁄√˘i⁄
::
	$˛ór
()

295 
pim∂
->
c⁄_
->
	`˛ór
();

296 
	}
}

299 
	gmC⁄√˘i⁄
::
	$ungëc
(c⁄° 
ch
)

301 
pim∂
->
c⁄_
->
	`ungëc
(
ch
);

302 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/monitor/mConnection.h

1 #i‚de‡
QRK_M_CONNECTION_H


2 
	#QRK_M_CONNECTION_H


	)

13 
	~"C⁄√˘i⁄.h
"

14 
	~<mem‹y
>

17 
«me•a˚
 
	gqrk


22 ˛as†
	cmC⁄√˘i⁄
 : 
public
 
C⁄√˘i⁄


24 
mC⁄√˘i⁄
();

25 
mC⁄√˘i⁄
(c⁄° mC⁄√˘i⁄& 
rhs
);

26 
	gmC⁄√˘i⁄
& 
	g›î©‹
 = (c⁄° 
mC⁄√˘i⁄
& 
rhs
);

28 
	gpIm∂
;

29 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

31 
	gpublic
:

32 
ex∂icô
 
mC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄√˘i⁄
);

33 ~
mC⁄√˘i⁄
();

35 c⁄° * 
wh©
() const;

37 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
);

38 
disc⁄√˘
();

39 
boﬁ
 
£tBaudøã
(
baudøã
);

40 
baudøã
() const;

41 
boﬁ
 
isC⁄√˘ed
() const;

42 
£nd
(c⁄° * 
d©a
, 
size_t
 
cou¡
);

43 
ª˚ive
(* 
d©a
, 
size_t
 
cou¡
, 
timeout
);

44 
size_t
 
size
() const;

45 
Êush
();

46 
˛ór
();

47 
ungëc
(c⁄° 
ch
);

	@processors/laser/urg-0.8.18/src/cpp/monitor/mUrgDevice.cpp

10 
	~"mUrgDevi˚.h
"

11 
	~"R™geSís‹P¨amëî.h
"

12 
	~"UrgSîvî.h
"

13 
	~"SîülDevi˚.h
"

14 
	~"T˝ùSockë.h
"

15 
	~"M⁄ô‹EvítScheduÀr.h
"

16 
	~"M⁄ô‹D©aH™dÀr.h
"

17 
	~"LogNameHﬁdî.h
"

18 
	~"Devi˚IpM™agî.h
"

19 
	~"mC⁄√˘i⁄.h
"

21 
usög
 
«me•a˚
 
	gqrk
;

22 
usög
 
«me•a˚
 
	g°d
;

25 
	g«me•a˚


27 ˛as†
	cUrgDevi˚F‹Rec‹d
 : 
public
 
UrgDevi˚


29 
public
:

30 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode_
;

31 
M⁄ô‹D©aH™dÀr
* 
	gh™dÀr_
;

34 
UrgDevi˚F‹Rec‹d
(Ë: 
h™dÀr_
(
NULL
)

39 ~
UrgDevi˚F‹Rec‹d
()

41 
dñëe
 
h™dÀr_
;

45 
ˇ±uªRe˚ived
()

48 i‡((
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) ||

49 (
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
)) {

50 
boﬁ
 
dummy
 = 
Ál£
;

51 
	gh™dÀr_
->
„tch
(
dummy
);

58 
	gmUrgDevi˚
::
pIm∂


60 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode_
;

61 
UrgDevi˚F‹Rec‹d
* 
	gurg_
;

62 
C⁄√˘i⁄
* 
	gm⁄ô‹_c⁄_
;

63 
C⁄√˘i⁄
* 
	gdevi˚_c⁄_
;

64 
M⁄ô‹D©aH™dÀr
* 
	gh™dÀr_
;

67 
pIm∂
()

68 : 
urg_
(
NULL
), 
m⁄ô‹_c⁄_
(NULL), 
devi˚_c⁄_
(NULL), 
h™dÀr_
(NULL)

73 ~
pIm∂
()

75 
dñëe
 
	gurg_
;

77 i‡(
	gm⁄ô‹_c⁄_
) {

78 
dñëe
 
	gm⁄ô‹_c⁄_
;

80 i‡(
	gdevi˚_c⁄_
) {

81 
dñëe
 
	gdevi˚_c⁄_
;

83 
dñëe
 
	gh™dÀr_
;

87 
öôülizeC⁄√˘i⁄
(
¨gc
, *
¨gv
[])

89 
	gM⁄ô‹ModeM™agî
::
obje˘
()->
£tMode
(
¨gc
, 
¨gv
);

90 
	gmode_
 = 
M⁄ô‹ModeM™agî
::
obje˘
()->
mode
();

91 
	gurg_
->
	gmode_
 = 
mode_
;

94 i‡(
	gmode_
 !
M⁄ô‹ModeM™agî
::
Simuœti⁄
) {

95 
devi˚_c⁄_
 = 
√w
 
SîülDevi˚
;

97 
	gdevi˚_c⁄_
 = 
√w
 
T˝ùSockë
;

99 
	gm⁄ô‹_c⁄_
 = 
√w
 
mC⁄√˘i⁄
(
devi˚_c⁄_
);

100 
	gurg_
->
£tC⁄√˘i⁄
(
m⁄ô‹_c⁄_
);

103 
°rög
 
	glog_«me
 = 
LogNameHﬁdî
::
obje˘
()->
«me
("mUrgDevice");

104 
	gh™dÀr_
 = 
√w
 
M⁄ô‹D©aH™dÀr
(
log_«me
, 
mode_
);

107 
	glog_«me
 = 
LogNameHﬁdî
::
obje˘
()->
«me
("mUrgDevice_thread");

108 
	gurg_
->
	gh™dÀr_
 = 
√w
 
M⁄ô‹D©aH™dÀr
(
log_«me
, 
mode_
);

113 
	gmUrgDevi˚
::
	$mUrgDevi˚
(
¨gc
, *
¨gv
[]Ë: 
	$pim∂
(
√w
 
pIm∂
)

115 
pim∂
->
urg_
 = 
√w
 
UrgDevi˚F‹Rec‹d
;

116 
pim∂
->
	`öôülizeC⁄√˘i⁄
(
¨gc
, 
¨gv
);

117 
	}
}

120 
	gmUrgDevi˚
::~
	$mUrgDevi˚
()

122 
	}
}

125 c⁄° * 
mUrgDevi˚
::
	$wh©
() const

127  
pim∂
->
urg_
->
	`wh©
();

128 
	}
}

131 
boﬁ
 
	gmUrgDevi˚
::
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

133 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
Simuœti⁄
 = MonitorModeManager::Simulation;

134 i‡(
M⁄ô‹ModeM™agî
::
	`obje˘
()->
	`mode
(Ë=
Simuœti⁄
) {

136 
p‹t
 = 
Devi˚IpM™agî
::
	`obje˘
()->
	`¸óãIpP‹t
(
devi˚
);

137 i‡(
p‹t
 > 0) {

140 
UrgSîvî
* 
urg_£rvî
 = 
√w
 UrgServer;

141 i‡(! 
urg_£rvî
->
	`a˘iv©e
(
p‹t
)) {

143  
Ál£
;

145 
M⁄ô‹EvítScheduÀr
::
	`obje˘
()->
	`ªgi°îDevi˚Sîvî
(
urg_£rvî
);

148  
pim∂
->
urg_
->
	`c⁄√˘
(
devi˚
, 
baudøã
);

149 
	}
}

152 
	gmUrgDevi˚
::
	$£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
)

154 
dñëe
 
pim∂
->
m⁄ô‹_c⁄_
;

155 
pim∂
->
m⁄ô‹_c⁄_
 = 
√w
 
	`mC⁄√˘i⁄
(
c⁄
);

156 
pim∂
->
urg_
->
	`£tC⁄√˘i⁄
’im∂->
m⁄ô‹_c⁄_
);

157 
	}
}

160 
C⁄√˘i⁄
* 
	gmUrgDevi˚
::
	$c⁄√˘i⁄
()

162  
pim∂
->
urg_
->
	`c⁄√˘i⁄
();

163 
	}
}

166 
	gmUrgDevi˚
::
	$disc⁄√˘
()

168 
pim∂
->
urg_
->
	`disc⁄√˘
();

169 
	}
}

172 
boﬁ
 
	gmUrgDevi˚
::
	$isC⁄√˘ed
() const

174  
pim∂
->
urg_
->
	`isC⁄√˘ed
();

175 
	}
}

178 
	gmUrgDevi˚
::
	$möDi°™˚
() const

180  
pim∂
->
urg_
->
	`möDi°™˚
();

181 
	}
}

184 
	gmUrgDevi˚
::
	$maxDi°™˚
() const

186  
pim∂
->
urg_
->
	`maxDi°™˚
();

187 
	}
}

190 
	gmUrgDevi˚
::
	$maxSˇnLöes
() const

192  
pim∂
->
urg_
->
	`maxSˇnLöes
();

193 
	}
}

196 
	gmUrgDevi˚
::
	$£tRëryTimes
(
size_t
 
times
)

198  
pim∂
->
urg_
->
	`£tRëryTimes
(
times
);

199 
	}
}

202 
	gmUrgDevi˚
::
	$sˇnM£c
() const

204  
pim∂
->
urg_
->
	`sˇnM£c
();

205 
	}
}

208 
	gmUrgDevi˚
::
	$£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
)

210 
pim∂
->
urg_
->
	`£tC≠tuªMode
(
mode
);

211 
	}
}

214 
R™geC≠tuªMode
 
	gmUrgDevi˚
::
	$ˇ±uªMode
()

216  
pim∂
->
urg_
->
	`ˇ±uªMode
();

217 
	}
}

220 
	gmUrgDevi˚
::
	$£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
)

222 
pim∂
->
urg_
->
	`£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
);

223 
	}
}

226 
	gmUrgDevi˚
::
	$£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
)

228 
pim∂
->
urg_
->
	`£tC≠tuªFømeI¡îvÆ
(
öãrvÆ
);

229 
	}
}

232 
	gmUrgDevi˚
::
	$£tC≠tuªTimes
(
size_t
 
times
)

234 
pim∂
->
urg_
->
	`£tC≠tuªTimes
(
times
);

235 
	}
}

238 
size_t
 
	gmUrgDevi˚
::
	$ªmaöC≠tuªTimes
()

240  
pim∂
->
urg_
->
	`ªmaöC≠tuªTimes
();

241 
	}
}

244 
	gmUrgDevi˚
::
	$£tC≠tuªSkùLöes
(
size_t
 
skù_löes
)

246 
pim∂
->
urg_
->
	`£tC≠tuªSkùLöes
(
skù_löes
);

247 
	}
}

250 
	gmUrgDevi˚
::
ˇ±uª
(
ve˘‹
<>& 
d©a
, * 
time°amp
)

253 i‡((
	gpim∂
->
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) ||

254 (
pim∂
->
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
)) {

255 
boﬁ
 
dummy
 = 
Ál£
;

256 
	gpim∂
->
	gh™dÀr_
->
„tch
(
dummy
);

258  
	gpim∂
->
	gurg_
->
ˇ±uª
(
d©a
, 
time°amp
);

262 
	gmUrgDevi˚
::
ˇ±uªWôhI¡ísôy
(
ve˘‹
<>& 
d©a
,

263 
ve˘‹
<>& 
öãnsôy_d©a
,

264 * 
time°amp
)

267 i‡((
	gpim∂
->
	gmode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) ||

268 (
pim∂
->
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
)) {

269 
boﬁ
 
dummy
 = 
Ál£
;

270 
	gpim∂
->
	gh™dÀr_
->
„tch
(
dummy
);

272  
	gpim∂
->
	gurg_
->
ˇ±uªWôhI¡ísôy
(
d©a
, 
öãnsôy_d©a
, 
time°amp
);

276 
	gmUrgDevi˚
::
	$°›
()

278 
pim∂
->
urg_
->
	`°›
();

279 
	}
}

282 
boﬁ
 
	gmUrgDevi˚
::
	$£tTime°amp
(
ticks
, * 
ª•⁄£_m£c
,

283 * 
f‹˚_dñay_m£c
)

285 i‡((
pim∂
->
mode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) ||

286 (
pim∂
->
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
)) {

287 
pim∂
->
h™dÀr_
->
	`„tch
(
ticks
);

290 
ªc‹ded
 = (
f‹˚_dñay_m£c
) ? *force_delay_msec : 0;

291 i‡(
pim∂
->
mode_
 =
M⁄ô‹ModeM™agî
::
Pœy
) {

292 
pim∂
->
h™dÀr_
->
	`„tch
(
ªc‹ded
);

295 
dñay_m£c
 = 0;

296 
boﬁ
 
ªt
 = 
pim∂
->
urg_
->
	`£tTime°amp
(
ticks
, &
dñay_m£c
, &
ªc‹ded
);

297 i‡(
ª•⁄£_m£c
) {

298 *
ª•⁄£_m£c
 = 
dñay_m£c
;

300 i‡(
pim∂
->
mode_
 =
M⁄ô‹ModeM™agî
::
Rec‹d
) {

301 
pim∂
->
h™dÀr_
->
	`„tch
(
dñay_m£c
);

303  
ªt
;

304 
	}
}

307 
boﬁ
 
	gmUrgDevi˚
::
	$£tLa£rOuçut
(
boﬁ
 
⁄
)

309  
pim∂
->
urg_
->
	`£tLa£rOuçut
(
⁄
);

310 
	}
}

313 
	gmUrgDevi˚
::
	$ödex2ød
(c⁄° 
ödex
) const

315  
pim∂
->
urg_
->
	`ödex2ød
(
ödex
);

316 
	}
}

319 
	gmUrgDevi˚
::
	$ød2ödex
(c⁄° 
ødün
) const

321  
pim∂
->
urg_
->
	`ød2ödex
(
ødün
);

322 
	}
}

325 
	gmUrgDevi˚
::
	$£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
)

327 
pim∂
->
urg_
->
	`£tP¨amëî
(
∑ømëî
);

328 
	}
}

331 
R™geSís‹P¨amëî
 
	gmUrgDevi˚
::
	$∑ømëî
() const

333  
pim∂
->
urg_
->
	`∑ømëî
();

334 
	}
}

337 
boﬁ
 
	gmUrgDevi˚
::
vîsi⁄Löes
(
ve˘‹
<
°rög
>& 
löes
)

339  
pim∂
->
urg_
->
vîsi⁄Löes
(
löes
);

343 
boﬁ
 
	gmUrgDevi˚
::
	$lﬂdP¨amëî
()

345  
pim∂
->
urg_
->
	`lﬂdP¨amëî
();

346 
	}
}

349 
	gmUrgDevi˚
::
	$ªboŸ
()

351 
pim∂
->
urg_
->
	`ªboŸ
();

352 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/monitor/mUrgDevice.h

1 #i‚de‡
QRK_M_URG_DEVICE_H


2 
	#QRK_M_URG_DEVICE_H


	)

13 
	~"UrgDevi˚.h
"

16 
«me•a˚
 
	gqrk


21 ˛as†
	cmUrgDevi˚
 : 
public
 
R™geSís‹


23 
mUrgDevi˚
();

24 
mUrgDevi˚
(c⁄° mUrgDevi˚& 
rhs
);

25 
	gmUrgDevi˚
& 
	g›î©‹
 = (c⁄° 
mUrgDevi˚
& 
rhs
);

27 
	gpIm∂
;

28 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

30 
	gpublic
:

35 
DeÁu…Baudøã
 = 115200,

36 
	gInföôy
 = 0,

83 
ex∂icô
 
mUrgDevi˚
(
¨gc
, *
¨gv
[]);

84 ~
mUrgDevi˚
();

86 c⁄° * 
wh©
() const;

88 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
 = 
DeÁu…Baudøã
);

89 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
);

90 
C⁄√˘i⁄
* 
c⁄√˘i⁄
();

91 
disc⁄√˘
();

92 
boﬁ
 
isC⁄√˘ed
() const;

94 
möDi°™˚
() const;

95 
maxDi°™˚
() const;

96 
maxSˇnLöes
() const;

98 
£tRëryTimes
(
size_t
 
times
);

100 
sˇnM£c
() const;

102 
£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
);

103 
R™geC≠tuªMode
 
ˇ±uªMode
();

105 
£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
);

106 
£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
);

107 
£tC≠tuªTimes
(
size_t
 
times
);

108 
size_t
 
ªmaöC≠tuªTimes
();

109 
£tC≠tuªSkùLöes
(
size_t
 
skù_löes
);

111 
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
 = 
NULL
);

112 
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

113 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

114 * 
time°amp
 = 
NULL
);

115 
°›
();

117 
boﬁ
 
£tTime°amp
(
ticks
 = 0, * 
ª•⁄£_m£c
 = 
NULL
,

118 * 
f‹˚_dñay_m£c
 = 
NULL
);

120 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
);

122 
ödex2ød
(c⁄° 
ödex
) const;

123 
ød2ödex
(c⁄° 
ødün
) const;

125 
£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
);

126 
R™geSís‹P¨amëî
 
∑ømëî
() const;

127 
boﬁ
 
lﬂdP¨amëî
();

129 
boﬁ
 
vîsi⁄Löes
(
°d
::
ve˘‹
<°d::
°rög
>& 
löes
);

131 
ªboŸ
();

	@processors/laser/urg-0.8.18/src/cpp/system/ConditionVariable.h

1 #i‚de‡
QRK_CONDITION_VARIABLE_H


2 
	#QRK_CONDITION_VARIABLE_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


18 
˛ass
 
	gLock
;

23 ˛as†
	cC⁄dôi⁄V¨übÀ


25 
C⁄dôi⁄V¨übÀ
(c⁄° C⁄dôi⁄V¨übÀ& 
rhs
);

26 
	gC⁄dôi⁄V¨übÀ
& 
	g›î©‹
 = (c⁄° 
C⁄dôi⁄V¨übÀ
& 
rhs
);

28 
	gpIm∂
;

29 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

31 
	gpublic
:

33 
NoTimeout
 = -1,

35 
C⁄dôi⁄V¨übÀ
();

36 ~
C⁄dôi⁄V¨übÀ
();

38 
boﬁ
 
isWaôög
();

39 
wakeup
();

40 
wakeupAŒ
();

42 
boﬁ
 
waô
(
Lock
* 
lock
, 
timeout
 = 
NoTimeout
);

	@processors/laser/urg-0.8.18/src/cpp/system/DetectOS.h

1 #i‚de‡
QRK_DETECT_OS_H


2 
	#QRK_DETECT_OS_H


	)

13 #i‡
deföed
 
_MSC_VER
 || deföed 
__CYGWIN__
 || deföed 
__MINGW32__


14 
	#WINDOWS_OS


	)

16 #i‡
deföed
 
_MSC_VER


17 
	#MSC


	)

18 #ñi‡
deföed
 
__CYGWIN__


19 
	#Cygwö


	)

20 #ñi‡
deföed
 
__MINGW32__


21 
	#MöGW


	)

24 #ñi‡
deföed
 
__löux__


25 
	#LINUX_OS


	)

29 
	#MAC_OS


	)

	@processors/laser/urg-0.8.18/src/cpp/system/Lock.cpp

10 
	~"Lock.h
"

11 
	~"SdlInô.h
"

12 
	~<SDL_thªad.h
>

14 
usög
 
«me•a˚
 
	gqrk
;

17 
	gLock
::
pIm∂
 : 
¥iv©e
 
qrk
::
SdlInô


19 
‰õnd
 
˛ass
 
C⁄dôi⁄V¨übÀ
;

21 
SDL_muãx
* 
	gmuãx_
;

24 
pIm∂
(Ë: 
muãx_
(
SDL_Cª©eMuãx
())

29 ~
pIm∂
()

31 
SDL_De°royMuãx
(
muãx_
);

36 
	gLock
::
	$Lock
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

38 
	}
}

41 
Lock
::~
	$Lock
()

43 
	}
}

46 
Lock
::
	$lock
()

48 
	`SDL_LockMuãx
(
pim∂
->
muãx_
);

49 
	}
}

52 
	gLock
::
	$u∆ock
()

54 
	`SDL_U∆ockMuãx
(
pim∂
->
muãx_
);

55 
	}
}

71 
	gC⁄dôi⁄V¨übÀ
::
pIm∂
 : 
¥iv©e
 
SdlInô


73 
SDL_c⁄d
* 
c⁄dôi⁄_
;

74 
boﬁ
 
	gis_waôög_
;

77 
pIm∂
(Ë: 
c⁄dôi⁄_
(
SDL_Cª©eC⁄d
()), 
is_waôög_
(
Ál£
)

82 ~
pIm∂
() {

83 
SDL_De°royC⁄d
(
c⁄dôi⁄_
);

88 
	gC⁄dôi⁄V¨übÀ
::
	$C⁄dôi⁄V¨übÀ
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

90 
	}
}

93 
C⁄dôi⁄V¨übÀ
::~
	$C⁄dôi⁄V¨übÀ
()

95 
	}
}

98 
boﬁ
 
C⁄dôi⁄V¨übÀ
::
	$isWaôög
()

100  
pim∂
->
is_waôög_
;

101 
	}
}

104 
	gC⁄dôi⁄V¨übÀ
::
	$wakeup
()

106 
	`SDL_C⁄dSig«l
(
pim∂
->
c⁄dôi⁄_
);

107 
pim∂
->
is_waôög_
 = 
Ál£
;

108 
	}
}

111 
	gC⁄dôi⁄V¨übÀ
::
	$wakeupAŒ
()

113 
	`SDL_C⁄dBrﬂdˇ°
(
pim∂
->
c⁄dôi⁄_
);

114 
pim∂
->
is_waôög_
 = 
Ál£
;

115 
	}
}

118 
boﬁ
 
	gC⁄dôi⁄V¨übÀ
::
	$waô
(
Lock
* 
lock
, 
timeout
)

120 
ªt
 = 0;

121 
pim∂
->
is_waôög_
 = 
åue
;

122 i‡(
timeout
 =
NoTimeout
) {

123 
ªt
 = 
	`SDL_C⁄dWaô
(
pim∂
->
c⁄dôi⁄_
, 
lock
->pim∂->
muãx_
);

125 
ªt
 = 
	`SDL_C⁄dWaôTimeout
(
pim∂
->
c⁄dôi⁄_
, 
lock
->pim∂->
muãx_
, 
timeout
);

127 i‡(
ªt
 == 0) {

128  
åue
;

130 
pim∂
->
is_waôög_
 = 
Ál£
;

131  
Ál£
;

133 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/Lock.h

1 #i‚de‡
QRK_LOCK_H


2 
	#QRK_LOCK_H


	)

13 
	~"C⁄dôi⁄V¨übÀ.h
"

14 
	~<c°ddef
>

17 
«me•a˚
 
	gqrk


22 ˛as†
	cLock
 {

24 
‰õnd
 
˛ass
 
	gC⁄dôi⁄ÆV¨übÀ
;

25 
‰õnd
 
boﬁ
 
	gC⁄dôi⁄V¨übÀ
::
waô
(
Lock
* 
lock
, 
timeout
);

27 
Lock
(c⁄° Lock& 
rhs
);

28 
	gLock
& 
	g›î©‹
 = (c⁄° 
Lock
& 
rhs
);

34 
	gpIm∂
;

35 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

37 
	gpublic
:

38 
Lock
();

39 ~
Lock
();

45 
lock
();

51 
boﬁ
 
åyLock
();

57 
u∆ock
();

	@processors/laser/urg-0.8.18/src/cpp/system/LockGuard.cpp

10 
	~"LockGu¨d.h
"

11 
	~"Lock.h
"

13 
usög
 
«me•a˚
 
	gqrk
;

16 
	gLockGu¨d
::
pIm∂


18 
Lock
& 
muãx_
;

21 
pIm∂
(
Lock
& 
muãx
Ë: 
muãx_
(mutex)

23 
muãx_
.
lock
();

27 ~
pIm∂
()

29 
	gmuãx_
.
u∆ock
();

34 
	gLockGu¨d
::
	$LockGu¨d
(
Lock
& 
muãx
Ë: 
	`pim∂
(
√w
 
	$pIm∂
(
muãx
))

36 
	}
}

39 
LockGu¨d
::~
	$LockGu¨d
()

41 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/LockGuard.h

1 #i‚de‡
QRK_LOCK_GUARD_H


2 
	#QRK_LOCK_GUARD_H


	)

13 
	~<mem‹y
>

14 
	~<c°ddef
>

17 
«me•a˚
 
	gqrk


19 
˛ass
 
	gLock
;

24 ˛as†
	cLockGu¨d


26 
LockGu¨d
();

27 
LockGu¨d
(c⁄° LockGu¨d& 
rhs
);

28 
	gLockGu¨d
& 
	g›î©‹
 = (c⁄° 
LockGu¨d
& 
rhs
);

33 
	gpIm∂
;

34 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

36 
	gpublic
:

42 
ex∂icô
 
LockGu¨d
(
qrk
::
Lock
& 
muãx
);

43 ~
LockGu¨d
();

	@processors/laser/urg-0.8.18/src/cpp/system/MathUtils.cpp

10 
	~"M©hUtûs.h
"

13 #i‡
deföed
(
MSC
)

14 
	$Ãöt
(
x
)

16 i‡(
x
 >= 0) {

17 
x
 += 0.5;

19 
x
 -= 0.5;

21  
°©ic_ˇ°
<>(
x
);

22 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/MathUtils.h

1 #i‚de‡
QRK_MATH_UTILS_H


2 
	#QRK_MATH_UTILS_H


	)

13 
	~"Dëe˘OS.h
"

14 #i‡
deföed
(
WINDOWS_OS
)

15 
	#_USE_MATH_DEFINES


	)

17 
	~<m©h.h
>

20 #i‚de‡
M_PI


22 
	#M_PI
 3.14159265358979323846

	)

25 #i‡
deföed
(
MSC
)

26 
Ãöt
(
x
);

	@processors/laser/urg-0.8.18/src/cpp/system/MonitorModeManager.cpp

10 
	~"M⁄ô‹ModeM™agî.h
"

11 
	~<c°rög
>

13 
usög
 
«me•a˚
 
	gqrk
;

16 
	gM⁄ô‹ModeM™agî
::
pIm∂


18 
M⁄ô‹Mode
 
mode_
;

21 
pIm∂
(Ë: 
mode_
(
Undeföed
)

27 
	gM⁄ô‹ModeM™agî
::
	$M⁄ô‹ModeM™agî
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

29 
	}
}

32 
M⁄ô‹ModeM™agî
::~
	$M⁄ô‹ModeM™agî
()

34 
	}
}

37 
M⁄ô‹ModeM™agî
* M⁄ô‹ModeM™agî::
	$obje˘
()

39 
M⁄ô‹ModeM™agî
 
obj
;

40  &
obj
;

41 
	}
}

44 
	gM⁄ô‹ModeM™agî
::
	$£tMode
(
¨gc
, * 
¨gv
[])

46 i‡(
pim∂
->
mode_
 !
Undeföed
) {

51 
i
 = 1; i < 
¨gc
; ++i) {

52 i‡((! 
	`°rcmp
("-r", 
¨gv
[
i
])) || (! strcmp("--record",árgv[i]))) {

53 
pim∂
->
mode_
 = 
Rec‹d
;

56 } i‡((! 
	`°rcmp
("-p", 
¨gv
[
i
])) || (! strcmp("--play",árgv[i]))) {

57 
pim∂
->
mode_
 = 
Pœy
;

60 } i‡((! 
	`°rcmp
("-s", 
¨gv
[
i
])) ||

61 (! 
	`°rcmp
("--simuœti⁄", 
¨gv
[
i
]))) {

62 
pim∂
->
mode_
 = 
Simuœti⁄
;

66 
	}
}

69 
	gM⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
M⁄ô‹ModeM™agî
::
	$mode
()

71  
pim∂
->
mode_
;

72 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/MonitorModeManager.h

1 #i‚de‡
QRK_MONITOR_MODE_MANAGER_H


2 
	#QRK_MONITOR_MODE_MANAGER_H


	)

13 
	~<mem‹y
>

21 
«me•a˚
 
	gqrk


23 ˛as†
	cM⁄ô‹ModeM™agî


25 
M⁄ô‹ModeM™agî
();

26 
M⁄ô‹ModeM™agî
(c⁄° M⁄ô‹ModeM™agî& 
rhs
);

27 
	gM⁄ô‹ModeM™agî
& 
	g›î©‹
 = (c⁄° 
M⁄ô‹ModeM™agî
& 
rhs
);

29 
	gpIm∂
;

30 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

32 
	gpublic
:

36 
Undeföed
,

37 
	gRec‹d
,

38 
	gPœy
,

39 
	gSimuœti⁄
,

40 } 
	tM⁄ô‹Mode
;

42 ~
M⁄ô‹ModeM™agî
();

43 
M⁄ô‹ModeM™agî
* 
obje˘
();

45 
£tMode
(
¨gc
, * 
¨gv
[]);

46 
M⁄ô‹Mode
 
mode
();

	@processors/laser/urg-0.8.18/src/cpp/system/SdlInit.cpp

10 
	~<c°dlib
>

11 
	~"SdlInô.h
"

12 
	~<SDL.h
>

14 
usög
 
«me•a˚
 
	gqrk
;

17 
	gSdlInô
::
pIm∂


19 
boﬁ
 
öôülized_
;

21 
boﬁ
 
	gSdlInô
::
pIm∂
::
öôülized_
 = 
Ál£
;

24 
	gSdlInô
::
	$SdlInô
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

26 i‡(
pim∂
->
öôülized_
) {

31 i‡(
	`SDL_Inô
(0) < 0) {

35 
	`©exô
(
SDL_Quô
);

36 
pim∂
->
öôülized_
 = 
åue
;

37 
	}
}

40 
	gSdlInô
::~
	$SdlInô
()

42 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/SdlInit.h

1 #i‚de‡
QRK_SDL_INIT_H


2 
	#QRK_SDL_INIT_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


21 ˛as†
	cSdlInô


23 
SdlInô
(c⁄° SdlInô& 
rhs
);

24 
	gSdlInô
& 
	g›î©‹
 = (c⁄° 
SdlInô
& 
rhs
);

26 
	gpIm∂
;

27 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

29 
	g¥Ÿe˘ed
:

30 
SdlInô
();

31 ~
SdlInô
();

	@processors/laser/urg-0.8.18/src/cpp/system/Semaphore.cpp

10 
	~"Sem≠h‹e.h
"

11 
	~<SDL_thªad.h
>

13 
usög
 
«me•a˚
 
	gqrk
;

16 
	gSem≠h‹e
::
pIm∂


18 
SDL_£m
* 
£m_
;

21 
pIm∂
(
size_t
 
fú°_vÆue
Ë: 
£m_
(
SDL_Cª©eSem≠h‹e
(first_value))

25 ~
pIm∂
()

27 
SDL_De°roySem≠h‹e
(
£m_
);

33 
	gSem≠h‹e
::
	$Sem≠h‹e
(
size_t
 
öôül_vÆue
Ë: 
	`pim∂
(
√w
 
	$pIm∂
(
öôül_vÆue
))

35 
	}
}

38 
Sem≠h‹e
::~
	$Sem≠h‹e
()

40 
	}
}

43 
Sem≠h‹e
::
	$waô
()

45 
	`SDL_SemWaô
(
pim∂
->
£m_
);

46 
	}
}

49 
boﬁ
 
	gSem≠h‹e
::
	$åyWaô
()

51  (
	`SDL_SemTryWaô
(
pim∂
->
£m_
Ë=0Ë? 
åue
 : 
Ál£
;

52 
	}
}

55 
	gSem≠h‹e
::
	$po°
()

57 
	`SDL_SemPo°
(
pim∂
->
£m_
);

58 
	}
}

61 
size_t
 
	gSem≠h‹e
::
	$vÆue
()

63  
°©ic_ˇ°
<
size_t
>(
	`SDL_SemVÆue
(
pim∂
->
£m_
));

64 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/Semaphore.h

1 #i‚de‡
QRK_SEMAPHORE_H


2 
	#QRK_SEMAPHORE_H


	)

15 
	~<mem‹y
>

16 
	~<c°ddef
>

19 
«me•a˚
 
	gqrk


24 ˛as†
	cSem≠h‹e


26 
Sem≠h‹e
();

27 
Sem≠h‹e
(c⁄° Sem≠h‹e& 
rhs
);

28 
	gSem≠h‹e
& 
	g›î©‹
 = (c⁄° 
Sem≠h‹e
& 
rhs
);

30 
	gpIm∂
;

31 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

33 
	gpublic
:

39 
ex∂icô
 
Sem≠h‹e
(
size_t
 
öôül_vÆue
);

40 ~
Sem≠h‹e
();

48 
waô
();

59 
boﬁ
 
åyWaô
();

67 
po°
();

75 
size_t
 
vÆue
();

	@processors/laser/urg-0.8.18/src/cpp/system/Thread.cpp

13 
	~"Thªad.h
"

14 
	~"SdlInô.h
"

15 
	~"Lock.h
"

16 
	~<SDL.h
>

17 
	~<SDL_thªad.h
>

19 
usög
 
«me•a˚
 
	gqrk
;

25 
	gThªad
::
pIm∂
 : 
¥iv©e
 
SdlInô


27 
fun˘i⁄_h™dÀr
(* 
¨gs
);

32 ˛as†
	cThªadInfo


34 
	gpublic
:

35 
Lock
 
muãx
;

36 (*
	gfun˘i⁄
)(*);

37 * 
	g¨gs
;

38 
boﬁ
 
	g∑u£
;

39 
boﬁ
 
	gquô
;

40 
size_t
 
	gtimes
;

41 
size_t
 
	g√xt_times
;

43 
ThªadInfo
((*
‚
)(*), * 
thªad_¨gs
)

44 : 
fun˘i⁄
(
‚
), 
¨gs
(
thªad_¨gs
),

45 
∑u£
(
åue
), 
quô
(
Ál£
), 
times
(1), 
√xt_times
(0) {

49 
SDL_Thªad
* 
	gthªad_
;

50 
ThªadInfo
 
	gthªad_öfo_
;

53 
pIm∂
((*
‚
)(*), * 
¨gs
)

54 : 
	`thªad_
(
NULL
), 
	$thªad_öfo_
(
‚
, 
¨gs
) {

55 
	}
}

57 ~
	$pIm∂
() {

58 
thªad_öfo_
.
quô
 = 
åue
;

59 i‡(
thªad_
) {

60 
	`SDL_KûlThªad
(
thªad_
);

62 
	}
}

65 
	$run
()

67 i‡(
thªad_
 =
NULL
) {

69 
thªad_öfo_
.
∑u£
 = 
Ál£
;

70 
thªad_öfo_
.
quô
 = 
Ál£
;

71 
thªad_
 = 
	`SDL_Cª©eThªad
(
pIm∂
::
fun˘i⁄_h™dÀr
, &
thªad_öfo_
);

76 
thªad_öfo_
.
muãx
.
	`lock
();

77 
thªad_öfo_
.
∑u£
 = 
Ál£
;

78 
thªad_öfo_
.
muãx
.
	`u∆ock
();

79 
	}
}

86 
	gThªad
::
pIm∂
::
	$fun˘i⁄_h™dÀr
(* 
¨gs
)

88 
pIm∂
::
ThªadInfo
& 
öfo
 = *
°©ic_ˇ°
<pIm∂::ThªadInfo*>(
¨gs
);

90 
ªt
 = 0;

91 
boﬁ
 
∑u£
 = 
Ál£
;

92 
boﬁ
 
quô
 = 
Ál£
;

93 ! 
quô
) {

94 i‡(
∑u£
) {

95 
	`SDL_Dñay
(1);

97 
ªt
 = 
öfo
.
	`fun˘i⁄
(öfo.
¨gs
);

100 
öfo
.
muãx
.
	`lock
();

101 i‡(
∑u£
 =
Ál£
) {

102 ++
öfo
.
times
;

105 
∑u£
 = 
öfo
.pause;

106 
quô
 = 
öfo
.quit;

107 i‡(
öfo
.
times
 =öfo.
√xt_times
) {

109 
öfo
.
∑u£
 = 
åue
;

110 
∑u£
 = 
åue
;

112 
öfo
.
muãx
.
	`u∆ock
();

114  
ªt
;

115 
	}
}

118 
	gThªad
::
Thªad
((*
‚
)(*), * 
¨gs
)

119 : 
	`pim∂
(
√w
 
	$pIm∂
(
‚
, 
¨gs
))

121 
	}
}

124 
	gThªad
::~
	$Thªad
()

126 
	}
}

129 
Thªad
::
	$run
(
times
)

131 i‡(
times
 !
Inföôy
) {

132 
pim∂
->
thªad_öfo_
.
muãx
.
	`lock
();

133 
size_t
 
now_times
 = 
pim∂
->
thªad_öfo_
.
times
;

134 
pim∂
->
thªad_öfo_
.
√xt_times
 = 
now_times
 + 
times
;

135 
pim∂
->
thªad_öfo_
.
muãx
.
	`u∆ock
();

137 
pim∂
->
	`run
();

138 
	}
}

141 
	gThªad
::
	$°›
()

144 
pim∂
->
thªad_öfo_
.
muãx
.
	`lock
();

145 
pim∂
->
thªad_öfo_
.
∑u£
 = 
åue
;

146 
pim∂
->
thªad_öfo_
.
muãx
.
	`u∆ock
();

147 
	}
}

150 
	gThªad
::
	$waô
()

152 
pim∂
->
thªad_öfo_
.
muãx
.
	`lock
();

153 
pim∂
->
thªad_öfo_
.
quô
 = 
åue
;

154 
pim∂
->
thªad_öfo_
.
∑u£
 = 
åue
;

155 
pim∂
->
thªad_öfo_
.
muãx
.
	`u∆ock
();

157 
ªtvÆ
 = 0;

158 
	`SDL_WaôThªad
(
pim∂
->
thªad_
, &
ªtvÆ
);

159 
pim∂
->
thªad_
 = 
NULL
;

161  
ªtvÆ
;

162 
	}
}

165 
boﬁ
 
	gThªad
::
	$isRu¬ög
() const

167  ((
pim∂
->
thªad_
 =
NULL
) ||

168 
pim∂
->
thªad_öfo_
.
∑u£
 ||Öim∂->thªad_öfo_.
quô
Ë? 
Ál£
 : 
åue
;

169 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/Thread.h

1 #i‚de‡
QRK_THREAD_H


2 
	#QRK_THREAD_H


	)

13 
	~<mem‹y
>

16 
«me•a˚
 
	gqrk


21 ˛as†
	cThªad


23 
Thªad
();

24 
Thªad
(c⁄° Thªad& 
rhs
);

25 
	gThªad
& 
	g›î©‹
 = (c⁄° 
Thªad
& 
rhs
);

27 
	gpIm∂
;

28 c⁄° 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

30 
	gpublic
:

32 
Inföôy
 = -1,

41 
ex∂icô
 
Thªad
((*
‚
)(*), * 
¨gs
);

42 ~
Thªad
();

50 
run
(
times
 = 1);

56 
°›
();

64 
waô
();

73 
boﬁ
 
isRu¬ög
() const;

	@processors/laser/urg-0.8.18/src/cpp/system/delay.cpp

10 
	~"dñay.h
"

11 
	~"sy°em_dñay.h
"

12 
	~"M⁄ô‹ModeM™agî.h
"

15 
	gqrk
::
	$dñay
(
m£c
)

17 
boﬁ
 
mode_unknown
 = 
åue
;

18 
boﬁ
 
is_n‹mÆ_dñay
 = 
åue
;

20 i‡(
mode_unknown
) {

21 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode
 =

22 
M⁄ô‹ModeM™agî
::
	`obje˘
()->
	`mode
();

23 i‡((
mode
 =
M⁄ô‹ModeM™agî
::
Pœy
) ||

24 (
mode
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
)) {

25 
is_n‹mÆ_dñay
 = 
Ál£
;

27 
mode_unknown
 = 
Ál£
;

30 i‡(
is_n‹mÆ_dñay
) {

31 
	`sy°em_dñay
(
m£c
);

38 
	`sy°em_dñay
(
m£c
);

40 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/delay.h

1 #i‚de‡
QRK_DELAY_H


2 
	#QRK_DELAY_H


	)

15 
«me•a˚
 
	gqrk


22 
dñay
(
m£c
);

	@processors/laser/urg-0.8.18/src/cpp/system/log_printf.cpp

10 
	~"log_¥ötf.h
"

11 
	~<c°dio
>

12 
	~<c°d¨g
>

15 
	g«me•a˚


17 c⁄° * 
	gLogFûe
 = "error_log.txt";

21 
	gqrk
::
	$log_¥ötf
(c⁄° *
f‹m©
, ...)

23 
FILE
* 
fd
 = 
NULL
;

24 i‡(
fd
 =
NULL
) {

25 
fd
 = 
	`f›í
(
LogFûe
, "w");

26 i‡(
fd
 =
NULL
) {

31 
va_li°
 
≠
;

34 
	`va_°¨t
(
≠
, 
f‹m©
);

35 
	`vÂrötf
(
°dîr
, 
f‹m©
, 
≠
);

36 
	`va_íd
(
≠
);

39 
	`va_°¨t
(
≠
, 
f‹m©
);

40 
ªt
 = 
	`vÂrötf
(
fd
, 
f‹m©
, 
≠
);

41 
	`va_íd
(
≠
);

44 
	`fÊush
(
fd
);

46  
ªt
;

47 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/log_printf.h

1 #i‚de‡
QRK_LOG_PRINTF_H


2 
	#QRK_LOG_PRINTF_H


	)

13 
«me•a˚
 
	gqrk


20 
log_¥ötf
(c⁄° *
f‹m©
, ...);

28 
log_£tName
(c⁄° * 
fûe_«me
);

	@processors/laser/urg-0.8.18/src/cpp/system/system_delay.cpp

10 
	~"sy°em_dñay.h
"

11 
	~"SdlInô.h
"

12 
	~<SDL.h
>

15 
	g«me•a˚


17 ˛as†
	cDñayInô
 : 
¥iv©e
 
qrk
::
SdlInô


23 
	gqrk
::
	$sy°em_dñay
(
m£c
)

26 
DñayInô
 
sdl_öô
;

28 
	`SDL_Dñay
(
m£c
);

29 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/system_delay.h

1 #i‚de‡
QRK_SYSTEM_DELAY_H


2 
	#QRK_SYSTEM_DELAY_H


	)

14 
«me•a˚
 
	gqrk


16 
sy°em_dñay
(
m£c
);

	@processors/laser/urg-0.8.18/src/cpp/system/system_ticks.cpp

12 
	~"SdlInô.h
"

13 
	~"sy°em_ticks.h
"

14 
	~<SDL.h
>

16 
	g«me•a˚


18 ˛as†
	cTicksInô
 : 
¥iv©e
 
qrk
::
SdlInô


24 
	gqrk
::
	$sy°em_ticks
()

27 
TicksInô
 
sdl_öô
;

29  
	`SDL_GëTicks
();

30 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/system_ticks.h

1 #i‚de‡
QRK_SYSTEM_TICKS_H


2 
	#QRK_SYSTEM_TICKS_H


	)

14 
«me•a˚
 
	gqrk


16 
sy°em_ticks
();

	@processors/laser/urg-0.8.18/src/cpp/system/ticks.cpp

10 
	~"ticks.h
"

11 
	~"sy°em_ticks.h
"

12 
	~"M⁄ô‹ModeM™agî.h
"

15 
	gqrk
::
	$ticks
()

18 
boﬁ
 
mode_unknown
 = 
åue
;

19 
boﬁ
 
is_n‹mÆ_dñay
 = 
åue
;

21 i‡(
mode_unknown
) {

22 
M⁄ô‹ModeM™agî
::
M⁄ô‹Mode
 
mode
 =

23 
M⁄ô‹ModeM™agî
::
	`obje˘
()->
	`mode
();

24 i‡((
mode
 =
M⁄ô‹ModeM™agî
::
Pœy
) ||

25 (
mode
 =
M⁄ô‹ModeM™agî
::
Simuœti⁄
)) {

26 
is_n‹mÆ_dñay
 = 
Ál£
;

28 
mode_unknown
 = 
Ál£
;

31 i‡(
is_n‹mÆ_dñay
) {

32  
	`sy°em_ticks
();

39  
	`sy°em_ticks
();

41 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/system/ticks.h

1 #i‚de‡
QRK_TICKS_H


2 
	#QRK_TICKS_H


	)

15 
«me•a˚
 
	gqrk


22 
ticks
();

	@processors/laser/urg-0.8.18/src/cpp/urg/CaptureSettings.h

1 #i‚de‡
QRK_CAPTURE_SETTINGS_H


2 
	#QRK_CAPTURE_SETTINGS_H


	)

16 
«me•a˚
 
	gqrk


22 
	gTy≥Unknown
,

23 
	gQT
,

24 
	gGD
,

25 
	gGS
,

26 
	gMD
,

27 
	gMS
,

28 
	gME
,

29 
	gMx_Rïly
,

30 
	gInvÆidD©a
,

31 } 
	tC≠tuªTy≥
;

37 ˛as†
	cC≠tuªSëtögs


39 
	gpublic
:

40 
C≠tuªTy≥
 
ty≥
;

41 
	gîr‹_code
;

42 
	gtime°amp
;

43 
	gˇ±uª_fú°
;

44 
	gˇ±uª_œ°
;

45 
	gskù_löes
;

46 
	gskù_‰ames
;

47 
	gªmaö_times
;

48 
	gd©a_byã
;

51 
C≠tuªSëtögs
()

52 : 
ty≥
(
Ty≥Unknown
), 
îr‹_code
(-1), 
time°amp
(-1),

53 
ˇ±uª_fú°
(-1), 
ˇ±uª_œ°
(-1),

54 
skù_löes
(-1), 
skù_‰ames
(-1), 
ªmaö_times
(-1), 
d©a_byã
(-1)

	@processors/laser/urg-0.8.18/src/cpp/urg/RangeCaptureMode.h

1 #i‚de‡
QRK_RANGE_CAPTURE_MODE_H


2 
	#QRK_RANGE_CAPTURE_MODE_H


	)

13 
«me•a˚
 
	gqrk


25 
	gM™uÆC≠tuª
,

26 
	gAutoC≠tuª
,

27 
	gI¡ísôyC≠tuª
,

28 } 
	tR™geC≠tuªMode
;

	@processors/laser/urg-0.8.18/src/cpp/urg/RangeSensor.h

1 #i‚de‡
QRK_RANGE_SENSOR_H


2 
	#QRK_RANGE_SENSOR_H


	)

13 
	~"R™geC≠tuªMode.h
"

14 
	~"M©hUtûs.h
"

15 
	~<ve˘‹
>

16 
	~<°rög
>

19 
«me•a˚
 
	gqrk


21 
˛ass
 
	gC⁄√˘i⁄
;

22 
˛ass
 
	gR™geSís‹P¨amëî
;

26 ˛as†
	cR™geSís‹


28 
	gpublic
:

29 
vútuÆ
 ~
R™geSís‹
() {}

46 
vútuÆ
 c⁄° * 
wh©
() const = 0;

70 
vútuÆ
 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
) = 0;

78 
vútuÆ
 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
) = 0;

86 
vútuÆ
 
C⁄√˘i⁄
* 
c⁄√˘i⁄
() = 0;

92 
vútuÆ
 
disc⁄√˘
() = 0;

101 
vútuÆ
 
boﬁ
 
isC⁄√˘ed
() const = 0;

109 
vútuÆ
 
möDi°™˚
() const = 0;

117 
vútuÆ
 
maxDi°™˚
() const = 0;

125 
vútuÆ
 
maxSˇnLöes
() const = 0;

127 
vútuÆ
 
sˇnM£c
() const = 0;

129 
vútuÆ
 
£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
) = 0;

130 
vútuÆ
 
R™geC≠tuªMode
 
ˇ±uªMode
() = 0;

144 
vútuÆ
 
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
) = 0;

147 
vútuÆ
 
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

148 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

149 * 
time°amp
) = 0;

164 
vútuÆ
 
boﬁ
 
£tTime°amp
(
time°amp
 = 0, * 
ª•⁄£_m£c
 = 
NULL
,

165 * 
f‹˚_dñay_m£c
 = 
NULL
) = 0;

173 
vútuÆ
 
ª˚¡Time°amp
() const

179 
vútuÆ
 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
) = 0;

195 
vútuÆ
 
ödex2ød
(c⁄° 
ödex
) const = 0;

211 
ödex2deg
(c⁄° 
ödex
) const

213  
	g°©ic_ˇ°
<>(
Êo‹
((180.0 * 
ödex2ød
(
ödex
Ë/ 
M_PI
) + 0.5));

228 
vútuÆ
 
ød2ödex
(c⁄° 
ødün
) const = 0;

242 
deg2ödex
(c⁄° 
degªe
) const

244  
ød2ödex
(
degªe
 * 
M_PI
 / 180.0);

253 
vútuÆ
 
£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
) = 0;

261 
vútuÆ
 
R™geSís‹P¨amëî
 
∑ømëî
() const = 0;

	@processors/laser/urg-0.8.18/src/cpp/urg/RangeSensorParameter.h

1 #i‚de‡
QRK_RANGE_SENSOR_PARAMETER_H


2 
	#QRK_RANGE_SENSOR_PARAMETER_H


	)

13 
	~<°rög
>

16 
«me•a˚
 
	gqrk


19 ˛as†
	cR™geSís‹P¨amëî


21 
	gpublic
:

23 
MODL
 = 0,

24 
	gDMIN
,

25 
	gDMAX
,

26 
	gARES
,

27 
	gAMIN
,

28 
	gAMAX
,

29 
	gAFRT
,

30 
	gSCAN
,

33 
	g°d
::
°rög
 
modñ
;

34 
	gdi°™˚_mö
;

35 
	gdi°™˚_max
;

36 
	g¨ó_tŸÆ
;

37 
	g¨ó_mö
;

38 
	g¨ó_max
;

39 
	g¨ó_‰⁄t
;

40 
	gsˇn_Ωm
;

42 
R™geSís‹P¨amëî
()

43 : 
modñ
(""), 
di°™˚_mö
(0), 
di°™˚_max
(0), 
¨ó_tŸÆ
(0),

44 
¨ó_mö
(0), 
¨ó_max
(0), 
¨ó_‰⁄t
(0), 
sˇn_Ωm
(600)

	@processors/laser/urg-0.8.18/src/cpp/urg/ScipHandler.cpp

10 
	~"ScùH™dÀr.h
"

11 
	~"R™geSís‹P¨amëî.h
"

12 
	~"C⁄√˘i⁄.h
"

13 
	~"C⁄√˘i⁄Utûs.h
"

14 
	~"ticks.h
"

15 
	~"dñay.h
"

16 
	~"Dëe˘OS.h
"

17 
	~"log_¥ötf.h
"

18 
	~<c°rög
>

19 
	~<c°dio
>

21 #ifde‡
MSC


22 
	#¢¥ötf
 
_¢¥ötf


	)

25 
usög
 
«me•a˚
 
	gqrk
;

26 
usög
 
«me•a˚
 
	g°d
;

29 
	g«me•a˚


32 
	gPro˚ssC⁄töue
,

33 
	gPro˚ssBªak
,

34 
	gPro˚ssN‹mÆ
,

35 } 
	tLo›Pro˚ss
;

37 
˛órRe˚ived
(
ve˘‹
<>& 
d©a
, 
C≠tuªTy≥
& 
ty≥
,

38 & 
löe_cou¡
, & 
timeout
,

39 
°rög
& 
ªmaö_°rög
,

40 
°rög
& 
À·_∑ckë_d©a
)

42 
	gd©a
.
˛ór
();

43 
	gty≥
 = 
Ty≥Unknown
;

44 
	glöe_cou¡
 = 0;

45 
	gtimeout
 = 0;

46 
	gªmaö_°rög
.
˛ór
();

47 
	gÀ·_∑ckë_d©a
.
˛ór
();

52 
	gScùH™dÀr
::
pIm∂


55 
TŸÆTimeout
 = 1000,

56 
	gC⁄töuousTimeout
 = 100,

57 
	gFú°Timeout
 = 1000,

59 
	gBuf„rSize
 = 64 + 1 + 1,

61 
	gRe•⁄£Timeout
 = -1,

62 
	gMism©chRe•⁄£
 = -2,

63 
	gSídFaû
 = -3,

64 
	gChecksumFaû
 = -4,

65 
	gScù11Re•⁄£
 = -14,

67 
	gInvÆidR™ge
 = -1,

71 
	gLa£rUnknown
 = 0,

72 
	gLa£rOn
,

73 
	gLa£rOff
,

74 } 
	tLa£rSèã
;

76 
°rög
 
	gîr‹_mesßge_
;

77 
C⁄√˘i⁄
* 
	gc⁄_
;

78 
La£rSèã
 
	gœ£r_°©e_
;

79 
boﬁ
 
	gmx_ˇ±urög_
;

81 
boﬁ
 
	gisPªComm™d_QT_
;

84 
pIm∂
()

85 : 
îr‹_mesßge_
("nÿîr‹."), 
c⁄_
(
NULL
), 
œ£r_°©e_
(
La£rUnknown
),

86 
mx_ˇ±urög_
(
Ál£
), 
isPªComm™d_QT_
(false)

91 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

93 i‡(! 
	gc⁄_
->
c⁄√˘
(
devi˚
, 
baudøã
)) {

94 
	gîr‹_mesßge_
 = 
c⁄_
->
wh©
();

95  
	gÁl£
;

98 
	gåy_baudøãs
[] = { 115200, 19200, 38400, };

99 
size_t
 
	gåy_size
 = (
åy_baudøãs
) / (try_baudrates[0]);

102 
size_t
 
	gi
 = 1; i < 
	gåy_size
; ++i) {

103 i‡(
	gbaudøã
 =
åy_baudøãs
[
i
]) {

104 
sw≠
(
åy_baudøãs
[0],Åry_baudøãs[
i
]);

110 
size_t
 
	gi
 = 0; i < 
	gåy_size
; ++i) {

113 i‡(! 
	gc⁄_
->
£tBaudøã
(
åy_baudøãs
[
i
])) {

114 
	gîr‹_mesßge_
 = 
c⁄_
->
wh©
();

115  
	gÁl£
;

119 
	gc⁄_
->
˛ór
();

122 
	gªtu∫_code
 = -1;

123 
	gqt_ex≥˘ed_ª•⁄£
[] = { 0, -1 };

125 i‡(
ª•⁄£
(
ªtu∫_code
, "QT\n", 
qt_ex≥˘ed_ª•⁄£
)) {

126 
	gœ£r_°©e_
 = 
La£rOff
;

127  
ch™geBŸhBaudøã
(
baudøã
);

129 } i‡(
	gªtu∫_code
 =
Re•⁄£Timeout
) {

131 
îr‹_mesßge_
 = "baudrate isÇot detected.";

134 } i‡(
	gªtu∫_code
 =
Mism©chRe•⁄£
) {

136 
c⁄_
->
˛ór
();

137 
skù
(
c⁄_
, 
C⁄töuousTimeout
);

138  
ch™geBŸhBaudøã
(
baudøã
);

140 } i‡(
	gªtu∫_code
 =
Scù11Re•⁄£
) {

142 
scù20_ex≥˘ed_ª•⁄£
[] = { 0, -1 };

143 i‡(! 
ª•⁄£
(
ªtu∫_code
, "SCIP2.0\n", 
scù20_ex≥˘ed_ª•⁄£
)) {

144 
	gîr‹_mesßge_
 =

146  
	gÁl£
;

148 
	gœ£r_°©e_
 = 
La£rOff
;

149  
ch™geBŸhBaudøã
(
baudøã
);

151 } i‡(
	gªtu∫_code
 == 0xE) {

153 
tm2_ex≥˘ed_ª•⁄£
[] = { 0, -1 };

154 i‡(
ª•⁄£
(
ªtu∫_code
, "TM2\n", 
tm2_ex≥˘ed_ª•⁄£
)) {

155 
	gœ£r_°©e_
 = 
La£rOff
;

156  
ch™geBŸhBaudøã
(
baudøã
);

161 
	gc⁄_
->
disc⁄√˘
();

162  
	gÁl£
;

166 
boﬁ
 
ch™geBŸhBaudøã
(
baudøã
)

170 i‡(
	gc⁄_
->
baudøã
() == baudrate) {

171  
åue
;

175 
	g¥e_ticks
 = 
ticks
();

176 i‡(! 
ch™geBaudøã
(
baudøã
)) {

177  
	gÁl£
;

181 
	gª∂y_m£c
 = 
ticks
(Ë- 
¥e_ticks
;

182 
dñay
((
ª∂y_m£c
 * 4 / 3) + 10);

185  
	gc⁄_
->
£tBaudøã
(
baudøã
);

189 
boﬁ
 
ch™geBaudøã
(
baudøã
)

193 i‡(! ((
	gbaudøã
 =19200Ë|| (
baudøã
 == 38400) ||

194 (
baudøã
 == 57600) || (baudrate == 115200))) {

195 
îr‹_mesßge_
 = "Invalid baudrate value.";

196  
	gÁl£
;

201 
	g£nd_buf„r
[] = "SSxxxxxx\n";

202 
¢¥ötf
(
£nd_buf„r
, 10, "SS%06ld\n", 
baudøã
);

203 
	gªtu∫_code
 = -1;

205 
	gss_ex≥˘ed_ª•⁄£
[] = { 0, 0x3, 0x4, 0xf, -1 };

206 i‡(! 
ª•⁄£
(
ªtu∫_code
, 
£nd_buf„r
, 
ss_ex≥˘ed_ª•⁄£
)) {

207 
	gîr‹_mesßge_
 = "Baudrate change fail.";

208  
	gÁl£
;

211  
	gåue
;

215 
boﬁ
 
lﬂdP¨amëî
(
R™geSís‹P¨amëî
& 
∑ømëîs
)

218 
	gªtu∫_code
 = -1;

219 
	gµ_ex≥˘ed_ª•⁄£
[] = { 0, -1 };

220 
	gve˘‹
<
	g°rög
> 
	glöes
;

221 i‡(! 
ª•⁄£
(
ªtu∫_code
, "PP\n", 
µ_ex≥˘ed_ª•⁄£
, &
löes
)) {

222 
	gîr‹_mesßge_
 = "PP fail.";

223  
	gÁl£
;

227 i‡(
	glöes
.
size
() != 8) {

228 
îr‹_mesßge_
 = "Invalid PPÑesponse.";

229  
	gÁl£
;

234 
	gmodl_Àngth
 =

235 
°©ic_ˇ°
<>(
löes
[
R™geSís‹P¨amëî
::
MODL
].
size
());

237 i‡(
	gmodl_Àngth
 > (5 + 2)) {

238 
	gmodl_Àngth
 -= (5 + 2);

240 
	g∑ømëîs
.
	gmodñ
 = 
löes
[
R™geSís‹P¨amëî
::
MODL
].
sub°r
(5, 
modl_Àngth
);

242 
	g∑ømëîs
.
	gdi°™˚_mö
 = 
sub°r2öt
(
löes
[
R™geSís‹P¨amëî
::
DMIN
], 5);

243 
	g∑ømëîs
.
	gdi°™˚_max
 = 
sub°r2öt
(
löes
[
R™geSís‹P¨amëî
::
DMAX
], 5);

244 
	g∑ømëîs
.
	g¨ó_tŸÆ
 = 
sub°r2öt
(
löes
[
R™geSís‹P¨amëî
::
ARES
], 5);

245 
	g∑ømëîs
.
	g¨ó_mö
 = 
sub°r2öt
(
löes
[
R™geSís‹P¨amëî
::
AMIN
], 5);

246 
	g∑ømëîs
.
	g¨ó_max
 = 
sub°r2öt
(
löes
[
R™geSís‹P¨amëî
::
AMAX
], 5);

247 
	g∑ømëîs
.
	g¨ó_‰⁄t
 = 
sub°r2öt
(
löes
[
R™geSís‹P¨amëî
::
AFRT
], 5);

248 
	g∑ømëîs
.
	gsˇn_Ωm
 = 
sub°r2öt
(
löes
[
R™geSís‹P¨amëî
::
SCAN
], 5);

250  
	gåue
;

254 
sub°r2öt
(c⁄° 
°rög
& 
löe
, 
‰om_n
, 
Àngth
 = såög::
≈os
)

256  
©oi
(
löe
.
sub°r
(
‰om_n
, 
Àngth
).
c_°r
());

260 
boﬁ
 
ª•⁄£
(& 
ªtu∫_code
, c⁄° 
£nd_comm™d
[],

261 
ex≥˘ed_ª•⁄£
[],

262 
ve˘‹
<
°rög
>* 
löes
 = 
NULL
)

264 
ªtu∫_code
 = -1;

265 i‡(! 
	gc⁄_
) {

266 
	gîr‹_mesßge_
 = "no connection.";

267  
	gÁl£
;

270 
size_t
 
	g£nd_size
 = 
°æí
(
£nd_comm™d
);

271 
	ga˘uÆ_£nd_size
 = 
c⁄_
->
£nd
(
£nd_comm™d
, 
£nd_size
);

272 i‡(
°∫cmp
(
£nd_comm™d
, "QT\n", 
£nd_size
)) {

273 
	gisPªComm™d_QT_
 = 
Ál£
;

275 i‡(
	ga˘uÆ_£nd_size
 !
°©ic_ˇ°
<>(
£nd_size
)) {

276 
ªtu∫_code
 = 
SídFaû
;

277  
	gÁl£
;

281 
	gbuf„r
[
Buf„rSize
];

282 
	gªcv_size
 = 
ªadlöe
(
c⁄_
, 
buf„r
, 
Buf„rSize
, 
Fú°Timeout
);

283 i‡(
	gªcv_size
 < 0) {

284 
	gîr‹_mesßge_
 = "responseÅimeout.";

285 
	gªtu∫_code
 = 
Re•⁄£Timeout
;

286  
	gÁl£
;

290 i‡(! ((
	gªcv_size
 =1Ë&& (
buf„r
[0] == 0x00))) {

291 i‡((
ªcv_size
 !
°©ic_ˇ°
<>(
£nd_size
 - 1)) ||

292 (
°∫cmp
(
buf„r
, 
£nd_comm™d
, 
ªcv_size
))) {

293 
	gîr‹_mesßge_
 = "mism©chÑe•⁄£: " + 
°rög
(
buf„r
);

294 
	gªtu∫_code
 = 
Mism©chRe•⁄£
;

295  
	gÁl£
;

302 
	gªcv_size
 = 
ªadlöe
(
c⁄_
, 
buf„r
, 
Buf„rSize
, 
C⁄töuousTimeout
);

303 i‡(
	gªcv_size
 < 0) {

305 
	gîr‹_mesßge_
 = "responseÅimeout.";

306 
	gªtu∫_code
 = 
Re•⁄£Timeout
;

307  
	gÁl£
;

309 i‡(
	gªcv_size
 == 3) {

312 i‡(! 
checkSum
(
buf„r
, 
ªcv_size
 - 1, buffer[recv_size - 1])) {

313 
ªtu∫_code
 = 
ChecksumFaû
;

314  
	gÁl£
;

316 
	gbuf„r
[2] = '\0';

317 
	gªtu∫_code
 = 
°πﬁ
(
buf„r
, 
NULL
, 16);

319 } i‡(
	gªcv_size
 == 1) {

321 
buf„r
[1] = '\0';

322 
	gªtu∫_code
 = -
°πﬁ
(
buf„r
, 
NULL
, 16);

328 
	gªcv_size
 = 
ªadlöe
(
c⁄_
, 
buf„r
, 
Buf„rSize
, 
C⁄töuousTimeout
);

329 i‡(
	glöes
 && (
	gªcv_size
 > 0)) {

330 
	glöes
->
push_back
(
buf„r
);

332 } 
	gªcv_size
 > 0);

334 
	gi
 = 0; 
	gex≥˘ed_ª•⁄£
[
i
] != -1; ++i) {

335 i‡(
	gªtu∫_code
 =
ex≥˘ed_ª•⁄£
[
i
]) {

336  
åue
;

339  
	gÁl£
;

343 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
, boﬁ 
f‹˚
)

345 i‡(((
	g⁄
 =
åue
Ë&& (
œ£r_°©e_
 =
La£rOn
)) ||

346 ((
⁄
 =
Ál£
Ë&& (
œ£r_°©e_
 =
La£rOff
))) {

347 i‡(! 
f‹˚
) {

350  
åue
;

353 i‡((!
	g⁄
Ë&& 
	gisPªComm™d_QT_
) {

354  
	gÁl£
;

357 i‡(
	g⁄
) {

358 
	gªtu∫_code
 = -1;

359 
	gex≥˘ed_ª•⁄£
[] = { 0, -1 };

360 i‡(! 
ª•⁄£
(
ªtu∫_code
, "BM\n", 
ex≥˘ed_ª•⁄£
)) {

361 
	gîr‹_mesßge_
 = "BM fail.";

362  
	gÁl£
;

364 
	gœ£r_°©e_
 = 
La£rOn
;

365  
	gåue
;

369 i‡(! 
	gmx_ˇ±urög_
) {

371 
	gªtu∫_code
 = -1;

372 
	gqt_ex≥˘ed_ª•⁄£
[] = { 0, -1 };

373 i‡(! 
ª•⁄£
(
ªtu∫_code
, "QT\n", 
qt_ex≥˘ed_ª•⁄£
)) {

374  
	gÁl£
;

376 
	gœ£r_°©e_
 = 
La£rOff
;

377 
	gisPªComm™d_QT_
 = 
åue
;

378  
	gåue
;

383 
	gc⁄_
->
£nd
("QT\n", 3);

384 
	gisPªComm™d_QT_
 = 
åue
;

387  
	gåue
;

392 
boﬁ
 
ã°Checksum
(c⁄° * 
buf„r
, 
löe_size
,

393 
ve˘‹
<>& 
d©a
, 
C≠tuªTy≥
& 
ty≥
,

394 
löe_cou¡
, 
timeout
,

395 
°rög
& 
ªmaö_°rög
, såög& 
À·_∑ckë_d©a
)

397 i‡(! 
checkSum
(
buf„r
, 
löe_size
 - 1, buffer[line_size - 1])) {

398 
log_¥ötf
("checksumÉº‹: %s\n", 
buf„r
);

403 
	gîr‹_mesßge_
 = "invalidÖacket.";

404 
˛órRe˚ived
(
d©a
, 
ty≥
, 
löe_cou¡
, 
timeout
,

405 
ªmaö_°rög
, 
À·_∑ckë_d©a
);

406  
	gÁl£
;

409  
	gåue
;

413 
Lo›Pro˚ss
 
h™dÀEchoback
(c⁄° * 
buf„r
, 
C≠tuªSëtögs
& 
£âögs
,

414 
C≠tuªTy≥
& 
ty≥
, 
ve˘‹
<>& 
d©a
,

415 
löe_cou¡
, 
timeout
,

416 
°rög
& 
ªmaö_°rög
,

417 
°rög
& 
À·_∑ckë_d©a
)

419 
°rög
 
	glöe
 = 
buf„r
;

420 i‡((! 
	glöe
.
com∑ª
(0, 2, "GD")) || (!Üine.compare(0, 2, "GS"))) {

421 i‡(! 
∑r£GdEchoback
(
£âögs
, 
löe
)) {

422  
	gPro˚ssBªak
;

424 
	gty≥
 = (
löe
[1] = 'D'Ë? 
GD
 : 
GS
;

426 } i‡((! 
	glöe
.
com∑ª
(0, 2, "MD")) ||

427 (! 
	glöe
.
com∑ª
(0, 2, "MS"))) {

428 i‡(! 
∑r£MdEchoback
(
£âögs
, 
löe
)) {

429  
	gPro˚ssBªak
;

431 
	gty≥
 = (
löe
[1] = 'D'Ë? 
MD
 : 
MS
;

432 
	gœ£r_°©e_
 = 
La£rOn
;

434 } i‡(! 
	glöe
.
com∑ª
(0, 2, "ME")) {

435 i‡(! 
∑r£MeEchoback
(
£âögs
, 
löe
)) {

436  
	gPro˚ssBªak
;

438 
	gty≥
 = 
ME
;

439 
	gœ£r_°©e_
 = 
La£rOn
;

441 } i‡(! 
	glöe
.
com∑ª
(0, 2, "QT")) {

442 
	g£âögs
.
	gªmaö_times
 = 0;

443 
	gœ£r_°©e_
 = 
La£rOff
;

444 
	gmx_ˇ±urög_
 = 
Ál£
;

445  
	gPro˚ssN‹mÆ
;

451 
˛órRe˚ived
(
d©a
, 
ty≥
, 
löe_cou¡
, 
timeout
,

452 
ªmaö_°rög
, 
À·_∑ckë_d©a
);

454  
	gPro˚ssC⁄töue
;

457 
	gd©a
.
ª£rve
(
£âögs
.
ˇ±uª_œ°
 + 1);

458  
	gPro˚ssN‹mÆ
;

462 
h™dÀRëu∫Code
(* 
buf„r
, 
C≠tuªSëtögs
& 
£âögs
, 
timeout
,

463 
C≠tuªTy≥
& 
ty≥
, * 
tŸÆ_times
)

466 
	gbuf„r
[2] = '\0';

467 
	g£âögs
.
	gîr‹_code
 = 
©oi
(
buf„r
);

469 i‡(
	g£âögs
.
	gîr‹_code
 == 10) {

471 
œ£r_°©e_
 = 
pIm∂
::
La£rOff
;

476 i‡(! 
°∫cmp
(
buf„r
, "0B", 2)) {

477 
skù
(
c⁄_
, 
TŸÆTimeout
, 
timeout
);

481 i‡((
	g£âögs
.
	gîr‹_code
 == 0) &&

482 ((
ty≥
 =
MD
Ë|| (ty≥ =
MS
Ë|| (ty≥ =
ME
))) {

483 i‡(
tŸÆ_times
) {

484 *
tŸÆ_times
 = 
£âögs
.
ªmaö_times
;

486 
	gty≥
 = 
Mx_Rïly
;

491 
C≠tuªTy≥
 
ª˚iveC≠tuªD©a
(
ve˘‹
<>& 
d©a
,

492 
C≠tuªSëtögs
& 
£âögs
, * 
time°amp
,

493 * 
ªmaö_times
, * 
tŸÆ_times
)

495 
	glöe_cou¡
 = 0;

496 
	gd©a
.
˛ór
();

498 
°rög
 
	gªmaö_°rög
;

500 
°rög
 
	gÀ·_∑ckë_d©a
;

501 
	gbuf„r
[
Buf„rSize
];

503 
	gîr‹_mesßge_
 = "noÑesponse.";

505 
C≠tuªTy≥
 
	gty≥
 = 
Ty≥Unknown
;

506 
	gtimeout
 = 
Fú°Timeout
;

507 
	glöe_size
 = 0;

508 (
	glöe_size
 = 
ªadlöe
(
c⁄_
, 
buf„r
, 
Buf„rSize
, 
timeout
)) > 0) {

512 i‡(
	glöe_cou¡
 != 0) {

514 i‡(! 
ã°Checksum
(
buf„r
, 
löe_size
, 
d©a
, 
ty≥
, 
löe_cou¡
, 
timeout
,

515 
ªmaö_°rög
, 
À·_∑ckë_d©a
)) {

520 i‡(
	glöe_cou¡
 == 0) {

522 
Lo›Pro˚ss
 
lo›_¥o˚ss
 =

523 
h™dÀEchoback
(
buf„r
, 
£âögs
, 
ty≥
, 
d©a
, 
löe_cou¡
, 
timeout
,

524 
ªmaö_°rög
, 
À·_∑ckë_d©a
);

525 i‡(
	glo›_¥o˚ss
 =
Pro˚ssC⁄töue
) {

528 } i‡(
	glo›_¥o˚ss
 =
Pro˚ssBªak
) {

532 } i‡(
	glöe_cou¡
 == 1) {

534 
h™dÀRëu∫Code
(
buf„r
, 
£âögs
, 
timeout
, 
ty≥
, 
tŸÆ_times
);

536 } i‡(
	glöe_cou¡
 == 2) {

538 i‡(
time°amp
) {

539 *
time°amp
 = 
decode
(
buf„r
, 4);

542 i‡(
	glöe_cou¡
 == 3) {

544 
i
 = 0; 
	gi
 < 
	g£âögs
.
	gˇ±uª_fú°
; ++i) {

545 
	gd©a
.
push_back
(
InvÆidR™ge
);

546 i‡(
	gty≥
 =
ME
) {

548 
d©a
.
push_back
(
InvÆidR™ge
);

553 
	gÀ·_∑ckë_d©a
 =

554 
addLígthD©a
(
d©a
, 
°rög
(
buf„r
), 
À·_∑ckë_d©a
,

555 
£âögs
.
d©a_byã
, sëtögs.
skù_löes
);

557 ++
	glöe_cou¡
;

558 
	gtimeout
 = 
C⁄töuousTimeout
;

564 
size_t
 
	gex≥˘ed_n
 = 
£âögs
.
ˇ±uª_œ°
 * ((
ty≥
 =
ME
) ? 2 : 1);

565 i‡(
	gex≥˘ed_n
 < 
	gd©a
.
size
()) {

566 
	gd©a
.
îa£
(
d©a
.
begö
(Ë+ 
ex≥˘ed_n
, d©a.
íd
());

569 i‡(
	gªmaö_times
) {

570 *
	gªmaö_times
 = 
£âögs
.
ªmaö_times
;

572  
	gty≥
;

576 
boﬁ
 
∑r£GdEchoback
(
C≠tuªSëtögs
& 
£âögs
, c⁄° 
°rög
& 
löe
)

578 i‡(
	glöe
.
size
() != 12) {

579 
îr‹_mesßge_
 = "Invalid GxÖacket hasárrived.";

580  
	gÁl£
;

583 
	g£âögs
.
	gˇ±uª_fú°
 = 
sub°r2öt
(
löe
, 2, 4);

584 
	g£âögs
.
	gˇ±uª_œ°
 = 
sub°r2öt
(
löe
, 6, 4) + 1;

585 
	gskù_löes
 = 
sub°r2öt
(
löe
, 10, 2);

586 
	g£âögs
.
	gskù_löes
 = (
skù_löes
 == 0) ? 1 : skip_lines;

587 
	g£âögs
.
	gd©a_byã
 = (
löe
[1] == 'D') ? 3 : 2;

589  
	gåue
;

593 
boﬁ
 
∑r£MdEchoback
(
C≠tuªSëtögs
& 
£âögs
, c⁄° 
°rög
& 
löe
)

595 i‡(
	glöe
.
size
() != 15) {

596 
îr‹_mesßge_
 = "Invalid MxÖacket hasárrived.";

597  
	gÁl£
;

600 
	g£âögs
.
	gˇ±uª_fú°
 = 
sub°r2öt
(
löe
, 2, 4);

601 
	g£âögs
.
	gˇ±uª_œ°
 = 
sub°r2öt
(
löe
, 6, 4) + 1;

602 
	gskù_löes
 = 
sub°r2öt
(
löe
, 10, 2);

603 
	g£âögs
.
	gskù_löes
 = (
skù_löes
 == 0) ? 1 : skip_lines;

604 
	g£âögs
.
	gskù_‰ames
 = 
sub°r2öt
(
löe
, 12, 1);

605 
	g£âögs
.
	gªmaö_times
 = 
sub°r2öt
(
löe
, 13, 2);

606 
	g£âögs
.
	gd©a_byã
 = (
löe
[1] == 'D') ? 3 : 2;

608 i‡(
	g£âögs
.
	gªmaö_times
 == 1) {

612 
mx_ˇ±urög_
 = 
Ál£
;

615 i‡(
	g£âögs
.
	gªmaö_times
 > 0) {

616 
	gmx_ˇ±urög_
 = 
åue
;

617 } i‡(
	g£âögs
.
	gªmaö_times
 == 0) {

618 
£âögs
.
ªmaö_times
 = 100;

622  
	gåue
;

626 
boﬁ
 
∑r£MeEchoback
(
C≠tuªSëtögs
& 
£âögs
, c⁄° 
°rög
& 
löe
)

628 i‡(
	glöe
.
size
() != 15) {

629 
îr‹_mesßge_
 = "Invalid MEÖacket hasárrived.";

630  
	gÁl£
;

633 
	g£âögs
.
	gˇ±uª_fú°
 = 
sub°r2öt
(
löe
, 2, 4);

634 
	g£âögs
.
	gˇ±uª_œ°
 = 
sub°r2öt
(
löe
, 6, 4) + 1;

635 
	gskù_löes
 = 
sub°r2öt
(
löe
, 10, 2);

636 
	g£âögs
.
	gskù_löes
 = (
skù_löes
 == 0) ? 1 : skip_lines;

637 
	g£âögs
.
	gskù_‰ames
 = 
sub°r2öt
(
löe
, 12, 1);

638 
	g£âögs
.
	gªmaö_times
 = 
sub°r2öt
(
löe
, 13, 2);

639 
	g£âögs
.
	gd©a_byã
 = 3;

641 i‡(
	g£âögs
.
	gªmaö_times
 == 1) {

642 
mx_ˇ±urög_
 = 
Ál£
;

645 
	gmx_ˇ±urög_
 = 
åue
;

648  
	gåue
;

652 
°rög
 
addLígthD©a
(
ve˘‹
<>& 
d©a
,

653 c⁄° 
°rög
& 
löe
,

654 c⁄° 
°rög
& 
À·_∑ckë_d©a
,

655 c⁄° 
size_t
 
d©a_byã
, c⁄° 
skù_löes
 = 1)

657 i‡(
löe
.
em±y
()) {

659  
À·_∑ckë_d©a
;

663 
°rög
 
	gÀ·_byã
 = 
À·_∑ckë_d©a
;

665 
size_t
 
	gd©a_size
 = (
À·_byã
.
size
(Ë+ (
löe
.size(Ë- 1)Ë/ 
d©a_byã
;

666 
size_t
 
	gn
 = 
d©a_size
 * 
d©a_byã
 - 
À·_byã
.
size
();

667 
size_t
 
	gi
 = 0; i < 
	gn
; ++i) {

668 
	gÀ·_byã
.
push_back
(
löe
[
i
]);

669 i‡(
	gÀ·_byã
.
size
(Ë>
d©a_byã
) {

671 
Àngth
 = 
decode
(&
À·_byã
[0], 
d©a_byã
);

672 
	gj
 = 0; j < 
	gskù_löes
; ++j) {

673 
	gd©a
.
push_back
(
Àngth
);

675 
	gÀ·_byã
.
˛ór
();

678 
	gÀ·_byã
 +
löe
.
sub°r
(
n
, (löe.
size
() -Ç) - 1);

680  
	gÀ·_byã
;

685 
	gScùH™dÀr
::
	$ScùH™dÀr
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

687 
	}
}

690 
ScùH™dÀr
::~
	$ScùH™dÀr
()

692 
	}
}

695 c⁄° * 
ScùH™dÀr
::
	$wh©
() const

697  
pim∂
->
îr‹_mesßge_
.
	`c_°r
();

698 
	}
}

701 
	gScùH™dÀr
::
	$decode
(c⁄° * 
d©a
, 
size_t
 
size
)

703 c⁄° * 
p
 = 
d©a
;

704 c⁄° * 
œ°_p
 = 
p
 + 
size
;

706 
vÆue
 = 0;

707 
p
 < 
œ°_p
) {

708 
vÆue
 <<= 6;

709 
vÆue
 &= ~0x3f;

710 
vÆue
 |*
p
++ - 0x30;

712  
vÆue
;

713 
	}
}

716 
boﬁ
 
	gScùH™dÀr
::
	$checkSum
(c⁄° * 
buf„r
, 
size
, 
a˘uÆ_sum
)

718 c⁄° * 
p
 = 
buf„r
;

719 c⁄° * 
œ°_p
 = 
p
 + 
size
;

721 
ex≥˘ed_sum
 = 0x00;

722 
p
 < 
œ°_p
) {

723 
ex≥˘ed_sum
 +*
p
++;

725 
ex≥˘ed_sum
 = (expected_sum & 0x3f) + 0x30;

727  (
ex≥˘ed_sum
 =
a˘uÆ_sum
Ë? 
åue
 : 
Ál£
;

728 
	}
}

731 
	gScùH™dÀr
::
	$£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
)

733 
pim∂
->
c⁄_
 = 
c⁄
;

734 
	}
}

737 
C⁄√˘i⁄
* 
	gScùH™dÀr
::
	$c⁄√˘i⁄
()

739  
pim∂
->
c⁄_
;

740 
	}
}

743 
boﬁ
 
	gScùH™dÀr
::
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

745  
pim∂
->
	`c⁄√˘
(
devi˚
, 
baudøã
);

746 
	}
}

749 
	gScùH™dÀr
::
	$£nd
(c⁄° 
d©a
[], 
size
)

751 i‡(
size
 >= 2) {

754 i‡((! 
	`°∫cmp
("MD", 
d©a
, 2)) || (! strncmp("MS", data, 2)) ||

755 (! 
	`°∫cmp
("ME", 
d©a
, 2))) {

756 
pim∂
->
œ£r_°©e_
 = 
pIm∂
::
La£rOn
;

757 
pim∂
->
mx_ˇ±urög_
 = 
åue
;

758 
pim∂
->
isPªComm™d_QT_
 = 
Ál£
;

761  
pim∂
->
c⁄_
->
	`£nd
(
d©a
, 
size
);

762 
	}
}

765 
	gScùH™dÀr
::
	$ªcv
(
d©a
[], 
size
, 
timeout
)

767  
pim∂
->
c⁄_
->
	`ª˚ive
(
d©a
, 
size
, 
timeout
);

768 
	}
}

771 
boﬁ
 
	gScùH™dÀr
::
	$lﬂdP¨amëî
(
R™geSís‹P¨amëî
& 
∑ømëîs
)

773  
pim∂
->
	`lﬂdP¨amëî
(
∑ømëîs
);

774 
	}
}

777 
boﬁ
 
	gScùH™dÀr
::
vîsi⁄Löes
(
ve˘‹
<
°rög
>& 
löes
)

779 
ªtu∫_code
 = -1;

780 
	gex≥˘ed_ª•⁄£
[] = { 0, -1 };

781 i‡(! 
	gpim∂
->
ª•⁄£
(
ªtu∫_code
, "VV\n", 
ex≥˘ed_ª•⁄£
, &
löes
)) {

782  
	gÁl£
;

784  
	gåue
;

788 
boﬁ
 
	gScùH™dÀr
::
	$£tRawTime°ampMode
(
boﬁ
 
⁄
)

790 
£nd_comm™d
[] = "TMx\n";

791 
£nd_comm™d
[2] = (
⁄
) ? '0' : '2';

794 
ªtu∫_code
 = -1;

795 
ex≥˘ed_ª•⁄£
[] = { 0, -1 };

796 i‡(! 
pim∂
->
	`ª•⁄£
(
ªtu∫_code
, 
£nd_comm™d
, 
ex≥˘ed_ª•⁄£
)) {

797 
pim∂
->
îr‹_mesßge_
 = (
⁄
) ? "TM0 fail." : "TM2 fail.";

798  
Ál£
;

802 
pim∂
->
œ£r_°©e_
 = 
pIm∂
::
La£rOff
;

804  
åue
;

805 
	}
}

808 
boﬁ
 
	gScùH™dÀr
::
	$øwTime°amp
(* 
time°amp
)

811 
ªtu∫_code
 = -1;

812 
ex≥˘ed_ª•⁄£
[] = { 0, -1 };

813 
ve˘‹
<
°rög
> 
löes
;

814 i‡(! 
pim∂
->
	`ª•⁄£
(
ªtu∫_code
, "TM1\n", 
ex≥˘ed_ª•⁄£
, &
löes
)) {

815 
pim∂
->
îr‹_mesßge_
 = "TM1 fail.";

816  
Ál£
;

819 i‡((
löes
.
	`size
() != 1) || (lines[0].size() != 5)) {

820 
pim∂
->
îr‹_mesßge_
 = "response mismatch.";

821  
Ál£
;

824 *
time°amp
 = 
	`decode
(
löes
[0].
	`c_°r
(), 4);

825  
åue
;

826 
	}
}

829 
boﬁ
 
	gScùH™dÀr
::
	$£tLa£rOuçut
(
boﬁ
 
⁄
, boﬁ 
f‹˚
)

831  
pim∂
->
	`£tLa£rOuçut
(
⁄
, 
f‹˚
);

832 
	}
}

835 
C≠tuªTy≥
 
	gScùH™dÀr
::
ª˚iveC≠tuªD©a
(
ve˘‹
<>& 
d©a
,

836 
C≠tuªSëtögs
& 
£âögs
,

837 * 
time°amp
, * 
ªmaö_times
,

838 * 
tŸÆ_times
)

840  
	gpim∂
->
ª˚iveC≠tuªD©a
(
d©a
, 
£âögs
,

841 
time°amp
, 
ªmaö_times
, 
tŸÆ_times
);

	@processors/laser/urg-0.8.18/src/cpp/urg/ScipHandler.h

1 #i‚de‡
QRK_SCIP_HANDLER_H


2 
	#QRK_SCIP_HANDLER_H


	)

13 
	~"C≠tuªSëtögs.h
"

14 
	~<mem‹y
>

15 
	~<ve˘‹
>

16 
	~<°rög
>

19 
«me•a˚
 
	gqrk


21 
˛ass
 
	gC⁄√˘i⁄
;

22 
˛ass
 
	gR™geSís‹P¨amëî
;

26 ˛as†
	cScùH™dÀr


28 
	gpublic
:

29 c⁄° 
boﬁ
 
Off
 = 
Ál£
;

30 c⁄° 
boﬁ
 
	gOn
 = 
åue
;

31 c⁄° 
boﬁ
 
	gF‹˚
 = 
åue
;

33 
ScùH™dÀr
();

34 ~
ScùH™dÀr
();

36 c⁄° * 
wh©
() const;

38 
decode
(c⁄° * 
d©a
, 
size_t
 
size
);

39 
boﬁ
 
checkSum
(c⁄° * 
buf„r
, 
size
, 
a˘uÆ_sum
);

41 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
);

42 
C⁄√˘i⁄
* 
c⁄√˘i⁄
();

45 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
);

47 
£nd
(c⁄° 
d©a
[], 
size
);

48 
ªcv
(
d©a
[], 
size
, 
timeout
);

51 
boﬁ
 
lﬂdP¨amëî
(
R™geSís‹P¨amëî
& 
∑ømëîs
);

53 
boﬁ
 
vîsi⁄Löes
(
°d
::
ve˘‹
<°d::
°rög
>& 
löes
);

56 
boﬁ
 
£tRawTime°ampMode
(boﬁ 
⁄
);

58 
boﬁ
 
øwTime°amp
(* 
time°amp
);

60 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
, boﬁ 
f‹˚
 = 
Ál£
);

62 
C≠tuªTy≥
 
ª˚iveC≠tuªD©a
(
°d
::
ve˘‹
<>& 
d©a
,

63 
C≠tuªSëtögs
& 
£âögs
, * 
time°amp
,

64 * 
ªmaö_times
 = 
NULL
,

65 * 
tŸÆ_times
 = 
NULL
);

67 
	g¥iv©e
:

68 
ScùH™dÀr
(c⁄° ScùH™dÀr& 
rhs
);

69 
	gScùH™dÀr
& 
	g›î©‹
 = (c⁄° 
ScùH™dÀr
& 
rhs
);

71 
	gpIm∂
;

72 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/urg/UrgCtrl.cpp

10 
	~"UrgCål.h
"

11 
	~"UrgDevi˚.h
"

12 
	~"R™geSís‹P¨amëî.h
"

14 
usög
 
«me•a˚
 
	gqrk
;

17 
	gUrgCål
::
pIm∂


19 
UrgDevi˚
 
urg_
;

23 
	gUrgCål
::
	$UrgCål
(Ë: 
	$pim∂
(
√w
 
pIm∂
)

25 
	}
}

28 
UrgCål
::~
	$UrgCål
()

30 
	}
}

33 
UrgCål
::
	$ˇ±uªRe˚ived
()

36 
	}
}

39 c⁄° * 
UrgCål
::
	$wh©
() const

41  
pim∂
->
urg_
.
	`wh©
();

42 
	}
}

45 
boﬁ
 
	gUrgCål
::
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

47  
pim∂
->
urg_
.
	`c⁄√˘
(
devi˚
, 
baudøã
);

48 
	}
}

51 
	gUrgCål
::
	$£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
)

53 
pim∂
->
urg_
.
	`£tC⁄√˘i⁄
(
c⁄
);

54 
	}
}

57 
C⁄√˘i⁄
* 
	gUrgCål
::
	$c⁄√˘i⁄
()

59  
pim∂
->
urg_
.
	`c⁄√˘i⁄
();

60 
	}
}

63 
	gUrgCål
::
	$disc⁄√˘
()

65 
pim∂
->
urg_
.
	`disc⁄√˘
();

66 
	}
}

69 
boﬁ
 
	gUrgCål
::
	$isC⁄√˘ed
() const

71  
pim∂
->
urg_
.
	`isC⁄√˘ed
();

72 
	}
}

75 
	gUrgCål
::
	$möDi°™˚
() const

77  
pim∂
->
urg_
.
	`möDi°™˚
();

78 
	}
}

81 
	gUrgCål
::
	$maxDi°™˚
() const

83  
pim∂
->
urg_
.
	`maxDi°™˚
();

84 
	}
}

87 
	gUrgCål
::
	$maxSˇnLöes
() const

89  
pim∂
->
urg_
.
	`maxSˇnLöes
();

90 
	}
}

93 
	gUrgCål
::
	$£tRëryTimes
(
size_t
 
times
)

95  
pim∂
->
urg_
.
	`£tRëryTimes
(
times
);

96 
	}
}

99 
	gUrgCål
::
	$£tC≠tuªsSize
(
size_t
 
size
)

101 
pim∂
->
urg_
.
	`£tC≠tuªsSize
(
size
);

102 
	}
}

105 
	gUrgCål
::
	$sˇnM£c
() const

107  
pim∂
->
urg_
.
	`sˇnM£c
();

108 
	}
}

111 
	gUrgCål
::
	$£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
)

113 
pim∂
->
urg_
.
	`£tC≠tuªMode
(
mode
);

114 
	}
}

117 
R™geC≠tuªMode
 
	gUrgCål
::
	$ˇ±uªMode
()

119  
pim∂
->
urg_
.
	`ˇ±uªMode
();

120 
	}
}

123 
	gUrgCål
::
	$£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
)

125 
pim∂
->
urg_
.
	`£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
);

126 
	}
}

129 
	gUrgCål
::
	$£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
)

131 
pim∂
->
urg_
.
	`£tC≠tuªFømeI¡îvÆ
(
öãrvÆ
);

132 
	}
}

135 
	gUrgCål
::
	$£tC≠tuªTimes
(
size_t
 
times
)

137 
pim∂
->
urg_
.
	`£tC≠tuªTimes
(
times
);

138 
	}
}

141 
size_t
 
	gUrgCål
::
	$ªmaöC≠tuªTimes
()

143  
pim∂
->
urg_
.
	`ªmaöC≠tuªTimes
();

144 
	}
}

147 
	gUrgCål
::
	$£tC≠tuªSkùLöes
(
size_t
 
skù_löes
)

149 
pim∂
->
urg_
.
	`£tC≠tuªSkùLöes
(
skù_löes
);

150 
	}
}

153 
	gUrgCål
::
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
)

155  
	gpim∂
->
	gurg_
.
ˇ±uª
(
d©a
, 
time°amp
);

159 
	gUrgCål
::
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

160 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

161 * 
time°amp
)

163  
	gpim∂
->
	gurg_
.
ˇ±uªWôhI¡ísôy
(
d©a
, 
öãnsôy_d©a
, 
time°amp
);

167 
	gUrgCål
::
	$°›
()

169 
pim∂
->
urg_
.
	`°›
();

170 
	}
}

173 
boﬁ
 
	gUrgCål
::
	$£tTime°amp
(
time°amp
, * 
ª•⁄£_m£c
,

174 * 
f‹˚_dñay_m£c
)

176  
pim∂
->
urg_
.
	`£tTime°amp
(
time°amp
, 
ª•⁄£_m£c
, 
f‹˚_dñay_m£c
);

177 
	}
}

180 
	gUrgCål
::
	$ª˚¡Time°amp
() const

182  
pim∂
->
urg_
.
	`ª˚¡Time°amp
();

183 
	}
}

186 
boﬁ
 
	gUrgCål
::
	$£tLa£rOuçut
(
boﬁ
 
⁄
)

188  
pim∂
->
urg_
.
	`£tLa£rOuçut
(
⁄
);

189 
	}
}

192 
	gUrgCål
::
	$ödex2ød
(c⁄° 
ödex
) const

194  
pim∂
->
urg_
.
	`ödex2ød
(
ödex
);

195 
	}
}

198 
	gUrgCål
::
	$ød2ödex
(c⁄° 
ødün
) const

200  
pim∂
->
urg_
.
	`ød2ödex
(
ødün
);

201 
	}
}

204 
	gUrgCål
::
	$£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
)

206 
pim∂
->
urg_
.
	`£tP¨amëî
(
∑ømëî
);

207 
	}
}

210 
R™geSís‹P¨amëî
 
	gUrgCål
::
	$∑ømëî
() const

212  
pim∂
->
urg_
.
	`∑ømëî
();

213 
	}
}

216 
boﬁ
 
	gUrgCål
::
	$lﬂdP¨amëî
()

218  
pim∂
->
urg_
.
	`lﬂdP¨amëî
();

219 
	}
}

222 
boﬁ
 
	gUrgCål
::
vîsi⁄Löes
(
°d
::
ve˘‹
<°d::
°rög
>& 
löes
)

224  
pim∂
->
urg_
.
vîsi⁄Löes
(
löes
);

228 
boﬁ
 
	gUrgCål
::
	$ªboŸ
()

230  
pim∂
->
urg_
.
	`ªboŸ
();

231 
	}
}

234 
boﬁ
 
	gUrgCål
::
	$ª£t
()

236  
pim∂
->
urg_
.
	`ªboŸ
();

237 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/urg/UrgCtrl.h

1 #i‚de‡
URG_CTRL_H


2 
	#URG_CTRL_H


	)

13 
	~"R™geSís‹.h
"

14 
	~"Co‹dö©e.h
"

17 
«me•a˚
 
	gqrk


19 
˛ass
 
	gC⁄√˘i⁄
;

27 
˛ass
 
	gUrgCål
 : 
public
 
Co‹dö©e
,Öubli¯
	gR™geSís‹


29 
	gpublic
:

32 
DeÁu…Baudøã
 = 115200,

33 
	gDeÁu…RëryTimes
 = 8,

34 
	gInföôy
 = 0,

36 
	gOff
 = 0,

37 
	gOn
 = 1,

40 
UrgCål
();

41 
	gvútuÆ
 ~
UrgCål
();

43 c⁄° * 
wh©
() const;

45 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
 = 
DeÁu…Baudøã
);

46 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
);

47 
C⁄√˘i⁄
* 
c⁄√˘i⁄
();

48 
disc⁄√˘
();

49 
boﬁ
 
isC⁄√˘ed
() const;

51 
möDi°™˚
() const;

52 
maxDi°™˚
() const;

53 
maxSˇnLöes
() const;

56 
£tRëryTimes
(
size_t
 
times
);

57 
£tC≠tuªsSize
(
size_t
 
size
);

58 
sˇnM£c
() const;

59 
£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
);

60 
R™geC≠tuªMode
 
ˇ±uªMode
();

61 
£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
);

62 
£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
);

63 
£tC≠tuªTimes
(
size_t
 
times
);

64 
size_t
 
ªmaöC≠tuªTimes
();

65 
£tC≠tuªSkùLöes
(
size_t
 
skù_löes
);

66 
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
 = 
NULL
);

67 
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

68 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

69 * 
time°amp
 = 
NULL
);

70 
°›
();

71 
boﬁ
 
£tTime°amp
(
time°amp
 = 0, * 
ª•⁄£_m£c
 = 
NULL
,

72 * 
f‹˚_dñay_m£c
 = 
NULL
);

73 
ª˚¡Time°amp
() const;

74 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
);

76 
ödex2ød
(c⁄° 
ödex
) const;

77 
ød2ödex
(c⁄° 
ødün
) const;

78 
£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
);

79 
R™geSís‹P¨amëî
 
∑ømëî
() const;

80 
boﬁ
 
lﬂdP¨amëî
();

81 
boﬁ
 
vîsi⁄Löes
(
°d
::
ve˘‹
<°d::
°rög
>& 
löes
);

82 
boﬁ
 
ªboŸ
();

83 
boﬁ
 
ª£t
();

86 
	g¥Ÿe˘ed
:

87 
vútuÆ
 
ˇ±uªRe˚ived
();

90 
	g¥iv©e
:

91 
UrgCål
(c⁄° UrgCål& 
rhs
);

92 
	gUrgCål
& 
	g›î©‹
 = (c⁄° 
UrgCål
& 
rhs
);

94 
	gpIm∂
;

95 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/urg/UrgDevice.cpp

12 
	~"UrgDevi˚.h
"

13 
	~"SîülDevi˚.h
"

14 
	~"ScùH™dÀr.h
"

15 
	~"R™geSís‹P¨amëî.h
"

16 
	~"ticks.h
"

17 
	~"Thªad.h
"

18 
	~"LockGu¨d.h
"

19 
	~"Lock.h
"

20 
	~<deque
>

21 
	~<limôs
>

22 
	~<cm©h
>

23 
	~<c°rög
>

24 
	~<c°dio
>

26 #ifde‡
MSC


27 
	#¢¥ötf
 
_¢¥ötf


	)

30 
usög
 
«me•a˚
 
	gqrk
;

31 
usög
 
«me•a˚
 
	g°d
;

34 
	g«me•a˚


37 
	gMdSˇnsMax
 = 100,

42 
	gUrgDevi˚
::
pIm∂


44 
	sSˇnD©a


46 
ve˘‹
<> 
Àngth_d©a
;

47 
	gtime°amp
;

48 
C≠tuªSëtögs
 
	g£âögs
;

50 
SˇnD©a
(Ë: 
time°amp
(-1)

56 ˛as†
	cC≠tuª


58 
	gpublic
:

59 
vútuÆ
 ~
C≠tuª
()

63 
vútuÆ
 
°rög
 
¸óãC≠tuªComm™d
() = 0;

64 
vútuÆ
 
ˇ±uª
(
ve˘‹
<>& 
d©a
, * 
time°amp
) = 0;

65 
vútuÆ
 
£tC≠tuªsSize
(
size_t
 
size
) = 0;

66 
vútuÆ
 
size_t
 
ˇ±uªsSize
() = 0;

67 
vútuÆ
 
size_t
 
ªmaöC≠tuªTimes
() = 0;

71 ˛as†
	cRawM™uÆC≠tuª
 : 
public
 
C≠tuª


73 
pIm∂
* 
pim∂_
;

75 
	gpublic
:

76 
RawM™uÆC≠tuª
(
pIm∂
* 
pim∂
Ë: 
pim∂_
(pimpl)

81 ~
RawM™uÆC≠tuª
()

86 
°rög
 
¸óãC≠tuªComm™d
()

91 
buf„r
[] = "GDbbbbeeeegg\n";

92 
¢¥ötf
(
buf„r
, 
°æí
(buffer) + 1, "GD%04d%04d%02u\n",

93 
pim∂_
->
ˇ±uª_begö_
,Öim∂_->
ˇ±uª_íd_
,

94 
pim∂_
->
ˇ±uª_skù_löes_
);

96  
	gbuf„r
;

100 
ˇ±uª
(
ve˘‹
<>& 
d©a
, * 
time°amp
)

102 
	gpim∂_
->
	gªåy_times_
 = 0;

105 
	gpim∂_
->
	gscù_
.
£tLa£rOuçut
(
ScùH™dÀr
::
On
);

108 
°rög
 
	gcomm™d
 = 
¸óãC≠tuªComm™d
();

109 
	gn
 = 
pim∂_
->
scù_
.
£nd
(
comm™d
.
c_°r
(),

110 
°©ic_ˇ°
<>(
comm™d
.
size
()));

111 i‡(
	gn
 !
°©ic_ˇ°
<>(
comm™d
.
size
())) {

112 
pim∂_
->
îr‹_mesßge_
 = "Síd comm™d:" + 
comm™d
 + " fail.";

116 
C≠tuªSëtögs
 
	g£âögs
;

117 
	gpim∂_
->
	gscù_
.
ª˚iveC≠tuªD©a
(
d©a
, 
£âögs
, 
time°amp
, 
NULL
);

118  
	g°©ic_ˇ°
<>(
	gd©a
.
size
());

122 
£tC≠tuªsSize
(
size_t
 
size
)

124 
	g°©ic_ˇ°
<>(
	gsize
);

130 
size_t
 
ˇ±uªsSize
()

136 
size_t
 
ªmaöC≠tuªTimes
()

143 ˛as†
	cRawAutoC≠tuª
 : 
public
 
C≠tuª


145 
pIm∂
* 
pim∂_
;

146 
size_t
 
	gˇ±uªs_size_
;

149 
	gpublic
:

150 
RawAutoC≠tuª
(
pIm∂
* 
pim∂
Ë: 
pim∂_
’im∂), 
ˇ±uªs_size_
(1)

155 ~
RawAutoC≠tuª
()

160 
°rög
 
¸óãC≠tuªComm™d
()

162 
	gbuf„r
[] = "MDbbbbeeeeggstt\n";

163 
¢¥ötf
(
buf„r
, 
°æí
(buffer) + 1, "MD%04d%04d%02u%01u%02u\n",

164 
pim∂_
->
ˇ±uª_begö_
,Öim∂_->
ˇ±uª_íd_
,

165 
pim∂_
->
ˇ±uª_skù_löes_
,

166 
pim∂_
->
ˇ±uª_‰ame_öãrvÆ_
,

167 (
pim∂_
->
ˇ±uª_times_
 > 99) ? 0 :Öimpl_->capture_times_);

169 
	gpim∂_
->
	gªmaö_times_
 = 
pim∂_
->
ˇ±uª_times_
;

171  
	gbuf„r
;

175 
ˇ±uª
(
ve˘‹
<>& 
d©a
, * 
time°amp
)

177 i‡(
	gpim∂_
->
	gªåy_times_
 >Öim∂_->
	gmax_ªåy_times_
) {

182 
LockGu¨d
 
gu¨d
(
pim∂_
->
muãx_
);

183 i‡((! 
	gpim∂_
->
	gthªad_
.
isRu¬ög
()Ë&&Öim∂_->
	gd©a_buf„r_
.
em±y
()) {

184 
	gpim∂_
->
	gthªad_
.
run
(1);

188 i‡(
	gpim∂_
->
	gd©a_buf„r_
.
em±y
()) {

189 i‡(
	gpim∂_
->
	gövÆid_∑ckë_
) {

195 
sw≠
(
d©a
, 
pim∂_
->
d©a_buf„r_
.
‰⁄t
().
Àngth_d©a
);

196 i‡(
	gtime°amp
) {

197 *
	gtime°amp
 = 
pim∂_
->
d©a_buf„r_
.
‰⁄t
().
time°amp
;

200 
	gpim∂_
->
	gd©a_buf„r_
.
p›_‰⁄t
();

202  
	g°©ic_ˇ°
<>(
	gd©a
.
size
());

206 
£tC≠tuªsSize
(
size_t
 
size
)

208 
	gˇ±uªs_size_
 = 
size
;

212 
size_t
 
ˇ±uªsSize
()

214  
	gˇ±uªs_size_
;

218 
size_t
 
ªmaöC≠tuªTimes
()

220 i‡(
	gpim∂_
->
	gˇ±uª_times_
 == 0) {

221  
numîic_limôs
<
size_t
>::
max
();

224 
LockGu¨d
 
gu¨d
(
pim∂_
->
muãx_
);

225  
	gpim∂_
->
	gªmaö_times_
;

230 ˛as†
	cRawI¡ísôyC≠tuª
 : 
public
 
C≠tuª


232 
pIm∂
* 
pim∂_
;

233 
size_t
 
	gˇ±uªs_size_
;

236 
	gpublic
:

237 
RawI¡ísôyC≠tuª
(
pIm∂
* 
pim∂
Ë: 
pim∂_
’im∂), 
ˇ±uªs_size_
(1)

242 ~
RawI¡ísôyC≠tuª
()

247 
°rög
 
¸óãC≠tuªComm™d
()

249 
	gbuf„r
[] = "MEbbbbeeeeggstt\n";

250 i‡((! 
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("URG-04LX")) ||

251 (! 
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("URG-04LX-UG01")) ||

252 (! 
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("UBG-04LX-F01"))) {

254 
¢¥ötf
(
buf„r
, 
°æí
(buffer) + 1, "MD%04d%04dFF%01u%02u\n",

255 
pim∂_
->
ˇ±uª_begö_
,Öim∂_->
ˇ±uª_íd_
,

256 
pim∂_
->
ˇ±uª_‰ame_öãrvÆ_
,

257 (
pim∂_
->
ˇ±uª_times_
 > 99) ? 0 :Öimpl_->capture_times_);

261 
¢¥ötf
(
buf„r
, 
°æí
(buffer) + 1, "ME%04d%04d%02u%01u%02u\n",

262 
pim∂_
->
ˇ±uª_begö_
,Öim∂_->
ˇ±uª_íd_
,

263 
pim∂_
->
ˇ±uª_skù_löes_
,

264 
pim∂_
->
ˇ±uª_‰ame_öãrvÆ_
,

265 (
pim∂_
->
ˇ±uª_times_
 > 99) ? 0 :Öimpl_->capture_times_);

267 
	gpim∂_
->
	gªmaö_times_
 = 
pim∂_
->
ˇ±uª_times_
;

269  
	gbuf„r
;

273 
ˇ±uª
(
ve˘‹
<>& 
d©a
, * 
time°amp
)

275 i‡(
	gpim∂_
->
	gªåy_times_
 >Öim∂_->
	gmax_ªåy_times_
) {

279 
LockGu¨d
 
gu¨d
(
pim∂_
->
muãx_
);

281 i‡((! 
	gpim∂_
->
	gthªad_
.
isRu¬ög
()Ë&&Öim∂_->
	gd©a_buf„r_
.
em±y
()) {

282 
	gpim∂_
->
	gthªad_
.
run
(1);

286 i‡(
	gpim∂_
->
	gd©a_buf„r_
.
em±y
()) {

287 i‡(
	gpim∂_
->
	gövÆid_∑ckë_
) {

293 
sw≠
(
d©a
, 
pim∂_
->
d©a_buf„r_
.
‰⁄t
().
Àngth_d©a
);

294 i‡(
	gtime°amp
) {

295 *
	gtime°amp
 = 
pim∂_
->
d©a_buf„r_
.
‰⁄t
().
time°amp
;

297 
C≠tuªSëtögs
 
	g£âögs
 = 
pim∂_
->
d©a_buf„r_
.
‰⁄t
().
£âögs
;

298 
	gpim∂_
->
	gd©a_buf„r_
.
p›_‰⁄t
();

299 
	gpim∂_
->
	göãnsôy_d©a_
.
	gtime°amp
 = *
time°amp
;

300 
	gpim∂_
->
	göãnsôy_d©a_
.
	gÀngth_d©a
.
˛ór
();

302 i‡(
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("URG-04LX") &&

303 
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("URG-04LX-UG01") &&

304 
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("UBG-04LX-F01")) {

306 
	gskù_löes
 = 
£âögs
.
skù_löes
;

307 
	gmö_Àngth
 = 
pim∂_
->
∑ømëîs_
.
di°™˚_mö
;

308 
	gn
 = 
d©a
.
size
(Ë/ 
skù_löes
 / 2;

309 
	gpim∂_
->
	göãnsôy_d©a_
.
	gÀngth_d©a
.
ª£rve
(
n
 * 
skù_löes
);

311 
	gfûÀd
 = 0;

312 
	gi
 = 0; i < 
	gn
; ++i) {

313 
size_t
 
	gödex
 = 2 * 
skù_löes
 * 
i
;

314 
	gÀngth
 = 
d©a
[
ödex
];

315 
	göãnsôy_vÆue
 =

316 (
Àngth
 < 
mö_Àngth
Ë? 0 : 
d©a
[
ödex
 + 
skù_löes
];

317 
	gj
 = 0; j < 
	gskù_löes
; ++j) {

318 
	gpim∂_
->
	göãnsôy_d©a_
.
	gÀngth_d©a
.
push_back
(
öãnsôy_vÆue
);

319 
	gd©a
[
fûÀd
++] = 
Àngth
;

322 
	gve˘‹
<>::
ôî©‹
 
fú°_ô
 = 
d©a
.
begö
(Ë+ (d©a.
size
() / 2);

323 
	gd©a
.
îa£
(
fú°_ô
, 
d©a
.
íd
());

325 } i‡((! 
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("URG-04LX")) ||

326 (! 
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("URG-04LX-UG01")) ||

327 (! 
	gpim∂_
->
	gurg_ty≥_
.
com∑ª
("UBG-04LX-F01"))) {

329 
size_t
 
	gn
 = 
d©a
.
size
();

330 
	gmö_Àngth
 = 
pim∂_
->
∑ømëîs_
.
di°™˚_mö
;

331 
	gpim∂_
->
	göãnsôy_d©a_
.
	gÀngth_d©a
.
ª£rve
(
d©a
.
size
());

332 
size_t
 
	goff£t
 = 
pim∂_
->
ˇ±uª_begö_
 & 0x1;

333 
size_t
 
	gi
 = 0; i < 
	gn
; i += 2) {

334 
size_t
 
ödex
 = 
i
 + 
off£t
;

335 
	gÀngth
 = 
d©a
[
ödex
];

336 i‡((
	gödex
 + 1Ë< 
	gn
) {

337 
	göãnsôy_vÆue
 = (
Àngth
 < 
mö_Àngth
Ë? 0 : 
d©a
[
ödex
 + 1];

338 
	gpim∂_
->
	göãnsôy_d©a_
.
	gÀngth_d©a
.
push_back
(
öãnsôy_vÆue
);

339 
	gpim∂_
->
	göãnsôy_d©a_
.
	gÀngth_d©a
.
push_back
(
öãnsôy_vÆue
);

340 
	gd©a
[
ödex
 + 1] = 
Àngth
;

347  
	g°©ic_ˇ°
<>(
	gd©a
.
size
());

351 
£tC≠tuªsSize
(
size_t
 
size
)

353 
	gˇ±uªs_size_
 = 
size
;

357 
size_t
 
ˇ±uªsSize
()

359  
	gˇ±uªs_size_
;

362 
size_t
 
ªmaöC≠tuªTimes
()

364 i‡(
	gpim∂_
->
	gˇ±uª_times_
 == 0) {

365  
numîic_limôs
<
size_t
>::
max
();

368 
LockGu¨d
 
gu¨d
(
pim∂_
->
muãx_
);

369  
	gpim∂_
->
	gªmaö_times_
;

374 
°rög
 
	gîr‹_mesßge_
;

375 
UrgDevi˚
* 
	g∑ª¡_
;

376 
C⁄√˘i⁄
* 
	gc⁄_
;

377 
SîülDevi˚
* 
	g£rül_
;

378 
ScùH™dÀr
 
	gscù_
;

379 
R™geSís‹P¨amëî
 
	g∑ømëîs_
;

380 
°rög
 
	gurg_ty≥_
;

381 
	gª˚¡_time°amp_
;

382 
	gtime°amp_off£t_
;

384 
R™geC≠tuªMode
 
	gˇ±uª_mode_
;

385 
RawM™uÆC≠tuª
 
	gm™uÆ_ˇ±uª_
;

386 
RawAutoC≠tuª
 
	gauto_ˇ±uª_
;

387 
RawI¡ísôyC≠tuª
 
	göãnsôy_ˇ±uª_
;

388 
C≠tuª
* 
	gˇ±uª_
;

389 
Thªad
 
	gthªad_
;

390 
Lock
 
	gmuãx_
;

392 
	gdeque
<
	gSˇnD©a
> 
	gd©a_buf„r_
;

393 
SˇnD©a
 
	göãnsôy_d©a_
;

395 
	gˇ±uª_begö_
;

396 
	gˇ±uª_íd_
;

397 
size_t
 
	gˇ±uª_skù_löes_
;

398 
	gˇ±uª_skù_‰ames_
;

400 
size_t
 
	gˇ±uª_‰ame_öãrvÆ_
;

401 
size_t
 
	gˇ±uª_times_
;

402 
size_t
 
	gªmaö_times_
;

403 
boﬁ
 
	gövÆid_∑ckë_
;

404 
size_t
 
	gmax_ªåy_times_
;

405 
size_t
 
	gªåy_times_
;

407 
	gba£_time°amp_
;

408 
	g¥e_time°amp_
;

411 
	$pIm∂
(
UrgDevi˚
* 
∑ª¡
)

412 : 
	`îr‹_mesßge_
("nÿîr‹."), 
	`∑ª¡_
(
∑ª¡
),

413 
	`c⁄_
(
NULL
), 
	`£rül_
(NULL), 
	`urg_ty≥_
(""),

414 
	`ª˚¡_time°amp_
(0), 
	`time°amp_off£t_
(0),

415 
	`ˇ±uª_mode_
(
M™uÆC≠tuª
),

416 
	`m™uÆ_ˇ±uª_
(
this
), 
	`auto_ˇ±uª_
(this),

417 
	`öãnsôy_ˇ±uª_
(
this
), 
	`ˇ±uª_
(&
m™uÆ_ˇ±uª_
),

418 
	`thªad_
(&
ˇ±uª_thªad
, 
this
),

419 
	`ˇ±uª_begö_
(0), 
	`ˇ±uª_íd_
(0),

420 
	`ˇ±uª_skù_löes_
(1), 
	`ˇ±uª_skù_‰ames_
(0),

421 
	`ˇ±uª_‰ame_öãrvÆ_
(0), 
	`ˇ±uª_times_
(0),

422 
	`ªmaö_times_
(0), 
	`övÆid_∑ckë_
(
Ál£
),

423 
	`max_ªåy_times_
(
DeÁu…RëryTimes
), 
	`ªåy_times_
(0),

424 
	`ba£_time°amp_
(0), 
	$¥e_time°amp_
(0)

426 
	}
}

429 ~
	$pIm∂
()

431 
	`disc⁄√˘
();

435 
dñëe
 
£rül_
;

436 
	}
}

439 
	$öôülizeSîül
()

441 i‡(! 
£rül_
) {

442 
£rül_
 = 
√w
 
SîülDevi˚
;

444 
c⁄_
 = 
£rül_
;

445 
	}
}

448 
boﬁ
 
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

450 
	`disc⁄√˘
();

451 i‡(! 
c⁄_
) {

452 
	`öôülizeSîül
();

454 
scù_
.
	`£tC⁄√˘i⁄
(
c⁄_
);

457 i‡(! 
scù_
.
	`c⁄√˘
(
devi˚
, 
baudøã
)) {

458 
îr‹_mesßge_
 = 
scù_
.
	`wh©
();

459  
Ál£
;

462 i‡(! 
	`lﬂdP¨amëî
()) {

463  
Ál£
;

465 
	`upd©eC≠tuªP¨amëîs
();

467  
åue
;

468 
	}
}

471 
boﬁ
 
	$lﬂdP¨amëî
()

474 
R™geSís‹P¨amëî
 
∑ømëîs
;

475 i‡(! 
scù_
.
	`lﬂdP¨amëî
(
∑ømëîs
)) {

476 
îr‹_mesßge_
 = 
scù_
.
	`wh©
();

477  
Ál£
;

479 
	`sw≠
(
∑ømëîs_
, 
∑ømëîs
);

481 
size_t
 
ty≥_Àngth
 = 
	`mö
(
∑ømëîs_
.
modñ
.
	`föd
('('),

482 
∑ømëîs_
.
modñ
.
	`föd
('['));

483 
urg_ty≥_
 = 
∑ømëîs_
.
modñ
.
	`sub°r
(0, 
ty≥_Àngth
);

488  
åue
;

489 
	}
}

492 
	$disc⁄√˘
()

494 
	`°›
();

495 i‡(
c⁄_
) {

496 
c⁄_
->
	`disc⁄√˘
();

498 
	}
}

501 
	$upd©eC≠tuªP¨amëîs
()

503 
ˇ±uª_begö_
 = 
∑ømëîs_
.
¨ó_mö
;

504 
ˇ±uª_íd_
 = 
∑ømëîs_
.
¨ó_max
;

505 
	}
}

509 
	$ˇ±uª_thªad
(* 
¨gs
)

511 
pIm∂
* 
obj
 = 
°©ic_ˇ°
<pIm∂*>(
¨gs
);

514 
°rög
 
ˇ±uª_comm™d
 = 
obj
->
ˇ±uª_
->
	`¸óãC≠tuªComm™d
();

515 i‡(
ˇ±uª_comm™d
.
	`em±y
()) {

517 
obj
->
îr‹_mesßge_
 = "This urg isÇot support intensity capture.";

520 
n
 = 
obj
->
scù_
.
	`£nd
(
ˇ±uª_comm™d
.
	`c_°r
(),

521 
°©ic_ˇ°
<>(
ˇ±uª_comm™d
.
	`size
()));

522 i‡(
n
 !
°©ic_ˇ°
<>(
ˇ±uª_comm™d
.
	`size
())) {

523 
obj
->
îr‹_mesßge_
 = 
ˇ±uª_comm™d
 + " fail.";

524 ++
obj
->
ªåy_times_
;

529 
SˇnD©a
 
d©a
;

530 
ªmaö_times
 = 
MdSˇnsMax
;

531 
tŸÆ_times
 = 0;

534 
obj
->
övÆid_∑ckë_
 = 
Ál£
;

535 
C≠tuªTy≥
 
ty≥
 =

536 
obj
->
scù_
.
	`ª˚iveC≠tuªD©a
(
d©a
.
Àngth_d©a
, d©a.
£âögs
,

537 &
d©a
.
time°amp
,

538 &
ªmaö_times
, &
tŸÆ_times
);

539 i‡(
ty≥
 =
Mx_Rïly
) {

544 i‡(! ((
ty≥
 =
MD
Ë|| (ty≥ =
MS
Ë|| (ty≥ =
ME
))) {

546 
obj
->
övÆid_∑ckë_
 = 
åue
;

547 ++
obj
->
ªåy_times_
;

550 
obj
->
ªåy_times_
 = 0;

553 i‡((
d©a
.
time°amp
 >0Ë&& (d©a.time°am∞< 
obj
->
¥e_time°amp_
)) {

554 
obj
->
ba£_time°amp_
 += 1 << 24;

556 
obj
->
¥e_time°amp_
 = 
d©a
.
time°amp
;

557 
d©a
.
time°amp
 +
obj
->
ba£_time°amp_
;

559 
LockGu¨d
 
	`gu¨d
(
obj
->
muãx_
);

560 
deque
<
SˇnD©a
>& 
d©a_buf„r
 = 
obj
->
d©a_buf„r_
;

563 
cuºít_size
 = 
°©ic_ˇ°
<>(
d©a_buf„r
.
	`size
());

564 
îa£_size
 =

565 
cuºít_size
 - 
°©ic_ˇ°
<>(
obj
->
ˇ±uª_
->
	`ˇ±uªsSize
());

566 i‡(
îa£_size
 > 0) {

567 
d©a_buf„r
.
	`îa£
(d©a_buf„r.
	`begö
(),

568 
d©a_buf„r
.
	`begö
(Ë+ 
îa£_size
);

572 
SˇnD©a
 
dummy_d©a
;

573 
d©a_buf„r
.
	`push_back
(
dummy_d©a
);

574 
	`sw≠
(
d©a_buf„r
.
	`back
(), 
d©a
);

576 i‡((
obj
->
ˇ±uª_times_
 > 0Ë&& (
ªmaö_times
 < 
MdSˇnsMax
)) {

577 
obj
->
ªmaö_times_
 = 
ªmaö_times
;

579 --
obj
->
ªmaö_times_
;

580 i‡(
obj
->
ªmaö_times_
 == 0) {

581 
obj
->
scù_
.
	`£tLa£rOuçut
(
Off
);

584 
obj
->
∑ª¡_
->
	`ˇ±uªRe˚ived
();

586 i‡((
tŸÆ_times
 > 0Ë&& (
ªmaö_times
 == 0)) {

593 
	}
}

596 
ˇ±uª
(
ve˘‹
<>& 
d©a
, * 
time°amp
)

598 
	gøw_time°amp
 = 0;

599 
	gn
 = 
ˇ±uª_
->
ˇ±uª
(
d©a
, &
øw_time°amp
);

600 i‡(
	gn
 < 0) {

601 
	gîr‹_mesßge_
 = 
scù_
.
wh©
();

602  
	gn
;

605 
	gª˚¡_time°amp_
 = 
øw_time°amp
 - 
time°amp_off£t_
;

606 i‡(
	gtime°amp
) {

607 *
	gtime°amp
 = 
ª˚¡_time°amp_
;

609  
	gn
;

613 
ˇ±uªWôhI¡ísôy
(
ve˘‹
<>& 
d©a
,

614 
ve˘‹
<>& 
öãnsôy_d©a
,

615 * 
time°amp
)

617 
	gn
 = 
ˇ±uª
(
d©a
, 
time°amp
);

618 i‡(
	gn
 < 0) {

619  
	gn
;

621  
ˇ±uªI¡ísôy
(
öãnsôy_d©a
, 
NULL
);

625 
ˇ±uªI¡ísôy
(
ve˘‹
<>& 
öãnsôy_d©a
, * 
time°amp
)

627 i‡(
	gˇ±uª_mode_
 !
I¡ísôyC≠tuª
) {

628 
îr‹_mesßge_
 = "please call setCaptureMode(IntensityCapture).";

632 i‡(
	göãnsôy_d©a_
.
	gÀngth_d©a
.
em±y
()) {

636 i‡(
	gtime°amp
) {

637 *
	gtime°amp
 = 
öãnsôy_d©a_
.
time°amp
;

638 
	gª˚¡_time°amp_
 = *
time°amp
;

640 
sw≠
(
öãnsôy_d©a
, 
öãnsôy_d©a_
.
Àngth_d©a
);

641 
	göãnsôy_d©a_
.
	gÀngth_d©a
.
˛ór
();

643  
	g°©ic_ˇ°
<>(
	göãnsôy_d©a
.
size
());

647 
boﬁ
 
	$£tTime°amp
(
time°amp
, * 
ª•⁄£_m£c
, * 
f‹˚_dñay_m£c
)

649 
¥ï¨e_ticks
 = 
	`ticks
();

653 i‡(! 
scù_
.
	`£tRawTime°ampMode
(
åue
)) {

654  
Ál£
;

658 
urg_time°amp
 = 0;

659 
fú°_ticks
 = 
	`ticks
();

660 i‡(
scù_
.
	`øwTime°amp
(&
urg_time°amp
)) {

664 
dñay
 = 
	`ticks
(Ë- 
fú°_ticks
;

665 i‡(
f‹˚_dñay_m£c
) {

666 
dñay
 = *
f‹˚_dñay_m£c
;

668 i‡(
ª•⁄£_m£c
) {

669 *
ª•⁄£_m£c
 = 
dñay
;

671 
time°amp_off£t_
 =

672 (
urg_time°amp
 + (
dñay
 / 2))

673 - (
time°amp
 + (
fú°_ticks
 - 
¥ï¨e_ticks
));

677 i‡(! 
scù_
.
	`£tRawTime°ampMode
(
Ál£
)) {

678  
Ál£
;

681  
åue
;

682 
	}
}

685 
	$ød2ödex
(c⁄° 
ødün
) const

687 
¨ó_tŸÆ
 = 
∑ømëîs_
.area_total;

688 
ödex
 =

689 
°©ic_ˇ°
<>(
	`Êo‹
(((
ødün
 * 
¨ó_tŸÆ
Ë/ (2.0 * 
M_PI
)) + 0.5)

690 + 
∑ømëîs_
.
¨ó_‰⁄t
);

692 i‡(
ödex
 < 0) {

693 
ödex
 = 0;

694 } i‡(
ödex
 > 
∑ømëîs_
.
¨ó_max
) {

695 
ödex
 = 
∑ømëîs_
.
¨ó_max
;

697  
ödex
;

698 
	}
}

701 
boﬁ
 
	$isC⁄√˘ed
() const

703  (
c⁄_
 =
NULL
Ë? 
Ál£
 : c⁄_->
	`isC⁄√˘ed
();

704 
	}
}

707 
	$°›
()

709 i‡(! 
	`isC⁄√˘ed
()) {

713 i‡(
ˇ±uª_mode_
 =
M™uÆC≠tuª
) {

718 
scù_
.
	`£tLa£rOuçut
(
ScùH™dÀr
::
Off
);

721 i‡(
thªad_
.
	`isRu¬ög
()) {

722 
thªad_
.
	`waô
();

724 
	}
}

727 
	$˛ór
()

729 
LockGu¨d
 
	`gu¨d
(
muãx_
);

730 
d©a_buf„r_
.
	`˛ór
();

731 
öãnsôy_d©a_
.
Àngth_d©a
.
	`˛ór
();

732 
	}
}

736 
	gUrgDevi˚
::
	$UrgDevi˚
(Ë: 
	`pim∂
(
√w
 
	$pIm∂
(
this
))

738 
	}
}

741 
UrgDevi˚
::~
	$UrgDevi˚
()

743 
	}
}

746 
UrgDevi˚
::
	$ˇ±uªRe˚ived
()

749 
	}
}

752 c⁄° * 
UrgDevi˚
::
	$wh©
() const

754  
pim∂
->
îr‹_mesßge_
.
	`c_°r
();

755 
	}
}

758 
boﬁ
 
	gUrgDevi˚
::
	$c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
)

760  
pim∂
->
	`c⁄√˘
(
devi˚
, 
baudøã
);

761 
	}
}

764 
	gUrgDevi˚
::
	$£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
)

766 
pim∂
->
£rül_
 = 
NULL
;

767 
pim∂
->
c⁄_
 = 
c⁄
;

768 
pim∂
->
scù_
.
	`£tC⁄√˘i⁄
(
c⁄
);

769 
	}
}

772 
C⁄√˘i⁄
* 
	gUrgDevi˚
::
	$c⁄√˘i⁄
()

774  
pim∂
->
c⁄_
;

775 
	}
}

778 
	gUrgDevi˚
::
	$disc⁄√˘
()

780 
pim∂
->
	`disc⁄√˘
();

781 
	}
}

784 
boﬁ
 
	gUrgDevi˚
::
	$isC⁄√˘ed
() const

786  
pim∂
->
	`isC⁄√˘ed
();

787 
	}
}

790 
	gUrgDevi˚
::
	$möDi°™˚
() const

792  
pim∂
->
∑ømëîs_
.
di°™˚_mö
;

793 
	}
}

796 
	gUrgDevi˚
::
	$maxDi°™˚
() const

798  
pim∂
->
∑ømëîs_
.
di°™˚_max
;

799 
	}
}

802 
	gUrgDevi˚
::
	$maxSˇnLöes
() const

805  
pim∂
->
∑ømëîs_
.
¨ó_max
 + 1;

806 
	}
}

809 
	gUrgDevi˚
::
	$£tRëryTimes
(
size_t
 
times
)

811 
pim∂
->
max_ªåy_times_
 = 
times
;

812 
	}
}

815 
	gUrgDevi˚
::
	$£tC≠tuªsSize
(
size_t
 
size
)

817 
pim∂
->
ˇ±uª_
->
	`£tC≠tuªsSize
(
size
);

818 
	}
}

821 
size_t
 
	gUrgDevi˚
::
	$ªmaöC≠tuªTimes
()

823  
pim∂
->
ˇ±uª_
->
	`ªmaöC≠tuªTimes
();

824 
	}
}

827 
	gUrgDevi˚
::
	$sˇnM£c
() const

829 
sˇn_Ωm
 = 
pim∂
->
∑ømëîs_
.scan_rpm;

830  (
sˇn_Ωm
 <= 0) ? 1 : (1000 * 60 / scan_rpm);

831 
	}
}

834 
	gUrgDevi˚
::
	$£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
)

837 
	`°›
();

838 
pim∂
->
	`˛ór
();

840 i‡(
mode
 =
M™uÆC≠tuª
) {

841 
pim∂
->
ˇ±uª_
 = &pim∂->
m™uÆ_ˇ±uª_
;

843 } i‡(
mode
 =
AutoC≠tuª
) {

844 
pim∂
->
ˇ±uª_
 = &pim∂->
auto_ˇ±uª_
;

846 } i‡(
mode
 =
I¡ísôyC≠tuª
) {

847 
pim∂
->
ˇ±uª_
 = &pim∂->
öãnsôy_ˇ±uª_
;

850 
pim∂
->
ˇ±uª_mode_
 = 
mode
;

851 
	}
}

854 
R™geC≠tuªMode
 
	gUrgDevi˚
::
	$ˇ±uªMode
()

856  
pim∂
->
ˇ±uª_mode_
;

857 
	}
}

860 
	gUrgDevi˚
::
	$£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
)

865 
	`°›
();

866 
pim∂
->
	`˛ór
();

868 
pim∂
->
ˇ±uª_begö_
 = 
begö_ödex
;

869 
pim∂
->
ˇ±uª_íd_
 = 
íd_ödex
;

870 
	}
}

873 
	gUrgDevi˚
::
	$£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
)

878 
	`°›
();

879 
pim∂
->
	`˛ór
();

881 
pim∂
->
ˇ±uª_‰ame_öãrvÆ_
 = 
öãrvÆ
;

882 
	}
}

885 
	gUrgDevi˚
::
	$£tC≠tuªTimes
(
size_t
 
times
)

890 
	`°›
();

891 
pim∂
->
	`˛ór
();

894 
pim∂
->
ˇ±uª_times_
 = 
times
;

895 
	}
}

899 
	gUrgDevi˚
::
	$£tC≠tuªSkùLöes
(
size_t
 
skù_löes
)

902 
	`°›
();

903 
pim∂
->
	`˛ór
();

905 
pim∂
->
ˇ±uª_skù_löes_
 = 
skù_löes
;

906 
	}
}

909 
	gUrgDevi˚
::
ˇ±uª
(
ve˘‹
<>& 
d©a
, * 
time°amp
)

913  
	gpim∂
->
ˇ±uª
(
d©a
, 
time°amp
);

917 
	gUrgDevi˚
::
ˇ±uªWôhI¡ísôy
(
ve˘‹
<>& 
d©a
,

918 
ve˘‹
<>& 
öãnsôy_d©a
,

919 * 
time°amp
)

922  
	gpim∂
->
ˇ±uªWôhI¡ísôy
(
d©a
, 
öãnsôy_d©a
, 
time°amp
);

926 
	gUrgDevi˚
::
	$°›
()

928 
pim∂
->
	`°›
();

929 
	}
}

932 
boﬁ
 
	gUrgDevi˚
::
	$£tTime°amp
(
ticks
, * 
ª•⁄£_m£c
,

933 * 
f‹˚_dñay_m£c
)

937  
pim∂
->
	`£tTime°amp
(
ticks
, 
ª•⁄£_m£c
, 
f‹˚_dñay_m£c
);

938 
	}
}

941 
	gUrgDevi˚
::
	$ª˚¡Time°amp
() const

943  
pim∂
->
ª˚¡_time°amp_
;

944 
	}
}

947 
boﬁ
 
	gUrgDevi˚
::
	$£tLa£rOuçut
(
boﬁ
 
⁄
)

951  
pim∂
->
scù_
.
	`£tLa£rOuçut
(
⁄
, 
ScùH™dÀr
::
F‹˚
);

952 
	}
}

955 
	gUrgDevi˚
::
	$ödex2ød
(c⁄° 
ödex
) const

957 
ödex_‰om_‰⁄t
 = 
ödex
 - 
pim∂
->
∑ømëîs_
.
¨ó_‰⁄t
;

958  
ödex_‰om_‰⁄t
 * (2.0 * 
M_PI
Ë/ 
pim∂
->
∑ømëîs_
.
¨ó_tŸÆ
;

959 
	}
}

962 
	gUrgDevi˚
::
	$ød2ödex
(c⁄° 
ødün
) const

964  
pim∂
->
	`ød2ödex
(
ødün
);

965 
	}
}

968 
	gUrgDevi˚
::
	$£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
)

970 
pim∂
->
∑ømëîs_
 = 
∑ømëî
;

971 
pim∂
->
	`upd©eC≠tuªP¨amëîs
();

972 
	}
}

975 
R™geSís‹P¨amëî
 
	gUrgDevi˚
::
	$∑ømëî
() const

977  
pim∂
->
∑ømëîs_
;

978 
	}
}

981 
boﬁ
 
	gUrgDevi˚
::
	$lﬂdP¨amëî
()

983  
pim∂
->
	`lﬂdP¨amëî
();

984 
	}
}

987 
boﬁ
 
	gUrgDevi˚
::
vîsi⁄Löes
(
ve˘‹
<
°rög
>& 
löes
)

989 i‡(! 
isC⁄√˘ed
()) {

990  
Ál£
;

993  
	gpim∂
->
	gscù_
.
vîsi⁄Löes
(
löes
);

997 
boﬁ
 
	gUrgDevi˚
::
	$ªboŸ
()

999 
UrgDevi˚
::
	`£tLa£rOuçut
(
Off
);

1002 
i
 = 0; i < 2; ++i) {

1003 
pim∂
->
scù_
.
	`£nd
("RB\n", 3);

1006 
RB_Timeout
 = 1000,

1008 
ªcv_buf„r
[3];

1009 
£nd_n
 = 
pim∂
->
scù_
.
	`ªcv
(
ªcv_buf„r
, 3, 
RB_Timeout
);

1010 i‡(
£nd_n
 != 3) {

1011  
Ál£
;

1013 i‡(
	`°∫cmp
(
ªcv_buf„r
, "RB\n", 3)) {

1014  
Ál£
;

1018 
UrgDevi˚
::
	`disc⁄√˘
();

1020  
åue
;

1021 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/urg/UrgDevice.h

1 #i‚de‡
QRK_URG_DEVICE_H


2 
	#QRK_URG_DEVICE_H


	)

13 
	~"R™geSís‹.h
"

14 
	~"Co‹dö©e.h
"

17 
«me•a˚
 
	gqrk


19 
˛ass
 
	gC⁄√˘i⁄
;

23 
˛ass
 
	gUrgDevi˚
 : 
public
 
Co‹dö©e
,Öubli¯
	gR™geSís‹


25 
	gpublic
:

29 
DeÁu…Baudøã
 = 115200,

30 
	gDeÁu…RëryTimes
 = 8,

31 
	gInföôy
 = 0,

33 
	gOff
 = 0,

34 
	gOn
 = 1,

37 
UrgDevi˚
();

38 
	gvútuÆ
 ~
UrgDevi˚
();

40 c⁄° * 
wh©
() const;

42 
boﬁ
 
c⁄√˘
(c⁄° * 
devi˚
, 
baudøã
 = 
DeÁu…Baudøã
);

43 
£tC⁄√˘i⁄
(
C⁄√˘i⁄
* 
c⁄
);

44 
C⁄√˘i⁄
* 
c⁄√˘i⁄
();

45 
disc⁄√˘
();

46 
boﬁ
 
isC⁄√˘ed
() const;

48 
möDi°™˚
() const;

49 
maxDi°™˚
() const;

50 
maxSˇnLöes
() const;

62 
£tRëryTimes
(
size_t
 
times
);

70 
£tC≠tuªsSize
(
size_t
 
size
);

78 
sˇnM£c
() const;

88 
£tC≠tuªMode
(
R™geC≠tuªMode
 
mode
);

98 
R™geC≠tuªMode
 
ˇ±uªMode
();

109 
£tC≠tuªR™ge
(
begö_ödex
, 
íd_ödex
);

120 
£tC≠tuªFømeI¡îvÆ
(
size_t
 
öãrvÆ
);

133 
£tC≠tuªTimes
(
size_t
 
times
);

143 
size_t
 
ªmaöC≠tuªTimes
();

169 
£tC≠tuªSkùLöes
(
size_t
 
skù_löes
);

172 
ˇ±uª
(
°d
::
ve˘‹
<>& 
d©a
, * 
time°amp
 = 
NULL
);

180 
ˇ±uªWôhI¡ísôy
(
°d
::
ve˘‹
<>& 
d©a
,

181 
°d
::
ve˘‹
<>& 
öãnsôy_d©a
,

182 * 
time°amp
 = 
NULL
);

190 
°›
();

193 
boﬁ
 
£tTime°amp
(
time°amp
 = 0, * 
ª•⁄£_m£c
 = 
NULL
,

194 * 
f‹˚_dñay_m£c
 = 
NULL
);

196 
ª˚¡Time°amp
() const;

204 
boﬁ
 
£tLa£rOuçut
(boﬁ 
⁄
);

206 
ödex2ød
(c⁄° 
ödex
) const;

207 
ød2ödex
(c⁄° 
ødün
) const;

209 
£tP¨amëî
(c⁄° 
R™geSís‹P¨amëî
& 
∑ømëî
);

210 
R™geSís‹P¨amëî
 
∑ømëî
() const;

219 
boﬁ
 
lﬂdP¨amëî
();

233 
boﬁ
 
vîsi⁄Löes
(
°d
::
ve˘‹
<°d::
°rög
>& 
löes
);

241 
boﬁ
 
ªboŸ
();

244 
	g¥Ÿe˘ed
:

245 
vútuÆ
 
ˇ±uªRe˚ived
();

248 
	g¥iv©e
:

249 
UrgDevi˚
(c⁄° UrgDevi˚& 
rhs
);

250 
	gUrgDevi˚
& 
	g›î©‹
 = (c⁄° 
UrgDevi˚
& 
rhs
);

252 
	gpIm∂
;

253 
	g°d
::
auto_±r
<
pIm∂
> 
pim∂
;

	@processors/laser/urg-0.8.18/src/cpp/urg/UrgUsbCom.cpp

10 
	~"UrgUsbCom.h
"

11 
	~"Dëe˘OS.h
"

12 
	~"isUsögComDrivî.h
"

14 
usög
 
«me•a˚
 
	gqrk
;

15 
usög
 
«me•a˚
 
	g°d
;

18 
	gUrgUsbCom
::
	$UrgUsbCom
()

20 
	}
}

23 
ve˘‹
<
°rög
> 
UrgUsbCom
::
	$ba£Names
()

25 
ve˘‹
<
°rög
> 
p‹ts
;

26 #i‡
	`deföed
(
LINUX_OS
)

28 
p‹ts
.
	`push_back
("/dev/ttyACM");

30 #ñi‡
	`deföed
(
MAC_OS
)

32 
p‹ts
.
	`push_back
("/dev/tty.usbmodem");

34  
p‹ts
;

35 
	}
}

38 
boﬁ
 
	gUrgUsbCom
::
	$isUsbCom
(c⁄° * 
com_p‹t
)

42 i‡(
	`isUsögComDrivî
(
com_p‹t
, "URG Series USB Device Driver") ||

43 
	`isUsögComDrivî
(
com_p‹t
, "URG-X002 USB Device Driver")) {

44  
åue
;

47  
Ál£
;

49 
	}
}

	@processors/laser/urg-0.8.18/src/cpp/urg/UrgUsbCom.h

1 #i‚de‡
QRK_URG_USB_COM_H


2 
	#QRK_URG_USB_COM_H


	)

13 
	~"IsUsbCom.h
"

16 
«me•a˚
 
	gqrk


19 ˛as†
	cUrgUsbCom
 : 
public
 
IsUsbCom


21 
public
:

22 
UrgUsbCom
();

24 
	g°d
::
ve˘‹
<
°d
::
°rög
> 
ba£Names
();

25 
boﬁ
 
isUsbCom
(c⁄° * 
com_p‹t
);

27 
	g¥iv©e
:

28 
UrgUsbCom
(c⁄° UrgUsbCom& 
rhs
);

29 
	gUrgUsbCom
& 
	g›î©‹
 = (c⁄° 
UrgUsbCom
& 
rhs
);

	@processors/laser/urg-0.8.18/src/cpp/urg/UrgUtils.h

1 #i‚de‡
QRK_URG_UTILS_H


2 
	#QRK_URG_UTILS_H


	)

13 
	~<c°dlib
>

16 
«me•a˚
 
	gqrk


26 
	gãm∂©e
 <
˛ass
 
	gT
>

27 
urgSîülId
(
T
* 
urg
)

29 
	g°d
::
ve˘‹
<
°d
::
°rög
> 
vîsi⁄_löes
;

30 i‡(! 
	gurg
->
vîsi⁄Löes
(
vîsi⁄_löes
)) {

33 i‡(
	gvîsi⁄_löes
.
size
() < 5) {

37 
	g°d
::
°rög
& 
£rül_löe
 = 
vîsi⁄_löes
[4];

38 i‡(
	g£rül_löe
.
size
() < 7) {

41  
©ﬁ
(
£rül_löe
.
sub°r
(6).
c_°r
());

	@processors/laser/urg-0.8.18/src/cpp/urg/findUrgPorts.cpp

10 
	~"födUrgP‹ts.h
"

11 
	~"FödComP‹ts.h
"

12 
	~"Dëe˘OS.h
"

13 #i‡
deföed
(
WINDOWS_OS
)

14 
	~"isUsögComDrivî.h
"

17 
usög
 
«me•a˚
 
	g°d
;

20 
size_t
 
	gqrk
::
födUrgP‹ts
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
)

22 
FödComP‹ts
 
com_födî
;

24 #i‡
deföed
(
LINUX_OS
)

25 
	gcom_födî
.
addBa£Name
("/dev/ttyACM");

26 #ñi‡
deföed
(
MAC_OS
)

27 
	gcom_födî
.
addBa£Name
("/dev/tty.usbmodem");

28 #ñi‡
deföed
(
WINDOWS_OS
)

29 
	gcom_födî
.
addDrivîName
("URG Series USB Device Driver");

30 
	gcom_födî
.
addDrivîName
("URG-X002 USB Device Driver");

33 
	gve˘‹
<
	g°rög
> 
	gcom_p‹ts
;

34 
	gcom_födî
.
föd
(
p‹ts
, 
Ál£
);

36  
	gp‹ts
.
size
();

	@processors/laser/urg-0.8.18/src/cpp/urg/findUrgPorts.h

1 #i‚de‡
QRK_FIND_URG_PORTS_H


2 
	#QRK_FIND_URG_PORTS_H


	)

13 
	~<ve˘‹
>

14 
	~<°rög
>

17 
«me•a˚
 
	gqrk


31 
size_t
 
födUrgP‹ts
(
°d
::
ve˘‹
<°d::
°rög
>& 
p‹ts
);

	@processors/laser/view.c

1 
	~"võw.h
"

2 c⁄° 
	gªsﬁuci⁄
 = 1;

4 
Po£
 
	$gë_po£_globÆ
(
Po£
 
™ãri‹
, Po£ 
di„ªncü
) {

5 
Po£
 
k_dp
;

6 
k_dp
.
x
 = 
™ãri‹
.x + (
di„ªncü
.x * 
	`cos
◊¡îi‹.
th
Ë- di„ªncü.
y
 * 
	`sö
(anterior.th));

7 
k_dp
.
y
 = 
™ãri‹
.y + (
di„ªncü
.
x
 * 
	`sö
◊¡îi‹.
th
Ë+ di„ªncü.y * 
	`cos
(anterior.th));

8 
k_dp
.
th
 = 
™ãri‹
.th + 
di„ªncü
.th;

9  
k_dp
;

10 
	}
}

12 
Po£
 
	$gë_dif_po£
(
Po£
 
™ãri‹
, Po£ 
a˘uÆ
) {

13 
k_dx
 = 
a˘uÆ
.
x
 - 
™ãri‹
.x;

14 
k_dy
 = 
a˘uÆ
.
y
 - 
™ãri‹
.y;

15 
k_dth
 = 
a˘uÆ
.
th
 - 
™ãri‹
.th;

16 
Po£
 
k_dp
;

17 
k_dp
.
x
 = (
k_dx
 * 
	`cos
(-
™ãri‹
.
th
Ë- 
k_dy
 * 
	`sö
(-anterior.th));

18 
k_dp
.
y
 = (
k_dx
 * 
	`sö
(-
™ãri‹
.
th
Ë+ 
k_dy
 * 
	`cos
(-anterior.th));

19 
k_dp
.
th
 = 
k_dth
;

20  
k_dp
;

21 
	}
}

23 
PM_TYPE
 
	$îr‹_po£
(
Po£
 
di„ªncü
, 
PMSˇn
 *
sˇn_™ãri‹
, PMSˇ¿*
sˇn_a˘uÆ
) {

25 
sˇn_a˘uÆ
->
rx
 = 
di„ªncü
.
x
;

26 
sˇn_a˘uÆ
->
ry
 = 
di„ªncü
.
y
;

27 
sˇn_a˘uÆ
->
th
 = 
di„ªncü
.th;

28  
	`pm_îr‹_ödex2
(
sˇn_™ãri‹
, 
sˇn_a˘uÆ
);

29 
	}
}

30 
£t_d©a
(
CImg
<>& 
img
,
m≠a
[
IMG_ANCHO
][
IMG_ALTO
] ){

33 
£t_img_sˇn
(
PMSˇn
 *
imagí
, 
Po£
 
po£
, 
CImg
<>& 
img
, PMSˇ¿*
¥imîo
) {

34 
	g™gulo
 = 0.0;

35 
	gh
 = 0; h< (
	gimagí
->
	gr
); h++) {

36 
	g™gulo
 = 
h
 * 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

37 
	gn
 = 0;

38 
	gsum_r
 = 0;

39 
	gi
 = 0; i < 400 * 
	gªsﬁuci⁄
; i++) {

40 
	gx
 = (
i
Ë* 
cos
(
™gulo
Ë+ 
po£
.
x
 * 
ªsﬁuci⁄
 + 
IMG_ANCHO
 / 2;

41 
	gy
 = (
i
Ë* 
sö
(
™gulo
Ë+ 
po£
.
y
 * 
ªsﬁuci⁄
 + 
IMG_ALTO
 / 2;

42 i‡(
	gy
 < 0 || y > 
	gIMG_ALTO
 || 
	gx
 < 0 || x > 
	gIMG_ANCHO
) {

43 
	gimagí
->
	gr
[
h
] = 
¥imîo
->
r
[h];

46 
	g±r
 = (Ë
img
(
x
, 
y
, 0, 0);

47 i‡(
	g±r
 == 0) {

48 
n
++;

49 i‡(0 > 
	gy
 || y > 
	gIMG_ALTO
 || 
	gx
 < 0 || x > 
	gIMG_ANCHO
) {

50 
	gimagí
->
	gr
[
h
] = 
¥imîo
->
r
[h];

53 
	gsum_r
 +
i
;

54 
	gdº
 = 1; dº < 15 * 
	gªsﬁuci⁄
; drr++) {

55 
	g±r
 = (Ë
img
(
x
 + (
dº
Ë* 
cos
(
™gulo
), 
y
 + (dºË* 
sö
(angulo), 0, 0);

56 i‡(
	g±r
 == 0) {

57 
sum_r
 +
i
 + 
dº
;

58 
	gn
++;

63 i‡(
	gn
 > 0) {

64 
	g¥omedio
 = (
sum_r
 / 
ªsﬁuci⁄
Ë/ 
n
;

65 i‡(
	gsum_r
 == 0) {

66 
imagí
->
r
[
h
] = 
¥imîo
->r[h];

68 
	gimagí
->
	gr
[
h
] = 
¥omedio
;

78 
£t_img_sˇn_¥omedio
(
PMSˇn
 *
imagí
, 
Po£
 
po£
, 
CImg
<>& 
img
, PMSˇ¿*
¥imîo
) {

79 
	g™gulo
 = 0.0;

80 
	gh
 = 0; h< (
	gimagí
->
	gr
); h++) {

81 
	g™gulo
 = 
h
 * 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

82 
	gn
 = 0;

83 
	gsum_r
 = 0;

84 
	gmö
 = -1;

85 
	gmax
 = -1;

86 
	gi
 = 0; i < 400 * 
	gªsﬁuci⁄
; i++) {

87 
	gx
 = (
i
Ë* 
cos
(
™gulo
Ë+ 
po£
.
x
 * 
ªsﬁuci⁄
 + 
IMG_ANCHO
 / 2;

88 
	gy
 = (
i
Ë* 
sö
(
™gulo
Ë+ 
po£
.
y
 * 
ªsﬁuci⁄
 + 
IMG_ALTO
 / 2;

89 
	g±r
 = (Ë
img
(
x
, 
y
, 0, 0);

91 i‡(
	g±r
 == 0) {

92 
n
++;

93 i‡(0 > 
	gy
 || y > 
	gIMG_ALTO
 || 
	gx
 < 0 || x > 
	gIMG_ANCHO
) {

94 
	gimagí
->
	gr
[
h
] = 
¥imîo
->
r
[h];

98 i‡(
	gmö
 == -1)

99 
mö
 = 
i
;

100 
	gsum_r
 +
i
;

101 
	gmax
 = 
i
;

104 i‡(
	gn
 > 4 * 
	gªsﬁuci⁄
 || 
	gmax
 - 
	gi
 > 3 *Ñesolucion) {

105 i‡(
	g¥imîo
->
	gr
[
h
] > 30 &&Örimero->r[h] < 4000) {

106 
	gimagí
->
	gr
[
h
] = (0.5 * (
sum_r
 / 
ªsﬁuci⁄
Ë/ 
n
 + 0.5 * 
¥imîo
->
r
[h]);

108 
	gimagí
->
	gr
[
h
] = (
sum_r
 / 
ªsﬁuci⁄
Ë/ 
n
;

118 
dibuj¨_po£s
(
Po£
 
po£s_œ£r
[], Po£ 
po£s_robŸ
[], 
n_po£
, 
CImg
<>& 
img
) {

119 
	gj
 = 1; j <
n_po£
; j++) {

120 
	gimg
.
døw_löe
(

121 
IMG_ANCHO
 / 2 + (
po£s_œ£r
[
j
 - 1].
x
Ë* 
ªsﬁuci⁄
,

122 
IMG_ALTO
 / 2 + (
po£s_œ£r
[
j
 - 1].
y
Ë* 
ªsﬁuci⁄
,

123 
IMG_ANCHO
 / 2 + (
po£s_œ£r
[
j
].
x
Ë* 
ªsﬁuci⁄
,

124 
IMG_ALTO
 / 2 + (
po£s_œ£r
[
j
].
y
 * 
ªsﬁuci⁄
), 
vîde
);

126 
	gj
 = 1; j <
n_po£
; j++) {

127 
	gimg
.
døw_cú˛e
(

128 
IMG_ANCHO
 / 2 + 
ªsﬁuci⁄
 * (
po£s_robŸ
[
j
 - 1].
x
),

129 
IMG_ALTO
 / 2 + 
ªsﬁuci⁄
 * (
po£s_robŸ
[
j
 - 1].
y
),3,
azul
,1,2);

130 
	gimg
.
døw_löe
(

131 
IMG_ANCHO
 / 2 + 
ªsﬁuci⁄
 * (
po£s_robŸ
[
j
 - 1].
x
),

132 
IMG_ALTO
 / 2 + 
ªsﬁuci⁄
 * (
po£s_robŸ
[
j
 - 1].
y
),

133 
IMG_ANCHO
 / 2 + 
ªsﬁuci⁄
 * (
po£s_robŸ
[
j
].
x
),

134 
IMG_ALTO
 / 2 + 
ªsﬁuci⁄
 * (
po£s_robŸ
[
j
].
y
), 
azul
);

138 
dibuj¨_robŸ
(
PMSˇn
 *
£gundo
, 
Po£
 
po£_œ£r
, Po£ 
po£_robŸ
, 
CImg
<>& 
img
) {

139 
	gCImg
<> 
poöts
(4, 2);

141 
	gx0
 = 
IMG_ANCHO
 / 2 + (
po£_robŸ
.
x
 + 
cos
’o£_robŸ.
th
 - 
M_PI
 / 2)*(29 / 2)Ë* 
ªsﬁuci⁄
;

142 
	gy0
 = 
IMG_ALTO
 / 2 + (
po£_robŸ
.
y
 + 
sö
’o£_robŸ.
th
 - 
M_PI
 / 2)*(29 / 2)Ë* 
ªsﬁuci⁄
;

143 
	gx1
 = 
IMG_ANCHO
 / 2 + (
po£_robŸ
.
x
 + 
cos
’o£_robŸ.
th
 - 
M_PI
 / 2)*((29 / 2Ë+ 4)Ë* 
ªsﬁuci⁄
;

144 
	gy1
 = 
IMG_ANCHO
 / 2 + (
po£_robŸ
.
y
 + 
sö
’o£_robŸ.
th
 - 
M_PI
 / 2)*((29 / 2Ë+ 4)Ë* 
ªsﬁuci⁄
;

145 
	gthePoöts
[] = {

146 
x0
 + 
cos
(
po£_robŸ
.
th
)*(5 * 
ªsﬁuci⁄
), (
y0
 + 
sö
(pose_robot.th)*5 *Ñesolucion),

147 
x0
 + 
cos
(
po£_robŸ
.
th
)*(-5 * 
ªsﬁuci⁄
), (
y0
 + 
sö
(pose_robot.th)*(-5 *Ñesolucion)),

148 
x1
 + 
cos
(
po£_robŸ
.
th
)*(-5 * 
ªsﬁuci⁄
), (
y1
 + 
sö
(pose_robot.th)*(-5 *Ñesolucion)),

149 
x1
 + 
cos
(
po£_robŸ
.
th
)*(5 * 
ªsﬁuci⁄
), (
y1
 + 
sö
(pose_robot.th)*(5 *Ñesolucion)),

151 *
	gôî©‹
 = 
thePoöts
;

153 
cimg_f‹X
(
poöts
, 
i
) {

155 
poöts
(
i
, 0Ë*(
ôî©‹
++);

156 
poöts
(
i
, 1Ë*(
ôî©‹
++);

159 
	gimg
.
døw_pﬁyg⁄
(
poöts
, 
rojo
);

161 
	gx0
 = 
IMG_ANCHO
 / 2 + (
po£_robŸ
.
x
 + 
cos
’o£_robŸ.
th
 - 
M_PI
 / 2)*(-29 / 2)Ë* 
ªsﬁuci⁄
;

162 
	gy0
 = 
IMG_ALTO
 / 2 + (
po£_robŸ
.
y
 + 
sö
’o£_robŸ.
th
 - 
M_PI
 / 2)*(-29 / 2)Ë* 
ªsﬁuci⁄
;

163 
	gx1
 = 
IMG_ANCHO
 / 2 + (
po£_robŸ
.
x
 + 
cos
’o£_robŸ.
th
 - 
M_PI
 / 2)*((-29 / 2Ë- 4)Ë* 
ªsﬁuci⁄
;

164 
	gy1
 = 
IMG_ANCHO
 / 2 + (
po£_robŸ
.
y
 + 
sö
’o£_robŸ.
th
 - 
M_PI
 / 2)*((-29 / 2Ë- 4)Ë* 
ªsﬁuci⁄
;

165 
	gthePoöts_2
[] = {

166 
x0
 + 
cos
(
po£_robŸ
.
th
)*5 * 
ªsﬁuci⁄
, (
y0
 + 
sö
(pose_robot.th)*5 *Ñesolucion),

167 
x0
 + 
cos
(
po£_robŸ
.
th
)*(-5 * 
ªsﬁuci⁄
), (
y0
 + 
sö
(pose_robot.th)*(-5 *Ñesolucion)),

168 
x1
 + 
cos
(
po£_robŸ
.
th
)*(-5 * 
ªsﬁuci⁄
), (
y1
 + 
sö
(pose_robot.th)*(-5 *Ñesolucion)),

169 
x1
 + 
cos
(
po£_robŸ
.
th
)*(5 * 
ªsﬁuci⁄
), (
y1
 + 
sö
(pose_robot.th)*(5 *Ñesolucion)),

171 *
	gôî©‹_2
 = 
thePoöts_2
;

173 
cimg_f‹X
(
poöts
, 
i
) {

174 
poöts
(
i
, 0Ë*(
ôî©‹_2
++);

175 
poöts
(
i
, 1Ë*(
ôî©‹_2
++);

177 
	gimg
.
døw_pﬁyg⁄
(
poöts
, 
rojo
);

178 
	gj
 = 0; j < 8; j++) {

179 
	gimg
.
døw_löe
(

180 
IMG_ANCHO
 / 2 + (
po£_robŸ
.
x
 + 
cos
’o£_robŸ.
th
 + ((
j
 * 
M_PI
Ë/ 4Ë+ M_PI / 8)*20.8Ë* 
ªsﬁuci⁄
,

181 
IMG_ALTO
 / 2 + (
po£_robŸ
.
y
 + 
sö
’o£_robŸ.
th
 + ((
j
 * 
M_PI
Ë/ 4Ë+ M_PI / 8)*20.8Ë* 
ªsﬁuci⁄
,

182 
IMG_ANCHO
 / 2 + (
po£_robŸ
.
x
 + 
cos
’o£_robŸ.
th
 + (((
j
 + 1Ë* 
M_PI
Ë/ 4Ë+ M_PI / 8)*20.8Ë* 
ªsﬁuci⁄
,

183 
IMG_ALTO
 / 2 + (
po£_robŸ
.
y
 + 
sö
’o£_robŸ.
th
 + (((
j
 + 1Ë* 
M_PI
Ë/ 4Ë+ M_PI / 8)*20.8Ë* 
ªsﬁuci⁄
,

184 
rojo
);

187 
	gimg
.
døw_cú˛e
(

188 
po£_œ£r
.
x
 * 
ªsﬁuci⁄
 + 
IMG_ANCHO
 / 2,

189 
po£_œ£r
.
y
 * 
ªsﬁuci⁄
 + 
IMG_ALTO
 / 2, 3, 
rojo
, 1.0, 2);

190 
	gimg
.
døw_löe
(

191 
IMG_ANCHO
 / 2 + 
po£_œ£r
.
x
*
ªsﬁuci⁄
,

192 
IMG_ALTO
 / 2 + 
po£_œ£r
.
y
*
ªsﬁuci⁄
,

193 
IMG_ANCHO
 / 2 + 
po£_robŸ
.
x
*
ªsﬁuci⁄
,

194 
IMG_ALTO
 / 2 + 
po£_robŸ
.
y
*
ªsﬁuci⁄
,

195 
rojo


199 
£t_image_cﬁ‹
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
, c⁄° 
cﬁ‹
[]) {

200 
	gba£
 = 
PM_FI_MIN
 + 
po£
.
th
;

201 
	gh
 = 1; h <  (
	g£gundo
->
	gr
Ë&& h < 
	gPM_L_POINTS
; h++) {

202 
	g™gulo1
 = ((Ë
h
 - 1Ë* 
M_PI
 / 512 + 
ba£
;

203 
	g™gulo2
 = ((Ë
h
Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

204 i‡((
	g£gundo
->
	gr
[
h
 - 1] < 500Ë&& (£gundo->r[h - 1] > 30Ë&& !((
	gh
 > 23 && h < 50) || (h > 642 && h < 669))) {

205 
	gdx1
 = ((
£gundo
->
r
[
h
 - 1] * 
cos
(
™gulo1
)Ë- (£gundo->r[h] * cos(
™gulo2
))Ë* 
ªsﬁuci⁄
;

206 
	gdy1
 = ((
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
)Ë- (£gundo->r[h] * sö(
™gulo2
))Ë* 
ªsﬁuci⁄
;

207 
	gdi°™cü
 = 
sqπ
(
dx1
 * dx1 + 
dy1
 * dy1);

208 i‡(
	gdi°™cü
 < 5.0 * 
	gªsﬁuci⁄
) {

209 
	gx
 = 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
 - 1] * 
ªsﬁuci⁄
 * 
cos
(
™gulo1
)Ë+ 
po£
.
x
*resolucion;

210 
	gy
 = 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
 - 1] * 
ªsﬁuci⁄
 * 
sö
(
™gulo1
)Ë+ 
po£
.
y
*resolucion;

211 
	gimg
.
døw_löe
(

212 
x
,

213 
y
,

214 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
cos
(
™gulo2
Ë* 
ªsﬁuci⁄
 + 
po£
.
x
 *Ñesolucion),

215 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
sö
(
™gulo2
Ë* 
ªsﬁuci⁄
 + 
po£
.
y
 *Ñesﬁuci⁄), 
cﬁ‹
);

223 
£t_image_cﬁ‹_bœnco
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
,c⁄° 
cﬁ‹
[]) {

224 
	gh
 = 1; h <  (
	g£gundo
->
	gr
Ë&& h < 
	gPM_L_POINTS
; h++) {

226 
	g™gulo1
 = ((Ë
h
 - 1Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

227 
	g™gulo2
 = ((Ë
h
Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

228 i‡((
	g£gundo
->
	gr
[
h
 - 1] < 500Ë&& (£gundo->r[h - 1] > 30Ë&& !((
	gh
 > 23 && h < 50) || (h > 642 && h < 669))) {

229 
	g˚¡ro_x
 = 
IMG_ANCHO
 / 2 + 
po£
.
x
 * 
ªsﬁuci⁄
;

230 
	g˚¡ro_y
 = 
IMG_ALTO
 / 2 + 
po£
.
y
 * 
ªsﬁuci⁄
;

231 
	gdx1
 = ((
£gundo
->
r
[
h
 - 1] * 
cos
(
™gulo1
)Ë- (£gundo->r[h] * cos(
™gulo2
))Ë* 
ªsﬁuci⁄
;

232 
	gdy1
 = ((
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
)Ë- (£gundo->r[h] * sö◊ngulo1))Ë* 
ªsﬁuci⁄
;

233 
	gdi°™cü
 = 
sqπ
(
dx1
 * dx1 + 
dy1
 * dy1);

234 i‡(
	gdi°™cü
 < 5.0 * 
	gªsﬁuci⁄
) {

235 
	gx
 = 
˚¡ro_x
 + (Ë(
£gundo
->
r
[
h
 - 1] * 
cos
(
™gulo1
Ë* 
ªsﬁuci⁄
);

236 
	gy
 = 
˚¡ro_y
 + (Ë(
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
Ë* 
ªsﬁuci⁄
);

237 
	gimg
.
døw_löe
(

238 
x
,

239 
y
,

240 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
cos
(
™gulo2
Ë* 
ªsﬁuci⁄
Ë+ 
po£
.
x
*resolucion,

241 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
sö
(
™gulo2
Ë* 
ªsﬁuci⁄
 + 
po£
.
y
 *Ñesolucion),

242 
cﬁ‹
);

243 
	gimg
.
døw_löe
(

244 
˚¡ro_x
,

245 
˚¡ro_y
,

246 
x
, 
y
, 
whôe


254 
£t_image_cﬁ‹_bœnco
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
) {

255 
	gh
 = 1; h <  (
	g£gundo
->
	gr
Ë&& h < 
	gPM_L_POINTS
; h++) {

257 
	g™gulo1
 = ((Ë
h
 - 1Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

258 
	g™gulo2
 = ((Ë
h
Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

259 i‡((
	g£gundo
->
	gr
[
h
 - 1] < 500Ë&& (£gundo->r[h - 1] > 30Ë&& !((
	gh
 > 23 && h < 50) || (h > 642 && h < 669))) {

260 
	g˚¡ro_x
 = 
IMG_ANCHO
 / 2 + 
po£
.
x
 * 
ªsﬁuci⁄
;

261 
	g˚¡ro_y
 = 
IMG_ALTO
 / 2 + 
po£
.
y
 * 
ªsﬁuci⁄
;

262 
	gdx1
 = ((
£gundo
->
r
[
h
 - 1] * 
cos
(
™gulo1
)Ë- (£gundo->r[h] * cos(
™gulo2
))Ë* 
ªsﬁuci⁄
;

263 
	gdy1
 = ((
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
)Ë- (£gundo->r[h] * sö◊ngulo1))Ë* 
ªsﬁuci⁄
;

264 
	gdi°™cü
 = 
sqπ
(
dx1
 * dx1 + 
dy1
 * dy1);

265 i‡(
	gdi°™cü
 < 5.0 * 
	gªsﬁuci⁄
) {

266 
	gx
 = 
˚¡ro_x
 + (Ë(
£gundo
->
r
[
h
 - 1] * 
cos
(
™gulo1
Ë* 
ªsﬁuci⁄
);

267 
	gy
 = 
˚¡ro_y
 + (Ë(
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
Ë* 
ªsﬁuci⁄
);

268 
	gimg
.
døw_löe
(

269 
x
,

270 
y
,

271 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
cos
(
™gulo2
Ë* 
ªsﬁuci⁄
Ë+ 
po£
.
x
*resolucion,

272 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
sö
(
™gulo2
Ë* 
ªsﬁuci⁄
 + 
po£
.
y
 *Ñesolucion),

273 
bœck
);

274 
	gimg
.
døw_löe
(

275 
˚¡ro_x
,

276 
˚¡ro_y
,

277 
x
, 
y
, 
whôe


285 
£t_image_cﬁ‹
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
) {

286 
	gh
 = 1; h <  (
	g£gundo
->
	gr
Ë&& h < 
	gPM_L_POINTS
; h++) {

287 
	g™gulo1
 = ((Ë
h
 - 1Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

288 
	g™gulo2
 = ((Ë
h
Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

289 i‡((
	g£gundo
->
	gr
[
h
 - 1] < 500Ë&& (£gundo->r[h - 1] > 30Ë&& !((
	gh
 > 23 && h < 50) || (h > 642 && h < 669))) {

290 
	gdx1
 = ((
£gundo
->
r
[
h
 - 1] * 
cos
(
™gulo1
)Ë- (£gundo->r[h] * cos(
™gulo2
))Ë* 
ªsﬁuci⁄
;

291 
	gdy1
 = ((
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
)Ë- (£gundo->r[h] * sö◊ngulo1))Ë* 
ªsﬁuci⁄
;

292 
	gdi°™cü
 = 
sqπ
(
dx1
 * dx1 + 
dy1
 * dy1);

293 i‡(
	gdi°™cü
 < 5.0 * 
	gªsﬁuci⁄
) {

294 
	gx
 = 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
 - 1] * 
ªsﬁuci⁄
 * 
cos
(
™gulo1
)Ë+ 
po£
.
x
*resolucion;

295 
	gy
 = 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
Ë* 
ªsﬁuci⁄
Ë+ 
po£
.
y
*resolucion;

296 
	gimg
.
døw_löe
(

297 
x
,

298 
y
,

299 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
cos
(
™gulo2
Ë* 
ªsﬁuci⁄
Ë+ 
po£
.
x
*resolucion,

300 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
sö
(
™gulo2
Ë* 
ªsﬁuci⁄
 + 
po£
.
y
 *Ñesﬁuci⁄), 
rojo
);

308 
£t_image
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
) {

309 
	gh
 = 1; h <  (
	g£gundo
->
	gr
Ë&& h < 
	gPM_L_POINTS
; h++) {

310 
	g™gulo1
 = ((Ë
h
 - 1Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

311 
	g™gulo2
 = ((Ë
h
Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

312 i‡((
	g£gundo
->
	gr
[
h
 - 1] < 500Ë&& (£gundo->r[h - 1] > 30Ë&& !((
	gh
 > 23 && h < 50) || (h > 642 && h < 669))) {

327 
	gdx1
 = ((
£gundo
->
r
[
h
 - 1] * 
cos
(
™gulo1
)Ë- (£gundo->r[h] * cos(
™gulo2
))Ë* 
ªsﬁuci⁄
;

328 
	gdy1
 = ((
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
)Ë- (£gundo->r[h] * sö◊ngulo1))Ë* 
ªsﬁuci⁄
;

329 
	gdi°™cü
 = 
sqπ
(
dx1
 * dx1 + 
dy1
 * dy1);

330 i‡(
	gdi°™cü
 < 5.0 * 
	gªsﬁuci⁄
) {

331 
	gx
 = 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
 - 1] * 
ªsﬁuci⁄
 * 
cos
(
™gulo1
)Ë+ 
po£
.
x
*resolucion;

332 
	gdx
 = (Ë(1 * 
cos
(
™gulo1
));

333 
	gdy
 = (Ë(1 * 
sö
(
™gulo1
));

334 
	gy
 = 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
Ë* 
ªsﬁuci⁄
Ë+ 
po£
.
y
*resolucion;

335 
	gp_cﬁ‹
 = (Ë
img
(
x
 - 
dx
, 
y
 - 
dy
, 0, 0)*() img(x, y, 0, 0)*() img(x + dx, y + dy, 0, 0);

337 i‡(
	gp_cﬁ‹
 != 0) {

338 
img
.
døw_löe
(

339 
x
,

340 
y
,

341 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
cos
(
™gulo2
Ë* 
ªsﬁuci⁄
Ë+ 
po£
.
x
*resolucion,

342 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
sö
(
™gulo2
Ë* 
ªsﬁuci⁄
 + 
po£
.
y
 *Ñesﬁuci⁄), 
bœck
);

370 
£t_image_¥omedio
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
) {

371 
	gh
 = 1; h <  (
	g£gundo
->
	gr
Ë&& h < 
	gPM_L_POINTS
; h++) {

372 
	g™gulo1
 = ((Ë
h
 - 1Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

373 
	g™gulo2
 = ((Ë
h
Ë* 
M_PI
 / 512 + 
PM_FI_MIN
 + 
po£
.
th
;

374 i‡((
	g£gundo
->
	gr
[
h
 - 1] < 500Ë&& (£gundo->r[h - 1] > 30Ë&& !((
	gh
 > 23 && h < 50) || (h > 642 && h < 669))) {

375 
	gdx1
 = ((
£gundo
->
r
[
h
 - 1] * 
cos
(
™gulo1
)Ë- (£gundo->r[h] * cos(
™gulo2
))Ë* 
ªsﬁuci⁄
;

376 
	gdy1
 = ((
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
)Ë- (£gundo->r[h] * sö◊ngulo1))Ë* 
ªsﬁuci⁄
;

377 
	gdi°™cü
 = 
sqπ
(
dx1
 * dx1 + 
dy1
 * dy1);

378 
	gx
 = 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
 - 1] * 
ªsﬁuci⁄
 * 
cos
(
™gulo1
)Ë+ 
po£
.
x
*resolucion;

379 
	gy
 = 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
 - 1] * 
sö
(
™gulo1
Ë* 
ªsﬁuci⁄
Ë+ 
po£
.
y
*resolucion;

380 i‡(
	gdi°™cü
 < 4.0 * 
	gªsﬁuci⁄
) {

382 
	gx2
 = 
IMG_ANCHO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
cos
(
™gulo2
Ë* 
ªsﬁuci⁄
Ë+ 
po£
.
x
*resolucion;

383 
	gy2
 = 
IMG_ALTO
 / 2 + (Ë(
£gundo
->
r
[
h
] * 
sö
(
™gulo2
Ë* 
ªsﬁuci⁄
 + 
po£
.
y
 *Ñesolucion);

384 
	gdx
 = (
x2
 - 
x
Ë/ (Ë
di°™cü
;

385 
	gdy
 = (
y2
 - 
y
Ë/ (Ë
di°™cü
;

386 
	gdr
 = 0; d∏< (Ë
	gdi°™cü
; dr++) {

387 i‡(
img
(
x
 + 
dr
 * 
dx
, 
y
 + d∏* 
dy
, 0) > 10)

388 
img
(
x
 + 
dr
 * 
dx
, 
y
 + d∏* 
dy
, 0) += -10;

402 
img
(
x
, 
y
, 0) = img(x, y, 1) = img(x, y, 3);

	@processors/laser/view.h

1 #i‚de‡
_IRMA3_VIEW_H_


2 
	#_IRMA3_VIEW_H_


	)

4 
	~"ekf.h
"

5 
	~"pﬁ¨_m©chög/pﬁ¨_m©chög/pﬁ¨_m©ch.h
"

6 
	~"CImg.h
"

9 
usög
 
«me•a˚
 
	gcimg_libøry
;

11 c⁄° 
	gIMG_ANCHO
 = 500;

12 c⁄° 
	gIMG_ALTO
 = 500;

13 c⁄° 
PM_TYPE
 
	gPM_FI_MIN
 = -1.3008157081 - 
M_PI
 / 4;

14 c⁄° 
	gwhôe
[] = {255, 255, 255, 255};

15 c⁄° 
	gbœck
[] = {0, 0, 0, 255};

16 c⁄° 
	grojo
[] = {255, 0, 0, 255};

17 c⁄° 
	gazul
[] = {0, 0, 255, 255};

18 c⁄° 
	gvîde
[] = {0, 255, 255, 255};

19 
Po£
 
gë_po£_globÆ
(Po£ 
nuevo
,Po£ 
di„ªncü
);

20 
£t_image_cﬁ‹
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
,c⁄° 
cﬁ‹
[]);

21 
Po£
 
gë_dif_po£
(Po£ 
™ãri‹
, Po£ 
a˘uÆ
);

22 
PM_TYPE
 
îr‹_po£
(
Po£
 
dif_po£
,
PMSˇn
 *
sˇn_™ãri‹
, PMSˇ¿*
sˇn_a˘uÆ
);

23 
£t_img_sˇn
(
PMSˇn
 *
imagí
,
Po£
 
po£
,
CImg
<>& 
img
,PMSˇ¿*
¥imîo
);

24 
£t_img_sˇn_¥omedio
(
PMSˇn
 *
imagí
,
Po£
 
po£
,
CImg
<>& 
img
,PMSˇ¿*
¥imîo
);

25 
£t_image_cﬁ‹
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
);

26 
£t_image_cﬁ‹_bœnco
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
,c⁄° 
cﬁ‹
[]);

27 
£t_image_cﬁ‹_bœnco
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
);

28 
£t_image
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
);

29 
£t_image_¥omedio
(
PMSˇn
 *
£gundo
, 
Po£
 
po£
, 
CImg
<>& 
img
);

30 
dibuj¨_robŸ
(
PMSˇn
 *
£gundo
, 
Po£
 
po£_œ£r
, Po£ 
po£_robŸ
, 
CImg
<>& 
img
);

31 
dibuj¨_po£s
(
Po£
 
po£s_œ£r
[], Po£ 
po£s_robŸ
[], 
n_po£
, 
CImg
<>& 
img
);

32 
£t_d©a
(
CImg
<>& 
img
,
m≠a
[
IMG_ANCHO
][
IMG_ALTO
] );

	@processors/longRangeNavigator/GALRN.cpp

33 
	~"GALRN.h
"

46 
	gOrg™ism
::
	$Org™ism
() {

48 
gíesNumbî
 = 
GENES_NUMBER
;

50 
fô√ss
 = -1.0;

51 
ønkög
 = -1;

52 
¶i˚
 = 0.0;

53 
u£ful_°ïs_ƒ
 = 
gíesNumbî
;

55 
i
 = 0; i < 
gíesNumbî
; i++) {

56 
a_gíes
[
i
] = (
_gí
Ë
	`R™domR™ge
(
ACTIONS_NUMBER
 - 1);

58 
	}
}

64 
	gOrg™ism
::~
	$Org™ism
() {

66 
	}
}

70 
	gOrg™ism
::
	$PrötGíome
(c⁄° 
a_fûeName
[]) const {

71 
	`¥ötf
("GENOME of INDIVIDUAL (GENOTYPE):\n");

73 i‡(
	`°æí
(
a_fûeName
) != 0) {

74 
	`¥ötf
("PRINTING IN FILE: %s\n", 
a_fûeName
);

75 
FILE
 *
Â
;

76 i‡((
Â
 = 
	`f›í
(
a_fûeName
, "w"))) {

77 
	`Ârötf
(
Â
, "\nGENOME\n");

78 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

79 
	`Ârötf
(
Â
, "%x ", 
a_gíes
[
_igí
]);

80 
	`f˛o£
(
Â
);

82 
	`¥ötf
("Error opening FILE in function: Organism::PrintGenome\n");

85 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

86 
	`¥ötf
("%x ", 
a_gíes
[
_igí
]);

88 
	}
}

92 
_gí
 
	gOrg™ism
::
	$gëGíe
(
_igí
) const {

93  (
this
->
a_gíes
[
_igí
]);

94 
	}
}

97 
	gOrg™ism
::
	$gëFô√ss
() const {

98  (
this
->
fô√ss
);

99 
	}
}

102 
	gOrg™ism
::
	$gëGíesNumbî
() const {

103  (
this
->
gíesNumbî
);

104 
	}
}

107 
	gOrg™ism
::
	$gëR™kög
() const {

108  (
this
->
ønkög
);

109 
	}
}

112 
	gOrg™ism
::
	$gëSli˚
() const {

113  (
this
->
¶i˚
);

114 
	}
}

117 
	gOrg™ism
::
	$gë_u£ful_°ïs_ƒ
() const {

118  (
this
->
u£ful_°ïs_ƒ
);

119 
	}
}

122 
	gOrg™ism
::
	$gë_mö_gﬂl_di°™˚
() const {

123  (
this
->
mö_gﬂl_di°™˚
);

124 
	}
}

127 
	gOrg™ism
::
	$gë_föÆ_posôi⁄
(
_co‹dö©es
[]) const {

128 
_co‹dö©es
[0] = 
föÆ_posôi⁄
[0];

129 
_co‹dö©es
[1] = 
föÆ_posôi⁄
[1];

130 
_co‹dö©es
[2] = 
föÆ_posôi⁄
[2];

131 
	}
}

134 
	gOrg™ism
::
	$gë_fulfûlmít_¥odu˘s
(
_fulfûlmít
[]) const {

135 
_fulfûlmít
[0] = 
fulfûlmít_¥odu˘s
[0];

136 
_fulfûlmít
[1] = 
fulfûlmít_¥odu˘s
[1];

137 
_fulfûlmít
[2] = 
fulfûlmít_¥odu˘s
[2];

138 
_fulfûlmít
[3] = 
fulfûlmít_¥odu˘s
[3];

139 
	}
}

143 
	gOrg™ism
::
	$£tGíe
(
_igí
, 
_gí
 
_vÆue
) {

144 
this
->
a_gíes
[
_igí
] = 
_vÆue
;

145 
	}
}

148 
	gOrg™ism
::
	$£tFô√ss
(
_vÆue
) {

149 
this
->
fô√ss
 = 
_vÆue
;

150 
	}
}

153 
	gOrg™ism
::
	$£tR™kög
(
_vÆue
) {

154 
this
->
ønkög
 = 
_vÆue
;

155 
	}
}

158 
	gOrg™ism
::
	$£tSli˚
(
_vÆue
) {

159 
this
->
¶i˚
 = 
_vÆue
;

160 
	}
}

163 
	gOrg™ism
::
	$£tGíesNumbî
(
_vÆue
) {

164 
this
->
gíesNumbî
 = 
_vÆue
;

165 
	}
}

168 
	gOrg™ism
::
	$£t_u£ful_°ïs_ƒ
(
_vÆue
) {

169 
this
->
u£ful_°ïs_ƒ
 = 
_vÆue
;

170 
	}
}

173 
	gOrg™ism
::
	$£t_mö_gﬂl_di°™˚
(
_vÆue
) {

174 
this
->
mö_gﬂl_di°™˚
 = 
_vÆue
;

175 
	}
}

178 
	gOrg™ism
::
	$£t_föÆ_posôi⁄
(c⁄° 
_co‹dö©es
[]) {

179 
föÆ_posôi⁄
[0] = 
_co‹dö©es
[0];

180 
föÆ_posôi⁄
[1] = 
_co‹dö©es
[1];

181 
föÆ_posôi⁄
[2] = 
_co‹dö©es
[2];

182 
	}
}

185 
	gOrg™ism
::
	$£t_fulfûlmít_¥odu˘s
(c⁄° 
_fulfûlmít
[]) {

186 
fulfûlmít_¥odu˘s
[0] = 
_fulfûlmít
[0];

187 
fulfûlmít_¥odu˘s
[1] = 
_fulfûlmít
[1];

188 
fulfûlmít_¥odu˘s
[2] = 
_fulfûlmít
[2];

189 
fulfûlmít_¥odu˘s
[3] = 
_fulfûlmít
[3];

190 
	}
}

204 
	gP›uœti⁄
::
	$P›uœti⁄
() {

205 
p›uœti⁄Size
 = 
POPULATION
;

206 
gíî©i⁄sNumbî
 = 
GENERATIONS
;

207 
gíesNumbî
 = 
GENES_NUMBER
;

208 
£À˘i⁄Mëhod
 = 
TOURNAMENT_ELITE
;

209 
ñôeNumbî
 = 
ELITE
;

210 
ñôe_fixed
 = 
FIXED_ELITE
;

211 
øndomImmigø¡s
 = 
IMMIGRANTS
;

212 
tou∫amítP¨am
 = 
TOURNAMENT_PARAM
;

213 
¸ossPoötsNumbî
 = 
CROSS_POINTS
;

214 
¸ossovîProbabûôy
 = 
CROSSOVER_RATE
;

215 
muèti⁄sR©e
 = 
MUTATION_RATE
;

217 
£À˘ed
 = 0;

218 
sumFô√ss
 = 0.0;

219 
avgFô√ss
 = 0.0;

220 
	}
}

227 
	gP›uœti⁄
::~
	$P›uœti⁄
() {

235 
	}
}

241 
	gP›uœti⁄
::
	$Reöô
() {

243 
a_poöts
[0] = 
gíesNumbî
 / (
¸ossPoötsNumbî
);

245 
_ùts
 = 1; _ùt†< 
¸ossPoötsNumbî
 - 1; _ipts++)

246 
a_poöts
[
_ùts
] =á_poöts[_ùt†- 1] + 
gíesNumbî
 / (
¸ossPoötsNumbî
);

248 
a_poöts
[
¸ossPoötsNumbî
 - 1] = 
gíesNumbî
;

251 
_i‹g
 = 0; _i‹g < 
this
->
p›uœti⁄Size
; _iorg++) {

253 
this
->
a_p›Li°
[
_i‹g
] = _iorg;

255 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

256 
this
->
ao_poﬁ
[
_i‹g
].
	`£tGíe
(
_igí
, (
_gí
Ë
	`R™domR™ge
(
ACTIONS_NUMBER
 - 1));

258 
this
->
ao_poﬁ
[
_i‹g
].
	`£tFô√ss
(-1.0);

259 
this
->
ao_poﬁ
[
_i‹g
].
	`£tR™kög
(-1);

261 
	}
}

268 
	gP›uœti⁄
::
	$Cª©e
() {

270 
_i‹g
 = 0; _i‹g < 
this
->
p›uœti⁄Size
; _iorg++)

271 
this
->
a_p›Li°
[
_i‹g
] = _iorg;

274 
a_poöts
[0] = 
gíesNumbî
 / (
¸ossPoötsNumbî
);

275 
_ùts
 = 1; _ùt†< 
¸ossPoötsNumbî
 - 1; _ipts++)

276 
a_poöts
[
_ùts
] =á_poöts[_ùt†- 1] + 
gíesNumbî
 / (
¸ossPoötsNumbî
);

277 
a_poöts
[
¸ossPoötsNumbî
 - 1] = 
gíesNumbî
;

285 #ifde‡
T_CREATE


286 
	`¥ötf
("\nCREATE POPULATION:");

287 
this
->
	`Di•œyPoﬁ
(
VERBOSE_LOW
);

290 
	}
}

295 
	gP›uœti⁄
::
	$Evﬁve
(c⁄° 
_vîbo£
) {

297 #i‚de‡
T_EVOLVE


302 
this
->
	`CÀ™Gíes
();

304 
this
->
	`EvÆu©e
();

305 
this
->
	`Di•œyPoﬁ
(
_vîbo£
);

310 
_ign
 = 0; _ig¿< 
gíî©i⁄sNumbî
; _ign++) {

312 i‡(
_vîbo£
 >
VERBOSE_MIN
)

313 
	`¥ötf
("(%3dË- COMPUTING GENERATION: %5d FROM %5d\n", 
DEBUG_ITERATIONS
, 
_ign
, 
gíî©i⁄sNumbî
);

315 
this
->
	`Sñe˘
(
£À˘i⁄Mëhod
);

316 
this
->
	`Crossovî
();

317 
this
->
	`Muèã
();

319 
this
->
	`EvÆu©e
();

320 
this
->
	`Di•œyPoﬁ
(
_vîbo£
);

322 
this
->
	`R™kögUpd©e
();

323 i‡(
ao_poﬁ
[
a_p›Li°
[0]].
	`gëFô√ss
() <= 0.0)

324 
this
->
	`S‹t_by_u£ful_°ïs
(0, 
p›uœti⁄Size
 - 1);

326 
this
->
	`SëGíî©i⁄Sèts
(
_ign
);

329 i‡(
_vîbo£
 >
VERBOSE_LOW
) {

330 
°d
::
cout
 << "AVERAGE FITNESS OF THIS GENERATION: " << 
avgFô√ss
 << std::
ídl
;

331 
°d
::
cout
 << "FITNESS FITTEST INDIVIDUAL OF THIS GENERATION: " << 
ao_poﬁ
[
a_p›Li°
[0]].
	`gëFô√ss
()<< std::
ídl
;

332 
	`¥ötf
("FITNESS FITTEST INDIVIDUAL OF THIS GENERATION: %1.10f\n", 
ao_poﬁ
[
a_p›Li°
[0]].
	`gëFô√ss
());

335 
°d
::
cout
 << "DISPLAY BEST INDIVIDUAL :"<<°d::
ídl
;

337 
ao_poﬁ
[
a_p›Li°
[0]].
	`PrötGíome
("");

339 i‡(
_vîbo£
 >
VERBOSE_HIGH
) {

340 
	`Pröt_Ouçuts_Fûes
();

345 
	`¥ötf
("\nTEST EVOLVE:");

346 
	`¥ötf
("\nCleanGenes:");

347 
this
->
	`CÀ™Gíes
();

348 
	`¥ötf
("\nCreate:");

349 
this
->
	`Cª©e
();

350 
	`¥ötf
("\nEvaluate:");

351 
this
->
	`EvÆu©e
();

352 
	`¥ötf
("\nSñe˘: %d", 
£À˘i⁄Mëhod
);

353 
this
->
	`Sñe˘
(
£À˘i⁄Mëhod
);

354 
	`¥ötf
("\nCrossover:");

355 
this
->
	`Crossovî
();

356 
	`¥ötf
("\nMutate:");

357 
this
->
	`Muèã
();

358 
	`¥ötf
("\nEvaluate:");

359 
this
->
	`EvÆu©e
();

360 
this
->
	`Di•œyPoﬁ
(
VERBOSE_MIN
);

362 
	`¥ötf
("\nTEST FITNESS FUNCTION:");

363 
this
->
	`R™kögUpd©e
();

364 
this
->
o_ffô√ss
.
	`CÆcFô√ss
—his->
ao_poﬁ
[
a_p›Li°
[0]]);

367 
	`¥ötf
("*********************************************************************\n");

368 
DEBUG_ITERATIONS
++;

369 
	}
}

377 
	gP›uœti⁄
::
	$CÀ™Gíes
() {

379 #ifde‡
T_CLEAN_GENES


380 
	`¥ötf
("\nTEST CLEAN GENES:");

384 
_i‹g
 = 
a_p›Li°
[0];

385 
_gí
 
_ãmp_a_gíes
[
GENES_NUMBER
];

386 
_igí
 = 0;

387 
_gí
 
_a˘i⁄
 = 0;

388 
_gíesNumbî
 = 0;

389 
_ödex_ãmp
 = 0;

391 
_gíesNumbî
 = 
ao_poﬁ
[
_i‹g
].
	`gë_u£ful_°ïs_ƒ
();

392 
_ödex_ãmp
 = 0;

394 
_igí
 = 0; _igí < 
_gíesNumbî
; _igen++) {

395 
_a˘i⁄
 = 
ao_poﬁ
[
_i‹g
].
	`gëGíe
(
_igí
);

398 i‡((
_ödex_ãmp
 > 0) &&

399 ((
_a˘i⁄
 =
TURN_RIGHT
 && 
_ãmp_a_gíes
[
_ödex_ãmp
-1] =
TURN_LEFT
) || \

400 (
_a˘i⁄
 =
TURN_LEFT
 && 
_ãmp_a_gíes
[
_ödex_ãmp
-1] =
TURN_RIGHT
)))

401 
_ödex_ãmp
--;

411 
_ãmp_a_gíes
[
_ödex_ãmp
] = 
_a˘i⁄
;

412 
_ödex_ãmp
++;

416 
_igí
 = 0; _igí < 
_ödex_ãmp
; _igen++)

417 
ao_poﬁ
[
_i‹g
].
	`£tGíe
(
_igí
, 
_ãmp_a_gíes
[_igen]);

419 
ao_poﬁ
[
_i‹g
].
	`£t_u£ful_°ïs_ƒ
(
_ödex_ãmp
);

421 
	}
}

429 
	gP›uœti⁄
::
	$EvÆu©e
() {

431 
_i‹g
;

432 
_gﬂl_°ï
;

433 
_gﬂl_di°™˚
;

434 
_föÆ_co‹d
[3];

435 
_fô√ss
 = -1.0;

438 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++) {

441 
_fô√ss
 = 
this
->
o_ffô√ss
.
	`CÆcFô√ss
(
ao_poﬁ
[
_i‹g
]);

442 
_gﬂl_°ï
 = 
gíesNumbî
;

443 
_gﬂl_di°™˚
 = -1;

444 
this
->
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`gë_cuºít_posôi⁄
(
_föÆ_co‹d
);

445 
_gﬂl_°ï
 = 
this
->
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`gë_u£ful_°ïs_ƒ
();

447 i‡(
this
->
o_ffô√ss
.
a_mŸiv©i⁄s
[3] > 0.0) {

448 
_gﬂl_°ï
 = 
this
->
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`gë_mö_missi⁄s_°ïs
();

449 
_gﬂl_di°™˚
 = 
this
->
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`gë_mö_missi⁄s_di°™˚
();

450 
this
->
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`gë_missi⁄_˛o£r_posôi⁄
(
_föÆ_co‹d
);

453 
this
->
ao_poﬁ
[
_i‹g
].
	`£t_fulfûlmít_¥odu˘s
—his->
o_ffô√ss
.
a_fô√ss
);

454 
this
->
ao_poﬁ
[
_i‹g
].
	`£tFô√ss
(
_fô√ss
);

455 
this
->
ao_poﬁ
[
_i‹g
].
	`£t_u£ful_°ïs_ƒ
(
_gﬂl_°ï
);

456 
this
->
ao_poﬁ
[
_i‹g
].
	`£t_mö_gﬂl_di°™˚
(
_gﬂl_di°™˚
);

457 
this
->
ao_poﬁ
[
_i‹g
].
	`£t_föÆ_posôi⁄
(
_föÆ_co‹d
);

461  (
p›uœti⁄Size
 - 
_i‹g
);

462 
	}
}

468 
	gP›uœti⁄
::
	$Sñe˘
(
_mëhod
) {

469 
this
->
£À˘ed
 = 0;

471 i‡(
_mëhod
 =
ROULETTE
) {

472 
this
->
	`RouÀâe
();

475 i‡(
_mëhod
 =
ROULETTE_ELITE
) {

476 
this
->
	`Elôe
();

477 
this
->
	`RouÀâe
();

480 i‡(
_mëhod
 =
TOURNAMENT
) {

481 
this
->
	`Tou∫amít
();

484 i‡(
_mëhod
 =
TOURNAMENT_ELITE
) {

485 
this
->
	`Elôe
();

486 
this
->
	`Tou∫amít
();

489 i‡(
_mëhod
 =
TOURNAMENT_ELITE_RANDOM
) {

490 
this
->
	`Elôe
();

491 
this
->
	`R™domImmigø¡s
();

492 
this
->
	`Tou∫amít
();

496 #ifde‡
T_SELECT


497 
this
->
	`Di•œyM©ög
(1);

500 
	}
}

510 
	gP›uœti⁄
::
	$Crossovî
() {

512 #ifde‡
T_CROSSOVER


513 
	`¥ötf
("\nTEST CROSSOVER");

514 
_ùts
 = 0; _ùt†< 
¸ossPoötsNumbî
; _ipts++) {

515 
	`¥ötf
("\n\tCros†Poöt†TŸÆ Numbî(%3d): GEN:%5d", 
_ùts
, 
a_poöts
[_ipts]);

520 
_∑ª¡s
[2], 
_chûdªn
[2], 
_fú°Org
;

522 i‡((
£À˘i⁄Mëhod
 =
ROULETTE_ELITE
Ë|| (£À˘i⁄Mëhod =
TOURNAMENT_ELITE
)) {

523 
_fú°Org
 = 
ñôeNumbî
 + 
ñôe_fixed
;

525 i‡((
£À˘i⁄Mëhod
 =
TOURNAMENT_ELITE_RANDOM
)) {

526 
_fú°Org
 = 
ñôeNumbî
 + 
ñôe_fixed
 + 
øndomImmigø¡s
;

528 i‡((
£À˘i⁄Mëhod
 =
ROULETTE
Ë|| (£À˘i⁄Mëhod =
TOURNAMENT
)) {

529 
_fú°Org
 = 0;

532 i‡((
_fú°Org
 % 2) == 1) {

533 
_fú°Org
++;

537 
_õ
 = 0; _õ < 
_fú°Org
; _ie++)

538 
	`Du∂iˇã_IndividuÆ
(
_õ
, _ie);

540 
_i‹g
 = 
_fú°Org
; _i‹g < 
p›uœti⁄Size
; _iorg += 2) {

541 
_∑ª¡s
[0] = 
_i‹g
;

542 
_∑ª¡s
[1] = 
_i‹g
 + 1;

543 
_chûdªn
[0] = 
_i‹g
;

544 
_chûdªn
[1] = 
_i‹g
 + 1;

545 
this
->
	`CrossP¨íts
(
_∑ª¡s
, 
_chûdªn
, 
a_poöts
);

548 
	}
}

556 
	gP›uœti⁄
::
	$Muèã
() {

558 #ifde‡
T_MUTATION


559 
	`¥ötf
("\nTEST MUTATION WITH PROBABILITY (%f):", 
this
->
	`gëMuèti⁄sR©e
());

562 
_gí
 
_√wGí
;

563 
_°¨t_ödividuÆ
 = 0;

565 i‡((
£À˘i⁄Mëhod
 =
ROULETTE_ELITE
Ë|| (£À˘i⁄Mëhod =
TOURNAMENT_ELITE
)) {

566 
_°¨t_ödividuÆ
 = 
ñôeNumbî
 + 
ñôe_fixed
;

568 i‡((
£À˘i⁄Mëhod
 =
TOURNAMENT_ELITE_RANDOM
)) {

569 
_°¨t_ödividuÆ
 = 
ñôeNumbî
 + 
ñôe_fixed
 + 
øndomImmigø¡s
;

571 i‡((
£À˘i⁄Mëhod
 =
ROULETTE
Ë|| (£À˘i⁄Mëhod =
TOURNAMENT
)) {

572 
_°¨t_ödividuÆ
 = 0;

575 i‡((
_°¨t_ödividuÆ
 % 2) == 1) {

576 
_°¨t_ödividuÆ
++;

579 
_i‹g
 = 
_°¨t_ödividuÆ
; _i‹g < 
p›uœti⁄Size
; _iorg++) {

581 i‡(
	`doubÀR™dom01
(6Ë< 
this
->
muèti⁄sR©e
) {

583 #ifde‡
T_MUTATION


584 
	`¥ötf
("\nORGANISM BEFORE %5d o‡%5d: MUTATED GEN: %3d\n", 
_i‹g
, 
p›uœti⁄Size
 - 1, 
_√wGí
);

585 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

586 
	`¥ötf
("%x ", 
this
->
ao_poﬁ
[
_i‹g
].
	`gëGíe
(
_igí
));

589 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++) {

590 i‡(
	`doubÀR™dom01
(6Ë< 
this
->
muèti⁄sR©e
) {

591 
_√wGí
 = (
_gí
Ë
	`R™domR™ge
(
ACTIONS_NUMBER
 - 1);

592 
this
->
	`£tGíe
(
_i‹g
, 
_igí
, 
_√wGí
);

596 
this
->
	`£tFô√ss
(
_i‹g
, -1);

598 #ifde‡
T_MUTATION


599 
	`¥ötf
("\nORGANISM AFTER %5d o‡%5d\n", 
_i‹g
, 
p›uœti⁄Size
 - 1);

600 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

601 
	`¥ötf
("%x ", 
this
->
a_poﬁ
[
_i‹g
].
	`gëGíe
(
_igí
));

606 
	}
}

615 
	gP›uœti⁄
::
	$Elôe
() {

616 
this
->
	`R™kögUpd©e
();

618 #ifde‡
T_ELITE_SELECTION


619 
	`¥ötf
("\nTEST SELECT USING ELITE (%d):", 
this
->
ñôeNumbî
);

623 
_i‹g
 = 0; _i‹g < 
ñôeNumbî
; _iorg++) {

625 #ifde‡
T_ELITE_SELECTION


626 
	`¥ötf
("\nELITE SELECTED: %3d ORG: %2d Ranking: %d",

627 
£À˘ed
, 
a_p›Li°
[
_i‹g
], 
this
->
ao_poﬁ
[a_p›Li°[_i‹g]].
	`gëR™kög
());

630 
this
->
	`ToM©ög
(
a_p›Li°
[
_i‹g
]);

634 #ifde‡
USE_ELITE_FIX_FUNCTION


635 i‡(
ñôe_fixed
 != 0) {

637 
_i‹g
 = 0; _i‹g < 
ñôe_fixed
; _iorg++)

638 
this
->
	`ToM©ög
(
a_p›Li°
[0]);

640 
	`Elôe_Fix_Fun˘i⁄
();

643 
	}
}

652 
	gP›uœti⁄
::
	$Elôe_Fix_Fun˘i⁄
() {

654 #ifde‡
T_ELITE_FIX_FUNCTION


655 
	`¥ötf
("\nTEST ELITE FIX FUNCTION");

658 
_gí
 
_a˘i⁄
;

659 
_igí
 = 0;

660 
boﬁ
 
_ch™ge
 = 
Ál£
;

661 
_sum_™gÀ_À·
 = 0.0;

662 
_sum_™gÀ_right
 = 0.0;

664 
_igí
 < 
gíesNumbî
) {

665 ((
_a˘i⁄
 = 
ao_m©ögPoﬁ
[0].
	`gëGíe
(
_igí
++)Ë=
FORWARD
)) {

666 
_sum_™gÀ_À·
 = 0.0;

667 
_sum_™gÀ_right
 = 0.0;

669 i‡(
_a˘i⁄
 =
TURN_LEFT
Ë
_sum_™gÀ_À·
 +
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`gë_™gÀ_Àngth
();

670 i‡(
_a˘i⁄
 =
TURN_RIGHT
Ë
_sum_™gÀ_right
 +
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`gë_™gÀ_Àngth
();

677 i‡((
_sum_™gÀ_right
 >180Ë|| (
_sum_™gÀ_À·
 >= 180)) {

678 
_ch™ge
 = 
åue
;

679 
_sum_™gÀ_À·
 = 0.0;

680 
_sum_™gÀ_right
 = 0.0;

682 i‡((
_a˘i⁄
 =
TURN_LEFT
)) {

683 i‡((
ao_m©ögPoﬁ
[0].
	`gëGíe
(
_igí
Ë=
TURN_RIGHT
)) {

684 
_ch™ge
 = 
åue
;

687 i‡(
_a˘i⁄
 =
TURN_RIGHT
) {

688 i‡(
ao_m©ögPoﬁ
[0].
	`gëGíe
(
_igí
Ë=
TURN_LEFT
)

690 
_ch™ge
 = 
åue
;

715 i‡(
_ch™ge
 =
åue
) {

716 
_ch™ge
 = 
Ál£
;

717 
_i‹g
 = 1; _i‹g <
ñôe_fixed
; _iorg++) {

718 
ao_m©ögPoﬁ
[
_i‹g
].
	`£tGíe
(
_igí
 - 1, (
_gí
Ë
	`R™domR™ge
(
ACTIONS_NUMBER
 - 1));

719 
ao_m©ögPoﬁ
[
_i‹g
].
	`£tGíe
(
_igí
 - 0, (
_gí
Ë
	`R™domR™ge
(
ACTIONS_NUMBER
 - 1));

720 
ao_m©ögPoﬁ
[
_i‹g
].
	`£tFô√ss
(-1.0);

721 
ao_m©ögPoﬁ
[
_i‹g
].
	`£tR™kög
(-1);

727 #ifde‡
T_ELITE_FIX_FUNCTION


728 
_i‹g
 = 0; _i‹g < (
ñôe_fixed
 + 
ñôeNumbî
); _iorg++) {

729 
ao_m©ögPoﬁ
[
_i‹g
].
	`PrötGíome
("./TEST_ELITE_FIX_FUNCTION");

733 
	}
}

741 
	gP›uœti⁄
::
	$R™domImmigø¡s
() {

743 #ifde‡
T_IMMIGRANTS_SELECTION


744 
	`¥ötf
("\nTEST SELECT USING RANDOM IMMIGRANTS (%d):", 
this
->
øndomImmigø¡s
);

748 
_i‹g
 = 0; _i‹g < 
øndomImmigø¡s
; _iorg++)

749 
	`ToM©ög
(-1);

750 
	}
}

756 
	gP›uœti⁄
::
	$RouÀâe
() {

757 
_¶i˚
 = 0.0;

758 
this
->
	`SumTŸÆFô√ss
();

762 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++) {

764 i‡(
sumFô√ss
 > 0.0) {

765 
_¶i˚
 +
this
->
	`gëFô√ss
—his->
a_p›Li°
[
_i‹g
]Ë/ 
sumFô√ss
;

767 
_¶i˚
 += 0.0;

770 
this
->
	`£tSli˚
—his->
a_p›Li°
[
_i‹g
], 
_¶i˚
);

773 #ifde‡
T_ROULETTE_SELECTION


774 
	`¥ötf
("\nTEST SELECT USING ROULETTE WHEEL:");

777 #ifde‡
T_ROULETTE_SLICE


778 
_‹gN
 = 0;

779 
	`¥ötf
("\nORG: %3d SLICE: %1.6f ACCUM: %1.6f",

780 
a_p›Li°
[
_‹gN
], 
	`gëSli˚
(a_popList[_orgN]), getSlice(a_popList[_orgN]));

781 
_‹gN
 = 1; _‹gN < 
p›uœti⁄Size
; _orgN++)

782 
	`¥ötf
("\nORG: %3d SLICE: %1.6f ACCUM: %1.6f",

783 
a_p›Li°
[
_‹gN
], 
	`gëSli˚
(a_popList[_orgN]) - getSlice(a_popList[_orgN - 1]), getSlice(a_popList[_orgN]));

787 
ãmpR™d1
 = 0.0;

788 
£À˘ed
 !
p›uœti⁄Size
)

791 
ãmpR™d1
 = 
	`doubÀR™dom01
(6);

796 
aux_£À˘ed
 = 
£À˘ed
;

797 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++) {

799 #ifde‡
T_ROULETTE_SELECTION


800 
	`¥ötf
("\nROULETTE SELECTED: %3d ORG: %d RAND: %f SLICE: %f",

801 
£À˘ed
, 
ao_p›Li°
[
_i‹g
], 
ãmpR™d1
, 
this
->
	`gëSli˚
(
a_p›Li°
[_iorg]));

804 i‡(
ãmpR™d1
 <
this
->
	`gëSli˚
(
a_p›Li°
[
_i‹g
])) {

806 #ifde‡
T_ROULETTE_SELECTION


807 
	`¥ötf
(" *");

810 
this
->
	`ToM©ög
—his->
a_p›Li°
[
_i‹g
]);

814 i‡(
aux_£À˘ed
 =
£À˘ed
) {

815 
this
->
	`ToM©ög
—his->
a_p›Li°
[
£À˘ed
]);

818 
	}
}

826 
	gP›uœti⁄
::
	$Tou∫amít
() {

827 
ãmpR™d1
, 
ãmpR™d2
;

829 #ifde‡
T_TOURNAMENT_SELECTION


830 
	`¥ötf
("\nTEST SELECT USING TOURNAMENT (%f):", 
this
->
tou∫amítP¨am
);

833 
£À˘ed
 !
p›uœti⁄Size
) {

835 
ãmpR™d1
 = 
	`R™domR™ge
(
p›uœti⁄Size
 - 1);

836 
ãmpR™d2
 = 
	`R™domR™ge
(
p›uœti⁄Size
 - 1);

839 i‡(
	`gëFô√ss
(
ãmpR™d1
Ë< gëFô√ss(
ãmpR™d2
)) {

840 
	`SWAP
(, 
ãmpR™d1
, 
ãmpR™d2
);

847 i‡(
	`doubÀR™dom01
(6Ë< 
tou∫amítP¨am
) {

849 #ifde‡
T_TOURNAMENT_SELECTION


850 
	`¥ötf
("\nTOURNAMENT SELECTED: %3d ORG: %d RANKING: %d",

851 
£À˘ed
, 
ãmpR™d1
, 
this
->
	`gëR™kög
(tempRand1));

854 
	`ToM©ög
(
ãmpR™d1
);

858 #ifde‡
T_TOURNAMENT_SELECTION


859 
	`¥ötf
("\nTOURNAMENT SELECTED: %3d ORG: %d RANKING: %d",

860 
£À˘ed
, 
ãmpR™d2
, 
this
->
	`gëR™kög
(tempRand2));

863 
	`ToM©ög
(
ãmpR™d2
);

866 
	}
}

877 
	gP›uœti⁄
::
	$CrossP¨íts
(c⁄° 
_∑ª¡s
[], c⁄° 
_chûdªn
[], c⁄° 
_a_poöts
[]) {

879 #ifde‡
T_CROSSOVER_PARENTS


880 
	`¥ötf
("\nTEST CROSSOVER PARENTS: %3d %3d", 
_∑ª¡s
[0], _parents[1]);

881 
	`¥ötf
("\nTEST CROSSOVER WITH PROBABILITY (%f):", 
this
->
¸ossovîProbabûôy
);

883 
	`¥ötf
("\nParent Member %5d of %5d: FITNESS: %2.3f RANKING: %3d\n",

884 
_∑ª¡s
[0], 
p›uœti⁄Size
 - 1, 
this
->
ao_m©ögPoﬁ
[_∑ª¡s[0]].
	`gëFô√ss
(),Åhis->ao_m©ögPoﬁ[_∑ª¡s[0]].
	`gëR™kög
());

885 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

886 
	`¥ötf
("%x ", 
this
->
ao_m©ögPoﬁ
[
_∑ª¡s
[0]].
	`gëGíe
(
_igí
));

888 
	`¥ötf
("\nParent Member %5d of %5d: FITNESS: %2.3f RANKING: %3d\n",

889 
_∑ª¡s
[1], 
p›uœti⁄Size
 - 1, 
this
->
ao_m©ögPoﬁ
[_∑ª¡s[1]].
	`gëFô√ss
(),Åhis->ao_m©ögPoﬁ[_∑ª¡s[1]].
	`gëR™kög
());

890 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

891 
	`¥ötf
("%x ", 
this
->
ao_m©ögPoﬁ
[
_∑ª¡s
[1]].
	`gëGíe
(
_igí
));

895 
boﬁ
 
_wasItCross
 = 
Ál£
;

896 
_igí
 = 0, 
_ùts
 = 0;

897 
_ùts
 < 
¸ossPoötsNumbî
) {

898 i‡(
	`doubÀR™dom01
(6Ë< 
¸ossovîProbabûôy
) {

899 
_wasItCross
 = 
åue
;

900 
_igí
 < 
_a_poöts
[
_ùts
]) {

901 
ao_poﬁ
[
_chûdªn
[0]].
	`£tGíe
(
_igí
, 
ao_m©ögPoﬁ
[
_∑ª¡s
[1]].
	`gëGíe
(_igen));

902 
ao_poﬁ
[
_chûdªn
[1]].
	`£tGíe
(
_igí
, 
ao_m©ögPoﬁ
[
_∑ª¡s
[0]].
	`gëGíe
(_igen));

903 
_igí
++;

907 
_igí
 < 
_a_poöts
[
_ùts
]) {

908 
ao_poﬁ
[
_chûdªn
[0]].
	`£tGíe
(
_igí
, 
ao_m©ögPoﬁ
[
_∑ª¡s
[0]].
	`gëGíe
(_igen));

909 
ao_poﬁ
[
_chûdªn
[1]].
	`£tGíe
(
_igí
, 
ao_m©ögPoﬁ
[
_∑ª¡s
[1]].
	`gëGíe
(_igen));

910 
_igí
++;

913 
_ùts
++;

918 i‡(
_wasItCross
) {

919 
ao_poﬁ
[
_chûdªn
[0]].
	`£tFô√ss
(-1.0);

920 
ao_poﬁ
[
_chûdªn
[1]].
	`£tFô√ss
(-1.0);

924 
ao_poﬁ
[
_chûdªn
[0]].
	`£tFô√ss
(
ao_m©ögPoﬁ
[
_∑ª¡s
[0]].
	`gëFô√ss
());

925 
ao_poﬁ
[
_chûdªn
[1]].
	`£tFô√ss
(
ao_m©ögPoﬁ
[
_∑ª¡s
[1]].
	`gëFô√ss
());

929 #ifde‡
T_CROSSOVER_PARENTS


930 
	`¥ötf
("\nChild Member %5d of %5d: FITNESS: %2.3f RANKING: %3d\n",

931 
_chûdªn
[0], 
p›uœti⁄Size
 - 1, 
this
->
ao_poﬁ
[_chûdªn[0]].
	`gëFô√ss
(),Åhis->ao_poﬁ[_chûdªn[0]].
	`gëR™kög
());

932 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

933 
	`¥ötf
("%x ", 
this
->
ao_poﬁ
[
_chûdªn
[0]].
	`gëGíe
(
_igí
));

935 
	`¥ötf
("\nChild Member %5d of %5d: FITNESS: %2.3f RANKING: %3d\n",

936 
_chûdªn
[1], 
p›uœti⁄Size
 - 1, 
this
->
ao_poﬁ
[_chûdªn[1]].
	`gëFô√ss
(),Åhis->ao_poﬁ[_chûdªn[1]].
	`gëR™kög
());

937 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

938 
	`¥ötf
("%x ", 
this
->
ao_poﬁ
[
_chûdªn
[1]].
	`gëGíe
(
_igí
));

941 
	}
}

949 
	gP›uœti⁄
::
	$Du∂iˇã_IndividuÆ
(c⁄° 
_∑ª¡
, c⁄° 
_chûd
) {

950 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

951 
ao_poﬁ
[
_chûd
].
	`£tGíe
(
_igí
, 
ao_m©ögPoﬁ
[
_∑ª¡
].
	`gëGíe
(_igen));

954 
ao_poﬁ
[
_chûd
].
	`£tFô√ss
(
ao_m©ögPoﬁ
[
_∑ª¡
].
	`gëFô√ss
());

955 
ao_poﬁ
[
_chûd
].
	`£tR™kög
(-1);

956 
	}
}

961 
	gP›uœti⁄
::
	$gëP›uœti⁄Size
() const {

962  (
this
->
p›uœti⁄Size
);

963 
	}
}

966 
	gP›uœti⁄
::
	$gëGíî©i⁄sNumbî
() const {

967  (
this
->
gíî©i⁄sNumbî
);

968 
	}
}

971 
	gP›uœti⁄
::
	$gëGíesNumbî
() const {

972  (
this
->
gíesNumbî
);

973 
	}
}

976 
	gP›uœti⁄
::
	$gëSñe˘i⁄Mëhod
() const {

977  (
this
->
£À˘i⁄Mëhod
);

978 
	}
}

981 
	gP›uœti⁄
::
	$gëElôeNumbî
() const {

982  (
this
->
ñôeNumbî
);

983 
	}
}

986 
	gP›uœti⁄
::
	$gë_ñôe_fixed
() const {

987  (
this
->
ñôe_fixed
);

988 
	}
}

991 
	gP›uœti⁄
::
	$gëR™domImmigø¡s
() const {

992  (
this
->
øndomImmigø¡s
);

993 
	}
}

996 
	gP›uœti⁄
::
	$gëCrossPoötsNumbî
() const {

997  (
this
->
¸ossPoötsNumbî
);

998 
	}
}

1001 
	gP›uœti⁄
::
	$gëMuèti⁄sR©e
() const {

1002  (
this
->
muèti⁄sR©e
);

1003 
	}
}

1006 
	gP›uœti⁄
::
	$gëTou∫amítP¨am
() const {

1007  (
this
->
tou∫amítP¨am
);

1008 
	}
}

1011 
	gP›uœti⁄
::
	$gëCrossovîProbabûôy
() const {

1012  (
this
->
¸ossovîProbabûôy
);

1013 
	}
}

1016 
_gí
 
	gP›uœti⁄
::
	$gë_ñôe_°ï
(
_°ï
) const {

1017  (
this
->
ao_poﬁ
[
a_p›Li°
[0]].
	`gëGíe
(
_°ï
));

1018 
	}
}

1021 
	gP›uœti⁄
::
	$gë_e_föÆ_posôi⁄
(
_co‹dö©es
[]) const {

1022 
this
->
ao_poﬁ
[
a_p›Li°
[0]].
	`gë_föÆ_posôi⁄
(
_co‹dö©es
);

1023 
	}
}

1027 
	gP›uœti⁄
::
	$gë_e_u£ful_°ïs_ƒ
() const {

1028  (
this
->
ao_poﬁ
[
a_p›Li°
[0]].
	`gë_u£ful_°ïs_ƒ
());

1029 
	}
}

1032 
	gP›uœti⁄
::
	$gë_e_gﬂl_di°™˚
() const {

1033  (
this
->
ao_poﬁ
[
a_p›Li°
[0]].
	`gë_mö_gﬂl_di°™˚
());

1034 
	}
}

1037 
	gP›uœti⁄
::
	$gë_e_fô√ss
() const {

1038  (
this
->
ao_poﬁ
[
a_p›Li°
[0]].
	`gëFô√ss
());

1039 
	}
}

1042 
	gP›uœti⁄
::
	$gë_e_fulfûlmít_¥od
(
_fulfûlmít
[]) const {

1043 
this
->
ao_poﬁ
[
a_p›Li°
[0]].
	`gë_fulfûlmít_¥odu˘s
(
_fulfûlmít
);

1044 
	}
}

1047 
	gP›uœti⁄
::
	$gë_ñôe_gíëy≥
(
_gí
 
_gíŸy≥
[]) const {

1048 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++) {

1049 
_gíŸy≥
[
_igí
] = 
this
->
ao_poﬁ
[
a_p›Li°
[0]].
	`gëGíe
(_igen);

1051 
	}
}

1055 
	gP›uœti⁄
::
	$£tP›uœti⁄Size
(
_vÆue
) {

1056 
this
->
p›uœti⁄Size
 = 
_vÆue
;

1057 
_i‹g
 = 0; _i‹g < 
this
->
p›uœti⁄Size
; _iorg++)

1058 
this
->
a_p›Li°
[
_i‹g
] = _iorg;

1061 
	}
}

1065 
	gP›uœti⁄
::
	$£tGíî©i⁄sNumbî
(
_vÆue
) {

1066 
this
->
gíî©i⁄sNumbî
 = 
_vÆue
;

1067 
	}
}

1070 
	gP›uœti⁄
::
	$£tGíesNumbî
(
_vÆue
) {

1071 
this
->
gíesNumbî
 = 
_vÆue
;

1072 
_i‹g
 = 0; _i‹g < 
this
->
p›uœti⁄Size
; _iorg++)

1073 
ao_poﬁ
[
_i‹g
].
	`£tGíesNumbî
(
gíesNumbî
);

1074 
	}
}

1077 
	gP›uœti⁄
::
	$£tSñe˘i⁄Mëhod
(
_vÆue
) {

1078 
this
->
£À˘i⁄Mëhod
 = 
_vÆue
;

1079 
	}
}

1082 
	gP›uœti⁄
::
	$£tElôeNumbî
(
_vÆue
) {

1083 
this
->
ñôeNumbî
 = 
_vÆue
;

1084 
	}
}

1087 
	gP›uœti⁄
::
	$£t_ñôe_fixed
(
_vÆue
) {

1088 
this
->
ñôe_fixed
 = 
_vÆue
;

1089 
	}
}

1092 
	gP›uœti⁄
::
	$£tR™domImmigø¡s
(
_vÆue
) {

1093 
this
->
øndomImmigø¡s
 = 
_vÆue
;

1094 
	}
}

1097 
	gP›uœti⁄
::
	$£tCrossPoötsNumbî
(
_vÆue
) {

1098 
this
->
¸ossPoötsNumbî
 = 
_vÆue
;

1099 
	}
}

1102 
	gP›uœti⁄
::
	$£tMuèti⁄sR©e
(
_vÆue
) {

1103 
this
->
muèti⁄sR©e
 = 
_vÆue
;

1104 
	}
}

1107 
	gP›uœti⁄
::
	$£tTou∫amítP¨am
(
_vÆue
) {

1108 
this
->
tou∫amítP¨am
 = 
_vÆue
;

1109 
	}
}

1112 
	gP›uœti⁄
::
	$£tCrossovîProbabûôy
(
_vÆue
) {

1113 
this
->
¸ossovîProbabûôy
 = 
_vÆue
;

1114 
	}
}

1128 
	gP›uœti⁄
::
	$ToM©ög
(
_i‹g
) {

1129 
_igí
;

1131 i‡(
_i‹g
 >= 0) {

1133 
this
->
ao_m©ögPoﬁ
[
£À˘ed
].
	`£tFô√ss
(
ao_poﬁ
[
_i‹g
].
	`gëFô√ss
());

1134 
this
->
ao_m©ögPoﬁ
[
£À˘ed
].
	`£tR™kög
(
ao_poﬁ
[
_i‹g
].
	`gëR™kög
());

1137 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

1138 
this
->
ao_m©ögPoﬁ
[
£À˘ed
].
	`£tGíe
(
_igí
, 
ao_poﬁ
[
_i‹g
].
	`gëGíe
(_igen));

1143 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

1144 
this
->
ao_m©ögPoﬁ
[
£À˘ed
].
	`£tGíe
(
_igí
, (
_gí
Ë
	`R™domR™ge
(
ACTIONS_NUMBER
 - 1));

1147 
this
->
ao_m©ögPoﬁ
[
£À˘ed
].
	`£tFô√ss
(-1.0);

1148 
this
->
ao_m©ögPoﬁ
[
£À˘ed
].
	`£tR™kög
(-1);

1150 
this
->
£À˘ed
++;

1151 
	}
}

1157 
	gP›uœti⁄
::
	$S‹t_by_u£ful_°ïs
(
fú°
, 
œ°
) {

1158 
À·
 = 
fú°
;

1159 
right
 = 
œ°
;

1160 
pivŸ
 = 
this
->
ao_poﬁ
[
a_p›Li°
[(
fú°
 + 
œ°
Ë/ 2]].
	`gë_u£ful_°ïs_ƒ
();

1161 
aux
;

1164 
this
->
ao_poﬁ
[
a_p›Li°
[
À·
]].
	`gë_u£ful_°ïs_ƒ
(Ë> 
pivŸ
)Üeft++;

1165 
this
->
ao_poﬁ
[
a_p›Li°
[
right
]].
	`gë_u£ful_°ïs_ƒ
(Ë< 
pivŸ
)Ñight--;

1166 i‡(
À·
 <
right
) {

1167 
aux
 = 
this
->
a_p›Li°
[
right
];

1168 
this
->
a_p›Li°
[
right
] =Åhis->a_p›Li°[
À·
];

1169 
this
->
a_p›Li°
[
À·
] = 
aux
;

1170 
À·
++;

1171 
right
--;

1173 } 
À·
 <
right
);

1175 i‡(
fú°
 < 
right
Ë
this
->
	`S‹t_by_u£ful_°ïs
(first,Ñight);

1176 i‡(
œ°
 > 
À·
Ë
this
->
	`S‹t_by_u£ful_°ïs
(left,Üast);

1177 
	}
}

1186 
	gP›uœti⁄
::
	$S‹tP›GL
(
fú°
, 
œ°
) {

1187 
À·
 = 
fú°
;

1188 
right
 = 
œ°
;

1189 
pivŸ
 = 
this
->
	`gëFô√ss
—his->
a_p›Li°
[(
fú°
 + 
œ°
) / 2]);

1190 
aux
;

1193 
this
->
	`gëFô√ss
—his->
a_p›Li°
[
À·
]Ë> 
pivŸ
)Üeft++;

1194 
this
->
	`gëFô√ss
—his->
a_p›Li°
[
right
]Ë< 
pivŸ
)Ñight--;

1195 i‡(
À·
 <
right
) {

1196 
aux
 = 
this
->
a_p›Li°
[
right
];

1197 
this
->
a_p›Li°
[
right
] =Åhis->a_p›Li°[
À·
];

1198 
this
->
a_p›Li°
[
À·
] = 
aux
;

1199 
À·
++;

1200 
right
--;

1202 } 
À·
 <
right
);

1204 i‡(
fú°
 < 
right
Ë
this
->
	`S‹tP›GL
(first,Ñight);

1205 i‡(
œ°
 > 
À·
Ë
this
->
	`S‹tP›GL
(left,Üast);

1206 
	}
}

1215 
	gP›uœti⁄
::
	$R™kögUpd©e
() {

1216 
this
->
	`S‹tP›GL
(0, 
p›uœti⁄Size
 - 1);

1218 
this
->
sumFô√ss
 = 0.0;

1220 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++) {

1221 
this
->
ao_poﬁ
[
a_p›Li°
[
_i‹g
]].
	`£tR™kög
(_iorg);

1222 
this
->
sumFô√ss
 +
ao_poﬁ
[
_i‹g
].
	`gëFô√ss
();

1224 
this
->
avgFô√ss
 =Åhis->
sumFô√ss
 /Åhis->
p›uœti⁄Size
;

1227 #ifde‡
T_RANKING_UPDATE


1228 
	`¥ötf
("\nTEST RANKING UPDATE:");

1229 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++) {

1230 
	`¥ötf
("\nFitness for member %5d of %5d: %2.3f \t Ranking: %d",

1231 
_i‹g
, 
p›uœti⁄Size
 - 1, 
this
->
ao_poﬁ
[_i‹g].
	`gëFô√ss
(),Åhis->ao_poﬁ[_i‹g].
	`gëR™kög
());

1235 
	}
}

1243 
ölöe
 
	gP›uœti⁄
::
	$SumTŸÆFô√ss
() {

1244 
this
->
sumFô√ss
 = 0.0;

1247 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++)

1248 
this
->
sumFô√ss
 +this->
ao_poﬁ
[
_i‹g
].
	`gëFô√ss
();

1250  (
sumFô√ss
);

1251 
	}
}

1259 
ölöe
 
	gP›uœti⁄
::
	$AvgTŸÆFô√ss
() {

1260 
this
->
avgFô√ss
 =Åhis->
	`SumTŸÆFô√ss
(Ë/ 
p›uœti⁄Size
;

1261  (
avgFô√ss
);

1262 
	}
}

1270 
	gP›uœti⁄
::
	$SëGíî©i⁄Sèts
(
_ign
) {

1271 
ao_°©s
[
_ign
].
avgFô√ss
 =ávgFitness;

1272 
ao_°©s
[
_ign
].
maxFô√ss
 = 
ao_poﬁ
[
a_p›Li°
[0]].
	`gëFô√ss
();

1273 
ao_°©s
[
_ign
].
möFô√ss
 = 
ao_poﬁ
[
a_p›Li°
[
p›uœti⁄Size
 - 1]].
	`gëFô√ss
();

1274 
ao_poﬁ
[
a_p›Li°
[0]].
	`gë_fulfûlmít_¥odu˘s
(
ao_°©s
[
_ign
].
fulfûlmít_¥odu˘s
);

1276 
_auxVÆidIndividuÆs
 = 0;

1277 
_auxSumFô√ss
 = 0.0;

1278 
_möUtûFô√ss
 = 1.0;

1279 
_auxFô√ss
 = 0.0;

1281 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++) {

1282 
_auxFô√ss
 = 
ao_poﬁ
[
a_p›Li°
[
_i‹g
]].
	`gëFô√ss
();

1283 i‡(
_auxFô√ss
 != 0.0) {

1284 
_auxVÆidIndividuÆs
++;

1285 
_auxSumFô√ss
 +
_auxFô√ss
;

1286 i‡(
_auxFô√ss
 < 
_möUtûFô√ss
) _minUtilFitness = _auxFitness;

1289 
ao_°©s
[
_ign
].
utûMembîs
 = 
_auxVÆidIndividuÆs
;

1290 
ao_°©s
[
_ign
].
avgRñFô√ss
 = 
_auxSumFô√ss
 / 
_auxVÆidIndividuÆs
;

1291 
ao_°©s
[
_ign
].
möRñFô√ss
 = 
_möUtûFô√ss
;

1292 
	}
}

1298 
	gP›uœti⁄
::
	$Di•œyPoﬁ
(
_vîbo£
) const {

1299 
_sumFô√ss
 = 0.0;

1302 
°d
::
cout
 <<"Poﬁ - A˘uÆ Gíî©i⁄"<< std::
ídl
;

1303 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++) {

1304 
_sumFô√ss
 +
ao_poﬁ
[
_i‹g
].
	`gëFô√ss
();

1307 i‡(
_vîbo£
 >
VERBOSE_MIN
) {

1308 
°d
::
cout
 << "Poﬁ Membî "<< 
_i‹g
 << " o‡" << 
p›uœti⁄Size
-1;

1313 i‡(
_vîbo£
 >
VERBOSE_LOW
) {

1314 
	`¥ötf
("\tFITNESS: %2.3f RANKING: %5d LENGTH: %5d\n",

1315 
this
->
ao_poﬁ
[
_i‹g
].
	`gëFô√ss
(),Åhis->ao_poﬁ[_i‹g].
	`gëR™kög
(),Åhis->ao_poﬁ[_i‹g].
	`gëGíesNumbî
());

1319 i‡(
_vîbo£
 >
VERBOSE_HIGH
) {

1320 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

1321 
	`¥ötf
("%x ", 
this
->
ao_poﬁ
[
_i‹g
].
	`gëGíe
(
_igí
));

1326 i‡(
_vîbo£
 >
VERBOSE_MEDIUM
) {

1327 
	`¥ötf
("\nTŸÆ Fô√s†o‡thêcuºíàp›uœti⁄: %‡\n", 
_sumFô√ss
);

1328 
	`¥ötf
("AvîagêFô√s†o‡thêcuºíàp›uœti⁄: %‡\n", 
_sumFô√ss
 / 
p›uœti⁄Size
);

1330 
	}
}

1336 
	gP›uœti⁄
::
	$Di•œyM©ög
(
_vîbo£
) const {

1337 
_sumFô√ss
 = 0.0;

1339 
	`¥ötf
("\n\t::MATING POOL::");

1340 
_i‹g
 = 0; _i‹g < 
p›uœti⁄Size
; _iorg++) {

1341 
_sumFô√ss
 +
ao_m©ögPoﬁ
[
_i‹g
].
	`gëFô√ss
();

1344 i‡(
_vîbo£
 >
VERBOSE_MIN
) {

1345 
	`¥ötf
("\nM©ög Poﬁ Membî %5d o‡%5d: ", 
_i‹g
, 
p›uœti⁄Size
 - 1);

1349 i‡(
_vîbo£
 >
VERBOSE_LOW
) {

1350 
	`¥ötf
("FITNESS: %2.3f RANKING: %5d \n",

1351 
this
->
ao_m©ögPoﬁ
[
_i‹g
].
	`gëFô√ss
(),Åhis->ao_m©ögPoﬁ[_i‹g].
	`gëR™kög
());

1355 i‡(
_vîbo£
 >
VERBOSE_MEDIUM
) {

1356 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++)

1357 
	`¥ötf
("%x ", 
this
->
ao_m©ögPoﬁ
[
_i‹g
].
	`gëGíe
(
_igí
));

1362 i‡(
_vîbo£
 >
VERBOSE_HIGH
) {

1363 
	`¥ötf
("\nTŸÆ Fô√s†o‡thêM©ögÖ›uœti⁄: %‡\n", 
_sumFô√ss
);

1364 
	`¥ötf
("AvîagêFô√s†o‡thêM©ögÖ›uœti⁄: %‡\n", 
_sumFô√ss
 / 
p›uœti⁄Size
);

1366 
	`¥ötf
("\n");

1367 
	}
}

1373 
	gP›uœti⁄
::
	$Pröt_Ouçuts_Fûes
() {

1374 
GENOTYPE_FILE
[100];

1375 
PHENOTYPE_FILE
[100];

1376 
STATS_FILE
[100];

1377 
MAP_FILE
[100];

1379 
	`¢¥ötf
(
GENOTYPE_FILE
,  (GENOTYPE_FILE), "./Ãn_gíŸy≥_%d", 
DEBUG_ITERATIONS
);

1380 
	`¢¥ötf
(
PHENOTYPE_FILE
,  (PHENOTYPE_FILE), "./Ãn_phíŸy≥_%d", 
DEBUG_ITERATIONS
);

1381 
	`¢¥ötf
(
STATS_FILE
,  (STATS_FILE), "./Ãn_°©s_%d", 
DEBUG_ITERATIONS
);

1382 
	`¢¥ötf
(
MAP_FILE
,  (MAP_FILE), "./Ãn_MAP_%d", 
DEBUG_ITERATIONS
);

1384 
this
->
	`Pröt_Sèts_Fûe
(
STATS_FILE
);

1385 
this
->
	`Pröt_e_gíŸy≥_Fûe
(
GENOTYPE_FILE
);

1386 
this
->
	`Pröt_e_phíŸy≥_Fûe
(
PHENOTYPE_FILE
);

1387 
this
->
	`Pröt_e_ascii_∑th_Fûe
(
MAP_FILE
);

1388 
	}
}

1395 
	gP›uœti⁄
::
	$Pröt_Sèts_Fûe
(c⁄° 
a_fûeName
[]) const {

1396 
	`¥ötf
("GENERATION STATS:\n");

1398 i‡(
	`°æí
(
a_fûeName
) != 0) {

1399 
FILE
 *
Â
;

1400 i‡((
Â
 = 
	`f›í
(
a_fûeName
, "w"))) {

1401 
	`¥ötf
("PRINTING IN FILE: %s\n", 
a_fûeName
);

1402 
	`f˛o£
(
Â
);

1404 
	`¥ötf
("Error opening FILE stats - FUNCTION: Population::PrintGenerationStats\n");

1408 
_ign
 = 0; _ig¿< 
gíî©i⁄sNumbî
; _ign++)

1409 
ao_°©s
[
_ign
].
	`PrötSèts
(
a_fûeName
);

1412 
_ign
 = 0; _ig¿< 
gíî©i⁄sNumbî
; _ign++)

1413 
ao_°©s
[
_ign
].
	`PrötSèts
("");

1415 
	}
}

1418 
	gP›uœti⁄
::
	$Pröt_e_gíŸy≥_Fûe
(c⁄° 
a_fûeName
[]) const {

1419 
this
->
ao_poﬁ
[
a_p›Li°
[0]].
	`PrötGíome
(
a_fûeName
);

1420 
	}
}

1423 
	gP›uœti⁄
::
	$Pröt_e_phíŸy≥_Fûe
(c⁄° 
a_fûeName
[]) {

1424 
this
->
o_ffô√ss
.
	`PrötAgítPHENOTYPE
—his->
ao_poﬁ
[
a_p›Li°
[0]], 
a_fûeName
);

1425 
	}
}

1428 
	gP›uœti⁄
::
	$Pröt_e_ascii_∑th_Fûe
(c⁄° 
a_fûeName
[]) {

1429 
this
->
o_ffô√ss
.
	`CÆcFô√ss
—his->
ao_poﬁ
[
a_p›Li°
[0]]);

1430 
this
->
o_ffô√ss
.
	`PrötMAP
(
a_fûeName
);

1431 
	}
}

1439 
	gP›uœti⁄
::
	$Uns‹tSñe˘ed
(
_vÆue
) {

1440 
_gí
 
auxGíe
;

1441 
auxFô√ss
 = 0.0;

1442 
auxR™kög
 = 0;

1443 
√wPosôi⁄
 = 0;

1445 
_i‹g
 = 0; _i‹g < 
_vÆue
; _iorg++) {

1446 
√wPosôi⁄
 = 
	`R™domR™ge
(
p›uœti⁄Size
 - 1);

1449 
auxFô√ss
 = 
this
->
ao_m©ögPoﬁ
[
√wPosôi⁄
].
	`gëFô√ss
();

1450 
this
->
ao_m©ögPoﬁ
[
√wPosôi⁄
].
	`£tFô√ss
—his->ao_m©ögPoﬁ[
_i‹g
].
	`gëFô√ss
());

1451 
this
->
ao_m©ögPoﬁ
[
_i‹g
].
	`£tFô√ss
(
auxFô√ss
);

1454 
auxR™kög
 = 
this
->
ao_m©ögPoﬁ
[
√wPosôi⁄
].
	`gëR™kög
();

1455 
this
->
ao_m©ögPoﬁ
[
√wPosôi⁄
].
	`£tR™kög
—his->ao_m©ögPoﬁ[
_i‹g
].
	`gëR™kög
());

1456 
this
->
ao_m©ögPoﬁ
[
_i‹g
].
	`£tR™kög
(
auxR™kög
);

1459 
_igí
 = 0; _igí < 
gíesNumbî
; _igen++) {

1460 
auxGíe
 = 
this
->
ao_m©ögPoﬁ
[
√wPosôi⁄
].
	`gëGíe
(
_igí
);

1461 
this
->
ao_m©ögPoﬁ
[
√wPosôi⁄
].
	`£tGíe
(
_igí
,Åhis->ao_m©ögPoﬁ[
_i‹g
].
	`gëGíe
(_igen));

1462 
this
->
ao_m©ögPoﬁ
[
_i‹g
].
	`£tGíe
(
_igí
, 
auxGíe
);

1465 
	}
}

1474 
_gí
 
	gP›uœti⁄
::
	$gëGíe
(
_i‹g
, 
_igí
) const {

1475  (
this
->
ao_poﬁ
[
_i‹g
].
	`gëGíe
(
_igí
));

1476 
	}
}

1479 
	gP›uœti⁄
::
	$gëFô√ss
(
_i‹g
) const {

1480  (
this
->
ao_poﬁ
[
_i‹g
].
	`gëFô√ss
());

1481 
	}
}

1484 
	gP›uœti⁄
::
	$gëR™kög
(
_i‹g
) const {

1485  (
this
->
ao_poﬁ
[
_i‹g
].
	`gëR™kög
());

1486 
	}
}

1489 
	gP›uœti⁄
::
	$gëSli˚
(
_i‹g
) const {

1490  (
this
->
ao_poﬁ
[
_i‹g
].
	`gëSli˚
());

1491 
	}
}

1495 
	gP›uœti⁄
::
	$£tGíe
(
_i‹g
, 
_igí
, 
_gí
 
_vÆue
) {

1496 
this
->
ao_poﬁ
[
_i‹g
].
	`£tGíe
(
_igí
, 
_vÆue
);

1497 
	}
}

1500 
	gP›uœti⁄
::
	$£tFô√ss
(
_i‹g
, 
_vÆue
) {

1501 
this
->
ao_poﬁ
[
_i‹g
].
	`£tFô√ss
(
_vÆue
);

1502 
	}
}

1505 
	gP›uœti⁄
::
	$£tR™kög
(
_i‹g
, 
_vÆue
) {

1506 
this
->
ao_poﬁ
[
_i‹g
].
	`£tR™kög
(
_vÆue
);

1507 
	}
}

1510 
	gP›uœti⁄
::
	$£tSli˚
(
_i‹g
, 
_vÆue
) {

1511 
this
->
ao_poﬁ
[
_i‹g
].
	`£tSli˚
(
_vÆue
);

1512 
	}
}

1526 
	gP›_Sèts
::
	$P›_Sèts
() {

1527 
avgFô√ss
 = 0.0;

1528 
maxFô√ss
 = 0.0;

1529 
möFô√ss
 = 0.0;

1530 
avgRñFô√ss
 = 0.0;

1531 
möRñFô√ss
 = 0.0;

1532 
fulfûlmít_¥odu˘s
[0] = 0.0;

1533 
fulfûlmít_¥odu˘s
[1] = 0.0;

1534 
fulfûlmít_¥odu˘s
[2] = 0.0;

1535 
fulfûlmít_¥odu˘s
[3] = 0.0;

1536 
	}
}

1540 
	gP›_Sèts
::~
	$P›_Sèts
() {

1542 
	}
}

1547 
	gP›_Sèts
::
	$PrötSèts
(c⁄° 
a_fûeName
[]) const {

1548 i‡(
	`°æí
(
a_fûeName
) != 0) {

1551 
FILE
 *
Â
;

1552 i‡((
Â
 = 
	`f›í
(
a_fûeName
, "a"))) {

1553 
	`Ârötf
(
Â
, "%1.10f %1.10f %3d %1.10f %1.10f %1.10f %1.10f %1.10f %1.10f\n",

1554 
maxFô√ss
, 
avgFô√ss
, 
utûMembîs
, 
avgRñFô√ss
, 
möRñFô√ss
,

1555 
fulfûlmít_¥odu˘s
[0], fulfillment_products[1], fulfillment_products[2], fulfillment_products[3]);

1556 
	`f˛o£
(
Â
);

1558 
	`¥ötf
("Error opening FILE stats - FUNCTION: Pop_Stats::PrintStats\n");

1561 
	`¥ötf
("MAX_FIT AVG_FIT UTIL AVGrel MINrelFit Curiosity Energy Homing Missions\n");

1562 
	`¥ötf
("%1.10f %1.10f %3d %1.10f %1.10f %1.10f %1.10f %1.10f %1.10f\n",

1563 
maxFô√ss
, 
avgFô√ss
, 
utûMembîs
, 
avgRñFô√ss
, 
möRñFô√ss
,

1564 
fulfûlmít_¥odu˘s
[0], fulfillment_products[1], fulfillment_products[2], fulfillment_products[3]);

1566 
	}
}

1567 
	gP›uœti⁄
::
	$gëM≠MeshSize
() const {

1568  (
o_ffô√ss
.
	`gëM≠MeshSize
());

1569 
	}
}

1583 
	gFô√ssFun˘i⁄
::
	$Fô√ssFun˘i⁄
() {

1584 
a_fô√ss
[0] = 0.0;

1585 
a_fô√ss
[1] = 0.0;

1586 
a_fô√ss
[2] = 0.0;

1587 
a_fô√ss
[3] = 0.0;

1588 
a_mŸiv©i⁄s
[0] = 
MOTIVATION_CURIOSITY
;

1589 
a_mŸiv©i⁄s
[1] = 
MOTIVATION_ENERGY
;

1590 
a_mŸiv©i⁄s
[2] = 
MOTIVATION_HOMING
;

1591 
a_mŸiv©i⁄s
[3] = 
MOTIVATION_MISSIONS
;

1592 
	`N‹mÆizeTo_1
(
a_mŸiv©i⁄s
, 4,á_motivations, 4);

1595 
	}
}

1600 
	gFô√ssFun˘i⁄
::~
	$Fô√ssFun˘i⁄
() {

1601 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

1602 
dñëe
 [] 
FART_MAP
[
_y
];

1603 
dñëe
 [] 
FART_MAP
;

1604 
	}
}

1614 
	gFô√ssFun˘i⁄
::
	$CÆcFô√ss
(c⁄° 
c_‹g™ism
& 
agít
) {

1616 
this
->
o_vútuÆMŸi⁄
.
	`Execut‹
(
agít
, 
a_fô√ss
);

1618 #ifde‡
T_MOTIVATION_FITNESS


1619 
	`¥ötf
("\«_fô√ss: Curiosôy: %‡| E√rgy: %‡| Homög: %‡| Missi⁄s: %‡+", 
a_fô√ss
[0],á_fitness[1],á_fitness[2],á_fitness[3]);

1620 
	`¥ötf
("\«_mŸiv©i⁄s: CURIOSITY: %‡ ENERGY: %‡ HOMING: %‡ MISSIONS: %‡+", 
a_mŸiv©i⁄s
[0],á_motivations[1],á_motivations[2],á_motivations[3]);

1624 
ãmp_fô√ss
[4];

1626 
ãmp_fô√ss
[0] = 
a_fô√ss
[0] * 
a_mŸiv©i⁄s
[0];

1627 
ãmp_fô√ss
[1] = 
a_fô√ss
[1] * 
a_mŸiv©i⁄s
[1];

1628 
ãmp_fô√ss
[2] = 
a_fô√ss
[2] * 
a_mŸiv©i⁄s
[2];

1629 
ãmp_fô√ss
[3] = 
a_fô√ss
[3] * 
a_mŸiv©i⁄s
[3];

1632 #ifde‡
T_MOTIVATION_FITNESS


1633 
	`¥ötf
("\nMFPÅemp_fô√ss: CURIOSITY: %‡ ENERGY: %‡ HOMING: %‡ MISSIONS: %‡*", 
ãmp_fô√ss
[0],Åemp_fitness[1],Åemp_fitness[2],Åemp_fitness[3]);

1637 
o_m™dami
.
	`CÆcOuçuts
(
ãmp_fô√ss
);

1639 
_fô√ss
 = 
o_m™dami
.
	`gëOuçut
(0);

1640 
vÆid_öput
 = 0;

1641 
_i
 = 0; _i < 4; _i++)

1642 i‡(
a_mŸiv©i⁄s
[
_i
] > 0Ë
vÆid_öput
++;

1643 
_fô√ss
 *4 / 
vÆid_öput
;

1647 #ifde‡
T_MANDAMI_FITNESS


1648 
	`¥ötf
("\nTEST MANDAMI FITNESS\t%f", 
_fô√ss
);

1651  (
_fô√ss
);

1652 
	}
}

1661 
	gFô√ssFun˘i⁄
::
	$N‹mÆizeTo_1
(
_öputsP¨am
[], 
_öSize
, 
_ouçuts
[], 
_outSize
) {

1662 
_sum
 = 0.0;

1664 
_ödex
 = 0; _ödex < 
_öSize
; _index++) {

1665 
_sum
 +
_öputsP¨am
[
_ödex
];

1668 
_ödex
 = 0; _ödex < 
_outSize
; _index++) {

1670 
_ouçuts
[
_ödex
] = _ouçuts[_ödex] / 
_sum
;

1672 
	}
}

1681 
	gFô√ssFun˘i⁄
::
	$PrötAgítGENOTYPE
(c⁄° 
c_‹g™ism
& 
agít
, c⁄° 
a_fûeName
[]) const {

1682 
	`¥ötf
("GENOTYPE:\n");

1683 
_gíesNumbî
 = 
agít
.
	`gëGíesNumbî
();

1685 i‡(
	`°æí
(
a_fûeName
) != 0) {

1686 
	`¥ötf
("PRINTING IN FILE: %s\n", 
a_fûeName
);

1687 
FILE
 *
Â
;

1688 i‡((
Â
 = 
	`f›í
(
a_fûeName
, "w"))) {

1689 
_igí
 = 0; _igí < 
_gíesNumbî
; _igen++)

1690 
	`Ârötf
(
Â
, "%x ", 
agít
.
	`gëGíe
(
_igí
));

1691 
	`f˛o£
(
Â
);

1693 
	`¥ötf
("Error opening FILE in function: PrintFittestPHENOTYPE\n");

1696 
_igí
 = 0; _igí < 
_gíesNumbî
; _igen++)

1697 
	`¥ötf
("%x ", 
agít
.
	`gëGíe
(
_igí
));

1699 
	}
}

1708 
	gFô√ssFun˘i⁄
::
	$PrötAgítPHENOTYPE
(c⁄° 
c_‹g™ism
& 
agít
, c⁄° 
a_fûeName
[]) {

1709 
	`¥ötf
("PHENOTYPE:\n");

1710 
_gíesNumbî
 = 
agít
.
	`gëGíesNumbî
();

1712 
	`¥ötf
("PRINTING IN FILE: %s\n", 
a_fûeName
);

1713 
FILE
 *
Â
;

1714 i‡((
Â
 = 
	`f›í
(
a_fûeName
, "w"))) {

1716 
	`Ârötf
(
Â
, "%d\n", 
o_vútuÆMŸi⁄
.
	`gë_robŸ_dümëî
());

1718 
	`Ârötf
(
Â
, "%d\n", 
o_vútuÆMŸi⁄
.
	`gë_robŸ_dümëî_£ns‹s
());

1720 
	`Ârötf
(
Â
, "%d\n", 
_gíesNumbî
);

1723 
	`Ârötf
(
Â
, "%d,%d,%d,%d\n", 0, 
o_vútuÆMŸi⁄
.
°¨tPosôi⁄
[0], o_virtualMotion.startPosition[1], o_virtualMotion.startPosition[2]);

1724 
_posôi⁄
[3];

1725 
o_vútuÆMŸi⁄
.
	`gë_°¨t_posôi⁄
(
_posôi⁄
);

1727 
_igí
 = 0; _igí < 
_gíesNumbî
; _igen++) {

1728 
o_vútuÆMŸi⁄
.
	`CompuãNextPosôi⁄
(
_posôi⁄
, 
agít
.
	`gëGíe
(
_igí
));

1730 
	`Ârötf
(
Â
, "%d,%d,%d,%d\n", 
_igí
, 
_posôi⁄
[0], _position[1], _position[2]);

1733 
	`Ârötf
(
Â
, "%ld\n", 
	`Ãound
(
o_vútuÆMŸi⁄
.
	`gë_robŸ_dümëî
(Ë* 
GOAL_SIZE
));

1735 
	`Ârötf
(
Â
, "%d,%d,%d\n", 
o_vútuÆMŸi⁄
.
gﬂlPosôi⁄
[0], o_virtualMotion.goalPosition[1], o_virtualMotion.goalPosition[2]);

1737 
	`Ârötf
(
Â
, "%d\n", 
o_vútuÆMŸi⁄
.
tŸÆMissi⁄s
);

1739 
this
->
	`CÆcFô√ss
(
agít
);

1740 
_i
 = 0; _ò< 
o_vútuÆMŸi⁄
.
tŸÆMissi⁄s
; _i++) {

1744 
	`Ârötf
(
Â
, "%d,%d,%d,%d,%d,%d,%d,%d\n",

1745 
o_vútuÆMŸi⁄
.
missi⁄Posôi⁄
[
_i
][0], o_virtualMotion.missionPosition[_i][1], o_virtualMotion.missionPosition[_i][2],

1746 
o_vútuÆMŸi⁄
.
missi⁄Posôi⁄
[
_i
][3], o_virtualMotion.missionPosition[_i][4],

1747 
o_vútuÆMŸi⁄
.
missi⁄Posôi⁄
[
_i
][5], o_virtualMotion.missionPosition[_i][6], o_virtualMotion.missionPosition[_i][7]);

1751 
	`Ârötf
(
Â
, "0.000,0.000,0.000,0.000\n");

1752 i‡(
Áπ_ˇãg‹õs
 == 0) {

1753 i‡(
o_vútuÆMŸi⁄
.
	`gë_£À˘ed_room
(Ë=
H_ROOM
) {

1754 
_ˇt
 = 0; _ˇà< 
CATEGORIES_H_ROOM
; _cat++)

1755 
	`Ârötf
(
Â
, "%f,%f,%f,%f\n", 
FART_H_ROOM
[
_ˇt
][0], FART_H_ROOM[_cat][1], FART_H_ROOM[_cat][2], FART_H_ROOM[_cat][3]);

1756 } i‡(
o_vútuÆMŸi⁄
.
	`gë_£À˘ed_room
(Ë=
L_ROOM
) {

1757 
_ˇt
 = 0; _ˇà< 
CATEGORIES_L_ROOM
; _cat++)

1758 
	`Ârötf
(
Â
, "%f,%f,%f,%f\n", 
FART_L_ROOM
[
_ˇt
][0], FART_L_ROOM[_cat][1], FART_L_ROOM[_cat][2], FART_L_ROOM[_cat][3]);

1759 } i‡(
o_vútuÆMŸi⁄
.
	`gë_£À˘ed_room
(Ë=
O_ROOM
) {

1760 
_ˇt
 = 0; _ˇà< 
CATEGORIES_O_ROOM
; _cat++)

1761 
	`Ârötf
(
Â
, "%f,%f,%f,%f\n", 
FART_O_ROOM
[
_ˇt
][0], FART_O_ROOM[_cat][1], FART_O_ROOM[_cat][2], FART_O_ROOM[_cat][3]);

1762 } i‡(
o_vútuÆMŸi⁄
.
	`gë_£À˘ed_room
(Ë=
S_ROOM
) {

1763 
_ˇt
 = 0; _ˇà< 
CATEGORIES_S_ROOM
; _cat++)

1764 
	`Ârötf
(
Â
, "%f,%f,%f,%f\n", 
FART_S_ROOM
[
_ˇt
][0], FART_S_ROOM[_cat][1], FART_S_ROOM[_cat][2], FART_S_ROOM[_cat][3]);

1765 } i‡(
o_vútuÆMŸi⁄
.
	`gë_£À˘ed_room
(Ë=
T_ROOM
) {

1766 
_ˇt
 = 0; _ˇà< 
CATEGORIES_T_ROOM
; _cat++)

1767 
	`Ârötf
(
Â
, "%f,%f,%f,%f\n", 
FART_S_ROOM
[
_ˇt
][0], FART_S_ROOM[_cat][1], FART_S_ROOM[_cat][2], FART_S_ROOM[_cat][3]);

1772 
_ˇt
 = 0; _ˇà< 
Áπ_ˇãg‹õs
; _cat++)

1773 
	`Ârötf
(
Â
, "%f,%f,%f,%f\n", 
FART_MAP
[
_ˇt
][0], FART_MAP[_cat][1], FART_MAP[_cat][2], FART_MAP[_cat][3]);

1775 
	`f˛o£
(
Â
);

1777 
	`¥ötf
("Error opening FILE in function: PrintFittestPHENOTYPE\n");

1779 
	}
}

1788 
	gFô√ssFun˘i⁄
::
	$PrötMAP
(c⁄° 
a_fûeName
[]) {

1789 
	`¥ötf
("TESTING ROBOT BEHAVIOR:\n");

1790 
o_vútuÆMŸi⁄
.
	`PrötMAPtoFûe
(
a_fûeName
);

1791 
	}
}

1796 
	gFô√ssFun˘i⁄
::
	$Së_M≠_Dimísi⁄s
(c⁄° 
_width
, c⁄° 
_height
) {

1797 
m≠_width
 = 
_width
;

1798 
m≠_height
 = 
_height
;

1799 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`Së_MAP_Dimísi⁄
(
m≠_width
, 
m≠_height
);

1800 
	}
}

1806 
	gFô√ssFun˘i⁄
::
	$Së_SLAM_MAP
(c⁄° 
_xs
, c⁄° 
_ys
 , c⁄° 
_m≠
[][600]) {

1808 
_poöt
;

1809 
_xc
,
_yc
;

1810 
_ocou¡
 = 0;

1811 
_›î˚¡
 = 0.2;

1812 
_⁄r
;

1813 
_m≠MeshSize
 = 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`gëM≠MeshSize
();

1816 
_⁄r

_m≠MeshSize
*_mapMeshSize*0.2;

1817 
auxY
 = 
_m≠MeshSize
+
_ys
;

1818 
auxX
 = 
_m≠MeshSize
+
_xs
;

1821 
_y
=
_ys
 ; _y < 
auxY
 ;_y++){

1822 
_x
=
_xs
; _x < 
auxX
; _x++){

1823 
_poöt
 = 
_m≠
[
_x
][
_y
];

1825 if(
_poöt
 == 0)

1826 
_ocou¡
++;

1828 i‡(
_ocou¡
 >
_⁄r
){

1829 
_ocou¡
 = 0;

1830 
_xc
 =
_x
/
_m≠MeshSize
;

1831 
_yc
 =
_y
/
_m≠MeshSize
;

1832 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`£tcCñlOb°a˛e
(
_xc
,
_yc
);

1839 
	}
}

1841 
	gFô√ssFun˘i⁄
::
	$Së_Obje˘_Ob°a˛e
(c⁄° 
xÀ·
, c⁄° 
ydown
, c⁄° 
xrigth
, c⁄° 
yup
) {

1842 
_y
 = 
ydown
; _y < 
yup
; _y++) {

1843 
_x
 = 
xÀ·
; _x < 
xrigth
; _x++) {

1844 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`£tcCñlOb°a˛e
(
_x
, 
_y
);

1847 
	}
}

1850 
	gFô√ssFun˘i⁄
::
	$Inô_F¨t_MAP
(c⁄° 
_size
, c⁄° 
_width
, c⁄° 
_height
) {

1851 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

1852 
dñëe
 [] 
FART_MAP
[
_y
];

1853 
dñëe
 [] 
FART_MAP
;

1855 
Áπ_ˇãg‹õs
 = 
_size
;

1856 
m≠_width
 = 
_width
;

1857 
m≠_height
 = 
_height
;

1858 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`Së_MAP
(
m≠_width
, 
m≠_height
);

1860 
FART_MAP
 = 
√w
 *[
Áπ_ˇãg‹õs
];

1861 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

1862 
FART_MAP
[
_y
] = 
√w
 [4];

1863 
	}
}

1869 
	gFô√ssFun˘i⁄
::
	$Së_FART_MAP
() {

1870 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`CÀ™M≠
();

1872 
auxXS
, 
auxYS
, 
auxXE
, 
auxYE
;

1873 
_mesh_size
 = 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`gëM≠MeshSize
();

1874 
_ˇt
 = 0; _ˇà< 
Áπ_ˇãg‹õs
; _cat++) {

1875 
auxXS
 = 
	`Ãound
((
FART_MAP
[
_ˇt
][0]Ë* 
m≠_width
 / 
_mesh_size
);

1876 
auxYS
 = 
	`Ãound
((
FART_MAP
[
_ˇt
][1]Ë* 
m≠_height
 / 
_mesh_size
);

1877 
auxXE
 = 
	`Ãound
((1 - 
FART_MAP
[
_ˇt
][2]Ë* 
m≠_width
 / 
_mesh_size
);

1878 
auxYE
 = 
	`Ãound
((1 - 
FART_MAP
[
_ˇt
][3]Ë* 
m≠_height
 / 
_mesh_size
);

1880 i‡(
auxXS
 < 0Ë
	`Ârötf
(
°dout
, "FitnessFunction FART Map O: X0 = %d\n",áuxXS);

1881 i‡(
auxYS
 < 0Ë
	`Ârötf
(
°dout
, "FitnessFunction FART Map O: Y0 = %d\n",áuxYS);

1882 i‡(
auxXE
 > 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`gëM≠XDim
()Ë
	`Ârötf
(
°dout
, "FitnessFunction FART Map O: X1 = %d\n",áuxXE);

1883 i‡(
auxYE
 > 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`gëM≠YDim
()Ë
	`Ârötf
(
°dout
, "FitnessFunction FART Map O: Y1 = %d\n",áuxYE);

1885 
_y
 = 
auxYS
; _y < 
auxYE
; _y++) {

1886 
_x
 = 
auxXS
; _x < 
auxXE
; _x++) {

1887 
this
->
o_vútuÆMŸi⁄
.
o_MAP
.
	`£tcCñlOb°a˛e
(
_x
, 
_y
);

1891 
	}
}

1896 
	gFô√ssFun˘i⁄
::
	$Upd©e_MŸiv©i⁄s
(c⁄° 
_mŸiv©i⁄s
[]) {

1897 
a_mŸiv©i⁄s
[0] = 
_mŸiv©i⁄s
[0];

1898 
a_mŸiv©i⁄s
[1] = 
_mŸiv©i⁄s
[1];

1899 
a_mŸiv©i⁄s
[2] = 
_mŸiv©i⁄s
[2];

1900 
a_mŸiv©i⁄s
[3] = 
_mŸiv©i⁄s
[3];

1901 
	`N‹mÆizeTo_1
(
a_mŸiv©i⁄s
, 4,á_motivations, 4);

1902 
	}
}

1904 
	gFô√ssFun˘i⁄
::
	$gëM≠MeshSize
() const{

1905  (
this
->
o_vútuÆMŸi⁄
.
	`gë_M≠MeshSize
());

1906 
	}
}

1918 
	gVútuÆExecutive
::
	$VútuÆExecutive
() {

1921 
_vñv_m≠MeshSize
 = 
this
->
o_MAP
.
	`gëM≠MeshSize
();

1922 
_vñv_m≠Width
 = 
this
->
o_MAP
.
	`gëM≠Width
();

1923 
_vñv_m≠Height
 = 
this
->
o_MAP
.
	`gëM≠Height
();

1924 
_vñv_m≠XDim
 = 
this
->
o_MAP
.
	`gëM≠XDim
();

1925 
_vñv_m≠YDim
 = 
this
->
o_MAP
.
	`gëM≠YDim
();

1927 
¸ashFœg
 = 
Ál£
;

1928 
£ns‹sR™ge
 = 
SENSOR_RANGE
;

1929 
robŸRadius
 = 
	`Ãound
(
ROBOT_DIAMETER
 / 2.0);

1930 
robŸDümëî
 = 
ROBOT_DIAMETER
;

1931 
robŸRadiusPlusSís‹s
 = 
robŸRadius
 + 
SENSOR_RANGE
;

1932 
robŸCñlRadius
 = 
	`Ãound
((
robŸRadius
 * 1.0Ë/ 
_vñv_m≠MeshSize
);

1933 
robŸCñlDümëî
 = 
robŸCñlRadius
 * 2;

1934 
robŸCñlRadiusPlusSís‹s
 = 
	`Ãound
((
robŸRadiusPlusSís‹s
 * 1.0Ë/ 
_vñv_m≠MeshSize
);

1935 
robŸCñlDümëîPlusSís‹s
 = 
robŸCñlRadiusPlusSís‹s
 * 2;

1938 
öôülB©ãry
 = 
STARTING_BATTERY
;

1939 
cuºítB©ãry
 = 
öôülB©ãry
;

1941 
°¨tPosôi⁄
[0] = 
START_ANGLE
;

1942 
°¨tPosôi⁄
[1] = 
START_X_COORD
;

1943 
°¨tPosôi⁄
[2] = 
START_Y_COORD
;

1944 
gﬂlPosôi⁄
[0] = 
GOAL_ANGLE
;

1945 
gﬂlPosôi⁄
[1] = 
GOAL_X_COORD
;

1946 
gﬂlPosôi⁄
[2] = 
GOAL_Y_COORD
;

1948 
cuºítPosôi⁄
[0] = 
°¨tPosôi⁄
[0];

1949 
cuºítPosôi⁄
[1] = 
°¨tPosôi⁄
[1];

1950 
cuºítPosôi⁄
[2] = 
°¨tPosôi⁄
[2];

1951 
tŸÆMissi⁄s
 = 0;

1952 
_gíesNumbî
 = 
GENES_NUMBER
;

1954 
°ï_Ànght
 = 
STEP_SIZE
;

1955 
™gÀ_Àngth
 = 
ANGLE_SIZE
;

1962 
	}
}

1966 
	gVútuÆExecutive
::~
	$VútuÆExecutive
() {

1968 
	}
}

1972 
	gVútuÆExecutive
::
	$CÀ™AŒ
() {

1973 
this
->
¸ashFœg
 = 
Ál£
;

1974 
this
->
o_MAP
.
	`CÀ™M≠
();

1976 
this
->
cuºítB©ãry
 = 
öôülB©ãry
;

1978 
cuºítPosôi⁄
[0] = 
°¨tPosôi⁄
[0];

1979 
cuºítPosôi⁄
[1] = 
°¨tPosôi⁄
[1];

1980 
cuºítPosôi⁄
[2] = 
°¨tPosôi⁄
[2];

1983 
gﬂlPosôi⁄
[0] = 
GOAL_ANGLE
;

1984 
gﬂlPosôi⁄
[1] = 
GOAL_X_COORD
;

1985 
gﬂlPosôi⁄
[2] = 
GOAL_Y_COORD
;

1986 i‡(
tŸÆMissi⁄s
 != 0) {

1987 
missi⁄Posôi⁄
[0][3] = -1;

1988 
this
->
	`Di°™˚_Missi⁄s
(
cuºítPosôi⁄
, 0);

1990 
	}
}

1995 
	gVútuÆExecutive
::
	$Execut‹
(c⁄° 
c_‹g™ism
& 
agít
, 
a_fô√ss
[]) {

1997 #ifde‡
T_EXECUTOR


1998 
	`¥ötf
("\nTEST VIRTUAL EXECUTIVE");

2006 
this
->
	`CÀ™AŒ
();

2009 
this
->
¸ashFœg
 = 
Ál£
;

2010 
_¥evCo‹d
[3];

2011 
_igí
 = 0;

2012 
_gí
 
_a˘i⁄
 = 
FREEZE
;

2013 
_gíesNumbî
 = 
agít
.
	`gëGíesNumbî
();

2014 
boﬁ
 
_em±yB©ãryFœg
 = 
Ál£
;

2017 !
¸ashFœg
 && (
_igí
 < 
_gíesNumbî
Ë&& !
_em±yB©ãryFœg
)

2019 
_a˘i⁄
 = 
agít
.
	`gëGíe
(
_igí
);

2021 
_¥evCo‹d
[0] = 
cuºítPosôi⁄
[0];

2022 
_¥evCo‹d
[1] = 
cuºítPosôi⁄
[1];

2023 
_¥evCo‹d
[2] = 
cuºítPosôi⁄
[2];

2025 i‡(
_a˘i⁄
 !
FREEZE
) {

2027 
this
->
	`CompuãNextPosôi⁄
(
cuºítPosôi⁄
, 
_a˘i⁄
);

2029 i‡(
tŸÆMissi⁄s
 != 0)

2030 
this
->
	`Di°™˚_Missi⁄s
(
cuºítPosôi⁄
, 
_igí
);

2033 
this
->
¸ashFœg
 =Åhis->
	`RobŸSwïtAªa
(
_¥evCo‹d
, 
_a˘i⁄
);

2037 
this
->
	`Upd©eB©ãryLevñ
(
_a˘i⁄
);

2038 if–
cuºítB©ãry
 <0.0 ) 
_em±yB©ãryFœg
 = 
åue
;

2041 #ifde‡
T_EXECUTOR


2042 
	`¥ötf
("\nGEN NUMBER: %ò ACTION %¯ BATT:%d", 
_igí
, 
_a˘i⁄
, 
this
->
cuºítB©ãry
);

2043 
	`¥ötf
("\nSTART: ANGLE: %d X COORD: %d Y COORD: %d", 
_¥evCo‹d
[0], _prevCoord[1], _prevCoord[2]);

2044 
	`¥ötf
("\nEND : ANGLE: %d X COORD: %d Y COORD: %d", 
cuºítPosôi⁄
[0], currentPosition[1], currentPosition[2]);

2047 
_igí
++;

2050 
u£ful_°ïs_ƒ
 = 
_igí
;

2051 i‡(
tŸÆMissi⁄s
 !0Ë
u£ful_°ïs_ƒ
 = 
missi⁄Posôi⁄
[0][4];

2053 i‡(
this
->
¸ashFœg
) {

2054 
_¨øySize
 = 4;

2055 
_i
 = 0; _ò< 
_¨øySize
; _i++)

2056 
a_fô√ss
[
_i
] = 0.0;

2058 
a_fô√ss
[0] = 
this
->
	`CÆc_Fô√ss_Curiosôy
();

2059 
a_fô√ss
[1] = 
this
->
	`CÆc_Fô√ss_E√rgy
();

2060 
a_fô√ss
[2] = 
this
->
	`CÆc_Fô√ss_Homög
();

2061 
a_fô√ss
[3] = 
this
->
	`CÆc_Fô√ss_Missi⁄
();

2063 #ifde‡
T_MOTIVATION_FITNESS


2064 
	`¥ötf
("\nCURIOSITY: %‡ ENERGY: %‡ HOMING: %‡ MISSIONS: %f", 
a_fô√ss
[0],á_fitness[1],á_fitness[2],á_fitness[3]);

2068 
	}
}

2075 
	gVútuÆExecutive
::
	$Së_SèπCo‹dö©es
(c⁄° 
_co‹dö©es
[]) {

2076 
°¨tPosôi⁄
[0] = 
_co‹dö©es
[0];

2077 
°¨tPosôi⁄
[1] = 
_co‹dö©es
[1];

2078 
°¨tPosôi⁄
[2] = 
_co‹dö©es
[2];

2079 
cuºítPosôi⁄
[0] = 
°¨tPosôi⁄
[0];

2080 
cuºítPosôi⁄
[1] = 
°¨tPosôi⁄
[1];

2081 
cuºítPosôi⁄
[2] = 
°¨tPosôi⁄
[2];

2082 
	}
}

2088 
	gVútuÆExecutive
::
	$Së_GﬂlCo‹dö©es
(c⁄° 
_co‹dö©es
[]) {

2089 
gﬂlPosôi⁄
[0] = 
_co‹dö©es
[0];

2090 
gﬂlPosôi⁄
[1] = 
_co‹dö©es
[1];

2091 
gﬂlPosôi⁄
[2] = 
_co‹dö©es
[2];

2092 
	}
}

2098 
	gVútuÆExecutive
::
	$Së_Inôül_B©ãry
(c⁄° 
_vÆue
) {

2099 
öôülB©ãry
 = 
_vÆue
;

2100 
	}
}

2103 
	gVútuÆExecutive
::
	$£t_°ï_Ànght
(c⁄° 
_vÆue
) {

2104 
°ï_Ànght
 = 
_vÆue
;

2105 
	}
}

2108 
	gVútuÆExecutive
::
	$£t_™gÀ_Ànght
(c⁄° 
_vÆue
) {

2109 
™gÀ_Àngth
 = 
_vÆue
;

2110 
	}
}

2113 
	gVútuÆExecutive
::
	$£t_£À˘ed_room
(c⁄° 
_vÆue
) {

2114 
this
->
o_MAP
.
	`£t_£À˘ed_room
(
_vÆue
);

2115 
	}
}

2121 
	gVútuÆExecutive
::
	$Së_Missi⁄
(c⁄° 
_co‹dö©es
[]) {

2122 
tŸÆMissi⁄s
 = 1;

2123 
missi⁄Posôi⁄
[0][0] = 
_co‹dö©es
[0];

2124 
missi⁄Posôi⁄
[0][1] = 
_co‹dö©es
[1];

2125 
missi⁄Posôi⁄
[0][2] = 
_co‹dö©es
[2];

2127 
missi⁄Posôi⁄
[0][3] = -1;

2128 
this
->
	`Di°™˚_Missi⁄s
(
cuºítPosôi⁄
, 0);

2129 
o_MAP
.
	`£tcCñlMissi⁄
(
missi⁄Posôi⁄
[0][1] / 
_vñv_m≠MeshSize
, missionPosition[0][2] / _velv_mapMeshSize);

2130 
	}
}

2137 
	gVútuÆExecutive
::
	$Show_Missi⁄s
() const {

2138 
	`¥ötf
("Missi⁄†Numbî: %d\n", 
tŸÆMissi⁄s
);

2139 
_im
 = 0; _im < 
tŸÆMissi⁄s
; _im++) {

2140 
	`¥ötf
("Angle in degrees: %3d\tX Coord (in mm): %5d\tY Coord (in mm): %5d\n",

2141 
missi⁄Posôi⁄
[
_im
][0], missionPosition[_im][1], missionPosition[_im][2]);

2143 
	}
}

2152 
	gVútuÆExecutive
::
	$CÆc_Fô√ss_Curiosôy
() {

2153 
_fô√ss
 = 0.0;

2154 
_visôed
 = 0.0;

2155 
_ªvisôed
 = 0.0;

2156 
_tŸÆ
 = 0.0;

2159 
_tŸÆ
 = 
_gíesNumbî
 * (
°ï_Ànght
 / 
_vñv_m≠MeshSize
Ë* 
robŸCñlDümëîPlusSís‹s
;

2160 
_visôed
 = 
this
->
o_MAP
.
	`gëVisôedCñlsNumbî
();

2161 
_ªvisôed
 = 
this
->
o_MAP
.
	`gëRevisôedCñlsNumbî
();

2162 
_visôed
 -(
_ªvisôed
 * 
REVISITED_PENALTY
);

2164 i‡(
_tŸÆ
 != 0.0)

2165 
_fô√ss
 = 
_visôed
 / 
_tŸÆ
;

2167  (
_fô√ss
);

2168 
	}
}

2177 
	gVútuÆExecutive
::
	$CÆc_Fô√ss_E√rgy
() {

2178 
_fô√ss
 = 0.0;

2180 i‡(
this
->
öôülB©ãry
 != 0.0)

2181 
_fô√ss
 = 
POWER_MULT
 * (
this
->
cuºítB©ãry
Ë/ (this->
öôülB©ãry
);

2183 i‡(
this
->
cuºítB©ãry
 <= 0.0)

2184 
_fô√ss
 = 0.0;

2186  (
_fô√ss
);

2187 
	}
}

2197 
	gVútuÆExecutive
::
	$CÆc_Fô√ss_Homög
() {

2198 
_fô√ss
 = 0.0;

2199 
_di°™˚
;

2200 
_homePîimëî
 = 
robŸDümëî
*
GOAL_SIZE
;

2201 
_maxAŒowedDi°™˚
 = 
_homePîimëî
*
GOAL_SIGNAL_RANGE
;

2203 
_di°™˚
 = 
this
->
	`CÆcuœã_Di°™˚
(
cuºítPosôi⁄
, 
gﬂlPosôi⁄
);

2207 i‡(
_di°™˚
 < 
_homePîimëî
) {

2208 
_fô√ss
 = 1.0;

2213 i‡((
_di°™˚
 > 
_homePîimëî
Ë&& (_di°™˚ < (
_maxAŒowedDi°™˚
))) {

2214 
_fô√ss
 = (
GOAL_SIGNAL_RANGE
 / (GOAL_SIGNAL_RANGE - 1)Ë- (
_di°™˚
 / (
_homePîimëî
 * (GOAL_SIGNAL_RANGE - 1)));

2215 } i‡(
_di°™˚
 > 
_maxAŒowedDi°™˚
) {

2216 
_fô√ss
 = 0.0;

2219  (
_fô√ss
);

2220 
	}
}

2228 
	gVútuÆExecutive
::
	$CÆc_Fô√ss_Missi⁄
() {

2229 
_fô√ss
 = 0.0;

2230 
_fô√ss_di°
 = 0.0;

2231 
_fô√ss_°ï
 = 0.0;

2232 
di°™˚_weight
 = 0.50;

2233 
_di°™˚
;

2234 
_gﬂlPîimëî
 = 
	`Ãound
(
robŸDümëî
 * 
MISSION_AREA
);

2235 
_maxAŒowedDi°™˚
 = 
	`Ãound
(
robŸDümëî
 * 
MISSION_AREA
 * 
MISSION_MAX_RANGE
);

2237 
_di°™˚
 = 
missi⁄Posôi⁄
[0][3];

2240 i‡(
_di°™˚
 < 
_gﬂlPîimëî
) {

2241 
_fô√ss_di°
 = 1.0;

2245 i‡((
_di°™˚
 > 
_gﬂlPîimëî
Ë&& (_di°™˚ < (
_maxAŒowedDi°™˚
))) {

2246 
_fô√ss_di°
 = (
MISSION_MAX_RANGE
 / (MISSION_MAX_RANGE - 1)Ë- (
_di°™˚
 / (
_gﬂlPîimëî
 * (MISSION_MAX_RANGE - 1)));

2247 } i‡(
_di°™˚
 > 
_maxAŒowedDi°™˚
) {

2248 
_fô√ss
 = 0.0;

2251 
_mö_°ï_to_gﬂl
 = (
missi⁄Posôi⁄
[0][4])*1.0;

2252 
_fô√ss_°ï
 = ((
_gíesNumbî
 - 
_mö_°ï_to_gﬂl
) / _genesNumber);

2254 i‡(
_fô√ss_di°
 != 0.0) {

2255 
_fô√ss
 = 
_fô√ss_di°
 * 
di°™˚_weight
 + (1 - di°™˚_weightË* 
_fô√ss_°ï
;

2257 
_fô√ss
 = 0.0;

2260  (
_fô√ss
);

2261 
	}
}

2270 
	gVútuÆExecutive
::
	$CÆcuœã_Di°™˚
(c⁄° 
_1°_posôi⁄
[], c⁄° 
_2nd_posôi⁄
[]) {

2271 
_di°™˚
 = 0;

2272 
ãmp
 = 0.0;

2273 
_dñè_x
 = (
_2nd_posôi⁄
[1] - 
_1°_posôi⁄
[1])*1.0;

2274 
_dñè_y
 = (
_2nd_posôi⁄
[2] - 
_1°_posôi⁄
[2])*1.0;

2276 
ãmp
 = 
	`pow
(
_dñè_x
, 2.0Ë+Öow(
_dñè_y
, 2.0);

2277 
_di°™˚
 = 
	`Ãound
(
	`sqπ
(
ãmp
));

2279  (
_di°™˚
);

2280 
	}
}

2287 
	gVútuÆExecutive
::
	$CompuãNextPosôi⁄
(
_cuºítPosôi⁄
[], c⁄° 
_gí
 
_a˘i⁄
) {

2289 #ifde‡
T_C_NEXT_POSITION


2290 
	`¥ötf
("\nTEST COMPUTE NEXT POSITION:");

2291 
	`¥ötf
("\nSTART COORINATES:\n ANGLE: %3d\tX COORD: %5d\tY COORD: %5d" \

2292 , 
_cuºítPosôi⁄
[0], _currentPosition[1], _currentPosition[2]);

2295 i‡(
_a˘i⁄
 =
FORWARD
) {

2296 
_™gÀ
 = (
_cuºítPosôi⁄
[0] / 180.0Ë* 
M_PI
;

2297 
_cuºítPosôi⁄
[1] +
	`Ãound
(
	`cos
(
_™gÀ
Ë* 
°ï_Ànght
);

2298 
_cuºítPosôi⁄
[2] +
	`Ãound
(
	`sö
(
_™gÀ
Ë* 
°ï_Ànght
);

2300 i‡(
_a˘i⁄
 =
REVERSE
) {

2301 
_™gÀ
 = (
_cuºítPosôi⁄
[0] / 180.0Ë* 
M_PI
;

2302 
_cuºítPosôi⁄
[1] -
	`Ãound
(
	`cos
(
_™gÀ
Ë* 
°ï_Ànght
);

2303 
_cuºítPosôi⁄
[2] -
	`Ãound
(
	`sö
(
_™gÀ
Ë* 
°ï_Ànght
);

2305 i‡(
_a˘i⁄
 =
TURN_RIGHT
) {

2306 
_cuºítPosôi⁄
[0] -
™gÀ_Àngth
;

2307 i‡(
_cuºítPosôi⁄
[0] < 0)

2308 
_cuºítPosôi⁄
[0] = 360 + _currentPosition[0];

2309 i‡(
_cuºítPosôi⁄
[0] > 360)

2310 
_cuºítPosôi⁄
[0] = _currentPosition[0] - 360;

2312 i‡(
_a˘i⁄
 =
TURN_LEFT
) {

2313 
_cuºítPosôi⁄
[0] +
™gÀ_Àngth
;

2314 i‡(
_cuºítPosôi⁄
[0] < 0)

2315 
_cuºítPosôi⁄
[0] = 360 + _currentPosition[0];

2316 i‡(
_cuºítPosôi⁄
[0] > 360)

2317 
_cuºítPosôi⁄
[0] = _currentPosition[0] - 360;

2318 } if–
_a˘i⁄
 =
TURN_RIGHT_1
 )

2320 
_cuºítPosôi⁄
[0] -
™gÀ_Àngth
;

2321 if–
_cuºítPosôi⁄
[0] < 0 )

2322 
_cuºítPosôi⁄
[0] = 360 + _currentPosition[0];

2323 if–
_cuºítPosôi⁄
[0] > 360 )

2324 
_cuºítPosôi⁄
[0] = _currentPosition[0] - 360;

2326 if–
_a˘i⁄
 =
TURN_LEFT_1
 )

2328 
_cuºítPosôi⁄
[0] +
™gÀ_Àngth
;

2329 if–
_cuºítPosôi⁄
[0] < 0 )

2330 
_cuºítPosôi⁄
[0] = 360 + _currentPosition[0];

2331 if–
_cuºítPosôi⁄
[0] > 360 )

2332 
_cuºítPosôi⁄
[0] = _currentPosition[0] - 360;

2334 if–
_a˘i⁄
 =
TURN_RIGHT_2
 )

2336 
_cuºítPosôi⁄
[0] -
™gÀ_Àngth
*2;

2337 if–
_cuºítPosôi⁄
[0] < 0 )

2338 
_cuºítPosôi⁄
[0] = 360 + _currentPosition[0];

2339 if–
_cuºítPosôi⁄
[0] > 360 )

2340 
_cuºítPosôi⁄
[0] = _currentPosition[0] - 360;

2342 if–
_a˘i⁄
 =
TURN_LEFT_2
 )

2344 
_cuºítPosôi⁄
[0] +
™gÀ_Àngth
*2;

2345 if–
_cuºítPosôi⁄
[0] < 0 )

2346 
_cuºítPosôi⁄
[0] = 360 + _currentPosition[0];

2347 if–
_cuºítPosôi⁄
[0] > 360 )

2348 
_cuºítPosôi⁄
[0] = _currentPosition[0] - 360;

2350 if–
_a˘i⁄
 =
TURN_RIGHT_3
 )

2352 
_cuºítPosôi⁄
[0] -
™gÀ_Àngth
*3;

2353 if–
_cuºítPosôi⁄
[0] < 0 )

2354 
_cuºítPosôi⁄
[0] = 360 + _currentPosition[0];

2355 if–
_cuºítPosôi⁄
[0] > 360 )

2356 
_cuºítPosôi⁄
[0] = _currentPosition[0] - 360;

2358 if–
_a˘i⁄
 =
TURN_LEFT_3
 )

2360 
_cuºítPosôi⁄
[0] +
™gÀ_Àngth
*3;

2361 if–
_cuºítPosôi⁄
[0] < 0 )

2362 
_cuºítPosôi⁄
[0] = 360 + _currentPosition[0];

2363 if–
_cuºítPosôi⁄
[0] > 360 )

2364 
_cuºítPosôi⁄
[0] = _currentPosition[0] - 360;

2366 i‡(
_a˘i⁄
 =
FREEZE
) {

2370 #ifde‡
T_C_NEXT_POSITION


2371 
	`¥ötf
("\nEND COORINATES:\¿ANGLE: %3d\tX COORD: %5d\tY COORD: %5d", 
_cuºítPosôi⁄
[0], _currentPosition[1], _currentPosition[2]);

2374 
	}
}

2380 
	gVútuÆExecutive
::
	$Di°™˚_Missi⁄s
(c⁄° 
_cuºítPosôi⁄
[], c⁄° 
_°ï
) {

2381 
_di°™˚
;

2383 
_di°™˚
 = 
	`CÆcuœã_Di°™˚
(
_cuºítPosôi⁄
, 
missi⁄Posôi⁄
[0]);

2384 i‡(
missi⁄Posôi⁄
[0][3] == -1) {

2385 
missi⁄Posôi⁄
[0][3] = 
_di°™˚
;

2386 
missi⁄Posôi⁄
[0][4] = 
_°ï
;

2387 
missi⁄Posôi⁄
[0][5] = 
_cuºítPosôi⁄
[0];

2388 
missi⁄Posôi⁄
[0][6] = 
_cuºítPosôi⁄
[1];

2389 
missi⁄Posôi⁄
[0][7] = 
_cuºítPosôi⁄
[2];

2390 } i‡(
missi⁄Posôi⁄
[0][3] > 
_di°™˚
) {

2391 
missi⁄Posôi⁄
[0][3] = 
_di°™˚
;

2392 
missi⁄Posôi⁄
[0][4] = 
_°ï
;

2393 
missi⁄Posôi⁄
[0][5] = 
_cuºítPosôi⁄
[0];

2394 
missi⁄Posôi⁄
[0][6] = 
_cuºítPosôi⁄
[1];

2395 
missi⁄Posôi⁄
[0][7] = 
_cuºítPosôi⁄
[2];

2398 
	}
}

2408 
boﬁ
 
	gVútuÆExecutive
::
	$RobŸSwïtAªa
(c⁄° 
_¥evCo‹d
[], c⁄° 
_gí
 
_a˘i⁄
)

2411 #ifde‡
T_CRASH_CHECKER


2412 
	`¥ötf
("\nTEST CRASH CHECKER:");

2415 
_À·WÆl
 = 
this
->
cuºítPosôi⁄
[1] - 
robŸRadius
;

2416 
_lowîWÆl
 = 
this
->
cuºítPosôi⁄
[2] - 
robŸRadius
;

2417 
_rightWÆl
 = 
this
->
cuºítPosôi⁄
[1] + 
robŸRadius
;

2418 
_uµîWÆl
 = 
this
->
cuºítPosôi⁄
[2] + 
robŸRadius
;

2423 if–
_À·WÆl
 <= 0 )

2426 #ifde‡
T_CRASH_CHECKER


2427 
	`¥ötf
("\nCrash with Maps Left wall:");

2430 (
åue
);

2433 if–
_lowîWÆl
 <= 0 )

2436 #ifde‡
T_CRASH_CHECKER


2437 
	`¥ötf
("\nCrash with Maps Lower wall:");

2440 (
åue
);

2443 if–
_rightWÆl
 >
_vñv_m≠Width
 )

2446 #ifde‡
T_CRASH_CHECKER


2447 
	`¥ötf
("\nCrash with Maps Right wall:");

2450 (
åue
);

2453 if–
_uµîWÆl
 >
_vñv_m≠Height
 )

2456 #ifde‡
T_CRASH_CHECKER


2457 
	`¥ötf
("\nCrash with Maps Upper wall:");

2460 (
åue
);

2466 
_°¨tXCñl
 = 
	`Ãound
(
_¥evCo‹d
[1]/
_vñv_m≠MeshSize
);

2467 
_°¨tYCñl
 = 
	`Ãound
(
_¥evCo‹d
[2]/
_vñv_m≠MeshSize
);

2468 
_°›XCñl
 = 
	`Ãound
(
cuºítPosôi⁄
[1]/
_vñv_m≠MeshSize
);

2469 
_°›YCñl
 = 
	`Ãound
(
cuºítPosôi⁄
[2]/
_vñv_m≠MeshSize
);

2472 
ãmp
;

2473 
_dñè_x
 = (
_°¨tXCñl
 - 
_°›XCñl
)*1.0;

2474 
_dñè_y
 = (
_°¨tYCñl
 - 
_°›YCñl
)*1.0;

2475 
ãmp
 = 
	`pow
(
_dñè_x
, 2.0Ë+Öow(
_dñè_y
, 2.0);

2477 
_tŸÆDi•œ˚mít
 = 
	`sqπ
(
ãmp
);

2478 
_di•œ˚mít
 = 0.0;

2481 
_™gÀ
 = (
_¥evCo‹d
[0]/180.0)*
M_PI
;

2483 
_¸∫tXCñl
 = 
_°¨tXCñl
, 
_¸∫tYCñl
 = 
_°¨tYCñl
;

2484 
auxXS
, 
auxYS
, 
auxXE
, 
auxYE
;

2485 
boﬁ
 
_°›
 = 
Ál£
;

2488 
auxXS
 = 
_¸∫tXCñl
 - 
robŸCñlRadius
;

2489 
auxYS
 = 
_¸∫tYCñl
 - 
robŸCñlRadius
;

2490 
auxXE
 = 
_¸∫tXCñl
 + 
robŸCñlRadius
;

2491 
auxYE
 = 
_¸∫tYCñl
 + 
robŸCñlRadius
;

2494 if–
auxXS
 < 0 ) (
åue
);

2495 if–
auxYS
 < 0 ) (
åue
);

2496 if–
auxXE
 >
_vñv_m≠XDim
 ) (
åue
);

2497 if–
auxYE
 >
_vñv_m≠YDim
 ) (
åue
);

2499 
auxXS
 = 
_¸∫tXCñl
 - 
robŸCñlRadiusPlusSís‹s
;

2500 
auxYS
 = 
_¸∫tYCñl
 - 
robŸCñlRadiusPlusSís‹s
;

2501 
auxXE
 = 
_¸∫tXCñl
 + 
robŸCñlRadiusPlusSís‹s
;

2502 
auxYE
 = 
_¸∫tYCñl
 + 
robŸCñlRadiusPlusSís‹s
;

2505 if–
auxXS
 < 0 )áuxXS = 0;

2506 if–
auxYS
 < 0 )áuxYS = 0;

2507 if–
auxXE
 > 
_vñv_m≠XDim
 )áuxXE = _velv_mapXDim;

2508 if–
auxYE
 > 
_vñv_m≠YDim
 )áuxYE = _velv_mapYDim;

2511 if–
auxXS
 < 0 ) 
	`Ârötf
(
°dout
, "RobotSweptArea Map O: X0 = %d\n",áuxXS);

2512 if–
auxYS
 < 0 ) 
	`Ârötf
(
°dout
, "RobotSweptArea Map O: Y0 = %d\n",áuxYS);

2513 if–
auxXE
 > 
this
->
o_MAP
.
	`gëM≠XDim
(ËË
	`Ârötf
(
°dout
, "RobotSweptArea Map O: X1 = %d\n",áuxXE);

2514 if–
auxYE
 > 
this
->
o_MAP
.
	`gëM≠YDim
(ËË
	`Ârötf
(
°dout
, "RobotSweptArea Map O: Y1 = %d\n",áuxYE);

2518 
_y
 = 
auxYS
; _y < 
auxYE
; _y++)

2520 
_x
 = 
auxXS
; _x < 
auxXE
; _x++)

2523 if–
this
->
o_MAP
.
	`cCñlOb°a˛e
(
_x
, 
_y
) )

2526 #ifde‡
T_CRASH_CHECKER


2527 
	`¥ötf
("\nSTART: AªÅhîêOb°a˛e†hîe????: (%4d, %4d)", 
_x
, 
_y
);

2530 (
åue
);

2534 if–!
this
->
o_MAP
.
	`cCñlVisôed
(
_x
, 
_y
) )

2535 
this
->
o_MAP
.
	`£tcCñlVisôed
(
_x
, 
_y
);

2537 
this
->
o_MAP
.
	`£tcCñlRevisôed
(
_x
, 
_y
);

2542 if–
_a˘i⁄
 =
FORWARD
 )

2544 
_¸∫tXCñl
 +
	`Ãound
(
	`cos
(
_™gÀ
)*
robŸCñlDümëî
);

2545 
_¸∫tYCñl
 +
	`Ãound
(
	`sö
(
_™gÀ
)*
robŸCñlDümëî
);

2555 
_dñè_x
 = (
_°¨tXCñl
 - 
_°›XCñl
)*1.0;

2556 
_dñè_y
 = (
_°¨tYCñl
 - 
_°›YCñl
)*1.0;

2558 
ãmp
 = 
	`pow
(
_dñè_x
, 2.0Ë+Öow(
_dñè_y
, 2.0);

2560 
_di•œ˚mít
 = 
	`sqπ
(
ãmp
);

2561 if–
_di•œ˚mít
 >
_tŸÆDi•œ˚mít
 )

2563 
_°›
 = 
åue
;

2564 
_¸∫tXCñl
 = 
_°›XCñl
;

2565 
_¸∫tYCñl
 = 
_°›YCñl
;

2567 } !
_°›
 );

2570 (
Ál£
);

2571 
	}
}

2574 
boﬁ
 
	gVútuÆExecutive
::
	$RobŸCøsh_M≠B‹dîCo‹d
() {

2576 #ifde‡
T_CRASH_CHECKER


2580 
_À·WÆl
 = 
this
->
cuºítPosôi⁄
[1] - 
robŸRadius
;

2581 
_lowîWÆl
 = 
this
->
cuºítPosôi⁄
[2] - 
robŸRadius
;

2582 
_rightWÆl
 = 
this
->
cuºítPosôi⁄
[1] + 
robŸRadius
;

2583 
_uµîWÆl
 = 
this
->
cuºítPosôi⁄
[2] + 
robŸRadius
;

2588 i‡(
_À·WÆl
 <= 0) {

2590 #ifde‡
T_CRASH_CHECKER


2591 
°d
::
cout
 << "\tCøsh wôh M≠†Le· wÆl:" << std::
ídl
;

2594  (
åue
);

2596 i‡(
_lowîWÆl
 <= 0) {

2598 #ifde‡
T_CRASH_CHECKER


2599 
°d
::
cout
 << "\tCøsh wôh M≠†Lowî wÆl:" << std::
ídl
;

2602  (
åue
);

2604 i‡(
_rightWÆl
 >
_vñv_m≠Width
) {

2606 #ifde‡
T_CRASH_CHECKER


2607 
°d
::
cout
 << "\tCøsh wôh M≠†RighàwÆl:" << std::
ídl
;

2610  (
åue
);

2612 i‡(
_uµîWÆl
 >
_vñv_m≠Height
) {

2614 #ifde‡
T_CRASH_CHECKER


2615 
°d
::
cout
 << "\tCøsh wôh M≠†Uµî wÆl:" << std::
ídl
;

2618  (
åue
);

2620  (
Ál£
);

2621 
	}
}

2623 
boﬁ
 
	gVútuÆExecutive
::
	$RobŸCøsh_M≠B‹dîCñls
(c⁄° 
_¥evCo‹d
[], c⁄° 
_gí
 
_a˘i⁄
) {

2625 
robŸ_À·_XCñl
;

2626 
robŸ_down_YCñl
;

2627 
robŸ_right_XCñl
;

2628 
robŸ_up_YCñl
;

2630 
_°¨tXCñl
 = 
	`Ãound
(
_¥evCo‹d
[1] / 
_vñv_m≠MeshSize
);

2631 
_°¨tYCñl
 = 
	`Ãound
(
_¥evCo‹d
[2] / 
_vñv_m≠MeshSize
);

2632 
_°›XCñl
 = 
	`Ãound
(
cuºítPosôi⁄
[1] / 
_vñv_m≠MeshSize
);

2633 
_°›YCñl
 = 
	`Ãound
(
cuºítPosôi⁄
[2] / 
_vñv_m≠MeshSize
);

2636 
_dñè_x
 = (
_°¨tXCñl
 - 
_°›XCñl
)*1.0;

2637 
_dñè_y
 = (
_°¨tYCñl
 - 
_°›YCñl
)*1.0;

2638 
_tŸÆDi•œ˚mít
 = 
	`sqπ
(
	`pow
(
_dñè_x
, 2.0Ë+Öow(
_dñè_y
, 2.0));

2639 
_di•œ˚mít
 = 0.0;

2642 
_™gÀ
 = (
_¥evCo‹d
[0] / 180.0Ë* 
M_PI
;

2643 
boﬁ
 
°›
 = 
Ál£
;

2645 
_cuºítXCñl
 = 
_°¨tXCñl
;

2646 
_cuºítYCñl
 = 
_°¨tYCñl
;

2650 
robŸ_À·_XCñl
 = 
_cuºítXCñl
 - 
robŸCñlRadius
;

2651 
robŸ_down_YCñl
 = 
_cuºítYCñl
 - 
robŸCñlRadius
;

2652 
robŸ_right_XCñl
 = 
_cuºítXCñl
 + 
robŸCñlRadius
;

2653 
robŸ_up_YCñl
 = 
_cuºítYCñl
 + 
robŸCñlRadius
;

2656 i‡(
robŸ_À·_XCñl
 <0Ë (
åue
);

2657 i‡(
robŸ_down_YCñl
 <0Ë (
åue
);

2658 i‡(
robŸ_right_XCñl
 >
_vñv_m≠XDim
Ë (
åue
);

2659 i‡(
robŸ_up_YCñl
 >
_vñv_m≠YDim
Ë (
åue
);

2662 i‡(
_a˘i⁄
 =
FORWARD
) {

2663 
_cuºítXCñl
 +
	`Ãound
(
	`cos
(
_™gÀ
Ë* 
robŸCñlDümëî
);

2664 
_cuºítYCñl
 +
	`Ãound
(
	`sö
(
_™gÀ
Ë* 
robŸCñlDümëî
);

2671 
_dñè_x
 = (
_cuºítXCñl
 - 
_°›XCñl
)*1.0;

2672 
_dñè_y
 = (
_cuºítYCñl
 - 
_°›YCñl
)*1.0;

2675 
_di•œ˚mít
 = 
	`sqπ
(
	`pow
(
_dñè_x
, 2.0Ë+Öow(
_dñè_y
, 2.0));

2676 i‡(
_di•œ˚mít
 >
_tŸÆDi•œ˚mít
) {

2677 
°›
 = 
åue
;

2678 
_cuºítXCñl
 = 
_°›XCñl
;

2679 
_cuºítYCñl
 = 
_°›YCñl
;

2681 } !
°›
);

2684 
	}
}

2686 
boﬁ
 
	gVútuÆExecutive
::
	$Sís‹Cøsh_M≠B‹dîCñls
(c⁄° 
_¥evCo‹d
[], c⁄° 
_gí
 
_a˘i⁄
) {

2689 
£ns‹_À·_XCñl
;

2690 
£ns‹_down_YCñl
;

2691 
£ns‹_right_XCñl
;

2692 
£ns‹_up_YCñl
;

2694 
°¨tXCñl
 = 
	`Ãound
(
_¥evCo‹d
[1] / 
_vñv_m≠MeshSize
);

2695 
°¨tYCñl
 = 
	`Ãound
(
_¥evCo‹d
[2] / 
_vñv_m≠MeshSize
);

2696 
°›XCñl
 = 
	`Ãound
(
cuºítPosôi⁄
[1] / 
_vñv_m≠MeshSize
);

2697 
°›YCñl
 = 
	`Ãound
(
cuºítPosôi⁄
[2] / 
_vñv_m≠MeshSize
);

2700 
_dñè_x
 = (
°¨tXCñl
 - 
°›XCñl
)*1.0;

2701 
_dñè_y
 = (
°¨tYCñl
 - 
°›YCñl
)*1.0;

2702 
_tŸÆDi•œ˚mít
 = 
	`sqπ
(
	`pow
(
_dñè_x
, 2.0Ë+Öow(
_dñè_y
, 2.0));

2703 
_di•œ˚mít
 = 0.0;

2706 
_™gÀ
 = (
_¥evCo‹d
[0] / 180.0Ë* 
M_PI
;

2707 
boﬁ
 
°›
 = 
Ál£
;

2709 
cuºítXCñl
 = 
°¨tXCñl
;

2710 
cuºítYCñl
 = 
°¨tYCñl
;

2713 
£ns‹_À·_XCñl
 = 
cuºítXCñl
 - 
robŸCñlRadiusPlusSís‹s
;

2714 
£ns‹_down_YCñl
 = 
cuºítXCñl
 - 
robŸCñlRadiusPlusSís‹s
;

2715 
£ns‹_right_XCñl
 = 
cuºítXCñl
 + 
robŸCñlRadiusPlusSís‹s
;

2716 
£ns‹_up_YCñl
 = 
cuºítYCñl
 + 
robŸCñlRadiusPlusSís‹s
;

2719 i‡(
£ns‹_À·_XCñl
 < 0) sensor_left_XCell = 0;

2720 i‡(
£ns‹_down_YCñl
 < 0) sensor_down_YCell = 0;

2721 i‡(
£ns‹_right_XCñl
 > 
_vñv_m≠XDim
) sensor_right_XCell = _velv_mapXDim;

2722 i‡(
£ns‹_up_YCñl
 > 
_vñv_m≠YDim
) sensor_up_YCell = _velv_mapYDim;

2725 
_y
 = 
£ns‹_down_YCñl
; _y < 
£ns‹_up_YCñl
; _y++) {

2726 
_x
 = 
£ns‹_À·_XCñl
; _x < 
£ns‹_down_YCñl
; _x++) {

2727 i‡(
this
->
o_MAP
.
	`cCñlOb°a˛e
(
_x
, 
_y
)Ë (
åue
);

2728 i‡(!
this
->
o_MAP
.
	`cCñlVisôed
(
_x
, 
_y
)Ëthis->o_MAP.
	`£tcCñlVisôed
(_x, _y);

2729 
this
->
o_MAP
.
	`£tcCñlRevisôed
(
_x
, 
_y
);

2733 i‡(
_a˘i⁄
 =
FORWARD
) {

2734 
cuºítXCñl
 +
	`Ãound
(
	`cos
(
_™gÀ
Ë* 
robŸCñlDümëî
);

2735 
cuºítYCñl
 +
	`Ãound
(
	`sö
(
_™gÀ
Ë* 
robŸCñlDümëî
);

2747 
_dñè_x
 = (
°¨tXCñl
 - 
°›XCñl
)*1.0;

2748 
_dñè_y
 = (
°¨tYCñl
 - 
°›YCñl
)*1.0;

2749 
_di•œ˚mít
 = 
	`sqπ
(
	`pow
(
_dñè_x
, 2.0Ë+Öow(
_dñè_y
, 2.0));

2750 i‡(
_di•œ˚mít
 >
_tŸÆDi•œ˚mít
) {

2751 
°›
 = 
åue
;

2752 
cuºítXCñl
 = 
°›XCñl
;

2753 
cuºítYCñl
 = 
°›YCñl
;

2755 } !
°›
);

2758  (
Ál£
);

2759 
	}
}

2766 
	gVútuÆExecutive
::
	$Upd©eB©ãryLevñ
(c⁄° 
_gí
 
_a˘i⁄
) {

2767 i‡(
_a˘i⁄
 =
FORWARD
) {

2768 
this
->
cuºítB©ãry
 -
POWER_FORWARD
;

2769 } i‡(
_a˘i⁄
 =
REVERSE
) {

2770 
this
->
cuºítB©ãry
 -
POWER_REVERSE
;

2771 } i‡(
_a˘i⁄
 =
TURN_RIGHT
) {

2772 
this
->
cuºítB©ãry
 -
POWER_RIGHT_1
;

2773 } i‡(
_a˘i⁄
 =
TURN_LEFT
) {

2774 
this
->
cuºítB©ãry
 -
POWER_LEFT_1
;

2799 i‡(
_a˘i⁄
 =
FREEZE
) {

2800 
this
->
cuºítB©ãry
 -
POWER_FREEZE
;

2802 
	}
}

2806 
	gVútuÆExecutive
::
	$gë_°¨t_posôi⁄
(
_co‹dö©es
[]) const {

2807 
_co‹dö©es
[0] = 
°¨tPosôi⁄
[0];

2808 
_co‹dö©es
[1] = 
°¨tPosôi⁄
[1];

2809 
_co‹dö©es
[2] = 
°¨tPosôi⁄
[2];

2810 
	}
}

2813 
	gVútuÆExecutive
::
	$gë_gﬂl_posôi⁄
(
_co‹dö©es
[]) const {

2814 
_co‹dö©es
[0] = 
gﬂlPosôi⁄
[0];

2815 
_co‹dö©es
[1] = 
gﬂlPosôi⁄
[1];

2816 
_co‹dö©es
[2] = 
gﬂlPosôi⁄
[2];

2817 
	}
}

2820 
	gVútuÆExecutive
::
	$gë_cuºít_posôi⁄
(
_co‹dö©es
[]) const {

2821 
_co‹dö©es
[0] = 
cuºítPosôi⁄
[0];

2822 
_co‹dö©es
[1] = 
cuºítPosôi⁄
[1];

2823 
_co‹dö©es
[2] = 
cuºítPosôi⁄
[2];

2824 
	}
}

2827 
	gVútuÆExecutive
::
	$gë_missi⁄_posôi⁄
(
_co‹dö©es
[]) const {

2828 
_co‹dö©es
[0] = 
missi⁄Posôi⁄
[0][0];

2829 
_co‹dö©es
[1] = 
missi⁄Posôi⁄
[0][1];

2830 
_co‹dö©es
[2] = 
missi⁄Posôi⁄
[0][2];

2831 
	}
}

2834 
	gVútuÆExecutive
::
	$gë_missi⁄_˛o£r_posôi⁄
(
_co‹dö©es
[]) const {

2835 
_co‹dö©es
[0] = 
missi⁄Posôi⁄
[0][5];

2836 
_co‹dö©es
[1] = 
missi⁄Posôi⁄
[0][6];

2837 
_co‹dö©es
[2] = 
missi⁄Posôi⁄
[0][7];

2838 
	}
}

2841 
	gVútuÆExecutive
::
	$gëM≠Width
() const {

2842  (
o_MAP
.
	`gëM≠Width
());

2843 
	}
}

2846 
	gVútuÆExecutive
::
	$gëM≠Height
() const {

2847  (
o_MAP
.
	`gëM≠Height
());

2848 
	}
}

2851 
	gVútuÆExecutive
::
	$gë_M≠MeshSize
() const {

2852  (
o_MAP
.
	`gëM≠MeshSize
());

2853 
	}
}

2856 
	gVútuÆExecutive
::
	$gë_robŸ_dümëî
() const {

2857  (
robŸDümëî
);

2858 
	}
}

2861 
	gVútuÆExecutive
::
	$gë_robŸ_dümëî_£ns‹s
() const {

2862  (
robŸDümëî
 + 
£ns‹sR™ge
);

2863 
	}
}

2866 
	gVútuÆExecutive
::
	$gëXYcCñlD©a
(
_XCo‹d
, 
_YCo‹d
) const {

2867 
_öfo
 = 
o_MAP
.
	`gëXYcCñlD©a
(
_XCo‹d
, 
_YCo‹d
);

2868  (
_öfo
);

2869 
	}
}

2873 
	gVútuÆExecutive
::
	$gë_£À˘ed_room
() const {

2874  (
o_MAP
.
	`gë_£À˘ed_room
());

2875 
	}
}

2878 
	gVútuÆExecutive
::
	$gë_°ï_Ànght
() const {

2879  (
°ï_Ànght
);

2880 
	}
}

2883 
	gVútuÆExecutive
::
	$gë_™gÀ_Àngth
() const {

2884  (
™gÀ_Àngth
);

2885 
	}
}

2888 
	gVútuÆExecutive
::
	$gë_u£ful_°ïs_ƒ
() const {

2889  (
u£ful_°ïs_ƒ
);

2890 
	}
}

2893 
	gVútuÆExecutive
::
	$gë_mö_missi⁄s_di°™˚
() const {

2894  (
missi⁄Posôi⁄
[0][3]);

2895 
	}
}

2898 
	gVútuÆExecutive
::
	$gë_mö_missi⁄s_°ïs
() const {

2899  (
missi⁄Posôi⁄
[0][4]);

2900 
	}
}

2907 
	gVútuÆExecutive
::
	$PrötMAPtoFûe
(c⁄° 
a_fûeName
[]) {

2908 
this
->
o_MAP
.
	`PrötMAPtoFûe
(
a_fûeName
);

2909 
	}
}

2921 
	gElôe_InvidivuÆ
::
	$Elôe_InvidivuÆ
() {

2922 
robŸ_dümëî
 = 
ROBOT_DIAMETER
;

2923 
robŸ_dümëî_£ns‹s
 = 
ROBOT_DIAMETER
 + 
SENSOR_RANGE
;

2925 
gíes_ƒ
 = 
GENES_NUMBER
;

2926 
a_gíes
 = 
√w
 
_gí
[
gíes_ƒ
];

2928 
home_co‹d
[0] = 
HOME_ANGLE
;

2929 
home_co‹d
[1] = 
HOME_X_COORD
;

2930 
home_co‹d
[2] = 
HOME_Y_COORD
;

2931 
°¨t_co‹d
[0] = 
START_ANGLE
;

2932 
°¨t_co‹d
[1] = 
START_X_COORD
;

2933 
°¨t_co‹d
[2] = 
START_Y_COORD
;

2935 
missi⁄s_ƒ
 = 1;

2938 
a_missi⁄s_co‹d
 = 
√w
 *[
missi⁄s_ƒ
];

2939 
_y
 = 0; _y < 
missi⁄s_ƒ
; _y++)

2940 
a_missi⁄s_co‹d
[
_y
] = 
√w
 [8];

2941 
a_missi⁄s_co‹d
[0][0] = 90;

2942 
a_missi⁄s_co‹d
[0][1] = 2000;

2943 
a_missi⁄s_co‹d
[0][2] = 800;

2945 
a_missi⁄s_co‹d
[0][4] = 0;

2946 
a_missi⁄s_co‹d
[0][5] = 
°¨t_co‹d
[0];

2947 
a_missi⁄s_co‹d
[0][6] = 
°¨t_co‹d
[1];

2948 
a_missi⁄s_co‹d
[0][7] = 
°¨t_co‹d
[2];

2950 
a_fô√ss
[0] = 0.0;

2951 
a_fô√ss
[1] = 0.0;

2952 
a_fô√ss
[2] = 0.0;

2953 
a_fô√ss
[3] = 0.0;

2960 
a_∑th
 = 
√w
 *[
gíes_ƒ
];

2961 
_y
 = 0; _y < 
gíes_ƒ
; _y++)

2962 
a_∑th
[
_y
] = 
√w
 [3];

2964 
ªady_∑th
 = 0;

2965 
ªady_gí
 = 0;

2966 
	}
}

2971 
	gElôe_InvidivuÆ
::~
	$Elôe_InvidivuÆ
() {

2973 
_y
 = 0; _y < 
missi⁄s_ƒ
; _y++)

2974 
dñëe
 [] 
a_missi⁄s_co‹d
[
_y
];

2975 
dñëe
 [] 
a_missi⁄s_co‹d
;

2982 
_y
 = 0; _y < 
gíes_ƒ
; _y++)

2983 
dñëe
 [] 
a_∑th
[
_y
];

2984 
dñëe
 [] 
a_∑th
;

2986 
dñëe
 [] 
a_gíes
;

2987 
	}
}

2991 
	gElôe_InvidivuÆ
::
	$CÀ™_AŒ
() {

2992 
a_fô√ss
[0] = 0.0;

2993 
a_fô√ss
[1] = 0.0;

2994 
a_fô√ss
[2] = 0.0;

2995 
a_fô√ss
[3] = 0.0;

2996 
ªady_∑th
 = 0;

2997 
ªady_gí
 = 0;

2998 
	}
}

3004 
	gElôe_InvidivuÆ
::
	$Pröt_GENOTYPE
(c⁄° 
a_fûeName
[]) {

3005 
	`¥ötf
("GENOME OF THE BEST INDIVIDUAL (GENOTYPE):\n");

3007 i‡(
	`°æí
(
a_fûeName
) != 0) {

3008 
	`¥ötf
("PRINTING IN FILE: %s\n", 
a_fûeName
);

3009 
FILE
 *
Â
;

3010 i‡((
Â
 = 
	`f›í
(
a_fûeName
, "w"))) {

3011 
	`Ârötf
(
Â
, "\nGENOME\n");

3012 
_igí
 = 0; _igí < 
gíes_ƒ
; _igen++)

3013 
	`Ârötf
(
Â
, "%x ", 
a_gíes
[
_igí
]);

3014 
	`f˛o£
(
Â
);

3016 
	`¥ötf
("Error opening FILE in function: Organism::PrintGenome\n");

3019 
_igí
 = 0; _igí < 
gíes_ƒ
; _igen++)

3020 
	`¥ötf
("%x ", 
a_gíes
[
_igí
]);

3022 
	}
}

3027 
	gElôe_InvidivuÆ
::
	$Pröt_PHENOTYPE
(c⁄° 
a_fûeName
[]) {

3028 
	`¥ötf
("PRINTING IN FILE: %s\n", 
a_fûeName
);

3029 
FILE
 *
Â
;

3030 i‡((
Â
 = 
	`f›í
(
a_fûeName
, "w"))) {

3032 
	`Ârötf
(
Â
, "%d\n", 
robŸ_dümëî
);

3034 
	`Ârötf
(
Â
, "%d\n", 
robŸ_dümëî_£ns‹s
);

3036 i‡(
ªady_gí
 < 
gíes_ƒ
) {

3037 
	`Ârötf
(
Â
, "%d\n", 
ªady_gí
);

3039 
	`Ârötf
(
Â
, "%d\n", 
gíes_ƒ
);

3043 
	`Ârötf
(
Â
, "%d,%d,%d,%d\n", 0, 
°¨t_co‹d
[0], start_coord[1], start_coord[2]);

3046 
_igí
 = 0;

3047 (
_igí
 < 
ªady_gí
Ë&& (_igí < 
gíes_ƒ
)) {

3048 
	`Ârötf
(
Â
, "%d,%d,%d,%d\n", 
_igí
, 
a_∑th
[_igen][0],á_path[_igen][1],á_path[_igen][2]);

3049 
_igí
++;

3053 
	`Ârötf
(
Â
, "%d\n", 
robŸ_dümëî
 / 2);

3055 
	`Ârötf
(
Â
, "%d,%d,%d\n", 
home_co‹d
[0], home_coord[1], home_coord[2]);

3057 
	`Ârötf
(
Â
, "%d\n", 
missi⁄s_ƒ
);

3059 
_im
 = 0; _im < 
missi⁄s_ƒ
; _im++) {

3063 
	`Ârötf
(
Â
, "%d,%d,%d,%d,%d,%d,%d,%d\n",

3064 
a_missi⁄s_co‹d
[
_im
][0],á_missions_coord[_im][1],á_missions_coord[_im][2],

3065 
a_missi⁄s_co‹d
[
_im
][3],á_missions_coord[_im][4],

3066 
a_missi⁄s_co‹d
[
_im
][5],á_missions_coord[_im][6],á_missions_coord[_im][7]);

3075 
	`f˛o£
(
Â
);

3077 
	`¥ötf
("Error opening FILE in function: Elite_Invidivual::Print_PHENOTYPE\n");

3079 
	}
}

3083 
_gí
 
	gElôe_InvidivuÆ
::
	$gë_gí
(c⁄° 
_ƒ
) const {

3084  (
this
->
a_gíes
[
_ƒ
]);

3085 
	}
}

3088 
	gElôe_InvidivuÆ
::
	$gë_gíes_ƒ
() const {

3089  (
gíes_ƒ
);

3090 
	}
}

3093 
	gElôe_InvidivuÆ
::
	$gë_ñôe_gíes_ƒ
() const {

3094  (
ªady_gí
);

3095 
	}
}

3098 
	gElôe_InvidivuÆ
::
	$gë_°¨t_co‹d
(
_co‹dö©es
[]) {

3099 
_co‹dö©es
[0] = 
°¨t_co‹d
[0];

3100 
_co‹dö©es
[1] = 
°¨t_co‹d
[1];

3101 
_co‹dö©es
[2] = 
°¨t_co‹d
[2];

3102 
	}
}

3105 
	gElôe_InvidivuÆ
::
	$gë_home_co‹d
(
_co‹dö©es
[]) {

3106 
_co‹dö©es
[0] = 
home_co‹d
[0];

3107 
_co‹dö©es
[1] = 
home_co‹d
[1];

3108 
_co‹dö©es
[2] = 
home_co‹d
[2];

3109 
	}
}

3112 
	gElôe_InvidivuÆ
::
	$gë_föÆ_co‹d
(
_co‹dö©es
[]) {

3113 
_co‹dö©es
[0] = 
föÆ_co‹d
[0];

3114 
_co‹dö©es
[1] = 
föÆ_co‹d
[1];

3115 
_co‹dö©es
[2] = 
föÆ_co‹d
[2];

3116 
	}
}

3119 
	gElôe_InvidivuÆ
::
	$gë_cuºít_idól_co‹d
(c⁄° 
_ödex
, 
_co‹d
[]) const {

3120 
_co‹d
[0] = 
a_∑th
[
_ödex
][0];

3121 
_co‹d
[1] = 
a_∑th
[
_ödex
][1];

3122 
_co‹d
[2] = 
a_∑th
[
_ödex
][2];

3123 
	}
}

3126 
	gElôe_InvidivuÆ
::
	$£t_gíes_ƒ
(c⁄° 
_vÆue
) {

3128 
dñëe
 [] 
a_gíes
;

3130 
_y
 = 0; _y < 
gíes_ƒ
; _y++)

3131 
dñëe
 [] 
a_∑th
[
_y
];

3132 
dñëe
 [] 
a_∑th
;

3134 
gíes_ƒ
 = 
_vÆue
;

3135 
a_gíes
 = 
√w
 
_gí
[
gíes_ƒ
];

3137 
a_∑th
 = 
√w
 *[
gíes_ƒ
];

3138 
_y
 = 0; _y < 
gíes_ƒ
; _y++)

3139 
a_∑th
[
_y
] = 
√w
 [3];

3140 
	}
}

3143 
	gElôe_InvidivuÆ
::
	$£t_gíes
(c⁄° 
_‰om
, c⁄° 
_u¡û
, c⁄° 
_gí
 
_gíes
[]) {

3144 
_igí
 = 
_‰om
;

3146 (
ªady_gí
 < 
gíes_ƒ
Ë&& (
_igí
 < 
_u¡û
)) {

3147 
a_gíes
[
ªady_gí
++] = 
_gíes
[
_igí
++];

3149 
	}
}

3152 
	gElôe_InvidivuÆ
::
	$£t_gíes
(c⁄° 
_gí
 
_gíes
[]) {

3153 
ªady_gí
 = 0;

3154 
_igí
 = 0;

3155 (
ªady_gí
 < 
gíes_ƒ
)) {

3156 
a_gíes
[
ªady_gí
++] = 
_gíes
[
_igí
++];

3158 
	}
}

3161 
	gElôe_InvidivuÆ
::
	$öô_missi⁄s
(c⁄° 
_size
) {

3163 
_y
 = 0; _y < 
missi⁄s_ƒ
; _y++)

3164 
dñëe
 [] 
a_missi⁄s_co‹d
[
_y
];

3165 
dñëe
 [] 
a_missi⁄s_co‹d
;

3167 
missi⁄s_ƒ
 = 
_size
;

3168 
a_missi⁄s_co‹d
 = 
√w
 *[
missi⁄s_ƒ
];

3169 
_y
 = 0; _y < 
missi⁄s_ƒ
; _y++)

3170 
a_missi⁄s_co‹d
[
_y
] = 
√w
 [8];

3171 
	}
}

3174 
	gElôe_InvidivuÆ
::
	$£t_missi⁄
(c⁄° 
_ödex
, c⁄° 
_co‹d
[]) {

3175 
a_missi⁄s_co‹d
[
_ödex
][0] = 
_co‹d
[0];

3176 
a_missi⁄s_co‹d
[
_ödex
][1] = 
_co‹d
[1];

3177 
a_missi⁄s_co‹d
[
_ödex
][2] = 
_co‹d
[2];

3178 
	}
}

3201 
	gElôe_InvidivuÆ
::
	$£t_missi⁄s_˛o£r_pos
(c⁄° 
_missi⁄_ƒ
, c⁄° 
_co‹d
[]) {

3202 
a_missi⁄s_co‹d
[
_missi⁄_ƒ
][5] = 
_co‹d
[0];

3203 
a_missi⁄s_co‹d
[
_missi⁄_ƒ
][6] = 
_co‹d
[1];

3204 
a_missi⁄s_co‹d
[
_missi⁄_ƒ
][7] = 
_co‹d
[2];

3205 
	}
}

3208 
	gElôe_InvidivuÆ
::
	$£t_missi⁄s_˛o£r_di°
(c⁄° 
_missi⁄_ƒ
, c⁄° 
_vÆue
) {

3209 
a_missi⁄s_co‹d
[
_missi⁄_ƒ
][3] = 
_vÆue
;

3210 
	}
}

3213 
	gElôe_InvidivuÆ
::
	$£t_missi⁄s_°ïs_√eded
(c⁄° 
_missi⁄_ƒ
, c⁄° 
_vÆue
) {

3214 
a_missi⁄s_co‹d
[
_missi⁄_ƒ
][4] = 
_vÆue
;

3215 
	}
}

3218 
	gElôe_InvidivuÆ
::
	$öô_Áπ_m≠
(c⁄° 
_size
) {

3220 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

3221 
dñëe
 [] 
a_FART_m≠
[
_y
];

3222 
dñëe
 [] 
a_FART_m≠
;

3224 
Áπ_ˇãg‹õs
 = 
_size
;

3225 
a_FART_m≠
 = 
√w
 *[
Áπ_ˇãg‹õs
];

3226 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

3227 
a_FART_m≠
[
_y
] = 
√w
 [4];

3228 
	}
}

3231 
	gElôe_InvidivuÆ
::
	$£t_Áπ_m≠
(c⁄° 
_ödex
, c⁄° 
_ˇãg‹õs
[]) {

3232 
a_FART_m≠
[
_ödex
][0] = 
_ˇãg‹õs
[0];

3233 
a_FART_m≠
[
_ödex
][1] = 
_ˇãg‹õs
[1];

3234 
a_FART_m≠
[
_ödex
][2] = 
_ˇãg‹õs
[2];

3235 
a_FART_m≠
[
_ödex
][3] = 
_ˇãg‹õs
[3];

3236 
	}
}

3239 
	gElôe_InvidivuÆ
::
	$£t_Áπ_m≠
(c⁄° 
_size
, c⁄° 
_ˇãg‹õs
[][4]) {

3241 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

3242 
dñëe
 [] 
a_FART_m≠
[
_y
];

3243 
dñëe
 [] 
a_FART_m≠
;

3245 
Áπ_ˇãg‹õs
 = 
_size
;

3246 
a_FART_m≠
 = 
√w
 *[
Áπ_ˇãg‹õs
];

3247 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

3248 
a_FART_m≠
[
_y
] = 
√w
 [4];

3250 
_iˇt
 = 0; _iˇà< 
Áπ_ˇãg‹õs
; _icat++) {

3251 
a_FART_m≠
[
_iˇt
][0] = 
_ˇãg‹õs
[_icat][0];

3252 
a_FART_m≠
[
_iˇt
][1] = 
_ˇãg‹õs
[_icat][1];

3253 
a_FART_m≠
[
_iˇt
][2] = 
_ˇãg‹õs
[_icat][2];

3254 
a_FART_m≠
[
_iˇt
][3] = 
_ˇãg‹õs
[_icat][3];

3256 
	}
}

3259 
	gElôe_InvidivuÆ
::
	$£t_Áπ_m≠
(c⁄° 
_size
, c⁄° 
_ˇãg‹õs
[][4]) {

3261 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

3262 
dñëe
 [] 
a_FART_m≠
[
_y
];

3263 
dñëe
 [] 
a_FART_m≠
;

3265 
Áπ_ˇãg‹õs
 = 
_size
;

3266 
a_FART_m≠
 = 
√w
 *[
Áπ_ˇãg‹õs
];

3267 
_y
 = 0; _y < 
Áπ_ˇãg‹õs
; _y++)

3268 
a_FART_m≠
[
_y
] = 
√w
 [4];

3270 
_iˇt
 = 0; _iˇà< 
Áπ_ˇãg‹õs
; _icat++) {

3271 
a_FART_m≠
[
_iˇt
][0] = 
_ˇãg‹õs
[_icat][0];

3272 
a_FART_m≠
[
_iˇt
][1] = 
_ˇãg‹õs
[_icat][1];

3273 
a_FART_m≠
[
_iˇt
][2] = 
_ˇãg‹õs
[_icat][2];

3274 
a_FART_m≠
[
_iˇt
][3] = 
_ˇãg‹õs
[_icat][3];

3276 
	}
}

3279 
	gElôe_InvidivuÆ
::
	$£t_∑th_°ï
(c⁄° 
_co‹d
[]) {

3280 i‡(
ªady_∑th
 < 
gíes_ƒ
) {

3281 
a_∑th
[
ªady_∑th
][0] = 
_co‹d
[0];

3282 
a_∑th
[
ªady_∑th
][1] = 
_co‹d
[1];

3283 
a_∑th
[
ªady_∑th
][2] = 
_co‹d
[2];

3284 
ªady_∑th
++;

3286 
	}
}

3289 
	gElôe_InvidivuÆ
::
	$£t_robŸ_dümëî
(c⁄° 
_vÆue
) {

3290 
robŸ_dümëî
 = 
_vÆue
;

3291 
	}
}

3294 
	gElôe_InvidivuÆ
::
	$£t_robŸ_dümëî_£ns‹s
(c⁄° 
_vÆue
) {

3295 
robŸ_dümëî_£ns‹s
 = 
_vÆue
;

3296 
	}
}

3299 
	gElôe_InvidivuÆ
::
	$£t_fô√ss
(c⁄° 
_mŸiv©i⁄s
[]) {

3300 
a_fô√ss
[0] = 
_mŸiv©i⁄s
[0];

3301 
a_fô√ss
[1] = 
_mŸiv©i⁄s
[1];

3302 
a_fô√ss
[2] = 
_mŸiv©i⁄s
[2];

3303 
a_fô√ss
[3] = 
_mŸiv©i⁄s
[3];

3304 
	}
}

3307 
	gElôe_InvidivuÆ
::
	$£t_home_co‹d
(c⁄° 
_co‹d
[]) {

3308 
home_co‹d
[0] = 
_co‹d
[0];

3309 
home_co‹d
[1] = 
_co‹d
[1];

3310 
home_co‹d
[2] = 
_co‹d
[2];

3311 
	}
}

3314 
	gElôe_InvidivuÆ
::
	$Së_SèπCo‹dö©es
(c⁄° 
_co‹d
[]) {

3315 
°¨t_co‹d
[0] = 
_co‹d
[0];

3316 
°¨t_co‹d
[1] = 
_co‹d
[1];

3317 
°¨t_co‹d
[2] = 
_co‹d
[2];

3318 
	}
}

3321 
	gElôe_InvidivuÆ
::
	$£t_föÆ_co‹d
(c⁄° 
_co‹d
[]) {

3322 
föÆ_co‹d
[0] = 
_co‹d
[0];

3323 
föÆ_co‹d
[1] = 
_co‹d
[1];

3324 
föÆ_co‹d
[2] = 
_co‹d
[2];

3325 
	}
}

	@processors/longRangeNavigator/GALRN.h

34 #i‚de‡
GALRN_H


35 
	#GALRN_H


	)

40 
	~<°dio.h
>

41 
	~<°dlib.h
>

42 
	~<°rög.h
>

43 
	~<io°ªam
>

44 
	~"Utûs.h
"

48 
	~<m©h.h
>

49 
	~"I¡î«lM≠.h
"

52 
	~"M™damiFuzzyModñ.h
"

58 c⁄° 
	gACTIONS_NUMBER
 = 4;

60 c⁄° 
	gGENES_NUMBER
 = 400;

61 c⁄° 
	gPOPULATION
 = 100;

62 c⁄° 
	gGENERATIONS
 = 100;

63 c⁄° 
	gELITE
 = 1;

64 c⁄° 
	gFIXED_ELITE
 = 3;

65 c⁄° 
	gIMMIGRANTS
 = 6;

66 c⁄° 
	gCROSS_POINTS
 = 40;

67 c⁄° 
	gMUTATION_RATE
 = 0.20;

68 c⁄° 
	gTOURNAMENT_PARAM
 = 0.85;

69 c⁄° 
	gCROSSOVER_RATE
 = 0.80;

73 c⁄° 
	gMOTIVATION_CURIOSITY
 = 1.00;

74 c⁄° 
	gMOTIVATION_ENERGY
 = 0.00;

75 c⁄° 
	gMOTIVATION_HOMING
 = 0.00;

76 c⁄° 
	gMOTIVATION_MISSIONS
 = 1.00;

78 c⁄° 
	gREVISITED_PENALTY
 = 0.30;

79 c⁄° 
	gSELECTED_ROOM
 = 
H_ROOM
;

81 c⁄° 
	gSTART_ANGLE
 = 0;

82 c⁄° 
	gSTART_X_COORD
 = 250;

83 c⁄° 
	gSTART_Y_COORD
 = 250;

84 c⁄° 
	gSTARTING_BATTERY
 = 1.0;

85 
	gCURRENT_BATTERY
 = 25.0;

88 c⁄° 
	gGOAL_ANGLE
 = 
START_ANGLE
;

89 c⁄° 
	gGOAL_X_COORD
 = 
START_X_COORD
;

90 c⁄° 
	gGOAL_Y_COORD
 = 
START_Y_COORD
;

91 c⁄° 
	gHOME_ANGLE
 = 
START_ANGLE
;

92 c⁄° 
	gHOME_X_COORD
 = 
START_X_COORD
;

93 c⁄° 
	gHOME_Y_COORD
 = 
START_Y_COORD
;

96 c⁄° 
	gFORWARD
 = 0;

97 c⁄° 
	gREVERSE
 = 1;

98 c⁄° 
	gFREEZE
 = 2;

99 c⁄° 
	gTURN_RIGHT
 = 3;

100 c⁄° 
	gTURN_LEFT
 = 4;

101 c⁄° 
	gTURN_RIGHT_1
 = 5;

102 c⁄° 
	gTURN_LEFT_1
 = 6;

103 c⁄° 
	gTURN_RIGHT_3
 = 7;

104 c⁄° 
	gTURN_LEFT_3
 = 8;

105 c⁄° 
	gTURN_RIGHT_2
 = 9;

106 c⁄° 
	gTURN_LEFT_2
 = 10;

109 c⁄° 
	gSTEP_SIZE
 = 5;

110 c⁄° 
	gANGLE_SIZE
 = 23;

112 c⁄° 
	gGOAL_SIZE
 = 1.0;

113 c⁄° 
	gGOAL_SIGNAL_RANGE
 = 3.0;

114 c⁄° 
	gMISSION_AREA
 = 1.0;

115 c⁄° 
	gMISSION_MAX_RANGE
 = (8.0);

117 c⁄° 
	gROBOT_DIAMETER
 = 38.5;

118 c⁄° 
	gSENSOR_RANGE
 = 10;

127 c⁄° 
	gPOWER_MULT
 = 2.0;

132 c⁄° 
	gPOWER_FORWARD
 = 0.0250;

133 c⁄° 
	gPOWER_RIGHT
 = 0.0125;

134 c⁄° 
	gPOWER_LEFT
 = 0.0125;

135 c⁄° 
	gPOWER_RIGHT_1
 = 0.0125;

136 c⁄° 
	gPOWER_LEFT_1
 = 0.0125;

138 c⁄° 
	gPOWER_RIGHT_2
 = 0.0150;

139 c⁄° 
	gPOWER_LEFT_2
 = 0.0150;

140 c⁄° 
	gPOWER_RIGHT_3
 = 0.0200;

141 c⁄° 
	gPOWER_LEFT_3
 = 0.0200;

142 c⁄° 
	gPOWER_REVERSE
 = 0.0250;

143 c⁄° 
	gPOWER_FREEZE
 = 0.0001;

164 c⁄° 
	gROULETTE
 = 0;

165 c⁄° 
	gROULETTE_ELITE
 = 1;

166 c⁄° 
	gTOURNAMENT
 = 2;

167 c⁄° 
	gTOURNAMENT_ELITE
 = 3;

168 c⁄° 
	gTOURNAMENT_ELITE_RANDOM
 = 4;

170 c⁄° 
	gVERBOSE_OFF
 = 0x00;

171 c⁄° 
	gVERBOSE_MIN
 = 0x01;

172 c⁄° 
	gVERBOSE_LOW
 = 0x02;

173 c⁄° 
	gVERBOSE_MEDIUM
 = 0x03;

174 c⁄° 
	gVERBOSE_HIGH
 = 0x04;

175 c⁄° 
	gVERBOSE_VERY_HIGH
 = 0x05;

177 
	gDEBUG_ITERATIONS
 = 0;

205 
	#USE_ELITE_FIX_FUNCTION


	)

210 
	t_gí
;

211 
˛ass
 
	gOrg™ism
;

212 
˛ass
 
	gVútuÆExecutive
;

213 
˛ass
 
	gFô√ssFun˘i⁄
;

214 
˛ass
 
	gP›_Sèts
;

215 
˛ass
 
	gP›uœti⁄
;

222 ˛as†
	cOrg™ism


224 
	m¥iv©e
:

225 
_gí
 
a_gíes
[
GENES_NUMBER
];

227 
	mgíesNumbî
;

228 
	mfô√ss
;

229 
	mønkög
;

230 
	m¶i˚
;

231 
	mmö_gﬂl_di°™˚
;

232 
	mu£ful_°ïs_ƒ
;

233 
	mföÆ_posôi⁄
[3];

234 
	mfulfûlmít_¥odu˘s
[4];

236 
	mpublic
:

237 
Org™ism
();

238 
Org™ism
(
_numbî
);

239 ~
Org™ism
();

241 
	$PrötGíome
(c⁄° 
a_fûeName
[]) const;

242 
_gí
 
	$gëGíe
(
_igí
) const;

243 
	$gëFô√ss
() const;

244 
	$gëGíesNumbî
() const;

245 
	$gëR™kög
() const;

246 
	$gëSli˚
() const;

247 
	$gë_mö_gﬂl_di°™˚
() const;

248 
	$gë_u£ful_°ïs_ƒ
() const;

249 
	$gë_föÆ_posôi⁄
(
_co‹dö©es
[]) const;

250 
	$gë_fulfûlmít_¥odu˘s
(
_fulfûlmít
[]) const;

252 
	`£tGíe
(
_igí
, 
_gí
 
_vÆue
);

253 
	`£tFô√ss
(
_vÆue
);

254 
	`£tGíesNumbî
(
_vÆue
);

255 
	`£tR™kög
(
_vÆue
);

256 
	`£tSli˚
(
_vÆue
);

257 
	`£t_u£ful_°ïs_ƒ
(
_vÆue
);

258 
	`£t_mö_gﬂl_di°™˚
(
_vÆue
);

259 
	`£t_föÆ_posôi⁄
(c⁄° 
_co‹dö©es
[]);

260 
	`£t_fulfûlmít_¥odu˘s
(c⁄° 
_fulfûlmít
[]);

262 
Org™ism
 
	tc_‹g™ism
;

272 ˛as†
	cVútuÆExecutive


276 
¥iv©e
:

277 
boﬁ
 
¸ashFœg
;

278 
_gíesNumbî
;

279 
u£ful_°ïs_ƒ
;

280 
£ns‹sR™ge
;

281 
robŸCñlRadius
;

282 
robŸCñlDümëî
;

283 
robŸCñlRadiusPlusSís‹s
;

284 
robŸCñlDümëîPlusSís‹s
;

285 
robŸRadius
;

286 
robŸDümëî
;

287 
robŸRadiusPlusSís‹s
;

288 
°ï_Ànght
;

289 
™gÀ_Àngth
;

293 
öôülB©ãry
;

294 
cuºítB©ãry
;

296 
°¨tPosôi⁄
[3];

297 
gﬂlPosôi⁄
[3];

298 
homePosôi⁄
[3];

300 
cuºítPosôi⁄
[3];

301 
tŸÆMissi⁄s
;

303 
missi⁄Posôi⁄
[1][8];

307 
_vñv_m≠MeshSize
;

308 
_vñv_m≠Width
;

309 
_vñv_m≠Height
;

310 
_vñv_m≠XDim
;

311 
_vñv_m≠YDim
;

314 
	`CÀ™AŒ
();

315 
boﬁ
 
	`RobŸSwïtAªa
(c⁄° 
_¥evCo‹d
[], c⁄° 
_gí
 
_a˘i⁄
);

317 
	`Upd©eB©ãryLevñ
(c⁄° 
_gí
 
_a˘i⁄
);

319 
	`CÆc_Fô√ss_Curiosôy
();

320 
	`CÆc_Fô√ss_E√rgy
();

321 
	`CÆc_Fô√ss_Homög
();

322 
	`CÆc_Fô√ss_Missi⁄
();

324 
public
:

325 
c_M≠
 
o_MAP
;

328 
	`VútuÆExecutive
();

329 ~
	`VútuÆExecutive
();

330 
‰õnd
 
˛ass
 
Fô√ssFun˘i⁄
;

332 
	`Execut‹
(c⁄° 
c_‹g™ism
& 
agít
, 
a_fô√ss
[]);

333 
	`PrötMAPtoFûe
(c⁄° 
a_fûeName
[]);

334 
	`CompuãNextPosôi⁄
(
_cuºítPosôi⁄
[], c⁄° 
_gí
 
_a˘i⁄
);

335 
	`Di°™˚_Missi⁄s
(c⁄° 
_cuºítPosôi⁄
[], c⁄° 
_°ï
);

336 
	`CÆcuœã_Di°™˚
(c⁄° 
_1°_posôi⁄
[], c⁄° 
_2nd_posôi⁄
[]);

338 
boﬁ
 
	`RobŸCøsh_M≠B‹dîCo‹d
();

339 
boﬁ
 
	`Sís‹Cøsh_M≠B‹dîCñls
(c⁄° 
_¥evCo‹d
[], c⁄° 
_gí
 
_a˘i⁄
);

340 
boﬁ
 
	`RobŸCøsh_M≠B‹dîCñls
(c⁄° 
_¥evCo‹d
[], c⁄° 
_gí
 
_a˘i⁄
);

342 
	`Së_SèπCo‹dö©es
(c⁄° 
_co‹dö©es
[]);

343 
	`Së_GﬂlCo‹dö©es
(c⁄° 
_co‹dö©es
[]);

344 
	`Së_Inôül_B©ãry
(c⁄° 
_vÆue
);

345 
	`Së_Missi⁄
(c⁄° 
_co‹dö©es
[]);

347 
	$Show_Missi⁄s
() const;

348 
	`£t_°ï_Ànght
(c⁄° 
_vÆue
);

349 
	`£t_™gÀ_Ànght
(c⁄° 
_vÆue
);

350 
	`£t_£À˘ed_room
(c⁄° 
_vÆue
);

352 
	$gë_°¨t_posôi⁄
(
_co‹dö©es
[]) const;

353 
	$gë_gﬂl_posôi⁄
(
_co‹dö©es
[]) const;

354 
	$gë_cuºít_posôi⁄
(
_co‹dö©es
[]) const;

355 
	$gë_missi⁄_posôi⁄
(
_co‹dö©es
[]) const;

356 
	$gëM≠Width
() const;

357 
	$gëM≠Height
() const;

358 
	$gë_M≠MeshSize
() const;

359 
	$gë_robŸ_dümëî
() const;

360 
	$gë_robŸ_dümëî_£ns‹s
() const;

361 
	$gëXYcCñlD©a
(
_XCo‹d
, 
_YCo‹d
) const;

362 
	$gë_£À˘ed_room
() const;

363 
	$gë_°ï_Ànght
() const;

364 
	$gë_™gÀ_Àngth
() const;

365 
	$gë_u£ful_°ïs_ƒ
() const;

366 
	$gë_mö_missi⁄s_di°™˚
() const;

367 
	$gë_mö_missi⁄s_°ïs
() const;

368 
	$gë_missi⁄_˛o£r_posôi⁄
(
_co‹dö©es
[]) const;

371 
VútuÆExecutive
 
	tc_vExecutive
;

382 ˛as†
	cFô√ssFun˘i⁄


386 
¥iv©e
:

387 
c_FM™dami
 
o_m™dami
;

389 
	`N‹mÆizeTo_1
(
_öputsP¨am
[], 
_öSize
, 
_ouçuts
[], 
_outSize
);

390 
	`PrötMAP
(c⁄° 
a_fûeName
[]);

392 
public
:

393 
Áπ_ˇãg‹õs
;

394 
m≠_width
;

395 
m≠_height
;

396 **
FART_MAP
;

397 
a_fô√ss
[4];

398 
a_mŸiv©i⁄s
[4];

399 
c_vExecutive
 
o_vútuÆMŸi⁄
;

401 
	`Fô√ssFun˘i⁄
();

402 ~
	`Fô√ssFun˘i⁄
();

403 
‰õnd
 
˛ass
 
P›uœti⁄
;

404 
‰õnd
 
˛ass
 
Elôe_InvidivuÆ
;

406 
	`CÆcFô√ss
(c⁄° 
c_‹g™ism
& 
agít
);

407 
	$PrötAgítGENOTYPE
(c⁄° 
c_‹g™ism
& 
agít
, c⁄° 
a_fûeName
[]) const;

408 
	`PrötAgítPHENOTYPE
(c⁄° 
c_‹g™ism
& 
agít
, c⁄° 
a_fûeName
[]);

409 
	`Inô_F¨t_MAP
(c⁄° 
_size
, c⁄° 
_width
, c⁄° 
_height
);

410 
	`Së_FART_MAP
();

413 
	`Së_M≠_Dimísi⁄s
(c⁄° 
_width
, c⁄° 
_height
);

414 
	`Së_SLAM_MAP
(c⁄° 
_x
, c⁄° 
_y
, c⁄° 
_m≠
[][600]);

415 
	`Së_Obje˘_Ob°a˛e
(c⁄° 
xs
, c⁄° 
ys
, c⁄° 
xe
, c⁄° 
ye
);

417 
	$gëM≠MeshSize
() const;

419 
	`Upd©e_MŸiv©i⁄s
(c⁄° 
_mŸiv©i⁄s
[]);

421 
Fô√ssFun˘i⁄
 
	tc_fô√ss
;

431 ˛as†
	cP›_Sèts


433 
public
:

434 
utûMembîs
;

435 
avgFô√ss
;

436 
maxFô√ss
;

437 
möFô√ss
;

438 
avgRñFô√ss
;

439 
möRñFô√ss
;

440 
fulfûlmít_¥odu˘s
[4];

442 
	`P›_Sèts
();

443 ~
	`P›_Sèts
();

445 
	$PrötSèts
(c⁄° 
a_fûeName
[]) const;

447 
P›_Sèts
 
	tc_p›Sèts
;

456 ˛as†
	cP›uœti⁄


458 
¥iv©e
:

459 
p›uœti⁄Size
;

460 
gíî©i⁄sNumbî
;

461 
gíesNumbî
;

462 
£À˘i⁄Mëhod
;

463 
ñôeNumbî
;

464 
ñôe_fixed
;

465 
øndomImmigø¡s
;

466 
¸ossPoötsNumbî
;

467 
muèti⁄sR©e
;

468 
tou∫amítP¨am
;

469 
¸ossovîProbabûôy
;

471 
sumFô√ss
;

472 
avgFô√ss
;

473 
£À˘ed
;

475 
a_p›Li°
[
POPULATION
];

476 
a_poöts
[
CROSS_POINTS
];

478 
c_‹g™ism
 
ao_poﬁ
[
POPULATION
];

479 
c_‹g™ism
 
ao_m©ögPoﬁ
[
POPULATION
];

480 
c_p›Sèts
 
ao_°©s
[
GENERATIONS
];

482 
	`RouÀâe
();

483 
	`Tou∫amít
();

484 
	`Elôe
();

485 
	`R™domImmigø¡s
();

486 
	`CrossP¨íts
(c⁄° 
_∑ª¡s
[], c⁄° 
_chûdªn
[], c⁄° 
_a_poöts
[]);

487 
	`Du∂iˇã_IndividuÆ
(c⁄° 
_∑ª¡
, c⁄° 
_chûd
);

488 
	`Elôe_Fix_Fun˘i⁄
();

490 
	`ToM©ög
(
_i‹g
);

492 
	`S‹tP›GL
(
fú°
, 
œ°
);

493 
	`Uns‹tSñe˘ed
(
_vÆue
);

494 
	`R™kögUpd©e
();

495 
	`S‹t_by_u£ful_°ïs
(
fú°
, 
œ°
);

496 
	`SumTŸÆFô√ss
();

497 
	`AvgTŸÆFô√ss
();

499 
	`SëGíî©i⁄Sèts
(
_ign
);

502 
_gí
 
	$gëGíe
(
_i‹g
, 
_igí
) const;

503 
	$gëFô√ss
(
_i‹g
) const;

504 
	$gëR™kög
(
_i‹g
) const;

505 
	$gëSli˚
(
_i‹g
) const;

506 
	`£tGíe
(
_i‹g
, 
_igí
, 
_gí
 
_vÆue
);

507 
	`£tFô√ss
(
_i‹g
, 
_vÆue
);

508 
	`£tR™kög
(
_i‹g
, 
_vÆue
);

509 
	`£tSli˚
(
_i‹g
, 
_vÆue
);

511 
public
:

512 
Fô√ssFun˘i⁄
 
o_ffô√ss
;

514 
	`P›uœti⁄
();

515 ~
	`P›uœti⁄
();

519 
	`Reöô
();

520 
	`Cª©e
();

521 
	`Evﬁve
(c⁄° 
_vîbo£
);

522 
	`CÀ™Gíes
();

523 
	`EvÆu©e
();

524 
	`Sñe˘
(
_mëhod
);

525 
	`Crossovî
();

526 
	`Muèã
();

528 
	$Di•œyPoﬁ
(
_vîbo£
) const;

529 
	$Di•œyM©ög
(
_vîbo£
) const;

530 
	`Pröt_Ouçuts_Fûes
();

531 
	$Pröt_Sèts_Fûe
(c⁄° 
a_fûeName
[]) const;

532 
	$Pröt_e_gíŸy≥_Fûe
(c⁄° 
a_fûeName
[]) const;

533 
	`Pröt_e_phíŸy≥_Fûe
(c⁄° 
a_fûeName
[]);

534 
	`Pröt_e_ascii_∑th_Fûe
(c⁄° 
a_fûeName
[]);

536 
	$gëP›uœti⁄Size
() const;

537 
	$gëGíî©i⁄sNumbî
() const;

538 
	$gëGíesNumbî
() const;

539 
	$gëSñe˘i⁄Mëhod
() const;

540 
	$gëElôeNumbî
() const;

541 
	$gë_ñôe_fixed
() const;

542 
	$gëR™domImmigø¡s
() const;

543 
	$gëCrossPoötsNumbî
() const;

544 
	$gëMuèti⁄sR©e
() const;

545 
	$gëTou∫amítP¨am
() const;

546 
	$gëCrossovîProbabûôy
() const;

547 
_gí
 
	$gë_ñôe_°ï
(
_°ï
) const;

548 
	$gë_e_föÆ_posôi⁄
(
_co‹dö©es
[]) const;

549 
	$gë_e_u£ful_°ïs_ƒ
() const;

550 
	$gë_e_gﬂl_di°™˚
() const;

551 
	$gë_e_fô√ss
() const;

552 
	$gë_ñôe_gíëy≥
(
_gí
 
_gíŸy≥
[]) const;

553 
	$gë_e_fulfûlmít_¥od
(
_fulfûlmít
[]) const;

555 
	`£tP›uœti⁄Size
(
_vÆue
);

556 
	`£tGíî©i⁄sNumbî
(
_vÆue
);

557 
	`£tGíesNumbî
(
_vÆue
);

558 
	`£tSñe˘i⁄Mëhod
(
_vÆue
);

559 
	`£tElôeNumbî
(
_vÆue
);

560 
	`£t_ñôe_fixed
(
_vÆue
);

561 
	`£tR™domImmigø¡s
(
_vÆue
);

562 
	`£tCrossPoötsNumbî
(
_vÆue
);

563 
	`£tMuèti⁄sR©e
(
_vÆue
);

564 
	`£tTou∫amítP¨am
(
_vÆue
);

565 
	`£tCrossovîProbabûôy
(
_vÆue
);

567 
	$gëM≠MeshSize
() const;

569 
P›uœti⁄
 
	tc_p›
;

577 ˛as†
	cElôe_InvidivuÆ


579 
¥iv©e
:

580 
robŸ_dümëî
;

581 
robŸ_dümëî_£ns‹s
;

582 
gíes_ƒ
;

583 
ªady_gí
;

584 
_gí
 *
a_gíes
;

585 
missi⁄s_ƒ
;

586 **
a_missi⁄s_co‹d
;

587 
Áπ_ˇãg‹õs
;

588 **
a_FART_m≠
;

589 
ªady_∑th
;

590 **
a_∑th
;

592 
public
:

593 
a_fô√ss
[4];

594 
home_co‹d
[3];

595 
°¨t_co‹d
[3];

596 
föÆ_co‹d
[3];

598 
	`Elôe_InvidivuÆ
();

599 ~
	`Elôe_InvidivuÆ
();

601 
	`CÀ™_AŒ
();

602 
	`Pröt_GENOTYPE
(c⁄° 
a_fûeName
[]);

603 
	`Pröt_PHENOTYPE
(c⁄° 
a_fûeName
[]);

605 
	`£t_robŸ_dümëî
(c⁄° 
_vÆue
);

606 
	`£t_robŸ_dümëî_£ns‹s
(c⁄° 
_vÆue
);

607 
	`£t_fô√ss
(c⁄° 
_fô√ss
[]);

608 
	`£t_home_co‹d
(c⁄° 
_co‹d
[]);

609 
	`Së_SèπCo‹dö©es
(c⁄° 
_co‹d
[]);

610 
	`£t_föÆ_co‹d
(c⁄° 
_co‹d
[]);

611 
	`£t_gíes_ƒ
(c⁄° 
_vÆue
);

612 
	`£t_gíes
(c⁄° 
_‰om
, c⁄° 
_u¡û
, c⁄° 
_gí
 
_gíes
[]);

613 
	`£t_gíes
(c⁄° 
_gí
 
_gíes
[]);

614 
	`öô_missi⁄s
(c⁄° 
_size
);

615 
	`£t_missi⁄
(c⁄° 
_ödex
, c⁄° 
_co‹d
[]);

617 
	`£t_missi⁄s_˛o£r_pos
(c⁄° 
_missi⁄_ƒ
, c⁄° 
_co‹d
[]);

618 
	`£t_missi⁄s_˛o£r_di°
(c⁄° 
_missi⁄_ƒ
, c⁄° 
_vÆue
);

619 
	`£t_missi⁄s_°ïs_√eded
(c⁄° 
_missi⁄_ƒ
, c⁄° 
_vÆue
);

620 
	`öô_Áπ_m≠
(c⁄° 
_size
);

621 
	`£t_Áπ_m≠
(c⁄° 
_ödex
, c⁄° 
_ˇãg‹õs
[]);

622 
	`£t_Áπ_m≠
(c⁄° 
_size
, c⁄° 
_ˇãg‹õs
[][4]);

623 
	`£t_Áπ_m≠
(c⁄° 
_size
, c⁄° 
_ˇãg‹õs
[][4]);

625 
	`£t_∑th_°ï
(c⁄° 
_co‹d
[]);

627 
_gí
 
	$gë_gí
(c⁄° 
_ƒ
) const;

628 
	$gë_gíes_ƒ
() const;

629 
	$gë_ñôe_gíes_ƒ
() const;

630 
	`gë_°¨t_co‹d
(
_co‹dö©es
[]);

631 
	`gë_home_co‹d
(
_co‹dö©es
[]);

632 
	`gë_föÆ_co‹d
(
_co‹dö©es
[]);

633 
	$gë_cuºít_idól_co‹d
(c⁄° 
_ödex
, 
_co‹d
[]) const;

635 
Elôe_InvidivuÆ
 
	tc_Be°_rouã
;

	@processors/longRangeNavigator/InternalMap.cpp

33 
	~"I¡î«lM≠.h
"

46 
	gI¡î«lM≠
::
	$I¡î«lM≠
()

48 
m≠Width
 = 
MAP_WIDHT
;

49 
m≠Height
 = 
MAP_HEIGHT
;

50 
m≠MeshSize
 = 
MAP_MESH_SIZE
;

51 
m≠VisôedCñls
 = 0;

52 
£À˘edRoom
 = 
SLAM_ROOM
;

54 
this
->
	`RebuûdM≠
();

55 
	}
}

61 
	gI¡î«lM≠
::~
	$I¡î«lM≠
()

64 #ifde‡
DYNAMIC_MAP


66 
_y
 = 0; _y < 
ﬁdYDim
; _y++)

67 
dñëe
 [] 
MAP
[
_y
];

68 
dñëe
 [] 
MAP
;

71 
	}
}

78 
ölöe
 
	gI¡î«lM≠
::
	$InôM≠
()

81 
_y
 = 0; _y < 
this
->
m≠YDim
; _y++)

83 
_x
 = 0; _x < 
this
->
m≠XDim
; _x++)

85 
MAP
[
_y
][
_x
] = 0;

89 
_y
 = 
this
->
m≠YDim
; _y < 
MAP_CELLS_HEIGHT
; _y++)

91 
_x
 = 
this
->
m≠XDim
; _x < 
MAP_CELLS_WIDTH
; _x++)

93 
MAP
[
_y
][
_x
] = 
OBSTACLE
;

96 
	}
}

103 
	gI¡î«lM≠
::
	$CÀ™M≠
()

105 
this
->
m≠VisôedCñls
 = 0;

107 
_x
 = 0; _x < 
this
->
m≠XDim
; _x++)

108 
_y
 = 0; _y < 
this
->
m≠YDim
; _y++)

109 
this
->
MAP
[
_y
][
_x
] &= 0x0F;

110 
	}
}

117 
	gI¡î«lM≠
::
	$RebuûdM≠
()

119 
this
->
m≠TŸÆAªa
 = 
m≠Width
*
m≠Height
;

120 
this
->
m≠FªeAªa
 = 
m≠TŸÆAªa
;

122 
this
->
m≠XDim
 = 
	`Ãound
((
m≠Width
*1.0)/
m≠MeshSize
);

123 
this
->
m≠YDim
 = 
	`Ãound
((
m≠Height
*1.0)/
m≠MeshSize
);

124 
this
->
m≠TŸÆCñls
 = 
m≠XDim
*
m≠YDim
;

125 
this
->
m≠FªeCñls
 = 
m≠TŸÆCñls
;

128 #ifde‡
DYNAMIC_MAP


130 
_y
 = 0; _y < 
ﬁdYDim
; _y++)

131 
dñëe
 [] 
MAP
[
_y
];

132 
dñëe
 [] 
MAP
;

136 
MAP
 = 
√w
 *[
m≠YDim
];

137 
_y
 = 0; _y < 
m≠YDim
; _y++)

138 
MAP
[
_y
] = 
√w
 [
m≠XDim
];

141 
ﬁdXDim
 = 
m≠XDim
; 
ﬁdYDim
 = 
m≠YDim
;

145 
this
->
	`InôM≠
();

146 
	}
}

149 
	gI¡î«lM≠
::
	$£t_£À˘ed_room
(c⁄° 
_room
)

151 
£À˘edRoom
 = 
_room
;

152 if–
£À˘edRoom
 !
FART_ROOM
 ) 
	`SëTe°S˚«rio
(
_room
);

153 
	}
}

156 
	gI¡î«lM≠
::
	$Së_MAP
(c⁄° 
_width
, c⁄° 
_height
)

160 
£À˘edRoom
 = 
FART_ROOM
;

162 
this
->
m≠Width
 = 
_width
;

163 
this
->
m≠Height
 = 
_height
;

164 
this
->
	`RebuûdM≠
();

165 
	}
}

166 
	gI¡î«lM≠
::
	$Së_MAP_Dimísi⁄
(c⁄° 
_width
, c⁄° 
_height
)

168 
this
->
m≠Width
 = 
_width
;

169 
this
->
m≠Height
 = 
_height
;

170 
this
->
	`RebuûdM≠
();

171 
	}
}

173 
	gI¡î«lM≠
::
	$Së_SLAM_M≠
(c⁄° 
_width
, c⁄° 
_height
){

174 
£À˘edRoom
 = 
SLAM_ROOM
;

175 
this
->
m≠Width
 = 
_width
;

176 
this
->
m≠Height
 = 
_height
;

178 
this
->
m≠TŸÆAªa
 = 
m≠Width
*
m≠Height
;

179 
this
->
m≠FªeAªa
 = 
m≠TŸÆAªa
;

181 
this
->
m≠XDim
 = 
	`Ãound
((
m≠Width
*1.0)/
m≠MeshSize
);

182 
this
->
m≠YDim
 = 
	`Ãound
((
m≠Height
*1.0)/
m≠MeshSize
);

183 
this
->
m≠TŸÆCñls
 = 
m≠XDim
*
m≠YDim
;

184 
this
->
m≠FªeCñls
 = 
m≠TŸÆCñls
;

187 
_y
 = 0; _y < 
this
->
m≠YDim
; _y++)

189 
_x
 = 0; _x < 
this
->
m≠XDim
; _x++)

191 
MAP
[
_y
][
_x
] = 0;

195 
_y
 = 20; _y < 60; _y++)

196 
_x
 = 0; _x < 20; _x++)

197 
this
->
	`£tcCñlOb°a˛e
(
_y
,
_x
);

199 
_y
 = 100; _y < 120; _y++)

200 
_x
 = 90; _x < 100; _x++)

201 
this
->
	`£tcCñlOb°a˛e
(
_y
,
_x
);

203 
_y
 = 
this
->
m≠YDim
; _y < 
MAP_CELLS_HEIGHT
; _y++)

204 
_x
 = 
this
->
m≠XDim
; _x < 
MAP_CELLS_WIDTH
; _x++)

205 
this
->
	`£tcCñlOb°a˛e
(
_x
,
_y
);

206 
	}
}

212 
	gI¡î«lM≠
::
	$SëTe°S˚«rio
(
_room
)

214 
this
->
m≠Width
 = 2500;

215 
this
->
m≠Height
 = 2000;

216 
this
->
	`RebuûdM≠
();

219 if–
_room
 =
TEST_ROOM
 )

221 
£À˘edRoom
 = 
TEST_ROOM
;

222 
this
->
	`RebuûdM≠
();

224 
_X°¨t
 = 15; 
_Xíd
 = 25;

225 
_Y°¨t
 = 0; 
_Yíd
 = 5;

227 
this
->
m≠FªeAªa
 -((
_Xíd
 - 
_X°¨t
)*(
_Yíd
 - 
_Y°¨t
));

229 
_x
 = 
_X°¨t
; _x < 
_Xíd
; _x++)

230 
_y
 = 
_Y°¨t
; _y < 
_Yíd
; _y++)

232 
this
->
	`£tcCñlOb°a˛e
(
_x
, 
_y
);

233 
this
->
m≠FªeCñls
--;

239 if–
_room
 =
H_ROOM
 )

241 
£À˘edRoom
 = 
H_ROOM
;

242 
auxXS
, 
auxYS
, 
auxXE
, 
auxYE
;

243 
_ˇt
 = 0; _ˇà< 
CATEGORIES_H_ROOM
; _cat++)

245 
auxXS
 = 
	`Ãound
–(
FART_H_ROOM
[
_ˇt
][0]Ë* 
m≠XDim
 );

246 
auxYS
 = 
	`Ãound
–(
FART_H_ROOM
[
_ˇt
][1]Ë* 
m≠YDim
 );

247 
auxXE
 = 
	`Ãound
–(1-
FART_H_ROOM
[
_ˇt
][2]Ë* 
m≠XDim
 );

248 
auxYE
 = 
	`Ãound
–(1-
FART_H_ROOM
[
_ˇt
][3]Ë* 
m≠YDim
 );

250 if–
auxXS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map H: X0 = %d\n",áuxXS);

251 if–
auxYS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map H: Y0 = %d\n",áuxYS);

252 if–
auxXE
 > 
m≠XDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map H: X1 = %d\n",áuxXE);

253 if–
auxYE
 > 
m≠YDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map H: Y1 = %d\n",áuxYE);

255 
_y
 = 
auxYS
; _y < 
auxYE
; _y++)

257 
_x
 = 
auxXS
; _x < 
auxXE
; _x++)

259 
this
->
	`£tcCñlOb°a˛e
(
_x
, 
_y
);

267 if–
_room
 =
L_ROOM
 )

269 
£À˘edRoom
 = 
L_ROOM
;

270 
auxXS
, 
auxYS
, 
auxXE
, 
auxYE
;

271 
_ˇt
 = 0; _ˇà< 
CATEGORIES_L_ROOM
; _cat++)

273 
auxXS
 = 
	`Ãound
–(
FART_L_ROOM
[
_ˇt
][0]Ë* 
m≠XDim
 );

274 
auxYS
 = 
	`Ãound
–(
FART_L_ROOM
[
_ˇt
][1]Ë* 
m≠YDim
 );

275 
auxXE
 = 
	`Ãound
–(1-
FART_L_ROOM
[
_ˇt
][2]Ë* 
m≠XDim
 );

276 
auxYE
 = 
	`Ãound
–(1-
FART_L_ROOM
[
_ˇt
][3]Ë* 
m≠YDim
 );

278 if–
auxXS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map L: X0 = %d\n",áuxXS);

279 if–
auxYS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map L: Y0 = %d\n",áuxYS);

280 if–
auxXE
 > 
m≠XDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map L: X1 = %d\n",áuxXE);

281 if–
auxYE
 > 
m≠YDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map L: Y1 = %d\n",áuxYE);

283 
_y
 = 
auxYS
; _y < 
auxYE
; _y++)

285 
_x
 = 
auxXS
; _x < 
auxXE
; _x++)

287 
this
->
	`£tcCñlOb°a˛e
(
_x
, 
_y
);

295 if–
_room
 =
O_ROOM
 )

297 
£À˘edRoom
 = 
O_ROOM
;

298 
auxXS
, 
auxYS
, 
auxXE
, 
auxYE
;

299 
_ˇt
 = 0; _ˇà< 
CATEGORIES_O_ROOM
; _cat++)

301 
auxXS
 = 
	`Ãound
–(
FART_O_ROOM
[
_ˇt
][0]Ë* 
m≠XDim
 );

302 
auxYS
 = 
	`Ãound
–(
FART_O_ROOM
[
_ˇt
][1]Ë* 
m≠YDim
 );

303 
auxXE
 = 
	`Ãound
–(1-
FART_O_ROOM
[
_ˇt
][2]Ë* 
m≠XDim
 );

304 
auxYE
 = 
	`Ãound
–(1-
FART_O_ROOM
[
_ˇt
][3]Ë* 
m≠YDim
 );

306 if–
auxXS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map O: X0 = %d\n",áuxXS);

307 if–
auxYS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map O: Y0 = %d\n",áuxYS);

308 if–
auxXE
 > 
m≠XDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map O: X1 = %d\n",áuxXE);

309 if–
auxYE
 > 
m≠YDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map O: Y1 = %d\n",áuxYE);

311 
_y
 = 
auxYS
; _y < 
auxYE
; _y++)

313 
_x
 = 
auxXS
; _x < 
auxXE
; _x++)

315 
this
->
	`£tcCñlOb°a˛e
(
_x
, 
_y
);

323 if–
_room
 =
S_ROOM
 )

325 
£À˘edRoom
 = 
S_ROOM
;

326 
auxXS
, 
auxYS
, 
auxXE
, 
auxYE
;

327 
_ˇt
 = 0; _ˇà< 
CATEGORIES_S_ROOM
; _cat++)

329 
auxXS
 = 
	`Ãound
–(
FART_S_ROOM
[
_ˇt
][0]Ë* 
m≠XDim
 );

330 
auxYS
 = 
	`Ãound
–(
FART_S_ROOM
[
_ˇt
][1]Ë* 
m≠YDim
 );

331 
auxXE
 = 
	`Ãound
–(1-
FART_S_ROOM
[
_ˇt
][2]Ë* 
m≠XDim
 );

332 
auxYE
 = 
	`Ãound
–(1-
FART_S_ROOM
[
_ˇt
][3]Ë* 
m≠YDim
 );

334 if–
auxXS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map S: X0 = %d\n",áuxXS);

335 if–
auxYS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map S: Y0 = %d\n",áuxYS);

336 if–
auxXE
 > 
m≠XDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map S: X1 = %d\n",áuxXE);

337 if–
auxYE
 > 
m≠YDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map S: Y1 = %d\n",áuxYE);

339 
_y
 = 
auxYS
; _y < 
auxYE
; _y++)

341 
_x
 = 
auxXS
; _x < 
auxXE
; _x++)

343 
this
->
	`£tcCñlOb°a˛e
(
_x
, 
_y
);

351 if–
_room
 =
T_ROOM
 )

353 
£À˘edRoom
 = 
T_ROOM
;

354 
auxXS
, 
auxYS
, 
auxXE
, 
auxYE
;

355 
_ˇt
 = 0; _ˇà< 
CATEGORIES_T_ROOM
; _cat++)

357 
auxXS
 = 
	`Ãound
–(
FART_T_ROOM
[
_ˇt
][0]Ë* 
m≠XDim
 );

358 
auxYS
 = 
	`Ãound
–(
FART_T_ROOM
[
_ˇt
][1]Ë* 
m≠YDim
 );

359 
auxXE
 = 
	`Ãound
–(1-
FART_T_ROOM
[
_ˇt
][2]Ë* 
m≠XDim
 );

360 
auxYE
 = 
	`Ãound
–(1-
FART_T_ROOM
[
_ˇt
][3]Ë* 
m≠YDim
 );

362 if–
auxXS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map T: X0 = %d\n",áuxXS);

363 if–
auxYS
 < 0 ) 
	`Ârötf
(
°dout
, "Ideal Map T: Y0 = %d\n",áuxYS);

364 if–
auxXE
 > 
m≠XDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map T: X1 = %d\n",áuxXE);

365 if–
auxYE
 > 
m≠YDim
 ) 
	`Ârötf
(
°dout
, "Ideal Map T: Y1 = %d\n",áuxYE);

367 
_y
 = 
auxYS
; _y < 
auxYE
; _y++)

369 
_x
 = 
auxXS
; _x < 
auxXE
; _x++)

371 
this
->
	`£tcCñlOb°a˛e
(
_x
, 
_y
);

377 #ifde‡
T_SET_TEST_MAP_PRINT_HERE


378 
	`¥ötf
("\nTEST SET TEST SCENARIO - PRINT THE CHOOSEN MAP HERE:\n");

379 
_y
 = 
this
->
m≠YDim
-1; _y >= 0; _y--)

381 
	`¥ötf
("%2d)", 
_y
);

382 
_x
 = 0; _x < 
this
->
m≠XDim
; _x++)

383 
	`¥ötf
("%x ", 
this
->
	`gëXYcCñlD©a
(
_x
,
_y
));

385 
	`¥ötf
("\n");

387 
	`¥ötf
(" ");

388 
_x
 = 0; _x < 
this
->
m≠XDim
; _x++)

389 
	`¥ötf
("%2d)", 
_x
);

390 
	`¥ötf
("\n");

393 
	}
}

397 
	gI¡î«lM≠
::
	$PrötMAPtoFûe
(c⁄° 
a_fûeName
[])

399 
	`¥ötf
("PRINTING MAP IN FILE: %s\n", 
a_fûeName
);

401 
FILE
 *
Â
;

402 if–(
Â
 = 
	`f›í
(
a_fûeName
, "w")) )

404 
	`Ârötf
(
Â
, "FREE CELLS: %6d", 
this
->
	`gëFªeCñlsNumbî
());

405 
	`Ârötf
(
Â
, "\nVISITED CELLS: %6d", 
this
->
	`gëVisôedCñlsNumbî
());

406 
	`Ârötf
(
Â
, "\nREVISITED CELLS: %6d", 
this
->
	`gëRevisôedCñlsNumbî
());

407 
	`Ârötf
(
Â
, "\n");

410 
_y
 = (
m≠YDim
 - 1); _y >= 0; _y--)

412 
_x
 = 0; _x < 
m≠XDim
; _x++)

414 if–
	`cCñlRevisôed
(
_x
, 
_y
Ë=
åue
 ) { 
	`Ârötf
(
Â
, "R"); }

415 if–
	`cCñlVisôed
(
_x
, 
_y
Ë=
åue
 ) { 
	`Ârötf
(
Â
, "V"); }

416 if–
	`cCñlOb°a˛e
(
_x
, 
_y
Ë=
åue
 ) { 
	`Ârötf
(
Â
, "O"); }

417 if–
	`cCñlMissi⁄
(
_x
, 
_y
Ë=
åue
 ) { 
	`Ârötf
(
Â
, "M"); }

418 { 
	`Ârötf
(
Â
, "¬∑"); }

420 
	`Ârötf
(
Â
, "\n");

422 
	`f˛o£
(
Â
);

424 { 
	`¥ötf
("Error opening FILE in function: PRINTING MAP TO FILE\n"); }

425 
	}
}

432 
boﬁ
 
	gI¡î«lM≠
::
	$cCñlMissi⁄
(
_XCo‹d
, 
_YCo‹d
) const

434 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

435 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::cCellMission");

437 
boﬁ
 
aux
 = 
Ál£
;

438 if–(
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] & 
MISSION
Ë=MISSION ) 
aux
 = 
åue
;

440 (
aux
);

441 
	}
}

448 
boﬁ
 
	gI¡î«lM≠
::
	$cCñlOb°a˛e
(
_XCo‹d
, 
_YCo‹d
) const

450 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

451 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::cCellObstacle");

453 
boﬁ
 
aux
 = 
Ál£
;

454 if–(
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] & 
OBSTACLE
Ë=OBSTACLE ) 
aux
 = 
åue
;

456 (
aux
);

457 
	}
}

463 
boﬁ
 
	gI¡î«lM≠
::
	$cCñlRevisôed
(
_XCo‹d
, 
_YCo‹d
) const

465 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

466 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::cCellRevisited");

468 
boﬁ
 
aux
 = 
Ál£
;

469 if–(
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] & 
REVISITED
Ë=REVISITED ) 
aux
 = 
åue
;

471 (
aux
);

472 
	}
}

478 
boﬁ
 
	gI¡î«lM≠
::
	$cCñlVisôed
(
_XCo‹d
, 
_YCo‹d
) const

480 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

481 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::cCellVisited");

483 
boﬁ
 
aux
 = 
Ál£
;

484 if–(
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] & 
VISITED
Ë=VISITED ) 
aux
 = 
åue
;

486 (
aux
);

487 
	}
}

494 
boﬁ
 
	gI¡î«lM≠
::
	$˚ŒMissi⁄
(
_cﬁ
, 
_row
) const

496 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

497 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::cellMission");

499 
boﬁ
 
aux
 = 
Ál£
;

500 if–(
this
->
MAP
[
_row
][
_cﬁ
] & 
MISSION
Ë=MISSION ) 
aux
 = 
åue
;

502 (
aux
);

503 
	}
}

509 
boﬁ
 
	gI¡î«lM≠
::
	$˚ŒOb°a˛e
(
_cﬁ
, 
_row
) const

511 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

512 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::cellObstacle");

514 
boﬁ
 
aux
 = 
Ál£
;

515 if–(
this
->
MAP
[
_row
][
_cﬁ
] & 
OBSTACLE
Ë=OBSTACLE ) 
aux
 = 
åue
;

517 (
aux
);

518 
	}
}

524 
boﬁ
 
	gI¡î«lM≠
::
	$˚ŒRevisôed
(
_cﬁ
, 
_row
) const

526 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

527 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::cellVisited");

529 
boﬁ
 
aux
 = 
Ál£
;

530 if–(
this
->
MAP
[
_row
][
_cﬁ
] & 
REVISITED
Ë=REVISITED ) 
aux
 = 
åue
;

532 (
aux
);

533 
	}
}

539 
boﬁ
 
	gI¡î«lM≠
::
	$˚ŒVisôed
(
_cﬁ
, 
_row
) const

541 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

542 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::cellVisited");

544 
boﬁ
 
aux
 = 
Ál£
;

545 if–(
this
->
MAP
[
_row
][
_cﬁ
] & 
VISITED
Ë=VISITED ) 
aux
 = 
åue
;

547 (
aux
);

548 
	}
}

552 
	gI¡î«lM≠
::
	$gë_£À˘ed_room
(Ëc⁄° { (
this
->
£À˘edRoom
);
	}
}

554 
	gI¡î«lM≠
::
	$gëM≠Width
(Ëc⁄° { (
this
->
m≠Width
); 
	}
}

556 
	gI¡î«lM≠
::
	$gëM≠Height
(Ëc⁄° { (
this
->
m≠Height
); 
	}
}

558 
	gI¡î«lM≠
::
	$gëM≠TŸÆAªa
(Ëc⁄° { (
this
->
m≠TŸÆAªa
); 
	}
}

560 
	gI¡î«lM≠
::
	$gëM≠FªeAªa
(Ëc⁄° { (
this
->
m≠FªeAªa
); 
	}
}

562 
	gI¡î«lM≠
::
	$gëM≠MeshSize
(Ëc⁄° { (
this
->
m≠MeshSize
); 
	}
}

564 
	gI¡î«lM≠
::
	$gëM≠XDim
(Ëc⁄° { (
this
->
m≠XDim
); 
	}
}

566 
	gI¡î«lM≠
::
	$gëM≠YDim
(Ëc⁄° { (
this
->
m≠YDim
); 
	}
}

568 
	gI¡î«lM≠
::
	$gëTŸÆCñlsNumbî
(Ëc⁄° { (
this
->
m≠TŸÆCñls
); 
	}
}

570 
	gI¡î«lM≠
::
	$gëFªeCñlsNumbî
()

572 
this
->
m≠FªeCñls
 = 0;

574 
_x
 = 0; _x < 
this
->
m≠XDim
; _x++)

576 
_y
 = 0; _y < 
this
->
m≠YDim
; _y++)

577 { if–
	`cCñlOb°a˛e
(
_x
, 
_y
ËË{ 
this
->
m≠FªeCñls
++; } }

580 (
this
->
m≠FªeCñls
);

581 
	}
}

584 
	gI¡î«lM≠
::
	$gëRevisôedCñlsNumbî
()

586 
this
->
m≠RevisôedCñls
 = 0;

588 
_x
 = 0; _x < 
this
->
m≠XDim
; _x++)

590 
_y
 = 0; _y < 
this
->
m≠YDim
; _y++)

591 { if–
	`cCñlRevisôed
(
_x
, 
_y
ËË{ 
this
->
m≠RevisôedCñls
++; } }

594 (
this
->
m≠RevisôedCñls
);

595 
	}
}

598 
	gI¡î«lM≠
::
	$gëVisôedCñlsNumbî
()

600 
this
->
m≠VisôedCñls
 = 0;

602 
_x
 = 0; _x < 
this
->
m≠XDim
; _x++)

604 
_y
 = 0; _y < 
this
->
m≠YDim
; _y++)

605 { if–
	`cCñlVisôed
(
_x
, 
_y
ËË{ 
this
->
m≠VisôedCñls
++; } }

608 (
this
->
m≠VisôedCñls
);

609 
	}
}

613 
	gI¡î«lM≠
::
	$gëXYcCñlD©a
(
_XCo‹d
, 
_YCo‹d
) const

615 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

616 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::getXYcCellData");

618 (
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
]);

619 
	}
}

623 
	gI¡î«lM≠
::
	$gëXYCñlD©a
(
_cﬁ
, 
_row
) const

625 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

626 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::getXYCellData");

628 (
MAP
[
_row
][
_cﬁ
]);

629 
	}
}

632 
	gI¡î«lM≠
::
	$£tM≠Width
(
_vÆue
Ë{ 
this
->
m≠Width
 = _vÆue; 
	}
}

634 
	gI¡î«lM≠
::
	$£tM≠Height
(
_vÆue
Ë{ 
this
->
m≠Height
 = _vÆue; 
	}
}

636 
	gI¡î«lM≠
::
	$£tM≠TŸÆAªa
(
_vÆue
){ 
this
->
m≠TŸÆAªa
 = _vÆue; 
	}
}

638 
	gI¡î«lM≠
::
	$£tM≠FªeAªa
(
_vÆue
Ë{ 
this
->
m≠FªeAªa
 = _vÆue; 
	}
}

640 
	gI¡î«lM≠
::
	$£tM≠MeshSize
(
_vÆue
Ë{ 
this
->
m≠MeshSize
 = _vÆue; 
	}
}

642 
	gI¡î«lM≠
::
	$£tM≠XDim
(
_vÆue
Ë{ 
this
->
m≠XDim
 = _vÆue; 
	}
}

644 
	gI¡î«lM≠
::
	$£tM≠YDim
(
_vÆue
Ë{ 
this
->
m≠YDim
 = _vÆue; 
	}
}

646 
	gI¡î«lM≠
::
	$£tTŸÆCñlsNumbî
(
_vÆue
Ë{ 
this
->
m≠TŸÆCñls
 = _vÆue; 
	}
}

648 
	gI¡î«lM≠
::
	$£tFªeCñlsNumbî
(
_vÆue
Ë{ 
this
->
m≠FªeCñls
 = _vÆue; 
	}
}

650 
	gI¡î«lM≠
::
	$£tVisôedCñlsNumbî
(
_vÆue
){ 
this
->
m≠VisôedCñls
 = _vÆue;
	}
}

652 
	gI¡î«lM≠
::
	$£tRevisôedCñlsNumbî
(
_vÆue
Ë{ 
this
->
m≠RevisôedCñls
 = _vÆue;
	}
}

657 
	gI¡î«lM≠
::
	$£tXYcCñlD©a
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
, c⁄° 
_vÆue
)

659 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

660 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setXYcCellData");

662 
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] = 
_vÆue
;

663 
	}
}

669 
	gI¡î«lM≠
::
	$£tcCñlMissi⁄
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
)

671 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

672 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setcCellMission");

674 
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] |
MISSION
;

675 
	}
}

681 
	gI¡î«lM≠
::
	$£tcCñlOb°a˛e
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
)

683 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

684 
	`¥ötf
("\nERROR: COORDINATES (%d,%d)OUTSIDE THE MAP - I¡î«lM≠::£tcCñlOb°a˛e",
_XCo‹d
,
_YCo‹d
);

686 
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] |
OBSTACLE
;

687 
	}
}

690 
	gI¡î«lM≠
::
	$£tcCñlRevisôed
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
)

692 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

693 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setcCellRevisited");

695 
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] |
REVISITED
;

696 
	}
}

702 
	gI¡î«lM≠
::
	$£tcCñlVisôed
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
)

704 if–(
_XCo‹d
 >
m≠XDim
Ë|| (
_YCo‹d
 >
m≠YDim
) )

705 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setcCellVisited");

707 
this
->
MAP
[(
m≠YDim
-1)-
_YCo‹d
][
_XCo‹d
] |
VISITED
;

708 
	}
}

714 
	gI¡î«lM≠
::
	$£tXYCñlD©a
(c⁄° 
_cﬁ
, c⁄° 
_row
, c⁄° 
_vÆue
)

716 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

717 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setXYCellData");

719 
this
->
MAP
[
_row
][
_cﬁ
] = 
_vÆue
;

720 
	}
}

726 
	gI¡î«lM≠
::
	$£tCñlMissi⁄
(c⁄° 
_cﬁ
, c⁄° 
_row
)

728 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

729 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setCellMission");

731 
this
->
MAP
[
_row
][
_cﬁ
] |
MISSION
;

732 
	}
}

738 
	gI¡î«lM≠
::
	$£tCñlOb°a˛e
(c⁄° 
_cﬁ
, c⁄° 
_row
)

740 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

741 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setCellObstacle");

743 
this
->
MAP
[
_row
][
_cﬁ
] |
OBSTACLE
;

744 
	}
}

750 
	gI¡î«lM≠
::
	$£tCñlRevisôed
(c⁄° 
_cﬁ
, c⁄° 
_row
)

752 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

753 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setCellRevisited");

755 
this
->
MAP
[
_row
][
_cﬁ
] |
REVISITED
;

756 
	}
}

762 
	gI¡î«lM≠
::
	$£tCñlVisôed
(c⁄° 
_cﬁ
, c⁄° 
_row
)

764 if–(
_cﬁ
 >
m≠XDim
Ë|| (
_row
 >
m≠YDim
) )

765 
	`¥ötf
("\nERROR: COORDINATES OUTSIDE THE MAP - InternalMap::setCellVisited");

767 
this
->
MAP
[
_row
][
_cﬁ
] |
VISITED
;

768 
	}
}

	@processors/longRangeNavigator/InternalMap.h

32 #i‚de‡
INTERNALMAP_H


33 
	#INTERNALMAP_H


	)

38 
	~<°dlib.h
>

39 
	~<m©h.h
>

40 
	~<°dio.h
>

51 c⁄° 
	gMAP_CELLS_HEIGHT
 = 500;

52 c⁄° 
	gMAP_CELLS_WIDTH
 = 500;

54 c⁄° 
	gMAP_WIDHT
 = 500;

55 c⁄° 
	gMAP_HEIGHT
 = 500;

56 c⁄° 
	gMAP_MESH_SIZE
 = 5;

58 c⁄° 
	gOBSTACLE
 = 0x01;

59 c⁄° 
	gMISSION
 = 0x10;

60 c⁄° 
	gVISITED
 = 0x20;

61 c⁄° 
	gREVISITED
 = 0x30;

64 c⁄° 
	gTEST_ROOM
 = 0;

65 c⁄° 
	gH_ROOM
 = 1;

66 c⁄° 
	gL_ROOM
 = 2;

67 c⁄° 
	gO_ROOM
 = 3;

68 c⁄° 
	gS_ROOM
 = 4;

69 c⁄° 
	gT_ROOM
 = 5;

70 c⁄° 
	gFART_ROOM
 = 6;

71 c⁄° 
	gSLAM_ROOM
 = 7;

74 c⁄° 
	gCATEGORIES_H_ROOM
 = 2;

75 c⁄° 
	gFART_H_ROOM
[][4] = {

80 c⁄° 
	gCATEGORIES_L_ROOM
 = 1;

81 c⁄° 
	gFART_L_ROOM
[][4] = {

85 c⁄° 
	gCATEGORIES_O_ROOM
 = 4;

86 c⁄° 
	gFART_O_ROOM
[][4] = {

93 c⁄° 
	gCATEGORIES_S_ROOM
 = 0;

94 c⁄° 
	gFART_S_ROOM
[][4] = {

102 c⁄° 
	gCATEGORIES_T_ROOM
 = 2;

103 c⁄° 
	gFART_T_ROOM
[][4] = {

117 ˛as†
	cI¡î«lM≠


119 
	m¥iv©e
:

121 
m≠Width
;

122 
	mm≠Height
;

123 
	mm≠TŸÆAªa
;

124 
	mm≠FªeAªa
;

127 
	mm≠MeshSize
;

128 
	mm≠XDim
;

129 
	mm≠YDim
;

130 
	mm≠TŸÆCñls
;

131 
	mm≠FªeCñls
;

132 
	mm≠VisôedCñls
;

133 
	mm≠RevisôedCñls
;

134 
	mﬁdXDim
, 
	mﬁdYDim
;

136 
	m£À˘edRoom
;

138 #i‚de‡
DYNAMIC_MAP


140 
	mMAP
[
MAP_CELLS_HEIGHT
][
MAP_CELLS_WIDTH
];

143 #ifde‡
DYNAMIC_MAP


145 **
	mMAP
;

149 
	mpublic
:

150 
I¡î«lM≠
();

151 ~
I¡î«lM≠
();

154 
InôM≠
();

155 
CÀ™M≠
();

156 
RebuûdM≠
();

157 
Së_MAP
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
);

158 
Së_MAP_Dimísi⁄
(c⁄° 
_width
, c⁄° 
_height
);

159 
Së_SLAM_M≠
(c⁄° 
_width
, c⁄° 
_height
);

160 
SëTe°S˚«rio
(
_room
);

161 
PrötMAPtoFûe
(c⁄° 
a_fûeName
[]);

164 
boﬁ
 
	$cCñlMissi⁄
(
_XCo‹d
, 
_YCo‹d
) const;

165 
boﬁ
 
	$cCñlOb°a˛e
(
_XCo‹d
, 
_YCo‹d
) const;

166 
boﬁ
 
	$cCñlVisôed
(
_XCo‹d
, 
_YCo‹d
) const;

167 
boﬁ
 
	$cCñlRevisôed
(
_XCo‹d
, 
_YCo‹d
) const;

170 
boﬁ
 
	$˚ŒMissi⁄
(
_cﬁ
, 
_row
) const;

171 
boﬁ
 
	$˚ŒOb°a˛e
(
_cﬁ
, 
_row
) const;

172 
boﬁ
 
	$˚ŒVisôed
(
_cﬁ
, 
_row
) const;

173 
boﬁ
 
	$˚ŒRevisôed
(
_cﬁ
, 
_row
) const;

175 
	$gëM≠Width
() const;

176 
	$gëM≠Height
() const;

177 
	$gëM≠TŸÆAªa
() const;

178 
	$gëM≠FªeAªa
() const;

179 
	$gëM≠MeshSize
() const;

180 
	$gëM≠XDim
() const;

181 
	$gëM≠YDim
() const;

182 
	$gëTŸÆCñlsNumbî
() const;

183 
	`gëFªeCñlsNumbî
();

184 
	`gëVisôedCñlsNumbî
();

185 
	`gëRevisôedCñlsNumbî
();

186 
	$gë_£À˘ed_room
() const;

188 
	$gëXYcCñlD©a
(
_XCo‹d
, 
_YCo‹d
) const;

190 
	$gëXYCñlD©a
(
_cﬁ
, 
_row
) const;

192 
	`£tM≠Width
(
_vÆue
);

193 
	`£tM≠Height
(
_vÆue
);

194 
	`£tM≠TŸÆAªa
(
_vÆue
);

195 
	`£tM≠FªeAªa
(
_vÆue
);

196 
	`£tM≠MeshSize
(
_vÆue
);

197 
	`£tM≠XDim
(
_vÆue
);

198 
	`£tM≠YDim
(
_vÆue
);

199 
	`£tTŸÆCñlsNumbî
(
_vÆue
);

200 
	`£tFªeCñlsNumbî
(
_vÆue
);

201 
	`£tVisôedCñlsNumbî
(
_vÆue
);

202 
	`£tRevisôedCñlsNumbî
(
_vÆue
);

203 
	`£t_£À˘ed_room
(c⁄° 
_room
);

206 
	`£tXYcCñlD©a
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
, c⁄° 
_vÆue
);

207 
	`£tcCñlMissi⁄
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
);

208 
	`£tcCñlOb°a˛e
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
);

209 
	`£tcCñlVisôed
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
);

210 
	`£tcCñlRevisôed
(c⁄° 
_XCo‹d
, c⁄° 
_YCo‹d
);

213 
	`£tXYCñlD©a
(c⁄° 
_cﬁ
, c⁄° 
_row
, c⁄° 
_vÆue
);

214 
	`£tCñlMissi⁄
(c⁄° 
_cﬁ
, c⁄° 
_row
);

215 
	`£tCñlOb°a˛e
(c⁄° 
_cﬁ
, c⁄° 
_row
);

216 
	`£tCñlVisôed
(c⁄° 
_cﬁ
, c⁄° 
_row
);

217 
	`£tCñlRevisôed
(c⁄° 
_cﬁ
, c⁄° 
_row
);

219 
I¡î«lM≠
 
	tc_M≠
;

	@processors/longRangeNavigator/MandamiFuzzyModel.cpp

33 
	~"M™damiFuzzyModñ.h
"

46 
	gFuzzyRuÀs
::
	$FuzzyRuÀs
()

48 
ruÀsNumbî
 = 
RULES_NUMBER
;

49 
öputsNumbî
 = 
INPUTS_NUMBER
;

50 
ouçutsNumbî
 = 
OUTPUTS_NUMBER
;

52 #ifde‡
DINAMIC


55 
a_öput
 = 
√w
 *[
ruÀsNumbî
];

56 
a_ouçut
 = 
√w
 *[
ruÀsNumbî
];

57 
_yr
 = 0; _y∏< 
ruÀsNumbî
; _yr++)

59 
a_öput
[
_yr
] = 
√w
 [
öputsNumbî
];

60 
a_ouçut
[
_yr
] = 
√w
 [
ouçutsNumbî
];

65 
	`CÀ¨FuzzyRuÀs
();

66 
	}
}

69 #ifde‡
DYNAMIC_MANDAMI


73 
	gFuzzyRuÀs
::
	$FuzzyRuÀs
(
_ruÀs
, 
_öputs
)

75 
ruÀsNumbî
 = 
_ruÀs
;

76 
öputsNumbî
 = 
_öputs
;

77 
ouçutsNumbî
 = 
OUTPUTS_NUMBER
;

81 
a_öput
 = 
√w
 *[
ruÀsNumbî
];

82 
a_ouçut
 = 
√w
 *[
ruÀsNumbî
];

83 
_yr
 = 0; _y∏< 
ruÀsNumbî
; _yr++)

85 
a_öput
[
_yr
] = 
√w
 [
öputsNumbî
];

86 
a_ouçut
[
_yr
] = 
√w
 [
ouçutsNumbî
];

90 
	`CÀ¨FuzzyRuÀs
();

91 
	}
}

97 
	gFuzzyRuÀs
::
	$FuzzyRuÀs
(
_ruÀs
, 
_öputs
, 
_ouçuts
)

99 
ruÀsNumbî
 = 
_ruÀs
;

100 
öputsNumbî
 = 
_öputs
;

101 
ouçutsNumbî
 = 
_ouçuts
;

105 
a_öput
 = 
√w
 *[
ruÀsNumbî
];

106 
a_ouçut
 = 
√w
 *[
ruÀsNumbî
];

107 
_yr
 = 0; _y∏< 
ruÀsNumbî
; _yr++)

109 
a_öput
[
_yr
] = 
√w
 [
öputsNumbî
];

110 
a_ouçut
[
_yr
] = 
√w
 [
ouçutsNumbî
];

114 
	`CÀ¨FuzzyRuÀs
();

115 
	}
}

121 
	gFuzzyRuÀs
::~
	$FuzzyRuÀs
()

123 #ifde‡
DYNAMIC_MANDAMI


125 
_yr
 = 0; _y∏< 
ruÀsNumbî
; _yr++)

127 
dñëe
 [] 
a_öput
[
_yr
];

128 
dñëe
 [] 
a_ouçut
[
_yr
];

130 
dñëe
 [] 
a_öput
;

131 
dñëe
 [] 
a_ouçut
;

134 
	}
}

139 
	gFuzzyRuÀs
::
	$CÀ¨FuzzyRuÀs
()

142 
_yr
 = 0; _y∏< 
ruÀsNumbî
; _yr++)

144 
_xi
 = 0; _xò< 
öputsNumbî
; _xi++)

145 
a_öput
[
_yr
][
_xi
] = 0;

146 
_xo
 = 0; _xÿ< 
ouçutsNumbî
; _xo++)

147 
a_ouçut
[
_yr
][
_xo
] = 0;

149 
	}
}

153 
	gFuzzyRuÀs
::
	$£tRuÀ
(c⁄° 
_ruÀ
, c⁄° 
_¥emi£
[])

155 
_i
 = 0; _ò< 
öputsNumbî
; _i++)

156 
a_öput
[
_ruÀ
][
_i
] = 
_¥emi£
[_i];

157 
	}
}

160 
	gFuzzyRuÀs
::
	$£tPªmi£
(c⁄° 
_ruÀ
, c⁄° 
_öput
, c⁄° 
_¥emi£
)

162 
a_öput
[
_ruÀ
][
_öput
] = 
_¥emi£
;

163 
	}
}

166 
	gFuzzyRuÀs
::
	$£tC⁄£quí˚
(c⁄° 
_ruÀ
, c⁄° 
_ouçut
, c⁄° 
_c⁄£quí˚
)

168 
a_ouçut
[
_ruÀ
][
_ouçut
] = 
_c⁄£quí˚
;

169 
	}
}

172 
	gFuzzyRuÀs
::
	$gëRuÀ
(c⁄° 
_ruÀ
, 
_¥emi£
[])

174 
_i
 = 0; _ò< 
öputsNumbî
; _i++)

175 
_¥emi£
[
_i
] = 
a_öput
[
_ruÀ
][_i];

176 
	}
}

179 
	gFuzzyRuÀs
::
	$gëPªmi£
(c⁄° 
_ruÀ
, c⁄° 
_öput
) const

181 (
a_öput
[
_ruÀ
][
_öput
]);

182 
	}
}

185 
	gFuzzyRuÀs
::
	$gëC⁄£quí˚
(c⁄° 
_ruÀ
, c⁄° 
_ouçut
) const

187 (
a_ouçut
[
_ruÀ
][
_ouçut
]);

188 
	}
}

201 
	gMANDAMIfuzzy
::
	$MANDAMIfuzzy
()

203 
¨óSam∂es
 = 
SAMPLES_PER_AREA
;

204 
ouçutMöVÆue
 = 
MIN_OUTPUT
;

205 
ouçutMaxVÆue
 = 
MAX_OUTPUT
;

206 
ruÀsNumbî
 = 
RULES_NUMBER
;

207 
öputsNumbî
 = 
INPUTS_NUMBER
;

208 
ouçutsNumbî
 = 
OUTPUTS_NUMBER
;

209 
lögui°icVNumbî
 = 
LINGUISTIC_NUMBER
;

210 
o_DOMö
 = 
√w
 
	`c_MF_1D
(
lögui°icVNumbî
);

212 
o_DOMout
 = 
√w
 
	`c_MF_1D
(9);

215 #ifde‡
DYNAMIC_MANDAMI


216 
a_Tn‹m
 = 
√w
 [
ruÀsNumbî
];

217 
a_AªaTc⁄‹m
 = 
√w
 *[
¨óSam∂es
];

218 
_yr
 = 0; _y∏< 
¨óSam∂es
; _yr++)

219 
a_AªaTc⁄‹m
[
_yr
] = 
√w
 [
ouçutsNumbî
];

221 
a_Ouçuts
 = 
√w
 [
ouçutsNumbî
];

225 
a_DOMöputs
 = 
√w
 *[
öputsNumbî
];

226 
_yr
 = 0; _y∏< 
öputsNumbî
; _yr++)

227 
a_DOMöputs
[
_yr
] = 
√w
 [
lögui°icVNumbî
];

229 
o_RuÀs
 = 
√w
 
	`c_FuzzyRuÀs
(
ruÀsNumbî
, 
öputsNumbî
);

233 
this
->
	`InôRuÀsI≈uts
(
o_RuÀs
);

234 
this
->
	`InôRuÀsOuçuts
(
o_RuÀs
);

235 
	}
}

241 
	gMANDAMIfuzzy
::~
	$MANDAMIfuzzy
()

243 
dñëe
 
o_DOMö
;

244 
dñëe
 
o_DOMout
;

247 #ifde‡
DYNAMIC_MANDAMI


249 
dñëe
 [] 
a_Tn‹m
;

250 
_yr
 = 0; _y∏< 
¨óSam∂es
; _yr++)

251 
dñëe
 [] 
a_AªaTc⁄‹m
[
_yr
];

253 
dñëe
 [] 
a_AªaTc⁄‹m
;

254 
dñëe
 [] 
a_Ouçuts
;

256 
_yr
 = 0; _y∏< 
öputsNumbî
; _yr++)

257 
dñëe
 [] 
a_DOMöputs
[
_yr
];

259 
dñëe
 [] 
a_DOMöputs
;

261 
dñëe
 
o_RuÀs
;

264 
	}
}

270 
	gMANDAMIfuzzy
::
	$CÆcOuçuts
(c⁄° 
_öputs
[])

272 
ouçut_sh‹tcut
 = 0;

275 
_ii
 = 0; _iò< 
öputsNumbî
; _ii++)

276 if–
_öputs
[
_ii
] == 0.0 )

277 
ouçut_sh‹tcut
++;

279 if–
ouçut_sh‹tcut
 >
öputsNumbî
 )

281 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

282 
a_Ouçuts
[
_io
] = 0.0;

286 
ouçut_sh‹tcut
 = 0;

287 
_ii
 = 0; _iò< 
öputsNumbî
; _ii++)

288 if–
_öputs
[
_ii
] == 1.0 )

289 
ouçut_sh‹tcut
++;

291 if–
ouçut_sh‹tcut
 >
öputsNumbî
 )

293 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

294 
a_Ouçuts
[
_io
] = 1.0;

298 
	`CÀ¨AŒ
();

300 
this
->
	`CÆcDOMöputs
(
_öputs
);

302 
this
->
	`Aggªg©‹
(
TNORM_MIN
, 
TCONORM_MAX
);

305 
this
->
	`Defuzzifõr
(
DEFUZZ_zCOA
);

308 #ifde‡
T_MANDAMI_OUTPUTS


309 
	`¥ötf
("\nTEST MANDAMI OUTPUTS");

310 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

311 
	`¥ötf
("OUT-%3d: %1.6f\t", 
_io
, 
a_Ouçuts
[_io]);

313 
FILE
 *
Â
;

314 if–(
Â
 = 
	`f›í
("mandami.OUTPUTS", "a")) )

316 
	`¥ötf
("\nTEST MANDAMI OUTPUTS - PRINTING TO FILE");

317 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

318 
	`Ârötf
(
Â
, "%3d\t%f\n", 
_io
, 
a_Ouçuts
[_io]);

319 
	`f˛o£
(
Â
);

321 { 
	`¥ötf
("Error opening FILE in function: CalcOutputs\n"); }

325 
	}
}

330 
	gMANDAMIfuzzy
::
	$CÀ¨AŒ
()

332 
	`CÀ¨Tn‹m
();

333 
	`CÀ¨AªaTc⁄‹m
();

334 
	`CÀ¨Ouçuts
();

335 
	`CÀ¨DOMöputs
();

336 
	}
}

338 
	gMANDAMIfuzzy
::
	$CÀ¨Tn‹m
()

340 
_i
 = 0; _ò< 
ruÀsNumbî
; _i++)

341 
a_Tn‹m
[
_i
] = 0.0;

342 
	}
}

344 
	gMANDAMIfuzzy
::
	$CÀ¨AªaTc⁄‹m
()

346 
_is
 = 0; _i†< 
¨óSam∂es
; _is++)

347 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

348 
this
->
a_AªaTc⁄‹m
[
_is
][
_io
] = 0.0;

349 
	}
}

351 
	gMANDAMIfuzzy
::
	$CÀ¨Ouçuts
()

353 
_i
 = 0; _ò< 
ouçutsNumbî
; _i++)

354 
a_Ouçuts
[
_i
] = 0.0;

355 
	}
}

357 
	gMANDAMIfuzzy
::
	$CÀ¨DOMöputs
()

359 
_ii
 = 0; _iò< 
öputsNumbî
; _ii++)

360 
_û
 = 0; _û < 
lögui°icVNumbî
; _il++)

361 
this
->
a_DOMöputs
[
_ii
][
_û
] = 0.0;

362 
	}
}

366 
	gMANDAMIfuzzy
::
	$FûlTn‹m
(c⁄° 
_mëhod
)

368 
auxTn‹m
 = 1;

370 if–
_mëhod
 =
TNORM_MIN
 )

372 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

374 
a_Tn‹m
[
_ú
] = 1;

375 
_ii
 = 0; _iò< 
öputsNumbî
; _ii++)

378 
auxTn‹m
 = 
a_DOMöputs
[
_ii
][
o_RuÀs
.
	`gëPªmi£
(
_ú
, _ii)];

379 if–
auxTn‹m
 < 
a_Tn‹m
[
_ú
] )

380 
a_Tn‹m
[
_ú
] = 
auxTn‹m
;

384 if–
_mëhod
 =
TNORM_PROD
 )

390 #ifde‡
T_FILL_TNORM_ALL


391 
	`¥ötf
("\nTEST INFERENCE SYSTEM - TNORM");

392 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

393 
	`¥ötf
("R(%3dË %1.3f\t", 
_ú
, 
a_Tn‹m
[_ir]);

395 #ifde‡
T_FILL_TNORM_SHORT


396 
	`¥ötf
("\nTEST INFERENCE SYSTEM - TNORM");

397 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

398 if–
a_Tn‹m
[
_ú
] != 0.0 )

399 
	`¥ötf
("R(%3dË %1.3f\t", 
_ú
, 
a_Tn‹m
[_ir]);

402 
	}
}

407 
	gMANDAMIfuzzy
::
	$FûlAªaTc⁄‹m
(c⁄° 
_mëhod
)

409 
auxTc⁄‹m
 = 0.0;

410 
auxDOMout
 = 0.0;

411 
_z
 = 0.0;

413 
_dñèZ
 = 1.0/(
¨óSam∂es
-1);

415 if–
_mëhod
 =
TCONORM_MAX
 )

417 
_is
 = 0; _i†< 
¨óSam∂es
; _is++)

419 
this
->
o_DOMout
->
	`Trünguœr_9
(
_z
);

421 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

423 
auxTc⁄‹m
 = 0;

424 
a_AªaTc⁄‹m
[
_is
][
_io
] = 0;

425 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

429 if–
o_RuÀs
.
	`gëC⁄£quí˚
(
_ú
, 
_io
) > 8 )

430 
	`Ârötf
(
°dout
, "%d %d ---> %d\n", 
_ú
, 
_io
, 
o_RuÀs
.
	`gëC⁄£quí˚
(_ir, _io));

437 
auxDOMout
 = 
o_DOMout
->
a_DOM
[
o_RuÀs
.
	`gëC⁄£quí˚
(
_ú
, 
_io
)];

440 if–
auxDOMout
 > 
a_Tn‹m
[
_ú
] )

442 if–
a_Tn‹m
[
_ú
] > 
auxTc⁄‹m
 )

443 
auxTc⁄‹m
 = 
a_Tn‹m
[
_ú
];

449 if–
auxDOMout
 > 
auxTc⁄‹m
 )

450 
auxTc⁄‹m
 = 
auxDOMout
;

453 
a_AªaTc⁄‹m
[
_is
][
_io
] = 
auxTc⁄‹m
;

455 
_z
 +
_dñèZ
;

460 #ifde‡
T_FILL_TCONORM


461 
	`¥ötf
("\nTEST INFERENCE SYSTEM - TCONORM - AREA");

462 
_is
 = 0; _i†< 
¨óSam∂es
; _is++)

463 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

464 
	`¥ötf
("S-%3d: %1.3f\t", 
_is
, 
a_AªaTc⁄‹m
[_is][
_io
]);

467 #ifde‡
T_FILL_TCONORM_FILE


468 
FILE
 *
Â
;

469 if–(
Â
 = 
	`f›í
("../Debug.Outputs/mandami.TCONORM", "a")) )

471 
	`¥ötf
("\nTEST INFERENCE SYSTEM - TCONORM - AREA - PRINTING TO FILE");

472 
_is
 = 0; _i†< 
¨óSam∂es
; _is++)

473 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

474 
	`Ârötf
(
Â
, "%1.6f\n", 
a_AªaTc⁄‹m
[
_is
][
_io
]);

475 
	`f˛o£
(
Â
);

477 { 
	`¥ötf
("Error opening FILE in function: FillAreaTconorm\n"); }

481 
	}
}

489 
	gMANDAMIfuzzy
::
	$Cíåoid
(
zCOA
[])

491 
_numî©‹
;

492 
_díomö©‹
;

493 
_z
 = 
ouçutMöVÆue
;

495 
_dñèZ
 = 
ouçutMaxVÆue
/(
¨óSam∂es
-1);

497 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

499 
_numî©‹
 = 0.0;

500 
_díomö©‹
 = 0.0;

501 
_z
 = 0.0;

502 
_is
 = 0; _i†< 
¨óSam∂es
; _is++)

504 
_numî©‹
 +(
a_AªaTc⁄‹m
[
_is
][
_io
]*
_z
);

505 
_díomö©‹
 +
a_AªaTc⁄‹m
[
_is
][
_io
];

506 
_z
 +
_dñèZ
;

508 
zCOA
[
_io
] = 0.0;

509 if–
_díomö©‹
 != 0.0 )

510 
zCOA
[
_io
] = 
_numî©‹
/
_díomö©‹
;

514 #ifde‡
T_CENTROID_OUTS


515 
	`¥ötf
("\nTEST DEFFUZIFIER - CENTROID");

516 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

517 
	`¥ötf
("OUT-%3d: %1.6f\t", 
_io
, 
zCOA
[_io]);

520 
	}
}

526 
	gMANDAMIfuzzy
::
	$Bi£˘‹
(
zBOA
[])

529 
	}
}

535 
	gMANDAMIfuzzy
::
	$MónMax
(
zMOM
[])

538 
	}
}

545 
	gMANDAMIfuzzy
::
	$CÆcDOMöputs
(c⁄° 
_öputs
[])

549 
_ii
 = 0; _iò< 
öputsNumbî
; _ii++)

551 if–
this
->
o_DOMö
->
	`gëLögui°icVNumbî
() == 5 )

553 
this
->
o_DOMö
->
	`Trünguœr_5
(
_öputs
[
_ii
]);

555 
_ûv
 = 0; _ûv < 
lögui°icVNumbî
; _ilv++)

556 
this
->
a_DOMöputs
[
_ii
][
_ûv
] =Åhis->
o_DOMö
->
a_DOM
[_ilv];

560 #ifde‡
T_DOM_INPUTS


561 
	`¥ötf
("\nTEST OUTPUT DEGREE OF MEMBERSHIP");

562 
_ii
 = 0; _iò< 
öputsNumbî
; _ii++)

564 
	`¥ötf
("\nINPUT (%d): ", 
_ii
);

565 
_ûv
 = 0; _ûv < 
lögui°icVNumbî
; _ilv++)

566 
	`¥ötf
("%1.3‡ ", 
a_DOMöputs
[
_ii
][
_ûv
]);

570 
	}
}

576 
	gMANDAMIfuzzy
::
	$Aggªg©‹
(c⁄° 
_mëhodN‹m
, c⁄° 
_mëhodC⁄‹m
)

578 
this
->
	`FûlTn‹m
(
_mëhodN‹m
);

579 
this
->
	`FûlAªaTc⁄‹m
(
_mëhodC⁄‹m
);

580 
	}
}

586 
	gMANDAMIfuzzy
::
	$Defuzzifõr
(c⁄° 
_mëhod
)

589 if–
_mëhod
 =
DEFUZZ_zCOA
 ) { 
this
->
	`Cíåoid
(
a_Ouçuts
); }

592 if–
_mëhod
 =
DEFUZZ_zBOA
 ){ 
this
->
	`Bi£˘‹
(
a_Ouçuts
); }

595 if–
_mëhod
 =
DEFUZZ_zMOM
 ){ 
this
->
	`MónMax
(
a_Ouçuts
); }

596 
	}
}

600 
	gMANDAMIfuzzy
::
	$£tRuÀsNumbî
(
_vÆue
Ë{ 
ruÀsNumbî
 = _vÆue; 
	}
}

602 
	gMANDAMIfuzzy
::
	$£tI≈utsNumbî
(
_vÆue
Ë{ 
öputsNumbî
 = _vÆue; 
	}
}

604 
	gMANDAMIfuzzy
::
	$£tOuçutsNumbî
(
_vÆue
Ë{ 
ouçutsNumbî
 = _vÆue; 
	}
}

606 
	gMANDAMIfuzzy
::
	$£tLögui°icVNumbî
(
_vÆue
){ 
lögui°icVNumbî
 = _vÆue;
	}
}

608 
	gMANDAMIfuzzy
::
	$£tAªaSam∂es
(
_vÆue
Ë{ 
¨óSam∂es
 = _vÆue; 
	}
}

610 
	gMANDAMIfuzzy
::
	$£tOutMöVÆue
(
_vÆue
){ 
ouçutMöVÆue
 = _vÆue;
	}
}

612 
	gMANDAMIfuzzy
::
	$£tOutMaxVÆue
(
_vÆue
){ 
ouçutMaxVÆue
 = _vÆue;
	}
}

615 
	gMANDAMIfuzzy
::
	$gëRuÀsNumbî
(Ëc⁄° { (
ruÀsNumbî
); 
	}
}

617 
	gMANDAMIfuzzy
::
	$gëI≈utsNumbî
(Ëc⁄° { (
öputsNumbî
); 
	}
}

619 
	gMANDAMIfuzzy
::
	$gëOuçutsNumbî
(Ëc⁄° { (
ouçutsNumbî
); 
	}
}

621 
	gMANDAMIfuzzy
::
	$gëLögui°icVNumbî
(Ëc⁄° { (
lögui°icVNumbî
);
	}
}

623 
	gMANDAMIfuzzy
::
	$gëAªaSam∂es
(Ëc⁄° { (
¨óSam∂es
); 
	}
}

625 
	gMANDAMIfuzzy
::
	$gëOutMöVÆue
(Ëc⁄° { (
ouçutMöVÆue
); 
	}
}

627 
	gMANDAMIfuzzy
::
	$gëOutMaxVÆue
(Ëc⁄° { (
ouçutMaxVÆue
); 
	}
}

629 
	gMANDAMIfuzzy
::
	$gëDOM
(c⁄° 
_öput
, c⁄° 
_lv
) const

631 (
a_DOMöputs
[
_öput
][
_lv
]);

632 
	}
}

634 
	gMANDAMIfuzzy
::
	$gëOuçut
(c⁄° 
_ouçut
Ëc⁄° { (
a_Ouçuts
[_ouçut]); 
	}
}

642 
	gMANDAMIfuzzy
::
	$InôRuÀsI≈uts
(
c_FuzzyRuÀs
& 
o_æs
)

644 
_ûv
 = 0;

645 
_aux
 = 0;

648 
_ii
 = (
öputsNumbî
-1); _ii >= 0 ; _ii--)

650 
_aux
 = 
	`Ãound
(
	`pow
(
lögui°icVNumbî
, 
_ii
));

651 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

653 
o_æs
.
	`£tPªmi£
(
_ú
, 
_ii
, 
_ûv
);

655 if–(
_ú
 % 
_aux
) == 0 )

656 
_ûv
++;

657 if–
_ûv
 =
lögui°icVNumbî
 )

658 
_ûv
 = 0;

663 #ifde‡
T_INIT_RINPUTS


664 
	`¥ötf
("\nTEST (COMBINATORIAL) INPUTS FOR EVERY RULE");

665 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

667 
	`¥ötf
("(R%3dË", 
_ú
);

668 
_ii
 = 0; _iò< 
öputsNumbî
; _ii++)

669 
	`¥ötf
("%2d\t", 
o_æs
.
	`gëPªmi£
(
_ú
, 
_ii
));

673 #ifde‡
T_INIT_RINPUTS_FILE


674 
	`¥ötf
("\nTEST (COMBINATORIAL) INPUTS FOR EVERY RULE - PRINTING TO FILE");

675 
FILE
 *
Â
;

676 if–(
Â
 = 
	`f›í
("MANDAMI.RULES.625in", "w")) )

678 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

680 
	`Ârötf
(
Â
, "\n(R%3d)\t", 
_ú
);

681 
_ii
 = 0; _iò< 
öputsNumbî
; _ii++)

682 
	`Ârötf
(
Â
, "%2d\t", 
o_æs
.
	`gëPªmi£
(
_ú
, 
_ii
));

684 
	`f˛o£
(
Â
);

686 { 
	`¥ötf
("Error opening FILE in function: InitRulesInputs\n"); }

689 
	}
}

698 
	gMANDAMIfuzzy
::
	$InôRuÀsOuçuts
(
c_FuzzyRuÀs
& 
o_æs
)

700 
_¥emi£s
[
öputsNumbî
];

701 
auxSum
 = 0.0;

702 
auxOut
 = 0.0;

704 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

706 
o_æs
.
	`gëRuÀ
(
_ú
, 
_¥emi£s
);

707 
auxSum
 = 0.0;

708 
_ô
 = 0; _ô < 
öputsNumbî
; _it++)

710 
auxSum
 +
_¥emi£s
[
_ô
];

711 
_¥emi£s
[
_ô
] = 0;

714 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

716 
auxOut
 = (
auxSum
/2);

717 if–(
auxOut
 < 0.5ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`Êo‹
(auxOut))); }

718 if–(
auxOut
 >0.5Ë&& (auxOuà< 1.0ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`˚û
(auxOut))); }

719 if–(
auxOut
 >1.0Ë&& (auxOuà< 1.5ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`Êo‹
(auxOut))); }

720 if–(
auxOut
 >1.5Ë&& (auxOuà< 2.0ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`˚û
(auxOut))); }

721 if–(
auxOut
 >2.0Ë&& (auxOuà< 2.5ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`Êo‹
(auxOut))); }

722 if–(
auxOut
 >2.5Ë&& (auxOuà< 3.0ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`˚û
(auxOut))); }

723 if–(
auxOut
 >3.0Ë&& (auxOuà< 3.5ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`Êo‹
(auxOut))); }

724 if–(
auxOut
 >3.5Ë&& (auxOuà< 4.0ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`˚û
(auxOut))); }

725 if–(
auxOut
 >4.0Ë&& (auxOuà< 4.5ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`Êo‹
(auxOut))); }

726 if–(
auxOut
 >4.5Ë&& (auxOuà< 5.0ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`˚û
(auxOut))); }

727 if–(
auxOut
 >5.0Ë&& (auxOuà< 5.5ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`Êo‹
(auxOut))); }

728 if–(
auxOut
 >5.5Ë&& (auxOuà< 6.0ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`˚û
(auxOut))); }

729 if–(
auxOut
 >6.0Ë&& (auxOuà< 6.5ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`Êo‹
(auxOut))); }

730 if–(
auxOut
 >6.5Ë&& (auxOuà< 7.0ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`˚û
(auxOut))); }

731 if–(
auxOut
 >7.0Ë&& (auxOuà< 7.5ËË{ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`Êo‹
(auxOut))); }

732 if–(
auxOut
 >7.5Ë&& (auxOuà<8.0Ë){ 
o_æs
.
	`£tC⁄£quí˚
(
_ú
, 
_io
, 
	`Ãound
(
	`˚û
(auxOut))); }

737 #ifde‡
T_INIT_ROUTPUTS


738 
	`¥ötf
("\nTEST CONSEQUENSE OR OUTPUTS FOR EACH RULE");

739 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

741 
	`¥ötf
("R(%3dË ", 
_ú
);

742 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

744 
	`¥ötf
("%d\t", 
o_æs
.
	`gëC⁄£quí˚
(
_ú
, 
_io
));

749 #ifde‡
T_INIT_ROUTPUTS_FILE


750 
	`¥ötf
("\nTEST CONSEQUENSE OR OUTPUTS FOR EACH RULE - PRINTING TO FILE\n\n");

751 
FILE
 *
Â
;

752 if–(
Â
 = 
	`f›í
("MANDAMI.RULES.625out", "w")) )

754 
_ú
 = 0; _ú < 
ruÀsNumbî
; _ir++)

756 
	`Ârötf
(
Â
, "\nR(%3d)\t", 
_ú
);

757 
_io
 = 0; _iÿ< 
ouçutsNumbî
; _io++)

759 
	`Ârötf
(
Â
, "%d\t", 
o_æs
.
	`gëC⁄£quí˚
(
_ú
, 
_io
));

762 
	`f˛o£
(
Â
);

764 { 
	`¥ötf
("Error opening FILE in function: InitRulesOutputs\n"); }

767 
	}
}

	@processors/longRangeNavigator/MandamiFuzzyModel.h

34 #i‚de‡
MANDAMI_FUZZY_MODEL_H


35 
	#MANDAMI_FUZZY_MODEL_H


	)

40 
	~<°dio.h
>

41 
	~<m©h.h
>

42 
	~"MembîshùFun˘i⁄s_1D.h
"

64 c⁄° 
	gRULES_NUMBER
 = 625;

65 c⁄° 
	gINPUTS_NUMBER
 = 4;

66 c⁄° 
	gOUTPUTS_NUMBER
 = 1;

67 c⁄° 
	gLINGUISTIC_NUMBER
 = 5;

68 c⁄° 
	gSAMPLES_PER_AREA
 = 100;

70 c⁄° 
	gMIN_OUTPUT
 = 0;

71 c⁄° 
	gMAX_OUTPUT
 = 1;

73 c⁄° 
	gTNORM_MIN
 = 0;

74 c⁄° 
	gTNORM_PROD
 = 1;

75 c⁄° 
	gTCONORM_MAX
 = 2;

77 c⁄° 
	gDEFUZZ_zCOA
 = 0;

78 c⁄° 
	gDEFUZZ_zBOA
 = 1;

79 c⁄° 
	gDEFUZZ_zMOM
 = 2;

86 ˛as†
	cFuzzyRuÀs


88 
	m¥iv©e
:

89 
ruÀsNumbî
;

90 
	möputsNumbî
;

91 
	mouçutsNumbî
;

94 #i‚de‡
DYNAMIC_MANDAMI


95 
	ma_öput
[
RULES_NUMBER
][
INPUTS_NUMBER
];

96 
	ma_ouçut
[
RULES_NUMBER
][
OUTPUTS_NUMBER
];

99 #ifde‡
DYNAMIC_MANDAMI


100 **
	ma_öput
;

101 **
	ma_ouçut
;

105 
	mpublic
:

107 
FuzzyRuÀs
();

110 #ifde‡
DYNAMIC_MANDAMI


111 
FuzzyRuÀs
(
_ruÀs
, 
_öputs
);

112 
FuzzyRuÀs
(
_ruÀs
, 
_öputs
, 
_ouçuts
);

117 ~
FuzzyRuÀs
();

119 
CÀ¨FuzzyRuÀs
();

121 
£tRuÀ
(c⁄° 
_ruÀ
, c⁄° 
_¥emi£
[]);

122 
£tPªmi£
(c⁄° 
_ruÀ
, c⁄° 
_öput
, c⁄° 
_¥emi£
);

123 
£tC⁄£quí˚
(c⁄° 
_ruÀ
, c⁄° 
_ouçut
, c⁄° 
_c⁄£quí˚
);

126 
gëRuÀ
(c⁄° 
_ruÀ
, 
_lögui°ics
[]);

127 
	$gëPªmi£
(c⁄° 
_ruÀ
, c⁄° 
_öput
) const;

128 
	$gëC⁄£quí˚
(c⁄° 
_ruÀ
, c⁄° 
_ouçut
) const;

130 
FuzzyRuÀs
 
	tc_FuzzyRuÀs
;

139 ˛as†
	cMANDAMIfuzzy


141 
¥iv©e
:

142 
ruÀsNumbî
;

143 
öputsNumbî
;

144 
ouçutsNumbî
;

145 
lögui°icVNumbî
;

149 
¨óSam∂es
;

150 
ouçutMöVÆue
;

151 
ouçutMaxVÆue
;

154 #i‚de‡
DYNAMIC_MANDAMI


155 
a_Tn‹m
[
RULES_NUMBER
];

156 
a_AªaTc⁄‹m
[
SAMPLES_PER_AREA
][
OUTPUTS_NUMBER
];

157 
a_Ouçuts
[
OUTPUTS_NUMBER
];

159 
a_DOMöputs
[
INPUTS_NUMBER
][
LINGUISTIC_NUMBER
];

162 
c_FuzzyRuÀs
 
o_RuÀs
;

165 #ifde‡
DYNAMIC_MANDAMI


166 *
a_Tn‹m
;

167 **
a_AªaTc⁄‹m
;

168 *
a_Ouçuts
;

169 **
a_DOMöputs
;

172 
c_FuzzyRuÀs
 *
o_RuÀs
;

178 
c_MF_1D
 *
o_DOMö
;

181 
c_MF_1D
 *
o_DOMout
;

184 
	`InôRuÀsI≈uts
(
c_FuzzyRuÀs
& 
o_æs
);

185 
	`InôRuÀsOuçuts
(
c_FuzzyRuÀs
& 
o_æs
);

187 
	`CÀ¨Ouçuts
();

188 
	`CÀ¨DOMöputs
();

190 
	`CÀ¨Tn‹m
();

191 
	`FûlTn‹m
(c⁄° 
_mëhod
);

192 
	`CÀ¨AªaTc⁄‹m
();

193 
	`FûlAªaTc⁄‹m
(c⁄° 
_mëhod
);

196 
	`Cíåoid
(
zCOA
[]);

197 
	`Bi£˘‹
(
zBOA
[]);

198 
	`MónMax
(
zMOM
[]);

200 
public
:

202 
	`MANDAMIfuzzy
();

205 #ifde‡
DYNAMIC_MANDAMI


206 
	`MANDAMIfuzzy
(
_ruÀsN
, 
_öputsN
);

207 
	`MANDAMIfuzzy
(
_ruÀsN
, 
_öputsN
, 
_ouçutsN
, 
_lögui°icsN
);

212 ~
	`MANDAMIfuzzy
();

214 
	`CÀ¨AŒ
();

215 
	`CÆcOuçuts
(c⁄° 
_öputs
[]);

218 
	`CÆcDOMöputs
(c⁄° 
_öputs
[]);

221 
	`Aggªg©‹
(c⁄° 
_mëhodN‹m
, c⁄° 
_mëhodC⁄‹m
);

223 
	`Defuzzifõr
(c⁄° 
_mëhod
);

225 
	`£tRuÀsNumbî
(
_vÆue
);

226 
	`£tI≈utsNumbî
(
_vÆue
);

227 
	`£tOuçutsNumbî
(
_vÆue
);

228 
	`£tLögui°icVNumbî
(
_vÆue
);

229 
	`£tAªaSam∂es
(
_vÆue
);

230 
	`£tOutMöVÆue
(
_vÆue
);

231 
	`£tOutMaxVÆue
(
_vÆue
);

233 
	$gëRuÀsNumbî
() const;

234 
	$gëI≈utsNumbî
() const;

235 
	$gëOuçutsNumbî
() const;

236 
	$gëLögui°icVNumbî
() const;

237 
	$gëAªaSam∂es
() const;

238 
	$gëOutMöVÆue
() const;

239 
	$gëOutMaxVÆue
() const;

241 
	$gëDOM
(c⁄° 
_öput
, c⁄° 
_lv
) const;

242 
	$gëOuçut
(c⁄° 
_ouçut
) const;

244 
MANDAMIfuzzy
 
	tc_FM™dami
;

	@processors/longRangeNavigator/MembershipFunctions_1D.cpp

33 
	~"MembîshùFun˘i⁄s_1D.h
"

46 
	gMembîshùFun˘i⁄s_1D
::
	$MembîshùFun˘i⁄s_1D
()

48 
lögui°icVNumbî
 = 1;

51 
a_DOM
 = 
√w
 [
lögui°icVNumbî
];

52 
	}
}

58 
	gMembîshùFun˘i⁄s_1D
::
	$MembîshùFun˘i⁄s_1D
(
_lögui°ics
)

60 
lögui°icVNumbî
 = 
_lögui°ics
;

63 
a_DOM
 = 
√w
 [
lögui°icVNumbî
];

64 
	}
}

70 
	gMembîshùFun˘i⁄s_1D
::~
	$MembîshùFun˘i⁄s_1D
()

73 
dñëe
 [] 
a_DOM
;

74 
	}
}

79 
	gMembîshùFun˘i⁄s_1D
::
	$£tLögui°icVNumbî
(
_vÆue
)

81 
lögui°icVNumbî
 = 
_vÆue
;

84 
dñëe
 [] 
a_DOM
;

87 
a_DOM
 = 
√w
 [
lögui°icVNumbî
];

88 
	}
}

92 
	gMembîshùFun˘i⁄s_1D
::
	$gëLögui°icVNumbî
() const

94 (
lögui°icVNumbî
);

95 
	}
}

103 
	gMembîshùFun˘i⁄s_1D
::
	$Trünguœr_5
(
_öput
)

106 if–(
_öput
 >= 0.999999) && (_input <= 1.000001) ) _input = 1.0;

108 if–((
_öput
 > 0.0) && (_input < 0.25)) || (_input == 0.0) )

111 
this
->
a_DOM
[0] = 1.0 - (4.0*
_öput
);

112 
this
->
a_DOM
[1] = 4.0*
_öput
;

113 
this
->
a_DOM
[2] = 0.0;

114 
this
->
a_DOM
[3] = 0.0;

115 
this
->
a_DOM
[4] = 0.0;

117 if–(
_öput
 >= 0.25) && (_input < 0.5) )

120 
this
->
a_DOM
[0] = 0.0;

121 
this
->
a_DOM
[1] = 2.0 - (4.0*
_öput
);

122 
this
->
a_DOM
[2] = (4.0*
_öput
) - 1;

123 
this
->
a_DOM
[3] = 0.0;

124 
this
->
a_DOM
[4] = 0.0;

126 if–(
_öput
 >= 0.5) && (_input < 0.75) )

129 
this
->
a_DOM
[0] = 0.0;

130 
this
->
a_DOM
[1] = 0.0;

131 
this
->
a_DOM
[2] = 3.0 - (4.0*
_öput
);

132 
this
->
a_DOM
[3] = (4.0*
_öput
) - 2.0;

133 
this
->
a_DOM
[4] = 0.0;

135 if–(
_öput
 >= 0.75) && (_input <= 1.0) )

138 
this
->
a_DOM
[0] = 0.0;

139 
this
->
a_DOM
[1] = 0.0;

140 
this
->
a_DOM
[2] = 0.0;

141 
this
->
a_DOM
[3] = 4.0 - (4.0*
_öput
);

142 
this
->
a_DOM
[4] = (4.0*
_öput
) - 3.0;

146 if–(
_öput
 < 0.0) || (_input > 1.0) )

149 
this
->
a_DOM
[0] = 0.0;

150 
this
->
a_DOM
[1] = 0.0;

151 
this
->
a_DOM
[2] = 0.0;

152 
this
->
a_DOM
[3] = 0.0;

153 
this
->
a_DOM
[4] = 0.0;

155 
	}
}

166 
	gMembîshùFun˘i⁄s_1D
::
	$Trünguœr_3
(
_öput
)

169 if–(
_öput
 >= 0.999999) && (_input <= 1.000001) ) _input = 1.0;

171 if–(
_öput
 >= 0.0) && (_input < 0.25) )

173 
this
->
a_DOM
[0] = 1.0;

174 
this
->
a_DOM
[1] = 0.0;

175 
this
->
a_DOM
[2] = 0.0;

177 if–(
_öput
 >= 0.25) && (_input < 0.50) )

179 
this
->
a_DOM
[0] = 2 - (4*
_öput
);

180 
this
->
a_DOM
[1] = (4*
_öput
) - 1;

181 
this
->
a_DOM
[2] = 0.0;

183 if–(
_öput
 >= 0.50) && (_input < 0.75) )

185 
this
->
a_DOM
[0] = 0.0;

186 
this
->
a_DOM
[1] = 3 - (4*
_öput
);

187 
this
->
a_DOM
[2] = (4*
_öput
) -2;

189 if–(
_öput
 >= 0.75) && (_input <= 1.0) )

191 
this
->
a_DOM
[0] = 0.0;

192 
this
->
a_DOM
[1] = 0.0;

193 
this
->
a_DOM
[2] = 1.0;

196 if–(
_öput
 < 0.0) || (_input > 1.0) )

199 
this
->
a_DOM
[0] = 0.0;

200 
this
->
a_DOM
[1] = 0.0;

201 
this
->
a_DOM
[2] = 0.0;

203 
	}
}

212 
	gMembîshùFun˘i⁄s_1D
::
	$Trünguœr_9
(
_öput
)

215 if–(
_öput
 >= 0.999999) && (_input <= 1.000001) ) _input = 1.0;

217 if–(
_öput
 >= 0.000) && (_input < 0.125) )

220 
this
->
a_DOM
[0] = 1.0 - (8.0*
_öput
);

221 
this
->
a_DOM
[1] = 8.0*
_öput
 - 0;

222 
this
->
a_DOM
[2] = 0.0;

223 
this
->
a_DOM
[3] = 0.0;

224 
this
->
a_DOM
[4] = 0.0;

225 
this
->
a_DOM
[5] = 0.0;

226 
this
->
a_DOM
[6] = 0.0;

227 
this
->
a_DOM
[7] = 0.0;

228 
this
->
a_DOM
[8] = 0.0;

230 if–(
_öput
 >= 0.125) && (_input < 0.250) )

232 
this
->
a_DOM
[0] = 0.0;

233 
this
->
a_DOM
[1] = 2 - (8.0*
_öput
);

234 
this
->
a_DOM
[2] = (8.0*
_öput
) - 1;

235 
this
->
a_DOM
[3] = 0.0;

236 
this
->
a_DOM
[4] = 0.0;

237 
this
->
a_DOM
[5] = 0.0;

238 
this
->
a_DOM
[6] = 0.0;

239 
this
->
a_DOM
[7] = 0.0;

240 
this
->
a_DOM
[8] = 0.0;

242 if–(
_öput
 >= 0.250) && (_input < 0.375) )

244 
this
->
a_DOM
[0] = 0.0;

245 
this
->
a_DOM
[1] = 0.0;

246 
this
->
a_DOM
[2] = 3 - (8.0*
_öput
);

247 
this
->
a_DOM
[3] = (8.0*
_öput
) - 2;

248 
this
->
a_DOM
[4] = 0.0;

249 
this
->
a_DOM
[5] = 0.0;

250 
this
->
a_DOM
[6] = 0.0;

251 
this
->
a_DOM
[7] = 0.0;

252 
this
->
a_DOM
[8] = 0.0;

254 if–(
_öput
 >= 0.375) && (_input < 0.500) )

256 
this
->
a_DOM
[0] = 0.0;

257 
this
->
a_DOM
[1] = 0.0;

258 
this
->
a_DOM
[2] = 0.0;

259 
this
->
a_DOM
[3] = 4 - (8.0*
_öput
);

260 
this
->
a_DOM
[4] = (8.0*
_öput
) - 3;

261 
this
->
a_DOM
[5] = 0.0;

262 
this
->
a_DOM
[6] = 0.0;

263 
this
->
a_DOM
[7] = 0.0;

264 
this
->
a_DOM
[8] = 0.0;

266 if–(
_öput
 >= 0.500) && (_input < 0.625) )

268 
this
->
a_DOM
[0] = 0.0;

269 
this
->
a_DOM
[1] = 0.0;

270 
this
->
a_DOM
[2] = 0.0;

271 
this
->
a_DOM
[3] = 0.0;

272 
this
->
a_DOM
[4] = 5 - (8.0*
_öput
);

273 
this
->
a_DOM
[5] = (8.0*
_öput
) - 4;

274 
this
->
a_DOM
[6] = 0.0;

275 
this
->
a_DOM
[7] = 0.0;

276 
this
->
a_DOM
[8] = 0.0;

278 if–(
_öput
 >= 0.625) && (_input < 0.750) )

280 
this
->
a_DOM
[0] = 0.0;

281 
this
->
a_DOM
[1] = 0.0;

282 
this
->
a_DOM
[2] = 0.0;

283 
this
->
a_DOM
[3] = 0.0;

284 
this
->
a_DOM
[4] = 0.0;

285 
this
->
a_DOM
[5] = 6 - (8.0*
_öput
);

286 
this
->
a_DOM
[6] = (8.0*
_öput
) - 5;

287 
this
->
a_DOM
[7] = 0.0;

288 
this
->
a_DOM
[8] = 0.0;

290 if–(
_öput
 >= 0.750) && (_input < 0.875) )

292 
this
->
a_DOM
[0] = 0.0;

293 
this
->
a_DOM
[1] = 0.0;

294 
this
->
a_DOM
[2] = 0.0;

295 
this
->
a_DOM
[3] = 0.0;

296 
this
->
a_DOM
[4] = 0.0;

297 
this
->
a_DOM
[5] = 0.0;

298 
this
->
a_DOM
[6] = 7 - (8.0*
_öput
);

299 
this
->
a_DOM
[7] = (8.0*
_öput
) - 6;

300 
this
->
a_DOM
[8] = 0.0;

302 if–(
_öput
 >= 0.875) && (_input <= 1.000) )

304 
this
->
a_DOM
[0] = 0.0;

305 
this
->
a_DOM
[1] = 0.0;

306 
this
->
a_DOM
[2] = 0.0;

307 
this
->
a_DOM
[3] = 0.0;

308 
this
->
a_DOM
[4] = 0.0;

309 
this
->
a_DOM
[5] = 0.0;

310 
this
->
a_DOM
[6] = 0.0;

311 
this
->
a_DOM
[7] = 8 - (8.0*
_öput
);

312 
this
->
a_DOM
[8] = (8.0*
_öput
) - 7;

315 if–(
_öput
 < 0.0) || (_input > 1.0) )

318 
this
->
a_DOM
[0] = 0.0;

319 
this
->
a_DOM
[1] = 0.0;

320 
this
->
a_DOM
[2] = 0.0;

321 
this
->
a_DOM
[3] = 0.0;

322 
this
->
a_DOM
[4] = 0.0;

323 
this
->
a_DOM
[5] = 0.0;

324 
this
->
a_DOM
[6] = 0.0;

325 
this
->
a_DOM
[7] = 0.0;

326 
this
->
a_DOM
[8] = 0.0;

328 
	}
}

	@processors/longRangeNavigator/MembershipFunctions_1D.h

32 #i‚de‡
MEMBERSHIPFUNCTIONS_1D_H


33 
	#MEMBERSHIPFUNCTIONS_1D_H


	)

49 ˛as†
	cMembîshùFun˘i⁄s_1D


51 
	m¥iv©e
:

52 
lögui°icVNumbî
;

53 
	mpublic
:

54 *
a_DOM
;

57 
MembîshùFun˘i⁄s_1D
();

58 
MembîshùFun˘i⁄s_1D
(
_lögui°ics
);

60 ~
MembîshùFun˘i⁄s_1D
();

62 
£tLögui°icVNumbî
(
_vÆue
);

63 
	$gëLögui°icVNumbî
() const;

65 
	`Trünguœr_3
(
_öput
);

66 
	`Trünguœr_5
(
_öput
);

67 
	`Trünguœr_9
(
_öput
);

71 
MembîshùFun˘i⁄s_1D
 
	tc_MF_1D
;

	@processors/longRangeNavigator/Utils.cpp

33 
	~"Utûs.h
"

44 
	$R™domR™ge
(
_maxR™ge
)

46 
ãmp
 = 
	`ønd
()% (
_maxR™ge
+1);

47 (
ãmp
);

48 
	}
}

53 
	$doubÀR™dom01
(
_digôs
)

55 
ønge
 = 
	`Ãound
(
	`pow
(10,
_digôs
));

56 
¥ecisi⁄
 = 1.0/
ønge
;

58 
numbî
 = 0;

59 
numbî
 = 
	`R™domR™ge
(
ønge
)*
¥ecisi⁄
;

61 (
numbî
);

62 
	}
}

65 
	$Flù
()

67 (
	`R™domR™ge
(1));

68 
	}
}

80 
	$S‹tGL
(* 
li°
, 
fú°
, 
œ°
)

82 
À·
 = 
fú°
;

83 
right
 = 
œ°
;

84 
pivŸ
 = 
li°
[(
fú°
+
œ°
)/2];

85 
aux
;

88  
li°
[
À·
] > 
pivŸ
 )Üeft++;

89  
li°
[
right
] < 
pivŸ
 )Ñight--;

90 if–
À·
 <
right
 )

92 
aux
 = 
li°
[
right
];

93 
li°
[
right
] =Üi°[
À·
];

94 
li°
[
À·
] = 
aux
;

95 
À·
++;

96 
right
--;

98 }  
À·
 <
right
 );

100 if–
fú°
 < 
right
 ) 
	`S‹tGL
(
li°
, first,Ñight);

101 if–
œ°
 > 
À·
 ) 
	`S‹tGL
(
li°
,Üeft,Üast);

102 
	}
}

108 
	$S‹tLG
(* 
li°
, 
fú°
, 
œ°
)

110 
À·
 = 
fú°
;

111 
right
 = 
œ°
;

112 
pivŸ
 = 
li°
[(
fú°
+
œ°
)/2];

113 
aux
;

116  
li°
[
À·
] < 
pivŸ
 )Üeft++;

117  
li°
[
right
] > 
pivŸ
 )Ñight--;

118 if–
À·
 <
right
 )

120 
aux
 = 
li°
[
right
];

121 
li°
[
right
] =Üi°[
À·
];

122 
li°
[
À·
] = 
aux
;

123 
À·
++;

124 
right
--;

126 }  
À·
 <
right
 );

128 if–
fú°
 < 
right
 ) 
	`S‹tLG
(
li°
, first,Ñight);

129 if–
œ°
 > 
À·
 ) 
	`S‹tLG
(
li°
,Üeft,Üast);

130 
	}
}

143 
	$Mö
(c⁄° 
_A
, c⁄° 
_B
)

145 if–
_A
 <
_B
 ) { (_A); }

146 { (
_B
); }

147 
	}
}

154 
	$Max
(c⁄° 
_A
, c⁄° 
_B
)

156 if–
_A
 <
_B
 ) { (_B); }

157 { (
_A
); }

158 
	}
}

168 
	$ˇlcuœ„_Di°™˚
(c⁄° 
_1°_posôi⁄
[], c⁄° 
_2nd_posôi⁄
[])

170 
_di°™˚
 = 0;

171 
ãmp
 = 0.0;

172 
_dñè_x
 = (
_2nd_posôi⁄
[1] - ()
_1°_posôi⁄
[1])*1.0;

173 
_dñè_y
 = (
_2nd_posôi⁄
[2] - ()
_1°_posôi⁄
[2])*1.0;

175 
ãmp
 = 
	`pow
(
_dñè_x
, 2.0Ë+Öow(
_dñè_y
, 2.0);

176 
_di°™˚
 = 
	`Ãound
(
	`sqπ
(
ãmp
));

178 (
_di°™˚
);

179 
	}
}

	@processors/longRangeNavigator/Utils.h

33 #i‚de‡
UTILS_H


34 
	#UTILS_H


	)

39 
	~<°dio.h
>

40 
	~<°dlib.h
>

41 
	~<m©h.h
>

48 
	#SWAP
(
ty≥
, 
i
, 
j
Ë{ty≥ 
t
 = i; i = j; j =Å;}

	)

57 
R™domR™ge
(
_maxR™ge
);

63 
doubÀR™dom01
(
_digôs
);

67 
Flù
();

74 
S‹tGL
(* 
li°
, 
fú°
, 
œ°
);

77 
S‹tLG
(* 
li°
, 
fú°
, 
œ°
);

84 
Mö
(c⁄° 
_A
, c⁄° 
_B
);

88 
Max
(c⁄° 
_A
, c⁄° 
_B
);

95 
ˇlcuœã_Di°™˚
(c⁄° 
_1°_posôi⁄
[], c⁄° 
_2nd_posôi⁄
[]);

	@processors/longRangeNavigator/longRangeNavigator.cpp

31 
	~"l⁄gR™geNavig©‹.h
"

44 
	gLRNPro˚ss‹
::
	$öô
()

47 
pCDAL⁄gNav
 = (
L⁄gNavD©a
 *)
cda
.
	`gëMemPå
(
LONG_NAV_AREA
);

48 
pCDAExecutive
 = (
ExecutiveD©a
 *)
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

49 
pCDAM⁄ô‹
 = (
M⁄ô‹D©a
 *)
cda
.
	`gëMemPå
(
MONITOR_AREA
);

50 
pCDALa£r
 = (
La£rD©a
 *)
cda
.
	`gëMemPå
(
LASER_AREA
);

59 
pCål
 = &(
pCDAL⁄gNav
->
˘æ
);

60 
£m_¨ó
 = 
LONG_NAV_AREA
;

61 
pCål
->
lo›
 = 
run_cmd
;

65 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

66 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
 = 
Ál£
;

67 
pCDAL⁄gNav
->
Ãn_rouã_obsﬁëe_Êag
 = 
åue
;

68 
pCDAL⁄gNav
->
Ãn_missi⁄_accom∂ished
 = 
Ál£
;

69 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

79 if–!
	`Ród_C⁄figuøti⁄_Fûe
() )

80 
	`¥ötf
("Parameters updated from configuration file\n");

82 
	`¥ötf
("Error Updating Parameters from file, defaultÖarameters will be used instead\n");

90 
	`C⁄figuª_∑th_∂™√r
();

115 
visôed_„©uª_ƒ
 = 0;

116 
rouã_ƒ
 = 0;

117 
cuºít_rouã_a˘i⁄
 = 0;

120 
	}
}

124 
	gLRNPro˚ss‹
::
	$˛ónup
()

126 
tŸÆ_moves
 = 
N_FORWARD
+
N_TURN_RIGHT_1
+
N_TURN_LEFT_1
+
N_TURN_RIGHT_3
+
N_TURN_LEFT_3
+
N_TURN_RIGHT_2
+
N_TURN_LEFT_2
+
N_REVERSE
+
N_FREEZE
;

128 
	`Ârötf
(
Â_moves
, "\n================= TOTAL MOVEMENTS ================\n");

129 
	`Ârötf
(
Â_moves
, "FORWARD :\t\t%d\t(%2.2f)\n", 
N_FORWARD
, ((ËN_FORWARD/(Ë
tŸÆ_moves
*100) );

130 
	`Ârötf
(
Â_moves
, "TURN_RIGHT_1 :\t\t%d\t(%2.2f)\n", 
N_TURN_RIGHT_1
, ((ËN_TURN_RIGHT_1/(Ë
tŸÆ_moves
*100) );

131 
	`Ârötf
(
Â_moves
, "TURN_LEFT_1 :\t\t%d\t(%2.2f)\n", 
N_TURN_LEFT_1
, ((ËN_TURN_LEFT_1/(Ë
tŸÆ_moves
*100) );

132 
	`Ârötf
(
Â_moves
, "TURN_RIGHT_3 :\t\t%d\t(%2.2f)\n", 
N_TURN_RIGHT_3
, ((ËN_TURN_RIGHT_3/(Ë
tŸÆ_moves
*100) );

133 
	`Ârötf
(
Â_moves
, "TURN_LEFT_3 :\t\t%d\t(%2.2f)\n", 
N_TURN_LEFT_3
, ((ËN_TURN_LEFT_3/(Ë
tŸÆ_moves
*100) );

134 
	`Ârötf
(
Â_moves
, "TURN_RIGHT_2 :\t\t%d\t(%2.2f)\n", 
N_TURN_RIGHT_2
, ((ËN_TURN_RIGHT_2/(Ë
tŸÆ_moves
*100) );

135 
	`Ârötf
(
Â_moves
, "TURN_LEFT_2 :\t\t%d\t(%2.2f)\n", 
N_TURN_LEFT_2
, ((ËN_TURN_LEFT_2/(Ë
tŸÆ_moves
*100) );

136 
	`Ârötf
(
Â_moves
, "REVERSE :\t\t%d\t(%2.2f)\n", 
N_REVERSE
, ((ËN_REVERSE/(Ë
tŸÆ_moves
*100) );

137 
	`Ârötf
(
Â_moves
, "FREEZE :\t\t%d\t(%2.2f)\n", 
N_FREEZE
, ((ËN_FREEZE/(Ë
tŸÆ_moves
*100) );

138 
	`Ârötf
(
Â_moves
, "TOTAL :\t%d\n", 
tŸÆ_moves
);

140 if(
Â_moves
 !
NULL
)

141 
	`f˛o£
(
Â_moves
);

143 
	`Ârötf
(
Â_fô√ss
, "\n=============================== AVERAGE FITNESS ==============================\n");

144 
	`Ârötf
(
Â_fô√ss
, "Curiosity: %.3f\t Energy: %.3f\t Homing: %.3f\t Missions: %.3f\n",

145 (
SUM_FITNESS_C
/(Ë
N_FITNESS
), (
SUM_FITNESS_E
/(ËN_FITNESS), (
SUM_FITNESS_H
/(ËN_FITNESS), (
SUM_FITNESS_M
/() N_FITNESS) );

147 if(
Â_fô√ss
 !
NULL
)

148 
	`f˛o£
(
Â_fô√ss
);

150 
	`Ârötf
(
°dout
, "\n********************************************************\n");

151 
	`Ârötf
(
°dout
, "LONG RANGE NAVIGATOR: EXPERIMENT WAS COMPLETED\n");

152 
	`Ârötf
(
°dout
, "********************************************************\n\n");

154 
	`exô
(0);

157 
	}
}

161 
	gLRNPro˚ss‹
::
	$°ï
(){

163 
	`Ród_Fœgs
();

164 if–(
m⁄ô‹_cuºít_«v
 =
LRN
Ë&& (
is_rouã_obsﬁëe
) ){

172 
	`Upd©e_Sœm_M≠
();

174 
	`Upd©e_Sèπ_posôi⁄
();

178 if–
m_missi⁄s
 > 0 ) 
	`Upd©e_Missi⁄s_li°
();

181 
	`Compuã_√w_∑th
();

182 
cuºít_rouã_a˘i⁄
 = 0;

187 
	`Ród_Fœgs
();

189 if–(!
is_move_ªady
Ë&& (!
is_rouã_obsﬁëe
Ë&& (
m⁄ô‹_cuºít_«v
 =
LRN
) )

193 
	`A˘i⁄_To_MŸ‹
(
o_föÆ_rouã
.
	`gë_gí
(
cuºít_rouã_a˘i⁄
));

194 
cuºít_rouã_a˘i⁄
++;

198 
	}
}

202 
	gLRNPro˚ss‹
::
	$Ród_Fœgs
()

205 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

206 
is_move_ªady
 = 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
;

207 
is_rouã_obsﬁëe
 = 
pCDAL⁄gNav
->
Ãn_rouã_obsﬁëe_Êag
;

208 
missi⁄_accom∂ished_Êag
 = 
pCDAL⁄gNav
->
Ãn_missi⁄_accom∂ished
;

209 
˘æ_cuºít_lo›
 = 
pCDAL⁄gNav
->
˘æ
.
lo›
;

210 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

212 
cda
.
	`lockAªa
(
MONITOR_AREA
);

213 
m⁄ô‹_cuºít_«v
 = 
pCDAM⁄ô‹
->monitor_current_nav;

214 
cda
.
	`u∆ockAªa
(
MONITOR_AREA
);

221 
	}
}

230 
	gLRNPro˚ss‹
::
	$C⁄figuª_∑th_∂™√r
()

232 
o_rouãs
.
	`£tGíesNumbî
(
a˘i⁄s_ƒ
);

233 
o_rouãs
.
	`£tP›uœti⁄Size
(
p›uœti⁄_size
);

234 
o_rouãs
.
	`£tGíî©i⁄sNumbî
(
gíî©i⁄s_ƒ
);

235 
o_rouãs
.
	`£tCrossPoötsNumbî
(
¸oss_poöts_ƒ
);

236 
o_rouãs
.
	`£tSñe˘i⁄Mëhod
(
£À˘i⁄_mëhod
);

241 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`Së_GﬂlCo‹dö©es
(
home_co‹d
);

247 
o_rouãs
.
o_ffô√ss
.
a_mŸiv©i⁄s
[0] = 
m_curiosôy
;

248 
o_rouãs
.
o_ffô√ss
.
a_mŸiv©i⁄s
[1] = 
m_íîgy
;

249 
o_rouãs
.
o_ffô√ss
.
a_mŸiv©i⁄s
[2] = 
m_homög
;

250 
o_rouãs
.
o_ffô√ss
.
a_mŸiv©i⁄s
[3] = 
m_missi⁄s
;

252 
	}
}

256 
	gLRNPro˚ss‹
::
	$C⁄figuª_föÆ_∑th
()

280 
	}
}

284 
	gLRNPro˚ss‹
::
	$Compuã_√w_∑th
()

287 
timeb
 
ç
; 
	`·ime
(&tp);

290 
o_föÆ_rouã
.
	`CÀ™_AŒ
();

292 
	`Ârötf
(
°dout
, "LRN sèπ = (%d,%d,%3d¬∞Ë-- ", 
°¨t_co‹d
[1], start_coord[2], start_coord[0]);

293 
	`Ârötf
(
°dout
, "LRN homê(%d,%d,%d¬∞)", 
home_co‹d
[1], home_coord[2],home_coord[0]);

296 if–(
m_missi⁄s
 > 0Ë&& (
missi⁄s_ƒ
 > 0) )

299 
	`Ârötf
(
°dout
, " -- LRNáctual mission = (%d,%d,%d¬∞)\n", \

300 
missi⁄_co‹d
[
visôed_„©uª_ƒ
][1], mission_coord[visited_feature_nr][2],mission_coord[visited_feature_nr][0]);

304 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`Së_Missi⁄
(
missi⁄_co‹d
[
visôed_„©uª_ƒ
]);

308 
o_rouãs
.
	`Reöô
();

309 
o_rouãs
.
	`Evﬁve
(
VERBOSE_MEDIUM
);

311 
	`Ârötf
(
°dout
,"NUMBER OF ACTIONS BEFORE CLEAN : %d\n",
o_rouãs
.
	`gë_e_u£ful_°ïs_ƒ
());

312 
o_rouãs
.
	`CÀ™Gíes
();

313 
	`Ârötf
(
°dout
,"NUMBER OF ACTIONS AFTER CLEAN : %d\n\n",
o_rouãs
.
	`gë_e_u£ful_°ïs_ƒ
());

315 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

316 
	`Upd©e_ñôe_d©a
(
visôed_„©uª_ƒ
);

318 
	`Ârötf
(
°dout
, "Lookög f‹ fótuª: %2d\n", 
visôed_„©uª_ƒ
);

319 if–
missi⁄_co‹d
[
visôed_„©uª_ƒ
][3] < 
TOLERANCE_GOAL_DISTANCE
 )

321 
	`Ârötf
(
°dout
, "L⁄g R™gêNavig©‹: Fótuª: %2d found\n", 
visôed_„©uª_ƒ
);

322 
visôed_„©uª_ƒ
++;

323 if–
visôed_„©uª_ƒ
 < 
missi⁄s_ƒ
 )

324 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

327 if–
visôed_„©uª_ƒ
 >
missi⁄s_ƒ
 )

329 
visôed_„©uª_ƒ
 = 0;

330 
missi⁄_accom∂ished_Êag
 = 
åue
;

332 
is_rouã_obsﬁëe
 = 
Ál£
;

337 if–
m_homög
 > 0 )

339 
o_rouãs
.
	`Reöô
();

340 
o_rouãs
.
	`Evﬁve
(
VERBOSE_MEDIUM
);

342 
	`¥ötf
("NUMBER OF ACTIONS BEFORE CLEAN : %d\n",
o_rouãs
.
	`gë_e_u£ful_°ïs_ƒ
());

343 
o_rouãs
.
	`CÀ™Gíes
();

346 
	`Upd©e_ñôe_d©a
(0);

348 
	`¥ötf
("NUMBER OF ACTIONS AFTER CLEAN : %d\n\n",
o_rouãs
.
	`gë_e_u£ful_°ïs_ƒ
());

350 
	`Upd©e_Sèπ_posôi⁄
();

351 
_home_co‹d
[3];

352 
o_föÆ_rouã
.
	`gë_home_co‹d
(
_home_co‹d
);

353 
_di°™˚
 = 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`CÆcuœã_Di°™˚
(
°¨t_co‹d
, 
_home_co‹d
);

355 if–(
_di°™˚
 < 
TOLERANCE_GOAL_DISTANCE
Ë&& (
rouã_ƒ
 > 0) )

357 
missi⁄_accom∂ished_Êag
 = 
åue
;

359 
is_rouã_obsﬁëe
 = 
Ál£
;

366 
o_rouãs
.
	`Reöô
();

367 
o_rouãs
.
	`Evﬁve
(
VERBOSE_MEDIUM
);

370 
	`¥ötf
("NUMBER OF ACTIONS BEFORE CLEAN : %d\n",
o_rouãs
.
	`gë_e_u£ful_°ïs_ƒ
());

371 
o_rouãs
.
	`CÀ™Gíes
();

373 
	`Upd©e_ñôe_d©a
(0);

375 
	`¥ötf
("NUMBER OF ACTIONS AFTER CLEAN : %d\n\n",
o_rouãs
.
	`gë_e_u£ful_°ïs_ƒ
());

377 
is_rouã_obsﬁëe
 = 
Ál£
;

381 if–(
is_rouã_obsﬁëe
 =
Ál£
Ë&& (
is_move_ªady
 == false) )

383 
	`Upd©e_ñôe_phíŸy≥
();

386 
	`Pröt_ouçut_d©a
(
VERBOSE_MEDIUM
);

387 
	`Pröt_ñôe_ouçut_d©a
();

389 
	`Compuã_time_dif„ªn˚
(
ç
.
time
,Åp.
mûlôm
);

391 
_ãmp_pos
[3];

393 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

395 
pCDAL⁄gNav
->
fô√ss_curiosôy
 = 
o_föÆ_rouã
.
a_fô√ss
[0];

396 
pCDAL⁄gNav
->
fô√ss_íîgy
 = 
o_föÆ_rouã
.
a_fô√ss
[1];

397 
pCDAL⁄gNav
->
fô√ss_homög
 = 
o_föÆ_rouã
.
a_fô√ss
[2];

398 
pCDAL⁄gNav
->
fô√ss_missi⁄s
 = 
o_föÆ_rouã
.
a_fô√ss
[3];

399 
pCDAL⁄gNav
->
rouã_Ànght
 = 
o_föÆ_rouã
.
	`gë_ñôe_gíes_ƒ
();

400 
_i
 = 0; _ò< 
pCDAL⁄gNav
->
rouã_Ànght
; _i++)

402 
o_föÆ_rouã
.
	`gë_cuºít_idól_co‹d
(
_i
, 
pCDAL⁄gNav
->
rouã
[_i]);

408 
pCDAL⁄gNav
->
Ãn_rouã_obsﬁëe_Êag
 = 
is_rouã_obsﬁëe
;

410 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

423 
rouã_ƒ
++;

427 
	`Ârötf
(
°dout
, "\n*******************************************************************\n");

428 
	`Ârötf
(
°dout
, "LONG RANGE NAVIGATOR: I DON'T HAVE ALL THE NECESSARY INFORMATION!!!\n");

429 
	`Ârötf
(
°dout
, "*******************************************************************\n\n");

431 
	}
}

433 
	gLRNPro˚ss‹
::
	$A˘i⁄_To_MŸ‹
(
_a˘i⁄
)

436 
boﬁ
 
go
 = 
åue
;

438 
_•ìd_≥r˚¡
 = 0, 
_movemít
 = 0;

441 i‡(
o_föÆ_rouã
.
	`gë_ñôe_gíes_ƒ
() == 0)

442 
_a˘i⁄
 = 
FREEZE
;

444 if–
_a˘i⁄
 =
FORWARD
 ){

445 
_•ìd_≥r˚¡
 = 100;

446 
_movemít
 = 9;

447 } if–
_a˘i⁄
 =
TURN_RIGHT
 ){

448 
_•ìd_≥r˚¡
 = 100;

449 
_movemít
 = 1;

450 } if–
_a˘i⁄
 =
TURN_LEFT
 ){

451 
_•ìd_≥r˚¡
 = 100;

452 
_movemít
 = 2;

453 } if–
_a˘i⁄
 =
REVERSE
 ){

454 
_•ìd_≥r˚¡
 = 100;

455 
_movemít
 = 3;

456 } if–
_a˘i⁄
 =
FREEZE
 ){

457 
_•ìd_≥r˚¡
 = 0;

458 
_movemít
 = 9;

461 
	`Ârötf
(
°dout
, "R%2d - %d/%d\t", 
rouã_ƒ
, 
cuºít_rouã_a˘i⁄
+1, 
o_föÆ_rouã
.
	`gë_ñôe_gíes_ƒ
());

462 if–
_a˘i⁄
 =
FORWARD
 ){

463 
CURRENT_BATTERY
-=
POWER_FORWARD
;

464 
	`Ârötf
(
°dout
, "IRMA-III: LRN - FORWARD - \t\tBATTERY : %f\r", 
CURRENT_BATTERY
);

465 
	`Ârötf
(
Â_moves
, "R%2d | 0 : FORWARD\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

466 }if–
_a˘i⁄
 =
TURN_RIGHT
 ) {

467 
CURRENT_BATTERY
-=
POWER_RIGHT
;

468 
	`Ârötf
(
°dout
, "IRMA-III: LRN - TURN_RIGHT - \t\tBATTERY : %f\r", 
CURRENT_BATTERY
);

469 
	`Ârötf
(
Â_moves
, "R%2d | 1 : TURN_RIGHT\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

470 } if–
_a˘i⁄
 =
TURN_LEFT
 ){

471 
CURRENT_BATTERY
-=
POWER_LEFT
;

472 
	`Ârötf
(
°dout
, "IRMA-III: LRN - TURN_LEFT - \t\tBATTERY : %f\r", 
CURRENT_BATTERY
);

473 
	`Ârötf
(
Â_moves
, "R%2d | 2 : TURN_LEFT\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

474 }if–
_a˘i⁄
 =
REVERSE
 ){

475 
CURRENT_BATTERY
-=
POWER_REVERSE
;

476 
	`Ârötf
(
°dout
, "IRMA-III: LRN - REVERSE - \t\tBATTERY : %f\r", 
CURRENT_BATTERY
);

477 
	`Ârötf
(
Â_moves
, "R%2d | 7 : REVERSE\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

478 } if–
_a˘i⁄
 =
FREEZE
 ){

479 
CURRENT_BATTERY
-=
POWER_FREEZE
;

480 
	`Ârötf
(
°dout
, "IRMA-III: LRN - FREEZE\t\tBATTERY : %f\r", 
CURRENT_BATTERY
);

481 
	`Ârötf
(
Â_moves
, "R%2d | 8 : FREEZE\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

485 
	`Dñivî_MŸ‹_Comm™ds
(
_•ìd_≥r˚¡
, 
_movemít
);

490 
	`Upd©e_Sèπ_posôi⁄
();

491 
_idól_co‹d
[3];

492 
o_föÆ_rouã
.
	`gë_cuºít_idól_co‹d
(
cuºít_rouã_a˘i⁄
 , 
_idól_co‹d
);

493 
_di°™˚
 = 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`CÆcuœã_Di°™˚
(
°¨t_co‹d
, 
_idól_co‹d
);

496 if–
_di°™˚
 > 
MAX_DISTANCE_ERROR
 ){

497 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

498 if–
missi⁄_co‹d
[
visôed_„©uª_ƒ
][3] < 
TOLERANCE_GOAL_DISTANCE
 ) {

499 
	`Ârötf
(
°dout
, "L⁄g R™gêNavig©‹: Fótuª: %2d found\n", 
visôed_„©uª_ƒ
);

500 
visôed_„©uª_ƒ
++;

501 if–
visôed_„©uª_ƒ
 < 
missi⁄s_ƒ
 )

502 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

505 
	`Ârötf
(
°dout
, "\n**********************************************************************\n");

506 
	`Ârötf
(
°dout
, "LONG RANGE NAVIGATOR: THE ERROR BETWEEN THE THEORETICAL AND REAL\n");

507 
	`Ârötf
(
°dout
, "LONG RANGE NAVIGATOR: POSITION IS TOO BIG - A NEW ROUTE WILL BE COMPUTED\n");

508 
	`Ârötf
(
°dout
, "**********************************************************************\n\n");

509 
is_rouã_obsﬁëe
 = 
åue
;

510 
is_move_ªady
 = 
Ál£
;

511 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

512 
pCDAL⁄gNav
->
Ãn_rouã_obsﬁëe_Êag
 = 
is_rouã_obsﬁëe
;

513 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
 = 
is_move_ªady
;

514 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

515 
cuºít_rouã_a˘i⁄
 = 0;

521 if–
cuºít_rouã_a˘i⁄
+1 >
o_föÆ_rouã
.
	`gë_ñôe_gíes_ƒ
() )

523 
	`Ârötf
(
°dout
, "\nLong Range Navigator: Route was successfully finished\n");

524 
	`Ârötf
(
°dout
, "*****************************************************\n\n");

525 
is_rouã_obsﬁëe
 = 
åue
;

526 
is_move_ªady
 = 
Ál£
;

527 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

528 
pCDAL⁄gNav
->
Ãn_rouã_obsﬁëe_Êag
 = 
is_rouã_obsﬁëe
;

529 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
 = 
is_move_ªady
;

530 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

531 
cuºít_rouã_a˘i⁄
 = 0;

533 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

534 if–
missi⁄_co‹d
[
visôed_„©uª_ƒ
][3] < 
TOLERANCE_GOAL_DISTANCE
 )

536 
	`Ârötf
(
°dout
, "L⁄g R™gêNavig©‹: Fótuª: %2d found\n", 
visôed_„©uª_ƒ
);

537 
visôed_„©uª_ƒ
++;

538 if–
visôed_„©uª_ƒ
 < 
missi⁄s_ƒ
 )

539 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

544 if–(
visôed_„©uª_ƒ
 >
missi⁄s_ƒ
Ë&& (
m_missi⁄s
 > 0) )

546 
visôed_„©uª_ƒ
 = 0;

547 
missi⁄_accom∂ished_Êag
 = 
åue
;

551 if–
missi⁄_accom∂ished_Êag
 )

553 
	`Ârötf
(
°dout
, "Long Range Navigator: Mission was successfully Accomplished\n");

554 
	`Ârötf
(
°dout
, "***********************************************************\n\n");

556 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

557 
pCDAL⁄gNav
->
Ãn_missi⁄_accom∂ished
 = 
åue
;

558 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

561 
	`Ârötf
(
°dout
, "\n");

562 
	}
}

566 
	gLRNPro˚ss‹
::
	$C⁄vît_A˘i⁄_To_MŸ‹_Cmd
(
_a˘i⁄
)

569 
boﬁ
 
go
 = 
åue
;

571 
_•ìd
 = 0.5, 
_°ìr
 = 0.5;

572 
_•ìd_≥r˚¡
 = 0, 
_movemít
 = 0;

574 i‡(
o_föÆ_rouã
.
	`gë_ñôe_gíes_ƒ
() == 0)

575 
_a˘i⁄
 = 
FORWARD
;

587 if–
_a˘i⁄
 =
FORWARD
 ) { 
_•ìd_≥r˚¡
 = 100; 
_movemít
 = 9; }

588 if–
_a˘i⁄
 =
TURN_RIGHT
 ) { 
_•ìd_≥r˚¡
 = 100; 
_movemít
 = 1; }

589 if–
_a˘i⁄
 =
TURN_LEFT
 ) { 
_•ìd_≥r˚¡
 = 100; 
_movemít
 = 2; }

590 if–
_a˘i⁄
 =
REVERSE
 ) { 
_•ìd_≥r˚¡
 = 100; 
_movemít
 = 3; }

591 if–
_a˘i⁄
 =
FREEZE
 ) { 
_•ìd_≥r˚¡
 = 0; 
_movemít
 = 9; }

599  (
m⁄ô‹_cuºít_«v
 =
LRN
Ë&& (!
is_rouã_obsﬁëe
Ë&& (
SUB_FORWARD
 < 
TOTAL_SUB_FORWARD
)

600 && (
SUB_TURN_RIGHT
 < 
TOTAL_SUB_TURN_RIGHT
Ë&& (
SUB_TURN_LEFT
 < 
TOTAL_SUB_TURN_LEFT
) )

602 if–!
is_move_ªady
 )

604 
	`Ârötf
(
°dout
, "R%2d - %d/%d\t", 
rouã_ƒ
, 
cuºít_rouã_a˘i⁄
+1, 
o_föÆ_rouã
.
	`gë_ñôe_gíes_ƒ
());

605 if–
_a˘i⁄
 =
FORWARD
 )

607 
SUB_FORWARD
++;

608 
N_FORWARD
++;

609 
CURRENT_BATTERY
-=
POWER_FORWARD
;

610 
	`Ârötf
(
°dout
, "IRMA-II: LRN - FORWARD - %d/%d\t\tBATTERY : %f\r", 
SUB_FORWARD
, 
TOTAL_SUB_FORWARD
, 
CURRENT_BATTERY
);

611 
	`Ârötf
(
Â_moves
, "R%2d | 0 : FORWARD\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

612 }if–
_a˘i⁄
 =
TURN_RIGHT
 )

614 
SUB_TURN_RIGHT
++;

615 
N_TURN_RIGHT
++;

616 
CURRENT_BATTERY
-=
POWER_RIGHT
;

617 
	`Ârötf
(
°dout
, "IRMA-II: LRN - TURN_RIGHT - %d/%d\tBATTERY : %f\r", 
SUB_TURN_RIGHT_1
, 
TOTAL_SUB_TURN_RIGHT_1
, 
CURRENT_BATTERY
);

618 
	`Ârötf
(
Â_moves
, "R%2d | 1 : TURN_RIGHT\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

620 if–
_a˘i⁄
 =
TURN_LEFT
 )

622 
SUB_TURN_LEFT
++;

623 
N_TURN_LEFT
++;

624 
CURRENT_BATTERY
-=
POWER_LEFT
;

625 
	`Ârötf
(
°dout
, "IRMA-II: LRN - TURN_LEFT - %d/%d\tBATTERY : %f\r", 
SUB_TURN_LEFT_1
, 
TOTAL_SUB_TURN_LEFT_1
, 
CURRENT_BATTERY
);

626 
	`Ârötf
(
Â_moves
, "R%2d | 2 : TURN_LEFT\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

683 if–
_a˘i⁄
 =
FREEZE
 )

685 
SUB_FORWARD
 = 
TOTAL_SUB_FORWARD
;

686 
N_FREEZE
++;

687 
CURRENT_BATTERY
-=
POWER_FREEZE
;

688 
	`Ârötf
(
°dout
, "IRMA-II: LRN - FREEZE\t\tBATTERY : %f\r", 
CURRENT_BATTERY
);

689 
	`Ârötf
(
Â_moves
, "R%2d | 8 : FREEZE\tBATTERY : %f\n", 
rouã_ƒ
, 
CURRENT_BATTERY
);

690 if(
‰ìze_times
++ > 3){

700 
	`Dñivî_MŸ‹_Comm™ds
(
_•ìd_≥r˚¡
, 
_movemít
);

701 
go
 = 
åue
;

702 
go
 =
åue
 && 
˘æ_cuºít_lo›
 !
°›_cmd
)

704 
	`u¶ìp
(5000);

705 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

706 
go
 = 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
;

707 
˘æ_cuºít_lo›
 = 
pCDAL⁄gNav
->
˘æ
.
lo›
;

708 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

711 
	`Ród_Fœgs
();

713 if(
˘æ_cuºít_lo›
 =
°›_cmd
)

714 
	`˛ónup
();

721 
	`Upd©e_Sèπ_posôi⁄
();

722 
_idól_co‹d
[3];

723 
o_föÆ_rouã
.
	`gë_cuºít_idól_co‹d
(
cuºít_rouã_a˘i⁄
 , 
_idól_co‹d
);

724 
_di°™˚
 = 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`CÆcuœã_Di°™˚
(
°¨t_co‹d
, 
_idól_co‹d
);

725 if–
_di°™˚
 > 
MAX_DISTANCE_ERROR
 )

727 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

728 if–
missi⁄_co‹d
[
visôed_„©uª_ƒ
][3] < 
TOLERANCE_GOAL_DISTANCE
 )

730 
	`Ârötf
(
°dout
, "L⁄g R™gêNavig©‹: Fótuª: %2d found\n", 
visôed_„©uª_ƒ
);

731 
visôed_„©uª_ƒ
++;

732 if–
visôed_„©uª_ƒ
 < 
missi⁄s_ƒ
 )

733 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

736 
	`Ârötf
(
°dout
, "\n**********************************************************************\n");

737 
	`Ârötf
(
°dout
, "LONG RANGE NAVIGATOR: THE ERROR BETWEEN THE THEORETICAL AND REAL\n");

738 
	`Ârötf
(
°dout
, "LONG RANGE NAVIGATOR: POSITION IS TOO BIG - A NEW ROUTE WILL BE COMPUTED\n");

739 
	`Ârötf
(
°dout
, "**********************************************************************\n\n");

740 
is_rouã_obsﬁëe
 = 
åue
;

741 
is_move_ªady
 = 
Ál£
;

742 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

743 
pCDAL⁄gNav
->
Ãn_rouã_obsﬁëe_Êag
 = 
is_rouã_obsﬁëe
;

745 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

746 
cuºít_rouã_a˘i⁄
 = 0;

753 if–
cuºít_rouã_a˘i⁄
+1 >
o_föÆ_rouã
.
	`gë_ñôe_gíes_ƒ
() )

755 
	`Ârötf
(
°dout
, "\nLong Range Navigator: Route was successfully finished\n");

756 
	`Ârötf
(
°dout
, "*****************************************************\n\n");

757 
is_rouã_obsﬁëe
 = 
åue
;

758 
is_move_ªady
 = 
Ál£
;

759 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

760 
pCDAL⁄gNav
->
Ãn_rouã_obsﬁëe_Êag
 = 
is_rouã_obsﬁëe
;

762 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

763 
cuºít_rouã_a˘i⁄
 = 0;

765 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

766 if–
missi⁄_co‹d
[
visôed_„©uª_ƒ
][3] < 
TOLERANCE_GOAL_DISTANCE
 )

768 
	`Ârötf
(
°dout
, "L⁄g R™gêNavig©‹: Fótuª: %2d found\n", 
visôed_„©uª_ƒ
);

769 
visôed_„©uª_ƒ
++;

770 if–
visôed_„©uª_ƒ
 < 
missi⁄s_ƒ
 )

771 
	`Upd©e_missi⁄s_exåa_d©a
(
visôed_„©uª_ƒ
);

776 if–(
visôed_„©uª_ƒ
 >
missi⁄s_ƒ
Ë&& (
m_missi⁄s
 > 0) )

778 
visôed_„©uª_ƒ
 = 0;

779 
missi⁄_accom∂ished_Êag
 = 
åue
;

783 if–
missi⁄_accom∂ished_Êag
 )

785 
	`Ârötf
(
°dout
, "Long Range Navigator: Mission was successfully Accomplished\n");

786 
	`Ârötf
(
°dout
, "***********************************************************\n\n");

788 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

789 
pCDAL⁄gNav
->
Ãn_missi⁄_accom∂ished
 = 
åue
;

790 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

794 
	`Ârötf
(
°dout
, "\n");

795 
SUB_FORWARD
 = 0;

796 
SUB_TURN_RIGHT_1
 = 0;

797 
SUB_TURN_LEFT_1
 = 0;

798 
SUB_TURN_RIGHT_3
 = 0;

799 
SUB_TURN_LEFT_3
 = 0;

800 
SUB_TURN_RIGHT_2
 = 0;

801 
SUB_TURN_LEFT_2
 = 0;

802 
SUB_TURN_RIGHT
= 0;

803 
SUB_TURN_LEFT
 = 0;

805 
	}
}

810 
	gLRNPro˚ss‹
::
	$Dñivî_MŸ‹_Comm™ds
(c⁄° 
_•ìd
, c⁄° 
_°ìr
)

813 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

814 
pCDAL⁄gNav
->
Ãn_•ìd
 = 
_•ìd
;

815 
pCDAL⁄gNav
->
Ãn_°ìrög
 = 
_°ìr
;

817 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
 = 
åue
;

818 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

819 
	}
}

821 
	gLRNPro˚ss‹
::
	$Dñivî_MŸ‹_Comm™ds
(c⁄° 
_•ìd_≥r˚¡
, c⁄° 
_movemít
)

824 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

825 
pCDAL⁄gNav
->
Ãn_•ìd_≥r˚¡
 = 
_•ìd_≥r˚¡
;

826 
pCDAL⁄gNav
->
Ãn_movemít
 = 
_movemít
;

828 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
 = 
åue
;

829 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

830 
	}
}

833 
	gLRNPro˚ss‹
::
	$Upd©e_missi⁄s_exåa_d©a
(c⁄° 
_„©uª_ödex
)

835 
_di°™˚
 ;

836 
	`Upd©e_Sèπ_posôi⁄
();

837 
_di°™˚
 = 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`CÆcuœã_Di°™˚
(
°¨t_co‹d
, 
missi⁄_co‹d
[
_„©uª_ödex
]);

838 
missi⁄_co‹d
[
_„©uª_ödex
][3] = 
_di°™˚
;

839 
missi⁄_co‹d
[
_„©uª_ödex
][4] = 
a˘i⁄s_ƒ
;

840 
missi⁄_co‹d
[
_„©uª_ödex
][5] = 
°¨t_co‹d
[0];

841 
missi⁄_co‹d
[
_„©uª_ödex
][6] = 
°¨t_co‹d
[1];

842 
missi⁄_co‹d
[
_„©uª_ödex
][7] = 
°¨t_co‹d
[2];

844 
	}
}

847 
	gLRNPro˚ss‹
::
	$Upd©e_ñôe_d©a
(c⁄° 
_„©uª_ödex
)

849 
_gﬂl_°ï_ƒ
 = 0;

850 
_mö_di°™˚
 = 0;

852 
ãmp_fulfûlmít
[4];

853 
_idól_föÆ_pos
[3];

854 
_gí
 *
GENOTYPE
;

856 
GENOTYPE
 = 
√w
 
_gí
[
o_rouãs
.
	`gëGíesNumbî
()];

859 
_gﬂl_°ï_ƒ
 = 
o_rouãs
.
	`gë_e_u£ful_°ïs_ƒ
();

860 
_mö_di°™˚
 = 
o_rouãs
.
	`gë_e_gﬂl_di°™˚
();

863 
o_rouãs
.
	`gë_e_föÆ_posôi⁄
(
_idól_föÆ_pos
);

865 
o_rouãs
.
	`gë_ñôe_gíëy≥
(
GENOTYPE
);

866 
o_rouãs
.
	`gë_e_fulfûlmít_¥od
(
ãmp_fulfûlmít
);

869 if–
_gﬂl_°ï_ƒ
 > 
a˘i⁄s_ƒ
 ) 
	`Ârötf
(
°dout
, "Long Range Navigator: %d/%d\n", _goal_step_nr,áctions_nr);

871 
o_föÆ_rouã
.
	`£t_gíes
(0, 
_gﬂl_°ï_ƒ
, 
GENOTYPE
);

872 
o_föÆ_rouã
.
	`£t_fô√ss
(
ãmp_fulfûlmít
);

873 
o_föÆ_rouã
.
	`£t_föÆ_co‹d
(
_idól_föÆ_pos
);

875 if–
m_missi⁄s
 > 0.0 )

877 
o_föÆ_rouã
.
	`£t_missi⁄s_˛o£r_di°
(
_„©uª_ödex
, 
_mö_di°™˚
);

878 
o_föÆ_rouã
.
	`£t_missi⁄s_°ïs_√eded
(
_„©uª_ödex
, 
_gﬂl_°ï_ƒ
);

879 
o_föÆ_rouã
.
	`£t_missi⁄s_˛o£r_pos
(
_„©uª_ödex
, 
_idól_föÆ_pos
);

882 
dñëe
 [] 
GENOTYPE
;

883 
	}
}

886 
	gLRNPro˚ss‹
::
	$Upd©e_ñôe_phíŸy≥
()

889 
_ãmp_co‹d
[3];

890 
o_föÆ_rouã
.
	`gë_°¨t_co‹d
(
_ãmp_co‹d
);

891 
_ƒ_gí
 = 
o_föÆ_rouã
.
	`gë_ñôe_gíes_ƒ
();

893 
_igí
 = 0; _igí < 
_ƒ_gí
; _igen++)

895 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`CompuãNextPosôi⁄
(
_ãmp_co‹d
, 
o_föÆ_rouã
.
	`gë_gí
(
_igí
));

896 
o_föÆ_rouã
.
	`£t_∑th_°ï
(
_ãmp_co‹d
);

898 
	}
}

901 
	gLRNPro˚ss‹
::
	$Upd©e_Sœm_M≠
(){

903 
_width
;

904 
_heigh
;

905 
_aux
 = 0;

906 
_ocou¡
 = 0;

907 
_›î˚¡
 = 0.1;

908 
_⁄r
;

909 
auxY
 ;

910 
auxX
 ;

911 
_poöt
;

912 
_xc
,
_yc
;

913 
MAP_FILE
[50];

915 
_m≠MeshSize
 = 
o_rouãs
.
o_ffô√ss
.
	`gëM≠MeshSize
();

916 
_⁄r

_m≠MeshSize
*_mapMeshSize*0.1;

918 
cda
.
	`lockAªa
(
LASER_AREA
);

919 
_width
 = 
pCDALa£r
->
img_™cho
;

920 
_heigh
 = 
pCDALa£r
->
img_Æto
;

921 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

923 
o_rouãs
.
o_ffô√ss
.
	`Së_M≠_Dimísi⁄s
(
_width
,
_heigh
);

925 
_y
 = 0 ; _y <
_heigh
-
_m≠MeshSize
 ; _y += _mapMeshSize){

926 
_x
 = 0 ; _x <
_width
-
_m≠MeshSize
; _x += _mapMeshSize){

927 
auxY
 = 
_m≠MeshSize
+
_y
;

928 
auxX
 = 
_m≠MeshSize
+
_x
;

930 
_yc
 =
_y
 ; _y¯< 
auxY
 ;_yc++){

931 
_xc
 =
_x
 ; _x¯< 
auxX
 ; _xc++){

932 
cda
.
	`lockAªa
(
LASER_AREA
);

933 
_poöt
 = 
pCDALa£r
->
m≠
[
_xc
][
_yc
];

934 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

936 if(
_poöt
 == 0)

937 
_ocou¡
++;

939 i‡(
_ocou¡
 >
_⁄r
){

940 
_ocou¡
 = 0;

941 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
o_MAP
.
	`£tcCñlOb°a˛e
(
_xc
/
_m≠MeshSize
,
_yc
/_mapMeshSize);

942 
_yc
 = 
auxY
;

943 
_xc
 = 
auxX
;

950 
	`¢¥ötf
(
MAP_FILE
, (MAP_FILE), "./Ãn_lﬂded_ascii_m≠%d", 
rouã_ƒ
);

951 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`PrötMAPtoFûe
(
MAP_FILE
);

957 
	}
}

958 
	gLRNPro˚ss‹
::
	$Upd©e_I¡î«l_M≠
()

960 
ob°a˛es_ƒ
 = 0;

961 
width
, 
height
;

963 if–
ex≥rimíèti⁄_room
 =
FART_ROOM
 )

967 
cda
.
	`lockAªa
(
MAPPER_AREA
);

969 
width
 = 
pCDAM≠≥r
->
room_width
;

970 
height
 = 
pCDAM≠≥r
->
room_height
;

971 
ob°a˛es_ƒ
 = 
pCDAM≠≥r
->
a˘iveNodes
;

974 
o_rouãs
.
o_ffô√ss
.
	`Inô_F¨t_MAP
(
ob°a˛es_ƒ
, 
width
, 
height
);

978 
_ˇt
 = 0; _ˇà< 
ob°a˛es_ƒ
; _cat++)

980 
o_rouãs
.
o_ffô√ss
.
FART_MAP
[
_ˇt
][0] = 
pCDAM≠≥r
->
ˇãg‹õs
[_cat][0];

981 
o_rouãs
.
o_ffô√ss
.
FART_MAP
[
_ˇt
][1] = 
pCDAM≠≥r
->
ˇãg‹õs
[_cat][1];

982 
o_rouãs
.
o_ffô√ss
.
FART_MAP
[
_ˇt
][2] = 
pCDAM≠≥r
->
ˇãg‹õs
[_cat][2];

983 
o_rouãs
.
o_ffô√ss
.
FART_MAP
[
_ˇt
][3] = 
pCDAM≠≥r
->
ˇãg‹õs
[_cat][3];

985 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

990 
o_rouãs
.
o_ffô√ss
.
	`Së_FART_MAP
();

992 
ãmp_ˇt
[4];

993 
o_föÆ_rouã
.
	`öô_Áπ_m≠
(
ob°a˛es_ƒ
);

994 
_i
 = 0; _ò< 
ob°a˛es_ƒ
; _i++)

996 
ãmp_ˇt
[0] = 
o_rouãs
.
o_ffô√ss
.
FART_MAP
[
_i
][0];

997 
ãmp_ˇt
[1] = 
o_rouãs
.
o_ffô√ss
.
FART_MAP
[
_i
][1];

998 
ãmp_ˇt
[2] = 
o_rouãs
.
o_ffô√ss
.
FART_MAP
[
_i
][2];

999 
ãmp_ˇt
[3] = 
o_rouãs
.
o_ffô√ss
.
FART_MAP
[
_i
][3];

1000 
o_föÆ_rouã
.
	`£t_Áπ_m≠
(
_i
, 
ãmp_ˇt
);

1002 
MAP_FILE
[50];

1003 
	`¢¥ötf
(
MAP_FILE
, (MAP_FILE), "./Ãn_lﬂded_ascii_m≠_%d", 
rouã_ƒ
);

1004 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`PrötMAPtoFûe
(
MAP_FILE
);

1008 if–
ex≥rimíèti⁄_room
 =
H_ROOM
 )

1010 
ãmp_ˇt
[4];

1011 
o_föÆ_rouã
.
	`öô_Áπ_m≠
(
CATEGORIES_H_ROOM
);

1012 
_ˇt
 = 0; _ˇà< 
CATEGORIES_H_ROOM
; _cat++)

1014 
ãmp_ˇt
[0] = 
FART_H_ROOM
[
_ˇt
][0];

1015 
ãmp_ˇt
[1] = 
FART_H_ROOM
[
_ˇt
][1];

1016 
ãmp_ˇt
[2] = 
FART_H_ROOM
[
_ˇt
][2];

1017 
ãmp_ˇt
[3] = 
FART_H_ROOM
[
_ˇt
][3];

1018 
o_föÆ_rouã
.
	`£t_Áπ_m≠
(
_ˇt
, 
ãmp_ˇt
);

1020 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`£t_£À˘ed_room
(
H_ROOM
);

1022 if–
ex≥rimíèti⁄_room
 =
L_ROOM
 )

1024 
ãmp_ˇt
[4];

1025 
o_föÆ_rouã
.
	`öô_Áπ_m≠
(
CATEGORIES_L_ROOM
);

1026 
_ˇt
 = 0; _ˇà< 
CATEGORIES_L_ROOM
; _cat++)

1028 
ãmp_ˇt
[0] = 
FART_L_ROOM
[
_ˇt
][0];

1029 
ãmp_ˇt
[1] = 
FART_L_ROOM
[
_ˇt
][1];

1030 
ãmp_ˇt
[2] = 
FART_L_ROOM
[
_ˇt
][2];

1031 
ãmp_ˇt
[3] = 
FART_L_ROOM
[
_ˇt
][3];

1032 
o_föÆ_rouã
.
	`£t_Áπ_m≠
(
_ˇt
, 
ãmp_ˇt
);

1034 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`£t_£À˘ed_room
(
L_ROOM
);

1036 if–
ex≥rimíèti⁄_room
 =
O_ROOM
 )

1038 
ãmp_ˇt
[4];

1039 
o_föÆ_rouã
.
	`öô_Áπ_m≠
(
CATEGORIES_O_ROOM
);

1040 
_ˇt
 = 0; _ˇà< 
CATEGORIES_O_ROOM
; _cat++)

1042 
ãmp_ˇt
[0] = 
FART_O_ROOM
[
_ˇt
][0];

1043 
ãmp_ˇt
[1] = 
FART_O_ROOM
[
_ˇt
][1];

1044 
ãmp_ˇt
[2] = 
FART_O_ROOM
[
_ˇt
][2];

1045 
ãmp_ˇt
[3] = 
FART_O_ROOM
[
_ˇt
][3];

1046 
o_föÆ_rouã
.
	`£t_Áπ_m≠
(
_ˇt
, 
ãmp_ˇt
);

1048 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`£t_£À˘ed_room
(
O_ROOM
);

1050 if–
ex≥rimíèti⁄_room
 =
S_ROOM
 )

1052 
ãmp_ˇt
[4];

1053 
o_föÆ_rouã
.
	`öô_Áπ_m≠
(
CATEGORIES_S_ROOM
);

1054 
_ˇt
 = 0; _ˇà< 
CATEGORIES_S_ROOM
; _cat++)

1056 
ãmp_ˇt
[0] = 
FART_S_ROOM
[
_ˇt
][0];

1057 
ãmp_ˇt
[1] = 
FART_S_ROOM
[
_ˇt
][1];

1058 
ãmp_ˇt
[2] = 
FART_S_ROOM
[
_ˇt
][2];

1059 
ãmp_ˇt
[3] = 
FART_S_ROOM
[
_ˇt
][3];

1060 
o_föÆ_rouã
.
	`£t_Áπ_m≠
(
_ˇt
, 
ãmp_ˇt
);

1062 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`£t_£À˘ed_room
(
S_ROOM
);

1064 if–
ex≥rimíèti⁄_room
 =
T_ROOM
 )

1066 
ãmp_ˇt
[4];

1067 
o_föÆ_rouã
.
	`öô_Áπ_m≠
(
CATEGORIES_T_ROOM
);

1068 
_ˇt
 = 0; _ˇà< 
CATEGORIES_T_ROOM
; _cat++)

1070 
ãmp_ˇt
[0] = 
FART_T_ROOM
[
_ˇt
][0];

1071 
ãmp_ˇt
[1] = 
FART_T_ROOM
[
_ˇt
][1];

1072 
ãmp_ˇt
[2] = 
FART_T_ROOM
[
_ˇt
][2];

1073 
ãmp_ˇt
[3] = 
FART_T_ROOM
[
_ˇt
][3];

1074 
o_föÆ_rouã
.
	`£t_Áπ_m≠
(
_ˇt
, 
ãmp_ˇt
);

1076 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`£t_£À˘ed_room
(
T_ROOM
);

1080 
MAP_FILE
[50];

1081 
	`¢¥ötf
(
MAP_FILE
, (MAP_FILE), "./Ãn_lﬂded_ascii_m≠%d", 
rouã_ƒ
);

1082 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`PrötMAPtoFûe
(
MAP_FILE
);

1085 
	}
}

1089 
	gLRNPro˚ss‹
::
	$Upd©e_Missi⁄s_li°
(){

1093 if–
missi⁄_›_mode
 =
NORMAL
 )

1096 
visôed_„©uª_ƒ
 = 0;

1097 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

1098 
missi⁄s_ƒ
 = 
pCDAFótuªNav
->
‚_nFótuªs
;

1099 
_im
 = 0; _im < 
missi⁄s_ƒ
; _im++)

1101 
missi⁄_co‹d
[
_im
][0] = 90;

1102 
missi⁄_co‹d
[
_im
][1] = 
pCDAFótuªNav
->
‚_„©uªAºay
[_im][0];

1103 
missi⁄_co‹d
[
_im
][2] = 
pCDAFótuªNav
->
‚_„©uªAºay
[_im][1];

1107 
√w_„©uªs_Êag
 = 
Ál£
;

1108 
pCDAFótuªNav
->
‚_„©uª_li°_ªady_Êag
 = 
Ál£
;

1110 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

1114 if–
missi⁄_›_mode
 =
TEST
 )

1116 
missi⁄s_ƒ
 = 3;

1117 
missi⁄_co‹d
[0][0] = 0;

1118 
missi⁄_co‹d
[0][1] = 250;

1119 
missi⁄_co‹d
[0][2] = 250;

1120 
missi⁄_co‹d
[1][0] = 270;

1121 
missi⁄_co‹d
[1][1] = 200;

1122 
missi⁄_co‹d
[1][2] = 125;

1128 
o_föÆ_rouã
.
	`öô_missi⁄s
(
missi⁄s_ƒ
);

1130 
_di°™˚
;

1131 
ãmp_missi⁄
[3];

1133 
_im
 = 0; _im < 
missi⁄s_ƒ
; _im++){

1134 
ãmp_missi⁄
[0] = 
missi⁄_co‹d
[
_im
][0];

1135 
ãmp_missi⁄
[1] = 
missi⁄_co‹d
[
_im
][1];

1136 
ãmp_missi⁄
[2] = 
missi⁄_co‹d
[
_im
][2];

1137 
o_föÆ_rouã
.
	`£t_missi⁄
(
_im
, 
ãmp_missi⁄
);

1139 
_di°™˚
 = 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`CÆcuœã_Di°™˚
(
°¨t_co‹d
, 
missi⁄_co‹d
[
_im
]);

1140 
missi⁄_co‹d
[
_im
][3] = 
_di°™˚
;

1141 
missi⁄_co‹d
[
_im
][4] = -1;

1142 
missi⁄_co‹d
[
_im
][5] = 
°¨t_co‹d
[0];

1143 
missi⁄_co‹d
[
_im
][6] = 
°¨t_co‹d
[1];

1144 
missi⁄_co‹d
[
_im
][7] = 
°¨t_co‹d
[2];

1146 
	}
}

1155 
	gLRNPro˚ss‹
::
	$Upd©e_Sãp_Líght
(){

1157 
_°ï
;

1158 
_dx
,
_dy
,
_d™gÀ
,
ãmp
;

1160 
cda
.
	`lockAªa
(
LASER_AREA
);

1161 
_dx
 = 
pCDALa£r
->
dx
;

1162 
_dy
 = 
pCDALa£r
->
dy
;

1163 
_d™gÀ
 = 
pCDALa£r
->
ddú
;

1164 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

1166 
ãmp
 = 
	`Ãound
((
_d™gÀ
*180.0)/
M_PI
);

1168 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`£t_™gÀ_Ànght
(
ãmp
);

1169 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`£t_°ï_Ànght
(
_°ï
);

1170 
	}
}

1172 
	gLRNPro˚ss‹
::
	$Së_Sèπ_posôi⁄
(){

1174 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`Së_SèπCo‹dö©es
(
°¨t_co‹d
);

1175 
o_föÆ_rouã
.
	`Së_SèπCo‹dö©es
(
°¨t_co‹d
);

1176 
	}
}

1179 
	gLRNPro˚ss‹
::
	$Upd©e_Sèπ_posôi⁄
(){

1181 
cda
.
	`lockAªa
(
LASER_AREA
);

1182 
°¨t_co‹d
[0] = 
öô_co‹d
[0]+ 
	`Ãound
((
pCDALa£r
->
dú
*180.0)/
M_PI
);

1183 
°¨t_co‹d
[1] = 
öô_co‹d
[1]+ 
pCDALa£r
->
x
;

1184 
°¨t_co‹d
[2] = 
öô_co‹d
[2]+ 
pCDALa£r
->
y
;

1185 
cda
.
	`u∆ockAªa
(
LASER_AREA
);

1187 i‡(
°¨t_co‹d
[0] < 0)

1188 
°¨t_co‹d
[0] = 360 + start_coord[0];

1189 i‡(
°¨t_co‹d
[0] > 360)

1190 
°¨t_co‹d
[0] = start_coord[0] - 360;

1192 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`Së_SèπCo‹dö©es
(
°¨t_co‹d
);

1193 
o_föÆ_rouã
.
	`Së_SèπCo‹dö©es
(
°¨t_co‹d
);

1194 
	}
}

1197 
	gLRNPro˚ss‹
::
	$Ród_C⁄figuøti⁄_Fûe
()

1199 
°rög
 
ãmp_v¨
;

1202 
C⁄figFûe
 
	`c⁄fig
( "./config/longRangeNavigator.conf" );

1207 
c⁄fig
.
	`ªadI¡o
(
p›uœti⁄_size
, "POPULATION_SIZE", 60);

1208 
c⁄fig
.
	`ªadI¡o
(
gíî©i⁄s_ƒ
, "GENERATIONS_NR", 10);

1209 
c⁄fig
.
	`ªadI¡o
(
a˘i⁄s_ƒ
, "GENES_NR", 80);

1210 
c⁄fig
.
	`ªadI¡o
(
¸oss_poöts_ƒ
, "CROSS_POINTS_NR", 16);

1212 
c⁄fig
.
	`ªadI¡o
(
ãmp_v¨
, "SELECTION_METHOD");

1213 if–
ãmp_v¨
.
	`com∑ª
(0,14, "ROULETTE_ELITE"Ë=0 ) { 
£À˘i⁄_mëhod
 = 
ROULETTE_ELITE
; }

1214 if–
ãmp_v¨
.
	`com∑ª
(0,8, "ROULETTE"Ë=0 ) { 
£À˘i⁄_mëhod
 = 
ROULETTE
; }

1215 if–
ãmp_v¨
.
	`com∑ª
(0,23, "TOURNAMENT_ELITE_RANDOM"Ë=0 ) { 
£À˘i⁄_mëhod
 = 
TOURNAMENT_ELITE_RANDOM
; }

1216 if–
ãmp_v¨
.
	`com∑ª
(0,16, "TOURNAMENT_ELITE"Ë=0 ) { 
£À˘i⁄_mëhod
 = 
TOURNAMENT_ELITE
; }

1217 if–
ãmp_v¨
.
	`com∑ª
(0,10, "TOURNAMENT"Ë=0 ) { 
£À˘i⁄_mëhod
 = 
TOURNAMENT
; }

1219 { 
£À˘i⁄_mëhod
 = 
TOURNAMENT_ELITE_RANDOM
; }

1222 
c⁄fig
.
ªadI¡o
<>(
öô_co‹d
[0], "START_ANGLE", 90);

1223 
c⁄fig
.
ªadI¡o
<>(
öô_co‹d
[1], "START_X_COORD", 200);

1224 
c⁄fig
.
ªadI¡o
<>(
öô_co‹d
[2], "START_Y_COORD", 200);

1226 
c⁄fig
.
ªadI¡o
<>(
home_co‹d
[1], "HOME_X_COORD", 200);

1227 
c⁄fig
.
ªadI¡o
<>(
home_co‹d
[2], "HOME_Y_COORD", 200);

1228 
c⁄fig
.
ªadI¡o
<>(
MAX_DISTANCE_ERROR
, "MAX_DISTANCE_ERROR", 300);

1230 
c⁄fig
.
	`ªadI¡o
(
ãmp_v¨
, "EXPERIMENTATION_ROOM");

1232 if–
ãmp_v¨
.
	`com∑ª
(0,6, "H_ROOM"Ë=0 ) { 
ex≥rimíèti⁄_room
 = 
H_ROOM
; }

1233 if–
ãmp_v¨
.
	`com∑ª
(0,6, "L_ROOM"Ë=0 ) { 
ex≥rimíèti⁄_room
 = 
L_ROOM
; }

1234 if–
ãmp_v¨
.
	`com∑ª
(0,6, "O_ROOM"Ë=0 ) { 
ex≥rimíèti⁄_room
 = 
O_ROOM
; }

1235 if–
ãmp_v¨
.
	`com∑ª
(0,6, "S_ROOM"Ë=0 ) { 
ex≥rimíèti⁄_room
 = 
S_ROOM
; }

1236 if–
ãmp_v¨
.
	`com∑ª
(0,6, "T_ROOM"Ë=0 ) { 
ex≥rimíèti⁄_room
 = 
T_ROOM
; }

1237 if–
ãmp_v¨
.
	`com∑ª
(0,9, "FART_ROOM"Ë=0 ) { 
ex≥rimíèti⁄_room
 = 
FART_ROOM
; }

1238 { 
ex≥rimíèti⁄_room
 = 
SLAM_ROOM
; }

1241 
c⁄fig
.
ªadI¡o
<>(
m_curiosôy
, "MOTIVATION_CURIOSITY", 1.0);

1242 
c⁄fig
.
ªadI¡o
<>(
m_íîgy
, "MOTIVATION_ENERGY", 0.0);

1243 
c⁄fig
.
ªadI¡o
<>(
m_homög
, "MOTIVATION_HOMING", 0.0);

1244 
c⁄fig
.
ªadI¡o
<>(
m_missi⁄s
, "MOTIVATION_MISSIONS", 0.0);

1246 
vîbo£_mode
 = 
OFF
;

1247 
c⁄fig
.
	`ªadI¡o
(
ãmp_v¨
, "VERBOSE_MODE");

1248 if–
ãmp_v¨
 ="ON" ) { 
vîbo£_mode
 = 
ON
; }

1249 { 
vîbo£_mode
 = 
OFF
; }

1251 
c⁄fig
.
	`ªadI¡o
(
ãmp_v¨
, "FEATURES_MODE");

1252 if–
ãmp_v¨
 ="TEST" ) { 
missi⁄_›_mode
 = 
TEST
; }

1253 if–
ãmp_v¨
 ="NORMAL" ) { 
missi⁄_›_mode
 = 
NORMAL
; }

1254 { 
missi⁄_›_mode
 = 
TEST
; }

1256 
	`Show_V¨übÀs
();

1259 
	}
}

1262 
	gLRNPro˚ss‹
::
	$Show_V¨übÀs
()

1264 if–
vîbo£_mode
 =
ON
 )

1266 
	`Ârötf
(
°dout
, "¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑\n");

1267 
	`Ârötf
(
°dout
, "POPULATION_SIZE: %d\n", 
p›uœti⁄_size
);

1268 
	`Ârötf
(
°dout
, "GENERATIONS_NR: %d\n", 
gíî©i⁄s_ƒ
);

1269 
	`Ârötf
(
°dout
, "GENES_NR: %d\n", 
a˘i⁄s_ƒ
);

1270 
	`Ârötf
(
°dout
, "CROSS_POINTS_NR: %d\n", 
¸oss_poöts_ƒ
);

1272 if–
£À˘i⁄_mëhod
 =
ROULETTE
Ë{ 
	`Ârötf
(
°dout
, "SELECTION_METHOD: ROULETTE\n"); }

1273 if–
£À˘i⁄_mëhod
 =
ROULETTE_ELITE
Ë{ 
	`Ârötf
(
°dout
, "SELECTION_METHOD: ROULETTE_ELITE\n"); }

1274 if–
£À˘i⁄_mëhod
 =
TOURNAMENT
Ë{ 
	`Ârötf
(
°dout
, "SELECTION_METHOD: TOURNAMENT\n"); }

1275 if–
£À˘i⁄_mëhod
 =
TOURNAMENT_ELITE
Ë{ 
	`Ârötf
(
°dout
, "SELECTION_METHOD: TOURNAMENT_ELITE\n"); }

1276 if–
£À˘i⁄_mëhod
 =
TOURNAMENT_ELITE_RANDOM
Ë{ 
	`Ârötf
(
°dout
, "SELECTION_METHOD: TOURNAMENT_ELITE_RANDOM\n"); }

1278 
	`Ârötf
(
°dout
, "START_POSITION: AngÀ:%3d\tX Co‹d:%4d\tY Co‹d:%4d\n", 
öô_co‹d
[0], init_coord[1], init_coord[2]);

1279 
	`Ârötf
(
°dout
, "HOME_POSITION: X Co‹d:%4d\tY Co‹d:%4d\n", 
home_co‹d
[1], home_coord[2]);

1280 
	`Ârötf
(
°dout
, "MAX_DISTANCE_ERROR - bëwì¿idó»™dÑó»posôi⁄: %d\n", 
MAX_DISTANCE_ERROR
);

1282 if–
ex≥rimíèti⁄_room
 =
H_ROOM
 ) { 
	`Ârötf
(
°dout
, "EXPERIMENTATION_ROOM: H_ROOM\n"); }

1283 if–
ex≥rimíèti⁄_room
 =
L_ROOM
 ) { 
	`Ârötf
(
°dout
, "EXPERIMENTATION_ROOM: L_ROOM\n"); }

1284 if–
ex≥rimíèti⁄_room
 =
O_ROOM
 ) { 
	`Ârötf
(
°dout
, "EXPERIMENTATION_ROOM: O_ROOM\n"); }

1285 if–
ex≥rimíèti⁄_room
 =
S_ROOM
 ) { 
	`Ârötf
(
°dout
, "EXPERIMENTATION_ROOM: S_ROOM\n"); }

1286 if–
ex≥rimíèti⁄_room
 =
T_ROOM
 ) { 
	`Ârötf
(
°dout
, "EXPERIMENTATION_ROOM: T_ROOM\n"); }

1287 if–
ex≥rimíèti⁄_room
 =
FART_ROOM
 ) { 
	`Ârötf
(
°dout
, "EXPERIMENTATION_ROOM: FART_ROOM\n"); }

1289 
	`Ârötf
(
°dout
, "MOTIVATION_CURIOSITY: %.3f\n", 
m_curiosôy
);

1290 
	`Ârötf
(
°dout
, "MOTIVATION_ENERGY: %.3f\n", 
m_íîgy
);

1291 
	`Ârötf
(
°dout
, "MOTIVATION_HOMING: %.3f\n", 
m_homög
);

1292 
	`Ârötf
(
°dout
, "MOTIVATION_MISSIONS: %.3f\n", 
m_missi⁄s
);

1294 if–
missi⁄_›_mode
 =
TEST
 ) { 
	`Ârötf
(
°dout
, "FEATURES OPERATION MODE: TEST\n"); }

1295 if–
missi⁄_›_mode
 =
NORMAL
 ) { 
	`Ârötf
(
°dout
, "FEATURES OPERATION MODE: NORMAL\n"); }

1297 
	`Ârötf
(
°dout
, "¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑\n");

1299 
	}
}

1302 
	gLRNPro˚ss‹
::
	$Pröt_ouçut_d©a
(
_vîbo£
)

1304 if–
_vîbo£
 >
VERBOSE_MEDIUM
 )

1306 
	`Ârötf
(
°dout
, "The‹ëiˇ»u£fu»°ï†u£dÅÿachõvedÅhêgﬂl: %d\n", 
o_rouãs
.
	`gë_e_u£ful_°ïs_ƒ
());

1307 if–
m_missi⁄s
 > 0.0 )

1310 
	`Ârötf
(
°dout
, "The‹ëiˇ»Clo£∏di°™˚Åÿthêgﬂl: %d\n", 
o_rouãs
.
	`gë_e_gﬂl_di°™˚
());

1311 
	`Ârötf
(
°dout
, "Ideal Final Position: Angle: %3d X Coord: %5d Y Coord: %5d\n",

1312 
missi⁄_co‹d
[
visôed_„©uª_ƒ
][0], mission_coord[visited_feature_nr][1],

1313 
missi⁄_co‹d
[
visôed_„©uª_ƒ
][2]);

1316 
_e_föÆ_co‹d
[3];

1317 
o_rouãs
.
	`gë_e_föÆ_posôi⁄
(
_e_föÆ_co‹d
);

1318 
	`Ârötf
(
°dout
, "Theoretical Final Position: Angle: %3d X Coord: %5d Y Coord: %5d\n",

1319 
_e_föÆ_co‹d
[0], _e_final_coord[1], _e_final_coord[2]);

1320 
_e_°¨t_co‹d
[3];

1321 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`gë_°¨t_posôi⁄
(
_e_°¨t_co‹d
);

1322 
	`Ârötf
(
°dout
, "Theoretical Start Position: Angle: %3d X Coord: %5d Y Coord: %5d\n",

1323 
_e_°¨t_co‹d
[0], _e_start_coord[1], _e_start_coord[2]);

1324 
	`Ârötf
(
°dout
, "Fô√s†obèöed f‹Åhi†ödividuÆ: %f\n", 
o_rouãs
.
	`gë_e_fô√ss
());

1325 
ãmp_fulfûlmít
[4];

1326 
o_rouãs
.
	`gë_e_fulfûlmít_¥od
(
ãmp_fulfûlmít
);

1327 
	`Ârötf
(
°dout
, "Curiosity: %.3f\t Energy: %.3f\t Homing: %.3f\t Missions: %.3f\n",

1328 
ãmp_fulfûlmít
[0],Åemp_fulfillment[1],Åemp_fulfillment[2],Åemp_fulfillment[3]);

1329 
	`Ârötf
(
Â_fô√ss
, "R%2d | Curiosity: %.3f\t Energy: %.3f\t Homing: %.3f\t Missions: %.3f\n",

1330 
N_FITNESS
+1, 
ãmp_fulfûlmít
[0],Åemp_fulfillment[1],Åemp_fulfillment[2],Åemp_fulfillment[3]);

1331 
SUM_FITNESS_C
+=
ãmp_fulfûlmít
[0];

1332 
SUM_FITNESS_E
+=
ãmp_fulfûlmít
[1];

1333 
SUM_FITNESS_H
+=
ãmp_fulfûlmít
[2];

1334 
SUM_FITNESS_M
+=
ãmp_fulfûlmít
[3];

1335 
N_FITNESS
++;

1339 
STATS_FILE
[50];

1340 
	`¢¥ötf
(
STATS_FILE
, (STATS_FILE), "./Ãn_°©s%d", 
rouã_ƒ
);

1341 
o_rouãs
.
	`Pröt_Sèts_Fûe
(
STATS_FILE
);

1344 
MAP_FILE
[50];

1345 
	`¢¥ötf
(
MAP_FILE
, (MAP_FILE), "./Ãn_lﬂded_ascii_m≠%d", 
rouã_ƒ
);

1346 
o_rouãs
.
o_ffô√ss
.
o_vútuÆMŸi⁄
.
	`PrötMAPtoFûe
(
MAP_FILE
);

1347 
	}
}

1350 
	gLRNPro˚ss‹
::
	$Pröt_ñôe_ouçut_d©a
()

1352 
PATH_GENOTYPE_FILE
[50];

1353 
PATH_PHENOTYPE_FILE
[50];

1354 
	`¢¥ötf
(
PATH_GENOTYPE_FILE
, (PATH_GENOTYPE_FILE), "./Ãn_ñôe_gíŸy≥%d", 
rouã_ƒ
);

1355 
	`¢¥ötf
(
PATH_PHENOTYPE_FILE
, (PATH_PHENOTYPE_FILE), "./Ãn_ñôe_phíŸy≥%d", 
rouã_ƒ
);

1357 
o_föÆ_rouã
.
	`Pröt_GENOTYPE
(
PATH_GENOTYPE_FILE
);

1358 
o_föÆ_rouã
.
	`Pröt_PHENOTYPE
(
PATH_PHENOTYPE_FILE
);

1359 
	}
}

1362 
	gLRNPro˚ss‹
::
	$Compuã_time_dif„ªn˚
(c⁄° 
_£c
, c⁄° 
_m£c
)

1365 
timeb
 
ç
; 
	`·ime
(&tp);

1366 
	`Ârötf
(
°dout
, "SèπÅimê%ld.%d\n", 
_£c
, 
_m£c
);

1367 
	`Ârötf
(
°dout
, "EndÅimê = %ld.%d\n", 
ç
.
time
,Åp.
mûlôm
);

1369 
mö
 = (
ç
.
time
 - 
_£c
)/60;

1370 
£c
 = (
ç
.
time
 - 
_£c
)%60;

1371 
m£c
 = 
ç
.
mûlôm
 - 
_m£c
;

1372 if–
m£c
 < 0 ) msec = 1000 + msec;

1374 
	`Ârötf
(
°dout
, "%2d Mö %2d Se¯%4d m£¯wa†√ededÅÿcompuãÅhêrouã\n", 
mö
, 
£c
, 
m£c
);

1375 
	`Ârötf
(
Â_moves
, "========== GA ITERATION : ROUTE CREATED ==========\n");

1376 
	`Ârötf
(
°dout
, "¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑\n");

1378 
TIME_NEEDED
[50];

1380 
	`¢¥ötf
(
TIME_NEEDED
, (TIME_NEEDED), "./lrn_time_used");

1381 
FILE
 *
Â
;

1383 if–(
Â
 = 
	`f›í
(
TIME_NEEDED
, "a")) )

1385 
	`Ârötf
(
Â
, "Iãøti⁄Çr: %3d \t%2d Mö %2d Se¯%4d m£¯wa†√ededÅÿcompuãÅhêrouã\n", 
rouã_ƒ
, 
mö
, 
£c
, 
m£c
);

1386 
	`f˛o£
(
Â
);

1388 { 
	`¥ötf
("Error opening FILE TIME_NEEDED: LRN::Compute_time_difference\n"); }

1389 
	}
}

1400 
	$maö
()

1402 
	`Ârötf
(
°dout
, "\nIRMA3: Longe Range Navigator Process\n");

1404 
fûeMoves
[14] = "lrn_moves.txt";

1405 if–(
Â_moves
 = 
	`f›í
(
fûeMoves
, "w")) )

1406 
	`¥ötf
("PRINTING MOVES IN FILE: %s\n", 
fûeMoves
);

1408 
	`¥ötf
("ERROR OPENING FILE: %s\n", 
fûeMoves
);

1410 
fûeFô√ss
[16] = "lrn_fitness.txt";

1411 if–(
Â_fô√ss
 = 
	`f›í
(
fûeFô√ss
, "w")) )

1412 
	`¥ötf
("PRINTING FITNESS IN FILE: %s\n", 
fûeFô√ss
);

1414 
	`¥ötf
("ERROR OPENING FILE: %s\n", 
fûeFô√ss
);

1416 
LRNPro˚ss‹
 
Ãn
;

1421 
	`§™d
(
	`time
(
NULL
));

1423 
Ãn
.
	`execuã
();

1428 
	}
}

1434 
	gLRNPro˚ss‹
::
	$ã°
(){

1436 
	`Ârötf
(
°dout
, "\nIRMA3:Åest\n");

1438 
o_rouãs
.
	`CÀ™Gíes
();

1439 
o_rouãs
.
	`EvÆu©e
();

1441 
	}
}

	@processors/longRangeNavigator/longRangeNavigator.h

34 #i‚de‡
LONG_RANGE_NAV_H


35 
	#LONG_RANGE_NAV_H


	)

40 
	~<°dio.h
>

41 
	~<sys/shm.h
>

42 
	~<uni°d.h
>

43 
	~<sys/timeb.h
>

44 
	~"../ba£/¥o˚ss‹.h
"

45 
	~"../../comm⁄/c⁄figFûe/c⁄figFûe.h
"

48 
	~"GALRN.h
"

53 c⁄° 
	gTOTAL_SUB_FORWARD
 = 1;

54 c⁄° 
	gTOTAL_SUB_TURN_RIGHT
 = 1;

55 c⁄° 
	gTOTAL_SUB_TURN_LEFT
 = 1;

56 c⁄° 
	gTOTAL_SUB_TURN_RIGHT_1
 = 6;

57 c⁄° 
	gTOTAL_SUB_TURN_LEFT_1
 = 5;

58 c⁄° 
	gTOTAL_SUB_TURN_RIGHT_3
 = 
TOTAL_SUB_TURN_RIGHT_1
 * 3;

59 c⁄° 
	gTOTAL_SUB_TURN_LEFT_3
 = 
TOTAL_SUB_TURN_LEFT_1
 * 3;

60 c⁄° 
	gTOTAL_SUB_TURN_RIGHT_2
 = 
TOTAL_SUB_TURN_RIGHT_1
 * 2;

61 c⁄° 
	gTOTAL_SUB_TURN_LEFT_2
 = 
TOTAL_SUB_TURN_LEFT_1
 * 2;

63 
	gSUB_FORWARD
 = 0;

64 
	gSUB_TURN_RIGHT_1
 = 0;

65 
	gSUB_TURN_LEFT_1
 = 0;

66 
	gSUB_TURN_RIGHT_3
 = 0;

67 
	gSUB_TURN_LEFT_3
 = 0;

68 
	gSUB_TURN_RIGHT_2
 = 0;

69 
	gSUB_TURN_LEFT_2
 = 0;

70 
	gSUB_TURN_RIGHT
 = 0;

71 
	gSUB_TURN_LEFT
 = 0;

72 c⁄° 
	gMAX_MISSIONS_NUMBER
 = 10;

74 c⁄° 
	gTOLERANCE_GOAL_DISTANCE
 = 10;

76 c⁄° 
boﬁ
 
	gON
 = 
åue
;

77 c⁄° 
boﬁ
 
	gOFF
 = 
Ál£
;

79 
FILE
 *
	gÂ_moves
;

80 
FILE
 *
	gÂ_fô√ss
;

81 
	gN_FORWARD
 = 0;

82 
	gN_TURN_RIGHT_1
 = 0;

83 
	gN_TURN_LEFT_1
 = 0;

84 
	gN_TURN_RIGHT_3
 = 0;

85 
	gN_TURN_LEFT_3
 = 0;

86 
	gN_TURN_RIGHT_2
 = 0;

87 
	gN_TURN_LEFT_2
 = 0;

88 
	gN_REVERSE
 = 0;

89 
	gN_FREEZE
 = 0;

90 
	gN_TURN_RIGHT
 = 0;

91 
	gN_TURN_LEFT
 = 0;

92 
	gN_FITNESS
 = 0;

93 
	gSUM_FITNESS_C
 = 0;

94 
	gSUM_FITNESS_E
 = 0;

95 
	gSUM_FITNESS_H
 = 0;

96 
	gSUM_FITNESS_M
 = 0;

99 c⁄° 
	gTEST
 = 1;

100 c⁄° 
	gNORMAL
 = 2;

101 c⁄° 
	gFEATURE_LIST
 = 3;

113 ˛as†
	cLRNPro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚
 {

114 
¥iv©e
:

117 
L⁄gNavD©a
 *
pCDAL⁄gNav
;

118 
ExecutiveD©a
 *
	mpCDAExecutive
;

119 
M≠≥rD©a
 *
	mpCDAM≠
;

120 
M⁄ô‹D©a
 *
	mpCDAM⁄ô‹
;

121 
M≠≥rD©a
 *
	mpCDAM≠≥r
;

122 
La£rD©a
 *
	mpCDALa£r
;

123 
FótuªNavD©a
 *
	mpCDAFótuªNav
;

125 
boﬁ
 
	mis_move_ªady
;

126 
boﬁ
 
	mis_rouã_obsﬁëe
;

127 
boﬁ
 
	mmissi⁄_accom∂ished_Êag
;

128 
boﬁ
 
	m√w_„©uªs_Êag
;

129 
	m˘æ_cuºít_lo›
;

130 
	mm⁄ô‹_cuºít_«v
;

131 
	mvisôed_„©uª_ƒ
;

132 
	mmissi⁄s_ƒ
;

133 
	mmissi⁄_co‹d
[
MAX_MISSIONS_NUMBER
][8];

134 
	mrouã_ƒ
;

135 
	mcuºít_rouã_a˘i⁄
;

136 
boﬁ
 
	mvîbo£_mode
;

137 
	m°¨t_co‹d
[3];

138 
	mhome_co‹d
[3];

139 
	möô_co‹d
[3];

140 
	m‰ìze_times
;

142 
	mMAX_DISTANCE_ERROR
;

143 
	mp›uœti⁄_size
;

144 
	mgíî©i⁄s_ƒ
;

145 
	ma˘i⁄s_ƒ
;

146 
	m¸oss_poöts_ƒ
;

147 
	m£À˘i⁄_mëhod
;

148 
	mm_curiosôy
;

149 
	mm_íîgy
;

150 
	mm_homög
;

151 
	mm_missi⁄s
;

152 
	mex≥rimíèti⁄_room
;

153 
	mmissi⁄_›_mode
;

156 
c_p›
 
	mo_rouãs
;

158 
c_Be°_rouã
 
	mo_föÆ_rouã
;

161 
Ród_Fœgs
();

163 
C⁄figuª_∑th_∂™√r
();

165 
C⁄figuª_föÆ_∑th
();

167 
Compuã_√w_∑th
();

169 
C⁄vît_A˘i⁄_To_MŸ‹_Cmd
(
_a˘i⁄
);

171 
A˘i⁄_To_MŸ‹
(
_a˘i⁄
);

173 
Dñivî_MŸ‹_Comm™ds
(c⁄° 
_•ìd
, c⁄° 
_°ìr
);

174 
Dñivî_MŸ‹_Comm™ds
(c⁄° 
_•ìd_≥r˚¡
, c⁄° 
_movemít
);

176 
Upd©e_missi⁄s_exåa_d©a
(c⁄° 
_„©uª_ödex
);

178 
Upd©e_ñôe_d©a
(c⁄° 
_„©uª_ödex
);

180 
Upd©e_ñôe_phíŸy≥
();

182 
Së_Sèπ_posôi⁄
();

184 
Upd©e_Sœm_M≠
();

186 
Upd©e_I¡î«l_M≠
();

188 
Upd©e_Missi⁄s_li°
();

190 
Upd©e_Sèπ_posôi⁄
();

192 
Upd©e_Sãp_Líght
();

194 
Ród_C⁄figuøti⁄_Fûe
();

196 
Show_V¨übÀs
();

198 
Pröt_ouçut_d©a
(
_vîbo£
);

200 
Pröt_ñôe_ouçut_d©a
();

202 
Compuã_time_dif„ªn˚
(c⁄° 
_£c
, c⁄° 
_m£c
);

204 
	mpublic
:

206 
	$LRNPro˚ss‹
(Ë: 
	$Pro˚ss‹I¡îÁ˚
() {

210 
	`öô
();

211 
	`°ï
();

212 
	`˛ónup
();

213 
	`ã°
();

214 
	}
};

	@processors/mapper/MapClass.cpp

15 
	~"M≠Cœss.h
"

16 
	~<°dio.h
>

20 
	gM≠Cœss
::
	$M≠Cœss
(
a
, 
b
, 
c
, 
d
)

22 :
	`w‹ldSizeX
(
a
),
	`w‹ldSizeY
(
b
),
	`bëa
(
c
),
	$rho
(
d
)

25 
a˘iveNodes
=0;

28 
i
 = 0; i < 
nC©eg‹õs
; i++)

30 
j
 = 0; j < 4; j++)

32 
ˇãg‹y
[
i
][
j
] = 1;

35 
	}
}

40 
	gM≠Cœss
::
	$AddPoöt_M≠
(
√wPoöt
[2])

42 
öput
[4];

43 
T
[
nC©eg‹õs
];

44 
mö
[4];

45 
Æpha
 = 0.00000001;

46 
°©e
 = 0;

47 
cou¡
 = 0;

48 
jMax
 = 0;

51 
öput
[0] = 
√wPoöt
[0];

52 
öput
[1] = 
√wPoöt
[1];

55 
öput
[0] /
w‹ldSizeX
;

56 
öput
[1] /
w‹ldSizeY
;

58 
öput
[2] = 1 - input[0];

59 
öput
[3] = 1 - input[1];

63 i‡(
a˘iveNodes
 > 0)

66 
node
 = 0;Çode<
a˘iveNodes
;Çode++)

69 
i
 = 0; i<4; i++)

71 i‡(
öput
[
i
] < 
ˇãg‹y
[
node
][i])

72 
mö
[
i
] = 
öput
[i];

74 
mö
[
i
] = 
ˇãg‹y
[
node
][i];

77 
T
[
node
] = (
mö
[0]+mö[1]+mö[2]+mö[3])/(
Æpha
+
ˇãg‹y
[node][0]+category[node][1]+category[node][2]+category[node][3]);

81 
°©e
==0 && 
a˘iveNodes
-
cou¡
>0)

84 
j
=1; j<
a˘iveNodes
; j++)

86 i‡(
T
[
j
] > T[
jMax
])

88 
jMax
=
j
;

93 
i
=0; i<4; i++)

95 i‡(
ˇãg‹y
[
jMax
][
i
]<
öput
[i])

96 
mö
[
i
]=
ˇãg‹y
[
jMax
][i];

98 
mö
[
i
]=
öput
[i];

102 i‡((
mö
[0]+mö[1]+mö[2]+mö[3])/(
öput
[0]+öput[1]+öput[2]+öput[3]Ë>
rho
)

103 
°©e
=1;

106 
T
[
jMax
] = 0;

107 
cou¡
++;

112 i‡(
°©e
==1)

114 
i
 = 0; i<4; i++)

116 
ˇãg‹y
[
jMax
][
i
]=
bëa
*
mö
[i]+(1-beta)*category[jMax][i];

121 
i
 = 0; i<4; i++)

123 
ˇãg‹y
[
a˘iveNodes
][
i
]=
öput
[i];

125 
a˘iveNodes
++;

132 
a˘iveNodes
++;

134 
i
 = 0; i<4; i++)

136 
ˇãg‹y
[0][
i
] = 
öput
[i];

141 
j
=0; j<
a˘iveNodes
; j++)

143 
	`Ârötf
(
°dout
,"C©eg‹y[%i]=[%f,%f,%f,%f] \n",
j
,
ˇãg‹y
[j][0],category[j][1],category[j][2],category[j][3]);

145 
	}
}

151 
	gM≠Cœss
::
	$Ouçut
(
m≠Numbî
, 
ouçut_fûãr
, 
max_ª˘™gÀ_size
)

153 
numbî_smÆl_ª˘™gÀs
 = 0;

154 
of°ªam
 *
fout
;

155 i‡(
m≠Numbî
 == 0)

156 
fout
 = 
√w
 
	`of°ªam
("Map0.map");

157 i‡(
m≠Numbî
 == 1)

158 
fout
 = 
√w
 
	`of°ªam
("Map1.map");

159 i‡(
m≠Numbî
 == 2)

160 
fout
 = 
√w
 
	`of°ªam
("Map2.map");

161 i‡(
m≠Numbî
 == 3)

162 
fout
 = 
√w
 
	`of°ªam
("Map3.map");

164 
j
 = 0; j<
a˘iveNodes
; j++)

166 
ª˘™gÀ_size
 = 
	`Ãound
(((1-
ˇãg‹y
[
j
][2])-category[j][0])*2500+((1-category[j][3])-category[j][1])*2000);

167 i‡(
ouçut_fûãr
==1 && 
ª˘™gÀ_size
 <
max_ª˘™gÀ_size
)

169 
numbî_smÆl_ª˘™gÀs
++;

173 *
fout
 << (
a˘iveNodes
-
numbî_smÆl_ª˘™gÀs
Ë<< 
ídl
;

174 
j
=0; j<
a˘iveNodes
; j++)

176 
ª˘™gÀ_size
 = 
	`Ãound
(((1-
ˇãg‹y
[
j
][2])-category[j][0])*2500+((1-category[j][3])-category[j][1])*2000);

177 i‡(
ouçut_fûãr
==1 && 
ª˘™gÀ_size
 > 
max_ª˘™gÀ_size
)

179 *
fout
 << 
ˇãg‹y
[
j
][0] << "," << c©eg‹y[j][1] << "," << c©eg‹y[j][2] << "," << c©eg‹y[j][3] <<
ídl
;

181 i‡(
ouçut_fûãr
==0)

183 *
fout
 << 
ˇãg‹y
[
j
][0] << "," << c©eg‹y[j][1] << "," << c©eg‹y[j][2] << "," << c©eg‹y[j][3] <<
ídl
;

186 
dñëe
 
fout
;

187 
	}
}

188 
	gM≠Cœss
::
	$Ouçut
(c⁄° 
a_fûeName
[], 
ouçut_fûãr
, 
max_ª˘™gÀ_size
)

190 
numbî_smÆl_ª˘™gÀs
 = 0;

191 
of°ªam
 *
fout
;

193 
fout
 = 
√w
 
	`of°ªam
(
a_fûeName
);

195 
j
 = 0; j<
a˘iveNodes
; j++)

197 
ª˘™gÀ_size
 = 
	`Ãound
(((1-
ˇãg‹y
[
j
][2])-category[j][0])*2500+((1-category[j][3])-category[j][1])*2000);

198 i‡(
ouçut_fûãr
==1 && 
ª˘™gÀ_size
 <
max_ª˘™gÀ_size
)

200 
numbî_smÆl_ª˘™gÀs
++;

204 *
fout
 << (
a˘iveNodes
-
numbî_smÆl_ª˘™gÀs
Ë<< 
ídl
;

205 
j
=0; j<
a˘iveNodes
; j++)

207 
ª˘™gÀ_size
 = 
	`Ãound
(((1-
ˇãg‹y
[
j
][2])-category[j][0])*2500+((1-category[j][3])-category[j][1])*2000);

208 i‡(
ouçut_fûãr
==1 && 
ª˘™gÀ_size
 > 
max_ª˘™gÀ_size
)

210 *
fout
 << 
ˇãg‹y
[
j
][0] << "," << c©eg‹y[j][1] << "," << c©eg‹y[j][2] << "," << c©eg‹y[j][3] <<
ídl
;

212 i‡(
ouçut_fûãr
==0)

214 *
fout
 << 
ˇãg‹y
[
j
][0] << "," << c©eg‹y[j][1] << "," << c©eg‹y[j][2] << "," << c©eg‹y[j][3] <<
ídl
;

217 
dñëe
 
fout
;

218 
	}
}

225 
	gM≠Cœss
::
	$CÀ™_M≠
(
posôi⁄
[2], 
ødius
)

227 
öput
[4];

228 
ødiusN‹mÆizedX
;

229 
ødiusN‹mÆizedY
;

230 
boﬁ
 
checkU
;

231 
boﬁ
 
checkV
;

232 
boﬁ
 
checkC‹√r
;

235 
öput
[0] = 
posôi⁄
[0];

236 
öput
[1] = 
posôi⁄
[1];

239 
öput
[0] /
w‹ldSizeX
;

240 
öput
[1] /
w‹ldSizeY
;

242 
öput
[2] = 1 - input[0];

243 
öput
[3] = 1 - input[1];

246 
ødiusN‹mÆizedX
 = 
ødius
 / 
w‹ldSizeX
;

247 
ødiusN‹mÆizedY
 = 
ødius
 / 
w‹ldSizeY
;

251 i‡(
öput
[0] - 
ødiusN‹mÆizedX
 >= 0)

252 
öput
[0] -
ødiusN‹mÆizedX
;

254 
öput
[0] = 0;

256 i‡(
öput
[1] - 
ødiusN‹mÆizedY
 >= 0)

257 
öput
[1] -
ødiusN‹mÆizedY
;

259 
öput
[1] = 0;

261 i‡(
öput
[2] - 
ødiusN‹mÆizedX
 >=0)

262 
öput
[2] -
ødiusN‹mÆizedX
;

264 
öput
[2] = 0;

266 i‡(
öput
[3] - 
ødiusN‹mÆizedY
 >=0)

267 
öput
[3] -
ødiusN‹mÆizedY
;

269 
öput
[3] = 0;

274 
j
 = 0; j < 
a˘iveNodes
; j++)

277 
u_j1
 = 
ˇãg‹y
[
j
][0];

278 
u_j2
 = 
ˇãg‹y
[
j
][1];

279 
v_j1
 = 1 - 
ˇãg‹y
[
j
][2];

280 
v_j2
 = 1 - 
ˇãg‹y
[
j
][3];

282 
u_p1
 = 
öput
[0];

283 
u_p2
 = 
öput
[1];

284 
v_p1
 = 1 - 
öput
[2];

285 
v_p2
 = 1 - 
öput
[3];

288 
checkU
 = (
u_j1
 < 
v_p1
Ë&& (u_j1 > 
u_p1
Ë&& (
u_j2
 < 
v_p2
Ë&& (u_j2 > 
u_p2
);

290 
checkV
 = (
v_j1
 > 
u_p1
Ë&& (v_j1 < 
v_p1
Ë&& (
v_j2
 > 
u_p2
Ë&& (v_j2 < 
v_p2
);

292 
checkC‹√r
 = ((
v_j2
 > 
u_p2
Ë&& (
u_j1
 < 
v_p1
Ë&& (
v_j1
 > v_p1Ë&& (
u_j2
 < u_p2)Ë|| ((v_j1 > 
u_p1
Ë&& (u_j2 < 
v_p2
) && (v_j2 > v_p2) && (u_j1 < u_p2));

296 i‡((
checkU
 || 
checkV
 || 
checkC‹√r
Ë=
Ál£
)

298 
	`Ârötf
(
°dout
,"ˇãg‹y %òmu° bêîa£d \¿", 
j
);

300 
a˘iveNodes
--;

302 
i
 = 0; i < 4; i++)

304 
ˇãg‹y
[
j
][
i
] = c©eg‹y[
a˘iveNodes
][i];

305 
ˇãg‹y
[
a˘iveNodes
][
i
] = 1;

308 
j
--;

314 
	}
}

	@processors/mapper/MapClass.h

15 #i‚de‡
MAPCLASS_H_INCLUDED


16 
	#MAPCLASS_H_INCLUDED


	)

18 
	~<°dio.h
>

19 
	~<m©h.h
>

20 
	~"../../comm⁄/CDA/m≠≥rD©aAªa.h
"

24 
	~<f°ªam
>

25 
	~<°rög
>

26 
	~<uni°d.h
>

27 
	~<sys/shm.h
>

30 
usög
 
	g°d
::
if°ªam
;

31 
usög
 
	g°d
::
of°ªam
;

32 
usög
 
	g°d
::
ídl
;

35 ˛as†
	cM≠Cœss


37 
	m¥iv©e
:

38 
w‹ldSizeX
;

39 
	mw‹ldSizeY
;

40 
	mÆpha
;

41 
	mbëa
;

42 
	mrho
;

44 
	mpublic
:

46 
M≠Cœss
(
a
, 
b
, 
c
, 
d
);

50 
	mˇãg‹y
[
nC©eg‹õs
][4];

51 
	ma˘iveNodes
;

53 
AddPoöt_M≠
([2]);

54 
CÀ™_M≠
([2], );

55 
Ouçut
(,,);

56 
Ouçut
(c⁄° 
a_fûeName
[],,);

	@processors/mapper/mapper.cpp

15 
	~"m≠≥r.h
"

18 
	#pi
 3.14159265

	)

21 
	#iPoöt_1
 170

22 
	#iPoöt_2
 10

23 

	)

24 
	#wRoom
 2500

	)

25 
	#hRoom
 2000

	)

32 
	gM≠≥rPro˚ss‹
::
	$öô
()

34 
pExecutive
 = (
ExecutiveD©a
 *)
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

35 
pM≠≥r
 = (
M≠≥rD©a
 *)
cda
.
	`gëMemPå
(
MAPPER_AREA
);

36 
pClo£Nav
 = (
Clo£NavD©a
 *)
cda
.
	`gëMemPå
(
CLOSE_NAV_AREA
);

38 
pCål
 = &(
pM≠≥r
->
˘æ
);

39 
£m_¨ó
 = 
MAPPER_AREA
;

44 
cda
.
	`lockAªa
(
MAPPER_AREA
);

45 
pM≠≥r
->
room_width
 = 
wRoom
;

46 
pM≠≥r
->
room_height
 = 
hRoom
;

47 
pM≠≥r
->
a˘iveNodes
 = 0;

48 
pM≠≥r
->
m≠pög_Êag
 = 
Ál£
;

50 
i
=0; i<
nC©eg‹õs
; i++)

52 
j
=0; j<4; j++)

54 
pM≠≥r
->
ˇãg‹õs
[
i
][
j
]=1;

57 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

61 
ÊexM≠_1
 = 
√w
 
	`M≠Cœss
(2500,2000,1,0.91);

62 
ÊexM≠_2
 = 
√w
 
	`M≠Cœss
(2500,2000,1,0.91);

63 
ÊexM≠_3
 = 
√w
 
	`M≠Cœss
(2500,2000,1,0.95);

65 
megaM≠_1
 = 
√w
 
	`M≠Cœss
(2500,2000,1,0.6);

66 
megaM≠_2
 = 
√w
 
	`M≠Cœss
(2500,2000,1,0.6);

68 
ötM≠
 = 
√w
 
	`M≠Cœss
(2500,2000,1,0.95);

72 
C⁄figFûe
 
	`c⁄fig
( "config/mapper.conf" );

73 
mode
;

74 
°rög
 
deÁu…_öput_fûe
 = "FART.map";

75 
°rög
 
deÁu…_ouçut_fûe
 = "outputMap.map";

77 
c⁄fig
.
	`ªadI¡o
–
mode
, "mode", 1 );

78 
c⁄fig
.
	`ªadI¡o
–
öput_m≠
, "öput_fûe", 
deÁu…_öput_fûe
);

79 
c⁄fig
.
	`ªadI¡o
–
m≠pög_mode
, "mapping_mode", 0);

80 
c⁄fig
.
	`ªadI¡o
–
ouçut_m≠
 , "ouçut_fûe", 
deÁu…_ouçut_fûe
);

81 
c⁄fig
.
	`ªadI¡o
–
max_ª˘™gÀ_size
 , "max_rectangle_size", 80);

82 
c⁄fig
.
	`ªadI¡o
–
ouçut_fûãr
 , "output_filter", 0);

85 i‡–
mode
 > 2 || mode < 0)

86 
mode
 = 0;

88 i‡(
mode
 == 2)

89 
m≠pög
 = 
Ál£
;

91 
m≠pög
 = 
åue
;

93 i‡(
mode
 == 1 || mode == 2)

102 
if°ªam
 
	`fi
(
öput_m≠
.
	`c_°r
(), if°ªam::
ö
);

103 
löe
[40];

104 
t_a˘ive
;

106 
fi
 >> 
löe
;

107 
	`ssˇnf
(
löe
,"%d",&
t_a˘ive
);

109 
cda
.
	`lockAªa
(
MAPPER_AREA
);

110 
pM≠≥r
->
a˘iveNodes
 = 
t_a˘ive
;

111 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

112 
ötM≠
->
a˘iveNodes
 = 
t_a˘ive
;

114 
i
=0; i<
t_a˘ive
; i++)

116 
fi
 >> 
löe
;

118 
cda
.
	`lockAªa
(
MAPPER_AREA
);

119 
	`ssˇnf
(
löe
,"%f,%f,%f,%f", &
pM≠≥r
->
ˇãg‹õs
[
i
][0], &pMapper->categories[i][1], &pMapper->categories[i][2], &pMapper->categories[i][3]);

120 
ötM≠
->
ˇãg‹y
[
i
][0] = 
pM≠≥r
->
ˇãg‹õs
[i][0];

121 
ötM≠
->
ˇãg‹y
[
i
][1] = 
pM≠≥r
->
ˇãg‹õs
[i][1];

122 
ötM≠
->
ˇãg‹y
[
i
][2] = 
pM≠≥r
->
ˇãg‹õs
[i][2];

123 
ötM≠
->
ˇãg‹y
[
i
][3] = 
pM≠≥r
->
ˇãg‹õs
[i][3];

124 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

126 
fi
.
	`˛o£
();

131 i‡(
m≠pög_mode
 == 2)

132 
˛assicM≠
 = 
√w
 
	`M≠Cœss
(2500,2000,1,0.95);

134 
	}
}

139 
	gM≠≥rPro˚ss‹
::
	$°ï
()

141 
poötOfOrigö
[2]={0,0};

142 i‡(
pM≠≥r
->
m≠pög_Êag
 =
åue
)

144 i‡(
m≠pög
)

146 
posôi⁄
[2]={
pExecutive
->
cuºít_X
,pExecutive->
cuºít_Y
};

147 
	`Ârötf
(
°dout
,"Mappingárea...\n");

150 
	`obèöPoöts
(
≥r˚±i⁄VÆues
,
pExecutive
);

151 
	`Ârötf
(
°dout
,"I≈uàVe˘‹: \¿S0_x: %d, S1_x: %d, S2_x: %d, S3_x: %d, S4_x: %d \n", 
≥r˚±i⁄VÆues
[0][0],ÖerceptionValues[1][0],ÖerceptionValues[2][0],ÖerceptionValues[3][0],ÖerceptionValues[4][0]);

152 
	`Ârötf
(
°dout
,"S0_y: %d, S1_y: %d, S2_y: %d, S3_y: %d, S4_y: %d \n", 
≥r˚±i⁄VÆues
[0][1],ÖerceptionValues[1][1],ÖerceptionValues[2][1],ÖerceptionValues[3][1],ÖerceptionValues[4][1]);

154 
	`Add_I¡M≠
(
≥r˚±i⁄VÆues
);

155 
	`Add_FÀxM≠
(
≥r˚±i⁄VÆues
);

157 i‡(
m≠pög_mode
 == 0 || mapping_mode == 2)

159 
	`Add_FÀxM≠
(
≥r˚±i⁄VÆues
);

161 
	`Upd©eC©eg‹õs
(
ÊexM≠_1
);

162 
	`Upd©eC©eg‹õs
(
ÊexM≠_2
);

163 
	`Upd©eC©eg‹õs
(
ÊexM≠_3
);

164 
	`Upd©eC©eg‹õs
(
megaM≠_1
);

165 
	`Upd©eC©eg‹õs
(
megaM≠_2
);

168 
ÊexM≠_1
->
	`CÀ™_M≠
(
posôi⁄
,250);

169 
ÊexM≠_2
->
	`CÀ™_M≠
(
posôi⁄
,250);

170 
ÊexM≠_3
->
	`CÀ™_M≠
(
posôi⁄
,250);

171 
megaM≠_1
->
	`CÀ™_M≠
(
poötOfOrigö
,0);

172 
megaM≠_2
->
	`CÀ™_M≠
(
poötOfOrigö
,0);

175 
	`Upd©eC©eg‹õs
(
ÊexM≠_1
);

176 
	`Upd©eC©eg‹õs
(
ÊexM≠_2
);

177 
	`Upd©eC©eg‹õs
(
ÊexM≠_3
);

178 
	`Upd©eC©eg‹õs
(
megaM≠_1
);

179 
	`Upd©eC©eg‹õs
(
megaM≠_2
);

181 
ötM≠
->
	`Ouçut
(
ouçut_m≠
.
	`c_°r
(), 
ouçut_fûãr
, 
max_ª˘™gÀ_size
);

182 i‡(
m≠pög_mode
 == 2)

183 
˛assicM≠
->
	`Ouçut
(1, 
ouçut_fûãr
, 
max_ª˘™gÀ_size
);

187 
cda
.
	`lockAªa
(
MAPPER_AREA
);

188 
i
=0; i<
ötM≠
->
a˘iveNodes
; i++)

190 
j
=0; j<4; j++)

192 
pM≠≥r
->
ˇãg‹õs
[
i
][
j
]=
ötM≠
->
ˇãg‹y
[i][j];

195 i‡(
pM≠≥r
->
a˘iveNodes
>
ötM≠
->activeNodes)

198 
k
=
pM≠≥r
->
a˘iveNodes
; k < 
ötM≠
->activeNodes; k++)

200 
j
=0; j<4; j++)

202 
pM≠≥r
->
ˇãg‹õs
[
k
][
j
]=1;

207 
pM≠≥r
->
a˘iveNodes
=
ötM≠
->activeNodes;

209 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

212 
cda
.
	`lockAªa
(
MAPPER_AREA
);

213 
pM≠≥r
->
m≠pög_Êag
 = 
Ál£
;

214 
cda
.
	`u∆ockAªa
(
MAPPER_AREA
);

216 
	`u¶ìp
(500);

219 
	}
}

221 
	gM≠≥rPro˚ss‹
::
	$˛ónup
()

224 
dñëe
 
ötM≠
;

225 
dñëe
 
ÊexM≠_1
;

226 
dñëe
 
ÊexM≠_2
;

227 
dñëe
 
ÊexM≠_3
;

228 
dñëe
 
megaM≠_1
;

229 
dñëe
 
megaM≠_2
;

231 
	}
}

236 
	gM≠≥rPro˚ss‹
::
	$obèöPoöts
(
ªÆW‹ldPoöts
[5][2], 
ExecutiveD©a
 *
pExecutive
)

239 
£ns‹Di°™˚
[5];

240 
robŸPoöts
[2];

241 
ãmp
[2];

242 
exec_adc
[5];

243 
£ns‹Numbî
;

244 
posX
;

245 
posY
;

246 
‹õ¡©i⁄
;

249 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

250 
posX
=
pExecutive
->
cuºít_X
;

251 
posY
=
pExecutive
->
cuºít_Y
;

252 
‹õ¡©i⁄
=
pExecutive
->
cuºít_‹õ¡©i⁄
;

253 
i
=0;i<5;i++)

255 
exec_adc
[
i
]=
pExecutive
->exec_adc[i];

257 
	`Ârötf
(
°dout
,"0: %f, 1: %f, 2: %f, 3: %f, 4: %‡\n", 
exec_adc
[0],Éxec_adc[1],Éxec_adc[2],Éxec_adc[3],Éxec_adc[4]);

258 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

261 
i
 = 0; i < 5; i++)

265 i‡(
exec_adc
[
i
]<0.6)

267 
£ns‹Di°™˚
[
i
]=
	`ad≠tMósuªmít
(
exec_adc
[i]);

268 
£ns‹Numbî
=
i
;

271 
£ns‹Numbî
=-1;

274 
£ns‹Numbî
)

278 
robŸPoöts
[0]=-1;

279 
robŸPoöts
[1]=-1;

283 
robŸPoöts
[0]=108;

284 
robŸPoöts
[1]=(
£ns‹Di°™˚
[
i
]+73);

287 
robŸPoöts
[0]=108+8+
	`Ãound
((
£ns‹Di°™˚
[
i
]+75)*
	`cos
(49*
pi
/180));

288 
robŸPoöts
[1]=
	`Ãound
((
£ns‹Di°™˚
[
i
]+75)*
	`sö
(49*
pi
/180));

291 
robŸPoöts
[0]=108+8+
	`Ãound
(
£ns‹Di°™˚
[
i
]+76);

292 
robŸPoöts
[1]=
	`Ãound
((
£ns‹Di°™˚
[
i
]+76)*
	`sö
(1*
pi
/180));

295 
robŸPoöts
[0]=108+8+
	`Ãound
((
£ns‹Di°™˚
[
i
]+75)*
	`cos
(45*
pi
/180));

296 
robŸPoöts
[1]=-1*
	`Ãound
((
£ns‹Di°™˚
[
i
]+75)*
	`sö
(45*
pi
/180));

299 
robŸPoöts
[0]=108;

300 
robŸPoöts
[1]=-1*(
£ns‹Di°™˚
[
i
]+73);

309 if(
robŸPoöts
[0] != -1 &&ÑobotPoints[1] != -1)

311 i‡(
‹õ¡©i⁄
<=180)

313 
ãmp
[0]=
	`Ãound
((
robŸPoöts
[0]*
	`cos
(-1*
‹õ¡©i⁄
*
pi
/180))+‘obŸPoöts[1]*
	`sö
(-1*orientation*pi/180)));

314 
ãmp
[1]=
	`Ãound
((-1*
robŸPoöts
[0]*
	`sö
(-1*
‹õ¡©i⁄
*
pi
/180))+‘obŸPoöts[1]*
	`cos
(-1*orientation*pi/180)));

318 
ãmp
[0]=
	`Ãound
((
robŸPoöts
[0]*
	`cos
((360-
‹õ¡©i⁄
)*
pi
/180))+‘obŸPoöts[1]*
	`sö
((360-orientation)*pi/180)));

319 
ãmp
[1]=
	`Ãound
((-1*
robŸPoöts
[0]*
	`sö
((360-
‹õ¡©i⁄
)*
pi
/180))+‘obŸPoöts[1]*
	`cos
((360-orientation)*pi/180)));

322 
ªÆW‹ldPoöts
[
i
][0]=
posX
+
ãmp
[0];

323 
ªÆW‹ldPoöts
[
i
][1]=
posY
+
ãmp
[1];

326 if(
ªÆW‹ldPoöts
[
i
][0] < 0)

327 
ªÆW‹ldPoöts
[
i
][0]=0;

329 if(
ªÆW‹ldPoöts
[
i
][0] > 
wRoom
)

330 
ªÆW‹ldPoöts
[
i
][0]=
wRoom
;

332 if(
ªÆW‹ldPoöts
[
i
][1] < 0)

333 
ªÆW‹ldPoöts
[
i
][1]=0;

335 if(
ªÆW‹ldPoöts
[
i
][1] > 
hRoom
)

336 
ªÆW‹ldPoöts
[
i
][1]=
hRoom
;

340 
ªÆW‹ldPoöts
[
i
][0] = -1;

341 
ªÆW‹ldPoöts
[
i
][1] = -1;

346 
	}
}

351 
	gM≠≥rPro˚ss‹
::
	$Add_I¡M≠
(
öput
[5][2])

353 
i
 = 0; i < 5; i++)

355 i‡(
öput
[
i
][0] != -1 && input[i][1] != -1)

357 
ötM≠
->
	`AddPoöt_M≠
(
öput
[
i
]);

358 i‡(
m≠pög_mode
 == 2)

359 
˛assicM≠
->
	`AddPoöt_M≠
(
öput
[
i
]);

362 
	}
}

368 
	gM≠≥rPro˚ss‹
::
	$Add_FÀxM≠
(
öput
[5][2])

370 
ö£πi⁄Poöts_w‹ld
[2][2];

371 
ö£πi⁄Poöts_robŸ
[2][2];

372 
robŸ_Posôi⁄_X
;

373 
robŸ_Posôi⁄_Y
;

374 
robŸ_Orõ¡©i⁄
;

376 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

377 
robŸ_Posôi⁄_X
=
pExecutive
->
cuºít_X
;

378 
robŸ_Posôi⁄_Y
=
pExecutive
->
cuºít_Y
;

379 
robŸ_Orõ¡©i⁄
=
pExecutive
->
cuºít_‹õ¡©i⁄
;

380 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

382 
i
 = 0; i < 5; i++)

384 i‡(
öput
[
i
][0] == -1 && input[i][1] == -1)

387 
i
)

391 
ö£πi⁄Poöts_robŸ
[0][0]=108;

392 
ö£πi⁄Poöts_robŸ
[0][1]=(
iPoöt_1
+73);

394 
ö£πi⁄Poöts_robŸ
[1][0]=108;

395 
ö£πi⁄Poöts_robŸ
[1][1]=(
iPoöt_2
+73);

400 
ö£πi⁄Poöts_robŸ
[0][0]=108+8+
	`Ãound
((
iPoöt_1
+75)*
	`cos
(49*
pi
/180));

401 
ö£πi⁄Poöts_robŸ
[0][1]=
	`Ãound
((
iPoöt_1
+75)*
	`sö
(49*
pi
/180));

403 
ö£πi⁄Poöts_robŸ
[1][0]=108+8+
	`Ãound
((
iPoöt_2
+75)*
	`cos
(49*
pi
/180));

404 
ö£πi⁄Poöts_robŸ
[1][1]=
	`Ãound
((
iPoöt_2
+75)*
	`sö
(49*
pi
/180));

409 
ö£πi⁄Poöts_robŸ
[0][0]=108+8+
	`Ãound
(
iPoöt_1
+76);

410 
ö£πi⁄Poöts_robŸ
[0][1]=
	`Ãound
((
iPoöt_1
+76)*
	`sö
(1*
pi
/180))+20;

412 
ö£πi⁄Poöts_robŸ
[1][0]=108+8+
	`Ãound
(
iPoöt_2
+76);

413 
ö£πi⁄Poöts_robŸ
[1][1]=
	`Ãound
((
iPoöt_2
+76)*
	`sö
(1*
pi
/180))-20;

418 
ö£πi⁄Poöts_robŸ
[0][0]=108+8+
	`Ãound
((
iPoöt_1
+75)*
	`cos
(45*
pi
/180));

419 
ö£πi⁄Poöts_robŸ
[0][1]=-1*
	`Ãound
((
iPoöt_1
+75)*
	`sö
(45*
pi
/180));

421 
ö£πi⁄Poöts_robŸ
[1][0]=108+8+
	`Ãound
((
iPoöt_2
+75)*
	`cos
(45*
pi
/180));

422 
ö£πi⁄Poöts_robŸ
[1][1]=-1*
	`Ãound
((
iPoöt_2
+75)*
	`sö
(45*
pi
/180));

427 
ö£πi⁄Poöts_robŸ
[0][0]=108;

428 
ö£πi⁄Poöts_robŸ
[0][1]=-1*(
iPoöt_1
+73);

430 
ö£πi⁄Poöts_robŸ
[1][0]=108;

431 
ö£πi⁄Poöts_robŸ
[1][1]=-1*(
iPoöt_2
+73);

436 
j
 = 0; j < 2; j++)

438 i‡(
robŸ_Orõ¡©i⁄
 <= 180)

440 
ö£πi⁄Poöts_w‹ld
[
j
][0]=
	`Ãound
(((
ö£πi⁄Poöts_robŸ
[j][0]*
	`cos
(-1*
robŸ_Orõ¡©i⁄
*
pi
/180))+(ö£πi⁄Poöts_robŸ[j][1]*
	`sö
(-1*robŸ_Orõ¡©i⁄*pi/180))Ë+ 
robŸ_Posôi⁄_X
);

441 
ö£πi⁄Poöts_w‹ld
[
j
][1]=
	`Ãound
(((-1*
ö£πi⁄Poöts_robŸ
[j][0]*
	`sö
(-1*
robŸ_Orõ¡©i⁄
*
pi
/180))+(ö£πi⁄Poöts_robŸ[j][1]*
	`cos
(-1*robŸ_Orõ¡©i⁄*pi/180))Ë+ 
robŸ_Posôi⁄_Y
);

445 
ö£πi⁄Poöts_w‹ld
[
j
][0]=
	`Ãound
(((
ö£πi⁄Poöts_robŸ
[j][0]*
	`cos
((360-
robŸ_Orõ¡©i⁄
)*
pi
/180))+(ö£πi⁄Poöts_robŸ[j][1]*
	`sö
((360-robŸ_Orõ¡©i⁄)*pi/180))Ë+ 
robŸ_Posôi⁄_X
);

446 
ö£πi⁄Poöts_w‹ld
[
j
][1]=
	`Ãound
(((-1*
ö£πi⁄Poöts_robŸ
[j][0]*
	`sö
((360-
robŸ_Orõ¡©i⁄
)*
pi
/180))+(ö£πi⁄Poöts_robŸ[j][1]*
	`cos
((360-robŸ_Orõ¡©i⁄)*pi/180))Ë+ 
robŸ_Posôi⁄_Y
);

450 i‡(
ö£πi⁄Poöts_w‹ld
[
j
][0] < 0)

451 
ö£πi⁄Poöts_w‹ld
[
j
][0] = 0;

453 i‡(
ö£πi⁄Poöts_w‹ld
[
j
][0] > 
wRoom
)

454 
ö£πi⁄Poöts_w‹ld
[
j
][0] = 
wRoom
;

457 i‡(
ö£πi⁄Poöts_w‹ld
[
j
][1] < 0)

458 
ö£πi⁄Poöts_w‹ld
[
j
][1] = 0;

460 i‡(
ö£πi⁄Poöts_w‹ld
[
j
][1] > 
hRoom
)

461 
ö£πi⁄Poöts_w‹ld
[
j
][1] = 
hRoom
;

465 
i
)

470 i‡((
öput
[0][0] == -1) && (input[0][1] == -1) && (input[1][0] == -1) && (input[1][1] == -1) && (input[2][0] != -1) && (input[2][1] != -1))

472 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

473 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

476 i‡((
öput
[0][0] == -1) && (input[0][1] == -1) && (input[1][0] == -1) && (input[1][1] == -1) && (input[2][0] == -1) && (input[2][1] == -1))

478 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

479 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

482 
ÊexM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

483 
ÊexM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

490 i‡((
öput
[0][0] == -1) && (input[0][1] == -1) && (input[1][0] == -1) && (input[1][1] == -1) && (input[2][0] != -1) && (input[2][1] != -1))

492 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

493 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

496 i‡((
öput
[0][0] == -1) && (input[0][1] == -1) && (input[1][0] == -1) && (input[1][1] == -1) && (input[2][0] == -1) && (input[2][1] == -1))

498 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

499 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

502 i‡((
öput
[0][0] != -1) && (input[0][1] != -1) && (input[1][0] == -1) && (input[1][1] == -1) && (input[2][0] == -1) && (input[2][1] == -1))

504 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

505 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

509 
ÊexM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

510 
ÊexM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

516 i‡((
öput
[0][0] == -1) && (input[0][1] == -1) && (input[1][0] == -1) && (input[1][1] == -1) && (input[2][0] == -1) && (input[2][1] == -1))

518 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

519 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

522 i‡((
öput
[0][0] != -1) && (input[0][1] != -1) && (input[1][0] == -1) && (input[1][1] == -1) && (input[2][0] == -1) && (input[2][1] == -1))

524 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

525 
megaM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

529 i‡((
öput
[2][0] == -1) && (input[2][1] == -1) && (input[3][0] == -1) && (input[3][1] == -1) && (input[4][0] != -1) && (input[4][1] != -1))

531 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

532 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

535 i‡((
öput
[2][0] == -1) && (input[2][1] == -1) && (input[3][0] == -1) && (input[3][1] == -1) && (input[4][0] == -1) && (input[4][1] == -1))

537 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

538 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

542 
ÊexM≠_3
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

543 
ÊexM≠_3
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

548 i‡((
öput
[2][0] != -1) && (input[2][1] != -1) && (input[3][0] == -1) && (input[3][1] == -1) && (input[4][0] == -1) && (input[4][1] == -1))

550 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

551 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

554 i‡((
öput
[2][0] == -1) && (input[2][1] == -1) && (input[3][0] == -1) && (input[3][1] == -1) && (input[4][0] != -1) && (input[4][1] != -1))

556 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

557 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

560 i‡((
öput
[2][0] == -1) && (input[2][1] == -1) && (input[3][0] == -1) && (input[3][1] == -1) && (input[4][0] == -1) && (input[4][1] == -1))

562 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

563 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

567 
ÊexM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

568 
ÊexM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

573 i‡((
öput
[2][0] != -1) && (input[2][1] != -1) && (input[3][0] == -1) && (input[3][1] == -1) && (input[4][0] == -1) && (input[4][1] == -1))

575 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

576 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

579 i‡((
öput
[2][0] == -1) && (input[2][1] == -1) && (input[3][0] == -1) && (input[3][1] == -1) && (input[4][0] == -1) && (input[4][1] == -1))

581 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

582 
megaM≠_2
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

586 
ÊexM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[0]);

587 
ÊexM≠_1
->
	`AddPoöt_M≠
(
ö£πi⁄Poöts_w‹ld
[1]);

592 
	}
}

601 
	gM≠≥rPro˚ss‹
::
	$Upd©eC©eg‹õs
(
M≠Cœss
 *
upd©eM≠
)

605 
ÊexCou¡î
 = 0; fÀxCou¡î < 
upd©eM≠
->
a˘iveNodes
; flexCounter++)

608 
x_1
 = 
upd©eM≠
->
ˇãg‹y
[
ÊexCou¡î
][0];

609 
x_2
 = 
upd©eM≠
->
ˇãg‹y
[
ÊexCou¡î
][1];

610 
y_1_c
 = 
upd©eM≠
->
ˇãg‹y
[
ÊexCou¡î
][2];

611 
y_2_c
 = 
upd©eM≠
->
ˇãg‹y
[
ÊexCou¡î
][3];

613 
ötCou¡î
 = 0; i¡Cou¡î < 
ötM≠
->
a˘iveNodes
; intCounter++)

616 
u_1
 = 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][0];

617 
u_2
 = 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][1];

618 
v_1_c
 = 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][2];

619 
v_2_c
 = 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][3];

623 i‡(((
x_1
 <
u_1
Ë&& (
x_2
 <
u_2
Ë&& (
y_1_c
 <
v_1_c
Ë&& (
y_2_c
 <
v_2_c
)))

625 
	`Ârötf
(
°dout
,"delete \n");

626 
ötM≠
->
a˘iveNodes
--;

628 
i
 = 0 ; i < 4; i++)

630 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][
i
] = i¡M≠->ˇãg‹y[ötM≠->
a˘iveNodes
][i];

631 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][
i
] = 1;

634 
ötCou¡î
--;

640 i‡((
x_1
 <
u_1
Ë&& (
x_2
 <
u_2
Ë&& ((1 - u_1Ë> 
y_1_c
Ë&& (y_1_¯> 
v_1_c
Ë&& (
y_2_c
 <
v_2_c
))

642 
	`Ârötf
(
°dout
,"CutÜeft side \n");

643 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][0] = 1 - 
y_1_c
;

646 i‡((
x_1
 <
u_1
Ë&& (
x_2
 <
u_2
Ë&& (
y_1_c
 <
v_1_c
Ë&& ((1 - u_2Ë> 
y_2_c
Ë&& (y_2_¯> 
v_2_c
))

648 
	`Ârötf
(
°dout
,"cutÜower side \n");

649 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][1] = 1 - 
y_2_c
;

652 i‡(((1 - 
v_1_c
Ë> 
x_1
Ë&& (x_1 > 
u_1
Ë&& (
x_2
 <
u_2
Ë&& (
y_1_c
 <v_1_cË&& (
y_2_c
 <
v_2_c
))

654 
	`Ârötf
(
°dout
,"cutÑight side");

655 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][2] = 1 - 
x_1
;

659 i‡((
x_1
 <
u_1
Ë&& ((1 - 
v_2_c
Ë> 
x_2
Ë&& (x_2 > 
u_2
Ë&& (
y_1_c
 <
v_1_c
Ë&& (
y_2_c
 <= v_2_c))

661 
	`Ârötf
(
°dout
,"cut upper side \n");

662 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][3] = 1 - 
x_2
;

667 i‡((
x_1
 > 
u_1
Ë&& (
x_2
 < 
u_2
Ë&& (
y_1_c
 > 
v_1_c
Ë&& (
y_2_c
 < 
v_2_c
))

669 
	`Ârötf
(
°dout
,"divide vertically \n");

671 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][0] = 1 - 
y_1_c
;

672 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][1] = 
u_2
;

673 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][2] = 
v_1_c
;

674 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][3] = 
v_2_c
;

677 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][2] = 1 - 
x_1
;

678 
ötM≠
->
a˘iveNodes
++;

681 i‡((
x_1
 < 
u_1
Ë&& (
x_2
 > 
u_2
Ë&& (
y_1_c
 < 
v_1_c
Ë&& (
y_2_c
 > 
v_2_c
))

683 
	`Ârötf
(
°dout
,"divide horizontally \n");

685 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][0] = 
u_1
;

686 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][1] = 1 - 
y_2_c
;

687 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][2] = 
v_1_c
;

688 
ötM≠
->
ˇãg‹y
[ötM≠->
a˘iveNodes
][3] = 
v_2_c
;

691 
ötM≠
->
ˇãg‹y
[
ötCou¡î
][3] = 1 - 
x_2
;

692 
ötM≠
->
a˘iveNodes
++;

696 
	}
}

701 
	gM≠≥rPro˚ss‹
::
	$ad≠tMósuªmít
(
mósuªmít
)

703 
ªsu…
=
	`Ãound
(((36*
mósuªmít
)+4)*10);

704  
ªsu…
;

705 
	}
}

713 
	$maö
()

715 
	`Ârötf
(
°dout
, "\nIRMA2: Mapper Process \n");

716 
M≠≥rPro˚ss‹
 
m≠
;

717 
m≠
.
	`execuã
();

720 
	}
}

	@processors/mapper/mapper.h

15 #i‚de‡
DYNMAPPER_H_INCLUDED


16 
	#DYNMAPPER_H_INCLUDED


	)

18 
	~<°dio.h
>

19 
	~<m©h.h
>

20 
	~"M≠Cœss.h
"

21 
	~"../ba£/¥o˚ss‹.h
"

22 
	~<uni°d.h
>

23 
	~<sys/shm.h
>

24 
	~"../../comm⁄/c⁄figFûe/c⁄figFûe.h
"

26 ˛as†
	cM≠≥rPro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚


28 
¥iv©e
:

30 
ExecutiveD©a
 *
pExecutive
;

31 
M≠≥rD©a
 *
	mpM≠≥r
;

32 
Clo£NavD©a
 *
	mpClo£Nav
;

35 
	m≥r˚±i⁄VÆues
[5][2];

38 
M≠Cœss
 *
	mÊexM≠_1
;

39 
M≠Cœss
 *
	mÊexM≠_2
;

40 
M≠Cœss
 *
	mÊexM≠_3
;

41 
M≠Cœss
 *
	mmegaM≠_1
;

42 
M≠Cœss
 *
	mmegaM≠_2
;

44 
M≠Cœss
 *
	mötM≠
;

45 
M≠Cœss
 *
	m˛assicM≠
;

48 
boﬁ
 
	mm≠pög
;

49 
boﬁ
 
ßveC©eg‹õs
();

50 
	mm≠pög_mode
;

51 
°rög
 
	mouçut_m≠
;

52 
°rög
 
	möput_m≠
;

53 
	mmax_ª˘™gÀ_size
;

54 
	mouçut_fûãr
;

56 
	mpublic
:

58 
	$M≠≥rPro˚ss‹
(Ë: 
	$Pro˚ss‹I¡îÁ˚
()

63 
	`öô
();

64 
	`°ï
();

65 
	`˛ónup
();

67 
	`M≠≥rExecutive
();

68 
	`Upd©eC©eg‹õs
(
M≠Cœss
*);

69 
	`ad≠tMósuªmít
();

70 
	`obèöPoöts
([5][2], 
ExecutiveD©a
*);

71 
	`Add_I¡M≠
([5][2]);

72 
	`Add_FÀxM≠
([5][2]);

74 
	}
};

	@processors/monitor/monitor.cpp

37 
	~"m⁄ô‹.h
"

46 
	gM⁄ô‹Pro˚ss‹
::
	$öô
() {

47 
pCDAClo£Nav
 = (
Clo£NavD©a
 *Ë
cda
.
	`gëMemPå
(
CLOSE_NAV_AREA
);

48 
pCDAL⁄gNav
 = (
L⁄gNavD©a
 *Ë
cda
.
	`gëMemPå
(
LONG_NAV_AREA
);

49 
pCDAFótuªNav
 = (
FótuªNavD©a
 *Ë
cda
.
	`gëMemPå
(
FEATURE_NAV_AREA
);

50 
pCDAExecutive
 = (
ExecutiveD©a
 *Ë
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

51 
pCDAM⁄ô‹
 = (
M⁄ô‹D©a
 *Ë
cda
.
	`gëMemPå
(
MONITOR_AREA
);

53 
pCål
 = &(
pCDAL⁄gNav
->
˘æ
);

54 
£m_¨ó
 = 
LONG_NAV_AREA
;

57 
pCål
->
lo›
 = 
run_cmd
;

59 
cda
.
	`lockAªa
(
CLOSE_NAV_AREA
);

60 
pCDAClo£Nav
->
¸n_move_ªady_Êag
 = 
Ál£
;

61 
cda
.
	`u∆ockAªa
(
CLOSE_NAV_AREA
);

63 
missi⁄_accom∂ished_Êag
 = 
Ál£
;

64 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

65 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
 = 
Ál£
;

66 
pCDAL⁄gNav
->
Ãn_missi⁄_accom∂ished
 = 
missi⁄_accom∂ished_Êag
;

67 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

69 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

70 
pCDAFótuªNav
->
‚_move_ªady_Êag
 = 
Ál£
;

71 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

73 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

74 
pCDAExecutive
->
exec_move_ªady_Êag
 = 
åue
;

75 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

80 
C⁄figFûe
 
	`c⁄fig
("./config/monitor.conf");

82 
c⁄fig
.
	`ªadI¡o
(
MAX_CLOSE_RANGE_HYSTERESIS
, "MAX_CLOSE_RANGE_HYSTERESIS", 10);

83 
c⁄fig
.
	`ªadI¡o
(
¶ìp_time
, "MICRO_SEC_SLEEP", 5000);

84 
c⁄fig
.
	`ªadI¡o
(
max_°ïs_ƒ
, "MAX_STEPS_NUMBER", 400);

86 
c⁄fig
.
ªadI¡o
<
boﬁ
>(
°©us_CRN
, "CRN", 
ON
);

87 
c⁄fig
.
ªadI¡o
<
boﬁ
>(
°©us_LRN
, "LRN", 
ON
);

88 
c⁄fig
.
ªadI¡o
<
boﬁ
>(
°©us_FN
, "FN", 
OFF
);

90 i‡((
°©us_CRN
 =
OFF
Ë&& (
°©us_LRN
 =OFF)Ë°©us_CRN = 
ON
;

92 
	`Ârötf
(
°dout
, "\nConfig fileÑeaded:");

93 
	`Ârötf
(
°dout
, "\tMAX_CLOSE_RANGE_HYSTERESIS: %d", 
MAX_CLOSE_RANGE_HYSTERESIS
);

94 
	`Ârötf
(
°dout
, "\tMAX_STEPS_NUMBER: %d", 
max_°ïs_ƒ
);

95 
	`Ârötf
(
°dout
, "\àCRN=%d ,LRN=%d, FN=%d\n", 
°©us_CRN
, 
°©us_LRN
, 
°©us_FN
);

101 
cuºít_«v
 = 
LRN
;

102 
cda
.
	`lockAªa
(
MONITOR_AREA
);

103 
pCDAM⁄ô‹
->
m⁄ô‹_cuºít_«v
 = 
cuºít_«v
;

104 
cda
.
	`u∆ockAªa
(
MONITOR_AREA
);

106 
	`¥ötf
("Initial Navigator: ");

107 i‡(
cuºít_«v
 =
LRN
Ë
	`¥ötf
("LRN\n");

108 i‡(
cuºít_«v
 =
CRN
Ë
	`¥ötf
("CRN\n");

110 
exec_‹_«v
 = 
NAV
;

111 
	`¥ötf
("listening forÇavigator...\n");

113 
num_°ïs
 = 0;

114 
execuã_ªady_Êag
 = 
Ál£
;

115 
Êag_‚
 = 
Ál£
;

118 
	}
}

123 
	gM⁄ô‹Pro˚ss‹
::
	$˛ónup
() {

125 
	}
}

130 
	gM⁄ô‹Pro˚ss‹
::
	$°ï
() {

131 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

132 
execuã_ªady_Êag
 = 
pCDAExecutive
->
exec_ªady_Êag
;

133 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

135 i‡((
num_°ïs
 < 
max_°ïs_ƒ
Ë&& (!
missi⁄_accom∂ished_Êag
Ë&& (
execuã_ªady_Êag
)) {

136 
	`upd©eV¨übÀs
();

137 
	`£tNavig©i⁄Mode
();

138 
	`upd©eExecutiveD©a
();

140 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

141 
missi⁄_accom∂ished_Êag
 = 
pCDAL⁄gNav
->
Ãn_missi⁄_accom∂ished
;

142 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

144 i‡(
missi⁄_accom∂ished_Êag
) {

145 
	`Ârötf
(
°dout
, "\n********************************************************\n");

146 
	`Ârötf
(
°dout
, "MONITOR: EXPERIMENT WAS COMPLETED - LONG RANGE NAVIGATOR\n");

147 
	`Ârötf
(
°dout
, "MONITOR: PLEASE RESTART PROCESSES\n");

148 
	`Ârötf
(
°dout
, "********************************************************\n\n");

150 } i‡(
num_°ïs
 >
max_°ïs_ƒ
) {

151 
cda
.
	`lockAªa
(
CLOSE_NAV_AREA
);

152 
pCDAClo£Nav
->
˘æ
.
lo›
 = 
°›_cmd
;

153 
cda
.
	`u∆ockAªa
(
CLOSE_NAV_AREA
);

155 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

156 
pCDAL⁄gNav
->
˘æ
.
lo›
 = 
°›_cmd
;

157 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

159 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

160 
pCDAFótuªNav
->
˘æ
.
lo›
 = 
°›_cmd
;

161 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

163 
	`Ârötf
(
°dout
, "\n**********************************************************************\n");

164 
	`Ârötf
(
°dout
, "MONITOR: EXPERIMENT WAS COMPLETED - MAX NUMBER OF STEPS REACHED\n");

165 
	`Ârötf
(
°dout
, "MONITOR: PLEASE RESTART PROCESSES\n");

166 
	`Ârötf
(
°dout
, "**********************************************************************\n\n");

169 
	`u¶ìp
(
¶ìp_time
);

200 
	}
}

205 
	gM⁄ô‹Pro˚ss‹
::
	$upd©eV¨übÀs
() {

206 
hy°îesis_Êag
 = (
hy°îesis_CRN_°ïs
 > 
MAX_CLOSE_RANGE_HYSTERESIS
);

207 
cda
.
	`lockAªa
(
MONITOR_AREA
);

208 
pCDAM⁄ô‹
->
m⁄ô‹_hy°îesis
 = 
hy°îesis_Êag
;

209 
cda
.
	`u∆ockAªa
(
MONITOR_AREA
);

211 
cﬁlisi⁄_Êag
 = 
	`checkSís‹s
();

212 
Êag_‚
 = 
	`checkFœgFN
();

217 
	}
}

222 
	gM⁄ô‹Pro˚ss‹
::
	$£tNavig©i⁄Mode
() {

223 
ﬁd_«v
 = 
cuºít_«v
;

225 i‡(
ﬁd_«v
 =
CRN
) {

226 i‡(
°©us_LRN
 =
ON
 && 
hy°îesis_Êag
 && !
cﬁlisi⁄_Êag
 && !
Êag_‚
) {

227 
cuºít_«v
 = 
LRN
;

228 
	`Ârötf
(
°dout
, "Actual Navigation Mode: Long Range Navigator\n");

229 } i‡(
°©us_FN
 =
ON
 && 
hy°îesis_Êag
 && !
cﬁlisi⁄_Êag
 && 
Êag_‚
) {

230 
cuºít_«v
 = 
FN
;

231 
	`Ârötf
(
°dout
, "Actual Navigation Mode: Feature Navigator\n");

233 i‡(
cﬁlisi⁄_Êag
)

234 
hy°îesis_CRN_°ïs
 = 0;

235 } i‡(
ﬁd_«v
 =
LRN
) {

236 i‡((
°©us_CRN
 =
ON
 && 
cﬁlisi⁄_Êag
Ë|| 
°©us_LRN
 =
OFF
) {

237 
cuºít_«v
 = 
CRN
;

238 
hy°îesis_CRN_°ïs
 = 0;

239 
	`Ârötf
(
°dout
, "Actual Navigation Mode: Close Range Navigator\n");

240 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

241 
pCDAL⁄gNav
->
Ãn_rouã_obsﬁëe_Êag
 = 
åue
;

242 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

247 
cda
.
	`lockAªa
(
MONITOR_AREA
);

248 
pCDAM⁄ô‹
->
m⁄ô‹_cuºít_«v
 = 
cuºít_«v
;

249 
cda
.
	`u∆ockAªa
(
MONITOR_AREA
);

282 
	}
}

288 
	gM⁄ô‹Pro˚ss‹
::
	$upd©eExecutiveD©a
() {

289 
_•ìd
;

290 
_°ìr
;

291 
_•ìd_≥r˚¡
, 
_movemít
;

292 
boﬁ
 
_move_Êag
;

293 
ãmp
;

295 i‡(
exec_‹_«v
 =
NAV
) {

297 i‡(
cuºít_«v
 =
CRN
) {

299 
cda
.
	`lockAªa
(
CLOSE_NAV_AREA
);

300 
_•ìd
 = 
pCDAClo£Nav
->
¸n_•ìd
;

301 
_°ìr
 = 
pCDAClo£Nav
->
¸n_°ìrög
;

302 
_move_Êag
 = 
pCDAClo£Nav
->
¸n_move_ªady_Êag
;

303 
cda
.
	`u∆ockAªa
(
CLOSE_NAV_AREA
);

304 } i‡(
cuºít_«v
 =
LRN
) {

306 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

307 
_•ìd
 = 
pCDAL⁄gNav
->
Ãn_•ìd
;

308 
_°ìr
 = 
pCDAL⁄gNav
->
Ãn_°ìrög
;

309 
_•ìd_≥r˚¡
 = 
pCDAL⁄gNav
->
Ãn_•ìd_≥r˚¡
;

310 
_movemít
 = 
pCDAL⁄gNav
->
Ãn_movemít
;

311 
_move_Êag
 = 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
;

312 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

327 i‡(
_move_Êag
) {

351 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

352 
pCDAExecutive
->
exec_•ìd
 = 
_•ìd
;

353 
pCDAExecutive
->
exec_°ìrög
 = 
_°ìr
;

354 
pCDAExecutive
->
exec_•ìd_≥r˚¡
 = 
_•ìd_≥r˚¡
;

355 
pCDAExecutive
->
exec_movemít
 = 
_movemít
;

356 
pCDAExecutive
->
exec_move_ªady_Êag
 = 
_move_Êag
;

357 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

359 
cout
 << "Executing Navigator";

360 i‡(
cuºít_«v
 =
LRN
)

361 
cout
 <<" LRN" ;

362 i‡(
cuºít_«v
 =
CRN
)

363 
cout
 <<" CRN" ;

364 
exec_‹_«v
 = 
EXEC
;

372 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

373 
_move_Êag
 = 
pCDAExecutive
->
exec_move_ªady_Êag
;

374 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

376 i‡(
_move_Êag
 =
Ál£
) {

377 i‡(
cuºít_«v
 =
CRN
) {

378 
hy°îesis_CRN_°ïs
++;

381 
cda
.
	`lockAªa
(
CLOSE_NAV_AREA
);

382 
pCDAClo£Nav
->
¸n_move_ªady_Êag
 = 
_move_Êag
;

383 
cda
.
	`u∆ockAªa
(
CLOSE_NAV_AREA
);

386 i‡(
cuºít_«v
 =
LRN
) {

387 
cda
.
	`lockAªa
(
LONG_NAV_AREA
);

388 
pCDAL⁄gNav
->
Ãn_move_ªady_Êag
 = 
_move_Êag
;

389 
cda
.
	`u∆ockAªa
(
LONG_NAV_AREA
);

392 i‡(
cuºít_«v
 =
FN
) {

393 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

394 
pCDAFótuªNav
->
‚_move_ªady_Êag
 = 
_move_Êag
;

395 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

397 
exec_‹_«v
 = 
NAV
;

398 
num_°ïs
++;

399 
	`Ârötf
(
°dout
, " - Pasÿ%d/%dÉjecuèdo.\n", 
num_°ïs
,
max_°ïs_ƒ
);

404 
	}
}

410 
boﬁ
 
	gM⁄ô‹Pro˚ss‹
::
	$checkSís‹s
() {

411 
x
[5];

413 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

414 
x
[0] = 
pCDAExecutive
->
exec_adc
[0];

415 
x
[1] = 
pCDAExecutive
->
exec_adc
[1];

416 
x
[2] = 
pCDAExecutive
->
exec_adc
[2];

417 
x
[3] = 
pCDAExecutive
->
exec_adc
[3];

418 
x
[4] = 
pCDAExecutive
->
exec_adc
[4];

419 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

421 
boﬁ
 
_cﬁlisi⁄
 = ((
x
[0] < 
mö_£ns‹_di°
 && x[0] > 0) || (x[1] < min_sensor_dist && x[1] > 0) ||

422 (
x
[2] < 
mö_£ns‹_di°
 && x[2] > 0) || (x[3] < min_sensor_dist && x[3] > 0) || (x[4] < min_sensor_dist && x[4] > 0));

424  
_cﬁlisi⁄
;

425 
	}
}

431 
boﬁ
 
	gM⁄ô‹Pro˚ss‹
::
	$checkFœgFN
() {

432 
boﬁ
 
_Êag_‚
;

433 i‡(
°©us_FN
 =
ON
) {

434 
cda
.
	`lockAªa
(
FEATURE_NAV_AREA
);

435 
_Êag_‚
 = 
pCDAFótuªNav
->
‚_move_a˘ive_Êag
;

436 
cda
.
	`u∆ockAªa
(
FEATURE_NAV_AREA
);

438 
_Êag_‚
 = 
Ál£
;

441  
_Êag_‚
;

442 
	}
}

451 
	$maö
() {

452 
	`Ârötf
(
°dout
, "\nIRMA2: Monitor Process \n");

453 
M⁄ô‹Pro˚ss‹
 
m⁄
;

455 
m⁄
.
	`execuã
();

458 
	}
}

	@processors/monitor/monitor.h

38 #i‚de‡
_IRMA2_MONITOR_H_


39 
	#_IRMA2_MONITOR_H_


	)

44 
	~<io°ªam
>

45 
usög
 
«me•a˚
 
	g°d
;

46 
	~<°rög
>

47 
	~<°dio.h
>

48 
	~<sys/shm.h
>

49 
	~"../ba£/¥o˚ss‹.h
"

50 
	~"../../comm⁄/c⁄figFûe/c⁄figFûe.h
"

55 c⁄° 
	gNUM_INPUTS
 = 5;

59 c⁄° 
boﬁ
 
	gON
 = 
åue
;

60 c⁄° 
boﬁ
 
	gOFF
 = 
Ál£
;

61 c⁄° 
boﬁ
 
	gEXEC
 = 
åue
;

62 c⁄° 
boﬁ
 
	gNAV
 = 
Ál£
;

70 ˛as†
	cM⁄ô‹Pro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚
 {

71 
¥iv©e
:

73 
Clo£NavD©a
 *
pCDAClo£Nav
;

74 
L⁄gNavD©a
 *
	mpCDAL⁄gNav
;

75 
FótuªNavD©a
 *
	mpCDAFótuªNav
;

76 
ExecutiveD©a
 *
	mpCDAExecutive
;

77 
M⁄ô‹D©a
 *
	mpCDAM⁄ô‹
;

79 
	mã°
;

80 
	mmö_£ns‹_di°
;

81 
	mx
[
NUM_INPUTS
];

82 
	mhy°îesis_CRN_°ïs
;

83 
	mMAX_CLOSE_RANGE_HYSTERESIS
;

84 
	mcuºít_«v
;

85 
	m¶ìp_time
;

86 
	mnum_°ïs
;

87 
	mmax_°ïs_ƒ
;

89 
boﬁ
 
	mÊag_‚
;

90 
boﬁ
 
	mcﬁlisi⁄_Êag
;

91 
boﬁ
 
	mhy°îesis_Êag
;

92 
boﬁ
 
	m°©us_CRN
;

93 
boﬁ
 
	m°©us_LRN
;

94 
boﬁ
 
	m°©us_FN
;

95 
boﬁ
 
	mexec_‹_«v
;

96 
boﬁ
 
	mexecuã_ªady_Êag
;

97 
boﬁ
 
	mmissi⁄_accom∂ished_Êag
;

99 
upd©eV¨übÀs
();

100 
£tNavig©i⁄Mode
();

101 
upd©eExecutiveD©a
();

102 
boﬁ
 
checkSís‹s
();

103 
boﬁ
 
checkFœgFN
();

106 
	mpublic
:

108 
	$M⁄ô‹Pro˚ss‹
() {

110 
mö_£ns‹_di°
 = 0.2;

113 
	`öô
();

114 
	`°ï
();

115 
	`˛ónup
();

116 
	}
};

	@processors/network/network.cpp

26 
	~<°dio.h
>

27 
	~"√tw‹k.h
"

28 
	~<sys/shm.h
>

29 
	~<m©h.h
>

32 
	gNëw‹kPro˚ss‹
::
	$öô
()

34 
pExecutive
 = (
ExecutiveD©a
 *)
cda
.
	`gëMemPå
(
EXECUTIVE_AREA
);

35 
pNëw‹k
 = (
Nëw‹kD©a
 *)
cda
.
	`gëMemPå
(
NETWORK_AREA
);

36 
pM≠≥r
 = (
M≠≥rD©a
 *)
cda
.
	`gëMemPå
(
MAPPER_AREA
);

38 
pCål
 = &(
pNëw‹k
->
˘æ
);

39 
£m_¨ó
 = 
NETWORK_AREA
;

42 
cda
.
	`lockAªa
(
NETWORK_AREA
);

43 
pNëw‹k
->
gë_posôi⁄_Êag
 = 
Ál£
;

44 
pNëw‹k
->
£nd_m≠_Êag
 = 
Ál£
;

45 
pNëw‹k
->
°¨t_log_Êag
 = 
Ál£
;

46 
cda
.
	`u∆ockAªa
(
NETWORK_AREA
);

48 
pNëw‹k
->
˘æ
.
lo›
 = 
run_cmd
;

50 
hp
 = 
	`gëho°by«me
(
SERVER_IP
);

51 i‡(
hp
 =
NULL
)

53 
	`¥ötf
("Network Process: unknown host\n");

54 
	`exô
(1);

57 
	`¸órSockë
();

58 
	}
}

60 
	gNëw‹kPro˚ss‹
::
	$°ï
()

62 
boﬁ
 
£nd_m≠_Êag
, 
gë_posôi⁄_Êag
, 
°¨t_log_Êag
;

63 
i
, 
ãmpX
, 
ãmpY
;

64 
mesßge
[15];

67 
cda
.
	`lockAªa
(
NETWORK_AREA
);

68 
£nd_m≠_Êag
 = 
pNëw‹k
->send_map_flag;

69 
gë_posôi⁄_Êag
 = 
pNëw‹k
->get_position_flag;

70 
°¨t_log_Êag
 = 
pNëw‹k
->start_log_flag;

71 
cda
.
	`u∆ockAªa
(
NETWORK_AREA
);

73 i‡(
°¨t_log_Êag
)

75 
	`¥ötf
("Network Process: StartingÜog...\n");

76 
	`•rötf
(
mesßge
,"start.log");

77 
	`£ndMsg
(
mesßge
);

79 
cda
.
	`lockAªa
(
NETWORK_AREA
);

80 
pNëw‹k
->
°¨t_log_Êag
 = 
Ál£
;

81 
cda
.
	`u∆ockAªa
(
NETWORK_AREA
);

84 i‡(
£nd_m≠_Êag
)

86 
	`¥ötf
("Network Process: sending map...\n");

87 
	`•rötf
(
mesßge
,"recieve.map");

88 
	`£ndMsg
(
mesßge
);

89 
	`£ndM≠
();

91 
cda
.
	`lockAªa
(
NETWORK_AREA
);

92 
pNëw‹k
->
£nd_m≠_Êag
=
Ál£
;

93 
cda
.
	`u∆ockAªa
(
NETWORK_AREA
);

94 
	`¥ötf
("Network Process: map sent...\n");

97 i‡(
gë_posôi⁄_Êag
)

99 
	`¥ötf
("Network Process:áskingÖositionÅo GPS...\n");

100 
	`•rötf
(
mesßge
,"send.location");

101 
	`£ndMsg
(
mesßge
);

103 
	`u¶ìp
(50000);

105 
	`¥ötf
("Network Process:ÑetrievingÜocation data...\n");

106 
	`ªcvMsg
();

108 
ãmpX
 = 
	`°rToI¡
(
	`°πok
(
buf
,"."));

109 
ãmpY
 = 
	`°rToI¡
(
	`°πok
(
NULL
,"."));

111 
ãmpX
==5000 && 
ãmpY
==5000)

113 
	`•rötf
(
mesßge
,"send.location");

114 
	`£ndMsg
(
mesßge
);

116 
	`u¶ìp
(50000);

118 
	`ªcvMsg
();

120 
ãmpX
=
	`°rToI¡
(
	`°πok
(
buf
,"."));

121 
ãmpY
=
	`°rToI¡
(
	`°πok
(
NULL
,"."));

124 
	`¥ötf
("Network Process: verifiedÜocation is:\n");

125 
	`¥ötf
("X co‹dö©ê%i\n",
ãmpX
);

126 
	`¥ötf
("Y co‹dö©ê%i\n",
ãmpY
);

128 
cda
.
	`lockAªa
(
NETWORK_AREA
);

129 
pExecutive
->
cuºít_X
=
ãmpX
;

130 
pExecutive
->
cuºít_Y
=
ãmpY
;

131 
cda
.
	`u∆ockAªa
(
NETWORK_AREA
);

133 
cda
.
	`lockAªa
(
NETWORK_AREA
);

134 
pNëw‹k
->
gë_posôi⁄_Êag
=
Ál£
;

135 
cda
.
	`u∆ockAªa
(
NETWORK_AREA
);

138 
	`u¶ìp
(5000);

140 
	}
}

143 
	gNëw‹kPro˚ss‹
::
	$˛ónup
()

145 
	`˚º¨Sockë
();

147 
	}
}

149 
	$maö
()

151 
	`Ârötf
(
°dout
, "\nIRMA2: Network Process \n");

152 
Nëw‹kPro˚ss‹
 
√t
;

153 
√t
.
	`execuã
();

156 
	}
}

159 
	gNëw‹kPro˚ss‹
::
	$¸órSockë
()

161 
ªmŸeSîvAddr
.
sö_Ámûy
 = 
AF_INET
;

162 
ªmŸeSîvAddr
.
sö_p‹t
 = 
	`ht⁄s
(
REMOTE_SERVER_PORT
);

163 
	`mem˝y
((*Ë&
ªmŸeSîvAddr
.
sö_addr
, 
hp
->
h_addr_li°
[0], hp->
h_Àngth
);

164 
Àn
 = (
sockaddr_ö
);

166 
s
=
	`sockë
(
AF_INET
, 
SOCK_STREAM
, 0);

167 i‡(
s
<0)

169 
	`¥ötf
("Network Process: cannot open socket \n");

170 
	`exô
(1);

173 
	`c⁄√˘
(
s
, (
sockaddr
 *Ë&
ªmŸeSîvAddr
, (
sockÀn_t
Ë
Àn
);

174 
	}
}

176 
	gNëw‹kPro˚ss‹
::
	$˚º¨Sockë
()

178 
	`˛o£
(
s
);

179 
	}
}

182 
	gNëw‹kPro˚ss‹
::
	$£ndM≠
()

184 
i
, 
j
;

185 
cda
.
	`lockAªa
(
EXECUTIVE_AREA
);

186 
	`¥ötf
("Nëw‹k Pro˚ss: Sídög %òm≠ obje˘s\n",
pM≠≥r
->
a˘iveNodes
);

188 
	`•rötf
(
buf
,"%i\n",
pExecutive
->
°ïs_numbî
);

190 
	`¥ötf
("Numbî†o‡°ï†tÿ£nd: %s",
buf
);

193 
	`£nd
(
s
,
buf
,(()+()),0);

194 
	`¶ìp
(1);

196 
i
=0; i<
pExecutive
->
°ïs_numbî
; i++)

198 
	`•rötf
(
buf
,"%i,%i,%i,%i\n",
i
,
pExecutive
->
∑th
[i][0],pExecutive->path[i][1],

199 
pExecutive
->
∑th
[
i
][2]);

201 
	`¥ötf
("%s",
buf
);

204 
	`£nd
(
s
,
buf
,(4*())+(4*()),0);

205 
	`u¶ìp
(50000);

208 
i
=0; i<
pM≠≥r
->
a˘iveNodes
; i++)

210 
	`•rötf
(
buf
,"%f,%f,%f,%f\n",
pM≠≥r
->
ˇãg‹õs
[
i
][0],pMapper->categories[i][1],

211 
pM≠≥r
->
ˇãg‹õs
[
i
][2],pMapper->categories[i][3]);

213 
	`¥ötf
("%s",
buf
);

216 
	`£nd
(
s
,
buf
,(5*())+(8*()),0);

217 
	`u¶ìp
(50000);

219 
cda
.
	`u∆ockAªa
(
EXECUTIVE_AREA
);

221 
	`•rötf
(
buf
,"end");

222 
	`£nd
(
s
,
buf
,3*(),0);

224 
	}
}

227 
	gNëw‹kPro˚ss‹
::
	$£ndMsg
(*
msg
)

229 
	`•rötf
(
buf
,"%s",
msg
);

230 
	`£nd
(
s
,
buf
,(13*()),0);

231 
	}
}

234 
	gNëw‹kPro˚ss‹
::
	$ªcvMsg
()

237 
	`mem£t
(
buf
,0x0,
MAX_MSG
);

238 
n
 = 
	`ªcv
(
s
, 
buf
, 
MAX_MSG
, 0);

239 i‡(
n
>=0)

242 
	`¥ötf
("Network Process: MessageÑecieved...\n");

245 
	`¥ötf
("Network Process: cannotÑeceive data \n");

248 
	}
}

251 
	gNëw‹kPro˚ss‹
::
	$°rToI¡
(*
ãmpBuf„r
)

253 
numbî
=0;

254 
i
=0;

256 *(
ãmpBuf„r
+
i
) != '\0')

259 i‡(*(
ãmpBuf„r
+
i
)>47 && *(tempBuffer+i)<58)

261 
numbî
*=10;

262 
numbî
+=(()*(
ãmpBuf„r
+
i
)-48);

264 
i
++;

266  
numbî
;

267 
	}
}

	@processors/network/network.h

16 #i‚de‡
_IRMA2_MAPPER_H_


17 
	#_IRMA2_MAPPER_H_


	)

19 
	~<°dio.h
>

20 
	~"../ba£/¥o˚ss‹.h
"

21 
	~<sys/ty≥s.h
>

22 
	~<sys/sockë.h
>

23 
	~<√töë/ö.h
>

24 
	~<¨∑/öë.h
>

25 
	~<√tdb.h
>

26 
	~<uni°d.h
>

27 
	~<°rög.h
>

28 
	~<°dlib.h
>

32 
	#REMOTE_SERVER_PORT
 12345

	)

33 
	#MAX_MSG
 64

	)

34 
	#SERVER_IP
 "172.21.21.2"

	)

35 
	#SOCKET_ERROR
 -1

	)

37 ˛as†
	cNëw‹kPro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚


39 
¥iv©e
:

40 
n
, 
	ms
, 
	mÀn
;

41 
sockaddr_ö
 
	mªmŸeSîvAddr
;

42 
ho°ít
 *
	mhp
;

43 
	mbuf
[
MAX_MSG
];

45 
ExecutiveD©a
 *
	mpExecutive
;

46 
M≠≥rD©a
 *
	mpM≠≥r
;

47 
Nëw‹kD©a
 *
	mpNëw‹k
;

49 
	mpublic
:

50 
	$Nëw‹kPro˚ss‹
(Ë: 
	$Pro˚ss‹I¡îÁ˚
()

55 
	`öô
();

56 
	`°ï
();

57 
	`˛ónup
();

59 
	`¸órSockë
();

60 
	`£ndM≠
();

61 
	`£ndMsg
(*);

62 
	`ªcvMsg
();

63 
	`˚º¨Sockë
();

65 
	`°rToI¡
(*);

66 
	}
};

	@processors/numCognitive/cNN.c

14 
	~"cNN.h
"

15 
	~"imgTøö.h
"

30 
	gcC⁄˚±uÆNN
::
	$£tNeuølNode
(
≤nSåu˘
 
¬
, 
id
, 
œyî
, 
umbøl
)

32 i‡–
¬
 =
NULL
 )

34 
	`¥ötf
("Error: En clase cConceptualNN, setNode(pnnStructÇn, int id, intÜayer, float umbral).\n");

35 
	`¥ötf
("La variableÇn seÉncuentra vac√≠a.\nSe sale");

36 
	`exô
(1);

38 
¬
->
id
 = id;

39 
¬
->
œyî
 =Üayer;

40 
¬
->
umbøl
 = umbral;

42 
	}
}

51 
	gcC⁄˚±uÆNN
::
	$£tLayîNode
–
≤nLayî
 
œyî
, 
idLayî
, 
numNeur⁄as
 )

53 i‡–
œyî
 =
NULL
 )

55 
	`¥ötf
("Error: En clase cConceptualNN, setLayerNode(pnnStructÇn, int id, intÜayer, float umbral).\n");

56 
	`¥ötf
("La variableÇn seÉncuentra vac√≠a.\nSe sale");

57 
	`exô
(1);

59 
œyî
->
idLayî
 = idLayer;

60 
œyî
->
numNeur⁄asLayî
 = 
numNeur⁄as
;

63 
	}
}

69 
≤nSåu˘
 
	gcC⁄˚±uÆNN
::
	$¸óãNeuølNode
()

71 
≤nSåu˘
 
p
;

73 i‡((
p
 = (
≤nSåu˘
)
	`mÆloc
((
¬Såu˘
))Ë!
NULL
)

75 
p
->
id
 = 0;

76 
p
->
œyî
 = 0;

77 
p
->
umbøl
 = 0.0;

78 
p
->
öput
 = 0.0;

79 
p
->
ouçut
 = 0.0;

80 
p
->
gød
 = 0.0;

81 
p
->
¬
 = 
NULL
;

82 
p
->
wgth
 = 
NULL
;

84  (
p
);

86 (
NULL
);

87 
	}
}

93 
≤nLayî
 
	gcC⁄˚±uÆNN
::
	$¸óãLayî
()

95 
≤nLayî
 
p
;

97 i‡––
p
 = (
≤nLayî
)
	`mÆloc
–(
¬Layî
ËËË!
NULL
 )

99 
p
->
idLayî
 = 0;

100 
p
->
numNeur⁄asLayî
 = 0;

101 
p
->
√xtLayî
 = 
NULL
;

102 
p
->
¥evLayî
 = 
NULL
;

103 
p
->
¬
 = 
NULL
;

105  (
p
);

107 (
NULL
);

108 
	}
}

118 
≤nLayî
 
	gcC⁄˚±uÆNN
::
	$¸óãLayîOfNeur⁄s
–
√ur⁄Num
, 
wgtNum
, 
œyî
 )

120 
≤nLayî
 
ãmpLayî
 = 
NULL
;

122 
≤nSåu˘
 
ãmpNeur⁄
 = 
NULL
;

123 
≤nSåu˘
 
ãmpNeur⁄2
 = 
NULL
;

125 
≤nWeight
 
ãmpWgth
 = 
NULL
;

126 
≤nWeight
 
ãmpWgth2
 = 
NULL
;

128 i‡–
√ur⁄Num
 <0 || 
wgtNum
 < 0 )

130 
	`¥ötf
( "Error: ElÇ√∫mero deÇeuronas indicados oÉlÇ√∫mero de" );

131 
	`¥ötf
( "Öesos indicadosÉs menor o igualá cero.\nSe sale " );

132 
	`exô
(1);

135 
ãmpLayî
 = 
this
->
	`¸óãLayî
();

136 
this
->
	`£tLayîNode
(
ãmpLayî
, 
œyî
, 
√ur⁄Num
);

139  
i
 = 
√ur⁄Num
 -1; i >= 0 ; i-- )

141 
ãmpNeur⁄2
 = 
this
->
	`¸óãNeuølNode
();

144 
this
->
	`£tNeuølNode
–
ãmpNeur⁄2
, 
i
, 
œyî
, 
UMBRAL
);

149 if(
wgtNum
 > 0)

151  
j
 = 
wgtNum
-1; j >= 0 ; j-- )

153 
ãmpWgth2
 = 
this
->
	`¸óãWeightNode
();

154 
this
->
	`£tWeight
–
ãmpWgth2
, 
	`øndGíî©‹
(), 
i
, 
j
 );

161 
this
->
	`addWeightNode2WeightNode
(&
ãmpWgth
,

162 &
ãmpWgth2
);

166 
this
->
	`addWeight2NeuølNode
(
ãmpWgth
,

167 &
ãmpNeur⁄2
);

174 
this
->
	`addNeuølNode2NeuølNode
(&
ãmpNeur⁄
,

175 &
ãmpNeur⁄2
);

178 
this
->
	`addNeuølNode2Layî
–&
ãmpLayî
, 
ãmpNeur⁄
 );

179  (
ãmpLayî
);

180 
	}
}

186 
	gcC⁄˚±uÆNN
::
	$øndGíî©‹
()

189  (
	`dønd48
());

190 
	}
}

198 
	gcC⁄˚±uÆNN
::
	$sigmoide
(
öput
)

200  ( 1.0/(1.0 + 
	`exp
–
UMBRAL
 - 
öput
) ) );

201 
	}
}

207 
≤nWeight
 
	gcC⁄˚±uÆNN
::
	$¸óãWeightNode
()

209 
≤nWeight
 
p
;

211 i‡((
p
 = (
≤nWeight
)
	`mÆloc
((
¬Weight
))Ë!
NULL
)

213 
p
->
idl_1
 = 0;

214 
p
->
idl_2
 = 0;

215 
p
->
wgth
 = 0.0;

216 
p
->
dñèW
 = 0.0;

217 
p
->
√xtwgth
 = 
NULL
;

219  (
p
);

221 (
NULL
);

222 
	}
}

229 
	gcC⁄˚±uÆNN
::
	$dñëeNeuølNode
(
≤nSåu˘
 
≤n
)

231 if–
≤n
 =
NULL
)

232 
	`¥ötf
("Warning:Üa variable seÉncuentraÇull.\nNo se haceÇada");

233 i‡–
≤n
->
¬
 !
NULL
 )

235 
	`¥ötf
("Warning: SeÉliminar√° unÖuntero queÇoápuntaá NULL");

236 
	`‰ì
(
≤n
);

239 
	`‰ì
(
≤n
);

242 
	}
}

250 
	gcC⁄˚±uÆNN
::
	$dñëeLayî
(
≤nLayî
 
œyî
)

252 if–
œyî
 =
NULL
)

253 
	`¥ötf
("Warning:Üa variable seÉncuentraÇull.\nNo se haceÇada");

254 i‡–
œyî
->
¬
 !
NULL
 ||

255 
œyî
->
√xtLayî
 !
NULL
 ||

256 
œyî
->
¥evLayî
 =
NULL
 )

258 
	`¥ötf
("Warning: SeÉliminar√° unÖuntero queÇoápuntaá NULL");

259 
	`‰ì
(
œyî
);

262 
	`‰ì
(
œyî
);

265 
	}
}

274 
	gcC⁄˚±uÆNN
::
	$dñëeWeightNode
(
≤nWeight
* 
wgth
)

276 if–*
wgth
 =
NULL
)

277 
	`¥ötf
("Warning:Üa variable seÉncuentraÇull.\nNo se haceÇada");

278 i‡–(*
wgth
)->
√xtwgth
 !
NULL
)

280 
	`¥ötf
("Warning: SeÉliminar√° unÖuntero queÇoápuntaá NULL");

281 
	`‰ì
(*
wgth
);

284 
	`‰ì
(
wgth
);

287 
	}
}

295 
	gcC⁄˚±uÆNN
::
	$addNeuølNode2NeuølNode
(
≤nSåu˘
* 
¬1
,Ö¬Såu˘* 
¬2
)

297 if–*
¬2
 =
NULL
Ë
	`¥ötf
("Warning: cConceptualNN::addNeuralNode2NeuralNode.\nVariableÇn2Çula");

298 (*
¬2
)->
¬
 = *
¬1
;

299 *
¬1
 = *
¬2
;

301 
	}
}

309 
	gcC⁄˚±uÆNN
::
	$addLayî2Layî
(
≤nLayî
* 
œyî1
,Ö¬Layî* 
œyî2
)

311 if(*
œyî2
 =
NULL
Ë
	`¥ötf
("Warning: cConceptualNN::addLayer2Layer.\nVariableÜayer2Çula");

314 if–*
œyî1
 !
NULL
 )

316 (*
œyî1
)->
¥evLayî
 = (*
œyî2
);

318 (*
œyî2
)->
√xtLayî
 = *
œyî1
;

319 *
œyî1
 = *
œyî2
;

322 
	}
}

330 
	gcC⁄˚±uÆNN
::
	$addWeightNode2WeightNode
(
≤nWeight
* 
wgth1
,Ö¬Weight* 
wgth2
)

332 if(*
wgth2
 =
NULL
)

334 
	`¥ötf
("Warning: cConceptualNN::addWeightNode2WeightNode(pnnWeight wgth1,ÖnnWeight wgth2)");

335 
	`¥ötf
("\nVariable wgth2Çula");

339 if(*
wgth1
 !
NULL
)

340 (*
wgth2
)->
√xtwgth
 = (*
wgth1
);

341 (*
wgth1
Ë(*
wgth2
);

344 
	}
}

352 
	gcC⁄˚±uÆNN
::
	$addWeight2NeuølNode
(
≤nWeight
 
wgth
, 
≤nSåu˘
* 
≤n
)

355 i‡–*
≤n
 =
NULL
 )

357 
	`¥ötf
("Error:Én cConceptualNN::addWeight2NeuralNode(pnnWeight wgth,ÖnnStructÖnn)");

358 
	`¥ötf
("\npnnÉs unÖunteroáÇulo. Se sale");

359 
	`exô
(1);

363 if–
wgth
 =
NULL
 )

365 
	`¥ötf
("Warning:Én cConceptualNN::addWeight2NeuralNode(pnnWeight wgth,ÖnnStructÖnn)");

366 
	`¥ötf
("\nwgthÉs unÖunteroáÇull");

370 (*
≤n
)->
wgth
 = wgth;

372 
	}
}

380 
	gcC⁄˚±uÆNN
::
	$addNeuølNode2Layî
(
≤nLayî
* 
œyî
, 
≤nSåu˘
 
≤n
)

383 i‡–*
œyî
 =
NULL
 )

385 
	`¥ötf
("Error:Én cConceptualNN::addNeuralNode2Layer(pnnLayerÜayer,ÖnnStructÖnn)");

386 
	`¥ötf
("\npnnLayerÉs unÖunteroáÇulo. Se sale");

387 
	`exô
(1);

391 if(
≤n
 =
NULL
)

393 
	`¥ötf
("Warning:Én cConceptualNN::addNeuralNode2Layer(pnnLayerÜayer,ÖnnStructÖnn)");

394 
	`¥ötf
("\npnnÉs unÖunteroáÇull");

398 (*
œyî
)->
¬
 = 
≤n
;

400 
	}
}

408 
	gcC⁄˚±uÆNN
::
	$£tNodeId
(
≤nSåu˘
 
¬
, 
id
)

411 i‡–
¬
 =
NULL
 )

413 
	`¥ötf
("Error: En clase cConceptualNN, setNodeId(pnnStructÇn, int id).\n");

414 
	`¥ötf
("La variableÇnápuntaáÇulo.\nSe sale");

415 
	`exô
(1);

419 
¬
->
id
 = id;

422 
	}
}

429 
	gcC⁄˚±uÆNN
::
	$gëNodeId
(
≤nSåu˘
 
¬
)

432 i‡–
¬
 =
NULL
 )

434 
	`¥ötf
("Error: En clase cConceptualNN, getNode(pnnStructÇn).\n");

435 
	`¥ötf
("La variableÇn seÉncuentra vac√≠a.\nSe sale");

436 
	`exô
(1);

440  
¬
->
id
;

441 
	}
}

449 
	gcC⁄˚±uÆNN
::
	$£tNodeLayî
(
≤nSåu˘
 
¬
, 
œyî
)

452 i‡–
¬
 =
NULL
)

454 
	`¥ötf
("Error: En clase cConceptualNN, setNodeLayer(pnnStructÇn, intÜayer).\n");

455 
	`¥ötf
("La variableÇnápuntaá NULL.\nSe sale");

456 
	`exô
(1);

460 
¬
->
œyî
 =Üayer;

462 
	}
}

469 
	gcC⁄˚±uÆNN
::
	$gëNodeLayî
(
≤nSåu˘
 
¬
)

472 i‡–
¬
 =
NULL
 )

474 
	`¥ötf
("Error: En clase cConceptualNN, getNodeLayer(pnnStructÇn).\n");

475 
	`¥ötf
("La variableÇnápuntaá NULL.\nSe sale");

476 
	`exô
(1);

480  
¬
->
œyî
;

481 
	}
}

489 
	gcC⁄˚±uÆNN
::
	$£tNodeUmbøl
(
≤nSåu˘
 
¬
, 
umbøl
)

492 i‡–
¬
 =
NULL
 )

494 
	`¥ötf
("Error: En clase cConceptualNN, setNodeUmbral(pnnStructÇn, float umbral).\n");

495 
	`¥ötf
("La variableÇn seÉncuentra vac√≠a.\nSe sale");

496 
	`exô
(1);

500 
¬
->
umbøl
 = umbral;

502 
	}
}

509 
	gcC⁄˚±uÆNN
::
	$gëNodeUmbøl
(
≤nSåu˘
 
¬
)

512 i‡–
¬
 =
NULL
 )

514 
	`¥ötf
("Error: En clase cConceptualNN, getNodeUmbral(pnnStructÇn).\n");

515 
	`¥ötf
("La variableÇn seÉncuentra vac√≠a.\nSe sale");

516 
	`exô
(1);

520  
¬
->
umbøl
;

521 
	}
}

528 
	gcC⁄˚±uÆNN
::
	$gëWeight
(
≤nWeight
 
wgth
)

531 i‡–
wgth
 =
NULL
 )

533 
	`¥ötf
("Error: En clase cConceptualNN, getWeight(pnnWeight wgth).\n");

534 
	`¥ötf
("La variable wgth seÉncuentra vac√≠a.\nSe sale");

535 
	`exô
(1);

538  
wgth
->wgth;

539 
	}
}

555 
	gcC⁄˚±uÆNN
::
	$£tWeight
(
≤nWeight
 
wgth
, 
vÆ
, 
idA˘uÆ
, 
idPªvio
)

557 i‡–
wgth
 =
NULL
 )

559 
	`¥ötf
("Error: En clase cConceptualNN, setWeight(pnnWeight wgth, double val).\n");

560 
	`¥ötf
("La variable wgth seÉncuentra vac√≠a.\nSe sale");

561 
	`exô
(1);

563 
wgth
->wgth = 
vÆ
;

564 
wgth
->
idl_1
 = 
idA˘uÆ
;

565 
wgth
->
idl_2
 = 
idPªvio
;

567 
	}
}

575 
	gcC⁄˚±uÆNN
::
	$upd©eWeight
(
≤nWeight
 
wgth
, 
vÆ
)

577 i‡–
wgth
 =
NULL
 )

579 
	`¥ötf
("Error: En clase cConceptualNN, updateWeight(pnnWeight wgth, double val).\n");

580 
	`¥ötf
("La variable wgth seÉncuentra vac√≠a.\nSe sale");

581 
	`exô
(1);

583 
wgth
->wgth = 
vÆ
;

585 
	}
}

594 
	gcC⁄˚±uÆNN
::
	$¸óãNeuølNë
(c⁄° * 
tùo2
)

597 
this
->
	`£tTùo
(
tùo2
);

599 
c
;

601 if–
	`°rcmp
–
this
->
tùo
, "SOM" ) =0 ) 
c
 = 0;

602 i‡(
	`°rcmp
–
this
->
tùo
, "MARBOT" ) =0 ) 
c
 = 1;

603 
c
 = 2;

605 
c
)

608 
	`¥ötf
("CreandoÑed SOM...");

609 
this
->
	`¸óãNeuølSOM
();

612 
	`¥ötf
("CreandoÑed MARBOT...");

613 
this
->
	`¸óãNeuølMARBOT
();

616 
	`¥ötf
("ElÅipo deÑed indicadoÇoÉxiste.\n");

617 
	`¥ötf
("LosÅipos deÑedes disponibles son SOM y MARBOT. Se sale\n");

618 
	`exô
(1);

622 
	}
}

628 
	gcC⁄˚±uÆNN
::
	$åaö
()

630 
c
;

632 if–
	`°rcmp
–
this
->
tùo
, "SOM" ) =0 ) 
c
 = 0;

633 i‡(
	`°rcmp
–
this
->
tùo
, "MARBOT" ) =0 ) 
c
 = 1;

634 
c
 = 2;

636 
c
)

639 
	`¥ötf
("EntrenandoÑed SOM...");

640 
this
->
	`åaöSOM
();

643 
	`¥ötf
("EntrenandoÑed MARBOT...");

644 
this
->
	`åaöMARBOT
();

647 
	`¥ötf
("ElÅipo deÑed seteadoÉs incorrecto.\n");

648 
	`¥ötf
("LosÅipos deÑedes disponibles son SOM y MARBOT. Se sale\n");

649 
	`exô
(1);

653 
	}
}

659 
	gcC⁄˚±uÆNN
::
	$evÆu©e
()

661 
c
;

663 if–
	`°rcmp
–
this
->
tùo
, "SOM" ) =0 ) 
c
 = 0;

664 i‡(
	`°rcmp
–
this
->
tùo
, "MARBOT" ) =0 ) 
c
 = 1;

665 
c
 = 2;

668 
c
)

671 
	`¥ötf
("EvaluandoÑed SOM...");

672 
this
->
	`evÆu©eSOM
();

675 
	`¥ötf
("EvaluandoÑed MARBOT...");

676 
this
->
	`evÆu©eMARBOT
();

679 
	`¥ötf
("ElÅipo deÑed seteadoÉs incorrecto.\n");

680 
	`¥ötf
("LosÅipos deÑedes disponibles son SOM y MARBOT. Se sale\n");

681 
	`exô
(1);

685 
	}
}

693 
	gcC⁄˚±uÆNN
::
	$£tTùo
(c⁄° * 
tùo2
)

695 if–
tùo2
 =
NULL
 )

697 
	`¥ötf
("Error: No indic√≥ÉlÅipo deÇeurona,Én cConceptualNN::setTipo(char*Åipo).\n Se sale");

698 
	`exô
(1);

702 
	`°r˝y
–
tùo
, 
tùo2
 );

704 
	}
}

711 * 
	gcC⁄˚±uÆNN
::
	$gëTùo
()

713  (
this
->
tùo
);

714 
	}
}

722 
	gcC⁄˚±uÆNN
::
	$¸óãNeuølMARBOT
()

724 
numNeur⁄
 = 0;

725 
numWeigth
 = 0;

727 
≤nLayî
 
ãmpLayî
;

729 
this
->
œyîLi°
 = 
NULL
;

730 
this
->
övî£LayîLi°
 = 
NULL
;

733  
i
 = 6 ; i >= 0; i-- )

735 
i
)

738 
	`¥ötf
("CreandoÖrimera capa...\n");

739 
numWeigth
 = 1;

741 
numNeur⁄
 = 30*32;

745 
	`¥ötf
("Creando segunda capa...\n");

746 
numNeur⁄
 = 
numWeigth
;

747 
numWeigth
 = 30*32;

753 
	`¥ötf
("CreandoÅercera capa...\n");

754 
numNeur⁄
 = 
numWeigth
;

755 
numWeigth
 = 400;

761 
	`¥ötf
("Creando cuarta capa...\n");

762 
numNeur⁄
 = 
numWeigth
;

763 
numWeigth
 = 200;

769 
	`¥ötf
("Creando quinta capa...\n");

770 
numNeur⁄
 = 
numWeigth
;

771 
numWeigth
 = 100;

777 
	`¥ötf
("Creando sexta capa...\n");

779 
numNeur⁄
 = 
numWeigth
;

780 
numWeigth
 = 50;

786 
	`¥ötf
("Creando septima capa...\n");

787 
numNeur⁄
 = 10 ;

788 
numWeigth
 = 20;

841 
	`¥ötf
("No se hizoÇada :( ...");

844 
ãmpLayî
 = 
this
->
	`¸óãLayîOfNeur⁄s
–
numNeur⁄
, 
numWeigth
, 
i
 );

846 
this
->
	`addLayî2Layî
–&—his->
œyîLi°
Ë, &
ãmpLayî
 );

848 if–
i
 == 6 )

849 
this
->
övî£LayîLi°
 =Åhis->
œyîLi°
;

851 
	`¥ötf
("Creaci√≥n deÑed MARBOTÉxitosa...\n");

854 
	}
}

863 
	gcC⁄˚±uÆNN
::
	$¸óãNeuølSOM
()

867 
œyîLi°
 = 
this
->
	`¸óãLayîOfNeur⁄s
( 30*32, 0 , 0 );

869 
somLayîLi°
 = 
this
->
	`¸óãLayîOfNeur⁄s
( 30*32, 30*32, 0 );

870 
	`¥ötf
("Creaci√≥n deÑed SOMÉxitosa...");

874 
	}
}

882 
	gcC⁄˚±uÆNN
::
	$åaöMARBOT
()

884 
≤nLayî
 
ãmpLayî
=
NULL
;

886 
≤nSåu˘
 
ãmpNN
=
NULL
;

887 
≤nSåu˘
 
ãmpNextNN
=
NULL
;

889 
≤nSåu˘
 
ãmpPªvNN
=
NULL
;

891 
≤nWeight
 
ãmpWgt
=
NULL
;

893 
TmöusO
;

894 
îr‹
 = 500.0;

895 
sum
;

897 
ïoch
 = 0;

898 
i
;

900 
this
->
	`£tSètus
(
TRAIN
);

902  
i
=0;i<6;i++)

903  ( 
ïoch
 < 
EPOCH
Ë&& (
îr‹
 > 
ERROR
 ) )

905 
ïoch
++;

906 
this
->
	`evÆu©eMARBOT
(
i
);

910 
îr‹
 = 0.0;

911  
ãmpLayî
 = 
övî£LayîLi°
;

912 
ãmpLayî
 !
NULL
;

913 
ãmpLayî
 =ÅempLayî->
¥evLayî
 )

916  
ãmpNN
 = 
ãmpLayî
->
¬
,
i
=0;

917 
ãmpNN
 !
NULL
;

918 
ãmpNN
 =ÅempNN->
¬
 )

920 
sum
 = 0.0;

921 if–
ãmpLayî
->
idLayî
 != 6 )

923  
ãmpNextNN
 = 
ãmpLayî
->
√xtLayî
->
¬
,

924 
ãmpWgt
 = 
ãmpNextNN
->
wgth
;

926 
ãmpNextNN
 !
NULL
;

928 
ãmpNextNN
 =ÅempNextNN->
¬
 )

930 
sum
 +–
this
->
	`gëWeightPªvLayî
(
ãmpNextNN
, 
ãmpNN
->
id
Ë)*–ãmpNextNN->
gød
);

932 
ãmpNN
->
gød
 = 
sum
*–ãmpNN->
ouçut
)*(1 -ÅempNN->output);

944 
TmöusO
 = 
ouçutTøö
[
i
] - 
ãmpNN
->
ouçut
;

945 
ãmpNN
->
gød
 = (
TmöusO
)*–ãmpNN->
ouçut
)*(1-tempNN->output);

946 
îr‹
 +0.5*
	`pow
(
TmöusO
,2.0);

947 
	`¥ötf
("îr‹ %f\àdi‡%f\àgød %f\àouçutNN %f\àouçutTøö %f\n",
îr‹
,
TmöusO
,
ãmpNN
->
gød
,ÅempNN->
ouçut
,
ouçutTøö
[
i
] );

948 
i
++;

955  
ãmpLayî
 = 
œyîLi°
;

956 
ãmpLayî
 !
NULL
;

957 
ãmpLayî
 =ÅempLayî->
√xtLayî
 )

961  
ãmpNN
 = 
ãmpLayî
->
¬
;

962 
ãmpNN
 !
NULL
;

963 
ãmpNN
 =ÅempNN->
¬
 )

966 if–
ãmpLayî
->
idLayî
 != 0 )

969  
ãmpPªvNN
 = 
ãmpLayî
->
¥evLayî
->
¬
,

970 
ãmpWgt
 = 
ãmpNN
->
wgth
;

972 
ãmpPªvNN
 !
NULL
;

974 
ãmpWgt
 =ÅempWgt->
√xtwgth
,

975 
ãmpPªvNN
 =ÅempPªvNN->
¬
 )

979 
ãmpWgt
->
dñèW
 = 
MU
*–
ãmpNN
->
gød
)*–
ãmpPªvNN
->
ouçut
);

980 
ãmpWgt
->
wgth
 +ãmpWgt->
dñèW
;

986 
ãmpNN
->
wgth
->
dñèW
 = 
MU
*–ãmpNN->
gød
)*–ãmpNN->
öput
);

987 
ãmpNN
->
wgth
->wgth +ãmpNN->wgth->
dñèW
;

995 
	}
}

1003 
	gcC⁄˚±uÆNN
::
	$evÆu©eMARBOT
()

1005 
≤nLayî
 
ãmpLayî
;

1007 
≤nSåu˘
 
ãmpNN
;

1008 
≤nSåu˘
 
ãmpPªvNN
;

1010 
≤nWeight
 
ãmpWgt
;

1012 
sum
;

1013 
fú°I≈ut
;

1018  
ãmpLayî
 = 
œyîLi°
;

1019 
ãmpLayî
 !
NULL
;

1020 
ãmpLayî
 =ÅempLayî->
√xtLayî
 )

1024  
ãmpNN
 = 
ãmpLayî
->
¬
;

1025 
ãmpNN
 !
NULL
;

1026 
ãmpNN
 =ÅempNN->
¬
 )

1028 
sum
 = 0.0;

1030 if–
ãmpLayî
->
idLayî
 == 0 )

1035 
fú°I≈ut
 = (
ãmpNN
->
öput
)*—empNN->
wgth
->wgth);

1036 
ãmpNN
->
ouçut
 = 
	`sigmoide
(
fú°I≈ut
);

1041  
ãmpPªvNN
 = 
ãmpLayî
->
¥evLayî
->
¬
,

1042 
ãmpWgt
 = 
ãmpNN
->
wgth
;

1044 
ãmpPªvNN
 !
NULL
;

1046 
ãmpWgt
 =ÅempWgt->
√xtwgth
,

1047 
ãmpPªvNN
 =ÅempPªvNN->
¬
 )

1049 
sum
 +(
ãmpWgt
->
wgth
)*(
ãmpPªvNN
->
ouçut
);

1051 
ãmpNN
->
öput
 = 
sum
;

1052 
ãmpNN
->
ouçut
 = 
	`sigmoide
—empNN->
öput
);

1056 if–
ãmpLayî
->
idLayî
 =6 ) 
	`¥ötf
("%‡", 
ãmpNN
->
ouçut
);

1062 
	`¥ötf
("\n");

1065 
	}
}

1076 
	gcC⁄˚±uÆNN
::
	$gëWeightPªvLayî
–
≤nSåu˘
 
¬
, 
idPªvNN
 )

1078 
≤nWeight
 
ãmpWgt
;

1080  
ãmpWgt
 = 
¬
->
wgth
;ÅempWgà!
NULL
;ÅempWgtãmpWgt->
√xtwgth
 )

1082 if–
ãmpWgt
->
idl_2
 =
idPªvNN
 )  (ãmpWgt->
wgth
);

1085 
	`¥ötf
("Warning: No seÉncontr√≥ÉlÖesoásociadoáÜaÇeurona deÜa capaÖrevia.");

1087 
	}
}

1095 
	gcC⁄˚±uÆNN
::
	$lﬂdImg2NN
(
i
)

1097 
I∂Image
* 
img
 = 0;

1098 
CvSˇœr
 
s
;

1102 
≤nSåu˘
 
ãmpNN
;

1104 
i
, 
j
;

1106 
img
 = 
	`cvLﬂdImage
(
fûeName
);

1108 if(!
img
Ë
	`¥ötf
("CouldÇŸÜﬂd imagêfûe: %s\n",
fûeName
);

1113 if–
œyîLi°
->
numNeur⁄asLayî
 !(
img
->
width
)*(img->
height
) )

1115 
	`¥ötf
("Error: ElÇ√∫mero deÇeuronas deÜaÖrimera capaÇo coincide conÉlÅama√±o deÜa imagen.\nSe sale.");

1116 
	`exô
(1);

1119 
ãmpNN
 = 
œyîLi°
->
¬
;

1122 
ouçutTøö
[0]=1.0;

1123 
i
=1;i<10;i++)

1124 
ouçutTøö
[
i
]=0.0;

1126  
i
 = 0; i < (
img
->
height
); i++ )

1128  
j
 = 0; j < (
img
->
width
); j++)

1130 
s
 = 
	`cvGë2D
(
img
,
i
,
j
);

1131 
ãmpNN
->
öput
 = (
s
.
vÆ
[0] +

1132 
s
.
vÆ
[1] +

1133 
s
.
vÆ
[2])/3.0;

1136 
ãmpNN
 =ÅempNN->
¬
;

1139 
	`cvRñó£Image
(&
img
);

1142 
	}
}

1144 
	gcC⁄˚±uÆNN
::
	$wrôeNN2Img
()

1146 
I∂Image
* 
img
=
	`cvCª©eImage
(
	`cvSize
(30,32),
IPL_DEPTH_8U
,1);

1147 
CvSˇœr
 
s
;

1148 
≤nSåu˘
 
ãmpNN
;

1149 
i
,
j
;

1151 
outFûeName
[] = "salida.png";

1153 
ãmpNN
 = 
övî£LayîLi°
->
¬
;

1155  
i
 = 0; i < (
img
->
height
); i++ )

1157  
j
 = 0; j < (
img
->
width
); j++)

1160 
s
.
vÆ
[0] = 
ãmpNN
->
ouçut
;

1161 
	`cvSë2D
(
img
,
i
,
j
,
s
);

1164 
ãmpNN
 =ÅempNN->
¬
;

1168 if(!
	`cvSaveImage
(
outFûeName
,
img
)Ë
	`¥ötf
("CouldÇot save: %s\n",outFileName);

1170 
	`cvRñó£Image
(&
img
);

1175 
	}
}

1180 
	gcC⁄˚±uÆNN
::
	$cC⁄˚±uÆNN
()

1182 
this
->
œyîLi°
 = 
NULL
;

1183 
this
->
övî£LayîLi°
 = 
NULL
;

1186 
	`§™d48
(
	`time
(
NULL
));

1188 
	}
}

1190 
	gcC⁄˚±uÆNN
::
	$‰ìNN
()

1192 
≤nLayî
 
ãmpLayî
, 
ãmpLayî2
;

1193 
≤nSåu˘
 
ãmpNN
, 
ãmpNN2
;

1194 
≤nWeight
 
ãmpWgt
, 
ãmpWgt2
;

1196 
ãmpLayî
 = 
œyîLi°
;

1198 
œyîLi°
 = 
NULL
;

1199 
övî£LayîLi°
 = 
NULL
;

1201  
œyîLi°
 !
NULL
 )

1203 
ãmpNN
 = 
ãmpLayî
->
¬
;

1204 
ãmpLayî
->
¬
 = 
NULL
;

1205  
ãmpLayî
->
¬
 !
NULL
 )

1207 
ãmpWgt
 = 
ãmpNN
->
wgth
;

1208 
ãmpNN
->
wgth
 = 
NULL
;

1209  
ãmpWgt
 !
NULL
 )

1212 
ãmpWgt2
 = 
ãmpWgt
;

1213 
ãmpWgt
 =ÅempWgt->
√xtwgth
;

1215 
ãmpWgt2
->
√xtwgth
 = 
NULL
;

1216 
this
->
	`dñëeWeightNode
(&
ãmpWgt2
);

1218 
ãmpNN2
 = 
ãmpNN
;

1219 
ãmpNN
 =ÅempNN->
¬
;

1221 
ãmpNN2
->
¬
 = 
NULL
;

1222 
this
->
	`dñëeNeuølNode
(
ãmpNN2
);

1224 
ãmpLayî2
 = 
ãmpLayî
;

1225 
ãmpLayî
 =ÅempLayî->
√xtLayî
;

1227 
ãmpLayî
->
¥evLayî
 = 
NULL
;

1228 
ãmpLayî2
->
√xtLayî
 = 
NULL
;

1229 
this
->
	`dñëeLayî
(
ãmpLayî2
);

1232 
	}
}

1236 
	gcC⁄˚±uÆNN
::~
	$cC⁄˚±uÆNN
()

1282 
	}
}

1284 
cC⁄˚±uÆNN
::
	$åaöSOM
()

1286 
this
->
	`evÆu©eSOM
();

1288 
	}
}

1290 
	gcC⁄˚±uÆNN
::
	$evÆu©eSOM
()

1292 
≤nLayî
 
ãmpLayî
;

1294 
≤nSåu˘
 
ãmpNN
;

1295 
≤nSåu˘
 
ãmpPªvNN
;

1297 
≤nWeight
 
ãmpWgt
;

1299 
sum
;

1300 
fú°I≈ut
;

1305 
ãmpLayî
 = 
œyîLi°
;

1309  
ãmpNN
 = 
ãmpLayî
->
¬
;

1310 
ãmpNN
 !
NULL
;

1311 
ãmpNN
 =ÅempNN->
¬
 )

1313 
sum
 = 0.0;

1315 if–
ãmpLayî
->
idLayî
 == 0 )

1320 
fú°I≈ut
 = (
ãmpNN
->
öput
)*—empNN->
wgth
->wgth);

1321 
ãmpNN
->
ouçut
 = 
	`sigmoide
(
fú°I≈ut
);

1326  
ãmpPªvNN
 = 
ãmpLayî
->
¥evLayî
->
¬
,

1327 
ãmpWgt
 = 
ãmpNN
->
wgth
;

1329 
ãmpPªvNN
 !
NULL
;

1331 
ãmpWgt
 =ÅempWgt->
√xtwgth
,

1332 
ãmpPªvNN
 =ÅempPªvNN->
¬
 )

1334 
sum
 +(
ãmpWgt
->
wgth
)*(
ãmpPªvNN
->
ouçut
);

1336 
ãmpNN
->
öput
 = 
sum
;

1337 
ãmpNN
->
ouçut
 = 
	`sigmoide
—empNN->
öput
);

1341 if–
ãmpLayî
->
idLayî
 =6 ) 
	`¥ötf
("%‡", 
ãmpNN
->
ouçut
);

1347 
	}
}

1349 
	gcC⁄˚±uÆNN
::
	$£tSètus
(
°©
)

1351 
this
->
°©us
 = 
°©
;

1353 
	}
}

1355 
	gcC⁄˚±uÆNN
::
	$gëSètus
()

1357  
this
->
°©us
;

1358 
	}
}

	@processors/numCognitive/cNN.h

11 #i‚de‡
_MARBOT_CCONCEPT_NN_H_


12 
	#_MARBOT_CCONCEPT_NN_H_


	)

16 
	~<°dio.h
>

17 
	~<°dlib.h
>

18 
	~<time.h
>

19 
	~<m©h.h
>

20 
	~<°rög.h
>

23 
	~<cv.h
>

24 
	~<highgui.h
>

26 
	#UMBRAL
 3

	)

27 
	#MU
 0.7

	)

28 
	#EPOCH
 1000

	)

29 
	#ERROR
 0.05

	)

30 
	#TRAIN
 1

	)

31 
	#EVALUATE
 0

	)

36 
	snodeweight


38 
	midl_1
;

39 
	midl_2
;

40 
	mwgth
;

41 
	mdñèW
;

45 
nodeweight
 *
	m√xtwgth
;

46 } 
	t¬Weight
, *
	t≤nWeight
;

48 
	snode


50 
	mid
;

51 
	mœyî
;

52 
	mumbøl
;

53 
	möput
;

54 
	mouçut
;

55 
	mgød
;

57 
node
 *
	m¬
;

62 
nodeweight
 *
	mwgth
;

64 } 
	t¬Såu˘
, *
	t≤nSåu˘
;

66 
	snodeLayî


68 
	midLayî
;

69 
	mnumNeur⁄asLayî
;

70 
nodeLayî
 *
	m√xtLayî
;

71 
nodeLayî
 *
	m¥evLayî
;

72 
node
 *
	m¬
;

74 } 
	t¬Layî
, *
	t≤nLayî
;

80 ˛as†
	ccC⁄˚±uÆNN
{

82 
	m¥iv©e
:

84 
≤nLayî
 
œyîLi°
;

85 
≤nLayî
 
	mövî£LayîLi°
;

86 
≤nLayî
 
	msomLayîLi°
;

87 
	mtùo
[10];

88 
	mouçutTøö
[11];

89 
	m°©us
;

92 
£tNeuølNode
(
≤nSåu˘
 
¬
, 
id
, 
œyî
, 
umbøl
);

94 
≤nSåu˘
 
¸óãNeuølNode
();

95 
dñëeNeuølNode
–
≤nSåu˘
 
¬
);

96 
addNeuølNode2NeuølNode
–
≤nSåu˘
* 
¬1
,Ö¬Såu˘* 
¬2
 );

97 
addWeight2NeuølNode
–
≤nWeight
 
wgth
, 
≤nSåu˘
* 
≤n
 );

99 
addNeuølNode2Layî
(
≤nLayî
* 
œyî
, 
≤nSåu˘
 
≤n
);

101 
≤nLayî
 
¸óãLayî
();

102 
£tLayîNode
(
≤nLayî
 
œyî
, 
idLayî
, 
numNeur⁄as
);

103 
dñëeLayî
(
≤nLayî
 
œyî
);

104 
addLayî2Layî
(
≤nLayî
* 
œyî1
,Ö¬Layî* 
œyî2
);

106 
≤nLayî
 
¸óãLayîOfNeur⁄s
–
√ur⁄Num
, 
wgtNum
, 
œyî
 );

107 
≤nWeight
 
¸óãWeightNode
();

108 
dñëeWeightNode
(
≤nWeight
* 
wgth
);

109 
addWeightNode2WeightNode
(
≤nWeight
* 
wgth1
,Ö¬Weight* 
wgth2
);

112 
£tNodeId
(
≤nSåu˘
 
¬
, 
id
);

113 
gëNodeId
(
≤nSåu˘
 
¬
);

115 
£tNodeLayî
(
≤nSåu˘
 
¬
, 
œyî
);

116 
gëNodeLayî
(
≤nSåu˘
 
¬
);

118 
£tNodeUmbøl
(
≤nSåu˘
 
¬
, 
umbøl
);

119 
gëNodeUmbøl
(
≤nSåu˘
 
¬
);

122 
gëWeight
–
≤nWeight
 
wgth
 );

123 
£tWeight
–
≤nWeight
 
wgth
, 
vÆ
, 
idA˘uÆ
, 
idPªvio
 );

124 
upd©eWeight
–
≤nWeight
 
wgth
, 
vÆ
 );

126 
gëWeightPªvLayî
–
≤nSåu˘
 
¬
, 
idPªvNN
 );

127 
sigmoide
–
öput
 );

129 
lﬂdImg2NN
(
i
);

130 
wrôeNN2Img
();

132 
øndGíî©‹
();

134 
¥ötNN
();

136 
¸óãNeuølMARBOT
();

137 
åaöMARBOT
();

138 
evÆu©eMARBOT
();

140 
¸óãNeuølSOM
();

141 
åaöSOM
();

142 
evÆu©eSOM
();

144 
	mpublic
:

146 
cC⁄˚±uÆNN
();

147 ~
cC⁄˚±uÆNN
();

149 
¸óãNeuølNë
(c⁄° * 
tùo2
);

150 
åaö
();

151 
evÆu©e
();

153 
‰ìNN
();

155 * 
gëTùo
();

156 
£tTùo
(c⁄° * 
tùo2
);

158 
£tSètus
(
°©
);

159 
gëSètus
();

	@processors/numCognitive/numCognitive.cpp

1 
	~"numCognôive.h
"

4 
	$maö
( ){

5 
NumCognôivePro˚ss‹
 
m
;

6 
m
.
	`execuã
();

8 
	}
}

12 
	gNumCognôivePro˚ss‹
::
	$öô
()

14 
√tName
[] = "MARBOT";

16 
ªd
.
	`¸óãNeuølNë
(
√tName
);

17 
	}
}

19 
	gNumCognôivePro˚ss‹
::
	$°ï
()

22 
	}
}

24 
NumCognôivePro˚ss‹
::
	$˛ónup
()

26 
ªd
.
	`‰ìNN
();

27 
	}
}

	@processors/numCognitive/numCognitive.h

1 
	~"../../ba£/¥o˚ss‹.h
"

2 
	~"cNN.h
"

4 ˛as†
	cNumCognôivePro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚


6 
¥iv©e
:

8 
cC⁄˚±uÆNN
 
ªd
;

9 
NumCogD©a
 *
	mpNumCognôive
;

11 
	mpublic
:

13 
	$NumCognôivePro˚ss‹
(Ë: 
	$Pro˚ss‹I¡îÁ˚
()

18 
	`öô
();

19 
	`°ï
();

20 
	`˛ónup
();

22 
	}
};

	@processors/objCognitive/hitreg.cpp

1 
	~"hôªg.h
"

3 
	gHôReg
::
	$HôReg
()

5 
	}
}

7 
HôReg
::
	$HôReg
(
MemRegi°î
 *
ªg
, 
idSeg
, 
îr‹
)

9 
this
->
ªg
=reg;

10 
this
->
idSeg
=idSeg;

11 
this
->
îr‹
=error;

12 
	}
}

	@processors/objCognitive/hitreg.h

1 #i‚de‡
HITREG_H


2 
	#HITREG_H


	)

4 
	~"../../comm⁄/CogMem/memªgi°î.h
"

6 ˛as†
	cHôReg


8 
	mpublic
:

9 
HôReg
();

10 
HôReg
(
MemRegi°î
 *
ªg
,
idSeg
,
îr‹
);

11 
MemRegi°î
 *
	mªg
;

12 
	midSeg
;

13 
	mîr‹
;

	@processors/objCognitive/memorythread.cpp

1 
	~"mem‹ythªad.h
"

3 
	gMem‹yThªad
::
	$Mem‹yThªad
()

5 
	}
}

8 
Mem‹yThªad
::Mem‹yThªad(
nThªad
,
QMuãx
 *
muãx
,*
bëa
,
boﬁ
 *
hô
,
MemRegi°î
 * 
blob
,
MemSegmít
 *
£gmít
,
QLi°
<
HôReg
>*
ªsu…s
,*
îr‹
)

10 
	gthis
->
	gnThªad
 = 
nThªad
;

11 
	gthis
->
	gbëa
 = 
bëa
;

12 
	gthis
->
	gimage
 = 
image
;

13 
	gthis
->
	gmuãx
 = 
muãx
;

14 
	gthis
->
	ghô
 = 
hô
;

15 
	gthis
->
	gblob
 = 
blob
;

16 
	gthis
->
	g£gmít
 = 
£gmít
;

17 
	gthis
->
	gªsu…s
 = 
ªsu…s
;

18 
	gthis
->
	gîr‹
 = 
îr‹
;

21 
	gMem‹yThªad
::
	$run
(){

22 
m£
;

23 
£gmít
->
™n
->
	`lﬂdI≈utWôhImage
(*
blob
);

24 
£gmít
->
™n
->
	`„edF‹w¨d
();

25 
£gmít
->
™n
->
	`MSE
();

27 *
îr‹
 = 
MSE_FACTOR
 * 
£gmít
->
™n
->
m£_îr
;

28 
	`¥ötf
("Seg%dÉº‹:%f\n",
nThªad
,*
îr‹
);

29 
	`fÊush
(
°dout
);

31 if(*
îr‹
<*
bëa
){

32 
i
=0;i<
£gmít
->
nRegi°ros
;i++){

33 
m£
 = 
MSE_FACTOR
 * 
	`MSE
(
blob
->
imagí
,
£gmít
->
Regi°ros
[
i
].imagí,
IMAGESIZE
);

34 if(
m£
 < *
bëa
){

36 
muãx
->
	`lock
();

37 *
ªsu…s
 << 
	`HôReg
(&
£gmít
->
Regi°ros
[
i
],
nThªad
,
m£
);

38 
muãx
->
	`u∆ock
();

42 
	}
}

44 
	gMem‹yThªad
::
	$MSE
(*
a
, *
b
, 
to
, 
‰om
){

45 if(
a
==
NULL
 || 
b
==NULL){

46 
	`Ârötf
(
°dîr
,"MSE:Åheárrays must beÇotÇull");

48 if(
to
<
‰om
){

49 
	`Ârötf
(
°dîr
,"MSE: from must beÜest orÉqualÅhanÅo");

51 
sumîr
=0;

52 
ãmp
;

53 
i
=
‰om
;i<=
to
;i++){

54 
ãmp
 = 
b
[
i
]-
a
[i];

55 
ãmp
/=256;

56 
sumîr
 +
ãmp
*temp;

58  
sumîr
/(
to
-
‰om
+1);

59 
	}
}

	@processors/objCognitive/memorythread.h

1 #i‚de‡
MEMORYTHREAD_H


2 
	#MEMORYTHREAD_H


	)

4 
	~<QThªad
>

5 
	~<QMuãx
>

7 
	~"../../comm⁄/CogMem/mem£gmít.h
"

8 
	~"../../comm⁄/CogMem/memªgi°î.h
"

9 
	~"../../comm⁄/CogMem/ANN.h
"

10 
	~"hôªg.h
"

12 ˛as†
	cMem‹yThªad
 : 
public
 
QThªad


14 
public
:

15 
Mem‹yThªad
();

16 
Mem‹yThªad
(
nThªad
,
QMuãx
 *
muãx
, *
bëa
,
boﬁ
 *
hô
,
MemRegi°î
 * 
blob
,
MemSegmít
 *
£gmít
,
QLi°
<
HôReg
>*
ªsu…s
, * 
îr‹
);

17 
MemSegmít
* 
	m£gmít
;

19 
	m¥iv©e
:

20 
run
();

21 
	mid
;

22 
boﬁ
 *
	m¸ónuevo
,*
	mhô
;

23 * 
	mimage
;

24 
QMuãx
 * 
	mmuãx
;

25 
	mQLi°
<
	mHôReg
> *
	mªsu…s
;

26 *
	mbëa
,
	mnThªad
;

27 *
	mîr‹
;

28 
MemRegi°î
 * 
	mblob
;

29 
MSE
(* 
a
,* 
b
, 
size
,
‰om
=0);

	@processors/objCognitive/objCognitive.cpp

1 
	~"objCognôive.h
"

2 
	~<QtGui/QAµliˇti⁄
>

3 
	~"mem‹ythªad.h
"

4 
	~"hôªg.h
"

6 
usög
 
«me•a˚
 
	gcv
;

7 
	$maö
(
¨gc
, * 
¨gv
[]){

8 
QC‹eAµliˇti⁄
 
	`a
(
¨gc
, 
¨gv
);

10 
ObjCognôivePro˚ss‹
 
m
;

12 
m
.
	`execuã
();

15 
	}
}

18 
	gObjCognôivePro˚ss‹
::
	$ObjCognôivePro˚ss‹
(Ë: 
	$Pro˚ss‹I¡îÁ˚
()

21 
	}
}

23 
	gObjCognôivePro˚ss‹
::
	$öô
(){

24 
	`¥ötf
("ObjCognitiveProc: Init start\n");

27 
pCamîaBlobbî
 = (
CamBlobD©a
 *)
cda
.
	`gëMemPå
(
CAM_BLOB_AREA
);

28 
pObjCogProc
 = (
ObjCognôiveD©a
 *)
cda
.
	`gëMemPå
(
OBJ_COGNITIVE_AREA
);

30 
pCål
 = &(
pObjCogProc
->
˘æ
);

31 
£m_¨ó
 = 
OBJ_COGNITIVE_AREA
;

33 
ªsu…s
 = 
√w
 
QLi°
<
HôReg
>();

34 
boﬁ
 
exi°s
;

35 
nThªads
=1;

36 
Æpha
=
ALPHA
;

37 
bëa
=
BETA
;

38 
gamma
=
GAMMA
;

40 
fûíame
[500];

41 
FILE
 * 
fd
;

42 
a˘Reg
 = 
√w
 
	`MemRegi°î
();

45 
	`•rötf
(
fûíame
,"../../comm⁄/CogMem/Mem‹y/£gmíto%d.mem",
nThªads
);

46 
fd
 = 
	`f›í
(
fûíame
,"rb+");

47 if(
fd
 > 0){

48 
	`f˛o£
(
fd
);

49 
hô
 << 
Ál£
;

50 
îr‹s
 << 0;

51 
MemSegmít
 * 
ãmpSeg
 = 
√w
 
	`MemSegmít
(
fûíame
);

52 
£gmíts
 << 
ãmpSeg
;

53 
Mem‹yThªad
 * 
ãmp
 = 
√w
 
	`Mem‹yThªad
(
nThªads
,&
muãx
,&
bëa
,&
hô
[nThªads-1],
a˘Reg
,
£gmíts
[nThªads-1],
ªsu…s
, &
îr‹s
[nThreads-1]);

54 
memThªads
 << 
ãmp
;

55 
nThªads
++;

56 
exi°s
=
åue
;

58 
exi°s
=
Ál£
;

60 }
exi°s
);

63 if(
nThªads
==1){

64 
hô
 << 
Ál£
;

65 
îr‹s
 << 0;

66 
MemSegmít
 * 
ãmpSeg
 = 
√w
 
	`MemSegmít
();

67 
£gmíts
 << 
ãmpSeg
;

68 
Mem‹yThªad
 * 
ãmp
 = 
√w
 
	`Mem‹yThªad
(
nThªads
,&
muãx
,&
bëa
,&
hô
[nThªads-1],
a˘Reg
,
£gmíts
[nThªads-1],
ªsu…s
, &
îr‹s
[nThreads-1]);

69 
memThªads
 << 
ãmp
;

70 
nThªads
++;

73 
	`¥ötf
("AÕh®%d | Bë®%d | Gamm®%d \n",
Æpha
,
bëa
,
gamma
);

74 
	`¥ötf
("ObjCognitiveProc: Init done\n");

76 
	}
}

78 
	gObjCognôivePro˚ss‹
::
	$˛ónup
(){

81 
fûíame
[500];

83 
i
=0;i<
£gmíts
.
	`size
();i++){

85 
	`•rötf
(
fûíame
,"../../comm⁄/CogMem/Mem‹y/£gmíto%d.mem",
i
+1);

86 
£gmíts
.
	`©
(
i
)->
	`Save
(
fûíame
);

90 
	}
}

92 
	gObjCognôivePro˚ss‹
::
	$°ï
(){

94 
nBlobsL
,
nBlobsR
;

95 
MemRegi°î
 
blobs
[10];

101 
cda
.
	`lockAªa
(
CAM_BLOB_AREA
);

103 
nBlobsL
 = 
pCamîaBlobbî
->
L_nBlobs
;

104 
nBlobsR
 = 
pCamîaBlobbî
->
L_nBlobs
;

106 if(
pCamîaBlobbî
->
√wInfo
==1 && 
nBlobsL
>0){

108 
	`¥ötf
("%d Blobs\n",
nBlobsL
);

109 
	`fÊush
(
°dout
);

110 
pCamîaBlobbî
->
√wInfo
=0;

111 
i
=0;i<
nBlobsL
;i++){

112 
j
=0;j<
IMAGESIZE
;j++){

114 
blobs
[
i
].
imagí
[
j
]=(
pCamîaBlobbî
->
L_sˇÀdBlobs
[((i*
IMAGESIZE
)+j)*3] +

115 
pCamîaBlobbî
->
L_sˇÀdBlobs
[1+((
i
*
IMAGESIZE
)+
j
)*3] +

116 
pCamîaBlobbî
->
L_sˇÀdBlobs
[2+((
i
*
IMAGESIZE
)+
j
)*3])/3;;

120 
	`¥ötf
("no Blobs\n");

121 
	`fÊush
(
°dout
);

122 
cda
.
	`u∆ockAªa
(
CAM_BLOB_AREA
);

126 
cda
.
	`u∆ockAªa
(
CAM_BLOB_AREA
);

130 
cda
.
	`lockAªa
(
OBJ_COGNITIVE_AREA
);

131 
˛
=0;˛<(
FWIDTH
*
FHEIGHT
*3);cl++){

132 
pObjCogProc
->
L_cognôiveImg
[
˛
] = 
pCamîaBlobbî
->
L_‹igöÆImg
[cl];

134 
cda
.
	`u∆ockAªa
(
OBJ_COGNITIVE_AREA
);

139 
b
=0;b<
nBlobsL
;b++){

140 
ªsu…s
->
	`˛ór
();

141 
	`¥ötf
("blob %d\t",
b
);

142 
	`fÊush
(
°dout
);

144 
j
=0;j<
IMAGESIZE
;j++){

145 
a˘Reg
->
imagí
[
j
] = 
blobs
[
b
].imagen[j];

149 
j
=0;j<
nThªads
-1;j++){

151 
memThªads
[
j
]->
	`°¨t
();

155 
j
=0;j<
nThªads
-1;j++){

156 
memThªads
[
j
]->
	`waô
();

159 if(
ªsu…s
->
	`size
()>0){

160 
size
=
ªsu…s
->
	`size
();

163 
r
=1;r<
size
;r++){

164 
q
=0;q<(
size
-
r
);q++){

165 if(
ªsu…s
->
	`©
(
q
).
îr‹
>results->at(q+1).error){

166 
ªsu…s
->
	`sw≠
(
q
,q+1);

172 
cda
.
	`lockAªa
(
OBJ_COGNITIVE_AREA
);

175 
xBlob
 = 
pCamîaBlobbî
->
L_blobInfo
[4*
b
];

176 
yBlob
 = 
pCamîaBlobbî
->
L_blobInfo
[4*
b
+1];

180 
r
=0;

181 
sFa˘
 = 2;

182 
y
=0; y<
HEIGHT
*
sFa˘
;y++){

183 
x
=0;x<
WIDTH
*
sFa˘
;x++){

184 
pObjCogProc
->
L_cognôiveImg
[3*((
yBlob
+
y
)*
FWIDTH
 + (
xBlob
+
x
Ë+
r
*
WIDTH
)] = 
ªsu…s
->
	`©
‘).
ªg
->
imagí
[((y/
sFa˘
)*WIDTH)+(x/sFact)];

185 
pObjCogProc
->
L_cognôiveImg
[3*((
yBlob
+
y
)*
FWIDTH
 + (
xBlob
+
x
Ë+
r
*
WIDTH
)+1] = 
ªsu…s
->
	`©
‘).
ªg
->
imagí
[((y/
sFa˘
)*WIDTH)+(x/sFact)];

186 
pObjCogProc
->
L_cognôiveImg
[3*((
yBlob
+
y
)*
FWIDTH
 + (
xBlob
+
x
Ë+
r
*
WIDTH
)+2] = 
ªsu…s
->
	`©
‘).
ªg
->
imagí
[((y/
sFa˘
)*WIDTH)+(x/sFact)];

191 
cda
.
	`u∆ockAªa
(
OBJ_COGNITIVE_AREA
);

196 
möEº‹
=
îr‹s
[0];

197 
möEº‹NŸFuŒ
=
IMAGESIZE
*2;

198 
be°Thªad
=0;

199 
be°ThªadNŸFuŒ
=
nThªads
;

200 
r
=0;r<
nThªads
-1;r++){

202 if(
möEº‹NŸFuŒ
>
îr‹s
[
r
] && 
£gmíts
[r]->
nRegi°ros
<
NREG
){

203 
möEº‹NŸFuŒ
=
îr‹s
[
r
];

204 
be°ThªadNŸFuŒ
=
r
;

207 if(
möEº‹
>
îr‹s
[
r
]){

208 
möEº‹
=
îr‹s
[
r
];

209 
be°Thªad
=
r
;

213 
	`¥ötf
("möÉº‹: %f\t",
möEº‹
);

216 if(
	`evÆAddög
(
möEº‹
)){

217 
	`¥ötf
("ADDING REGISTER\n");

218 
	`fÊush
(
°dout
);

219 if(
be°ThªadNŸFuŒ
!
nThªads
){

220 
£gmíts
[
be°ThªadNŸFuŒ
]->
	`Add
(
blobs
[
b
]) ;

222 
	`¥ötf
("CREATING A NEW SEGMENT!\n");

223 
	`fÊush
(
°dout
);

224 
hô
 << 
Ál£
;

225 
îr‹s
 << 0;

226 
MemSegmít
 * 
ãmpSeg
 = 
√w
 
	`MemSegmít
();

227 
£gmíts
 << 
ãmpSeg
;

228 
Mem‹yThªad
 * 
ãmp
 = 
√w
 
	`Mem‹yThªad
(
nThªads
,&
muãx
,&
bëa
,&
hô
[nThªads-1],
a˘Reg
,
£gmíts
[nThªads-1],
ªsu…s
, &
îr‹s
[nThreads-1]);

229 
memThªads
 << 
ãmp
;

230 
£gmíts
[
be°Thªad
]->
	`Add
(
blobs
[
b
]);

231 
nThªads
++;

232 
	`¥ötf
("£gmíts: %d\n",
nThªads
-1);

235 
	`¥ötf
("NOT ADDING REGISTER\n");

236 
	`fÊush
(
°dout
);

242 
	}
}

244 
boﬁ
 
	gObjCognôivePro˚ss‹
::
	$evÆAddög
(
îr‹
){

245 if(
îr‹
<
Æpha
){

246  
Ál£
;

247 }if(
îr‹
<
bëa
){

248  
Ál£
;

249 }if(
îr‹
<
gamma
){

250  
åue
;

252  
Ál£
;

253 
	}
}

	@processors/objCognitive/objCognitive.h

1 
	~"../ba£/¥o˚ss‹.h
"

2 
	~"›ícv/cv.h
"

3 
	~"›ícv/highgui.h
"

5 
	~"mem‹ythªad.h
"

6 
	~"hôªg.h
"

8 ˛as†
	cObjCognôivePro˚ss‹
 : 
public
 
Pro˚ss‹I¡îÁ˚


10 
¥iv©e
:

12 
CamBlobD©a
 * 
pCamîaBlobbî
;

13 
ObjCognôiveD©a
 * 
	mpObjCogProc
;

16 
	mQLi°
<
	mMemSegmít
*> 
	m£gmíts
;

17 
	mQLi°
<
	mMem‹yThªad
*> 
	mmemThªads
;

18 
	mQLi°
<
	mboﬁ
> 
	mhô
;

19 
	mQLi°
<> 
	mîr‹s
;

20 
	mQLi°
<
	mHôReg
> *
	mªsu…s
;

21 
	mÆpha
,
	mbëa
,
	mgamma
,
	mnThªads
;

22 
QMuãx
 
	mmuãx
;

23 
boﬁ
 
	m¸ónuevo
;

24 
MemRegi°î
 *
	ma˘Reg
;

25 
boﬁ
 
evÆAddög
(
îr‹
);

27 
	mpublic
:

29 
ObjCognôivePro˚ss‹
();

30 
öô
();

31 
°ï
();

32 
˛ónup
();

	@utils/brainPeek/blobinfogui.cpp

1 
	~"bloböfogui.h
"

2 
	~"ui_bloböfogui.h
"

4 
	gBlobInfoGui
::
	$BlobInfoGui
(
QWidgë
 *
∑ª¡
) :

5 
	`QWidgë
(
∑ª¡
),

6 
	`ui
(
√w
 
Ui
::
BlobInfoGui
)

8 
ui
->
	`£tupUi
(
this
);

9 
	}
}

11 
	gBlobInfoGui
::~
	$BlobInfoGui
()

13 
dñëe
 
ui
;

14 
	}
}

16 
	gBlobInfoGui
::
	$£tPixm≠
 ( c⁄° 
QPixm≠
 & 
pix
){

17 
ui
->
image
->
	`£tPixm≠
(
pix
);

18 
	}
}

20 
	gBlobInfoGui
::
	$£tX
(
x
){

21 
ui
->
xLabñ
->
	`£tText
(
	`QSåög
().
	`£tNum
(
x
));

22 
	}
}

24 
	gBlobInfoGui
::
	$£tY
(
y
){

25 
ui
->
yLabñ
->
	`£tText
(
	`QSåög
().
	`£tNum
(
y
));

26 
	}
}

28 
	gBlobInfoGui
::
	$£tW
(
w
){

29 
ui
->
wLabñ
->
	`£tText
(
	`QSåög
().
	`£tNum
(
w
));

31 
	}
}

32 
	gBlobInfoGui
::
	$£tH
(
h
){

33 
ui
->
hLabñ
->
	`£tText
(
	`QSåög
().
	`£tNum
(
h
));

35 
	}
}

37 
	gBlobInfoGui
::
	$£tAŒ
(c⁄° 
QPixm≠
 & 
pix
, 
x
, 
y
, 
w
, 
h
){

38 
this
->
	`£tPixm≠
(
pix
);

39 
this
->
	`£tX
(
x
);

40 
this
->
	`£tY
(
y
);

41 
this
->
	`£tW
(
w
);

42 
this
->
	`£tH
(
h
);

43 
	}
}

45 
	gBlobInfoGui
::
	$£tLabñs
(
x
,
y
, 
w
, 
h
){

46 
this
->
	`£tX
(
x
);

47 
this
->
	`£tY
(
y
);

48 
this
->
	`£tW
(
w
);

49 
this
->
	`£tH
(
h
);

50 
	}
}

52 
	gBlobInfoGui
::
	$ª£t
(){

53 
ui
->
image
->
	`˛ór
();

54 
ui
->
xLabñ
->
	`£tText
("---");

55 
ui
->
yLabñ
->
	`£tText
("---");

56 
ui
->
wLabñ
->
	`£tText
("---");

57 
ui
->
hLabñ
->
	`£tText
("---");

58 
	}
}

	@utils/brainPeek/blobinfogui.h

1 #i‚de‡
BLOBINFOGUI_H


2 
	#BLOBINFOGUI_H


	)

4 
	~<QWidgë
>

6 
«me•a˚
 
	gUi
 {

7 
˛ass
 
	gBlobInfoGui
;

10 ˛as†
	cBlobInfoGui
 : 
public
 
QWidgë


12 
Q_OBJECT


14 
public
:

15 
ex∂icô
 
BlobInfoGui
(
QWidgë
 *
∑ª¡
 = 0);

16 ~
BlobInfoGui
();

17 
£tPixm≠
 ( c⁄° 
QPixm≠
 & );

18 
£tX
(
x
);

19 
£tY
(
y
);

20 
£tW
(
w
);

21 
£tH
(
h
);

22 
£tAŒ
(c⁄° 
QPixm≠
 & , 
x
, 
y
, 
w
, 
h
);

23 
£tLabñs
(
x
,
y
, 
w
, 
h
);

24 
ª£t
();

25 
	m¥iv©e
:

26 
Ui
::
BlobInfoGui
 *
ui
;

	@utils/brainPeek/bpwidget.cpp

1 
	~"bpwidgë.h
"

2 
	~"ui_bpwidgë.h
"

3 
	~"../../comm⁄/CDA/comm⁄D©aAªa.h
"

4 
	~"../../¥o˚ss‹s/ba£/¥o˚ss‹.h
"

7 
	gbpWIdgë
::
	$bpWIdgë
(
QWidgë
 *
∑ª¡
) :

8 
	`QWidgë
(
∑ª¡
),

9 
	`ui
(
√w
 
Ui
::
bpWIdgë
)

12 
CDA
 
cda
;

13 
CamBlobD©a
 * 
pCamBlob
;

14 
ui
->
	`£tupUi
(
this
);

16 
pCamBlob
 = (
CamBlobD©a
*Ë
cda
.
	`gëMemPå
(
CAM_BLOB_AREA
);

17 
QImage
 * 
image
;

20 
image
 = 
√w
 
	`QImage
(
	`QSize
(640,480),
QImage
::
F‹m©_RGB888
);

21 
i
=0;i<640*480*3;i++){

22 
image
->
	`bôs
()[
i
]=
pCamBlob
->
L_‹igöÆImg
[i];

24 
ui
->
L_Image
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
).
	`sˇÀd
(ui->L_Image->
	`geomëry
().
	`width
(),ui->L_Image->geomëry().
	`height
()));

26 
i
=0;i<640*480*3;i++){

27 
image
->
	`bôs
()[
i
]=
pCamBlob
->
L_blobbedImg
[i];

29 
ui
->
L_blobbed
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
).
	`sˇÀd
(ui->L_blobbed->
	`geomëry
().
	`width
(),ui->L_blobbed->geomëry().
	`height
()));

31 
	`‰ì
(
image
);

34 
image
 = 
√w
 
	`QImage
(
	`QSize
(640,480),
QImage
::
F‹m©_RGB888
);

35 
i
=0;i<640*480*3;i++){

36 
image
->
	`bôs
()[
i
]=
pCamBlob
->
R_‹igöÆImg
[i];

38 
ui
->
R_Image
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
).
	`sˇÀd
(ui->R_Image->
	`geomëry
().
	`width
(),ui->R_Image->geomëry().
	`height
()));

40 
i
=0;i<640*480*3;i++){

41 
image
->
	`bôs
()[
i
]=
pCamBlob
->
R_blobbedImg
[i];

43 
ui
->
R_blobbed
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
).
	`sˇÀd
(ui->R_blobbed->
	`geomëry
().
	`width
(),ui->R_blobbed->geomëry().
	`height
()));

45 
	`‰ì
(
image
);

46 
image
 = 
√w
 
	`QImage
(
	`QSize
(32,30),
QImage
::
F‹m©_RGB888
);

48 
j
=0;j<
pCamBlob
->
L_nBlobs
;j++){

50 
i
=0;i<(960*3);i++){

51 
image
->
	`bôs
()[
i
]=
pCamBlob
->
L_sˇÀdBlobs
[(960*3*
j
)+i];

54 
j
){

55 0: 
ui
->
L_blob_01
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

56 1: 
ui
->
L_blob_02
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

57 2: 
ui
->
L_blob_03
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

58 3: 
ui
->
L_blob_04
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

59 4: 
ui
->
L_blob_05
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

60 5: 
ui
->
L_blob_06
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

61 6: 
ui
->
L_blob_07
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

62 7: 
ui
->
L_blob_08
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

63 8: 
ui
->
L_blob_09
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

64 9: 
ui
->
L_blob_10
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

69 
j
=0;j<
pCamBlob
->
R_nBlobs
;j++){

71 
i
=0;i<(960*3);i++){

72 
image
->
	`bôs
()[
i
]=
pCamBlob
->
R_sˇÀdBlobs
[(960*3*
j
)+i];

75 
j
){

76 0: 
ui
->
R_blob_01
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

77 1: 
ui
->
R_blob_02
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

78 2: 
ui
->
R_blob_03
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

79 3: 
ui
->
R_blob_04
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

80 4: 
ui
->
R_blob_05
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

81 5: 
ui
->
R_blob_06
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

82 6: 
ui
->
R_blob_07
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

83 7: 
ui
->
R_blob_08
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

84 8: 
ui
->
R_blob_09
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

85 9: 
ui
->
R_blob_10
->
	`£tPixm≠
(
QPixm≠
::
	`‰omImage
(*
image
)); ;

89 
	`‰ì
(
image
);

90 
	`de°roy
(
pCamBlob
);

92 
	}
}

94 
	gbpWIdgë
::~
	$bpWIdgë
()

96 
dñëe
 
ui
;

97 
	}
}

99 
	gbpWIdgë
::
	$c‹ªC≠tuø
(){

100 
CDA
 
cda
;

101 
CamBlobD©a
 * 
pCamBlob
;

102 
ObjCognôiveD©a
 * 
pCogMem
;

104 
pCamBlob
 = (
CamBlobD©a
*Ë
cda
.
	`gëMemPå
(
CAM_BLOB_AREA
);

105 
pCogMem
 = (
ObjCognôiveD©a
*Ë
cda
.
	`gëMemPå
(
OBJ_COGNITIVE_AREA
);

107 
pCamBlob
->
˘æ
.
lo›
 = 
run_cmd
;

108 
pCogMem
->
˘æ
.
lo›
 = 
run_cmd
;

110 
cmd
 = 0;

111 
timîid
 = 
	`°¨tTimî
(200);

112 
	}
}

114 
	gbpWIdgë
::
	$timîEvít
(
QTimîEvít
* 
evít
){

116 if(
cmd
==1)
	`kûlTimî
(
timîid
);

117 
	`ª‰esˇr
();

119 
	}
}

121 
	gbpWIdgë
::
	$∑soC≠tuø
(){

122 
	`kûlTimî
(
timîid
);

124 
CDA
 
cda
;

125 
CamBlobD©a
 * 
pCamBlob
;

126 
ObjCognôiveD©a
 * 
pCogMem
;

128 
pCamBlob
 = (
CamBlobD©a
*Ë
cda
.
	`gëMemPå
(
CAM_BLOB_AREA
);

129 
pCogMem
 = (
ObjCognôiveD©a
*Ë
cda
.
	`gëMemPå
(
OBJ_COGNITIVE_AREA
);

131 
pCamBlob
->
˘æ
.
lo›
 = 
°ï_cmd
;

132 
pCogMem
->
˘æ
.
lo›
 = 
°ï_cmd
;

134 
cmd
 = 1;

135 
timîid
 = 
	`°¨tTimî
(200);

137 
	}
}

139 
	gbpWIdgë
::
	$ª‰esˇr
(){

141 
CDA
 
cda
;

142 
CamBlobD©a
 * 
pCamBlob
;

143 
ObjCognôiveD©a
 * 
pCogMem
;

145 
pCamBlob
 = (
CamBlobD©a
*Ë
cda
.
	`gëMemPå
(
CAM_BLOB_AREA
);

146 
pCogMem
 = (
ObjCognôiveD©a
*Ë
cda
.
	`gëMemPå
(
OBJ_COGNITIVE_AREA
);

148 
QImage
 
	`image
(
	`QSize
(640,480),QImage::
F‹m©_RGB888
);

149 
QPixm≠
 
‹igöÆ
;

150 
QPixm≠
 
blobs
;

153 
i
=0;i<640*480*3;i++){

154 
image
.
	`bôs
()[
i
]=(
pCamBlob
->
L_‹igöÆImg
[i] +ÖCamBlob->
L_blobbedImg
[i])/2;

157 
‹igöÆ
 = 
QPixm≠
::
	`‰omImage
(
image
.
	`sˇÀd
(
ui
->
L_Image
->
	`geomëry
().
	`width
(),ui->L_Image->geomëry().
	`height
()));

158 
ui
->
L_Image
->
	`£tPixm≠
(
‹igöÆ
);

161 
i
=0;i<640*480*3;i++){

162 
image
.
	`bôs
()[
i
]=(
pCamBlob
->
R_‹igöÆImg
[i] +ÖCamBlob->
R_blobbedImg
[i])/2;

165 
‹igöÆ
 = 
QPixm≠
::
	`‰omImage
(
image
.
	`sˇÀd
(
ui
->
R_Image
->
	`geomëry
().
	`width
(),ui->R_Image->geomëry().
	`height
()));

166 
ui
->
R_Image
->
	`£tPixm≠
(
‹igöÆ
);

169 
i
=0;i<640*480*3;i++){

171 
image
.
	`bôs
()[
i
]=
pCogMem
->
L_cognôiveImg
[i];

174 
blobs
 = 
QPixm≠
::
	`‰omImage
(
image
);

175 
ui
->
L_blobbed
->
	`£tPixm≠
(
blobs
.
	`sˇÀd
(ui->L_blobbed->
	`geomëry
().
	`width
(),ui->L_blobbed->geomëry().
	`height
()));

178 
i
=0;i<640*480*3;i++){

181 
image
.
	`bôs
()[
i
]=
pCogMem
->
R_cognôiveImg
[i];

184 
blobs
 = 
QPixm≠
::
	`‰omImage
(
image
);

185 
ui
->
R_blobbed
->
	`£tPixm≠
(
blobs
.
	`sˇÀd
(ui->R_blobbed->
	`geomëry
().
	`width
(),ui->R_blobbed->geomëry().
	`height
()));

188 
QImage
 
	`blob
(
	`QSize
(32,30),QImage::
F‹m©_RGB888
);

190 
bx
,
by
,
bw
,
bh
;

192 
j
=0;j<
pCamBlob
->
L_nBlobs
;j++){

194 
i
=0;i<(960*3);i++){

195 
blob
.
	`bôs
()[
i
]=
pCamBlob
->
L_sˇÀdBlobs
[(960*3*
j
)+i];

197 
bx
 = 
pCamBlob
->
L_blobInfo
[4*
j
];

198 
by
 = 
pCamBlob
->
L_blobInfo
[4*
j
+1];

199 
bw
 = 
pCamBlob
->
L_blobInfo
[4*
j
+2]-
bx
;

200 
bh
 = 
pCamBlob
->
L_blobInfo
[4*
j
+3]-
by
;

202 
QPixm≠
 
tmp
;

203 
tmp
 = 
QPixm≠
::
	`‰omImage
(
blob
);

204 
j
){

205 0: 
ui
->
L_blob_01
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

206 1: 
ui
->
L_blob_02
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

207 2: 
ui
->
L_blob_03
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

208 3: 
ui
->
L_blob_04
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

209 4: 
ui
->
L_blob_05
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

210 5: 
ui
->
L_blob_06
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

211 6: 
ui
->
L_blob_07
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

212 7: 
ui
->
L_blob_08
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

213 8: 
ui
->
L_blob_09
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

214 9: 
ui
->
L_blob_10
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

220 
j
=0;j<
pCamBlob
->
R_nBlobs
;j++){

222 
i
=0;i<(960*3);i++){

223 
blob
.
	`bôs
()[
i
]=
pCamBlob
->
R_sˇÀdBlobs
[(960*3*
j
)+i];

226 
bx
 = 
pCamBlob
->
L_blobInfo
[4*
j
];

227 
by
 = 
pCamBlob
->
L_blobInfo
[4*
j
+1];

228 
bw
 = 
pCamBlob
->
L_blobInfo
[4*
j
+2]-
bx
;

229 
bh
 = 
pCamBlob
->
L_blobInfo
[4*
j
+3]-
by
;

231 
QPixm≠
 
tmp
;

232 
tmp
 = 
QPixm≠
::
	`‰omImage
(
blob
);

233 
j
){

234 0: 
ui
->
R_blob_01
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

235 1: 
ui
->
R_blob_02
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

236 2: 
ui
->
R_blob_03
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

237 3: 
ui
->
R_blob_04
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

238 4: 
ui
->
R_blob_05
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

239 5: 
ui
->
R_blob_06
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

240 6: 
ui
->
R_blob_07
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

241 7: 
ui
->
R_blob_08
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

242 8: 
ui
->
R_blob_09
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

243 9: 
ui
->
R_blob_10
->
	`£tAŒ
(
tmp
,
bx
,
by
,
bw
,
bh
); ;

247 
	}
}

249 
	gbpWIdgë
::
	$hÆt_Æl
(){

251 
CDA
 
cda
;

252 
CamBlobD©a
 * 
pCamBlob
;

253 
ObjCognôiveD©a
 * 
pCogMem
;

255 
pCamBlob
 = (
CamBlobD©a
*Ë
cda
.
	`gëMemPå
(
CAM_BLOB_AREA
);

256 
pCogMem
 = (
ObjCognôiveD©a
*Ë
cda
.
	`gëMemPå
(
OBJ_COGNITIVE_AREA
);

258 
pCamBlob
->
˘æ
.
lo›
 = 
hÆt_cmd
;

259 
pCogMem
->
˘æ
.
lo›
 = 
hÆt_cmd
;

260 
	}
}

262 
	gbpWIdgë
::
	$upd©eTªshﬁds
(){

264 
ui
->
¶idîAÕha
->
	`vÆue
();

265 
	}
}

	@utils/brainPeek/bpwidget.h

1 #i‚de‡
BPWIDGET_H


2 
	#BPWIDGET_H


	)

4 
	~<QWidgë
>

5 
	~"bloböfogui.h
"

7 
«me•a˚
 
	gUi
 {

8 
˛ass
 
	gbpWIdgë
;

11 ˛as†
	cbpWIdgë
 : 
public
 
QWidgë


13 
Q_OBJECT


15 
public
:

16 
ex∂icô
 
bpWIdgë
(
QWidgë
 *
∑ª¡
 = 0);

17 ~
bpWIdgë
();

18 
timîEvít
(
QTimîEvít
*);

20 
	m¥iv©e
:

21 
Ui
::
bpWIdgë
 *
ui
;

22 
ª‰esˇr
();

23 
	mtimîid
;

24 
	mcmd
;

26 
public
 
	m¶Ÿs
:

27 
∑soC≠tuø
();

28 
c‹ªC≠tuø
();

29 
hÆt_Æl
();

30 
upd©eTªshﬁds
();

	@utils/brainPeek/main.cpp

1 
	~<QtGui/QAµliˇti⁄
>

2 
	~"bpwidgë.h
"

4 
	$maö
(
¨gc
, *
¨gv
[])

6 
QAµliˇti⁄
 
	`a
(
¨gc
, 
¨gv
);

7 
bpWIdgë
 
w
;

8 
w
.
	`show
();

10  
a
.
	`exec
();

11 
	}
}

	@utils/memoryTrainer/memoryTrainer.cpp

1 
	~"../../comm⁄/CogMem/mem£gmít.h
"

2 
	~"../../comm⁄/CogMem/memªgi°î.h
"

3 
	~"../../comm⁄/CogMem/ANN.h
"

4 
	~"mem‹yTøöî.h
"

5 
	~<QtGui/QAµliˇti⁄
>

7 
	$maö
(
¨gc
, * 
¨gv
[])

9 
QC‹eAµliˇti⁄
 
	`a
(
¨gc
, 
¨gv
);

11 
QLi°
<
Mem‹yTøöî
*> 
memTøöîs
;

12 
boﬁ
 
exi°s
;

13 
i
=1;

15 
fûíame
[500];

16 
FILE
 * 
fd
;

19 
	`•rötf
(
fûíame
,"../../comm⁄/CogMem/Mem‹y/£gmíto%d.mem",
i
);

20 
fd
 = 
	`f›í
(
fûíame
,"rb+");

21 if(
fd
 > 0){

22 
	`f˛o£
(
fd
);

23 
Mem‹yTøöî
 * 
ãmp
 = 
√w
 
	`Mem‹yTøöî
(
i
);

24 
memTøöîs
 << 
ãmp
;

25 
memTøöîs
[
i
-1]->
	`°¨t
();

26 
i
++;

27 
exi°s
=
åue
;

30 
exi°s
=
Ál£
;

32 }
exi°s
);

34 
j
=0;j<
i
-1;j++){

35 
memTøöîs
[
j
]->
	`waô
();

38 
	}
}

39 
	gMem‹yTøöî
::
	$Mem‹yTøöî
(){

40 
	}
}

43 
Mem‹yTøöî
::
	$Mem‹yTøöî
(
id_
)

45 
id
 = 
id_
;

46 
	}
}

47 
	gMem‹yTøöî
::
	$run
()

49 
MemSegmít
 *
£gmít
;

50 
fûíame
[500];

52 
	`•rötf
(
fûíame
,"../../comm⁄/CogMem/Mem‹y/£gmíto%d.mem",
id
);

54 
£gmít
 = 
√w
 
	`MemSegmít
(
fûíame
);

55 
£gmít
->
™n
->
	`back¥›Fa˚
(30);

56 
£gmít
->
	`Save
(
fûíame
);

57 
	}
}

	@utils/memoryTrainer/memoryTrainer.h

1 #i‚de‡
MEMORYTRAINER_H


2 
	#MEMORYTRAINER_H


	)

4 
	~<QThªad
>

5 ˛as†
	cMem‹yTøöî
 :
public
 
QThªad
{

6 
Q_OBJECT


7 
public
:

8 
Mem‹yTøöî
();

9 
Mem‹yTøöî
(const MemoryTrainer &);

10 
Mem‹yTøöî
(
id
);

11 
	mid
;

12 
	m¥Ÿe˘ed
:

13 
run
();

	@/usr/include/X11/Xlib.h

33 #i‚de‡
_X11_XLIB_H_


34 
	#_X11_XLIB_H_


	)

36 
	#XlibS≥cifiˇti⁄Rñó£
 6

	)

38 
	~<sys/ty≥s.h
>

40 #i‡
deföed
(
__SCO__
Ë|| deföed(
__UNIXWARE__
)

41 
	~<°döt.h
>

44 
	~<X11/X.h
>

47 
	~<X11/Xfun˝rŸo.h
>

48 
	~<X11/Xosdefs.h
>

50 #i‚de‡
X_WCHAR


51 
	~<°ddef.h
>

53 #ifde‡
__UNIXOS2__


54 
	~<°dlib.h
>

57 
	twch¨_t
;

61 #i‡
deföed
(
ISC
Ë&& deföed(
USE_XMBTOWC
)

62 
	#w˘omb
(
a
,
b
Ë
	`_Xw˘omb
◊,b)

	)

63 
	#mbÀn
(
a
,
b
Ë
	`_XmbÀn
◊,b)

	)

64 #i‚de‡
USE_XWCHAR_STRING


65 
	#mbtowc
(
a
,
b
,
c
Ë
	`_Xmbtowc
◊,b,c)

	)

70 
_XmbÀn
(

71 #ifde‡
ISC


72 c⁄° *
°r
,

73 
size_t
 
Àn


75 *
°r
,

76 
Àn


82 
	#X_HAVE_UTF8_STRING
 1

	)

84 *
	tXPoöãr
;

86 
	#Boﬁ
 

	)

87 
	#Sètus
 

	)

88 
	#True
 1

	)

89 
	#FÆ£
 0

	)

91 
	#QueuedAÃódy
 0

	)

92 
	#QueuedA·îRódög
 1

	)

93 
	#QueuedA·îFlush
 2

	)

95 
	#C⁄√˘i⁄Numbî
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
fd
)

	)

96 
	#RoŸWödow
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
roŸ
)

	)

97 
	#DeÁu…S¸ìn
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
deÁu…_s¸ìn
)

	)

98 
	#DeÁu…RoŸWödow
(
dpy
Ë(
	`S¸ìnOfDi•œy
(dpy,
	`DeÁu…S¸ìn
(dpy))->
roŸ
)

	)

99 
	#DeÁu…VisuÆ
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
roŸ_visuÆ
)

	)

100 
	#DeÁu…GC
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
deÁu…_gc
)

	)

101 
	#BœckPixñ
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
bœck_pixñ
)

	)

102 
	#WhôePixñ
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
whôe_pixñ
)

	)

103 
	#AŒPœ√s
 (()~0L)

	)

104 
	#QLígth
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
qÀn
)

	)

105 
	#Di•œyWidth
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
width
)

	)

106 
	#Di•œyHeight
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
height
)

	)

107 
	#Di•œyWidthMM
(
dpy
, 
s¸
)(
	`S¸ìnOfDi•œy
(dpy,s¸)->
mwidth
)

	)

108 
	#Di•œyHeightMM
(
dpy
, 
s¸
)(
	`S¸ìnOfDi•œy
(dpy,s¸)->
mheight
)

	)

109 
	#Di•œyPœ√s
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
roŸ_dïth
)

	)

110 
	#Di•œyCñls
(
dpy
, 
s¸
Ë(
	`DeÁu…VisuÆ
(dpy,s¸)->
m≠_íåõs
)

	)

111 
	#S¸ìnCou¡
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
ns¸ìns
)

	)

112 
	#SîvîVíd‹
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
víd‹
)

	)

113 
	#PrŸocﬁVîsi⁄
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
¥Ÿo_maj‹_vîsi⁄
)

	)

114 
	#PrŸocﬁRevisi⁄
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
¥Ÿo_mö‹_vîsi⁄
)

	)

115 
	#Víd‹Rñó£
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
ªÀa£
)

	)

116 
	#Di•œySåög
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
di•œy_«me
)

	)

117 
	#DeÁu…Dïth
(
dpy
, 
s¸
Ë(
	`S¸ìnOfDi•œy
(dpy,s¸)->
roŸ_dïth
)

	)

118 
	#DeÁu…Cﬁ‹m≠
(
dpy
, 
s¸
)(
	`S¸ìnOfDi•œy
(dpy,s¸)->
cm≠
)

	)

119 
	#Bôm≠Unô
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
bôm≠_unô
)

	)

120 
	#Bôm≠BôOrdî
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
bôm≠_bô_‹dî
)

	)

121 
	#Bôm≠Pad
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
bôm≠_∑d
)

	)

122 
	#ImageByãOrdî
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
byã_‹dî
)

	)

123 #ifde‡
CRAY


124 
	#NextReque°
(
dpy
Ë
	`XNextReque°
(dpy)

	)

126 
	#NextReque°
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
ªque°
 + 1)

	)

128 
	#La°KnownReque°Pro˚s£d
(
dpy
Ë(((
_XPrivDi•œy
)dpy)->
œ°_ªque°_ªad
)

	)

131 
	#S¸ìnOfDi•œy
(
dpy
, 
s¸
)(&((
_XPrivDi•œy
)dpy)->
s¸ìns
[s¸])

	)

132 
	#DeÁu…S¸ìnOfDi•œy
(
dpy
Ë
	`S¸ìnOfDi•œy
(dpy,
	`DeÁu…S¸ìn
(dpy))

	)

133 
	#Di•œyOfS¸ìn
(
s
Ë((s)->
di•œy
)

	)

134 
	#RoŸWödowOfS¸ìn
(
s
Ë((s)->
roŸ
)

	)

135 
	#BœckPixñOfS¸ìn
(
s
Ë((s)->
bœck_pixñ
)

	)

136 
	#WhôePixñOfS¸ìn
(
s
Ë((s)->
whôe_pixñ
)

	)

137 
	#DeÁu…Cﬁ‹m≠OfS¸ìn
(
s
)((s)->
cm≠
)

	)

138 
	#DeÁu…DïthOfS¸ìn
(
s
Ë((s)->
roŸ_dïth
)

	)

139 
	#DeÁu…GCOfS¸ìn
(
s
Ë((s)->
deÁu…_gc
)

	)

140 
	#DeÁu…VisuÆOfS¸ìn
(
s
)((s)->
roŸ_visuÆ
)

	)

141 
	#WidthOfS¸ìn
(
s
Ë((s)->
width
)

	)

142 
	#HeightOfS¸ìn
(
s
Ë((s)->
height
)

	)

143 
	#WidthMMOfS¸ìn
(
s
Ë((s)->
mwidth
)

	)

144 
	#HeightMMOfS¸ìn
(
s
Ë((s)->
mheight
)

	)

145 
	#Pœ√sOfS¸ìn
(
s
Ë((s)->
roŸ_dïth
)

	)

146 
	#CñlsOfS¸ìn
(
s
Ë(
	`DeÁu…VisuÆOfS¸ìn
((s))->
m≠_íåõs
)

	)

147 
	#MöCm≠sOfS¸ìn
(
s
Ë((s)->
mö_m≠s
)

	)

148 
	#MaxCm≠sOfS¸ìn
(
s
Ë((s)->
max_m≠s
)

	)

149 
	#D€sSaveUndîs
(
s
Ë((s)->
ßve_undîs
)

	)

150 
	#D€sBackögSt‹e
(
s
Ë((s)->
backög_°‹e
)

	)

151 
	#EvítMaskOfS¸ìn
(
s
Ë((s)->
roŸ_öput_mask
)

	)

156 
	s_XExtD©a
 {

157 
	mnumbî
;

158 
_XExtD©a
 *
	m√xt
;

159 (*
	m‰ì_¥iv©e
)(

160 
_XExtD©a
 *
	mexãnsi⁄


162 
XPoöãr
 
	m¥iv©e_d©a
;

163 } 
	tXExtD©a
;

169 
	mexãnsi⁄
;

170 
	mmaj‹_›code
;

171 
	mfú°_evít
;

172 
	mfú°_îr‹
;

173 } 
	tXExtCodes
;

180 
	mdïth
;

181 
	mbôs_≥r_pixñ
;

182 
	msˇ∆öe_∑d
;

183 } 
	tXPixm≠F‹m©VÆues
;

190 
	mfun˘i⁄
;

191 
	m∂™e_mask
;

192 
	mf‹eground
;

193 
	mbackground
;

194 
	mlöe_width
;

195 
	mlöe_°yÀ
;

196 
	mˇp_°yÀ
;

198 
	mjoö_°yÀ
;

199 
	mfûl_°yÀ
;

201 
	mfûl_ruÀ
;

202 
	m¨c_mode
;

203 
Pixm≠
 
	mtûe
;

204 
Pixm≠
 
	m°ù∂e
;

205 
	mts_x_‹igö
;

206 
	mts_y_‹igö
;

207 
F⁄t
 
	mf⁄t
;

208 
	msubwödow_mode
;

209 
Boﬁ
 
	mgøphics_exposuªs
;

210 
	m˛ù_x_‹igö
;

211 
	m˛ù_y_‹igö
;

212 
Pixm≠
 
	m˛ù_mask
;

213 
	mdash_off£t
;

214 
	mdashes
;

215 } 
	tXGCVÆues
;

222 
	g_XGC


223 #ifde‡
	tXLIB_ILLEGAL_ACCESS


225 
XExtD©a
 *
	gext_d©a
;

226 
GC⁄ãxt
 
	ggid
;

230 *
	tGC
;

236 
XExtD©a
 *
	mext_d©a
;

237 
VisuÆID
 
	mvisuÆid
;

238 #i‡
deföed
(
__˝lu•lus
Ë|| deföed(
c_∂u•lus
)

239 
	mc_˛ass
;

241 
	m˛ass
;

243 
	mªd_mask
, 
	mgªí_mask
, 
	mblue_mask
;

244 
	mbôs_≥r_rgb
;

245 
	mm≠_íåõs
;

246 } 
	tVisuÆ
;

252 
	mdïth
;

253 
	mnvisuÆs
;

254 
VisuÆ
 *
	mvisuÆs
;

255 } 
	tDïth
;

263 
	g_XDi•œy
;

266 
XExtD©a
 *
	mext_d©a
;

267 
_XDi•œy
 *
	mdi•œy
;

268 
Wödow
 
	mroŸ
;

269 
	mwidth
, 
	mheight
;

270 
	mmwidth
, 
	mmheight
;

271 
	mndïths
;

272 
Dïth
 *
	mdïths
;

273 
	mroŸ_dïth
;

274 
VisuÆ
 *
	mroŸ_visuÆ
;

275 
GC
 
	mdeÁu…_gc
;

276 
Cﬁ‹m≠
 
	mcm≠
;

277 
	mwhôe_pixñ
;

278 
	mbœck_pixñ
;

279 
	mmax_m≠s
, 
	mmö_m≠s
;

280 
	mbackög_°‹e
;

281 
Boﬁ
 
	mßve_undîs
;

282 
	mroŸ_öput_mask
;

283 } 
	tS¸ìn
;

289 
XExtD©a
 *
	mext_d©a
;

290 
	mdïth
;

291 
	mbôs_≥r_pixñ
;

292 
	msˇ∆öe_∑d
;

293 } 
	tS¸ìnF‹m©
;

299 
Pixm≠
 
	mbackground_pixm≠
;

300 
	mbackground_pixñ
;

301 
Pixm≠
 
	mb‹dî_pixm≠
;

302 
	mb‹dî_pixñ
;

303 
	mbô_gøvôy
;

304 
	mwö_gøvôy
;

305 
	mbackög_°‹e
;

306 
	mbackög_∂™es
;

307 
	mbackög_pixñ
;

308 
Boﬁ
 
	mßve_undî
;

309 
	mevít_mask
;

310 
	mdo_nŸ_¥›ag©e_mask
;

311 
Boﬁ
 
	movîride_ªdúe˘
;

312 
Cﬁ‹m≠
 
	mcﬁ‹m≠
;

313 
Curs‹
 
	mcurs‹
;

314 } 
	tXSëWödowAâribuãs
;

317 
	mx
, 
	my
;

318 
	mwidth
, 
	mheight
;

319 
	mb‹dî_width
;

320 
	mdïth
;

321 
VisuÆ
 *
	mvisuÆ
;

322 
Wödow
 
	mroŸ
;

323 #i‡
deföed
(
__˝lu•lus
Ë|| deföed(
c_∂u•lus
)

324 
	mc_˛ass
;

326 
	m˛ass
;

328 
	mbô_gøvôy
;

329 
	mwö_gøvôy
;

330 
	mbackög_°‹e
;

331 
	mbackög_∂™es
;

332 
	mbackög_pixñ
;

333 
Boﬁ
 
	mßve_undî
;

334 
Cﬁ‹m≠
 
	mcﬁ‹m≠
;

335 
Boﬁ
 
	mm≠_ö°ÆÀd
;

336 
	mm≠_°©e
;

337 
	mÆl_evít_masks
;

338 
	myour_evít_mask
;

339 
	mdo_nŸ_¥›ag©e_mask
;

340 
Boﬁ
 
	movîride_ªdúe˘
;

341 
S¸ìn
 *
	ms¸ìn
;

342 } 
	tXWödowAâribuãs
;

350 
	mÁmûy
;

351 
	mÀngth
;

352 *
	maddªss
;

353 } 
	tXHo°Addªss
;

359 
	mty≥Àngth
;

360 
	mvÆuñígth
;

361 *
	mty≥
;

362 *
	mvÆue
;

363 } 
	tXSîvîI¡î¥ëedAddªss
;

368 
	s_XImage
 {

369 
	mwidth
, 
	mheight
;

370 
	mxoff£t
;

371 
	mf‹m©
;

372 *
	md©a
;

373 
	mbyã_‹dî
;

374 
	mbôm≠_unô
;

375 
	mbôm≠_bô_‹dî
;

376 
	mbôm≠_∑d
;

377 
	mdïth
;

378 
	mbyãs_≥r_löe
;

379 
	mbôs_≥r_pixñ
;

380 
	mªd_mask
;

381 
	mgªí_mask
;

382 
	mblue_mask
;

383 
XPoöãr
 
	mobd©a
;

384 
	sfuncs
 {

385 
	m_XImage
 *(*
	m¸óã_image
)(

386 
	m_XDi•œy
* ,

387 
	mVisuÆ
* ,

396 (*
	mde°roy_image
Ë(
	m_XImage
 *);

397 (*
	mgë_pixñ
Ë(
	m_XImage
 *, , );

398 (*
	mput_pixñ
Ë(
	m_XImage
 *, , , );

399 
	m_XImage
 *(*
	msub_image
)(_XImage *, , , , );

400 (*
	madd_pixñ
Ë(
	m_XImage
 *, );

401 } 
	mf
;

402 } 
	tXImage
;

408 
	mx
, 
	my
;

409 
	mwidth
, 
	mheight
;

410 
	mb‹dî_width
;

411 
Wödow
 
	msiblög
;

412 
	m°ack_mode
;

413 } 
	tXWödowCh™ges
;

419 
	mpixñ
;

420 
	mªd
, 
	mgªí
, 
	mblue
;

421 
	mÊags
;

422 
	m∑d
;

423 } 
	tXCﬁ‹
;

431 
	mx1
, 
	my1
, 
	mx2
, 
	my2
;

432 } 
	tXSegmít
;

435 
	mx
, 
	my
;

436 } 
	tXPoöt
;

439 
	mx
, 
	my
;

440 
	mwidth
, 
	mheight
;

441 } 
	tXRe˘™gÀ
;

444 
	mx
, 
	my
;

445 
	mwidth
, 
	mheight
;

446 
	m™gÀ1
, 
	m™gÀ2
;

447 } 
	tXArc
;

453 
	mkey_˛ick_≥r˚¡
;

454 
	mbñl_≥r˚¡
;

455 
	mbñl_pôch
;

456 
	mbñl_duøti⁄
;

457 
	mÀd
;

458 
	mÀd_mode
;

459 
	mkey
;

460 
	mauto_ª≥©_mode
;

461 } 
	tXKeybﬂrdC⁄åﬁ
;

466 
	mkey_˛ick_≥r˚¡
;

467 
	mbñl_≥r˚¡
;

468 
	mbñl_pôch
, 
	mbñl_duøti⁄
;

469 
	mÀd_mask
;

470 
	mglobÆ_auto_ª≥©
;

471 
	mauto_ª≥©s
[32];

472 } 
	tXKeybﬂrdSèã
;

477 
Time
 
	mtime
;

478 
	mx
, 
	my
;

479 } 
	tXTimeCo‹d
;

484 
	mmax_key≥rmod
;

485 
KeyCode
 *
	mmodifõrm≠
;

486 } 
	tXModifõrKeym≠
;

494 #i‚de‡
XLIB_ILLEGAL_ACCESS


495 
_XDi•œy
 
	tDi•œy
;

498 
	g_XPriv©e
;

499 
	g_XrmHashBuckëRec
;

502 #ifde‡
XLIB_ILLEGAL_ACCESS


503 
	t_XDi•œy


506 
XExtD©a
 *
	gext_d©a
;

507 
_XPriv©e
 *
	g¥iv©e1
;

508 
	gfd
;

509 
	g¥iv©e2
;

510 
	g¥Ÿo_maj‹_vîsi⁄
;

511 
	g¥Ÿo_mö‹_vîsi⁄
;

512 *
	gvíd‹
;

513 
XID
 
	g¥iv©e3
;

514 
XID
 
	g¥iv©e4
;

515 
XID
 
	g¥iv©e5
;

516 
	g¥iv©e6
;

517 
XID
 (*
ªsour˚_Æloc
)(

518 
	g_XDi•œy
*

520 
	gbyã_‹dî
;

521 
	gbôm≠_unô
;

522 
	gbôm≠_∑d
;

523 
	gbôm≠_bô_‹dî
;

524 
	gnf‹m©s
;

525 
S¸ìnF‹m©
 *
	gpixm≠_f‹m©
;

526 
	g¥iv©e8
;

527 
	gªÀa£
;

528 
_XPriv©e
 *
	g¥iv©e9
, *
	g¥iv©e10
;

529 
	gqÀn
;

530 
	gœ°_ªque°_ªad
;

531 
	gªque°
;

532 
XPoöãr
 
	g¥iv©e11
;

533 
XPoöãr
 
	g¥iv©e12
;

534 
XPoöãr
 
	g¥iv©e13
;

535 
XPoöãr
 
	g¥iv©e14
;

536 
	gmax_ªque°_size
;

537 
_XrmHashBuckëRec
 *
	gdb
;

538 (*
	g¥iv©e15
)(

539 
	g_XDi•œy
*

541 *
	gdi•œy_«me
;

542 
	gdeÁu…_s¸ìn
;

543 
	gns¸ìns
;

544 
S¸ìn
 *
	gs¸ìns
;

545 
	gmŸi⁄_buf„r
;

546 
	g¥iv©e16
;

547 
	gmö_keycode
;

548 
	gmax_keycode
;

549 
XPoöãr
 
	g¥iv©e17
;

550 
XPoöãr
 
	g¥iv©e18
;

551 
	g¥iv©e19
;

552 *
	gxdeÁu…s
;

555 #ifde‡
	tXLIB_ILLEGAL_ACCESS


556 
	tDi•œy
,

558 *
	t_XPrivDi•œy
;

560 #unde‡
_XEVENT_


561 #i‚de‡
_XEVENT_


566 
	mty≥
;

567 
	m£rül
;

568 
Boﬁ
 
	m£nd_evít
;

569 
Di•œy
 *
	mdi•œy
;

570 
Wödow
 
	mwödow
;

571 
Wödow
 
	mroŸ
;

572 
Wödow
 
	msubwödow
;

573 
Time
 
	mtime
;

574 
	mx
, 
	my
;

575 
	mx_roŸ
, 
	my_roŸ
;

576 
	m°©e
;

577 
	mkeycode
;

578 
Boﬁ
 
	mßme_s¸ìn
;

579 } 
	tXKeyEvít
;

580 
XKeyEvít
 
	tXKeyPªs£dEvít
;

581 
XKeyEvít
 
	tXKeyRñó£dEvít
;

584 
	mty≥
;

585 
	m£rül
;

586 
Boﬁ
 
	m£nd_evít
;

587 
Di•œy
 *
	mdi•œy
;

588 
Wödow
 
	mwödow
;

589 
Wödow
 
	mroŸ
;

590 
Wödow
 
	msubwödow
;

591 
Time
 
	mtime
;

592 
	mx
, 
	my
;

593 
	mx_roŸ
, 
	my_roŸ
;

594 
	m°©e
;

595 
	mbuâ⁄
;

596 
Boﬁ
 
	mßme_s¸ìn
;

597 } 
	tXBuâ⁄Evít
;

598 
XBuâ⁄Evít
 
	tXBuâ⁄Pªs£dEvít
;

599 
XBuâ⁄Evít
 
	tXBuâ⁄Rñó£dEvít
;

602 
	mty≥
;

603 
	m£rül
;

604 
Boﬁ
 
	m£nd_evít
;

605 
Di•œy
 *
	mdi•œy
;

606 
Wödow
 
	mwödow
;

607 
Wödow
 
	mroŸ
;

608 
Wödow
 
	msubwödow
;

609 
Time
 
	mtime
;

610 
	mx
, 
	my
;

611 
	mx_roŸ
, 
	my_roŸ
;

612 
	m°©e
;

613 
	mis_höt
;

614 
Boﬁ
 
	mßme_s¸ìn
;

615 } 
	tXMŸi⁄Evít
;

616 
XMŸi⁄Evít
 
	tXPoöãrMovedEvít
;

619 
	mty≥
;

620 
	m£rül
;

621 
Boﬁ
 
	m£nd_evít
;

622 
Di•œy
 *
	mdi•œy
;

623 
Wödow
 
	mwödow
;

624 
Wödow
 
	mroŸ
;

625 
Wödow
 
	msubwödow
;

626 
Time
 
	mtime
;

627 
	mx
, 
	my
;

628 
	mx_roŸ
, 
	my_roŸ
;

629 
	mmode
;

630 
	mdëaû
;

635 
Boﬁ
 
	mßme_s¸ìn
;

636 
Boﬁ
 
	mfocus
;

637 
	m°©e
;

638 } 
	tXCrossögEvít
;

639 
XCrossögEvít
 
	tXE¡îWödowEvít
;

640 
XCrossögEvít
 
	tXLóveWödowEvít
;

643 
	mty≥
;

644 
	m£rül
;

645 
Boﬁ
 
	m£nd_evít
;

646 
Di•œy
 *
	mdi•œy
;

647 
Wödow
 
	mwödow
;

648 
	mmode
;

650 
	mdëaû
;

656 } 
	tXFocusCh™geEvít
;

657 
XFocusCh™geEvít
 
	tXFocusInEvít
;

658 
XFocusCh™geEvít
 
	tXFocusOutEvít
;

662 
	mty≥
;

663 
	m£rül
;

664 
Boﬁ
 
	m£nd_evít
;

665 
Di•œy
 *
	mdi•œy
;

666 
Wödow
 
	mwödow
;

667 
	mkey_ve˘‹
[32];

668 } 
	tXKeym≠Evít
;

671 
	mty≥
;

672 
	m£rül
;

673 
Boﬁ
 
	m£nd_evít
;

674 
Di•œy
 *
	mdi•œy
;

675 
Wödow
 
	mwödow
;

676 
	mx
, 
	my
;

677 
	mwidth
, 
	mheight
;

678 
	mcou¡
;

679 } 
	tXExpo£Evít
;

682 
	mty≥
;

683 
	m£rül
;

684 
Boﬁ
 
	m£nd_evít
;

685 
Di•œy
 *
	mdi•œy
;

686 
DøwabÀ
 
	mdøwabÀ
;

687 
	mx
, 
	my
;

688 
	mwidth
, 
	mheight
;

689 
	mcou¡
;

690 
	mmaj‹_code
;

691 
	mmö‹_code
;

692 } 
	tXGøphicsExpo£Evít
;

695 
	mty≥
;

696 
	m£rül
;

697 
Boﬁ
 
	m£nd_evít
;

698 
Di•œy
 *
	mdi•œy
;

699 
DøwabÀ
 
	mdøwabÀ
;

700 
	mmaj‹_code
;

701 
	mmö‹_code
;

702 } 
	tXNoExpo£Evít
;

705 
	mty≥
;

706 
	m£rül
;

707 
Boﬁ
 
	m£nd_evít
;

708 
Di•œy
 *
	mdi•œy
;

709 
Wödow
 
	mwödow
;

710 
	m°©e
;

711 } 
	tXVisibûôyEvít
;

714 
	mty≥
;

715 
	m£rül
;

716 
Boﬁ
 
	m£nd_evít
;

717 
Di•œy
 *
	mdi•œy
;

718 
Wödow
 
	m∑ª¡
;

719 
Wödow
 
	mwödow
;

720 
	mx
, 
	my
;

721 
	mwidth
, 
	mheight
;

722 
	mb‹dî_width
;

723 
Boﬁ
 
	movîride_ªdúe˘
;

724 } 
	tXCª©eWödowEvít
;

727 
	mty≥
;

728 
	m£rül
;

729 
Boﬁ
 
	m£nd_evít
;

730 
Di•œy
 *
	mdi•œy
;

731 
Wödow
 
	mevít
;

732 
Wödow
 
	mwödow
;

733 } 
	tXDe°royWödowEvít
;

736 
	mty≥
;

737 
	m£rül
;

738 
Boﬁ
 
	m£nd_evít
;

739 
Di•œy
 *
	mdi•œy
;

740 
Wödow
 
	mevít
;

741 
Wödow
 
	mwödow
;

742 
Boﬁ
 
	m‰om_c⁄figuª
;

743 } 
	tXUnm≠Evít
;

746 
	mty≥
;

747 
	m£rül
;

748 
Boﬁ
 
	m£nd_evít
;

749 
Di•œy
 *
	mdi•œy
;

750 
Wödow
 
	mevít
;

751 
Wödow
 
	mwödow
;

752 
Boﬁ
 
	movîride_ªdúe˘
;

753 } 
	tXM≠Evít
;

756 
	mty≥
;

757 
	m£rül
;

758 
Boﬁ
 
	m£nd_evít
;

759 
Di•œy
 *
	mdi•œy
;

760 
Wödow
 
	m∑ª¡
;

761 
Wödow
 
	mwödow
;

762 } 
	tXM≠Reque°Evít
;

765 
	mty≥
;

766 
	m£rül
;

767 
Boﬁ
 
	m£nd_evít
;

768 
Di•œy
 *
	mdi•œy
;

769 
Wödow
 
	mevít
;

770 
Wödow
 
	mwödow
;

771 
Wödow
 
	m∑ª¡
;

772 
	mx
, 
	my
;

773 
Boﬁ
 
	movîride_ªdúe˘
;

774 } 
	tXRï¨ítEvít
;

777 
	mty≥
;

778 
	m£rül
;

779 
Boﬁ
 
	m£nd_evít
;

780 
Di•œy
 *
	mdi•œy
;

781 
Wödow
 
	mevít
;

782 
Wödow
 
	mwödow
;

783 
	mx
, 
	my
;

784 
	mwidth
, 
	mheight
;

785 
	mb‹dî_width
;

786 
Wödow
 
	mabove
;

787 
Boﬁ
 
	movîride_ªdúe˘
;

788 } 
	tXC⁄figuªEvít
;

791 
	mty≥
;

792 
	m£rül
;

793 
Boﬁ
 
	m£nd_evít
;

794 
Di•œy
 *
	mdi•œy
;

795 
Wödow
 
	mevít
;

796 
Wödow
 
	mwödow
;

797 
	mx
, 
	my
;

798 } 
	tXGøvôyEvít
;

801 
	mty≥
;

802 
	m£rül
;

803 
Boﬁ
 
	m£nd_evít
;

804 
Di•œy
 *
	mdi•œy
;

805 
Wödow
 
	mwödow
;

806 
	mwidth
, 
	mheight
;

807 } 
	tXResizeReque°Evít
;

810 
	mty≥
;

811 
	m£rül
;

812 
Boﬁ
 
	m£nd_evít
;

813 
Di•œy
 *
	mdi•œy
;

814 
Wödow
 
	m∑ª¡
;

815 
Wödow
 
	mwödow
;

816 
	mx
, 
	my
;

817 
	mwidth
, 
	mheight
;

818 
	mb‹dî_width
;

819 
Wödow
 
	mabove
;

820 
	mdëaû
;

821 
	mvÆue_mask
;

822 } 
	tXC⁄figuªReque°Evít
;

825 
	mty≥
;

826 
	m£rül
;

827 
Boﬁ
 
	m£nd_evít
;

828 
Di•œy
 *
	mdi•œy
;

829 
Wödow
 
	mevít
;

830 
Wödow
 
	mwödow
;

831 
	m∂a˚
;

832 } 
	tXCúcuœãEvít
;

835 
	mty≥
;

836 
	m£rül
;

837 
Boﬁ
 
	m£nd_evít
;

838 
Di•œy
 *
	mdi•œy
;

839 
Wödow
 
	m∑ª¡
;

840 
Wödow
 
	mwödow
;

841 
	m∂a˚
;

842 } 
	tXCúcuœãReque°Evít
;

845 
	mty≥
;

846 
	m£rül
;

847 
Boﬁ
 
	m£nd_evít
;

848 
Di•œy
 *
	mdi•œy
;

849 
Wödow
 
	mwödow
;

850 
Atom
 
	m©om
;

851 
Time
 
	mtime
;

852 
	m°©e
;

853 } 
	tXPr›îtyEvít
;

856 
	mty≥
;

857 
	m£rül
;

858 
Boﬁ
 
	m£nd_evít
;

859 
Di•œy
 *
	mdi•œy
;

860 
Wödow
 
	mwödow
;

861 
Atom
 
	m£À˘i⁄
;

862 
Time
 
	mtime
;

863 } 
	tXSñe˘i⁄CÀ¨Evít
;

866 
	mty≥
;

867 
	m£rül
;

868 
Boﬁ
 
	m£nd_evít
;

869 
Di•œy
 *
	mdi•œy
;

870 
Wödow
 
	mow√r
;

871 
Wödow
 
	mªque°‹
;

872 
Atom
 
	m£À˘i⁄
;

873 
Atom
 
	mèrgë
;

874 
Atom
 
	m¥›îty
;

875 
Time
 
	mtime
;

876 } 
	tXSñe˘i⁄Reque°Evít
;

879 
	mty≥
;

880 
	m£rül
;

881 
Boﬁ
 
	m£nd_evít
;

882 
Di•œy
 *
	mdi•œy
;

883 
Wödow
 
	mªque°‹
;

884 
Atom
 
	m£À˘i⁄
;

885 
Atom
 
	mèrgë
;

886 
Atom
 
	m¥›îty
;

887 
Time
 
	mtime
;

888 } 
	tXSñe˘i⁄Evít
;

891 
	mty≥
;

892 
	m£rül
;

893 
Boﬁ
 
	m£nd_evít
;

894 
Di•œy
 *
	mdi•œy
;

895 
Wödow
 
	mwödow
;

896 
Cﬁ‹m≠
 
	mcﬁ‹m≠
;

897 #i‡
deföed
(
__˝lu•lus
Ë|| deföed(
c_∂u•lus
)

898 
Boﬁ
 
	mc_√w
;

900 
Boﬁ
 
	m√w
;

902 
	m°©e
;

903 } 
	tXCﬁ‹m≠Evít
;

906 
	mty≥
;

907 
	m£rül
;

908 
Boﬁ
 
	m£nd_evít
;

909 
Di•œy
 *
	mdi•œy
;

910 
Wödow
 
	mwödow
;

911 
Atom
 
	mmesßge_ty≥
;

912 
	mf‹m©
;

914 
	mb
[20];

915 
	ms
[10];

916 
	ml
[5];

917 } 
	md©a
;

918 } 
	tXClõ¡MesßgeEvít
;

921 
	mty≥
;

922 
	m£rül
;

923 
Boﬁ
 
	m£nd_evít
;

924 
Di•œy
 *
	mdi•œy
;

925 
Wödow
 
	mwödow
;

926 
	mªque°
;

928 
	mfú°_keycode
;

929 
	mcou¡
;

930 } 
	tXM≠pögEvít
;

933 
	mty≥
;

934 
Di•œy
 *
	mdi•œy
;

935 
XID
 
	mªsour˚id
;

936 
	m£rül
;

937 
	mîr‹_code
;

938 
	mªque°_code
;

939 
	mmö‹_code
;

940 } 
	tXEº‹Evít
;

943 
	mty≥
;

944 
	m£rül
;

945 
Boﬁ
 
	m£nd_evít
;

946 
Di•œy
 *
	mdi•œy
;

947 
Wödow
 
	mwödow
;

948 } 
	tXAnyEvít
;

958 
	mty≥
;

959 
	m£rül
;

960 
Boﬁ
 
	m£nd_evít
;

961 
Di•œy
 *
	mdi•œy
;

962 
	mexãnsi⁄
;

963 
	mevty≥
;

964 } 
	tXGíîicEvít
;

967 
	mty≥
;

968 
	m£rül
;

969 
Boﬁ
 
	m£nd_evít
;

970 
Di•œy
 *
	mdi•œy
;

971 
	mexãnsi⁄
;

972 
	mevty≥
;

973 
	mcookõ
;

974 *
	md©a
;

975 } 
	tXGíîicEvítCookõ
;

981 
	u_XEvít
 {

982 
	mty≥
;

983 
XAnyEvít
 
	mx™y
;

984 
XKeyEvít
 
	mxkey
;

985 
XBuâ⁄Evít
 
	mxbuâ⁄
;

986 
XMŸi⁄Evít
 
	mxmŸi⁄
;

987 
XCrossögEvít
 
	mx¸ossög
;

988 
XFocusCh™geEvít
 
	mxfocus
;

989 
XExpo£Evít
 
	mxexpo£
;

990 
XGøphicsExpo£Evít
 
	mxgøphic£xpo£
;

991 
XNoExpo£Evít
 
	mxn€xpo£
;

992 
XVisibûôyEvít
 
	mxvisibûôy
;

993 
XCª©eWödowEvít
 
	mx¸óãwödow
;

994 
XDe°royWödowEvít
 
	mxde°roywödow
;

995 
XUnm≠Evít
 
	mxunm≠
;

996 
XM≠Evít
 
	mxm≠
;

997 
XM≠Reque°Evít
 
	mxm≠ªque°
;

998 
XRï¨ítEvít
 
	mxª∑ª¡
;

999 
XC⁄figuªEvít
 
	mxc⁄figuª
;

1000 
XGøvôyEvít
 
	mxgøvôy
;

1001 
XResizeReque°Evít
 
	mxªsizîeque°
;

1002 
XC⁄figuªReque°Evít
 
	mxc⁄figuªªque°
;

1003 
XCúcuœãEvít
 
	mxcúcuœã
;

1004 
XCúcuœãReque°Evít
 
	mxcúcuœãªque°
;

1005 
XPr›îtyEvít
 
	mx¥›îty
;

1006 
XSñe˘i⁄CÀ¨Evít
 
	mx£À˘i⁄˛ór
;

1007 
XSñe˘i⁄Reque°Evít
 
	mx£À˘i⁄ªque°
;

1008 
XSñe˘i⁄Evít
 
	mx£À˘i⁄
;

1009 
XCﬁ‹m≠Evít
 
	mxcﬁ‹m≠
;

1010 
XClõ¡MesßgeEvít
 
	mx˛õ¡
;

1011 
XM≠pögEvít
 
	mxm≠pög
;

1012 
XEº‹Evít
 
	mxîr‹
;

1013 
XKeym≠Evít
 
	mxkeym≠
;

1014 
XGíîicEvít
 
	mxgíîic
;

1015 
XGíîicEvítCookõ
 
	mxcookõ
;

1016 
	m∑d
[24];

1017 } 
	tXEvít
;

1020 
	#XAŒocID
(
dpy
Ë((*((
_XPrivDi•œy
)dpy)->
ªsour˚_Æloc
)((dpy)))

	)

1026 
	mlbórög
;

1027 
	mrbórög
;

1028 
	mwidth
;

1029 
	mas˚¡
;

1030 
	mdes˚¡
;

1031 
	m©åibuãs
;

1032 } 
	tXCh¨Såu˘
;

1039 
Atom
 
	m«me
;

1040 
	mˇrd32
;

1041 } 
	tXF⁄tPr›
;

1044 
XExtD©a
 *
	mext_d©a
;

1045 
F⁄t
 
	mfid
;

1046 
	mdúe˘i⁄
;

1047 
	mmö_ch¨_‹_byã2
;

1048 
	mmax_ch¨_‹_byã2
;

1049 
	mmö_byã1
;

1050 
	mmax_byã1
;

1051 
Boﬁ
 
	mÆl_ch¨s_exi°
;

1052 
	mdeÁu…_ch¨
;

1053 
	mn_¥›îtõs
;

1054 
XF⁄tPr›
 *
	m¥›îtõs
;

1055 
XCh¨Såu˘
 
	mmö_bounds
;

1056 
XCh¨Såu˘
 
	mmax_bounds
;

1057 
XCh¨Såu˘
 *
	m≥r_ch¨
;

1058 
	mas˚¡
;

1059 
	mdes˚¡
;

1060 } 
	tXF⁄tSåu˘
;

1066 *
	mch¨s
;

1067 
	mnch¨s
;

1068 
	mdñè
;

1069 
F⁄t
 
	mf⁄t
;

1070 } 
	tXTextIãm
;

1073 
	mbyã1
;

1074 
	mbyã2
;

1075 } 
	tXCh¨2b
;

1078 
XCh¨2b
 *
	mch¨s
;

1079 
	mnch¨s
;

1080 
	mdñè
;

1081 
F⁄t
 
	mf⁄t
;

1082 } 
	tXTextIãm16
;

1085 uni⁄ { 
Di•œy
 *
	mdi•œy
;

1086 
GC
 
	mgc
;

1087 
VisuÆ
 *
	mvisuÆ
;

1088 
S¸ìn
 *
	ms¸ìn
;

1089 
S¸ìnF‹m©
 *
	mpixm≠_f‹m©
;

1090 
XF⁄tSåu˘
 *
	mf⁄t
; } 
	tXED©aObje˘
;

1093 
XRe˘™gÀ
 
	mmax_ök_exã¡
;

1094 
XRe˘™gÀ
 
	mmax_logiˇl_exã¡
;

1095 } 
	tXF⁄tSëExã¡s
;

1101 
_XOM
 *
	tXOM
;

1102 
_XOC
 *
	tXOC
, *
	tXF⁄tSë
;

1105 *
	mch¨s
;

1106 
	mnch¨s
;

1107 
	mdñè
;

1108 
XF⁄tSë
 
	mf⁄t_£t
;

1109 } 
	tXmbTextIãm
;

1112 
wch¨_t
 *
	mch¨s
;

1113 
	mnch¨s
;

1114 
	mdñè
;

1115 
XF⁄tSë
 
	mf⁄t_£t
;

1116 } 
	tXwcTextIãm
;

1118 
	#XNRequúedCh¨Së
 "ªquúedCh¨Së"

	)

1119 
	#XNQuîyOrõ¡©i⁄
 "quîyOrõ¡©i⁄"

	)

1120 
	#XNBa£F⁄tName
 "ba£F⁄tName"

	)

1121 
	#XNOMAutom©ic
 "omAutom©ic"

	)

1122 
	#XNMissögCh¨Së
 "missögCh¨Së"

	)

1123 
	#XNDeÁu…Såög
 "deÁu…Såög"

	)

1124 
	#XNOrõ¡©i⁄
 "‹õ¡©i⁄"

	)

1125 
	#XNDúe˘i⁄ÆDïídítDøwög
 "dúe˘i⁄ÆDïídítDøwög"

	)

1126 
	#XNC⁄ãxtuÆDøwög
 "c⁄ãxtuÆDøwög"

	)

1127 
	#XNF⁄tInfo
 "f⁄tInfo"

	)

1130 
	mch¨£t_cou¡
;

1131 **
	mch¨£t_li°
;

1132 } 
	tXOMCh¨SëLi°
;

1135 
	mXOMOrõ¡©i⁄_LTR_TTB
,

1136 
	mXOMOrõ¡©i⁄_RTL_TTB
,

1137 
	mXOMOrõ¡©i⁄_TTB_LTR
,

1138 
	mXOMOrõ¡©i⁄_TTB_RTL
,

1139 
	mXOMOrõ¡©i⁄_C⁄ãxt


1140 } 
	tXOrõ¡©i⁄
;

1143 
	mnum_‹õ¡©i⁄
;

1144 
XOrõ¡©i⁄
 *
	m‹õ¡©i⁄
;

1145 } 
	tXOMOrõ¡©i⁄
;

1148 
	mnum_f⁄t
;

1149 
XF⁄tSåu˘
 **
	mf⁄t_°ru˘_li°
;

1150 **
	mf⁄t_«me_li°
;

1151 } 
	tXOMF⁄tInfo
;

1153 
_XIM
 *
	tXIM
;

1154 
_XIC
 *
	tXIC
;

1156 (*
	tXIMProc
)(

1157 
	tXIM
,

1158 
	tXPoöãr
,

1159 
	tXPoöãr


1162 
	$Boﬁ
 (*
	tXICProc
)(

1163 
	tXIC
,

1164 
	tXPoöãr
,

1165 
	tXPoöãr


1168 (*
	tXIDProc
)(

1169 
	tDi•œy
*,

1170 
	tXPoöãr
,

1171 
	tXPoöãr


1174 
	tXIMStyÀ
;

1177 
cou¡_°yÀs
;

1178 
XIMStyÀ
 *
suµ‹ãd_°yÀs
;

1179 } 
	tXIMStyÀs
;

1181 
	#XIMPªedôAªa
 0x0001L

	)

1182 
	#XIMPªedôCÆlbacks
 0x0002L

	)

1183 
	#XIMPªedôPosôi⁄
 0x0004L

	)

1184 
	#XIMPªedôNŸhög
 0x0008L

	)

1185 
	#XIMPªedôN⁄e
 0x0010L

	)

1186 
	#XIMSètusAªa
 0x0100L

	)

1187 
	#XIMSètusCÆlbacks
 0x0200L

	)

1188 
	#XIMSètusNŸhög
 0x0400L

	)

1189 
	#XIMSètusN⁄e
 0x0800L

	)

1191 
	#XNVaNe°edLi°
 "XNVaNe°edLi°"

	)

1192 
	#XNQuîyI≈utStyÀ
 "quîyI≈utStyÀ"

	)

1193 
	#XNClõ¡Wödow
 "˛õ¡Wödow"

	)

1194 
	#XNI≈utStyÀ
 "öputStyÀ"

	)

1195 
	#XNFocusWödow
 "focusWödow"

	)

1196 
	#XNResour˚Name
 "ªsour˚Name"

	)

1197 
	#XNResour˚Cœss
 "ªsour˚Cœss"

	)

1198 
	#XNGeomëryCÆlback
 "geomëryCÆlback"

	)

1199 
	#XNDe°royCÆlback
 "de°royCÆlback"

	)

1200 
	#XNFûãrEvíts
 "fûãrEvíts"

	)

1201 
	#XNPªedôSèπCÆlback
 "¥ìdôSèπCÆlback"

	)

1202 
	#XNPªedôD⁄eCÆlback
 "¥ìdôD⁄eCÆlback"

	)

1203 
	#XNPªedôDøwCÆlback
 "¥ìdôDøwCÆlback"

	)

1204 
	#XNPªedôC¨ëCÆlback
 "¥ìdôC¨ëCÆlback"

	)

1205 
	#XNPªedôSèãNŸifyCÆlback
 "¥ìdôSèãNŸifyCÆlback"

	)

1206 
	#XNPªedôAâribuãs
 "¥ìdôAâribuãs"

	)

1207 
	#XNSètusSèπCÆlback
 "°©usSèπCÆlback"

	)

1208 
	#XNSètusD⁄eCÆlback
 "°©usD⁄eCÆlback"

	)

1209 
	#XNSètusDøwCÆlback
 "°©usDøwCÆlback"

	)

1210 
	#XNSètusAâribuãs
 "°©usAâribuãs"

	)

1211 
	#XNAªa
 "¨ó"

	)

1212 
	#XNAªaNìded
 "¨óNìded"

	)

1213 
	#XNSpŸLoˇti⁄
 "•ŸLoˇti⁄"

	)

1214 
	#XNCﬁ‹m≠
 "cﬁ‹M≠"

	)

1215 
	#XNStdCﬁ‹m≠
 "°dCﬁ‹M≠"

	)

1216 
	#XNF‹eground
 "f‹eground"

	)

1217 
	#XNBackground
 "background"

	)

1218 
	#XNBackgroundPixm≠
 "backgroundPixm≠"

	)

1219 
	#XNF⁄tSë
 "f⁄tSë"

	)

1220 
	#XNLöeS∑˚
 "löeS∑˚"

	)

1221 
	#XNCurs‹
 "curs‹"

	)

1223 
	#XNQuîyIMVÆuesLi°
 "quîyIMVÆuesLi°"

	)

1224 
	#XNQuîyICVÆuesLi°
 "quîyICVÆuesLi°"

	)

1225 
	#XNVisibÀPosôi⁄
 "visibÀPosôi⁄"

	)

1226 
	#XNR6PªedôCÆlback
 "r6PªedôCÆlback"

	)

1227 
	#XNSåögC⁄vîsi⁄CÆlback
 "°rögC⁄vîsi⁄CÆlback"

	)

1228 
	#XNSåögC⁄vîsi⁄
 "°rögC⁄vîsi⁄"

	)

1229 
	#XNRe£tSèã
 "ª£tSèã"

	)

1230 
	#XNHŸKey
 "hŸKey"

	)

1231 
	#XNHŸKeySèã
 "hŸKeySèã"

	)

1232 
	#XNPªedôSèã
 "¥ìdôSèã"

	)

1233 
	#XNSï¨©‹ofNe°edLi°
 "£∑øt‹ofNe°edLi°"

	)

1235 
	#XBuf„rOvîÊow
 -1

	)

1236 
	#XLookupN⁄e
 1

	)

1237 
	#XLookupCh¨s
 2

	)

1238 
	#XLookupKeySym
 3

	)

1239 
	#XLookupBŸh
 4

	)

1241 *
	tXVaNe°edLi°
;

1244 
XPoöãr
 
˛õ¡_d©a
;

1245 
XIMProc
 
ˇŒback
;

1246 } 
	tXIMCÆlback
;

1249 
XPoöãr
 
˛õ¡_d©a
;

1250 
XICProc
 
ˇŒback
;

1251 } 
	tXICCÆlback
;

1253 
	tXIMFìdback
;

1255 
	#XIMRevî£
 1L

	)

1256 
	#XIMUndîlöe
 (1L<<1)

	)

1257 
	#XIMHighlight
 (1L<<2)

	)

1258 
	#XIMPrim¨y
 (1L<<5)

	)

1259 
	#XIMSec⁄d¨y
 (1L<<6)

	)

1260 
	#XIMTîtüry
 (1L<<7)

	)

1261 
	#XIMVisibÀToF‹w¨d
 (1L<<8)

	)

1262 
	#XIMVisibÀToBackw‹d
 (1L<<9)

	)

1263 
	#XIMVisibÀToCíãr
 (1L<<10)

	)

1265 
	s_XIMText
 {

1266 
Àngth
;

1267 
XIMFìdback
 *
„edback
;

1268 
Boﬁ
 
ícodög_is_wch¨
;

1270 *
mu…i_byã
;

1271 
wch¨_t
 *
wide_ch¨
;

1272 } 
°rög
;

1273 } 
	tXIMText
;

1275 
	tXIMPªedôSèã
;

1277 
	#XIMPªedôUnKnown
 0L

	)

1278 
	#XIMPªedôE«bÀ
 1L

	)

1279 
	#XIMPªedôDißbÀ
 (1L<<1)

	)

1281 
	s_XIMPªedôSèãNŸifyCÆlbackSåu˘
 {

1282 
XIMPªedôSèã
 
°©e
;

1283 } 
	tXIMPªedôSèãNŸifyCÆlbackSåu˘
;

1285 
	tXIMRe£tSèã
;

1287 
	#XIMInôülSèã
 1L

	)

1288 
	#XIMPª£rveSèã
 (1L<<1)

	)

1290 
	tXIMSåögC⁄vîsi⁄Fìdback
;

1292 
	#XIMSåögC⁄vîsi⁄Le·Edge
 (0x00000001)

	)

1293 
	#XIMSåögC⁄vîsi⁄RightEdge
 (0x00000002)

	)

1294 
	#XIMSåögC⁄vîsi⁄T›Edge
 (0x00000004)

	)

1295 
	#XIMSåögC⁄vîsi⁄BŸtomEdge
 (0x00000008)

	)

1296 
	#XIMSåögC⁄vîsi⁄C⁄˚Æed
 (0x00000010)

	)

1297 
	#XIMSåögC⁄vîsi⁄Wøµed
 (0x00000020)

	)

1299 
	s_XIMSåögC⁄vîsi⁄Text
 {

1300 
Àngth
;

1301 
XIMSåögC⁄vîsi⁄Fìdback
 *
„edback
;

1302 
Boﬁ
 
ícodög_is_wch¨
;

1304 *
mbs
;

1305 
wch¨_t
 *
wcs
;

1306 } 
°rög
;

1307 } 
	tXIMSåögC⁄vîsi⁄Text
;

1309 
	tXIMSåögC⁄vîsi⁄Posôi⁄
;

1311 
	tXIMSåögC⁄vîsi⁄Ty≥
;

1313 
	#XIMSåögC⁄vîsi⁄Buf„r
 (0x0001)

	)

1314 
	#XIMSåögC⁄vîsi⁄Löe
 (0x0002)

	)

1315 
	#XIMSåögC⁄vîsi⁄W‹d
 (0x0003)

	)

1316 
	#XIMSåögC⁄vîsi⁄Ch¨
 (0x0004)

	)

1318 
	tXIMSåögC⁄vîsi⁄O≥øti⁄
;

1320 
	#XIMSåögC⁄vîsi⁄Sub°ôuti⁄
 (0x0001)

	)

1321 
	#XIMSåögC⁄vîsi⁄RërõvÆ
 (0x0002)

	)

1324 
XIMF‹w¨dCh¨
, 
XIMBackw¨dCh¨
,

1325 
XIMF‹w¨dW‹d
, 
XIMBackw¨dW‹d
,

1326 
XIMC¨ëUp
, 
XIMC¨ëDown
,

1327 
XIMNextLöe
, 
XIMPªviousLöe
,

1328 
XIMLöeSèπ
, 
XIMLöeEnd
,

1329 
XIMAbsﬁuãPosôi⁄
,

1330 
XIMD⁄tCh™ge


1331 } 
	tXIMC¨ëDúe˘i⁄
;

1333 
	s_XIMSåögC⁄vîsi⁄CÆlbackSåu˘
 {

1334 
XIMSåögC⁄vîsi⁄Posôi⁄
 
posôi⁄
;

1335 
XIMC¨ëDúe˘i⁄
 
dúe˘i⁄
;

1336 
XIMSåögC⁄vîsi⁄O≥øti⁄
 
›î©i⁄
;

1337 
Á˘‹
;

1338 
XIMSåögC⁄vîsi⁄Text
 *
ãxt
;

1339 } 
	tXIMSåögC⁄vîsi⁄CÆlbackSåu˘
;

1341 
	s_XIMPªedôDøwCÆlbackSåu˘
 {

1342 
ˇªt
;

1343 
chg_fú°
;

1344 
chg_Àngth
;

1345 
XIMText
 *
ãxt
;

1346 } 
	tXIMPªedôDøwCÆlbackSåu˘
;

1349 
XIMIsInvisibÀ
,

1350 
XIMIsPrim¨y
,

1351 
XIMIsSec⁄d¨y


1352 } 
	tXIMC¨ëStyÀ
;

1354 
	s_XIMPªedôC¨ëCÆlbackSåu˘
 {

1355 
posôi⁄
;

1356 
XIMC¨ëDúe˘i⁄
 
dúe˘i⁄
;

1357 
XIMC¨ëStyÀ
 
°yÀ
;

1358 } 
	tXIMPªedôC¨ëCÆlbackSåu˘
;

1361 
XIMTextTy≥
,

1362 
XIMBôm≠Ty≥


1363 } 
	tXIMSètusD©aTy≥
;

1365 
	s_XIMSètusDøwCÆlbackSåu˘
 {

1366 
XIMSètusD©aTy≥
 
ty≥
;

1368 
XIMText
 *
ãxt
;

1369 
Pixm≠
 
bôm≠
;

1370 } 
d©a
;

1371 } 
	tXIMSètusDøwCÆlbackSåu˘
;

1373 
	s_XIMHŸKeyTriggî
 {

1374 
KeySym
 
keysym
;

1375 
modifõr
;

1376 
modifõr_mask
;

1377 } 
	tXIMHŸKeyTriggî
;

1379 
	s_XIMHŸKeyTriggîs
 {

1380 
num_hŸ_key
;

1381 
XIMHŸKeyTriggî
 *
key
;

1382 } 
	tXIMHŸKeyTriggîs
;

1384 
	tXIMHŸKeySèã
;

1386 
	#XIMHŸKeySèãON
 (0x0001L)

	)

1387 
	#XIMHŸKeySèãOFF
 (0x0002L)

	)

1390 
cou¡_vÆues
;

1391 **
suµ‹ãd_vÆues
;

1392 } 
	tXIMVÆuesLi°
;

1394 
_XFUNCPROTOBEGIN


1396 #i‡
	`deföed
(
WIN32
Ë&& !deföed(
_XLIBINT_
)

1397 
	#_Xdebug
 (*
_Xdebug_p
)

	)

1400 
_Xdebug
;

1402 
XF⁄tSåu˘
 *
	`XLﬂdQuîyF⁄t
(

1403 
Di•œy
* ,

1404 
_Xc⁄°
 *

1407 
XF⁄tSåu˘
 *
	`XQuîyF⁄t
(

1408 
Di•œy
* ,

1409 
XID


1413 
XTimeCo‹d
 *
	`XGëMŸi⁄Evíts
(

1414 
Di•œy
* ,

1415 
Wödow
 ,

1416 
Time
 ,

1417 
Time
 ,

1421 
XModifõrKeym≠
 *
	`XDñëeModifõrm≠E¡ry
(

1422 
XModifõrKeym≠
* ,

1423 #i‡
NìdWidePrŸŸy≥s


1426 
KeyCode
 ,

1431 
XModifõrKeym≠
 *
	`XGëModifõrM≠pög
(

1432 
Di•œy
*

1435 
XModifõrKeym≠
 *
	`XIn£πModifõrm≠E¡ry
(

1436 
XModifõrKeym≠
* ,

1437 #i‡
NìdWidePrŸŸy≥s


1440 
KeyCode
 ,

1445 
XModifõrKeym≠
 *
	`XNewModifõrm≠
(

1449 
XImage
 *
	`XCª©eImage
(

1450 
Di•œy
* ,

1451 
VisuÆ
* ,

1461 
Sètus
 
	`XInôImage
(

1462 
XImage
*

1464 
XImage
 *
	`XGëImage
(

1465 
Di•œy
* ,

1466 
DøwabÀ
 ,

1474 
XImage
 *
	`XGëSubImage
(

1475 
Di•œy
* ,

1476 
DøwabÀ
 ,

1483 
XImage
* ,

1491 
Di•œy
 *
	`XO≥nDi•œy
(

1492 
_Xc⁄°
 *

1495 
	`XrmInôülize
(

1499 *
	`XFëchByãs
(

1500 
Di•œy
* ,

1503 *
	`XFëchBuf„r
(

1504 
Di•œy
* ,

1508 *
	`XGëAtomName
(

1509 
Di•œy
* ,

1510 
Atom


1512 
Sètus
 
	`XGëAtomNames
(

1513 
Di•œy
* ,

1514 
Atom
* ,

1518 *
	`XGëDeÁu…
(

1519 
Di•œy
* ,

1520 
_Xc⁄°
 * ,

1521 
_Xc⁄°
 *

1523 *
	`XDi•œyName
(

1524 
_Xc⁄°
 *

1526 *
	`XKeysymToSåög
(

1527 
KeySym


1530 (*
	$XSynchr⁄ize
(

1531 
Di•œy
* ,

1532 
Boﬁ


1534 
Di•œy
*

1536 (*
	`XSëA·îFun˘i⁄
(

1537 
Di•œy
* ,

1539 
Di•œy
*

1542 
Di•œy
*

1544 
Atom
 
	`XI¡înAtom
(

1545 
Di•œy
* ,

1546 
_Xc⁄°
 * ,

1547 
Boﬁ


1549 
Sètus
 
	`XI¡înAtoms
(

1550 
Di•œy
* ,

1553 
Boﬁ
 ,

1554 
Atom
*

1556 
Cﬁ‹m≠
 
	`XC›yCﬁ‹m≠AndFªe
(

1557 
Di•œy
* ,

1558 
Cﬁ‹m≠


1560 
Cﬁ‹m≠
 
	`XCª©eCﬁ‹m≠
(

1561 
Di•œy
* ,

1562 
Wödow
 ,

1563 
VisuÆ
* ,

1566 
Curs‹
 
	`XCª©ePixm≠Curs‹
(

1567 
Di•œy
* ,

1568 
Pixm≠
 ,

1569 
Pixm≠
 ,

1570 
XCﬁ‹
* ,

1571 
XCﬁ‹
* ,

1575 
Curs‹
 
	`XCª©eGlyphCurs‹
(

1576 
Di•œy
* ,

1577 
F⁄t
 ,

1578 
F⁄t
 ,

1581 
XCﬁ‹
 
_Xc⁄°
 * ,

1582 
XCﬁ‹
 
_Xc⁄°
 *

1584 
Curs‹
 
	`XCª©eF⁄tCurs‹
(

1585 
Di•œy
* ,

1588 
F⁄t
 
	`XLﬂdF⁄t
(

1589 
Di•œy
* ,

1590 
_Xc⁄°
 *

1592 
GC
 
	`XCª©eGC
(

1593 
Di•œy
* ,

1594 
DøwabÀ
 ,

1596 
XGCVÆues
*

1598 
GC⁄ãxt
 
	`XGC⁄ãxtFromGC
(

1599 
GC


1601 
	`XFlushGC
(

1602 
Di•œy
* ,

1603 
GC


1605 
Pixm≠
 
	`XCª©ePixm≠
(

1606 
Di•œy
* ,

1607 
DøwabÀ
 ,

1612 
Pixm≠
 
	`XCª©eBôm≠FromD©a
(

1613 
Di•œy
* ,

1614 
DøwabÀ
 ,

1615 
_Xc⁄°
 * ,

1619 
Pixm≠
 
	`XCª©ePixm≠FromBôm≠D©a
(

1620 
Di•œy
* ,

1621 
DøwabÀ
 ,

1629 
Wödow
 
	`XCª©eSim∂eWödow
(

1630 
Di•œy
* ,

1631 
Wödow
 ,

1640 
Wödow
 
	`XGëSñe˘i⁄Ow√r
(

1641 
Di•œy
* ,

1642 
Atom


1644 
Wödow
 
	`XCª©eWödow
(

1645 
Di•œy
* ,

1646 
Wödow
 ,

1654 
VisuÆ
* ,

1656 
XSëWödowAâribuãs
*

1658 
Cﬁ‹m≠
 *
	`XLi°In°ÆÀdCﬁ‹m≠s
(

1659 
Di•œy
* ,

1660 
Wödow
 ,

1663 **
	`XLi°F⁄ts
(

1664 
Di•œy
* ,

1665 
_Xc⁄°
 * ,

1669 **
	`XLi°F⁄tsWôhInfo
(

1670 
Di•œy
* ,

1671 
_Xc⁄°
 * ,

1674 
XF⁄tSåu˘
**

1676 **
	`XGëF⁄tP©h
(

1677 
Di•œy
* ,

1680 **
	`XLi°Exãnsi⁄s
(

1681 
Di•œy
* ,

1684 
Atom
 *
	`XLi°Pr›îtõs
(

1685 
Di•œy
* ,

1686 
Wödow
 ,

1689 
XHo°Addªss
 *
	`XLi°Ho°s
(

1690 
Di•œy
* ,

1692 
Boﬁ
*

1694 
_X_DEPRECATED


1695 
KeySym
 
	`XKeycodeToKeysym
(

1696 
Di•œy
* ,

1697 #i‡
NìdWidePrŸŸy≥s


1700 
KeyCode
 ,

1704 
KeySym
 
	`XLookupKeysym
(

1705 
XKeyEvít
* ,

1708 
KeySym
 *
	`XGëKeybﬂrdM≠pög
(

1709 
Di•œy
* ,

1710 #i‡
NìdWidePrŸŸy≥s


1713 
KeyCode
 ,

1718 
KeySym
 
	`XSåögToKeysym
(

1719 
_Xc⁄°
 *

1721 
	`XMaxReque°Size
(

1722 
Di•œy
*

1724 
	`XExãndedMaxReque°Size
(

1725 
Di•œy
*

1727 *
	`XResour˚M™agîSåög
(

1728 
Di•œy
*

1730 *
	`XS¸ìnResour˚Såög
(

1731 
S¸ìn
*

1733 
	`XDi•œyMŸi⁄Buf„rSize
(

1734 
Di•œy
*

1736 
VisuÆID
 
	`XVisuÆIDFromVisuÆ
(

1737 
VisuÆ
*

1742 
Sètus
 
	`XInôThªads
(

1746 
	`XLockDi•œy
(

1747 
Di•œy
*

1750 
	`XU∆ockDi•œy
(

1751 
Di•œy
*

1756 
XExtCodes
 *
	`XInôExãnsi⁄
(

1757 
Di•œy
* ,

1758 
_Xc⁄°
 *

1761 
XExtCodes
 *
	`XAddExãnsi⁄
(

1762 
Di•œy
*

1764 
XExtD©a
 *
	`XFödOnExãnsi⁄Li°
(

1765 
XExtD©a
** ,

1768 
XExtD©a
 **
	`XEHódOfExãnsi⁄Li°
(

1769 
XED©aObje˘


1773 
Wödow
 
	`XRoŸWödow
(

1774 
Di•œy
* ,

1777 
Wödow
 
	`XDeÁu…RoŸWödow
(

1778 
Di•œy
*

1780 
Wödow
 
	`XRoŸWödowOfS¸ìn
(

1781 
S¸ìn
*

1783 
VisuÆ
 *
	`XDeÁu…VisuÆ
(

1784 
Di•œy
* ,

1787 
VisuÆ
 *
	`XDeÁu…VisuÆOfS¸ìn
(

1788 
S¸ìn
*

1790 
GC
 
	`XDeÁu…GC
(

1791 
Di•œy
* ,

1794 
GC
 
	`XDeÁu…GCOfS¸ìn
(

1795 
S¸ìn
*

1797 
	`XBœckPixñ
(

1798 
Di•œy
* ,

1801 
	`XWhôePixñ
(

1802 
Di•œy
* ,

1805 
	`XAŒPœ√s
(

1808 
	`XBœckPixñOfS¸ìn
(

1809 
S¸ìn
*

1811 
	`XWhôePixñOfS¸ìn
(

1812 
S¸ìn
*

1814 
	`XNextReque°
(

1815 
Di•œy
*

1817 
	`XLa°KnownReque°Pro˚s£d
(

1818 
Di•œy
*

1820 *
	`XSîvîVíd‹
(

1821 
Di•œy
*

1823 *
	`XDi•œySåög
(

1824 
Di•œy
*

1826 
Cﬁ‹m≠
 
	`XDeÁu…Cﬁ‹m≠
(

1827 
Di•œy
* ,

1830 
Cﬁ‹m≠
 
	`XDeÁu…Cﬁ‹m≠OfS¸ìn
(

1831 
S¸ìn
*

1833 
Di•œy
 *
	`XDi•œyOfS¸ìn
(

1834 
S¸ìn
*

1836 
S¸ìn
 *
	`XS¸ìnOfDi•œy
(

1837 
Di•œy
* ,

1840 
S¸ìn
 *
	`XDeÁu…S¸ìnOfDi•œy
(

1841 
Di•œy
*

1843 
	`XEvítMaskOfS¸ìn
(

1844 
S¸ìn
*

1847 
	`XS¸ìnNumbîOfS¸ìn
(

1848 
S¸ìn
*

1851 (*
	tXEº‹H™dÀr
) (

1852 
	tDi•œy
* ,

1853 
	tXEº‹Evít
*

1856 
XEº‹H™dÀr
 
	`XSëEº‹H™dÀr
 (

1857 
XEº‹H™dÀr


1861 (*
	tXIOEº‹H™dÀr
) (

1862 
	tDi•œy
*

1865 
XIOEº‹H™dÀr
 
	`XSëIOEº‹H™dÀr
 (

1866 
XIOEº‹H™dÀr


1870 
XPixm≠F‹m©VÆues
 *
	`XLi°Pixm≠F‹m©s
(

1871 
Di•œy
* ,

1874 *
	`XLi°Dïths
(

1875 
Di•œy
* ,

1882 
Sètus
 
	`XRec⁄figuªWMWödow
(

1883 
Di•œy
* ,

1884 
Wödow
 ,

1887 
XWödowCh™ges
*

1890 
Sètus
 
	`XGëWMPrŸocﬁs
(

1891 
Di•œy
* ,

1892 
Wödow
 ,

1893 
Atom
** ,

1896 
Sètus
 
	`XSëWMPrŸocﬁs
(

1897 
Di•œy
* ,

1898 
Wödow
 ,

1899 
Atom
* ,

1902 
Sètus
 
	`XIc⁄ifyWödow
(

1903 
Di•œy
* ,

1904 
Wödow
 ,

1907 
Sètus
 
	`XWôhdøwWödow
(

1908 
Di•œy
* ,

1909 
Wödow
 ,

1912 
Sètus
 
	`XGëComm™d
(

1913 
Di•œy
* ,

1914 
Wödow
 ,

1918 
Sètus
 
	`XGëWMCﬁ‹m≠Wödows
(

1919 
Di•œy
* ,

1920 
Wödow
 ,

1921 
Wödow
** ,

1924 
Sètus
 
	`XSëWMCﬁ‹m≠Wödows
(

1925 
Di•œy
* ,

1926 
Wödow
 ,

1927 
Wödow
* ,

1930 
	`XFªeSåögLi°
(

1933 
	`XSëTønsõ¡F‹Höt
(

1934 
Di•œy
* ,

1935 
Wödow
 ,

1936 
Wödow


1941 
	`XA˘iv©eS¸ìnSavî
(

1942 
Di•œy
*

1945 
	`XAddHo°
(

1946 
Di•œy
* ,

1947 
XHo°Addªss
*

1950 
	`XAddHo°s
(

1951 
Di•œy
* ,

1952 
XHo°Addªss
* ,

1956 
	`XAddToExãnsi⁄Li°
(

1957 
_XExtD©a
** ,

1958 
XExtD©a
*

1961 
	`XAddToSaveSë
(

1962 
Di•œy
* ,

1963 
Wödow


1966 
Sètus
 
	`XAŒocCﬁ‹
(

1967 
Di•œy
* ,

1968 
Cﬁ‹m≠
 ,

1969 
XCﬁ‹
*

1972 
Sètus
 
	`XAŒocCﬁ‹Cñls
(

1973 
Di•œy
* ,

1974 
Cﬁ‹m≠
 ,

1975 
Boﬁ
 ,

1982 
Sètus
 
	`XAŒocCﬁ‹Pœ√s
(

1983 
Di•œy
* ,

1984 
Cﬁ‹m≠
 ,

1985 
Boﬁ
 ,

1996 
Sètus
 
	`XAŒocNamedCﬁ‹
(

1997 
Di•œy
* ,

1998 
Cﬁ‹m≠
 ,

1999 
_Xc⁄°
 * ,

2000 
XCﬁ‹
* ,

2001 
XCﬁ‹
*

2004 
	`XAŒowEvíts
(

2005 
Di•œy
* ,

2007 
Time


2010 
	`XAutoRïótOff
(

2011 
Di•œy
*

2014 
	`XAutoRïótOn
(

2015 
Di•œy
*

2018 
	`XBñl
(

2019 
Di•œy
* ,

2023 
	`XBôm≠BôOrdî
(

2024 
Di•œy
*

2027 
	`XBôm≠Pad
(

2028 
Di•œy
*

2031 
	`XBôm≠Unô
(

2032 
Di•œy
*

2035 
	`XCñlsOfS¸ìn
(

2036 
S¸ìn
*

2039 
	`XCh™geA˘ivePoöãrGøb
(

2040 
Di•œy
* ,

2042 
Curs‹
 ,

2043 
Time


2046 
	`XCh™geGC
(

2047 
Di•œy
* ,

2048 
GC
 ,

2050 
XGCVÆues
*

2053 
	`XCh™geKeybﬂrdC⁄åﬁ
(

2054 
Di•œy
* ,

2056 
XKeybﬂrdC⁄åﬁ
*

2059 
	`XCh™geKeybﬂrdM≠pög
(

2060 
Di•œy
* ,

2063 
KeySym
* ,

2067 
	`XCh™gePoöãrC⁄åﬁ
(

2068 
Di•œy
* ,

2069 
Boﬁ
 ,

2070 
Boﬁ
 ,

2076 
	`XCh™gePr›îty
(

2077 
Di•œy
* ,

2078 
Wödow
 ,

2079 
Atom
 ,

2080 
Atom
 ,

2083 
_Xc⁄°
 * ,

2087 
	`XCh™geSaveSë
(

2088 
Di•œy
* ,

2089 
Wödow
 ,

2093 
	`XCh™geWödowAâribuãs
(

2094 
Di•œy
* ,

2095 
Wödow
 ,

2097 
XSëWödowAâribuãs
*

2100 
Boﬁ
 
	`XCheckIfEvít
(

2101 
Di•œy
* ,

2102 
XEvít
* ,

2103 
	$Boﬁ
 (*) (

2104 
Di•œy
* ,

2105 
XEvít
* ,

2106 
XPoöãr


2108 
XPoöãr


2111 
Boﬁ
 
	`XCheckMaskEvít
(

2112 
Di•œy
* ,

2114 
XEvít
*

2117 
Boﬁ
 
	`XCheckTy≥dEvít
(

2118 
Di•œy
* ,

2120 
XEvít
*

2123 
Boﬁ
 
	`XCheckTy≥dWödowEvít
(

2124 
Di•œy
* ,

2125 
Wödow
 ,

2127 
XEvít
*

2130 
Boﬁ
 
	`XCheckWödowEvít
(

2131 
Di•œy
* ,

2132 
Wödow
 ,

2134 
XEvít
*

2137 
	`XCúcuœãSubwödows
(

2138 
Di•œy
* ,

2139 
Wödow
 ,

2143 
	`XCúcuœãSubwödowsDown
(

2144 
Di•œy
* ,

2145 
Wödow


2148 
	`XCúcuœãSubwödowsUp
(

2149 
Di•œy
* ,

2150 
Wödow


2153 
	`XCÀ¨Aªa
(

2154 
Di•œy
* ,

2155 
Wödow
 ,

2160 
Boﬁ


2163 
	`XCÀ¨Wödow
(

2164 
Di•œy
* ,

2165 
Wödow


2168 
	`XClo£Di•œy
(

2169 
Di•œy
*

2172 
	`XC⁄figuªWödow
(

2173 
Di•œy
* ,

2174 
Wödow
 ,

2176 
XWödowCh™ges
*

2179 
	`XC⁄√˘i⁄Numbî
(

2180 
Di•œy
*

2183 
	`XC⁄vîtSñe˘i⁄
(

2184 
Di•œy
* ,

2185 
Atom
 ,

2186 
Atom
 ,

2187 
Atom
 ,

2188 
Wödow
 ,

2189 
Time


2192 
	`XC›yAªa
(

2193 
Di•œy
* ,

2194 
DøwabÀ
 ,

2195 
DøwabÀ
 ,

2196 
GC
 ,

2205 
	`XC›yGC
(

2206 
Di•œy
* ,

2207 
GC
 ,

2209 
GC


2212 
	`XC›yPœ√
(

2213 
Di•œy
* ,

2214 
DøwabÀ
 ,

2215 
DøwabÀ
 ,

2216 
GC
 ,

2226 
	`XDeÁu…Dïth
(

2227 
Di•œy
* ,

2231 
	`XDeÁu…DïthOfS¸ìn
(

2232 
S¸ìn
*

2235 
	`XDeÁu…S¸ìn
(

2236 
Di•œy
*

2239 
	`XDeföeCurs‹
(

2240 
Di•œy
* ,

2241 
Wödow
 ,

2242 
Curs‹


2245 
	`XDñëePr›îty
(

2246 
Di•œy
* ,

2247 
Wödow
 ,

2248 
Atom


2251 
	`XDe°royWödow
(

2252 
Di•œy
* ,

2253 
Wödow


2256 
	`XDe°roySubwödows
(

2257 
Di•œy
* ,

2258 
Wödow


2261 
	`XD€sBackögSt‹e
(

2262 
S¸ìn
*

2265 
Boﬁ
 
	`XD€sSaveUndîs
(

2266 
S¸ìn
*

2269 
	`XDißbÀAc˚ssC⁄åﬁ
(

2270 
Di•œy
*

2274 
	`XDi•œyCñls
(

2275 
Di•œy
* ,

2279 
	`XDi•œyHeight
(

2280 
Di•œy
* ,

2284 
	`XDi•œyHeightMM
(

2285 
Di•œy
* ,

2289 
	`XDi•œyKeycodes
(

2290 
Di•œy
* ,

2295 
	`XDi•œyPœ√s
(

2296 
Di•œy
* ,

2300 
	`XDi•œyWidth
(

2301 
Di•œy
* ,

2305 
	`XDi•œyWidthMM
(

2306 
Di•œy
* ,

2310 
	`XDøwArc
(

2311 
Di•œy
* ,

2312 
DøwabÀ
 ,

2313 
GC
 ,

2322 
	`XDøwArcs
(

2323 
Di•œy
* ,

2324 
DøwabÀ
 ,

2325 
GC
 ,

2326 
XArc
* ,

2330 
	`XDøwImageSåög
(

2331 
Di•œy
* ,

2332 
DøwabÀ
 ,

2333 
GC
 ,

2336 
_Xc⁄°
 * ,

2340 
	`XDøwImageSåög16
(

2341 
Di•œy
* ,

2342 
DøwabÀ
 ,

2343 
GC
 ,

2346 
_Xc⁄°
 
XCh¨2b
* ,

2350 
	`XDøwLöe
(

2351 
Di•œy
* ,

2352 
DøwabÀ
 ,

2353 
GC
 ,

2360 
	`XDøwLöes
(

2361 
Di•œy
* ,

2362 
DøwabÀ
 ,

2363 
GC
 ,

2364 
XPoöt
* ,

2369 
	`XDøwPoöt
(

2370 
Di•œy
* ,

2371 
DøwabÀ
 ,

2372 
GC
 ,

2377 
	`XDøwPoöts
(

2378 
Di•œy
* ,

2379 
DøwabÀ
 ,

2380 
GC
 ,

2381 
XPoöt
* ,

2386 
	`XDøwRe˘™gÀ
(

2387 
Di•œy
* ,

2388 
DøwabÀ
 ,

2389 
GC
 ,

2396 
	`XDøwRe˘™gÀs
(

2397 
Di•œy
* ,

2398 
DøwabÀ
 ,

2399 
GC
 ,

2400 
XRe˘™gÀ
* ,

2404 
	`XDøwSegmíts
(

2405 
Di•œy
* ,

2406 
DøwabÀ
 ,

2407 
GC
 ,

2408 
XSegmít
* ,

2412 
	`XDøwSåög
(

2413 
Di•œy
* ,

2414 
DøwabÀ
 ,

2415 
GC
 ,

2418 
_Xc⁄°
 * ,

2422 
	`XDøwSåög16
(

2423 
Di•œy
* ,

2424 
DøwabÀ
 ,

2425 
GC
 ,

2428 
_Xc⁄°
 
XCh¨2b
* ,

2432 
	`XDøwText
(

2433 
Di•œy
* ,

2434 
DøwabÀ
 ,

2435 
GC
 ,

2438 
XTextIãm
* ,

2442 
	`XDøwText16
(

2443 
Di•œy
* ,

2444 
DøwabÀ
 ,

2445 
GC
 ,

2448 
XTextIãm16
* ,

2452 
	`XE«bÀAc˚ssC⁄åﬁ
(

2453 
Di•œy
*

2456 
	`XEvítsQueued
(

2457 
Di•œy
* ,

2461 
Sètus
 
	`XFëchName
(

2462 
Di•œy
* ,

2463 
Wödow
 ,

2467 
	`XFûlArc
(

2468 
Di•œy
* ,

2469 
DøwabÀ
 ,

2470 
GC
 ,

2479 
	`XFûlArcs
(

2480 
Di•œy
* ,

2481 
DøwabÀ
 ,

2482 
GC
 ,

2483 
XArc
* ,

2487 
	`XFûlPﬁyg⁄
(

2488 
Di•œy
* ,

2489 
DøwabÀ
 ,

2490 
GC
 ,

2491 
XPoöt
* ,

2497 
	`XFûlRe˘™gÀ
(

2498 
Di•œy
* ,

2499 
DøwabÀ
 ,

2500 
GC
 ,

2507 
	`XFûlRe˘™gÀs
(

2508 
Di•œy
* ,

2509 
DøwabÀ
 ,

2510 
GC
 ,

2511 
XRe˘™gÀ
* ,

2515 
	`XFlush
(

2516 
Di•œy
*

2519 
	`XF‹˚S¸ìnSavî
(

2520 
Di•œy
* ,

2524 
	`XFªe
(

2528 
	`XFªeCﬁ‹m≠
(

2529 
Di•œy
* ,

2530 
Cﬁ‹m≠


2533 
	`XFªeCﬁ‹s
(

2534 
Di•œy
* ,

2535 
Cﬁ‹m≠
 ,

2541 
	`XFªeCurs‹
(

2542 
Di•œy
* ,

2543 
Curs‹


2546 
	`XFªeExãnsi⁄Li°
(

2550 
	`XFªeF⁄t
(

2551 
Di•œy
* ,

2552 
XF⁄tSåu˘
*

2555 
	`XFªeF⁄tInfo
(

2557 
XF⁄tSåu˘
* ,

2561 
	`XFªeF⁄tNames
(

2565 
	`XFªeF⁄tP©h
(

2569 
	`XFªeGC
(

2570 
Di•œy
* ,

2571 
GC


2574 
	`XFªeModifõrm≠
(

2575 
XModifõrKeym≠
*

2578 
	`XFªePixm≠
(

2579 
Di•œy
* ,

2580 
Pixm≠


2583 
	`XGeomëry
(

2584 
Di•œy
* ,

2586 
_Xc⁄°
 * ,

2587 
_Xc⁄°
 * ,

2599 
	`XGëEº‹D©aba£Text
(

2600 
Di•œy
* ,

2601 
_Xc⁄°
 * ,

2602 
_Xc⁄°
 * ,

2603 
_Xc⁄°
 * ,

2608 
	`XGëEº‹Text
(

2609 
Di•œy
* ,

2615 
Boﬁ
 
	`XGëF⁄tPr›îty
(

2616 
XF⁄tSåu˘
* ,

2617 
Atom
 ,

2621 
Sètus
 
	`XGëGCVÆues
(

2622 
Di•œy
* ,

2623 
GC
 ,

2625 
XGCVÆues
*

2628 
Sètus
 
	`XGëGeomëry
(

2629 
Di•œy
* ,

2630 
DøwabÀ
 ,

2631 
Wödow
* ,

2640 
Sètus
 
	`XGëIc⁄Name
(

2641 
Di•œy
* ,

2642 
Wödow
 ,

2646 
	`XGëI≈utFocus
(

2647 
Di•œy
* ,

2648 
Wödow
* ,

2652 
	`XGëKeybﬂrdC⁄åﬁ
(

2653 
Di•œy
* ,

2654 
XKeybﬂrdSèã
*

2657 
	`XGëPoöãrC⁄åﬁ
(

2658 
Di•œy
* ,

2664 
	`XGëPoöãrM≠pög
(

2665 
Di•œy
* ,

2670 
	`XGëS¸ìnSavî
(

2671 
Di•œy
* ,

2678 
Sètus
 
	`XGëTønsõ¡F‹Höt
(

2679 
Di•œy
* ,

2680 
Wödow
 ,

2681 
Wödow
*

2684 
	`XGëWödowPr›îty
(

2685 
Di•œy
* ,

2686 
Wödow
 ,

2687 
Atom
 ,

2690 
Boﬁ
 ,

2691 
Atom
 ,

2692 
Atom
* ,

2699 
Sètus
 
	`XGëWödowAâribuãs
(

2700 
Di•œy
* ,

2701 
Wödow
 ,

2702 
XWödowAâribuãs
*

2705 
	`XGøbBuâ⁄
(

2706 
Di•œy
* ,

2709 
Wödow
 ,

2710 
Boﬁ
 ,

2714 
Wödow
 ,

2715 
Curs‹


2718 
	`XGøbKey
(

2719 
Di•œy
* ,

2722 
Wödow
 ,

2723 
Boﬁ
 ,

2728 
	`XGøbKeybﬂrd
(

2729 
Di•œy
* ,

2730 
Wödow
 ,

2731 
Boﬁ
 ,

2734 
Time


2737 
	`XGøbPoöãr
(

2738 
Di•œy
* ,

2739 
Wödow
 ,

2740 
Boﬁ
 ,

2744 
Wödow
 ,

2745 
Curs‹
 ,

2746 
Time


2749 
	`XGøbSîvî
(

2750 
Di•œy
*

2753 
	`XHeightMMOfS¸ìn
(

2754 
S¸ìn
*

2757 
	`XHeightOfS¸ìn
(

2758 
S¸ìn
*

2761 
	`XIfEvít
(

2762 
Di•œy
* ,

2763 
XEvít
* ,

2764 
	$Boﬁ
 (*) (

2765 
Di•œy
* ,

2766 
XEvít
* ,

2767 
XPoöãr


2769 
XPoöãr


2772 
	`XImageByãOrdî
(

2773 
Di•œy
*

2776 
	`XIn°ÆlCﬁ‹m≠
(

2777 
Di•œy
* ,

2778 
Cﬁ‹m≠


2781 
KeyCode
 
	`XKeysymToKeycode
(

2782 
Di•œy
* ,

2783 
KeySym


2786 
	`XKûlClõ¡
(

2787 
Di•œy
* ,

2788 
XID


2791 
Sètus
 
	`XLookupCﬁ‹
(

2792 
Di•œy
* ,

2793 
Cﬁ‹m≠
 ,

2794 
_Xc⁄°
 * ,

2795 
XCﬁ‹
* ,

2796 
XCﬁ‹
*

2799 
	`XLowîWödow
(

2800 
Di•œy
* ,

2801 
Wödow


2804 
	`XM≠Rai£d
(

2805 
Di•œy
* ,

2806 
Wödow


2809 
	`XM≠Subwödows
(

2810 
Di•œy
* ,

2811 
Wödow


2814 
	`XM≠Wödow
(

2815 
Di•œy
* ,

2816 
Wödow


2819 
	`XMaskEvít
(

2820 
Di•œy
* ,

2822 
XEvít
*

2825 
	`XMaxCm≠sOfS¸ìn
(

2826 
S¸ìn
*

2829 
	`XMöCm≠sOfS¸ìn
(

2830 
S¸ìn
*

2833 
	`XMoveResizeWödow
(

2834 
Di•œy
* ,

2835 
Wödow
 ,

2842 
	`XMoveWödow
(

2843 
Di•œy
* ,

2844 
Wödow
 ,

2849 
	`XNextEvít
(

2850 
Di•œy
* ,

2851 
XEvít
*

2854 
	`XNoOp
(

2855 
Di•œy
*

2858 
Sètus
 
	`XP¨£Cﬁ‹
(

2859 
Di•œy
* ,

2860 
Cﬁ‹m≠
 ,

2861 
_Xc⁄°
 * ,

2862 
XCﬁ‹
*

2865 
	`XP¨£Geomëry
(

2866 
_Xc⁄°
 * ,

2873 
	`XPìkEvít
(

2874 
Di•œy
* ,

2875 
XEvít
*

2878 
	`XPìkIfEvít
(

2879 
Di•œy
* ,

2880 
XEvít
* ,

2881 
	$Boﬁ
 (*) (

2882 
Di•œy
* ,

2883 
XEvít
* ,

2884 
XPoöãr


2886 
XPoöãr


2889 
	`XPídög
(

2890 
Di•œy
*

2893 
	`XPœ√sOfS¸ìn
(

2894 
S¸ìn
*

2897 
	`XPrŸocﬁRevisi⁄
(

2898 
Di•œy
*

2901 
	`XPrŸocﬁVîsi⁄
(

2902 
Di•œy
*

2906 
	`XPutBackEvít
(

2907 
Di•œy
* ,

2908 
XEvít
*

2911 
	`XPutImage
(

2912 
Di•œy
* ,

2913 
DøwabÀ
 ,

2914 
GC
 ,

2915 
XImage
* ,

2924 
	`XQLígth
(

2925 
Di•œy
*

2928 
Sètus
 
	`XQuîyBe°Curs‹
(

2929 
Di•œy
* ,

2930 
DøwabÀ
 ,

2937 
Sètus
 
	`XQuîyBe°Size
(

2938 
Di•œy
* ,

2940 
DøwabÀ
 ,

2947 
Sètus
 
	`XQuîyBe°Stù∂e
(

2948 
Di•œy
* ,

2949 
DøwabÀ
 ,

2956 
Sètus
 
	`XQuîyBe°Tûe
(

2957 
Di•œy
* ,

2958 
DøwabÀ
 ,

2965 
	`XQuîyCﬁ‹
(

2966 
Di•œy
* ,

2967 
Cﬁ‹m≠
 ,

2968 
XCﬁ‹
*

2971 
	`XQuîyCﬁ‹s
(

2972 
Di•œy
* ,

2973 
Cﬁ‹m≠
 ,

2974 
XCﬁ‹
* ,

2978 
Boﬁ
 
	`XQuîyExãnsi⁄
(

2979 
Di•œy
* ,

2980 
_Xc⁄°
 * ,

2986 
	`XQuîyKeym≠
(

2987 
Di•œy
* ,

2991 
Boﬁ
 
	`XQuîyPoöãr
(

2992 
Di•œy
* ,

2993 
Wödow
 ,

2994 
Wödow
* ,

2995 
Wödow
* ,

3003 
	`XQuîyTextExã¡s
(

3004 
Di•œy
* ,

3005 
XID
 ,

3006 
_Xc⁄°
 * ,

3011 
XCh¨Såu˘
*

3014 
	`XQuîyTextExã¡s16
(

3015 
Di•œy
* ,

3016 
XID
 ,

3017 
_Xc⁄°
 
XCh¨2b
* ,

3022 
XCh¨Såu˘
*

3025 
Sètus
 
	`XQuîyTªe
(

3026 
Di•œy
* ,

3027 
Wödow
 ,

3028 
Wödow
* ,

3029 
Wödow
* ,

3030 
Wödow
** ,

3034 
	`XRai£Wödow
(

3035 
Di•œy
* ,

3036 
Wödow


3039 
	`XRódBôm≠Fûe
(

3040 
Di•œy
* ,

3041 
DøwabÀ
 ,

3042 
_Xc⁄°
 * ,

3045 
Pixm≠
* ,

3050 
	`XRódBôm≠FûeD©a
(

3051 
_Xc⁄°
 * ,

3059 
	`XRebödKeysym
(

3060 
Di•œy
* ,

3061 
KeySym
 ,

3062 
KeySym
* ,

3064 
_Xc⁄°
 * ,

3068 
	`XRecﬁ‹Curs‹
(

3069 
Di•œy
* ,

3070 
Curs‹
 ,

3071 
XCﬁ‹
* ,

3072 
XCﬁ‹
*

3075 
	`XRe‰eshKeybﬂrdM≠pög
(

3076 
XM≠pögEvít
*

3079 
	`XRemoveFromSaveSë
(

3080 
Di•œy
* ,

3081 
Wödow


3084 
	`XRemoveHo°
(

3085 
Di•œy
* ,

3086 
XHo°Addªss
*

3089 
	`XRemoveHo°s
(

3090 
Di•œy
* ,

3091 
XHo°Addªss
* ,

3095 
	`XRï¨ítWödow
(

3096 
Di•œy
* ,

3097 
Wödow
 ,

3098 
Wödow
 ,

3103 
	`XRe£tS¸ìnSavî
(

3104 
Di•œy
*

3107 
	`XResizeWödow
(

3108 
Di•œy
* ,

3109 
Wödow
 ,

3114 
	`XRe°ackWödows
(

3115 
Di•œy
* ,

3116 
Wödow
* ,

3120 
	`XRŸ©eBuf„rs
(

3121 
Di•œy
* ,

3125 
	`XRŸ©eWödowPr›îtõs
(

3126 
Di•œy
* ,

3127 
Wödow
 ,

3128 
Atom
* ,

3133 
	`XS¸ìnCou¡
(

3134 
Di•œy
*

3137 
	`XSñe˘I≈ut
(

3138 
Di•œy
* ,

3139 
Wödow
 ,

3143 
Sètus
 
	`XSídEvít
(

3144 
Di•œy
* ,

3145 
Wödow
 ,

3146 
Boﬁ
 ,

3148 
XEvít
*

3151 
	`XSëAc˚ssC⁄åﬁ
(

3152 
Di•œy
* ,

3156 
	`XSëArcMode
(

3157 
Di•œy
* ,

3158 
GC
 ,

3162 
	`XSëBackground
(

3163 
Di•œy
* ,

3164 
GC
 ,

3168 
	`XSëClùMask
(

3169 
Di•œy
* ,

3170 
GC
 ,

3171 
Pixm≠


3174 
	`XSëClùOrigö
(

3175 
Di•œy
* ,

3176 
GC
 ,

3181 
	`XSëClùRe˘™gÀs
(

3182 
Di•œy
* ,

3183 
GC
 ,

3186 
XRe˘™gÀ
* ,

3191 
	`XSëClo£DownMode
(

3192 
Di•œy
* ,

3196 
	`XSëComm™d
(

3197 
Di•œy
* ,

3198 
Wödow
 ,

3203 
	`XSëDashes
(

3204 
Di•œy
* ,

3205 
GC
 ,

3207 
_Xc⁄°
 * ,

3211 
	`XSëFûlRuÀ
(

3212 
Di•œy
* ,

3213 
GC
 ,

3217 
	`XSëFûlStyÀ
(

3218 
Di•œy
* ,

3219 
GC
 ,

3223 
	`XSëF⁄t
(

3224 
Di•œy
* ,

3225 
GC
 ,

3226 
F⁄t


3229 
	`XSëF⁄tP©h
(

3230 
Di•œy
* ,

3235 
	`XSëF‹eground
(

3236 
Di•œy
* ,

3237 
GC
 ,

3241 
	`XSëFun˘i⁄
(

3242 
Di•œy
* ,

3243 
GC
 ,

3247 
	`XSëGøphicsExposuªs
(

3248 
Di•œy
* ,

3249 
GC
 ,

3250 
Boﬁ


3253 
	`XSëIc⁄Name
(

3254 
Di•œy
* ,

3255 
Wödow
 ,

3256 
_Xc⁄°
 *

3259 
	`XSëI≈utFocus
(

3260 
Di•œy
* ,

3261 
Wödow
 ,

3263 
Time


3266 
	`XSëLöeAâribuãs
(

3267 
Di•œy
* ,

3268 
GC
 ,

3275 
	`XSëModifõrM≠pög
(

3276 
Di•œy
* ,

3277 
XModifõrKeym≠
*

3280 
	`XSëPœ√Mask
(

3281 
Di•œy
* ,

3282 
GC
 ,

3286 
	`XSëPoöãrM≠pög
(

3287 
Di•œy
* ,

3288 
_Xc⁄°
 * ,

3292 
	`XSëS¸ìnSavî
(

3293 
Di•œy
* ,

3300 
	`XSëSñe˘i⁄Ow√r
(

3301 
Di•œy
* ,

3302 
Atom
 ,

3303 
Wödow
 ,

3304 
Time


3307 
	`XSëSèã
(

3308 
Di•œy
* ,

3309 
GC
 ,

3316 
	`XSëStù∂e
(

3317 
Di•œy
* ,

3318 
GC
 ,

3319 
Pixm≠


3322 
	`XSëSubwödowMode
(

3323 
Di•œy
* ,

3324 
GC
 ,

3328 
	`XSëTSOrigö
(

3329 
Di•œy
* ,

3330 
GC
 ,

3335 
	`XSëTûe
(

3336 
Di•œy
* ,

3337 
GC
 ,

3338 
Pixm≠


3341 
	`XSëWödowBackground
(

3342 
Di•œy
* ,

3343 
Wödow
 ,

3347 
	`XSëWödowBackgroundPixm≠
(

3348 
Di•œy
* ,

3349 
Wödow
 ,

3350 
Pixm≠


3353 
	`XSëWödowB‹dî
(

3354 
Di•œy
* ,

3355 
Wödow
 ,

3359 
	`XSëWödowB‹dîPixm≠
(

3360 
Di•œy
* ,

3361 
Wödow
 ,

3362 
Pixm≠


3365 
	`XSëWödowB‹dîWidth
(

3366 
Di•œy
* ,

3367 
Wödow
 ,

3371 
	`XSëWödowCﬁ‹m≠
(

3372 
Di•œy
* ,

3373 
Wödow
 ,

3374 
Cﬁ‹m≠


3377 
	`XSt‹eBuf„r
(

3378 
Di•œy
* ,

3379 
_Xc⁄°
 * ,

3384 
	`XSt‹eByãs
(

3385 
Di•œy
* ,

3386 
_Xc⁄°
 * ,

3390 
	`XSt‹eCﬁ‹
(

3391 
Di•œy
* ,

3392 
Cﬁ‹m≠
 ,

3393 
XCﬁ‹
*

3396 
	`XSt‹eCﬁ‹s
(

3397 
Di•œy
* ,

3398 
Cﬁ‹m≠
 ,

3399 
XCﬁ‹
* ,

3403 
	`XSt‹eName
(

3404 
Di•œy
* ,

3405 
Wödow
 ,

3406 
_Xc⁄°
 *

3409 
	`XSt‹eNamedCﬁ‹
(

3410 
Di•œy
* ,

3411 
Cﬁ‹m≠
 ,

3412 
_Xc⁄°
 * ,

3417 
	`XSync
(

3418 
Di•œy
* ,

3419 
Boﬁ


3422 
	`XTextExã¡s
(

3423 
XF⁄tSåu˘
* ,

3424 
_Xc⁄°
 * ,

3429 
XCh¨Såu˘
*

3432 
	`XTextExã¡s16
(

3433 
XF⁄tSåu˘
* ,

3434 
_Xc⁄°
 
XCh¨2b
* ,

3439 
XCh¨Såu˘
*

3442 
	`XTextWidth
(

3443 
XF⁄tSåu˘
* ,

3444 
_Xc⁄°
 * ,

3448 
	`XTextWidth16
(

3449 
XF⁄tSåu˘
* ,

3450 
_Xc⁄°
 
XCh¨2b
* ,

3454 
Boﬁ
 
	`XTøn¶©eCo‹dö©es
(

3455 
Di•œy
* ,

3456 
Wödow
 ,

3457 
Wödow
 ,

3462 
Wödow
*

3465 
	`XUndeföeCurs‹
(

3466 
Di•œy
* ,

3467 
Wödow


3470 
	`XUngøbBuâ⁄
(

3471 
Di•œy
* ,

3474 
Wödow


3477 
	`XUngøbKey
(

3478 
Di•œy
* ,

3481 
Wödow


3484 
	`XUngøbKeybﬂrd
(

3485 
Di•œy
* ,

3486 
Time


3489 
	`XUngøbPoöãr
(

3490 
Di•œy
* ,

3491 
Time


3494 
	`XUngøbSîvî
(

3495 
Di•œy
*

3498 
	`XUnö°ÆlCﬁ‹m≠
(

3499 
Di•œy
* ,

3500 
Cﬁ‹m≠


3503 
	`XU∆ﬂdF⁄t
(

3504 
Di•œy
* ,

3505 
F⁄t


3508 
	`XUnm≠Subwödows
(

3509 
Di•œy
* ,

3510 
Wödow


3513 
	`XUnm≠Wödow
(

3514 
Di•œy
* ,

3515 
Wödow


3518 
	`XVíd‹Rñó£
(

3519 
Di•œy
*

3522 
	`XW¨pPoöãr
(

3523 
Di•œy
* ,

3524 
Wödow
 ,

3525 
Wödow
 ,

3534 
	`XWidthMMOfS¸ìn
(

3535 
S¸ìn
*

3538 
	`XWidthOfS¸ìn
(

3539 
S¸ìn
*

3542 
	`XWödowEvít
(

3543 
Di•œy
* ,

3544 
Wödow
 ,

3546 
XEvít
*

3549 
	`XWrôeBôm≠Fûe
(

3550 
Di•œy
* ,

3551 
_Xc⁄°
 * ,

3552 
Pixm≠
 ,

3559 
Boﬁ
 
	`XSuµ‹tsLoˇÀ
 ();

3561 *
	`XSëLoˇÀModifõrs
(

3565 
XOM
 
	`XO≥nOM
(

3566 
Di•œy
* ,

3567 
_XrmHashBuckëRec
* ,

3568 
_Xc⁄°
 * ,

3569 
_Xc⁄°
 *

3572 
Sètus
 
	`XClo£OM
(

3573 
XOM


3576 *
	$XSëOMVÆues
(

3577 
XOM
 ,

3579 Ë
	`_X_SENTINEL
(0);

3581 *
	$XGëOMVÆues
(

3582 
XOM
 ,

3584 Ë
	`_X_SENTINEL
(0);

3586 
Di•œy
 *
	`XDi•œyOfOM
(

3587 
XOM


3590 *
	`XLoˇÀOfOM
(

3591 
XOM


3594 
XOC
 
	$XCª©eOC
(

3595 
XOM
 ,

3597 Ë
	`_X_SENTINEL
(0);

3599 
	`XDe°royOC
(

3600 
XOC


3603 
XOM
 
	`XOMOfOC
(

3604 
XOC


3607 *
	$XSëOCVÆues
(

3608 
XOC
 ,

3610 Ë
	`_X_SENTINEL
(0);

3612 *
	$XGëOCVÆues
(

3613 
XOC
 ,

3615 Ë
	`_X_SENTINEL
(0);

3617 
XF⁄tSë
 
	`XCª©eF⁄tSë
(

3618 
Di•œy
* ,

3619 
_Xc⁄°
 * ,

3625 
	`XFªeF⁄tSë
(

3626 
Di•œy
* ,

3627 
XF⁄tSë


3630 
	`XF⁄tsOfF⁄tSë
(

3631 
XF⁄tSë
 ,

3632 
XF⁄tSåu˘
*** ,

3636 *
	`XBa£F⁄tNameLi°OfF⁄tSë
(

3637 
XF⁄tSë


3640 *
	`XLoˇÀOfF⁄tSë
(

3641 
XF⁄tSë


3644 
Boﬁ
 
	`XC⁄ãxtDïídítDøwög
(

3645 
XF⁄tSë


3648 
Boﬁ
 
	`XDúe˘i⁄ÆDïídítDøwög
(

3649 
XF⁄tSë


3652 
Boﬁ
 
	`XC⁄ãxtuÆDøwög
(

3653 
XF⁄tSë


3656 
XF⁄tSëExã¡s
 *
	`XExã¡sOfF⁄tSë
(

3657 
XF⁄tSë


3660 
	`XmbTextEsˇ≥mít
(

3661 
XF⁄tSë
 ,

3662 
_Xc⁄°
 * ,

3666 
	`XwcTextEsˇ≥mít
(

3667 
XF⁄tSë
 ,

3668 
_Xc⁄°
 
wch¨_t
* ,

3672 
	`Xutf8TextEsˇ≥mít
(

3673 
XF⁄tSë
 ,

3674 
_Xc⁄°
 * ,

3678 
	`XmbTextExã¡s
(

3679 
XF⁄tSë
 ,

3680 
_Xc⁄°
 * ,

3682 
XRe˘™gÀ
* ,

3683 
XRe˘™gÀ
*

3686 
	`XwcTextExã¡s
(

3687 
XF⁄tSë
 ,

3688 
_Xc⁄°
 
wch¨_t
* ,

3690 
XRe˘™gÀ
* ,

3691 
XRe˘™gÀ
*

3694 
	`Xutf8TextExã¡s
(

3695 
XF⁄tSë
 ,

3696 
_Xc⁄°
 * ,

3698 
XRe˘™gÀ
* ,

3699 
XRe˘™gÀ
*

3702 
Sètus
 
	`XmbTextPîCh¨Exã¡s
(

3703 
XF⁄tSë
 ,

3704 
_Xc⁄°
 * ,

3706 
XRe˘™gÀ
* ,

3707 
XRe˘™gÀ
* ,

3710 
XRe˘™gÀ
* ,

3711 
XRe˘™gÀ
*

3714 
Sètus
 
	`XwcTextPîCh¨Exã¡s
(

3715 
XF⁄tSë
 ,

3716 
_Xc⁄°
 
wch¨_t
* ,

3718 
XRe˘™gÀ
* ,

3719 
XRe˘™gÀ
* ,

3722 
XRe˘™gÀ
* ,

3723 
XRe˘™gÀ
*

3726 
Sètus
 
	`Xutf8TextPîCh¨Exã¡s
(

3727 
XF⁄tSë
 ,

3728 
_Xc⁄°
 * ,

3730 
XRe˘™gÀ
* ,

3731 
XRe˘™gÀ
* ,

3734 
XRe˘™gÀ
* ,

3735 
XRe˘™gÀ
*

3738 
	`XmbDøwText
(

3739 
Di•œy
* ,

3740 
DøwabÀ
 ,

3741 
GC
 ,

3744 
XmbTextIãm
* ,

3748 
	`XwcDøwText
(

3749 
Di•œy
* ,

3750 
DøwabÀ
 ,

3751 
GC
 ,

3754 
XwcTextIãm
* ,

3758 
	`Xutf8DøwText
(

3759 
Di•œy
* ,

3760 
DøwabÀ
 ,

3761 
GC
 ,

3764 
XmbTextIãm
* ,

3768 
	`XmbDøwSåög
(

3769 
Di•œy
* ,

3770 
DøwabÀ
 ,

3771 
XF⁄tSë
 ,

3772 
GC
 ,

3775 
_Xc⁄°
 * ,

3779 
	`XwcDøwSåög
(

3780 
Di•œy
* ,

3781 
DøwabÀ
 ,

3782 
XF⁄tSë
 ,

3783 
GC
 ,

3786 
_Xc⁄°
 
wch¨_t
* ,

3790 
	`Xutf8DøwSåög
(

3791 
Di•œy
* ,

3792 
DøwabÀ
 ,

3793 
XF⁄tSë
 ,

3794 
GC
 ,

3797 
_Xc⁄°
 * ,

3801 
	`XmbDøwImageSåög
(

3802 
Di•œy
* ,

3803 
DøwabÀ
 ,

3804 
XF⁄tSë
 ,

3805 
GC
 ,

3808 
_Xc⁄°
 * ,

3812 
	`XwcDøwImageSåög
(

3813 
Di•œy
* ,

3814 
DøwabÀ
 ,

3815 
XF⁄tSë
 ,

3816 
GC
 ,

3819 
_Xc⁄°
 
wch¨_t
* ,

3823 
	`Xutf8DøwImageSåög
(

3824 
Di•œy
* ,

3825 
DøwabÀ
 ,

3826 
XF⁄tSë
 ,

3827 
GC
 ,

3830 
_Xc⁄°
 * ,

3834 
XIM
 
	`XO≥nIM
(

3835 
Di•œy
* ,

3836 
_XrmHashBuckëRec
* ,

3841 
Sètus
 
	`XClo£IM
(

3842 
XIM


3845 *
	$XGëIMVÆues
(

3846 
XIM
 , ...

3847 Ë
	`_X_SENTINEL
(0);

3849 *
	$XSëIMVÆues
(

3850 
XIM
 , ...

3851 Ë
	`_X_SENTINEL
(0);

3853 
Di•œy
 *
	`XDi•œyOfIM
(

3854 
XIM


3857 *
	`XLoˇÀOfIM
(

3858 
XIM


3861 
XIC
 
	$XCª©eIC
(

3862 
XIM
 , ...

3863 Ë
	`_X_SENTINEL
(0);

3865 
	`XDe°royIC
(

3866 
XIC


3869 
	`XSëICFocus
(

3870 
XIC


3873 
	`XUn£tICFocus
(

3874 
XIC


3877 
wch¨_t
 *
	`XwcRe£tIC
(

3878 
XIC


3881 *
	`XmbRe£tIC
(

3882 
XIC


3885 *
	`Xutf8Re£tIC
(

3886 
XIC


3889 *
	$XSëICVÆues
(

3890 
XIC
 , ...

3891 Ë
	`_X_SENTINEL
(0);

3893 *
	$XGëICVÆues
(

3894 
XIC
 , ...

3895 Ë
	`_X_SENTINEL
(0);

3897 
XIM
 
	`XIMOfIC
(

3898 
XIC


3901 
Boﬁ
 
	`XFûãrEvít
(

3902 
XEvít
* ,

3903 
Wödow


3906 
	`XmbLookupSåög
(

3907 
XIC
 ,

3908 
XKeyPªs£dEvít
* ,

3911 
KeySym
* ,

3912 
Sètus
*

3915 
	`XwcLookupSåög
(

3916 
XIC
 ,

3917 
XKeyPªs£dEvít
* ,

3918 
wch¨_t
* ,

3920 
KeySym
* ,

3921 
Sètus
*

3924 
	`Xutf8LookupSåög
(

3925 
XIC
 ,

3926 
XKeyPªs£dEvít
* ,

3929 
KeySym
* ,

3930 
Sètus
*

3933 
XVaNe°edLi°
 
	$XVaCª©eNe°edLi°
(

3935 Ë
	`_X_SENTINEL
(0);

3939 
Boﬁ
 
	`XRegi°îIMIn°™tüãCÆlback
(

3940 
Di•œy
* ,

3941 
_XrmHashBuckëRec
* ,

3944 
XIDProc
 ,

3945 
XPoöãr


3948 
Boﬁ
 
	`XUƒegi°îIMIn°™tüãCÆlback
(

3949 
Di•œy
* ,

3950 
_XrmHashBuckëRec
* ,

3953 
XIDProc
 ,

3954 
XPoöãr


3957 (*
	tXC⁄√˘i⁄W©chProc
)(

3958 
	tDi•œy
* ,

3959 
	tXPoöãr
 ,

3961 
	tBoﬁ
 ,

3962 
	tXPoöãr
*

3966 
Sètus
 
	`XI¡î«lC⁄√˘i⁄Numbîs
(

3967 
Di•œy
* ,

3972 
	`XPro˚ssI¡î«lC⁄√˘i⁄
(

3973 
Di•œy
* ,

3977 
Sètus
 
	`XAddC⁄√˘i⁄W©ch
(

3978 
Di•œy
* ,

3979 
XC⁄√˘i⁄W©chProc
 ,

3980 
XPoöãr


3983 
	`XRemoveC⁄√˘i⁄W©ch
(

3984 
Di•œy
* ,

3985 
XC⁄√˘i⁄W©chProc
 ,

3986 
XPoöãr


3989 
	`XSëAuth‹iz©i⁄
(

3996 
	`_Xmbtowc
(

3997 
wch¨_t
 * ,

3998 #ifde‡
ISC


4000 
size_t


4007 
	`_Xw˘omb
(

4009 
wch¨_t


4012 
Boﬁ
 
	`XGëEvítD©a
(

4013 
Di•œy
* ,

4014 
XGíîicEvítCookõ
*

4017 
	`XFªeEvítD©a
(

4018 
Di•œy
* ,

4019 
XGíîicEvítCookõ
*

4022 
_XFUNCPROTOEND


	@/usr/include/X11/Xutil.h

49 #i‚de‡
_X11_XUTIL_H_


50 
	#_X11_XUTIL_H_


	)

53 
	~<X11/Xlib.h
>

54 
	~<X11/keysym.h
>

60 
	#NoVÆue
 0x0000

	)

61 
	#XVÆue
 0x0001

	)

62 
	#YVÆue
 0x0002

	)

63 
	#WidthVÆue
 0x0004

	)

64 
	#HeightVÆue
 0x0008

	)

65 
	#AŒVÆues
 0x000F

	)

66 
	#XNeg©ive
 0x0010

	)

67 
	#YNeg©ive
 0x0020

	)

74 
	mÊags
;

75 
	mx
, 
	my
;

76 
	mwidth
, 
	mheight
;

77 
	mmö_width
, 
	mmö_height
;

78 
	mmax_width
, 
	mmax_height
;

79 
	mwidth_öc
, 
	mheight_öc
;

81 
	mx
;

82 
	my
;

83 } 
	mmö_a•e˘
, 
	mmax_a•e˘
;

84 
	mba£_width
, 
	mba£_height
;

85 
	mwö_gøvôy
;

86 } 
	tXSizeHöts
;

94 
	#USPosôi⁄
 (1L << 0Ë

	)

95 
	#USSize
 (1L << 1Ë

	)

97 
	#PPosôi⁄
 (1L << 2Ë

	)

98 
	#PSize
 (1L << 3Ë

	)

99 
	#PMöSize
 (1L << 4Ë

	)

100 
	#PMaxSize
 (1L << 5Ë

	)

101 
	#PResizeInc
 (1L << 6Ë

	)

102 
	#PA•e˘
 (1L << 7Ë

	)

103 
	#PBa£Size
 (1L << 8Ë

	)

104 
	#PWöGøvôy
 (1L << 9Ë

	)

107 
	#PAŒHöts
 (
PPosôi⁄
|
PSize
|
PMöSize
|
PMaxSize
|
PResizeInc
|
PA•e˘
)

	)

112 
	mÊags
;

113 
Boﬁ
 
	möput
;

115 
	möôül_°©e
;

116 
Pixm≠
 
	mic⁄_pixm≠
;

117 
Wödow
 
	mic⁄_wödow
;

118 
	mic⁄_x
, 
	mic⁄_y
;

119 
Pixm≠
 
	mic⁄_mask
;

120 
XID
 
	mwödow_group
;

122 } 
	tXWMHöts
;

126 
	#I≈utHöt
 (1L << 0)

	)

127 
	#SèãHöt
 (1L << 1)

	)

128 
	#Ic⁄Pixm≠Höt
 (1L << 2)

	)

129 
	#Ic⁄WödowHöt
 (1L << 3)

	)

130 
	#Ic⁄Posôi⁄Höt
 (1L << 4)

	)

131 
	#Ic⁄MaskHöt
 (1L << 5)

	)

132 
	#WödowGroupHöt
 (1L << 6)

	)

133 
	#AŒHöts
 (
I≈utHöt
|
SèãHöt
|
Ic⁄Pixm≠Höt
|
Ic⁄WödowHöt
| \

134 
Ic⁄Posôi⁄Höt
|
Ic⁄MaskHöt
|
WödowGroupHöt
)

	)

135 
	#XUrgícyHöt
 (1L << 8)

	)

138 
	#WôhdøwnSèã
 0

	)

139 
	#N‹mÆSèã
 1

	)

140 
	#Ic⁄icSèã
 3

	)

145 
	#D⁄tC¨eSèã
 0

	)

146 
	#ZoomSèã
 2

	)

147 
	#I«˘iveSèã
 4

	)

156 *
	mvÆue
;

157 
Atom
 
	mícodög
;

158 
	mf‹m©
;

159 
	mnôems
;

160 } 
	tXTextPr›îty
;

162 
	#XNoMem‹y
 -1

	)

163 
	#XLoˇÀNŸSuµ‹ãd
 -2

	)

164 
	#XC⁄vîãrNŸFound
 -3

	)

167 
	mXSåögStyÀ
,

168 
	mXCompoundTextStyÀ
,

169 
	mXTextStyÀ
,

170 
	mXStdICCTextStyÀ
,

172 
	mXUTF8SåögStyÀ


173 } 
	tXICCEncodögStyÀ
;

176 
	mmö_width
, 
	mmö_height
;

177 
	mmax_width
, 
	mmax_height
;

178 
	mwidth_öc
, 
	mheight_öc
;

179 } 
	tXIc⁄Size
;

182 *
	mªs_«me
;

183 *
	mªs_˛ass
;

184 } 
	tXCœssHöt
;

186 #ifde‡
XUTIL_DEFINE_FUNCTIONS


187 
XDe°royImage
(

188 
XImage
 *
ximage
);

189 
XGëPixñ
(

190 
XImage
 *
ximage
,

191 
x
, 
y
);

192 
XPutPixñ
(

193 
XImage
 *
ximage
,

194 
x
, 
y
,

195 
pixñ
);

196 
XImage
 *
XSubImage
(

197 
XImage
 *
ximage
,

198 
x
, 
y
,

199 
width
, 
height
);

200 
XAddPixñ
(

201 
XImage
 *
ximage
,

202 
vÆue
);

208 
	#XDe°royImage
(
ximage
) \

209 ((*((
ximage
)->
f
.
de°roy_image
))((ximage)))

	)

210 
	#XGëPixñ
(
ximage
, 
x
, 
y
) \

211 ((*((
ximage
)->
f
.
gë_pixñ
))((ximage), (
x
), (
y
)))

	)

212 
	#XPutPixñ
(
ximage
, 
x
, 
y
, 
pixñ
) \

213 ((*((
ximage
)->
f
.
put_pixñ
))((ximage), (
x
), (
y
), (
pixñ
)))

	)

214 
	#XSubImage
(
ximage
, 
x
, 
y
, 
width
, 
height
) \

215 ((*((
ximage
)->
f
.
sub_image
))((ximage), (
x
), (
y
), (
width
), (
height
)))

	)

216 
	#XAddPixñ
(
ximage
, 
vÆue
) \

217 ((*((
ximage
)->
f
.
add_pixñ
))((ximage), (
vÆue
)))

	)

223 
	s_XCompo£Sètus
 {

224 
XPoöãr
 
	mcompo£_±r
;

225 
	mch¨s_m©ched
;

226 } 
	tXCompo£Sètus
;

231 
	#IsKey∑dKey
(
keysym
) \

232 (((
KeySym
)(
keysym
Ë>
XK_KP_S∑˚
Ë&& ((KeySym)(keysymË<
XK_KP_EquÆ
))

	)

234 
	#IsPriv©eKey∑dKey
(
keysym
) \

235 (((
KeySym
)(
keysym
Ë>0x11000000Ë&& ((KeySym)(keysymË<0x1100FFFF))

	)

237 
	#IsCurs‹Key
(
keysym
) \

238 (((
KeySym
)(
keysym
Ë>
XK_Home
Ë&& ((KeySym)(keysymË< 
XK_Sñe˘
))

	)

240 
	#IsPFKey
(
keysym
) \

241 (((
KeySym
)(
keysym
Ë>
XK_KP_F1
Ë&& ((KeySym)(keysymË<
XK_KP_F4
))

	)

243 
	#IsFun˘i⁄Key
(
keysym
) \

244 (((
KeySym
)(
keysym
Ë>
XK_F1
Ë&& ((KeySym)(keysymË<
XK_F35
))

	)

246 
	#IsMiscFun˘i⁄Key
(
keysym
) \

247 (((
KeySym
)(
keysym
Ë>
XK_Sñe˘
Ë&& ((KeySym)(keysymË<
XK_Bªak
))

	)

249 #ifde‡
XK_XKB_KEYS


250 
	#IsModifõrKey
(
keysym
) \

251 ((((
KeySym
)(
keysym
Ë>
XK_Shi·_L
Ë&& ((KeySym)(keysymË<
XK_Hy≥r_R
)) \

252 || (((
KeySym
)(
keysym
Ë>
XK_ISO_Lock
) && \

253 ((
KeySym
)(
keysym
Ë<
XK_ISO_Levñ5_Lock
)) \

254 || ((
KeySym
)(
keysym
Ë=
XK_Mode_swôch
) \

255 || ((
KeySym
)(
keysym
Ë=
XK_Num_Lock
))

	)

257 
	#IsModifõrKey
(
keysym
) \

258 ((((
KeySym
)(
keysym
Ë>
XK_Shi·_L
Ë&& ((KeySym)(keysymË<
XK_Hy≥r_R
)) \

259 || ((
KeySym
)(
keysym
Ë=
XK_Mode_swôch
) \

260 || ((
KeySym
)(
keysym
Ë=
XK_Num_Lock
))

	)

265 
_XRegi⁄
 *
	tRegi⁄
;

269 
	#Re˘™gÀOut
 0

	)

270 
	#Re˘™gÀIn
 1

	)

271 
	#Re˘™gÀP¨t
 2

	)

280 
VisuÆ
 *
	mvisuÆ
;

281 
VisuÆID
 
	mvisuÆid
;

282 
	ms¸ìn
;

283 
	mdïth
;

284 #i‡
deföed
(
__˝lu•lus
Ë|| deföed(
c_∂u•lus
)

285 
	mc_˛ass
;

287 
	m˛ass
;

289 
	mªd_mask
;

290 
	mgªí_mask
;

291 
	mblue_mask
;

292 
	mcﬁ‹m≠_size
;

293 
	mbôs_≥r_rgb
;

294 } 
	tXVisuÆInfo
;

296 
	#VisuÆNoMask
 0x0

	)

297 
	#VisuÆIDMask
 0x1

	)

298 
	#VisuÆS¸ìnMask
 0x2

	)

299 
	#VisuÆDïthMask
 0x4

	)

300 
	#VisuÆCœssMask
 0x8

	)

301 
	#VisuÆRedMaskMask
 0x10

	)

302 
	#VisuÆGªíMaskMask
 0x20

	)

303 
	#VisuÆBlueMaskMask
 0x40

	)

304 
	#VisuÆCﬁ‹m≠SizeMask
 0x80

	)

305 
	#VisuÆBôsPîRGBMask
 0x100

	)

306 
	#VisuÆAŒMask
 0x1FF

	)

313 
Cﬁ‹m≠
 
	mcﬁ‹m≠
;

314 
	mªd_max
;

315 
	mªd_mu…
;

316 
	mgªí_max
;

317 
	mgªí_mu…
;

318 
	mblue_max
;

319 
	mblue_mu…
;

320 
	mba£_pixñ
;

321 
VisuÆID
 
	mvisuÆid
;

322 
XID
 
	mkûlid
;

323 } 
	tXSènd¨dCﬁ‹m≠
;

325 
	#Rñó£ByFªeögCﬁ‹m≠
 ((
XID
Ë1LË

	)

331 
	#Bôm≠Suc˚ss
 0

	)

332 
	#Bôm≠O≥nFaûed
 1

	)

333 
	#Bôm≠FûeInvÆid
 2

	)

334 
	#Bôm≠NoMem‹y
 3

	)

345 
	#XCSUCCESS
 0

	)

346 
	#XCNOMEM
 1

	)

347 
	#XCNOENT
 2

	)

349 
	tXC⁄ãxt
;

351 
	#XUniqueC⁄ãxt
(Ë((
XC⁄ãxt
Ë
	`XrmUniqueQu¨k
())

	)

352 
	#XSåögToC⁄ãxt
(
°rög
Ë((
XC⁄ãxt
Ë
	`XrmSåögToQu¨k
(°rög))

	)

354 
_XFUNCPROTOBEGIN


358 
XCœssHöt
 *
XAŒocCœssHöt
 (

362 
XIc⁄Size
 *
XAŒocIc⁄Size
 (

366 
XSizeHöts
 *
XAŒocSizeHöts
 (

370 
XSènd¨dCﬁ‹m≠
 *
XAŒocSènd¨dCﬁ‹m≠
 (

374 
XWMHöts
 *
XAŒocWMHöts
 (

378 
XClùBox
(

379 
Regi⁄
 ,

380 
XRe˘™gÀ
*

383 
Regi⁄
 
XCª©eRegi⁄
(

387 c⁄° *
XDeÁu…Såög
 ();

389 
XDñëeC⁄ãxt
(

390 
Di•œy
* ,

391 
XID
 ,

392 
XC⁄ãxt


395 
XDe°royRegi⁄
(

396 
Regi⁄


399 
XEm±yRegi⁄
(

400 
Regi⁄


403 
XEquÆRegi⁄
(

404 
Regi⁄
 ,

405 
Regi⁄


408 
XFödC⁄ãxt
(

409 
Di•œy
* ,

410 
XID
 ,

411 
XC⁄ãxt
 ,

412 
XPoöãr
*

415 
Sètus
 
XGëCœssHöt
(

416 
Di•œy
* ,

417 
Wödow
 ,

418 
XCœssHöt
*

421 
Sètus
 
XGëIc⁄Sizes
(

422 
Di•œy
* ,

423 
Wödow
 ,

424 
XIc⁄Size
** ,

428 
Sètus
 
XGëN‹mÆHöts
(

429 
Di•œy
* ,

430 
Wödow
 ,

431 
XSizeHöts
*

434 
Sètus
 
XGëRGBCﬁ‹m≠s
(

435 
Di•œy
* ,

436 
Wödow
 ,

437 
XSènd¨dCﬁ‹m≠
** ,

439 
Atom


442 
Sètus
 
XGëSizeHöts
(

443 
Di•œy
* ,

444 
Wödow
 ,

445 
XSizeHöts
* ,

446 
Atom


449 
Sètus
 
XGëSènd¨dCﬁ‹m≠
(

450 
Di•œy
* ,

451 
Wödow
 ,

452 
XSènd¨dCﬁ‹m≠
* ,

453 
Atom


456 
Sètus
 
XGëTextPr›îty
(

457 
Di•œy
* ,

458 
Wödow
 ,

459 
XTextPr›îty
* ,

460 
Atom


463 
XVisuÆInfo
 *
XGëVisuÆInfo
(

464 
Di•œy
* ,

466 
XVisuÆInfo
* ,

470 
Sètus
 
XGëWMClõ¡Machöe
(

471 
Di•œy
* ,

472 
Wödow
 ,

473 
XTextPr›îty
*

476 
XWMHöts
 *
XGëWMHöts
(

477 
Di•œy
* ,

478 
Wödow


481 
Sètus
 
XGëWMIc⁄Name
(

482 
Di•œy
* ,

483 
Wödow
 ,

484 
XTextPr›îty
*

487 
Sètus
 
XGëWMName
(

488 
Di•œy
* ,

489 
Wödow
 ,

490 
XTextPr›îty
*

493 
Sètus
 
XGëWMN‹mÆHöts
(

494 
Di•œy
* ,

495 
Wödow
 ,

496 
XSizeHöts
* ,

500 
Sètus
 
XGëWMSizeHöts
(

501 
Di•œy
* ,

502 
Wödow
 ,

503 
XSizeHöts
* ,

505 
Atom


508 
Sètus
 
XGëZoomHöts
(

509 
Di•œy
* ,

510 
Wödow
 ,

511 
XSizeHöts
*

514 
XI¡î£˘Regi⁄
(

515 
Regi⁄
 ,

516 
Regi⁄
 ,

517 
Regi⁄


520 
XC⁄vîtCa£
(

521 
KeySym
 ,

522 
KeySym
* ,

523 
KeySym
*

526 
XLookupSåög
(

527 
XKeyEvít
* ,

530 
KeySym
* ,

531 
XCompo£Sètus
*

534 
Sètus
 
XM©chVisuÆInfo
(

535 
Di•œy
* ,

539 
XVisuÆInfo
*

542 
XOff£tRegi⁄
(

543 
Regi⁄
 ,

548 
Boﬁ
 
XPoötInRegi⁄
(

549 
Regi⁄
 ,

554 
Regi⁄
 
XPﬁyg⁄Regi⁄
(

555 
XPoöt
* ,

560 
XRe˘InRegi⁄
(

561 
Regi⁄
 ,

568 
XSaveC⁄ãxt
(

569 
Di•œy
* ,

570 
XID
 ,

571 
XC⁄ãxt
 ,

572 
_Xc⁄°
 *

575 
XSëCœssHöt
(

576 
Di•œy
* ,

577 
Wödow
 ,

578 
XCœssHöt
*

581 
XSëIc⁄Sizes
(

582 
Di•œy
* ,

583 
Wödow
 ,

584 
XIc⁄Size
* ,

588 
XSëN‹mÆHöts
(

589 
Di•œy
* ,

590 
Wödow
 ,

591 
XSizeHöts
*

594 
XSëRGBCﬁ‹m≠s
(

595 
Di•œy
* ,

596 
Wödow
 ,

597 
XSènd¨dCﬁ‹m≠
* ,

599 
Atom


602 
XSëSizeHöts
(

603 
Di•œy
* ,

604 
Wödow
 ,

605 
XSizeHöts
* ,

606 
Atom


609 
XSëSènd¨dPr›îtõs
(

610 
Di•œy
* ,

611 
Wödow
 ,

612 
_Xc⁄°
 * ,

613 
_Xc⁄°
 * ,

614 
Pixm≠
 ,

617 
XSizeHöts
*

620 
XSëTextPr›îty
(

621 
Di•œy
* ,

622 
Wödow
 ,

623 
XTextPr›îty
* ,

624 
Atom


627 
XSëWMClõ¡Machöe
(

628 
Di•œy
* ,

629 
Wödow
 ,

630 
XTextPr›îty
*

633 
XSëWMHöts
(

634 
Di•œy
* ,

635 
Wödow
 ,

636 
XWMHöts
*

639 
XSëWMIc⁄Name
(

640 
Di•œy
* ,

641 
Wödow
 ,

642 
XTextPr›îty
*

645 
XSëWMName
(

646 
Di•œy
* ,

647 
Wödow
 ,

648 
XTextPr›îty
*

651 
XSëWMN‹mÆHöts
(

652 
Di•œy
* ,

653 
Wödow
 ,

654 
XSizeHöts
*

657 
XSëWMPr›îtõs
(

658 
Di•œy
* ,

659 
Wödow
 ,

660 
XTextPr›îty
* ,

661 
XTextPr›îty
* ,

664 
XSizeHöts
* ,

665 
XWMHöts
* ,

666 
XCœssHöt
*

669 
XmbSëWMPr›îtõs
(

670 
Di•œy
* ,

671 
Wödow
 ,

672 
_Xc⁄°
 * ,

673 
_Xc⁄°
 * ,

676 
XSizeHöts
* ,

677 
XWMHöts
* ,

678 
XCœssHöt
*

681 
Xutf8SëWMPr›îtõs
(

682 
Di•œy
* ,

683 
Wödow
 ,

684 
_Xc⁄°
 * ,

685 
_Xc⁄°
 * ,

688 
XSizeHöts
* ,

689 
XWMHöts
* ,

690 
XCœssHöt
*

693 
XSëWMSizeHöts
(

694 
Di•œy
* ,

695 
Wödow
 ,

696 
XSizeHöts
* ,

697 
Atom


700 
XSëRegi⁄
(

701 
Di•œy
* ,

702 
GC
 ,

703 
Regi⁄


706 
XSëSènd¨dCﬁ‹m≠
(

707 
Di•œy
* ,

708 
Wödow
 ,

709 
XSènd¨dCﬁ‹m≠
* ,

710 
Atom


713 
XSëZoomHöts
(

714 
Di•œy
* ,

715 
Wödow
 ,

716 
XSizeHöts
*

719 
XShrökRegi⁄
(

720 
Regi⁄
 ,

725 
Sètus
 
XSåögLi°ToTextPr›îty
(

728 
XTextPr›îty
*

731 
XSubåa˘Regi⁄
(

732 
Regi⁄
 ,

733 
Regi⁄
 ,

734 
Regi⁄


737 
XmbTextLi°ToTextPr›îty
(

738 
Di•œy
* 
di•œy
,

739 ** 
li°
,

740 
cou¡
,

741 
XICCEncodögStyÀ
 
°yÀ
,

742 
XTextPr›îty
* 
ãxt_¥›_ªtu∫


745 
XwcTextLi°ToTextPr›îty
(

746 
Di•œy
* 
di•œy
,

747 
wch¨_t
** 
li°
,

748 
cou¡
,

749 
XICCEncodögStyÀ
 
°yÀ
,

750 
XTextPr›îty
* 
ãxt_¥›_ªtu∫


753 
Xutf8TextLi°ToTextPr›îty
(

754 
Di•œy
* 
di•œy
,

755 ** 
li°
,

756 
cou¡
,

757 
XICCEncodögStyÀ
 
°yÀ
,

758 
XTextPr›îty
* 
ãxt_¥›_ªtu∫


761 
XwcFªeSåögLi°
(

762 
wch¨_t
** 
li°


765 
Sètus
 
XTextPr›îtyToSåögLi°
(

766 
XTextPr›îty
* ,

771 
XmbTextPr›îtyToTextLi°
(

772 
Di•œy
* 
di•œy
,

773 c⁄° 
XTextPr›îty
* 
ãxt_¥›
,

774 *** 
li°_ªtu∫
,

775 * 
cou¡_ªtu∫


778 
XwcTextPr›îtyToTextLi°
(

779 
Di•œy
* 
di•œy
,

780 c⁄° 
XTextPr›îty
* 
ãxt_¥›
,

781 
wch¨_t
*** 
li°_ªtu∫
,

782 * 
cou¡_ªtu∫


785 
Xutf8TextPr›îtyToTextLi°
(

786 
Di•œy
* 
di•œy
,

787 c⁄° 
XTextPr›îty
* 
ãxt_¥›
,

788 *** 
li°_ªtu∫
,

789 * 
cou¡_ªtu∫


792 
XUni⁄Re˘WôhRegi⁄
(

793 
XRe˘™gÀ
* ,

794 
Regi⁄
 ,

795 
Regi⁄


798 
XUni⁄Regi⁄
(

799 
Regi⁄
 ,

800 
Regi⁄
 ,

801 
Regi⁄


804 
XWMGeomëry
(

805 
Di•œy
* ,

807 
_Xc⁄°
 * ,

808 
_Xc⁄°
 * ,

810 
XSizeHöts
* ,

818 
XX‹Regi⁄
(

819 
Regi⁄
 ,

820 
Regi⁄
 ,

821 
Regi⁄


824 
	g_XFUNCPROTOEND


	@/usr/include/X11/extensions/XShm.h

29 #i‚de‡
_XSHM_H_


30 
	#_XSHM_H_


	)

32 
	~<X11/Xfun˝rŸo.h
>

33 
	~<X11/exãnsi⁄s/shm.h
>

35 #i‚de‡
_XSHM_SERVER_


36 
	tShmSeg
;

39 
	mty≥
;

40 
	m£rül
;

41 
Boﬁ
 
	m£nd_evít
;

42 
Di•œy
 *
	mdi•œy
;

43 
DøwabÀ
 
	mdøwabÀ
;

44 
	mmaj‹_code
;

45 
	mmö‹_code
;

46 
ShmSeg
 
	mshm£g
;

47 
	moff£t
;

48 } 
	tXShmCom∂ëi⁄Evít
;

51 
ShmSeg
 
	mshm£g
;

52 
	mshmid
;

53 *
	mshmaddr
;

54 
Boﬁ
 
	mªadO∆y
;

55 } 
	tXShmSegmítInfo
;

57 
_XFUNCPROTOBEGIN


59 
Boﬁ
 
XShmQuîyExãnsi⁄
(

60 
Di•œy
*

63 
XShmGëEvítBa£
(

64 
Di•œy
*

67 
Boﬁ
 
XShmQuîyVîsi⁄
(

68 
Di•œy
* ,

71 
Boﬁ
*

74 
XShmPixm≠F‹m©
(

75 
Di•œy
*

78 
Boﬁ
 
XShmAâach
(

79 
Di•œy
* ,

80 
XShmSegmítInfo
*

83 
Boﬁ
 
XShmDëach
(

84 
Di•œy
* ,

85 
XShmSegmítInfo
*

88 
Boﬁ
 
XShmPutImage
(

89 
Di•œy
* ,

90 
DøwabÀ
 ,

91 
GC
 ,

92 
XImage
* ,

99 
Boﬁ


102 
Boﬁ
 
XShmGëImage
(

103 
Di•œy
* ,

104 
DøwabÀ
 ,

105 
XImage
* ,

111 
XImage
 *
XShmCª©eImage
(

112 
Di•œy
* ,

113 
VisuÆ
* ,

117 
XShmSegmítInfo
* ,

122 
Pixm≠
 
XShmCª©ePixm≠
(

123 
Di•œy
* ,

124 
DøwabÀ
 ,

126 
XShmSegmítInfo
* ,

132 
	g_XFUNCPROTOEND


	@/usr/include/X11/extensions/Xrandr.h

29 #i‚de‡
_XRANDR_H_


30 
	#_XRANDR_H_


	)

32 
	~<X11/exãnsi⁄s/øndr.h
>

33 
	~<X11/exãnsi⁄s/Xªndî.h
>

35 
	~<X11/Xfun˝rŸo.h
>

37 
_XFUNCPROTOBEGIN


39 
XID
 
	tRROuçut
;

40 
XID
 
	tRRCπc
;

41 
XID
 
	tRRMode
;

44 
	mwidth
, 
	mheight
;

45 
	mmwidth
, 
	mmheight
;

46 } 
	tXRRS¸ìnSize
;

53 
	mty≥
;

54 
	m£rül
;

55 
Boﬁ
 
	m£nd_evít
;

56 
Di•œy
 *
	mdi•œy
;

57 
Wödow
 
	mwödow
;

58 
Wödow
 
	mroŸ
;

59 
Time
 
	mtime°amp
;

60 
Time
 
	mc⁄fig_time°amp
;

61 
SizeID
 
	msize_ödex
;

62 
SubpixñOrdî
 
	msubpixñ_‹dî
;

63 
RŸ©i⁄
 
	mrŸ©i⁄
;

64 
	mwidth
;

65 
	mheight
;

66 
	mmwidth
;

67 
	mmheight
;

68 } 
	tXRRS¸ìnCh™geNŸifyEvít
;

71 
	mty≥
;

72 
	m£rül
;

73 
Boﬁ
 
	m£nd_evít
;

74 
Di•œy
 *
	mdi•œy
;

75 
Wödow
 
	mwödow
;

76 
	msubty≥
;

77 } 
	tXRRNŸifyEvít
;

80 
	mty≥
;

81 
	m£rül
;

82 
Boﬁ
 
	m£nd_evít
;

83 
Di•œy
 *
	mdi•œy
;

84 
Wödow
 
	mwödow
;

85 
	msubty≥
;

86 
RROuçut
 
	mouçut
;

87 
RRCπc
 
	m¸tc
;

88 
RRMode
 
	mmode
;

89 
RŸ©i⁄
 
	mrŸ©i⁄
;

90 
C⁄√˘i⁄
 
	mc⁄√˘i⁄
;

91 
SubpixñOrdî
 
	msubpixñ_‹dî
;

92 } 
	tXRROuçutCh™geNŸifyEvít
;

95 
	mty≥
;

96 
	m£rül
;

97 
Boﬁ
 
	m£nd_evít
;

98 
Di•œy
 *
	mdi•œy
;

99 
Wödow
 
	mwödow
;

100 
	msubty≥
;

101 
RRCπc
 
	m¸tc
;

102 
RRMode
 
	mmode
;

103 
RŸ©i⁄
 
	mrŸ©i⁄
;

104 
	mx
, 
	my
;

105 
	mwidth
, 
	mheight
;

106 } 
	tXRRCπcCh™geNŸifyEvít
;

109 
	mty≥
;

110 
	m£rül
;

111 
Boﬁ
 
	m£nd_evít
;

112 
Di•œy
 *
	mdi•œy
;

113 
Wödow
 
	mwödow
;

114 
	msubty≥
;

115 
RROuçut
 
	mouçut
;

116 
Atom
 
	m¥›îty
;

117 
Time
 
	mtime°amp
;

118 
	m°©e
;

119 } 
	tXRROuçutPr›îtyNŸifyEvít
;

122 
_XRRS¸ìnC⁄figuøti⁄
 
	tXRRS¸ìnC⁄figuøti⁄
;

124 
Boﬁ
 
XRRQuîyExãnsi⁄
 (
Di•œy
 *
dpy
,

125 *
evít_ba£_ªtu∫
,

126 *
îr‹_ba£_ªtu∫
);

127 
Sètus
 
XRRQuîyVîsi⁄
 (
Di•œy
 *
dpy
,

128 *
maj‹_vîsi⁄_ªtu∫
,

129 *
mö‹_vîsi⁄_ªtu∫
);

131 
XRRS¸ìnC⁄figuøti⁄
 *
XRRGëS¸ìnInfo
 (
Di•œy
 *
dpy
,

132 
Wödow
 
wödow
);

134 
XRRFªeS¸ìnC⁄figInfo
 (
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
);

143 
Sètus
 
XRRSëS¸ìnC⁄fig
 (
Di•œy
 *
dpy
,

144 
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
,

145 
DøwabÀ
 
døw
,

146 
size_ödex
,

147 
RŸ©i⁄
 
rŸ©i⁄
,

148 
Time
 
time°amp
);

151 
Sètus
 
XRRSëS¸ìnC⁄figAndR©e
 (
Di•œy
 *
dpy
,

152 
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
,

153 
DøwabÀ
 
døw
,

154 
size_ödex
,

155 
RŸ©i⁄
 
rŸ©i⁄
,

156 
øã
,

157 
Time
 
time°amp
);

160 
RŸ©i⁄
 
XRRC⁄figRŸ©i⁄s
(
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
, RŸ©i⁄ *
cuºít_rŸ©i⁄
);

162 
Time
 
XRRC⁄figTimes
 (
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
, Timê*
c⁄fig_time°amp
);

164 
XRRS¸ìnSize
 *
XRRC⁄figSizes
(
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
, *
nsizes
);

166 *
XRRC⁄figR©es
 (
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
, 
sizeID
, *
ƒ©es
);

168 
SizeID
 
XRRC⁄figCuºítC⁄figuøti⁄
 (
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
,

169 
RŸ©i⁄
 *
rŸ©i⁄
);

171 
XRRC⁄figCuºítR©e
 (
XRRS¸ìnC⁄figuøti⁄
 *
c⁄fig
);

173 
XRRRoŸToS¸ìn
(
Di•œy
 *
dpy
, 
Wödow
 
roŸ
);

184 
XRRSñe˘I≈ut
(
Di•œy
 *
dpy
, 
Wödow
 
wödow
, 
mask
);

192 
RŸ©i⁄
 
XRRRŸ©i⁄s
(
Di•œy
 *
dpy
, 
s¸ìn
, RŸ©i⁄ *
cuºít_rŸ©i⁄
);

193 
XRRS¸ìnSize
 *
XRRSizes
(
Di•œy
 *
dpy
, 
s¸ìn
, *
nsizes
);

194 *
XRRR©es
 (
Di•œy
 *
dpy
, 
s¸ìn
, 
sizeID
, *
ƒ©es
);

195 
Time
 
XRRTimes
 (
Di•œy
 *
dpy
, 
s¸ìn
, Timê*
c⁄fig_time°amp
);

201 
Sètus


202 
XRRGëS¸ìnSizeR™ge
 (
Di•œy
 *
dpy
, 
Wödow
 
wödow
,

203 *
möWidth
, *
möHeight
,

204 *
maxWidth
, *
maxHeight
);

207 
XRRSëS¸ìnSize
 (
Di•œy
 *
dpy
, 
Wödow
 
wödow
,

208 
width
, 
height
,

209 
mmWidth
, 
mmHeight
);

211 
	tXRRModeFœgs
;

213 
	s_XRRModeInfo
 {

214 
RRMode
 
	mid
;

215 
	mwidth
;

216 
	mheight
;

217 
	mdŸClock
;

218 
	mhSyncSèπ
;

219 
	mhSyncEnd
;

220 
	mhTŸÆ
;

221 
	mhSkew
;

222 
	mvSyncSèπ
;

223 
	mvSyncEnd
;

224 
	mvTŸÆ
;

225 *
	m«me
;

226 
	m«meLígth
;

227 
XRRModeFœgs
 
	mmodeFœgs
;

228 } 
	tXRRModeInfo
;

230 
	s_XRRS¸ìnResour˚s
 {

231 
Time
 
	mtime°amp
;

232 
Time
 
	mc⁄figTime°amp
;

233 
	mn¸tc
;

234 
RRCπc
 *
	m¸tcs
;

235 
	mnouçut
;

236 
RROuçut
 *
	mouçuts
;

237 
	mnmode
;

238 
XRRModeInfo
 *
	mmodes
;

239 } 
	tXRRS¸ìnResour˚s
;

241 
XRRS¸ìnResour˚s
 *

242 
XRRGëS¸ìnResour˚s
 (
Di•œy
 *
dpy
, 
Wödow
 
wödow
);

245 
XRRFªeS¸ìnResour˚s
 (
XRRS¸ìnResour˚s
 *
ªsour˚s
);

247 
	s_XRROuçutInfo
 {

248 
Time
 
	mtime°amp
;

249 
RRCπc
 
	m¸tc
;

250 *
	m«me
;

251 
	m«meLí
;

252 
	mmm_width
;

253 
	mmm_height
;

254 
C⁄√˘i⁄
 
	mc⁄√˘i⁄
;

255 
SubpixñOrdî
 
	msubpixñ_‹dî
;

256 
	mn¸tc
;

257 
RRCπc
 *
	m¸tcs
;

258 
	mn˛⁄e
;

259 
RROuçut
 *
	m˛⁄es
;

260 
	mnmode
;

261 
	m≈ª„ºed
;

262 
RRMode
 *
	mmodes
;

263 } 
	tXRROuçutInfo
;

265 
XRROuçutInfo
 *

266 
XRRGëOuçutInfo
 (
Di•œy
 *
dpy
, 
XRRS¸ìnResour˚s
 *
ªsour˚s
, 
RROuçut
 
ouçut
);

269 
XRRFªeOuçutInfo
 (
XRROuçutInfo
 *
ouçutInfo
);

271 
Atom
 *

272 
XRRLi°OuçutPr›îtõs
 (
Di•œy
 *
dpy
, 
RROuçut
 
ouçut
, *
≈r›
);

275 
Boﬁ
 
	m≥ndög
;

276 
Boﬁ
 
	mønge
;

277 
Boﬁ
 
	mimmuèbÀ
;

278 
	mnum_vÆues
;

279 *
	mvÆues
;

280 } 
	tXRRPr›îtyInfo
;

282 
XRRPr›îtyInfo
 *

283 
XRRQuîyOuçutPr›îty
 (
Di•œy
 *
dpy
, 
RROuçut
 
ouçut
, 
Atom
 
¥›îty
);

286 
XRRC⁄figuªOuçutPr›îty
 (
Di•œy
 *
dpy
, 
RROuçut
 
ouçut
, 
Atom
 
¥›îty
,

287 
Boﬁ
 
≥ndög
, Boﬁ 
ønge
, 
num_vÆues
,

288 *
vÆues
);

291 
XRRCh™geOuçutPr›îty
 (
Di•œy
 *
dpy
, 
RROuçut
 
ouçut
,

292 
Atom
 
¥›îty
, Atom 
ty≥
,

293 
f‹m©
, 
mode
,

294 
_Xc⁄°
 *
d©a
, 
√Àmíts
);

297 
XRRDñëeOuçutPr›îty
 (
Di•œy
 *
dpy
, 
RROuçut
 
ouçut
, 
Atom
 
¥›îty
);

300 
XRRGëOuçutPr›îty
 (
Di•œy
 *
dpy
, 
RROuçut
 
ouçut
,

301 
Atom
 
¥›îty
, 
off£t
, 
Àngth
,

302 
Boﬁ
 
_dñëe
, Boﬁ 
≥ndög
, 
Atom
 
ªq_ty≥
,

303 
Atom
 *
a˘uÆ_ty≥
, *
a˘uÆ_f‹m©
,

304 *
nôems
, *
byãs_a·î
,

305 **
¥›
);

307 
XRRModeInfo
 *

308 
XRRAŒocModeInfo
 (*
«me
, 
«meLígth
);

310 
RRMode


311 
XRRCª©eMode
 (
Di•œy
 *
dpy
, 
Wödow
 
wödow
, 
XRRModeInfo
 *
modeInfo
);

314 
XRRDe°royMode
 (
Di•œy
 *
dpy
, 
RRMode
 
mode
);

317 
XRRAddOuçutMode
 (
Di•œy
 *
dpy
, 
RROuçut
 
ouçut
, 
RRMode
 
mode
);

320 
XRRDñëeOuçutMode
 (
Di•œy
 *
dpy
, 
RROuçut
 
ouçut
, 
RRMode
 
mode
);

323 
XRRFªeModeInfo
 (
XRRModeInfo
 *
modeInfo
);

325 
	s_XRRCπcInfo
 {

326 
Time
 
	mtime°amp
;

327 
	mx
, 
	my
;

328 
	mwidth
, 
	mheight
;

329 
RRMode
 
	mmode
;

330 
RŸ©i⁄
 
	mrŸ©i⁄
;

331 
	mnouçut
;

332 
RROuçut
 *
	mouçuts
;

333 
RŸ©i⁄
 
	mrŸ©i⁄s
;

334 
	m≈ossibÀ
;

335 
RROuçut
 *
	mpossibÀ
;

336 } 
	tXRRCπcInfo
;

338 
XRRCπcInfo
 *

339 
XRRGëCπcInfo
 (
Di•œy
 *
dpy
, 
XRRS¸ìnResour˚s
 *
ªsour˚s
, 
RRCπc
 
¸tc
);

342 
XRRFªeCπcInfo
 (
XRRCπcInfo
 *
¸tcInfo
);

344 
Sètus


345 
XRRSëCπcC⁄fig
 (
Di•œy
 *
dpy
,

346 
XRRS¸ìnResour˚s
 *
ªsour˚s
,

347 
RRCπc
 
¸tc
,

348 
Time
 
time°amp
,

349 
x
, 
y
,

350 
RRMode
 
mode
,

351 
RŸ©i⁄
 
rŸ©i⁄
,

352 
RROuçut
 *
ouçuts
,

353 
nouçuts
);

356 
XRRGëCπcGammaSize
 (
Di•œy
 *
dpy
, 
RRCπc
 
¸tc
);

358 
	s_XRRCπcGamma
 {

359 
	msize
;

360 *
	mªd
;

361 *
	mgªí
;

362 *
	mblue
;

363 } 
	tXRRCπcGamma
;

365 
XRRCπcGamma
 *

366 
XRRGëCπcGamma
 (
Di•œy
 *
dpy
, 
RRCπc
 
¸tc
);

368 
XRRCπcGamma
 *

369 
XRRAŒocGamma
 (
size
);

372 
XRRSëCπcGamma
 (
Di•œy
 *
dpy
, 
RRCπc
 
¸tc
, 
XRRCπcGamma
 *
gamma
);

375 
XRRFªeGamma
 (
XRRCπcGamma
 *
gamma
);

379 
XRRS¸ìnResour˚s
 *

380 
XRRGëS¸ìnResour˚sCuºít
 (
Di•œy
 *
dpy
, 
Wödow
 
wödow
);

383 
XRRSëCπcTønsf‹m
 (
Di•œy
 *
dpy
,

384 
RRCπc
 
¸tc
,

385 
XTønsf‹m
 *
å™sf‹m
,

386 *
fûãr
,

387 
XFixed
 *
∑øms
,

388 
≈¨ams
);

390 
	s_XRRCπcTønsf‹mAâribuãs
 {

391 
XTønsf‹m
 
	m≥ndögTønsf‹m
;

392 *
	m≥ndögFûãr
;

393 
	m≥ndögN∑øms
;

394 
XFixed
 *
	m≥ndögP¨ams
;

395 
XTønsf‹m
 
	mcuºítTønsf‹m
;

396 *
	mcuºítFûãr
;

397 
	mcuºítN∑øms
;

398 
XFixed
 *
	mcuºítP¨ams
;

399 } 
	tXRRCπcTønsf‹mAâribuãs
;

405 
Sètus


406 
XRRGëCπcTønsf‹m
 (
Di•œy
 *
dpy
,

407 
RRCπc
 
¸tc
,

408 
XRRCπcTønsf‹mAâribuãs
 **
©åibuãs
);

415 
XRRUpd©eC⁄figuøti⁄
(
XEvít
 *
evít
);

417 
	s_XRRP™nög
 {

418 
Time
 
	mtime°amp
;

419 
	mÀ·
;

420 
	mt›
;

421 
	mwidth
;

422 
	mheight
;

423 
	måack_À·
;

424 
	måack_t›
;

425 
	måack_width
;

426 
	måack_height
;

427 
	mb‹dî_À·
;

428 
	mb‹dî_t›
;

429 
	mb‹dî_right
;

430 
	mb‹dî_bŸtom
;

431 } 
	tXRRP™nög
;

433 
XRRP™nög
 *

434 
XRRGëP™nög
 (
Di•œy
 *
dpy
, 
XRRS¸ìnResour˚s
 *
ªsour˚s
, 
RRCπc
 
¸tc
);

437 
XRRFªeP™nög
 (
XRRP™nög
 *
∑¬ög
);

439 
Sètus


440 
XRRSëP™nög
 (
Di•œy
 *
dpy
,

441 
XRRS¸ìnResour˚s
 *
ªsour˚s
,

442 
RRCπc
 
¸tc
,

443 
XRRP™nög
 *
∑¬ög
);

446 
XRRSëOuçutPrim¨y
(
Di•œy
 *
dpy
,

447 
Wödow
 
wödow
,

448 
RROuçut
 
ouçut
);

450 
RROuçut


451 
XRRGëOuçutPrim¨y
(
Di•œy
 *
dpy
,

452 
Wödow
 
wödow
);

454 
	g_XFUNCPROTOEND


	@/usr/include/X11/keysym.h

49 
	#XK_MISCELLANY


	)

50 
	#XK_XKB_KEYS


	)

51 
	#XK_LATIN1


	)

52 
	#XK_LATIN2


	)

53 
	#XK_LATIN3


	)

54 
	#XK_LATIN4


	)

55 
	#XK_LATIN8


	)

56 
	#XK_LATIN9


	)

57 
	#XK_CAUCASUS


	)

58 
	#XK_GREEK


	)

59 
	#XK_KATAKANA


	)

60 
	#XK_ARABIC


	)

61 
	#XK_CYRILLIC


	)

62 
	#XK_HEBREW


	)

63 
	#XK_THAI


	)

64 
	#XK_KOREAN


	)

65 
	#XK_ARMENIAN


	)

66 
	#XK_GEORGIAN


	)

67 
	#XK_VIETNAMESE


	)

68 
	#XK_CURRENCY


	)

69 
	#XK_MATHEMATICAL


	)

70 
	#XK_BRAILLE


	)

71 
	#XK_SINHALA


	)

73 
	~<X11/keysymdef.h
>

	@/usr/include/arpa/inet.h

19 #i‚de‡
_ARPA_INET_H


20 
	#_ARPA_INET_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<√töë/ö.h
>

26 #i‚de‡
__sockÀn_t_deföed


27 
__sockÀn_t
 
	tsockÀn_t
;

28 
	#__sockÀn_t_deföed


	)

31 
__BEGIN_DECLS


35 
ö_addr_t
 
	$öë_addr
 (
__c⁄°
 *
__˝
Ë
__THROW
;

38 
ö_addr_t
 
	$öë_ aof
 (
ö_addr
 
__ö
Ë
__THROW
;

42 
ö_addr
 
	$öë_makóddr
 (
ö_addr_t
 
__√t
, in_addr_à
__ho°
)

43 
__THROW
;

46 
ö_addr_t
 
	$öë_√tof
 (
ö_addr
 
__ö
Ë
__THROW
;

50 
ö_addr_t
 
	$öë_√tw‹k
 (
__c⁄°
 *
__˝
Ë
__THROW
;

54 *
	$öë_¡ﬂ
 (
ö_addr
 
__ö
Ë
__THROW
;

59 
	$öë_±⁄
 (
__af
, 
__c⁄°
 *
__ª°ri˘
 
__˝
,

60 *
__ª°ri˘
 
__buf
Ë
__THROW
;

65 
__c⁄°
 *
	$öë_¡›
 (
__af
, 
__c⁄°
 *
__ª°ri˘
 
__˝
,

66 *
__ª°ri˘
 
__buf
, 
sockÀn_t
 
__Àn
)

67 
__THROW
;

71 #ifde‡
__USE_MISC


74 
	$öë_©⁄
 (
__c⁄°
 *
__˝
, 
ö_addr
 *
__öp
Ë
__THROW
;

78 *
	$öë_√è
 (
ö_addr_t
 
__√t
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

83 *
	$öë_√t_¡›
 (
__af
, 
__c⁄°
 *
__˝
, 
__bôs
,

84 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

89 
	$öë_√t_±⁄
 (
__af
, 
__c⁄°
 *
__˝
,

90 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

95 
	$öë_nßp_addr
 (
__c⁄°
 *
__˝
,

96 *
__buf
, 
__Àn
Ë
__THROW
;

100 *
	$öë_nßp_¡ﬂ
 (
__Àn
, 
__c⁄°
 *
__˝
,

101 *
__buf
Ë
__THROW
;

104 
__END_DECLS


	@/usr/include/assert.h

24 #ifdef 
_ASSERT_H


26 #unde‡
_ASSERT_H


27 #unde‡
as£π


28 #unde‡
__ASSERT_VOID_CAST


30 #ifdef 
__USE_GNU


31 #unde‡
as£π_≥º‹


36 
	#_ASSERT_H
 1

	)

37 
	~<„©uªs.h
>

39 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,95)

40 
	#__ASSERT_VOID_CAST
 
°©ic_ˇ°
<>

	)

42 
	#__ASSERT_VOID_CAST
 ()

	)

50 #ifdef 
NDEBUG


52 
	#as£π
(
ex¥
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

60 #ifdef 
__USE_GNU


61 
	#as£π_≥º‹
(
î∫um
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

66 #i‚de‡
_ASSERT_H_DECLS


67 
	#_ASSERT_H_DECLS


	)

68 
__BEGIN_DECLS


71 
	$__as£π_Áû
 (
__c⁄°
 *
__as£πi⁄
, __c⁄° *
__fûe
,

72 
__löe
, 
__c⁄°
 *
__fun˘i⁄
)

73 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

76 
	$__as£π_≥º‹_Áû
 (
__î∫um
, 
__c⁄°
 *
__fûe
,

77 
__löe
,

78 
__c⁄°
 *
__fun˘i⁄
)

79 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

84 
	$__as£π
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
, 
__löe
)

85 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

88 
__END_DECLS


91 
	#as£π
(
ex¥
) \

92 ((
ex¥
) \

93 ? 
	`__ASSERT_VOID_CAST
 (0) \

94 : 
	`__as£π_Áû
 (
	`__STRING
(
ex¥
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

96 #ifdef 
__USE_GNU


97 
	#as£π_≥º‹
(
î∫um
) \

98 (!(
î∫um
) \

99 ? 
	`__ASSERT_VOID_CAST
 (0) \

100 : 
	`__as£π_≥º‹_Áû
 ((
î∫um
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

108 #i‡
deföed
 
__˝lu•lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

109 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

111 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

112 
	#__ASSERT_FUNCTION
 
__func__


	)

114 
	#__ASSERT_FUNCTION
 ((
__c⁄°
 *Ë0)

	)

	@/usr/include/ctype.h

24 #i‚def 
_CTYPE_H


25 
	#_CTYPE_H
 1

	)

27 
	~<„©uªs.h
>

28 
	~<bôs/ty≥s.h
>

30 
	g__BEGIN_DECLS


32 #i‚de‡
_ISbô


41 
	~<ídün.h
>

42 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


43 
	#_ISbô
(
bô
Ë(1 << (bô))

	)

45 
	#_ISbô
(
bô
Ë((bôË< 8 ? ((1 << (bô)Ë<< 8Ë: ((1 << (bô)Ë>> 8))

	)

50 
	m_ISuµî
 = 
_ISbô
 (0),

51 
	m_ISlowî
 = 
_ISbô
 (1),

52 
	m_ISÆpha
 = 
_ISbô
 (2),

53 
	m_ISdigô
 = 
_ISbô
 (3),

54 
	m_ISxdigô
 = 
_ISbô
 (4),

55 
	m_IS•a˚
 = 
_ISbô
 (5),

56 
	m_IS¥öt
 = 
_ISbô
 (6),

57 
	m_ISgøph
 = 
_ISbô
 (7),

58 
	m_ISbœnk
 = 
_ISbô
 (8),

59 
	m_IS˙ål
 = 
_ISbô
 (9),

60 
	m_ISpun˘
 = 
_ISbô
 (10),

61 
	m_ISÆnum
 = 
_ISbô
 (11)

81 
__c⁄°
 **
	$__˘y≥_b_loc
 ()

82 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

83 
__c⁄°
 
__öt32_t
 **
	$__˘y≥_tﬁowî_loc
 ()

84 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

85 
__c⁄°
 
__öt32_t
 **
	$__˘y≥_touµî_loc
 ()

86 
__THROW
 
	`__©åibuã__
 ((
__c⁄°
));

89 #i‚de‡
__˝lu•lus


90 
	#__is˘y≥
(
c
, 
ty≥
) \

91 ((*
	`__˘y≥_b_loc
 ())[(Ë(
c
)] & (Ë
ty≥
)

	)

92 #ñi‡
deföed
 
__USE_EXTERN_INLINES


93 
	#__is˘y≥_f
(
ty≥
) \

94 
__exã∫_ölöe
 \

95 
is
##
	`ty≥
 (
__c
Ë
__THROW
 \

97  (*
	`__˘y≥_b_loc
 ())[(Ë(
__c
)] & (Ë
_IS
##
ty≥
; \

98 
	}

	)
}

101 
	#__ißscii
(
c
Ë(((cË& ~0x7fË=0Ë

	)

102 
	#__tﬂscii
(
c
Ë((cË& 0x7fË

	)

104 
	#__ex˘y≥
(
«me
Ë
	`«me
 (Ë
__THROW


	)

106 
__BEGIN_NAMESPACE_STD


112 
__ex˘y≥
 (
iß um
);

113 
__ex˘y≥
 (
ißÕha
);

114 
__ex˘y≥
 (
is˙ål
);

115 
__ex˘y≥
 (
isdigô
);

116 
__ex˘y≥
 (
i¶owî
);

117 
__ex˘y≥
 (
isgøph
);

118 
__ex˘y≥
 (
i•röt
);

119 
__ex˘y≥
 (
i•un˘
);

120 
__ex˘y≥
 (
is•a˚
);

121 
__ex˘y≥
 (
isuµî
);

122 
__ex˘y≥
 (
isxdigô
);

126 
	$tﬁowî
 (
__c
Ë
__THROW
;

129 
	$touµî
 (
__c
Ë
__THROW
;

131 
__END_NAMESPACE_STD


135 #ifdef 
__USE_ISOC99


136 
__BEGIN_NAMESPACE_C99


138 
	`__ex˘y≥
 (
isbœnk
);

140 
__END_NAMESPACE_C99


143 #ifde‡
__USE_GNU


145 
	$is˘y≥
 (
__c
, 
__mask
Ë
__THROW
;

148 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


152 
	$ißscii
 (
__c
Ë
__THROW
;

156 
	$tﬂscii
 (
__c
Ë
__THROW
;

160 
	`__ex˘y≥
 (
_touµî
);

161 
	`__ex˘y≥
 (
_tﬁowî
);

165 
	#__tobody
(
c
, 
f
, 
a
, 
¨gs
) \

166 (
__exãnsi⁄__
 \

167 ({ 
__ªs
; \

168 i‡( (
c
) > 1) \

170 i‡(
	`__buûtö_c⁄°™t_p
 (
c
)) \

172 
__c
 = (
c
); \

173 
__ªs
 = 
__c
 < -128 || __¯> 255 ? __¯: (
a
)[__c]; \

176 
__ªs
 = 
f
 
¨gs
; \

179 
__ªs
 = (
a
)[(Ë(
c
)]; \

180 
__ªs
; 
	}
}))

	)

182 #i‡!
deföed
 
__NO_CTYPE


183 #ifde‡
__is˘y≥_f


184 
	$__is˘y≥_f
 (
Ænum
)

185 
	$__is˘y≥_f
 (
Æpha
)

186 
	$__is˘y≥_f
 (
˙ål
)

187 
	$__is˘y≥_f
 (
digô
)

188 
	$__is˘y≥_f
 (
lowî
)

189 
	$__is˘y≥_f
 (
gøph
)

190 
	$__is˘y≥_f
 (
¥öt
)

191 
	$__is˘y≥_f
 (
pun˘
)

192 
	$__is˘y≥_f
 (
•a˚
)

193 
	$__is˘y≥_f
 (
uµî
)

194 
	$__is˘y≥_f
 (
xdigô
)

195 #ifde‡
__USE_ISOC99


196 
	$__is˘y≥_f
 (
bœnk
)

198 #ñi‡
deföed
 
__is˘y≥


199 
	#iß um
(
c
Ë
	`__is˘y≥
((c), 
_ISÆnum
)

	)

200 
	#ißÕha
(
c
Ë
	`__is˘y≥
((c), 
_ISÆpha
)

	)

201 
	#is˙ål
(
c
Ë
	`__is˘y≥
((c), 
_IS˙ål
)

	)

202 
	#isdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISdigô
)

	)

203 
	#i¶owî
(
c
Ë
	`__is˘y≥
((c), 
_ISlowî
)

	)

204 
	#isgøph
(
c
Ë
	`__is˘y≥
((c), 
_ISgøph
)

	)

205 
	#i•röt
(
c
Ë
	`__is˘y≥
((c), 
_IS¥öt
)

	)

206 
	#i•un˘
(
c
Ë
	`__is˘y≥
((c), 
_ISpun˘
)

	)

207 
	#is•a˚
(
c
Ë
	`__is˘y≥
((c), 
_IS•a˚
)

	)

208 
	#isuµî
(
c
Ë
	`__is˘y≥
((c), 
_ISuµî
)

	)

209 
	#isxdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISxdigô
)

	)

210 #ifde‡
__USE_ISOC99


211 
	#isbœnk
(
c
Ë
	`__is˘y≥
((c), 
_ISbœnk
)

	)

215 #ifde‡
__USE_EXTERN_INLINES


216 
__exã∫_ölöe
 

217 
	`__NTH
 (
	$tﬁowî
 (
__c
))

219  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_tﬁowî_loc
 ())[__c] : __c;

220 
	}
}

222 
__exã∫_ölöe
 

223 
__NTH
 (
	$touµî
 (
__c
))

225  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_touµî_loc
 ())[__c] : __c;

226 
	}
}

229 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


230 
	#tﬁowî
(
c
Ë
	`__tobody
 (c, 
tﬁowî
, *
	`__˘y≥_tﬁowî_loc
 (), (c))

	)

231 
	#touµî
(
c
Ë
	`__tobody
 (c, 
touµî
, *
	`__˘y≥_touµî_loc
 (), (c))

	)

234 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


235 
	#ißscii
(
c
Ë
	`__ißscii
 (c)

	)

236 
	#tﬂscii
(
c
Ë
	`__tﬂscii
 (c)

	)

238 
	#_tﬁowî
(
c
Ë((Ë(*
	`__˘y≥_tﬁowî_loc
 ())[(Ë(c)])

	)

239 
	#_touµî
(
c
Ë((Ë(*
	`__˘y≥_touµî_loc
 ())[(Ë(c)])

	)

245 #ifde‡
__USE_XOPEN2K8


259 
	~<xloˇÀ.h
>

263 
	#__is˘y≥_l
(
c
, 
ty≥
, 
loˇÀ
) \

264 ((
loˇÀ
)->
__˘y≥_b
[(Ë(
c
)] & (Ë
ty≥
)

	)

266 
	#__ex˘y≥_l
(
«me
) \

267 
	`«me
 (, 
__loˇÀ_t
Ë
__THROW


	)

273 
__ex˘y≥_l
 (
iß um_l
);

274 
__ex˘y≥_l
 (
ißÕha_l
);

275 
__ex˘y≥_l
 (
is˙ål_l
);

276 
__ex˘y≥_l
 (
isdigô_l
);

277 
__ex˘y≥_l
 (
i¶owî_l
);

278 
__ex˘y≥_l
 (
isgøph_l
);

279 
__ex˘y≥_l
 (
i•röt_l
);

280 
__ex˘y≥_l
 (
i•un˘_l
);

281 
__ex˘y≥_l
 (
is•a˚_l
);

282 
__ex˘y≥_l
 (
isuµî_l
);

283 
__ex˘y≥_l
 (
isxdigô_l
);

285 
__ex˘y≥_l
 (
isbœnk_l
);

289 
	$__tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

290 
	$tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

293 
	$__touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

294 
	$touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

296 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


297 
	#__tﬁowî_l
(
c
, 
loˇÀ
) \

298 
	`__tobody
 (
c
, 
__tﬁowî_l
, (
loˇÀ
)->
__˘y≥_tﬁowî
, (c,ÜoˇÀ))

	)

299 
	#__touµî_l
(
c
, 
loˇÀ
) \

300 
	`__tobody
 (
c
, 
__touµî_l
, (
loˇÀ
)->
__˘y≥_touµî
, (c,ÜoˇÀ))

	)

301 
	#tﬁowî_l
(
c
, 
loˇÀ
Ë
	`__tﬁowî_l
 ((c), (loˇÀ))

	)

302 
	#touµî_l
(
c
, 
loˇÀ
Ë
	`__touµî_l
 ((c), (loˇÀ))

	)

306 #i‚de‡
__NO_CTYPE


307 
	#__iß um_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆnum
, (l))

	)

308 
	#__ißÕha_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆpha
, (l))

	)

309 
	#__is˙ål_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS˙ål
, (l))

	)

310 
	#__isdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISdigô
, (l))

	)

311 
	#__i¶owî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISlowî
, (l))

	)

312 
	#__isgøph_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISgøph
, (l))

	)

313 
	#__i•röt_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS¥öt
, (l))

	)

314 
	#__i•un˘_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISpun˘
, (l))

	)

315 
	#__is•a˚_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS•a˚
, (l))

	)

316 
	#__isuµî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISuµî
, (l))

	)

317 
	#__isxdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISxdigô
, (l))

	)

319 
	#__isbœnk_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISbœnk
, (l))

	)

321 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


322 
	#__ißscii_l
(
c
,
l
Ë(÷), 
	`__ißscii
 (c))

	)

323 
	#__tﬂscii_l
(
c
,
l
Ë(÷), 
	`__tﬂscii
 (c))

	)

326 
	#iß um_l
(
c
,
l
Ë
	`__iß um_l
 ((c), (l))

	)

327 
	#ißÕha_l
(
c
,
l
Ë
	`__ißÕha_l
 ((c), (l))

	)

328 
	#is˙ål_l
(
c
,
l
Ë
	`__is˙ål_l
 ((c), (l))

	)

329 
	#isdigô_l
(
c
,
l
Ë
	`__isdigô_l
 ((c), (l))

	)

330 
	#i¶owî_l
(
c
,
l
Ë
	`__i¶owî_l
 ((c), (l))

	)

331 
	#isgøph_l
(
c
,
l
Ë
	`__isgøph_l
 ((c), (l))

	)

332 
	#i•röt_l
(
c
,
l
Ë
	`__i•röt_l
 ((c), (l))

	)

333 
	#i•un˘_l
(
c
,
l
Ë
	`__i•un˘_l
 ((c), (l))

	)

334 
	#is•a˚_l
(
c
,
l
Ë
	`__is•a˚_l
 ((c), (l))

	)

335 
	#isuµî_l
(
c
,
l
Ë
	`__isuµî_l
 ((c), (l))

	)

336 
	#isxdigô_l
(
c
,
l
Ë
	`__isxdigô_l
 ((c), (l))

	)

338 
	#isbœnk_l
(
c
,
l
Ë
	`__isbœnk_l
 ((c), (l))

	)

340 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


341 
	#ißscii_l
(
c
,
l
Ë
	`__ißscii_l
 ((c), (l))

	)

342 
	#tﬂscii_l
(
c
,
l
Ë
	`__tﬂscii_l
 ((c), (l))

	)

349 
__END_DECLS


	@/usr/include/dirent.h

24 #i‚def 
_DIRENT_H


25 
	#_DIRENT_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	~<bôs/ty≥s.h
>

33 #ifde‡
__USE_XOPEN


34 #i‚de‡
__öo_t_deföed


35 #i‚de‡
__USE_FILE_OFFSET64


36 
__öo_t
 
	töo_t
;

38 
__öo64_t
 
	töo_t
;

40 
	#__öo_t_deföed


	)

42 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


43 
__öo64_t
 
	töo64_t
;

44 
	#__öo64_t_deföed


	)

63 
	~<bôs/dúít.h
>

65 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
Ë&& !deföed 
d_fûío


66 
	#d_öo
 
d_fûío


	)

83 #ifde‡
_DIRENT_HAVE_D_NAMLEN


84 
	#_D_EXACT_NAMLEN
(
d
Ë((d)->
d_«mÀn
)

	)

85 
	#_D_ALLOC_NAMLEN
(
d
Ë(
	`_D_EXACT_NAMLEN
 (dË+ 1)

	)

87 
	#_D_EXACT_NAMLEN
(
d
Ë(
	`°æí
 ((d)->
d_«me
))

	)

88 #ifde‡
_DIRENT_HAVE_D_RECLEN


89 
	#_D_ALLOC_NAMLEN
(
d
Ë(((*Ë(dË+ (d)->
d_ª˛í
Ë- &(d)->
d_«me
[0])

	)

91 
	#_D_ALLOC_NAMLEN
(
d
Ë( (d)->
d_«me
 > 1 ?  (d)->d_name : \

92 
	`_D_EXACT_NAMLEN
 (
d
Ë+ 1)

	)

97 #ifde‡
__USE_BSD


101 
	mDT_UNKNOWN
 = 0,

102 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

103 
	mDT_FIFO
 = 1,

104 
	#DT_FIFO
 
DT_FIFO


	)

105 
	mDT_CHR
 = 2,

106 
	#DT_CHR
 
DT_CHR


	)

107 
	mDT_DIR
 = 4,

108 
	#DT_DIR
 
DT_DIR


	)

109 
	mDT_BLK
 = 6,

110 
	#DT_BLK
 
DT_BLK


	)

111 
	mDT_REG
 = 8,

112 
	#DT_REG
 
DT_REG


	)

113 
	mDT_LNK
 = 10,

114 
	#DT_LNK
 
DT_LNK


	)

115 
	mDT_SOCK
 = 12,

116 
	#DT_SOCK
 
DT_SOCK


	)

117 
	mDT_WHT
 = 14

118 
	#DT_WHT
 
DT_WHT


	)

122 
	#IFTODT
(
mode
Ë(((modeË& 0170000Ë>> 12)

	)

123 
	#DTTOIF
(
dúty≥
Ë((dúty≥Ë<< 12)

	)

129 
__dú°ªam
 
	tDIR
;

136 
DIR
 *
	$›ídú
 (
__c⁄°
 *
__«me
Ë
	`__n⁄nuŒ
 ((1));

138 #ifde‡
__USE_XOPEN2K8


143 
DIR
 *
	`fd›ídú
 (
__fd
);

151 
	$˛o£dú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

163 #i‚de‡
__USE_FILE_OFFSET64


164 
dúít
 *
	$ªaddú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

166 #ifde‡
__REDIRECT


167 
dúít
 *
	`__REDIRECT
 (
ªaddú
, (
DIR
 *
__dúp
), 
ªaddú64
)

168 
	`__n⁄nuŒ
 ((1));

170 
	#ªaddú
 
ªaddú64


	)

174 #ifde‡
__USE_LARGEFILE64


175 
dúít64
 *
	$ªaddú64
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

178 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


184 #i‚de‡
__USE_FILE_OFFSET64


185 
	$ªaddú_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

186 
dúít
 *
__ª°ri˘
 
__íåy
,

187 
dúít
 **
__ª°ri˘
 
__ªsu…
)

188 
	`__n⁄nuŒ
 ((1, 2, 3));

190 #ifde‡
__REDIRECT


191 
	`__REDIRECT
 (
ªaddú_r
,

192 (
DIR
 *
__ª°ri˘
 
__dúp
,

193 
dúít
 *
__ª°ri˘
 
__íåy
,

194 
dúít
 **
__ª°ri˘
 
__ªsu…
),

195 
ªaddú64_r
Ë
	`__n⁄nuŒ
 ((1, 2, 3));

197 
	#ªaddú_r
 
ªaddú64_r


	)

201 #ifde‡
__USE_LARGEFILE64


202 
	$ªaddú64_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

203 
dúít64
 *
__ª°ri˘
 
__íåy
,

204 
dúít64
 **
__ª°ri˘
 
__ªsu…
)

205 
	`__n⁄nuŒ
 ((1, 2, 3));

210 
	$ªwöddú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

212 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


213 
	~<bôs/ty≥s.h
>

216 
	$£ekdú
 (
DIR
 *
__dúp
, 
__pos
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

219 
	$ãŒdú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

222 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN2K8


225 
	$dúfd
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

227 #i‡
deföed
 
__OPTIMIZE__
 && deföed 
_DIR_dúfd


228 
	#dúfd
(
dúp
Ë
	`_DIR_dúfd
 (dúp)

	)

231 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


232 #i‚de‡
MAXNAMLEN


234 
	~<bôs/posix1_lim.h
>

237 #ifde‡
NAME_MAX


238 
	#MAXNAMLEN
 
NAME_MAX


	)

240 
	#MAXNAMLEN
 255

	)

245 
	#__√ed_size_t


	)

246 
	~<°ddef.h
>

255 #i‚de‡
__USE_FILE_OFFSET64


256 
	`sˇndú
 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

257 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

258 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

259 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

260 
__c⁄°
 
dúít
 **))

261 
	`__n⁄nuŒ
 ((1, 2));

263 #ifde‡
__REDIRECT


264 
	`__REDIRECT
 (
sˇndú
,

265 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

266 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

267 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

268 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

269 
__c⁄°
 
dúít
 **)),

270 
sˇndú64
Ë
	`__n⁄nuŒ
 ((1, 2));

272 
	#sˇndú
 
sˇndú64


	)

276 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


279 
	`sˇndú64
 (
__c⁄°
 *
__ª°ri˘
 
__dú
,

280 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

281 (*
__£À˘‹
Ë(
__c⁄°
 
dúít64
 *),

282 (*
__cmp
Ë(
__c⁄°
 
dúít64
 **,

283 
__c⁄°
 
dúít64
 **))

284 
	`__n⁄nuŒ
 ((1, 2));

287 #ifde‡
__USE_GNU


293 #i‚de‡
__USE_FILE_OFFSET64


294 
	`sˇndú©
 (
__dfd
, 
__c⁄°
 *
__ª°ri˘
 
__dú
,

295 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

296 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

297 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

298 
__c⁄°
 
dúít
 **))

299 
	`__n⁄nuŒ
 ((2, 3));

301 #ifde‡
__REDIRECT


302 
	`__REDIRECT
 (
sˇndú©
,

303 (
__dfd
, 
__c⁄°
 *
__ª°ri˘
 
__dú
,

304 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

305 (*
__£À˘‹
Ë(
__c⁄°
 
dúít
 *),

306 (*
__cmp
Ë(
__c⁄°
 
dúít
 **,

307 
__c⁄°
 
dúít
 **)),

308 
sˇndú©64
Ë
	`__n⁄nuŒ
 ((2, 3));

310 
	#sˇndú©
 
sˇndú©64


	)

316 
	`sˇndú©64
 (
__dfd
, 
__c⁄°
 *
__ª°ri˘
 
__dú
,

317 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

318 (*
__£À˘‹
Ë(
__c⁄°
 
dúít64
 *),

319 (*
__cmp
Ë(
__c⁄°
 
dúít64
 **,

320 
__c⁄°
 
dúít64
 **))

321 
	`__n⁄nuŒ
 ((2, 3));

325 #i‚de‡
__USE_FILE_OFFSET64


326 
	$Æphas‹t
 (
__c⁄°
 
dúít
 **
__e1
,

327 
__c⁄°
 
dúít
 **
__e2
)

328 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

330 #ifde‡
__REDIRECT


331 
	`__REDIRECT_NTH
 (
Æphas‹t
,

332 (
__c⁄°
 
dúít
 **
__e1
,

333 
__c⁄°
 
dúít
 **
__e2
),

334 
Æphas‹t64
Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

336 
	#Æphas‹t
 
Æphas‹t64


	)

340 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


341 
	$Æphas‹t64
 (
__c⁄°
 
dúít64
 **
__e1
,

342 
__c⁄°
 
dúít64
 **
__e2
)

343 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

348 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


353 #i‚de‡
__USE_FILE_OFFSET64


354 
__ssize_t
 
	$gëdúíåõs
 (
__fd
, *
__ª°ri˘
 
__buf
,

355 
size_t
 
__nbyãs
,

356 
__off_t
 *
__ª°ri˘
 
__ba£p
)

357 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

359 #ifde‡
__REDIRECT


360 
__ssize_t
 
	`__REDIRECT_NTH
 (
gëdúíåõs
,

361 (
__fd
, *
__ª°ri˘
 
__buf
,

362 
size_t
 
__nbyãs
,

363 
__off64_t
 *
__ª°ri˘
 
__ba£p
),

364 
gëdúíåõs64
Ë
	`__n⁄nuŒ
 ((2, 4));

366 
	#gëdúíåõs
 
gëdúíåõs64


	)

370 #ifde‡
__USE_LARGEFILE64


371 
__ssize_t
 
	$gëdúíåõs64
 (
__fd
, *
__ª°ri˘
 
__buf
,

372 
size_t
 
__nbyãs
,

373 
__off64_t
 *
__ª°ri˘
 
__ba£p
)

374 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

378 #ifde‡
__USE_GNU


380 #i‚de‡
__USE_FILE_OFFSET64


381 
	$vîsi⁄s‹t
 (
__c⁄°
 
dúít
 **
__e1
,

382 
__c⁄°
 
dúít
 **
__e2
)

383 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

385 #ifde‡
__REDIRECT


386 
	`__REDIRECT_NTH
 (
vîsi⁄s‹t
,

387 (
__c⁄°
 
dúít
 **
__e1
,

388 
__c⁄°
 
dúít
 **
__e2
),

389 
vîsi⁄s‹t64
)

390 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

392 
	#vîsi⁄s‹t
 
vîsi⁄s‹t64


	)

396 #ifde‡
__USE_LARGEFILE64


397 
	$vîsi⁄s‹t64
 (
__c⁄°
 
dúít64
 **
__e1
,

398 
__c⁄°
 
dúít64
 **
__e2
)

399 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

403 
__END_DECLS


	@/usr/include/errno.h

23 #i‚def 
_ERRNO_H


27 #i‚def 
__√ed_Em©h


28 
	#_ERRNO_H
 1

	)

29 
	~<„©uªs.h
>

32 
	g__BEGIN_DECLS


36 
	~<bôs/î∫o.h
>

37 #unde‡
__√ed_Em©h


39 #ifdef 
_ERRNO_H


46 #i‚def 
î∫o


47 
î∫o
;

50 #ifde‡
__USE_GNU


55 *
¥ogøm_övoˇti⁄_«me
, *
¥ogøm_övoˇti⁄_sh‹t_«me
;

59 
	g__END_DECLS


67 #i‡
deföed
 
__USE_GNU
 || deföed 
__√ed_îr‹_t


68 #i‚de‡
__îr‹_t_deföed


69 
	tîr‹_t
;

70 
	#__îr‹_t_deföed
 1

	)

72 #unde‡
__√ed_îr‹_t


	@/usr/include/fcntl.h

24 #i‚def 
_FCNTL_H


25 
	#_FCNTL_H
 1

	)

27 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


34 
	~<bôs/f˙é.h
>

37 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


38 
	~<bôs/ty≥s.h
>

39 
	#__√ed_time•ec


	)

40 
	~<time.h
>

41 
	~<bôs/°©.h
>

43 
	#S_IFMT
 
__S_IFMT


	)

44 
	#S_IFDIR
 
__S_IFDIR


	)

45 
	#S_IFCHR
 
__S_IFCHR


	)

46 
	#S_IFBLK
 
__S_IFBLK


	)

47 
	#S_IFREG
 
__S_IFREG


	)

48 #ifde‡
__S_IFIFO


49 
	#S_IFIFO
 
__S_IFIFO


	)

51 #ifde‡
__S_IFLNK


52 
	#S_IFLNK
 
__S_IFLNK


	)

54 #i‡(
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8
Ë&& deföed 
__S_IFSOCK


55 
	#S_IFSOCK
 
__S_IFSOCK


	)

60 
	#S_ISUID
 
__S_ISUID


	)

61 
	#S_ISGID
 
__S_ISGID


	)

63 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


65 
	#S_ISVTX
 
__S_ISVTX


	)

68 
	#S_IRUSR
 
__S_IREAD


	)

69 
	#S_IWUSR
 
__S_IWRITE


	)

70 
	#S_IXUSR
 
__S_IEXEC


	)

72 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

74 
	#S_IRGRP
 (
S_IRUSR
 >> 3Ë

	)

75 
	#S_IWGRP
 (
S_IWUSR
 >> 3Ë

	)

76 
	#S_IXGRP
 (
S_IXUSR
 >> 3Ë

	)

78 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

80 
	#S_IROTH
 (
S_IRGRP
 >> 3Ë

	)

81 
	#S_IWOTH
 (
S_IWGRP
 >> 3Ë

	)

82 
	#S_IXOTH
 (
S_IXGRP
 >> 3Ë

	)

84 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

87 #ifdef 
__USE_MISC


88 #i‚de‡
R_OK


91 
	#R_OK
 4

	)

92 
	#W_OK
 2

	)

93 
	#X_OK
 1

	)

94 
	#F_OK
 0

	)

99 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


100 
	#SEEK_SET
 0

	)

101 
	#SEEK_CUR
 1

	)

102 
	#SEEK_END
 2

	)

110 
f˙é
 (
__fd
, 
__cmd
, ...);

118 #i‚de‡
__USE_FILE_OFFSET64


119 
	$›í
 (
__c⁄°
 *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

121 #ifde‡
__REDIRECT


122 
	`__REDIRECT
 (
›í
, (
__c⁄°
 *
__fûe
, 
__oÊag
, ...), 
›í64
)

123 
	`__n⁄nuŒ
 ((1));

125 
	#›í
 
›í64


	)

128 #ifde‡
__USE_LARGEFILE64


129 
	$›í64
 (
__c⁄°
 *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

132 #ifde‡
__USE_ATFILE


142 #i‚de‡
__USE_FILE_OFFSET64


143 
	$›í©
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
, ...)

144 
	`__n⁄nuŒ
 ((2));

146 #ifde‡
__REDIRECT


147 
	`__REDIRECT
 (
›í©
, (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
,

148 ...), 
›í©64
Ë
	`__n⁄nuŒ
 ((2));

150 
	#›í©
 
›í©64


	)

153 #ifde‡
__USE_LARGEFILE64


154 
	$›í©64
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__oÊag
, ...)

155 
	`__n⁄nuŒ
 ((2));

164 #i‚de‡
__USE_FILE_OFFSET64


165 
	$¸ót
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

167 #ifde‡
__REDIRECT


168 
	`__REDIRECT
 (
¸ót
, (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
),

169 
¸ót64
Ë
	`__n⁄nuŒ
 ((1));

171 
	#¸ót
 
¸ót64


	)

174 #ifde‡
__USE_LARGEFILE64


175 
	$¸ót64
 (
__c⁄°
 *
__fûe
, 
__mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

178 #i‡!
deföed
 
F_LOCK
 && (deföed 
__USE_MISC
 || (deföed 
__USE_XOPEN_EXTENDED
 \

179 && !
deföed
 
__USE_POSIX
))

188 
	#F_ULOCK
 0

	)

189 
	#F_LOCK
 1

	)

190 
	#F_TLOCK
 2

	)

191 
	#F_TEST
 3

	)

193 #i‚de‡
__USE_FILE_OFFSET64


194 
	`lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
);

196 #ifde‡
__REDIRECT


197 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
), 
lockf64
);

199 
	#lockf
 
lockf64


	)

202 #ifde‡
__USE_LARGEFILE64


203 
	`lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
);

207 #ifde‡
__USE_XOPEN2K


210 #i‚de‡
__USE_FILE_OFFSET64


211 
	$posix_Ádvi£
 (
__fd
, 
__off_t
 
__off£t
, __off_à
__Àn
,

212 
__advi£
Ë
__THROW
;

214 #ifde‡
__REDIRECT_NTH


215 
	`__REDIRECT_NTH
 (
posix_Ádvi£
, (
__fd
, 
__off64_t
 
__off£t
,

216 
__off64_t
 
__Àn
, 
__advi£
),

217 
posix_Ádvi£64
);

219 
	#posix_Ádvi£
 
posix_Ádvi£64


	)

222 #ifde‡
__USE_LARGEFILE64


223 
	$posix_Ádvi£64
 (
__fd
, 
__off64_t
 
__off£t
, __off64_à
__Àn
,

224 
__advi£
Ë
__THROW
;

232 #i‚de‡
__USE_FILE_OFFSET64


233 
	`posix_ÁŒoˇã
 (
__fd
, 
__off_t
 
__off£t
, __off_à
__Àn
);

235 #ifde‡
__REDIRECT


236 
	`__REDIRECT
 (
posix_ÁŒoˇã
, (
__fd
, 
__off64_t
 
__off£t
,

237 
__off64_t
 
__Àn
),

238 
posix_ÁŒoˇã64
);

240 
	#posix_ÁŒoˇã
 
posix_ÁŒoˇã64


	)

243 #ifde‡
__USE_LARGEFILE64


244 
	`posix_ÁŒoˇã64
 (
__fd
, 
__off64_t
 
__off£t
, __off64_à
__Àn
);

250 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe
 \

251 && 
deföed
 
__va_¨g_∑ck_Àn


252 
	~<bôs/f˙é2.h
>

255 
__END_DECLS


	@/usr/include/getopt.h

21 #i‚de‡
_GETOPT_H


23 #i‚de‡
__√ed_gë›t


24 
	#_GETOPT_H
 1

	)

34 #i‡!
deföed
 
__GNU_LIBRARY__


35 
	~<˘y≥.h
>

38 #i‚de‡
__THROW


39 #i‚de‡
__GNUC_PREREQ


40 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

42 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

43 
	#__THROW
 
	`throw
 ()

	)

45 
	#__THROW


	)

49 #ifdef 
__˝lu•lus


59 *
›èrg
;

73 
›töd
;

78 
›ãº
;

82 
›t›t
;

84 #i‚de‡
__√ed_gë›t


106 
	s›ti⁄


108 c⁄° *
	g«me
;

111 
	ghas_¨g
;

112 *
	gÊag
;

113 
	gvÆ
;

118 
	#no_¨gumít
 0

	)

119 
	#ªquúed_¨gumít
 1

	)

120 
	#›ti⁄Æ_¨gumít
 2

	)

148 #ifde‡
__GNU_LIBRARY__


152 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

153 
__THROW
;

155 #i‡
deföed
 
__√ed_gë›t
 && deföed 
__USE_POSIX2
 \

156 && !
deföed
 
	g__USE_POSIX_IMPLICITLY
 && !deföed 
	g__USE_GNU


160 #ifde‡
__REDIRECT


161 
__REDIRECT_NTH
 (
gë›t
, (
___¨gc
, *c⁄° *
___¨gv
,

162 c⁄° *
__sh‹t›ts
),

163 
__posix_gë›t
);

165 
__posix_gë›t
 (
___¨gc
, *c⁄° *
___¨gv
,

166 c⁄° *
__sh‹t›ts
Ë
__THROW
;

167 
	#gë›t
 
__posix_gë›t


	)

171 
gë›t
 ();

174 #i‚de‡
__√ed_gë›t


175 
gë›t_l⁄g
 (
___¨gc
, *c⁄° *
___¨gv
,

176 c⁄° *
__sh‹t›ts
,

177 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

178 
__THROW
;

179 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *c⁄° *
___¨gv
,

180 c⁄° *
__sh‹t›ts
,

181 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

182 
__THROW
;

186 #ifdef 
__˝lu•lus


191 #unde‡
__√ed_gë›t


	@/usr/include/inttypes.h

23 #i‚de‡
_INTTYPES_H


24 
	#_INTTYPES_H
 1

	)

26 
	~<„©uªs.h
>

28 
	~<°döt.h
>

31 #i‚de‡
____gwch¨_t_deföed


32 #ifde‡
__˝lu•lus


33 
	#__gwch¨_t
 
wch¨_t


	)

34 #ñi‡
deföed
 
__WCHAR_TYPE__


35 
__WCHAR_TYPE__
 
	t__gwch¨_t
;

37 
	#__√ed_wch¨_t


	)

38 
	~<°ddef.h
>

39 
wch¨_t
 
	t__gwch¨_t
;

41 
	#____gwch¨_t_deföed
 1

	)

47 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_FORMAT_MACROS


49 #i‡
__WORDSIZE
 == 64

50 
	#__PRI64_PREFIX
 "l"

	)

51 
	#__PRIPTR_PREFIX
 "l"

	)

53 
	#__PRI64_PREFIX
 "Œ"

	)

54 
	#__PRIPTR_PREFIX


	)

60 
	#PRId8
 "d"

	)

61 
	#PRId16
 "d"

	)

62 
	#PRId32
 "d"

	)

63 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

65 
	#PRIdLEAST8
 "d"

	)

66 
	#PRIdLEAST16
 "d"

	)

67 
	#PRIdLEAST32
 "d"

	)

68 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIdFAST8
 "d"

	)

71 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

72 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

73 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

76 
	#PRIi8
 "i"

	)

77 
	#PRIi16
 "i"

	)

78 
	#PRIi32
 "i"

	)

79 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

81 
	#PRIiLEAST8
 "i"

	)

82 
	#PRIiLEAST16
 "i"

	)

83 
	#PRIiLEAST32
 "i"

	)

84 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIiFAST8
 "i"

	)

87 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

88 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

89 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

92 
	#PRIo8
 "o"

	)

93 
	#PRIo16
 "o"

	)

94 
	#PRIo32
 "o"

	)

95 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

97 
	#PRIoLEAST8
 "o"

	)

98 
	#PRIoLEAST16
 "o"

	)

99 
	#PRIoLEAST32
 "o"

	)

100 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIoFAST8
 "o"

	)

103 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

104 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

105 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

108 
	#PRIu8
 "u"

	)

109 
	#PRIu16
 "u"

	)

110 
	#PRIu32
 "u"

	)

111 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

113 
	#PRIuLEAST8
 "u"

	)

114 
	#PRIuLEAST16
 "u"

	)

115 
	#PRIuLEAST32
 "u"

	)

116 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIuFAST8
 "u"

	)

119 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

120 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

121 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

124 
	#PRIx8
 "x"

	)

125 
	#PRIx16
 "x"

	)

126 
	#PRIx32
 "x"

	)

127 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

129 
	#PRIxLEAST8
 "x"

	)

130 
	#PRIxLEAST16
 "x"

	)

131 
	#PRIxLEAST32
 "x"

	)

132 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIxFAST8
 "x"

	)

135 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

136 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

137 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

140 
	#PRIX8
 "X"

	)

141 
	#PRIX16
 "X"

	)

142 
	#PRIX32
 "X"

	)

143 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

145 
	#PRIXLEAST8
 "X"

	)

146 
	#PRIXLEAST16
 "X"

	)

147 
	#PRIXLEAST32
 "X"

	)

148 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

150 
	#PRIXFAST8
 "X"

	)

151 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

152 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

153 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

157 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

158 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

159 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

160 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

161 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

162 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

166 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

167 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

168 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

169 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

170 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

171 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

177 
	#SCNd8
 "hhd"

	)

178 
	#SCNd16
 "hd"

	)

179 
	#SCNd32
 "d"

	)

180 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

182 
	#SCNdLEAST8
 "hhd"

	)

183 
	#SCNdLEAST16
 "hd"

	)

184 
	#SCNdLEAST32
 "d"

	)

185 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNdFAST8
 "hhd"

	)

188 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

189 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

190 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

193 
	#SCNi8
 "hhi"

	)

194 
	#SCNi16
 "hi"

	)

195 
	#SCNi32
 "i"

	)

196 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

198 
	#SCNiLEAST8
 "hhi"

	)

199 
	#SCNiLEAST16
 "hi"

	)

200 
	#SCNiLEAST32
 "i"

	)

201 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNiFAST8
 "hhi"

	)

204 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

205 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

206 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

209 
	#SCNu8
 "hhu"

	)

210 
	#SCNu16
 "hu"

	)

211 
	#SCNu32
 "u"

	)

212 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

214 
	#SCNuLEAST8
 "hhu"

	)

215 
	#SCNuLEAST16
 "hu"

	)

216 
	#SCNuLEAST32
 "u"

	)

217 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNuFAST8
 "hhu"

	)

220 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

221 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

222 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

225 
	#SCNo8
 "hho"

	)

226 
	#SCNo16
 "ho"

	)

227 
	#SCNo32
 "o"

	)

228 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

230 
	#SCNoLEAST8
 "hho"

	)

231 
	#SCNoLEAST16
 "ho"

	)

232 
	#SCNoLEAST32
 "o"

	)

233 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNoFAST8
 "hho"

	)

236 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

237 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

238 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

241 
	#SCNx8
 "hhx"

	)

242 
	#SCNx16
 "hx"

	)

243 
	#SCNx32
 "x"

	)

244 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

246 
	#SCNxLEAST8
 "hhx"

	)

247 
	#SCNxLEAST16
 "hx"

	)

248 
	#SCNxLEAST32
 "x"

	)

249 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

251 
	#SCNxFAST8
 "hhx"

	)

252 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

253 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

254 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

258 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

259 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

260 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

261 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

262 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

265 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

266 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

267 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

268 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

269 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

274 
	g__BEGIN_DECLS


276 #i‡
__WORDSIZE
 == 64

281 
	mquŸ
;

282 
	mªm
;

283 } 
	timaxdiv_t
;

290 
	mquŸ
;

291 
	mªm
;

292 } 
	timaxdiv_t
;

298 
ötmax_t
 
	$imaxabs
 (
ötmax_t
 
__n
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

301 
imaxdiv_t
 
	$imaxdiv
 (
ötmax_t
 
__numî
, i¡max_à
__díom
)

302 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

305 
ötmax_t
 
	$°πoimax
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

306 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

309 
uötmax_t
 
	$°πoumax
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

310 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

313 
ötmax_t
 
	$wc°oimax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

314 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

315 
__THROW
;

318 
uötmax_t
 
	$wc°oumax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

319 
__gwch¨_t
 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
)

320 
__THROW
;

322 #ifde‡
__USE_EXTERN_INLINES


324 #i‡
__WORDSIZE
 == 64

326 
	$__°πﬁ_öã∫Æ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

327 **
__ª°ri˘
 
__íd±r
,

328 
__ba£
, 
__group
)

329 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

331 
__exã∫_ölöe
 
ötmax_t


332 
	`__NTH
 (
	$°πoimax
 (
__c⁄°
 *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

333 
ba£
))

335  
	`__°πﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

336 
	}
}

338 
	$__°πoul_öã∫Æ
 (
__c⁄°
 *

339 
__ª°ri˘
 
__≈å
,

340 ** 
__ª°ri˘
 
__íd±r
,

341 
__ba£
, 
__group
)

342 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

344 
__exã∫_ölöe
 
uötmax_t


345 
	`__NTH
 (
	$°πoumax
 (
__c⁄°
 *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

346 
ba£
))

348  
	`__°πoul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

349 
	}
}

351 
	$__wc°ﬁ_öã∫Æ
 (
__c⁄°
 
__gwch¨_t
 * 
__ª°ri˘
 
__≈å
,

352 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

353 
__ba£
, 
__group
)

354 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

356 
__exã∫_ölöe
 
ötmax_t


357 
	`__NTH
 (
	$wc°oimax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

358 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

360  
	`__wc°ﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

361 
	}
}

363 
	$__wc°oul_öã∫Æ
 (
__c⁄°
 
__gwch¨_t
 *

364 
__ª°ri˘
 
__≈å
,

365 
__gwch¨_t
 **

366 
__ª°ri˘
 
__íd±r
,

367 
__ba£
, 
__group
)

368 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

370 
__exã∫_ölöe
 
uötmax_t


371 
	`__NTH
 (
	$wc°oumax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

372 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

374  
	`__wc°oul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

375 
	}
}

379 
__exãnsi⁄__


380 
	$__°πﬁl_öã∫Æ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

381 **
__ª°ri˘
 
__íd±r
,

382 
__ba£
, 
__group
)

383 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

385 
__exã∫_ölöe
 
ötmax_t


386 
	`__NTH
 (
	$°πoimax
 (
__c⁄°
 *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

387 
ba£
))

389  
	`__°πﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

390 
	}
}

392 
__exãnsi⁄__


393 
	$__°πouŒ_öã∫Æ
 (
__c⁄°
 *

394 
__ª°ri˘
 
__≈å
,

396 
__ª°ri˘
 
__íd±r
,

397 
__ba£
,

398 
__group
)

399 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

401 
__exã∫_ölöe
 
uötmax_t


402 
	`__NTH
 (
	$°πoumax
 (
__c⁄°
 *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

403 
ba£
))

405  
	`__°πouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

406 
	}
}

408 
__exãnsi⁄__


409 
	$__wc°ﬁl_öã∫Æ
 (
__c⁄°
 
__gwch¨_t
 *

410 
__ª°ri˘
 
__≈å
,

411 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

412 
__ba£
, 
__group
)

413 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

415 
__exã∫_ölöe
 
ötmax_t


416 
	`__NTH
 (
	$wc°oimax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

417 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

419  
	`__wc°ﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

420 
	}
}

423 
__exãnsi⁄__


424 
	$__wc°ouŒ_öã∫Æ
 (
__c⁄°
 
__gwch¨_t
 *

425 
__ª°ri˘
 
__≈å
,

426 
__gwch¨_t
 **

427 
__ª°ri˘
 
__íd±r
,

428 
__ba£
,

429 
__group
)

430 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

432 
__exã∫_ölöe
 
uötmax_t


433 
	`__NTH
 (
	$wc°oumax
 (
__c⁄°
 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

434 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

436  
	`__wc°ouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

437 
	}
}

442 
	g__END_DECLS


	@/usr/include/libavcodec/avcodec.h

21 #i‚de‡
AVCODEC_AVCODEC_H


22 
	#AVCODEC_AVCODEC_H


	)

29 
	~<î∫o.h
>

30 
	~"libavutû/ßm∂efmt.h
"

31 
	~"libavutû/avutû.h
"

32 
	~"libavutû/˝u.h
"

33 
	~"libavutû/di˘.h
"

34 
	~"libavutû/log.h
"

35 
	~"libavutû/pixfmt.h
"

36 
	~"libavutû/øti⁄Æ.h
"

38 
	~"libavcodec/vîsi⁄.h
"

83 
	eCodecID
 {

84 
	mCODEC_ID_NONE
,

87 
	mCODEC_ID_MPEG1VIDEO
,

88 
	mCODEC_ID_MPEG2VIDEO
,

89 
	mCODEC_ID_MPEG2VIDEO_XVMC
,

90 
	mCODEC_ID_H261
,

91 
	mCODEC_ID_H263
,

92 
	mCODEC_ID_RV10
,

93 
	mCODEC_ID_RV20
,

94 
	mCODEC_ID_MJPEG
,

95 
	mCODEC_ID_MJPEGB
,

96 
	mCODEC_ID_LJPEG
,

97 
	mCODEC_ID_SP5X
,

98 
	mCODEC_ID_JPEGLS
,

99 
	mCODEC_ID_MPEG4
,

100 
	mCODEC_ID_RAWVIDEO
,

101 
	mCODEC_ID_MSMPEG4V1
,

102 
	mCODEC_ID_MSMPEG4V2
,

103 
	mCODEC_ID_MSMPEG4V3
,

104 
	mCODEC_ID_WMV1
,

105 
	mCODEC_ID_WMV2
,

106 
	mCODEC_ID_H263P
,

107 
	mCODEC_ID_H263I
,

108 
	mCODEC_ID_FLV1
,

109 
	mCODEC_ID_SVQ1
,

110 
	mCODEC_ID_SVQ3
,

111 
	mCODEC_ID_DVVIDEO
,

112 
	mCODEC_ID_HUFFYUV
,

113 
	mCODEC_ID_CYUV
,

114 
	mCODEC_ID_H264
,

115 
	mCODEC_ID_INDEO3
,

116 
	mCODEC_ID_VP3
,

117 
	mCODEC_ID_THEORA
,

118 
	mCODEC_ID_ASV1
,

119 
	mCODEC_ID_ASV2
,

120 
	mCODEC_ID_FFV1
,

121 
	mCODEC_ID_4XM
,

122 
	mCODEC_ID_VCR1
,

123 
	mCODEC_ID_CLJR
,

124 
	mCODEC_ID_MDEC
,

125 
	mCODEC_ID_ROQ
,

126 
	mCODEC_ID_INTERPLAY_VIDEO
,

127 
	mCODEC_ID_XAN_WC3
,

128 
	mCODEC_ID_XAN_WC4
,

129 
	mCODEC_ID_RPZA
,

130 
	mCODEC_ID_CINEPAK
,

131 
	mCODEC_ID_WS_VQA
,

132 
	mCODEC_ID_MSRLE
,

133 
	mCODEC_ID_MSVIDEO1
,

134 
	mCODEC_ID_IDCIN
,

135 
	mCODEC_ID_8BPS
,

136 
	mCODEC_ID_SMC
,

137 
	mCODEC_ID_FLIC
,

138 
	mCODEC_ID_TRUEMOTION1
,

139 
	mCODEC_ID_VMDVIDEO
,

140 
	mCODEC_ID_MSZH
,

141 
	mCODEC_ID_ZLIB
,

142 
	mCODEC_ID_QTRLE
,

143 
	mCODEC_ID_SNOW
,

144 
	mCODEC_ID_TSCC
,

145 
	mCODEC_ID_ULTI
,

146 
	mCODEC_ID_QDRAW
,

147 
	mCODEC_ID_VIXL
,

148 
	mCODEC_ID_QPEG
,

149 
	mCODEC_ID_PNG
,

150 
	mCODEC_ID_PPM
,

151 
	mCODEC_ID_PBM
,

152 
	mCODEC_ID_PGM
,

153 
	mCODEC_ID_PGMYUV
,

154 
	mCODEC_ID_PAM
,

155 
	mCODEC_ID_FFVHUFF
,

156 
	mCODEC_ID_RV30
,

157 
	mCODEC_ID_RV40
,

158 
	mCODEC_ID_VC1
,

159 
	mCODEC_ID_WMV3
,

160 
	mCODEC_ID_LOCO
,

161 
	mCODEC_ID_WNV1
,

162 
	mCODEC_ID_AASC
,

163 
	mCODEC_ID_INDEO2
,

164 
	mCODEC_ID_FRAPS
,

165 
	mCODEC_ID_TRUEMOTION2
,

166 
	mCODEC_ID_BMP
,

167 
	mCODEC_ID_CSCD
,

168 
	mCODEC_ID_MMVIDEO
,

169 
	mCODEC_ID_ZMBV
,

170 
	mCODEC_ID_AVS
,

171 
	mCODEC_ID_SMACKVIDEO
,

172 
	mCODEC_ID_NUV
,

173 
	mCODEC_ID_KMVC
,

174 
	mCODEC_ID_FLASHSV
,

175 
	mCODEC_ID_CAVS
,

176 
	mCODEC_ID_JPEG2000
,

177 
	mCODEC_ID_VMNC
,

178 
	mCODEC_ID_VP5
,

179 
	mCODEC_ID_VP6
,

180 
	mCODEC_ID_VP6F
,

181 
	mCODEC_ID_TARGA
,

182 
	mCODEC_ID_DSICINVIDEO
,

183 
	mCODEC_ID_TIERTEXSEQVIDEO
,

184 
	mCODEC_ID_TIFF
,

185 
	mCODEC_ID_GIF
,

186 #i‡
LIBAVCODEC_VERSION_MAJOR
 == 53

187 
	mCODEC_ID_FFH264
,

189 
	mCODEC_ID_DXA
,

190 
	mCODEC_ID_DNXHD
,

191 
	mCODEC_ID_THP
,

192 
	mCODEC_ID_SGI
,

193 
	mCODEC_ID_C93
,

194 
	mCODEC_ID_BETHSOFTVID
,

195 
	mCODEC_ID_PTX
,

196 
	mCODEC_ID_TXD
,

197 
	mCODEC_ID_VP6A
,

198 
	mCODEC_ID_AMV
,

199 
	mCODEC_ID_VB
,

200 
	mCODEC_ID_PCX
,

201 
	mCODEC_ID_SUNRAST
,

202 
	mCODEC_ID_INDEO4
,

203 
	mCODEC_ID_INDEO5
,

204 
	mCODEC_ID_MIMIC
,

205 
	mCODEC_ID_RL2
,

206 #i‡
LIBAVCODEC_VERSION_MAJOR
 == 53

207 
	mCODEC_ID_8SVX_EXP
,

208 
	mCODEC_ID_8SVX_FIB
,

210 
	mCODEC_ID_ESCAPE124
,

211 
	mCODEC_ID_DIRAC
,

212 
	mCODEC_ID_BFI
,

213 
	mCODEC_ID_CMV
,

214 
	mCODEC_ID_MOTIONPIXELS
,

215 
	mCODEC_ID_TGV
,

216 
	mCODEC_ID_TGQ
,

217 
	mCODEC_ID_TQI
,

218 
	mCODEC_ID_AURA
,

219 
	mCODEC_ID_AURA2
,

220 
	mCODEC_ID_V210X
,

221 
	mCODEC_ID_TMV
,

222 
	mCODEC_ID_V210
,

223 
	mCODEC_ID_DPX
,

224 
	mCODEC_ID_MAD
,

225 
	mCODEC_ID_FRWU
,

226 
	mCODEC_ID_FLASHSV2
,

227 
	mCODEC_ID_CDGRAPHICS
,

228 
	mCODEC_ID_R210
,

229 
	mCODEC_ID_ANM
,

230 
	mCODEC_ID_BINKVIDEO
,

231 
	mCODEC_ID_IFF_ILBM
,

232 
	mCODEC_ID_IFF_BYTERUN1
,

233 
	mCODEC_ID_KGV1
,

234 
	mCODEC_ID_YOP
,

235 
	mCODEC_ID_VP8
,

236 
	mCODEC_ID_PICTOR
,

237 
	mCODEC_ID_ANSI
,

238 
	mCODEC_ID_A64_MULTI
,

239 
	mCODEC_ID_A64_MULTI5
,

240 
	mCODEC_ID_R10K
,

241 
	mCODEC_ID_MXPEG
,

242 
	mCODEC_ID_LAGARITH
,

243 
	mCODEC_ID_PRORES
,

244 
	mCODEC_ID_JV
,

245 
	mCODEC_ID_DFA
,

246 
	mCODEC_ID_WMV3IMAGE
,

247 
	mCODEC_ID_VC1IMAGE
,

248 #i‡
LIBAVCODEC_VERSION_MAJOR
 == 53

249 
	mCODEC_ID_G723_1
,

250 
	mCODEC_ID_G729
,

252 
	mCODEC_ID_UTVIDEO
,

253 
	mCODEC_ID_BMV_VIDEO
,

254 
	mCODEC_ID_VBLE
,

255 
	mCODEC_ID_DXTORY
,

256 
	mCODEC_ID_V410
,

259 
	mCODEC_ID_FIRST_AUDIO
 = 0x10000,

260 
	mCODEC_ID_PCM_S16LE
 = 0x10000,

261 
	mCODEC_ID_PCM_S16BE
,

262 
	mCODEC_ID_PCM_U16LE
,

263 
	mCODEC_ID_PCM_U16BE
,

264 
	mCODEC_ID_PCM_S8
,

265 
	mCODEC_ID_PCM_U8
,

266 
	mCODEC_ID_PCM_MULAW
,

267 
	mCODEC_ID_PCM_ALAW
,

268 
	mCODEC_ID_PCM_S32LE
,

269 
	mCODEC_ID_PCM_S32BE
,

270 
	mCODEC_ID_PCM_U32LE
,

271 
	mCODEC_ID_PCM_U32BE
,

272 
	mCODEC_ID_PCM_S24LE
,

273 
	mCODEC_ID_PCM_S24BE
,

274 
	mCODEC_ID_PCM_U24LE
,

275 
	mCODEC_ID_PCM_U24BE
,

276 
	mCODEC_ID_PCM_S24DAUD
,

277 
	mCODEC_ID_PCM_ZORK
,

278 
	mCODEC_ID_PCM_S16LE_PLANAR
,

279 
	mCODEC_ID_PCM_DVD
,

280 
	mCODEC_ID_PCM_F32BE
,

281 
	mCODEC_ID_PCM_F32LE
,

282 
	mCODEC_ID_PCM_F64BE
,

283 
	mCODEC_ID_PCM_F64LE
,

284 
	mCODEC_ID_PCM_BLURAY
,

285 
	mCODEC_ID_PCM_LXF
,

286 
	mCODEC_ID_S302M
,

287 
	mCODEC_ID_PCM_S8_PLANAR
,

290 
	mCODEC_ID_ADPCM_IMA_QT
 = 0x11000,

291 
	mCODEC_ID_ADPCM_IMA_WAV
,

292 
	mCODEC_ID_ADPCM_IMA_DK3
,

293 
	mCODEC_ID_ADPCM_IMA_DK4
,

294 
	mCODEC_ID_ADPCM_IMA_WS
,

295 
	mCODEC_ID_ADPCM_IMA_SMJPEG
,

296 
	mCODEC_ID_ADPCM_MS
,

297 
	mCODEC_ID_ADPCM_4XM
,

298 
	mCODEC_ID_ADPCM_XA
,

299 
	mCODEC_ID_ADPCM_ADX
,

300 
	mCODEC_ID_ADPCM_EA
,

301 
	mCODEC_ID_ADPCM_G726
,

302 
	mCODEC_ID_ADPCM_CT
,

303 
	mCODEC_ID_ADPCM_SWF
,

304 
	mCODEC_ID_ADPCM_YAMAHA
,

305 
	mCODEC_ID_ADPCM_SBPRO_4
,

306 
	mCODEC_ID_ADPCM_SBPRO_3
,

307 
	mCODEC_ID_ADPCM_SBPRO_2
,

308 
	mCODEC_ID_ADPCM_THP
,

309 
	mCODEC_ID_ADPCM_IMA_AMV
,

310 
	mCODEC_ID_ADPCM_EA_R1
,

311 
	mCODEC_ID_ADPCM_EA_R3
,

312 
	mCODEC_ID_ADPCM_EA_R2
,

313 
	mCODEC_ID_ADPCM_IMA_EA_SEAD
,

314 
	mCODEC_ID_ADPCM_IMA_EA_EACS
,

315 
	mCODEC_ID_ADPCM_EA_XAS
,

316 
	mCODEC_ID_ADPCM_EA_MAXIS_XA
,

317 
	mCODEC_ID_ADPCM_IMA_ISS
,

318 
	mCODEC_ID_ADPCM_G722
,

321 
	mCODEC_ID_AMR_NB
 = 0x12000,

322 
	mCODEC_ID_AMR_WB
,

325 
	mCODEC_ID_RA_144
 = 0x13000,

326 
	mCODEC_ID_RA_288
,

329 
	mCODEC_ID_ROQ_DPCM
 = 0x14000,

330 
	mCODEC_ID_INTERPLAY_DPCM
,

331 
	mCODEC_ID_XAN_DPCM
,

332 
	mCODEC_ID_SOL_DPCM
,

335 
	mCODEC_ID_MP2
 = 0x15000,

336 
	mCODEC_ID_MP3
,

337 
	mCODEC_ID_AAC
,

338 
	mCODEC_ID_AC3
,

339 
	mCODEC_ID_DTS
,

340 
	mCODEC_ID_VORBIS
,

341 
	mCODEC_ID_DVAUDIO
,

342 
	mCODEC_ID_WMAV1
,

343 
	mCODEC_ID_WMAV2
,

344 
	mCODEC_ID_MACE3
,

345 
	mCODEC_ID_MACE6
,

346 
	mCODEC_ID_VMDAUDIO
,

347 #i‡
LIBAVCODEC_VERSION_MAJOR
 == 53

348 
	mCODEC_ID_SONIC
,

349 
	mCODEC_ID_SONIC_LS
,

351 
	mCODEC_ID_FLAC
,

352 
	mCODEC_ID_MP3ADU
,

353 
	mCODEC_ID_MP3ON4
,

354 
	mCODEC_ID_SHORTEN
,

355 
	mCODEC_ID_ALAC
,

356 
	mCODEC_ID_WESTWOOD_SND1
,

357 
	mCODEC_ID_GSM
,

358 
	mCODEC_ID_QDM2
,

359 
	mCODEC_ID_COOK
,

360 
	mCODEC_ID_TRUESPEECH
,

361 
	mCODEC_ID_TTA
,

362 
	mCODEC_ID_SMACKAUDIO
,

363 
	mCODEC_ID_QCELP
,

364 
	mCODEC_ID_WAVPACK
,

365 
	mCODEC_ID_DSICINAUDIO
,

366 
	mCODEC_ID_IMC
,

367 
	mCODEC_ID_MUSEPACK7
,

368 
	mCODEC_ID_MLP
,

369 
	mCODEC_ID_GSM_MS
,

370 
	mCODEC_ID_ATRAC3
,

371 
	mCODEC_ID_VOXWARE
,

372 
	mCODEC_ID_APE
,

373 
	mCODEC_ID_NELLYMOSER
,

374 
	mCODEC_ID_MUSEPACK8
,

375 
	mCODEC_ID_SPEEX
,

376 
	mCODEC_ID_WMAVOICE
,

377 
	mCODEC_ID_WMAPRO
,

378 
	mCODEC_ID_WMALOSSLESS
,

379 
	mCODEC_ID_ATRAC3P
,

380 
	mCODEC_ID_EAC3
,

381 
	mCODEC_ID_SIPR
,

382 
	mCODEC_ID_MP1
,

383 
	mCODEC_ID_TWINVQ
,

384 
	mCODEC_ID_TRUEHD
,

385 
	mCODEC_ID_MP4ALS
,

386 
	mCODEC_ID_ATRAC1
,

387 
	mCODEC_ID_BINKAUDIO_RDFT
,

388 
	mCODEC_ID_BINKAUDIO_DCT
,

389 
	mCODEC_ID_AAC_LATM
,

390 
	mCODEC_ID_QDMC
,

391 
	mCODEC_ID_CELT
,

392 #i‡
LIBAVCODEC_VERSION_MAJOR
 > 53

393 
	mCODEC_ID_G723_1
,

394 
	mCODEC_ID_G729
,

395 
	mCODEC_ID_8SVX_EXP
,

396 
	mCODEC_ID_8SVX_FIB
,

398 
	mCODEC_ID_BMV_AUDIO
,

401 
	mCODEC_ID_FIRST_SUBTITLE
 = 0x17000,

402 
	mCODEC_ID_DVD_SUBTITLE
 = 0x17000,

403 
	mCODEC_ID_DVB_SUBTITLE
,

404 
	mCODEC_ID_TEXT
,

405 
	mCODEC_ID_XSUB
,

406 
	mCODEC_ID_SSA
,

407 
	mCODEC_ID_MOV_TEXT
,

408 
	mCODEC_ID_HDMV_PGS_SUBTITLE
,

409 
	mCODEC_ID_DVB_TELETEXT
,

410 
	mCODEC_ID_SRT
,

413 
	mCODEC_ID_FIRST_UNKNOWN
 = 0x18000,

414 
	mCODEC_ID_TTF
 = 0x18000,

416 
	mCODEC_ID_PROBE
 = 0x19000,

418 
	mCODEC_ID_MPEG2TS
 = 0x20000,

420 
	mCODEC_ID_MPEG4SYSTEMS
 = 0x20001,

422 
	mCODEC_ID_FFMETADATA
 = 0x21000,

425 #i‡
FF_API_OLD_SAMPLE_FMT


426 
	#Sam∂eF‹m©
 
AVSam∂eF‹m©


	)

428 
	#SAMPLE_FMT_NONE
 
AV_SAMPLE_FMT_NONE


	)

429 
	#SAMPLE_FMT_U8
 
AV_SAMPLE_FMT_U8


	)

430 
	#SAMPLE_FMT_S16
 
AV_SAMPLE_FMT_S16


	)

431 
	#SAMPLE_FMT_S32
 
AV_SAMPLE_FMT_S32


	)

432 
	#SAMPLE_FMT_FLT
 
AV_SAMPLE_FMT_FLT


	)

433 
	#SAMPLE_FMT_DBL
 
AV_SAMPLE_FMT_DBL


	)

434 
	#SAMPLE_FMT_NB
 
AV_SAMPLE_FMT_NB


	)

437 #i‡
FF_API_OLD_AUDIOCONVERT


438 
	~"libavutû/audioc⁄vît.h
"

441 
	#CH_FRONT_LEFT
 
AV_CH_FRONT_LEFT


	)

442 
	#CH_FRONT_RIGHT
 
AV_CH_FRONT_RIGHT


	)

443 
	#CH_FRONT_CENTER
 
AV_CH_FRONT_CENTER


	)

444 
	#CH_LOW_FREQUENCY
 
AV_CH_LOW_FREQUENCY


	)

445 
	#CH_BACK_LEFT
 
AV_CH_BACK_LEFT


	)

446 
	#CH_BACK_RIGHT
 
AV_CH_BACK_RIGHT


	)

447 
	#CH_FRONT_LEFT_OF_CENTER
 
AV_CH_FRONT_LEFT_OF_CENTER


	)

448 
	#CH_FRONT_RIGHT_OF_CENTER
 
AV_CH_FRONT_RIGHT_OF_CENTER


	)

449 
	#CH_BACK_CENTER
 
AV_CH_BACK_CENTER


	)

450 
	#CH_SIDE_LEFT
 
AV_CH_SIDE_LEFT


	)

451 
	#CH_SIDE_RIGHT
 
AV_CH_SIDE_RIGHT


	)

452 
	#CH_TOP_CENTER
 
AV_CH_TOP_CENTER


	)

453 
	#CH_TOP_FRONT_LEFT
 
AV_CH_TOP_FRONT_LEFT


	)

454 
	#CH_TOP_FRONT_CENTER
 
AV_CH_TOP_FRONT_CENTER


	)

455 
	#CH_TOP_FRONT_RIGHT
 
AV_CH_TOP_FRONT_RIGHT


	)

456 
	#CH_TOP_BACK_LEFT
 
AV_CH_TOP_BACK_LEFT


	)

457 
	#CH_TOP_BACK_CENTER
 
AV_CH_TOP_BACK_CENTER


	)

458 
	#CH_TOP_BACK_RIGHT
 
AV_CH_TOP_BACK_RIGHT


	)

459 
	#CH_STEREO_LEFT
 
AV_CH_STEREO_LEFT


	)

460 
	#CH_STEREO_RIGHT
 
AV_CH_STEREO_RIGHT


	)

465 
	#CH_LAYOUT_NATIVE
 
AV_CH_LAYOUT_NATIVE


	)

468 
	#CH_LAYOUT_MONO
 
AV_CH_LAYOUT_MONO


	)

469 
	#CH_LAYOUT_STEREO
 
AV_CH_LAYOUT_STEREO


	)

470 
	#CH_LAYOUT_2_1
 
AV_CH_LAYOUT_2_1


	)

471 
	#CH_LAYOUT_SURROUND
 
AV_CH_LAYOUT_SURROUND


	)

472 
	#CH_LAYOUT_4POINT0
 
AV_CH_LAYOUT_4POINT0


	)

473 
	#CH_LAYOUT_2_2
 
AV_CH_LAYOUT_2_2


	)

474 
	#CH_LAYOUT_QUAD
 
AV_CH_LAYOUT_QUAD


	)

475 
	#CH_LAYOUT_5POINT0
 
AV_CH_LAYOUT_5POINT0


	)

476 
	#CH_LAYOUT_5POINT1
 
AV_CH_LAYOUT_5POINT1


	)

477 
	#CH_LAYOUT_5POINT0_BACK
 
AV_CH_LAYOUT_5POINT0_BACK


	)

478 
	#CH_LAYOUT_5POINT1_BACK
 
AV_CH_LAYOUT_5POINT1_BACK


	)

479 
	#CH_LAYOUT_7POINT0
 
AV_CH_LAYOUT_7POINT0


	)

480 
	#CH_LAYOUT_7POINT1
 
AV_CH_LAYOUT_7POINT1


	)

481 
	#CH_LAYOUT_7POINT1_WIDE
 
AV_CH_LAYOUT_7POINT1_WIDE


	)

482 
	#CH_LAYOUT_STEREO_DOWNMIX
 
AV_CH_LAYOUT_STEREO_DOWNMIX


	)

485 #i‡
FF_API_OLD_DECODE_AUDIO


487 
	#AVCODEC_MAX_AUDIO_FRAME_SIZE
 192000

489 

	)

497 
	#FF_INPUT_BUFFER_PADDING_SIZE
 8

	)

503 
	#FF_MIN_BUFFER_SIZE
 16384

	)

509 
	eMŸi⁄_E°_ID
 {

510 
	mME_ZERO
 = 1,

511 
	mME_FULL
,

512 
	mME_LOG
,

513 
	mME_PHODS
,

514 
	mME_EPZS
,

515 
	mME_X1
,

516 
	mME_HEX
,

517 
	mME_UMH
,

518 
	mME_ITER
,

519 
	mME_TESA
,

522 
	eAVDisˇrd
{

525 
	mAVDISCARD_NONE
 =-16,

526 
	mAVDISCARD_DEFAULT
= 0,

527 
	mAVDISCARD_NONREF
 = 8,

528 
	mAVDISCARD_BIDIR
 = 16,

529 
	mAVDISCARD_NONKEY
 = 32,

530 
	mAVDISCARD_ALL
 = 48,

533 
	eAVCﬁ‹Prim¨õs
{

534 
	mAVCOL_PRI_BT709
 =1,

535 
	mAVCOL_PRI_UNSPECIFIED
=2,

536 
	mAVCOL_PRI_BT470M
 =4,

537 
	mAVCOL_PRI_BT470BG
 =5,

538 
	mAVCOL_PRI_SMPTE170M
 =6,

539 
	mAVCOL_PRI_SMPTE240M
 =7,

540 
	mAVCOL_PRI_FILM
 =8,

541 
	mAVCOL_PRI_NB
 ,

544 
	eAVCﬁ‹Tøns„rCh¨a˘îi°ic
{

545 
	mAVCOL_TRC_BT709
 =1,

546 
	mAVCOL_TRC_UNSPECIFIED
=2,

547 
	mAVCOL_TRC_GAMMA22
 =4,

548 
	mAVCOL_TRC_GAMMA28
 =5,

549 
	mAVCOL_TRC_NB
 ,

552 
	eAVCﬁ‹S∑˚
{

553 
	mAVCOL_SPC_RGB
 =0,

554 
	mAVCOL_SPC_BT709
 =1,

555 
	mAVCOL_SPC_UNSPECIFIED
=2,

556 
	mAVCOL_SPC_FCC
 =4,

557 
	mAVCOL_SPC_BT470BG
 =5,

558 
	mAVCOL_SPC_SMPTE170M
 =6,

559 
	mAVCOL_SPC_SMPTE240M
 =7,

560 
	mAVCOL_SPC_NB
 ,

563 
	eAVCﬁ‹R™ge
{

564 
	mAVCOL_RANGE_UNSPECIFIED
=0,

565 
	mAVCOL_RANGE_MPEG
 =1,

566 
	mAVCOL_RANGE_JPEG
 =2,

567 
	mAVCOL_RANGE_NB
 ,

575 
	eAVChromaLoˇti⁄
{

576 
	mAVCHROMA_LOC_UNSPECIFIED
=0,

577 
	mAVCHROMA_LOC_LEFT
 =1,

578 
	mAVCHROMA_LOC_CENTER
 =2,

579 
	mAVCHROMA_LOC_TOPLEFT
 =3,

580 
	mAVCHROMA_LOC_TOP
 =4,

581 
	mAVCHROMA_LOC_BOTTOMLEFT
 =5,

582 
	mAVCHROMA_LOC_BOTTOM
 =6,

583 
	mAVCHROMA_LOC_NB
 ,

586 #i‡
FF_API_FLAC_GLOBAL_OPTS


590 
	eAVLPCTy≥
 {

591 
	mAV_LPC_TYPE_DEFAULT
 = -1,

592 
	mAV_LPC_TYPE_NONE
 = 0,

593 
	mAV_LPC_TYPE_FIXED
 = 1,

594 
	mAV_LPC_TYPE_LEVINSON
 = 2,

595 
	mAV_LPC_TYPE_CHOLESKY
 = 3,

596 
	mAV_LPC_TYPE_NB
 ,

600 
	eAVAudioSîvi˚Ty≥
 {

601 
	mAV_AUDIO_SERVICE_TYPE_MAIN
 = 0,

602 
	mAV_AUDIO_SERVICE_TYPE_EFFECTS
 = 1,

603 
	mAV_AUDIO_SERVICE_TYPE_VISUALLY_IMPAIRED
 = 2,

604 
	mAV_AUDIO_SERVICE_TYPE_HEARING_IMPAIRED
 = 3,

605 
	mAV_AUDIO_SERVICE_TYPE_DIALOGUE
 = 4,

606 
	mAV_AUDIO_SERVICE_TYPE_COMMENTARY
 = 5,

607 
	mAV_AUDIO_SERVICE_TYPE_EMERGENCY
 = 6,

608 
	mAV_AUDIO_SERVICE_TYPE_VOICE_OVER
 = 7,

609 
	mAV_AUDIO_SERVICE_TYPE_KARAOKE
 = 8,

610 
	mAV_AUDIO_SERVICE_TYPE_NB
 ,

613 
	sRcOvîride
{

614 
	m°¨t_‰ame
;

615 
	míd_‰ame
;

616 
	mqsˇÀ
;

617 
	mquÆôy_Á˘‹
;

618 } 
	tRcOvîride
;

620 
	#FF_MAX_B_FRAMES
 16

	)

627 
	#CODEC_FLAG_QSCALE
 0x0002

628 
	#CODEC_FLAG_4MV
 0x0004

629 
	#CODEC_FLAG_QPEL
 0x0010

630 
	#CODEC_FLAG_GMC
 0x0020

631 
	#CODEC_FLAG_MV0
 0x0040

632 

	)

637 
	#CODEC_FLAG_INPUT_PRESERVED
 0x0100

	)

638 
	#CODEC_FLAG_PASS1
 0x0200

639 
	#CODEC_FLAG_PASS2
 0x0400

640 
	#CODEC_FLAG_GRAY
 0x2000

641 
	#CODEC_FLAG_EMU_EDGE
 0x4000

642 
	#CODEC_FLAG_PSNR
 0x8000

643 
	#CODEC_FLAG_TRUNCATED
 0x00010000

	)

645 
	#CODEC_FLAG_NORMALIZE_AQP
 0x00020000

646 
	#CODEC_FLAG_INTERLACED_DCT
 0x00040000

647 
	#CODEC_FLAG_LOW_DELAY
 0x00080000

648 
	#CODEC_FLAG_GLOBAL_HEADER
 0x00400000

649 
	#CODEC_FLAG_BITEXACT
 0x00800000

650 

	)

651 
	#CODEC_FLAG_AC_PRED
 0x01000000

652 
	#CODEC_FLAG_CBP_RD
 0x04000000

653 
	#CODEC_FLAG_QP_RD
 0x08000000

654 
	#CODEC_FLAG_LOOP_FILTER
 0x00000800

655 
	#CODEC_FLAG_INTERLACED_ME
 0x20000000

656 
	#CODEC_FLAG_CLOSED_GOP
 0x80000000

	)

657 
	#CODEC_FLAG2_FAST
 0x00000001

658 
	#CODEC_FLAG2_STRICT_GOP
 0x00000002

659 
	#CODEC_FLAG2_NO_OUTPUT
 0x00000004

660 
	#CODEC_FLAG2_LOCAL_HEADER
 0x00000008

661 
	#CODEC_FLAG2_SKIP_RD
 0x00004000

662 
	#CODEC_FLAG2_CHUNKS
 0x00008000

663 

	)

668 #i‡
FF_API_MPEGVIDEO_GLOBAL_OPTS


669 
	#CODEC_FLAG_OBMC
 0x00000001

670 
	#CODEC_FLAG_H263P_AIV
 0x00000008

671 
	#CODEC_FLAG_PART
 0x0080

672 
	#CODEC_FLAG_ALT_SCAN
 0x00100000

673 
	#CODEC_FLAG_H263P_UMV
 0x02000000

674 
	#CODEC_FLAG_H263P_SLICE_STRUCT
 0x10000000

	)

675 
	#CODEC_FLAG_SVCD_SCAN_OFFSET
 0x40000000

676 
	#CODEC_FLAG2_INTRA_VLC
 0x00000800

677 
	#CODEC_FLAG2_DROP_FRAME_TIMECODE
 0x00002000

678 
	#CODEC_FLAG2_NON_LINEAR_QUANT
 0x00010000

680 #i‡
FF_API_MJPEG_GLOBAL_OPTS


	)

681 
	#CODEC_FLAG_EXTERN_HUFF
 0x1000

683 #i‡
FF_API_X264_GLOBAL_OPTS


	)

684 
	#CODEC_FLAG2_BPYRAMID
 0x00000010

685 
	#CODEC_FLAG2_WPRED
 0x00000020

686 
	#CODEC_FLAG2_MIXED_REFS
 0x00000040

687 
	#CODEC_FLAG2_8X8DCT
 0x00000080

688 
	#CODEC_FLAG2_FASTPSKIP
 0x00000100

689 
	#CODEC_FLAG2_AUD
 0x00000200

690 
	#CODEC_FLAG2_BRDO
 0x00000400

691 
	#CODEC_FLAG2_MBTREE
 0x00040000

692 
	#CODEC_FLAG2_PSY
 0x00080000

693 
	#CODEC_FLAG2_SSIM
 0x00100000

694 
	#CODEC_FLAG2_INTRA_REFRESH
 0x00200000

696 #i‡
FF_API_SNOW_GLOBAL_OPTS


	)

697 
	#CODEC_FLAG2_MEMC_ONLY
 0x00001000

699 #i‡
FF_API_LAME_GLOBAL_OPTS


	)

700 
	#CODEC_FLAG2_BIT_RESERVOIR
 0x00020000

702 

	)

713 
	#CODEC_CAP_DRAW_HORIZ_BAND
 0x0001

714 

	)

719 
	#CODEC_CAP_DR1
 0x0002

	)

720 #i‡
FF_API_PARSE_FRAME


722 
	#CODEC_CAP_PARSE_ONLY
 0x0004

	)

724 
	#CODEC_CAP_TRUNCATED
 0x0008

	)

726 
	#CODEC_CAP_HWACCEL
 0x0010

	)

750 
	#CODEC_CAP_DELAY
 0x0020

	)

755 
	#CODEC_CAP_SMALL_LAST_FRAME
 0x0040

	)

759 
	#CODEC_CAP_HWACCEL_VDPAU
 0x0080

	)

771 
	#CODEC_CAP_SUBFRAMES
 0x0100

	)

776 
	#CODEC_CAP_EXPERIMENTAL
 0x0200

	)

780 
	#CODEC_CAP_CHANNEL_CONF
 0x0400

	)

784 
	#CODEC_CAP_NEG_LINESIZES
 0x0800

	)

788 
	#CODEC_CAP_FRAME_THREADS
 0x1000

	)

792 
	#CODEC_CAP_SLICE_THREADS
 0x2000

	)

796 
	#CODEC_CAP_PARAM_CHANGE
 0x4000

	)

800 
	#CODEC_CAP_AUTO_THREADS
 0x8000

	)

804 
	#CODEC_CAP_VARIABLE_FRAME_SIZE
 0x10000

	)

807 
	#MB_TYPE_INTRA4x4
 0x0001

	)

808 
	#MB_TYPE_INTRA16x16
 0x0002

809 
	#MB_TYPE_INTRA_PCM
 0x0004

810 
	#MB_TYPE_16x16
 0x0008

	)

811 
	#MB_TYPE_16x8
 0x0010

	)

812 
	#MB_TYPE_8x16
 0x0020

	)

813 
	#MB_TYPE_8x8
 0x0040

	)

814 
	#MB_TYPE_INTERLACED
 0x0080

	)

815 
	#MB_TYPE_DIRECT2
 0x0100

816 
	#MB_TYPE_ACPRED
 0x0200

	)

817 
	#MB_TYPE_GMC
 0x0400

	)

818 
	#MB_TYPE_SKIP
 0x0800

	)

819 
	#MB_TYPE_P0L0
 0x1000

	)

820 
	#MB_TYPE_P1L0
 0x2000

	)

821 
	#MB_TYPE_P0L1
 0x4000

	)

822 
	#MB_TYPE_P1L1
 0x8000

	)

823 
	#MB_TYPE_L0
 (
MB_TYPE_P0L0
 | 
MB_TYPE_P1L0
)

	)

824 
	#MB_TYPE_L1
 (
MB_TYPE_P0L1
 | 
MB_TYPE_P1L1
)

	)

825 
	#MB_TYPE_L0L1
 (
MB_TYPE_L0
 | 
MB_TYPE_L1
)

	)

826 
	#MB_TYPE_QUANT
 0x00010000

	)

827 
	#MB_TYPE_CBP
 0x00020000

	)

835 
	sAVP™Sˇn
{

841 
	mid
;

848 
	mwidth
;

849 
	mheight
;

856 
öt16_t
 
	mposôi⁄
[3][2];

857 }
	tAVP™Sˇn
;

859 
	#FF_QSCALE_TYPE_MPEG1
 0

	)

860 
	#FF_QSCALE_TYPE_MPEG2
 1

	)

861 
	#FF_QSCALE_TYPE_H264
 2

	)

862 
	#FF_QSCALE_TYPE_VP56
 3

	)

864 
	#FF_BUFFER_TYPE_INTERNAL
 1

	)

865 
	#FF_BUFFER_TYPE_USER
 2

866 
	#FF_BUFFER_TYPE_SHARED
 4

867 
	#FF_BUFFER_TYPE_COPY
 8

868 

	)

869 #i‡
FF_API_OLD_FF_PICT_TYPES


871 
	#FF_I_TYPE
 
AV_PICTURE_TYPE_I


872 
	#FF_P_TYPE
 
AV_PICTURE_TYPE_P


873 
	#FF_B_TYPE
 
AV_PICTURE_TYPE_B


874 
	#FF_S_TYPE
 
AV_PICTURE_TYPE_S


875 
	#FF_SI_TYPE
 
AV_PICTURE_TYPE_SI


876 
	#FF_SP_TYPE
 
AV_PICTURE_TYPE_SP


877 
	#FF_BI_TYPE
 
AV_PICTURE_TYPE_BI


	)

880 
	#FF_BUFFER_HINTS_VALID
 0x01

881 
	#FF_BUFFER_HINTS_READABLE
 0x02

882 
	#FF_BUFFER_HINTS_PRESERVE
 0x04

883 
	#FF_BUFFER_HINTS_REUSABLE
 0x08

884 

	)

885 
	eAVPackëSideD©aTy≥
 {

886 
	mAV_PKT_DATA_PALETTE
,

887 
	mAV_PKT_DATA_NEW_EXTRADATA
,

888 
	mAV_PKT_DATA_PARAM_CHANGE
,

891 
	sAVPackë
 {

901 
öt64_t
 
	m±s
;

907 
öt64_t
 
	mdts
;

908 
uöt8_t
 *
	md©a
;

909 
	msize
;

910 
	m°ªam_ödex
;

914 
	mÊags
;

920 
uöt8_t
 *
	md©a
;

921 
	msize
;

922 
AVPackëSideD©aTy≥
 
	mty≥
;

923 } *
	mside_d©a
;

924 
	mside_d©a_ñems
;

930 
	mduøti⁄
;

931 (*
	mde°ru˘
)(
	mAVPackë
 *);

932 *
	m¥iv
;

933 
öt64_t
 
	mpos
;

952 
öt64_t
 
	mc⁄vîgí˚_duøti⁄
;

953 } 
	tAVPackë
;

954 
	#AV_PKT_FLAG_KEY
 0x0001

955 
	#AV_PKT_FLAG_CORRUPT
 0x0002

956 

	)

971 
	eAVSideD©aP¨amCh™geFœgs
 {

972 
	mAV_SIDE_DATA_PARAM_CHANGE_CHANNEL_COUNT
 = 0x0001,

973 
	mAV_SIDE_DATA_PARAM_CHANGE_CHANNEL_LAYOUT
 = 0x0002,

974 
	mAV_SIDE_DATA_PARAM_CHANGE_SAMPLE_RATE
 = 0x0004,

975 
	mAV_SIDE_DATA_PARAM_CHANGE_DIMENSIONS
 = 0x0008,

985 
	sAVFøme
 {

986 #i‡
FF_API_DATA_POINTERS


987 
	#AV_NUM_DATA_POINTERS
 4

	)

989 
	#AV_NUM_DATA_POINTERS
 8

	)

997 
uöt8_t
 *
	md©a
[
AV_NUM_DATA_POINTERS
];

1008 
	mlöesize
[
AV_NUM_DATA_POINTERS
];

1016 
uöt8_t
 *
	mba£
[
AV_NUM_DATA_POINTERS
];

1022 
	mkey_‰ame
;

1029 
AVPi˘uªTy≥
 
	mpi˘_ty≥
;

1037 
öt64_t
 
	m±s
;

1044 
	mcoded_pi˘uª_numbî
;

1050 
	mdi•œy_pi˘uª_numbî
;

1057 
	mquÆôy
;

1059 #i‡
FF_API_AVFRAME_AGE


1063 
©åibuã_dïªˇãd
 
	mage
;

1074 
	mª„ªn˚
;

1081 
öt8_t
 *
	mqsˇÀ_èbÀ
;

1087 
	mq°ride
;

1095 
uöt8_t
 *
	mmbskù_èbÀ
;

1109 
öt16_t
 (*
mŸi⁄_vÆ
[2])[2];

1117 
uöt32_t
 *
	mmb_ty≥
;

1125 
uöt8_t
 
	mmŸi⁄_subßm∂e_log2
;

1132 *
	m›aque
;

1139 
uöt64_t
 
	mîr‹
[
AV_NUM_DATA_POINTERS
];

1147 
	mty≥
;

1155 
	mª≥©_pi˘
;

1160 
	mqsˇÀ_ty≥
;

1167 
	möãæa˚d_‰ame
;

1174 
	mt›_fõld_fú°
;

1181 
AVP™Sˇn
 *
	m∑n_sˇn
;

1188 
	m∑Àâe_has_ch™ged
;

1195 
	mbuf„r_höts
;

1202 *
	md˘_c€ff
;

1210 
öt8_t
 *
	mªf_ödex
[2];

1223 
öt64_t
 
	mª‹dîed_›aque
;

1230 *
	mhwac˚l_pi˘uª_¥iv©e
;

1237 
öt64_t
 
	mpkt_±s
;

1244 
öt64_t
 
	mpkt_dts
;

1251 
AVCodecC⁄ãxt
 *
	mow√r
;

1258 *
	mthªad_›aque
;

1265 
	mnb_ßm∂es
;

1285 
uöt8_t
 **
	mexãnded_d©a
;

1292 
AVR©i⁄Æ
 
	mßm∂e_a•e˘_øtio
;

1299 
	mwidth
, 
	mheight
;

1308 
	mf‹m©
;

1309 } 
	tAVFøme
;

1311 
	gAVCodecI¡î«l
;

1313 
	eAVFõldOrdî
 {

1314 
	mAV_FIELD_UNKNOWN
,

1315 
	mAV_FIELD_PROGRESSIVE
,

1316 
	mAV_FIELD_TT
,

1317 
	mAV_FIELD_BB
,

1318 
	mAV_FIELD_TB
,

1319 
	mAV_FIELD_BT
,

1329 
	sAVCodecC⁄ãxt
 {

1334 c⁄° 
AVCœss
 *
	mav_˛ass
;

1340 
	mbô_øã
;

1348 
	mbô_øã_tﬁî™˚
;

1355 
	mÊags
;

1365 
	msub_id
;

1374 
	mme_mëhod
;

1387 
uöt8_t
 *
	mexåad©a
;

1388 
	mexåad©a_size
;

1398 
AVR©i⁄Æ
 
	mtime_ba£
;

1408 
	mwidth
, 
	mheight
;

1410 
	#FF_ASPECT_EXTENDED
 15

	)

1417 
	mg›_size
;

1426 
PixñF‹m©
 
	mpix_fmt
;

1451 (*
	mdøw_h‹iz_b™d
)(
AVCodecC⁄ãxt
 *
	ms
,

1452 c⁄° 
AVFøme
 *
	m§c
, 
	moff£t
[
AV_NUM_DATA_POINTERS
],

1453 
	my
, 
	mty≥
, 
	mheight
);

1456 
	mßm∂e_øã
;

1457 
	mch™√ls
;

1464 
AVSam∂eF‹m©
 
	mßm∂e_fmt
;

1470 
	m‰ame_size
;

1471 
	m‰ame_numbî
;

1479 
	mdñay
;

1482 
	mqcom¥ess
;

1483 
	mqblur
;

1490 
	mqmö
;

1497 
	mqmax
;

1504 
	mmax_qdiff
;

1512 
	mmax_b_‰ames
;

1521 
	mb_qu™t_Á˘‹
;

1524 
	mrc_°øãgy
;

1525 
	#FF_RC_STRATEGY_XVID
 1

	)

1527 
	mb_‰ame_°øãgy
;

1529 
AVCodec
 *
	mcodec
;

1531 *
	m¥iv_d©a
;

1533 
	mπp_∑ylﬂd_size
;

1547 (*
	mπp_ˇŒback
)(
AVCodecC⁄ãxt
 *
	mav˘x
, *
	md©a
, 
	msize
, 
	mmb_nb
);

1550 
	mmv_bôs
;

1551 
	mhódî_bôs
;

1552 
	mi_ãx_bôs
;

1553 
	mp_ãx_bôs
;

1554 
	mi_cou¡
;

1555 
	mp_cou¡
;

1556 
	mskù_cou¡
;

1557 
	mmisc_bôs
;

1564 
	m‰ame_bôs
;

1571 *
	m›aque
;

1573 
	mcodec_«me
[32];

1574 
AVMedüTy≥
 
	mcodec_ty≥
;

1575 
CodecID
 
	mcodec_id
;

1590 
	mcodec_èg
;

1597 
	mw‹k¨ound_bugs
;

1598 
	#FF_BUG_AUTODETECT
 1

1599 
	#FF_BUG_OLD_MSMPEG4
 2

	)

1600 
	#FF_BUG_XVID_ILACE
 4

	)

1601 
	#FF_BUG_UMP4
 8

	)

1602 
	#FF_BUG_NO_PADDING
 16

	)

1603 
	#FF_BUG_AMV
 32

	)

1604 
	#FF_BUG_AC_VLC
 0

1605 
	#FF_BUG_QPEL_CHROMA
 64

	)

1606 
	#FF_BUG_STD_QPEL
 128

	)

1607 
	#FF_BUG_QPEL_CHROMA2
 256

	)

1608 
	#FF_BUG_DIRECT_BLOCKSIZE
 512

	)

1609 
	#FF_BUG_EDGE
 1024

	)

1610 
	#FF_BUG_HPEL_CHROMA
 2048

	)

1611 
	#FF_BUG_DC_CLIP
 4096

	)

1612 
	#FF_BUG_MS
 8192

1613 
	#FF_BUG_TRUNCATED
 16384

	)

1621 
	mluma_ñim_thªshﬁd
;

1628 
	mchroma_ñim_thªshﬁd
;

1642 
	m°ri˘_°d_com∂ün˚
;

1643 
	#FF_COMPLIANCE_VERY_STRICT
 2

1644 
	#FF_COMPLIANCE_STRICT
 1

1645 
	#FF_COMPLIANCE_NORMAL
 0

	)

1646 
	#FF_COMPLIANCE_UNOFFICIAL
 -1

1647 
	#FF_COMPLIANCE_EXPERIMENTAL
 -2

1648 

	)

1654 
	mb_qu™t_off£t
;

1656 #i‡
FF_API_ER


1663 
©åibuã_dïªˇãd
 
	mîr‹_ªcognôi⁄
;

1664 
	#FF_ER_CAREFUL
 1

	)

1665 
	#FF_ER_COMPLIANT
 2

	)

1666 
	#FF_ER_AGGRESSIVE
 3

	)

1667 
	#FF_ER_VERY_AGGRESSIVE
 4

	)

1668 
	#FF_ER_EXPLODE
 5

	)

1726 (*
	mgë_buf„r
)(
AVCodecC⁄ãxt
 *
	mc
, 
AVFøme
 *
	mpic
);

1737 (*
	mªÀa£_buf„r
)(
AVCodecC⁄ãxt
 *
	mc
, 
AVFøme
 *
	mpic
);

1745 
	mhas_b_‰ames
;

1751 
	mblock_Æign
;

1753 #i‡
FF_API_PARSE_FRAME


1760 
©åibuã_dïªˇãd
 
	m∑r£_⁄ly
;

1768 
	mm≥g_qu™t
;

1775 *
	m°©s_out
;

1783 *
	m°©s_ö
;

1791 
	mrc_qsquish
;

1793 
	mrc_qmod_amp
;

1794 
	mrc_qmod_‰eq
;

1801 
RcOvîride
 *
	mrc_ovîride
;

1802 
	mrc_ovîride_cou¡
;

1809 c⁄° *
	mrc_eq
;

1816 
	mrc_max_øã
;

1823 
	mrc_mö_øã
;

1830 
	mrc_buf„r_size
;

1831 
	mrc_buf„r_aggªssivôy
;

1840 
	mi_qu™t_Á˘‹
;

1847 
	mi_qu™t_off£t
;

1854 
	mrc_öôül_˝lx
;

1861 
	md˘_Ægo
;

1862 
	#FF_DCT_AUTO
 0

	)

1863 
	#FF_DCT_FASTINT
 1

	)

1864 
	#FF_DCT_INT
 2

	)

1865 
	#FF_DCT_MMX
 3

	)

1866 
	#FF_DCT_MLIB
 4

	)

1867 
	#FF_DCT_ALTIVEC
 5

	)

1868 
	#FF_DCT_FAAN
 6

	)

1875 
	mlumi_maskög
;

1882 
	mãmp‹Æ_˝lx_maskög
;

1889 
	m•©ül_˝lx_maskög
;

1896 
	mp_maskög
;

1903 
	md¨k_maskög
;

1910 
	mid˘_Ægo
;

1911 
	#FF_IDCT_AUTO
 0

	)

1912 
	#FF_IDCT_INT
 1

	)

1913 
	#FF_IDCT_SIMPLE
 2

	)

1914 
	#FF_IDCT_SIMPLEMMX
 3

	)

1915 
	#FF_IDCT_LIBMPEG2MMX
 4

	)

1916 
	#FF_IDCT_PS2
 5

	)

1917 
	#FF_IDCT_MLIB
 6

	)

1918 
	#FF_IDCT_ARM
 7

	)

1919 
	#FF_IDCT_ALTIVEC
 8

	)

1920 
	#FF_IDCT_SH4
 9

	)

1921 
	#FF_IDCT_SIMPLEARM
 10

	)

1922 
	#FF_IDCT_H264
 11

	)

1923 
	#FF_IDCT_VP3
 12

	)

1924 
	#FF_IDCT_IPP
 13

	)

1925 
	#FF_IDCT_XVIDMMX
 14

	)

1926 
	#FF_IDCT_CAVS
 15

	)

1927 
	#FF_IDCT_SIMPLEARMV5TE
 16

	)

1928 
	#FF_IDCT_SIMPLEARMV6
 17

	)

1929 
	#FF_IDCT_SIMPLEVIS
 18

	)

1930 
	#FF_IDCT_WMV2
 19

	)

1931 
	#FF_IDCT_FAAN
 20

	)

1932 
	#FF_IDCT_EA
 21

	)

1933 
	#FF_IDCT_SIMPLENEON
 22

	)

1934 
	#FF_IDCT_SIMPLEALPHA
 23

	)

1935 
	#FF_IDCT_BINK
 24

	)

1942 
	m¶i˚_cou¡
;

1948 *
	m¶i˚_off£t
;

1955 
	mîr‹_c⁄˚Æmít
;

1956 
	#FF_EC_GUESS_MVS
 1

	)

1957 
	#FF_EC_DEBLOCK
 2

	)

1967 
	md•_mask
;

1974 
	mbôs_≥r_coded_ßm∂e
;

1981 
	m¥edi˘i⁄_mëhod
;

1982 
	#FF_PRED_LEFT
 0

	)

1983 
	#FF_PRED_PLANE
 1

	)

1984 
	#FF_PRED_MEDIAN
 2

	)

1993 
AVR©i⁄Æ
 
	mßm∂e_a•e˘_øtio
;

2000 
AVFøme
 *
	mcoded_‰ame
;

2007 
	mdebug
;

2008 
	#FF_DEBUG_PICT_INFO
 1

	)

2009 
	#FF_DEBUG_RC
 2

	)

2010 
	#FF_DEBUG_BITSTREAM
 4

	)

2011 
	#FF_DEBUG_MB_TYPE
 8

	)

2012 
	#FF_DEBUG_QP
 16

	)

2013 
	#FF_DEBUG_MV
 32

	)

2014 
	#FF_DEBUG_DCT_COEFF
 0x00000040

	)

2015 
	#FF_DEBUG_SKIP
 0x00000080

	)

2016 
	#FF_DEBUG_STARTCODE
 0x00000100

	)

2017 
	#FF_DEBUG_PTS
 0x00000200

	)

2018 
	#FF_DEBUG_ER
 0x00000400

	)

2019 
	#FF_DEBUG_MMCO
 0x00000800

	)

2020 
	#FF_DEBUG_BUGS
 0x00001000

	)

2021 
	#FF_DEBUG_VIS_QP
 0x00002000

	)

2022 
	#FF_DEBUG_VIS_MB_TYPE
 0x00004000

	)

2023 
	#FF_DEBUG_BUFFERS
 0x00008000

	)

2024 
	#FF_DEBUG_THREADS
 0x00010000

	)

2031 
	mdebug_mv
;

2032 
	#FF_DEBUG_VIS_MV_P_FOR
 0x00000001

2033 
	#FF_DEBUG_VIS_MV_B_FOR
 0x00000002

2034 
	#FF_DEBUG_VIS_MV_B_BACK
 0x00000004

2035 

	)

2041 
uöt64_t
 
	mîr‹
[
AV_NUM_DATA_POINTERS
];

2048 
	mme_cmp
;

2054 
	mme_sub_cmp
;

2060 
	mmb_cmp
;

2066 
	mûd˘_cmp
;

2067 
	#FF_CMP_SAD
 0

	)

2068 
	#FF_CMP_SSE
 1

	)

2069 
	#FF_CMP_SATD
 2

	)

2070 
	#FF_CMP_DCT
 3

	)

2071 
	#FF_CMP_PSNR
 4

	)

2072 
	#FF_CMP_BIT
 5

	)

2073 
	#FF_CMP_RD
 6

	)

2074 
	#FF_CMP_ZERO
 7

	)

2075 
	#FF_CMP_VSAD
 8

	)

2076 
	#FF_CMP_VSSE
 9

	)

2077 
	#FF_CMP_NSSE
 10

	)

2078 
	#FF_CMP_W53
 11

	)

2079 
	#FF_CMP_W97
 12

	)

2080 
	#FF_CMP_DCTMAX
 13

	)

2081 
	#FF_CMP_DCT264
 14

	)

2082 
	#FF_CMP_CHROMA
 256

	)

2089 
	mdü_size
;

2096 
	mœ°_¥edi˘‹_cou¡
;

2103 
	m¥e_me
;

2110 
	mme_¥e_cmp
;

2117 
	m¥e_dü_size
;

2124 
	mme_sub≥l_quÆôy
;

2135 
PixñF‹m©
 (*
gë_f‹m©
)(
AVCodecC⁄ãxt
 *
	ms
, c⁄° PixñF‹m© * 
	mfmt
);

2145 
	mdtg_a˘ive_f‹m©
;

2146 
	#FF_DTG_AFD_SAME
 8

	)

2147 
	#FF_DTG_AFD_4_3
 9

	)

2148 
	#FF_DTG_AFD_16_9
 10

	)

2149 
	#FF_DTG_AFD_14_9
 11

	)

2150 
	#FF_DTG_AFD_4_3_SP_14_9
 13

	)

2151 
	#FF_DTG_AFD_16_9_SP_14_9
 14

	)

2152 
	#FF_DTG_AFD_SP_4_3
 15

	)

2161 
	mme_ønge
;

2168 
	möåa_qu™t_büs
;

2169 
	#FF_DEFAULT_QUANT_BIAS
 999999

	)

2176 
	möãr_qu™t_büs
;

2184 
	mcﬁ‹_èbÀ_id
;

2186 #i‡
FF_API_INTERNAL_CONTEXT


2192 
©åibuã_dïªˇãd
 
	möã∫Æ_buf„r_cou¡
;

2199 
©åibuã_dïªˇãd
 *
	möã∫Æ_buf„r
;

2208 
	mglobÆ_quÆôy
;

2210 
	#FF_CODER_TYPE_VLC
 0

	)

2211 
	#FF_CODER_TYPE_AC
 1

	)

2212 
	#FF_CODER_TYPE_RAW
 2

	)

2213 
	#FF_CODER_TYPE_RLE
 3

	)

2214 
	#FF_CODER_TYPE_DEFLATE
 4

	)

2220 
	mcodî_ty≥
;

2227 
	mc⁄ãxt_modñ
;

2234 
	muöt8_t
 * (*
	mªÆloc
)(
AVCodecC⁄ãxt
 *
	ms
, 
uöt8_t
 *
	mbuf
, 
	mbuf_size
);

2242 
	m¶i˚_Êags
;

2243 
	#SLICE_FLAG_CODED_ORDER
 0x0001

2244 
	#SLICE_FLAG_ALLOW_FIELD
 0x0002

2245 
	#SLICE_FLAG_ALLOW_PLANE
 0x0004

2246 

	)

2252 
	mxvmc_ac˚Àøti⁄
;

2259 
	mmb_decisi⁄
;

2260 
	#FF_MB_DECISION_SIMPLE
 0

2261 
	#FF_MB_DECISION_BITS
 1

2262 
	#FF_MB_DECISION_RD
 2

2263 

	)

2269 
uöt16_t
 *
	möåa_m©rix
;

2276 
uöt16_t
 *
	möãr_m©rix
;

2284 
	m°ªam_codec_èg
;

2292 
	ms˚√ch™ge_thªshﬁd
;

2299 
	mlmö
;

2306 
	mlmax
;

2308 #i‡
FF_API_PALETTE_CONTROL


2314 
AVPÆëãC⁄åﬁ
 *
	m∑l˘æ
;

2322 
	mnoi£_ªdu˘i⁄
;

2336 (*
	mªgë_buf„r
)(
AVCodecC⁄ãxt
 *
	mc
, 
AVFøme
 *
	mpic
);

2343 
	mrc_öôül_buf„r_occu∑ncy
;

2350 
	möãr_thªshﬁd
;

2357 
	mÊags2
;

2364 
	mîr‹_øã
;

2366 #i‡
FF_API_ANTIALIAS_ALGO


2372 
©åibuã_dïªˇãd
 
	m™tülüs_Ægo
;

2373 
	#FF_AA_AUTO
 0

	)

2374 
	#FF_AA_FASTINT
 1

2375 
	#FF_AA_INT
 2

	)

2376 
	#FF_AA_FLOAT
 3

	)

2384 
	mqu™tizî_noi£_sh≠ög
;

2392 
	mthªad_cou¡
;

2403 (*
	mexecuã
)(
AVCodecC⁄ãxt
 *
	mc
, (*
	mfunc
)(AVCodecC⁄ãxà*
	mc2
, *
	m¨g
), *
	m¨g2
, *
	mªt
, 
	mcou¡
, 
	msize
);

2411 *
	mthªad_›aque
;

2420 
	mme_thªshﬁd
;

2427 
	mmb_thªshﬁd
;

2434 
	möåa_dc_¥ecisi⁄
;

2441 
	mns£_weight
;

2448 
	mskù_t›
;

2455 
	mskù_bŸtom
;

2462 
	m¥ofûe
;

2463 
	#FF_PROFILE_UNKNOWN
 -99

	)

2464 
	#FF_PROFILE_RESERVED
 -100

	)

2466 
	#FF_PROFILE_AAC_MAIN
 0

	)

2467 
	#FF_PROFILE_AAC_LOW
 1

	)

2468 
	#FF_PROFILE_AAC_SSR
 2

	)

2469 
	#FF_PROFILE_AAC_LTP
 3

	)

2471 
	#FF_PROFILE_DTS
 20

	)

2472 
	#FF_PROFILE_DTS_ES
 30

	)

2473 
	#FF_PROFILE_DTS_96_24
 40

	)

2474 
	#FF_PROFILE_DTS_HD_HRA
 50

	)

2475 
	#FF_PROFILE_DTS_HD_MA
 60

	)

2477 
	#FF_PROFILE_MPEG2_422
 0

	)

2478 
	#FF_PROFILE_MPEG2_HIGH
 1

	)

2479 
	#FF_PROFILE_MPEG2_SS
 2

	)

2480 
	#FF_PROFILE_MPEG2_SNR_SCALABLE
 3

	)

2481 
	#FF_PROFILE_MPEG2_MAIN
 4

	)

2482 
	#FF_PROFILE_MPEG2_SIMPLE
 5

	)

2484 
	#FF_PROFILE_H264_CONSTRAINED
 (1<<9)

2485 
	#FF_PROFILE_H264_INTRA
 (1<<11)

2486 

	)

2487 
	#FF_PROFILE_H264_BASELINE
 66

	)

2488 
	#FF_PROFILE_H264_CONSTRAINED_BASELINE
 (66|
FF_PROFILE_H264_CONSTRAINED
)

	)

2489 
	#FF_PROFILE_H264_MAIN
 77

	)

2490 
	#FF_PROFILE_H264_EXTENDED
 88

	)

2491 
	#FF_PROFILE_H264_HIGH
 100

	)

2492 
	#FF_PROFILE_H264_HIGH_10
 110

	)

2493 
	#FF_PROFILE_H264_HIGH_10_INTRA
 (110|
FF_PROFILE_H264_INTRA
)

	)

2494 
	#FF_PROFILE_H264_HIGH_422
 122

	)

2495 
	#FF_PROFILE_H264_HIGH_422_INTRA
 (122|
FF_PROFILE_H264_INTRA
)

	)

2496 
	#FF_PROFILE_H264_HIGH_444
 144

	)

2497 
	#FF_PROFILE_H264_HIGH_444_PREDICTIVE
 244

	)

2498 
	#FF_PROFILE_H264_HIGH_444_INTRA
 (244|
FF_PROFILE_H264_INTRA
)

	)

2499 
	#FF_PROFILE_H264_CAVLC_444
 44

	)

2501 
	#FF_PROFILE_VC1_SIMPLE
 0

	)

2502 
	#FF_PROFILE_VC1_MAIN
 1

	)

2503 
	#FF_PROFILE_VC1_COMPLEX
 2

	)

2504 
	#FF_PROFILE_VC1_ADVANCED
 3

	)

2506 
	#FF_PROFILE_MPEG4_SIMPLE
 0

	)

2507 
	#FF_PROFILE_MPEG4_SIMPLE_SCALABLE
 1

	)

2508 
	#FF_PROFILE_MPEG4_CORE
 2

	)

2509 
	#FF_PROFILE_MPEG4_MAIN
 3

	)

2510 
	#FF_PROFILE_MPEG4_N_BIT
 4

	)

2511 
	#FF_PROFILE_MPEG4_SCALABLE_TEXTURE
 5

	)

2512 
	#FF_PROFILE_MPEG4_SIMPLE_FACE_ANIMATION
 6

	)

2513 
	#FF_PROFILE_MPEG4_BASIC_ANIMATED_TEXTURE
 7

	)

2514 
	#FF_PROFILE_MPEG4_HYBRID
 8

	)

2515 
	#FF_PROFILE_MPEG4_ADVANCED_REAL_TIME
 9

	)

2516 
	#FF_PROFILE_MPEG4_CORE_SCALABLE
 10

	)

2517 
	#FF_PROFILE_MPEG4_ADVANCED_CODING
 11

	)

2518 
	#FF_PROFILE_MPEG4_ADVANCED_CORE
 12

	)

2519 
	#FF_PROFILE_MPEG4_ADVANCED_SCALABLE_TEXTURE
 13

	)

2520 
	#FF_PROFILE_MPEG4_SIMPLE_STUDIO
 14

	)

2521 
	#FF_PROFILE_MPEG4_ADVANCED_SIMPLE
 15

	)

2528 
	mÀvñ
;

2529 
	#FF_LEVEL_UNKNOWN
 -99

	)

2536 
	mlowªs
;

2543 
	mcoded_width
, 
	mcoded_height
;

2550 
	m‰ame_skù_thªshﬁd
;

2557 
	m‰ame_skù_Á˘‹
;

2564 
	m‰ame_skù_exp
;

2571 
	m‰ame_skù_cmp
;

2579 
	mb‹dî_maskög
;

2586 
	mmb_lmö
;

2593 
	mmb_lmax
;

2600 
	mme_≥«…y_com≥nßti⁄
;

2607 
AVDisˇrd
 
	mskù_lo›_fûãr
;

2614 
AVDisˇrd
 
	mskù_id˘
;

2621 
AVDisˇrd
 
	mskù_‰ame
;

2628 
	mbidú_ªföe
;

2635 
	mbrd_sˇÀ
;

2637 #i‡
FF_API_X264_GLOBAL_OPTS


2644 
©åibuã_dïªˇãd
 
	m¸f
;

2652 
©åibuã_dïªˇãd
 
	mcqp
;

2660 
	mkeyöt_mö
;

2667 
	mªfs
;

2674 
	mchromaoff£t
;

2676 #i‡
FF_API_X264_GLOBAL_OPTS


2682 
©åibuã_dïªˇãd
 
	mb‰amebüs
;

2690 
	måñlis
;

2692 #i‡
FF_API_X264_GLOBAL_OPTS


2698 
©åibuã_dïªˇãd
 
	mcom∂exôyblur
;

2706 
©åibuã_dïªˇãd
 
	mdeblockÆpha
;

2714 
©åibuã_dïªˇãd
 
	mdeblockbëa
;

2721 
©åibuã_dïªˇãd
 
	m∑πôi⁄s
;

2722 
	#X264_PART_I4X4
 0x001

	)

2723 
	#X264_PART_I8X8
 0x002

	)

2724 
	#X264_PART_P8X8
 0x010

	)

2725 
	#X264_PART_P4X4
 0x020

	)

2726 
	#X264_PART_B8X8
 0x100

	)

2733 
©åibuã_dïªˇãd
 
	mdúe˘¥ed
;

2741 
	mcutoff
;

2748 
	ms˚√ch™ge_Á˘‹
;

2756 
	mmv0_thªshﬁd
;

2763 
	mb_£nsôivôy
;

2769 
	mcom¥essi⁄_Àvñ
;

2770 
	#FF_COMPRESSION_DEFAULT
 -1

	)

2776 
	mmö_¥edi˘i⁄_‹dî
;

2782 
	mmax_¥edi˘i⁄_‹dî
;

2784 #i‡
FF_API_FLAC_GLOBAL_OPTS


2796 
©åibuã_dïªˇãd
 
	mÕc_c€ff_¥ecisi⁄
;

2803 
©åibuã_dïªˇãd
 
	m¥edi˘i⁄_‹dî_mëhod
;

2809 
©åibuã_dïªˇãd
 
	mmö_∑πôi⁄_‹dî
;

2815 
©åibuã_dïªˇãd
 
	mmax_∑πôi⁄_‹dî
;

2826 
öt64_t
 
	mtimecode_‰ame_°¨t
;

2828 #i‡
FF_API_REQUEST_CHANNELS


2835 
	mªque°_ch™√ls
;

2838 #i‡
FF_API_DRC_SCALE


2846 
©åibuã_dïªˇãd
 
	mdrc_sˇÀ
;

2856 
öt64_t
 
	mª‹dîed_›aque
;

2863 
	mbôs_≥r_øw_ßm∂e
;

2870 
uöt64_t
 
	mch™√l_œyout
;

2877 
uöt64_t
 
	mªque°_ch™√l_œyout
;

2884 
	mrc_max_avaûabÀ_vbv_u£
;

2891 
	mrc_mö_vbv_ovîÊow_u£
;

2898 
AVHWAc˚l
 *
	mhwac˚l
;

2907 
	mticks_≥r_‰ame
;

2919 *
	mhwac˚l_c⁄ãxt
;

2926 
AVCﬁ‹Prim¨õs
 
	mcﬁ‹_¥im¨õs
;

2933 
AVCﬁ‹Tøns„rCh¨a˘îi°ic
 
	mcﬁ‹_åc
;

2940 
AVCﬁ‹S∑˚
 
	mcﬁ‹•a˚
;

2947 
AVCﬁ‹R™ge
 
	mcﬁ‹_ønge
;

2954 
AVChromaLoˇti⁄
 
	mchroma_ßm∂e_loˇti⁄
;

2974 (*
	mexecuã2
)(
AVCodecC⁄ãxt
 *
	mc
, (*
	mfunc
)(AVCodecC⁄ãxà*
	mc2
, *
	m¨g
, 
	mjobƒ
, 
	mthªadƒ
), *
	m¨g2
, *
	mªt
, 
	mcou¡
);

2976 #i‡
FF_API_X264_GLOBAL_OPTS


2985 
©åibuã_dïªˇãd
 
	mweighãd_p_¥ed
;

2995 
©åibuã_dïªˇãd
 
	maq_mode
;

3003 
©åibuã_dïªˇãd
 
	maq_°ªngth
;

3011 
©åibuã_dïªˇãd
 
	mpsy_rd
;

3019 
©åibuã_dïªˇãd
 
	mpsy_åñlis
;

3027 
©åibuã_dïªˇãd
 
	mrc_lookahód
;

3036 
©åibuã_dïªˇãd
 
	m¸f_max
;

3039 
	mlog_Àvñ_off£t
;

3041 #i‡
FF_API_FLAC_GLOBAL_OPTS


3047 
©åibuã_dïªˇãd
 
AVLPCTy≥
 
	mÕc_ty≥
;

3054 
©åibuã_dïªˇãd
 
	mÕc_∑s£s
;

3064 
	m¶i˚s
;

3074 
uöt8_t
 *
	msubtôÀ_hódî
;

3075 
	msubtôÀ_hódî_size
;

3084 
AVPackë
 *
	mpkt
;

3086 #i‡
FF_API_INTERNAL_CONTEXT


3096 
©åibuã_dïªˇãd
 
	mis_c›y
;

3107 
	mthªad_ty≥
;

3108 
	#FF_THREAD_FRAME
 1

3109 
	#FF_THREAD_SLICE
 2

3110 

	)

3116 
	ma˘ive_thªad_ty≥
;

3126 
	mthªad_ß„_ˇŒbacks
;

3134 
uöt64_t
 
	mvbv_dñay
;

3141 
AVAudioSîvi˚Ty≥
 
	maudio_£rvi˚_ty≥
;

3148 
AVSam∂eF‹m©
 
	mªque°_ßm∂e_fmt
;

3155 
	mîr_ªcognôi⁄
;

3156 
	#AV_EF_CRCCHECK
 (1<<0)

	)

3157 
	#AV_EF_BITSTREAM
 (1<<1)

	)

3158 
	#AV_EF_BUFFER
 (1<<2)

	)

3159 
	#AV_EF_EXPLODE
 (1<<3)

	)

3167 
AVCodecI¡î«l
 *
	möã∫Æ
;

3173 
AVFõldOrdî
 
	mfõld_‹dî
;

3174 } 
	tAVCodecC⁄ãxt
;

3179 
	sAVProfûe
 {

3180 
	m¥ofûe
;

3181 c⁄° *
	m«me
;

3182 } 
	tAVProfûe
;

3184 
AVCodecDeÁu…
 
	tAVCodecDeÁu…
;

3189 
	sAVCodec
 {

3196 c⁄° *
	m«me
;

3197 
AVMedüTy≥
 
	mty≥
;

3198 
CodecID
 
	mid
;

3199 
	m¥iv_d©a_size
;

3200 (*
	möô
)(
	mAVCodecC⁄ãxt
 *);

3201 (*
	mícode
)(
	mAVCodecC⁄ãxt
 *, 
uöt8_t
 *
	mbuf
, 
	mbuf_size
, *
	md©a
);

3202 (*
	m˛o£
)(
	mAVCodecC⁄ãxt
 *);

3203 (*
	mdecode
)(
	mAVCodecC⁄ãxt
 *, *
	moutd©a
, *
	moutd©a_size
, 
AVPackë
 *
	mavpkt
);

3208 
	mˇ∑bûôõs
;

3209 
AVCodec
 *
	m√xt
;

3214 (*
	mÊush
)(
	mAVCodecC⁄ãxt
 *);

3215 c⁄° 
AVR©i⁄Æ
 *
	msuµ‹ãd_‰amî©es
;

3216 c⁄° 
PixñF‹m©
 *
	mpix_fmts
;

3221 c⁄° *
	ml⁄g_«me
;

3222 c⁄° *
	msuµ‹ãd_ßm∂î©es
;

3223 c⁄° 
AVSam∂eF‹m©
 *
	mßm∂e_fmts
;

3224 c⁄° 
uöt64_t
 *
	mch™√l_œyouts
;

3225 
uöt8_t
 
	mmax_lowªs
;

3226 c⁄° 
AVCœss
 *
	m¥iv_˛ass
;

3227 c⁄° 
AVProfûe
 *
	m¥ofûes
;

3238 (*
	möô_thªad_c›y
)(
	mAVCodecC⁄ãxt
 *);

3246 (*
	mupd©e_thªad_c⁄ãxt
)(
AVCodecC⁄ãxt
 *
	md°
, c⁄° AVCodecC⁄ãxà*
	m§c
);

3252 c⁄° 
AVCodecDeÁu…
 *
	mdeÁu…s
;

3257 (*
	möô_°©ic_d©a
)(
AVCodec
 *
	mcodec
);

3269 (*
	mícode2
)(
AVCodecC⁄ãxt
 *
	mav˘x
, 
AVPackë
 *
	mavpkt
, c⁄° 
AVFøme
 *
	m‰ame
,

3270 *
	mgŸ_∑ckë_±r
);

3271 } 
	tAVCodec
;

3276 
	sAVHWAc˚l
 {

3282 c⁄° *
	m«me
;

3289 
AVMedüTy≥
 
	mty≥
;

3296 
CodecID
 
	mid
;

3303 
PixñF‹m©
 
	mpix_fmt
;

3309 
	mˇ∑bûôõs
;

3311 
AVHWAc˚l
 *
	m√xt
;

3327 (*
	m°¨t_‰ame
)(
AVCodecC⁄ãxt
 *
	mav˘x
, c⁄° 
uöt8_t
 *
	mbuf
, 
uöt32_t
 
	mbuf_size
);

3340 (*
	mdecode_¶i˚
)(
AVCodecC⁄ãxt
 *
	mav˘x
, c⁄° 
uöt8_t
 *
	mbuf
, 
uöt32_t
 
	mbuf_size
);

3351 (*
	míd_‰ame
)(
AVCodecC⁄ãxt
 *
	mav˘x
);

3360 
	m¥iv_d©a_size
;

3361 } 
	tAVHWAc˚l
;

3367 
	sAVPi˘uª
 {

3368 
uöt8_t
 *
	md©a
[
AV_NUM_DATA_POINTERS
];

3369 
	mlöesize
[
AV_NUM_DATA_POINTERS
];

3370 } 
	tAVPi˘uª
;

3372 
	#AVPALETTE_SIZE
 1024

	)

3373 
	#AVPALETTE_COUNT
 256

	)

3374 #i‡
FF_API_PALETTE_CONTROL


3383 
	sAVPÆëãC⁄åﬁ
 {

3387 
	m∑Àâe_ch™ged
;

3393 
	m∑Àâe
[
AVPALETTE_COUNT
];

3395 } 
	tAVPÆëãC⁄åﬁ
 
	t©åibuã_dïªˇãd
;

3398 
	eAVSubtôÀTy≥
 {

3399 
	mSUBTITLE_NONE
,

3401 
	mSUBTITLE_BITMAP
,

3407 
	mSUBTITLE_TEXT
,

3413 
	mSUBTITLE_ASS
,

3416 
	sAVSubtôÀRe˘
 {

3417 
	mx
;

3418 
	my
;

3419 
	mw
;

3420 
	mh
;

3421 
	mnb_cﬁ‹s
;

3427 
AVPi˘uª
 
	mpi˘
;

3428 
AVSubtôÀTy≥
 
	mty≥
;

3430 *
	mãxt
;

3437 *
	mass
;

3438 } 
	tAVSubtôÀRe˘
;

3440 
	sAVSubtôÀ
 {

3441 
uöt16_t
 
	mf‹m©
;

3442 
uöt32_t
 
	m°¨t_di•œy_time
;

3443 
uöt32_t
 
	míd_di•œy_time
;

3444 
	mnum_ª˘s
;

3445 
AVSubtôÀRe˘
 **
	mª˘s
;

3446 
öt64_t
 
	m±s
;

3447 } 
	tAVSubtôÀ
;

3454 
©åibuã_dïªˇãd
 
av_de°ru˘_∑ckë_no‰ì
(
AVPackë
 *
pkt
);

3459 
av_de°ru˘_∑ckë
(
AVPackë
 *
pkt
);

3466 
av_öô_∑ckë
(
AVPackë
 *
pkt
);

3476 
av_√w_∑ckë
(
AVPackë
 *
pkt
, 
size
);

3484 
av_shrök_∑ckë
(
AVPackë
 *
pkt
, 
size
);

3492 
av_grow_∑ckë
(
AVPackë
 *
pkt
, 
grow_by
);

3498 
av_dup_∑ckë
(
AVPackë
 *
pkt
);

3505 
av_‰ì_∑ckë
(
AVPackë
 *
pkt
);

3515 
uöt8_t
* 
av_∑ckë_√w_side_d©a
(
AVPackë
 *
pkt
, 
AVPackëSideD©aTy≥
 
ty≥
,

3516 
size
);

3526 
uöt8_t
* 
av_∑ckë_gë_side_d©a
(
AVPackë
 *
pkt
, 
AVPackëSideD©aTy≥
 
ty≥
,

3527 *
size
);

3531 
	gReSam∂eC⁄ãxt
;

3532 
	gAVReßm∂eC⁄ãxt
;

3534 
ReSam∂eC⁄ãxt
 
	tReSam∂eC⁄ãxt
;

3552 
ReSam∂eC⁄ãxt
 *
av_audio_ªßm∂e_öô
(
ouçut_ch™√ls
, 
öput_ch™√ls
,

3553 
ouçut_øã
, 
öput_øã
,

3554 
AVSam∂eF‹m©
 
ßm∂e_fmt_out
,

3555 
AVSam∂eF‹m©
 
ßm∂e_fmt_ö
,

3556 
fûãr_Àngth
, 
log2_pha£_cou¡
,

3557 
löór
, 
cutoff
);

3559 
audio_ªßm∂e
(
ReSam∂eC⁄ãxt
 *
s
, *
ouçut
, *
öput
, 
nb_ßm∂es
);

3567 
audio_ªßm∂e_˛o£
(
ReSam∂eC⁄ãxt
 *
s
);

3579 
AVReßm∂eC⁄ãxt
 *
av_ªßm∂e_öô
(
out_øã
, 
ö_øã
, 
fûãr_Àngth
, 
log2_pha£_cou¡
, 
löór
, 
cutoff
);

3590 
av_ªßm∂e
(
AVReßm∂eC⁄ãxt
 *
c
, *
d°
, *
§c
, *
c⁄sumed
, 
§c_size
, 
d°_size
, 
upd©e_˘x
);

3605 
av_ªßm∂e_com≥nßã
(
AVReßm∂eC⁄ãxt
 *
c
, 
ßm∂e_dñè
, 
com≥nßti⁄_di°™˚
);

3606 
av_ªßm∂e_˛o£
(
AVReßm∂eC⁄ãxt
 *
c
);

3619 
avpi˘uª_Æloc
(
AVPi˘uª
 *
pi˘uª
, 
PixñF‹m©
 
pix_fmt
, 
width
, 
height
);

3628 
avpi˘uª_‰ì
(
AVPi˘uª
 *
pi˘uª
);

3650 
avpi˘uª_fûl
(
AVPi˘uª
 *
pi˘uª
, 
uöt8_t
 *
±r
,

3651 
PixñF‹m©
 
pix_fmt
, 
width
, 
height
);

3668 
avpi˘uª_œyout
(c⁄° 
AVPi˘uª
* 
§c
, 
PixñF‹m©
 
pix_fmt
, 
width
, 
height
,

3669 *
de°
, 
de°_size
);

3683 
avpi˘uª_gë_size
(
PixñF‹m©
 
pix_fmt
, 
width
, 
height
);

3684 
avcodec_gë_chroma_sub_ßm∂e
(
PixñF‹m©
 
pix_fmt
, *
h_shi·
, *
v_shi·
);

3686 #i‡
FF_API_GET_PIX_FMT_NAME


3690 
©åibuã_dïªˇãd


3691 c⁄° *
avcodec_gë_pix_fmt_«me
(
PixñF‹m©
 
pix_fmt
);

3694 
avcodec_£t_dimísi⁄s
(
AVCodecC⁄ãxt
 *
s
, 
width
, 
height
);

3701 
avcodec_pix_fmt_to_codec_èg
(
PixñF‹m©
 
pix_fmt
);

3710 
size_t
 
av_gë_codec_èg_°rög
(*
buf
, size_à
buf_size
, 
codec_èg
);

3712 
	#FF_LOSS_RESOLUTION
 0x0001

	)

3713 
	#FF_LOSS_DEPTH
 0x0002

	)

3714 
	#FF_LOSS_COLORSPACE
 0x0004

	)

3715 
	#FF_LOSS_ALPHA
 0x0008

	)

3716 
	#FF_LOSS_COLORQUANT
 0x0010

	)

3717 
	#FF_LOSS_CHROMA
 0x0020

	)

3736 
avcodec_gë_pix_fmt_loss
(
PixñF‹m©
 
d°_pix_fmt
, PixñF‹m© 
§c_pix_fmt
,

3737 
has_Æpha
);

3761 
PixñF‹m©
 
avcodec_föd_be°_pix_fmt
(
öt64_t
 
pix_fmt_mask
, PixñF‹m© 
§c_pix_fmt
,

3762 
has_Æpha
, *
loss_±r
);

3764 #i‡
FF_API_GET_ALPHA_INFO


3765 
	#FF_ALPHA_TRANSP
 0x0001

	)

3766 
	#FF_ALPHA_SEMI_TRANSP
 0x0002

	)

3772 
©åibuã_dïªˇãd


3773 
img_gë_Æpha_öfo
(c⁄° 
AVPi˘uª
 *
§c
,

3774 
PixñF‹m©
 
pix_fmt
, 
width
, 
height
);

3779 
avpi˘uª_deöãæa˚
(
AVPi˘uª
 *
d°
, c⁄° AVPi˘uª *
§c
,

3780 
PixñF‹m©
 
pix_fmt
, 
width
, 
height
);

3789 
AVCodec
 *
av_codec_√xt
(AVCode¯*
c
);

3794 
avcodec_vîsi⁄
();

3799 c⁄° *
avcodec_c⁄figuøti⁄
();

3804 c⁄° *
avcodec_li˚n£
();

3806 #i‡
FF_API_AVCODEC_INIT


3811 
©åibuã_dïªˇãd


3812 
avcodec_öô
();

3823 
avcodec_ªgi°î
(
AVCodec
 *
codec
);

3831 
AVCodec
 *
avcodec_föd_ícodî
(
CodecID
 
id
);

3839 
AVCodec
 *
avcodec_föd_ícodî_by_«me
(c⁄° *
«me
);

3847 
AVCodec
 *
avcodec_föd_decodî
(
CodecID
 
id
);

3855 
AVCodec
 *
avcodec_föd_decodî_by_«me
(c⁄° *
«me
);

3856 
avcodec_°rög
(*
buf
, 
buf_size
, 
AVCodecC⁄ãxt
 *
íc
, 
ícode
);

3865 c⁄° *
av_gë_¥ofûe_«me
(c⁄° 
AVCodec
 *
codec
, 
¥ofûe
);

3867 #i‡
FF_API_ALLOC_CONTEXT


3874 
©åibuã_dïªˇãd


3875 
avcodec_gë_c⁄ãxt_deÁu…s
(
AVCodecC⁄ãxt
 *
s
);

3879 
©åibuã_dïªˇãd


3880 
avcodec_gë_c⁄ãxt_deÁu…s2
(
AVCodecC⁄ãxt
 *
s
, 
AVMedüTy≥
);

3892 
avcodec_gë_c⁄ãxt_deÁu…s3
(
AVCodecC⁄ãxt
 *
s
, 
AVCodec
 *
codec
);

3894 #i‡
FF_API_ALLOC_CONTEXT


3904 
©åibuã_dïªˇãd


3905 
AVCodecC⁄ãxt
 *
avcodec_Æloc_c⁄ãxt
();

3909 
©åibuã_dïªˇãd


3910 
AVCodecC⁄ãxt
 *
avcodec_Æloc_c⁄ãxt2
(
AVMedüTy≥
);

3925 
AVCodecC⁄ãxt
 *
avcodec_Æloc_c⁄ãxt3
(
AVCodec
 *
codec
);

3938 
avcodec_c›y_c⁄ãxt
(
AVCodecC⁄ãxt
 *
de°
, c⁄° AVCodecC⁄ãxà*
§c
);

3945 
avcodec_gë_‰ame_deÁu…s
(
AVFøme
 *
pic
);

3954 
AVFøme
 *
avcodec_Æloc_‰ame
();

3956 
avcodec_deÁu…_gë_buf„r
(
AVCodecC⁄ãxt
 *
s
, 
AVFøme
 *
pic
);

3957 
avcodec_deÁu…_ªÀa£_buf„r
(
AVCodecC⁄ãxt
 *
s
, 
AVFøme
 *
pic
);

3958 
avcodec_deÁu…_ªgë_buf„r
(
AVCodecC⁄ãxt
 *
s
, 
AVFøme
 *
pic
);

3967 
avcodec_gë_edge_width
();

3977 
avcodec_Æign_dimísi⁄s
(
AVCodecC⁄ãxt
 *
s
, *
width
, *
height
);

3987 
avcodec_Æign_dimísi⁄s2
(
AVCodecC⁄ãxt
 *
s
, *
width
, *
height
,

3988 
löesize_Æign
[
AV_NUM_DATA_POINTERS
]);

3990 
PixñF‹m©
 
avcodec_deÁu…_gë_f‹m©
(
AVCodecC⁄ãxt
 *
s
, c⁄° PixñF‹m© * 
fmt
);

3992 #i‡
FF_API_THREAD_INIT


3996 
©åibuã_dïªˇãd


3997 
avcodec_thªad_öô
(
AVCodecC⁄ãxt
 *
s
, 
thªad_cou¡
);

4000 
avcodec_deÁu…_execuã
(
AVCodecC⁄ãxt
 *
c
, (*
func
)(AVCodecC⁄ãxà*
c2
, *
¨g2
),*
¨g
, *
ªt
, 
cou¡
, 
size
);

4001 
	`avcodec_deÁu…_execuã2
(
AVCodecC⁄ãxt
 *
c
, (*
func
)(AVCodecC⁄ãxà*
c2
, *
¨g2
, , ),*
¨g
, *
ªt
, 
cou¡
);

4004 #i‡
FF_API_AVCODEC_OPEN


4034 
©åibuã_dïªˇãd


4035 
	`avcodec_›í
(
AVCodecC⁄ãxt
 *
av˘x
, 
AVCodec
 *
codec
);

4074 
	`avcodec_›í2
(
AVCodecC⁄ãxt
 *
av˘x
, 
AVCodec
 *
codec
, 
AVDi˘i⁄¨y
 **
›ti⁄s
);

4076 #i‡
FF_API_OLD_DECODE_AUDIO


4131 
©åibuã_dïªˇãd
 
	`avcodec_decode_audio3
(
AVCodecC⁄ãxt
 *
av˘x
, 
öt16_t
 *
ßm∂es
,

4132 *
‰ame_size_±r
,

4133 
AVPackë
 *
avpkt
);

4169 
	`avcodec_decode_audio4
(
AVCodecC⁄ãxt
 *
av˘x
, 
AVFøme
 *
‰ame
,

4170 *
gŸ_‰ame_±r
, 
AVPackë
 *
avpkt
);

4213 
	`avcodec_decode_video2
(
AVCodecC⁄ãxt
 *
av˘x
, 
AVFøme
 *
pi˘uª
,

4214 *
gŸ_pi˘uª_±r
,

4215 
AVPackë
 *
avpkt
);

4233 
	`avcodec_decode_subtôÀ2
(
AVCodecC⁄ãxt
 *
av˘x
, 
AVSubtôÀ
 *
sub
,

4234 *
gŸ_sub_±r
,

4235 
AVPackë
 *
avpkt
);

4242 
	`avsubtôÀ_‰ì
(
AVSubtôÀ
 *
sub
);

4244 #i‡
FF_API_OLD_ENCODE_AUDIO


4269 
©åibuã_dïªˇãd
 
	`avcodec_ícode_audio
(
AVCodecC⁄ãxt
 *
av˘x
,

4270 
uöt8_t
 *
buf
, 
buf_size
,

4271 c⁄° *
ßm∂es
);

4312 
	`avcodec_ícode_audio2
(
AVCodecC⁄ãxt
 *
av˘x
, 
AVPackë
 *
avpkt
,

4313 c⁄° 
AVFøme
 *
‰ame
, *
gŸ_∑ckë_±r
);

4331 
	`avcodec_fûl_audio_‰ame
(
AVFøme
 *
‰ame
, 
nb_ch™√ls
,

4332 
AVSam∂eF‹m©
 
ßm∂e_fmt
, c⁄° 
uöt8_t
 *
buf
,

4333 
buf_size
, 
Æign
);

4347 
	`avcodec_ícode_video
(
AVCodecC⁄ãxt
 *
av˘x
, 
uöt8_t
 *
buf
, 
buf_size
,

4348 c⁄° 
AVFøme
 *
pi˘
);

4349 
	`avcodec_ícode_subtôÀ
(
AVCodecC⁄ãxt
 *
av˘x
, 
uöt8_t
 *
buf
, 
buf_size
,

4350 c⁄° 
AVSubtôÀ
 *
sub
);

4361 
	`avcodec_˛o£
(
AVCodecC⁄ãxt
 *
av˘x
);

4373 
	`avcodec_ªgi°î_Æl
();

4378 
	`avcodec_Êush_buf„rs
(
AVCodecC⁄ãxt
 *
av˘x
);

4380 
	`avcodec_deÁu…_‰ì_buf„rs
(
AVCodecC⁄ãxt
 *
s
);

4384 #i‡
FF_API_OLD_FF_PICT_TYPES


4392 
©åibuã_dïªˇãd


4393 
	`av_gë_pi˘_ty≥_ch¨
(
pi˘_ty≥
);

4402 
	`av_gë_bôs_≥r_ßm∂e
(
CodecID
 
codec_id
);

4404 #i‡
FF_API_OLD_SAMPLE_FMT


4408 
©åibuã_dïªˇãd


4409 
	`av_gë_bôs_≥r_ßm∂e_f‹m©
(
AVSam∂eF‹m©
 
ßm∂e_fmt
);

4413 
	sAVCodecP¨£rC⁄ãxt
 {

4414 *
¥iv_d©a
;

4415 
AVCodecP¨£r
 *
∑r£r
;

4416 
öt64_t
 
‰ame_off£t
;

4417 
öt64_t
 
cur_off£t
;

4419 
öt64_t
 
√xt_‰ame_off£t
;

4421 
pi˘_ty≥
;

4431 
ª≥©_pi˘
;

4432 
öt64_t
 
±s
;

4433 
öt64_t
 
dts
;

4436 
öt64_t
 
œ°_±s
;

4437 
öt64_t
 
œ°_dts
;

4438 
„tch_time°amp
;

4440 
	#AV_PARSER_PTS_NB
 4

	)

4441 
cur_‰ame_°¨t_ödex
;

4442 
öt64_t
 
cur_‰ame_off£t
[
AV_PARSER_PTS_NB
];

4443 
öt64_t
 
cur_‰ame_±s
[
AV_PARSER_PTS_NB
];

4444 
öt64_t
 
cur_‰ame_dts
[
AV_PARSER_PTS_NB
];

4446 
Êags
;

4447 
	#PARSER_FLAG_COMPLETE_FRAMES
 0x0001

	)

4448 
	#PARSER_FLAG_ONCE
 0x0002

	)

4450 
	#PARSER_FLAG_FETCHED_OFFSET
 0x0004

	)

4452 
öt64_t
 
off£t
;

4453 
öt64_t
 
cur_‰ame_íd
[
AV_PARSER_PTS_NB
];

4461 
key_‰ame
;

4480 
öt64_t
 
c⁄vîgí˚_duøti⁄
;

4492 
dts_sync_poöt
;

4507 
dts_ªf_dts_dñè
;

4521 
±s_dts_dñè
;

4528 
öt64_t
 
cur_‰ame_pos
[
AV_PARSER_PTS_NB
];

4533 
öt64_t
 
pos
;

4538 
öt64_t
 
œ°_pos
;

4539 } 
	tAVCodecP¨£rC⁄ãxt
;

4541 
	sAVCodecP¨£r
 {

4542 
codec_ids
[5];

4543 
¥iv_d©a_size
;

4544 (*
∑r£r_öô
)(
AVCodecP¨£rC⁄ãxt
 *
s
);

4545 (*
∑r£r_∑r£
)(
AVCodecP¨£rC⁄ãxt
 *
s
,

4546 
AVCodecC⁄ãxt
 *
av˘x
,

4547 c⁄° 
uöt8_t
 **
poutbuf
, *
poutbuf_size
,

4548 c⁄° 
uöt8_t
 *
buf
, 
buf_size
);

4549 (*
∑r£r_˛o£
)(
AVCodecP¨£rC⁄ãxt
 *
s
);

4550 (*
•lô
)(
AVCodecC⁄ãxt
 *
av˘x
, c⁄° 
uöt8_t
 *
buf
, 
buf_size
);

4551 
AVCodecP¨£r
 *
√xt
;

4552 } 
	tAVCodecP¨£r
;

4554 
AVCodecP¨£r
 *
	`av_∑r£r_√xt
(AVCodecP¨£∏*
c
);

4556 
	`av_ªgi°î_codec_∑r£r
(
AVCodecP¨£r
 *
∑r£r
);

4557 
AVCodecP¨£rC⁄ãxt
 *
	`av_∑r£r_öô
(
codec_id
);

4587 
	`av_∑r£r_∑r£2
(
AVCodecP¨£rC⁄ãxt
 *
s
,

4588 
AVCodecC⁄ãxt
 *
av˘x
,

4589 
uöt8_t
 **
poutbuf
, *
poutbuf_size
,

4590 c⁄° 
uöt8_t
 *
buf
, 
buf_size
,

4591 
öt64_t
 
±s
, i¡64_à
dts
,

4592 
öt64_t
 
pos
);

4594 
	`av_∑r£r_ch™ge
(
AVCodecP¨£rC⁄ãxt
 *
s
,

4595 
AVCodecC⁄ãxt
 *
av˘x
,

4596 
uöt8_t
 **
poutbuf
, *
poutbuf_size
,

4597 c⁄° 
uöt8_t
 *
buf
, 
buf_size
, 
key‰ame
);

4598 
	`av_∑r£r_˛o£
(
AVCodecP¨£rC⁄ãxt
 *
s
);

4601 
	sAVBôSåómFûãrC⁄ãxt
 {

4602 *
¥iv_d©a
;

4603 
AVBôSåómFûãr
 *
fûãr
;

4604 
AVCodecP¨£rC⁄ãxt
 *
∑r£r
;

4605 
AVBôSåómFûãrC⁄ãxt
 *
√xt
;

4606 } 
	tAVBôSåómFûãrC⁄ãxt
;

4609 
	sAVBôSåómFûãr
 {

4610 c⁄° *
«me
;

4611 
¥iv_d©a_size
;

4612 (*
fûãr
)(
AVBôSåómFûãrC⁄ãxt
 *
bsfc
,

4613 
AVCodecC⁄ãxt
 *
av˘x
, c⁄° *
¨gs
,

4614 
uöt8_t
 **
poutbuf
, *
poutbuf_size
,

4615 c⁄° 
uöt8_t
 *
buf
, 
buf_size
, 
key‰ame
);

4616 (*
˛o£
)(
AVBôSåómFûãrC⁄ãxt
 *
bsfc
);

4617 
AVBôSåómFûãr
 *
√xt
;

4618 } 
	tAVBôSåómFûãr
;

4620 
	`av_ªgi°î_bô°ªam_fûãr
(
AVBôSåómFûãr
 *
bsf
);

4621 
AVBôSåómFûãrC⁄ãxt
 *
	`av_bô°ªam_fûãr_öô
(c⁄° *
«me
);

4622 
	`av_bô°ªam_fûãr_fûãr
(
AVBôSåómFûãrC⁄ãxt
 *
bsfc
,

4623 
AVCodecC⁄ãxt
 *
av˘x
, c⁄° *
¨gs
,

4624 
uöt8_t
 **
poutbuf
, *
poutbuf_size
,

4625 c⁄° 
uöt8_t
 *
buf
, 
buf_size
, 
key‰ame
);

4626 
	`av_bô°ªam_fûãr_˛o£
(
AVBôSåómFûãrC⁄ãxt
 *
bsf
);

4628 
AVBôSåómFûãr
 *
	`av_bô°ªam_fûãr_√xt
(AVBôSåómFûã∏*
f
);

4637 *
	`av_Á°_ªÆloc
(*
±r
, *
size
, 
size_t
 
mö_size
);

4651 
	`av_Á°_mÆloc
(*
±r
, *
size
, 
size_t
 
mö_size
);

4656 
	`av_pi˘uª_c›y
(
AVPi˘uª
 *
d°
, c⁄° AVPi˘uª *
§c
,

4657 
PixñF‹m©
 
pix_fmt
, 
width
, 
height
);

4662 
	`av_pi˘uª_¸›
(
AVPi˘uª
 *
d°
, c⁄° AVPi˘uª *
§c
,

4663 
PixñF‹m©
 
pix_fmt
, 
t›_b™d
, 
À·_b™d
);

4668 
	`av_pi˘uª_∑d
(
AVPi˘uª
 *
d°
, c⁄° AVPi˘uª *
§c
, 
height
, 
width
, 
PixñF‹m©
 
pix_fmt
,

4669 
∑dt›
, 
∑dbŸtom
, 
∑dÀ·
, 
∑dright
, *
cﬁ‹
);

4678 
	`av_xùhœcög
(*
s
, 
v
);

4692 
	`av_log_missög_„©uª
(*
avc
, c⁄° *
„©uª
, 
w™t_ßm∂e
);

4702 
	$av_log_ask_f‹_ßm∂e
(*
avc
, c⁄° *
msg
, ...Ë
	`av_¥ötf_f‹m©
(2, 3);

4707 
	`av_ªgi°î_hwac˚l
(
AVHWAc˚l
 *
hwac˚l
);

4714 
AVHWAc˚l
 *
	`av_hwac˚l_√xt
(AVHWAc˚»*
hwac˚l
);

4720 
	eAVLockOp
 {

4721 
AV_LOCK_CREATE
,

4722 
AV_LOCK_OBTAIN
,

4723 
AV_LOCK_RELEASE
,

4724 
AV_LOCK_DESTROY
,

4740 
	`av_lockmgr_ªgi°î
((*
cb
)(**
muãx
, 
AVLockOp
 
›
));

4745 
AVMedüTy≥
 
	`avcodec_gë_ty≥
(
CodecID
 
codec_id
);

4753 c⁄° 
AVCœss
 *
	`avcodec_gë_˛ass
();

4759 
	`avcodec_is_›í
(
AVCodecC⁄ãxt
 *
s
);

	@/usr/include/libavformat/avformat.h

21 #i‚de‡
AVFORMAT_AVFORMAT_H


22 
	#AVFORMAT_AVFORMAT_H


	)

138 
	~<time.h
>

139 
	~<°dio.h
>

140 
	~"libavcodec/avcodec.h
"

141 
	~"libavutû/di˘.h
"

142 
	~"libavutû/log.h
"

144 
	~"avio.h
"

145 
	~"libavf‹m©/vîsi⁄.h
"

147 
	gAVF‹m©C⁄ãxt
;

223 #i‡
FF_API_OLD_METADATA2


231 
	#AV_METADATA_MATCH_CASE
 
AV_DICT_MATCH_CASE


	)

232 
	#AV_METADATA_IGNORE_SUFFIX
 
AV_DICT_IGNORE_SUFFIX


	)

233 
	#AV_METADATA_DONT_STRDUP_KEY
 
AV_DICT_DONT_STRDUP_KEY


	)

234 
	#AV_METADATA_DONT_STRDUP_VAL
 
AV_DICT_DONT_STRDUP_VAL


	)

235 
	#AV_METADATA_DONT_OVERWRITE
 
AV_DICT_DONT_OVERWRITE


	)

237 
©åibuã_dïªˇãd
 
	tAVDi˘i⁄¨y
 
	tAVMëad©a
;

238 
©åibuã_dïªˇãd
 
	tAVDi˘i⁄¨yE¡ry
 
	tAVMëad©aTag
;

240 
AVMëad©aC⁄v
 
	tAVMëad©aC⁄v
;

250 
©åibuã_dïªˇãd
 
AVDi˘i⁄¨yE¡ry
 *

251 
av_mëad©a_gë
(
AVDi˘i⁄¨y
 *
m
, c⁄° *
key
, c⁄° 
AVDi˘i⁄¨yE¡ry
 *
¥ev
, 
Êags
);

263 
©åibuã_dïªˇãd
 
av_mëad©a_£t2
(
AVDi˘i⁄¨y
 **
pm
, c⁄° *
key
, c⁄° *
vÆue
, 
Êags
);

268 
©åibuã_dïªˇãd
 
av_mëad©a_c⁄v
(
AVF‹m©C⁄ãxt
 *
˘x
, c⁄° 
AVMëad©aC⁄v
 *
d_c⁄v
,

269 c⁄° 
AVMëad©aC⁄v
 *
s_c⁄v
);

279 
©åibuã_dïªˇãd
 
av_mëad©a_c›y
(
AVDi˘i⁄¨y
 **
d°
, AVDi˘i⁄¨y *
§c
, 
Êags
);

284 
©åibuã_dïªˇãd
 
av_mëad©a_‰ì
(
AVDi˘i⁄¨y
 **
m
);

302 
av_gë_∑ckë
(
AVIOC⁄ãxt
 *
s
, 
AVPackë
 *
pkt
, 
size
);

318 
av_≠≥nd_∑ckë
(
AVIOC⁄ãxt
 *
s
, 
AVPackë
 *
pkt
, 
size
);

327 
	sAVFøc
 {

328 
öt64_t
 
	mvÆ
, 
	mnum
, 
	mdí
;

329 } 
	tAVFøc
;

334 
	gAVCodecTag
;

339 
	sAVProbeD©a
 {

340 c⁄° *
	mfûíame
;

341 *
	mbuf
;

342 
	mbuf_size
;

343 } 
	tAVProbeD©a
;

345 
	#AVPROBE_SCORE_MAX
 100

346 
	#AVPROBE_PADDING_SIZE
 32

347 

	)

348 
	sAVF‹m©P¨amëîs
 {

349 #i‡
FF_API_FORMAT_PARAMETERS


350 
©åibuã_dïªˇãd
 
AVR©i⁄Æ
 
	mtime_ba£
;

351 
©åibuã_dïªˇãd
 
	mßm∂e_øã
;

352 
©åibuã_dïªˇãd
 
	mch™√ls
;

353 
©åibuã_dïªˇãd
 
	mwidth
;

354 
©åibuã_dïªˇãd
 
	mheight
;

355 
©åibuã_dïªˇãd
 
PixñF‹m©
 
	mpix_fmt
;

356 
©åibuã_dïªˇãd
 
	mch™√l
;

357 
©åibuã_dïªˇãd
 c⁄° *
	m°™d¨d
;

358 
©åibuã_dïªˇãd
 
	mm≥g2ts_øw
:1;

360 
©åibuã_dïªˇãd
 
	mm≥g2ts_compuã_p¸
:1;

361 
©åibuã_dïªˇãd
 
	möôül_∑u£
:1;

363 
©åibuã_dïªˇãd
 
	m¥óŒo˚d_c⁄ãxt
:1;

365 } 
	tAVF‹m©P¨amëîs
;

368 
	#AVFMT_NOFILE
 0x0001

	)

369 
	#AVFMT_NEEDNUMBER
 0x0002

	)

370 
	#AVFMT_SHOW_IDS
 0x0008

	)

371 
	#AVFMT_RAWPICTURE
 0x0020

	)

373 
	#AVFMT_GLOBALHEADER
 0x0040

	)

374 
	#AVFMT_NOTIMESTAMPS
 0x0080

	)

375 
	#AVFMT_GENERIC_INDEX
 0x0100

	)

376 
	#AVFMT_TS_DISCONT
 0x0200

	)

377 
	#AVFMT_VARIABLE_FPS
 0x0400

	)

378 
	#AVFMT_NODIMENSIONS
 0x0800

	)

379 
	#AVFMT_NOSTREAMS
 0x1000

	)

380 
	#AVFMT_NOBINSEARCH
 0x2000

	)

381 
	#AVFMT_NOGENSEARCH
 0x4000

	)

382 
	#AVFMT_NO_BYTE_SEEK
 0x8000

	)

388 
	sAVOuçutF‹m©
 {

389 c⁄° *
	m«me
;

395 c⁄° *
	ml⁄g_«me
;

396 c⁄° *
	mmime_ty≥
;

397 c⁄° *
	mexãnsi⁄s
;

401 
	m¥iv_d©a_size
;

403 
CodecID
 
	maudio_codec
;

404 
CodecID
 
	mvideo_codec
;

405 (*
	mwrôe_hódî
)(
	mAVF‹m©C⁄ãxt
 *);

406 (*
	mwrôe_∑ckë
)(
	mAVF‹m©C⁄ãxt
 *, 
AVPackë
 *
	mpkt
);

407 (*
	mwrôe_åaûî
)(
	mAVF‹m©C⁄ãxt
 *);

413 
	mÊags
;

417 (*
	m£t_∑ømëîs
)(
	mAVF‹m©C⁄ãxt
 *, 
	mAVF‹m©P¨amëîs
 *);

418 (*
	möãæóve_∑ckë
)(
	mAVF‹m©C⁄ãxt
 *, 
AVPackë
 *
	mout
,

419 
AVPackë
 *
	mö
, 
	mÊush
);

425 c⁄° 
AVCodecTag
 * c⁄° *
	mcodec_èg
;

427 
CodecID
 
	msubtôÀ_codec
;

429 #i‡
FF_API_OLD_METADATA2


430 c⁄° 
AVMëad©aC⁄v
 *
	mmëad©a_c⁄v
;

433 c⁄° 
AVCœss
 *
	m¥iv_˛ass
;

441 (*
	mquîy_codec
)(
CodecID
 
	mid
, 
	m°d_com∂ün˚
);

444 
AVOuçutF‹m©
 *
	m√xt
;

445 } 
	tAVOuçutF‹m©
;

454 
	sAVI≈utF‹m©
 {

459 c⁄° *
	m«me
;

466 c⁄° *
	ml⁄g_«me
;

471 
	m¥iv_d©a_size
;

478 (*
	mªad_¥obe
)(
	mAVProbeD©a
 *);

486 (*
	mªad_hódî
)(
	mAVF‹m©C⁄ãxt
 *,

487 
AVF‹m©P¨amëîs
 *
	m≠
);

498 (*
	mªad_∑ckë
)(
	mAVF‹m©C⁄ãxt
 *, 
AVPackë
 *
	mpkt
);

504 (*
	mªad_˛o£
)(
	mAVF‹m©C⁄ãxt
 *);

514 (*
	mªad_£ek
)(
	mAVF‹m©C⁄ãxt
 *,

515 
	m°ªam_ödex
, 
öt64_t
 
	mtime°amp
, 
	mÊags
);

521 
öt64_t
 (*
ªad_time°amp
)(
AVF‹m©C⁄ãxt
 *
	ms
, 
	m°ªam_ödex
,

522 
öt64_t
 *
	mpos
, i¡64_à
	mpos_limô
);

529 
	mÊags
;

536 c⁄° *
	mexãnsi⁄s
;

541 
	mvÆue
;

547 (*
	mªad_∂ay
)(
	mAVF‹m©C⁄ãxt
 *);

553 (*
	mªad_∑u£
)(
	mAVF‹m©C⁄ãxt
 *);

555 c⁄° 
AVCodecTag
 * c⁄° *
	mcodec_èg
;

563 (*
	mªad_£ek2
)(
AVF‹m©C⁄ãxt
 *
	ms
, 
	m°ªam_ödex
, 
öt64_t
 
	mmö_ts
, i¡64_à
	mts
, i¡64_à
	mmax_ts
, 
	mÊags
);

565 #i‡
FF_API_OLD_METADATA2


566 c⁄° 
AVMëad©aC⁄v
 *
	mmëad©a_c⁄v
;

569 c⁄° 
AVCœss
 *
	m¥iv_˛ass
;

572 
AVI≈utF‹m©
 *
	m√xt
;

573 } 
	tAVI≈utF‹m©
;

578 
	eAVSåómP¨£Ty≥
 {

579 
	mAVSTREAM_PARSE_NONE
,

580 
	mAVSTREAM_PARSE_FULL
,

581 
	mAVSTREAM_PARSE_HEADERS
,

582 
	mAVSTREAM_PARSE_TIMESTAMPS
,

583 
	mAVSTREAM_PARSE_FULL_ONCE
,

586 
	sAVIndexE¡ry
 {

587 
öt64_t
 
	mpos
;

588 
öt64_t
 
	mtime°amp
;

589 
	#AVINDEX_KEYFRAME
 0x0001

	)

590 
	mÊags
:2;

591 
	msize
:30;

592 
	mmö_di°™˚
;

593 } 
	tAVIndexE¡ry
;

595 
	#AV_DISPOSITION_DEFAULT
 0x0001

	)

596 
	#AV_DISPOSITION_DUB
 0x0002

	)

597 
	#AV_DISPOSITION_ORIGINAL
 0x0004

	)

598 
	#AV_DISPOSITION_COMMENT
 0x0008

	)

599 
	#AV_DISPOSITION_LYRICS
 0x0010

	)

600 
	#AV_DISPOSITION_KARAOKE
 0x0020

	)

607 
	#AV_DISPOSITION_FORCED
 0x0040

	)

608 
	#AV_DISPOSITION_HEARING_IMPAIRED
 0x0080

	)

609 
	#AV_DISPOSITION_VISUAL_IMPAIRED
 0x0100

	)

610 
	#AV_DISPOSITION_CLEAN_EFFECTS
 0x0200

	)

619 
	sAVSåóm
 {

620 
	mödex
;

621 
	mid
;

622 
AVCodecC⁄ãxt
 *
	mcodec
;

631 
AVR©i⁄Æ
 
	mr_‰ame_øã
;

632 *
	m¥iv_d©a
;

634 #i‡
FF_API_REORDER_PRIVATE


636 
öt64_t
 
	mfú°_dts
;

642 
AVFøc
 
	m±s
;

651 
AVR©i⁄Æ
 
	mtime_ba£
;

652 #i‡
FF_API_REORDER_PRIVATE


653 
	m±s_wøp_bôs
;

655 #i‡
FF_API_STREAM_COPY


657 
©åibuã_dïªˇãd
 
	m°ªam_c›y
;

659 
AVDisˇrd
 
	mdisˇrd
;

661 #i‡
FF_API_AVSTREAM_QUALITY


667 
©åibuã_dïªˇãd
 
	mquÆôy
;

676 
öt64_t
 
	m°¨t_time
;

683 
öt64_t
 
	mduøti⁄
;

685 #i‡
FF_API_REORDER_PRIVATE


687 
AVSåómP¨£Ty≥
 
	m√ed_∑rsög
;

688 
AVCodecP¨£rC⁄ãxt
 *
	m∑r£r
;

690 
öt64_t
 
	mcur_dts
;

691 
	mœ°_IP_duøti⁄
;

692 
öt64_t
 
	mœ°_IP_±s
;

694 
AVIndexE¡ry
 *
	mödex_íåõs
;

696 
	mnb_ödex_íåõs
;

697 
	mödex_íåõs_Æloˇãd_size
;

700 
öt64_t
 
	mnb_‰ames
;

702 
	mdi•osôi⁄
;

704 #i‡
FF_API_REORDER_PRIVATE


705 
AVProbeD©a
 
	m¥obe_d©a
;

706 
	#MAX_REORDER_DELAY
 16

	)

707 
öt64_t
 
	m±s_buf„r
[
MAX_REORDER_DELAY
+1];

715 
AVR©i⁄Æ
 
	mßm∂e_a•e˘_øtio
;

717 
AVDi˘i⁄¨y
 *
	mmëad©a
;

719 #i‡
FF_API_REORDER_PRIVATE


722 c⁄° 
uöt8_t
 *
	mcur_±r
;

723 
	mcur_Àn
;

724 
AVPackë
 
	mcur_pkt
;

734 
öt64_t
 
	mª„ªn˚_dts
;

740 
	#MAX_PROBE_PACKETS
 2500

	)

741 
	m¥obe_∑ckës
;

748 
AVPackëLi°
 *
	mœ°_ö_∑ckë_buf„r
;

754 
AVR©i⁄Æ
 
	mavg_‰ame_øã
;

767 
	mcodec_öfo_nb_‰ames
;

772 
	#MAX_STD_TIMEBASES
 (60*12+5)

	)

774 
öt64_t
 
	mœ°_dts
;

775 
öt64_t
 
	mduøti⁄_gcd
;

776 
	mduøti⁄_cou¡
;

777 
	mduøti⁄_îr‹
[
MAX_STD_TIMEBASES
];

778 
öt64_t
 
	mcodec_öfo_duøti⁄
;

779 
	mnb_decoded_‰ames
;

780 } *
	möfo
;

781 #i‡!
FF_API_REORDER_PRIVATE


782 c⁄° 
uöt8_t
 *
	mcur_±r
;

783 
	mcur_Àn
;

784 
AVPackë
 
	mcur_pkt
;

794 
öt64_t
 
	mª„ªn˚_dts
;

795 
öt64_t
 
	mfú°_dts
;

796 
öt64_t
 
	mcur_dts
;

797 
	mœ°_IP_duøti⁄
;

798 
öt64_t
 
	mœ°_IP_±s
;

803 
	#MAX_PROBE_PACKETS
 2500

	)

804 
	m¥obe_∑ckës
;

809 
AVPackëLi°
 *
	mœ°_ö_∑ckë_buf„r
;

810 
AVProbeD©a
 
	m¥obe_d©a
;

811 
	#MAX_REORDER_DELAY
 16

	)

812 
öt64_t
 
	m±s_buf„r
[
MAX_REORDER_DELAY
+1];

814 
AVSåómP¨£Ty≥
 
	m√ed_∑rsög
;

815 
AVCodecP¨£rC⁄ãxt
 *
	m∑r£r
;

817 
AVIndexE¡ry
 *
	mödex_íåõs
;

819 
	mnb_ödex_íåõs
;

820 
	mödex_íåõs_Æloˇãd_size
;

822 
	m±s_wøp_bôs
;

824 } 
	tAVSåóm
;

826 
	#AV_PROGRAM_RUNNING
 1

	)

834 
	sAVProgøm
 {

835 
	mid
;

836 
	mÊags
;

837 
AVDisˇrd
 
	mdisˇrd
;

838 *
	m°ªam_ödex
;

839 
	mnb_°ªam_ödexes
;

840 
AVDi˘i⁄¨y
 *
	mmëad©a
;

841 } 
	tAVProgøm
;

843 
	#AVFMTCTX_NOHEADER
 0x0001

	)

846 
	sAVCh≠ãr
 {

847 
	mid
;

848 
AVR©i⁄Æ
 
	mtime_ba£
;

849 
öt64_t
 
	m°¨t
, 
	míd
;

850 
AVDi˘i⁄¨y
 *
	mmëad©a
;

851 } 
	tAVCh≠ãr
;

861 
	sAVF‹m©C⁄ãxt
 {

866 c⁄° 
AVCœss
 *
	mav_˛ass
;

874 
AVI≈utF‹m©
 *
	mif‹m©
;

875 
AVOuçutF‹m©
 *
	mof‹m©
;

881 *
	m¥iv_d©a
;

894 
AVIOC⁄ãxt
 *
	mpb
;

905 
	mnb_°ªams
;

906 
AVSåóm
 **
	m°ªams
;

908 
	mfûíame
[1024];

910 #i‡
FF_API_TIMESTAMP


914 
©åibuã_dïªˇãd
 
öt64_t
 
	mtime°amp
;

917 
	m˘x_Êags
;

918 #i‡
FF_API_REORDER_PRIVATE


925 
AVPackëLi°
 *
	m∑ckë_buf„r
;

933 
öt64_t
 
	m°¨t_time
;

941 
öt64_t
 
	mduøti⁄
;

943 #i‡
FF_API_FILESIZE


947 
©åibuã_dïªˇãd
 
öt64_t
 
	mfûe_size
;

955 
	mbô_øã
;

957 #i‡
FF_API_REORDER_PRIVATE


959 
AVSåóm
 *
	mcur_°
;

962 
öt64_t
 
	md©a_off£t
;

965 #i‡
FF_API_MUXRATE


969 
©åibuã_dïªˇãd
 
	mmux_øã
;

971 
	m∑ckë_size
;

972 #i‡
FF_API_PRELOAD


973 
©åibuã_dïªˇãd
 
	m¥ñﬂd
;

975 
	mmax_dñay
;

977 #i‡
FF_API_LOOP_OUTPUT


978 
	#AVFMT_NOOUTPUTLOOP
 -1

	)

979 
	#AVFMT_INFINITEOUTPUTLOOP
 0

	)

985 
©åibuã_dïªˇãd
 
	mlo›_ouçut
;

988 
	mÊags
;

989 
	#AVFMT_FLAG_GENPTS
 0x0001

990 
	#AVFMT_FLAG_IGNIDX
 0x0002

991 
	#AVFMT_FLAG_NONBLOCK
 0x0004

992 
	#AVFMT_FLAG_IGNDTS
 0x0008

993 
	#AVFMT_FLAG_NOFILLIN
 0x0010

994 
	#AVFMT_FLAG_NOPARSE
 0x0020

995 #i‡
FF_API_FLAG_RTP_HINT


	)

996 
	#AVFMT_FLAG_RTP_HINT
 0x0040

998 
	#AVFMT_FLAG_CUSTOM_IO
 0x0080

999 
	#AVFMT_FLAG_DISCARD_CORRUPT
 0x0100

1000 

	)

1001 #i‡
FF_API_LOOP_INPUT


1005 
©åibuã_dïªˇãd
 
	mlo›_öput
;

1011 
	m¥obesize
;

1017 
	mmax_™Æyze_duøti⁄
;

1019 c⁄° 
uöt8_t
 *
	mkey
;

1020 
	mkeyÀn
;

1022 
	mnb_¥ogøms
;

1023 
AVProgøm
 **
	m¥ogøms
;

1029 
CodecID
 
	mvideo_codec_id
;

1035 
CodecID
 
	maudio_codec_id
;

1041 
CodecID
 
	msubtôÀ_codec_id
;

1053 
	mmax_ödex_size
;

1059 
	mmax_pi˘uª_buf„r
;

1061 
	mnb_ch≠ãrs
;

1062 
AVCh≠ãr
 **
	mch≠ãrs
;

1067 
	mdebug
;

1068 
	#FF_FDEBUG_TS
 0x0001

	)

1070 #i‡
FF_API_REORDER_PRIVATE


1077 
AVPackëLi°
 *
	møw_∑ckë_buf„r
;

1078 
AVPackëLi°
 *
	møw_∑ckë_buf„r_íd
;

1080 
AVPackëLi°
 *
	m∑ckë_buf„r_íd
;

1083 
AVDi˘i⁄¨y
 *
	mmëad©a
;

1085 #i‡
FF_API_REORDER_PRIVATE


1090 
	#RAW_PACKET_BUFFER_SIZE
 2500000

	)

1091 
	møw_∑ckë_buf„r_ªmaöög_size
;

1101 
öt64_t
 
	m°¨t_time_ªÆtime
;

1106 
	mÂs_¥obe_size
;

1114 
	mîr‹_ªcognôi⁄
;

1125 
AVIOI¡îru±CB
 
	möãºu±_ˇŒback
;

1134 #i‡!
FF_API_REORDER_PRIVATE


1141 
AVPackëLi°
 *
	møw_∑ckë_buf„r
;

1142 
AVPackëLi°
 *
	møw_∑ckë_buf„r_íd
;

1146 
	#RAW_PACKET_BUFFER_SIZE
 2500000

	)

1147 
	møw_∑ckë_buf„r_ªmaöög_size
;

1154 
AVPackëLi°
 *
	m∑ckë_buf„r
;

1155 
AVPackëLi°
 *
	m∑ckë_buf„r_íd
;

1158 
AVSåóm
 *
	mcur_°
;

1161 
öt64_t
 
	md©a_off£t
;

1163 } 
	tAVF‹m©C⁄ãxt
;

1165 
	sAVPackëLi°
 {

1166 
AVPackë
 
	mpkt
;

1167 
AVPackëLi°
 *
	m√xt
;

1168 } 
	tAVPackëLi°
;

1183 
avf‹m©_vîsi⁄
();

1188 c⁄° *
avf‹m©_c⁄figuøti⁄
();

1193 c⁄° *
avf‹m©_li˚n£
();

1204 
av_ªgi°î_Æl
();

1206 
av_ªgi°î_öput_f‹m©
(
AVI≈utF‹m©
 *
f‹m©
);

1207 
av_ªgi°î_ouçut_f‹m©
(
AVOuçutF‹m©
 *
f‹m©
);

1217 
avf‹m©_√tw‹k_öô
();

1222 
avf‹m©_√tw‹k_deöô
();

1229 
AVI≈utF‹m©
 *
av_if‹m©_√xt
(AVI≈utF‹m© *
f
);

1236 
AVOuçutF‹m©
 *
av_of‹m©_√xt
(AVOuçutF‹m© *
f
);

1243 
AVF‹m©C⁄ãxt
 *
avf‹m©_Æloc_c⁄ãxt
();

1249 
avf‹m©_‰ì_c⁄ãxt
(
AVF‹m©C⁄ãxt
 *
s
);

1257 c⁄° 
AVCœss
 *
avf‹m©_gë_˛ass
();

1274 
AVSåóm
 *
avf‹m©_√w_°ªam
(
AVF‹m©C⁄ãxt
 *
s
, 
AVCodec
 *
c
);

1276 
AVProgøm
 *
av_√w_¥ogøm
(
AVF‹m©C⁄ãxt
 *
s
, 
id
);

1283 #i‡
FF_API_GUESS_IMG2_CODEC


1284 
©åibuã_dïªˇãd
 
CodecID
 
av_guess_image2_codec
(c⁄° *
fûíame
);

1287 #i‡
FF_API_PKT_DUMP


1288 
©åibuã_dïªˇãd
 
av_pkt_dump
(
FILE
 *
f
, 
AVPackë
 *
pkt
, 
dump_∑ylﬂd
);

1289 
©åibuã_dïªˇãd
 
av_pkt_dump_log
(*
av˛
, 
Àvñ
, 
AVPackë
 *
pkt
,

1290 
dump_∑ylﬂd
);

1302 
AVI≈utF‹m©
 *
av_föd_öput_f‹m©
(c⁄° *
sh‹t_«me
);

1310 
AVI≈utF‹m©
 *
av_¥obe_öput_f‹m©
(
AVProbeD©a
 *
pd
, 
is_›íed
);

1323 
AVI≈utF‹m©
 *
av_¥obe_öput_f‹m©2
(
AVProbeD©a
 *
pd
, 
is_›íed
, *
sc‹e_max
);

1340 
av_¥obe_öput_buf„r
(
AVIOC⁄ãxt
 *
pb
, 
AVI≈utF‹m©
 **
fmt
,

1341 c⁄° *
fûíame
, *
log˘x
,

1342 
off£t
, 
max_¥obe_size
);

1344 #i‡
FF_API_FORMAT_PARAMETERS


1350 
©åibuã_dïªˇãd
 
av_›í_öput_°ªam
(
AVF‹m©C⁄ãxt
 **
ic_±r
,

1351 
AVIOC⁄ãxt
 *
pb
, c⁄° *
fûíame
,

1352 
AVI≈utF‹m©
 *
fmt
, 
AVF‹m©P¨amëîs
 *
≠
);

1368 
©åibuã_dïªˇãd
 
av_›í_öput_fûe
(
AVF‹m©C⁄ãxt
 **
ic_±r
, c⁄° *
fûíame
,

1369 
AVI≈utF‹m©
 *
fmt
,

1370 
buf_size
,

1371 
AVF‹m©P¨amëîs
 *
≠
);

1393 
avf‹m©_›í_öput
(
AVF‹m©C⁄ãxt
 **
ps
, c⁄° *
fûíame
, 
AVI≈utF‹m©
 *
fmt
, 
AVDi˘i⁄¨y
 **
›ti⁄s
);

1395 #i‡
FF_API_FORMAT_PARAMETERS


1411 
©åibuã_dïªˇãd


1412 
av_föd_°ªam_öfo
(
AVF‹m©C⁄ãxt
 *
ic
);

1436 
avf‹m©_föd_°ªam_öfo
(
AVF‹m©C⁄ãxt
 *
ic
, 
AVDi˘i⁄¨y
 **
›ti⁄s
);

1462 
av_föd_be°_°ªam
(
AVF‹m©C⁄ãxt
 *
ic
,

1463 
AVMedüTy≥
 
ty≥
,

1464 
w™ãd_°ªam_nb
,

1465 
ªœãd_°ªam
,

1466 
AVCodec
 **
decodî_ªt
,

1467 
Êags
);

1479 
av_ªad_∑ckë
(
AVF‹m©C⁄ãxt
 *
s
, 
AVPackë
 *
pkt
);

1505 
av_ªad_‰ame
(
AVF‹m©C⁄ãxt
 *
s
, 
AVPackë
 *
pkt
);

1518 
av_£ek_‰ame
(
AVF‹m©C⁄ãxt
 *
s
, 
°ªam_ödex
, 
öt64_t
 
time°amp
,

1519 
Êags
);

1547 
avf‹m©_£ek_fûe
(
AVF‹m©C⁄ãxt
 *
s
, 
°ªam_ödex
, 
öt64_t
 
mö_ts
, i¡64_à
ts
, i¡64_à
max_ts
, 
Êags
);

1553 
av_ªad_∂ay
(
AVF‹m©C⁄ãxt
 *
s
);

1560 
av_ªad_∑u£
(
AVF‹m©C⁄ãxt
 *
s
);

1562 #i‡
FF_API_FORMAT_PARAMETERS


1568 
©åibuã_dïªˇãd


1569 
av_˛o£_öput_°ªam
(
AVF‹m©C⁄ãxt
 *
s
);

1572 #i‡
FF_API_CLOSE_INPUT_FILE


1579 
©åibuã_dïªˇãd


1580 
av_˛o£_öput_fûe
(
AVF‹m©C⁄ãxt
 *
s
);

1587 
avf‹m©_˛o£_öput
(
AVF‹m©C⁄ãxt
 **
s
);

1592 #i‡
FF_API_NEW_STREAM


1603 
©åibuã_dïªˇãd


1604 
AVSåóm
 *
av_√w_°ªam
(
AVF‹m©C⁄ãxt
 *
s
, 
id
);

1607 #i‡
FF_API_SET_PTS_INFO


1611 
©åibuã_dïªˇãd


1612 
av_£t_±s_öfo
(
AVSåóm
 *
s
, 
±s_wøp_bôs
,

1613 
±s_num
, 
±s_dí
);

1616 
	#AVSEEK_FLAG_BACKWARD
 1

1617 
	#AVSEEK_FLAG_BYTE
 2

1618 
	#AVSEEK_FLAG_ANY
 4

1619 
	#AVSEEK_FLAG_FRAME
 8

1620 

	)

1621 #i‡
FF_API_SEEK_PUBLIC


1622 
©åibuã_dïªˇãd


1623 
av_£ek_‰ame_bö¨y
(
AVF‹m©C⁄ãxt
 *
s
, 
°ªam_ödex
,

1624 
öt64_t
 
èrgë_ts
, 
Êags
);

1625 
©åibuã_dïªˇãd


1626 
av_upd©e_cur_dts
(
AVF‹m©C⁄ãxt
 *
s
, 
AVSåóm
 *
ªf_°
, 
öt64_t
 
time°amp
);

1627 
©åibuã_dïªˇãd


1628 
öt64_t
 
av_gí_£¨ch
(
AVF‹m©C⁄ãxt
 *
s
, 
°ªam_ödex
,

1629 
öt64_t
 
èrgë_ts
, i¡64_à
pos_mö
,

1630 
öt64_t
 
pos_max
, i¡64_à
pos_limô
,

1631 
öt64_t
 
ts_mö
, i¡64_à
ts_max
,

1632 
Êags
, 
öt64_t
 *
ts_ªt
,

1633 
	$öt64_t
 (*
ªad_time°amp
)(
AVF‹m©C⁄ãxt
 *, , 
öt64_t
 *, int64_t ));

1636 #i‡
FF_API_FORMAT_PARAMETERS


1640 
©åibuã_dïªˇãd
 
	`av_£t_∑ømëîs
(
AVF‹m©C⁄ãxt
 *
s
, 
AVF‹m©P¨amëîs
 *
≠
);

1662 
	`avf‹m©_wrôe_hódî
(
AVF‹m©C⁄ãxt
 *
s
, 
AVDi˘i⁄¨y
 **
›ti⁄s
);

1664 #i‡
FF_API_FORMAT_PARAMETERS


1676 
©åibuã_dïªˇãd
 
	`av_wrôe_hódî
(
AVF‹m©C⁄ãxt
 *
s
);

1691 
	`av_wrôe_‰ame
(
AVF‹m©C⁄ãxt
 *
s
, 
AVPackë
 *
pkt
);

1717 
	`av_öãæóved_wrôe_‰ame
(
AVF‹m©C⁄ãxt
 *
s
, 
AVPackë
 *
pkt
);

1734 
	`av_öãæóve_∑ckë_≥r_dts
(
AVF‹m©C⁄ãxt
 *
s
, 
AVPackë
 *
out
,

1735 
AVPackë
 *
pkt
, 
Êush
);

1746 
	`av_wrôe_åaûî
(
AVF‹m©C⁄ãxt
 *
s
);

1760 
AVOuçutF‹m©
 *
	`av_guess_f‹m©
(c⁄° *
sh‹t_«me
,

1761 c⁄° *
fûíame
,

1762 c⁄° *
mime_ty≥
);

1767 
CodecID
 
	`av_guess_codec
(
AVOuçutF‹m©
 *
fmt
, c⁄° *
sh‹t_«me
,

1768 c⁄° *
fûíame
, c⁄° *
mime_ty≥
,

1769 
AVMedüTy≥
 
ty≥
);

1794 
	`av_hex_dump
(
FILE
 *
f
, 
uöt8_t
 *
buf
, 
size
);

1808 
	`av_hex_dump_log
(*
av˛
, 
Àvñ
, 
uöt8_t
 *
buf
, 
size
);

1818 
	`av_pkt_dump2
(
FILE
 *
f
, 
AVPackë
 *
pkt
, 
dump_∑ylﬂd
, 
AVSåóm
 *
°
);

1832 
	`av_pkt_dump_log2
(*
av˛
, 
Àvñ
, 
AVPackë
 *
pkt
, 
dump_∑ylﬂd
,

1833 
AVSåóm
 *
°
);

1842 
CodecID
 
	`av_codec_gë_id
(c⁄° 
AVCodecTag
 * c⁄° *
ègs
, 
èg
);

1851 
	`av_codec_gë_èg
(c⁄° 
AVCodecTag
 * c⁄° *
ègs
, 
CodecID
 
id
);

1853 
	`av_föd_deÁu…_°ªam_ödex
(
AVF‹m©C⁄ãxt
 *
s
);

1863 
	`av_ödex_£¨ch_time°amp
(
AVSåóm
 *
°
, 
öt64_t
 
time°amp
, 
Êags
);

1871 
	`av_add_ödex_íåy
(
AVSåóm
 *
°
, 
öt64_t
 
pos
, i¡64_à
time°amp
,

1872 
size
, 
di°™˚
, 
Êags
);

1894 
	`av_uæ_•lô
(*
¥Ÿo
, 
¥Ÿo_size
,

1895 *
auth‹iz©i⁄
, 
auth‹iz©i⁄_size
,

1896 *
ho°«me
, 
ho°«me_size
,

1897 *
p‹t_±r
,

1898 *
∑th
, 
∑th_size
,

1899 c⁄° *
uæ
);

1901 #i‡
FF_API_DUMP_FORMAT


1902 
©åibuã_dïªˇãd
 
	`dump_f‹m©
(
AVF‹m©C⁄ãxt
 *
ic
,

1903 
ödex
,

1904 c⁄° *
uæ
,

1905 
is_ouçut
);

1908 
	`av_dump_f‹m©
(
AVF‹m©C⁄ãxt
 *
ic
,

1909 
ödex
,

1910 c⁄° *
uæ
,

1911 
is_ouçut
);

1913 #i‡
FF_API_PARSE_DATE


1921 
©åibuã_dïªˇãd


1922 
öt64_t
 
	`∑r£_d©e
(c⁄° *
d©e°r
, 
duøti⁄
);

1928 
öt64_t
 
	`av_gëtime
();

1930 #i‡
FF_API_FIND_INFO_TAG


1934 
©åibuã_dïªˇãd
 
	`föd_öfo_èg
(*
¨g
, 
¨g_size
, c⁄° *
èg1
, c⁄° *
öfo
);

1949 
	`av_gë_‰ame_fûíame
(*
buf
, 
buf_size
,

1950 c⁄° *
∑th
, 
numbî
);

1958 
	`av_fûíame_numbî_ã°
(c⁄° *
fûíame
);

1974 
	`av_sdp_¸óã
(
AVF‹m©C⁄ãxt
 *
ac
[], 
n_fûes
, *
buf
, 
size
);

1976 #i‡
FF_API_SDP_CREATE


1977 
©åibuã_dïªˇãd
 
	`avf_sdp_¸óã
(
AVF‹m©C⁄ãxt
 *
ac
[], 
n_fûes
, *
buff
, 
size
);

1986 
	`av_m©ch_ext
(c⁄° *
fûíame
, c⁄° *
exãnsi⁄s
);

1996 
	`avf‹m©_quîy_codec
(
AVOuçutF‹m©
 *
ofmt
, 
CodecID
 
codec_id
, 
°d_com∂ün˚
);

2013 c⁄° 
AVCodecTag
 *
	`avf‹m©_gë_riff_video_ègs
();

2017 c⁄° 
AVCodecTag
 *
	`avf‹m©_gë_riff_audio_ègs
();

	@/usr/include/libswscale/swscale.h

21 #i‚de‡
SWSCALE_SWSCALE_H


22 
	#SWSCALE_SWSCALE_H


	)

30 
	~"libavutû/avutû.h
"

31 
	~"libavutû/log.h
"

32 
	~"libavutû/pixfmt.h
"

34 
	#LIBSWSCALE_VERSION_MAJOR
 2

	)

35 
	#LIBSWSCALE_VERSION_MINOR
 1

	)

36 
	#LIBSWSCALE_VERSION_MICRO
 0

	)

38 
	#LIBSWSCALE_VERSION_INT
 
	`AV_VERSION_INT
(
LIBSWSCALE_VERSION_MAJOR
, \

39 
LIBSWSCALE_VERSION_MINOR
, \

40 
LIBSWSCALE_VERSION_MICRO
)

	)

41 
	#LIBSWSCALE_VERSION
 
	`AV_VERSION
(
LIBSWSCALE_VERSION_MAJOR
, \

42 
LIBSWSCALE_VERSION_MINOR
, \

43 
LIBSWSCALE_VERSION_MICRO
)

	)

44 
	#LIBSWSCALE_BUILD
 
LIBSWSCALE_VERSION_INT


	)

46 
	#LIBSWSCALE_IDENT
 "SwS" 
	`AV_STRINGIFY
(
LIBSWSCALE_VERSION
)

	)

52 #i‚de‡
FF_API_SWS_GETCONTEXT


53 
	#FF_API_SWS_GETCONTEXT
 (
LIBSWSCALE_VERSION_MAJOR
 < 3)

	)

55 #i‚de‡
FF_API_SWS_CPU_CAPS


56 
	#FF_API_SWS_CPU_CAPS
 (
LIBSWSCALE_VERSION_MAJOR
 < 3)

	)

62 
swsˇÀ_vîsi⁄
();

67 c⁄° *
swsˇÀ_c⁄figuøti⁄
();

72 c⁄° *
swsˇÀ_li˚n£
();

75 
	#SWS_FAST_BILINEAR
 1

	)

76 
	#SWS_BILINEAR
 2

	)

77 
	#SWS_BICUBIC
 4

	)

78 
	#SWS_X
 8

	)

79 
	#SWS_POINT
 0x10

	)

80 
	#SWS_AREA
 0x20

	)

81 
	#SWS_BICUBLIN
 0x40

	)

82 
	#SWS_GAUSS
 0x80

	)

83 
	#SWS_SINC
 0x100

	)

84 
	#SWS_LANCZOS
 0x200

	)

85 
	#SWS_SPLINE
 0x400

	)

87 
	#SWS_SRC_V_CHR_DROP_MASK
 0x30000

	)

88 
	#SWS_SRC_V_CHR_DROP_SHIFT
 16

	)

90 
	#SWS_PARAM_DEFAULT
 123456

	)

92 
	#SWS_PRINT_INFO
 0x1000

	)

96 
	#SWS_FULL_CHR_H_INT
 0x2000

	)

98 
	#SWS_FULL_CHR_H_INP
 0x4000

	)

99 
	#SWS_DIRECT_BGR
 0x8000

	)

100 
	#SWS_ACCURATE_RND
 0x40000

	)

101 
	#SWS_BITEXACT
 0x80000

	)

103 #i‡
FF_API_SWS_CPU_CAPS


108 
	#SWS_CPU_CAPS_MMX
 0x80000000

	)

109 
	#SWS_CPU_CAPS_MMX2
 0x20000000

	)

110 
	#SWS_CPU_CAPS_3DNOW
 0x40000000

	)

111 
	#SWS_CPU_CAPS_ALTIVEC
 0x10000000

	)

112 
	#SWS_CPU_CAPS_BFIN
 0x01000000

	)

113 
	#SWS_CPU_CAPS_SSE2
 0x02000000

	)

116 
	#SWS_MAX_REDUCE_CUTOFF
 0.002

	)

118 
	#SWS_CS_ITU709
 1

	)

119 
	#SWS_CS_FCC
 4

	)

120 
	#SWS_CS_ITU601
 5

	)

121 
	#SWS_CS_ITU624
 5

	)

122 
	#SWS_CS_SMPTE170M
 5

	)

123 
	#SWS_CS_SMPTE240M
 7

	)

124 
	#SWS_CS_DEFAULT
 5

	)

133 c⁄° *
sws_gëC€fficõ¡s
(
cﬁ‹•a˚
);

138 *
	mc€ff
;

139 
	mÀngth
;

140 } 
	tSwsVe˘‹
;

144 
SwsVe˘‹
 *
	mlumH
;

145 
SwsVe˘‹
 *
	mlumV
;

146 
SwsVe˘‹
 *
	mchrH
;

147 
SwsVe˘‹
 *
	mchrV
;

148 } 
	tSwsFûãr
;

150 
	gSwsC⁄ãxt
;

156 
sws_isSuµ‹ãdI≈ut
(
PixñF‹m©
 
pix_fmt
);

162 
sws_isSuµ‹ãdOuçut
(
PixñF‹m©
 
pix_fmt
);

169 
SwsC⁄ãxt
 *
sws_Æloc_c⁄ãxt
();

177 
sws_öô_c⁄ãxt
(
SwsC⁄ãxt
 *
sws_c⁄ãxt
, 
SwsFûãr
 *
§cFûãr
, SwsFûã∏*
d°Fûãr
);

183 
sws_‰ìC⁄ãxt
(
SwsC⁄ãxt
 *
swsC⁄ãxt
);

185 #i‡
FF_API_SWS_GETCONTEXT


202 
SwsC⁄ãxt
 *
sws_gëC⁄ãxt
(
§cW
, 
§cH
, 
PixñF‹m©
 
§cF‹m©
,

203 
d°W
, 
d°H
, 
PixñF‹m©
 
d°F‹m©
,

204 
Êags
, 
SwsFûãr
 *
§cFûãr
,

205 
SwsFûãr
 *
d°Fûãr
, c⁄° *
∑øm
);

234 
sws_sˇÀ
(
SwsC⁄ãxt
 *
c
, c⁄° 
uöt8_t
 *c⁄° 
§cSli˚
[],

235 c⁄° 
§cSåide
[], 
§cSli˚Y
, 
§cSli˚H
,

236 
uöt8_t
 *c⁄° 
d°
[], c⁄° 
d°Såide
[]);

242 
sws_£tCﬁ‹•a˚Dëaûs
(
SwsC⁄ãxt
 *
c
, c⁄° 
öv_èbÀ
[4],

243 
§cR™ge
, c⁄° 
èbÀ
[4], 
d°R™ge
,

244 
brighäess
, 
c⁄åa°
, 
ßtuøti⁄
);

249 
sws_gëCﬁ‹•a˚Dëaûs
(
SwsC⁄ãxt
 *
c
, **
öv_èbÀ
,

250 *
§cR™ge
, **
èbÀ
, *
d°R™ge
,

251 *
brighäess
, *
c⁄åa°
, *
ßtuøti⁄
);

256 
SwsVe˘‹
 *
sws_ÆlocVec
(
Àngth
);

262 
SwsVe˘‹
 *
sws_gëGaussünVec
(
v¨ün˚
, 
quÆôy
);

268 
SwsVe˘‹
 *
sws_gëC⁄°Vec
(
c
, 
Àngth
);

274 
SwsVe˘‹
 *
sws_gëIdítôyVec
();

279 
sws_sˇÀVec
(
SwsVe˘‹
 *
a
, 
sˇœr
);

284 
sws_n‹mÆizeVec
(
SwsVe˘‹
 *
a
, 
height
);

285 
sws_c⁄vVec
(
SwsVe˘‹
 *
a
, SwsVe˘‹ *
b
);

286 
sws_addVec
(
SwsVe˘‹
 *
a
, SwsVe˘‹ *
b
);

287 
sws_subVec
(
SwsVe˘‹
 *
a
, SwsVe˘‹ *
b
);

288 
sws_shi·Vec
(
SwsVe˘‹
 *
a
, 
shi·
);

294 
SwsVe˘‹
 *
sws_˛⁄eVec
(SwsVe˘‹ *
a
);

300 
sws_¥ötVec2
(
SwsVe˘‹
 *
a
, 
AVCœss
 *
log_˘x
, 
log_Àvñ
);

302 
sws_‰ìVec
(
SwsVe˘‹
 *
a
);

304 
SwsFûãr
 *
sws_gëDeÁu…Fûãr
(
lumaGBlur
, 
chromaGBlur
,

305 
lumaSh¨≥n
, 
chromaSh¨≥n
,

306 
chromaHShi·
, 
chromaVShi·
,

307 
vîbo£
);

308 
sws_‰ìFûãr
(
SwsFûãr
 *
fûãr
);

322 
SwsC⁄ãxt
 *
sws_gëCachedC⁄ãxt
(SwsC⁄ãxà*
c⁄ãxt
,

323 
§cW
, 
§cH
, 
PixñF‹m©
 
§cF‹m©
,

324 
d°W
, 
d°H
, 
PixñF‹m©
 
d°F‹m©
,

325 
Êags
, 
SwsFûãr
 *
§cFûãr
,

326 
SwsFûãr
 *
d°Fûãr
, c⁄° *
∑øm
);

338 
sws_c⁄vîtPÆëã8ToPacked32
(c⁄° 
uöt8_t
 *
§c
, uöt8_à*
d°
, 
num_pixñs
, c⁄° uöt8_à*
∑Àâe
);

350 
sws_c⁄vîtPÆëã8ToPacked24
(c⁄° 
uöt8_t
 *
§c
, uöt8_à*
d°
, 
num_pixñs
, c⁄° uöt8_à*
∑Àâe
);

358 c⁄° 
AVCœss
 *
sws_gë_˛ass
();

	@/usr/include/limits.h

24 #i‚de‡
_LIBC_LIMITS_H_


25 
	#_LIBC_LIMITS_H_
 1

	)

27 
	~<„©uªs.h
>

33 
	#MB_LEN_MAX
 16

	)

38 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

43 #i‚de‡
_LIMITS_H


44 
	#_LIMITS_H
 1

	)

46 
	~<bôs/w‹dsize.h
>

55 
	#CHAR_BIT
 8

	)

58 
	#SCHAR_MIN
 (-128)

	)

59 
	#SCHAR_MAX
 127

	)

62 
	#UCHAR_MAX
 255

	)

65 #ifde‡
__CHAR_UNSIGNED__


66 
	#CHAR_MIN
 0

	)

67 
	#CHAR_MAX
 
UCHAR_MAX


	)

69 
	#CHAR_MIN
 
SCHAR_MIN


	)

70 
	#CHAR_MAX
 
SCHAR_MAX


	)

74 
	#SHRT_MIN
 (-32768)

	)

75 
	#SHRT_MAX
 32767

	)

78 
	#USHRT_MAX
 65535

	)

81 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

82 
	#INT_MAX
 2147483647

	)

85 
	#UINT_MAX
 4294967295U

	)

88 #i‡
__WORDSIZE
 == 64

89 
	#LONG_MAX
 9223372036854775807L

	)

91 
	#LONG_MAX
 2147483647L

	)

93 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

96 #i‡
__WORDSIZE
 == 64

97 
	#ULONG_MAX
 18446744073709551615UL

	)

99 
	#ULONG_MAX
 4294967295UL

	)

102 #ifde‡
__USE_ISOC99


105 
	#LLONG_MAX
 9223372036854775807LL

	)

106 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

109 
	#ULLONG_MAX
 18446744073709551615ULL

	)

123 #i‡
deföed
 
__GNUC__
 && !deföed 
_GCC_LIMITS_H_


125 #ö˛ude_√xà<
limôs
.
h
>

131 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__


132 #i‚de‡
LLONG_MIN


133 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

135 #i‚de‡
LLONG_MAX


136 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

138 #i‚de‡
ULLONG_MAX


139 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

143 #ifdef 
__USE_POSIX


145 
	~<bôs/posix1_lim.h
>

148 #ifdef 
__USE_POSIX2


149 
	~<bôs/posix2_lim.h
>

152 #ifdef 
__USE_XOPEN


153 
	~<bôs/x›í_lim.h
>

	@/usr/include/linux/types.h

1 #i‚de‡
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/ty≥s.h
>

6 #i‚de‡
__ASSEMBLY__


8 
	~<löux/posix_ty≥s.h
>

16 #ifde‡
__CHECKER__


17 
	#__bôwi£__
 
	`__©åibuã__
((
bôwi£
))

	)

19 
	#__bôwi£__


	)

21 #ifde‡
__CHECK_ENDIAN__


22 
	#__bôwi£
 
__bôwi£__


	)

24 
	#__bôwi£


	)

27 
__u16
 
	t__bôwi£
 
	t__À16
;

28 
__u16
 
	t__bôwi£
 
	t__be16
;

29 
__u32
 
	t__bôwi£
 
	t__À32
;

30 
__u32
 
	t__bôwi£
 
	t__be32
;

31 
__u64
 
	t__bôwi£
 
	t__À64
;

32 
__u64
 
	t__bôwi£
 
	t__be64
;

34 
__u16
 
	t__bôwi£
 
	t__sum16
;

35 
__u32
 
	t__bôwi£
 
	t__wsum
;

46 
	#__Æig√d_u64
 
__u64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

47 
	#__Æig√d_be64
 
__be64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

48 
	#__Æig√d_À64
 
__À64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

	@/usr/include/math.h

25 #i‚def 
_MATH_H


26 
	#_MATH_H
 1

	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


34 
	~<bôs/huge_vÆ.h
>

35 #ifde‡
__USE_ISOC99


36 
	~<bôs/huge_vÆf.h
>

37 
	~<bôs/huge_vÆl.h
>

40 
	~<bôs/öf.h
>

43 
	~<bôs/«n.h
>

47 
	~<bôs/m©hdef.h
>

54 
	#__MATHCALL
(
fun˘i⁄
,
suffix
, 
¨gs
) \

55 
	`__MATHDECL
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
)

	)

56 
	#__MATHDECL
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

57 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
); \

58 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
)

	)

59 
	#__MATHCALLX
(
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

60 
	`__MATHDECLX
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
)

	)

61 
	#__MATHDECLX
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

62 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
); \

63 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
)

	)

64 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

65 
ty≥
 
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
Ë
¨gs
 
__THROW


	)

67 
	#_MdoubÀ_
 

	)

68 
	#__MATH_PRECNAME
(
«me
,
r
Ë
	`__CONCAT
“ame,r)

	)

69 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

70 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

71 
	~<bôs/m©hˇŒs.h
>

72 #unde‡
_MdoubÀ_


73 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


74 #unde‡
_MdoubÀ_END_NAMESPACE


75 #unde‡
__MATH_PRECNAME


77 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


83 #i‚de‡
_MÊﬂt_


84 
	#_MÊﬂt_
 

	)

86 
	#_MdoubÀ_
 
_MÊﬂt_


	)

87 #ifde‡
__STDC__


88 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
f
##
	)
r

90 
	#__MATH_PRECNAME
(
«me
,
r
Ë«mê
f
 
	)
r

92 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

93 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

94 
	~<bôs/m©hˇŒs.h
>

95 #unde‡
_MdoubÀ_


96 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


97 #unde‡
_MdoubÀ_END_NAMESPACE


98 #unde‡
__MATH_PRECNAME


100 #i‡(
__STDC__
 - 0 || 
__GNUC__
 - 0) \

101 && (!(
deföed
 
__NO_LONG_DOUBLE_MATH
 && deföed 
_LIBC
) \

102 || 
deföed
 
__LDBL_COMPAT
)

103 #ifde‡
__LDBL_COMPAT


105 #ifde‡
__USE_ISOC99


106 
	$__∆dbl_√xâow¨df
 (
__x
, 
__y
)

107 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

108 #ifde‡
__REDIRECT_NTH


109 
	`__REDIRECT_NTH
 (
√xâow¨df
, (
__x
, 
__y
),

110 
__∆dbl_√xâow¨df
)

111 
	`__©åibuã__
 ((
__c⁄°__
));

112 
	`__REDIRECT_NTH
 (
√xâow¨d
, (
__x
, 
__y
),

113 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

114 
	`__REDIRECT_NTH
 (
√xâow¨dl
,

115 (
__x
, 
__y
),

116 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

121 #i‡
deföed
 
__LDBL_COMPAT
 || deföed 
__NO_LONG_DOUBLE_MATH


123 #unde‡
__MATHDECL_1


124 
	#__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
Æüs
) \

125 
ty≥
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
), \

126 
¨gs
, 
Æüs
)

	)

127 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

128 
	`__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
	`__CONCAT
(fun˘i⁄,suffix))

	)

134 #i‚de‡
_Ml⁄g_doubÀ_


135 
	#_Ml⁄g_doubÀ_
 

	)

137 
	#_MdoubÀ_
 
_Ml⁄g_doubÀ_


	)

138 #ifde‡
__STDC__


139 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
l
##
	)
r

141 
	#__MATH_PRECNAME
(
«me
,
r
Ë«mê
l
 
	)
r

143 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

144 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

145 
	#__MATH_DECLARE_LDOUBLE
 1

	)

146 
	~<bôs/m©hˇŒs.h
>

147 #unde‡
_MdoubÀ_


148 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


149 #unde‡
_MdoubÀ_END_NAMESPACE


150 #unde‡
__MATH_PRECNAME


155 #unde‡
__MATHDECL_1


156 #unde‡
__MATHDECL


157 #unde‡
__MATHCALL


160 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


162 
signgam
;

167 #ifde‡
__USE_ISOC99


205 
FP_NAN
,

206 
	#FP_NAN
 
FP_NAN


	)

207 
FP_INFINITE
,

208 
	#FP_INFINITE
 
FP_INFINITE


	)

209 
FP_ZERO
,

210 
	#FP_ZERO
 
FP_ZERO


	)

211 
FP_SUBNORMAL
,

212 
	#FP_SUBNORMAL
 
FP_SUBNORMAL


	)

213 
FP_NORMAL


214 
	#FP_NORMAL
 
FP_NORMAL


	)

218 #ifde‡
__NO_LONG_DOUBLE_MATH


219 
	#Â˛assify
(
x
) \

220 ( (
x
Ë= (Ë? 
	`__Â˛assifyf
 (xË: 
	`__Â˛assify
 (x))

	)

222 
	#Â˛assify
(
x
) \

223 ( (
x
) ==  () \

224 ? 
	`__Â˛assifyf
 (
x
) \

225 :  (
x
) ==  () \

226 ? 
	`__Â˛assify
 (
x
Ë: 
	`__Â˛assifyl
 (x))

	)

230 #ifde‡
__NO_LONG_DOUBLE_MATH


231 
	#signbô
(
x
) \

232 ( (
x
Ë= (Ë? 
	`__signbôf
 (xË: 
	`__signbô
 (x))

	)

234 
	#signbô
(
x
) \

235 ( (
x
) ==  () \

236 ? 
	`__signbôf
 (
x
) \

237 :  (
x
) ==  () \

238 ? 
	`__signbô
 (
x
Ë: 
	`__signbôl
 (x))

	)

242 #ifde‡
__NO_LONG_DOUBLE_MATH


243 
	#isföôe
(
x
) \

244 ( (
x
Ë= (Ë? 
	`__föôef
 (xË: 
	`__föôe
 (x))

	)

246 
	#isföôe
(
x
) \

247 ( (
x
) ==  () \

248 ? 
	`__föôef
 (
x
) \

249 :  (
x
) ==  () \

250 ? 
	`__föôe
 (
x
Ë: 
	`__föôñ
 (x))

	)

254 
	#i¢‹mÆ
(
x
Ë(
	`Â˛assify
 (xË=
FP_NORMAL
)

	)

258 #ifde‡
__NO_LONG_DOUBLE_MATH


259 
	#i¢™
(
x
) \

260 ( (
x
Ë= (Ë? 
	`__i¢™f
 (xË: 
	`__i¢™
 (x))

	)

262 
	#i¢™
(
x
) \

263 ( (
x
) ==  () \

264 ? 
	`__i¢™f
 (
x
) \

265 :  (
x
) ==  () \

266 ? 
	`__i¢™
 (
x
Ë: 
	`__i¢™l
 (x))

	)

270 #ifde‡
__NO_LONG_DOUBLE_MATH


271 
	#isöf
(
x
) \

272 ( (
x
Ë= (Ë? 
	`__isöff
 (xË: 
	`__isöf
 (x))

	)

274 
	#isöf
(
x
) \

275 ( (
x
) ==  () \

276 ? 
	`__isöff
 (
x
) \

277 :  (
x
) ==  () \

278 ? 
	`__isöf
 (
x
Ë: 
	`__isöÊ
 (x))

	)

282 
	#MATH_ERRNO
 1

	)

283 
	#MATH_ERREXCEPT
 2

	)

288 #i‚de‡
__FAST_MATH__


289 
	#m©h_îrh™dlög
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

294 #ifdef 
__USE_MISC


298 
_IEEE_
 = -1,

299 
_SVID_
,

300 
_XOPEN_
,

301 
_POSIX_
,

302 
_ISOC_


303 } 
	t_LIB_VERSION_TYPE
;

308 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

312 #ifde‡
__USE_SVID


318 #ifde‡
__˝lu•lus


319 
__ex˚±i⁄


321 
ex˚±i⁄


324 
ty≥
;

325 *
«me
;

326 
¨g1
;

327 
¨g2
;

328 
ªtvÆ
;

329 
	}
};

331 #ifde‡
__˝lu•lus


332 
	$m©hîr
 (
__ex˚±i⁄
 *
__exc
Ë
	`throw
 ();

334 
	`m©hîr
 (
ex˚±i⁄
 *
__exc
);

337 
	#X_TLOSS
 1.41484755040568800000e+16

	)

340 
	#DOMAIN
 1

	)

341 
	#SING
 2

	)

342 
	#OVERFLOW
 3

	)

343 
	#UNDERFLOW
 4

	)

344 
	#TLOSS
 5

	)

345 
	#PLOSS
 6

	)

348 
	#HUGE
 3.40282347e+38F

	)

352 #ifde‡
__USE_XOPEN


354 
	#MAXFLOAT
 3.40282347e+38F

	)

361 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


362 
	#M_E
 2.7182818284590452354

	)

363 
	#M_LOG2E
 1.4426950408889634074

	)

364 
	#M_LOG10E
 0.43429448190325182765

	)

365 
	#M_LN2
 0.69314718055994530942

	)

366 
	#M_LN10
 2.30258509299404568402

	)

367 
	#M_PI
 3.14159265358979323846

	)

368 
	#M_PI_2
 1.57079632679489661923

	)

369 
	#M_PI_4
 0.78539816339744830962

	)

370 
	#M_1_PI
 0.31830988618379067154

	)

371 
	#M_2_PI
 0.63661977236758134308

	)

372 
	#M_2_SQRTPI
 1.12837916709551257390

	)

373 
	#M_SQRT2
 1.41421356237309504880

	)

374 
	#M_SQRT1_2
 0.70710678118654752440

	)

380 #ifde‡
__USE_GNU


381 
	#M_El
 2.7182818284590452353602874713526625L

	)

382 
	#M_LOG2El
 1.4426950408889634073599246810018921L

	)

383 
	#M_LOG10El
 0.4342944819032518276511289189166051L

	)

384 
	#M_LN2l
 0.6931471805599453094172321214581766L

	)

385 
	#M_LN10l
 2.3025850929940456840179914546843642L

	)

386 
	#M_PIl
 3.1415926535897932384626433832795029L

	)

387 
	#M_PI_2l
 1.5707963267948966192313216916397514L

	)

388 
	#M_PI_4l
 0.7853981633974483096156608458198757L

	)

389 
	#M_1_PIl
 0.3183098861837906715377675267450287L

	)

390 
	#M_2_PIl
 0.6366197723675813430755350534900574L

	)

391 
	#M_2_SQRTPIl
 1.1283791670955125738961589031215452L

	)

392 
	#M_SQRT2l
 1.4142135623730950488016887242096981L

	)

393 
	#M_SQRT1_2l
 0.7071067811865475244008443621048490L

	)

400 #i‡
deföed
 
__STRICT_ANSI__
 && !deföed 
__NO_MATH_INLINES


401 
	#__NO_MATH_INLINES
 1

	)

404 #i‡
deföed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

411 
	#isgª©î
(
x
, 
y
Ë
	`__buûtö_isgª©î
(x, y)

	)

412 
	#isgª©îequÆ
(
x
, 
y
Ë
	`__buûtö_isgª©îequÆ
(x, y)

	)

413 
	#i¶ess
(
x
, 
y
Ë
	`__buûtö_i¶ess
(x, y)

	)

414 
	#i¶es£quÆ
(
x
, 
y
Ë
	`__buûtö_i¶es£quÆ
(x, y)

	)

415 
	#i¶essgª©î
(
x
, 
y
Ë
	`__buûtö_i¶essgª©î
(x, y)

	)

416 
	#isun‹dîed
(
u
, 
v
Ë
	`__buûtö_isun‹dîed
(u, v)

	)

420 #ifde‡
__USE_EXTERN_INLINES


421 
	~<bôs/m©hölöe.h
>

426 #i‡
deföed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

427 
	~<bôs/m©h-föôe.h
>

430 #ifde‡
__USE_ISOC99


434 #i‚de‡
isgª©î


435 
	#isgª©î
(
x
, 
y
) \

436 (
__exãnsi⁄__
 \

437 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

438 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x > __y; 
	}
}))

	)

442 #i‚de‡
isgª©îequÆ


443 
	#isgª©îequÆ
(
x
, 
y
) \

444 (
__exãnsi⁄__
 \

445 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

446 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x >__y; }))

	)

450 #i‚de‡
i¶ess


451 
	#i¶ess
(
x
, 
y
) \

452 (
__exãnsi⁄__
 \

453 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

454 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x < __y; }))

	)

458 #i‚de‡
i¶es£quÆ


459 
	#i¶es£quÆ
(
x
, 
y
) \

460 (
__exãnsi⁄__
 \

461 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

462 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x <__y; }))

	)

466 #i‚de‡
i¶essgª©î


467 
	#i¶essgª©î
(
x
, 
y
) \

468 (
__exãnsi⁄__
 \

469 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

470 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& (__x < __y || __y < __x); }))

	)

474 #i‚de‡
isun‹dîed


475 
	#isun‹dîed
(
u
, 
v
) \

476 (
__exãnsi⁄__
 \

477 ({ 
	`__ty≥of__
(
u
Ë
__u
 = (u); __ty≥of__(
v
Ë
__v
 = (v); \

478 
	`Â˛assify
 (
__u
Ë=
FP_NAN
 || fp˛assify (
__v
Ë=FP_NAN; }))

	)

483 
	g__END_DECLS


	@/usr/include/netdb.h

23 #i‚def 
_NETDB_H


24 
	#_NETDB_H
 1

	)

26 
	~<„©uªs.h
>

28 
	~<√töë/ö.h
>

29 
	~<°döt.h
>

30 #ifde‡
__USE_MISC


33 
	~<Ωc/√tdb.h
>

36 #ifde‡
__USE_GNU


37 
	#__√ed_sigevít_t


	)

38 
	~<bôs/sigöfo.h
>

39 
	#__√ed_time•ec


	)

40 
	~<time.h
>

43 
	~<bôs/√tdb.h
>

46 
	#_PATH_HEQUIV
 "/ëc/ho°s.equiv"

	)

47 
	#_PATH_HOSTS
 "/ëc/ho°s"

	)

48 
	#_PATH_NETWORKS
 "/ëc/√tw‹ks"

	)

49 
	#_PATH_NSSWITCH_CONF
 "/ëc/nsswôch.c⁄f"

	)

50 
	#_PATH_PROTOCOLS
 "/ëc/¥Ÿocﬁs"

	)

51 
	#_PATH_SERVICES
 "/ëc/£rvi˚s"

	)

54 
	g__BEGIN_DECLS


56 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K8


59 
	#h_î∫o
 (*
	`__h_î∫o_loˇti⁄
 ())

	)

62 *
	$__h_î∫o_loˇti⁄
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

66 
	#HOST_NOT_FOUND
 1

	)

67 
	#TRY_AGAIN
 2

	)

69 
	#NO_RECOVERY
 3

	)

71 
	#NO_DATA
 4

	)

74 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


75 
	#NETDB_INTERNAL
 -1

	)

76 
	#NETDB_SUCCESS
 0

	)

77 
	#NO_ADDRESS
 
NO_DATA


	)

80 #ifde‡
__USE_XOPEN2K


82 
	#IPPORT_RESERVED
 1024

	)

85 #ifde‡
__USE_GNU


87 
	#SCOPE_DELIMITER
 '%'

	)

90 #ifde‡
__USE_MISC


93 
	$hîr‹
 (
__c⁄°
 *
__°r
Ë
__THROW
;

96 
__c⁄°
 *
	$h°ªº‹
 (
__îr_num
Ë
__THROW
;

101 
	sho°ít


103 *
h_«me
;

104 **
h_Æü£s
;

105 
h_addπy≥
;

106 
h_Àngth
;

107 **
h_addr_li°
;

108 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


109 
	#h_addr
 
h_addr_li°
[0]

	)

118 
	`£tho°ít
 (
__°ay_›í
);

124 
	`ídho°ít
 ();

131 
ho°ít
 *
	`gëho°ít
 ();

138 
ho°ít
 *
	`gëho°byaddr
 (
__c⁄°
 *
__addr
, 
__sockÀn_t
 
__Àn
,

139 
__ty≥
);

145 
ho°ít
 *
	`gëho°by«me
 (
__c⁄°
 *
__«me
);

147 #ifde‡
__USE_MISC


156 
ho°ít
 *
	`gëho°by«me2
 (
__c⁄°
 *
__«me
, 
__af
);

168 
	`gëho°ít_r
 (
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

169 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

170 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

171 *
__ª°ri˘
 
__h_î∫›
);

173 
	`gëho°byaddr_r
 (
__c⁄°
 *
__ª°ri˘
 
__addr
, 
__sockÀn_t
 
__Àn
,

174 
__ty≥
,

175 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

176 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

177 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

178 *
__ª°ri˘
 
__h_î∫›
);

180 
	`gëho°by«me_r
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

181 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

182 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

183 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

184 *
__ª°ri˘
 
__h_î∫›
);

186 
	`gëho°by«me2_r
 (
__c⁄°
 *
__ª°ri˘
 
__«me
, 
__af
,

187 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

188 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

189 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

190 *
__ª°ri˘
 
__h_î∫›
);

199 
	`£äëít
 (
__°ay_›í
);

205 
	`íd√ã¡
 ();

212 
√ã¡
 *
	`gë√ã¡
 ();

219 
√ã¡
 *
	`gë√tbyaddr
 (
uöt32_t
 
__√t
, 
__ty≥
);

225 
√ã¡
 *
	`gë√tby«me
 (
__c⁄°
 *
__«me
);

227 #ifdef 
__USE_MISC


238 
	`gë√ã¡_r
 (
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

239 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

240 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

241 *
__ª°ri˘
 
__h_î∫›
);

243 
	`gë√tbyaddr_r
 (
uöt32_t
 
__√t
, 
__ty≥
,

244 
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

245 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

246 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

247 *
__ª°ri˘
 
__h_î∫›
);

249 
	`gë√tby«me_r
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

250 
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

251 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

252 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

253 *
__ª°ri˘
 
__h_î∫›
);

258 
	s£rvít


260 *
s_«me
;

261 **
s_Æü£s
;

262 
s_p‹t
;

263 *
s_¥Ÿo
;

271 
	`£t£rvít
 (
__°ay_›í
);

277 
	`íd£rvít
 ();

284 
£rvít
 *
	`gë£rvít
 ();

291 
£rvít
 *
	`gë£rvby«me
 (
__c⁄°
 *
__«me
,

292 
__c⁄°
 *
__¥Ÿo
);

299 
£rvít
 *
	`gë£rvbyp‹t
 (
__p‹t
, 
__c⁄°
 *
__¥Ÿo
);

302 #ifdef 
__USE_MISC


310 
	`gë£rvít_r
 (
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

311 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

312 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

314 
	`gë£rvby«me_r
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

315 
__c⁄°
 *
__ª°ri˘
 
__¥Ÿo
,

316 
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

317 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

318 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

320 
	`gë£rvbyp‹t_r
 (
__p‹t
, 
__c⁄°
 *
__ª°ri˘
 
__¥Ÿo
,

321 
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

322 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

323 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

328 
	s¥Ÿ€¡


330 *
p_«me
;

331 **
p_Æü£s
;

332 
p_¥Ÿo
;

340 
	`£çrŸ€¡
 (
__°ay_›í
);

346 
	`íd¥Ÿ€¡
 ();

353 
¥Ÿ€¡
 *
	`gë¥Ÿ€¡
 ();

359 
¥Ÿ€¡
 *
	`gë¥Ÿoby«me
 (
__c⁄°
 *
__«me
);

365 
¥Ÿ€¡
 *
	`gë¥Ÿobynumbî
 (
__¥Ÿo
);

368 #ifdef 
__USE_MISC


376 
	`gë¥Ÿ€¡_r
 (
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

377 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

378 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

380 
	`gë¥Ÿoby«me_r
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

381 
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

382 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

383 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

385 
	`gë¥Ÿobynumbî_r
 (
__¥Ÿo
,

386 
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

387 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

388 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

397 
	`£äëgª¡
 (
__c⁄°
 *
__√tgroup
);

405 
	`íd√tgª¡
 ();

414 
	`gë√tgª¡
 (**
__ª°ri˘
 
__ho°p
,

415 **
__ª°ri˘
 
__u£Ω
,

416 **
__ª°ri˘
 
__domaöp
);

425 
	`ö√tgr
 (
__c⁄°
 *
__√tgroup
, __c⁄° *
__ho°
,

426 
__c⁄°
 *
__u£r
, __c⁄° *
__domaö
);

434 
	`gë√tgª¡_r
 (**
__ª°ri˘
 
__ho°p
,

435 **
__ª°ri˘
 
__u£Ω
,

436 **
__ª°ri˘
 
__domaöp
,

437 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
);

441 #ifde‡
__USE_BSD


453 
	`rcmd
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

454 
__c⁄°
 *
__ª°ri˘
 
__locu£r
,

455 
__c⁄°
 *
__ª°ri˘
 
__ªmu£r
,

456 
__c⁄°
 *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
);

465 
	`rcmd_af
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

466 
__c⁄°
 *
__ª°ri˘
 
__locu£r
,

467 
__c⁄°
 *
__ª°ri˘
 
__ªmu£r
,

468 
__c⁄°
 *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
,

469 
ß_Ámûy_t
 
__af
);

481 
	`ªxec
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

482 
__c⁄°
 *
__ª°ri˘
 
__«me
,

483 
__c⁄°
 *
__ª°ri˘
 
__∑ss
,

484 
__c⁄°
 *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
);

493 
	`ªxec_af
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

494 
__c⁄°
 *
__ª°ri˘
 
__«me
,

495 
__c⁄°
 *
__ª°ri˘
 
__∑ss
,

496 
__c⁄°
 *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
,

497 
ß_Ámûy_t
 
__af
);

507 
	`ru£rok
 (
__c⁄°
 *
__rho°
, 
__su£r
,

508 
__c⁄°
 *
__ªmu£r
, __c⁄° *
__locu£r
);

517 
	`ru£rok_af
 (
__c⁄°
 *
__rho°
, 
__su£r
,

518 
__c⁄°
 *
__ªmu£r
, __c⁄° *
__locu£r
,

519 
ß_Ámûy_t
 
__af
);

530 
	`úu£rok
 (
uöt32_t
 
__øddr
, 
__su£r
,

531 
__c⁄°
 *
__ªmu£r
, __c⁄° *
__locu£r
);

541 
	`úu£rok_af
 (
__c⁄°
 *
__øddr
, 
__su£r
,

542 
__c⁄°
 *
__ªmu£r
, __c⁄° *
__locu£r
,

543 
ß_Ámûy_t
 
__af
);

553 
	`ºesvp‹t
 (*
__Æp‹t
);

562 
	`ºesvp‹t_af
 (*
__Æp‹t
, 
ß_Ámûy_t
 
__af
);

567 #ifdef 
__USE_POSIX


569 
	saddröfo


571 
ai_Êags
;

572 
ai_Ámûy
;

573 
ai_sockty≥
;

574 
ai_¥Ÿocﬁ
;

575 
sockÀn_t
 
ai_addæí
;

576 
sockaddr
 *
ai_addr
;

577 *
ai_ˇn⁄«me
;

578 
addröfo
 *
ai_√xt
;

581 #ifde‡
__USE_GNU


583 
	sgaicb


585 c⁄° *
¨_«me
;

586 c⁄° *
¨_£rvi˚
;

587 c⁄° 
addröfo
 *
¨_ªque°
;

588 
addröfo
 *
¨_ªsu…
;

590 
__ªtu∫
;

591 
__unu£d
[5];

595 
	#GAI_WAIT
 0

	)

596 
	#GAI_NOWAIT
 1

	)

600 
	#AI_PASSIVE
 0x0001

	)

601 
	#AI_CANONNAME
 0x0002

	)

602 
	#AI_NUMERICHOST
 0x0004

	)

603 
	#AI_V4MAPPED
 0x0008

	)

604 
	#AI_ALL
 0x0010

	)

605 
	#AI_ADDRCONFIG
 0x0020

	)

607 #ifde‡
__USE_GNU


608 
	#AI_IDN
 0x0040

	)

611 
	#AI_CANONIDN
 0x0080

	)

612 
	#AI_IDN_ALLOW_UNASSIGNED
 0x0100

	)

614 
	#AI_IDN_USE_STD3_ASCII_RULES
 0x0200

	)

617 
	#AI_NUMERICSERV
 0x0400

	)

620 
	#EAI_BADFLAGS
 -1

	)

621 
	#EAI_NONAME
 -2

	)

622 
	#EAI_AGAIN
 -3

	)

623 
	#EAI_FAIL
 -4

	)

624 
	#EAI_FAMILY
 -6

	)

625 
	#EAI_SOCKTYPE
 -7

	)

626 
	#EAI_SERVICE
 -8

	)

627 
	#EAI_MEMORY
 -10

	)

628 
	#EAI_SYSTEM
 -11

	)

629 
	#EAI_OVERFLOW
 -12

	)

630 #ifde‡
__USE_GNU


631 
	#EAI_NODATA
 -5

	)

632 
	#EAI_ADDRFAMILY
 -9

	)

633 
	#EAI_INPROGRESS
 -100

	)

634 
	#EAI_CANCELED
 -101

	)

635 
	#EAI_NOTCANCELED
 -102

	)

636 
	#EAI_ALLDONE
 -103

	)

637 
	#EAI_INTR
 -104

	)

638 
	#EAI_IDN_ENCODE
 -105

	)

641 #ifde‡
__USE_MISC


642 
	#NI_MAXHOST
 1025

	)

643 
	#NI_MAXSERV
 32

	)

646 
	#NI_NUMERICHOST
 1

	)

647 
	#NI_NUMERICSERV
 2

	)

648 
	#NI_NOFQDN
 4

	)

649 
	#NI_NAMEREQD
 8

	)

650 
	#NI_DGRAM
 16

	)

651 #ifde‡
__USE_GNU


652 
	#NI_IDN
 32

	)

653 
	#NI_IDN_ALLOW_UNASSIGNED
 64

	)

655 
	#NI_IDN_USE_STD3_ASCII_RULES
 128

	)

664 
	`gëaddröfo
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

665 
__c⁄°
 *
__ª°ri˘
 
__£rvi˚
,

666 
__c⁄°
 
addröfo
 *
__ª°ri˘
 
__ªq
,

667 
addröfo
 **
__ª°ri˘
 
__∑i
);

670 
	$‰ìaddröfo
 (
addröfo
 *
__ai
Ë
__THROW
;

673 
__c⁄°
 *
	$gai_°ªº‹
 (
__ecode
Ë
__THROW
;

679 
	`gë«meöfo
 (
__c⁄°
 
sockaddr
 *
__ª°ri˘
 
__ß
,

680 
sockÀn_t
 
__ßÀn
, *
__ª°ri˘
 
__ho°
,

681 
sockÀn_t
 
__ho°Àn
, *
__ª°ri˘
 
__£rv
,

682 
sockÀn_t
 
__£rvÀn
, 
__Êags
);

685 #ifde‡
__USE_GNU


694 
	`gëaddröfo_a
 (
__mode
, 
gaicb
 *
__li°
[
__ª°ri˘_¨r
],

695 
__ít
, 
sigevít
 *
__ª°ri˘
 
__sig
);

705 
	`gai_su•íd
 (
__c⁄°
 
gaicb
 *__c⁄° 
__li°
[], 
__ít
,

706 
__c⁄°
 
time•ec
 *
__timeout
);

709 
	$gai_îr‹
 (
gaicb
 *
__ªq
Ë
__THROW
;

712 
	$gai_ˇn˚l
 (
gaicb
 *
__gaicbp
Ë
__THROW
;

715 
__END_DECLS


	@/usr/include/netinet/in.h

20 #i‚def 
_NETINET_IN_H


21 
	#_NETINET_IN_H
 1

	)

23 
	~<„©uªs.h
>

24 
	~<°döt.h
>

25 
	~<sys/sockë.h
>

26 
	~<bôs/ty≥s.h
>

29 
__BEGIN_DECLS


34 
	mIPPROTO_IP
 = 0,

35 
	#IPPROTO_IP
 
IPPROTO_IP


	)

36 
	mIPPROTO_HOPOPTS
 = 0,

37 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

38 
	mIPPROTO_ICMP
 = 1,

39 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

40 
	mIPPROTO_IGMP
 = 2,

41 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

42 
	mIPPROTO_IPIP
 = 4,

43 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

44 
	mIPPROTO_TCP
 = 6,

45 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

46 
	mIPPROTO_EGP
 = 8,

47 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

48 
	mIPPROTO_PUP
 = 12,

49 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

50 
	mIPPROTO_UDP
 = 17,

51 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

52 
	mIPPROTO_IDP
 = 22,

53 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

54 
	mIPPROTO_TP
 = 29,

55 
	#IPPROTO_TP
 
IPPROTO_TP


	)

56 
	mIPPROTO_DCCP
 = 33,

57 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

58 
	mIPPROTO_IPV6
 = 41,

59 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

60 
	mIPPROTO_ROUTING
 = 43,

61 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

62 
	mIPPROTO_FRAGMENT
 = 44,

63 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

64 
	mIPPROTO_RSVP
 = 46,

65 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

66 
	mIPPROTO_GRE
 = 47,

67 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

68 
	mIPPROTO_ESP
 = 50,

69 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

70 
	mIPPROTO_AH
 = 51,

71 
	#IPPROTO_AH
 
IPPROTO_AH


	)

72 
	mIPPROTO_ICMPV6
 = 58,

73 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

74 
	mIPPROTO_NONE
 = 59,

75 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

76 
	mIPPROTO_DSTOPTS
 = 60,

77 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

78 
	mIPPROTO_MTP
 = 92,

79 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

80 
	mIPPROTO_ENCAP
 = 98,

81 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

82 
	mIPPROTO_PIM
 = 103,

83 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

84 
	mIPPROTO_COMP
 = 108,

85 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

86 
	mIPPROTO_SCTP
 = 132,

87 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

88 
	mIPPROTO_UDPLITE
 = 136,

89 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

90 
	mIPPROTO_RAW
 = 255,

91 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

92 
	mIPPROTO_MAX


97 
uöt16_t
 
	tö_p‹t_t
;

102 
	mIPPORT_ECHO
 = 7,

103 
	mIPPORT_DISCARD
 = 9,

104 
	mIPPORT_SYSTAT
 = 11,

105 
	mIPPORT_DAYTIME
 = 13,

106 
	mIPPORT_NETSTAT
 = 15,

107 
	mIPPORT_FTP
 = 21,

108 
	mIPPORT_TELNET
 = 23,

109 
	mIPPORT_SMTP
 = 25,

110 
	mIPPORT_TIMESERVER
 = 37,

111 
	mIPPORT_NAMESERVER
 = 42,

112 
	mIPPORT_WHOIS
 = 43,

113 
	mIPPORT_MTP
 = 57,

115 
	mIPPORT_TFTP
 = 69,

116 
	mIPPORT_RJE
 = 77,

117 
	mIPPORT_FINGER
 = 79,

118 
	mIPPORT_TTYLINK
 = 87,

119 
	mIPPORT_SUPDUP
 = 95,

122 
	mIPPORT_EXECSERVER
 = 512,

123 
	mIPPORT_LOGINSERVER
 = 513,

124 
	mIPPORT_CMDSERVER
 = 514,

125 
	mIPPORT_EFSSERVER
 = 520,

128 
	mIPPORT_BIFFUDP
 = 512,

129 
	mIPPORT_WHOSERVER
 = 513,

130 
	mIPPORT_ROUTESERVER
 = 520,

133 
	mIPPORT_RESERVED
 = 1024,

136 
	mIPPORT_USERRESERVED
 = 5000

141 
uöt32_t
 
	tö_addr_t
;

142 
	sö_addr


144 
ö_addr_t
 
	ms_addr
;

153 
	#IN_CLASSA
(
a
Ë((((
ö_addr_t
)◊)Ë& 0x80000000Ë=0)

	)

154 
	#IN_CLASSA_NET
 0xff000000

	)

155 
	#IN_CLASSA_NSHIFT
 24

	)

156 
	#IN_CLASSA_HOST
 (0xfffffff‡& ~
IN_CLASSA_NET
)

	)

157 
	#IN_CLASSA_MAX
 128

	)

159 
	#IN_CLASSB
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xc0000000Ë=0x80000000)

	)

160 
	#IN_CLASSB_NET
 0xffff0000

	)

161 
	#IN_CLASSB_NSHIFT
 16

	)

162 
	#IN_CLASSB_HOST
 (0xfffffff‡& ~
IN_CLASSB_NET
)

	)

163 
	#IN_CLASSB_MAX
 65536

	)

165 
	#IN_CLASSC
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xc0000000)

	)

166 
	#IN_CLASSC_NET
 0xffffff00

	)

167 
	#IN_CLASSC_NSHIFT
 8

	)

168 
	#IN_CLASSC_HOST
 (0xfffffff‡& ~
IN_CLASSC_NET
)

	)

170 
	#IN_CLASSD
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xe0000000)

	)

171 
	#IN_MULTICAST
(
a
Ë
	`IN_CLASSD
◊)

	)

173 
	#IN_EXPERIMENTAL
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xe0000000)

	)

174 
	#IN_BADCLASS
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xf0000000)

	)

177 
	#INADDR_ANY
 ((
ö_addr_t
Ë0x00000000)

	)

179 
	#INADDR_BROADCAST
 ((
ö_addr_t
Ë0xffffffff)

	)

181 
	#INADDR_NONE
 ((
ö_addr_t
Ë0xffffffff)

	)

184 
	#IN_LOOPBACKNET
 127

	)

186 #i‚de‡
INADDR_LOOPBACK


187 
	#INADDR_LOOPBACK
 ((
ö_addr_t
Ë0x7f000001Ë

	)

191 
	#INADDR_UNSPEC_GROUP
 ((
ö_addr_t
Ë0xe0000000Ë

	)

192 
	#INADDR_ALLHOSTS_GROUP
 ((
ö_addr_t
Ë0xe0000001Ë

	)

193 
	#INADDR_ALLRTRS_GROUP
 ((
ö_addr_t
Ë0xe0000002Ë

	)

194 
	#INADDR_MAX_LOCAL_GROUP
 ((
ö_addr_t
Ë0xe00000ffË

	)

198 
	sö6_addr


202 
uöt8_t
 
	m__u6_addr8
[16];

203 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


204 
uöt16_t
 
	m__u6_addr16
[8];

205 
uöt32_t
 
	m__u6_addr32
[4];

207 } 
	m__ö6_u
;

208 
	#s6_addr
 
__ö6_u
.
__u6_addr8


	)

209 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


210 
	#s6_addr16
 
__ö6_u
.
__u6_addr16


	)

211 
	#s6_addr32
 
__ö6_u
.
__u6_addr32


	)

215 c⁄° 
ö6_addr
 
ö6addr_™y
;

216 c⁄° 
ö6_addr
 
ö6addr_lo›back
;

217 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

218 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

220 
	#INET_ADDRSTRLEN
 16

	)

221 
	#INET6_ADDRSTRLEN
 46

	)

225 
	ssockaddr_ö


227 
__SOCKADDR_COMMON
 (
sö_
);

228 
ö_p‹t_t
 
	msö_p‹t
;

229 
ö_addr
 
	msö_addr
;

232 
	msö_zîo
[ (
sockaddr
) -

233 
__SOCKADDR_COMMON_SIZE
 -

234  (
ö_p‹t_t
) -

235  (
ö_addr
)];

239 
	ssockaddr_ö6


241 
__SOCKADDR_COMMON
 (
sö6_
);

242 
ö_p‹t_t
 
	msö6_p‹t
;

243 
uöt32_t
 
	msö6_Êowöfo
;

244 
ö6_addr
 
	msö6_addr
;

245 
uöt32_t
 
	msö6_sc›e_id
;

249 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


251 
	sù_mªq


254 
ö_addr
 
	mimr_mu…üddr
;

257 
ö_addr
 
	mimr_öãrÁ˚
;

260 
	sù_mªq_sour˚


263 
ö_addr
 
	mimr_mu…üddr
;

266 
ö_addr
 
	mimr_öãrÁ˚
;

269 
ö_addr
 
	mimr_sour˚addr
;

275 
	sùv6_mªq


278 
ö6_addr
 
	mùv6mr_mu…üddr
;

281 
	mùv6mr_öãrÁ˚
;

285 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


287 
	sgroup_ªq


290 
uöt32_t
 
	mgr_öãrÁ˚
;

293 
sockaddr_°‹age
 
	mgr_group
;

296 
	sgroup_sour˚_ªq


299 
uöt32_t
 
	mg§_öãrÁ˚
;

302 
sockaddr_°‹age
 
	mg§_group
;

305 
sockaddr_°‹age
 
	mg§_sour˚
;

310 
	sù_msfûãr


313 
ö_addr
 
	mimsf_mu…üddr
;

316 
ö_addr
 
	mimsf_öãrÁ˚
;

319 
uöt32_t
 
	mimsf_fmode
;

322 
uöt32_t
 
	mimsf_num§c
;

324 
ö_addr
 
	mimsf_¶i°
[1];

327 
	#IP_MSFILTER_SIZE
(
num§c
Ë( (
ù_msfûãr
) \

328 -  (
ö_addr
) \

329 + (
num§c
Ë*  (
ö_addr
))

	)

331 
	sgroup_fûãr


334 
uöt32_t
 
	mgf_öãrÁ˚
;

337 
sockaddr_°‹age
 
	mgf_group
;

340 
uöt32_t
 
	mgf_fmode
;

343 
uöt32_t
 
	mgf_num§c
;

345 
sockaddr_°‹age
 
	mgf_¶i°
[1];

348 
	#GROUP_FILTER_SIZE
(
num§c
Ë( (
group_fûãr
) \

349 -  (
sockaddr_°‹age
) \

350 + ((
num§c
) \

351 *  (
sockaddr_°‹age
)))

	)

356 
	~<bôs/ö.h
>

365 
uöt32_t
 
	$¡ohl
 (
uöt32_t
 
__√é⁄g
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

366 
uöt16_t
 
	$¡ohs
 (
uöt16_t
 
__√tsh‹t
)

367 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

368 
uöt32_t
 
	$ht⁄l
 (
uöt32_t
 
__ho°l⁄g
)

369 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

370 
uöt16_t
 
	$ht⁄s
 (
uöt16_t
 
__ho°sh‹t
)

371 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

373 
	~<ídün.h
>

376 
	~<bôs/byãsw≠.h
>

378 #ifde‡
__OPTIMIZE__


382 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


385 
	#¡ohl
(
x
Ë(x)

	)

386 
	#¡ohs
(
x
Ë(x)

	)

387 
	#ht⁄l
(
x
Ë(x)

	)

388 
	#ht⁄s
(
x
Ë(x)

	)

390 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


391 
	#¡ohl
(
x
Ë
	`__bsw≠_32
 (x)

	)

392 
	#¡ohs
(
x
Ë
	`__bsw≠_16
 (x)

	)

393 
	#ht⁄l
(
x
Ë
	`__bsw≠_32
 (x)

	)

394 
	#ht⁄s
(
x
Ë
	`__bsw≠_16
 (x)

	)

399 #ifde‡
__GNUC__


400 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

401 (
__exãnsi⁄__
 \

402 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

403 
__a
->
s6_addr32
[0] == 0 \

404 && 
__a
->
s6_addr32
[1] == 0 \

405 && 
__a
->
s6_addr32
[2] == 0 \

406 && 
__a
->
s6_addr32
[3] =0; 
	}
}))

	)

408 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

409 (
__exãnsi⁄__
 \

410 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

411 
__a
->
s6_addr32
[0] == 0 \

412 && 
__a
->
s6_addr32
[1] == 0 \

413 && 
__a
->
s6_addr32
[2] == 0 \

414 && 
__a
->
s6_addr32
[3] =
	`ht⁄l
 (1); }))

	)

416 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

417 (
__exãnsi⁄__
 \

418 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

419 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„800000); }))

	)

421 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

422 (
__exãnsi⁄__
 \

423 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

424 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„c00000); }))

	)

426 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

427 (
__exãnsi⁄__
 \

428 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

429 
__a
->
s6_addr32
[0] == 0 \

430 && 
__a
->
s6_addr32
[1] == 0 \

431 && 
__a
->
s6_addr32
[2] =
	`ht⁄l
 (0xffff); }))

	)

433 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

434 (
__exãnsi⁄__
 \

435 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

436 
__a
->
s6_addr32
[0] == 0 \

437 && 
__a
->
s6_addr32
[1] == 0 \

438 && 
__a
->
s6_addr32
[2] == 0 \

439 && 
	`¡ohl
 (
__a
->
s6_addr32
[3]Ë> 1; }))

	)

441 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

442 (
__exãnsi⁄__
 \

443 ({ 
__c⁄°
 
ö6_addr
 *
__a
 = (__c⁄° ö6_add∏*Ë(
a
); \

444 
__c⁄°
 
ö6_addr
 *
__b
 = (__c⁄° ö6_add∏*Ë(
b
); \

445 
__a
->
s6_addr32
[0] =
__b
->s6_addr32[0] \

446 && 
__a
->
s6_addr32
[1] =
__b
->s6_addr32[1] \

447 && 
__a
->
s6_addr32
[2] =
__b
->s6_addr32[2] \

448 && 
__a
->
s6_addr32
[3] =
__b
->s6_addr32[3]; }))

	)

450 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

451 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0 \

452 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0 \

453 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0 \

454 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =0)

	)

456 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

457 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0 \

458 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0 \

459 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0 \

460 && ((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =
	`ht⁄l
 (1))

	)

462 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

463 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

464 =
	`ht⁄l
 (0x„800000))

	)

466 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

467 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

468 =
	`ht⁄l
 (0x„c00000))

	)

470 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

471 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0) \

472 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0) \

473 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] =
	`ht⁄l
 (0xffff)))

	)

475 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

476 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] == 0) \

477 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] == 0) \

478 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] == 0) \

479 && (
	`¡ohl
 (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3]Ë> 1))

	)

481 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

482 ((((
__c⁄°
 
uöt32_t
 *Ë(
a
))[0] =((__c⁄° uöt32_à*Ë(
b
))[0]) \

483 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[1] =((__c⁄° uöt32_à*Ë(
b
))[1]) \

484 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[2] =((__c⁄° uöt32_à*Ë(
b
))[2]) \

485 && (((
__c⁄°
 
uöt32_t
 *Ë(
a
))[3] =((__c⁄° uöt32_à*Ë(
b
))[3]))

	)

488 
	#IN6_IS_ADDR_MULTICAST
(
a
Ë(((
__c⁄°
 
uöt8_t
 *Ë◊))[0] =0xff)

	)

490 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


492 
	$bödªsvp‹t
 (
__sockfd
, 
sockaddr_ö
 *
__sock_ö
Ë
__THROW
;

495 
	$bödªsvp‹t6
 (
__sockfd
, 
sockaddr_ö6
 *
__sock_ö
)

496 
__THROW
;

500 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

501 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

502 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x1))

	)

504 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

505 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

506 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x2))

	)

508 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

509 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

510 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x5))

	)

512 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

513 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

514 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x8))

	)

516 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

517 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

518 && ((((
__c⁄°
 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0xe))

	)

521 #ifde‡
__USE_GNU


523 
	sö6_pktöfo


525 
ö6_addr
 
ùi6_addr
;

526 
ùi6_ifödex
;

530 
	sù6_mtuöfo


532 
sockaddr_ö6
 
ù6m_addr
;

533 
uöt32_t
 
ù6m_mtu
;

538 
	$öë6_›ti⁄_•a˚
 (
__nbyãs
)

539 
__THROW
 
__©åibuã_dïªˇãd__
;

540 
	$öë6_›ti⁄_öô
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

541 
__ty≥
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

542 
	$öë6_›ti⁄_≠≥nd
 (
cmsghdr
 *
__cmsg
,

543 
__c⁄°
 
uöt8_t
 *
__ty≥p
, 
__mu…x
,

544 
__∂usy
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

545 
uöt8_t
 *
	$öë6_›ti⁄_Æloc
 (
cmsghdr
 *
__cmsg
, 
__d©Æí
,

546 
__mu…x
, 
__∂usy
)

547 
__THROW
 
__©åibuã_dïªˇãd__
;

548 
	$öë6_›ti⁄_√xt
 (
__c⁄°
 
cmsghdr
 *
__cmsg
,

549 
uöt8_t
 **
__çåp
)

550 
__THROW
 
__©åibuã_dïªˇãd__
;

551 
	$öë6_›ti⁄_föd
 (
__c⁄°
 
cmsghdr
 *
__cmsg
,

552 
uöt8_t
 **
__çåp
, 
__ty≥
)

553 
__THROW
 
__©åibuã_dïªˇãd__
;

557 
	$öë6_›t_öô
 (*
__extbuf
, 
sockÀn_t
 
__exéí
Ë
__THROW
;

558 
	$öë6_›t_≠≥nd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

559 
uöt8_t
 
__ty≥
, 
sockÀn_t
 
__Àn
, uöt8_à
__Æign
,

560 **
__d©abuÂ
Ë
__THROW
;

561 
	$öë6_›t_föish
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
)

562 
__THROW
;

563 
	$öë6_›t_£t_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

564 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

565 
	$öë6_›t_√xt
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

566 
uöt8_t
 *
__ty≥p
, 
sockÀn_t
 *
__À≈
,

567 **
__d©abuÂ
Ë
__THROW
;

568 
	$öë6_›t_föd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

569 
uöt8_t
 
__ty≥
, 
sockÀn_t
 *
__À≈
,

570 **
__d©abuÂ
Ë
__THROW
;

571 
	$öë6_›t_gë_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

572 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

576 
sockÀn_t
 
	$öë6_πh_•a˚
 (
__ty≥
, 
__£gmíts
Ë
__THROW
;

577 *
	$öë6_πh_öô
 (*
__bp
, 
sockÀn_t
 
__bp_Àn
, 
__ty≥
,

578 
__£gmíts
Ë
__THROW
;

579 
	$öë6_πh_add
 (*
__bp
, 
__c⁄°
 
ö6_addr
 *
__addr
Ë
__THROW
;

580 
	$öë6_πh_ªvî£
 (
__c⁄°
 *
__ö
, *
__out
Ë
__THROW
;

581 
	$öë6_πh_£gmíts
 (
__c⁄°
 *
__bp
Ë
__THROW
;

582 
ö6_addr
 *
	$öë6_πh_gëaddr
 (
__c⁄°
 *
__bp
, 
__ödex
)

583 
__THROW
;

589 
	$gëùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

590 
ö_addr
 
__group
, 
uöt32_t
 *
__fmode
,

591 
uöt32_t
 *
__num§c
, 
ö_addr
 *
__¶i°
)

592 
__THROW
;

595 
	$£tùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

596 
ö_addr
 
__group
, 
uöt32_t
 
__fmode
,

597 
uöt32_t
 
__num§c
,

598 
__c⁄°
 
ö_addr
 *
__¶i°
)

599 
__THROW
;

603 
	$gësour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

604 
__c⁄°
 
sockaddr
 *
__group
,

605 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 *
__fmode
,

606 
uöt32_t
 *
__num§c
,

607 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

610 
	$£tsour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

611 
__c⁄°
 
sockaddr
 *
__group
,

612 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 
__fmode
,

613 
uöt32_t
 
__num§c
,

614 
__c⁄°
 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

617 
__END_DECLS


	@/usr/include/png.h

468 #i‚de‡
PNG_H


469 
	#PNG_H


	)

478 
	#PNG_LIBPNG_VER_STRING
 "1.2.46"

	)

479 
	#PNG_HEADER_VERSION_STRING
 \

480 "Üib≤g vîsi⁄ 1.2.46 - July 9, 2011\n"

	)

482 
	#PNG_LIBPNG_VER_SONUM
 0

	)

483 
	#PNG_LIBPNG_VER_DLLNUM
 13

	)

486 
	#PNG_LIBPNG_VER_MAJOR
 1

	)

487 
	#PNG_LIBPNG_VER_MINOR
 2

	)

488 
	#PNG_LIBPNG_VER_RELEASE
 46

	)

493 
	#PNG_LIBPNG_VER_BUILD
 0

	)

496 
	#PNG_LIBPNG_BUILD_ALPHA
 1

	)

497 
	#PNG_LIBPNG_BUILD_BETA
 2

	)

498 
	#PNG_LIBPNG_BUILD_RC
 3

	)

499 
	#PNG_LIBPNG_BUILD_STABLE
 4

	)

500 
	#PNG_LIBPNG_BUILD_RELEASE_STATUS_MASK
 7

	)

503 
	#PNG_LIBPNG_BUILD_PATCH
 8

	)

505 
	#PNG_LIBPNG_BUILD_PRIVATE
 16

	)

507 
	#PNG_LIBPNG_BUILD_SPECIAL
 32

	)

510 
	#PNG_LIBPNG_BUILD_BASE_TYPE
 
PNG_LIBPNG_BUILD_STABLE


	)

518 
	#PNG_LIBPNG_VER
 10246

	)

520 #i‚de‡
PNG_VERSION_INFO_ONLY


522 
	~"zlib.h
"

526 
	~"≤gc⁄f.h
"

541 #ifde‡
PNG_USER_PRIVATEBUILD


542 
	#PNG_LIBPNG_BUILD_TYPE
 \

543 (
PNG_LIBPNG_BUILD_BASE_TYPE
 | 
PNG_LIBPNG_BUILD_PRIVATE
)

	)

545 #ifde‡
PNG_LIBPNG_SPECIALBUILD


546 
	#PNG_LIBPNG_BUILD_TYPE
 \

547 (
PNG_LIBPNG_BUILD_BASE_TYPE
 | 
PNG_LIBPNG_BUILD_SPECIAL
)

	)

549 
	#PNG_LIBPNG_BUILD_TYPE
 (
PNG_LIBPNG_BUILD_BASE_TYPE
)

	)

553 #i‚de‡
PNG_VERSION_INFO_ONLY


556 #ifde‡
__˝lu•lus


566 #i‚de‡
PNG_NO_TYPECAST_NULL


567 
	#öt_p_NULL
 (*)
NULL


	)

568 
	#≤g_byãp_NULL
 (
≤g_byãp
)
NULL


	)

569 
	#≤g_byãµ_NULL
 (
≤g_byãµ
)
NULL


	)

570 
	#≤g_doubÀp_NULL
 (
≤g_doubÀp
)
NULL


	)

571 
	#≤g_îr‹_±r_NULL
 (
≤g_îr‹_±r
)
NULL


	)

572 
	#≤g_Êush_±r_NULL
 (
≤g_Êush_±r
)
NULL


	)

573 
	#≤g_‰ì_±r_NULL
 (
≤g_‰ì_±r
)
NULL


	)

574 
	#≤g_öf›p_NULL
 (
≤g_öf›p
)
NULL


	)

575 
	#≤g_mÆloc_±r_NULL
 (
≤g_mÆloc_±r
)
NULL


	)

576 
	#≤g_ªad_°©us_±r_NULL
 (
≤g_ªad_°©us_±r
)
NULL


	)

577 
	#≤g_rw_±r_NULL
 (
≤g_rw_±r
)
NULL


	)

578 
	#≤g_°ru˘p_NULL
 (
≤g_°ru˘p
)
NULL


	)

579 
	#≤g_uöt_16p_NULL
 (
≤g_uöt_16p
)
NULL


	)

580 
	#≤g_voidp_NULL
 (
≤g_voidp
)
NULL


	)

581 
	#≤g_wrôe_°©us_±r_NULL
 (
≤g_wrôe_°©us_±r
)
NULL


	)

583 
	#öt_p_NULL
 
NULL


	)

584 
	#≤g_byãp_NULL
 
NULL


	)

585 
	#≤g_byãµ_NULL
 
NULL


	)

586 
	#≤g_doubÀp_NULL
 
NULL


	)

587 
	#≤g_îr‹_±r_NULL
 
NULL


	)

588 
	#≤g_Êush_±r_NULL
 
NULL


	)

589 
	#≤g_‰ì_±r_NULL
 
NULL


	)

590 
	#≤g_öf›p_NULL
 
NULL


	)

591 
	#≤g_mÆloc_±r_NULL
 
NULL


	)

592 
	#≤g_ªad_°©us_±r_NULL
 
NULL


	)

593 
	#≤g_rw_±r_NULL
 
NULL


	)

594 
	#≤g_°ru˘p_NULL
 
NULL


	)

595 
	#≤g_uöt_16p_NULL
 
NULL


	)

596 
	#≤g_voidp_NULL
 
NULL


	)

597 
	#≤g_wrôe_°©us_±r_NULL
 
NULL


	)

601 #i‡!
deföed
(
PNG_NO_EXTERN
Ë|| deföed(
PNG_ALWAYS_EXTERN
)

605 #ifde‡
PNG_USE_GLOBAL_ARRAYS


606 
PNG_EXPORT_VAR
 (
PNG_CONST
 Ë
≤g_lib≤g_vî
[18];

609 
	#≤g_lib≤g_vî
 
	`≤g_gë_hódî_vî
(
NULL
)

	)

612 #ifde‡
PNG_USE_GLOBAL_ARRAYS


615 
PNG_EXPORT_VAR
 (
PNG_CONST
 
FARDATA
Ë
≤g_∑ss_°¨t
[7];

616 
PNG_EXPORT_VAR
 (
PNG_CONST
 
FARDATA
Ë
≤g_∑ss_öc
[7];

617 
PNG_EXPORT_VAR
 (
PNG_CONST
 
FARDATA
Ë
≤g_∑ss_y°¨t
[7];

618 
PNG_EXPORT_VAR
 (
PNG_CONST
 
FARDATA
Ë
≤g_∑ss_yöc
[7];

619 
PNG_EXPORT_VAR
 (
PNG_CONST
 
FARDATA
Ë
≤g_∑ss_mask
[7];

620 
PNG_EXPORT_VAR
 (
PNG_CONST
 
FARDATA
Ë
≤g_∑ss_d•_mask
[7];

632 
	s≤g_cﬁ‹_°ru˘


634 
≤g_byã
 
ªd
;

635 
≤g_byã
 
gªí
;

636 
≤g_byã
 
blue
;

637 } 
	t≤g_cﬁ‹
;

638 
≤g_cﬁ‹
 
	tFAR
 * 
	t≤g_cﬁ‹p
;

639 
≤g_cﬁ‹
 
	tFAR
 * FAR * 
	t≤g_cﬁ‹µ
;

641 
	s≤g_cﬁ‹_16_°ru˘


643 
≤g_byã
 
ödex
;

644 
≤g_uöt_16
 
ªd
;

645 
≤g_uöt_16
 
gªí
;

646 
≤g_uöt_16
 
blue
;

647 
≤g_uöt_16
 
gøy
;

648 } 
	t≤g_cﬁ‹_16
;

649 
≤g_cﬁ‹_16
 
	tFAR
 * 
	t≤g_cﬁ‹_16p
;

650 
≤g_cﬁ‹_16
 
	tFAR
 * FAR * 
	t≤g_cﬁ‹_16µ
;

652 
	s≤g_cﬁ‹_8_°ru˘


654 
≤g_byã
 
ªd
;

655 
≤g_byã
 
gªí
;

656 
≤g_byã
 
blue
;

657 
≤g_byã
 
gøy
;

658 
≤g_byã
 
Æpha
;

659 } 
	t≤g_cﬁ‹_8
;

660 
≤g_cﬁ‹_8
 
	tFAR
 * 
	t≤g_cﬁ‹_8p
;

661 
≤g_cﬁ‹_8
 
	tFAR
 * FAR * 
	t≤g_cﬁ‹_8µ
;

667 
	s≤g_sPLT_íåy_°ru˘


669 
≤g_uöt_16
 
ªd
;

670 
≤g_uöt_16
 
gªí
;

671 
≤g_uöt_16
 
blue
;

672 
≤g_uöt_16
 
Æpha
;

673 
≤g_uöt_16
 
‰equícy
;

674 } 
	t≤g_sPLT_íåy
;

675 
≤g_sPLT_íåy
 
	tFAR
 * 
	t≤g_sPLT_íåyp
;

676 
≤g_sPLT_íåy
 
	tFAR
 * FAR * 
	t≤g_sPLT_íåyµ
;

683 
	s≤g_sPLT_°ru˘


685 
≤g_ch¨p
 
«me
;

686 
≤g_byã
 
dïth
;

687 
≤g_sPLT_íåyp
 
íåõs
;

688 
≤g_öt_32
 
√¡rõs
;

689 } 
	t≤g_sPLT_t
;

690 
≤g_sPLT_t
 
	tFAR
 * 
	t≤g_sPLT_ç
;

691 
≤g_sPLT_t
 
	tFAR
 * FAR * 
	t≤g_sPLT_çp
;

693 #ifde‡
PNG_TEXT_SUPPORTED


702 
	s≤g_ãxt_°ru˘


704 
com¥essi⁄
;

709 
≤g_ch¨p
 
key
;

710 
≤g_ch¨p
 
ãxt
;

712 
≤g_size_t
 
ãxt_Àngth
;

713 #ifde‡
PNG_iTXt_SUPPORTED


714 
≤g_size_t
 
ôxt_Àngth
;

715 
≤g_ch¨p
 
œng
;

717 
≤g_ch¨p
 
œng_key
;

720 } 
	t≤g_ãxt
;

721 
≤g_ãxt
 
	tFAR
 * 
	t≤g_ãxç
;

722 
≤g_ãxt
 
	tFAR
 * FAR * 
	t≤g_ãxçp
;

728 
	#PNG_TEXT_COMPRESSION_NONE_WR
 -3

	)

729 
	#PNG_TEXT_COMPRESSION_zTXt_WR
 -2

	)

730 
	#PNG_TEXT_COMPRESSION_NONE
 -1

	)

731 
	#PNG_TEXT_COMPRESSION_zTXt
 0

	)

732 
	#PNG_ITXT_COMPRESSION_NONE
 1

	)

733 
	#PNG_ITXT_COMPRESSION_zTXt
 2

	)

734 
	#PNG_TEXT_COMPRESSION_LAST
 3

	)

742 
	s≤g_time_°ru˘


744 
≤g_uöt_16
 
yór
;

745 
≤g_byã
 
m⁄th
;

746 
≤g_byã
 
day
;

747 
≤g_byã
 
hour
;

748 
≤g_byã
 
möuã
;

749 
≤g_byã
 
£c⁄d
;

750 } 
	t≤g_time
;

751 
≤g_time
 
	tFAR
 * 
	t≤g_timï
;

752 
≤g_time
 
	tFAR
 * FAR * 
	t≤g_timïp
;

754 #i‡
deföed
(
PNG_UNKNOWN_CHUNKS_SUPPORTED
) || \

755 
deföed
(
PNG_HANDLE_AS_UNKNOWN_SUPPORTED
)

761 
	#PNG_CHUNK_NAME_LENGTH
 5

	)

762 
	s≤g_unknown_chunk_t


764 
≤g_byã
 
«me
[
PNG_CHUNK_NAME_LENGTH
];

765 
≤g_byã
 *
d©a
;

766 
≤g_size_t
 
size
;

769 
≤g_byã
 
loˇti⁄
;

771 
	t≤g_unknown_chunk
;

772 
≤g_unknown_chunk
 
	tFAR
 * 
	t≤g_unknown_chunkp
;

773 
≤g_unknown_chunk
 
	tFAR
 * FAR * 
	t≤g_unknown_chunkµ
;

815 
	s≤g_öfo_°ru˘


818 
≤g_uöt_32
 
width
 
PNG_DEPSTRUCT
;

819 
≤g_uöt_32
 
height
 
PNG_DEPSTRUCT
;

820 
≤g_uöt_32
 
vÆid
 
PNG_DEPSTRUCT
;

821 
≤g_uöt_32
 
rowbyãs
 
PNG_DEPSTRUCT
;

822 
≤g_cﬁ‹p
 
∑Àâe
 
PNG_DEPSTRUCT
;

823 
≤g_uöt_16
 
num_∑Àâe
 
PNG_DEPSTRUCT
;

824 
≤g_uöt_16
 
num_å™s
 
PNG_DEPSTRUCT
;

825 
≤g_byã
 
bô_dïth
 
PNG_DEPSTRUCT
;

826 
≤g_byã
 
cﬁ‹_ty≥
 
PNG_DEPSTRUCT
;

828 
≤g_byã
 
com¥essi⁄_ty≥
 
PNG_DEPSTRUCT
;

829 
≤g_byã
 
fûãr_ty≥
 
PNG_DEPSTRUCT
;

830 
≤g_byã
 
öãæa˚_ty≥
 
PNG_DEPSTRUCT
;

833 
≤g_byã
 
ch™√ls
 
PNG_DEPSTRUCT
;

834 
≤g_byã
 
pixñ_dïth
 
PNG_DEPSTRUCT
;

835 
≤g_byã
 
•¨e_byã
 
PNG_DEPSTRUCT
;

836 
≤g_byã
 
sig«tuª
[8] 
PNG_DEPSTRUCT
;

844 #i‡
deföed
(
PNG_gAMA_SUPPORTED
Ë&& deföed(
PNG_FLOATING_POINT_SUPPORTED
)

849 
gamma
 
PNG_DEPSTRUCT
;

852 #ifde‡
PNG_sRGB_SUPPORTED


855 
≤g_byã
 
§gb_öã¡
 
PNG_DEPSTRUCT
;

858 #ifde‡
PNG_TEXT_SUPPORTED


867 
num_ãxt
 
PNG_DEPSTRUCT
;

868 
max_ãxt
 
PNG_DEPSTRUCT
;

869 
≤g_ãxç
 
ãxt
 
PNG_DEPSTRUCT
;

872 #ifde‡
PNG_tIME_SUPPORTED


876 
≤g_time
 
mod_time
 
PNG_DEPSTRUCT
;

879 #ifde‡
PNG_sBIT_SUPPORTED


886 
≤g_cﬁ‹_8
 
sig_bô
 
PNG_DEPSTRUCT
;

889 #i‡
deföed
(
PNG_tRNS_SUPPORTED
Ë|| deföed(
PNG_READ_EXPAND_SUPPORTED
) || \

890 
deföed
(
PNG_READ_BACKGROUND_SUPPORTED
)

900 
≤g_byãp
 
å™s
 
PNG_DEPSTRUCT
;

901 
≤g_cﬁ‹_16
 
å™s_vÆues
 
PNG_DEPSTRUCT
;

904 #i‡
deföed
(
PNG_bKGD_SUPPORTED
Ë|| deföed(
PNG_READ_BACKGROUND_SUPPORTED
)

911 
≤g_cﬁ‹_16
 
background
 
PNG_DEPSTRUCT
;

914 #ifde‡
PNG_oFFs_SUPPORTED


920 
≤g_öt_32
 
x_off£t
 
PNG_DEPSTRUCT
;

921 
≤g_öt_32
 
y_off£t
 
PNG_DEPSTRUCT
;

922 
≤g_byã
 
off£t_unô_ty≥
 
PNG_DEPSTRUCT
;

925 #ifde‡
PNG_pHYs_SUPPORTED


930 
≤g_uöt_32
 
x_pixñs_≥r_unô
 
PNG_DEPSTRUCT
;

931 
≤g_uöt_32
 
y_pixñs_≥r_unô
 
PNG_DEPSTRUCT
;

932 
≤g_byã
 
phys_unô_ty≥
 
PNG_DEPSTRUCT
;

935 #ifde‡
PNG_hIST_SUPPORTED


942 
≤g_uöt_16p
 
hi°
 
PNG_DEPSTRUCT
;

945 #ifde‡
PNG_cHRM_SUPPORTED


952 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


953 
x_whôe
 
PNG_DEPSTRUCT
;

954 
y_whôe
 
PNG_DEPSTRUCT
;

955 
x_ªd
 
PNG_DEPSTRUCT
;

956 
y_ªd
 
PNG_DEPSTRUCT
;

957 
x_gªí
 
PNG_DEPSTRUCT
;

958 
y_gªí
 
PNG_DEPSTRUCT
;

959 
x_blue
 
PNG_DEPSTRUCT
;

960 
y_blue
 
PNG_DEPSTRUCT
;

964 #ifde‡
PNG_pCAL_SUPPORTED


976 
≤g_ch¨p
 
pˇl_puΩo£
 
PNG_DEPSTRUCT
;

977 
≤g_öt_32
 
pˇl_X0
 
PNG_DEPSTRUCT
;

978 
≤g_öt_32
 
pˇl_X1
 
PNG_DEPSTRUCT
;

979 
≤g_ch¨p
 
pˇl_unôs
 
PNG_DEPSTRUCT
;

980 
≤g_ch¨µ
 
pˇl_∑øms
 
PNG_DEPSTRUCT
;

981 
≤g_byã
 
pˇl_ty≥
 
PNG_DEPSTRUCT
;

982 
≤g_byã
 
pˇl_≈¨ams
 
PNG_DEPSTRUCT
;

986 #ifde‡
PNG_FREE_ME_SUPPORTED


987 
≤g_uöt_32
 
‰ì_me
 
PNG_DEPSTRUCT
;

990 #i‡
deföed
(
PNG_UNKNOWN_CHUNKS_SUPPORTED
) || \

991 
deföed
(
PNG_HANDLE_AS_UNKNOWN_SUPPORTED
)

993 
≤g_unknown_chunkp
 
unknown_chunks
 
PNG_DEPSTRUCT
;

994 
≤g_size_t
 
unknown_chunks_num
 
PNG_DEPSTRUCT
;

997 #ifde‡
PNG_iCCP_SUPPORTED


999 
≤g_ch¨p
 
ic˝_«me
 
PNG_DEPSTRUCT
;

1000 
≤g_ch¨p
 
ic˝_¥ofûe
 
PNG_DEPSTRUCT
;

1002 
≤g_uöt_32
 
ic˝_¥oÊí
 
PNG_DEPSTRUCT
;

1003 
≤g_byã
 
ic˝_com¥essi⁄
 
PNG_DEPSTRUCT
;

1006 #ifde‡
PNG_sPLT_SUPPORTED


1008 
≤g_sPLT_ç
 
•…_∑Àâes
 
PNG_DEPSTRUCT
;

1009 
≤g_uöt_32
 
•…_∑Àâes_num
 
PNG_DEPSTRUCT
;

1012 #ifde‡
PNG_sCAL_SUPPORTED


1020 
≤g_byã
 
sˇl_unô
 
PNG_DEPSTRUCT
;

1021 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1022 
sˇl_pixñ_width
 
PNG_DEPSTRUCT
;

1023 
sˇl_pixñ_height
 
PNG_DEPSTRUCT
;

1025 #ifde‡
PNG_FIXED_POINT_SUPPORTED


1026 
≤g_ch¨p
 
sˇl_s_width
 
PNG_DEPSTRUCT
;

1027 
≤g_ch¨p
 
sˇl_s_height
 
PNG_DEPSTRUCT
;

1031 #ifde‡
PNG_INFO_IMAGE_SUPPORTED


1034 
≤g_byãµ
 
row_poöãrs
 
PNG_DEPSTRUCT
;

1037 #i‡
deföed
(
PNG_FIXED_POINT_SUPPORTED
Ë&& deföed(
PNG_gAMA_SUPPORTED
)

1038 
≤g_fixed_poöt
 
öt_gamma
 
PNG_DEPSTRUCT
;

1041 #i‡
deföed
(
PNG_cHRM_SUPPORTED
Ë&& deföed(
PNG_FIXED_POINT_SUPPORTED
)

1042 
≤g_fixed_poöt
 
öt_x_whôe
 
PNG_DEPSTRUCT
;

1043 
≤g_fixed_poöt
 
öt_y_whôe
 
PNG_DEPSTRUCT
;

1044 
≤g_fixed_poöt
 
öt_x_ªd
 
PNG_DEPSTRUCT
;

1045 
≤g_fixed_poöt
 
öt_y_ªd
 
PNG_DEPSTRUCT
;

1046 
≤g_fixed_poöt
 
öt_x_gªí
 
PNG_DEPSTRUCT
;

1047 
≤g_fixed_poöt
 
öt_y_gªí
 
PNG_DEPSTRUCT
;

1048 
≤g_fixed_poöt
 
öt_x_blue
 
PNG_DEPSTRUCT
;

1049 
≤g_fixed_poöt
 
öt_y_blue
 
PNG_DEPSTRUCT
;

1052 } 
	t≤g_öfo
;

1054 
≤g_öfo
 
	tFAR
 * 
	t≤g_öf›
;

1055 
≤g_öfo
 
	tFAR
 * FAR * 
	t≤g_öf›p
;

1058 
	#PNG_UINT_31_MAX
 ((
≤g_uöt_32
)0x7fffffffL)

	)

1059 
	#PNG_UINT_32_MAX
 ((
≤g_uöt_32
)(-1))

	)

1060 
	#PNG_SIZE_MAX
 ((
≤g_size_t
)(-1))

	)

1061 #i‡
deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

1063 
	#PNG_MAX_UINT
 
PNG_UINT_31_MAX


	)

1068 
	#PNG_COLOR_MASK_PALETTE
 1

	)

1069 
	#PNG_COLOR_MASK_COLOR
 2

	)

1070 
	#PNG_COLOR_MASK_ALPHA
 4

	)

1073 
	#PNG_COLOR_TYPE_GRAY
 0

	)

1074 
	#PNG_COLOR_TYPE_PALETTE
 (
PNG_COLOR_MASK_COLOR
 | 
PNG_COLOR_MASK_PALETTE
)

	)

1075 
	#PNG_COLOR_TYPE_RGB
 (
PNG_COLOR_MASK_COLOR
)

	)

1076 
	#PNG_COLOR_TYPE_RGB_ALPHA
 (
PNG_COLOR_MASK_COLOR
 | 
PNG_COLOR_MASK_ALPHA
)

	)

1077 
	#PNG_COLOR_TYPE_GRAY_ALPHA
 (
PNG_COLOR_MASK_ALPHA
)

	)

1079 
	#PNG_COLOR_TYPE_RGBA
 
PNG_COLOR_TYPE_RGB_ALPHA


	)

1080 
	#PNG_COLOR_TYPE_GA
 
PNG_COLOR_TYPE_GRAY_ALPHA


	)

1083 
	#PNG_COMPRESSION_TYPE_BASE
 0

	)

1084 
	#PNG_COMPRESSION_TYPE_DEFAULT
 
PNG_COMPRESSION_TYPE_BASE


	)

1087 
	#PNG_FILTER_TYPE_BASE
 0

	)

1088 
	#PNG_INTRAPIXEL_DIFFERENCING
 64

	)

1089 
	#PNG_FILTER_TYPE_DEFAULT
 
PNG_FILTER_TYPE_BASE


	)

1092 
	#PNG_INTERLACE_NONE
 0

	)

1093 
	#PNG_INTERLACE_ADAM7
 1

	)

1094 
	#PNG_INTERLACE_LAST
 2

	)

1097 
	#PNG_OFFSET_PIXEL
 0

	)

1098 
	#PNG_OFFSET_MICROMETER
 1

	)

1099 
	#PNG_OFFSET_LAST
 2

	)

1102 
	#PNG_EQUATION_LINEAR
 0

	)

1103 
	#PNG_EQUATION_BASE_E
 1

	)

1104 
	#PNG_EQUATION_ARBITRARY
 2

	)

1105 
	#PNG_EQUATION_HYPERBOLIC
 3

	)

1106 
	#PNG_EQUATION_LAST
 4

	)

1109 
	#PNG_SCALE_UNKNOWN
 0

	)

1110 
	#PNG_SCALE_METER
 1

	)

1111 
	#PNG_SCALE_RADIAN
 2

	)

1112 
	#PNG_SCALE_LAST
 3

	)

1115 
	#PNG_RESOLUTION_UNKNOWN
 0

	)

1116 
	#PNG_RESOLUTION_METER
 1

	)

1117 
	#PNG_RESOLUTION_LAST
 2

	)

1120 
	#PNG_sRGB_INTENT_PERCEPTUAL
 0

	)

1121 
	#PNG_sRGB_INTENT_RELATIVE
 1

	)

1122 
	#PNG_sRGB_INTENT_SATURATION
 2

	)

1123 
	#PNG_sRGB_INTENT_ABSOLUTE
 3

	)

1124 
	#PNG_sRGB_INTENT_LAST
 4

	)

1127 
	#PNG_KEYWORD_MAX_LENGTH
 79

	)

1130 
	#PNG_MAX_PALETTE_LENGTH
 256

	)

1137 
	#PNG_INFO_gAMA
 0x0001

	)

1138 
	#PNG_INFO_sBIT
 0x0002

	)

1139 
	#PNG_INFO_cHRM
 0x0004

	)

1140 
	#PNG_INFO_PLTE
 0x0008

	)

1141 
	#PNG_INFO_tRNS
 0x0010

	)

1142 
	#PNG_INFO_bKGD
 0x0020

	)

1143 
	#PNG_INFO_hIST
 0x0040

	)

1144 
	#PNG_INFO_pHYs
 0x0080

	)

1145 
	#PNG_INFO_oFFs
 0x0100

	)

1146 
	#PNG_INFO_tIME
 0x0200

	)

1147 
	#PNG_INFO_pCAL
 0x0400

	)

1148 
	#PNG_INFO_sRGB
 0x0800

	)

1149 
	#PNG_INFO_iCCP
 0x1000

	)

1150 
	#PNG_INFO_sPLT
 0x2000

	)

1151 
	#PNG_INFO_sCAL
 0x4000

	)

1152 
	#PNG_INFO_IDAT
 0x8000L

	)

1158 
	s≤g_row_öfo_°ru˘


1160 
≤g_uöt_32
 
width
;

1161 
≤g_uöt_32
 
rowbyãs
;

1162 
≤g_byã
 
cﬁ‹_ty≥
;

1163 
≤g_byã
 
bô_dïth
;

1164 
≤g_byã
 
ch™√ls
;

1165 
≤g_byã
 
pixñ_dïth
;

1166 } 
	t≤g_row_öfo
;

1168 
≤g_row_öfo
 
	tFAR
 * 
	t≤g_row_öf›
;

1169 
≤g_row_öfo
 
	tFAR
 * FAR * 
	t≤g_row_öf›p
;

1177 
≤g_°ru˘_def
 
	t≤g_°ru˘
;

1178 
≤g_°ru˘
 
	tFAR
 * 
	t≤g_°ru˘p
;

1180 (
PNGAPI
 *
	t≤g_îr‹_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_c⁄°_ch¨p
));

1181 (
PNGAPI
 *
	t≤g_rw_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_byãp
, 
	t≤g_size_t
));

1182 (
PNGAPI
 *
	t≤g_Êush_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
));

1183 (
PNGAPI
 *
	t≤g_ªad_°©us_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_uöt_32
,

1185 (
PNGAPI
 *
	t≤g_wrôe_°©us_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_uöt_32
,

1188 #ifde‡
PNG_PROGRESSIVE_READ_SUPPORTED


1189 (
PNGAPI
 *
	t≤g_¥ogªssive_öfo_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_öf›
));

1190 (
PNGAPI
 *
	t≤g_¥ogªssive_íd_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_öf›
));

1191 (
PNGAPI
 *
	t≤g_¥ogªssive_row_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_byãp
,

1192 
	t≤g_uöt_32
, ));

1195 #i‡
deföed
(
PNG_READ_USER_TRANSFORM_SUPPORTED
) || \

1196 
deföed
(
PNG_WRITE_USER_TRANSFORM_SUPPORTED
) || \

1197 
deföed
(
PNG_LEGACY_SUPPORTED
)

1198 (
PNGAPI
 *
	t≤g_u£r_å™sf‹m_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
,

1199 
	t≤g_row_öf›
, 
	t≤g_byãp
));

1202 #ifde‡
PNG_USER_CHUNKS_SUPPORTED


1203 (
PNGAPI
 *
	t≤g_u£r_chunk_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_unknown_chunkp
));

1205 #ifde‡
PNG_UNKNOWN_CHUNKS_SUPPORTED


1206 (
PNGAPI
 *
	t≤g_unknown_chunk_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
));

1210 
	#PNG_TRANSFORM_IDENTITY
 0x0000

	)

1211 
	#PNG_TRANSFORM_STRIP_16
 0x0001

	)

1212 
	#PNG_TRANSFORM_STRIP_ALPHA
 0x0002

	)

1213 
	#PNG_TRANSFORM_PACKING
 0x0004

	)

1214 
	#PNG_TRANSFORM_PACKSWAP
 0x0008

	)

1215 
	#PNG_TRANSFORM_EXPAND
 0x0010

	)

1216 
	#PNG_TRANSFORM_INVERT_MONO
 0x0020

	)

1217 
	#PNG_TRANSFORM_SHIFT
 0x0040

	)

1218 
	#PNG_TRANSFORM_BGR
 0x0080

	)

1219 
	#PNG_TRANSFORM_SWAP_ALPHA
 0x0100

	)

1220 
	#PNG_TRANSFORM_SWAP_ENDIAN
 0x0200

	)

1221 
	#PNG_TRANSFORM_INVERT_ALPHA
 0x0400

	)

1222 
	#PNG_TRANSFORM_STRIP_FILLER
 0x0800

	)

1224 
	#PNG_TRANSFORM_STRIP_FILLER_BEFORE
 0x0800

	)

1225 
	#PNG_TRANSFORM_STRIP_FILLER_AFTER
 0x1000

	)

1227 
	#PNG_TRANSFORM_GRAY_TO_RGB
 0x2000

	)

1230 
	#PNG_FLAG_MNG_EMPTY_PLTE
 0x01

	)

1231 
	#PNG_FLAG_MNG_FILTER_64
 0x04

	)

1232 
	#PNG_ALL_MNG_FEATURES
 0x05

	)

1234 
≤g_voidp
 (*
	t≤g_mÆloc_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_size_t
));

1235 (*
≤g_‰ì_±r
Ë
	tPNGARG
((
	t≤g_°ru˘p
, 
	t≤g_voidp
));

1244 
	s≤g_°ru˘_def


1246 #ifde‡
PNG_SETJMP_SUPPORTED


1247 
jmp_buf
 
jmpbuf
;

1249 
≤g_îr‹_±r
 
îr‹_‚
 
PNG_DEPSTRUCT
;

1250 
≤g_îr‹_±r
 
w¨nög_‚
 
PNG_DEPSTRUCT
;

1251 
≤g_voidp
 
îr‹_±r
 
PNG_DEPSTRUCT
;

1252 
≤g_rw_±r
 
wrôe_d©a_‚
 
PNG_DEPSTRUCT
;

1253 
≤g_rw_±r
 
ªad_d©a_‚
 
PNG_DEPSTRUCT
;

1254 
≤g_voidp
 
io_±r
 
PNG_DEPSTRUCT
;

1256 #ifde‡
PNG_READ_USER_TRANSFORM_SUPPORTED


1257 
≤g_u£r_å™sf‹m_±r
 
ªad_u£r_å™sf‹m_‚
 
PNG_DEPSTRUCT
;

1260 #ifde‡
PNG_WRITE_USER_TRANSFORM_SUPPORTED


1261 
≤g_u£r_å™sf‹m_±r
 
wrôe_u£r_å™sf‹m_‚
 
PNG_DEPSTRUCT
;

1265 #ifde‡
PNG_USER_TRANSFORM_PTR_SUPPORTED


1266 #i‡
deföed
(
PNG_READ_USER_TRANSFORM_SUPPORTED
) || \

1267 
deföed
(
PNG_WRITE_USER_TRANSFORM_SUPPORTED
)

1268 
≤g_voidp
 
u£r_å™sf‹m_±r
 
PNG_DEPSTRUCT
;

1269 
≤g_byã
 
u£r_å™sf‹m_dïth
 
PNG_DEPSTRUCT
;

1270 
≤g_byã
 
u£r_å™sf‹m_ch™√ls
 
PNG_DEPSTRUCT
;

1274 
≤g_uöt_32
 
mode
 
PNG_DEPSTRUCT
;

1275 
≤g_uöt_32
 
Êags
 
PNG_DEPSTRUCT
;

1276 
≤g_uöt_32
 
å™sf‹m©i⁄s
 
PNG_DEPSTRUCT
;

1278 
z_°ªam
 
z°ªam
 
PNG_DEPSTRUCT
;

1279 
≤g_byãp
 
zbuf
 
PNG_DEPSTRUCT
;

1280 
≤g_size_t
 
zbuf_size
 
PNG_DEPSTRUCT
;

1281 
zlib_Àvñ
 
PNG_DEPSTRUCT
;

1282 
zlib_mëhod
 
PNG_DEPSTRUCT
;

1283 
zlib_wödow_bôs
 
PNG_DEPSTRUCT
;

1284 
zlib_mem_Àvñ
 
PNG_DEPSTRUCT
;

1285 
zlib_°øãgy
 
PNG_DEPSTRUCT
;

1287 
≤g_uöt_32
 
width
 
PNG_DEPSTRUCT
;

1288 
≤g_uöt_32
 
height
 
PNG_DEPSTRUCT
;

1289 
≤g_uöt_32
 
num_rows
 
PNG_DEPSTRUCT
;

1290 
≤g_uöt_32
 
u§_width
 
PNG_DEPSTRUCT
;

1291 
≤g_uöt_32
 
rowbyãs
 
PNG_DEPSTRUCT
;

1293 
≤g_size_t
 
úowbyãs
 
PNG_DEPSTRUCT
;

1296 #ifde‡
PNG_USER_LIMITS_SUPPORTED


1300 
≤g_uöt_32
 
u£r_chunk_ˇche_max
 
PNG_DEPSTRUCT
;

1302 
≤g_uöt_32
 
iwidth
 
PNG_DEPSTRUCT
;

1303 
≤g_uöt_32
 
row_numbî
 
PNG_DEPSTRUCT
;

1304 
≤g_byãp
 
¥ev_row
 
PNG_DEPSTRUCT
;

1305 
≤g_byãp
 
row_buf
 
PNG_DEPSTRUCT
;

1306 #i‚de‡
PNG_NO_WRITE_FILTER


1307 
≤g_byãp
 
sub_row
 
PNG_DEPSTRUCT
;

1308 
≤g_byãp
 
up_row
 
PNG_DEPSTRUCT
;

1309 
≤g_byãp
 
avg_row
 
PNG_DEPSTRUCT
;

1310 
≤g_byãp
 
∑ëh_row
 
PNG_DEPSTRUCT
;

1312 
≤g_row_öfo
 
row_öfo
 
PNG_DEPSTRUCT
;

1314 
≤g_uöt_32
 
id©_size
 
PNG_DEPSTRUCT
;

1315 
≤g_uöt_32
 
¸c
 
PNG_DEPSTRUCT
;

1316 
≤g_cﬁ‹p
 
∑Àâe
 
PNG_DEPSTRUCT
;

1317 
≤g_uöt_16
 
num_∑Àâe
 
PNG_DEPSTRUCT
;

1318 
≤g_uöt_16
 
num_å™s
 
PNG_DEPSTRUCT
;

1319 
≤g_byã
 
chunk_«me
[5] 
PNG_DEPSTRUCT
;

1320 
≤g_byã
 
com¥essi⁄
 
PNG_DEPSTRUCT
;

1321 
≤g_byã
 
fûãr
 
PNG_DEPSTRUCT
;

1322 
≤g_byã
 
öãæa˚d
 
PNG_DEPSTRUCT
;

1323 
≤g_byã
 
∑ss
 
PNG_DEPSTRUCT
;

1324 
≤g_byã
 
do_fûãr
 
PNG_DEPSTRUCT
;

1325 
≤g_byã
 
cﬁ‹_ty≥
 
PNG_DEPSTRUCT
;

1326 
≤g_byã
 
bô_dïth
 
PNG_DEPSTRUCT
;

1327 
≤g_byã
 
u§_bô_dïth
 
PNG_DEPSTRUCT
;

1328 
≤g_byã
 
pixñ_dïth
 
PNG_DEPSTRUCT
;

1329 
≤g_byã
 
ch™√ls
 
PNG_DEPSTRUCT
;

1330 
≤g_byã
 
u§_ch™√ls
 
PNG_DEPSTRUCT
;

1331 
≤g_byã
 
sig_byãs
 
PNG_DEPSTRUCT
;

1333 #i‡
deföed
(
PNG_READ_FILLER_SUPPORTED
Ë|| deföed(
PNG_WRITE_FILLER_SUPPORTED
)

1334 #ifde‡
PNG_LEGACY_SUPPORTED


1335 
≤g_byã
 
fûÀr
 
PNG_DEPSTRUCT
;

1337 
≤g_uöt_16
 
fûÀr
 
PNG_DEPSTRUCT
;

1341 #ifde‡
PNG_bKGD_SUPPORTED


1342 
≤g_byã
 
background_gamma_ty≥
 
PNG_DEPSTRUCT
;

1343 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1344 
background_gamma
 
PNG_DEPSTRUCT
;

1346 
≤g_cﬁ‹_16
 
background
 
PNG_DEPSTRUCT
;

1347 #ifde‡
PNG_READ_GAMMA_SUPPORTED


1348 
≤g_cﬁ‹_16
 
background_1
 
PNG_DEPSTRUCT
;

1352 #ifde‡
PNG_WRITE_FLUSH_SUPPORTED


1353 
≤g_Êush_±r
 
ouçut_Êush_‚
 
PNG_DEPSTRUCT
;

1354 
≤g_uöt_32
 
Êush_di°
 
PNG_DEPSTRUCT
;

1355 
≤g_uöt_32
 
Êush_rows
 
PNG_DEPSTRUCT
;

1358 #i‡
deföed
(
PNG_READ_GAMMA_SUPPORTED
Ë|| deföed(
PNG_READ_BACKGROUND_SUPPORTED
)

1359 
gamma_shi·
 
PNG_DEPSTRUCT
;

1360 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1361 
gamma
 
PNG_DEPSTRUCT
;

1362 
s¸ìn_gamma
 
PNG_DEPSTRUCT
;

1366 #i‡
deföed
(
PNG_READ_GAMMA_SUPPORTED
Ë|| deföed(
PNG_READ_BACKGROUND_SUPPORTED
)

1367 
≤g_byãp
 
gamma_èbÀ
 
PNG_DEPSTRUCT
;

1368 
≤g_byãp
 
gamma_‰om_1
 
PNG_DEPSTRUCT
;

1369 
≤g_byãp
 
gamma_to_1
 
PNG_DEPSTRUCT
;

1370 
≤g_uöt_16µ
 
gamma_16_èbÀ
 
PNG_DEPSTRUCT
;

1371 
≤g_uöt_16µ
 
gamma_16_‰om_1
 
PNG_DEPSTRUCT
;

1372 
≤g_uöt_16µ
 
gamma_16_to_1
 
PNG_DEPSTRUCT
;

1375 #i‡
deföed
(
PNG_READ_GAMMA_SUPPORTED
Ë|| deföed(
PNG_sBIT_SUPPORTED
)

1376 
≤g_cﬁ‹_8
 
sig_bô
 
PNG_DEPSTRUCT
;

1379 #i‡
deföed
(
PNG_READ_SHIFT_SUPPORTED
Ë|| deföed(
PNG_WRITE_SHIFT_SUPPORTED
)

1380 
≤g_cﬁ‹_8
 
shi·
 
PNG_DEPSTRUCT
;

1383 #i‡
deföed
(
PNG_tRNS_SUPPORTED
Ë|| deföed(
PNG_READ_BACKGROUND_SUPPORTED
) \

1384 || 
deföed
(
PNG_READ_EXPAND_SUPPORTED
Ë|| deföed(
PNG_READ_BACKGROUND_SUPPORTED
)

1385 
≤g_byãp
 
å™s
 
PNG_DEPSTRUCT
;

1386 
≤g_cﬁ‹_16
 
å™s_vÆues
 
PNG_DEPSTRUCT
;

1389 
≤g_ªad_°©us_±r
 
ªad_row_‚
 
PNG_DEPSTRUCT
;

1390 
≤g_wrôe_°©us_±r
 
wrôe_row_‚
 
PNG_DEPSTRUCT
;

1391 #ifde‡
PNG_PROGRESSIVE_READ_SUPPORTED


1392 
≤g_¥ogªssive_öfo_±r
 
öfo_‚
 
PNG_DEPSTRUCT
;

1393 
≤g_¥ogªssive_row_±r
 
row_‚
 
PNG_DEPSTRUCT
;

1394 
≤g_¥ogªssive_íd_±r
 
íd_‚
 
PNG_DEPSTRUCT
;

1395 
≤g_byãp
 
ßve_buf„r_±r
 
PNG_DEPSTRUCT
;

1396 
≤g_byãp
 
ßve_buf„r
 
PNG_DEPSTRUCT
;

1397 
≤g_byãp
 
cuºít_buf„r_±r
 
PNG_DEPSTRUCT
;

1398 
≤g_byãp
 
cuºít_buf„r
 
PNG_DEPSTRUCT
;

1399 
≤g_uöt_32
 
push_Àngth
 
PNG_DEPSTRUCT
;

1400 
≤g_uöt_32
 
skù_Àngth
 
PNG_DEPSTRUCT
;

1401 
≤g_size_t
 
ßve_buf„r_size
 
PNG_DEPSTRUCT
;

1402 
≤g_size_t
 
ßve_buf„r_max
 
PNG_DEPSTRUCT
;

1403 
≤g_size_t
 
buf„r_size
 
PNG_DEPSTRUCT
;

1404 
≤g_size_t
 
cuºít_buf„r_size
 
PNG_DEPSTRUCT
;

1405 
¥o˚ss_mode
 
PNG_DEPSTRUCT
;

1406 
cur_∑Àâe
 
PNG_DEPSTRUCT
;

1408 #ifde‡
PNG_TEXT_SUPPORTED


1409 
≤g_size_t
 
cuºít_ãxt_size
 
PNG_DEPSTRUCT
;

1410 
≤g_size_t
 
cuºít_ãxt_À·
 
PNG_DEPSTRUCT
;

1411 
≤g_ch¨p
 
cuºít_ãxt
 
PNG_DEPSTRUCT
;

1412 
≤g_ch¨p
 
cuºít_ãxt_±r
 
PNG_DEPSTRUCT
;

1416 #i‡
deföed
(
__TURBOC__
Ë&& !deföed(
_Wödows
Ë&& !deföed(
__FLAT__
)

1418 
≤g_byãµ
 
off£t_èbÀ_±r
 
PNG_DEPSTRUCT
;

1419 
≤g_byãp
 
off£t_èbÀ
 
PNG_DEPSTRUCT
;

1420 
≤g_uöt_16
 
off£t_èbÀ_numbî
 
PNG_DEPSTRUCT
;

1421 
≤g_uöt_16
 
off£t_èbÀ_cou¡
 
PNG_DEPSTRUCT
;

1422 
≤g_uöt_16
 
off£t_èbÀ_cou¡_‰ì
 
PNG_DEPSTRUCT
;

1425 #ifde‡
PNG_READ_DITHER_SUPPORTED


1426 
≤g_byãp
 
∑Àâe_lookup
 
PNG_DEPSTRUCT
;

1427 
≤g_byãp
 
dôhî_ödex
 
PNG_DEPSTRUCT
;

1430 #i‡
deföed
(
PNG_READ_DITHER_SUPPORTED
Ë|| deföed(
PNG_hIST_SUPPORTED
)

1431 
≤g_uöt_16p
 
hi°
 
PNG_DEPSTRUCT
;

1434 #ifde‡
PNG_WRITE_WEIGHTED_FILTER_SUPPORTED


1435 
≤g_byã
 
heuri°ic_mëhod
 
PNG_DEPSTRUCT
;

1436 
≤g_byã
 
num_¥ev_fûãrs
 
PNG_DEPSTRUCT
;

1437 
≤g_byãp
 
¥ev_fûãrs
 
PNG_DEPSTRUCT
;

1438 
≤g_uöt_16p
 
fûãr_weights
 
PNG_DEPSTRUCT
;

1439 
≤g_uöt_16p
 
öv_fûãr_weights
 
PNG_DEPSTRUCT
;

1440 
≤g_uöt_16p
 
fûãr_co°s
 
PNG_DEPSTRUCT
;

1441 
≤g_uöt_16p
 
öv_fûãr_co°s
 
PNG_DEPSTRUCT
;

1444 #ifde‡
PNG_TIME_RFC1123_SUPPORTED


1445 
≤g_ch¨p
 
time_buf„r
 
PNG_DEPSTRUCT
;

1450 #ifde‡
PNG_FREE_ME_SUPPORTED


1451 
≤g_uöt_32
 
‰ì_me
 
PNG_DEPSTRUCT
;

1454 #ifde‡
PNG_USER_CHUNKS_SUPPORTED


1455 
≤g_voidp
 
u£r_chunk_±r
 
PNG_DEPSTRUCT
;

1456 
≤g_u£r_chunk_±r
 
ªad_u£r_chunk_‚
 
PNG_DEPSTRUCT
;

1459 #ifde‡
PNG_HANDLE_AS_UNKNOWN_SUPPORTED


1460 
num_chunk_li°
 
PNG_DEPSTRUCT
;

1461 
≤g_byãp
 
chunk_li°
 
PNG_DEPSTRUCT
;

1465 #ifde‡
PNG_READ_RGB_TO_GRAY_SUPPORTED


1466 
≤g_byã
 
rgb_to_gøy_°©us
 
PNG_DEPSTRUCT
;

1468 
≤g_uöt_16
 
rgb_to_gøy_ªd_c€ff
 
PNG_DEPSTRUCT
;

1469 
≤g_uöt_16
 
rgb_to_gøy_gªí_c€ff
 
PNG_DEPSTRUCT
;

1470 
≤g_uöt_16
 
rgb_to_gøy_blue_c€ff
 
PNG_DEPSTRUCT
;

1474 #i‡
deföed
(
PNG_MNG_FEATURES_SUPPORTED
) || \

1475 
deföed
(
PNG_READ_EMPTY_PLTE_SUPPORTED
) || \

1476 
deföed
(
PNG_WRITE_EMPTY_PLTE_SUPPORTED
)

1478 #ifde‡
PNG_1_0_X


1479 
≤g_byã
 
mng_„©uªs_≥rmôãd
 
PNG_DEPSTRUCT
;

1481 
≤g_uöt_32
 
mng_„©uªs_≥rmôãd
 
PNG_DEPSTRUCT
;

1486 #i‡
deföed
(
PNG_READ_GAMMA_SUPPORTED
Ë|| deföed(
PNG_READ_BACKGROUND_SUPPORTED
)

1487 
≤g_fixed_poöt
 
öt_gamma
 
PNG_DEPSTRUCT
;

1491 #ifde‡
PNG_MNG_FEATURES_SUPPORTED


1492 
≤g_byã
 
fûãr_ty≥
 
PNG_DEPSTRUCT
;

1495 #ifde‡
PNG_1_0_X


1497 
≤g_uöt_32
 
row_buf_size
 
PNG_DEPSTRUCT
;

1501 #ifde‡
PNG_ASSEMBLER_CODE_SUPPORTED


1502 #i‚de‡
PNG_1_0_X


1503 #ifde‡
PNG_MMX_CODE_SUPPORTED


1504 
≤g_byã
 
mmx_bôdïth_thªshﬁd
 
PNG_DEPSTRUCT
;

1505 
≤g_uöt_32
 
mmx_rowbyãs_thªshﬁd
 
PNG_DEPSTRUCT
;

1507 
≤g_uöt_32
 
asm_Êags
 
PNG_DEPSTRUCT
;

1512 #ifde‡
PNG_USER_MEM_SUPPORTED


1513 
≤g_voidp
 
mem_±r
 
PNG_DEPSTRUCT
;

1514 
≤g_mÆloc_±r
 
mÆloc_‚
 
PNG_DEPSTRUCT
;

1515 
≤g_‰ì_±r
 
‰ì_‚
 
PNG_DEPSTRUCT
;

1519 
≤g_byãp
 
big_row_buf
 
PNG_DEPSTRUCT
;

1521 #ifde‡
PNG_READ_DITHER_SUPPORTED


1523 
≤g_byãp
 
dôhî_s‹t
 
PNG_DEPSTRUCT
;

1524 
≤g_byãp
 
ödex_to_∑Àâe
 
PNG_DEPSTRUCT
;

1526 
≤g_byãp
 
∑Àâe_to_ödex
 
PNG_DEPSTRUCT
;

1531 
≤g_byã
 
com¥essi⁄_ty≥
 
PNG_DEPSTRUCT
;

1533 #ifde‡
PNG_USER_LIMITS_SUPPORTED


1534 
≤g_uöt_32
 
u£r_width_max
 
PNG_DEPSTRUCT
;

1535 
≤g_uöt_32
 
u£r_height_max
 
PNG_DEPSTRUCT
;

1539 #ifde‡
PNG_UNKNOWN_CHUNKS_SUPPORTED


1541 
≤g_unknown_chunk
 
unknown_chunk
 
PNG_DEPSTRUCT
;

1545 
≤g_uöt_32
 
ﬁd_big_row_buf_size
 
PNG_DEPSTRUCT
;

1546 
≤g_uöt_32
 
ﬁd_¥ev_row_size
 
PNG_DEPSTRUCT
;

1549 
≤g_ch¨p
 
chunkd©a
 
PNG_DEPSTRUCT
;

1558 
≤g_°ru˘p
 
	tvîsi⁄_1_2_46
;

1560 
≤g_°ru˘
 
	tFAR
 * FAR * 
	t≤g_°ru˘µ
;

1569 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_ac˚ss_vîsi⁄_numbî
Ë
PNGARG
(());

1574 
PNG_EXPORT
(,
≤g_£t_sig_byãs
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1575 
num_byãs
));

1582 
PNG_EXPORT
(,
≤g_sig_cmp
Ë
PNGARG
((
≤g_byãp
 
sig
, 
≤g_size_t
 
°¨t
,

1583 
≤g_size_t
 
num_to_check
));

1588 
PNG_EXPORT
(,
≤g_check_sig
Ë
PNGARG
((
≤g_byãp
 
sig
, 
num
)Ë
PNG_DEPRECATED
;

1591 
PNG_EXPORT
(
≤g_°ru˘p
,
≤g_¸óã_ªad_°ru˘
)

1592 
PNGARG
((
≤g_c⁄°_ch¨p
 
u£r_≤g_vî
, 
≤g_voidp
 
îr‹_±r
,

1593 
≤g_îr‹_±r
 
îr‹_‚
,Öng_îr‹_±∏
w¨n_‚
)Ë
PNG_ALLOCATED
;

1596 
PNG_EXPORT
(
≤g_°ru˘p
,
≤g_¸óã_wrôe_°ru˘
)

1597 
PNGARG
((
≤g_c⁄°_ch¨p
 
u£r_≤g_vî
, 
≤g_voidp
 
îr‹_±r
,

1598 
≤g_îr‹_±r
 
îr‹_‚
,Öng_îr‹_±∏
w¨n_‚
)Ë
PNG_ALLOCATED
;

1600 #ifde‡
PNG_WRITE_SUPPORTED


1601 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_com¥essi⁄_buf„r_size
)

1602 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1605 #ifde‡
PNG_WRITE_SUPPORTED


1606 
PNG_EXPORT
(,
≤g_£t_com¥essi⁄_buf„r_size
)

1607 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_uöt_32
 
size
));

1611 
PNG_EXPORT
(,
≤g_ª£t_z°ªam
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1614 #ifde‡
PNG_USER_MEM_SUPPORTED


1615 
PNG_EXPORT
(
≤g_°ru˘p
,
≤g_¸óã_ªad_°ru˘_2
)

1616 
PNGARG
((
≤g_c⁄°_ch¨p
 
u£r_≤g_vî
, 
≤g_voidp
 
îr‹_±r
,

1617 
≤g_îr‹_±r
 
îr‹_‚
,Öng_îr‹_±∏
w¨n_‚
, 
≤g_voidp
 
mem_±r
,

1618 
≤g_mÆloc_±r
 
mÆloc_‚
, 
≤g_‰ì_±r
 
‰ì_‚
)Ë
PNG_ALLOCATED
;

1619 
PNG_EXPORT
(
≤g_°ru˘p
,
≤g_¸óã_wrôe_°ru˘_2
)

1620 
PNGARG
((
≤g_c⁄°_ch¨p
 
u£r_≤g_vî
, 
≤g_voidp
 
îr‹_±r
,

1621 
≤g_îr‹_±r
 
îr‹_‚
,Öng_îr‹_±∏
w¨n_‚
, 
≤g_voidp
 
mem_±r
,

1622 
≤g_mÆloc_±r
 
mÆloc_‚
, 
≤g_‰ì_±r
 
‰ì_‚
)Ë
PNG_ALLOCATED
;

1626 
PNG_EXPORT
(,
≤g_wrôe_chunk
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1627 
≤g_byãp
 
chunk_«me
,Öng_byã∞
d©a
, 
≤g_size_t
 
Àngth
));

1630 
PNG_EXPORT
(,
≤g_wrôe_chunk_°¨t
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1631 
≤g_byãp
 
chunk_«me
, 
≤g_uöt_32
 
Àngth
));

1634 
PNG_EXPORT
(,
≤g_wrôe_chunk_d©a
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1635 
≤g_byãp
 
d©a
, 
≤g_size_t
 
Àngth
));

1638 
PNG_EXPORT
(,
≤g_wrôe_chunk_íd
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1641 
PNG_EXPORT
(
≤g_öf›
,
≤g_¸óã_öfo_°ru˘
)

1642 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
PNG_ALLOCATED
;

1644 #i‡
deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

1646 
PNG_EXPORT
(,
≤g_öfo_öô
Ë
PNGARG
((
≤g_öf›
 
öfo_±r
))

1647 
PNG_DEPRECATED
;

1648 #unde‡
≤g_öfo_öô


1649 
	#≤g_öfo_öô
(
öfo_±r
Ë
	`≤g_öfo_öô_3
(&info_ptr,\

1650 
	`≤g_sizeof
(
≤g_öfo
));

	)

1653 
PNG_EXPORT
(,
≤g_öfo_öô_3
Ë
PNGARG
((
≤g_öf›p
 
öfo_±r
,

1654 
≤g_size_t
 
≤g_öfo_°ru˘_size
));

1657 
PNG_EXPORT
(,
≤g_wrôe_öfo_bef‹e_PLTE
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1658 
≤g_öf›
 
öfo_±r
));

1659 
PNG_EXPORT
(,
≤g_wrôe_öfo
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1660 
≤g_öf›
 
öfo_±r
));

1662 #ifde‡
PNG_SEQUENTIAL_READ_SUPPORTED


1664 
PNG_EXPORT
(,
≤g_ªad_öfo
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1665 
≤g_öf›
 
öfo_±r
));

1668 #ifde‡
PNG_TIME_RFC1123_SUPPORTED


1669 
PNG_EXPORT
(
≤g_ch¨p
,
≤g_c⁄vît_to_rfc1123
)

1670 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_timï
 
±ime
));

1673 #ifde‡
PNG_CONVERT_tIME_SUPPORTED


1675 
PNG_EXPORT
(,
≤g_c⁄vît_‰om_°ru˘_tm
Ë
PNGARG
((
≤g_timï
 
±ime
,

1676 
tm
 
FAR
 * 
âime
));

1679 
PNG_EXPORT
(,
≤g_c⁄vît_‰om_time_t
Ë
PNGARG
((
≤g_timï
 
±ime
,

1680 
time_t
 
âime
));

1683 #ifde‡
PNG_READ_EXPAND_SUPPORTED


1685 
PNG_EXPORT
(,
≤g_£t_ex∑nd
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1686 #i‚de‡
PNG_1_0_X


1687 
PNG_EXPORT
(,
≤g_£t_ex∑nd_gøy_1_2_4_to_8
Ë
PNGARG
((
≤g_°ru˘p


1688 
≤g_±r
));

1690 
PNG_EXPORT
(,
≤g_£t_∑Àâe_to_rgb
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1691 
PNG_EXPORT
(,
≤g_£t_tRNS_to_Æpha
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1692 #i‡
deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

1694 
PNG_EXPORT
(,
≤g_£t_gøy_1_2_4_to_8
Ë
PNGARG
((
≤g_°ru˘p


1695 
≤g_±r
)Ë
PNG_DEPRECATED
;

1699 #i‡
deföed
(
PNG_READ_BGR_SUPPORTED
Ë|| deföed(
PNG_WRITE_BGR_SUPPORTED
)

1701 
PNG_EXPORT
(,
≤g_£t_bgr
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1704 #ifde‡
PNG_READ_GRAY_TO_RGB_SUPPORTED


1706 
PNG_EXPORT
(,
≤g_£t_gøy_to_rgb
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1709 #ifde‡
PNG_READ_RGB_TO_GRAY_SUPPORTED


1711 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1712 
PNG_EXPORT
(,
≤g_£t_rgb_to_gøy
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1713 
îr‹_a˘i⁄
, 
ªd
, 
gªí
 ));

1715 
PNG_EXPORT
(,
≤g_£t_rgb_to_gøy_fixed
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1716 
îr‹_a˘i⁄
, 
≤g_fixed_poöt
 
ªd
,Öng_fixed_poöà
gªí
 ));

1717 
PNG_EXPORT
(
≤g_byã
,
≤g_gë_rgb_to_gøy_°©us
Ë
PNGARG
((
≤g_°ru˘p


1718 
≤g_±r
));

1721 
PNG_EXPORT
(,
≤g_buûd_gøysˇÀ_∑Àâe
Ë
PNGARG
((
bô_dïth
,

1722 
≤g_cﬁ‹p
 
∑Àâe
));

1724 #ifde‡
PNG_READ_STRIP_ALPHA_SUPPORTED


1725 
PNG_EXPORT
(,
≤g_£t_°rù_Æpha
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1728 #i‡
deföed
(
PNG_READ_SWAP_ALPHA_SUPPORTED
) || \

1729 
deföed
(
PNG_WRITE_SWAP_ALPHA_SUPPORTED
)

1730 
PNG_EXPORT
(,
≤g_£t_sw≠_Æpha
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1733 #i‡
deföed
(
PNG_READ_INVERT_ALPHA_SUPPORTED
) || \

1734 
deföed
(
PNG_WRITE_INVERT_ALPHA_SUPPORTED
)

1735 
PNG_EXPORT
(,
≤g_£t_övît_Æpha
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1738 #i‡
deföed
(
PNG_READ_FILLER_SUPPORTED
Ë|| deföed(
PNG_WRITE_FILLER_SUPPORTED
)

1740 
PNG_EXPORT
(,
≤g_£t_fûÀr
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1741 
≤g_uöt_32
 
fûÀr
, 
Êags
));

1743 
	#PNG_FILLER_BEFORE
 0

	)

1744 
	#PNG_FILLER_AFTER
 1

	)

1746 #i‚de‡
PNG_1_0_X


1747 
PNG_EXPORT
(,
≤g_£t_add_Æpha
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1748 
≤g_uöt_32
 
fûÀr
, 
Êags
));

1752 #i‡
deföed
(
PNG_READ_SWAP_SUPPORTED
Ë|| deföed(
PNG_WRITE_SWAP_SUPPORTED
)

1754 
PNG_EXPORT
(,
≤g_£t_sw≠
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1757 #i‡
deföed
(
PNG_READ_PACK_SUPPORTED
Ë|| deföed(
PNG_WRITE_PACK_SUPPORTED
)

1759 
PNG_EXPORT
(,
≤g_£t_∑ckög
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1762 #i‡
deföed
(
PNG_READ_PACKSWAP_SUPPORTED
Ë|| deföed(
PNG_WRITE_PACKSWAP_SUPPORTED
)

1764 
PNG_EXPORT
(,
≤g_£t_∑cksw≠
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1767 #i‡
deföed
(
PNG_READ_SHIFT_SUPPORTED
Ë|| deföed(
PNG_WRITE_SHIFT_SUPPORTED
)

1769 
PNG_EXPORT
(,
≤g_£t_shi·
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1770 
≤g_cﬁ‹_8p
 
åue_bôs
));

1773 #i‡
deföed
(
PNG_READ_INTERLACING_SUPPORTED
) || \

1774 
deföed
(
PNG_WRITE_INTERLACING_SUPPORTED
)

1776 
PNG_EXPORT
(,
≤g_£t_öãæa˚_h™dlög
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1779 #i‡
deföed
(
PNG_READ_INVERT_SUPPORTED
Ë|| deföed(
PNG_WRITE_INVERT_SUPPORTED
)

1781 
PNG_EXPORT
(,
≤g_£t_övît_m⁄o
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1784 #ifde‡
PNG_READ_BACKGROUND_SUPPORTED


1786 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1787 
PNG_EXPORT
(,
≤g_£t_background
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1788 
≤g_cﬁ‹_16p
 
background_cﬁ‹
, 
background_gamma_code
,

1789 
√ed_ex∑nd
, 
background_gamma
));

1791 
	#PNG_BACKGROUND_GAMMA_UNKNOWN
 0

	)

1792 
	#PNG_BACKGROUND_GAMMA_SCREEN
 1

	)

1793 
	#PNG_BACKGROUND_GAMMA_FILE
 2

	)

1794 
	#PNG_BACKGROUND_GAMMA_UNIQUE
 3

	)

1797 #ifde‡
PNG_READ_16_TO_8_SUPPORTED


1799 
PNG_EXPORT
(,
≤g_£t_°rù_16
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1802 #ifde‡
PNG_READ_DITHER_SUPPORTED


1804 
PNG_EXPORT
(,
≤g_£t_dôhî
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1805 
≤g_cﬁ‹p
 
∑Àâe
, 
num_∑Àâe
, 
maximum_cﬁ‹s
,

1806 
≤g_uöt_16p
 
hi°ogøm
, 
fuŒ_dôhî
));

1809 #ifde‡
PNG_READ_GAMMA_SUPPORTED


1811 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1812 
PNG_EXPORT
(,
≤g_£t_gamma
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1813 
s¸ìn_gamma
, 
deÁu…_fûe_gamma
));

1817 #i‡
deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

1818 #i‡
deföed
(
PNG_READ_EMPTY_PLTE_SUPPORTED
) || \

1819 
deföed
(
PNG_WRITE_EMPTY_PLTE_SUPPORTED
)

1822 
PNG_EXPORT
(,
≤g_≥rmô_em±y_∂ã
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1823 
em±y_∂ã_≥rmôãd
)Ë
PNG_DEPRECATED
;

1827 #ifde‡
PNG_WRITE_FLUSH_SUPPORTED


1829 
PNG_EXPORT
(,
≤g_£t_Êush
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
ƒows
));

1831 
PNG_EXPORT
(,
≤g_wrôe_Êush
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1835 
PNG_EXPORT
(,
≤g_°¨t_ªad_image
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1838 
PNG_EXPORT
(,
≤g_ªad_upd©e_öfo
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1839 
≤g_öf›
 
öfo_±r
));

1841 #i‚de‡
PNG_NO_SEQUENTIAL_READ_SUPPORTED


1843 
PNG_EXPORT
(,
≤g_ªad_rows
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1844 
≤g_byãµ
 
row
,Öng_byãµ 
di•œy_row
, 
≤g_uöt_32
 
num_rows
));

1847 #i‚de‡
PNG_NO_SEQUENTIAL_READ_SUPPORTED


1849 
PNG_EXPORT
(,
≤g_ªad_row
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1850 
≤g_byãp
 
row
,

1851 
≤g_byãp
 
di•œy_row
));

1854 #i‚de‡
PNG_NO_SEQUENTIAL_READ_SUPPORTED


1856 
PNG_EXPORT
(,
≤g_ªad_image
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1857 
≤g_byãµ
 
image
));

1861 
PNG_EXPORT
(,
≤g_wrôe_row
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1862 
≤g_byãp
 
row
));

1865 
PNG_EXPORT
(,
≤g_wrôe_rows
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1866 
≤g_byãµ
 
row
, 
≤g_uöt_32
 
num_rows
));

1869 
PNG_EXPORT
(,
≤g_wrôe_image
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1870 
≤g_byãµ
 
image
));

1873 
PNG_EXPORT
(,
≤g_wrôe_íd
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1874 
≤g_öf›
 
öfo_±r
));

1876 #i‚de‡
PNG_NO_SEQUENTIAL_READ_SUPPORTED


1878 
PNG_EXPORT
(,
≤g_ªad_íd
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1879 
≤g_öf›
 
öfo_±r
));

1883 
PNG_EXPORT
(,
≤g_de°roy_öfo_°ru˘
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1884 
≤g_öf›p
 
öfo_±r_±r
));

1887 
PNG_EXPORT
(,
≤g_de°roy_ªad_°ru˘
Ë
PNGARG
((
≤g_°ru˘µ


1888 
≤g_±r_±r
, 
≤g_öf›p
 
öfo_±r_±r
,Öng_öf›∞
íd_öfo_±r_±r
));

1892 
PNG_EXPORT
(,
≤g_ªad_de°roy
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

1893 
≤g_öf›
 
íd_öfo_±r
));

1896 
PNG_EXPORT
(,
≤g_de°roy_wrôe_°ru˘
)

1897 
PNGARG
((
≤g_°ru˘µ
 
≤g_±r_±r
, 
≤g_öf›p
 
öfo_±r_±r
));

1901 
PNG_EXPORT
(,
≤g_wrôe_de°roy
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

1904 
PNG_EXPORT
(,
≤g_£t_¸c_a˘i⁄
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1905 
¸ô_a˘i⁄
, 
™cû_a˘i⁄
));

1916 
	#PNG_CRC_DEFAULT
 0

	)

1917 
	#PNG_CRC_ERROR_QUIT
 1

	)

1918 
	#PNG_CRC_WARN_DISCARD
 2

	)

1919 
	#PNG_CRC_WARN_USE
 3

	)

1920 
	#PNG_CRC_QUIET_USE
 4

	)

1921 
	#PNG_CRC_NO_CHANGE
 5

	)

1934 
PNG_EXPORT
(,
≤g_£t_fûãr
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
mëhod
,

1935 
fûãrs
));

1942 
	#PNG_NO_FILTERS
 0x00

	)

1943 
	#PNG_FILTER_NONE
 0x08

	)

1944 
	#PNG_FILTER_SUB
 0x10

	)

1945 
	#PNG_FILTER_UP
 0x20

	)

1946 
	#PNG_FILTER_AVG
 0x40

	)

1947 
	#PNG_FILTER_PAETH
 0x80

	)

1948 
	#PNG_ALL_FILTERS
 (
PNG_FILTER_NONE
 | 
PNG_FILTER_SUB
 | 
PNG_FILTER_UP
 | \

1949 
PNG_FILTER_AVG
 | 
PNG_FILTER_PAETH
)

	)

1954 
	#PNG_FILTER_VALUE_NONE
 0

	)

1955 
	#PNG_FILTER_VALUE_SUB
 1

	)

1956 
	#PNG_FILTER_VALUE_UP
 2

	)

1957 
	#PNG_FILTER_VALUE_AVG
 3

	)

1958 
	#PNG_FILTER_VALUE_PAETH
 4

	)

1959 
	#PNG_FILTER_VALUE_LAST
 5

	)

1961 #i‡
deföed
(
PNG_WRITE_WEIGHTED_FILTER_SUPPORTED
)

1990 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1991 
PNG_EXPORT
(,
≤g_£t_fûãr_heuri°ics
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

1992 
heuri°ic_mëhod
, 
num_weights
, 
≤g_doubÀp
 
fûãr_weights
,

1993 
≤g_doubÀp
 
fûãr_co°s
));

2000 
	#PNG_FILTER_HEURISTIC_DEFAULT
 0

	)

2001 
	#PNG_FILTER_HEURISTIC_UNWEIGHTED
 1

	)

2002 
	#PNG_FILTER_HEURISTIC_WEIGHTED
 2

	)

2003 
	#PNG_FILTER_HEURISTIC_LAST
 3

	)

2012 
PNG_EXPORT
(,
≤g_£t_com¥essi⁄_Àvñ
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2013 
Àvñ
));

2015 
PNG_EXPORT
(,
≤g_£t_com¥essi⁄_mem_Àvñ
)

2016 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
mem_Àvñ
));

2018 
PNG_EXPORT
(,
≤g_£t_com¥essi⁄_°øãgy
)

2019 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
°øãgy
));

2021 
PNG_EXPORT
(,
≤g_£t_com¥essi⁄_wödow_bôs
)

2022 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
wödow_bôs
));

2024 
PNG_EXPORT
(,
≤g_£t_com¥essi⁄_mëhod
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2025 
mëhod
));

2036 #ifde‡
PNG_STDIO_SUPPORTED


2038 
PNG_EXPORT
(,
≤g_öô_io
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_FILE_p
 
Â
));

2049 
PNG_EXPORT
(,
≤g_£t_îr‹_‚
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2050 
≤g_voidp
 
îr‹_±r
, 
≤g_îr‹_±r
 
îr‹_‚
,Öng_îr‹_±∏
w¨nög_‚
));

2053 
PNG_EXPORT
(
≤g_voidp
,
≤g_gë_îr‹_±r
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2065 
PNG_EXPORT
(,
≤g_£t_wrôe_‚
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2066 
≤g_voidp
 
io_±r
, 
≤g_rw_±r
 
wrôe_d©a_‚
, 
≤g_Êush_±r
 
ouçut_Êush_‚
));

2069 
PNG_EXPORT
(,
≤g_£t_ªad_‚
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2070 
≤g_voidp
 
io_±r
, 
≤g_rw_±r
 
ªad_d©a_‚
));

2073 
PNG_EXPORT
(
≤g_voidp
,
≤g_gë_io_±r
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2075 
PNG_EXPORT
(,
≤g_£t_ªad_°©us_‚
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2076 
≤g_ªad_°©us_±r
 
ªad_row_‚
));

2078 
PNG_EXPORT
(,
≤g_£t_wrôe_°©us_‚
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2079 
≤g_wrôe_°©us_±r
 
wrôe_row_‚
));

2081 #ifde‡
PNG_USER_MEM_SUPPORTED


2083 
PNG_EXPORT
(,
≤g_£t_mem_‚
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2084 
≤g_voidp
 
mem_±r
, 
≤g_mÆloc_±r
 
mÆloc_‚
, 
≤g_‰ì_±r
 
‰ì_‚
));

2086 
PNG_EXPORT
(
≤g_voidp
,
≤g_gë_mem_±r
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2089 #i‡
deföed
(
PNG_READ_USER_TRANSFORM_SUPPORTED
) || \

2090 
deföed
(
PNG_LEGACY_SUPPORTED
)

2091 
PNG_EXPORT
(,
≤g_£t_ªad_u£r_å™sf‹m_‚
Ë
PNGARG
((
≤g_°ru˘p


2092 
≤g_±r
, 
≤g_u£r_å™sf‹m_±r
 
ªad_u£r_å™sf‹m_‚
));

2095 #i‡
deföed
(
PNG_WRITE_USER_TRANSFORM_SUPPORTED
) || \

2096 
deföed
(
PNG_LEGACY_SUPPORTED
)

2097 
PNG_EXPORT
(,
≤g_£t_wrôe_u£r_å™sf‹m_‚
Ë
PNGARG
((
≤g_°ru˘p


2098 
≤g_±r
, 
≤g_u£r_å™sf‹m_±r
 
wrôe_u£r_å™sf‹m_‚
));

2101 #i‡
deföed
(
PNG_READ_USER_TRANSFORM_SUPPORTED
) || \

2102 
deföed
(
PNG_WRITE_USER_TRANSFORM_SUPPORTED
) || \

2103 
deföed
(
PNG_LEGACY_SUPPORTED
)

2104 
PNG_EXPORT
(,
≤g_£t_u£r_å™sf‹m_öfo
Ë
PNGARG
((
≤g_°ru˘p


2105 
≤g_±r
, 
≤g_voidp
 
u£r_å™sf‹m_±r
, 
u£r_å™sf‹m_dïth
,

2106 
u£r_å™sf‹m_ch™√ls
));

2108 
PNG_EXPORT
(
≤g_voidp
,
≤g_gë_u£r_å™sf‹m_±r
)

2109 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2112 #ifde‡
PNG_USER_CHUNKS_SUPPORTED


2113 
PNG_EXPORT
(,
≤g_£t_ªad_u£r_chunk_‚
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2114 
≤g_voidp
 
u£r_chunk_±r
, 
≤g_u£r_chunk_±r
 
ªad_u£r_chunk_‚
));

2115 
PNG_EXPORT
(
≤g_voidp
,
≤g_gë_u£r_chunk_±r
Ë
PNGARG
((
≤g_°ru˘p


2116 
≤g_±r
));

2119 #ifde‡
PNG_PROGRESSIVE_READ_SUPPORTED


2123 
PNG_EXPORT
(,
≤g_£t_¥ogªssive_ªad_‚
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2124 
≤g_voidp
 
¥ogªssive_±r
,

2125 
≤g_¥ogªssive_öfo_±r
 
öfo_‚
, 
≤g_¥ogªssive_row_±r
 
row_‚
,

2126 
≤g_¥ogªssive_íd_±r
 
íd_‚
));

2129 
PNG_EXPORT
(
≤g_voidp
,
≤g_gë_¥ogªssive_±r
)

2130 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2133 
PNG_EXPORT
(,
≤g_¥o˚ss_d©a
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2134 
≤g_öf›
 
öfo_±r
, 
≤g_byãp
 
buf„r
, 
≤g_size_t
 
buf„r_size
));

2139 
PNG_EXPORT
(,
≤g_¥ogªssive_comböe_row
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2140 
≤g_byãp
 
ﬁd_row
,Öng_byã∞
√w_row
));

2143 
PNG_EXPORT
(
≤g_voidp
,
≤g_mÆloc
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2144 
≤g_uöt_32
 
size
)Ë
PNG_ALLOCATED
;

2146 #ifde‡
PNG_1_0_X


2147 
	#≤g_mÆloc_w¨n
 
≤g_mÆloc


	)

2150 
PNG_EXPORT
(
≤g_voidp
,
≤g_mÆloc_w¨n
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2151 
≤g_uöt_32
 
size
)Ë
PNG_ALLOCATED
;

2155 
PNG_EXPORT
(,
≤g_‰ì
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_voidp
 
±r
));

2157 #ifde‡
PNG_1_0_X


2159 
PNG_EXPORT
(
voidpf
,
≤g_zÆloc
Ë
PNGARG
((voidp‡
≤g_±r
, 
uI¡
 
ôems
,

2160 
uI¡
 
size
));

2163 
PNG_EXPORT
(,
≤g_z‰ì
Ë
PNGARG
((
voidpf
 
≤g_±r
, voidp‡
±r
));

2167 
PNG_EXPORT
(,
≤g_‰ì_d©a
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2168 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
‰ì_me
, 
num
));

2169 #ifde‡
PNG_FREE_ME_SUPPORTED


2173 
PNG_EXPORT
(,
≤g_d©a_‰ìr
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2174 
≤g_öf›
 
öfo_±r
, 
‰ìr
, 
≤g_uöt_32
 
mask
));

2177 
	#PNG_DESTROY_WILL_FREE_DATA
 1

	)

2178 
	#PNG_SET_WILL_FREE_DATA
 1

	)

2179 
	#PNG_USER_WILL_FREE_DATA
 2

	)

2181 
	#PNG_FREE_HIST
 0x0008

	)

2182 
	#PNG_FREE_ICCP
 0x0010

	)

2183 
	#PNG_FREE_SPLT
 0x0020

	)

2184 
	#PNG_FREE_ROWS
 0x0040

	)

2185 
	#PNG_FREE_PCAL
 0x0080

	)

2186 
	#PNG_FREE_SCAL
 0x0100

	)

2187 
	#PNG_FREE_UNKN
 0x0200

	)

2188 
	#PNG_FREE_LIST
 0x0400

	)

2189 
	#PNG_FREE_PLTE
 0x1000

	)

2190 
	#PNG_FREE_TRNS
 0x2000

	)

2191 
	#PNG_FREE_TEXT
 0x4000

	)

2192 
	#PNG_FREE_ALL
 0x7fff

	)

2193 
	#PNG_FREE_MUL
 0x4220

	)

2195 #ifde‡
PNG_USER_MEM_SUPPORTED


2196 
PNG_EXPORT
(
≤g_voidp
,
≤g_mÆloc_deÁu…
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2197 
≤g_uöt_32
 
size
)Ë
PNG_ALLOCATED
;

2198 
PNG_EXPORT
(,
≤g_‰ì_deÁu…
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2199 
≤g_voidp
 
±r
));

2202 
PNG_EXPORT
(
≤g_voidp
,
≤g_mem˝y_check
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2203 
≤g_voidp
 
s1
,Öng_void∞
s2
, 
≤g_uöt_32
 
size
)Ë
PNG_DEPRECATED
;

2205 
PNG_EXPORT
(
≤g_voidp
,
≤g_mem£t_check
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2206 
≤g_voidp
 
s1
, 
vÆue
, 
≤g_uöt_32
 
size
)Ë
PNG_DEPRECATED
;

2208 #i‡
deföed
(
USE_FAR_KEYWORD
)

2209 *
≤g_Ár_to_√¨
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,
≤g_voidp
 
±r
,

2210 
check
));

2213 #i‚de‡
PNG_NO_ERROR_TEXT


2215 
PNG_EXPORT
(,
≤g_îr‹
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2216 
≤g_c⁄°_ch¨p
 
îr‹_mesßge
)Ë
PNG_NORETURN
;

2219 
PNG_EXPORT
(,
≤g_chunk_îr‹
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2220 
≤g_c⁄°_ch¨p
 
îr‹_mesßge
)Ë
PNG_NORETURN
;

2223 
PNG_EXPORT
(,
≤g_îr
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
PNG_NORETURN
;

2226 #i‚de‡
PNG_NO_WARNINGS


2228 
PNG_EXPORT
(,
≤g_w¨nög
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2229 
≤g_c⁄°_ch¨p
 
w¨nög_mesßge
));

2231 #ifde‡
PNG_READ_SUPPORTED


2233 
PNG_EXPORT
(,
≤g_chunk_w¨nög
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2234 
≤g_c⁄°_ch¨p
 
w¨nög_mesßge
));

2251 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_vÆid
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2252 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
Êag
));

2255 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_rowbyãs
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2256 
≤g_öf›
 
öfo_±r
));

2258 #ifde‡
PNG_INFO_IMAGE_SUPPORTED


2262 
PNG_EXPORT
(
≤g_byãµ
,
≤g_gë_rows
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2263 
≤g_öf›
 
öfo_±r
));

2267 
PNG_EXPORT
(,
≤g_£t_rows
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2268 
≤g_öf›
 
öfo_±r
, 
≤g_byãµ
 
row_poöãrs
));

2272 
PNG_EXPORT
(
≤g_byã
,
≤g_gë_ch™√ls
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2273 
≤g_öf›
 
öfo_±r
));

2275 #ifde‡
PNG_EASY_ACCESS_SUPPORTED


2277 
PNG_EXPORT
(
≤g_uöt_32
, 
≤g_gë_image_width
Ë
PNGARG
((
≤g_°ru˘p


2278 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2281 
PNG_EXPORT
(
≤g_uöt_32
, 
≤g_gë_image_height
Ë
PNGARG
((
≤g_°ru˘p


2282 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2285 
PNG_EXPORT
(
≤g_byã
, 
≤g_gë_bô_dïth
Ë
PNGARG
((
≤g_°ru˘p


2286 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2289 
PNG_EXPORT
(
≤g_byã
, 
≤g_gë_cﬁ‹_ty≥
Ë
PNGARG
((
≤g_°ru˘p


2290 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2293 
PNG_EXPORT
(
≤g_byã
, 
≤g_gë_fûãr_ty≥
Ë
PNGARG
((
≤g_°ru˘p


2294 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2297 
PNG_EXPORT
(
≤g_byã
, 
≤g_gë_öãæa˚_ty≥
Ë
PNGARG
((
≤g_°ru˘p


2298 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2301 
PNG_EXPORT
(
≤g_byã
, 
≤g_gë_com¥essi⁄_ty≥
Ë
PNGARG
((
≤g_°ru˘p


2302 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2305 
PNG_EXPORT
(
≤g_uöt_32
, 
≤g_gë_pixñs_≥r_mëî
Ë
PNGARG
((
≤g_°ru˘p


2306 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2307 
PNG_EXPORT
(
≤g_uöt_32
, 
≤g_gë_x_pixñs_≥r_mëî
Ë
PNGARG
((
≤g_°ru˘p


2308 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2309 
PNG_EXPORT
(
≤g_uöt_32
, 
≤g_gë_y_pixñs_≥r_mëî
Ë
PNGARG
((
≤g_°ru˘p


2310 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2313 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


2314 
PNG_EXPORT
(, 
≤g_gë_pixñ_a•e˘_øtio
Ë
PNGARG
((
≤g_°ru˘p


2315 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2319 
PNG_EXPORT
(
≤g_öt_32
, 
≤g_gë_x_off£t_pixñs
Ë
PNGARG
((
≤g_°ru˘p


2320 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2321 
PNG_EXPORT
(
≤g_öt_32
, 
≤g_gë_y_off£t_pixñs
Ë
PNGARG
((
≤g_°ru˘p


2322 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2323 
PNG_EXPORT
(
≤g_öt_32
, 
≤g_gë_x_off£t_mi¸⁄s
Ë
PNGARG
((
≤g_°ru˘p


2324 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2325 
PNG_EXPORT
(
≤g_öt_32
, 
≤g_gë_y_off£t_mi¸⁄s
Ë
PNGARG
((
≤g_°ru˘p


2326 
≤g_±r
, 
≤g_öf›
 
öfo_±r
));

2331 
PNG_EXPORT
(
≤g_byãp
,
≤g_gë_sig«tuª
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2332 
≤g_öf›
 
öfo_±r
));

2334 #ifde‡
PNG_bKGD_SUPPORTED


2335 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_bKGD
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2336 
≤g_öf›
 
öfo_±r
, 
≤g_cﬁ‹_16p
 *
background
));

2339 #ifde‡
PNG_bKGD_SUPPORTED


2340 
PNG_EXPORT
(,
≤g_£t_bKGD
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2341 
≤g_öf›
 
öfo_±r
, 
≤g_cﬁ‹_16p
 
background
));

2344 #ifde‡
PNG_cHRM_SUPPORTED


2345 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


2346 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_cHRM
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2347 
≤g_öf›
 
öfo_±r
, *
whôe_x
, *
whôe_y
, *
ªd_x
,

2348 *
ªd_y
, *
gªí_x
, *
gªí_y
, *
blue_x
,

2349 *
blue_y
));

2351 #ifde‡
PNG_FIXED_POINT_SUPPORTED


2352 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_cHRM_fixed
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2353 
≤g_öf›
 
öfo_±r
, 
≤g_fixed_poöt
 *
öt_whôe_x
,Öng_fixed_point

2354 *
öt_whôe_y
, 
≤g_fixed_poöt
 *
öt_ªd_x
,Öng_fixed_poöà*
öt_ªd_y
,

2355 
≤g_fixed_poöt
 *
öt_gªí_x
,Öng_fixed_poöà*
öt_gªí_y
,Öng_fixed_point

2356 *
öt_blue_x
, 
≤g_fixed_poöt
 *
öt_blue_y
));

2360 #ifde‡
PNG_cHRM_SUPPORTED


2361 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


2362 
PNG_EXPORT
(,
≤g_£t_cHRM
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2363 
≤g_öf›
 
öfo_±r
, 
whôe_x
, 
whôe_y
, 
ªd_x
,

2364 
ªd_y
, 
gªí_x
, 
gªí_y
, 
blue_x
, 
blue_y
));

2366 #ifde‡
PNG_FIXED_POINT_SUPPORTED


2367 
PNG_EXPORT
(,
≤g_£t_cHRM_fixed
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2368 
≤g_öf›
 
öfo_±r
, 
≤g_fixed_poöt
 
öt_whôe_x
,Öng_fixed_poöà
öt_whôe_y
,

2369 
≤g_fixed_poöt
 
öt_ªd_x
,Öng_fixed_poöà
öt_ªd_y
,Öng_fixed_point

2370 
öt_gªí_x
, 
≤g_fixed_poöt
 
öt_gªí_y
,Öng_fixed_poöà
öt_blue_x
,

2371 
≤g_fixed_poöt
 
öt_blue_y
));

2375 #ifde‡
PNG_gAMA_SUPPORTED


2376 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


2377 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_gAMA
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2378 
≤g_öf›
 
öfo_±r
, *
fûe_gamma
));

2380 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_gAMA_fixed
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2381 
≤g_öf›
 
öfo_±r
, 
≤g_fixed_poöt
 *
öt_fûe_gamma
));

2384 #ifde‡
PNG_gAMA_SUPPORTED


2385 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


2386 
PNG_EXPORT
(,
≤g_£t_gAMA
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2387 
≤g_öf›
 
öfo_±r
, 
fûe_gamma
));

2389 
PNG_EXPORT
(,
≤g_£t_gAMA_fixed
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2390 
≤g_öf›
 
öfo_±r
, 
≤g_fixed_poöt
 
öt_fûe_gamma
));

2393 #ifde‡
PNG_hIST_SUPPORTED


2394 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_hIST
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2395 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_16p
 *
hi°
));

2398 #ifde‡
PNG_hIST_SUPPORTED


2399 
PNG_EXPORT
(,
≤g_£t_hIST
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2400 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_16p
 
hi°
));

2403 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_IHDR
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2404 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 *
width
,Öng_uöt_32 *
height
,

2405 *
bô_dïth
, *
cﬁ‹_ty≥
, *
öãæa˚_mëhod
,

2406 *
com¥essi⁄_mëhod
, *
fûãr_mëhod
));

2408 
PNG_EXPORT
(,
≤g_£t_IHDR
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2409 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
width
,Öng_uöt_32 
height
, 
bô_dïth
,

2410 
cﬁ‹_ty≥
, 
öãæa˚_mëhod
, 
com¥essi⁄_mëhod
,

2411 
fûãr_mëhod
));

2413 #ifde‡
PNG_oFFs_SUPPORTED


2414 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_oFFs
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2415 
≤g_öf›
 
öfo_±r
, 
≤g_öt_32
 *
off£t_x
,Öng_öt_32 *
off£t_y
,

2416 *
unô_ty≥
));

2419 #ifde‡
PNG_oFFs_SUPPORTED


2420 
PNG_EXPORT
(,
≤g_£t_oFFs
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2421 
≤g_öf›
 
öfo_±r
, 
≤g_öt_32
 
off£t_x
,Öng_öt_32 
off£t_y
,

2422 
unô_ty≥
));

2425 #ifde‡
PNG_pCAL_SUPPORTED


2426 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_pCAL
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2427 
≤g_öf›
 
öfo_±r
, 
≤g_ch¨p
 *
puΩo£
, 
≤g_öt_32
 *
X0
,Öng_öt_32 *
X1
,

2428 *
ty≥
, *
≈¨ams
, 
≤g_ch¨p
 *
unôs
, 
≤g_ch¨µ
 *
∑øms
));

2431 #ifde‡
PNG_pCAL_SUPPORTED


2432 
PNG_EXPORT
(,
≤g_£t_pCAL
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2433 
≤g_öf›
 
öfo_±r
, 
≤g_ch¨p
 
puΩo£
, 
≤g_öt_32
 
X0
,Öng_öt_32 
X1
,

2434 
ty≥
, 
≈¨ams
, 
≤g_ch¨p
 
unôs
, 
≤g_ch¨µ
 
∑øms
));

2437 #ifde‡
PNG_pHYs_SUPPORTED


2438 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_pHYs
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2439 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 *
ªs_x
,Öng_uöt_32 *
ªs_y
, *
unô_ty≥
));

2442 #ifde‡
PNG_pHYs_SUPPORTED


2443 
PNG_EXPORT
(,
≤g_£t_pHYs
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2444 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
ªs_x
,Öng_uöt_32 
ªs_y
, 
unô_ty≥
));

2447 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_PLTE
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2448 
≤g_öf›
 
öfo_±r
, 
≤g_cﬁ‹p
 *
∑Àâe
, *
num_∑Àâe
));

2450 
PNG_EXPORT
(,
≤g_£t_PLTE
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2451 
≤g_öf›
 
öfo_±r
, 
≤g_cﬁ‹p
 
∑Àâe
, 
num_∑Àâe
));

2453 #ifde‡
PNG_sBIT_SUPPORTED


2454 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_sBIT
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2455 
≤g_öf›
 
öfo_±r
, 
≤g_cﬁ‹_8p
 *
sig_bô
));

2458 #ifde‡
PNG_sBIT_SUPPORTED


2459 
PNG_EXPORT
(,
≤g_£t_sBIT
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2460 
≤g_öf›
 
öfo_±r
, 
≤g_cﬁ‹_8p
 
sig_bô
));

2463 #ifde‡
PNG_sRGB_SUPPORTED


2464 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_sRGB
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2465 
≤g_öf›
 
öfo_±r
, *
öã¡
));

2468 #ifde‡
PNG_sRGB_SUPPORTED


2469 
PNG_EXPORT
(,
≤g_£t_sRGB
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2470 
≤g_öf›
 
öfo_±r
, 
öã¡
));

2471 
PNG_EXPORT
(,
≤g_£t_sRGB_gAMA_™d_cHRM
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2472 
≤g_öf›
 
öfo_±r
, 
öã¡
));

2475 #ifde‡
PNG_iCCP_SUPPORTED


2476 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_iCCP
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2477 
≤g_öf›
 
öfo_±r
, 
≤g_ch¨µ
 
«me
, *
com¥essi⁄_ty≥
,

2478 
≤g_ch¨µ
 
¥ofûe
, 
≤g_uöt_32
 *
¥oÊí
));

2482 #ifde‡
PNG_iCCP_SUPPORTED


2483 
PNG_EXPORT
(,
≤g_£t_iCCP
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2484 
≤g_öf›
 
öfo_±r
, 
≤g_ch¨p
 
«me
, 
com¥essi⁄_ty≥
,

2485 
≤g_ch¨p
 
¥ofûe
, 
≤g_uöt_32
 
¥oÊí
));

2489 #ifde‡
PNG_sPLT_SUPPORTED


2490 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_sPLT
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2491 
≤g_öf›
 
öfo_±r
, 
≤g_sPLT_çp
 
íåõs
));

2494 #ifde‡
PNG_sPLT_SUPPORTED


2495 
PNG_EXPORT
(,
≤g_£t_sPLT
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2496 
≤g_öf›
 
öfo_±r
, 
≤g_sPLT_ç
 
íåõs
, 
√¡rõs
));

2499 #ifde‡
PNG_TEXT_SUPPORTED


2501 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_ãxt
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2502 
≤g_öf›
 
öfo_±r
, 
≤g_ãxç
 *
ãxt_±r
, *
num_ãxt
));

2513 #ifde‡
PNG_TEXT_SUPPORTED


2514 
PNG_EXPORT
(,
≤g_£t_ãxt
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2515 
≤g_öf›
 
öfo_±r
, 
≤g_ãxç
 
ãxt_±r
, 
num_ãxt
));

2518 #ifde‡
PNG_tIME_SUPPORTED


2519 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_tIME
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2520 
≤g_öf›
 
öfo_±r
, 
≤g_timï
 *
mod_time
));

2523 #ifde‡
PNG_tIME_SUPPORTED


2524 
PNG_EXPORT
(,
≤g_£t_tIME
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2525 
≤g_öf›
 
öfo_±r
, 
≤g_timï
 
mod_time
));

2528 #ifde‡
PNG_tRNS_SUPPORTED


2529 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_tRNS
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2530 
≤g_öf›
 
öfo_±r
, 
≤g_byãp
 *
å™s
, *
num_å™s
,

2531 
≤g_cﬁ‹_16p
 *
å™s_vÆues
));

2534 #ifde‡
PNG_tRNS_SUPPORTED


2535 
PNG_EXPORT
(,
≤g_£t_tRNS
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2536 
≤g_öf›
 
öfo_±r
, 
≤g_byãp
 
å™s
, 
num_å™s
,

2537 
≤g_cﬁ‹_16p
 
å™s_vÆues
));

2540 #ifde‡
PNG_tRNS_SUPPORTED


2543 #ifde‡
PNG_sCAL_SUPPORTED


2544 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


2545 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_sCAL
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2546 
≤g_öf›
 
öfo_±r
, *
unô
, *
width
, *
height
));

2548 #ifde‡
PNG_FIXED_POINT_SUPPORTED


2549 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_sCAL_s
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2550 
≤g_öf›
 
öfo_±r
, *
unô
, 
≤g_ch¨µ
 
swidth
,Öng_ch¨µ 
sheight
));

2555 #ifde‡
PNG_sCAL_SUPPORTED


2556 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


2557 
PNG_EXPORT
(,
≤g_£t_sCAL
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2558 
≤g_öf›
 
öfo_±r
, 
unô
, 
width
, 
height
));

2560 #ifde‡
PNG_FIXED_POINT_SUPPORTED


2561 
PNG_EXPORT
(,
≤g_£t_sCAL_s
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2562 
≤g_öf›
 
öfo_±r
, 
unô
, 
≤g_ch¨p
 
swidth
,Öng_ch¨∞
sheight
));

2567 #ifde‡
PNG_HANDLE_AS_UNKNOWN_SUPPORTED


2577 
PNG_EXPORT
(, 
≤g_£t_kìp_unknown_chunks
Ë
PNGARG
((
≤g_°ru˘p


2578 
≤g_±r
, 
kìp
, 
≤g_byãp
 
chunk_li°
, 
num_chunks
));

2579 
PNG_EXPORT
(,
≤g_h™dÀ_as_unknown
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp


2580 
chunk_«me
));

2582 #ifde‡
PNG_UNKNOWN_CHUNKS_SUPPORTED


2583 
PNG_EXPORT
(, 
≤g_£t_unknown_chunks
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2584 
≤g_öf›
 
öfo_±r
, 
≤g_unknown_chunkp
 
unknowns
, 
num_unknowns
));

2585 
PNG_EXPORT
(, 
≤g_£t_unknown_chunk_loˇti⁄
)

2586 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
, 
chunk
, 
loˇti⁄
));

2587 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_unknown_chunks
Ë
PNGARG
((
≤g_°ru˘p


2588 
≤g_±r
, 
≤g_öf›
 
öfo_±r
, 
≤g_unknown_chunkµ
 
íåõs
));

2595 
PNG_EXPORT
(, 
≤g_£t_övÆid
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2596 
≤g_öf›
 
öfo_±r
, 
mask
));

2598 #ifde‡
PNG_INFO_IMAGE_SUPPORTED


2600 
PNG_EXPORT
(, 
≤g_ªad_≤g
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2601 
≤g_öf›
 
öfo_±r
,

2602 
å™sf‹ms
,

2603 
≤g_voidp
 
∑øms
));

2604 
PNG_EXPORT
(, 
≤g_wrôe_≤g
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

2605 
≤g_öf›
 
öfo_±r
,

2606 
å™sf‹ms
,

2607 
≤g_voidp
 
∑øms
));

2615 #ifde‡
PNG_DEBUG


2616 #i‡(
PNG_DEBUG
 > 0)

2617 #i‡!
deföed
(
PNG_DEBUG_FILE
Ë&& deföed(
_MSC_VER
)

2618 
	~<¸tdbg.h
>

2619 #i‡(
PNG_DEBUG
 > 1)

2620 #i‚de‡
_DEBUG


2621 
	#_DEBUG


	)

2623 #i‚de‡
≤g_debug


2624 
	#≤g_debug
(
l
,
m
Ë
	`_RPT0
(
_CRT_WARN
,m 
PNG_STRING_NEWLINE
)

	)

2626 #i‚de‡
≤g_debug1


2627 
	#≤g_debug1
(
l
,
m
,
p1
Ë
	`_RPT1
(
_CRT_WARN
,m 
PNG_STRING_NEWLINE
,p1)

	)

2629 #i‚de‡
≤g_debug2


2630 
	#≤g_debug2
(
l
,
m
,
p1
,
p2
Ë
	`_RPT2
(
_CRT_WARN
,m 
PNG_STRING_NEWLINE
,p1,p2)

	)

2634 #i‚de‡
PNG_DEBUG_FILE


2635 
	#PNG_DEBUG_FILE
 
°dîr


	)

2638 #i‡(
PNG_DEBUG
 > 1)

2642 #ifde‡
__STDC__


2643 #i‚de‡
≤g_debug


2644 
	#≤g_debug
(
l
,
m
) \

2646 
num_èbs
=
l
; \

2647 
	`Ârötf
(
PNG_DEBUG_FILE
,"%s"
m
 
PNG_STRING_NEWLINE
,(
num_èbs
==1 ? "\t" : \

2648 (
num_èbs
==2 ? "\t\t":(num_tabs>2 ? "\t\t\t":"")))); \

2649 }

	)

2651 #i‚de‡
≤g_debug1


2652 
	#≤g_debug1
(
l
,
m
,
p1
) \

2654 
num_èbs
=
l
; \

2655 
	`Ârötf
(
PNG_DEBUG_FILE
,"%s"
m
 
PNG_STRING_NEWLINE
,(
num_èbs
==1 ? "\t" : \

2656 (
num_èbs
==2 ? "\t\t":“um_èbs>2 ? "\t\t\t":""))),
p1
); \

2657 }

	)

2659 #i‚de‡
≤g_debug2


2660 
	#≤g_debug2
(
l
,
m
,
p1
,
p2
) \

2662 
num_èbs
=
l
; \

2663 
	`Ârötf
(
PNG_DEBUG_FILE
,"%s"
m
 
PNG_STRING_NEWLINE
,(
num_èbs
==1 ? "\t" : \

2664 (
num_èbs
==2 ? "\t\t":“um_èbs>2 ? "\t\t\t":""))),
p1
,
p2
); \

2665 }

	)

2668 #i‚de‡
≤g_debug


2669 
	#≤g_debug
(
l
,
m
) \

2671 
num_èbs
=
l
; \

2672 
f‹m©
[256]; \

2673 
	`¢¥ötf
(
f‹m©
,256,"%s%s%s",(
num_èbs
==1 ? "\t" : \

2674 (
num_èbs
==2 ? "\t\t":(num_tabs>2 ? "\t\t\t":""))), \

2675 
m
,
PNG_STRING_NEWLINE
); \

2676 
	`Ârötf
(
PNG_DEBUG_FILE
,
f‹m©
); \

2677 }

	)

2679 #i‚de‡
≤g_debug1


2680 
	#≤g_debug1
(
l
,
m
,
p1
) \

2682 
num_èbs
=
l
; \

2683 
f‹m©
[256]; \

2684 
	`¢¥ötf
(
f‹m©
,256,"%s%s%s",(
num_èbs
==1 ? "\t" : \

2685 (
num_èbs
==2 ? "\t\t":(num_tabs>2 ? "\t\t\t":""))), \

2686 
m
,
PNG_STRING_NEWLINE
); \

2687 
	`Ârötf
(
PNG_DEBUG_FILE
,
f‹m©
,
p1
); \

2688 }

	)

2690 #i‚de‡
≤g_debug2


2691 
	#≤g_debug2
(
l
,
m
,
p1
,
p2
) \

2693 
num_èbs
=
l
; \

2694 
f‹m©
[256]; \

2695 
	`¢¥ötf
(
f‹m©
,256,"%s%s%s",(
num_èbs
==1 ? "\t" : \

2696 (
num_èbs
==2 ? "\t\t":(num_tabs>2 ? "\t\t\t":""))), \

2697 
m
,
PNG_STRING_NEWLINE
); \

2698 
	`Ârötf
(
PNG_DEBUG_FILE
,
f‹m©
,
p1
,
p2
); \

2699 }

	)

2707 #i‚de‡
≤g_debug


2708 
	#≤g_debug
(
l
, 
m
)

	)

2710 #i‚de‡
≤g_debug1


2711 
	#≤g_debug1
(
l
, 
m
, 
p1
)

	)

2713 #i‚de‡
≤g_debug2


2714 
	#≤g_debug2
(
l
, 
m
, 
p1
, 
p2
)

	)

2717 
PNG_EXPORT
(
≤g_ch¨p
,
≤g_gë_c›yright
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2718 
PNG_EXPORT
(
≤g_ch¨p
,
≤g_gë_hódî_vî
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2719 
PNG_EXPORT
(
≤g_ch¨p
,
≤g_gë_hódî_vîsi⁄
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2720 
PNG_EXPORT
(
≤g_ch¨p
,
≤g_gë_lib≤g_vî
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2722 #ifde‡
PNG_MNG_FEATURES_SUPPORTED


2723 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_≥rmô_mng_„©uªs
Ë
PNGARG
((
≤g_°ru˘p


2724 
≤g_±r
, 
≤g_uöt_32
 
mng_„©uªs_≥rmôãd
));

2728 
	#PNG_HANDLE_CHUNK_AS_DEFAULT
 0

	)

2729 
	#PNG_HANDLE_CHUNK_NEVER
 1

	)

2730 
	#PNG_HANDLE_CHUNK_IF_SAFE
 2

	)

2731 
	#PNG_HANDLE_CHUNK_ALWAYS
 3

	)

2734 #ifde‡
PNG_ASSEMBLER_CODE_SUPPORTED


2735 #ifde‡
PNG_MMX_CODE_SUPPORTED


2736 
	#PNG_ASM_FLAG_MMX_SUPPORT_COMPILED
 0x01

	)

2737 
	#PNG_ASM_FLAG_MMX_SUPPORT_IN_CPU
 0x02

	)

2738 
	#PNG_ASM_FLAG_MMX_READ_COMBINE_ROW
 0x04

	)

2739 
	#PNG_ASM_FLAG_MMX_READ_INTERLACE
 0x08

	)

2740 
	#PNG_ASM_FLAG_MMX_READ_FILTER_SUB
 0x10

	)

2741 
	#PNG_ASM_FLAG_MMX_READ_FILTER_UP
 0x20

	)

2742 
	#PNG_ASM_FLAG_MMX_READ_FILTER_AVG
 0x40

	)

2743 
	#PNG_ASM_FLAG_MMX_READ_FILTER_PAETH
 0x80

	)

2744 
	#PNG_ASM_FLAGS_INITIALIZED
 0x80000000

	)

2746 
	#PNG_MMX_READ_FLAGS
 ( 
PNG_ASM_FLAG_MMX_READ_COMBINE_ROW
 \

2747 | 
PNG_ASM_FLAG_MMX_READ_INTERLACE
 \

2748 | 
PNG_ASM_FLAG_MMX_READ_FILTER_SUB
 \

2749 | 
PNG_ASM_FLAG_MMX_READ_FILTER_UP
 \

2750 | 
PNG_ASM_FLAG_MMX_READ_FILTER_AVG
 \

2751 | 
PNG_ASM_FLAG_MMX_READ_FILTER_PAETH
 )

	)

2752 
	#PNG_MMX_WRITE_FLAGS
 ( 0 )

	)

2754 
	#PNG_MMX_FLAGS
 ( 
PNG_ASM_FLAG_MMX_SUPPORT_COMPILED
 \

2755 | 
PNG_ASM_FLAG_MMX_SUPPORT_IN_CPU
 \

2756 | 
PNG_MMX_READ_FLAGS
 \

2757 | 
PNG_MMX_WRITE_FLAGS
 )

	)

2759 
	#PNG_SELECT_READ
 1

	)

2760 
	#PNG_SELECT_WRITE
 2

	)

2763 #i‚de‡
PNG_1_0_X


2765 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_mmx_Êagmask
)

2766 
PNGARG
((
Êag_£À˘
, *
compûîID
));

2769 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_asm_Êagmask
)

2770 
PNGARG
((
Êag_£À˘
));

2773 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_asm_Êags
)

2774 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2777 
PNG_EXPORT
(
≤g_byã
,
≤g_gë_mmx_bôdïth_thªshﬁd
)

2778 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2781 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_mmx_rowbyãs_thªshﬁd
)

2782 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

2785 
PNG_EXPORT
(,
≤g_£t_asm_Êags
)

2786 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_uöt_32
 
asm_Êags
));

2789 
PNG_EXPORT
(,
≤g_£t_mmx_thªshﬁds
)

2790 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byã
 
mmx_bôdïth_thªshﬁd
,

2791 
≤g_uöt_32
 
mmx_rowbyãs_thªshﬁd
));

2795 #i‚de‡
PNG_1_0_X


2797 
PNG_EXPORT
(,
≤g_mmx_suµ‹t
Ë
PNGARG
(());

2804 #ifde‡
PNG_ERROR_NUMBERS_SUPPORTED


2805 
PNG_EXPORT
(,
≤g_£t_°rù_îr‹_numbîs
Ë
PNGARG
((
≤g_°ru˘p


2806 
≤g_±r
, 
≤g_uöt_32
 
°rù_mode
));

2810 #ifde‡
PNG_SET_USER_LIMITS_SUPPORTED


2811 
PNG_EXPORT
(,
≤g_£t_u£r_limôs
Ë
PNGARG
((
≤g_°ru˘p


2812 
≤g_±r
, 
≤g_uöt_32
 
u£r_width_max
,Öng_uöt_32 
u£r_height_max
));

2813 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_u£r_width_max
Ë
PNGARG
((
≤g_°ru˘p


2814 
≤g_±r
));

2815 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_u£r_height_max
Ë
PNGARG
((
≤g_°ru˘p


2816 
≤g_±r
));

2822 #ifde‡
PNG_READ_COMPOSITE_NODIV_SUPPORTED


2837 
	#≤g_composôe
(
composôe
, 
fg
, 
Æpha
, 
bg
) \

2838 { 
≤g_uöt_16
 
ãmp
 = (≤g_uöt_16)(’ng_uöt_16)(
fg
Ë* (≤g_uöt_16)(
Æpha
) \

2839 + (
≤g_uöt_16
)(
bg
)*(png_uint_16)(255 - \

2840 (
≤g_uöt_16
)(
Æpha
)) + (png_uint_16)128); \

2841 (
composôe
Ë(
≤g_byã
)((
ãmp
 + (ãm∞>> 8)Ë>> 8); }

	)

2843 
	#≤g_composôe_16
(
composôe
, 
fg
, 
Æpha
, 
bg
) \

2844 { 
≤g_uöt_32
 
ãmp
 = (≤g_uöt_32)(’ng_uöt_32)(
fg
Ë* (≤g_uöt_32)(
Æpha
) \

2845 + (
≤g_uöt_32
)(
bg
)*(png_uint_32)(65535L - \

2846 (
≤g_uöt_32
)(
Æpha
)) + (png_uint_32)32768L); \

2847 (
composôe
Ë(
≤g_uöt_16
)((
ãmp
 + (ãm∞>> 16)Ë>> 16); }

	)

2851 
	#≤g_composôe
(
composôe
, 
fg
, 
Æpha
, 
bg
) \

2852 (
composôe
Ë(
≤g_byã
)(((
≤g_uöt_16
)(
fg
Ë* (≤g_uöt_16)(
Æpha
) + \

2853 (
≤g_uöt_16
)(
bg
Ë* (≤g_uöt_16)(255 - (≤g_uöt_16)(
Æpha
)) + \

2854 (
≤g_uöt_16
)127Ë/ 255)

	)

2856 
	#≤g_composôe_16
(
composôe
, 
fg
, 
Æpha
, 
bg
) \

2857 (
composôe
Ë(
≤g_uöt_16
)(((
≤g_uöt_32
)(
fg
Ë* (≤g_uöt_32)(
Æpha
) + \

2858 (
≤g_uöt_32
)(
bg
)*’ng_uöt_32)(65535L - (≤g_uöt_32)(
Æpha
)) + \

2859 (
≤g_uöt_32
)32767Ë/ (≤g_uöt_32)65535L)

	)

2871 #ifde‡
PNG_READ_BIG_ENDIAN_SUPPORTED


2872 
	#≤g_gë_uöt_32
(
buf
Ë–*((
≤g_uöt_32p
Ë(buf)))

	)

2873 
	#≤g_gë_uöt_16
(
buf
Ë–*((
≤g_uöt_16p
Ë(buf)))

	)

2874 
	#≤g_gë_öt_32
(
buf
Ë–*((
≤g_öt_32p
Ë(buf)))

	)

2876 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_uöt_32
Ë
PNGARG
((
≤g_byãp
 
buf
));

2877 
PNG_EXPORT
(
≤g_uöt_16
,
≤g_gë_uöt_16
Ë
PNGARG
((
≤g_byãp
 
buf
));

2878 
PNG_EXPORT
(
≤g_öt_32
,
≤g_gë_öt_32
Ë
PNGARG
((
≤g_byãp
 
buf
));

2880 
PNG_EXPORT
(
≤g_uöt_32
,
≤g_gë_uöt_31
)

2881 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp
 
buf
));

2886 
PNG_EXPORT
(,
≤g_ßve_uöt_32
)

2887 
PNGARG
((
≤g_byãp
 
buf
, 
≤g_uöt_32
 
i
));

2888 
PNG_EXPORT
(,
≤g_ßve_öt_32
)

2889 
PNGARG
((
≤g_byãp
 
buf
, 
≤g_öt_32
 
i
));

2895 
PNG_EXPORT
(,
≤g_ßve_uöt_16
)

2896 
PNGARG
((
≤g_byãp
 
buf
, 
i
));

2911 
	#PNG_HAVE_IHDR
 0x01

	)

2912 
	#PNG_HAVE_PLTE
 0x02

	)

2913 
	#PNG_HAVE_IDAT
 0x04

	)

2914 
	#PNG_AFTER_IDAT
 0x08

	)

2915 
	#PNG_HAVE_IEND
 0x10

	)

2917 #ifde‡
PNG_INTERNAL


2922 
	#PNG_HAVE_gAMA
 0x20

	)

2923 
	#PNG_HAVE_cHRM
 0x40

	)

2924 
	#PNG_HAVE_sRGB
 0x80

	)

2925 
	#PNG_HAVE_CHUNK_HEADER
 0x100

	)

2926 
	#PNG_WROTE_tIME
 0x200

	)

2927 
	#PNG_WROTE_INFO_BEFORE_PLTE
 0x400

	)

2928 
	#PNG_BACKGROUND_IS_GRAY
 0x800

	)

2929 
	#PNG_HAVE_PNG_SIGNATURE
 0x1000

	)

2930 
	#PNG_HAVE_CHUNK_AFTER_IDAT
 0x2000

	)

2933 
	#PNG_BGR
 0x0001

	)

2934 
	#PNG_INTERLACE
 0x0002

	)

2935 
	#PNG_PACK
 0x0004

	)

2936 
	#PNG_SHIFT
 0x0008

	)

2937 
	#PNG_SWAP_BYTES
 0x0010

	)

2938 
	#PNG_INVERT_MONO
 0x0020

	)

2939 
	#PNG_DITHER
 0x0040

	)

2940 
	#PNG_BACKGROUND
 0x0080

	)

2941 
	#PNG_BACKGROUND_EXPAND
 0x0100

	)

2943 
	#PNG_16_TO_8
 0x0400

	)

2944 
	#PNG_RGBA
 0x0800

	)

2945 
	#PNG_EXPAND
 0x1000

	)

2946 
	#PNG_GAMMA
 0x2000

	)

2947 
	#PNG_GRAY_TO_RGB
 0x4000

	)

2948 
	#PNG_FILLER
 0x8000L

	)

2949 
	#PNG_PACKSWAP
 0x10000L

	)

2950 
	#PNG_SWAP_ALPHA
 0x20000L

	)

2951 
	#PNG_STRIP_ALPHA
 0x40000L

	)

2952 
	#PNG_INVERT_ALPHA
 0x80000L

	)

2953 
	#PNG_USER_TRANSFORM
 0x100000L

	)

2954 
	#PNG_RGB_TO_GRAY_ERR
 0x200000L

	)

2955 
	#PNG_RGB_TO_GRAY_WARN
 0x400000L

	)

2956 
	#PNG_RGB_TO_GRAY
 0x600000L

	)

2958 
	#PNG_ADD_ALPHA
 0x1000000L

	)

2959 
	#PNG_EXPAND_tRNS
 0x2000000L

	)

2960 
	#PNG_PREMULTIPLY_ALPHA
 0x4000000L

	)

2968 
	#PNG_STRUCT_PNG
 0x0001

	)

2969 
	#PNG_STRUCT_INFO
 0x0002

	)

2972 
	#PNG_WEIGHT_SHIFT
 8

	)

2973 
	#PNG_WEIGHT_FACTOR
 (1<<(
PNG_WEIGHT_SHIFT
))

	)

2974 
	#PNG_COST_SHIFT
 3

	)

2975 
	#PNG_COST_FACTOR
 (1<<(
PNG_COST_SHIFT
))

	)

2978 
	#PNG_FLAG_ZLIB_CUSTOM_STRATEGY
 0x0001

	)

2979 
	#PNG_FLAG_ZLIB_CUSTOM_LEVEL
 0x0002

	)

2980 
	#PNG_FLAG_ZLIB_CUSTOM_MEM_LEVEL
 0x0004

	)

2981 
	#PNG_FLAG_ZLIB_CUSTOM_WINDOW_BITS
 0x0008

	)

2982 
	#PNG_FLAG_ZLIB_CUSTOM_METHOD
 0x0010

	)

2983 
	#PNG_FLAG_ZLIB_FINISHED
 0x0020

	)

2984 
	#PNG_FLAG_ROW_INIT
 0x0040

	)

2985 
	#PNG_FLAG_FILLER_AFTER
 0x0080

	)

2986 
	#PNG_FLAG_CRC_ANCILLARY_USE
 0x0100

	)

2987 
	#PNG_FLAG_CRC_ANCILLARY_NOWARN
 0x0200

	)

2988 
	#PNG_FLAG_CRC_CRITICAL_USE
 0x0400

	)

2989 
	#PNG_FLAG_CRC_CRITICAL_IGNORE
 0x0800

	)

2990 
	#PNG_FLAG_FREE_PLTE
 0x1000

	)

2991 
	#PNG_FLAG_FREE_TRNS
 0x2000

	)

2992 
	#PNG_FLAG_FREE_HIST
 0x4000

	)

2993 
	#PNG_FLAG_KEEP_UNKNOWN_CHUNKS
 0x8000L

	)

2994 
	#PNG_FLAG_KEEP_UNSAFE_CHUNKS
 0x10000L

	)

2995 
	#PNG_FLAG_LIBRARY_MISMATCH
 0x20000L

	)

2996 
	#PNG_FLAG_STRIP_ERROR_NUMBERS
 0x40000L

	)

2997 
	#PNG_FLAG_STRIP_ERROR_TEXT
 0x80000L

	)

2998 
	#PNG_FLAG_MALLOC_NULL_MEM_OK
 0x100000L

	)

2999 
	#PNG_FLAG_ADD_ALPHA
 0x200000L

	)

3000 
	#PNG_FLAG_STRIP_ALPHA
 0x400000L

	)

3010 
	#PNG_FLAG_CRC_ANCILLARY_MASK
 (
PNG_FLAG_CRC_ANCILLARY_USE
 | \

3011 
PNG_FLAG_CRC_ANCILLARY_NOWARN
)

	)

3013 
	#PNG_FLAG_CRC_CRITICAL_MASK
 (
PNG_FLAG_CRC_CRITICAL_USE
 | \

3014 
PNG_FLAG_CRC_CRITICAL_IGNORE
)

	)

3016 
	#PNG_FLAG_CRC_MASK
 (
PNG_FLAG_CRC_ANCILLARY_MASK
 | \

3017 
PNG_FLAG_CRC_CRITICAL_MASK
)

	)

3021 
	#PNG_COLOR_DIST
(
c1
, 
c2
Ë(
	`abs
(()((c1).
ªd
) - ()((c2).red)) + \

3022 
	`abs
(()((
c1
).
gªí
Ë- ()((
c2
).green)) + \

3023 
	`abs
(()((
c1
).
blue
Ë- ()((
c2
).blue)))

	)

3026 
	#PNG_ROWBYTES
(
pixñ_bôs
, 
width
) \

3027 ((
pixñ_bôs
) >= 8 ? \

3028 ((
width
Ë* (((
≤g_uöt_32
)(
pixñ_bôs
)) >> 3)) : \

3029 (–((
width
Ë* ((
≤g_uöt_32
)(
pixñ_bôs
))Ë+ 7Ë>> 3Ë)

	)

3036 
	#PNG_OUT_OF_RANGE
(
vÆue
, 
idól
, 
dñè
) \

3037 –(
vÆue
Ë< (
idól
)-(
dñè
Ë|| (vÆueË> (idól)+(dñèË)

	)

3040 #i‡!
deföed
(
PNG_NO_EXTERN
Ë|| deföed(
PNG_ALWAYS_EXTERN
)

3042 #ifde‡
PNG_USE_GLOBAL_ARRAYS


3043 
PNG_EXPORT_VAR
 (
PNG_CONST
 
≤g_byã
 
FARDATA
Ë
	g≤g_sig
[8];

3052 
	#PNG_IHDR
 
≤g_byã
 
≤g_IHDR
[5] = { 73, 72, 68, 82, '\0'}

	)

3053 
	#PNG_IDAT
 
≤g_byã
 
≤g_IDAT
[5] = { 73, 68, 65, 84, '\0'}

	)

3054 
	#PNG_IEND
 
≤g_byã
 
≤g_IEND
[5] = { 73, 69, 78, 68, '\0'}

	)

3055 
	#PNG_PLTE
 
≤g_byã
 
≤g_PLTE
[5] = { 80, 76, 84, 69, '\0'}

	)

3056 
	#PNG_bKGD
 
≤g_byã
 
≤g_bKGD
[5] = { 98, 75, 71, 68, '\0'}

	)

3057 
	#PNG_cHRM
 
≤g_byã
 
≤g_cHRM
[5] = { 99, 72, 82, 77, '\0'}

	)

3058 
	#PNG_gAMA
 
≤g_byã
 
≤g_gAMA
[5] = {103, 65, 77, 65, '\0'}

	)

3059 
	#PNG_hIST
 
≤g_byã
 
≤g_hIST
[5] = {104, 73, 83, 84, '\0'}

	)

3060 
	#PNG_iCCP
 
≤g_byã
 
≤g_iCCP
[5] = {105, 67, 67, 80, '\0'}

	)

3061 
	#PNG_iTXt
 
≤g_byã
 
≤g_iTXt
[5] = {105, 84, 88, 116, '\0'}

	)

3062 
	#PNG_oFFs
 
≤g_byã
 
≤g_oFFs
[5] = {111, 70, 70, 115, '\0'}

	)

3063 
	#PNG_pCAL
 
≤g_byã
 
≤g_pCAL
[5] = {112, 67, 65, 76, '\0'}

	)

3064 
	#PNG_sCAL
 
≤g_byã
 
≤g_sCAL
[5] = {115, 67, 65, 76, '\0'}

	)

3065 
	#PNG_pHYs
 
≤g_byã
 
≤g_pHYs
[5] = {112, 72, 89, 115, '\0'}

	)

3066 
	#PNG_sBIT
 
≤g_byã
 
≤g_sBIT
[5] = {115, 66, 73, 84, '\0'}

	)

3067 
	#PNG_sPLT
 
≤g_byã
 
≤g_sPLT
[5] = {115, 80, 76, 84, '\0'}

	)

3068 
	#PNG_sRGB
 
≤g_byã
 
≤g_sRGB
[5] = {115, 82, 71, 66, '\0'}

	)

3069 
	#PNG_tEXt
 
≤g_byã
 
≤g_tEXt
[5] = {116, 69, 88, 116, '\0'}

	)

3070 
	#PNG_tIME
 
≤g_byã
 
≤g_tIME
[5] = {116, 73, 77, 69, '\0'}

	)

3071 
	#PNG_tRNS
 
≤g_byã
 
≤g_tRNS
[5] = {116, 82, 78, 83, '\0'}

	)

3072 
	#PNG_zTXt
 
≤g_byã
 
≤g_zTXt
[5] = {122, 84, 88, 116, '\0'}

	)

3074 #ifde‡
PNG_USE_GLOBAL_ARRAYS


3075 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_IHDR
[5];

3076 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_IDAT
[5];

3077 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_IEND
[5];

3078 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_PLTE
[5];

3079 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_bKGD
[5];

3080 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_cHRM
[5];

3081 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_gAMA
[5];

3082 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_hIST
[5];

3083 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_iCCP
[5];

3084 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_iTXt
[5];

3085 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_oFFs
[5];

3086 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_pCAL
[5];

3087 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_sCAL
[5];

3088 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_pHYs
[5];

3089 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_sBIT
[5];

3090 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_sPLT
[5];

3091 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_sRGB
[5];

3092 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_tEXt
[5];

3093 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_tIME
[5];

3094 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_tRNS
[5];

3095 
PNG_EXPORT_VAR
 (
≤g_byã
 
FARDATA
Ë
	g≤g_zTXt
[5];

3098 #i‡
deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

3102 
PNG_EXPORT
(,
≤g_ªad_öô
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
))

3103 
PNG_DEPRECATED
;

3104 #unde‡
≤g_ªad_öô


3105 
	#≤g_ªad_öô
(
≤g_±r
Ë
	`≤g_ªad_öô_3
(&png_ptr, \

3106 
PNG_LIBPNG_VER_STRING
, 
	`≤g_sizeof
(
≤g_°ru˘
));

	)

3109 
PNG_EXPORT
(,
≤g_ªad_öô_3
Ë
PNGARG
((
≤g_°ru˘µ
 
±r_±r
,

3110 
≤g_c⁄°_ch¨p
 
u£r_≤g_vî
, 
≤g_size_t
 
≤g_°ru˘_size
));

3111 #i‡
deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

3112 
PNG_EXPORT
(,
≤g_ªad_öô_2
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3113 
≤g_c⁄°_ch¨p
 
u£r_≤g_vî
, 
≤g_size_t
 
≤g_°ru˘_size
,Öng_size_t

3114 
≤g_öfo_size
));

3117 #i‡
deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

3121 
PNG_EXPORT
(,
≤g_wrôe_öô
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
))

3122 
PNG_DEPRECATED
;

3123 #unde‡
≤g_wrôe_öô


3124 
	#≤g_wrôe_öô
(
≤g_±r
Ë
	`≤g_wrôe_öô_3
(&png_ptr, \

3125 
PNG_LIBPNG_VER_STRING
, 
	`≤g_sizeof
(
≤g_°ru˘
));

	)

3128 
PNG_EXPORT
(,
≤g_wrôe_öô_3
Ë
PNGARG
((
≤g_°ru˘µ
 
±r_±r
,

3129 
≤g_c⁄°_ch¨p
 
u£r_≤g_vî
, 
≤g_size_t
 
≤g_°ru˘_size
));

3130 
PNG_EXPORT
(,
≤g_wrôe_öô_2
Ë
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3131 
≤g_c⁄°_ch¨p
 
u£r_≤g_vî
, 
≤g_size_t
 
≤g_°ru˘_size
,Öng_size_t

3132 
≤g_öfo_size
));

3135 
PNG_EXTERN
 
≤g_voidp
 
≤g_¸óã_°ru˘
 
PNGARG
((
ty≥
)Ë
	gPNG_PRIVATE
;

3138 
PNG_EXTERN
 
≤g_de°roy_°ru˘
 
PNGARG
((
≤g_voidp
 
°ru˘_±r
)Ë
	gPNG_PRIVATE
;

3140 
PNG_EXTERN
 
≤g_voidp
 
≤g_¸óã_°ru˘_2
 
PNGARG
((
ty≥
, 
≤g_mÆloc_±r


3141 
mÆloc_‚
, 
≤g_voidp
 
mem_±r
)Ë
	gPNG_PRIVATE
;

3142 
PNG_EXTERN
 
≤g_de°roy_°ru˘_2
 
PNGARG
((
≤g_voidp
 
°ru˘_±r
,

3143 
≤g_‰ì_±r
 
‰ì_‚
, 
≤g_voidp
 
mem_±r
)Ë
	gPNG_PRIVATE
;

3146 
PNG_EXTERN
 
≤g_öfo_de°roy
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3147 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3149 #i‚de‡
PNG_1_0_X


3151 
PNG_EXTERN
 
voidpf
 
≤g_zÆloc
 
PNGARG
((voidp‡
≤g_±r
, 
uI¡
 
ôems
,

3152 
uI¡
 
size
)Ë
	gPNG_PRIVATE
;

3155 
PNG_EXTERN
 
≤g_z‰ì
 
PNGARG
((
voidpf
 
≤g_±r
, voidp‡
±r
)Ë
	gPNG_PRIVATE
;

3157 #ifde‡
PNG_SIZE_T


3159 
PNG_EXTERN
 
≤g_size_t
 
PNGAPI
 
≤g_c⁄vît_size
 
PNGARG
((
size_t
 
size
))

3160 
	gPNG_PRIVATE
;

3167 
PNG_EXTERN
 
PNGAPI
 
≤g_deÁu…_ªad_d©a
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3168 
≤g_byãp
 
d©a
, 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3170 #ifde‡
PNG_PROGRESSIVE_READ_SUPPORTED


3171 
PNG_EXTERN
 
PNGAPI
 
≤g_push_fûl_buf„r
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3172 
≤g_byãp
 
buf„r
, 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3175 
PNG_EXTERN
 
PNGAPI
 
≤g_deÁu…_wrôe_d©a
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3176 
≤g_byãp
 
d©a
, 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3178 #ifde‡
PNG_WRITE_FLUSH_SUPPORTED


3179 #ifde‡
PNG_STDIO_SUPPORTED


3180 
PNG_EXTERN
 
PNGAPI
 
≤g_deÁu…_Êush
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
))

3181 
	gPNG_PRIVATE
;

3185 #ifde‡
PNG_PROGRESSIVE_READ_SUPPORTED


3186 
PNG_EXTERN
 
≤g_push_fûl_buf„r
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3187 
≤g_byãp
 
buf„r
, 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3192 
PNG_EXTERN
 
≤g_ª£t_¸c
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3195 
PNG_EXTERN
 
≤g_wrôe_d©a
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp
 
d©a
,

3196 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3199 
PNG_EXTERN
 
≤g_ªad_d©a
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp
 
d©a
,

3200 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3203 
PNG_EXTERN
 
≤g_¸c_ªad
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp
 
buf
,

3204 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3207 #i‡
deföed
(
PNG_zTXt_SUPPORTED
Ë|| deföed(
PNG_iTXt_SUPPORTED
) || \

3208 
deföed
(
PNG_iCCP_SUPPORTED
Ë|| deföed(
PNG_sPLT_SUPPORTED
)

3209 
PNG_EXTERN
 
≤g_decom¥ess_chunk
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3210 
comp_ty≥
, 
≤g_size_t
 
chunkÀngth
,

3211 
≤g_size_t
 
¥efix_Àngth
,Öng_size_à*
d©a_Àngth
)Ë
	gPNG_PRIVATE
;

3215 
PNG_EXTERN
 
≤g_¸c_föish
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_uöt_32
 
skù
)

3216 
PNG_PRIVATE
);

3219 
PNG_EXTERN
 
≤g_¸c_îr‹
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3225 
PNG_EXTERN
 
≤g_ˇlcuœã_¸c
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp
 
±r
,

3226 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3228 #ifde‡
PNG_WRITE_FLUSH_SUPPORTED


3229 
PNG_EXTERN
 
≤g_Êush
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3233 
PNG_EXTERN
 
≤g_wrôe_sig
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3240 
PNG_EXTERN
 
≤g_wrôe_IHDR
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_uöt_32
 
width
,

3241 
≤g_uöt_32
 
height
,

3242 
bô_dïth
, 
cﬁ‹_ty≥
, 
com¥essi⁄_mëhod
, 
fûãr_mëhod
,

3243 
öãæa˚_mëhod
)Ë
	gPNG_PRIVATE
;

3245 
PNG_EXTERN
 
≤g_wrôe_PLTE
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_cﬁ‹p
 
∑Àâe
,

3246 
≤g_uöt_32
 
num_∑l
)Ë
	gPNG_PRIVATE
;

3248 
PNG_EXTERN
 
≤g_wrôe_IDAT
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp
 
d©a
,

3249 
≤g_size_t
 
Àngth
)Ë
	gPNG_PRIVATE
;

3251 
PNG_EXTERN
 
≤g_wrôe_IEND
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3253 #ifde‡
PNG_WRITE_gAMA_SUPPORTED


3254 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


3255 
PNG_EXTERN
 
≤g_wrôe_gAMA
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
fûe_gamma
))

3256 
	gPNG_PRIVATE
;

3258 #ifde‡
PNG_FIXED_POINT_SUPPORTED


3259 
PNG_EXTERN
 
≤g_wrôe_gAMA_fixed
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3260 
≤g_fixed_poöt
 
fûe_gamma
)Ë
	gPNG_PRIVATE
;

3264 #ifde‡
PNG_WRITE_sBIT_SUPPORTED


3265 
PNG_EXTERN
 
≤g_wrôe_sBIT
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_cﬁ‹_8p
 
sbô
,

3266 
cﬁ‹_ty≥
)Ë
	gPNG_PRIVATE
;

3269 #ifde‡
PNG_WRITE_cHRM_SUPPORTED


3270 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


3271 
PNG_EXTERN
 
≤g_wrôe_cHRM
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3272 
whôe_x
, 
whôe_y
,

3273 
ªd_x
, 
ªd_y
, 
gªí_x
, 
gªí_y
,

3274 
blue_x
, 
blue_y
)Ë
	gPNG_PRIVATE
;

3276 #ifde‡
PNG_FIXED_POINT_SUPPORTED


3277 
PNG_EXTERN
 
≤g_wrôe_cHRM_fixed
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3278 
≤g_fixed_poöt
 
öt_whôe_x
,Öng_fixed_poöà
öt_whôe_y
,

3279 
≤g_fixed_poöt
 
öt_ªd_x
,Öng_fixed_poöà
öt_ªd_y
,Öng_fixed_point

3280 
öt_gªí_x
, 
≤g_fixed_poöt
 
öt_gªí_y
,Öng_fixed_poöà
öt_blue_x
,

3281 
≤g_fixed_poöt
 
öt_blue_y
)Ë
	gPNG_PRIVATE
;

3285 #ifde‡
PNG_WRITE_sRGB_SUPPORTED


3286 
PNG_EXTERN
 
≤g_wrôe_sRGB
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3287 
öã¡
)Ë
	gPNG_PRIVATE
;

3290 #ifde‡
PNG_WRITE_iCCP_SUPPORTED


3291 
PNG_EXTERN
 
≤g_wrôe_iCCP
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3292 
≤g_ch¨p
 
«me
, 
com¥essi⁄_ty≥
,

3293 
≤g_ch¨p
 
¥ofûe
, 
¥oÊí
)Ë
	gPNG_PRIVATE
;

3297 #ifde‡
PNG_WRITE_sPLT_SUPPORTED


3298 
PNG_EXTERN
 
≤g_wrôe_sPLT
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3299 
≤g_sPLT_ç
 
∑Àâe
)Ë
	gPNG_PRIVATE
;

3302 #ifde‡
PNG_WRITE_tRNS_SUPPORTED


3303 
PNG_EXTERN
 
≤g_wrôe_tRNS
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp
 
å™s
,

3304 
≤g_cﬁ‹_16p
 
vÆues
, 
numbî
, 
cﬁ‹_ty≥
)Ë
	gPNG_PRIVATE
;

3307 #ifde‡
PNG_WRITE_bKGD_SUPPORTED


3308 
PNG_EXTERN
 
≤g_wrôe_bKGD
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3309 
≤g_cﬁ‹_16p
 
vÆues
, 
cﬁ‹_ty≥
)Ë
	gPNG_PRIVATE
;

3312 #ifde‡
PNG_WRITE_hIST_SUPPORTED


3313 
PNG_EXTERN
 
≤g_wrôe_hIST
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_uöt_16p
 
hi°
,

3314 
num_hi°
)Ë
	gPNG_PRIVATE
;

3317 #i‡
deföed
(
PNG_WRITE_TEXT_SUPPORTED
Ë|| deföed(
PNG_WRITE_pCAL_SUPPORTED
) || \

3318 
deföed
(
PNG_WRITE_iCCP_SUPPORTED
Ë|| deföed(
PNG_WRITE_sPLT_SUPPORTED
)

3319 
PNG_EXTERN
 
≤g_size_t
 
≤g_check_keyw‹d
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3320 
≤g_ch¨p
 
key
, 
≤g_ch¨µ
 
√w_key
)Ë
	gPNG_PRIVATE
;

3323 #ifde‡
PNG_WRITE_tEXt_SUPPORTED


3324 
PNG_EXTERN
 
≤g_wrôe_tEXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_ch¨p
 
key
,

3325 
≤g_ch¨p
 
ãxt
, 
≤g_size_t
 
ãxt_Àn
)Ë
	gPNG_PRIVATE
;

3328 #ifde‡
PNG_WRITE_zTXt_SUPPORTED


3329 
PNG_EXTERN
 
≤g_wrôe_zTXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_ch¨p
 
key
,

3330 
≤g_ch¨p
 
ãxt
, 
≤g_size_t
 
ãxt_Àn
, 
com¥essi⁄
)Ë
	gPNG_PRIVATE
;

3333 #ifde‡
PNG_WRITE_iTXt_SUPPORTED


3334 
PNG_EXTERN
 
≤g_wrôe_iTXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3335 
com¥essi⁄
, 
≤g_ch¨p
 
key
,Öng_ch¨∞
œng
,Öng_ch¨∞
œng_key
,

3336 
≤g_ch¨p
 
ãxt
)Ë
	gPNG_PRIVATE
;

3339 #ifde‡
PNG_TEXT_SUPPORTED


3340 
PNG_EXTERN
 
≤g_£t_ãxt_2
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3341 
≤g_öf›
 
öfo_±r
, 
≤g_ãxç
 
ãxt_±r
, 
num_ãxt
)Ë
	gPNG_PRIVATE
;

3344 #ifde‡
PNG_WRITE_oFFs_SUPPORTED


3345 
PNG_EXTERN
 
≤g_wrôe_oFFs
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3346 
≤g_öt_32
 
x_off£t
,Öng_öt_32 
y_off£t
, 
unô_ty≥
)Ë
	gPNG_PRIVATE
;

3349 #ifde‡
PNG_WRITE_pCAL_SUPPORTED


3350 
PNG_EXTERN
 
≤g_wrôe_pCAL
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_ch¨p
 
puΩo£
,

3351 
≤g_öt_32
 
X0
,Öng_öt_32 
X1
, 
ty≥
, 
≈¨ams
,

3352 
≤g_ch¨p
 
unôs
, 
≤g_ch¨µ
 
∑øms
)Ë
	gPNG_PRIVATE
;

3355 #ifde‡
PNG_WRITE_pHYs_SUPPORTED


3356 
PNG_EXTERN
 
≤g_wrôe_pHYs
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3357 
≤g_uöt_32
 
x_pixñs_≥r_unô
,Öng_uöt_32 
y_pixñs_≥r_unô
,

3358 
unô_ty≥
)Ë
	gPNG_PRIVATE
;

3361 #ifde‡
PNG_WRITE_tIME_SUPPORTED


3362 
PNG_EXTERN
 
≤g_wrôe_tIME
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3363 
≤g_timï
 
mod_time
)Ë
	gPNG_PRIVATE
;

3366 #ifde‡
PNG_WRITE_sCAL_SUPPORTED


3367 #i‡
deföed
(
PNG_FLOATING_POINT_SUPPORTED
Ë&& !deföed(
PNG_NO_STDIO
)

3368 
PNG_EXTERN
 
≤g_wrôe_sCAL
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3369 
unô
, 
width
, 
height
)Ë
	gPNG_PRIVATE
;

3371 #ifde‡
PNG_FIXED_POINT_SUPPORTED


3372 
PNG_EXTERN
 
≤g_wrôe_sCAL_s
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3373 
unô
, 
≤g_ch¨p
 
width
,Öng_ch¨∞
height
)Ë
	gPNG_PRIVATE
;

3379 
PNG_EXTERN
 
≤g_wrôe_föish_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3382 
PNG_EXTERN
 
≤g_wrôe_°¨t_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3384 #ifde‡
PNG_READ_GAMMA_SUPPORTED


3385 
PNG_EXTERN
 
≤g_buûd_gamma_èbÀ
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3389 
PNG_EXTERN
 
≤g_comböe_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_byãp
 
row
,

3390 
mask
)Ë
	gPNG_PRIVATE
;

3392 #ifde‡
PNG_READ_INTERLACING_SUPPORTED


3398 
PNG_EXTERN
 
≤g_do_ªad_öãæa˚
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3403 #ifde‡
PNG_WRITE_INTERLACING_SUPPORTED


3405 
PNG_EXTERN
 
≤g_do_wrôe_öãæa˚
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3406 
≤g_byãp
 
row
, 
∑ss
)Ë
	gPNG_PRIVATE
;

3410 
PNG_EXTERN
 
≤g_ªad_fûãr_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3411 
≤g_row_öf›
 
row_öfo
, 
≤g_byãp
 
row
,Öng_byã∞
¥ev_row
,

3412 
fûãr
)Ë
	gPNG_PRIVATE
;

3415 
PNG_EXTERN
 
≤g_wrôe_föd_fûãr
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3416 
≤g_row_öf›
 
row_öfo
)Ë
	gPNG_PRIVATE
;

3419 
PNG_EXTERN
 
≤g_wrôe_fûãªd_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3420 
≤g_byãp
 
fûãªd_row
)Ë
	gPNG_PRIVATE
;

3422 
PNG_EXTERN
 
≤g_ªad_föish_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
));

3425 
PNG_EXTERN
 
≤g_ªad_°¨t_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3427 
PNG_EXTERN
 
≤g_ªad_å™sf‹m_öfo
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3428 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3431 #ifde‡
PNG_READ_FILLER_SUPPORTED


3432 
PNG_EXTERN
 
≤g_do_ªad_fûÀr
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3433 
≤g_byãp
 
row
, 
≤g_uöt_32
 
fûÀr
,Öng_uöt_32 
Êags
)Ë
	gPNG_PRIVATE
;

3436 #ifde‡
PNG_READ_SWAP_ALPHA_SUPPORTED


3437 
PNG_EXTERN
 
≤g_do_ªad_sw≠_Æpha
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3438 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3441 #ifde‡
PNG_WRITE_SWAP_ALPHA_SUPPORTED


3442 
PNG_EXTERN
 
≤g_do_wrôe_sw≠_Æpha
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3443 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3446 #ifde‡
PNG_READ_INVERT_ALPHA_SUPPORTED


3447 
PNG_EXTERN
 
≤g_do_ªad_övît_Æpha
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3448 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3451 #ifde‡
PNG_WRITE_INVERT_ALPHA_SUPPORTED


3452 
PNG_EXTERN
 
≤g_do_wrôe_övît_Æpha
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3453 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3456 #i‡
deföed
(
PNG_WRITE_FILLER_SUPPORTED
) || \

3457 
deföed
(
PNG_READ_STRIP_ALPHA_SUPPORTED
)

3458 
PNG_EXTERN
 
≤g_do_°rù_fûÀr
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3459 
≤g_byãp
 
row
, 
≤g_uöt_32
 
Êags
)Ë
	gPNG_PRIVATE
;

3462 #i‡
deföed
(
PNG_READ_SWAP_SUPPORTED
Ë|| deföed(
PNG_WRITE_SWAP_SUPPORTED
)

3463 
PNG_EXTERN
 
≤g_do_sw≠
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3464 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3467 #i‡
deföed
(
PNG_READ_PACKSWAP_SUPPORTED
Ë|| deföed(
PNG_WRITE_PACKSWAP_SUPPORTED
)

3468 
PNG_EXTERN
 
≤g_do_∑cksw≠
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3469 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3472 #ifde‡
PNG_READ_RGB_TO_GRAY_SUPPORTED


3473 
PNG_EXTERN
 
≤g_do_rgb_to_gøy
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_row_öf›


3474 
row_öfo
, 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3477 #ifde‡
PNG_READ_GRAY_TO_RGB_SUPPORTED


3478 
PNG_EXTERN
 
≤g_do_gøy_to_rgb
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3479 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3482 #ifde‡
PNG_READ_PACK_SUPPORTED


3483 
PNG_EXTERN
 
≤g_do_u≈ack
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3484 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3487 #ifde‡
PNG_READ_SHIFT_SUPPORTED


3488 
PNG_EXTERN
 
≤g_do_unshi·
 
PNGARG
((
≤g_row_öf›
 
row_öfo
, 
≤g_byãp
 
row
,

3489 
≤g_cﬁ‹_8p
 
sig_bôs
)Ë
	gPNG_PRIVATE
;

3492 #i‡
deföed
(
PNG_READ_INVERT_SUPPORTED
Ë|| deföed(
PNG_WRITE_INVERT_SUPPORTED
)

3493 
PNG_EXTERN
 
≤g_do_övît
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3494 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3497 #ifde‡
PNG_READ_16_TO_8_SUPPORTED


3498 
PNG_EXTERN
 
≤g_do_ch›
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3499 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3502 #ifde‡
PNG_READ_DITHER_SUPPORTED


3503 
PNG_EXTERN
 
≤g_do_dôhî
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3504 
≤g_byãp
 
row
,Öng_byã∞
∑Àâe_lookup
,

3505 
≤g_byãp
 
dôhî_lookup
)Ë
	gPNG_PRIVATE
;

3507 #ifde‡
PNG_CORRECT_PALETTE_SUPPORTED


3508 
PNG_EXTERN
 
≤g_c‹ª˘_∑Àâe
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3509 
≤g_cﬁ‹p
 
∑Àâe
, 
num_∑Àâe
)Ë
	gPNG_PRIVATE
;

3513 #i‡
deföed
(
PNG_READ_BGR_SUPPORTED
Ë|| deföed(
PNG_WRITE_BGR_SUPPORTED
)

3514 
PNG_EXTERN
 
≤g_do_bgr
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3515 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3518 #ifde‡
PNG_WRITE_PACK_SUPPORTED


3519 
PNG_EXTERN
 
≤g_do_∑ck
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3520 
≤g_byãp
 
row
, 
≤g_uöt_32
 
bô_dïth
)Ë
	gPNG_PRIVATE
;

3523 #ifde‡
PNG_WRITE_SHIFT_SUPPORTED


3524 
PNG_EXTERN
 
≤g_do_shi·
 
PNGARG
((
≤g_row_öf›
 
row_öfo
, 
≤g_byãp
 
row
,

3525 
≤g_cﬁ‹_8p
 
bô_dïth
)Ë
	gPNG_PRIVATE
;

3528 #ifde‡
PNG_READ_BACKGROUND_SUPPORTED


3529 #ifde‡
PNG_READ_GAMMA_SUPPORTED


3530 
PNG_EXTERN
 
≤g_do_background
 
PNGARG
((
≤g_row_öf›
 
row_öfo
, 
≤g_byãp
 
row
,

3531 
≤g_cﬁ‹_16p
 
å™s_vÆues
,Öng_cﬁ‹_16∞
background
,

3532 
≤g_cﬁ‹_16p
 
background_1
,

3533 
≤g_byãp
 
gamma_èbÀ
,Öng_byã∞
gamma_‰om_1
,Öng_byã∞
gamma_to_1
,

3534 
≤g_uöt_16µ
 
gamma_16
,Öng_uöt_16µ 
gamma_16_‰om_1
,

3535 
≤g_uöt_16µ
 
gamma_16_to_1
, 
gamma_shi·
)Ë
	gPNG_PRIVATE
;

3537 
PNG_EXTERN
 
≤g_do_background
 
PNGARG
((
≤g_row_öf›
 
row_öfo
, 
≤g_byãp
 
row
,

3538 
≤g_cﬁ‹_16p
 
å™s_vÆues
,Öng_cﬁ‹_16∞
background
)Ë
	gPNG_PRIVATE
;

3542 #ifde‡
PNG_READ_GAMMA_SUPPORTED


3543 
PNG_EXTERN
 
≤g_do_gamma
 
PNGARG
((
≤g_row_öf›
 
row_öfo
, 
≤g_byãp
 
row
,

3544 
≤g_byãp
 
gamma_èbÀ
, 
≤g_uöt_16µ
 
gamma_16_èbÀ
,

3545 
gamma_shi·
)Ë
	gPNG_PRIVATE
;

3548 #ifde‡
PNG_READ_EXPAND_SUPPORTED


3549 
PNG_EXTERN
 
≤g_do_ex∑nd_∑Àâe
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3550 
≤g_byãp
 
row
, 
≤g_cﬁ‹p
 
∑Àâe
,Öng_byã∞
å™s
,

3551 
num_å™s
)Ë
	gPNG_PRIVATE
;

3552 
PNG_EXTERN
 
≤g_do_ex∑nd
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3553 
≤g_byãp
 
row
, 
≤g_cﬁ‹_16p
 
å™s_vÆue
)Ë
	gPNG_PRIVATE
;

3561 
PNG_EXTERN
 
≤g_h™dÀ_IHDR
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3562 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3563 
PNG_EXTERN
 
≤g_h™dÀ_PLTE
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3564 
≤g_uöt_32
 
Àngth
));

3565 
PNG_EXTERN
 
≤g_h™dÀ_IEND
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3566 
≤g_uöt_32
 
Àngth
));

3568 #ifde‡
PNG_READ_bKGD_SUPPORTED


3569 
PNG_EXTERN
 
≤g_h™dÀ_bKGD
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3570 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3573 #ifde‡
PNG_READ_cHRM_SUPPORTED


3574 
PNG_EXTERN
 
≤g_h™dÀ_cHRM
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3575 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3578 #ifde‡
PNG_READ_gAMA_SUPPORTED


3579 
PNG_EXTERN
 
≤g_h™dÀ_gAMA
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3580 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3583 #ifde‡
PNG_READ_hIST_SUPPORTED


3584 
PNG_EXTERN
 
≤g_h™dÀ_hIST
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3585 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3588 #ifde‡
PNG_READ_iCCP_SUPPORTED


3589 
≤g_h™dÀ_iCCP
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3590 
≤g_uöt_32
 
Àngth
));

3593 #ifde‡
PNG_READ_iTXt_SUPPORTED


3594 
PNG_EXTERN
 
≤g_h™dÀ_iTXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3595 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3598 #ifde‡
PNG_READ_oFFs_SUPPORTED


3599 
PNG_EXTERN
 
≤g_h™dÀ_oFFs
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3600 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3603 #ifde‡
PNG_READ_pCAL_SUPPORTED


3604 
PNG_EXTERN
 
≤g_h™dÀ_pCAL
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3605 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3608 #ifde‡
PNG_READ_pHYs_SUPPORTED


3609 
PNG_EXTERN
 
≤g_h™dÀ_pHYs
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3610 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3613 #ifde‡
PNG_READ_sBIT_SUPPORTED


3614 
PNG_EXTERN
 
≤g_h™dÀ_sBIT
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3615 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3618 #ifde‡
PNG_READ_sCAL_SUPPORTED


3619 
PNG_EXTERN
 
≤g_h™dÀ_sCAL
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3620 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3623 #ifde‡
PNG_READ_sPLT_SUPPORTED


3624 
≤g_h™dÀ_sPLT
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3625 
≤g_uöt_32
 
Àngth
)Ë
PNG_PRIVATE
;

3628 #ifde‡
PNG_READ_sRGB_SUPPORTED


3629 
PNG_EXTERN
 
≤g_h™dÀ_sRGB
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3630 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3633 #ifde‡
PNG_READ_tEXt_SUPPORTED


3634 
PNG_EXTERN
 
≤g_h™dÀ_tEXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3635 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3638 #ifde‡
PNG_READ_tIME_SUPPORTED


3639 
PNG_EXTERN
 
≤g_h™dÀ_tIME
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3640 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3643 #ifde‡
PNG_READ_tRNS_SUPPORTED


3644 
PNG_EXTERN
 
≤g_h™dÀ_tRNS
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3645 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3648 #ifde‡
PNG_READ_zTXt_SUPPORTED


3649 
PNG_EXTERN
 
≤g_h™dÀ_zTXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
, 
≤g_öf›
 
öfo_±r
,

3650 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3653 
PNG_EXTERN
 
≤g_h™dÀ_unknown
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3654 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3656 
PNG_EXTERN
 
≤g_check_chunk_«me
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3657 
≤g_byãp
 
chunk_«me
)Ë
	gPNG_PRIVATE
;

3660 
PNG_EXTERN
 
≤g_do_ªad_å™sf‹m©i⁄s


3661 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3662 
PNG_EXTERN
 
≤g_do_wrôe_å™sf‹m©i⁄s


3663 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3665 
PNG_EXTERN
 
≤g_öô_ªad_å™sf‹m©i⁄s


3666 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3668 #ifde‡
PNG_PROGRESSIVE_READ_SUPPORTED


3669 
PNG_EXTERN
 
≤g_push_ªad_chunk
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3670 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3671 
PNG_EXTERN
 
≤g_push_ªad_sig
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3672 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3673 
PNG_EXTERN
 
≤g_push_check_¸c
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3674 
PNG_EXTERN
 
≤g_push_¸c_skù
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3675 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3676 
PNG_EXTERN
 
≤g_push_¸c_föish
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3677 
PNG_EXTERN
 
≤g_push_ßve_buf„r
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3678 
PNG_EXTERN
 
≤g_push_ª°‹e_buf„r
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3679 
≤g_byãp
 
buf„r
, 
≤g_size_t
 
buf„r_Àngth
)Ë
	gPNG_PRIVATE
;

3680 
PNG_EXTERN
 
≤g_push_ªad_IDAT
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3681 
PNG_EXTERN
 
≤g_¥o˚ss_IDAT_d©a
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3682 
≤g_byãp
 
buf„r
, 
≤g_size_t
 
buf„r_Àngth
)Ë
	gPNG_PRIVATE
;

3683 
PNG_EXTERN
 
≤g_push_¥o˚ss_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3684 
PNG_EXTERN
 
≤g_push_h™dÀ_unknown
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3685 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3686 
PNG_EXTERN
 
≤g_push_have_öfo
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3687 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3688 
PNG_EXTERN
 
≤g_push_have_íd
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3689 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3690 
PNG_EXTERN
 
≤g_push_have_row
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3691 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3692 
PNG_EXTERN
 
≤g_push_ªad_íd
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3693 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3694 
PNG_EXTERN
 
≤g_¥o˚ss_some_d©a
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3695 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3696 
PNG_EXTERN
 
≤g_ªad_push_föish_row


3697 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3698 #ifde‡
PNG_READ_tEXt_SUPPORTED


3699 
PNG_EXTERN
 
≤g_push_h™dÀ_tEXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3700 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3701 
PNG_EXTERN
 
≤g_push_ªad_tEXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3702 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3704 #ifde‡
PNG_READ_zTXt_SUPPORTED


3705 
PNG_EXTERN
 
≤g_push_h™dÀ_zTXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3706 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3707 
PNG_EXTERN
 
≤g_push_ªad_zTXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3708 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3710 #ifde‡
PNG_READ_iTXt_SUPPORTED


3711 
PNG_EXTERN
 
≤g_push_h™dÀ_iTXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3712 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 
Àngth
)Ë
	gPNG_PRIVATE
;

3713 
PNG_EXTERN
 
≤g_push_ªad_iTXt
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3714 
≤g_öf›
 
öfo_±r
)Ë
	gPNG_PRIVATE
;

3719 #ifde‡
PNG_MNG_FEATURES_SUPPORTED


3720 
PNG_EXTERN
 
≤g_do_ªad_öå≠ixñ
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3721 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3722 
PNG_EXTERN
 
≤g_do_wrôe_öå≠ixñ
 
PNGARG
((
≤g_row_öf›
 
row_öfo
,

3723 
≤g_byãp
 
row
)Ë
	gPNG_PRIVATE
;

3726 #ifde‡
PNG_ASSEMBLER_CODE_SUPPORTED


3727 #ifde‡
PNG_MMX_CODE_SUPPORTED


3729 
PNG_EXTERN
 
≤g_öô_mmx_Êags
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3735 #i‡
deföed
(
PNG_INCH_CONVERSIONS
Ë&& deföed(
PNG_FLOATING_POINT_SUPPORTED
)

3736 
PNG_EXTERN
 
≤g_uöt_32
 
≤g_gë_pixñs_≥r_öch
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3737 
≤g_öf›
 
öfo_±r
));

3739 
PNG_EXTERN
 
≤g_uöt_32
 
≤g_gë_x_pixñs_≥r_öch
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3740 
≤g_öf›
 
öfo_±r
));

3742 
PNG_EXTERN
 
≤g_uöt_32
 
≤g_gë_y_pixñs_≥r_öch
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3743 
≤g_öf›
 
öfo_±r
));

3745 
PNG_EXTERN
 
≤g_gë_x_off£t_öches
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3746 
≤g_öf›
 
öfo_±r
));

3748 
PNG_EXTERN
 
≤g_gë_y_off£t_öches
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3749 
≤g_öf›
 
öfo_±r
));

3751 #ifde‡
PNG_pHYs_SUPPORTED


3752 
PNG_EXTERN
 
≤g_uöt_32
 
≤g_gë_pHYs_dpi
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3753 
≤g_öf›
 
öfo_±r
, 
≤g_uöt_32
 *
ªs_x
,Öng_uöt_32 *
ªs_y
, *
unô_ty≥
));

3758 
PNG_EXTERN
 
≤g_uöt_32
 
≤g_ªad_chunk_hódî


3759 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
)Ë
	gPNG_PRIVATE
;

3762 #ifde‡
PNG_cHRM_SUPPORTED


3763 
PNG_EXTERN
 
≤g_check_cHRM_fixed
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3764 
≤g_fixed_poöt
 
öt_whôe_x
,Öng_fixed_poöà
öt_whôe_y
,

3765 
≤g_fixed_poöt
 
öt_ªd_x
,Öng_fixed_poöà
öt_ªd_y
,Öng_fixed_point

3766 
öt_gªí_x
, 
≤g_fixed_poöt
 
öt_gªí_y
,Öng_fixed_poöà
öt_blue_x
,

3767 
≤g_fixed_poöt
 
öt_blue_y
)Ë
	gPNG_PRIVATE
;

3770 #ifde‡
PNG_cHRM_SUPPORTED


3771 #ifde‡
PNG_CHECK_cHRM_SUPPORTED


3773 
PNG_EXTERN
 
≤g_64bô_¥odu˘
 
PNGARG
((
v1
, 
v2
,

3774 *
hi_¥odu˘
, *
lo_¥odu˘
)Ë
	gPNG_PRIVATE
;

3779 
PNG_EXTERN
 
≤g_check_IHDR
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3780 
≤g_uöt_32
 
width
,Öng_uöt_32 
height
, 
bô_dïth
,

3781 
cﬁ‹_ty≥
, 
öãæa˚_ty≥
, 
com¥essi⁄_ty≥
,

3782 
fûãr_ty≥
)Ë
	gPNG_PRIVATE
;

3785 
PNG_EXTERN
 
≤g_voidp
 
≤g_ˇŒoc
 
PNGARG
((
≤g_°ru˘p
 
≤g_±r
,

3786 
≤g_uöt_32
 
size
));

3792 #ifde‡
__˝lu•lus


	@/usr/include/pthread.h

20 #i‚de‡
_PTHREAD_H


21 
	#_PTHREAD_H
 1

	)

23 
	~<„©uªs.h
>

24 
	~<ídün.h
>

25 
	~<sched.h
>

26 
	~<time.h
>

28 
	~<bôs/±hªadty≥s.h
>

29 
	~<bôs/£tjmp.h
>

30 
	~<bôs/w‹dsize.h
>

36 
	mPTHREAD_CREATE_JOINABLE
,

37 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

38 
	mPTHREAD_CREATE_DETACHED


39 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

46 
	mPTHREAD_MUTEX_TIMED_NP
,

47 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

48 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

49 
	mPTHREAD_MUTEX_ADAPTIVE_NP


50 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


52 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

53 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

54 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

55 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


57 #ifde‡
__USE_GNU


59 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


64 #ifde‡
__USE_XOPEN2K


68 
	mPTHREAD_MUTEX_STALLED
,

69 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

70 
	mPTHREAD_MUTEX_ROBUST
,

71 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


76 #ifde‡
__USE_UNIX98


80 
	mPTHREAD_PRIO_NONE
,

81 
	mPTHREAD_PRIO_INHERIT
,

82 
	mPTHREAD_PRIO_PROTECT


88 #i‡
__WORDSIZE
 == 64

89 
	#PTHREAD_MUTEX_INITIALIZER
 \

90 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

91 #ifde‡
__USE_GNU


92 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

93 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

94 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

96 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

97 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

100 
	#PTHREAD_MUTEX_INITIALIZER
 \

101 { { 0, 0, 0, 0, 0, { 0 } } }

	)

102 #ifde‡
__USE_GNU


103 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

105 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

107 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

108 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

114 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


117 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

118 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

119 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

120 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


124 
	#PTHREAD_RWLOCK_INITIALIZER
 \

125 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

126 #ifde‡
__USE_GNU


127 #i‡
__WORDSIZE
 == 64

128 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

130 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

132 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


133 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

134 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

135 0, 0, 0, 0 } }

	)

137 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

138 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

139 0 } }

	)

149 
	mPTHREAD_INHERIT_SCHED
,

150 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

151 
	mPTHREAD_EXPLICIT_SCHED


152 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

159 
	mPTHREAD_SCOPE_SYSTEM
,

160 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

161 
	mPTHREAD_SCOPE_PROCESS


162 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

169 
	mPTHREAD_PROCESS_PRIVATE
,

170 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

171 
	mPTHREAD_PROCESS_SHARED


172 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

178 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*Ë0, 0, 0 } }

	)

182 
	s_±hªad_˛ónup_buf„r


184 (*
	m__routöe
) (*);

185 *
	m__¨g
;

186 
	m__ˇn˚…y≥
;

187 
_±hªad_˛ónup_buf„r
 *
	m__¥ev
;

193 
	mPTHREAD_CANCEL_ENABLE
,

194 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

195 
	mPTHREAD_CANCEL_DISABLE


196 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

200 
	mPTHREAD_CANCEL_DEFERRED
,

201 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

202 
	mPTHREAD_CANCEL_ASYNCHRONOUS


203 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

205 
	#PTHREAD_CANCELED
 ((*Ë-1)

	)

209 
	#PTHREAD_ONCE_INIT
 0

	)

212 #ifde‡
__USE_XOPEN2K


216 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

220 
__BEGIN_DECLS


225 
±hªad_¸óã
 (
±hªad_t
 *
__ª°ri˘
 
__√wthªad
,

226 
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

227 *(*
__°¨t_routöe
) (*),

228 *
__ª°ri˘
 
__¨g
Ë
__THROWNL
 
__n⁄nuŒ
 ((1, 3));

234 
	$±hªad_exô
 (*
__ªtvÆ
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

242 
	`±hªad_joö
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
);

244 #ifde‡
__USE_GNU


247 
	$±hªad_åyjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
Ë
__THROW
;

255 
	`±hªad_timedjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
,

256 
__c⁄°
 
time•ec
 *
__ab°ime
);

263 
	$±hªad_dëach
 (
±hªad_t
 
__th
Ë
__THROW
;

267 
±hªad_t
 
	$±hªad_£lf
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

270 
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
Ë
__THROW
;

278 
	$±hªad_©å_öô
 (
±hªad_©å_t
 *
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

281 
	$±hªad_©å_de°roy
 (
±hªad_©å_t
 *
__©å
)

282 
__THROW
 
	`__n⁄nuŒ
 ((1));

285 
	$±hªad_©å_gëdëach°©e
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

286 *
__dëach°©e
)

287 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

290 
	$±hªad_©å_£tdëach°©e
 (
±hªad_©å_t
 *
__©å
,

291 
__dëach°©e
)

292 
__THROW
 
	`__n⁄nuŒ
 ((1));

296 
	$±hªad_©å_gëgu¨dsize
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

297 
size_t
 *
__gu¨dsize
)

298 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

301 
	$±hªad_©å_£tgu¨dsize
 (
±hªad_©å_t
 *
__©å
,

302 
size_t
 
__gu¨dsize
)

303 
__THROW
 
	`__n⁄nuŒ
 ((1));

307 
	$±hªad_©å_gësched∑øm
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


308 
__©å
,

309 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

310 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

313 
	$±hªad_©å_£tsched∑øm
 (
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

314 
__c⁄°
 
sched_∑øm
 *
__ª°ri˘


315 
__∑øm
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

318 
	$±hªad_©å_gëschedpﬁicy
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


319 
__©å
, *
__ª°ri˘
 
__pﬁicy
)

320 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

323 
	$±hªad_©å_£tschedpﬁicy
 (
±hªad_©å_t
 *
__©å
, 
__pﬁicy
)

324 
__THROW
 
	`__n⁄nuŒ
 ((1));

327 
	$±hªad_©å_gëöhîôsched
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


328 
__©å
, *
__ª°ri˘
 
__öhîô
)

329 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

332 
	$±hªad_©å_£töhîôsched
 (
±hªad_©å_t
 *
__©å
,

333 
__öhîô
)

334 
__THROW
 
	`__n⁄nuŒ
 ((1));

338 
	$±hªad_©å_gësc›e
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

339 *
__ª°ri˘
 
__sc›e
)

340 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

343 
	$±hªad_©å_£tsc›e
 (
±hªad_©å_t
 *
__©å
, 
__sc›e
)

344 
__THROW
 
	`__n⁄nuŒ
 ((1));

347 
	$±hªad_©å_gë°ackaddr
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


348 
__©å
, **
__ª°ri˘
 
__°ackaddr
)

349 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__©åibuã_dïªˇãd__
;

355 
	$±hªad_©å_£t°ackaddr
 (
±hªad_©å_t
 *
__©å
,

356 *
__°ackaddr
)

357 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
;

360 
	$±hªad_©å_gë°acksize
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘


361 
__©å
, 
size_t
 *
__ª°ri˘
 
__°acksize
)

362 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

367 
	$±hªad_©å_£t°acksize
 (
±hªad_©å_t
 *
__©å
,

368 
size_t
 
__°acksize
)

369 
__THROW
 
	`__n⁄nuŒ
 ((1));

371 #ifde‡
__USE_XOPEN2K


373 
	$±hªad_©å_gë°ack
 (
__c⁄°
 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

374 **
__ª°ri˘
 
__°ackaddr
,

375 
size_t
 *
__ª°ri˘
 
__°acksize
)

376 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

381 
	$±hªad_©å_£t°ack
 (
±hªad_©å_t
 *
__©å
, *
__°ackaddr
,

382 
size_t
 
__°acksize
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

385 #ifde‡
__USE_GNU


388 
	$±hªad_©å_£èfföôy_≈
 (
±hªad_©å_t
 *
__©å
,

389 
size_t
 
__˝u£tsize
,

390 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
)

391 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

395 
	$±hªad_©å_gëafföôy_≈
 (
__c⁄°
 
±hªad_©å_t
 *
__©å
,

396 
size_t
 
__˝u£tsize
,

397 
˝u_£t_t
 *
__˝u£t
)

398 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

404 
	$±hªad_gë©å_≈
 (
±hªad_t
 
__th
, 
±hªad_©å_t
 *
__©å
)

405 
__THROW
 
	`__n⁄nuŒ
 ((2));

413 
	$±hªad_£tsched∑øm
 (
±hªad_t
 
__èrgë_thªad
, 
__pﬁicy
,

414 
__c⁄°
 
sched_∑øm
 *
__∑øm
)

415 
__THROW
 
	`__n⁄nuŒ
 ((3));

418 
	$±hªad_gësched∑øm
 (
±hªad_t
 
__èrgë_thªad
,

419 *
__ª°ri˘
 
__pﬁicy
,

420 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

421 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

424 
	$±hªad_£tsched¥io
 (
±hªad_t
 
__èrgë_thªad
, 
__¥io
)

425 
__THROW
;

428 #ifde‡
__USE_GNU


430 
	$±hªad_gë«me_≈
 (
±hªad_t
 
__èrgë_thªad
, *
__buf
,

431 
size_t
 
__buÊí
)

432 
__THROW
 
	`__n⁄nuŒ
 ((2));

435 
	$±hªad_£äame_≈
 (
±hªad_t
 
__èrgë_thªad
, 
__c⁄°
 *
__«me
)

436 
__THROW
 
	`__n⁄nuŒ
 ((2));

440 #ifde‡
__USE_UNIX98


442 
	$±hªad_gëc⁄cuºícy
 (Ë
__THROW
;

445 
	$±hªad_£tc⁄cuºícy
 (
__Àvñ
Ë
__THROW
;

448 #ifde‡
__USE_GNU


453 
	$±hªad_yõld
 (Ë
__THROW
;

458 
	$±hªad_£èfföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

459 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
)

460 
__THROW
 
	`__n⁄nuŒ
 ((3));

463 
	$±hªad_gëafföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

464 
˝u_£t_t
 *
__˝u£t
)

465 
__THROW
 
	`__n⁄nuŒ
 ((3));

478 
	`±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

479 (*
__öô_routöe
Ë()Ë
	`__n⁄nuŒ
 ((1, 2));

490 
	`±hªad_£tˇn˚l°©e
 (
__°©e
, *
__ﬁd°©e
);

494 
	`±hªad_£tˇn˚…y≥
 (
__ty≥
, *
__ﬁdty≥
);

497 
	`±hªad_ˇn˚l
 (
±hªad_t
 
__th
);

502 
	`±hªad_ã°ˇn˚l
 ();

511 
__jmp_buf
 
__ˇn˚l_jmp_buf
;

512 
__mask_was_ßved
;

513 } 
__ˇn˚l_jmp_buf
[1];

514 *
__∑d
[4];

515 } 
	t__±hªad_unwöd_buf_t
 
	t__©åibuã__
 ((
	t__Æig√d__
));

518 #i‚de‡
__˛ónup_f˘_©åibuã


519 
	#__˛ónup_f˘_©åibuã


	)

524 
	s__±hªad_˛ónup_‰ame


526 (*
__ˇn˚l_routöe
) (*);

527 *
__ˇn˚l_¨g
;

528 
__do_ô
;

529 
__ˇn˚l_ty≥
;

532 #i‡
deföed
 
__GNUC__
 && deföed 
__EXCEPTIONS


533 #ifde‡
__˝lu•lus


535 ˛as†
	c__±hªad_˛ónup_˛ass


537 (*
__ˇn˚l_routöe
) (*);

538 *
__ˇn˚l_¨g
;

539 
__do_ô
;

540 
__ˇn˚l_ty≥
;

542 
public
:

543 
	`__±hªad_˛ónup_˛ass
 ((*
__f˘
Ë(*), *
__¨g
)

544 : 
	`__ˇn˚l_routöe
 (
__f˘
), 
	`__ˇn˚l_¨g
 (
__¨g
), 
	$__do_ô
 (1) { }

545 ~
	$__±hªad_˛ónup_˛ass
 (Ë{ i‡(
__do_ô
Ë
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); 
	}
}

546 
	$__£tdoô
 (
__√wvÆ
Ë{ 
__do_ô
 = __√wvÆ; 
	}
}

547 
	$__de„r
 (Ë{ 
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
,

548 &
__ˇn˚l_ty≥
); 
	}
}

549 
	$__ª°‹e
 (Ëc⁄° { 
	`±hªad_£tˇn˚…y≥
 (
__ˇn˚l_ty≥
, 0); 
	}
}

559 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

561 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
)

	)

565 
	#±hªad_˛ónup_p›
(
execuã
) \

566 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

567 } 0)

	)

569 #ifde‡
__USE_GNU


573 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

575 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
); \

576 
__˛‰ame
.
	`__de„r
 ()

	)

581 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

582 
__˛‰ame
.
	`__ª°‹e
 (); \

583 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

584 } 0)

	)

591 
__exã∫_ölöe
 

592 
	$__±hªad_˛ónup_routöe
 (
__±hªad_˛ónup_‰ame
 *
__‰ame
)

594 i‡(
__‰ame
->
__do_ô
)

595 
__‰ame
->
	`__ˇn˚l_routöe
 (__‰ame->
__ˇn˚l_¨g
);

596 
	}
}

605 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

607 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

608 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

609 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

610 .
__do_ô
 = 1 };

	)

614 
	#±hªad_˛ónup_p›
(
execuã
) \

615 
__˛‰ame
.
__do_ô
 = (
execuã
); \

616 } 0)

	)

618 #ifde‡
__USE_GNU


622 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

624 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

625 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

626 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

627 .
__do_ô
 = 1 }; \

628 (Ë
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
, \

629 &
__˛‰ame
.
__ˇn˚l_ty≥
)

	)

634 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

635 (Ë
	`±hªad_£tˇn˚…y≥
 (
__˛‰ame
.
__ˇn˚l_ty≥
, 
NULL
); \

636 
__˛‰ame
.
__do_ô
 = (
execuã
); \

637 } 0)

	)

648 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

650 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

651 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

652 *
__ˇn˚l_¨g
 = (
¨g
); \

653 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

654 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

655 i‡(
	`__buûtö_ex≥˘
 (
__nŸ_fú°_ˇŒ
, 0)) \

657 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

658 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

662 
	`__±hªad_ªgi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

663 dÿ{

	)

664 
__±hªad_ªgi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

665 
__˛ónup_f˘_©åibuã
;

669 
	#±hªad_˛ónup_p›
(
execuã
) \

672 
	`__±hªad_uƒegi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

673 i‡(
execuã
) \

674 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

675 } 0)

	)

676 
	$__±hªad_uƒegi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

677 
__˛ónup_f˘_©åibuã
;

679 #ifde‡
__USE_GNU


683 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

685 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

686 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

687 *
__ˇn˚l_¨g
 = (
¨g
); \

688 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

689 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

690 i‡(
	`__buûtö_ex≥˘
 (
__nŸ_fú°_ˇŒ
, 0)) \

692 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

693 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

697 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (&
__ˇn˚l_buf
); \

698 dÿ{

	)

699 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (
__±hªad_unwöd_buf_t
 *
__buf
)

700 
__˛ónup_f˘_©åibuã
;

705 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

708 
	`__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (&
__ˇn˚l_buf
); \

709 i‡(
execuã
) \

710 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

711 
	}
} 0)

	)

712 
	$__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (
__±hªad_unwöd_buf_t
 *
__buf
)

713 
__˛ónup_f˘_©åibuã
;

717 
	$__±hªad_unwöd_√xt
 (
__±hªad_unwöd_buf_t
 *
__buf
)

718 
__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

719 #i‚de‡
SHARED


720 
	`__©åibuã__
 ((
__wók__
))

726 
__jmp_buf_èg
;

727 
	$__sig£tjmp
 (
__jmp_buf_èg
 *
__ív
, 
__ßvemask
Ë
__THROW
;

733 
	$±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

734 
__c⁄°
 
±hªad_muãx©å_t
 *
__muãx©å
)

735 
__THROW
 
	`__n⁄nuŒ
 ((1));

738 
	$±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
)

739 
__THROW
 
	`__n⁄nuŒ
 ((1));

742 
	$±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
)

743 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

746 
	$±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
)

747 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

749 #ifde‡
__USE_XOPEN2K


751 
	$±hªad_muãx_timedlock
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

752 
__c⁄°
 
time•ec
 *
__ª°ri˘


753 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

757 
	$±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
)

758 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

762 
	$±hªad_muãx_gë¥io˚ûög
 (
__c⁄°
 
±hªad_muãx_t
 *

763 
__ª°ri˘
 
__muãx
,

764 *
__ª°ri˘
 
__¥io˚ûög
)

765 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

769 
	$±hªad_muãx_£çrio˚ûög
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

770 
__¥io˚ûög
,

771 *
__ª°ri˘
 
__ﬁd_˚ûög
)

772 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

775 #ifde‡
__USE_XOPEN2K8


777 
	$±hªad_muãx_c⁄si°ít
 (
±hªad_muãx_t
 *
__muãx
)

778 
__THROW
 
	`__n⁄nuŒ
 ((1));

779 #ifde‡
__USE_GNU


780 
	$±hªad_muãx_c⁄si°ít_≈
 (
±hªad_muãx_t
 *
__muãx
)

781 
__THROW
 
	`__n⁄nuŒ
 ((1));

790 
	$±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
)

791 
__THROW
 
	`__n⁄nuŒ
 ((1));

794 
	$±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
)

795 
__THROW
 
	`__n⁄nuŒ
 ((1));

798 
	$±hªad_muãx©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_muãx©å_t
 *

799 
__ª°ri˘
 
__©å
,

800 *
__ª°ri˘
 
__psh¨ed
)

801 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

804 
	$±hªad_muãx©å_£çsh¨ed
 (
±hªad_muãx©å_t
 *
__©å
,

805 
__psh¨ed
)

806 
__THROW
 
	`__n⁄nuŒ
 ((1));

808 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


810 
	$±hªad_muãx©å_gëty≥
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__ª°ri˘


811 
__©å
, *
__ª°ri˘
 
__köd
)

812 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

817 
	$±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
, 
__köd
)

818 
__THROW
 
	`__n⁄nuŒ
 ((1));

822 
	$±hªad_muãx©å_gë¥Ÿocﬁ
 (
__c⁄°
 
±hªad_muãx©å_t
 *

823 
__ª°ri˘
 
__©å
,

824 *
__ª°ri˘
 
__¥Ÿocﬁ
)

825 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

829 
	$±hªad_muãx©å_£çrŸocﬁ
 (
±hªad_muãx©å_t
 *
__©å
,

830 
__¥Ÿocﬁ
)

831 
__THROW
 
	`__n⁄nuŒ
 ((1));

834 
	$±hªad_muãx©å_gë¥io˚ûög
 (
__c⁄°
 
±hªad_muãx©å_t
 *

835 
__ª°ri˘
 
__©å
,

836 *
__ª°ri˘
 
__¥io˚ûög
)

837 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

840 
	$±hªad_muãx©å_£çrio˚ûög
 (
±hªad_muãx©å_t
 *
__©å
,

841 
__¥io˚ûög
)

842 
__THROW
 
	`__n⁄nuŒ
 ((1));

844 #ifde‡
__USE_XOPEN2K


846 
	$±hªad_muãx©å_gërobu°
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__©å
,

847 *
__robu°√ss
)

848 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

849 #ifde‡
__USE_GNU


850 
	$±hªad_muãx©å_gërobu°_≈
 (
__c⁄°
 
±hªad_muãx©å_t
 *
__©å
,

851 *
__robu°√ss
)

852 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

856 
	$±hªad_muãx©å_£åobu°
 (
±hªad_muãx©å_t
 *
__©å
,

857 
__robu°√ss
)

858 
__THROW
 
	`__n⁄nuŒ
 ((1));

859 #ifde‡
__USE_GNU


860 
	$±hªad_muãx©å_£åobu°_≈
 (
±hªad_muãx©å_t
 *
__©å
,

861 
__robu°√ss
)

862 
__THROW
 
	`__n⁄nuŒ
 ((1));

867 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


872 
	$±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

873 
__c⁄°
 
±hªad_rwlock©å_t
 *
__ª°ri˘


874 
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

877 
	$±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
)

878 
__THROW
 
	`__n⁄nuŒ
 ((1));

881 
	$±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

882 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

885 
	$±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

886 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

888 #ifde‡
__USE_XOPEN2K


890 
	$±hªad_rwlock_timedrdlock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

891 
__c⁄°
 
time•ec
 *
__ª°ri˘


892 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

896 
	$±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
)

897 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

900 
	$±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
)

901 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

903 #ifde‡
__USE_XOPEN2K


905 
	$±hªad_rwlock_timedwæock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

906 
__c⁄°
 
time•ec
 *
__ª°ri˘


907 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

911 
	$±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
)

912 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

918 
	$±hªad_rwlock©å_öô
 (
±hªad_rwlock©å_t
 *
__©å
)

919 
__THROW
 
	`__n⁄nuŒ
 ((1));

922 
	$±hªad_rwlock©å_de°roy
 (
±hªad_rwlock©å_t
 *
__©å
)

923 
__THROW
 
	`__n⁄nuŒ
 ((1));

926 
	$±hªad_rwlock©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_rwlock©å_t
 *

927 
__ª°ri˘
 
__©å
,

928 *
__ª°ri˘
 
__psh¨ed
)

929 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

932 
	$±hªad_rwlock©å_£çsh¨ed
 (
±hªad_rwlock©å_t
 *
__©å
,

933 
__psh¨ed
)

934 
__THROW
 
	`__n⁄nuŒ
 ((1));

937 
	$±hªad_rwlock©å_gëköd_≈
 (
__c⁄°
 
±hªad_rwlock©å_t
 *

938 
__ª°ri˘
 
__©å
,

939 *
__ª°ri˘
 
__¥ef
)

940 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

943 
	$±hªad_rwlock©å_£tköd_≈
 (
±hªad_rwlock©å_t
 *
__©å
,

944 
__¥ef
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

952 
	$±hªad_c⁄d_öô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

953 
__c⁄°
 
±hªad_c⁄d©å_t
 *
__ª°ri˘


954 
__c⁄d_©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

957 
	$±hªad_c⁄d_de°roy
 (
±hªad_c⁄d_t
 *
__c⁄d
)

958 
__THROW
 
	`__n⁄nuŒ
 ((1));

961 
	$±hªad_c⁄d_sig«l
 (
±hªad_c⁄d_t
 *
__c⁄d
)

962 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

965 
	$±hªad_c⁄d_brﬂdˇ°
 (
±hªad_c⁄d_t
 *
__c⁄d
)

966 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

973 
	$±hªad_c⁄d_waô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

974 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
)

975 
	`__n⁄nuŒ
 ((1, 2));

984 
	$±hªad_c⁄d_timedwaô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

985 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

986 
__c⁄°
 
time•ec
 *
__ª°ri˘


987 
__ab°ime
Ë
	`__n⁄nuŒ
 ((1, 2, 3));

992 
	$±hªad_c⁄d©å_öô
 (
±hªad_c⁄d©å_t
 *
__©å
)

993 
__THROW
 
	`__n⁄nuŒ
 ((1));

996 
	$±hªad_c⁄d©å_de°roy
 (
±hªad_c⁄d©å_t
 *
__©å
)

997 
__THROW
 
	`__n⁄nuŒ
 ((1));

1000 
	$±hªad_c⁄d©å_gëpsh¨ed
 (
__c⁄°
 
±hªad_c⁄d©å_t
 *

1001 
__ª°ri˘
 
__©å
,

1002 *
__ª°ri˘
 
__psh¨ed
)

1003 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1006 
	$±hªad_c⁄d©å_£çsh¨ed
 (
±hªad_c⁄d©å_t
 *
__©å
,

1007 
__psh¨ed
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1009 #ifde‡
__USE_XOPEN2K


1011 
	$±hªad_c⁄d©å_gë˛ock
 (
__c⁄°
 
±hªad_c⁄d©å_t
 *

1012 
__ª°ri˘
 
__©å
,

1013 
__˛ockid_t
 *
__ª°ri˘
 
__˛ock_id
)

1014 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1017 
	$±hªad_c⁄d©å_£t˛ock
 (
±hªad_c⁄d©å_t
 *
__©å
,

1018 
__˛ockid_t
 
__˛ock_id
)

1019 
__THROW
 
	`__n⁄nuŒ
 ((1));

1023 #ifde‡
__USE_XOPEN2K


1028 
	$±hªad_•ö_öô
 (
±hªad_•ölock_t
 *
__lock
, 
__psh¨ed
)

1029 
__THROW
 
	`__n⁄nuŒ
 ((1));

1032 
	$±hªad_•ö_de°roy
 (
±hªad_•ölock_t
 *
__lock
)

1033 
__THROW
 
	`__n⁄nuŒ
 ((1));

1036 
	$±hªad_•ö_lock
 (
±hªad_•ölock_t
 *
__lock
)

1037 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1040 
	$±hªad_•ö_åylock
 (
±hªad_•ölock_t
 *
__lock
)

1041 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1044 
	$±hªad_•ö_u∆ock
 (
±hªad_•ölock_t
 *
__lock
)

1045 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1052 
	$±hªad_b¨rõr_öô
 (
±hªad_b¨rõr_t
 *
__ª°ri˘
 
__b¨rõr
,

1053 
__c⁄°
 
±hªad_b¨rõøâr_t
 *
__ª°ri˘


1054 
__©å
, 
__cou¡
)

1055 
__THROW
 
	`__n⁄nuŒ
 ((1));

1058 
	$±hªad_b¨rõr_de°roy
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1059 
__THROW
 
	`__n⁄nuŒ
 ((1));

1062 
	$±hªad_b¨rõr_waô
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1063 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1067 
	$±hªad_b¨rõøâr_öô
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1068 
__THROW
 
	`__n⁄nuŒ
 ((1));

1071 
	$±hªad_b¨rõøâr_de°roy
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1072 
__THROW
 
	`__n⁄nuŒ
 ((1));

1075 
	$±hªad_b¨rõøâr_gëpsh¨ed
 (
__c⁄°
 
±hªad_b¨rõøâr_t
 *

1076 
__ª°ri˘
 
__©å
,

1077 *
__ª°ri˘
 
__psh¨ed
)

1078 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1081 
	$±hªad_b¨rõøâr_£çsh¨ed
 (
±hªad_b¨rõøâr_t
 *
__©å
,

1082 
__psh¨ed
)

1083 
__THROW
 
	`__n⁄nuŒ
 ((1));

1095 
	`±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

1096 (*
__de°r_fun˘i⁄
) (*))

1097 
__THROW
 
	`__n⁄nuŒ
 ((1));

1100 
	$±hªad_key_dñëe
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1103 *
	$±hªad_gë•ecific
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1106 
	$±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

1107 
__c⁄°
 *
__poöãr
Ë
__THROW
 ;

1110 #ifde‡
__USE_XOPEN2K


1112 
	$±hªad_gë˝u˛ockid
 (
±hªad_t
 
__thªad_id
,

1113 
__˛ockid_t
 *
__˛ock_id
)

1114 
__THROW
 
	`__n⁄nuŒ
 ((2));

1129 
	`±hªad_©f‹k
 ((*
__¥ï¨e
) (),

1130 (*
__∑ª¡
) (),

1131 (*
__chûd
Ë()Ë
__THROW
;

1134 #ifde‡
__USE_EXTERN_INLINES


1136 
__exã∫_ölöe
 

1137 
	`__NTH
 (
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
))

1139  
__thªad1
 =
__thªad2
;

1140 
	}
}

1143 
	g__END_DECLS


	@/usr/include/regex.h

22 #i‚de‡
_REGEX_H


23 
	#_REGEX_H
 1

	)

25 
	~<sys/ty≥s.h
>

26 
	~<gnu/›ti⁄-groups.h
>

29 #ifde‡
__˝lu•lus


37 
	ts_ªg_t
;

38 
	ta˘ive_ªg_t
;

45 
	tªg_sy¡ax_t
;

47 #ifde‡
__USE_GNU


50 
	#RE_BACKSLASH_ESCAPE_IN_LISTS
 ((Ë1)

	)

55 
	#RE_BK_PLUS_QM
 (
RE_BACKSLASH_ESCAPE_IN_LISTS
 << 1)

	)

61 
	#RE_CHAR_CLASSES
 (
RE_BK_PLUS_QM
 << 1)

	)

75 
	#RE_CONTEXT_INDEP_ANCHORS
 (
RE_CHAR_CLASSES
 << 1)

	)

83 
	#RE_CONTEXT_INDEP_OPS
 (
RE_CONTEXT_INDEP_ANCHORS
 << 1)

	)

87 
	#RE_CONTEXT_INVALID_OPS
 (
RE_CONTEXT_INDEP_OPS
 << 1)

	)

91 
	#RE_DOT_NEWLINE
 (
RE_CONTEXT_INVALID_OPS
 << 1)

	)

95 
	#RE_DOT_NOT_NULL
 (
RE_DOT_NEWLINE
 << 1)

	)

99 
	#RE_HAT_LISTS_NOT_NEWLINE
 (
RE_DOT_NOT_NULL
 << 1)

	)

104 
	#RE_INTERVALS
 (
RE_HAT_LISTS_NOT_NEWLINE
 << 1)

	)

108 
	#RE_LIMITED_OPS
 (
RE_INTERVALS
 << 1)

	)

112 
	#RE_NEWLINE_ALT
 (
RE_LIMITED_OPS
 << 1)

	)

117 
	#RE_NO_BK_BRACES
 (
RE_NEWLINE_ALT
 << 1)

	)

121 
	#RE_NO_BK_PARENS
 (
RE_NO_BK_BRACES
 << 1)

	)

125 
	#RE_NO_BK_REFS
 (
RE_NO_BK_PARENS
 << 1)

	)

129 
	#RE_NO_BK_VBAR
 (
RE_NO_BK_REFS
 << 1)

	)

135 
	#RE_NO_EMPTY_RANGES
 (
RE_NO_BK_VBAR
 << 1)

	)

139 
	#RE_UNMATCHED_RIGHT_PAREN_ORD
 (
RE_NO_EMPTY_RANGES
 << 1)

	)

143 
	#RE_NO_POSIX_BACKTRACKING
 (
RE_UNMATCHED_RIGHT_PAREN_ORD
 << 1)

	)

147 
	#RE_NO_GNU_OPS
 (
RE_NO_POSIX_BACKTRACKING
 << 1)

	)

155 
	#RE_DEBUG
 (
RE_NO_GNU_OPS
 << 1)

	)

160 
	#RE_INVALID_INTERVAL_ORD
 (
RE_DEBUG
 << 1)

	)

163 #ifde‡
__OPTION_POSIX_REGEXP_GLIBC


166 
	#RE_ICASE
 (
RE_INVALID_INTERVAL_ORD
 << 1)

	)

171 
	#RE_CARET_ANCHORS_HERE
 (
RE_ICASE
 << 1)

	)

175 
	#RE_CONTEXT_INVALID_DUP
 (
RE_CARET_ANCHORS_HERE
 << 1)

	)

179 
	#RE_NO_SUB
 (
RE_CONTEXT_INVALID_DUP
 << 1)

	)

187 
ªg_sy¡ax_t
 
ª_sy¡ax_›ti⁄s
;

189 #ifde‡
__USE_GNU


194 
	#RE_SYNTAX_EMACS
 0

	)

196 
	#RE_SYNTAX_AWK
 \

197 (
RE_BACKSLASH_ESCAPE_IN_LISTS
 | 
RE_DOT_NOT_NULL
 \

198 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_REFS
 \

199 | 
RE_NO_BK_VBAR
 | 
RE_NO_EMPTY_RANGES
 \

200 | 
RE_DOT_NEWLINE
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

201 | 
RE_CHAR_CLASSES
 \

202 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
 | 
RE_NO_GNU_OPS
)

	)

204 
	#RE_SYNTAX_GNU_AWK
 \

205 ((
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_BACKSLASH_ESCAPE_IN_LISTS
 \

206 | 
RE_INVALID_INTERVAL_ORD
) \

207 & ~(
RE_DOT_NOT_NULL
 | 
RE_CONTEXT_INDEP_OPS
 \

208 | 
RE_CONTEXT_INVALID_OPS
 ))

	)

210 
	#RE_SYNTAX_POSIX_AWK
 \

211 (
RE_SYNTAX_POSIX_EXTENDED
 | 
RE_BACKSLASH_ESCAPE_IN_LISTS
 \

212 | 
RE_INTERVALS
 | 
RE_NO_GNU_OPS
 \

213 | 
RE_INVALID_INTERVAL_ORD
)

	)

215 
	#RE_SYNTAX_GREP
 \

216 (
RE_BK_PLUS_QM
 | 
RE_CHAR_CLASSES
 \

217 | 
RE_HAT_LISTS_NOT_NEWLINE
 | 
RE_INTERVALS
 \

218 | 
RE_NEWLINE_ALT
)

	)

220 
	#RE_SYNTAX_EGREP
 \

221 (
RE_CHAR_CLASSES
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

222 | 
RE_CONTEXT_INDEP_OPS
 | 
RE_HAT_LISTS_NOT_NEWLINE
 \

223 | 
RE_NEWLINE_ALT
 | 
RE_NO_BK_PARENS
 \

224 | 
RE_NO_BK_VBAR
)

	)

226 
	#RE_SYNTAX_POSIX_EGREP
 \

227 (
RE_SYNTAX_EGREP
 | 
RE_INTERVALS
 | 
RE_NO_BK_BRACES
 \

228 | 
RE_INVALID_INTERVAL_ORD
)

	)

231 
	#RE_SYNTAX_ED
 
RE_SYNTAX_POSIX_BASIC


	)

233 
	#RE_SYNTAX_SED
 
RE_SYNTAX_POSIX_BASIC


	)

236 
	#_RE_SYNTAX_POSIX_COMMON
 \

237 (
RE_CHAR_CLASSES
 | 
RE_DOT_NEWLINE
 | 
RE_DOT_NOT_NULL
 \

238 | 
RE_INTERVALS
 | 
RE_NO_EMPTY_RANGES
)

	)

240 #ifde‡
__OPTION_POSIX_REGEXP_GLIBC


241 
	#RE_SYNTAX_POSIX_BASIC
 \

242 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_BK_PLUS_QM
 | 
RE_CONTEXT_INVALID_DUP
)

	)

244 
	#RE_SYNTAX_POSIX_BASIC
 \

245 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_BK_PLUS_QM
)

	)

251 
	#RE_SYNTAX_POSIX_MINIMAL_BASIC
 \

252 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_LIMITED_OPS
)

	)

254 
	#RE_SYNTAX_POSIX_EXTENDED
 \

255 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

256 | 
RE_CONTEXT_INDEP_OPS
 | 
RE_NO_BK_BRACES
 \

257 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_VBAR
 \

258 | 
RE_CONTEXT_INVALID_OPS
 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
)

	)

262 
	#RE_SYNTAX_POSIX_MINIMAL_EXTENDED
 \

263 (
_RE_SYNTAX_POSIX_COMMON
 | 
RE_CONTEXT_INDEP_ANCHORS
 \

264 | 
RE_CONTEXT_INVALID_OPS
 | 
RE_NO_BK_BRACES
 \

265 | 
RE_NO_BK_PARENS
 | 
RE_NO_BK_REFS
 \

266 | 
RE_NO_BK_VBAR
 | 
RE_UNMATCHED_RIGHT_PAREN_ORD
)

	)

272 #ifde‡
RE_DUP_MAX


273 #unde‡
RE_DUP_MAX


276 
	#RE_DUP_MAX
 (0x7fff)

	)

284 
	#REG_EXTENDED
 1

	)

288 
	#REG_ICASE
 (
REG_EXTENDED
 << 1)

	)

293 
	#REG_NEWLINE
 (
REG_ICASE
 << 1)

	)

297 
	#REG_NOSUB
 (
REG_NEWLINE
 << 1)

	)

307 
	#REG_NOTBOL
 1

	)

310 
	#REG_NOTEOL
 (1 << 1)

	)

312 #ifde‡
__OPTION_POSIX_REGEXP_GLIBC


315 
	#REG_STARTEND
 (1 << 2)

	)

323 #i‡
deföed
 
_XOPEN_SOURCE
 || deföed 
__USE_XOPEN2K


324 
	gREG_ENOSYS
 = -1,

327 
	gREG_NOERROR
 = 0,

328 
	gREG_NOMATCH
,

332 
	gREG_BADPAT
,

333 
	gREG_ECOLLATE
,

334 
	gREG_ECTYPE
,

335 
	gREG_EESCAPE
,

336 
	gREG_ESUBREG
,

337 
	gREG_EBRACK
,

338 
	gREG_EPAREN
,

339 
	gREG_EBRACE
,

340 
	gREG_BADBR
,

341 
	gREG_ERANGE
,

342 
	gREG_ESPACE
,

343 
	gREG_BADRPT
,

346 
	gREG_EEND
,

347 
	gREG_ESIZE
,

348 
	gREG_ERPAREN


349 } 
	tªg_îrcode_t
;

357 #i‚de‡
RE_TRANSLATE_TYPE


358 
	#__RE_TRANSLATE_TYPE
 *

	)

359 #ifde‡
__USE_GNU


360 
	#RE_TRANSLATE_TYPE
 
__RE_TRANSLATE_TYPE


	)

364 #ifde‡
__USE_GNU


365 
	#__REPB_PREFIX
(
«me
Ë
	)
name

367 
	#__REPB_PREFIX
(
«me
Ë
__
##
	)
name

370 
	sª_∑âîn_buf„r


375 *
__REPB_PREFIX
(
buf„r
);

378 
__REPB_PREFIX
(
Æloˇãd
);

381 
__REPB_PREFIX
(
u£d
);

384 
ªg_sy¡ax_t
 
__REPB_PREFIX
(
sy¡ax
);

389 *
__REPB_PREFIX
(
Á°m≠
);

395 
__RE_TRANSLATE_TYPE
 
__REPB_PREFIX
(
å™¶©e
);

398 
size_t
 
	gª_nsub
;

404 
__REPB_PREFIX
(
ˇn_be_nuŒ
) : 1;

410 #ifde‡
__USE_GNU


411 
	#REGS_UNALLOCATED
 0

	)

412 
	#REGS_REALLOCATE
 1

	)

413 
	#REGS_FIXED
 2

	)

415 
__REPB_PREFIX
(
ªgs_Æloˇãd
) : 2;

419 
__REPB_PREFIX
(
Á°m≠_accuøã
) : 1;

423 
__REPB_PREFIX
(
no_sub
) : 1;

427 
__REPB_PREFIX
(
nŸ_bﬁ
) : 1;

430 
__REPB_PREFIX
(
nŸ_eﬁ
) : 1;

433 
__REPB_PREFIX
(
√wlöe_™ch‹
) : 1;

436 
ª_∑âîn_buf„r
 
	tªgex_t
;

439 
	tªgoff_t
;

442 #ifde‡
__USE_GNU


445 
	sª_ªgi°îs


447 
	gnum_ªgs
;

448 
ªgoff_t
 *
	g°¨t
;

449 
ªgoff_t
 *
	gíd
;

456 #i‚de‡
RE_NREGS


457 
	#RE_NREGS
 30

	)

467 
ªgoff_t
 
	grm_so
;

468 
ªgoff_t
 
	grm_eo
;

469 } 
	tªgm©ch_t
;

473 #ifde‡
__USE_GNU


476 
ªg_sy¡ax_t
 
ª_£t_sy¡ax
 (ªg_sy¡ax_à
__sy¡ax
);

486 c⁄° *
ª_compûe_∑âîn
 (c⁄° *
__∑âîn
, 
size_t
 
__Àngth
,

487 
ª_∑âîn_buf„r
 *
__buf„r
);

493 
ª_compûe_Á°m≠
 (
ª_∑âîn_buf„r
 *
__buf„r
);

501 
ª_£¨ch
 (
ª_∑âîn_buf„r
 *
__buf„r
, c⁄° *
__°rög
,

502 
__Àngth
, 
__°¨t
, 
__ønge
,

503 
ª_ªgi°îs
 *
__ªgs
);

508 
ª_£¨ch_2
 (
ª_∑âîn_buf„r
 *
__buf„r
,

509 c⁄° *
__°rög1
, 
__Àngth1
,

510 c⁄° *
__°rög2
, 
__Àngth2
, 
__°¨t
,

511 
__ønge
, 
ª_ªgi°îs
 *
__ªgs
, 
__°›
);

516 
ª_m©ch
 (
ª_∑âîn_buf„r
 *
__buf„r
, c⁄° *
__°rög
,

517 
__Àngth
, 
__°¨t
, 
ª_ªgi°îs
 *
__ªgs
);

521 
ª_m©ch_2
 (
ª_∑âîn_buf„r
 *
__buf„r
,

522 c⁄° *
__°rög1
, 
__Àngth1
,

523 c⁄° *
__°rög2
, 
__Àngth2
, 
__°¨t
,

524 
ª_ªgi°îs
 *
__ªgs
, 
__°›
);

539 
ª_£t_ªgi°îs
 (
ª_∑âîn_buf„r
 *
__buf„r
,

540 
ª_ªgi°îs
 *
__ªgs
,

541 
__num_ªgs
,

542 
ªgoff_t
 *
__°¨ts
,Ñegoff_à*
__íds
);

545 #i‡
deföed
 
_REGEX_RE_COMP
 || (deföed 
_LIBC
 && deföed 
__USE_BSD
)

546 #i‚de‡
_CRAY


548 *
ª_comp
 (const *);

549 
ª_exec
 (const *);

555 #i‚de‡
__ª°ri˘


556 #i‡! (2 < 
__GNUC__
 || (2 =__GNUC__ && 95 <
__GNUC_MINOR__
))

557 #i‡
deföed
 
ª°ri˘
 || 199901L <
__STDC_VERSION__


558 
	#__ª°ri˘
 
ª°ri˘


	)

560 
	#__ª°ri˘


	)

565 #i‚de‡
__ª°ri˘_¨r


566 #i‡(
__GNUC__
 > 3 || (__GNUC__ =3 && 
__GNUC_MINOR__
 >= 1)) \

567 && !
deföed
 
	g__GNUG__


568 
	#__ª°ri˘_¨r
 
__ª°ri˘


	)

570 
	#__ª°ri˘_¨r


	)

575 
ªgcomp
 (
ªgex_t
 *
__ª°ri˘
 
__¥eg
,

576 c⁄° *
__ª°ri˘
 
__∑âîn
,

577 
__cÊags
);

579 
ªgexec
 (c⁄° 
ªgex_t
 *
__ª°ri˘
 
__¥eg
,

580 c⁄° *
__ª°ri˘
 
__°rög
, 
size_t
 
__nm©ch
,

581 
ªgm©ch_t
 
__pm©ch
[
__ª°ri˘_¨r
],

582 
__eÊags
);

584 
size_t
 
ªgîr‹
 (
__îrcode
, c⁄° 
ªgex_t
 *
__ª°ri˘
 
__¥eg
,

585 *
__ª°ri˘
 
__îrbuf
, 
size_t
 
__îrbuf_size
);

587 
ªg‰ì
 (
ªgex_t
 *
__¥eg
);

590 #ifde‡
__˝lu•lus


	@/usr/include/setjmp.h

23 #i‚def 
_SETJMP_H


24 
	#_SETJMP_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


30 
	~<bôs/£tjmp.h
>

31 
	~<bôs/sig£t.h
>

35 
	s__jmp_buf_èg


41 
__jmp_buf
 
	m__jmpbuf
;

42 
	m__mask_was_ßved
;

43 
__sig£t_t
 
	m__ßved_mask
;

47 
__BEGIN_NAMESPACE_STD


49 
__jmp_buf_èg
 
	tjmp_buf
[1];

53 
	$£tjmp
 (
jmp_buf
 
__ív
Ë
__THROWNL
;

55 
__END_NAMESPACE_STD


60 
	$__sig£tjmp
 (
__jmp_buf_èg
 
__ív
[1], 
__ßvemask
Ë
__THROWNL
;

62 #i‚def 
__FAVOR_BSD


65 
	$_£tjmp
 (
__jmp_buf_èg
 
__ív
[1]Ë
__THROWNL
;

69 
	#£tjmp
(
ív
Ë
	`_£tjmp
 (ív)

	)

74 
	#£tjmp
(
ív
Ë
	`£tjmp
 (ív)

	)

78 
__BEGIN_NAMESPACE_STD


82 
	$l⁄gjmp
 (
__jmp_buf_èg
 
__ív
[1], 
__vÆ
)

83 
__THROWNL
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

85 
__END_NAMESPACE_STD


87 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


91 
	$_l⁄gjmp
 (
__jmp_buf_èg
 
__ív
[1], 
__vÆ
)

92 
__THROWNL
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

96 #ifdef 
__USE_POSIX


100 
__jmp_buf_èg
 
	tsigjmp_buf
[1];

104 
	#sig£tjmp
(
ív
, 
ßvemask
Ë
	`__sig£tjmp
 (ív, savemask)

	)

110 
	$sigl⁄gjmp
 (
sigjmp_buf
 
__ív
, 
__vÆ
)

111 
__THROWNL
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

116 #i‡
__USE_FORTIFY_LEVEL
 > 0

117 
	~<bôs/£tjmp2.h
>

120 
__END_DECLS


	@/usr/include/signal.h

23 #i‚def 
_SIGNAL_H


25 #i‡!
deföed
 
__√ed_sig_©omic_t
 && !deföed 
__√ed_sig£t_t


26 
	#_SIGNAL_H


	)

29 
	~<„©uªs.h
>

31 
	g__BEGIN_DECLS


33 
	~<bôs/sig£t.h
>

37 #i‡
deföed
 
__√ed_sig_©omic_t
 || deföed 
_SIGNAL_H


38 #i‚de‡
__sig_©omic_t_deföed


39 
	#__sig_©omic_t_deföed


	)

40 
__BEGIN_NAMESPACE_STD


41 
__sig_©omic_t
 
	tsig_©omic_t
;

42 
	g__END_NAMESPACE_STD


44 #unde‡
__√ed_sig_©omic_t


47 #i‡
deföed
 
__√ed_sig£t_t
 || (deföed 
_SIGNAL_H
 && deföed 
__USE_POSIX
)

48 #i‚de‡
__sig£t_t_deföed


49 
	#__sig£t_t_deföed


	)

50 
__sig£t_t
 
	tsig£t_t
;

52 #unde‡
__√ed_sig£t_t


55 #ifde‡
_SIGNAL_H


57 
	~<bôs/ty≥s.h
>

58 
	~<bôs/signum.h
>

60 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


61 #i‚de‡
__pid_t_deföed


62 
__pid_t
 
	tpid_t
;

63 
	#__pid_t_deföed


	)

65 #ifde‡
__USE_XOPEN


67 #i‚de‡
__uid_t_deföed


68 
__uid_t
 
	tuid_t
;

69 
	#__uid_t_deföed


	)

73 #ifde‡
__USE_POSIX199309


75 
	#__√ed_time•ec


	)

76 
	~<time.h
>

79 
	~<bôs/sigöfo.h
>

84 (*
	t__sigh™dÀr_t
) ();

89 
__sigh™dÀr_t
 
	$__sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

90 
__THROW
;

91 #ifde‡
__USE_GNU


92 
__sigh™dÀr_t
 
	$sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

93 
__THROW
;

99 
__BEGIN_NAMESPACE_STD


100 #ifde‡
__USE_BSD


101 
__sigh™dÀr_t
 
	$sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

102 
__THROW
;

105 #ifde‡
__REDIRECT_NTH


106 
__sigh™dÀr_t
 
	`__REDIRECT_NTH
 (
sig«l
,

107 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
),

108 
__sysv_sig«l
);

110 
	#sig«l
 
__sysv_sig«l


	)

113 
__END_NAMESPACE_STD


115 #ifde‡
__USE_XOPEN


118 
__sigh™dÀr_t
 
	$bsd_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

119 
__THROW
;

125 #ifde‡
__USE_POSIX


126 
	$kûl
 (
__pid_t
 
__pid
, 
__sig
Ë
__THROW
;

129 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


133 
	$kûÕg
 (
__pid_t
 
__pgΩ
, 
__sig
Ë
__THROW
;

136 
__BEGIN_NAMESPACE_STD


138 
	$øi£
 (
__sig
Ë
__THROW
;

139 
__END_NAMESPACE_STD


141 #ifde‡
__USE_SVID


143 
__sigh™dÀr_t
 
	$ssig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

144 
__THROW
;

145 
	$gsig«l
 (
__sig
Ë
__THROW
;

148 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN2K


150 
	`psig«l
 (
__sig
, 
__c⁄°
 *
__s
);

153 #ifde‡
__USE_XOPEN2K


155 
	`psigöfo
 (
__c⁄°
 
sigöfo_t
 *
__pöfo
, __c⁄° *
__s
);

168 
	`__sig∑u£
 (
__sig_‹_mask
, 
__is_sig
);

170 #ifde‡
__FAVOR_BSD


173 
	$sig∑u£
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

175 #ifde‡
__USE_XOPEN


176 #ifde‡
__GNUC__


177 
	$sig∑u£
 (
__sig
Ë
	`__asm__
 ("__xpg_sigpause");

180 
	#sig∑u£
(
sig
Ë
	`__sig∑u£
 ((sig), 1)

	)

186 #ifde‡
__USE_BSD


193 
	#sigmask
(
sig
Ë
	`__sigmask
(sig)

	)

196 
	$sigblock
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

199 
	$sig£tmask
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

202 
	$siggëmask
 (Ë
__THROW
 
__©åibuã_dïªˇãd__
;

206 #ifde‡
__USE_MISC


207 
	#NSIG
 
_NSIG


	)

210 #ifde‡
__USE_GNU


211 
__sigh™dÀr_t
 
	tsigh™dÀr_t
;

215 #ifde‡
__USE_BSD


216 
__sigh™dÀr_t
 
	tsig_t
;

219 #ifde‡
__USE_POSIX


222 
	$sigem±y£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

225 
	$sigfûl£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

228 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

231 
	$sigdñ£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

234 
	$sigismembî
 (
__c⁄°
 
sig£t_t
 *
__£t
, 
__signo
)

235 
__THROW
 
	`__n⁄nuŒ
 ((1));

237 #ifde‡
__USE_GNU


239 
	$sigi£m±y£t
 (
__c⁄°
 
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

242 
	$sig™d£t
 (
sig£t_t
 *
__£t
, 
__c⁄°
 sig£t_à*
__À·
,

243 
__c⁄°
 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

246 
	$sig‹£t
 (
sig£t_t
 *
__£t
, 
__c⁄°
 sig£t_à*
__À·
,

247 
__c⁄°
 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

252 
	~<bôs/siga˘i⁄.h
>

255 
	$sig¥ocmask
 (
__how
, 
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

256 
sig£t_t
 *
__ª°ri˘
 
__o£t
Ë
__THROW
;

263 
	$sigsu•íd
 (
__c⁄°
 
sig£t_t
 *
__£t
Ë
	`__n⁄nuŒ
 ((1));

266 
	$siga˘i⁄
 (
__sig
, 
__c⁄°
 
siga˘i⁄
 *
__ª°ri˘
 
__a˘
,

267 
siga˘i⁄
 *
__ª°ri˘
 
__ﬂ˘
Ë
__THROW
;

270 
	$sig≥ndög
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

277 
	$sigwaô
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
, *__ª°ri˘ 
__sig
)

278 
	`__n⁄nuŒ
 ((1, 2));

280 #ifde‡
__USE_POSIX199309


285 
	$sigwaôöfo
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

286 
sigöfo_t
 *
__ª°ri˘
 
__öfo
Ë
	`__n⁄nuŒ
 ((1));

293 
	$sigtimedwaô
 (
__c⁄°
 
sig£t_t
 *
__ª°ri˘
 
__£t
,

294 
sigöfo_t
 *
__ª°ri˘
 
__öfo
,

295 
__c⁄°
 
time•ec
 *
__ª°ri˘
 
__timeout
)

296 
	`__n⁄nuŒ
 ((1));

300 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, 
__c⁄°
 
sigvÆ
 
__vÆ
)

301 
__THROW
;

306 #ifde‡
__USE_BSD


310 
__c⁄°
 *__c⁄° 
_sys_sigli°
[
_NSIG
];

311 
__c⁄°
 *__c⁄° 
sys_sigli°
[
_NSIG
];

314 
	ssigvec


316 
__sigh™dÀr_t
 
sv_h™dÀr
;

317 
sv_mask
;

319 
sv_Êags
;

320 
	#sv_⁄°ack
 
sv_Êags


	)

324 
	#SV_ONSTACK
 (1 << 0)

	)

325 
	#SV_INTERRUPT
 (1 << 1)

	)

326 
	#SV_RESETHAND
 (1 << 2)

	)

334 
	$sigvec
 (
__sig
, 
__c⁄°
 
sigvec
 *
__vec
,

335 
sigvec
 *
__ovec
Ë
__THROW
;

339 
	~<bôs/sigc⁄ãxt.h
>

342 
	$sigªtu∫
 (
sigc⁄ãxt
 *
__s˝
Ë
__THROW
;

347 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


348 
	#__√ed_size_t


	)

349 
	~<°ddef.h
>

354 
	$sigöãºu±
 (
__sig
, 
__öãºu±
Ë
__THROW
;

356 
	~<bôs/sig°ack.h
>

357 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


359 
	~<sys/uc⁄ãxt.h
>

365 
	$sig°ack
 (
sig°ack
 *
__ss
, sig°ack *
__oss
)

366 
__THROW
 
__©åibuã_dïªˇãd__
;

370 
	$sigÆt°ack
 (
__c⁄°
 
sigÆt°ack
 *
__ª°ri˘
 
__ss
,

371 
sigÆt°ack
 *
__ª°ri˘
 
__oss
Ë
__THROW
;

375 #ifde‡
__USE_XOPEN_EXTENDED


379 
	$sighﬁd
 (
__sig
Ë
__THROW
;

382 
	$sigªl£
 (
__sig
Ë
__THROW
;

385 
	$sigign‹e
 (
__sig
Ë
__THROW
;

388 
__sigh™dÀr_t
 
	$sig£t
 (
__sig
, 
__sigh™dÀr_t
 
__di•
Ë
__THROW
;

391 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


394 
	~<bôs/±hªadty≥s.h
>

395 
	~<bôs/sigthªad.h
>

402 
	$__libc_cuºít_sigπmö
 (Ë
__THROW
;

404 
	$__libc_cuºít_sigπmax
 (Ë
__THROW
;

408 
__END_DECLS


	@/usr/include/stdint.h

23 #i‚de‡
_STDINT_H


24 
	#_STDINT_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/wch¨.h
>

28 
	~<bôs/w‹dsize.h
>

35 #i‚de‡
__öt8_t_deföed


36 
	#__öt8_t_deföed


	)

37 sig√d 
	töt8_t
;

38 
	töt16_t
;

39 
	töt32_t
;

40 #i‡
__WORDSIZE
 == 64

41 
	töt64_t
;

43 
__exãnsi⁄__


44 
	töt64_t
;

49 
	tuöt8_t
;

50 
	tuöt16_t
;

51 #i‚de‡
__uöt32_t_deföed


52 
	tuöt32_t
;

53 
	#__uöt32_t_deföed


	)

55 #i‡
__WORDSIZE
 == 64

56 
	tuöt64_t
;

58 
__exãnsi⁄__


59 
	tuöt64_t
;

66 sig√d 
	töt_Àa°8_t
;

67 
	töt_Àa°16_t
;

68 
	töt_Àa°32_t
;

69 #i‡
__WORDSIZE
 == 64

70 
	töt_Àa°64_t
;

72 
__exãnsi⁄__


73 
	töt_Àa°64_t
;

77 
	tuöt_Àa°8_t
;

78 
	tuöt_Àa°16_t
;

79 
	tuöt_Àa°32_t
;

80 #i‡
__WORDSIZE
 == 64

81 
	tuöt_Àa°64_t
;

83 
__exãnsi⁄__


84 
	tuöt_Àa°64_t
;

91 sig√d 
	töt_Á°8_t
;

92 #i‡
__WORDSIZE
 == 64

93 
	töt_Á°16_t
;

94 
	töt_Á°32_t
;

95 
	töt_Á°64_t
;

97 
	töt_Á°16_t
;

98 
	töt_Á°32_t
;

99 
__exãnsi⁄__


100 
	töt_Á°64_t
;

104 
	tuöt_Á°8_t
;

105 #i‡
__WORDSIZE
 == 64

106 
	tuöt_Á°16_t
;

107 
	tuöt_Á°32_t
;

108 
	tuöt_Á°64_t
;

110 
	tuöt_Á°16_t
;

111 
	tuöt_Á°32_t
;

112 
__exãnsi⁄__


113 
	tuöt_Á°64_t
;

118 #i‡
__WORDSIZE
 == 64

119 #i‚de‡
__öçå_t_deföed


120 
	töçå_t
;

121 
	#__öçå_t_deföed


	)

123 
	tuöçå_t
;

125 #i‚de‡
__öçå_t_deföed


126 
	töçå_t
;

127 
	#__öçå_t_deföed


	)

129 
	tuöçå_t
;

134 #i‡
__WORDSIZE
 == 64

135 
	tötmax_t
;

136 
	tuötmax_t
;

138 
__exãnsi⁄__


139 
	tötmax_t
;

140 
__exãnsi⁄__


141 
	tuötmax_t
;

147 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_LIMIT_MACROS


149 #i‡
__WORDSIZE
 == 64

150 
	#__INT64_C
(
c
Ë¯## 
L


	)

151 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

153 
	#__INT64_C
(
c
Ë¯## 
LL


	)

154 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

160 
	#INT8_MIN
 (-128)

	)

161 
	#INT16_MIN
 (-32767-1)

	)

162 
	#INT32_MIN
 (-2147483647-1)

	)

163 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

165 
	#INT8_MAX
 (127)

	)

166 
	#INT16_MAX
 (32767)

	)

167 
	#INT32_MAX
 (2147483647)

	)

168 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

171 
	#UINT8_MAX
 (255)

	)

172 
	#UINT16_MAX
 (65535)

	)

173 
	#UINT32_MAX
 (4294967295U)

	)

174 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

178 
	#INT_LEAST8_MIN
 (-128)

	)

179 
	#INT_LEAST16_MIN
 (-32767-1)

	)

180 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

181 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

183 
	#INT_LEAST8_MAX
 (127)

	)

184 
	#INT_LEAST16_MAX
 (32767)

	)

185 
	#INT_LEAST32_MAX
 (2147483647)

	)

186 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

189 
	#UINT_LEAST8_MAX
 (255)

	)

190 
	#UINT_LEAST16_MAX
 (65535)

	)

191 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

192 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

196 
	#INT_FAST8_MIN
 (-128)

	)

197 #i‡
__WORDSIZE
 == 64

198 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

199 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

201 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

202 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

204 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

206 
	#INT_FAST8_MAX
 (127)

	)

207 #i‡
__WORDSIZE
 == 64

208 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

209 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

211 
	#INT_FAST16_MAX
 (2147483647)

	)

212 
	#INT_FAST32_MAX
 (2147483647)

	)

214 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

217 
	#UINT_FAST8_MAX
 (255)

	)

218 #i‡
__WORDSIZE
 == 64

219 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

220 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

222 
	#UINT_FAST16_MAX
 (4294967295U)

	)

223 
	#UINT_FAST32_MAX
 (4294967295U)

	)

225 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

229 #i‡
__WORDSIZE
 == 64

230 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

231 
	#INTPTR_MAX
 (9223372036854775807L)

	)

232 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

234 
	#INTPTR_MIN
 (-2147483647-1)

	)

235 
	#INTPTR_MAX
 (2147483647)

	)

236 
	#UINTPTR_MAX
 (4294967295U)

	)

241 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

243 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

246 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

252 #i‡
__WORDSIZE
 == 64

253 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

254 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

256 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

257 
	#PTRDIFF_MAX
 (2147483647)

	)

261 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

262 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

265 #i‡
__WORDSIZE
 == 64

266 
	#SIZE_MAX
 (18446744073709551615UL)

	)

268 
	#SIZE_MAX
 (4294967295U)

	)

272 #i‚de‡
WCHAR_MIN


274 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

275 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

279 
	#WINT_MIN
 (0u)

	)

280 
	#WINT_MAX
 (4294967295u)

	)

287 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_CONSTANT_MACROS


290 
	#INT8_C
(
c
Ë
	)
c

291 
	#INT16_C
(
c
Ë
	)
c

292 
	#INT32_C
(
c
Ë
	)
c

293 #i‡
__WORDSIZE
 == 64

294 
	#INT64_C
(
c
Ë¯## 
L


	)

296 
	#INT64_C
(
c
Ë¯## 
LL


	)

300 
	#UINT8_C
(
c
Ë
	)
c

301 
	#UINT16_C
(
c
Ë
	)
c

302 
	#UINT32_C
(
c
Ë¯## 
U


	)

303 #i‡
__WORDSIZE
 == 64

304 
	#UINT64_C
(
c
Ë¯## 
UL


	)

306 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

310 #i‡
__WORDSIZE
 == 64

311 
	#INTMAX_C
(
c
Ë¯## 
L


	)

312 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

314 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

315 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/stdio.h

24 #i‚de‡
_STDIO_H


26 #i‡!
deföed
 
__√ed_FILE
 && !deföed 
__√ed___FILE


27 
	#_STDIO_H
 1

	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


32 
	#__√ed_size_t


	)

33 
	#__√ed_NULL


	)

34 
	~<°ddef.h
>

36 
	~<bôs/ty≥s.h
>

37 
	#__√ed_FILE


	)

38 
	#__√ed___FILE


	)

42 #i‡!
deföed
 
__FILE_deföed
 && deföed 
__√ed_FILE


45 
	g_IO_FILE
;

47 
__BEGIN_NAMESPACE_STD


49 
_IO_FILE
 
	tFILE
;

50 
	g__END_NAMESPACE_STD


51 #i‡
deföed
 
__USE_LARGEFILE64
 || deföed 
__USE_SVID
 || deföed 
__USE_POSIX
 \

52 || 
deföed
 
	g__USE_BSD
 || deföed 
	g__USE_ISOC99
 || deföed 
	g__USE_XOPEN
 \

53 || 
deföed
 
__USE_POSIX2


54 
	$__USING_NAMESPACE_STD
(
FILE
)

57 
	#__FILE_deföed
 1

	)

59 #unde‡
__√ed_FILE


62 #i‡!
deföed
 
____FILE_deföed
 && deföed 
__√ed___FILE


65 
_IO_FILE
 
	t__FILE
;

67 
	#____FILE_deföed
 1

	)

69 #unde‡
__√ed___FILE


72 #ifdef 
_STDIO_H


73 
	#_STDIO_USES_IOSTREAM


	)

75 
	~<libio.h
>

77 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


78 #ifde‡
__GNUC__


79 #i‚de‡
_VA_LIST_DEFINED


80 
_G_va_li°
 
	tva_li°
;

81 
	#_VA_LIST_DEFINED


	)

84 
	~<°d¨g.h
>

88 #ifde‡
__USE_XOPEN2K8


89 #i‚de‡
__off_t_deföed


90 #i‚de‡
__USE_FILE_OFFSET64


91 
__off_t
 
	toff_t
;

93 
__off64_t
 
	toff_t
;

95 
	#__off_t_deföed


	)

97 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


98 
__off64_t
 
	toff64_t
;

99 
	#__off64_t_deföed


	)

102 #i‚de‡
__ssize_t_deföed


103 
__ssize_t
 
	tssize_t
;

104 
	#__ssize_t_deföed


	)

109 
__BEGIN_NAMESPACE_STD


110 #i‚de‡
__USE_FILE_OFFSET64


111 
_G_Âos_t
 
	tÂos_t
;

113 
_G_Âos64_t
 
	tÂos_t
;

115 
__END_NAMESPACE_STD


116 #ifde‡
__USE_LARGEFILE64


117 
_G_Âos64_t
 
	tÂos64_t
;

121 
	#_IOFBF
 0

	)

122 
	#_IOLBF
 1

	)

123 
	#_IONBF
 2

	)

127 #i‚de‡
BUFSIZ


128 
	#BUFSIZ
 
_IO_BUFSIZ


	)

134 #i‚de‡
EOF


135 
	#EOF
 (-1)

	)

141 
	#SEEK_SET
 0

	)

142 
	#SEEK_CUR
 1

	)

143 
	#SEEK_END
 2

	)

144 #ifde‡
__USE_GNU


145 
	#SEEK_DATA
 3

	)

146 
	#SEEK_HOLE
 4

	)

150 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


152 
	#P_tmpdú
 "/tmp"

	)

165 
	~<bôs/°dio_lim.h
>

169 
_IO_FILE
 *
°dö
;

170 
_IO_FILE
 *
°dout
;

171 
_IO_FILE
 *
°dîr
;

173 
	#°dö
 
°dö


	)

174 
	#°dout
 
°dout


	)

175 
	#°dîr
 
°dîr


	)

177 
__BEGIN_NAMESPACE_STD


179 
	$ªmove
 (
__c⁄°
 *
__fûíame
Ë
__THROW
;

181 
	$ª«me
 (
__c⁄°
 *
__ﬁd
, __c⁄° *
__√w
Ë
__THROW
;

182 
__END_NAMESPACE_STD


184 #ifde‡
__USE_ATFILE


186 
	$ª«mót
 (
__ﬁdfd
, 
__c⁄°
 *
__ﬁd
, 
__√wfd
,

187 
__c⁄°
 *
__√w
Ë
__THROW
;

190 
__BEGIN_NAMESPACE_STD


195 #i‚de‡
__USE_FILE_OFFSET64


196 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

198 #ifde‡
__REDIRECT


199 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

201 
	#tmpfûe
 
tmpfûe64


	)

205 #ifde‡
__USE_LARGEFILE64


206 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

210 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

211 
__END_NAMESPACE_STD


213 #ifde‡
__USE_MISC


216 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

220 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


228 *
	$ãm≤am
 (
__c⁄°
 *
__dú
, __c⁄° *
__pfx
)

229 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

233 
__BEGIN_NAMESPACE_STD


238 
	`f˛o£
 (
FILE
 *
__°ªam
);

243 
	`fÊush
 (
FILE
 *
__°ªam
);

244 
__END_NAMESPACE_STD


246 #ifde‡
__USE_MISC


253 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

256 #ifde‡
__USE_GNU


263 
	`f˛o£Æl
 ();

267 
__BEGIN_NAMESPACE_STD


268 #i‚de‡
__USE_FILE_OFFSET64


273 
FILE
 *
	$f›í
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

274 
__c⁄°
 *
__ª°ri˘
 
__modes
Ë
__wur
;

279 
FILE
 *
	$‰e›í
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

280 
__c⁄°
 *
__ª°ri˘
 
__modes
,

281 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

283 #ifde‡
__REDIRECT


284 
FILE
 *
	`__REDIRECT
 (
f›í
, (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

285 
__c⁄°
 *
__ª°ri˘
 
__modes
), 
f›í64
)

286 
__wur
;

287 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

288 
__c⁄°
 *
__ª°ri˘
 
__modes
,

289 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

290 
__wur
;

292 
	#f›í
 
f›í64


	)

293 
	#‰e›í
 
‰e›í64


	)

296 
__END_NAMESPACE_STD


297 #ifde‡
__USE_LARGEFILE64


298 
FILE
 *
	$f›í64
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

299 
__c⁄°
 *
__ª°ri˘
 
__modes
Ë
__wur
;

300 
FILE
 *
	$‰e›í64
 (
__c⁄°
 *
__ª°ri˘
 
__fûíame
,

301 
__c⁄°
 *
__ª°ri˘
 
__modes
,

302 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

305 #ifdef 
__USE_POSIX


307 
FILE
 *
	$fd›í
 (
__fd
, 
__c⁄°
 *
__modes
Ë
__THROW
 
__wur
;

310 #ifdef 
__USE_GNU


313 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

314 
__c⁄°
 *
__ª°ri˘
 
__modes
,

315 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

318 #ifde‡
__USE_XOPEN2K8


320 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, 
__c⁄°
 *
__modes
)

321 
__THROW
 
__wur
;

326 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

330 
__BEGIN_NAMESPACE_STD


333 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

337 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

338 
__modes
, 
size_t
 
__n
Ë
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdef 
__USE_BSD


344 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

345 
size_t
 
__size
Ë
__THROW
;

348 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

352 
__BEGIN_NAMESPACE_STD


357 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

358 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

363 
	`¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...);

365 
	$•rötf
 (*
__ª°ri˘
 
__s
,

366 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROWNL
;

372 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

373 
_G_va_li°
 
__¨g
);

378 
	`v¥ötf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

380 
	$v•rötf
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

381 
_G_va_li°
 
__¨g
Ë
__THROWNL
;

382 
__END_NAMESPACE_STD


384 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


385 
__BEGIN_NAMESPACE_C99


387 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

388 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...)

389 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

391 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

392 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

393 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

394 
__END_NAMESPACE_C99


397 #ifde‡
__USE_GNU


400 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, 
__c⁄°
 *__ª°ri˘ 
__f
,

401 
_G_va_li°
 
__¨g
)

402 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

403 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

404 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

405 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

406 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

407 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

408 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

411 #ifde‡
__USE_XOPEN2K8


418 
	$vd¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
,

419 
_G_va_li°
 
__¨g
)

420 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

421 
	$d¥ötf
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__fmt
, ...)

422 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

426 
__BEGIN_NAMESPACE_STD


431 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

432 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

437 
	$sˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

439 
	$ssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

440 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

442 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

443 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

444 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

445 #ifde‡
__REDIRECT


449 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

450 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

451 
__isoc99_fsˇnf
Ë
__wur
;

452 
	`__REDIRECT
 (
sˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

453 
__isoc99_sˇnf
Ë
__wur
;

454 
	`__REDIRECT_NTH
 (
ssˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__s
,

455 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...),

456 
__isoc99_ssˇnf
);

458 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

459 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

460 
	$__isoc99_sˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

461 
	$__isoc99_ssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

462 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

463 
	#fsˇnf
 
__isoc99_fsˇnf


	)

464 
	#sˇnf
 
__isoc99_sˇnf


	)

465 
	#ssˇnf
 
__isoc99_ssˇnf


	)

469 
__END_NAMESPACE_STD


471 #ifdef 
__USE_ISOC99


472 
__BEGIN_NAMESPACE_C99


477 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__f‹m©
,

478 
_G_va_li°
 
__¨g
)

479 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

485 
	$vsˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

486 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

489 
	$vssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

490 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

491 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

493 #i‡!
deföed
 
__USE_GNU
 \

494 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

495 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

496 #ifde‡
__REDIRECT


500 
	`__REDIRECT
 (
vfsˇnf
,

501 (
FILE
 *
__ª°ri˘
 
__s
,

502 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

503 
__isoc99_vfsˇnf
)

504 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

505 
	`__REDIRECT
 (
vsˇnf
, (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

506 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

507 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

508 
	`__REDIRECT_NTH
 (
vssˇnf
,

509 (
__c⁄°
 *
__ª°ri˘
 
__s
,

510 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

511 
_G_va_li°
 
__¨g
), 
__isoc99_vssˇnf
)

512 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

514 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

515 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

516 
_G_va_li°
 
__¨g
Ë
__wur
;

517 
	$__isoc99_vsˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

518 
_G_va_li°
 
__¨g
Ë
__wur
;

519 
	$__isoc99_vssˇnf
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

520 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

521 
_G_va_li°
 
__¨g
Ë
__THROW
;

522 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

523 
	#vsˇnf
 
__isoc99_vsˇnf


	)

524 
	#vssˇnf
 
__isoc99_vssˇnf


	)

528 
__END_NAMESPACE_C99


532 
__BEGIN_NAMESPACE_STD


537 
	`fgëc
 (
FILE
 *
__°ªam
);

538 
	`gëc
 (
FILE
 *
__°ªam
);

544 
	`gëch¨
 ();

545 
__END_NAMESPACE_STD


549 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

551 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


556 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

557 
	`gëch¨_u∆ocked
 ();

560 #ifde‡
__USE_MISC


567 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

571 
__BEGIN_NAMESPACE_STD


579 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

580 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

586 
	`putch¨
 (
__c
);

587 
__END_NAMESPACE_STD


591 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

593 #ifde‡
__USE_MISC


600 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

603 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


608 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

609 
	`putch¨_u∆ocked
 (
__c
);

613 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 \

614 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

616 
	`gëw
 (
FILE
 *
__°ªam
);

619 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

623 
__BEGIN_NAMESPACE_STD


628 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

629 
__wur
;

636 *
	$gës
 (*
__s
Ë
__wur
;

637 
__END_NAMESPACE_STD


639 #ifde‡
__USE_GNU


646 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

647 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

651 #ifdef 
__USE_XOPEN2K8


662 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

663 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

664 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

665 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

666 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

667 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

675 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

676 
size_t
 *
__ª°ri˘
 
__n
,

677 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

681 
__BEGIN_NAMESPACE_STD


686 
	`Âuts
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

692 
	`puts
 (
__c⁄°
 *
__s
);

699 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

706 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

707 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

712 
size_t
 
	`fwrôe
 (
__c⁄°
 *
__ª°ri˘
 
__±r
, size_à
__size
,

713 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

714 
__END_NAMESPACE_STD


716 #ifde‡
__USE_GNU


723 
	`Âuts_u∆ocked
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

724 
FILE
 *
__ª°ri˘
 
__°ªam
);

727 #ifde‡
__USE_MISC


734 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

735 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

736 
size_t
 
	`fwrôe_u∆ocked
 (
__c⁄°
 *
__ª°ri˘
 
__±r
, size_à
__size
,

737 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

741 
__BEGIN_NAMESPACE_STD


746 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

751 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

756 
	`ªwöd
 (
FILE
 *
__°ªam
);

757 
__END_NAMESPACE_STD


764 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


765 #i‚de‡
__USE_FILE_OFFSET64


770 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

775 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

777 #ifde‡
__REDIRECT


778 
	`__REDIRECT
 (
f£eko
,

779 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

780 
f£eko64
);

781 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

783 
	#f£eko
 
f£eko64


	)

784 
	#·ñlo
 
·ñlo64


	)

789 
__BEGIN_NAMESPACE_STD


790 #i‚de‡
__USE_FILE_OFFSET64


795 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

800 
	`f£ços
 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos_t
 *
__pos
);

802 #ifde‡
__REDIRECT


803 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

804 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

805 
	`__REDIRECT
 (
f£ços
,

806 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos_t
 *
__pos
), 
f£ços64
);

808 
	#fgëpos
 
fgëpos64


	)

809 
	#f£ços
 
f£ços64


	)

812 
__END_NAMESPACE_STD


814 #ifde‡
__USE_LARGEFILE64


815 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

816 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

817 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

818 
	`f£ços64
 (
FILE
 *
__°ªam
, 
__c⁄°
 
Âos64_t
 *
__pos
);

821 
__BEGIN_NAMESPACE_STD


823 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

825 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

827 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

828 
__END_NAMESPACE_STD


830 #ifde‡
__USE_MISC


832 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

833 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

834 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

838 
__BEGIN_NAMESPACE_STD


843 
	`≥º‹
 (
__c⁄°
 *
__s
);

844 
__END_NAMESPACE_STD


850 
	~<bôs/sys_îæi°.h
>

853 #ifdef 
__USE_POSIX


855 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

858 #ifde‡
__USE_MISC


860 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

864 #i‡(
deföed
 
__USE_POSIX2
 || deföed 
__USE_SVID
 || deföed 
__USE_BSD
 || \

865 
deföed
 
__USE_MISC
)

870 
FILE
 *
	$p›í
 (
__c⁄°
 *
__comm™d
, __c⁄° *
__modes
Ë
__wur
;

876 
	`p˛o£
 (
FILE
 *
__°ªam
);

880 #ifdef 
__USE_POSIX


882 *
	$˘îmid
 (*
__s
Ë
__THROW
;

886 #ifde‡
__USE_XOPEN


888 *
	`cu£rid
 (*
__s
);

892 #ifdef 
__USE_GNU


893 
ob°ack
;

896 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

897 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
, ...)

898 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

899 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

900 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

901 
_G_va_li°
 
__¨gs
)

902 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

906 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


910 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

914 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

917 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

920 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


924 
	#__√ed_gë›t


	)

925 
	~<gë›t.h
>

930 #ifde‡
__USE_EXTERN_INLINES


931 
	~<bôs/°dio.h
>

933 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


934 
	~<bôs/°dio2.h
>

936 #ifde‡
__LDBL_COMPAT


937 
	~<bôs/°dio-ldbl.h
>

940 
__END_DECLS


	@/usr/include/stdlib.h

23 #i‚def 
_STDLIB_H


25 
	~<„©uªs.h
>

28 
	#__√ed_size_t


	)

29 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


30 
	#__√ed_wch¨_t


	)

31 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	g__BEGIN_DECLS


37 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


38 
	#_STDLIB_H
 1

	)

40 #i‡(
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
Ë&& !deföed 
_SYS_WAIT_H


42 
	~<bôs/waôÊags.h
>

43 
	~<bôs/waô°©us.h
>

45 #ifde‡
__USE_BSD


50 #i‡
deföed
 
__GNUC__
 && !deföed 
__˝lu•lus


51 
	#__WAIT_INT
(
°©us
) \

52 (
	`__exãnsi⁄__
 (((uni⁄ { 
	`__ty≥of
(
°©us
Ë
__ö
; 
__i
; }) \

53 { .
__ö
 = (
°©us
Ë}).
__i
))

	)

55 
	#__WAIT_INT
(
°©us
Ë(*(*Ë&(°©us))

	)

63 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2 || deföed 
__˝lu•lus


64 
	#__WAIT_STATUS
 *

	)

65 
	#__WAIT_STATUS_DEFN
 *

	)

70 
waô
 *
	m__u±r
;

71 *
	m__ùå
;

72 } 
	t__WAIT_STATUS
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

73 
	#__WAIT_STATUS_DEFN
 *

	)

78 
	#__WAIT_INT
(
°©us
Ë(°©us)

	)

79 
	#__WAIT_STATUS
 *

	)

80 
	#__WAIT_STATUS_DEFN
 *

	)

85 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (°©us))

	)

86 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (
	`__WAIT_INT
 (°©us))

	)

87 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (
	`__WAIT_INT
 (°©us))

	)

88 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (
	`__WAIT_INT
 (°©us))

	)

89 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (°©us))

	)

90 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (°©us))

	)

91 #ifde‡
__WIFCONTINUED


92 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (°©us))

	)

96 
__BEGIN_NAMESPACE_STD


100 
	mquŸ
;

101 
	mªm
;

102 } 
	tdiv_t
;

105 #i‚de‡
__ldiv_t_deföed


108 
	mquŸ
;

109 
	mªm
;

110 } 
	tldiv_t
;

111 
	#__ldiv_t_deföed
 1

	)

113 
	g__END_NAMESPACE_STD


115 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__Œdiv_t_deföed


116 
__BEGIN_NAMESPACE_C99


118 
__exãnsi⁄__
 struct

120 
	mquŸ
;

121 
	mªm
;

122 } 
	tŒdiv_t
;

123 
	#__Œdiv_t_deföed
 1

	)

124 
	g__END_NAMESPACE_C99


129 
	#RAND_MAX
 2147483647

	)

134 
	#EXIT_FAILURE
 1

	)

135 
	#EXIT_SUCCESS
 0

	)

139 
	#MB_CUR_MAX
 (
	`__˘y≥_gë_mb_cur_max
 ())

	)

140 
size_t
 
	$__˘y≥_gë_mb_cur_max
 (Ë
__THROW
 
__wur
;

143 
__BEGIN_NAMESPACE_STD


145 
	$©of
 (
__c⁄°
 *
__≈å
)

146 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

148 
	$©oi
 (
__c⁄°
 *
__≈å
)

149 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

151 
	$©ﬁ
 (
__c⁄°
 *
__≈å
)

152 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

153 
__END_NAMESPACE_STD


155 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

156 
__BEGIN_NAMESPACE_C99


158 
__exãnsi⁄__
 
	$©ﬁl
 (
__c⁄°
 *
__≈å
)

159 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

160 
__END_NAMESPACE_C99


163 
__BEGIN_NAMESPACE_STD


165 
	$°πod
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

166 **
__ª°ri˘
 
__íd±r
)

167 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

168 
__END_NAMESPACE_STD


170 #ifdef 
__USE_ISOC99


171 
__BEGIN_NAMESPACE_C99


173 
	$°πof
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

174 **
__ª°ri˘
 
__íd±r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

176 
	$°πﬁd
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

177 **
__ª°ri˘
 
__íd±r
)

178 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

179 
__END_NAMESPACE_C99


182 
__BEGIN_NAMESPACE_STD


184 
	$°πﬁ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

185 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

186 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

188 
	$°πoul
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

189 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

190 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

191 
__END_NAMESPACE_STD


193 #i‡
deföed
 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_BSD


195 
__exãnsi⁄__


196 
	$°πoq
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

197 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

198 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

200 
__exãnsi⁄__


201 
	$°πouq
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

202 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

203 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

206 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

207 
__BEGIN_NAMESPACE_C99


209 
__exãnsi⁄__


210 
	$°πﬁl
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

211 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

212 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

214 
__exãnsi⁄__


215 
	$°πouŒ
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

216 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

217 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

218 
__END_NAMESPACE_C99


222 #ifde‡
__USE_GNU


236 
	~<xloˇÀ.h
>

240 
	$°πﬁ_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

241 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

242 
__loˇÀ_t
 
__loc
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

244 
	$°πoul_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

245 **
__ª°ri˘
 
__íd±r
,

246 
__ba£
, 
__loˇÀ_t
 
__loc
)

247 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

249 
__exãnsi⁄__


250 
	$°πﬁl_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

251 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

252 
__loˇÀ_t
 
__loc
)

253 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

255 
__exãnsi⁄__


256 
	$°πouŒ_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

257 **
__ª°ri˘
 
__íd±r
,

258 
__ba£
, 
__loˇÀ_t
 
__loc
)

259 
__THROW
 
	`__n⁄nuŒ
 ((1, 4)Ë
__wur
;

261 
	$°πod_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

262 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

263 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

265 
	$°πof_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

266 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

267 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

269 
	$°πﬁd_l
 (
__c⁄°
 *
__ª°ri˘
 
__≈å
,

270 **
__ª°ri˘
 
__íd±r
,

271 
__loˇÀ_t
 
__loc
)

272 
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

276 #ifde‡
__USE_EXTERN_INLINES


277 
__BEGIN_NAMESPACE_STD


278 
__exã∫_ölöe
 

279 
	`__NTH
 (
	$©of
 (
__c⁄°
 *
__≈å
))

281  
	`°πod
 (
__≈å
, (**Ë
NULL
);

282 
	}
}

283 
__exã∫_ölöe
 

284 
__NTH
 (
	$©oi
 (
__c⁄°
 *
__≈å
))

286  (Ë
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

287 
	}
}

288 
__exã∫_ölöe
 

289 
__NTH
 (
	$©ﬁ
 (
__c⁄°
 *
__≈å
))

291  
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

292 
	}
}

293 
	g__END_NAMESPACE_STD


295 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


296 
__BEGIN_NAMESPACE_C99


297 
__exãnsi⁄__
 
__exã∫_ölöe
 

298 
__NTH
 (
	$©ﬁl
 (
__c⁄°
 *
__≈å
))

300  
	`°πﬁl
 (
__≈å
, (**Ë
NULL
, 10);

301 
	}
}

302 
	g__END_NAMESPACE_C99


307 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


311 *
	$l64a
 (
__n
Ë
__THROW
 
__wur
;

314 
	$a64l
 (
__c⁄°
 *
__s
)

315 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

319 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_BSD


320 
	~<sys/ty≥s.h
>

327 
	$øndom
 (Ë
__THROW
;

330 
	$§™dom
 (
__£ed
Ë
__THROW
;

336 *
	$öô°©e
 (
__£ed
, *
__°©ebuf
,

337 
size_t
 
__°©ñí
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

341 *
	$£t°©e
 (*
__°©ebuf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

344 #ifde‡
__USE_MISC


349 
	søndom_d©a


351 
öt32_t
 *
Âå
;

352 
öt32_t
 *
Ωå
;

353 
öt32_t
 *
°©e
;

354 
ønd_ty≥
;

355 
ønd_deg
;

356 
ønd_£p
;

357 
öt32_t
 *
íd_±r
;

360 
	$øndom_r
 (
øndom_d©a
 *
__ª°ri˘
 
__buf
,

361 
öt32_t
 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

363 
	$§™dom_r
 (
__£ed
, 
øndom_d©a
 *
__buf
)

364 
__THROW
 
	`__n⁄nuŒ
 ((2));

366 
	$öô°©e_r
 (
__£ed
, *
__ª°ri˘
 
__°©ebuf
,

367 
size_t
 
__°©ñí
,

368 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

369 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

371 
	$£t°©e_r
 (*
__ª°ri˘
 
__°©ebuf
,

372 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

373 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

378 
__BEGIN_NAMESPACE_STD


380 
	$ønd
 (Ë
__THROW
;

382 
	$§™d
 (
__£ed
Ë
__THROW
;

383 
__END_NAMESPACE_STD


385 #ifde‡
__USE_POSIX


387 
	$ønd_r
 (*
__£ed
Ë
__THROW
;

391 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


395 
	$dønd48
 (Ë
__THROW
;

396 
	$î™d48
 (
__xsubi
[3]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

399 
	$Ã™d48
 (Ë
__THROW
;

400 
	$ƒ™d48
 (
__xsubi
[3])

401 
__THROW
 
	`__n⁄nuŒ
 ((1));

404 
	$mønd48
 (Ë
__THROW
;

405 
	$jønd48
 (
__xsubi
[3])

406 
__THROW
 
	`__n⁄nuŒ
 ((1));

409 
	$§™d48
 (
__£edvÆ
Ë
__THROW
;

410 *
	$£ed48
 (
__£ed16v
[3])

411 
__THROW
 
	`__n⁄nuŒ
 ((1));

412 
	$lc⁄g48
 (
__∑øm
[7]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

414 #ifde‡
__USE_MISC


418 
	sdønd48_d©a


420 
__x
[3];

421 
__ﬁd_x
[3];

422 
__c
;

423 
__öô
;

424 
__a
;

428 
	$dønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

429 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

430 
	$î™d48_r
 (
__xsubi
[3],

431 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

432 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

435 
	$Ã™d48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

436 *
__ª°ri˘
 
__ªsu…
)

437 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

438 
	$ƒ™d48_r
 (
__xsubi
[3],

439 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

440 *
__ª°ri˘
 
__ªsu…
)

441 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

444 
	$mønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

445 *
__ª°ri˘
 
__ªsu…
)

446 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

447 
	$jønd48_r
 (
__xsubi
[3],

448 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

449 *
__ª°ri˘
 
__ªsu…
)

450 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

453 
	$§™d48_r
 (
__£edvÆ
, 
dønd48_d©a
 *
__buf„r
)

454 
__THROW
 
	`__n⁄nuŒ
 ((2));

456 
	$£ed48_r
 (
__£ed16v
[3],

457 
dønd48_d©a
 *
__buf„r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

459 
	$lc⁄g48_r
 (
__∑øm
[7],

460 
dønd48_d©a
 *
__buf„r
)

461 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

467 #i‚de‡
__mÆloc_™d_ˇŒoc_deföed


468 
	#__mÆloc_™d_ˇŒoc_deföed


	)

469 
__BEGIN_NAMESPACE_STD


471 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

473 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

474 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

475 
__END_NAMESPACE_STD


478 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


479 
__BEGIN_NAMESPACE_STD


485 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

486 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

488 
	$‰ì
 (*
__±r
Ë
__THROW
;

489 
__END_NAMESPACE_STD


491 #ifdef 
__USE_MISC


493 
	$c‰ì
 (*
__±r
Ë
__THROW
;

496 #i‡
deföed
 
__USE_GNU
 || deföed 
__USE_BSD
 || deföed 
__USE_MISC


497 
	~<Æloˇ.h
>

500 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

501 || 
deföed
 
__USE_BSD


503 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

506 #ifde‡
__USE_XOPEN2K


508 
	$posix_memÆign
 (**
__mem±r
, 
size_t
 
__Æignmít
, size_à
__size
)

509 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

512 
__BEGIN_NAMESPACE_STD


514 
	$ab‹t
 (Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

518 
	`©exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

520 #ifde‡
__USE_GNU


524 #ifde‡
__˝lu•lus


525 "C++" 
	`©_quick_exô
 ((*
__func
) ())

526 
__THROW
 
	`__asm
 ("©_quick_exô"Ë
	`__n⁄nuŒ
 ((1));

528 
	`©_quick_exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

531 
__END_NAMESPACE_STD


533 #ifdef 
__USE_MISC


536 
	`⁄_exô
 ((*
__func
Ë(
__°©us
, *
__¨g
), *__arg)

537 
__THROW
 
	`__n⁄nuŒ
 ((1));

540 
__BEGIN_NAMESPACE_STD


544 
	$exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

546 #ifde‡
__USE_GNU


552 
	$quick_exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

554 
__END_NAMESPACE_STD


556 #ifde‡
__USE_ISOC99


557 
__BEGIN_NAMESPACE_C99


560 
	$_Exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

561 
__END_NAMESPACE_C99


565 
__BEGIN_NAMESPACE_STD


567 *
	$gëív
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

568 
__END_NAMESPACE_STD


572 *
	$__£cuª_gëív
 (
__c⁄°
 *
__«me
)

573 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

575 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


579 
	$puãnv
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

582 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


585 
	$£ãnv
 (
__c⁄°
 *
__«me
, __c⁄° *
__vÆue
, 
__ª∂a˚
)

586 
__THROW
 
	`__n⁄nuŒ
 ((2));

589 
	$un£ãnv
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

592 #ifdef 
__USE_MISC


596 
	$˛óªnv
 (Ë
__THROW
;

600 #i‡
deföed
 
__USE_MISC
 \

601 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
)

606 *
	$mkãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

609 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 \

610 || 
deföed
 
__USE_XOPEN2K8


619 #i‚de‡
__USE_FILE_OFFSET64


620 
	$mk°emp
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

622 #ifde‡
__REDIRECT


623 
	`__REDIRECT
 (
mk°emp
, (*
__ãm∂©e
), 
mk°emp64
)

624 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

626 
	#mk°emp
 
mk°emp64


	)

629 #ifde‡
__USE_LARGEFILE64


630 
	$mk°emp64
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

634 #ifde‡
__USE_MISC


641 #i‚de‡
__USE_FILE_OFFSET64


642 
	$mk°emps
 (*
__ãm∂©e
, 
__suffixÀn
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

644 #ifde‡
__REDIRECT


645 
	`__REDIRECT
 (
mk°emps
, (*
__ãm∂©e
, 
__suffixÀn
),

646 
mk°emps64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

648 
	#mk°emps
 
mk°emps64


	)

651 #ifde‡
__USE_LARGEFILE64


652 
	$mk°emps64
 (*
__ãm∂©e
, 
__suffixÀn
)

653 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

657 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K8


663 *
	$mkdãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

666 #ifde‡
__USE_GNU


673 #i‚de‡
__USE_FILE_OFFSET64


674 
	$mko°emp
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

676 #ifde‡
__REDIRECT


677 
	`__REDIRECT
 (
mko°emp
, (*
__ãm∂©e
, 
__Êags
), 
mko°emp64
)

678 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

680 
	#mko°emp
 
mko°emp64


	)

683 #ifde‡
__USE_LARGEFILE64


684 
	$mko°emp64
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

693 #i‚de‡
__USE_FILE_OFFSET64


694 
	$mko°emps
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

695 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

697 #ifde‡
__REDIRECT


698 
	`__REDIRECT
 (
mko°emps
, (*
__ãm∂©e
, 
__suffixÀn
,

699 
__Êags
), 
mko°emps64
)

700 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

702 
	#mko°emps
 
mko°emps64


	)

705 #ifde‡
__USE_LARGEFILE64


706 
	$mko°emps64
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

707 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

712 
__BEGIN_NAMESPACE_STD


717 
	$sy°em
 (
__c⁄°
 *
__comm™d
Ë
__wur
;

718 
__END_NAMESPACE_STD


721 #ifdef 
__USE_GNU


724 *
	$ˇn⁄iˇlize_fûe_«me
 (
__c⁄°
 *
__«me
)

725 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

728 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


734 *
	$ªÆ∑th
 (
__c⁄°
 *
__ª°ri˘
 
__«me
,

735 *
__ª°ri˘
 
__ªsﬁved
Ë
__THROW
 
__wur
;

740 #i‚de‡
__COMPAR_FN_T


741 
	#__COMPAR_FN_T


	)

742 (*
	t__com∑r_‚_t
Ë(
	t__c⁄°
 *, __const *);

744 #ifdef 
__USE_GNU


745 
__com∑r_‚_t
 
	tcom∑ris⁄_‚_t
;

748 #ifde‡
__USE_GNU


749 (*
	t__com∑r_d_‚_t
Ë(
	t__c⁄°
 *, __const *, *);

752 
__BEGIN_NAMESPACE_STD


755 *
	$b£¨ch
 (
__c⁄°
 *
__key
, __c⁄° *
__ba£
,

756 
size_t
 
__nmemb
, size_à
__size
, 
__com∑r_‚_t
 
__com∑r
)

757 
	`__n⁄nuŒ
 ((1, 2, 5)Ë
__wur
;

761 
	$qs‹t
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

762 
__com∑r_‚_t
 
__com∑r
Ë
	`__n⁄nuŒ
 ((1, 4));

763 #ifde‡
__USE_GNU


764 
	$qs‹t_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

765 
__com∑r_d_‚_t
 
__com∑r
, *
__¨g
)

766 
	`__n⁄nuŒ
 ((1, 4));

771 
	$abs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

772 
	$œbs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

773 
__END_NAMESPACE_STD


775 #ifde‡
__USE_ISOC99


776 
__exãnsi⁄__
 
	$Œabs
 (
__x
)

777 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

781 
__BEGIN_NAMESPACE_STD


785 
div_t
 
	$div
 (
__numî
, 
__díom
)

786 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

787 
ldiv_t
 
	$ldiv
 (
__numî
, 
__díom
)

788 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

789 
__END_NAMESPACE_STD


791 #ifde‡
__USE_ISOC99


792 
__BEGIN_NAMESPACE_C99


793 
__exãnsi⁄__
 
Œdiv_t
 
	$Œdiv
 (
__numî
,

794 
__díom
)

795 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

796 
__END_NAMESPACE_C99


800 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

801 || 
deföed
 
__USE_SVID


808 *
	$ecvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

809 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

814 *
	$fcvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

815 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

820 *
	$gcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

821 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

824 #ifde‡
__USE_MISC


826 *
	$qecvt
 (
__vÆue
, 
__ndigô
,

827 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

828 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

829 *
	$qfcvt
 (
__vÆue
, 
__ndigô
,

830 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

831 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

832 *
	$qgcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

833 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

838 
	$ecvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

839 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

840 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

841 
	$fcvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

842 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

843 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

845 
	$qecvt_r
 (
__vÆue
, 
__ndigô
,

846 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

847 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

848 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

849 
	$qfcvt_r
 (
__vÆue
, 
__ndigô
,

850 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

851 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

852 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

857 
__BEGIN_NAMESPACE_STD


860 
	$mbÀn
 (
__c⁄°
 *
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

863 
	$mbtowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

864 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

867 
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
Ë
__THROW
 
__wur
;

871 
size_t
 
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__pwcs
,

872 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

874 
size_t
 
	$wc°ombs
 (*
__ª°ri˘
 
__s
,

875 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__pwcs
, 
size_t
 
__n
)

876 
__THROW
;

877 
__END_NAMESPACE_STD


880 #ifde‡
__USE_SVID


885 
	$Ωm©ch
 (
__c⁄°
 *
__ª•⁄£
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

889 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


896 
	$gësub›t
 (**
__ª°ri˘
 
__›ti⁄p
,

897 *
__c⁄°
 *
__ª°ri˘
 
__tokís
,

898 **
__ª°ri˘
 
__vÆuï
)

899 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3)Ë
__wur
;

903 #ifde‡
__USE_XOPEN


905 
	$£tkey
 (
__c⁄°
 *
__key
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

911 #ifde‡
__USE_XOPEN2KXSI


913 
	$posix_›í±
 (
__oÊag
Ë
__wur
;

916 #ifde‡
__USE_XOPEN


921 
	$gø¡±
 (
__fd
Ë
__THROW
;

925 
	$u∆ock±
 (
__fd
Ë
__THROW
;

930 *
	$±¢ame
 (
__fd
Ë
__THROW
 
__wur
;

933 #ifde‡
__USE_GNU


937 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

938 
__THROW
 
	`__n⁄nuŒ
 ((2));

941 
	`gë±
 ();

944 #ifde‡
__USE_BSD


948 
	$gëlﬂdavg
 (
__lﬂdavg
[], 
__√Àm
)

949 
__THROW
 
	`__n⁄nuŒ
 ((1));

954 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


955 
	~<bôs/°dlib.h
>

957 #ifde‡
__LDBL_COMPAT


958 
	~<bôs/°dlib-ldbl.h
>

962 #unde‡
__√ed_mÆloc_™d_ˇŒoc


964 
__END_DECLS


	@/usr/include/string.h

24 #i‚def 
_STRING_H


25 
	#_STRING_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


32 
	#__√ed_size_t


	)

33 
	#__√ed_NULL


	)

34 
	~<°ddef.h
>

37 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

38 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

42 
__BEGIN_NAMESPACE_STD


44 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
,

45 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

46 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

49 *
	$memmove
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
)

50 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

51 
__END_NAMESPACE_STD


56 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN


57 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

58 
__c
, 
size_t
 
__n
)

59 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

63 
__BEGIN_NAMESPACE_STD


65 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

68 
	$memcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

69 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

72 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


75 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

76 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

77 
__c⁄°
 *
	`memchr
 (__c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

78 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

80 #ifde‡
__OPTIMIZE__


81 
__exã∫_Æways_ölöe
 *

82 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


84  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

87 
__exã∫_Æways_ölöe
 
__c⁄°
 *

88 
	`memchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


90  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

93 
	}
}

95 *
	$memchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

96 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

98 
__END_NAMESPACE_STD


100 #ifde‡
__USE_GNU


103 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


104 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

105 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

106 "C++" 
__c⁄°
 *
	$øwmemchr
 (
__c⁄°
 *
__s
, 
__c
)

107 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

109 *
	$øwmemchr
 (
__c⁄°
 *
__s
, 
__c
)

110 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

114 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


115 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

116 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

117 "C++" 
__c⁄°
 *
	$memrchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

120 *
	$memrchr
 (
__c⁄°
 *
__s
, 
__c
, 
size_t
 
__n
)

121 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

126 
__BEGIN_NAMESPACE_STD


128 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

129 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

131 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

132 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

133 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

136 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

137 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

139 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
,

140 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

143 
	$°rcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

144 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

146 
	$°∫cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

147 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

150 
	$°rcﬁl
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

151 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

153 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

154 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

155 
__THROW
 
	`__n⁄nuŒ
 ((2));

156 
__END_NAMESPACE_STD


158 #ifde‡
__USE_XOPEN2K8


162 
	~<xloˇÀ.h
>

165 
	$°rcﬁl_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

166 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

168 
size_t
 
	$°rx‰m_l
 (*
__de°
, 
__c⁄°
 *
__§c
, 
size_t
 
__n
,

169 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

172 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 \

173 || 
deföed
 
__USE_XOPEN2K8


175 *
	$°rdup
 (
__c⁄°
 *
__s
)

176 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

182 #i‡
deföed
 
__USE_XOPEN2K8


183 *
	$°∫dup
 (
__c⁄°
 *
__°rög
, 
size_t
 
__n
)

184 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

187 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


189 
	#°rdu∑
(
s
) \

190 (
__exãnsi⁄__
 \

192 
__c⁄°
 *
__ﬁd
 = (
s
); \

193 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

194 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

195 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

196 
	}
}))

	)

199 
	#°∫du∑
(
s
, 
n
) \

200 (
__exãnsi⁄__
 \

202 
__c⁄°
 *
__ﬁd
 = (
s
); \

203 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

204 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

205 
__√w
[
__Àn
] = '\0'; \

206 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

207 }))

	)

210 
	g__BEGIN_NAMESPACE_STD


212 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


215 *
°rchr
 (*
__s
, 
__c
)

216 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

217 
__c⁄°
 *
°rchr
 (__c⁄° *
__s
, 
__c
)

218 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

220 #ifde‡
__OPTIMIZE__


221 
__exã∫_Æways_ölöe
 *

222 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


224  
__buûtö_°rchr
 (
__s
, 
__c
);

227 
__exã∫_Æways_ölöe
 
__c⁄°
 *

228 
°rchr
 (
__c⁄°
 *
__s
, 
__c
Ë
	g__THROW


230  
__buûtö_°rchr
 (
__s
, 
__c
);

235 *
	$°rchr
 (
__c⁄°
 *
__s
, 
__c
)

236 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

239 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


242 *
	`°ºchr
 (*
__s
, 
__c
)

243 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

244 
__c⁄°
 *
	`°ºchr
 (__c⁄° *
__s
, 
__c
)

245 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

247 #ifde‡
__OPTIMIZE__


248 
__exã∫_Æways_ölöe
 *

249 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


251  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

254 
__exã∫_Æways_ölöe
 
__c⁄°
 *

255 
	`°ºchr
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


257  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

260 
	}
}

262 *
	$°ºchr
 (
__c⁄°
 *
__s
, 
__c
)

263 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

265 
__END_NAMESPACE_STD


267 #ifde‡
__USE_GNU


270 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


271 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

272 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

273 "C++" 
__c⁄°
 *
	$°rch∫ul
 (
__c⁄°
 *
__s
, 
__c
)

274 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

276 *
	$°rch∫ul
 (
__c⁄°
 *
__s
, 
__c
)

277 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

281 
__BEGIN_NAMESPACE_STD


284 
size_t
 
	$°rc•n
 (
__c⁄°
 *
__s
, __c⁄° *
__ªje˘
)

285 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

288 
size_t
 
	$°r•n
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
)

289 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

291 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


294 *
	`°Ωbrk
 (*
__s
, 
__c⁄°
 *
__ac˚±
)

295 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

296 
__c⁄°
 *
	`°Ωbrk
 (__c⁄° *
__s
, __c⁄° *
__ac˚±
)

297 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

299 #ifde‡
__OPTIMIZE__


300 
__exã∫_Æways_ölöe
 *

301 
	`°Ωbrk
 (*
__s
, 
__c⁄°
 *
__ac˚±
Ë
__THROW


303  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

306 
__exã∫_Æways_ölöe
 
__c⁄°
 *

307 
	`°Ωbrk
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
Ë
__THROW


309  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

312 
	}
}

314 *
	$°Ωbrk
 (
__c⁄°
 *
__s
, __c⁄° *
__ac˚±
)

315 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

318 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


321 *
	`°r°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
)

322 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

323 
__c⁄°
 *
	`°r°r
 (__c⁄° *
__hay°ack
,

324 
__c⁄°
 *
__√edÀ
)

325 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

327 #ifde‡
__OPTIMIZE__


328 
__exã∫_Æways_ölöe
 *

329 
	`°r°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
Ë
__THROW


331  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

334 
__exã∫_Æways_ölöe
 
__c⁄°
 *

335 
	`°r°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
Ë
__THROW


337  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

340 
	}
}

342 *
	$°r°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
)

343 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

348 *
	$°πok
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__dñim
)

349 
__THROW
 
	`__n⁄nuŒ
 ((2));

350 
__END_NAMESPACE_STD


354 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

355 
__c⁄°
 *
__ª°ri˘
 
__dñim
,

356 **
__ª°ri˘
 
__ßve_±r
)

357 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

358 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


359 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, 
__c⁄°
 *__ª°ri˘ 
__dñim
,

360 **
__ª°ri˘
 
__ßve_±r
)

361 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

364 #ifde‡
__USE_GNU


366 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


367 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, 
__c⁄°
 *
__√edÀ
)

368 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

369 "C++" 
__c⁄°
 *
	$°rˇ£°r
 (
__c⁄°
 *
__hay°ack
,

370 
__c⁄°
 *
__√edÀ
)

371 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

373 *
	$°rˇ£°r
 (
__c⁄°
 *
__hay°ack
, __c⁄° *
__√edÀ
)

374 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

378 #ifde‡
__USE_GNU


382 *
	$memmem
 (
__c⁄°
 *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

383 
__c⁄°
 *
__√edÀ
, 
size_t
 
__√edÀÀn
)

384 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

388 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

389 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

390 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

391 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

392 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

393 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

397 
__BEGIN_NAMESPACE_STD


399 
size_t
 
	$°æí
 (
__c⁄°
 *
__s
)

400 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

401 
__END_NAMESPACE_STD


403 #ifdef 
__USE_XOPEN2K8


406 
size_t
 
	$°∫Àn
 (
__c⁄°
 *
__°rög
, 
size_t
 
__maxÀn
)

407 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

411 
__BEGIN_NAMESPACE_STD


413 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

414 
__END_NAMESPACE_STD


415 #i‡
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_MISC


423 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


426 #ifde‡
__REDIRECT_NTH


427 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

428 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

429 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

431 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

432 
__THROW
 
	`__n⁄nuŒ
 ((2));

433 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

438 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

439 
__THROW
 
	`__n⁄nuŒ
 ((2));

443 #ifde‡
__USE_XOPEN2K8


445 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

451 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

453 #ifde‡
__USE_BSD


455 
	$bc›y
 (
__c⁄°
 *
__§c
, *
__de°
, 
size_t
 
__n
)

456 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

459 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

462 
	$bcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

463 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

466 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


469 *
	`ödex
 (*
__s
, 
__c
)

470 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

471 
__c⁄°
 *
	`ödex
 (__c⁄° *
__s
, 
__c
)

472 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

474 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


475 
__exã∫_Æways_ölöe
 *

476 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


478  
	`__buûtö_ödex
 (
__s
, 
__c
);

481 
__exã∫_Æways_ölöe
 
__c⁄°
 *

482 
	`ödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


484  
	`__buûtö_ödex
 (
__s
, 
__c
);

487 
	}
}

489 *
	$ödex
 (
__c⁄°
 *
__s
, 
__c
)

490 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

494 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


497 *
	`rödex
 (*
__s
, 
__c
)

498 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

499 
__c⁄°
 *
	`rödex
 (__c⁄° *
__s
, 
__c
)

500 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

502 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


503 
__exã∫_Æways_ölöe
 *

504 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


506  
	`__buûtö_rödex
 (
__s
, 
__c
);

509 
__exã∫_Æways_ölöe
 
__c⁄°
 *

510 
	`rödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


512  
	`__buûtö_rödex
 (
__s
, 
__c
);

515 
	}
}

517 *
	$rödex
 (
__c⁄°
 *
__s
, 
__c
)

518 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

523 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

527 #ifdef 
__USE_GNU


528 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

529 #ifde‡
__GNUC__


530 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

531 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

536 
	$°rˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

537 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

540 
	$°∫ˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

541 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

544 #ifdef 
__USE_GNU


547 
	$°rˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

548 
__loˇÀ_t
 
__loc
)

549 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

551 
	$°∫ˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

552 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

553 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

556 #ifdef 
__USE_BSD


559 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

560 
__c⁄°
 *
__ª°ri˘
 
__dñim
)

561 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

564 #ifdef 
__USE_XOPEN2K8


566 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

569 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

570 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

571 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, 
__c⁄°
 *__ª°ri˘ 
__§c
)

572 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

576 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

577 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

578 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

579 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

580 
__c⁄°
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

581 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

584 #ifdef 
__USE_GNU


586 
	$°rvîscmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

587 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

590 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

593 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

595 #i‚de‡
ba£«me


600 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


601 "C++" *
	$ba£«me
 (*
__fûíame
)

602 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

603 "C++" 
__c⁄°
 *
	$ba£«me
 (
__c⁄°
 *
__fûíame
)

604 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

606 *
	$ba£«me
 (
__c⁄°
 *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

612 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

613 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

614 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


634 
	~<bôs/°rög.h
>

637 
	~<bôs/°rög2.h
>

640 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


642 
	~<bôs/°rög3.h
>

646 
__END_DECLS


	@/usr/include/termios.h

23 #i‚def 
_TERMIOS_H


24 
	#_TERMIOS_H
 1

	)

26 
	~<„©uªs.h
>

27 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


29 
	~<bôs/ty≥s.h
>

30 #i‚de‡
__pid_t_deföed


31 
__pid_t
 
	tpid_t
;

32 
	#__pid_t_deföed


	)

36 
	g__BEGIN_DECLS


40 
	~<bôs/ãrmios.h
>

42 #ifde‡
__USE_BSD


45 
	#CCEQ
(
vÆ
, 
c
Ë((cË=(vÆË&& (vÆË!
_POSIX_VDISABLE
)

	)

49 
•ìd_t
 
	$cfgëo•ìd
 (
__c⁄°
 
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

52 
•ìd_t
 
	$cfgëi•ìd
 (
__c⁄°
 
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

55 
	$cf£to•ìd
 (
ãrmios
 *
__ãrmios_p
, 
•ìd_t
 
__•ìd
Ë
__THROW
;

58 
	$cf£ti•ìd
 (
ãrmios
 *
__ãrmios_p
, 
•ìd_t
 
__•ìd
Ë
__THROW
;

60 #ifdef 
__USE_BSD


62 
	$cf£t•ìd
 (
ãrmios
 *
__ãrmios_p
, 
•ìd_t
 
__•ìd
Ë
__THROW
;

67 
	$tcgë©å
 (
__fd
, 
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

71 
	$tc£èâr
 (
__fd
, 
__›ti⁄Æ_a˘i⁄s
,

72 
__c⁄°
 
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

75 #ifdef 
__USE_BSD


77 
	$cfmakîaw
 (
ãrmios
 *
__ãrmios_p
Ë
__THROW
;

81 
	$tc£ndbªak
 (
__fd
, 
__duøti⁄
Ë
__THROW
;

87 
	`tcdøö
 (
__fd
);

91 
	$tcÊush
 (
__fd
, 
__queue_£À˘‹
Ë
__THROW
;

95 
	$tcÊow
 (
__fd
, 
__a˘i⁄
Ë
__THROW
;

98 #ifde‡
__USE_UNIX98


100 
__pid_t
 
	$tcgësid
 (
__fd
Ë
__THROW
;

104 #ifde‡
__USE_BSD


105 
	~<sys/âydeÁu…s.h
>

108 
__END_DECLS


	@/usr/include/time.h

23 #i‚def 
_TIME_H


25 #i‡(! 
deföed
 
__√ed_time_t
 && !deföed 
__√ed_˛ock_t
 && \

26 ! 
deföed
 
	g__√ed_time•ec
)

27 
	#_TIME_H
 1

	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__√ed_size_t


	)

37 
	#__√ed_NULL


	)

38 
	~<°ddef.h
>

42 
	~<bôs/time.h
>

45 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


46 #i‚de‡
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #i‡!
deföed
 
__˛ock_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_˛ock_t
)

54 
	#__˛ock_t_deföed
 1

	)

56 
	~<bôs/ty≥s.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__˛ock_t
 
	t˛ock_t
;

61 
	g__END_NAMESPACE_STD


62 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
˛ock_t
)

67 #unde‡
__√ed_˛ock_t


69 #i‡!
deföed
 
__time_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_time_t
)

70 
	#__time_t_deföed
 1

	)

72 
	~<bôs/ty≥s.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC
 || deföed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #unde‡
__√ed_time_t


85 #i‡!
deföed
 
__˛ockid_t_deföed
 && \

86 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_˛ockid_t
)

87 
	#__˛ockid_t_deföed
 1

	)

89 
	~<bôs/ty≥s.h
>

92 
__˛ockid_t
 
	t˛ockid_t
;

95 #unde‡
__˛ockid_time_t


97 #i‡!
deföed
 
__timî_t_deföed
 && \

98 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_timî_t
)

99 
	#__timî_t_deföed
 1

	)

101 
	~<bôs/ty≥s.h
>

104 
__timî_t
 
	ttimî_t
;

107 #unde‡
__√ed_timî_t


110 #i‡!
deföed
 
__time•ec_deföed
 && \

111 ((
deföed
 
_TIME_H
 && \

112 (
deföed
 
__USE_POSIX199309
 || deföed 
__USE_MISC
)) || \

113 
deföed
 
__√ed_time•ec
)

114 
	#__time•ec_deföed
 1

	)

116 
	~<bôs/ty≥s.h
>

120 
	stime•ec


122 
__time_t
 
tv_£c
;

123 
tv_n£c
;

127 #unde‡
__√ed_time•ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mö
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m⁄
;

140 
tm_yór
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd°
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 
__c⁄°
 *
tm_z⁄e
;

149 
__tm_gmtoff
;

150 
__c⁄°
 *
__tm_z⁄e
;

153 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde‡
__USE_POSIX199309


161 
	sôimî•ec


163 
time•ec
 
ô_öãrvÆ
;

164 
time•ec
 
ô_vÆue
;

168 
sigevít
;

172 #ifde‡
__USE_XOPEN2K


173 #i‚de‡
__pid_t_deföed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_deföed


	)

180 
__BEGIN_NAMESPACE_STD


183 
˛ock_t
 
	$˛ock
 (Ë
__THROW
;

186 
time_t
 
	$time
 (
time_t
 *
__timî
Ë
__THROW
;

189 
	$dif·ime
 (
time_t
 
__time1
,Åime_à
__time0
)

190 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

193 
time_t
 
	$mktime
 (
tm
 *
__ç
Ë
__THROW
;

199 
size_t
 
	$°r·ime
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

200 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

201 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

202 
__END_NAMESPACE_STD


204 #ifde‡
__USE_XOPEN


207 *
	$°Ωtime
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

208 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
)

209 
__THROW
;

212 #ifde‡
__USE_XOPEN2K8


215 
	~<xloˇÀ.h
>

217 
size_t
 
	$°r·ime_l
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

218 
__c⁄°
 *
__ª°ri˘
 
__f‹m©
,

219 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

220 
__loˇÀ_t
 
__loc
Ë
__THROW
;

223 #ifde‡
__USE_GNU


224 *
	$°Ωtime_l
 (
__c⁄°
 *
__ª°ri˘
 
__s
,

225 
__c⁄°
 *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
,

226 
__loˇÀ_t
 
__loc
Ë
__THROW
;

230 
__BEGIN_NAMESPACE_STD


233 
tm
 *
	$gmtime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

237 
tm
 *
	$loˇ…ime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

238 
__END_NAMESPACE_STD


240 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


243 
tm
 *
	$gmtime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

244 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

248 
tm
 *
	$loˇ…ime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

249 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

252 
__BEGIN_NAMESPACE_STD


255 *
	$as˘ime
 (
__c⁄°
 
tm
 *
__ç
Ë
__THROW
;

258 *
	$˘ime
 (
__c⁄°
 
time_t
 *
__timî
Ë
__THROW
;

259 
__END_NAMESPACE_STD


261 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


266 *
	$as˘ime_r
 (
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

267 *
__ª°ri˘
 
__buf
Ë
__THROW
;

270 *
	$˘ime_r
 (
__c⁄°
 
time_t
 *
__ª°ri˘
 
__timî
,

271 *
__ª°ri˘
 
__buf
Ë
__THROW
;

276 *
__tz«me
[2];

277 
__daylight
;

278 
__timez⁄e
;

281 #ifdef 
__USE_POSIX


283 *
tz«me
[2];

287 
	$tz£t
 (Ë
__THROW
;

290 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


291 
daylight
;

292 
timez⁄e
;

295 #ifde‡
__USE_SVID


298 
	$°ime
 (
__c⁄°
 
time_t
 *
__whí
Ë
__THROW
;

304 
	#__i¶óp
(
yór
) \

305 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

308 #ifde‡
__USE_MISC


313 
time_t
 
	$timegm
 (
tm
 *
__ç
Ë
__THROW
;

316 
time_t
 
	$timñoˇl
 (
tm
 *
__ç
Ë
__THROW
;

319 
	$dysize
 (
__yór
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

323 #ifde‡
__USE_POSIX199309


328 
	`«no¶ìp
 (
__c⁄°
 
time•ec
 *
__ªque°ed_time
,

329 
time•ec
 *
__ªmaöög
);

333 
	$˛ock_gëªs
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ªs
Ë
__THROW
;

336 
	$˛ock_gëtime
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ç
Ë
__THROW
;

339 
	$˛ock_£âime
 (
˛ockid_t
 
__˛ock_id
, 
__c⁄°
 
time•ec
 *
__ç
)

340 
__THROW
;

342 #ifde‡
__USE_XOPEN2K


347 
	`˛ock_«no¶ìp
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
,

348 
__c⁄°
 
time•ec
 *
__ªq
,

349 
time•ec
 *
__ªm
);

352 
	$˛ock_gë˝u˛ockid
 (
pid_t
 
__pid
, 
˛ockid_t
 *
__˛ock_id
Ë
__THROW
;

357 
	$timî_¸óã
 (
˛ockid_t
 
__˛ock_id
,

358 
sigevít
 *
__ª°ri˘
 
__evp
,

359 
timî_t
 *
__ª°ri˘
 
__timîid
Ë
__THROW
;

362 
	$timî_dñëe
 (
timî_t
 
__timîid
Ë
__THROW
;

365 
	$timî_£âime
 (
timî_t
 
__timîid
, 
__Êags
,

366 
__c⁄°
 
ôimî•ec
 *
__ª°ri˘
 
__vÆue
,

367 
ôimî•ec
 *
__ª°ri˘
 
__ovÆue
Ë
__THROW
;

370 
	$timî_gëtime
 (
timî_t
 
__timîid
, 
ôimî•ec
 *
__vÆue
)

371 
__THROW
;

374 
	$timî_gëovîrun
 (
timî_t
 
__timîid
Ë
__THROW
;

378 #ifde‡
__USE_XOPEN_EXTENDED


390 
gëd©e_îr
;

399 
tm
 *
	`gëd©e
 (
__c⁄°
 *
__°rög
);

402 #ifde‡
__USE_GNU


413 
	`gëd©e_r
 (
__c⁄°
 *
__ª°ri˘
 
__°rög
,

414 
tm
 *
__ª°ri˘
 
__ªsbuÂ
);

417 
__END_DECLS


	@/usr/include/unistd.h

23 #i‚def 
_UNISTD_H


24 
	#_UNISTD_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


33 #ifde‡
__USE_XOPEN2K8


35 
	#_POSIX_VERSION
 200809L

	)

36 #ñi‡
deföed
 
__USE_XOPEN2K


38 
	#_POSIX_VERSION
 200112L

	)

39 #ñi‡
deföed
 
__USE_POSIX199506


41 
	#_POSIX_VERSION
 199506L

	)

42 #ñi‡
deföed
 
__USE_POSIX199309


44 
	#_POSIX_VERSION
 199309L

	)

47 
	#_POSIX_VERSION
 199009L

	)

53 #ifde‡
__USE_XOPEN2K8


54 
	#__POSIX2_THIS_VERSION
 200809L

	)

56 #ñi‡
deföed
 
__USE_XOPEN2K


58 
	#__POSIX2_THIS_VERSION
 200112L

	)

59 #ñi‡
deföed
 
__USE_POSIX199506


61 
	#__POSIX2_THIS_VERSION
 199506L

	)

64 
	#__POSIX2_THIS_VERSION
 199209L

	)

68 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

72 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

76 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

80 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

84 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

87 #ifde‡
__USE_XOPEN2K8


88 
	#_XOPEN_VERSION
 700

	)

89 #ñi‡
deföed
 
__USE_XOPEN2K


90 
	#_XOPEN_VERSION
 600

	)

91 #ñi‡
deföed
 
__USE_UNIX98


92 
	#_XOPEN_VERSION
 500

	)

94 
	#_XOPEN_VERSION
 4

	)

98 
	#_XOPEN_XCU_VERSION
 4

	)

101 
	#_XOPEN_XPG2
 1

	)

102 
	#_XOPEN_XPG3
 1

	)

103 
	#_XOPEN_XPG4
 1

	)

106 
	#_XOPEN_UNIX
 1

	)

109 
	#_XOPEN_CRYPT
 1

	)

113 
	#_XOPEN_ENH_I18N
 1

	)

116 
	#_XOPEN_LEGACY
 1

	)

203 
	~<bôs/posix_›t.h
>

206 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


207 
	~<bôs/ívú⁄míts.h
>

211 
	#STDIN_FILENO
 0

	)

212 
	#STDOUT_FILENO
 1

	)

213 
	#STDERR_FILENO
 2

	)

218 
	~<bôs/ty≥s.h
>

220 #i‚def 
__ssize_t_deföed


221 
__ssize_t
 
	tssize_t
;

222 
	#__ssize_t_deföed


	)

225 
	#__√ed_size_t


	)

226 
	#__√ed_NULL


	)

227 
	~<°ddef.h
>

229 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


232 #i‚de‡
__gid_t_deföed


233 
__gid_t
 
	tgid_t
;

234 
	#__gid_t_deföed


	)

237 #i‚de‡
__uid_t_deföed


238 
__uid_t
 
	tuid_t
;

239 
	#__uid_t_deföed


	)

242 #i‚de‡
__off_t_deföed


243 #i‚de‡
__USE_FILE_OFFSET64


244 
__off_t
 
	toff_t
;

246 
__off64_t
 
	toff_t
;

248 
	#__off_t_deföed


	)

250 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


251 
__off64_t
 
	toff64_t
;

252 
	#__off64_t_deföed


	)

255 #i‚de‡
__u£c⁄ds_t_deföed


256 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

257 
	#__u£c⁄ds_t_deföed


	)

260 #i‚de‡
__pid_t_deföed


261 
__pid_t
 
	tpid_t
;

262 
	#__pid_t_deföed


	)

266 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


267 #i‚de‡
__öçå_t_deföed


268 
__öçå_t
 
	töçå_t
;

269 
	#__öçå_t_deföed


	)

273 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


274 #i‚de‡
__sockÀn_t_deföed


275 
__sockÀn_t
 
	tsockÀn_t
;

276 
	#__sockÀn_t_deföed


	)

282 
	#R_OK
 4

	)

283 
	#W_OK
 2

	)

284 
	#X_OK
 1

	)

285 
	#F_OK
 0

	)

288 
	$ac˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

290 #ifde‡
__USE_GNU


293 
	$euidac˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
)

294 
__THROW
 
	`__n⁄nuŒ
 ((1));

297 
	$óc˚ss
 (
__c⁄°
 *
__«me
, 
__ty≥
)

298 
__THROW
 
	`__n⁄nuŒ
 ((1));

301 #ifde‡
__USE_ATFILE


305 
	$Ác˚sßt
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__ty≥
, 
__Êag
)

306 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

311 #i‚def 
_STDIO_H


312 
	#SEEK_SET
 0

	)

313 
	#SEEK_CUR
 1

	)

314 
	#SEEK_END
 2

	)

315 #ifde‡
__USE_GNU


316 
	#SEEK_DATA
 3

	)

317 
	#SEEK_HOLE
 4

	)

321 #i‡
deföed
 
__USE_BSD
 && !deföed 
L_SET


323 
	#L_SET
 
SEEK_SET


	)

324 
	#L_INCR
 
SEEK_CUR


	)

325 
	#L_XTND
 
SEEK_END


	)

334 #i‚de‡
__USE_FILE_OFFSET64


335 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__whí˚
Ë
__THROW
;

337 #ifde‡
__REDIRECT_NTH


338 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

339 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
),

340 
l£ek64
);

342 
	#l£ek
 
l£ek64


	)

345 #ifde‡
__USE_LARGEFILE64


346 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
)

347 
__THROW
;

354 
	`˛o£
 (
__fd
);

361 
ssize_t
 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
Ë
__wur
;

367 
ssize_t
 
	$wrôe
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
Ë
__wur
;

369 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


370 #i‚de‡
__USE_FILE_OFFSET64


377 
ssize_t
 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

378 
__off_t
 
__off£t
Ë
__wur
;

385 
ssize_t
 
	$pwrôe
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
,

386 
__off_t
 
__off£t
Ë
__wur
;

388 #ifde‡
__REDIRECT


389 
ssize_t
 
	`__REDIRECT
 (
¥ód
, (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

390 
__off64_t
 
__off£t
),

391 
¥ód64
Ë
__wur
;

392 
ssize_t
 
	`__REDIRECT
 (
pwrôe
, (
__fd
, 
__c⁄°
 *
__buf
,

393 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
),

394 
pwrôe64
Ë
__wur
;

396 
	#¥ód
 
¥ód64


	)

397 
	#pwrôe
 
pwrôe64


	)

401 #ifde‡
__USE_LARGEFILE64


405 
ssize_t
 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

406 
__off64_t
 
__off£t
Ë
__wur
;

409 
ssize_t
 
	$pwrôe64
 (
__fd
, 
__c⁄°
 *
__buf
, 
size_t
 
__n
,

410 
__off64_t
 
__off£t
Ë
__wur
;

418 
	$pùe
 (
__pùedes
[2]Ë
__THROW
 
__wur
;

420 #ifde‡
__USE_GNU


423 
	$pùe2
 (
__pùedes
[2], 
__Êags
Ë
__THROW
 
__wur
;

433 
	$Æ¨m
 (
__£c⁄ds
Ë
__THROW
;

445 
	`¶ìp
 (
__£c⁄ds
);

447 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

448 || 
deföed
 
__USE_BSD


453 
__u£c⁄ds_t
 
	$uÆ¨m
 (
__u£c⁄ds_t
 
__vÆue
, __u£c⁄ds_à
__öãrvÆ
)

454 
__THROW
;

461 
	`u¶ìp
 (
__u£c⁄ds_t
 
__u£c⁄ds
);

470 
	`∑u£
 ();

474 
	$chown
 (
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

475 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

477 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


479 
	$fchown
 (
__fd
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
Ë
__THROW
 
__wur
;

484 
	$lchown
 (
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

485 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

489 #ifde‡
__USE_ATFILE


492 
	$fchow«t
 (
__fd
, 
__c⁄°
 *
__fûe
, 
__uid_t
 
__ow√r
,

493 
__gid_t
 
__group
, 
__Êag
)

494 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

498 
	$chdú
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

500 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


502 
	$fchdú
 (
__fd
Ë
__THROW
 
__wur
;

512 *
	$gëcwd
 (*
__buf
, 
size_t
 
__size
Ë
__THROW
 
__wur
;

514 #ifdef 
__USE_GNU


518 *
	$gë_cuºít_dú_«me
 (Ë
__THROW
;

521 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

522 || 
deföed
 
__USE_BSD


526 *
	$gëwd
 (*
__buf
)

527 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
;

532 
	$dup
 (
__fd
Ë
__THROW
 
__wur
;

535 
	$dup2
 (
__fd
, 
__fd2
Ë
__THROW
;

537 #ifde‡
__USE_GNU


540 
	$dup3
 (
__fd
, 
__fd2
, 
__Êags
Ë
__THROW
;

544 **
__ívú⁄
;

545 #ifde‡
__USE_GNU


546 **
ívú⁄
;

552 
	$execve
 (
__c⁄°
 *
__∑th
, *__c⁄° 
__¨gv
[],

553 *
__c⁄°
 
__ívp
[]Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

555 #ifde‡
__USE_XOPEN2K8


558 
	$„xecve
 (
__fd
, *
__c⁄°
 
__¨gv
[], *__c⁄° 
__ívp
[])

559 
__THROW
 
	`__n⁄nuŒ
 ((2));

564 
	$execv
 (
__c⁄°
 *
__∑th
, *__c⁄° 
__¨gv
[])

565 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

569 
	$exe˛e
 (
__c⁄°
 *
__∑th
, __c⁄° *
__¨g
, ...)

570 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

574 
	$exe˛
 (
__c⁄°
 *
__∑th
, __c⁄° *
__¨g
, ...)

575 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

579 
	$execvp
 (
__c⁄°
 *
__fûe
, *__c⁄° 
__¨gv
[])

580 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

585 
	$exe˛p
 (
__c⁄°
 *
__fûe
, __c⁄° *
__¨g
, ...)

586 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

588 #ifde‡
__USE_GNU


591 
	$execv≥
 (
__c⁄°
 *
__fûe
, *__c⁄° 
__¨gv
[],

592 *
__c⁄°
 
__ívp
[])

593 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

597 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


599 
	$ni˚
 (
__öc
Ë
__THROW
 
__wur
;

604 
	$_exô
 (
__°©us
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

610 
	~<bôs/c⁄‚ame.h
>

613 
	$∑thc⁄f
 (
__c⁄°
 *
__∑th
, 
__«me
)

614 
__THROW
 
	`__n⁄nuŒ
 ((1));

617 
	$Â©hc⁄f
 (
__fd
, 
__«me
Ë
__THROW
;

620 
	$sysc⁄f
 (
__«me
Ë
__THROW
;

622 #ifdef 
__USE_POSIX2


624 
size_t
 
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

629 
__pid_t
 
	$gëpid
 (Ë
__THROW
;

632 
__pid_t
 
	$gëµid
 (Ë
__THROW
;

636 #i‚de‡
__FAVOR_BSD


637 
__pid_t
 
	$gëpgΩ
 (Ë
__THROW
;

639 #ifde‡
__REDIRECT_NTH


640 
__pid_t
 
	`__REDIRECT_NTH
 (
gëpgΩ
, (__pid_à
__pid
), 
__gëpgid
);

642 
	#gëpgΩ
 
__gëpgid


	)

647 
__pid_t
 
	$__gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

648 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


649 
__pid_t
 
	$gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

656 
	$£çgid
 (
__pid_t
 
__pid
, __pid_à
__pgid
Ë
__THROW
;

658 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


669 #i‚de‡
__FAVOR_BSD


673 
	$£çgΩ
 (Ë
__THROW
;

678 #ifde‡
__REDIRECT_NTH


679 
	`__REDIRECT_NTH
 (
£çgΩ
, (
__pid_t
 
__pid
, __pid_à
__pgΩ
), 
£çgid
);

681 
	#£çgΩ
 
£çgid


	)

690 
__pid_t
 
	$£tsid
 (Ë
__THROW
;

692 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


694 
__pid_t
 
	$gësid
 (
__pid_t
 
__pid
Ë
__THROW
;

698 
__uid_t
 
	$gëuid
 (Ë
__THROW
;

701 
__uid_t
 
	$gëeuid
 (Ë
__THROW
;

704 
__gid_t
 
	$gëgid
 (Ë
__THROW
;

707 
__gid_t
 
	$gëegid
 (Ë
__THROW
;

712 
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]Ë
__THROW
 
__wur
;

714 #ifdef 
__USE_GNU


716 
	$group_membî
 (
__gid_t
 
__gid
Ë
__THROW
;

723 
	$£tuid
 (
__uid_t
 
__uid
Ë
__THROW
;

725 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


728 
	$£åeuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
Ë
__THROW
;

731 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


733 
	$£ãuid
 (
__uid_t
 
__uid
Ë
__THROW
;

740 
	$£tgid
 (
__gid_t
 
__gid
Ë
__THROW
;

742 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


745 
	$£åegid
 (
__gid_t
 
__rgid
, __gid_à
__egid
Ë
__THROW
;

748 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


750 
	$£ãgid
 (
__gid_t
 
__gid
Ë
__THROW
;

753 #ifde‡
__USE_GNU


756 
	$gëªsuid
 (
__uid_t
 *
__ruid
, __uid_à*
__euid
, __uid_à*
__suid
)

757 
__THROW
;

761 
	$gëªsgid
 (
__gid_t
 *
__rgid
, __gid_à*
__egid
, __gid_à*
__sgid
)

762 
__THROW
;

766 
	$£åesuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
, __uid_à
__suid
)

767 
__THROW
;

771 
	$£åesgid
 (
__gid_t
 
__rgid
, __gid_à
__egid
, __gid_à
__sgid
)

772 
__THROW
;

779 
__pid_t
 
	$f‹k
 (Ë
__THROWNL
;

781 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

782 || 
deföed
 
__USE_BSD


787 
__pid_t
 
	$vf‹k
 (Ë
__THROW
;

793 *
	$ây«me
 (
__fd
Ë
__THROW
;

797 
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

798 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

802 
	$ißây
 (
__fd
Ë
__THROW
;

804 #i‡
deföed
 
__USE_BSD
 \

805 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_UNIX98
)

808 
	$ây¶Ÿ
 (Ë
__THROW
;

813 
	$lök
 (
__c⁄°
 *
__‰om
, __c⁄° *
__to
)

814 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

816 #ifde‡
__USE_ATFILE


819 
	$lök©
 (
__‰omfd
, 
__c⁄°
 *
__‰om
, 
__tofd
,

820 
__c⁄°
 *
__to
, 
__Êags
)

821 
__THROW
 
	`__n⁄nuŒ
 ((2, 4)Ë
__wur
;

824 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


826 
	$symlök
 (
__c⁄°
 *
__‰om
, __c⁄° *
__to
)

827 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

832 
ssize_t
 
	$ªadlök
 (
__c⁄°
 *
__ª°ri˘
 
__∑th
,

833 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

834 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

837 #ifde‡
__USE_ATFILE


839 
	$symlök©
 (
__c⁄°
 *
__‰om
, 
__tofd
,

840 
__c⁄°
 *
__to
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

843 
ssize_t
 
	$ªadlök©
 (
__fd
, 
__c⁄°
 *
__ª°ri˘
 
__∑th
,

844 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

845 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

849 
	$u∆ök
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

851 #ifde‡
__USE_ATFILE


853 
	$u∆ök©
 (
__fd
, 
__c⁄°
 *
__«me
, 
__Êag
)

854 
__THROW
 
	`__n⁄nuŒ
 ((2));

858 
	$rmdú
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

862 
__pid_t
 
	$tcgëpgΩ
 (
__fd
Ë
__THROW
;

865 
	$tc£çgΩ
 (
__fd
, 
__pid_t
 
__pgΩ_id
Ë
__THROW
;

872 *
	`gëlogö
 ();

873 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


880 
	$gëlogö_r
 (*
__«me
, 
size_t
 
__«me_Àn
Ë
	`__n⁄nuŒ
 ((1));

883 #ifdef 
__USE_BSD


885 
	$£éogö
 (
__c⁄°
 *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

889 #ifdef 
__USE_POSIX2


893 
	#__√ed_gë›t


	)

894 
	~<gë›t.h
>

898 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


902 
	$gëho°«me
 (*
__«me
, 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

906 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_UNIX98
)

909 
	$£tho°«me
 (
__c⁄°
 *
__«me
, 
size_t
 
__Àn
)

910 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

914 
	$£tho°id
 (
__id
Ë
__THROW
 
__wur
;

920 
	$gëdomaö«me
 (*
__«me
, 
size_t
 
__Àn
)

921 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

922 
	$£tdomaö«me
 (
__c⁄°
 *
__«me
, 
size_t
 
__Àn
)

923 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

929 
	$vh™gup
 (Ë
__THROW
;

932 
	$ªvoke
 (
__c⁄°
 *
__fûe
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

940 
	$¥ofû
 (*
__ßm∂e_buf„r
, 
size_t
 
__size
,

941 
size_t
 
__off£t
, 
__sˇÀ
)

942 
__THROW
 
	`__n⁄nuŒ
 ((1));

948 
	$ac˘
 (
__c⁄°
 *
__«me
Ë
__THROW
;

952 *
	$gëu£rshñl
 (Ë
__THROW
;

953 
	$ídu£rshñl
 (Ë
__THROW
;

954 
	$£tu£rshñl
 (Ë
__THROW
;

960 
	$d´m⁄
 (
__nochdú
, 
__no˛o£
Ë
__THROW
 
__wur
;

964 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

967 
	$chroŸ
 (
__c⁄°
 *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

971 *
	$gë∑ss
 (
__c⁄°
 *
__¥om±
Ë
	`__n⁄nuŒ
 ((1));

975 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


980 
	`fsync
 (
__fd
);

984 #ifde‡
__USE_GNU


987 
	$syncfs
 (
__fd
Ë
__THROW
;

991 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


994 
	`gëho°id
 ();

997 
	$sync
 (Ë
__THROW
;

1000 #i‡
deföed
 
__USE_BSD
 || !deföed 
__USE_XOPEN2K


1003 
	$gë∑gesize
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

1008 
	$gëdèbÀsize
 (Ë
__THROW
;

1014 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


1017 #i‚de‡
__USE_FILE_OFFSET64


1018 
	$åunˇã
 (
__c⁄°
 *
__fûe
, 
__off_t
 
__Àngth
)

1019 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1021 #ifde‡
__REDIRECT_NTH


1022 
	`__REDIRECT_NTH
 (
åunˇã
,

1023 (
__c⁄°
 *
__fûe
, 
__off64_t
 
__Àngth
),

1024 
åunˇã64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1026 
	#åunˇã
 
åunˇã64


	)

1029 #ifde‡
__USE_LARGEFILE64


1030 
	$åunˇã64
 (
__c⁄°
 *
__fûe
, 
__off64_t
 
__Àngth
)

1031 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1036 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


1039 #i‚de‡
__USE_FILE_OFFSET64


1040 
	$·runˇã
 (
__fd
, 
__off_t
 
__Àngth
Ë
__THROW
 
__wur
;

1042 #ifde‡
__REDIRECT_NTH


1043 
	`__REDIRECT_NTH
 (
·runˇã
, (
__fd
, 
__off64_t
 
__Àngth
),

1044 
·runˇã64
Ë
__wur
;

1046 
	#·runˇã
 
·runˇã64


	)

1049 #ifde‡
__USE_LARGEFILE64


1050 
	$·runˇã64
 (
__fd
, 
__off64_t
 
__Àngth
Ë
__THROW
 
__wur
;

1056 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

1057 || 
deföed
 
__USE_MISC


1061 
	$brk
 (*
__addr
Ë
__THROW
 
__wur
;

1067 *
	$sbrk
 (
öçå_t
 
__dñè
Ë
__THROW
;

1071 #ifde‡
__USE_MISC


1082 
	$sysˇŒ
 (
__sy¢o
, ...Ë
__THROW
;

1087 #i‡(
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
Ë&& !deföed 
F_LOCK


1099 
	#F_ULOCK
 0

	)

1100 
	#F_LOCK
 1

	)

1101 
	#F_TLOCK
 2

	)

1102 
	#F_TEST
 3

	)

1104 #i‚de‡
__USE_FILE_OFFSET64


1105 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
Ë
__wur
;

1107 #ifde‡
__REDIRECT


1108 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
),

1109 
lockf64
Ë
__wur
;

1111 
	#lockf
 
lockf64


	)

1114 #ifde‡
__USE_LARGEFILE64


1115 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
Ë
__wur
;

1120 #ifde‡
__USE_GNU


1125 
	#TEMP_FAILURE_RETRY
(
ex¥essi⁄
) \

1126 (
__exãnsi⁄__
 \

1127 ({ 
__ªsu…
; \

1128 dÿ
__ªsu…
 = (Ë(
ex¥essi⁄
); \

1129 
__ªsu…
 =-1L && 
î∫o
 =
EINTR
); \

1130 
__ªsu…
; 
	}
}))

	)

1133 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


1136 
fd©async
 (
__fûdes
);

1142 #ifdef 
__USE_XOPEN


1144 *
	$¸y±
 (
__c⁄°
 *
__key
, __c⁄° *
__ß…
)

1145 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1149 
	$í¸y±
 (*
__libc_block
, 
__edÊag
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1156 
	$swab
 (
__c⁄°
 *
__ª°ri˘
 
__‰om
, *__ª°ri˘ 
__to
,

1157 
ssize_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1163 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


1165 *
	$˘îmid
 (*
__s
Ë
__THROW
;

1170 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


1171 
	~<bôs/uni°d.h
>

1174 
__END_DECLS


	@/usr/include/zlib.h

31 #i‚de‡
ZLIB_H


32 
	#ZLIB_H


	)

34 
	~"zc⁄f.h
"

36 #ifde‡
__˝lu•lus


40 
	#ZLIB_VERSION
 "1.2.3.4"

	)

41 
	#ZLIB_VERNUM
 0x1234

	)

42 
	#ZLIB_VER_MAJOR
 1

	)

43 
	#ZLIB_VER_MINOR
 2

	)

44 
	#ZLIB_VER_REVISION
 3

	)

80 
voidpf
 (*
	tÆloc_func
Ë
	tOF
((
	tvoidpf
 
	t›aque
, 
	tuI¡
 
	tôems
, uI¡ 
	tsize
));

81 (*
‰ì_func
Ë
	tOF
((
	tvoidpf
 
	t›aque
, voidp‡
	taddªss
));

83 
öã∫Æ_°©e
;

85 
	sz_°ªam_s
 {

86 
Byãf
 *
√xt_ö
;

87 
uI¡
 
avaû_ö
;

88 
uL⁄g
 
tŸÆ_ö
;

90 
Byãf
 *
√xt_out
;

91 
uI¡
 
avaû_out
;

92 
uL⁄g
 
tŸÆ_out
;

94 *
msg
;

95 
öã∫Æ_°©e
 
FAR
 *
°©e
;

97 
Æloc_func
 
zÆloc
;

98 
‰ì_func
 
z‰ì
;

99 
voidpf
 
›aque
;

101 
d©a_ty≥
;

102 
uL⁄g
 
adÀr
;

103 
uL⁄g
 
ª£rved
;

104 } 
	tz_°ªam
;

106 
z_°ªam
 
	tFAR
 *
	tz_°ªamp
;

112 
	sgz_hódî_s
 {

113 
ãxt
;

114 
uL⁄g
 
time
;

115 
xÊags
;

116 
os
;

117 
Byãf
 *
exåa
;

118 
uI¡
 
exåa_Àn
;

119 
uI¡
 
exåa_max
;

120 
Byãf
 *
«me
;

121 
uI¡
 
«me_max
;

122 
Byãf
 *
commít
;

123 
uI¡
 
comm_max
;

124 
h¸c
;

125 
d⁄e
;

127 } 
	tgz_hódî
;

129 
gz_hódî
 
	tFAR
 *
	tgz_hódîp
;

165 
	#Z_NO_FLUSH
 0

	)

166 
	#Z_PARTIAL_FLUSH
 1

	)

167 
	#Z_SYNC_FLUSH
 2

	)

168 
	#Z_FULL_FLUSH
 3

	)

169 
	#Z_FINISH
 4

	)

170 
	#Z_BLOCK
 5

	)

171 
	#Z_TREES
 6

	)

174 
	#Z_OK
 0

	)

175 
	#Z_STREAM_END
 1

	)

176 
	#Z_NEED_DICT
 2

	)

177 
	#Z_ERRNO
 (-1)

	)

178 
	#Z_STREAM_ERROR
 (-2)

	)

179 
	#Z_DATA_ERROR
 (-3)

	)

180 
	#Z_MEM_ERROR
 (-4)

	)

181 
	#Z_BUF_ERROR
 (-5)

	)

182 
	#Z_VERSION_ERROR
 (-6)

	)

187 
	#Z_NO_COMPRESSION
 0

	)

188 
	#Z_BEST_SPEED
 1

	)

189 
	#Z_BEST_COMPRESSION
 9

	)

190 
	#Z_DEFAULT_COMPRESSION
 (-1)

	)

193 
	#Z_FILTERED
 1

	)

194 
	#Z_HUFFMAN_ONLY
 2

	)

195 
	#Z_RLE
 3

	)

196 
	#Z_FIXED
 4

	)

197 
	#Z_DEFAULT_STRATEGY
 0

	)

200 
	#Z_BINARY
 0

	)

201 
	#Z_TEXT
 1

	)

202 
	#Z_ASCII
 
Z_TEXT


	)

203 
	#Z_UNKNOWN
 2

	)

206 
	#Z_DEFLATED
 8

	)

209 
	#Z_NULL
 0

	)

211 
	#zlib_vîsi⁄
 
	`zlibVîsi⁄
()

	)

216 
ZEXTERN
 c⁄° * 
ZEXPORT
 
zlibVîsi⁄
 
OF
(());

246 
ZEXTERN
 
ZEXPORT
 
deÊ©e
 
OF
((
z_°ªamp
 
°rm
, 
Êush
));

351 
ZEXTERN
 
ZEXPORT
 
deÊ©eEnd
 
OF
((
z_°ªamp
 
°rm
));

390 
ZEXTERN
 
ZEXPORT
 
öÊ©e
 
OF
((
z_°ªamp
 
°rm
, 
Êush
));

498 
ZEXTERN
 
ZEXPORT
 
öÊ©eEnd
 
OF
((
z_°ªamp
 
°rm
));

574 
ZEXTERN
 
ZEXPORT
 
deÊ©eSëDi˘i⁄¨y
 
OF
((
z_°ªamp
 
°rm
,

575 c⁄° 
Byãf
 *
di˘i⁄¨y
,

576 
uI¡
 
di˘Lígth
));

613 
ZEXTERN
 
ZEXPORT
 
deÊ©eC›y
 
OF
((
z_°ªamp
 
de°
,

614 
z_°ªamp
 
sour˚
));

631 
ZEXTERN
 
ZEXPORT
 
deÊ©eRe£t
 
OF
((
z_°ªamp
 
°rm
));

642 
ZEXTERN
 
ZEXPORT
 
deÊ©eP¨ams
 
OF
((
z_°ªamp
 
°rm
,

643 
Àvñ
,

644 
°øãgy
));

663 
ZEXTERN
 
ZEXPORT
 
deÊ©eTu√
 
OF
((
z_°ªamp
 
°rm
,

664 
good_Àngth
,

665 
max_œzy
,

666 
ni˚_Àngth
,

667 
max_chaö
));

680 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
deÊ©eBound
 
OF
((
z_°ªamp
 
°rm
,

681 
uL⁄g
 
sour˚Lí
));

690 
ZEXTERN
 
ZEXPORT
 
deÊ©ePrime
 
OF
((
z_°ªamp
 
°rm
,

691 
bôs
,

692 
vÆue
));

706 
ZEXTERN
 
ZEXPORT
 
deÊ©eSëHódî
 
OF
((
z_°ªamp
 
°rm
,

707 
gz_hódîp
 
hód
));

777 
ZEXTERN
 
ZEXPORT
 
öÊ©eSëDi˘i⁄¨y
 
OF
((
z_°ªamp
 
°rm
,

778 c⁄° 
Byãf
 *
di˘i⁄¨y
,

779 
uI¡
 
di˘Lígth
));

799 
ZEXTERN
 
ZEXPORT
 
öÊ©eSync
 
OF
((
z_°ªamp
 
°rm
));

814 
ZEXTERN
 
ZEXPORT
 
öÊ©eC›y
 
OF
((
z_°ªamp
 
de°
,

815 
z_°ªamp
 
sour˚
));

830 
ZEXTERN
 
ZEXPORT
 
öÊ©eRe£t
 
OF
((
z_°ªamp
 
°rm
));

840 
ZEXTERN
 
ZEXPORT
 
öÊ©eRe£t2
 
OF
((
z_°ªamp
 
°rm
,

841 
wödowBôs
));

852 
ZEXTERN
 
ZEXPORT
 
öÊ©ePrime
 
OF
((
z_°ªamp
 
°rm
,

853 
bôs
,

854 
vÆue
));

873 
ZEXTERN
 
ZEXPORT
 
öÊ©eM¨k
 
OF
((
z_°ªamp
 
°rm
));

901 
ZEXTERN
 
ZEXPORT
 
öÊ©eGëHódî
 
OF
((
z_°ªamp
 
°rm
,

902 
gz_hódîp
 
hód
));

963 (*
ö_func
Ë
	tOF
((
	tFAR
 *, FAR * FAR *));

964 (*
out_func
Ë
	tOF
((
	tFAR
 *, FAR *, ));

966 
ZEXTERN
 
ZEXPORT
 
öÊ©eBack
 
OF
((
z_°ªamp
 
°rm
,

967 
ö_func
 
ö
, 
FAR
 *
ö_desc
,

968 
out_func
 
out
, 
FAR
 *
out_desc
));

1035 
ZEXTERN
 
ZEXPORT
 
öÊ©eBackEnd
 
OF
((
z_°ªamp
 
°rm
));

1043 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
zlibCompûeFœgs
 
OF
(());

1095 
ZEXTERN
 
ZEXPORT
 
com¥ess
 
OF
((
Byãf
 *
de°
, 
uL⁄gf
 *
de°Lí
,

1096 c⁄° 
Byãf
 *
sour˚
, 
uL⁄g
 
sour˚Lí
));

1110 
ZEXTERN
 
ZEXPORT
 
com¥ess2
 
OF
((
Byãf
 *
de°
, 
uL⁄gf
 *
de°Lí
,

1111 c⁄° 
Byãf
 *
sour˚
, 
uL⁄g
 
sour˚Lí
,

1112 
Àvñ
));

1126 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
com¥essBound
 
OF
((uL⁄g 
sour˚Lí
));

1133 
ZEXTERN
 
ZEXPORT
 
uncom¥ess
 
OF
((
Byãf
 *
de°
, 
uL⁄gf
 *
de°Lí
,

1134 c⁄° 
Byãf
 *
sour˚
, 
uL⁄g
 
sour˚Lí
));

1152 
voidp
 
	tgzFûe
;

1172 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gzd›í
 
OF
((
fd
, c⁄° *
mode
));

1185 
ZEXTERN
 
ZEXPORT
 
gz£ç¨ams
 
OF
((
gzFûe
 
fûe
, 
Àvñ
, 
°øãgy
));

1193 
ZEXTERN
 
ZEXPORT
 
gzªad
 
OF
((
gzFûe
 
fûe
, 
voidp
 
buf
, 
Àn
));

1201 
ZEXTERN
 
ZEXPORT
 
gzwrôe
 
OF
((
gzFûe
 
fûe
,

1202 
voidpc
 
buf
, 
Àn
));

1209 
ZEXTERN
 
ZEXPORTVA
 
gz¥ötf
 
OF
((
gzFûe
 
fûe
, c⁄° *
f‹m©
, ...));

1222 
ZEXTERN
 
ZEXPORT
 
gzputs
 
OF
((
gzFûe
 
fûe
, c⁄° *
s
));

1229 
ZEXTERN
 * 
ZEXPORT
 
gzgës
 
OF
((
gzFûe
 
fûe
, *
buf
, 
Àn
));

1238 
ZEXTERN
 
ZEXPORT
 
gzputc
 
OF
((
gzFûe
 
fûe
, 
c
));

1244 
ZEXTERN
 
ZEXPORT
 
gzgëc
 
OF
((
gzFûe
 
fûe
));

1250 
ZEXTERN
 
ZEXPORT
 
gzungëc
 
OF
((
c
, 
gzFûe
 
fûe
));

1260 
ZEXTERN
 
ZEXPORT
 
gzÊush
 
OF
((
gzFûe
 
fûe
, 
Êush
));

1289 
ZEXTERN
 
ZEXPORT
 
gzªwöd
 
OF
((
gzFûe
 
fûe
));

1306 
ZEXTERN
 
ZEXPORT
 
gzeof
 
OF
((
gzFûe
 
fûe
));

1312 
ZEXTERN
 
ZEXPORT
 
gzdúe˘
 
OF
((
gzFûe
 
fûe
));

1318 
ZEXTERN
 
ZEXPORT
 
gz˛o£
 
OF
((
gzFûe
 
fûe
));

1326 
ZEXTERN
 c⁄° * 
ZEXPORT
 
gzîr‹
 
OF
((
gzFûe
 
fûe
, *
î∫um
));

1338 
ZEXTERN
 
ZEXPORT
 
gz˛óªº
 
OF
((
gzFûe
 
fûe
));

1353 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32
 
OF
((uL⁄g 
adÀr
, c⁄° 
Byãf
 *
buf
, 
uI¡
 
Àn
));

1379 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32
 
OF
((uL⁄g 
¸c
, c⁄° 
Byãf
 *
buf
, 
uI¡
 
Àn
));

1411 
ZEXTERN
 
ZEXPORT
 
deÊ©eInô_
 
OF
((
z_°ªamp
 
°rm
, 
Àvñ
,

1412 c⁄° *
vîsi⁄
, 
°ªam_size
));

1413 
ZEXTERN
 
ZEXPORT
 
öÊ©eInô_
 
OF
((
z_°ªamp
 
°rm
,

1414 c⁄° *
vîsi⁄
, 
°ªam_size
));

1415 
ZEXTERN
 
ZEXPORT
 
deÊ©eInô2_
 
OF
((
z_°ªamp
 
°rm
, 
Àvñ
, 
mëhod
,

1416 
wödowBôs
, 
memLevñ
,

1417 
°øãgy
, c⁄° *
vîsi⁄
,

1418 
°ªam_size
));

1419 
ZEXTERN
 
ZEXPORT
 
öÊ©eInô2_
 
OF
((
z_°ªamp
 
°rm
, 
wödowBôs
,

1420 c⁄° *
vîsi⁄
, 
°ªam_size
));

1421 
ZEXTERN
 
ZEXPORT
 
öÊ©eBackInô_
 
OF
((
z_°ªamp
 
°rm
, 
wödowBôs
,

1422 
FAR
 *
wödow
,

1423 c⁄° *
vîsi⁄
,

1424 
°ªam_size
));

1425 
	#deÊ©eInô
(
°rm
, 
Àvñ
) \

1426 
	`deÊ©eInô_
((
°rm
), (
Àvñ
), 
ZLIB_VERSION
, (
z_°ªam
))

	)

1427 
	#öÊ©eInô
(
°rm
) \

1428 
	`öÊ©eInô_
((
°rm
), 
ZLIB_VERSION
, (
z_°ªam
))

	)

1429 
	#deÊ©eInô2
(
°rm
, 
Àvñ
, 
mëhod
, 
wödowBôs
, 
memLevñ
, 
°øãgy
) \

1430 
	`deÊ©eInô2_
((
°rm
),(
Àvñ
),(
mëhod
),(
wödowBôs
),(
memLevñ
),\

1431 (
°øãgy
), 
ZLIB_VERSION
, (
z_°ªam
))

	)

1432 
	#öÊ©eInô2
(
°rm
, 
wödowBôs
) \

1433 
	`öÊ©eInô2_
((
°rm
), (
wödowBôs
), 
ZLIB_VERSION
, (
z_°ªam
))

	)

1434 
	#öÊ©eBackInô
(
°rm
, 
wödowBôs
, 
wödow
) \

1435 
	`öÊ©eBackInô_
((
°rm
), (
wödowBôs
), (
wödow
), \

1436 
ZLIB_VERSION
, (
z_°ªam
))

	)

1438 #i‡
deföed
(
_LARGEFILE64_SOURCE
)

1439 
	#z_off64_t
 
off64_t


	)

1441 #i‡
_FILE_OFFSET_BITS
 == 64

1442 
	#z_off64_t
 
off_t


	)

1446 #i‡
deföed
(
_LARGEFILE64_SOURCE
Ë|| 
_FILE_OFFSET_BITS
 == 64

1447 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gz›í64
 
OF
((const *, const *));

1448 
ZEXTERN
 
z_off64_t
 
ZEXPORT
 
gz£ek64
 
OF
((
gzFûe
, z_off64_t, ));

1449 
ZEXTERN
 
z_off64_t
 
ZEXPORT
 
gzãŒ64
 
OF
((
gzFûe
));

1450 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32_comböe64
 
OF
((uL⁄g, uL⁄g, 
z_off64_t
));

1451 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32_comböe64
 
OF
((uL⁄g, uL⁄g, 
z_off64_t
));

1454 #i‡!
deföed
(
ZLIB_INTERNAL
Ë&& 
_FILE_OFFSET_BITS
 == 64

1455 
	#gz›í
 
gz›í64


	)

1456 
	#gz£ek
 
gz£ek64


	)

1457 
	#gzãŒ
 
gzãŒ64


	)

1458 
	#adÀr32_comböe
 
adÀr32_comböe64


	)

1459 
	#¸c32_comböe
 
¸c32_comböe64


	)

1460 #i‚de‡
_LARGEFILE64_SOURCE


1461 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gz›í64
 
OF
((const *, const *));

1462 
ZEXTERN
 
off_t
 
ZEXPORT
 
gz£ek64
 
OF
((
gzFûe
, off_t, ));

1463 
ZEXTERN
 
off_t
 
ZEXPORT
 
gzãŒ64
 
OF
((
gzFûe
));

1464 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32_comböe64
 
OF
((uL⁄g, uL⁄g, 
off_t
));

1465 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32_comböe64
 
OF
((uL⁄g, uL⁄g, 
off_t
));

1468 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gz›í
 
OF
((const *, const *));

1469 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz£ek
 
OF
((
gzFûe
, z_off_t, ));

1470 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gzãŒ
 
OF
((
gzFûe
));

1471 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32_comböe
 
OF
((uL⁄g, uL⁄g, 
z_off_t
));

1472 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32_comböe
 
OF
((uL⁄g, uL⁄g, 
z_off_t
));

1475 #i‡!
deföed
(
ZUTIL_H
Ë&& !deföed(
NO_DUMMY_DECL
)

1476 
	söã∫Æ_°©e
 {
dummy
;};

1479 
ZEXTERN
 c⁄° * 
ZEXPORT
 
zEº‹
 
OF
(());

1480 
ZEXTERN
 
ZEXPORT
 
öÊ©eSyncPoöt
 
OF
((
z_°ªamp
));

1481 
ZEXTERN
 c⁄° 
uL⁄gf
 * 
ZEXPORT
 
gë_¸c_èbÀ
 
OF
(());

1482 
ZEXTERN
 
ZEXPORT
 
öÊ©eUndîmöe
 
OF
((
z_°ªamp
, ));

1484 #ifde‡
__˝lu•lus


	@/usr/include/X11/X.h

3 #i‚de‡
X_H


4 
	#X_H


	)

53 
	#X_PROTOCOL
 11

	)

54 
	#X_PROTOCOL_REVISION
 0

	)

63 #i‚de‡
_XSERVER64


64 #i‚de‡
_XTYPEDEF_XID


65 
	#_XTYPEDEF_XID


	)

66 
	tXID
;

68 #i‚de‡
_XTYPEDEF_MASK


69 
	#_XTYPEDEF_MASK


	)

70 
	tMask
;

72 #i‚de‡
_XTYPEDEF_ATOM


73 
	#_XTYPEDEF_ATOM


	)

74 
	tAtom
;

76 
	tVisuÆID
;

77 
	tTime
;

79 
	~<X11/Xmd.h
>

80 #i‚de‡
_XTYPEDEF_XID


81 
	#_XTYPEDEF_XID


	)

82 
CARD32
 
	tXID
;

84 #i‚de‡
_XTYPEDEF_MASK


85 
	#_XTYPEDEF_MASK


	)

86 
CARD32
 
	tMask
;

88 #i‚de‡
_XTYPEDEF_ATOM


89 
	#_XTYPEDEF_ATOM


	)

90 
CARD32
 
	tAtom
;

92 
CARD32
 
	tVisuÆID
;

93 
CARD32
 
	tTime
;

96 
XID
 
	tWödow
;

97 
XID
 
	tDøwabÀ
;

98 #i‚de‡
_XTYPEDEF_FONT


99 
	#_XTYPEDEF_FONT


	)

100 
XID
 
	tF⁄t
;

102 
XID
 
	tPixm≠
;

103 
XID
 
	tCurs‹
;

104 
XID
 
	tCﬁ‹m≠
;

105 
XID
 
	tGC⁄ãxt
;

106 
XID
 
	tKeySym
;

108 
	tKeyCode
;

114 #i‚de‡
N⁄e


115 
	#N⁄e
 0L

	)

118 
	#P¨ítRñ©ive
 1L

	)

121 
	#C›yFromP¨ít
 0L

	)

126 
	#PoöãrWödow
 0L

	)

127 
	#I≈utFocus
 1L

	)

129 
	#PoöãrRoŸ
 1L

	)

131 
	#AnyPr›îtyTy≥
 0L

	)

133 
	#AnyKey
 0L

	)

135 
	#AnyBuâ⁄
 0L

	)

137 
	#AŒTemp‹¨y
 0L

	)

139 
	#CuºítTime
 0L

	)

141 
	#NoSymbﬁ
 0L

	)

150 
	#NoEvítMask
 0L

	)

151 
	#KeyPªssMask
 (1L<<0)

	)

152 
	#KeyRñó£Mask
 (1L<<1)

	)

153 
	#Buâ⁄PªssMask
 (1L<<2)

	)

154 
	#Buâ⁄Rñó£Mask
 (1L<<3)

	)

155 
	#E¡îWödowMask
 (1L<<4)

	)

156 
	#LóveWödowMask
 (1L<<5)

	)

157 
	#PoöãrMŸi⁄Mask
 (1L<<6)

	)

158 
	#PoöãrMŸi⁄HötMask
 (1L<<7)

	)

159 
	#Buâ⁄1MŸi⁄Mask
 (1L<<8)

	)

160 
	#Buâ⁄2MŸi⁄Mask
 (1L<<9)

	)

161 
	#Buâ⁄3MŸi⁄Mask
 (1L<<10)

	)

162 
	#Buâ⁄4MŸi⁄Mask
 (1L<<11)

	)

163 
	#Buâ⁄5MŸi⁄Mask
 (1L<<12)

	)

164 
	#Buâ⁄MŸi⁄Mask
 (1L<<13)

	)

165 
	#Keym≠SèãMask
 (1L<<14)

	)

166 
	#ExposuªMask
 (1L<<15)

	)

167 
	#VisibûôyCh™geMask
 (1L<<16)

	)

168 
	#Såu˘uªNŸifyMask
 (1L<<17)

	)

169 
	#ResizeRedúe˘Mask
 (1L<<18)

	)

170 
	#Sub°ru˘uªNŸifyMask
 (1L<<19)

	)

171 
	#Sub°ru˘uªRedúe˘Mask
 (1L<<20)

	)

172 
	#FocusCh™geMask
 (1L<<21)

	)

173 
	#Pr›îtyCh™geMask
 (1L<<22)

	)

174 
	#Cﬁ‹m≠Ch™geMask
 (1L<<23)

	)

175 
	#Ow√rGøbBuâ⁄Mask
 (1L<<24)

	)

181 
	#KeyPªss
 2

	)

182 
	#KeyRñó£
 3

	)

183 
	#Buâ⁄Pªss
 4

	)

184 
	#Buâ⁄Rñó£
 5

	)

185 
	#MŸi⁄NŸify
 6

	)

186 
	#E¡îNŸify
 7

	)

187 
	#LóveNŸify
 8

	)

188 
	#FocusIn
 9

	)

189 
	#FocusOut
 10

	)

190 
	#Keym≠NŸify
 11

	)

191 
	#Expo£
 12

	)

192 
	#GøphicsExpo£
 13

	)

193 
	#NoExpo£
 14

	)

194 
	#VisibûôyNŸify
 15

	)

195 
	#Cª©eNŸify
 16

	)

196 
	#De°royNŸify
 17

	)

197 
	#Unm≠NŸify
 18

	)

198 
	#M≠NŸify
 19

	)

199 
	#M≠Reque°
 20

	)

200 
	#Rï¨ítNŸify
 21

	)

201 
	#C⁄figuªNŸify
 22

	)

202 
	#C⁄figuªReque°
 23

	)

203 
	#GøvôyNŸify
 24

	)

204 
	#ResizeReque°
 25

	)

205 
	#CúcuœãNŸify
 26

	)

206 
	#CúcuœãReque°
 27

	)

207 
	#Pr›îtyNŸify
 28

	)

208 
	#Sñe˘i⁄CÀ¨
 29

	)

209 
	#Sñe˘i⁄Reque°
 30

	)

210 
	#Sñe˘i⁄NŸify
 31

	)

211 
	#Cﬁ‹m≠NŸify
 32

	)

212 
	#Clõ¡Mesßge
 33

	)

213 
	#M≠pögNŸify
 34

	)

214 
	#GíîicEvít
 35

	)

215 
	#LASTEvít
 36

	)

221 
	#Shi·Mask
 (1<<0)

	)

222 
	#LockMask
 (1<<1)

	)

223 
	#C⁄åﬁMask
 (1<<2)

	)

224 
	#Mod1Mask
 (1<<3)

	)

225 
	#Mod2Mask
 (1<<4)

	)

226 
	#Mod3Mask
 (1<<5)

	)

227 
	#Mod4Mask
 (1<<6)

	)

228 
	#Mod5Mask
 (1<<7)

	)

233 
	#Shi·M≠Index
 0

	)

234 
	#LockM≠Index
 1

	)

235 
	#C⁄åﬁM≠Index
 2

	)

236 
	#Mod1M≠Index
 3

	)

237 
	#Mod2M≠Index
 4

	)

238 
	#Mod3M≠Index
 5

	)

239 
	#Mod4M≠Index
 6

	)

240 
	#Mod5M≠Index
 7

	)

246 
	#Buâ⁄1Mask
 (1<<8)

	)

247 
	#Buâ⁄2Mask
 (1<<9)

	)

248 
	#Buâ⁄3Mask
 (1<<10)

	)

249 
	#Buâ⁄4Mask
 (1<<11)

	)

250 
	#Buâ⁄5Mask
 (1<<12)

	)

252 
	#AnyModifõr
 (1<<15Ë

	)

259 
	#Buâ⁄1
 1

	)

260 
	#Buâ⁄2
 2

	)

261 
	#Buâ⁄3
 3

	)

262 
	#Buâ⁄4
 4

	)

263 
	#Buâ⁄5
 5

	)

267 
	#NŸifyN‹mÆ
 0

	)

268 
	#NŸifyGøb
 1

	)

269 
	#NŸifyUngøb
 2

	)

270 
	#NŸifyWhûeGøbbed
 3

	)

272 
	#NŸifyHöt
 1

	)

276 
	#NŸifyAn˚°‹
 0

	)

277 
	#NŸifyVútuÆ
 1

	)

278 
	#NŸifyIn„ri‹
 2

	)

279 
	#NŸifyN⁄löór
 3

	)

280 
	#NŸifyN⁄löórVútuÆ
 4

	)

281 
	#NŸifyPoöãr
 5

	)

282 
	#NŸifyPoöãrRoŸ
 6

	)

283 
	#NŸifyDëaûN⁄e
 7

	)

287 
	#VisibûôyUnobscuªd
 0

	)

288 
	#VisibûôyP¨tüŒyObscuªd
 1

	)

289 
	#VisibûôyFuŒyObscuªd
 2

	)

293 
	#Pœ˚OnT›
 0

	)

294 
	#Pœ˚OnBŸtom
 1

	)

298 
	#FamûyI¡î√t
 0

	)

299 
	#FamûyDEC√t
 1

	)

300 
	#FamûyChaos
 2

	)

301 
	#FamûyI¡î√t6
 6

	)

304 
	#FamûySîvîI¡î¥ëed
 5

	)

308 
	#Pr›îtyNewVÆue
 0

	)

309 
	#Pr›îtyDñëe
 1

	)

313 
	#Cﬁ‹m≠Unö°ÆÀd
 0

	)

314 
	#Cﬁ‹m≠In°ÆÀd
 1

	)

318 
	#GøbModeSync
 0

	)

319 
	#GøbModeAsync
 1

	)

323 
	#GøbSuc˚ss
 0

	)

324 
	#AÃódyGøbbed
 1

	)

325 
	#GøbInvÆidTime
 2

	)

326 
	#GøbNŸVõwabÀ
 3

	)

327 
	#GøbFrozí
 4

	)

331 
	#AsyncPoöãr
 0

	)

332 
	#SyncPoöãr
 1

	)

333 
	#RïœyPoöãr
 2

	)

334 
	#AsyncKeybﬂrd
 3

	)

335 
	#SyncKeybﬂrd
 4

	)

336 
	#RïœyKeybﬂrd
 5

	)

337 
	#AsyncBŸh
 6

	)

338 
	#SyncBŸh
 7

	)

342 
	#RevîtToN⁄e
 ()
N⁄e


	)

343 
	#RevîtToPoöãrRoŸ
 ()
PoöãrRoŸ


	)

344 
	#RevîtToP¨ít
 2

	)

350 
	#Suc˚ss
 0

	)

351 
	#BadReque°
 1

	)

352 
	#BadVÆue
 2

	)

353 
	#BadWödow
 3

	)

354 
	#BadPixm≠
 4

	)

355 
	#BadAtom
 5

	)

356 
	#BadCurs‹
 6

	)

357 
	#BadF⁄t
 7

	)

358 
	#BadM©ch
 8

	)

359 
	#BadDøwabÀ
 9

	)

360 
	#BadAc˚ss
 10

	)

369 
	#BadAŒoc
 11

	)

370 
	#BadCﬁ‹
 12

	)

371 
	#BadGC
 13

	)

372 
	#BadIDChoi˚
 14

	)

373 
	#BadName
 15

	)

374 
	#BadLígth
 16

	)

375 
	#BadIm∂emíèti⁄
 17

	)

377 
	#Fú°Exãnsi⁄Eº‹
 128

	)

378 
	#La°Exãnsi⁄Eº‹
 255

	)

387 
	#I≈utOuçut
 1

	)

388 
	#I≈utO∆y
 2

	)

392 
	#CWBackPixm≠
 (1L<<0)

	)

393 
	#CWBackPixñ
 (1L<<1)

	)

394 
	#CWB‹dîPixm≠
 (1L<<2)

	)

395 
	#CWB‹dîPixñ
 (1L<<3)

	)

396 
	#CWBôGøvôy
 (1L<<4)

	)

397 
	#CWWöGøvôy
 (1L<<5)

	)

398 
	#CWBackögSt‹e
 (1L<<6)

	)

399 
	#CWBackögPœ√s
 (1L<<7)

	)

400 
	#CWBackögPixñ
 (1L<<8)

	)

401 
	#CWOvîrideRedúe˘
 (1L<<9)

	)

402 
	#CWSaveUndî
 (1L<<10)

	)

403 
	#CWEvítMask
 (1L<<11)

	)

404 
	#CWD⁄tPr›ag©e
 (1L<<12)

	)

405 
	#CWCﬁ‹m≠
 (1L<<13)

	)

406 
	#CWCurs‹
 (1L<<14)

	)

410 
	#CWX
 (1<<0)

	)

411 
	#CWY
 (1<<1)

	)

412 
	#CWWidth
 (1<<2)

	)

413 
	#CWHeight
 (1<<3)

	)

414 
	#CWB‹dîWidth
 (1<<4)

	)

415 
	#CWSiblög
 (1<<5)

	)

416 
	#CWSèckMode
 (1<<6)

	)

421 
	#F‹gëGøvôy
 0

	)

422 
	#N‹thWe°Gøvôy
 1

	)

423 
	#N‹thGøvôy
 2

	)

424 
	#N‹thEa°Gøvôy
 3

	)

425 
	#We°Gøvôy
 4

	)

426 
	#CíãrGøvôy
 5

	)

427 
	#Ea°Gøvôy
 6

	)

428 
	#SouthWe°Gøvôy
 7

	)

429 
	#SouthGøvôy
 8

	)

430 
	#SouthEa°Gøvôy
 9

	)

431 
	#SèticGøvôy
 10

	)

435 
	#Unm≠Gøvôy
 0

	)

439 
	#NŸU£ful
 0

	)

440 
	#WhíM≠≥d
 1

	)

441 
	#Always
 2

	)

445 
	#IsUnm≠≥d
 0

	)

446 
	#IsUnvõwabÀ
 1

	)

447 
	#IsVõwabÀ
 2

	)

451 
	#SëModeIn£π
 0

	)

452 
	#SëModeDñëe
 1

	)

456 
	#De°royAŒ
 0

	)

457 
	#RëaöPîm™ít
 1

	)

458 
	#RëaöTemp‹¨y
 2

	)

462 
	#Above
 0

	)

463 
	#Bñow
 1

	)

464 
	#T›If
 2

	)

465 
	#BŸtomIf
 3

	)

466 
	#Oµosôe
 4

	)

470 
	#Rai£Lowe°
 0

	)

471 
	#LowîHighe°
 1

	)

475 
	#Pr›ModeRïœ˚
 0

	)

476 
	#Pr›ModePª≥nd
 1

	)

477 
	#Pr›ModeAµíd
 2

	)

485 
	#GX˛ór
 0x0

	)

486 
	#GX™d
 0x1

	)

487 
	#GX™dRevî£
 0x2

	)

488 
	#GXc›y
 0x3

	)

489 
	#GX™dInvîãd
 0x4

	)

490 
	#GXno›
 0x5

	)

491 
	#GXx‹
 0x6

	)

492 
	#GX‹
 0x7

	)

493 
	#GXn‹
 0x8

	)

494 
	#GXequiv
 0x9

	)

495 
	#GXövît
 0x®

	)

496 
	#GX‹Revî£
 0xb

	)

497 
	#GXc›yInvîãd
 0x¯

	)

498 
	#GX‹Invîãd
 0xd

	)

499 
	#GX«nd
 0xê

	)

500 
	#GX£t
 0x‡

	)

504 
	#LöeSﬁid
 0

	)

505 
	#LöeOnOffDash
 1

	)

506 
	#LöeDoubÀDash
 2

	)

510 
	#C≠NŸLa°
 0

	)

511 
	#C≠Buâ
 1

	)

512 
	#C≠Round
 2

	)

513 
	#C≠Proje˘ög
 3

	)

517 
	#JoöMôî
 0

	)

518 
	#JoöRound
 1

	)

519 
	#JoöBevñ
 2

	)

523 
	#FûlSﬁid
 0

	)

524 
	#FûlTûed
 1

	)

525 
	#FûlStù∂ed
 2

	)

526 
	#FûlO∑queStù∂ed
 3

	)

530 
	#EvíOddRuÀ
 0

	)

531 
	#WödögRuÀ
 1

	)

535 
	#ClùByChûdªn
 0

	)

536 
	#In˛udeIn„ri‹s
 1

	)

540 
	#Uns‹ãd
 0

	)

541 
	#YS‹ãd
 1

	)

542 
	#YXS‹ãd
 2

	)

543 
	#YXB™ded
 3

	)

547 
	#Co‹dModeOrigö
 0

	)

548 
	#Co‹dModePªvious
 1

	)

552 
	#Com∂ex
 0

	)

553 
	#N⁄c⁄vex
 1

	)

554 
	#C⁄vex
 2

	)

558 
	#ArcCh‹d
 0

	)

559 
	#ArcPõSli˚
 1

	)

564 
	#GCFun˘i⁄
 (1L<<0)

	)

565 
	#GCPœ√Mask
 (1L<<1)

	)

566 
	#GCF‹eground
 (1L<<2)

	)

567 
	#GCBackground
 (1L<<3)

	)

568 
	#GCLöeWidth
 (1L<<4)

	)

569 
	#GCLöeStyÀ
 (1L<<5)

	)

570 
	#GCC≠StyÀ
 (1L<<6)

	)

571 
	#GCJoöStyÀ
 (1L<<7)

	)

572 
	#GCFûlStyÀ
 (1L<<8)

	)

573 
	#GCFûlRuÀ
 (1L<<9)

	)

574 
	#GCTûe
 (1L<<10)

	)

575 
	#GCStù∂e
 (1L<<11)

	)

576 
	#GCTûeStùXOrigö
 (1L<<12)

	)

577 
	#GCTûeStùYOrigö
 (1L<<13)

	)

578 
	#GCF⁄t
 (1L<<14)

	)

579 
	#GCSubwödowMode
 (1L<<15)

	)

580 
	#GCGøphicsExposuªs
 (1L<<16)

	)

581 
	#GCClùXOrigö
 (1L<<17)

	)

582 
	#GCClùYOrigö
 (1L<<18)

	)

583 
	#GCClùMask
 (1L<<19)

	)

584 
	#GCDashOff£t
 (1L<<20)

	)

585 
	#GCDashLi°
 (1L<<21)

	)

586 
	#GCArcMode
 (1L<<22)

	)

588 
	#GCLa°Bô
 22

	)

595 
	#F⁄tLe·ToRight
 0

	)

596 
	#F⁄tRightToLe·
 1

	)

598 
	#F⁄tCh™ge
 255

	)

606 
	#XYBôm≠
 0

	)

607 
	#XYPixm≠
 1

	)

608 
	#ZPixm≠
 2

	)

616 
	#AŒocN⁄e
 0

	)

617 
	#AŒocAŒ
 1

	)

622 
	#DoRed
 (1<<0)

	)

623 
	#DoGªí
 (1<<1)

	)

624 
	#DoBlue
 (1<<2)

	)

632 
	#Curs‹Sh≠e
 0

	)

633 
	#TûeSh≠e
 1

	)

634 
	#Stù∂eSh≠e
 2

	)

640 
	#AutoRïótModeOff
 0

	)

641 
	#AutoRïótModeOn
 1

	)

642 
	#AutoRïótModeDeÁu…
 2

	)

644 
	#LedModeOff
 0

	)

645 
	#LedModeOn
 1

	)

649 
	#KBKeyClickPî˚¡
 (1L<<0)

	)

650 
	#KBBñlPî˚¡
 (1L<<1)

	)

651 
	#KBBñlPôch
 (1L<<2)

	)

652 
	#KBBñlDuøti⁄
 (1L<<3)

	)

653 
	#KBLed
 (1L<<4)

	)

654 
	#KBLedMode
 (1L<<5)

	)

655 
	#KBKey
 (1L<<6)

	)

656 
	#KBAutoRïótMode
 (1L<<7)

	)

658 
	#M≠pögSuc˚ss
 0

	)

659 
	#M≠pögBusy
 1

	)

660 
	#M≠pögFaûed
 2

	)

662 
	#M≠pögModifõr
 0

	)

663 
	#M≠pögKeybﬂrd
 1

	)

664 
	#M≠pögPoöãr
 2

	)

670 
	#D⁄tPª„rBœnkög
 0

	)

671 
	#Pª„rBœnkög
 1

	)

672 
	#DeÁu…Bœnkög
 2

	)

674 
	#DißbÀS¸ìnSavî
 0

	)

675 
	#DißbÀS¸ìnI¡îvÆ
 0

	)

677 
	#D⁄tAŒowExposuªs
 0

	)

678 
	#AŒowExposuªs
 1

	)

679 
	#DeÁu…Exposuªs
 2

	)

683 
	#S¸ìnSavîRe£t
 0

	)

684 
	#S¸ìnSavîA˘ive
 1

	)

692 
	#Ho°In£π
 0

	)

693 
	#Ho°Dñëe
 1

	)

697 
	#E«bÀAc˚ss
 1

	)

698 
	#DißbÀAc˚ss
 0

	)

704 
	#SèticGøy
 0

	)

705 
	#GøySˇÀ
 1

	)

706 
	#SèticCﬁ‹
 2

	)

707 
	#P£udoCﬁ‹
 3

	)

708 
	#TrueCﬁ‹
 4

	)

709 
	#Dúe˘Cﬁ‹
 5

	)

714 
	#LSBFú°
 0

	)

715 
	#MSBFú°
 1

	)

	@/usr/include/X11/Xfuncproto.h

30 #i‚de‡
_XFUNCPROTO_H_


31 
	#_XFUNCPROTO_H_


	)

33 #i‚de‡
NìdFun˘i⁄PrŸŸy≥s


34 
	#NìdFun˘i⁄PrŸŸy≥s
 1

	)

37 #i‚de‡
NìdV¨¨gsPrŸŸy≥s


38 
	#NìdV¨¨gsPrŸŸy≥s
 1

	)

41 #i‡
NìdFun˘i⁄PrŸŸy≥s


43 #i‚de‡
NìdNe°edPrŸŸy≥s


44 
	#NìdNe°edPrŸŸy≥s
 1

	)

47 #i‚de‡
_Xc⁄°


48 
	#_Xc⁄°
 c⁄°

	)

52 #i‚de‡
NARROWPROTO


53 
	#NARROWPROTO


	)

55 #i‚de‡
FUNCPROTO


56 
	#FUNCPROTO
 15

	)

59 #i‚de‡
NìdWidePrŸŸy≥s


60 #ifde‡
NARROWPROTO


61 
	#NìdWidePrŸŸy≥s
 0

	)

63 
	#NìdWidePrŸŸy≥s
 1

	)

69 #i‚de‡
_XFUNCPROTOBEGIN


70 #i‡
deföed
(
__˝lu•lus
Ë|| deföed(
c_∂u•lus
)

71 
	#_XFUNCPROTOBEGIN
 "C" {

	)

72 
	#_XFUNCPROTOEND
 }

	)

74 
	#_XFUNCPROTOBEGIN


	)

75 
	#_XFUNCPROTOEND


	)

80 #i‡
deföed
(
__GNUC__
) && (__GNUC__ >= 4)

81 
	#_X_SENTINEL
(
x
Ë
	`__©åibuã__
 ((
	`__£¡öñ__
(x)))

	)

83 
	#_X_SENTINEL
(
x
)

	)

87 #i‡
deföed
(
__GNUC__
Ë&& (__GNUC__ >4Ë&& !deföed(
__CYGWIN__
)

88 
	#_X_EXPORT
 
	`__©åibuã__
((
	`visibûôy
("deÁu…")))

	)

89 
	#_X_HIDDEN
 
	`__©åibuã__
((
	`visibûôy
("hiddí")))

	)

90 
	#_X_INTERNAL
 
	`__©åibuã__
((
	`visibûôy
("öã∫Æ")))

	)

91 #ñi‡
deföed
(
__SUNPRO_C
) && (__SUNPRO_C >= 0x550)

92 
	#_X_EXPORT
 
__globÆ


	)

93 
	#_X_HIDDEN
 
__hiddí


	)

94 
	#_X_INTERNAL
 
__hiddí


	)

96 
	#_X_EXPORT


	)

97 
	#_X_HIDDEN


	)

98 
	#_X_INTERNAL


	)

102 #i‡
deföed
(
__GNUC__
Ë&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 303)

103 
	#_X_LIKELY
(
x
Ë
	`__buûtö_ex≥˘
(!!(x), 1)

	)

104 
	#_X_UNLIKELY
(
x
Ë
	`__buûtö_ex≥˘
(!!(x), 0)

	)

106 
	#_X_LIKELY
(
x
Ë(x)

	)

107 
	#_X_UNLIKELY
(
x
Ë(x)

	)

111 #i‡
deföed
(
__GNUC__
Ë&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 301)

112 
	#_X_DEPRECATED
 
	`__©åibuã__
((
dïªˇãd
))

	)

114 
	#_X_DEPRECATED


	)

118 #i‡(
deföed
(
__GNUC__
Ë&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 205)) \

119 || (
deföed
(
__SUNPRO_C
) && (__SUNPRO_C >= 0x590))

120 
	#_X_NORETURN
 
	`__©åibuã
((
n‹ëu∫
))

	)

122 
	#_X_NORETURN


	)

126 #i‡
deföed
(
__GNUC__
Ë&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 203)

127 
	#_X_ATTRIBUTE_PRINTF
(
x
,
y
Ë
	`__©åibuã__
((
	`__f‹m©__
(
__¥ötf__
,x,y)))

	)

129 
	#_X_ATTRIBUTE_PRINTF
(
x
,
y
)

	)

133 #i‡
deföed
(
__GNUC__
Ë&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 303)

134 
	#_X_NONNULL
(
¨gs
...Ë
	`__©åibuã__
((
	`n⁄nuŒ
◊rgs)))

	)

136 
	#_X_NONNULL
(...Ë

	)

140 #i‡
deföed
(
__GNUC__
Ë&& ((__GNUC__ * 100 + 
__GNUC_MINOR__
) >= 205)

141 
	#_X_UNUSED
 
	`__©åibuã__
((
__unu£d__
))

	)

143 
	#_X_UNUSED


	)

149 #i‡
deföed
(
ölöe
) || \

150 (
deföed
(
__STDC_VERSION__
) && (__STDC_VERSION__ - 0 >= 199901L)) || \

151 (
deföed
(
__SUNPRO_C
) && (__SUNPRO_C >= 0x550))

152 
	#_X_INLINE
 
ölöe


	)

153 #ñi‡
deföed
(
__GNUC__
Ë&& !deföed(
__STRICT_ANSI__
)

154 
	#_X_INLINE
 
__ölöe__


	)

156 
	#_X_INLINE


	)

161 #i‚de‡
_X_RESTRICT_KYWD


162 #i‡
deföed
(
ª°ri˘
) || \

163 (
deföed
(
__STDC_VERSION__
) && (__STDC_VERSION__ - 0 >= 199901L))

164 
	#_X_RESTRICT_KYWD
 
ª°ri˘


	)

165 #ñi‡
deföed
(
__GNUC__
Ë&& !deföed(
__STRICT_ANSI__
)

166 
	#_X_RESTRICT_KYWD
 
__ª°ri˘__


	)

168 
	#_X_RESTRICT_KYWD


	)

	@/usr/include/X11/Xosdefs.h

27 #i‚de‡
_XOSDEFS_H_


28 
	#_XOSDEFS_H_


	)

37 #ifde‡
_SCO_DS


38 #i‚de‡
__SCO__


39 
	#__SCO__


	)

43 #ifde‡
__i386__


44 #ifde‡
SYSV


45 #i‡!
deföed
(
__SCO__
) && \

46 !
deföed
(
__UNIXWARE__
Ë&& !
	$deföed
(
__sun
)

47 #i‡!
	`deföed
(
_POSIX_SOURCE
)

48 
	#X_NOT_POSIX


	)

54 #ifde‡
__sun


58 #i‡
	`deföed
(
__SVR4
Ë&& !deföed(
SVR4
)

59 
	#SVR4
 1

	)

61 #ifde‡
SVR4


63 
	#X_POSIX_C_SOURCE
 199300L

	)

67 #ifde‡
WIN32


68 #i‚de‡
_POSIX_


69 
	#X_NOT_POSIX


	)

74 #ifde‡
__APPLE__


75 
	#NULL_NOT_ZERO


	)

82 #i‡
	`deföed
(
_XOPEN_SOURCE
Ë|| deföed(
_POSIX_SOURCE
Ë|| deföed(
_POSIX_C_SOURCE
)

83 #i‚de‡
_DARWIN_C_SOURCE


84 
	#_DARWIN_C_SOURCE


	)

90 #ifde‡
__GNU__


91 #i‚de‡
PATH_MAX


92 
	#PATH_MAX
 4096

	)

94 #i‚de‡
MAXPATHLEN


95 
	#MAXPATHLEN
 4096

	)

99 #i‡
	`deföed
(
__SCO__
Ë|| deföed(
__UNIXWARE__
)

100 #i‚de‡
PATH_MAX


101 
	#PATH_MAX
 1024

	)

103 #i‚de‡
MAXPATHLEN


104 
	#MAXPATHLEN
 1024

	)

108 #i‡
	`deföed
(
__O≥nBSD__
Ë|| deföed(
__NëBSD__
Ë|| deföed(
__FªeBSD__
) \

109 || 
	`deföed
(
__APPLE__
Ë|| 
	$deföed
(
__Døg⁄Fly__
)

110 #i‚de‡
CSRG_BASED


111 
	#CSRG_BASED


	)

	@/usr/include/X11/extensions/Xrender.h

25 #i‚de‡
_XRENDER_H_


26 
	#_XRENDER_H_


	)

28 
	~<X11/Xlib.h
>

29 
	~<X11/Xfun˝rŸo.h
>

30 
	~<X11/Xosdefs.h
>

31 
	~<X11/Xutû.h
>

33 
	~<X11/exãnsi⁄s/ªndî.h
>

36 
	mªd
;

37 
	mªdMask
;

38 
	mgªí
;

39 
	mgªíMask
;

40 
	mblue
;

41 
	mblueMask
;

42 
	mÆpha
;

43 
	mÆphaMask
;

44 } 
	tXRídîDúe˘F‹m©
;

47 
Pi˘F‹m©
 
	mid
;

48 
	mty≥
;

49 
	mdïth
;

50 
XRídîDúe˘F‹m©
 
	mdúe˘
;

51 
Cﬁ‹m≠
 
	mcﬁ‹m≠
;

52 } 
	tXRídîPi˘F‹m©
;

54 
	#Pi˘F‹m©ID
 (1 << 0)

	)

55 
	#Pi˘F‹m©Ty≥
 (1 << 1)

	)

56 
	#Pi˘F‹m©Dïth
 (1 << 2)

	)

57 
	#Pi˘F‹m©Red
 (1 << 3)

	)

58 
	#Pi˘F‹m©RedMask
 (1 << 4)

	)

59 
	#Pi˘F‹m©Gªí
 (1 << 5)

	)

60 
	#Pi˘F‹m©GªíMask
 (1 << 6)

	)

61 
	#Pi˘F‹m©Blue
 (1 << 7)

	)

62 
	#Pi˘F‹m©BlueMask
 (1 << 8)

	)

63 
	#Pi˘F‹m©AÕha
 (1 << 9)

	)

64 
	#Pi˘F‹m©AÕhaMask
 (1 << 10)

	)

65 
	#Pi˘F‹m©Cﬁ‹m≠
 (1 << 11)

	)

67 
	s_XRídîPi˘uªAâribuãs
 {

68 
	mª≥©
;

69 
Pi˘uª
 
	mÆpha_m≠
;

70 
	mÆpha_x_‹igö
;

71 
	mÆpha_y_‹igö
;

72 
	m˛ù_x_‹igö
;

73 
	m˛ù_y_‹igö
;

74 
Pixm≠
 
	m˛ù_mask
;

75 
Boﬁ
 
	mgøphics_exposuªs
;

76 
	msubwödow_mode
;

77 
	mpﬁy_edge
;

78 
	mpﬁy_mode
;

79 
Atom
 
	mdôhî
;

80 
Boﬁ
 
	mcomp⁄ít_Æpha
;

81 } 
	tXRídîPi˘uªAâribuãs
;

84 
	mªd
;

85 
	mgªí
;

86 
	mblue
;

87 
	mÆpha
;

88 } 
	tXRídîCﬁ‹
;

90 
	s_XGlyphInfo
 {

91 
	mwidth
;

92 
	mheight
;

93 
	mx
;

94 
	my
;

95 
	mxOff
;

96 
	myOff
;

97 } 
	tXGlyphInfo
;

99 
	s_XGlyphE…8
 {

100 
GlyphSë
 
	mglyph£t
;

101 
_Xc⁄°
 *
	mch¨s
;

102 
	mnch¨s
;

103 
	mxOff
;

104 
	myOff
;

105 } 
	tXGlyphE…8
;

107 
	s_XGlyphE…16
 {

108 
GlyphSë
 
	mglyph£t
;

109 
_Xc⁄°
 *
	mch¨s
;

110 
	mnch¨s
;

111 
	mxOff
;

112 
	myOff
;

113 } 
	tXGlyphE…16
;

115 
	s_XGlyphE…32
 {

116 
GlyphSë
 
	mglyph£t
;

117 
_Xc⁄°
 *
	mch¨s
;

118 
	mnch¨s
;

119 
	mxOff
;

120 
	myOff
;

121 } 
	tXGlyphE…32
;

123 
	tXDoubÀ
;

125 
	s_XPoötDoubÀ
 {

126 
XDoubÀ
 
	mx
, 
	my
;

127 } 
	tXPoötDoubÀ
;

129 
	#XDoubÀToFixed
(
f
Ë((
XFixed
Ë((fË* 65536))

	)

130 
	#XFixedToDoubÀ
(
f
Ë(((
XDoubÀ
Ë(f)Ë/ 65536)

	)

132 
	tXFixed
;

134 
	s_XPoötFixed
 {

135 
XFixed
 
	mx
, 
	my
;

136 } 
	tXPoötFixed
;

138 
	s_XLöeFixed
 {

139 
XPoötFixed
 
	mp1
, 
	mp2
;

140 } 
	tXLöeFixed
;

142 
	s_XTrüngÀ
 {

143 
XPoötFixed
 
	mp1
, 
	mp2
, 
	mp3
;

144 } 
	tXTrüngÀ
;

146 
	s_XCú˛e
 {

147 
XFixed
 
	mx
;

148 
XFixed
 
	my
;

149 
XFixed
 
	mødius
;

150 } 
	tXCú˛e
;

152 
	s_XTø≥zoid
 {

153 
XFixed
 
	mt›
, 
	mbŸtom
;

154 
XLöeFixed
 
	mÀ·
, 
	mright
;

155 } 
	tXTø≥zoid
;

157 
	s_XTønsf‹m
 {

158 
XFixed
 
	mm©rix
[3][3];

159 } 
	tXTønsf‹m
;

161 
	s_XFûãrs
 {

162 
	mnfûãr
;

163 **
	mfûãr
;

164 
	m«lüs
;

165 *
	mÆüs
;

166 } 
	tXFûãrs
;

168 
	s_XIndexVÆue
 {

169 
	mpixñ
;

170 
	mªd
, 
	mgªí
, 
	mblue
, 
	mÆpha
;

171 } 
	tXIndexVÆue
;

173 
	s_XAnimCurs‹
 {

174 
Curs‹
 
	mcurs‹
;

175 
	mdñay
;

176 } 
	tXAnimCurs‹
;

178 
	s_XS∑nFix
 {

179 
XFixed
 
	mÀ·
, 
	mright
, 
	my
;

180 } 
	tXS∑nFix
;

182 
	s_XTøp
 {

183 
XS∑nFix
 
	mt›
, 
	mbŸtom
;

184 } 
	tXTøp
;

186 
	s_XLöórGødõ¡
 {

187 
XPoötFixed
 
	mp1
;

188 
XPoötFixed
 
	mp2
;

189 } 
	tXLöórGødõ¡
;

191 
	s_XRadülGødõ¡
 {

192 
XCú˛e
 
	mö√r
;

193 
XCú˛e
 
	mouãr
;

194 } 
	tXRadülGødõ¡
;

196 
	s_XC⁄iˇlGødõ¡
 {

197 
XPoötFixed
 
	m˚¡î
;

198 
XFixed
 
	m™gÀ
;

199 } 
	tXC⁄iˇlGødõ¡
;

201 
_XFUNCPROTOBEGIN


203 
Boﬁ
 
XRídîQuîyExãnsi⁄
 (
Di•œy
 *
dpy
, *
evít_ba£p
, *
îr‹_ba£p
);

205 
Sètus
 
XRídîQuîyVîsi⁄
 (
Di•œy
 *
dpy
,

206 *
maj‹_vîsi⁄p
,

207 *
mö‹_vîsi⁄p
);

209 
Sètus
 
XRídîQuîyF‹m©s
 (
Di•œy
 *
dpy
);

211 
XRídîQuîySubpixñOrdî
 (
Di•œy
 *
dpy
, 
s¸ìn
);

213 
Boﬁ
 
XRídîSëSubpixñOrdî
 (
Di•œy
 *
dpy
, 
s¸ìn
, 
subpixñ
);

215 
XRídîPi˘F‹m©
 *

216 
XRídîFödVisuÆF‹m©
 (
Di•œy
 *
dpy
, 
_Xc⁄°
 
VisuÆ
 *
visuÆ
);

218 
XRídîPi˘F‹m©
 *

219 
XRídîFödF‹m©
 (
Di•œy
 *
dpy
,

220 
mask
,

221 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
ãm∂
,

222 
cou¡
);

224 
	#Pi˘Sènd¨dARGB32
 0

	)

225 
	#Pi˘Sènd¨dRGB24
 1

	)

226 
	#Pi˘Sènd¨dA8
 2

	)

227 
	#Pi˘Sènd¨dA4
 3

	)

228 
	#Pi˘Sènd¨dA1
 4

	)

229 
	#Pi˘Sènd¨dNUM
 5

	)

231 
XRídîPi˘F‹m©
 *

232 
XRídîFödSènd¨dF‹m©
 (
Di•œy
 *
dpy
,

233 
f‹m©
);

235 
XIndexVÆue
 *

236 
XRídîQuîyPi˘IndexVÆues
(
Di•œy
 *
dpy
,

237 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
f‹m©
,

238 *
num
);

240 
Pi˘uª


241 
XRídîCª©ePi˘uª
 (
Di•œy
 *
dpy
,

242 
DøwabÀ
 
døwabÀ
,

243 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
f‹m©
,

244 
vÆuemask
,

245 
_Xc⁄°
 
XRídîPi˘uªAâribuãs
 *
©åibuãs
);

248 
XRídîCh™gePi˘uª
 (
Di•œy
 *
dpy
,

249 
Pi˘uª
 
pi˘uª
,

250 
vÆuemask
,

251 
_Xc⁄°
 
XRídîPi˘uªAâribuãs
 *
©åibuãs
);

254 
XRídîSëPi˘uªClùRe˘™gÀs
 (
Di•œy
 *
dpy
,

255 
Pi˘uª
 
pi˘uª
,

256 
xOrigö
,

257 
yOrigö
,

258 
_Xc⁄°
 
XRe˘™gÀ
 *
ª˘s
,

259 
n
);

262 
XRídîSëPi˘uªClùRegi⁄
 (
Di•œy
 *
dpy
,

263 
Pi˘uª
 
pi˘uª
,

264 
Regi⁄
 
r
);

267 
XRídîSëPi˘uªTønsf‹m
 (
Di•œy
 *
dpy
,

268 
Pi˘uª
 
pi˘uª
,

269 
XTønsf‹m
 *
å™sf‹m
);

272 
XRídîFªePi˘uª
 (
Di•œy
 *
dpy
,

273 
Pi˘uª
 
pi˘uª
);

276 
XRídîComposôe
 (
Di•œy
 *
dpy
,

277 
›
,

278 
Pi˘uª
 
§c
,

279 
Pi˘uª
 
mask
,

280 
Pi˘uª
 
d°
,

281 
§c_x
,

282 
§c_y
,

283 
mask_x
,

284 
mask_y
,

285 
d°_x
,

286 
d°_y
,

287 
width
,

288 
height
);

290 
GlyphSë


291 
XRídîCª©eGlyphSë
 (
Di•œy
 *
dpy
, 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
f‹m©
);

293 
GlyphSë


294 
XRídîRe„ªn˚GlyphSë
 (
Di•œy
 *
dpy
, 
GlyphSë
 
exi°ög
);

297 
XRídîFªeGlyphSë
 (
Di•œy
 *
dpy
, 
GlyphSë
 
glyph£t
);

300 
XRídîAddGlyphs
 (
Di•œy
 *
dpy
,

301 
GlyphSë
 
glyph£t
,

302 
_Xc⁄°
 
Glyph
 *
gids
,

303 
_Xc⁄°
 
XGlyphInfo
 *
glyphs
,

304 
nglyphs
,

305 
_Xc⁄°
 *
images
,

306 
nbyã_images
);

309 
XRídîFªeGlyphs
 (
Di•œy
 *
dpy
,

310 
GlyphSë
 
glyph£t
,

311 
_Xc⁄°
 
Glyph
 *
gids
,

312 
nglyphs
);

315 
XRídîComposôeSåög8
 (
Di•œy
 *
dpy
,

316 
›
,

317 
Pi˘uª
 
§c
,

318 
Pi˘uª
 
d°
,

319 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

320 
GlyphSë
 
glyph£t
,

321 
xSrc
,

322 
ySrc
,

323 
xD°
,

324 
yD°
,

325 
_Xc⁄°
 *
°rög
,

326 
nch¨
);

329 
XRídîComposôeSåög16
 (
Di•œy
 *
dpy
,

330 
›
,

331 
Pi˘uª
 
§c
,

332 
Pi˘uª
 
d°
,

333 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

334 
GlyphSë
 
glyph£t
,

335 
xSrc
,

336 
ySrc
,

337 
xD°
,

338 
yD°
,

339 
_Xc⁄°
 *
°rög
,

340 
nch¨
);

343 
XRídîComposôeSåög32
 (
Di•œy
 *
dpy
,

344 
›
,

345 
Pi˘uª
 
§c
,

346 
Pi˘uª
 
d°
,

347 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

348 
GlyphSë
 
glyph£t
,

349 
xSrc
,

350 
ySrc
,

351 
xD°
,

352 
yD°
,

353 
_Xc⁄°
 *
°rög
,

354 
nch¨
);

357 
XRídîComposôeText8
 (
Di•œy
 *
dpy
,

358 
›
,

359 
Pi˘uª
 
§c
,

360 
Pi˘uª
 
d°
,

361 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

362 
xSrc
,

363 
ySrc
,

364 
xD°
,

365 
yD°
,

366 
_Xc⁄°
 
XGlyphE…8
 *
ñts
,

367 
√…
);

370 
XRídîComposôeText16
 (
Di•œy
 *
dpy
,

371 
›
,

372 
Pi˘uª
 
§c
,

373 
Pi˘uª
 
d°
,

374 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

375 
xSrc
,

376 
ySrc
,

377 
xD°
,

378 
yD°
,

379 
_Xc⁄°
 
XGlyphE…16
 *
ñts
,

380 
√…
);

383 
XRídîComposôeText32
 (
Di•œy
 *
dpy
,

384 
›
,

385 
Pi˘uª
 
§c
,

386 
Pi˘uª
 
d°
,

387 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

388 
xSrc
,

389 
ySrc
,

390 
xD°
,

391 
yD°
,

392 
_Xc⁄°
 
XGlyphE…32
 *
ñts
,

393 
√…
);

396 
XRídîFûlRe˘™gÀ
 (
Di•œy
 *
dpy
,

397 
›
,

398 
Pi˘uª
 
d°
,

399 
_Xc⁄°
 
XRídîCﬁ‹
 *
cﬁ‹
,

400 
x
,

401 
y
,

402 
width
,

403 
height
);

406 
XRídîFûlRe˘™gÀs
 (
Di•œy
 *
dpy
,

407 
›
,

408 
Pi˘uª
 
d°
,

409 
_Xc⁄°
 
XRídîCﬁ‹
 *
cﬁ‹
,

410 
_Xc⁄°
 
XRe˘™gÀ
 *
ª˘™gÀs
,

411 
n_ª˘s
);

414 
XRídîComposôeTø≥zoids
 (
Di•œy
 *
dpy
,

415 
›
,

416 
Pi˘uª
 
§c
,

417 
Pi˘uª
 
d°
,

418 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

419 
xSrc
,

420 
ySrc
,

421 
_Xc⁄°
 
XTø≥zoid
 *
å≠s
,

422 
¡øp
);

425 
XRídîComposôeTrüngÀs
 (
Di•œy
 *
dpy
,

426 
›
,

427 
Pi˘uª
 
§c
,

428 
Pi˘uª
 
d°
,

429 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

430 
xSrc
,

431 
ySrc
,

432 
_Xc⁄°
 
XTrüngÀ
 *
åüngÀs
,

433 
¡rüngÀ
);

436 
XRídîComposôeTriSåù
 (
Di•œy
 *
dpy
,

437 
›
,

438 
Pi˘uª
 
§c
,

439 
Pi˘uª
 
d°
,

440 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

441 
xSrc
,

442 
ySrc
,

443 
_Xc⁄°
 
XPoötFixed
 *
poöts
,

444 
≈oöt
);

447 
XRídîComposôeTriF™
 (
Di•œy
 *
dpy
,

448 
›
,

449 
Pi˘uª
 
§c
,

450 
Pi˘uª
 
d°
,

451 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

452 
xSrc
,

453 
ySrc
,

454 
_Xc⁄°
 
XPoötFixed
 *
poöts
,

455 
≈oöt
);

458 
XRídîComposôeDoubÀPﬁy
 (
Di•œy
 *
dpy
,

459 
›
,

460 
Pi˘uª
 
§c
,

461 
Pi˘uª
 
d°
,

462 
_Xc⁄°
 
XRídîPi˘F‹m©
 *
maskF‹m©
,

463 
xSrc
,

464 
ySrc
,

465 
xD°
,

466 
yD°
,

467 
_Xc⁄°
 
XPoötDoubÀ
 *
Âoöts
,

468 
≈oöts
,

469 
wödög
);

470 
Sètus


471 
XRídîP¨£Cﬁ‹
(
Di•œy
 *
dpy
,

472 *
•ec
,

473 
XRídîCﬁ‹
 *
def
);

475 
Curs‹


476 
XRídîCª©eCurs‹
 (
Di•œy
 *
dpy
,

477 
Pi˘uª
 
sour˚
,

478 
x
,

479 
y
);

481 
XFûãrs
 *

482 
XRídîQuîyFûãrs
 (
Di•œy
 *
dpy
, 
DøwabÀ
 
døwabÀ
);

485 
XRídîSëPi˘uªFûãr
 (
Di•œy
 *
dpy
,

486 
Pi˘uª
 
pi˘uª
,

487 c⁄° *
fûãr
,

488 
XFixed
 *
∑øms
,

489 
≈¨ams
);

491 
Curs‹


492 
XRídîCª©eAnimCurs‹
 (
Di•œy
 *
dpy
,

493 
ncurs‹
,

494 
XAnimCurs‹
 *
curs‹s
);

498 
XRídîAddTøps
 (
Di•œy
 *
dpy
,

499 
Pi˘uª
 
pi˘uª
,

500 
xOff
,

501 
yOff
,

502 
_Xc⁄°
 
XTøp
 *
å≠s
,

503 
¡øp
);

505 
Pi˘uª
 
XRídîCª©eSﬁidFûl
 (
Di•œy
 *
dpy
,

506 c⁄° 
XRídîCﬁ‹
 *
cﬁ‹
);

508 
Pi˘uª
 
XRídîCª©eLöórGødõ¡
 (
Di•œy
 *
dpy
,

509 c⁄° 
XLöórGødõ¡
 *
gødõ¡
,

510 c⁄° 
XFixed
 *
°›s
,

511 c⁄° 
XRídîCﬁ‹
 *
cﬁ‹s
,

512 
n°›s
);

514 
Pi˘uª
 
XRídîCª©eRadülGødõ¡
 (
Di•œy
 *
dpy
,

515 c⁄° 
XRadülGødõ¡
 *
gødõ¡
,

516 c⁄° 
XFixed
 *
°›s
,

517 c⁄° 
XRídîCﬁ‹
 *
cﬁ‹s
,

518 
n°›s
);

520 
Pi˘uª
 
XRídîCª©eC⁄iˇlGødõ¡
 (
Di•œy
 *
dpy
,

521 c⁄° 
XC⁄iˇlGødõ¡
 *
gødõ¡
,

522 c⁄° 
XFixed
 *
°›s
,

523 c⁄° 
XRídîCﬁ‹
 *
cﬁ‹s
,

524 
n°›s
);

526 
	g_XFUNCPROTOEND


	@/usr/include/X11/extensions/randr.h

29 #i‚de‡
_RANDR_H_


30 
	#_RANDR_H_


	)

32 
	tRŸ©i⁄
;

33 
	tSizeID
;

34 
	tSubpixñOrdî
;

35 
	tC⁄√˘i⁄
;

36 
	tXR™drRŸ©i⁄
;

37 
	tXR™drSizeID
;

38 
	tXR™drSubpixñOrdî
;

39 
	tXR™drModeFœgs
;

41 
	#RANDR_NAME
 "RANDR"

	)

42 
	#RANDR_MAJOR
 1

	)

43 
	#RANDR_MINOR
 4

	)

45 
	#RRNumbîEº‹s
 4

	)

46 
	#RRNumbîEvíts
 2

	)

47 
	#RRNumbîReque°s
 42

	)

49 
	#X_RRQuîyVîsi⁄
 0

	)

51 
	#X_RROldGëS¸ìnInfo
 1

	)

52 
	#X_RR1_0SëS¸ìnC⁄fig
 2

	)

54 
	#X_RRSëS¸ìnC⁄fig
 2

	)

55 
	#X_RROldS¸ìnCh™geSñe˘I≈ut
 3

	)

57 
	#X_RRSñe˘I≈ut
 4

	)

58 
	#X_RRGëS¸ìnInfo
 5

	)

61 
	#X_RRGëS¸ìnSizeR™ge
 6

	)

62 
	#X_RRSëS¸ìnSize
 7

	)

63 
	#X_RRGëS¸ìnResour˚s
 8

	)

64 
	#X_RRGëOuçutInfo
 9

	)

65 
	#X_RRLi°OuçutPr›îtõs
 10

	)

66 
	#X_RRQuîyOuçutPr›îty
 11

	)

67 
	#X_RRC⁄figuªOuçutPr›îty
 12

	)

68 
	#X_RRCh™geOuçutPr›îty
 13

	)

69 
	#X_RRDñëeOuçutPr›îty
 14

	)

70 
	#X_RRGëOuçutPr›îty
 15

	)

71 
	#X_RRCª©eMode
 16

	)

72 
	#X_RRDe°royMode
 17

	)

73 
	#X_RRAddOuçutMode
 18

	)

74 
	#X_RRDñëeOuçutMode
 19

	)

75 
	#X_RRGëCπcInfo
 20

	)

76 
	#X_RRSëCπcC⁄fig
 21

	)

77 
	#X_RRGëCπcGammaSize
 22

	)

78 
	#X_RRGëCπcGamma
 23

	)

79 
	#X_RRSëCπcGamma
 24

	)

82 
	#X_RRGëS¸ìnResour˚sCuºít
 25

	)

83 
	#X_RRSëCπcTønsf‹m
 26

	)

84 
	#X_RRGëCπcTønsf‹m
 27

	)

85 
	#X_RRGëP™nög
 28

	)

86 
	#X_RRSëP™nög
 29

	)

87 
	#X_RRSëOuçutPrim¨y
 30

	)

88 
	#X_RRGëOuçutPrim¨y
 31

	)

90 
	#RRTønsf‹mUnô
 (1L << 0)

	)

91 
	#RRTønsf‹mSˇÀUp
 (1L << 1)

	)

92 
	#RRTønsf‹mSˇÀDown
 (1L << 2)

	)

93 
	#RRTønsf‹mProje˘ive
 (1L << 3)

	)

96 
	#X_RRGëProvidîs
 32

	)

97 
	#X_RRGëProvidîInfo
 33

	)

98 
	#X_RRSëProvidîOfÊﬂdSök
 34

	)

99 
	#X_RRSëProvidîOuçutSour˚
 35

	)

100 
	#X_RRLi°ProvidîPr›îtõs
 36

	)

101 
	#X_RRQuîyProvidîPr›îty
 37

	)

102 
	#X_RRC⁄figuªProvidîPr›îty
 38

	)

103 
	#X_RRCh™geProvidîPr›îty
 39

	)

104 
	#X_RRDñëeProvidîPr›îty
 40

	)

105 
	#X_RRGëProvidîPr›îty
 41

	)

108 
	#RRS¸ìnCh™geNŸifyMask
 (1L << 0)

	)

110 
	#RRCπcCh™geNŸifyMask
 (1L << 1)

	)

111 
	#RROuçutCh™geNŸifyMask
 (1L << 2)

	)

112 
	#RROuçutPr›îtyNŸifyMask
 (1L << 3)

	)

114 
	#RRProvidîCh™geNŸifyMask
 (1L << 4)

	)

115 
	#RRProvidîPr›îtyNŸifyMask
 (1L << 5)

	)

116 
	#RRResour˚Ch™geNŸifyMask
 (1L << 6)

	)

119 
	#RRS¸ìnCh™geNŸify
 0

	)

121 
	#RRNŸify
 1

	)

123 
	#RRNŸify_CπcCh™ge
 0

	)

124 
	#RRNŸify_OuçutCh™ge
 1

	)

125 
	#RRNŸify_OuçutPr›îty
 2

	)

126 
	#RRNŸify_ProvidîCh™ge
 3

	)

127 
	#RRNŸify_ProvidîPr›îty
 4

	)

128 
	#RRNŸify_Resour˚Ch™ge
 5

	)

130 
	#RR_RŸ©e_0
 1

	)

131 
	#RR_RŸ©e_90
 2

	)

132 
	#RR_RŸ©e_180
 4

	)

133 
	#RR_RŸ©e_270
 8

	)

137 
	#RR_ReÊe˘_X
 16

	)

138 
	#RR_ReÊe˘_Y
 32

	)

140 
	#RRSëC⁄figSuc˚ss
 0

	)

141 
	#RRSëC⁄figInvÆidC⁄figTime
 1

	)

142 
	#RRSëC⁄figInvÆidTime
 2

	)

143 
	#RRSëC⁄figFaûed
 3

	)

147 
	#RR_HSyncPosôive
 0x00000001

	)

148 
	#RR_HSyncNeg©ive
 0x00000002

	)

149 
	#RR_VSyncPosôive
 0x00000004

	)

150 
	#RR_VSyncNeg©ive
 0x00000008

	)

151 
	#RR_I¡îœ˚
 0x00000010

	)

152 
	#RR_DoubÀSˇn
 0x00000020

	)

153 
	#RR_CSync
 0x00000040

	)

154 
	#RR_CSyncPosôive
 0x00000080

	)

155 
	#RR_CSyncNeg©ive
 0x00000100

	)

156 
	#RR_HSkewPª£¡
 0x00000200

	)

157 
	#RR_BCa°
 0x00000400

	)

158 
	#RR_PixñMu…ùÀx
 0x00000800

	)

159 
	#RR_DoubÀClock
 0x00001000

	)

160 
	#RR_ClockDivideBy2
 0x00002000

	)

162 
	#RR_C⁄√˘ed
 0

	)

163 
	#RR_Disc⁄√˘ed
 1

	)

164 
	#RR_UnknownC⁄√˘i⁄
 2

	)

166 
	#BadRROuçut
 0

	)

167 
	#BadRRCπc
 1

	)

168 
	#BadRRMode
 2

	)

169 
	#BadRRProvidî
 3

	)

173 
	#RR_PROPERTY_BACKLIGHT
 "Backlight"

	)

174 
	#RR_PROPERTY_RANDR_EDID
 "EDID"

	)

175 
	#RR_PROPERTY_SIGNAL_FORMAT
 "Sig«lF‹m©"

	)

176 
	#RR_PROPERTY_SIGNAL_PROPERTIES
 "Sig«lPr›îtõs"

	)

177 
	#RR_PROPERTY_CONNECTOR_TYPE
 "C⁄√˘‹Ty≥"

	)

178 
	#RR_PROPERTY_CONNECTOR_NUMBER
 "C⁄√˘‹Numbî"

	)

179 
	#RR_PROPERTY_COMPATIBILITY_LIST
 "Com∑tibûôyLi°"

	)

180 
	#RR_PROPERTY_CLONE_LIST
 "Cl⁄eLi°"

	)

181 
	#RR_PROPERTY_BORDER
 "B‹dî"

	)

182 
	#RR_PROPERTY_BORDER_DIMENSIONS
 "B‹dîDimísi⁄s"

	)

185 
	#RR_C≠abûôy_N⁄e
 0

	)

186 
	#RR_C≠abûôy_Sour˚Ouçut
 1

	)

187 
	#RR_C≠abûôy_SökOuçut
 2

	)

188 
	#RR_C≠abûôy_Sour˚OfÊﬂd
 4

	)

189 
	#RR_C≠abûôy_SökOfÊﬂd
 8

	)

	@/usr/include/X11/extensions/shm.h

29 #i‚de‡
_SHM_H_


30 
	#_SHM_H_


	)

32 
	#SHMNAME
 "MIT-SHM"

	)

34 
	#SHM_MAJOR_VERSION
 1

	)

35 
	#SHM_MINOR_VERSION
 1

	)

37 
	#ShmCom∂ëi⁄
 0

	)

38 
	#ShmNumbîEvíts
 (
ShmCom∂ëi⁄
 + 1)

	)

40 
	#BadShmSeg
 0

	)

41 
	#ShmNumbîEº‹s
 (
BadShmSeg
 + 1)

	)

	@/usr/include/X11/keysymdef.h

115 
	#XK_VoidSymbﬁ
 0xfffff‡

	)

117 #ifde‡
XK_MISCELLANY


124 
	#XK_BackS∑˚
 0xff08

	)

125 
	#XK_Tab
 0xff09

	)

126 
	#XK_Löe„ed
 0xff0®

	)

127 
	#XK_CÀ¨
 0xff0b

	)

128 
	#XK_Rëu∫
 0xff0d

	)

129 
	#XK_Pau£
 0xff13

	)

130 
	#XK_S¸ﬁl_Lock
 0xff14

	)

131 
	#XK_Sys_Req
 0xff15

	)

132 
	#XK_Esˇ≥
 0xff1b

	)

133 
	#XK_Dñëe
 0xfff‡

	)

139 
	#XK_Mu…i_key
 0xff20

	)

140 
	#XK_Codeöput
 0xff37

	)

141 
	#XK_SögÀC™did©e
 0xff3c

	)

142 
	#XK_Mu…ùÀC™did©e
 0xff3d

	)

143 
	#XK_PªviousC™did©e
 0xff3e

	)

147 
	#XK_K™ji
 0xff21

	)

148 
	#XK_Muhík™
 0xff22

	)

149 
	#XK_Hík™_Mode
 0xff23

	)

150 
	#XK_Hík™
 0xff23

	)

151 
	#XK_Romaji
 0xff24

	)

152 
	#XK_Húag™a
 0xff25

	)

153 
	#XK_K©ak™a
 0xff26

	)

154 
	#XK_Húag™a_K©ak™a
 0xff27

	)

155 
	#XK_Zíkaku
 0xff28

	)

156 
	#XK_H™kaku
 0xff29

	)

157 
	#XK_Zíkaku_H™kaku
 0xff2®

	)

158 
	#XK_Touroku
 0xff2b

	)

159 
	#XK_Massyo
 0xff2¯

	)

160 
	#XK_K™a_Lock
 0xff2d

	)

161 
	#XK_K™a_Shi·
 0xff2ê

	)

162 
	#XK_Eisu_Shi·
 0xff2‡

	)

163 
	#XK_Eisu_toggÀ
 0xff30

	)

164 
	#XK_K™ji_B™gou
 0xff37

	)

165 
	#XK_Zí_Koho
 0xff3d

	)

166 
	#XK_M´_Koho
 0xff3ê

	)

172 
	#XK_Home
 0xff50

	)

173 
	#XK_Le·
 0xff51

	)

174 
	#XK_Up
 0xff52

	)

175 
	#XK_Right
 0xff53

	)

176 
	#XK_Down
 0xff54

	)

177 
	#XK_Pri‹
 0xff55

	)

178 
	#XK_Page_Up
 0xff55

	)

179 
	#XK_Next
 0xff56

	)

180 
	#XK_Page_Down
 0xff56

	)

181 
	#XK_End
 0xff57

	)

182 
	#XK_Begö
 0xff58

	)

187 
	#XK_Sñe˘
 0xff60

	)

188 
	#XK_Pröt
 0xff61

	)

189 
	#XK_Execuã
 0xff62

	)

190 
	#XK_In£π
 0xff63

	)

191 
	#XK_Undo
 0xff65

	)

192 
	#XK_Redo
 0xff66

	)

193 
	#XK_Míu
 0xff67

	)

194 
	#XK_Föd
 0xff68

	)

195 
	#XK_C™˚l
 0xff69

	)

196 
	#XK_Hñp
 0xff6®

	)

197 
	#XK_Bªak
 0xff6b

	)

198 
	#XK_Mode_swôch
 0xff7ê

	)

199 
	#XK_s¸ùt_swôch
 0xff7ê

	)

200 
	#XK_Num_Lock
 0xff7f

	)

204 
	#XK_KP_S∑˚
 0xff80

	)

205 
	#XK_KP_Tab
 0xff89

	)

206 
	#XK_KP_E¡î
 0xff8d

	)

207 
	#XK_KP_F1
 0xff91

	)

208 
	#XK_KP_F2
 0xff92

	)

209 
	#XK_KP_F3
 0xff93

	)

210 
	#XK_KP_F4
 0xff94

	)

211 
	#XK_KP_Home
 0xff95

	)

212 
	#XK_KP_Le·
 0xff96

	)

213 
	#XK_KP_Up
 0xff97

	)

214 
	#XK_KP_Right
 0xff98

	)

215 
	#XK_KP_Down
 0xff99

	)

216 
	#XK_KP_Pri‹
 0xff9a

	)

217 
	#XK_KP_Page_Up
 0xff9a

	)

218 
	#XK_KP_Next
 0xff9b

	)

219 
	#XK_KP_Page_Down
 0xff9b

	)

220 
	#XK_KP_End
 0xff9c

	)

221 
	#XK_KP_Begö
 0xff9d

	)

222 
	#XK_KP_In£π
 0xff9e

	)

223 
	#XK_KP_Dñëe
 0xff9f

	)

224 
	#XK_KP_EquÆ
 0xffbd

	)

225 
	#XK_KP_Mu…ùly
 0xfÁa

	)

226 
	#XK_KP_Add
 0xfÁb

	)

227 
	#XK_KP_Sï¨©‹
 0xfÁ¯

	)

228 
	#XK_KP_Subåa˘
 0xfÁd

	)

229 
	#XK_KP_DecimÆ
 0xfÁe

	)

230 
	#XK_KP_Divide
 0xfÁf

	)

232 
	#XK_KP_0
 0xffb0

	)

233 
	#XK_KP_1
 0xffb1

	)

234 
	#XK_KP_2
 0xffb2

	)

235 
	#XK_KP_3
 0xffb3

	)

236 
	#XK_KP_4
 0xffb4

	)

237 
	#XK_KP_5
 0xffb5

	)

238 
	#XK_KP_6
 0xffb6

	)

239 
	#XK_KP_7
 0xffb7

	)

240 
	#XK_KP_8
 0xffb8

	)

241 
	#XK_KP_9
 0xffb9

	)

252 
	#XK_F1
 0xffbe

	)

253 
	#XK_F2
 0xffbf

	)

254 
	#XK_F3
 0xffc0

	)

255 
	#XK_F4
 0xffc1

	)

256 
	#XK_F5
 0xffc2

	)

257 
	#XK_F6
 0xffc3

	)

258 
	#XK_F7
 0xffc4

	)

259 
	#XK_F8
 0xffc5

	)

260 
	#XK_F9
 0xffc6

	)

261 
	#XK_F10
 0xffc7

	)

262 
	#XK_F11
 0xffc8

	)

263 
	#XK_L1
 0xffc8

	)

264 
	#XK_F12
 0xffc9

	)

265 
	#XK_L2
 0xffc9

	)

266 
	#XK_F13
 0xffˇ

	)

267 
	#XK_L3
 0xffˇ

	)

268 
	#XK_F14
 0xffcb

	)

269 
	#XK_L4
 0xffcb

	)

270 
	#XK_F15
 0xffcc

	)

271 
	#XK_L5
 0xffcc

	)

272 
	#XK_F16
 0xffcd

	)

273 
	#XK_L6
 0xffcd

	)

274 
	#XK_F17
 0xff˚

	)

275 
	#XK_L7
 0xff˚

	)

276 
	#XK_F18
 0xffcf

	)

277 
	#XK_L8
 0xffcf

	)

278 
	#XK_F19
 0xffd0

	)

279 
	#XK_L9
 0xffd0

	)

280 
	#XK_F20
 0xffd1

	)

281 
	#XK_L10
 0xffd1

	)

282 
	#XK_F21
 0xffd2

	)

283 
	#XK_R1
 0xffd2

	)

284 
	#XK_F22
 0xffd3

	)

285 
	#XK_R2
 0xffd3

	)

286 
	#XK_F23
 0xffd4

	)

287 
	#XK_R3
 0xffd4

	)

288 
	#XK_F24
 0xffd5

	)

289 
	#XK_R4
 0xffd5

	)

290 
	#XK_F25
 0xffd6

	)

291 
	#XK_R5
 0xffd6

	)

292 
	#XK_F26
 0xffd7

	)

293 
	#XK_R6
 0xffd7

	)

294 
	#XK_F27
 0xffd8

	)

295 
	#XK_R7
 0xffd8

	)

296 
	#XK_F28
 0xffd9

	)

297 
	#XK_R8
 0xffd9

	)

298 
	#XK_F29
 0xffda

	)

299 
	#XK_R9
 0xffda

	)

300 
	#XK_F30
 0xffdb

	)

301 
	#XK_R10
 0xffdb

	)

302 
	#XK_F31
 0xffdc

	)

303 
	#XK_R11
 0xffdc

	)

304 
	#XK_F32
 0xffdd

	)

305 
	#XK_R12
 0xffdd

	)

306 
	#XK_F33
 0xffde

	)

307 
	#XK_R13
 0xffde

	)

308 
	#XK_F34
 0xffdf

	)

309 
	#XK_R14
 0xffdf

	)

310 
	#XK_F35
 0xf„0

	)

311 
	#XK_R15
 0xf„0

	)

315 
	#XK_Shi·_L
 0xf„1

	)

316 
	#XK_Shi·_R
 0xf„2

	)

317 
	#XK_C⁄åﬁ_L
 0xf„3

	)

318 
	#XK_C⁄åﬁ_R
 0xf„4

	)

319 
	#XK_C≠s_Lock
 0xf„5

	)

320 
	#XK_Shi·_Lock
 0xf„6

	)

322 
	#XK_Mëa_L
 0xf„7

	)

323 
	#XK_Mëa_R
 0xf„8

	)

324 
	#XK_A…_L
 0xf„9

	)

325 
	#XK_A…_R
 0xf„®

	)

326 
	#XK_Su≥r_L
 0xf„b

	)

327 
	#XK_Su≥r_R
 0xf„¯

	)

328 
	#XK_Hy≥r_L
 0xf„d

	)

329 
	#XK_Hy≥r_R
 0xf„ê

	)

338 #ifde‡
XK_XKB_KEYS


339 
	#XK_ISO_Lock
 0x„01

	)

340 
	#XK_ISO_Levñ2_L©ch
 0x„02

	)

341 
	#XK_ISO_Levñ3_Shi·
 0x„03

	)

342 
	#XK_ISO_Levñ3_L©ch
 0x„04

	)

343 
	#XK_ISO_Levñ3_Lock
 0x„05

	)

344 
	#XK_ISO_Levñ5_Shi·
 0x„11

	)

345 
	#XK_ISO_Levñ5_L©ch
 0x„12

	)

346 
	#XK_ISO_Levñ5_Lock
 0x„13

	)

347 
	#XK_ISO_Group_Shi·
 0xff7ê

	)

348 
	#XK_ISO_Group_L©ch
 0x„06

	)

349 
	#XK_ISO_Group_Lock
 0x„07

	)

350 
	#XK_ISO_Next_Group
 0x„08

	)

351 
	#XK_ISO_Next_Group_Lock
 0x„09

	)

352 
	#XK_ISO_Pªv_Group
 0x„0a

	)

353 
	#XK_ISO_Pªv_Group_Lock
 0x„0b

	)

354 
	#XK_ISO_Fú°_Group
 0x„0c

	)

355 
	#XK_ISO_Fú°_Group_Lock
 0x„0d

	)

356 
	#XK_ISO_La°_Group
 0x„0e

	)

357 
	#XK_ISO_La°_Group_Lock
 0x„0f

	)

359 
	#XK_ISO_Le·_Tab
 0x„20

	)

360 
	#XK_ISO_Move_Löe_Up
 0x„21

	)

361 
	#XK_ISO_Move_Löe_Down
 0x„22

	)

362 
	#XK_ISO_P¨tül_Löe_Up
 0x„23

	)

363 
	#XK_ISO_P¨tül_Löe_Down
 0x„24

	)

364 
	#XK_ISO_P¨tül_S∑˚_Le·
 0x„25

	)

365 
	#XK_ISO_P¨tül_S∑˚_Right
 0x„26

	)

366 
	#XK_ISO_Së_M¨gö_Le·
 0x„27

	)

367 
	#XK_ISO_Së_M¨gö_Right
 0x„28

	)

368 
	#XK_ISO_Rñó£_M¨gö_Le·
 0x„29

	)

369 
	#XK_ISO_Rñó£_M¨gö_Right
 0x„2a

	)

370 
	#XK_ISO_Rñó£_BŸh_M¨gös
 0x„2b

	)

371 
	#XK_ISO_Fa°_Curs‹_Le·
 0x„2c

	)

372 
	#XK_ISO_Fa°_Curs‹_Right
 0x„2d

	)

373 
	#XK_ISO_Fa°_Curs‹_Up
 0x„2e

	)

374 
	#XK_ISO_Fa°_Curs‹_Down
 0x„2f

	)

375 
	#XK_ISO_C⁄töuous_Undîlöe
 0x„30

	)

376 
	#XK_ISO_Disc⁄töuous_Undîlöe
 0x„31

	)

377 
	#XK_ISO_Emphasize
 0x„32

	)

378 
	#XK_ISO_Cíãr_Obje˘
 0x„33

	)

379 
	#XK_ISO_E¡î
 0x„34

	)

381 
	#XK_dód_gøve
 0x„50

	)

382 
	#XK_dód_acuã
 0x„51

	)

383 
	#XK_dód_cúcumÊex
 0x„52

	)

384 
	#XK_dód_tûde
 0x„53

	)

385 
	#XK_dód_≥ri•omíi
 0x„53

	)

386 
	#XK_dód_ma¸⁄
 0x„54

	)

387 
	#XK_dód_bªve
 0x„55

	)

388 
	#XK_dód_abovedŸ
 0x„56

	)

389 
	#XK_dód_düîesis
 0x„57

	)

390 
	#XK_dód_abovîög
 0x„58

	)

391 
	#XK_dód_doubÀacuã
 0x„59

	)

392 
	#XK_dód_ˇr⁄
 0x„5a

	)

393 
	#XK_dód_˚dûœ
 0x„5b

	)

394 
	#XK_dód_og⁄ek
 0x„5c

	)

395 
	#XK_dód_iŸa
 0x„5d

	)

396 
	#XK_dód_voi˚d_sound
 0x„5e

	)

397 
	#XK_dód_£mivoi˚d_sound
 0x„5f

	)

398 
	#XK_dód_bñowdŸ
 0x„60

	)

399 
	#XK_dód_hook
 0x„61

	)

400 
	#XK_dód_h‹n
 0x„62

	)

401 
	#XK_dód_°roke
 0x„63

	)

402 
	#XK_dód_abovecomma
 0x„64

	)

403 
	#XK_dód_psûi
 0x„64

	)

404 
	#XK_dód_abovîevî£dcomma
 0x„65

	)

405 
	#XK_dód_dasü
 0x„65

	)

406 
	#XK_dód_doubÀgøve
 0x„66

	)

407 
	#XK_dód_bñowrög
 0x„67

	)

408 
	#XK_dód_bñowma¸⁄
 0x„68

	)

409 
	#XK_dód_bñowcúcumÊex
 0x„69

	)

410 
	#XK_dód_bñowtûde
 0x„6a

	)

411 
	#XK_dód_bñowbªve
 0x„6b

	)

412 
	#XK_dód_bñowdüîesis
 0x„6c

	)

413 
	#XK_dód_övîãdbªve
 0x„6d

	)

414 
	#XK_dód_bñowcomma
 0x„6e

	)

415 
	#XK_dód_cuºícy
 0x„6f

	)

418 
	#XK_dód_a
 0x„80

	)

419 
	#XK_dód_A
 0x„81

	)

420 
	#XK_dód_e
 0x„82

	)

421 
	#XK_dód_E
 0x„83

	)

422 
	#XK_dód_i
 0x„84

	)

423 
	#XK_dód_I
 0x„85

	)

424 
	#XK_dód_o
 0x„86

	)

425 
	#XK_dód_O
 0x„87

	)

426 
	#XK_dód_u
 0x„88

	)

427 
	#XK_dód_U
 0x„89

	)

428 
	#XK_dód_smÆl_schwa
 0x„8a

	)

429 
	#XK_dód_ˇpôÆ_schwa
 0x„8b

	)

431 
	#XK_Fú°_VútuÆ_S¸ìn
 0x„d0

	)

432 
	#XK_Pªv_VútuÆ_S¸ìn
 0x„d1

	)

433 
	#XK_Next_VútuÆ_S¸ìn
 0x„d2

	)

434 
	#XK_La°_VútuÆ_S¸ìn
 0x„d4

	)

435 
	#XK_Tîmö©e_Sîvî
 0x„d5

	)

437 
	#XK_Ac˚ssX_E«bÀ
 0x„70

	)

438 
	#XK_Ac˚ssX_Fìdback_E«bÀ
 0x„71

	)

439 
	#XK_RïótKeys_E«bÀ
 0x„72

	)

440 
	#XK_SlowKeys_E«bÀ
 0x„73

	)

441 
	#XK_Boun˚Keys_E«bÀ
 0x„74

	)

442 
	#XK_StickyKeys_E«bÀ
 0x„75

	)

443 
	#XK_Mou£Keys_E«bÀ
 0x„76

	)

444 
	#XK_Mou£Keys_Ac˚l_E«bÀ
 0x„77

	)

445 
	#XK_Ovîœy1_E«bÀ
 0x„78

	)

446 
	#XK_Ovîœy2_E«bÀ
 0x„79

	)

447 
	#XK_AudibÀBñl_E«bÀ
 0x„7a

	)

449 
	#XK_Poöãr_Le·
 0x„e0

	)

450 
	#XK_Poöãr_Right
 0x„e1

	)

451 
	#XK_Poöãr_Up
 0x„e2

	)

452 
	#XK_Poöãr_Down
 0x„e3

	)

453 
	#XK_Poöãr_UpLe·
 0x„e4

	)

454 
	#XK_Poöãr_UpRight
 0x„e5

	)

455 
	#XK_Poöãr_DownLe·
 0x„e6

	)

456 
	#XK_Poöãr_DownRight
 0x„e7

	)

457 
	#XK_Poöãr_Buâ⁄_DÊt
 0x„e8

	)

458 
	#XK_Poöãr_Buâ⁄1
 0x„e9

	)

459 
	#XK_Poöãr_Buâ⁄2
 0x„ó

	)

460 
	#XK_Poöãr_Buâ⁄3
 0x„eb

	)

461 
	#XK_Poöãr_Buâ⁄4
 0x„ec

	)

462 
	#XK_Poöãr_Buâ⁄5
 0x„ed

	)

463 
	#XK_Poöãr_DblClick_DÊt
 0x„ì

	)

464 
	#XK_Poöãr_DblClick1
 0x„ef

	)

465 
	#XK_Poöãr_DblClick2
 0x„f0

	)

466 
	#XK_Poöãr_DblClick3
 0x„f1

	)

467 
	#XK_Poöãr_DblClick4
 0x„f2

	)

468 
	#XK_Poöãr_DblClick5
 0x„f3

	)

469 
	#XK_Poöãr_Døg_DÊt
 0x„f4

	)

470 
	#XK_Poöãr_Døg1
 0x„f5

	)

471 
	#XK_Poöãr_Døg2
 0x„f6

	)

472 
	#XK_Poöãr_Døg3
 0x„f7

	)

473 
	#XK_Poöãr_Døg4
 0x„f8

	)

474 
	#XK_Poöãr_Døg5
 0x„fd

	)

476 
	#XK_Poöãr_E«bÀKeys
 0x„f9

	)

477 
	#XK_Poöãr_Ac˚Àøã
 0x„Á

	)

478 
	#XK_Poöãr_DÊtBäNext
 0x„fb

	)

479 
	#XK_Poöãr_DÊtBäPªv
 0x„fc

	)

488 #ifde‡
XK_3270


489 
	#XK_3270_Du∂iˇã
 0xfd01

	)

490 
	#XK_3270_FõldM¨k
 0xfd02

	)

491 
	#XK_3270_Right2
 0xfd03

	)

492 
	#XK_3270_Le·2
 0xfd04

	)

493 
	#XK_3270_BackTab
 0xfd05

	)

494 
	#XK_3270_Eø£EOF
 0xfd06

	)

495 
	#XK_3270_Eø£I≈ut
 0xfd07

	)

496 
	#XK_3270_Re£t
 0xfd08

	)

497 
	#XK_3270_Quô
 0xfd09

	)

498 
	#XK_3270_PA1
 0xfd0a

	)

499 
	#XK_3270_PA2
 0xfd0b

	)

500 
	#XK_3270_PA3
 0xfd0c

	)

501 
	#XK_3270_Te°
 0xfd0d

	)

502 
	#XK_3270_Aân
 0xfd0e

	)

503 
	#XK_3270_Curs‹Blök
 0xfd0f

	)

504 
	#XK_3270_A…Curs‹
 0xfd10

	)

505 
	#XK_3270_KeyClick
 0xfd11

	)

506 
	#XK_3270_Jump
 0xfd12

	)

507 
	#XK_3270_Idít
 0xfd13

	)

508 
	#XK_3270_RuÀ
 0xfd14

	)

509 
	#XK_3270_C›y
 0xfd15

	)

510 
	#XK_3270_Pœy
 0xfd16

	)

511 
	#XK_3270_Sëup
 0xfd17

	)

512 
	#XK_3270_Rec‹d
 0xfd18

	)

513 
	#XK_3270_Ch™geS¸ìn
 0xfd19

	)

514 
	#XK_3270_DñëeW‹d
 0xfd1a

	)

515 
	#XK_3270_ExSñe˘
 0xfd1b

	)

516 
	#XK_3270_Curs‹Sñe˘
 0xfd1c

	)

517 
	#XK_3270_PrötS¸ìn
 0xfd1d

	)

518 
	#XK_3270_E¡î
 0xfd1e

	)

526 #ifde‡
XK_LATIN1


527 
	#XK_•a˚
 0x0020

	)

528 
	#XK_ex˛am
 0x0021

	)

529 
	#XK_quŸedbl
 0x0022

	)

530 
	#XK_numbîsign
 0x0023

	)

531 
	#XK_dﬁœr
 0x0024

	)

532 
	#XK_≥r˚¡
 0x0025

	)

533 
	#XK_am≥rßnd
 0x0026

	)

534 
	#XK_≠o°r›he
 0x0027

	)

535 
	#XK_quŸîight
 0x0027

	)

536 
	#XK_∑ª∆e·
 0x0028

	)

537 
	#XK_∑ªƒight
 0x0029

	)

538 
	#XK_a°îisk
 0x002®

	)

539 
	#XK_∂us
 0x002b

	)

540 
	#XK_comma
 0x002¯

	)

541 
	#XK_möus
 0x002d

	)

542 
	#XK_≥riod
 0x002ê

	)

543 
	#XK_¶ash
 0x002‡

	)

544 
	#XK_0
 0x0030

	)

545 
	#XK_1
 0x0031

	)

546 
	#XK_2
 0x0032

	)

547 
	#XK_3
 0x0033

	)

548 
	#XK_4
 0x0034

	)

549 
	#XK_5
 0x0035

	)

550 
	#XK_6
 0x0036

	)

551 
	#XK_7
 0x0037

	)

552 
	#XK_8
 0x0038

	)

553 
	#XK_9
 0x0039

	)

554 
	#XK_cﬁ⁄
 0x003®

	)

555 
	#XK_£micﬁ⁄
 0x003b

	)

556 
	#XK_Àss
 0x003¯

	)

557 
	#XK_equÆ
 0x003d

	)

558 
	#XK_gª©î
 0x003ê

	)

559 
	#XK_que°i⁄
 0x003‡

	)

560 
	#XK_©
 0x0040

	)

561 
	#XK_A
 0x0041

	)

562 
	#XK_B
 0x0042

	)

563 
	#XK_C
 0x0043

	)

564 
	#XK_D
 0x0044

	)

565 
	#XK_E
 0x0045

	)

566 
	#XK_F
 0x0046

	)

567 
	#XK_G
 0x0047

	)

568 
	#XK_H
 0x0048

	)

569 
	#XK_I
 0x0049

	)

570 
	#XK_J
 0x004®

	)

571 
	#XK_K
 0x004b

	)

572 
	#XK_L
 0x004¯

	)

573 
	#XK_M
 0x004d

	)

574 
	#XK_N
 0x004ê

	)

575 
	#XK_O
 0x004‡

	)

576 
	#XK_P
 0x0050

	)

577 
	#XK_Q
 0x0051

	)

578 
	#XK_R
 0x0052

	)

579 
	#XK_S
 0x0053

	)

580 
	#XK_T
 0x0054

	)

581 
	#XK_U
 0x0055

	)

582 
	#XK_V
 0x0056

	)

583 
	#XK_W
 0x0057

	)

584 
	#XK_X
 0x0058

	)

585 
	#XK_Y
 0x0059

	)

586 
	#XK_Z
 0x005®

	)

587 
	#XK_bøckëÀ·
 0x005b

	)

588 
	#XK_back¶ash
 0x005¯

	)

589 
	#XK_bøckëright
 0x005d

	)

590 
	#XK_asciicúcum
 0x005ê

	)

591 
	#XK_undîsc‹e
 0x005‡

	)

592 
	#XK_gøve
 0x0060

	)

593 
	#XK_quŸñe·
 0x0060

	)

594 
	#XK_a
 0x0061

	)

595 
	#XK_b
 0x0062

	)

596 
	#XK_c
 0x0063

	)

597 
	#XK_d
 0x0064

	)

598 
	#XK_e
 0x0065

	)

599 
	#XK_f
 0x0066

	)

600 
	#XK_g
 0x0067

	)

601 
	#XK_h
 0x0068

	)

602 
	#XK_i
 0x0069

	)

603 
	#XK_j
 0x006®

	)

604 
	#XK_k
 0x006b

	)

605 
	#XK_l
 0x006¯

	)

606 
	#XK_m
 0x006d

	)

607 
	#XK_n
 0x006ê

	)

608 
	#XK_o
 0x006‡

	)

609 
	#XK_p
 0x0070

	)

610 
	#XK_q
 0x0071

	)

611 
	#XK_r
 0x0072

	)

612 
	#XK_s
 0x0073

	)

613 
	#XK_t
 0x0074

	)

614 
	#XK_u
 0x0075

	)

615 
	#XK_v
 0x0076

	)

616 
	#XK_w
 0x0077

	)

617 
	#XK_x
 0x0078

	)

618 
	#XK_y
 0x0079

	)

619 
	#XK_z
 0x007®

	)

620 
	#XK_bø˚À·
 0x007b

	)

621 
	#XK_b¨
 0x007¯

	)

622 
	#XK_bø˚right
 0x007d

	)

623 
	#XK_asciôûde
 0x007ê

	)

625 
	#XK_nobªak•a˚
 0x00a0

	)

626 
	#XK_ex˛amdown
 0x00a1

	)

627 
	#XK_˚¡
 0x00a2

	)

628 
	#XK_°îlög
 0x00a3

	)

629 
	#XK_cuºícy
 0x00a4

	)

630 
	#XK_yí
 0x00a5

	)

631 
	#XK_brokíb¨
 0x00a6

	)

632 
	#XK_£˘i⁄
 0x00a7

	)

633 
	#XK_düîesis
 0x00a8

	)

634 
	#XK_c›yright
 0x00a9

	)

635 
	#XK_‹d„mööe
 0x00Ø

	)

636 
	#XK_guûÀmŸÀ·
 0x00ab

	)

637 
	#XK_nŸsign
 0x00a¯

	)

638 
	#XK_hyphí
 0x00ad

	)

639 
	#XK_ªgi°îed
 0x00´

	)

640 
	#XK_ma¸⁄
 0x00a‡

	)

641 
	#XK_degªe
 0x00b0

	)

642 
	#XK_∂usmöus
 0x00b1

	)

643 
	#XK_twosu≥ri‹
 0x00b2

	)

644 
	#XK_thªesu≥ri‹
 0x00b3

	)

645 
	#XK_acuã
 0x00b4

	)

646 
	#XK_mu
 0x00b5

	)

647 
	#XK_∑øgøph
 0x00b6

	)

648 
	#XK_≥riod˚¡îed
 0x00b7

	)

649 
	#XK_˚dûœ
 0x00b8

	)

650 
	#XK_⁄esu≥ri‹
 0x00b9

	)

651 
	#XK_masculöe
 0x00b®

	)

652 
	#XK_guûÀmŸright
 0x00bb

	)

653 
	#XK_⁄equ¨ãr
 0x00b¯

	)

654 
	#XK_⁄ehÆf
 0x00bd

	)

655 
	#XK_thªequ¨ãrs
 0x00bê

	)

656 
	#XK_que°i⁄down
 0x00b‡

	)

657 
	#XK_Agøve
 0x00c0

	)

658 
	#XK_Aacuã
 0x00c1

	)

659 
	#XK_AcúcumÊex
 0x00c2

	)

660 
	#XK_Atûde
 0x00c3

	)

661 
	#XK_Adüîesis
 0x00c4

	)

662 
	#XK_Arög
 0x00c5

	)

663 
	#XK_AE
 0x00c6

	)

664 
	#XK_C˚dûœ
 0x00c7

	)

665 
	#XK_Egøve
 0x00c8

	)

666 
	#XK_Eacuã
 0x00c9

	)

667 
	#XK_EcúcumÊex
 0x00ˇ

	)

668 
	#XK_Edüîesis
 0x00cb

	)

669 
	#XK_Igøve
 0x00c¯

	)

670 
	#XK_Iacuã
 0x00cd

	)

671 
	#XK_IcúcumÊex
 0x00˚

	)

672 
	#XK_Idüîesis
 0x00c‡

	)

673 
	#XK_ETH
 0x00d0

	)

674 
	#XK_Eth
 0x00d0

	)

675 
	#XK_Ntûde
 0x00d1

	)

676 
	#XK_Ogøve
 0x00d2

	)

677 
	#XK_Oacuã
 0x00d3

	)

678 
	#XK_OcúcumÊex
 0x00d4

	)

679 
	#XK_Otûde
 0x00d5

	)

680 
	#XK_Odüîesis
 0x00d6

	)

681 
	#XK_mu…ùly
 0x00d7

	)

682 
	#XK_O¶ash
 0x00d8

	)

683 
	#XK_Ooblique
 0x00d8

	)

684 
	#XK_Ugøve
 0x00d9

	)

685 
	#XK_Uacuã
 0x00d®

	)

686 
	#XK_UcúcumÊex
 0x00db

	)

687 
	#XK_Udüîesis
 0x00d¯

	)

688 
	#XK_Yacuã
 0x00dd

	)

689 
	#XK_THORN
 0x00dê

	)

690 
	#XK_Th‹n
 0x00dê

	)

691 
	#XK_ssh¨p
 0x00d‡

	)

692 
	#XK_agøve
 0x00e0

	)

693 
	#XK_Øcuã
 0x00e1

	)

694 
	#XK_acúcumÊex
 0x00e2

	)

695 
	#XK_©ûde
 0x00e3

	)

696 
	#XK_adüîesis
 0x00e4

	)

697 
	#XK_¨ög
 0x00e5

	)

698 
	#XK_´
 0x00e6

	)

699 
	#XK_c˚dûœ
 0x00e7

	)

700 
	#XK_egøve
 0x00e8

	)

701 
	#XK_ócuã
 0x00e9

	)

702 
	#XK_ecúcumÊex
 0x00ó

	)

703 
	#XK_edüîesis
 0x00eb

	)

704 
	#XK_igøve
 0x00e¯

	)

705 
	#XK_ücuã
 0x00ed

	)

706 
	#XK_icúcumÊex
 0x00ì

	)

707 
	#XK_idüîesis
 0x00e‡

	)

708 
	#XK_ëh
 0x00f0

	)

709 
	#XK_¡ûde
 0x00f1

	)

710 
	#XK_ogøve
 0x00f2

	)

711 
	#XK_ﬂcuã
 0x00f3

	)

712 
	#XK_ocúcumÊex
 0x00f4

	)

713 
	#XK_Ÿûde
 0x00f5

	)

714 
	#XK_odüîesis
 0x00f6

	)

715 
	#XK_divisi⁄
 0x00f7

	)

716 
	#XK_o¶ash
 0x00f8

	)

717 
	#XK_ooblique
 0x00f8

	)

718 
	#XK_ugøve
 0x00f9

	)

719 
	#XK_uacuã
 0x00Á

	)

720 
	#XK_ucúcumÊex
 0x00fb

	)

721 
	#XK_udüîesis
 0x00f¯

	)

722 
	#XK_yacuã
 0x00fd

	)

723 
	#XK_th‹n
 0x00„

	)

724 
	#XK_ydüîesis
 0x00f‡

	)

732 #ifde‡
XK_LATIN2


733 
	#XK_Aog⁄ek
 0x01a1

	)

734 
	#XK_bªve
 0x01a2

	)

735 
	#XK_L°roke
 0x01a3

	)

736 
	#XK_Lˇr⁄
 0x01a5

	)

737 
	#XK_Sacuã
 0x01a6

	)

738 
	#XK_Sˇr⁄
 0x01a9

	)

739 
	#XK_S˚dûœ
 0x01Ø

	)

740 
	#XK_Tˇr⁄
 0x01ab

	)

741 
	#XK_Zacuã
 0x01a¯

	)

742 
	#XK_Zˇr⁄
 0x01´

	)

743 
	#XK_ZabovedŸ
 0x01a‡

	)

744 
	#XK_aog⁄ek
 0x01b1

	)

745 
	#XK_og⁄ek
 0x01b2

	)

746 
	#XK_l°roke
 0x01b3

	)

747 
	#XK_lˇr⁄
 0x01b5

	)

748 
	#XK_ßcuã
 0x01b6

	)

749 
	#XK_ˇr⁄
 0x01b7

	)

750 
	#XK_sˇr⁄
 0x01b9

	)

751 
	#XK_s˚dûœ
 0x01b®

	)

752 
	#XK_tˇr⁄
 0x01bb

	)

753 
	#XK_zacuã
 0x01b¯

	)

754 
	#XK_doubÀacuã
 0x01bd

	)

755 
	#XK_zˇr⁄
 0x01bê

	)

756 
	#XK_zabovedŸ
 0x01b‡

	)

757 
	#XK_Racuã
 0x01c0

	)

758 
	#XK_Abªve
 0x01c3

	)

759 
	#XK_Lacuã
 0x01c5

	)

760 
	#XK_Cacuã
 0x01c6

	)

761 
	#XK_Cˇr⁄
 0x01c8

	)

762 
	#XK_Eog⁄ek
 0x01ˇ

	)

763 
	#XK_Eˇr⁄
 0x01c¯

	)

764 
	#XK_Dˇr⁄
 0x01c‡

	)

765 
	#XK_D°roke
 0x01d0

	)

766 
	#XK_Nacuã
 0x01d1

	)

767 
	#XK_Nˇr⁄
 0x01d2

	)

768 
	#XK_OdoubÀacuã
 0x01d5

	)

769 
	#XK_Rˇr⁄
 0x01d8

	)

770 
	#XK_Urög
 0x01d9

	)

771 
	#XK_UdoubÀacuã
 0x01db

	)

772 
	#XK_T˚dûœ
 0x01dê

	)

773 
	#XK_øcuã
 0x01e0

	)

774 
	#XK_abªve
 0x01e3

	)

775 
	#XK_œcuã
 0x01e5

	)

776 
	#XK_ˇcuã
 0x01e6

	)

777 
	#XK_cˇr⁄
 0x01e8

	)

778 
	#XK_eog⁄ek
 0x01ó

	)

779 
	#XK_eˇr⁄
 0x01e¯

	)

780 
	#XK_dˇr⁄
 0x01e‡

	)

781 
	#XK_d°roke
 0x01f0

	)

782 
	#XK_«cuã
 0x01f1

	)

783 
	#XK_nˇr⁄
 0x01f2

	)

784 
	#XK_odoubÀacuã
 0x01f5

	)

785 
	#XK_rˇr⁄
 0x01f8

	)

786 
	#XK_urög
 0x01f9

	)

787 
	#XK_udoubÀacuã
 0x01fb

	)

788 
	#XK_t˚dûœ
 0x01„

	)

789 
	#XK_abovedŸ
 0x01f‡

	)

797 #ifde‡
XK_LATIN3


798 
	#XK_H°roke
 0x02a1

	)

799 
	#XK_HcúcumÊex
 0x02a6

	)

800 
	#XK_IabovedŸ
 0x02a9

	)

801 
	#XK_Gbªve
 0x02ab

	)

802 
	#XK_JcúcumÊex
 0x02a¯

	)

803 
	#XK_h°roke
 0x02b1

	)

804 
	#XK_hcúcumÊex
 0x02b6

	)

805 
	#XK_idŸÀss
 0x02b9

	)

806 
	#XK_gbªve
 0x02bb

	)

807 
	#XK_jcúcumÊex
 0x02b¯

	)

808 
	#XK_CabovedŸ
 0x02c5

	)

809 
	#XK_CcúcumÊex
 0x02c6

	)

810 
	#XK_GabovedŸ
 0x02d5

	)

811 
	#XK_GcúcumÊex
 0x02d8

	)

812 
	#XK_Ubªve
 0x02dd

	)

813 
	#XK_ScúcumÊex
 0x02dê

	)

814 
	#XK_ˇbovedŸ
 0x02e5

	)

815 
	#XK_ccúcumÊex
 0x02e6

	)

816 
	#XK_gabovedŸ
 0x02f5

	)

817 
	#XK_gcúcumÊex
 0x02f8

	)

818 
	#XK_ubªve
 0x02fd

	)

819 
	#XK_scúcumÊex
 0x02„

	)

828 #ifde‡
XK_LATIN4


829 
	#XK_kø
 0x03a2

	)

830 
	#XK_k≠∑
 0x03a2

	)

831 
	#XK_R˚dûœ
 0x03a3

	)

832 
	#XK_Itûde
 0x03a5

	)

833 
	#XK_L˚dûœ
 0x03a6

	)

834 
	#XK_Ema¸⁄
 0x03Ø

	)

835 
	#XK_G˚dûœ
 0x03ab

	)

836 
	#XK_T¶ash
 0x03a¯

	)

837 
	#XK_r˚dûœ
 0x03b3

	)

838 
	#XK_ôûde
 0x03b5

	)

839 
	#XK_l˚dûœ
 0x03b6

	)

840 
	#XK_ema¸⁄
 0x03b®

	)

841 
	#XK_g˚dûœ
 0x03bb

	)

842 
	#XK_t¶ash
 0x03b¯

	)

843 
	#XK_ENG
 0x03bd

	)

844 
	#XK_íg
 0x03b‡

	)

845 
	#XK_Ama¸⁄
 0x03c0

	)

846 
	#XK_Iog⁄ek
 0x03c7

	)

847 
	#XK_EabovedŸ
 0x03c¯

	)

848 
	#XK_Ima¸⁄
 0x03c‡

	)

849 
	#XK_N˚dûœ
 0x03d1

	)

850 
	#XK_Oma¸⁄
 0x03d2

	)

851 
	#XK_K˚dûœ
 0x03d3

	)

852 
	#XK_Uog⁄ek
 0x03d9

	)

853 
	#XK_Utûde
 0x03dd

	)

854 
	#XK_Uma¸⁄
 0x03dê

	)

855 
	#XK_ama¸⁄
 0x03e0

	)

856 
	#XK_iog⁄ek
 0x03e7

	)

857 
	#XK_óbovedŸ
 0x03e¯

	)

858 
	#XK_ima¸⁄
 0x03e‡

	)

859 
	#XK_n˚dûœ
 0x03f1

	)

860 
	#XK_oma¸⁄
 0x03f2

	)

861 
	#XK_k˚dûœ
 0x03f3

	)

862 
	#XK_uog⁄ek
 0x03f9

	)

863 
	#XK_utûde
 0x03fd

	)

864 
	#XK_uma¸⁄
 0x03„

	)

870 #ifde‡
XK_LATIN8


871 
	#XK_WcúcumÊex
 0x1000174

	)

872 
	#XK_wcúcumÊex
 0x1000175

	)

873 
	#XK_YcúcumÊex
 0x1000176

	)

874 
	#XK_ycúcumÊex
 0x1000177

	)

875 
	#XK_BabovedŸ
 0x1001e02

	)

876 
	#XK_babovedŸ
 0x1001e03

	)

877 
	#XK_DabovedŸ
 0x1001e0®

	)

878 
	#XK_dabovedŸ
 0x1001e0b

	)

879 
	#XK_FabovedŸ
 0x1001e1ê

	)

880 
	#XK_ÁbovedŸ
 0x1001e1‡

	)

881 
	#XK_MabovedŸ
 0x1001e40

	)

882 
	#XK_mabovedŸ
 0x1001e41

	)

883 
	#XK_PabovedŸ
 0x1001e56

	)

884 
	#XK_∑bovedŸ
 0x1001e57

	)

885 
	#XK_SabovedŸ
 0x1001e60

	)

886 
	#XK_ßbovedŸ
 0x1001e61

	)

887 
	#XK_TabovedŸ
 0x1001e6®

	)

888 
	#XK_èbovedŸ
 0x1001e6b

	)

889 
	#XK_Wgøve
 0x1001e80

	)

890 
	#XK_wgøve
 0x1001e81

	)

891 
	#XK_Wacuã
 0x1001e82

	)

892 
	#XK_wacuã
 0x1001e83

	)

893 
	#XK_Wdüîesis
 0x1001e84

	)

894 
	#XK_wdüîesis
 0x1001e85

	)

895 
	#XK_Ygøve
 0x1001ef2

	)

896 
	#XK_ygøve
 0x1001ef3

	)

904 #ifde‡
XK_LATIN9


905 
	#XK_OE
 0x13b¯

	)

906 
	#XK_€
 0x13bd

	)

907 
	#XK_Ydüîesis
 0x13bê

	)

915 #ifde‡
XK_KATAKANA


916 
	#XK_ovîlöe
 0x047ê

	)

917 
	#XK_k™a_fuŒ°›
 0x04a1

	)

918 
	#XK_k™a_›íögbøckë
 0x04a2

	)

919 
	#XK_k™a_˛osögbøckë
 0x04a3

	)

920 
	#XK_k™a_comma
 0x04a4

	)

921 
	#XK_k™a_c⁄jun˘ive
 0x04a5

	)

922 
	#XK_k™a_middÀdŸ
 0x04a5

	)

923 
	#XK_k™a_WO
 0x04a6

	)

924 
	#XK_k™a_a
 0x04a7

	)

925 
	#XK_k™a_i
 0x04a8

	)

926 
	#XK_k™a_u
 0x04a9

	)

927 
	#XK_k™a_e
 0x04Ø

	)

928 
	#XK_k™a_o
 0x04ab

	)

929 
	#XK_k™a_ya
 0x04a¯

	)

930 
	#XK_k™a_yu
 0x04ad

	)

931 
	#XK_k™a_yo
 0x04´

	)

932 
	#XK_k™a_tsu
 0x04a‡

	)

933 
	#XK_k™a_tu
 0x04a‡

	)

934 
	#XK_¥ﬁ⁄gedsound
 0x04b0

	)

935 
	#XK_k™a_A
 0x04b1

	)

936 
	#XK_k™a_I
 0x04b2

	)

937 
	#XK_k™a_U
 0x04b3

	)

938 
	#XK_k™a_E
 0x04b4

	)

939 
	#XK_k™a_O
 0x04b5

	)

940 
	#XK_k™a_KA
 0x04b6

	)

941 
	#XK_k™a_KI
 0x04b7

	)

942 
	#XK_k™a_KU
 0x04b8

	)

943 
	#XK_k™a_KE
 0x04b9

	)

944 
	#XK_k™a_KO
 0x04b®

	)

945 
	#XK_k™a_SA
 0x04bb

	)

946 
	#XK_k™a_SHI
 0x04b¯

	)

947 
	#XK_k™a_SU
 0x04bd

	)

948 
	#XK_k™a_SE
 0x04bê

	)

949 
	#XK_k™a_SO
 0x04b‡

	)

950 
	#XK_k™a_TA
 0x04c0

	)

951 
	#XK_k™a_CHI
 0x04c1

	)

952 
	#XK_k™a_TI
 0x04c1

	)

953 
	#XK_k™a_TSU
 0x04c2

	)

954 
	#XK_k™a_TU
 0x04c2

	)

955 
	#XK_k™a_TE
 0x04c3

	)

956 
	#XK_k™a_TO
 0x04c4

	)

957 
	#XK_k™a_NA
 0x04c5

	)

958 
	#XK_k™a_NI
 0x04c6

	)

959 
	#XK_k™a_NU
 0x04c7

	)

960 
	#XK_k™a_NE
 0x04c8

	)

961 
	#XK_k™a_NO
 0x04c9

	)

962 
	#XK_k™a_HA
 0x04ˇ

	)

963 
	#XK_k™a_HI
 0x04cb

	)

964 
	#XK_k™a_FU
 0x04c¯

	)

965 
	#XK_k™a_HU
 0x04c¯

	)

966 
	#XK_k™a_HE
 0x04cd

	)

967 
	#XK_k™a_HO
 0x04˚

	)

968 
	#XK_k™a_MA
 0x04c‡

	)

969 
	#XK_k™a_MI
 0x04d0

	)

970 
	#XK_k™a_MU
 0x04d1

	)

971 
	#XK_k™a_ME
 0x04d2

	)

972 
	#XK_k™a_MO
 0x04d3

	)

973 
	#XK_k™a_YA
 0x04d4

	)

974 
	#XK_k™a_YU
 0x04d5

	)

975 
	#XK_k™a_YO
 0x04d6

	)

976 
	#XK_k™a_RA
 0x04d7

	)

977 
	#XK_k™a_RI
 0x04d8

	)

978 
	#XK_k™a_RU
 0x04d9

	)

979 
	#XK_k™a_RE
 0x04d®

	)

980 
	#XK_k™a_RO
 0x04db

	)

981 
	#XK_k™a_WA
 0x04d¯

	)

982 
	#XK_k™a_N
 0x04dd

	)

983 
	#XK_voi˚dsound
 0x04dê

	)

984 
	#XK_£mivoi˚dsound
 0x04d‡

	)

985 
	#XK_k™a_swôch
 0xff7ê

	)

993 #ifde‡
XK_ARABIC


994 
	#XK_F¨si_0
 0x10006f0

	)

995 
	#XK_F¨si_1
 0x10006f1

	)

996 
	#XK_F¨si_2
 0x10006f2

	)

997 
	#XK_F¨si_3
 0x10006f3

	)

998 
	#XK_F¨si_4
 0x10006f4

	)

999 
	#XK_F¨si_5
 0x10006f5

	)

1000 
	#XK_F¨si_6
 0x10006f6

	)

1001 
	#XK_F¨si_7
 0x10006f7

	)

1002 
	#XK_F¨si_8
 0x10006f8

	)

1003 
	#XK_F¨si_9
 0x10006f9

	)

1004 
	#XK_Aøbic_≥r˚¡
 0x100066®

	)

1005 
	#XK_Aøbic_su≥rs¸ùt_Æef
 0x1000670

	)

1006 
	#XK_Aøbic_âeh
 0x1000679

	)

1007 
	#XK_Aøbic_≥h
 0x100067ê

	)

1008 
	#XK_Aøbic_tcheh
 0x1000686

	)

1009 
	#XK_Aøbic_ddÆ
 0x1000688

	)

1010 
	#XK_Aøbic_ºeh
 0x1000691

	)

1011 
	#XK_Aøbic_comma
 0x05a¯

	)

1012 
	#XK_Aøbic_fuŒ°›
 0x10006d4

	)

1013 
	#XK_Aøbic_0
 0x1000660

	)

1014 
	#XK_Aøbic_1
 0x1000661

	)

1015 
	#XK_Aøbic_2
 0x1000662

	)

1016 
	#XK_Aøbic_3
 0x1000663

	)

1017 
	#XK_Aøbic_4
 0x1000664

	)

1018 
	#XK_Aøbic_5
 0x1000665

	)

1019 
	#XK_Aøbic_6
 0x1000666

	)

1020 
	#XK_Aøbic_7
 0x1000667

	)

1021 
	#XK_Aøbic_8
 0x1000668

	)

1022 
	#XK_Aøbic_9
 0x1000669

	)

1023 
	#XK_Aøbic_£micﬁ⁄
 0x05bb

	)

1024 
	#XK_Aøbic_que°i⁄_m¨k
 0x05b‡

	)

1025 
	#XK_Aøbic_hamza
 0x05c1

	)

1026 
	#XK_Aøbic_madda⁄Æef
 0x05c2

	)

1027 
	#XK_Aøbic_hamza⁄Æef
 0x05c3

	)

1028 
	#XK_Aøbic_hamza⁄waw
 0x05c4

	)

1029 
	#XK_Aøbic_hamzaundîÆef
 0x05c5

	)

1030 
	#XK_Aøbic_hamza⁄yeh
 0x05c6

	)

1031 
	#XK_Aøbic_Æef
 0x05c7

	)

1032 
	#XK_Aøbic_beh
 0x05c8

	)

1033 
	#XK_Aøbic_ãhm¨buè
 0x05c9

	)

1034 
	#XK_Aøbic_ãh
 0x05ˇ

	)

1035 
	#XK_Aøbic_theh
 0x05cb

	)

1036 
	#XK_Aøbic_jìm
 0x05c¯

	)

1037 
	#XK_Aøbic_hah
 0x05cd

	)

1038 
	#XK_Aøbic_khah
 0x05˚

	)

1039 
	#XK_Aøbic_dÆ
 0x05c‡

	)

1040 
	#XK_Aøbic_thÆ
 0x05d0

	)

1041 
	#XK_Aøbic_ø
 0x05d1

	)

1042 
	#XK_Aøbic_zaö
 0x05d2

	)

1043 
	#XK_Aøbic_£í
 0x05d3

	)

1044 
	#XK_Aøbic_shìn
 0x05d4

	)

1045 
	#XK_Aøbic_ßd
 0x05d5

	)

1046 
	#XK_Aøbic_dad
 0x05d6

	)

1047 
	#XK_Aøbic_èh
 0x05d7

	)

1048 
	#XK_Aøbic_zah
 0x05d8

	)

1049 
	#XK_Aøbic_aö
 0x05d9

	)

1050 
	#XK_Aøbic_ghaö
 0x05d®

	)

1051 
	#XK_Aøbic_ètwìl
 0x05e0

	)

1052 
	#XK_Aøbic_„h
 0x05e1

	)

1053 
	#XK_Aøbic_qaf
 0x05e2

	)

1054 
	#XK_Aøbic_kaf
 0x05e3

	)

1055 
	#XK_Aøbic_œm
 0x05e4

	)

1056 
	#XK_Aøbic_mìm
 0x05e5

	)

1057 
	#XK_Aøbic_no⁄
 0x05e6

	)

1058 
	#XK_Aøbic_ha
 0x05e7

	)

1059 
	#XK_Aøbic_heh
 0x05e7

	)

1060 
	#XK_Aøbic_waw
 0x05e8

	)

1061 
	#XK_Aøbic_Æefmaksuø
 0x05e9

	)

1062 
	#XK_Aøbic_yeh
 0x05ó

	)

1063 
	#XK_Aøbic_Áth©™
 0x05eb

	)

1064 
	#XK_Aøbic_damm©™
 0x05e¯

	)

1065 
	#XK_Aøbic_ka§©™
 0x05ed

	)

1066 
	#XK_Aøbic_Átha
 0x05ì

	)

1067 
	#XK_Aøbic_damma
 0x05e‡

	)

1068 
	#XK_Aøbic_ka§a
 0x05f0

	)

1069 
	#XK_Aøbic_shadda
 0x05f1

	)

1070 
	#XK_Aøbic_sukun
 0x05f2

	)

1071 
	#XK_Aøbic_madda_above
 0x1000653

	)

1072 
	#XK_Aøbic_hamza_above
 0x1000654

	)

1073 
	#XK_Aøbic_hamza_bñow
 0x1000655

	)

1074 
	#XK_Aøbic_jeh
 0x1000698

	)

1075 
	#XK_Aøbic_veh
 0x10006a4

	)

1076 
	#XK_Aøbic_keheh
 0x10006a9

	)

1077 
	#XK_Aøbic_gaf
 0x10006a‡

	)

1078 
	#XK_Aøbic_no⁄_ghu¬a
 0x10006b®

	)

1079 
	#XK_Aøbic_heh_dﬂchashmì
 0x10006bê

	)

1080 
	#XK_F¨si_yeh
 0x10006c¯

	)

1081 
	#XK_Aøbic_Ársi_yeh
 0x10006c¯

	)

1082 
	#XK_Aøbic_yeh_b¨ì
 0x10006d2

	)

1083 
	#XK_Aøbic_heh_gﬂl
 0x10006c1

	)

1084 
	#XK_Aøbic_swôch
 0xff7ê

	)

1091 #ifde‡
XK_CYRILLIC


1092 
	#XK_Cyrûlic_GHE_b¨
 0x1000492

	)

1093 
	#XK_Cyrûlic_ghe_b¨
 0x1000493

	)

1094 
	#XK_Cyrûlic_ZHE_des˚ndî
 0x1000496

	)

1095 
	#XK_Cyrûlic_zhe_des˚ndî
 0x1000497

	)

1096 
	#XK_Cyrûlic_KA_des˚ndî
 0x100049®

	)

1097 
	#XK_Cyrûlic_ka_des˚ndî
 0x100049b

	)

1098 
	#XK_Cyrûlic_KA_vît°roke
 0x100049¯

	)

1099 
	#XK_Cyrûlic_ka_vît°roke
 0x100049d

	)

1100 
	#XK_Cyrûlic_EN_des˚ndî
 0x10004a2

	)

1101 
	#XK_Cyrûlic_í_des˚ndî
 0x10004a3

	)

1102 
	#XK_Cyrûlic_U_°øight
 0x10004´

	)

1103 
	#XK_Cyrûlic_u_°øight
 0x10004a‡

	)

1104 
	#XK_Cyrûlic_U_°øight_b¨
 0x10004b0

	)

1105 
	#XK_Cyrûlic_u_°øight_b¨
 0x10004b1

	)

1106 
	#XK_Cyrûlic_HA_des˚ndî
 0x10004b2

	)

1107 
	#XK_Cyrûlic_ha_des˚ndî
 0x10004b3

	)

1108 
	#XK_Cyrûlic_CHE_des˚ndî
 0x10004b6

	)

1109 
	#XK_Cyrûlic_che_des˚ndî
 0x10004b7

	)

1110 
	#XK_Cyrûlic_CHE_vît°roke
 0x10004b8

	)

1111 
	#XK_Cyrûlic_che_vît°roke
 0x10004b9

	)

1112 
	#XK_Cyrûlic_SHHA
 0x10004b®

	)

1113 
	#XK_Cyrûlic_shha
 0x10004bb

	)

1115 
	#XK_Cyrûlic_SCHWA
 0x10004d8

	)

1116 
	#XK_Cyrûlic_schwa
 0x10004d9

	)

1117 
	#XK_Cyrûlic_I_ma¸⁄
 0x10004e2

	)

1118 
	#XK_Cyrûlic_i_ma¸⁄
 0x10004e3

	)

1119 
	#XK_Cyrûlic_O_b¨
 0x10004e8

	)

1120 
	#XK_Cyrûlic_o_b¨
 0x10004e9

	)

1121 
	#XK_Cyrûlic_U_ma¸⁄
 0x10004ì

	)

1122 
	#XK_Cyrûlic_u_ma¸⁄
 0x10004e‡

	)

1124 
	#XK_Sîbün_dje
 0x06a1

	)

1125 
	#XK_Ma˚d⁄ü_gje
 0x06a2

	)

1126 
	#XK_Cyrûlic_io
 0x06a3

	)

1127 
	#XK_Ukøöün_õ
 0x06a4

	)

1128 
	#XK_Ukønün_je
 0x06a4

	)

1129 
	#XK_Ma˚d⁄ü_d£
 0x06a5

	)

1130 
	#XK_Ukøöün_i
 0x06a6

	)

1131 
	#XK_Ukønün_i
 0x06a6

	)

1132 
	#XK_Ukøöün_yi
 0x06a7

	)

1133 
	#XK_Ukønün_yi
 0x06a7

	)

1134 
	#XK_Cyrûlic_je
 0x06a8

	)

1135 
	#XK_Sîbün_je
 0x06a8

	)

1136 
	#XK_Cyrûlic_lje
 0x06a9

	)

1137 
	#XK_Sîbün_lje
 0x06a9

	)

1138 
	#XK_Cyrûlic_nje
 0x06Ø

	)

1139 
	#XK_Sîbün_nje
 0x06Ø

	)

1140 
	#XK_Sîbün_tshe
 0x06ab

	)

1141 
	#XK_Ma˚d⁄ü_kje
 0x06a¯

	)

1142 
	#XK_Ukøöün_ghe_wôh_u±u∫
 0x06ad

	)

1143 
	#XK_Byñ‹ussün_sh‹tu
 0x06´

	)

1144 
	#XK_Cyrûlic_dzhe
 0x06a‡

	)

1145 
	#XK_Sîbün_dze
 0x06a‡

	)

1146 
	#XK_numîosign
 0x06b0

	)

1147 
	#XK_Sîbün_DJE
 0x06b1

	)

1148 
	#XK_Ma˚d⁄ü_GJE
 0x06b2

	)

1149 
	#XK_Cyrûlic_IO
 0x06b3

	)

1150 
	#XK_Ukøöün_IE
 0x06b4

	)

1151 
	#XK_Ukønün_JE
 0x06b4

	)

1152 
	#XK_Ma˚d⁄ü_DSE
 0x06b5

	)

1153 
	#XK_Ukøöün_I
 0x06b6

	)

1154 
	#XK_Ukønün_I
 0x06b6

	)

1155 
	#XK_Ukøöün_YI
 0x06b7

	)

1156 
	#XK_Ukønün_YI
 0x06b7

	)

1157 
	#XK_Cyrûlic_JE
 0x06b8

	)

1158 
	#XK_Sîbün_JE
 0x06b8

	)

1159 
	#XK_Cyrûlic_LJE
 0x06b9

	)

1160 
	#XK_Sîbün_LJE
 0x06b9

	)

1161 
	#XK_Cyrûlic_NJE
 0x06b®

	)

1162 
	#XK_Sîbün_NJE
 0x06b®

	)

1163 
	#XK_Sîbün_TSHE
 0x06bb

	)

1164 
	#XK_Ma˚d⁄ü_KJE
 0x06b¯

	)

1165 
	#XK_Ukøöün_GHE_WITH_UPTURN
 0x06bd

	)

1166 
	#XK_Byñ‹ussün_SHORTU
 0x06bê

	)

1167 
	#XK_Cyrûlic_DZHE
 0x06b‡

	)

1168 
	#XK_Sîbün_DZE
 0x06b‡

	)

1169 
	#XK_Cyrûlic_yu
 0x06c0

	)

1170 
	#XK_Cyrûlic_a
 0x06c1

	)

1171 
	#XK_Cyrûlic_be
 0x06c2

	)

1172 
	#XK_Cyrûlic_t£
 0x06c3

	)

1173 
	#XK_Cyrûlic_de
 0x06c4

	)

1174 
	#XK_Cyrûlic_õ
 0x06c5

	)

1175 
	#XK_Cyrûlic_ef
 0x06c6

	)

1176 
	#XK_Cyrûlic_ghe
 0x06c7

	)

1177 
	#XK_Cyrûlic_ha
 0x06c8

	)

1178 
	#XK_Cyrûlic_i
 0x06c9

	)

1179 
	#XK_Cyrûlic_sh‹ti
 0x06ˇ

	)

1180 
	#XK_Cyrûlic_ka
 0x06cb

	)

1181 
	#XK_Cyrûlic_ñ
 0x06c¯

	)

1182 
	#XK_Cyrûlic_em
 0x06cd

	)

1183 
	#XK_Cyrûlic_í
 0x06˚

	)

1184 
	#XK_Cyrûlic_o
 0x06c‡

	)

1185 
	#XK_Cyrûlic_≥
 0x06d0

	)

1186 
	#XK_Cyrûlic_ya
 0x06d1

	)

1187 
	#XK_Cyrûlic_î
 0x06d2

	)

1188 
	#XK_Cyrûlic_es
 0x06d3

	)

1189 
	#XK_Cyrûlic_ã
 0x06d4

	)

1190 
	#XK_Cyrûlic_u
 0x06d5

	)

1191 
	#XK_Cyrûlic_zhe
 0x06d6

	)

1192 
	#XK_Cyrûlic_ve
 0x06d7

	)

1193 
	#XK_Cyrûlic_so·sign
 0x06d8

	)

1194 
	#XK_Cyrûlic_yîu
 0x06d9

	)

1195 
	#XK_Cyrûlic_ze
 0x06d®

	)

1196 
	#XK_Cyrûlic_sha
 0x06db

	)

1197 
	#XK_Cyrûlic_e
 0x06d¯

	)

1198 
	#XK_Cyrûlic_shcha
 0x06dd

	)

1199 
	#XK_Cyrûlic_che
 0x06dê

	)

1200 
	#XK_Cyrûlic_h¨dsign
 0x06d‡

	)

1201 
	#XK_Cyrûlic_YU
 0x06e0

	)

1202 
	#XK_Cyrûlic_A
 0x06e1

	)

1203 
	#XK_Cyrûlic_BE
 0x06e2

	)

1204 
	#XK_Cyrûlic_TSE
 0x06e3

	)

1205 
	#XK_Cyrûlic_DE
 0x06e4

	)

1206 
	#XK_Cyrûlic_IE
 0x06e5

	)

1207 
	#XK_Cyrûlic_EF
 0x06e6

	)

1208 
	#XK_Cyrûlic_GHE
 0x06e7

	)

1209 
	#XK_Cyrûlic_HA
 0x06e8

	)

1210 
	#XK_Cyrûlic_I
 0x06e9

	)

1211 
	#XK_Cyrûlic_SHORTI
 0x06ó

	)

1212 
	#XK_Cyrûlic_KA
 0x06eb

	)

1213 
	#XK_Cyrûlic_EL
 0x06e¯

	)

1214 
	#XK_Cyrûlic_EM
 0x06ed

	)

1215 
	#XK_Cyrûlic_EN
 0x06ì

	)

1216 
	#XK_Cyrûlic_O
 0x06e‡

	)

1217 
	#XK_Cyrûlic_PE
 0x06f0

	)

1218 
	#XK_Cyrûlic_YA
 0x06f1

	)

1219 
	#XK_Cyrûlic_ER
 0x06f2

	)

1220 
	#XK_Cyrûlic_ES
 0x06f3

	)

1221 
	#XK_Cyrûlic_TE
 0x06f4

	)

1222 
	#XK_Cyrûlic_U
 0x06f5

	)

1223 
	#XK_Cyrûlic_ZHE
 0x06f6

	)

1224 
	#XK_Cyrûlic_VE
 0x06f7

	)

1225 
	#XK_Cyrûlic_SOFTSIGN
 0x06f8

	)

1226 
	#XK_Cyrûlic_YERU
 0x06f9

	)

1227 
	#XK_Cyrûlic_ZE
 0x06Á

	)

1228 
	#XK_Cyrûlic_SHA
 0x06fb

	)

1229 
	#XK_Cyrûlic_E
 0x06f¯

	)

1230 
	#XK_Cyrûlic_SHCHA
 0x06fd

	)

1231 
	#XK_Cyrûlic_CHE
 0x06„

	)

1232 
	#XK_Cyrûlic_HARDSIGN
 0x06f‡

	)

1241 #ifde‡
XK_GREEK


1242 
	#XK_Gªek_ALPHAac˚¡
 0x07a1

	)

1243 
	#XK_Gªek_EPSILONac˚¡
 0x07a2

	)

1244 
	#XK_Gªek_ETAac˚¡
 0x07a3

	)

1245 
	#XK_Gªek_IOTAac˚¡
 0x07a4

	)

1246 
	#XK_Gªek_IOTAdõªsis
 0x07a5

	)

1247 
	#XK_Gªek_IOTAdüîesis
 0x07a5

	)

1248 
	#XK_Gªek_OMICRONac˚¡
 0x07a7

	)

1249 
	#XK_Gªek_UPSILONac˚¡
 0x07a8

	)

1250 
	#XK_Gªek_UPSILONdõªsis
 0x07a9

	)

1251 
	#XK_Gªek_OMEGAac˚¡
 0x07ab

	)

1252 
	#XK_Gªek_ac˚¡dõªsis
 0x07´

	)

1253 
	#XK_Gªek_h‹izb¨
 0x07a‡

	)

1254 
	#XK_Gªek_ÆphØc˚¡
 0x07b1

	)

1255 
	#XK_Gªek_ïsû⁄ac˚¡
 0x07b2

	)

1256 
	#XK_Gªek_ëØc˚¡
 0x07b3

	)

1257 
	#XK_Gªek_iŸØc˚¡
 0x07b4

	)

1258 
	#XK_Gªek_iŸadõªsis
 0x07b5

	)

1259 
	#XK_Gªek_iŸØc˚¡dõªsis
 0x07b6

	)

1260 
	#XK_Gªek_omi¸⁄ac˚¡
 0x07b7

	)

1261 
	#XK_Gªek_upsû⁄ac˚¡
 0x07b8

	)

1262 
	#XK_Gªek_upsû⁄dõªsis
 0x07b9

	)

1263 
	#XK_Gªek_upsû⁄ac˚¡dõªsis
 0x07b®

	)

1264 
	#XK_Gªek_omegØc˚¡
 0x07bb

	)

1265 
	#XK_Gªek_ALPHA
 0x07c1

	)

1266 
	#XK_Gªek_BETA
 0x07c2

	)

1267 
	#XK_Gªek_GAMMA
 0x07c3

	)

1268 
	#XK_Gªek_DELTA
 0x07c4

	)

1269 
	#XK_Gªek_EPSILON
 0x07c5

	)

1270 
	#XK_Gªek_ZETA
 0x07c6

	)

1271 
	#XK_Gªek_ETA
 0x07c7

	)

1272 
	#XK_Gªek_THETA
 0x07c8

	)

1273 
	#XK_Gªek_IOTA
 0x07c9

	)

1274 
	#XK_Gªek_KAPPA
 0x07ˇ

	)

1275 
	#XK_Gªek_LAMDA
 0x07cb

	)

1276 
	#XK_Gªek_LAMBDA
 0x07cb

	)

1277 
	#XK_Gªek_MU
 0x07c¯

	)

1278 
	#XK_Gªek_NU
 0x07cd

	)

1279 
	#XK_Gªek_XI
 0x07˚

	)

1280 
	#XK_Gªek_OMICRON
 0x07c‡

	)

1281 
	#XK_Gªek_PI
 0x07d0

	)

1282 
	#XK_Gªek_RHO
 0x07d1

	)

1283 
	#XK_Gªek_SIGMA
 0x07d2

	)

1284 
	#XK_Gªek_TAU
 0x07d4

	)

1285 
	#XK_Gªek_UPSILON
 0x07d5

	)

1286 
	#XK_Gªek_PHI
 0x07d6

	)

1287 
	#XK_Gªek_CHI
 0x07d7

	)

1288 
	#XK_Gªek_PSI
 0x07d8

	)

1289 
	#XK_Gªek_OMEGA
 0x07d9

	)

1290 
	#XK_Gªek_Æpha
 0x07e1

	)

1291 
	#XK_Gªek_bëa
 0x07e2

	)

1292 
	#XK_Gªek_gamma
 0x07e3

	)

1293 
	#XK_Gªek_dñè
 0x07e4

	)

1294 
	#XK_Gªek_ïsû⁄
 0x07e5

	)

1295 
	#XK_Gªek_zëa
 0x07e6

	)

1296 
	#XK_Gªek_ëa
 0x07e7

	)

1297 
	#XK_Gªek_thëa
 0x07e8

	)

1298 
	#XK_Gªek_iŸa
 0x07e9

	)

1299 
	#XK_Gªek_k≠∑
 0x07ó

	)

1300 
	#XK_Gªek_œmda
 0x07eb

	)

1301 
	#XK_Gªek_œmbda
 0x07eb

	)

1302 
	#XK_Gªek_mu
 0x07e¯

	)

1303 
	#XK_Gªek_nu
 0x07ed

	)

1304 
	#XK_Gªek_xi
 0x07ì

	)

1305 
	#XK_Gªek_omi¸⁄
 0x07e‡

	)

1306 
	#XK_Gªek_pi
 0x07f0

	)

1307 
	#XK_Gªek_rho
 0x07f1

	)

1308 
	#XK_Gªek_sigma
 0x07f2

	)

1309 
	#XK_Gªek_föÆsmÆlsigma
 0x07f3

	)

1310 
	#XK_Gªek_èu
 0x07f4

	)

1311 
	#XK_Gªek_upsû⁄
 0x07f5

	)

1312 
	#XK_Gªek_phi
 0x07f6

	)

1313 
	#XK_Gªek_chi
 0x07f7

	)

1314 
	#XK_Gªek_psi
 0x07f8

	)

1315 
	#XK_Gªek_omega
 0x07f9

	)

1316 
	#XK_Gªek_swôch
 0xff7ê

	)

1325 #ifde‡
XK_TECHNICAL


1326 
	#XK_À·ødiˇl
 0x08a1

	)

1327 
	#XK_t›À·ødiˇl
 0x08a2

	)

1328 
	#XK_h‹izc⁄√˘‹
 0x08a3

	)

1329 
	#XK_t›öãgøl
 0x08a4

	)

1330 
	#XK_bŸöãgøl
 0x08a5

	)

1331 
	#XK_vîtc⁄√˘‹
 0x08a6

	)

1332 
	#XK_t›À·sqbøckë
 0x08a7

	)

1333 
	#XK_bŸÀ·sqbøckë
 0x08a8

	)

1334 
	#XK_t›rightsqbøckë
 0x08a9

	)

1335 
	#XK_bŸrightsqbøckë
 0x08Ø

	)

1336 
	#XK_t›À·∑ªns
 0x08ab

	)

1337 
	#XK_bŸÀ·∑ªns
 0x08a¯

	)

1338 
	#XK_t›righç¨ís
 0x08ad

	)

1339 
	#XK_bŸrighç¨ís
 0x08´

	)

1340 
	#XK_À·middÀcuæybø˚
 0x08a‡

	)

1341 
	#XK_rightmiddÀcuæybø˚
 0x08b0

	)

1342 
	#XK_t›À·summ©i⁄
 0x08b1

	)

1343 
	#XK_bŸÀ·summ©i⁄
 0x08b2

	)

1344 
	#XK_t›vîtsumm©i⁄c⁄√˘‹
 0x08b3

	)

1345 
	#XK_bŸvîtsumm©i⁄c⁄√˘‹
 0x08b4

	)

1346 
	#XK_t›rightsumm©i⁄
 0x08b5

	)

1347 
	#XK_bŸrightsumm©i⁄
 0x08b6

	)

1348 
	#XK_rightmiddÀsumm©i⁄
 0x08b7

	)

1349 
	#XK_Às°h™equÆ
 0x08b¯

	)

1350 
	#XK_nŸequÆ
 0x08bd

	)

1351 
	#XK_gª©îth™equÆ
 0x08bê

	)

1352 
	#XK_öãgøl
 0x08b‡

	)

1353 
	#XK_thîef‹e
 0x08c0

	)

1354 
	#XK_v¨üti⁄
 0x08c1

	)

1355 
	#XK_öföôy
 0x08c2

	)

1356 
	#XK_«bœ
 0x08c5

	)

1357 
	#XK_≠¥oxim©e
 0x08c8

	)

1358 
	#XK_simû¨equÆ
 0x08c9

	)

1359 
	#XK_if⁄lyif
 0x08cd

	)

1360 
	#XK_im∂õs
 0x08˚

	)

1361 
	#XK_idítiˇl
 0x08c‡

	)

1362 
	#XK_ødiˇl
 0x08d6

	)

1363 
	#XK_ö˛udedö
 0x08d®

	)

1364 
	#XK_ö˛udes
 0x08db

	)

1365 
	#XK_öãr£˘i⁄
 0x08d¯

	)

1366 
	#XK_uni⁄
 0x08dd

	)

1367 
	#XK_logiˇœnd
 0x08dê

	)

1368 
	#XK_logiˇl‹
 0x08d‡

	)

1369 
	#XK_∑πüldîiv©ive
 0x08e‡

	)

1370 
	#XK_fun˘i⁄
 0x08f6

	)

1371 
	#XK_À·¨row
 0x08fb

	)

1372 
	#XK_u∑ºow
 0x08f¯

	)

1373 
	#XK_righèºow
 0x08fd

	)

1374 
	#XK_dow«ºow
 0x08„

	)

1383 #ifde‡
XK_SPECIAL


1384 
	#XK_bœnk
 0x09df

	)

1385 
	#XK_sﬁiddüm⁄d
 0x09e0

	)

1386 
	#XK_checkîbﬂrd
 0x09e1

	)

1387 
	#XK_ht
 0x09e2

	)

1388 
	#XK_ff
 0x09e3

	)

1389 
	#XK_¸
 0x09e4

	)

1390 
	#XK_lf
 0x09e5

	)

1391 
	#XK_∆
 0x09e8

	)

1392 
	#XK_vt
 0x09e9

	)

1393 
	#XK_lowrightc‹√r
 0x09ó

	)

1394 
	#XK_u¥ightc‹√r
 0x09eb

	)

1395 
	#XK_u∂e·c‹√r
 0x09e¯

	)

1396 
	#XK_lowÀ·c‹√r
 0x09ed

	)

1397 
	#XK_¸ossöglöes
 0x09ì

	)

1398 
	#XK_h‹izlöesˇn1
 0x09e‡

	)

1399 
	#XK_h‹izlöesˇn3
 0x09f0

	)

1400 
	#XK_h‹izlöesˇn5
 0x09f1

	)

1401 
	#XK_h‹izlöesˇn7
 0x09f2

	)

1402 
	#XK_h‹izlöesˇn9
 0x09f3

	)

1403 
	#XK_À·t
 0x09f4

	)

1404 
	#XK_righâ
 0x09f5

	)

1405 
	#XK_bŸt
 0x09f6

	)

1406 
	#XK_t›t
 0x09f7

	)

1407 
	#XK_vîtb¨
 0x09f8

	)

1417 #ifde‡
XK_PUBLISHING


1418 
	#XK_em•a˚
 0x0Ø1

	)

1419 
	#XK_í•a˚
 0x0Ø2

	)

1420 
	#XK_em3•a˚
 0x0Ø3

	)

1421 
	#XK_em4•a˚
 0x0Ø4

	)

1422 
	#XK_digô•a˚
 0x0Ø5

	)

1423 
	#XK_pun˘•a˚
 0x0Ø6

	)

1424 
	#XK_thö•a˚
 0x0Ø7

	)

1425 
	#XK_haú•a˚
 0x0Ø8

	)

1426 
	#XK_emdash
 0x0Ø9

	)

1427 
	#XK_ídash
 0x0Ø®

	)

1428 
	#XK_signifbœnk
 0x0Ø¯

	)

1429 
	#XK_ñlùsis
 0x0Øê

	)

1430 
	#XK_doubba£löedŸ
 0x0Ø‡

	)

1431 
	#XK_⁄ëhúd
 0x0ab0

	)

1432 
	#XK_twŸhúds
 0x0ab1

	)

1433 
	#XK_⁄efi·h
 0x0ab2

	)

1434 
	#XK_twofi·hs
 0x0ab3

	)

1435 
	#XK_thªefi·hs
 0x0ab4

	)

1436 
	#XK_fourfi·hs
 0x0ab5

	)

1437 
	#XK_⁄esixth
 0x0ab6

	)

1438 
	#XK_fivesixths
 0x0ab7

	)

1439 
	#XK_ˇªof
 0x0ab8

	)

1440 
	#XK_figdash
 0x0abb

	)

1441 
	#XK_À·™gÀbøckë
 0x0ab¯

	)

1442 
	#XK_decimÆpoöt
 0x0abd

	)

1443 
	#XK_righèngÀbøckë
 0x0abê

	)

1444 
	#XK_m¨kî
 0x0abf

	)

1445 
	#XK_⁄ìighth
 0x0ac3

	)

1446 
	#XK_thªìighths
 0x0ac4

	)

1447 
	#XK_fivìighths
 0x0ac5

	)

1448 
	#XK_£víeighths
 0x0ac6

	)

1449 
	#XK_åadem¨k
 0x0ac9

	)

1450 
	#XK_sig«tuªm¨k
 0x0aˇ

	)

1451 
	#XK_åadem¨köcú˛e
 0x0acb

	)

1452 
	#XK_À·›íåüngÀ
 0x0ac¯

	)

1453 
	#XK_right›íåüngÀ
 0x0acd

	)

1454 
	#XK_em›ícú˛e
 0x0a˚

	)

1455 
	#XK_em›íª˘™gÀ
 0x0ac‡

	)

1456 
	#XK_À·sögÀquŸem¨k
 0x0ad0

	)

1457 
	#XK_rightsögÀquŸem¨k
 0x0ad1

	)

1458 
	#XK_À·doubÀquŸem¨k
 0x0ad2

	)

1459 
	#XK_rightdoubÀquŸem¨k
 0x0ad3

	)

1460 
	#XK_¥es¸ùti⁄
 0x0ad4

	)

1461 
	#XK_möuãs
 0x0ad6

	)

1462 
	#XK_£c⁄ds
 0x0ad7

	)

1463 
	#XK_œtö¸oss
 0x0ad9

	)

1464 
	#XK_hexagøm
 0x0ada

	)

1465 
	#XK_fûÀdª˘buŒë
 0x0adb

	)

1466 
	#XK_fûÀdÀ·åibuŒë
 0x0ad¯

	)

1467 
	#XK_fûÀdrighâribuŒë
 0x0add

	)

1468 
	#XK_emfûÀdcú˛e
 0x0adê

	)

1469 
	#XK_emfûÀdª˘
 0x0ad‡

	)

1470 
	#XK_í›ícúcbuŒë
 0x0´0

	)

1471 
	#XK_í›ísqu¨ebuŒë
 0x0´1

	)

1472 
	#XK_›íª˘buŒë
 0x0´2

	)

1473 
	#XK_›íåibuŒëup
 0x0´3

	)

1474 
	#XK_›íåibuŒëdown
 0x0´4

	)

1475 
	#XK_›í°¨
 0x0´5

	)

1476 
	#XK_ífûÀdcúcbuŒë
 0x0´6

	)

1477 
	#XK_ífûÀdsqbuŒë
 0x0´7

	)

1478 
	#XK_fûÀdåibuŒëup
 0x0´8

	)

1479 
	#XK_fûÀdåibuŒëdown
 0x0´9

	)

1480 
	#XK_À·poöãr
 0x0´®

	)

1481 
	#XK_righçoöãr
 0x0´b

	)

1482 
	#XK_˛ub
 0x0´¯

	)

1483 
	#XK_düm⁄d
 0x0´d

	)

1484 
	#XK_hóπ
 0x0´ê

	)

1485 
	#XK_mÆã£¸oss
 0x0af0

	)

1486 
	#XK_daggî
 0x0af1

	)

1487 
	#XK_doubÀdaggî
 0x0af2

	)

1488 
	#XK_checkm¨k
 0x0af3

	)

1489 
	#XK_bÆlŸ¸oss
 0x0af4

	)

1490 
	#XK_musiˇlsh¨p
 0x0af5

	)

1491 
	#XK_musiˇlÊ©
 0x0af6

	)

1492 
	#XK_mÆesymbﬁ
 0x0af7

	)

1493 
	#XK_„mÆesymbﬁ
 0x0af8

	)

1494 
	#XK_ãÀph⁄e
 0x0af9

	)

1495 
	#XK_ãÀph⁄îec‹dî
 0x0aÁ

	)

1496 
	#XK_ph⁄ogøphc›yright
 0x0afb

	)

1497 
	#XK_ˇªt
 0x0af¯

	)

1498 
	#XK_sögÀlowquŸem¨k
 0x0afd

	)

1499 
	#XK_doubÀlowquŸem¨k
 0x0a„

	)

1500 
	#XK_curs‹
 0x0aff

	)

1508 #ifde‡
XK_APL


1509 
	#XK_À·ˇªt
 0x0ba3

	)

1510 
	#XK_rightˇªt
 0x0ba6

	)

1511 
	#XK_downˇªt
 0x0ba8

	)

1512 
	#XK_upˇªt
 0x0ba9

	)

1513 
	#XK_ovîb¨
 0x0bc0

	)

1514 
	#XK_dow¡ack
 0x0bc2

	)

1515 
	#XK_upsh€
 0x0bc3

	)

1516 
	#XK_down°ûe
 0x0bc4

	)

1517 
	#XK_undîb¨
 0x0bc6

	)

1518 
	#XK_jŸ
 0x0bˇ

	)

1519 
	#XK_quad
 0x0bc¯

	)

1520 
	#XK_u±ack
 0x0b˚

	)

1521 
	#XK_cú˛e
 0x0bc‡

	)

1522 
	#XK_up°ûe
 0x0bd3

	)

1523 
	#XK_downsh€
 0x0bd6

	)

1524 
	#XK_rightsh€
 0x0bd8

	)

1525 
	#XK_À·sh€
 0x0bd®

	)

1526 
	#XK_À·èck
 0x0bd¯

	)

1527 
	#XK_righâack
 0x0bf¯

	)

1535 #ifde‡
XK_HEBREW


1536 
	#XK_hebªw_doubÀlowlöe
 0x0cd‡

	)

1537 
	#XK_hebªw_Æïh
 0x0˚0

	)

1538 
	#XK_hebªw_bë
 0x0˚1

	)

1539 
	#XK_hebªw_bëh
 0x0˚1

	)

1540 
	#XK_hebªw_gimñ
 0x0˚2

	)

1541 
	#XK_hebªw_gimmñ
 0x0˚2

	)

1542 
	#XK_hebªw_dÆë
 0x0˚3

	)

1543 
	#XK_hebªw_dÆëh
 0x0˚3

	)

1544 
	#XK_hebªw_he
 0x0˚4

	)

1545 
	#XK_hebªw_waw
 0x0˚5

	)

1546 
	#XK_hebªw_zaö
 0x0˚6

	)

1547 
	#XK_hebªw_zayö
 0x0˚6

	)

1548 
	#XK_hebªw_chë
 0x0˚7

	)

1549 
	#XK_hebªw_hë
 0x0˚7

	)

1550 
	#XK_hebªw_ãt
 0x0˚8

	)

1551 
	#XK_hebªw_ãth
 0x0˚8

	)

1552 
	#XK_hebªw_yod
 0x0˚9

	)

1553 
	#XK_hebªw_föÆk≠h
 0x0˚®

	)

1554 
	#XK_hebªw_k≠h
 0x0˚b

	)

1555 
	#XK_hebªw_œmed
 0x0˚¯

	)

1556 
	#XK_hebªw_föÆmem
 0x0˚d

	)

1557 
	#XK_hebªw_mem
 0x0˚ê

	)

1558 
	#XK_hebªw_föÆnun
 0x0˚‡

	)

1559 
	#XK_hebªw_nun
 0x0cf0

	)

1560 
	#XK_hebªw_ßmech
 0x0cf1

	)

1561 
	#XK_hebªw_ßmekh
 0x0cf1

	)

1562 
	#XK_hebªw_ayö
 0x0cf2

	)

1563 
	#XK_hebªw_föÆ≥
 0x0cf3

	)

1564 
	#XK_hebªw_≥
 0x0cf4

	)

1565 
	#XK_hebªw_föÆzade
 0x0cf5

	)

1566 
	#XK_hebªw_föÆzadi
 0x0cf5

	)

1567 
	#XK_hebªw_zade
 0x0cf6

	)

1568 
	#XK_hebªw_zadi
 0x0cf6

	)

1569 
	#XK_hebªw_q›h
 0x0cf7

	)

1570 
	#XK_hebªw_kuf
 0x0cf7

	)

1571 
	#XK_hebªw_ªsh
 0x0cf8

	)

1572 
	#XK_hebªw_shö
 0x0cf9

	)

1573 
	#XK_hebªw_èw
 0x0cÁ

	)

1574 
	#XK_hebªw_èf
 0x0cÁ

	)

1575 
	#XK_Hebªw_swôch
 0xff7ê

	)

1583 #ifde‡
XK_THAI


1584 
	#XK_Thai_kokai
 0x0da1

	)

1585 
	#XK_Thai_khokhai
 0x0da2

	)

1586 
	#XK_Thai_khokhu©
 0x0da3

	)

1587 
	#XK_Thai_khokhwai
 0x0da4

	)

1588 
	#XK_Thai_khokh⁄
 0x0da5

	)

1589 
	#XK_Thai_kh‹akh™g
 0x0da6

	)

1590 
	#XK_Thai_ng⁄gu
 0x0da7

	)

1591 
	#XK_Thai_choch™
 0x0da8

	)

1592 
	#XK_Thai_chochög
 0x0da9

	)

1593 
	#XK_Thai_choch™g
 0x0dØ

	)

1594 
	#XK_Thai_soso
 0x0dab

	)

1595 
	#XK_Thai_choch€
 0x0da¯

	)

1596 
	#XK_Thai_yoyög
 0x0dad

	)

1597 
	#XK_Thai_dochada
 0x0d´

	)

1598 
	#XK_Thai_t›©ak
 0x0da‡

	)

1599 
	#XK_Thai_thŸh™
 0x0db0

	)

1600 
	#XK_Thai_th⁄™gm⁄tho
 0x0db1

	)

1601 
	#XK_Thai_th›huthao
 0x0db2

	)

1602 
	#XK_Thai_n⁄í
 0x0db3

	)

1603 
	#XK_Thai_dodek
 0x0db4

	)

1604 
	#XK_Thai_tŸao
 0x0db5

	)

1605 
	#XK_Thai_thŸhung
 0x0db6

	)

1606 
	#XK_Thai_thŸhah™
 0x0db7

	)

1607 
	#XK_Thai_thŸh⁄g
 0x0db8

	)

1608 
	#XK_Thai_n⁄u
 0x0db9

	)

1609 
	#XK_Thai_bobaimai
 0x0db®

	)

1610 
	#XK_Thai_p›œ
 0x0dbb

	)

1611 
	#XK_Thai_ph›hung
 0x0db¯

	)

1612 
	#XK_Thai_foÁ
 0x0dbd

	)

1613 
	#XK_Thai_ph›h™
 0x0dbê

	)

1614 
	#XK_Thai_foÁn
 0x0db‡

	)

1615 
	#XK_Thai_phoßmphao
 0x0dc0

	)

1616 
	#XK_Thai_moma
 0x0dc1

	)

1617 
	#XK_Thai_yoyak
 0x0dc2

	)

1618 
	#XK_Thai_r‹ua
 0x0dc3

	)

1619 
	#XK_Thai_ru
 0x0dc4

	)

1620 
	#XK_Thai_lﬁög
 0x0dc5

	)

1621 
	#XK_Thai_lu
 0x0dc6

	)

1622 
	#XK_Thai_wow´n
 0x0dc7

	)

1623 
	#XK_Thai_soßœ
 0x0dc8

	)

1624 
	#XK_Thai_s‹usi
 0x0dc9

	)

1625 
	#XK_Thai_sosua
 0x0dˇ

	)

1626 
	#XK_Thai_hohù
 0x0dcb

	)

1627 
	#XK_Thai_lochuœ
 0x0dc¯

	)

1628 
	#XK_Thai_ﬂng
 0x0dcd

	)

1629 
	#XK_Thai_h⁄okhuk
 0x0d˚

	)

1630 
	#XK_Thai_∑iy™noi
 0x0dc‡

	)

1631 
	#XK_Thai_ßøa
 0x0dd0

	)

1632 
	#XK_Thai_maih™ak©
 0x0dd1

	)

1633 
	#XK_Thai_ßøØ
 0x0dd2

	)

1634 
	#XK_Thai_ßøam
 0x0dd3

	)

1635 
	#XK_Thai_ßøi
 0x0dd4

	)

1636 
	#XK_Thai_ßøii
 0x0dd5

	)

1637 
	#XK_Thai_ßøue
 0x0dd6

	)

1638 
	#XK_Thai_ßøuì
 0x0dd7

	)

1639 
	#XK_Thai_ßøu
 0x0dd8

	)

1640 
	#XK_Thai_ßøuu
 0x0dd9

	)

1641 
	#XK_Thai_phöthu
 0x0dd®

	)

1642 
	#XK_Thai_maih™ak©_maôho
 0x0dde

	)

1643 
	#XK_Thai_baht
 0x0dd‡

	)

1644 
	#XK_Thai_ßøe
 0x0de0

	)

1645 
	#XK_Thai_ßø´
 0x0de1

	)

1646 
	#XK_Thai_ßøo
 0x0de2

	)

1647 
	#XK_Thai_ßøaimaimu™
 0x0de3

	)

1648 
	#XK_Thai_ßøaimaimÆai
 0x0de4

	)

1649 
	#XK_Thai_œkkh™gyao
 0x0de5

	)

1650 
	#XK_Thai_maiyamok
 0x0de6

	)

1651 
	#XK_Thai_maôaikhu
 0x0de7

	)

1652 
	#XK_Thai_maõk
 0x0de8

	)

1653 
	#XK_Thai_maôho
 0x0de9

	)

1654 
	#XK_Thai_maôri
 0x0dó

	)

1655 
	#XK_Thai_maich©èwa
 0x0deb

	)

1656 
	#XK_Thai_th™thakh©
 0x0de¯

	)

1657 
	#XK_Thai_nikhahô
 0x0ded

	)

1658 
	#XK_Thai_Àksun
 0x0df0

	)

1659 
	#XK_Thai_Àknung
 0x0df1

	)

1660 
	#XK_Thai_Àks⁄g
 0x0df2

	)

1661 
	#XK_Thai_Àkßm
 0x0df3

	)

1662 
	#XK_Thai_Àksi
 0x0df4

	)

1663 
	#XK_Thai_Àkha
 0x0df5

	)

1664 
	#XK_Thai_Àkhok
 0x0df6

	)

1665 
	#XK_Thai_Àkchë
 0x0df7

	)

1666 
	#XK_Thai_Àk∑ë
 0x0df8

	)

1667 
	#XK_Thai_Àkkao
 0x0df9

	)

1675 #ifde‡
XK_KOREAN


1677 
	#XK_H™gul
 0xff31

	)

1678 
	#XK_H™gul_Sèπ
 0xff32

	)

1679 
	#XK_H™gul_End
 0xff33

	)

1680 
	#XK_H™gul_H™ja
 0xff34

	)

1681 
	#XK_H™gul_Jamo
 0xff35

	)

1682 
	#XK_H™gul_Romaja
 0xff36

	)

1683 
	#XK_H™gul_Codeöput
 0xff37

	)

1684 
	#XK_H™gul_Je⁄ja
 0xff38

	)

1685 
	#XK_H™gul_B™ja
 0xff39

	)

1686 
	#XK_H™gul_PªH™ja
 0xff3®

	)

1687 
	#XK_H™gul_Po°H™ja
 0xff3b

	)

1688 
	#XK_H™gul_SögÀC™did©e
 0xff3¯

	)

1689 
	#XK_H™gul_Mu…ùÀC™did©e
 0xff3d

	)

1690 
	#XK_H™gul_PªviousC™did©e
 0xff3ê

	)

1691 
	#XK_H™gul_S≥cül
 0xff3‡

	)

1692 
	#XK_H™gul_swôch
 0xff7ê

	)

1695 
	#XK_H™gul_Kiyeog
 0x0ó1

	)

1696 
	#XK_H™gul_SßngKiyeog
 0x0ó2

	)

1697 
	#XK_H™gul_KiyeogSios
 0x0ó3

	)

1698 
	#XK_H™gul_Nõun
 0x0ó4

	)

1699 
	#XK_H™gul_NõunJõuj
 0x0ó5

	)

1700 
	#XK_H™gul_NõunHõuh
 0x0ó6

	)

1701 
	#XK_H™gul_Dikeud
 0x0ó7

	)

1702 
	#XK_H™gul_SßngDikeud
 0x0ó8

	)

1703 
	#XK_H™gul_Rõul
 0x0ó9

	)

1704 
	#XK_H™gul_RõulKiyeog
 0x0óa

	)

1705 
	#XK_H™gul_RõulMõum
 0x0ób

	)

1706 
	#XK_H™gul_RõulPõub
 0x0óc

	)

1707 
	#XK_H™gul_RõulSios
 0x0ód

	)

1708 
	#XK_H™gul_RõulTõut
 0x0óe

	)

1709 
	#XK_H™gul_RõulPhõuf
 0x0óf

	)

1710 
	#XK_H™gul_RõulHõuh
 0x0eb0

	)

1711 
	#XK_H™gul_Mõum
 0x0eb1

	)

1712 
	#XK_H™gul_Põub
 0x0eb2

	)

1713 
	#XK_H™gul_SßngPõub
 0x0eb3

	)

1714 
	#XK_H™gul_PõubSios
 0x0eb4

	)

1715 
	#XK_H™gul_Sios
 0x0eb5

	)

1716 
	#XK_H™gul_SßngSios
 0x0eb6

	)

1717 
	#XK_H™gul_Ieung
 0x0eb7

	)

1718 
	#XK_H™gul_Jõuj
 0x0eb8

	)

1719 
	#XK_H™gul_SßngJõuj
 0x0eb9

	)

1720 
	#XK_H™gul_Cõuc
 0x0eba

	)

1721 
	#XK_H™gul_Khõuq
 0x0ebb

	)

1722 
	#XK_H™gul_Tõut
 0x0ebc

	)

1723 
	#XK_H™gul_Phõuf
 0x0ebd

	)

1724 
	#XK_H™gul_Hõuh
 0x0ebe

	)

1727 
	#XK_H™gul_A
 0x0ebf

	)

1728 
	#XK_H™gul_AE
 0x0ec0

	)

1729 
	#XK_H™gul_YA
 0x0ec1

	)

1730 
	#XK_H™gul_YAE
 0x0ec2

	)

1731 
	#XK_H™gul_EO
 0x0ec3

	)

1732 
	#XK_H™gul_E
 0x0ec4

	)

1733 
	#XK_H™gul_YEO
 0x0ec5

	)

1734 
	#XK_H™gul_YE
 0x0ec6

	)

1735 
	#XK_H™gul_O
 0x0ec7

	)

1736 
	#XK_H™gul_WA
 0x0ec8

	)

1737 
	#XK_H™gul_WAE
 0x0ec9

	)

1738 
	#XK_H™gul_OE
 0x0eˇ

	)

1739 
	#XK_H™gul_YO
 0x0ecb

	)

1740 
	#XK_H™gul_U
 0x0ecc

	)

1741 
	#XK_H™gul_WEO
 0x0ecd

	)

1742 
	#XK_H™gul_WE
 0x0e˚

	)

1743 
	#XK_H™gul_WI
 0x0ecf

	)

1744 
	#XK_H™gul_YU
 0x0ed0

	)

1745 
	#XK_H™gul_EU
 0x0ed1

	)

1746 
	#XK_H™gul_YI
 0x0ed2

	)

1747 
	#XK_H™gul_I
 0x0ed3

	)

1750 
	#XK_H™gul_J_Kiyeog
 0x0ed4

	)

1751 
	#XK_H™gul_J_SßngKiyeog
 0x0ed5

	)

1752 
	#XK_H™gul_J_KiyeogSios
 0x0ed6

	)

1753 
	#XK_H™gul_J_Nõun
 0x0ed7

	)

1754 
	#XK_H™gul_J_NõunJõuj
 0x0ed8

	)

1755 
	#XK_H™gul_J_NõunHõuh
 0x0ed9

	)

1756 
	#XK_H™gul_J_Dikeud
 0x0eda

	)

1757 
	#XK_H™gul_J_Rõul
 0x0edb

	)

1758 
	#XK_H™gul_J_RõulKiyeog
 0x0edc

	)

1759 
	#XK_H™gul_J_RõulMõum
 0x0edd

	)

1760 
	#XK_H™gul_J_RõulPõub
 0x0ede

	)

1761 
	#XK_H™gul_J_RõulSios
 0x0edf

	)

1762 
	#XK_H™gul_J_RõulTõut
 0x0ì0

	)

1763 
	#XK_H™gul_J_RõulPhõuf
 0x0ì1

	)

1764 
	#XK_H™gul_J_RõulHõuh
 0x0ì2

	)

1765 
	#XK_H™gul_J_Mõum
 0x0ì3

	)

1766 
	#XK_H™gul_J_Põub
 0x0ì4

	)

1767 
	#XK_H™gul_J_PõubSios
 0x0ì5

	)

1768 
	#XK_H™gul_J_Sios
 0x0ì6

	)

1769 
	#XK_H™gul_J_SßngSios
 0x0ì7

	)

1770 
	#XK_H™gul_J_Ieung
 0x0ì8

	)

1771 
	#XK_H™gul_J_Jõuj
 0x0ì9

	)

1772 
	#XK_H™gul_J_Cõuc
 0x0ìa

	)

1773 
	#XK_H™gul_J_Khõuq
 0x0ìb

	)

1774 
	#XK_H™gul_J_Tõut
 0x0ìc

	)

1775 
	#XK_H™gul_J_Phõuf
 0x0ìd

	)

1776 
	#XK_H™gul_J_Hõuh
 0x0ìe

	)

1779 
	#XK_H™gul_RõulYe‹öHõuh
 0x0ìf

	)

1780 
	#XK_H™gul_Sunkye⁄geumMõum
 0x0ef0

	)

1781 
	#XK_H™gul_Sunkye⁄geumPõub
 0x0ef1

	)

1782 
	#XK_H™gul_P™Sios
 0x0ef2

	)

1783 
	#XK_H™gul_KkogjiDÆröIeung
 0x0ef3

	)

1784 
	#XK_H™gul_Sunkye⁄geumPhõuf
 0x0ef4

	)

1785 
	#XK_H™gul_Ye‹öHõuh
 0x0ef5

	)

1788 
	#XK_H™gul_AøeA
 0x0ef6

	)

1789 
	#XK_H™gul_AøeAE
 0x0ef7

	)

1792 
	#XK_H™gul_J_P™Sios
 0x0ef8

	)

1793 
	#XK_H™gul_J_KkogjiDÆröIeung
 0x0ef9

	)

1794 
	#XK_H™gul_J_Ye‹öHõuh
 0x0eÁ

	)

1797 
	#XK_K‹ón_W⁄
 0x0ef‡

	)

1805 #ifde‡
XK_ARMENIAN


1806 
	#XK_Armíün_lig©uª_ew
 0x1000587

	)

1807 
	#XK_Armíün_fuŒ_°›
 0x1000589

	)

1808 
	#XK_Armíün_vîjakë
 0x1000589

	)

1809 
	#XK_Armíün_£∑øti⁄_m¨k
 0x100055d

	)

1810 
	#XK_Armíün_but
 0x100055d

	)

1811 
	#XK_Armíün_hyphí
 0x100058®

	)

1812 
	#XK_Armíün_yíèm«
 0x100058®

	)

1813 
	#XK_Armíün_ex˛am
 0x100055¯

	)

1814 
	#XK_Armíün_am™ak
 0x100055¯

	)

1815 
	#XK_Armíün_ac˚¡
 0x100055b

	)

1816 
	#XK_Armíün_shesht
 0x100055b

	)

1817 
	#XK_Armíün_que°i⁄
 0x100055ê

	)

1818 
	#XK_Armíün_∑ruyk
 0x100055ê

	)

1819 
	#XK_Armíün_AYB
 0x1000531

	)

1820 
	#XK_Armíün_ayb
 0x1000561

	)

1821 
	#XK_Armíün_BEN
 0x1000532

	)

1822 
	#XK_Armíün_bí
 0x1000562

	)

1823 
	#XK_Armíün_GIM
 0x1000533

	)

1824 
	#XK_Armíün_gim
 0x1000563

	)

1825 
	#XK_Armíün_DA
 0x1000534

	)

1826 
	#XK_Armíün_da
 0x1000564

	)

1827 
	#XK_Armíün_YECH
 0x1000535

	)

1828 
	#XK_Armíün_yech
 0x1000565

	)

1829 
	#XK_Armíün_ZA
 0x1000536

	)

1830 
	#XK_Armíün_za
 0x1000566

	)

1831 
	#XK_Armíün_E
 0x1000537

	)

1832 
	#XK_Armíün_e
 0x1000567

	)

1833 
	#XK_Armíün_AT
 0x1000538

	)

1834 
	#XK_Armíün_©
 0x1000568

	)

1835 
	#XK_Armíün_TO
 0x1000539

	)

1836 
	#XK_Armíün_to
 0x1000569

	)

1837 
	#XK_Armíün_ZHE
 0x100053®

	)

1838 
	#XK_Armíün_zhe
 0x100056®

	)

1839 
	#XK_Armíün_INI
 0x100053b

	)

1840 
	#XK_Armíün_öi
 0x100056b

	)

1841 
	#XK_Armíün_LYUN
 0x100053¯

	)

1842 
	#XK_Armíün_lyun
 0x100056¯

	)

1843 
	#XK_Armíün_KHE
 0x100053d

	)

1844 
	#XK_Armíün_khe
 0x100056d

	)

1845 
	#XK_Armíün_TSA
 0x100053ê

	)

1846 
	#XK_Armíün_tß
 0x100056ê

	)

1847 
	#XK_Armíün_KEN
 0x100053‡

	)

1848 
	#XK_Armíün_kí
 0x100056‡

	)

1849 
	#XK_Armíün_HO
 0x1000540

	)

1850 
	#XK_Armíün_ho
 0x1000570

	)

1851 
	#XK_Armíün_DZA
 0x1000541

	)

1852 
	#XK_Armíün_dza
 0x1000571

	)

1853 
	#XK_Armíün_GHAT
 0x1000542

	)

1854 
	#XK_Armíün_gh©
 0x1000572

	)

1855 
	#XK_Armíün_TCHE
 0x1000543

	)

1856 
	#XK_Armíün_tche
 0x1000573

	)

1857 
	#XK_Armíün_MEN
 0x1000544

	)

1858 
	#XK_Armíün_mí
 0x1000574

	)

1859 
	#XK_Armíün_HI
 0x1000545

	)

1860 
	#XK_Armíün_hi
 0x1000575

	)

1861 
	#XK_Armíün_NU
 0x1000546

	)

1862 
	#XK_Armíün_nu
 0x1000576

	)

1863 
	#XK_Armíün_SHA
 0x1000547

	)

1864 
	#XK_Armíün_sha
 0x1000577

	)

1865 
	#XK_Armíün_VO
 0x1000548

	)

1866 
	#XK_Armíün_vo
 0x1000578

	)

1867 
	#XK_Armíün_CHA
 0x1000549

	)

1868 
	#XK_Armíün_cha
 0x1000579

	)

1869 
	#XK_Armíün_PE
 0x100054®

	)

1870 
	#XK_Armíün_≥
 0x100057®

	)

1871 
	#XK_Armíün_JE
 0x100054b

	)

1872 
	#XK_Armíün_je
 0x100057b

	)

1873 
	#XK_Armíün_RA
 0x100054¯

	)

1874 
	#XK_Armíün_ø
 0x100057¯

	)

1875 
	#XK_Armíün_SE
 0x100054d

	)

1876 
	#XK_Armíün_£
 0x100057d

	)

1877 
	#XK_Armíün_VEV
 0x100054ê

	)

1878 
	#XK_Armíün_vev
 0x100057ê

	)

1879 
	#XK_Armíün_TYUN
 0x100054‡

	)

1880 
	#XK_Armíün_tyun
 0x100057‡

	)

1881 
	#XK_Armíün_RE
 0x1000550

	)

1882 
	#XK_Armíün_ª
 0x1000580

	)

1883 
	#XK_Armíün_TSO
 0x1000551

	)

1884 
	#XK_Armíün_tso
 0x1000581

	)

1885 
	#XK_Armíün_VYUN
 0x1000552

	)

1886 
	#XK_Armíün_vyun
 0x1000582

	)

1887 
	#XK_Armíün_PYUR
 0x1000553

	)

1888 
	#XK_Armíün_pyur
 0x1000583

	)

1889 
	#XK_Armíün_KE
 0x1000554

	)

1890 
	#XK_Armíün_ke
 0x1000584

	)

1891 
	#XK_Armíün_O
 0x1000555

	)

1892 
	#XK_Armíün_o
 0x1000585

	)

1893 
	#XK_Armíün_FE
 0x1000556

	)

1894 
	#XK_Armíün_„
 0x1000586

	)

1895 
	#XK_Armíün_≠o°r›he
 0x100055®

	)

1902 #ifde‡
XK_GEORGIAN


1903 
	#XK_Ge‹gün_™
 0x10010d0

	)

1904 
	#XK_Ge‹gün_b™
 0x10010d1

	)

1905 
	#XK_Ge‹gün_g™
 0x10010d2

	)

1906 
	#XK_Ge‹gün_d⁄
 0x10010d3

	)

1907 
	#XK_Ge‹gün_í
 0x10010d4

	)

1908 
	#XK_Ge‹gün_vö
 0x10010d5

	)

1909 
	#XK_Ge‹gün_zí
 0x10010d6

	)

1910 
	#XK_Ge‹gün_èn
 0x10010d7

	)

1911 
	#XK_Ge‹gün_ö
 0x10010d8

	)

1912 
	#XK_Ge‹gün_k™
 0x10010d9

	)

1913 
	#XK_Ge‹gün_œs
 0x10010d®

	)

1914 
	#XK_Ge‹gün_m™
 0x10010db

	)

1915 
	#XK_Ge‹gün_«r
 0x10010d¯

	)

1916 
	#XK_Ge‹gün_⁄
 0x10010dd

	)

1917 
	#XK_Ge‹gün_∑r
 0x10010dê

	)

1918 
	#XK_Ge‹gün_zh¨
 0x10010d‡

	)

1919 
	#XK_Ge‹gün_øe
 0x10010e0

	)

1920 
	#XK_Ge‹gün_ßn
 0x10010e1

	)

1921 
	#XK_Ge‹gün_èr
 0x10010e2

	)

1922 
	#XK_Ge‹gün_un
 0x10010e3

	)

1923 
	#XK_Ge‹gün_ph¨
 0x10010e4

	)

1924 
	#XK_Ge‹gün_kh¨
 0x10010e5

	)

1925 
	#XK_Ge‹gün_gh™
 0x10010e6

	)

1926 
	#XK_Ge‹gün_q¨
 0x10010e7

	)

1927 
	#XK_Ge‹gün_shö
 0x10010e8

	)

1928 
	#XK_Ge‹gün_chö
 0x10010e9

	)

1929 
	#XK_Ge‹gün_ˇn
 0x10010ó

	)

1930 
	#XK_Ge‹gün_jû
 0x10010eb

	)

1931 
	#XK_Ge‹gün_cû
 0x10010e¯

	)

1932 
	#XK_Ge‹gün_ch¨
 0x10010ed

	)

1933 
	#XK_Ge‹gün_x™
 0x10010ì

	)

1934 
	#XK_Ge‹gün_jh™
 0x10010e‡

	)

1935 
	#XK_Ge‹gün_h´
 0x10010f0

	)

1936 
	#XK_Ge‹gün_he
 0x10010f1

	)

1937 
	#XK_Ge‹gün_hõ
 0x10010f2

	)

1938 
	#XK_Ge‹gün_we
 0x10010f3

	)

1939 
	#XK_Ge‹gün_h¨
 0x10010f4

	)

1940 
	#XK_Ge‹gün_h€
 0x10010f5

	)

1941 
	#XK_Ge‹gün_fi
 0x10010f6

	)

1948 #ifde‡
XK_CAUCASUS


1950 
	#XK_XabovedŸ
 0x1001e8®

	)

1951 
	#XK_Ibªve
 0x100012¯

	)

1952 
	#XK_Z°roke
 0x10001b5

	)

1953 
	#XK_Gˇr⁄
 0x10001e6

	)

1954 
	#XK_Oˇr⁄
 0x10001d1

	)

1955 
	#XK_Ob¨ªd
 0x100019‡

	)

1956 
	#XK_xabovedŸ
 0x1001e8b

	)

1957 
	#XK_ibªve
 0x100012d

	)

1958 
	#XK_z°roke
 0x10001b6

	)

1959 
	#XK_gˇr⁄
 0x10001e7

	)

1960 
	#XK_oˇr⁄
 0x10001d2

	)

1961 
	#XK_ob¨ªd
 0x1000275

	)

1962 
	#XK_SCHWA
 0x100018‡

	)

1963 
	#XK_schwa
 0x1000259

	)

1966 
	#XK_LbñowdŸ
 0x1001e36

	)

1967 
	#XK_lbñowdŸ
 0x1001e37

	)

1974 #ifde‡
XK_VIETNAMESE


1975 
	#XK_AbñowdŸ
 0x1001ó0

	)

1976 
	#XK_abñowdŸ
 0x1001ó1

	)

1977 
	#XK_Ahook
 0x1001ó2

	)

1978 
	#XK_ahook
 0x1001ó3

	)

1979 
	#XK_AcúcumÊexacuã
 0x1001ó4

	)

1980 
	#XK_acúcumÊexacuã
 0x1001ó5

	)

1981 
	#XK_AcúcumÊexgøve
 0x1001ó6

	)

1982 
	#XK_acúcumÊexgøve
 0x1001ó7

	)

1983 
	#XK_AcúcumÊexhook
 0x1001ó8

	)

1984 
	#XK_acúcumÊexhook
 0x1001ó9

	)

1985 
	#XK_AcúcumÊextûde
 0x1001ó®

	)

1986 
	#XK_acúcumÊextûde
 0x1001ób

	)

1987 
	#XK_AcúcumÊexbñowdŸ
 0x1001ó¯

	)

1988 
	#XK_acúcumÊexbñowdŸ
 0x1001ód

	)

1989 
	#XK_Abªvócuã
 0x1001óê

	)

1990 
	#XK_abªvócuã
 0x1001ó‡

	)

1991 
	#XK_Abªvegøve
 0x1001eb0

	)

1992 
	#XK_abªvegøve
 0x1001eb1

	)

1993 
	#XK_Abªvehook
 0x1001eb2

	)

1994 
	#XK_abªvehook
 0x1001eb3

	)

1995 
	#XK_Abªvëûde
 0x1001eb4

	)

1996 
	#XK_abªvëûde
 0x1001eb5

	)

1997 
	#XK_AbªvebñowdŸ
 0x1001eb6

	)

1998 
	#XK_abªvebñowdŸ
 0x1001eb7

	)

1999 
	#XK_EbñowdŸ
 0x1001eb8

	)

2000 
	#XK_ebñowdŸ
 0x1001eb9

	)

2001 
	#XK_Ehook
 0x1001eb®

	)

2002 
	#XK_ehook
 0x1001ebb

	)

2003 
	#XK_Etûde
 0x1001eb¯

	)

2004 
	#XK_ëûde
 0x1001ebd

	)

2005 
	#XK_EcúcumÊexacuã
 0x1001ebê

	)

2006 
	#XK_ecúcumÊexacuã
 0x1001eb‡

	)

2007 
	#XK_EcúcumÊexgøve
 0x1001ec0

	)

2008 
	#XK_ecúcumÊexgøve
 0x1001ec1

	)

2009 
	#XK_EcúcumÊexhook
 0x1001ec2

	)

2010 
	#XK_ecúcumÊexhook
 0x1001ec3

	)

2011 
	#XK_EcúcumÊextûde
 0x1001ec4

	)

2012 
	#XK_ecúcumÊextûde
 0x1001ec5

	)

2013 
	#XK_EcúcumÊexbñowdŸ
 0x1001ec6

	)

2014 
	#XK_ecúcumÊexbñowdŸ
 0x1001ec7

	)

2015 
	#XK_Ihook
 0x1001ec8

	)

2016 
	#XK_ihook
 0x1001ec9

	)

2017 
	#XK_IbñowdŸ
 0x1001eˇ

	)

2018 
	#XK_ibñowdŸ
 0x1001ecb

	)

2019 
	#XK_ObñowdŸ
 0x1001ec¯

	)

2020 
	#XK_obñowdŸ
 0x1001ecd

	)

2021 
	#XK_Ohook
 0x1001e˚

	)

2022 
	#XK_ohook
 0x1001ec‡

	)

2023 
	#XK_OcúcumÊexacuã
 0x1001ed0

	)

2024 
	#XK_ocúcumÊexacuã
 0x1001ed1

	)

2025 
	#XK_OcúcumÊexgøve
 0x1001ed2

	)

2026 
	#XK_ocúcumÊexgøve
 0x1001ed3

	)

2027 
	#XK_OcúcumÊexhook
 0x1001ed4

	)

2028 
	#XK_ocúcumÊexhook
 0x1001ed5

	)

2029 
	#XK_OcúcumÊextûde
 0x1001ed6

	)

2030 
	#XK_ocúcumÊextûde
 0x1001ed7

	)

2031 
	#XK_OcúcumÊexbñowdŸ
 0x1001ed8

	)

2032 
	#XK_ocúcumÊexbñowdŸ
 0x1001ed9

	)

2033 
	#XK_Oh‹«cuã
 0x1001ed®

	)

2034 
	#XK_oh‹«cuã
 0x1001edb

	)

2035 
	#XK_Oh‹ngøve
 0x1001ed¯

	)

2036 
	#XK_oh‹ngøve
 0x1001edd

	)

2037 
	#XK_Oh‹nhook
 0x1001edê

	)

2038 
	#XK_oh‹nhook
 0x1001ed‡

	)

2039 
	#XK_Oh‹¡ûde
 0x1001ì0

	)

2040 
	#XK_oh‹¡ûde
 0x1001ì1

	)

2041 
	#XK_Oh‹nbñowdŸ
 0x1001ì2

	)

2042 
	#XK_oh‹nbñowdŸ
 0x1001ì3

	)

2043 
	#XK_UbñowdŸ
 0x1001ì4

	)

2044 
	#XK_ubñowdŸ
 0x1001ì5

	)

2045 
	#XK_Uhook
 0x1001ì6

	)

2046 
	#XK_uhook
 0x1001ì7

	)

2047 
	#XK_Uh‹«cuã
 0x1001ì8

	)

2048 
	#XK_uh‹«cuã
 0x1001ì9

	)

2049 
	#XK_Uh‹ngøve
 0x1001ì®

	)

2050 
	#XK_uh‹ngøve
 0x1001ìb

	)

2051 
	#XK_Uh‹nhook
 0x1001ì¯

	)

2052 
	#XK_uh‹nhook
 0x1001ìd

	)

2053 
	#XK_Uh‹¡ûde
 0x1001ìê

	)

2054 
	#XK_uh‹¡ûde
 0x1001ì‡

	)

2055 
	#XK_Uh‹nbñowdŸ
 0x1001ef0

	)

2056 
	#XK_uh‹nbñowdŸ
 0x1001ef1

	)

2057 
	#XK_YbñowdŸ
 0x1001ef4

	)

2058 
	#XK_ybñowdŸ
 0x1001ef5

	)

2059 
	#XK_Yhook
 0x1001ef6

	)

2060 
	#XK_yhook
 0x1001ef7

	)

2061 
	#XK_Ytûde
 0x1001ef8

	)

2062 
	#XK_ytûde
 0x1001ef9

	)

2063 
	#XK_Oh‹n
 0x10001a0

	)

2064 
	#XK_oh‹n
 0x10001a1

	)

2065 
	#XK_Uh‹n
 0x10001a‡

	)

2066 
	#XK_uh‹n
 0x10001b0

	)

2070 #ifde‡
XK_CURRENCY


2071 
	#XK_EcuSign
 0x10020a0

	)

2072 
	#XK_Cﬁ⁄Sign
 0x10020a1

	)

2073 
	#XK_CruzeúoSign
 0x10020a2

	)

2074 
	#XK_FFøncSign
 0x10020a3

	)

2075 
	#XK_LúaSign
 0x10020a4

	)

2076 
	#XK_MûlSign
 0x10020a5

	)

2077 
	#XK_NaúaSign
 0x10020a6

	)

2078 
	#XK_Pe£èSign
 0x10020a7

	)

2079 
	#XK_Ru≥eSign
 0x10020a8

	)

2080 
	#XK_W⁄Sign
 0x10020a9

	)

2081 
	#XK_NewSheqñSign
 0x10020Ø

	)

2082 
	#XK_D⁄gSign
 0x10020ab

	)

2083 
	#XK_EuroSign
 0x20a¯

	)

2086 #ifde‡
XK_MATHEMATICAL


2088 
	#XK_zîosu≥ri‹
 0x1002070

	)

2089 
	#XK_foursu≥ri‹
 0x1002074

	)

2090 
	#XK_fivesu≥ri‹
 0x1002075

	)

2091 
	#XK_sixsu≥ri‹
 0x1002076

	)

2092 
	#XK_£vísu≥ri‹
 0x1002077

	)

2093 
	#XK_eightsu≥ri‹
 0x1002078

	)

2094 
	#XK_nöesu≥ri‹
 0x1002079

	)

2095 
	#XK_zîosubs¸ùt
 0x1002080

	)

2096 
	#XK_⁄esubs¸ùt
 0x1002081

	)

2097 
	#XK_twosubs¸ùt
 0x1002082

	)

2098 
	#XK_thªesubs¸ùt
 0x1002083

	)

2099 
	#XK_foursubs¸ùt
 0x1002084

	)

2100 
	#XK_fivesubs¸ùt
 0x1002085

	)

2101 
	#XK_sixsubs¸ùt
 0x1002086

	)

2102 
	#XK_£vísubs¸ùt
 0x1002087

	)

2103 
	#XK_eightsubs¸ùt
 0x1002088

	)

2104 
	#XK_nöesubs¸ùt
 0x1002089

	)

2105 
	#XK_∑πdif„ª¡ül
 0x1002202

	)

2106 
	#XK_em±y£t
 0x1002205

	)

2107 
	#XK_ñemítof
 0x1002208

	)

2108 
	#XK_nŸñemítof
 0x1002209

	)

2109 
	#XK_c⁄èößs
 0x100220B

	)

2110 
	#XK_squ¨îoŸ
 0x100221A

	)

2111 
	#XK_cubîoŸ
 0x100221B

	)

2112 
	#XK_fouπhroŸ
 0x100221C

	)

2113 
	#XK_döãgøl
 0x100222C

	)

2114 
	#XK_töãgøl
 0x100222D

	)

2115 
	#XK_beˇu£
 0x1002235

	)

2116 
	#XK_≠¥oxeq
 0x1002248

	)

2117 
	#XK_nŸ≠¥oxeq
 0x1002247

	)

2118 
	#XK_nŸidítiˇl
 0x1002262

	)

2119 
	#XK_°ri˘eq
 0x1002263

	)

2122 #ifde‡
XK_BRAILLE


2123 
	#XK_bøûÀ_dŸ_1
 0xfff1

	)

2124 
	#XK_bøûÀ_dŸ_2
 0xfff2

	)

2125 
	#XK_bøûÀ_dŸ_3
 0xfff3

	)

2126 
	#XK_bøûÀ_dŸ_4
 0xfff4

	)

2127 
	#XK_bøûÀ_dŸ_5
 0xfff5

	)

2128 
	#XK_bøûÀ_dŸ_6
 0xfff6

	)

2129 
	#XK_bøûÀ_dŸ_7
 0xfff7

	)

2130 
	#XK_bøûÀ_dŸ_8
 0xfff8

	)

2131 
	#XK_bøûÀ_dŸ_9
 0xfff9

	)

2132 
	#XK_bøûÀ_dŸ_10
 0xffÁ

	)

2133 
	#XK_bøûÀ_bœnk
 0x1002800

	)

2134 
	#XK_bøûÀ_dŸs_1
 0x1002801

	)

2135 
	#XK_bøûÀ_dŸs_2
 0x1002802

	)

2136 
	#XK_bøûÀ_dŸs_12
 0x1002803

	)

2137 
	#XK_bøûÀ_dŸs_3
 0x1002804

	)

2138 
	#XK_bøûÀ_dŸs_13
 0x1002805

	)

2139 
	#XK_bøûÀ_dŸs_23
 0x1002806

	)

2140 
	#XK_bøûÀ_dŸs_123
 0x1002807

	)

2141 
	#XK_bøûÀ_dŸs_4
 0x1002808

	)

2142 
	#XK_bøûÀ_dŸs_14
 0x1002809

	)

2143 
	#XK_bøûÀ_dŸs_24
 0x100280®

	)

2144 
	#XK_bøûÀ_dŸs_124
 0x100280b

	)

2145 
	#XK_bøûÀ_dŸs_34
 0x100280¯

	)

2146 
	#XK_bøûÀ_dŸs_134
 0x100280d

	)

2147 
	#XK_bøûÀ_dŸs_234
 0x100280ê

	)

2148 
	#XK_bøûÀ_dŸs_1234
 0x100280‡

	)

2149 
	#XK_bøûÀ_dŸs_5
 0x1002810

	)

2150 
	#XK_bøûÀ_dŸs_15
 0x1002811

	)

2151 
	#XK_bøûÀ_dŸs_25
 0x1002812

	)

2152 
	#XK_bøûÀ_dŸs_125
 0x1002813

	)

2153 
	#XK_bøûÀ_dŸs_35
 0x1002814

	)

2154 
	#XK_bøûÀ_dŸs_135
 0x1002815

	)

2155 
	#XK_bøûÀ_dŸs_235
 0x1002816

	)

2156 
	#XK_bøûÀ_dŸs_1235
 0x1002817

	)

2157 
	#XK_bøûÀ_dŸs_45
 0x1002818

	)

2158 
	#XK_bøûÀ_dŸs_145
 0x1002819

	)

2159 
	#XK_bøûÀ_dŸs_245
 0x100281®

	)

2160 
	#XK_bøûÀ_dŸs_1245
 0x100281b

	)

2161 
	#XK_bøûÀ_dŸs_345
 0x100281¯

	)

2162 
	#XK_bøûÀ_dŸs_1345
 0x100281d

	)

2163 
	#XK_bøûÀ_dŸs_2345
 0x100281ê

	)

2164 
	#XK_bøûÀ_dŸs_12345
 0x100281‡

	)

2165 
	#XK_bøûÀ_dŸs_6
 0x1002820

	)

2166 
	#XK_bøûÀ_dŸs_16
 0x1002821

	)

2167 
	#XK_bøûÀ_dŸs_26
 0x1002822

	)

2168 
	#XK_bøûÀ_dŸs_126
 0x1002823

	)

2169 
	#XK_bøûÀ_dŸs_36
 0x1002824

	)

2170 
	#XK_bøûÀ_dŸs_136
 0x1002825

	)

2171 
	#XK_bøûÀ_dŸs_236
 0x1002826

	)

2172 
	#XK_bøûÀ_dŸs_1236
 0x1002827

	)

2173 
	#XK_bøûÀ_dŸs_46
 0x1002828

	)

2174 
	#XK_bøûÀ_dŸs_146
 0x1002829

	)

2175 
	#XK_bøûÀ_dŸs_246
 0x100282®

	)

2176 
	#XK_bøûÀ_dŸs_1246
 0x100282b

	)

2177 
	#XK_bøûÀ_dŸs_346
 0x100282¯

	)

2178 
	#XK_bøûÀ_dŸs_1346
 0x100282d

	)

2179 
	#XK_bøûÀ_dŸs_2346
 0x100282ê

	)

2180 
	#XK_bøûÀ_dŸs_12346
 0x100282‡

	)

2181 
	#XK_bøûÀ_dŸs_56
 0x1002830

	)

2182 
	#XK_bøûÀ_dŸs_156
 0x1002831

	)

2183 
	#XK_bøûÀ_dŸs_256
 0x1002832

	)

2184 
	#XK_bøûÀ_dŸs_1256
 0x1002833

	)

2185 
	#XK_bøûÀ_dŸs_356
 0x1002834

	)

2186 
	#XK_bøûÀ_dŸs_1356
 0x1002835

	)

2187 
	#XK_bøûÀ_dŸs_2356
 0x1002836

	)

2188 
	#XK_bøûÀ_dŸs_12356
 0x1002837

	)

2189 
	#XK_bøûÀ_dŸs_456
 0x1002838

	)

2190 
	#XK_bøûÀ_dŸs_1456
 0x1002839

	)

2191 
	#XK_bøûÀ_dŸs_2456
 0x100283®

	)

2192 
	#XK_bøûÀ_dŸs_12456
 0x100283b

	)

2193 
	#XK_bøûÀ_dŸs_3456
 0x100283¯

	)

2194 
	#XK_bøûÀ_dŸs_13456
 0x100283d

	)

2195 
	#XK_bøûÀ_dŸs_23456
 0x100283ê

	)

2196 
	#XK_bøûÀ_dŸs_123456
 0x100283‡

	)

2197 
	#XK_bøûÀ_dŸs_7
 0x1002840

	)

2198 
	#XK_bøûÀ_dŸs_17
 0x1002841

	)

2199 
	#XK_bøûÀ_dŸs_27
 0x1002842

	)

2200 
	#XK_bøûÀ_dŸs_127
 0x1002843

	)

2201 
	#XK_bøûÀ_dŸs_37
 0x1002844

	)

2202 
	#XK_bøûÀ_dŸs_137
 0x1002845

	)

2203 
	#XK_bøûÀ_dŸs_237
 0x1002846

	)

2204 
	#XK_bøûÀ_dŸs_1237
 0x1002847

	)

2205 
	#XK_bøûÀ_dŸs_47
 0x1002848

	)

2206 
	#XK_bøûÀ_dŸs_147
 0x1002849

	)

2207 
	#XK_bøûÀ_dŸs_247
 0x100284®

	)

2208 
	#XK_bøûÀ_dŸs_1247
 0x100284b

	)

2209 
	#XK_bøûÀ_dŸs_347
 0x100284¯

	)

2210 
	#XK_bøûÀ_dŸs_1347
 0x100284d

	)

2211 
	#XK_bøûÀ_dŸs_2347
 0x100284ê

	)

2212 
	#XK_bøûÀ_dŸs_12347
 0x100284‡

	)

2213 
	#XK_bøûÀ_dŸs_57
 0x1002850

	)

2214 
	#XK_bøûÀ_dŸs_157
 0x1002851

	)

2215 
	#XK_bøûÀ_dŸs_257
 0x1002852

	)

2216 
	#XK_bøûÀ_dŸs_1257
 0x1002853

	)

2217 
	#XK_bøûÀ_dŸs_357
 0x1002854

	)

2218 
	#XK_bøûÀ_dŸs_1357
 0x1002855

	)

2219 
	#XK_bøûÀ_dŸs_2357
 0x1002856

	)

2220 
	#XK_bøûÀ_dŸs_12357
 0x1002857

	)

2221 
	#XK_bøûÀ_dŸs_457
 0x1002858

	)

2222 
	#XK_bøûÀ_dŸs_1457
 0x1002859

	)

2223 
	#XK_bøûÀ_dŸs_2457
 0x100285®

	)

2224 
	#XK_bøûÀ_dŸs_12457
 0x100285b

	)

2225 
	#XK_bøûÀ_dŸs_3457
 0x100285¯

	)

2226 
	#XK_bøûÀ_dŸs_13457
 0x100285d

	)

2227 
	#XK_bøûÀ_dŸs_23457
 0x100285ê

	)

2228 
	#XK_bøûÀ_dŸs_123457
 0x100285‡

	)

2229 
	#XK_bøûÀ_dŸs_67
 0x1002860

	)

2230 
	#XK_bøûÀ_dŸs_167
 0x1002861

	)

2231 
	#XK_bøûÀ_dŸs_267
 0x1002862

	)

2232 
	#XK_bøûÀ_dŸs_1267
 0x1002863

	)

2233 
	#XK_bøûÀ_dŸs_367
 0x1002864

	)

2234 
	#XK_bøûÀ_dŸs_1367
 0x1002865

	)

2235 
	#XK_bøûÀ_dŸs_2367
 0x1002866

	)

2236 
	#XK_bøûÀ_dŸs_12367
 0x1002867

	)

2237 
	#XK_bøûÀ_dŸs_467
 0x1002868

	)

2238 
	#XK_bøûÀ_dŸs_1467
 0x1002869

	)

2239 
	#XK_bøûÀ_dŸs_2467
 0x100286®

	)

2240 
	#XK_bøûÀ_dŸs_12467
 0x100286b

	)

2241 
	#XK_bøûÀ_dŸs_3467
 0x100286¯

	)

2242 
	#XK_bøûÀ_dŸs_13467
 0x100286d

	)

2243 
	#XK_bøûÀ_dŸs_23467
 0x100286ê

	)

2244 
	#XK_bøûÀ_dŸs_123467
 0x100286‡

	)

2245 
	#XK_bøûÀ_dŸs_567
 0x1002870

	)

2246 
	#XK_bøûÀ_dŸs_1567
 0x1002871

	)

2247 
	#XK_bøûÀ_dŸs_2567
 0x1002872

	)

2248 
	#XK_bøûÀ_dŸs_12567
 0x1002873

	)

2249 
	#XK_bøûÀ_dŸs_3567
 0x1002874

	)

2250 
	#XK_bøûÀ_dŸs_13567
 0x1002875

	)

2251 
	#XK_bøûÀ_dŸs_23567
 0x1002876

	)

2252 
	#XK_bøûÀ_dŸs_123567
 0x1002877

	)

2253 
	#XK_bøûÀ_dŸs_4567
 0x1002878

	)

2254 
	#XK_bøûÀ_dŸs_14567
 0x1002879

	)

2255 
	#XK_bøûÀ_dŸs_24567
 0x100287®

	)

2256 
	#XK_bøûÀ_dŸs_124567
 0x100287b

	)

2257 
	#XK_bøûÀ_dŸs_34567
 0x100287¯

	)

2258 
	#XK_bøûÀ_dŸs_134567
 0x100287d

	)

2259 
	#XK_bøûÀ_dŸs_234567
 0x100287ê

	)

2260 
	#XK_bøûÀ_dŸs_1234567
 0x100287‡

	)

2261 
	#XK_bøûÀ_dŸs_8
 0x1002880

	)

2262 
	#XK_bøûÀ_dŸs_18
 0x1002881

	)

2263 
	#XK_bøûÀ_dŸs_28
 0x1002882

	)

2264 
	#XK_bøûÀ_dŸs_128
 0x1002883

	)

2265 
	#XK_bøûÀ_dŸs_38
 0x1002884

	)

2266 
	#XK_bøûÀ_dŸs_138
 0x1002885

	)

2267 
	#XK_bøûÀ_dŸs_238
 0x1002886

	)

2268 
	#XK_bøûÀ_dŸs_1238
 0x1002887

	)

2269 
	#XK_bøûÀ_dŸs_48
 0x1002888

	)

2270 
	#XK_bøûÀ_dŸs_148
 0x1002889

	)

2271 
	#XK_bøûÀ_dŸs_248
 0x100288®

	)

2272 
	#XK_bøûÀ_dŸs_1248
 0x100288b

	)

2273 
	#XK_bøûÀ_dŸs_348
 0x100288¯

	)

2274 
	#XK_bøûÀ_dŸs_1348
 0x100288d

	)

2275 
	#XK_bøûÀ_dŸs_2348
 0x100288ê

	)

2276 
	#XK_bøûÀ_dŸs_12348
 0x100288‡

	)

2277 
	#XK_bøûÀ_dŸs_58
 0x1002890

	)

2278 
	#XK_bøûÀ_dŸs_158
 0x1002891

	)

2279 
	#XK_bøûÀ_dŸs_258
 0x1002892

	)

2280 
	#XK_bøûÀ_dŸs_1258
 0x1002893

	)

2281 
	#XK_bøûÀ_dŸs_358
 0x1002894

	)

2282 
	#XK_bøûÀ_dŸs_1358
 0x1002895

	)

2283 
	#XK_bøûÀ_dŸs_2358
 0x1002896

	)

2284 
	#XK_bøûÀ_dŸs_12358
 0x1002897

	)

2285 
	#XK_bøûÀ_dŸs_458
 0x1002898

	)

2286 
	#XK_bøûÀ_dŸs_1458
 0x1002899

	)

2287 
	#XK_bøûÀ_dŸs_2458
 0x100289®

	)

2288 
	#XK_bøûÀ_dŸs_12458
 0x100289b

	)

2289 
	#XK_bøûÀ_dŸs_3458
 0x100289¯

	)

2290 
	#XK_bøûÀ_dŸs_13458
 0x100289d

	)

2291 
	#XK_bøûÀ_dŸs_23458
 0x100289ê

	)

2292 
	#XK_bøûÀ_dŸs_123458
 0x100289‡

	)

2293 
	#XK_bøûÀ_dŸs_68
 0x10028a0

	)

2294 
	#XK_bøûÀ_dŸs_168
 0x10028a1

	)

2295 
	#XK_bøûÀ_dŸs_268
 0x10028a2

	)

2296 
	#XK_bøûÀ_dŸs_1268
 0x10028a3

	)

2297 
	#XK_bøûÀ_dŸs_368
 0x10028a4

	)

2298 
	#XK_bøûÀ_dŸs_1368
 0x10028a5

	)

2299 
	#XK_bøûÀ_dŸs_2368
 0x10028a6

	)

2300 
	#XK_bøûÀ_dŸs_12368
 0x10028a7

	)

2301 
	#XK_bøûÀ_dŸs_468
 0x10028a8

	)

2302 
	#XK_bøûÀ_dŸs_1468
 0x10028a9

	)

2303 
	#XK_bøûÀ_dŸs_2468
 0x10028Ø

	)

2304 
	#XK_bøûÀ_dŸs_12468
 0x10028ab

	)

2305 
	#XK_bøûÀ_dŸs_3468
 0x10028a¯

	)

2306 
	#XK_bøûÀ_dŸs_13468
 0x10028ad

	)

2307 
	#XK_bøûÀ_dŸs_23468
 0x10028´

	)

2308 
	#XK_bøûÀ_dŸs_123468
 0x10028a‡

	)

2309 
	#XK_bøûÀ_dŸs_568
 0x10028b0

	)

2310 
	#XK_bøûÀ_dŸs_1568
 0x10028b1

	)

2311 
	#XK_bøûÀ_dŸs_2568
 0x10028b2

	)

2312 
	#XK_bøûÀ_dŸs_12568
 0x10028b3

	)

2313 
	#XK_bøûÀ_dŸs_3568
 0x10028b4

	)

2314 
	#XK_bøûÀ_dŸs_13568
 0x10028b5

	)

2315 
	#XK_bøûÀ_dŸs_23568
 0x10028b6

	)

2316 
	#XK_bøûÀ_dŸs_123568
 0x10028b7

	)

2317 
	#XK_bøûÀ_dŸs_4568
 0x10028b8

	)

2318 
	#XK_bøûÀ_dŸs_14568
 0x10028b9

	)

2319 
	#XK_bøûÀ_dŸs_24568
 0x10028b®

	)

2320 
	#XK_bøûÀ_dŸs_124568
 0x10028bb

	)

2321 
	#XK_bøûÀ_dŸs_34568
 0x10028b¯

	)

2322 
	#XK_bøûÀ_dŸs_134568
 0x10028bd

	)

2323 
	#XK_bøûÀ_dŸs_234568
 0x10028bê

	)

2324 
	#XK_bøûÀ_dŸs_1234568
 0x10028b‡

	)

2325 
	#XK_bøûÀ_dŸs_78
 0x10028c0

	)

2326 
	#XK_bøûÀ_dŸs_178
 0x10028c1

	)

2327 
	#XK_bøûÀ_dŸs_278
 0x10028c2

	)

2328 
	#XK_bøûÀ_dŸs_1278
 0x10028c3

	)

2329 
	#XK_bøûÀ_dŸs_378
 0x10028c4

	)

2330 
	#XK_bøûÀ_dŸs_1378
 0x10028c5

	)

2331 
	#XK_bøûÀ_dŸs_2378
 0x10028c6

	)

2332 
	#XK_bøûÀ_dŸs_12378
 0x10028c7

	)

2333 
	#XK_bøûÀ_dŸs_478
 0x10028c8

	)

2334 
	#XK_bøûÀ_dŸs_1478
 0x10028c9

	)

2335 
	#XK_bøûÀ_dŸs_2478
 0x10028ˇ

	)

2336 
	#XK_bøûÀ_dŸs_12478
 0x10028cb

	)

2337 
	#XK_bøûÀ_dŸs_3478
 0x10028c¯

	)

2338 
	#XK_bøûÀ_dŸs_13478
 0x10028cd

	)

2339 
	#XK_bøûÀ_dŸs_23478
 0x10028˚

	)

2340 
	#XK_bøûÀ_dŸs_123478
 0x10028c‡

	)

2341 
	#XK_bøûÀ_dŸs_578
 0x10028d0

	)

2342 
	#XK_bøûÀ_dŸs_1578
 0x10028d1

	)

2343 
	#XK_bøûÀ_dŸs_2578
 0x10028d2

	)

2344 
	#XK_bøûÀ_dŸs_12578
 0x10028d3

	)

2345 
	#XK_bøûÀ_dŸs_3578
 0x10028d4

	)

2346 
	#XK_bøûÀ_dŸs_13578
 0x10028d5

	)

2347 
	#XK_bøûÀ_dŸs_23578
 0x10028d6

	)

2348 
	#XK_bøûÀ_dŸs_123578
 0x10028d7

	)

2349 
	#XK_bøûÀ_dŸs_4578
 0x10028d8

	)

2350 
	#XK_bøûÀ_dŸs_14578
 0x10028d9

	)

2351 
	#XK_bøûÀ_dŸs_24578
 0x10028d®

	)

2352 
	#XK_bøûÀ_dŸs_124578
 0x10028db

	)

2353 
	#XK_bøûÀ_dŸs_34578
 0x10028d¯

	)

2354 
	#XK_bøûÀ_dŸs_134578
 0x10028dd

	)

2355 
	#XK_bøûÀ_dŸs_234578
 0x10028dê

	)

2356 
	#XK_bøûÀ_dŸs_1234578
 0x10028d‡

	)

2357 
	#XK_bøûÀ_dŸs_678
 0x10028e0

	)

2358 
	#XK_bøûÀ_dŸs_1678
 0x10028e1

	)

2359 
	#XK_bøûÀ_dŸs_2678
 0x10028e2

	)

2360 
	#XK_bøûÀ_dŸs_12678
 0x10028e3

	)

2361 
	#XK_bøûÀ_dŸs_3678
 0x10028e4

	)

2362 
	#XK_bøûÀ_dŸs_13678
 0x10028e5

	)

2363 
	#XK_bøûÀ_dŸs_23678
 0x10028e6

	)

2364 
	#XK_bøûÀ_dŸs_123678
 0x10028e7

	)

2365 
	#XK_bøûÀ_dŸs_4678
 0x10028e8

	)

2366 
	#XK_bøûÀ_dŸs_14678
 0x10028e9

	)

2367 
	#XK_bøûÀ_dŸs_24678
 0x10028ó

	)

2368 
	#XK_bøûÀ_dŸs_124678
 0x10028eb

	)

2369 
	#XK_bøûÀ_dŸs_34678
 0x10028e¯

	)

2370 
	#XK_bøûÀ_dŸs_134678
 0x10028ed

	)

2371 
	#XK_bøûÀ_dŸs_234678
 0x10028ì

	)

2372 
	#XK_bøûÀ_dŸs_1234678
 0x10028e‡

	)

2373 
	#XK_bøûÀ_dŸs_5678
 0x10028f0

	)

2374 
	#XK_bøûÀ_dŸs_15678
 0x10028f1

	)

2375 
	#XK_bøûÀ_dŸs_25678
 0x10028f2

	)

2376 
	#XK_bøûÀ_dŸs_125678
 0x10028f3

	)

2377 
	#XK_bøûÀ_dŸs_35678
 0x10028f4

	)

2378 
	#XK_bøûÀ_dŸs_135678
 0x10028f5

	)

2379 
	#XK_bøûÀ_dŸs_235678
 0x10028f6

	)

2380 
	#XK_bøûÀ_dŸs_1235678
 0x10028f7

	)

2381 
	#XK_bøûÀ_dŸs_45678
 0x10028f8

	)

2382 
	#XK_bøûÀ_dŸs_145678
 0x10028f9

	)

2383 
	#XK_bøûÀ_dŸs_245678
 0x10028Á

	)

2384 
	#XK_bøûÀ_dŸs_1245678
 0x10028fb

	)

2385 
	#XK_bøûÀ_dŸs_345678
 0x10028f¯

	)

2386 
	#XK_bøûÀ_dŸs_1345678
 0x10028fd

	)

2387 
	#XK_bøûÀ_dŸs_2345678
 0x10028„

	)

2388 
	#XK_bøûÀ_dŸs_12345678
 0x10028f‡

	)

2396 #ifde‡
XK_SINHALA


2397 
	#XK_Söh_ng
 0x1000d82

	)

2398 
	#XK_Söh_h2
 0x1000d83

	)

2399 
	#XK_Söh_a
 0x1000d85

	)

2400 
	#XK_Söh_Ø
 0x1000d86

	)

2401 
	#XK_Söh_´
 0x1000d87

	)

2402 
	#XK_Söh_´e
 0x1000d88

	)

2403 
	#XK_Söh_i
 0x1000d89

	)

2404 
	#XK_Söh_ii
 0x1000d8®

	)

2405 
	#XK_Söh_u
 0x1000d8b

	)

2406 
	#XK_Söh_uu
 0x1000d8¯

	)

2407 
	#XK_Söh_ri
 0x1000d8d

	)

2408 
	#XK_Söh_rii
 0x1000d8ê

	)

2409 
	#XK_Söh_lu
 0x1000d8‡

	)

2410 
	#XK_Söh_luu
 0x1000d90

	)

2411 
	#XK_Söh_e
 0x1000d91

	)

2412 
	#XK_Söh_ì
 0x1000d92

	)

2413 
	#XK_Söh_ai
 0x1000d93

	)

2414 
	#XK_Söh_o
 0x1000d94

	)

2415 
	#XK_Söh_oo
 0x1000d95

	)

2416 
	#XK_Söh_au
 0x1000d96

	)

2417 
	#XK_Söh_ka
 0x1000d9®

	)

2418 
	#XK_Söh_kha
 0x1000d9b

	)

2419 
	#XK_Söh_ga
 0x1000d9¯

	)

2420 
	#XK_Söh_gha
 0x1000d9d

	)

2421 
	#XK_Söh_ng2
 0x1000d9ê

	)

2422 
	#XK_Söh_nga
 0x1000d9‡

	)

2423 
	#XK_Söh_ˇ
 0x1000da0

	)

2424 
	#XK_Söh_cha
 0x1000da1

	)

2425 
	#XK_Söh_ja
 0x1000da2

	)

2426 
	#XK_Söh_jha
 0x1000da3

	)

2427 
	#XK_Söh_nya
 0x1000da4

	)

2428 
	#XK_Söh_jnya
 0x1000da5

	)

2429 
	#XK_Söh_nja
 0x1000da6

	)

2430 
	#XK_Söh_âa
 0x1000da7

	)

2431 
	#XK_Söh_âha
 0x1000da8

	)

2432 
	#XK_Söh_dda
 0x1000da9

	)

2433 
	#XK_Söh_ddha
 0x1000dØ

	)

2434 
	#XK_Söh_¬a
 0x1000dab

	)

2435 
	#XK_Söh_ndda
 0x1000da¯

	)

2436 
	#XK_Söh_tha
 0x1000dad

	)

2437 
	#XK_Söh_thha
 0x1000d´

	)

2438 
	#XK_Söh_dha
 0x1000da‡

	)

2439 
	#XK_Söh_dhha
 0x1000db0

	)

2440 
	#XK_Söh_«
 0x1000db1

	)

2441 
	#XK_Söh_ndha
 0x1000db3

	)

2442 
	#XK_Söh_∑
 0x1000db4

	)

2443 
	#XK_Söh_pha
 0x1000db5

	)

2444 
	#XK_Söh_ba
 0x1000db6

	)

2445 
	#XK_Söh_bha
 0x1000db7

	)

2446 
	#XK_Söh_ma
 0x1000db8

	)

2447 
	#XK_Söh_mba
 0x1000db9

	)

2448 
	#XK_Söh_ya
 0x1000db®

	)

2449 
	#XK_Söh_ø
 0x1000dbb

	)

2450 
	#XK_Söh_œ
 0x1000dbd

	)

2451 
	#XK_Söh_va
 0x1000dc0

	)

2452 
	#XK_Söh_sha
 0x1000dc1

	)

2453 
	#XK_Söh_ssha
 0x1000dc2

	)

2454 
	#XK_Söh_ß
 0x1000dc3

	)

2455 
	#XK_Söh_ha
 0x1000dc4

	)

2456 
	#XK_Söh_Œa
 0x1000dc5

	)

2457 
	#XK_Söh_Á
 0x1000dc6

	)

2458 
	#XK_Söh_Æ
 0x1000dˇ

	)

2459 
	#XK_Söh_Ø2
 0x1000dc‡

	)

2460 
	#XK_Söh_´2
 0x1000dd0

	)

2461 
	#XK_Söh_´e2
 0x1000dd1

	)

2462 
	#XK_Söh_i2
 0x1000dd2

	)

2463 
	#XK_Söh_ii2
 0x1000dd3

	)

2464 
	#XK_Söh_u2
 0x1000dd4

	)

2465 
	#XK_Söh_uu2
 0x1000dd6

	)

2466 
	#XK_Söh_ru2
 0x1000dd8

	)

2467 
	#XK_Söh_e2
 0x1000dd9

	)

2468 
	#XK_Söh_ì2
 0x1000dd®

	)

2469 
	#XK_Söh_ai2
 0x1000ddb

	)

2470 
	#XK_Söh_o2
 0x1000dd¯

	)

2471 
	#XK_Söh_oo2
 0x1000ddd

	)

2472 
	#XK_Söh_au2
 0x1000ddê

	)

2473 
	#XK_Söh_lu2
 0x1000dd‡

	)

2474 
	#XK_Söh_ruu2
 0x1000df2

	)

2475 
	#XK_Söh_luu2
 0x1000df3

	)

2476 
	#XK_Söh_kunddÆiya
 0x1000df4

	)

	@/usr/include/alloca.h

19 #i‚def 
_ALLOCA_H


20 
	#_ALLOCA_H
 1

	)

22 
	~<„©uªs.h
>

24 
	#__√ed_size_t


	)

25 
	~<°ddef.h
>

27 
	g__BEGIN_DECLS


30 #unde‡
Æloˇ


33 *
	$Æloˇ
 (
size_t
 
__size
Ë
__THROW
;

35 #ifdef 
__GNUC__


36 
	#Æloˇ
(
size
Ë
	`__buûtö_Æloˇ
 (size)

	)

39 
__END_DECLS


	@/usr/include/endian.h

19 #i‚def 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<„©uªs.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<bôs/ídün.h
>

41 #i‚de‡
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

54 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

59 #ifde‡
__USE_BSD


61 
	~<bôs/byãsw≠.h
>

63 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


64 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

65 
	#htﬁe16
(
x
Ë(x)

	)

66 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

67 
	#À16toh
(
x
Ë(x)

	)

69 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

70 
	#htﬁe32
(
x
Ë(x)

	)

71 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

72 
	#À32toh
(
x
Ë(x)

	)

74 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

75 
	#htﬁe64
(
x
Ë(x)

	)

76 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

77 
	#À64toh
(
x
Ë(x)

	)

79 
	#htobe16
(
x
Ë(x)

	)

80 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

81 
	#be16toh
(
x
Ë(x)

	)

82 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

84 
	#htobe32
(
x
Ë(x)

	)

85 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

86 
	#be32toh
(
x
Ë(x)

	)

87 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

89 
	#htobe64
(
x
Ë(x)

	)

90 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

91 
	#be64toh
(
x
Ë(x)

	)

92 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/features.h

20 #i‚def 
_FEATURES_H


21 
	#_FEATURES_H
 1

	)

98 #unde‡
__USE_ISOC99


99 #unde‡
__USE_ISOC95


100 #unde‡
__USE_POSIX


101 #unde‡
__USE_POSIX2


102 #unde‡
__USE_POSIX199309


103 #unde‡
__USE_POSIX199506


104 #unde‡
__USE_XOPEN


105 #unde‡
__USE_XOPEN_EXTENDED


106 #unde‡
__USE_UNIX98


107 #unde‡
__USE_XOPEN2K


108 #unde‡
__USE_XOPEN2KXSI


109 #unde‡
__USE_XOPEN2K8


110 #unde‡
__USE_XOPEN2K8XSI


111 #unde‡
__USE_LARGEFILE


112 #unde‡
__USE_LARGEFILE64


113 #unde‡
__USE_FILE_OFFSET64


114 #unde‡
__USE_BSD


115 #unde‡
__USE_SVID


116 #unde‡
__USE_MISC


117 #unde‡
__USE_ATFILE


118 #unde‡
__USE_GNU


119 #unde‡
__USE_REENTRANT


120 #unde‡
__USE_FORTIFY_LEVEL


121 #unde‡
__FAVOR_BSD


122 #unde‡
__KERNEL_STRICT_NAMES


126 #i‚de‡
_LOOSE_KERNEL_NAMES


127 
	#__KERNEL_STRICT_NAMES


	)

131 
	#__USE_ANSI
 1

	)

140 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


141 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

142 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

144 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

149 #i‡
deföed
 
_BSD_SOURCE
 && \

150 !(
deföed
 
	g_POSIX_SOURCE
 || deföed 
	g_POSIX_C_SOURCE
 || \

151 
deföed
 
	g_XOPEN_SOURCE
 || deföed 
	g_GNU_SOURCE
 || deföed 
	g_SVID_SOURCE
)

152 
	#__FAVOR_BSD
 1

	)

156 #ifde‡
_GNU_SOURCE


157 #unde‡
_ISOC95_SOURCE


158 
	#_ISOC95_SOURCE
 1

	)

159 #unde‡
_ISOC99_SOURCE


160 
	#_ISOC99_SOURCE
 1

	)

161 #unde‡
_POSIX_SOURCE


162 
	#_POSIX_SOURCE
 1

	)

163 #unde‡
_POSIX_C_SOURCE


164 
	#_POSIX_C_SOURCE
 200809L

	)

165 #unde‡
_XOPEN_SOURCE


166 
	#_XOPEN_SOURCE
 700

	)

167 #unde‡
_XOPEN_SOURCE_EXTENDED


168 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

169 #unde‡
_LARGEFILE64_SOURCE


170 
	#_LARGEFILE64_SOURCE
 1

	)

171 #unde‡
_BSD_SOURCE


172 
	#_BSD_SOURCE
 1

	)

173 #unde‡
_SVID_SOURCE


174 
	#_SVID_SOURCE
 1

	)

175 #unde‡
_ATFILE_SOURCE


176 
	#_ATFILE_SOURCE
 1

	)

181 #i‡(!
deföed
 
__STRICT_ANSI__
 && !deföed 
_ISOC99_SOURCE
 && \

182 !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 && \

183 !
deföed
 
	g_XOPEN_SOURCE
 && !deföed 
	g_BSD_SOURCE
 && !deföed 
	g_SVID_SOURCE
)

184 
	#_BSD_SOURCE
 1

	)

185 
	#_SVID_SOURCE
 1

	)

192 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC9X_SOURCE
 \

193 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

194 
	#__USE_ISOC99
 1

	)

198 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC9X_SOURCE
 \

199 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

200 
	#__USE_ISOC95
 1

	)

205 #i‡((!
deföed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

206 !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

207 
	#_POSIX_SOURCE
 1

	)

208 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

209 
	#_POSIX_C_SOURCE
 2

	)

210 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

211 
	#_POSIX_C_SOURCE
 199506L

	)

212 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

213 
	#_POSIX_C_SOURCE
 200112L

	)

215 
	#_POSIX_C_SOURCE
 200809L

	)

217 
	#__USE_POSIX_IMPLICITLY
 1

	)

220 #i‡
deföed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >1 || deföed 
_XOPEN_SOURCE


221 
	#__USE_POSIX
 1

	)

224 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


225 
	#__USE_POSIX2
 1

	)

228 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199309L

229 
	#__USE_POSIX199309
 1

	)

232 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199506L

233 
	#__USE_POSIX199506
 1

	)

236 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200112L

237 
	#__USE_XOPEN2K
 1

	)

238 #unde‡
__USE_ISOC95


239 
	#__USE_ISOC95
 1

	)

240 #unde‡
__USE_ISOC99


241 
	#__USE_ISOC99
 1

	)

244 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200809L

245 
	#__USE_XOPEN2K8
 1

	)

246 #unde‡
_ATFILE_SOURCE


247 
	#_ATFILE_SOURCE
 1

	)

250 #ifdef 
_XOPEN_SOURCE


251 
	#__USE_XOPEN
 1

	)

252 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

253 
	#__USE_XOPEN_EXTENDED
 1

	)

254 
	#__USE_UNIX98
 1

	)

255 #unde‡
_LARGEFILE_SOURCE


256 
	#_LARGEFILE_SOURCE
 1

	)

257 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

258 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

259 
	#__USE_XOPEN2K8
 1

	)

260 
	#__USE_XOPEN2K8XSI
 1

	)

262 
	#__USE_XOPEN2K
 1

	)

263 
	#__USE_XOPEN2KXSI
 1

	)

264 #unde‡
__USE_ISOC95


265 
	#__USE_ISOC95
 1

	)

266 #unde‡
__USE_ISOC99


267 
	#__USE_ISOC99
 1

	)

270 #ifde‡
_XOPEN_SOURCE_EXTENDED


271 
	#__USE_XOPEN_EXTENDED
 1

	)

276 #ifde‡
_LARGEFILE_SOURCE


277 
	#__USE_LARGEFILE
 1

	)

280 #ifde‡
_LARGEFILE64_SOURCE


281 
	#__USE_LARGEFILE64
 1

	)

284 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

285 
	#__USE_FILE_OFFSET64
 1

	)

288 #i‡
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE


289 
	#__USE_MISC
 1

	)

292 #ifdef 
_BSD_SOURCE


293 
	#__USE_BSD
 1

	)

296 #ifdef 
_SVID_SOURCE


297 
	#__USE_SVID
 1

	)

300 #ifdef 
_ATFILE_SOURCE


301 
	#__USE_ATFILE
 1

	)

304 #ifdef 
_GNU_SOURCE


305 
	#__USE_GNU
 1

	)

308 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


309 
	#__USE_REENTRANT
 1

	)

312 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

313 && 
__GNUC_PREREQ
 (4, 1Ë&& 
deföed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

314 #i‡
_FORTIFY_SOURCE
 > 1

315 
	#__USE_FORTIFY_LEVEL
 2

	)

317 
	#__USE_FORTIFY_LEVEL
 1

	)

320 
	#__USE_FORTIFY_LEVEL
 0

	)

324 
	~<bôs/¥edefs.h
>

327 
	#__STDC_ISO_10646__
 200009L

	)

335 #unde‡
__GNU_LIBRARY__


336 
	#__GNU_LIBRARY__
 6

	)

340 
	#__GLIBC__
 2

	)

341 
	#__GLIBC_MINOR__
 15

	)

343 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

344 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

347 #i‡
deföed
 
__GNUC__
 \

348 || (
deföed
 
	g__PGI
 && deföed 
	g__i386__
 ) \

349 || (
deföed
 
	g__INTEL_COMPILER
 && (deföed 
	g__i386__
 || deföed 
	g__ü64__
)) \

350 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

351 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

355 #i‚de‡
__ASSEMBLER__


356 #i‚de‡
_SYS_CDEFS_H


357 
	~<sys/cdefs.h
>

362 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


363 
	#__USE_LARGEFILE
 1

	)

364 
	#__USE_LARGEFILE64
 1

	)

370 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

371 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

372 && 
deföed
 
	g__exã∫_ölöe


373 
	#__USE_EXTERN_INLINES
 1

	)

378 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

379 && (
deföed
 
	g_LIBC
 || !deföed 
	g__OPTIMIZE_SIZE__
Ë&& !deföed 
	g__NO_INLINE__
 \

380 && 
deföed
 
	g__exã∫_ölöe


381 
	#__USE_EXTERN_INLINES_IN_LIBC
 1

	)

389 
	~<gnu/°ubs.h
>

	@/usr/include/libavcodec/version.h

20 #i‚de‡
AVCODEC_VERSION_H


21 
	#AVCODEC_VERSION_H


	)

23 
	#LIBAVCODEC_VERSION_MAJOR
 53

	)

24 
	#LIBAVCODEC_VERSION_MINOR
 35

	)

25 
	#LIBAVCODEC_VERSION_MICRO
 0

	)

27 
	#LIBAVCODEC_VERSION_INT
 
	`AV_VERSION_INT
(
LIBAVCODEC_VERSION_MAJOR
, \

28 
LIBAVCODEC_VERSION_MINOR
, \

29 
LIBAVCODEC_VERSION_MICRO
)

	)

30 
	#LIBAVCODEC_VERSION
 
	`AV_VERSION
(
LIBAVCODEC_VERSION_MAJOR
, \

31 
LIBAVCODEC_VERSION_MINOR
, \

32 
LIBAVCODEC_VERSION_MICRO
)

	)

33 
	#LIBAVCODEC_BUILD
 
LIBAVCODEC_VERSION_INT


	)

35 
	#LIBAVCODEC_IDENT
 "Lavc" 
	`AV_STRINGIFY
(
LIBAVCODEC_VERSION
)

	)

41 #i‚de‡
FF_API_PALETTE_CONTROL


42 
	#FF_API_PALETTE_CONTROL
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

44 #i‚de‡
FF_API_OLD_SAMPLE_FMT


45 
	#FF_API_OLD_SAMPLE_FMT
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

47 #i‚de‡
FF_API_OLD_AUDIOCONVERT


48 
	#FF_API_OLD_AUDIOCONVERT
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

50 #i‚de‡
FF_API_ANTIALIAS_ALGO


51 
	#FF_API_ANTIALIAS_ALGO
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

53 #i‚de‡
FF_API_REQUEST_CHANNELS


54 
	#FF_API_REQUEST_CHANNELS
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

56 #i‚de‡
FF_API_OPT_H


57 
	#FF_API_OPT_H
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

59 #i‚de‡
FF_API_THREAD_INIT


60 
	#FF_API_THREAD_INIT
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

62 #i‚de‡
FF_API_OLD_FF_PICT_TYPES


63 
	#FF_API_OLD_FF_PICT_TYPES
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

65 #i‚de‡
FF_API_FLAC_GLOBAL_OPTS


66 
	#FF_API_FLAC_GLOBAL_OPTS
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

68 #i‚de‡
FF_API_GET_PIX_FMT_NAME


69 
	#FF_API_GET_PIX_FMT_NAME
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

71 #i‚de‡
FF_API_ALLOC_CONTEXT


72 
	#FF_API_ALLOC_CONTEXT
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

74 #i‚de‡
FF_API_AVCODEC_OPEN


75 
	#FF_API_AVCODEC_OPEN
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

77 #i‚de‡
FF_API_DRC_SCALE


78 
	#FF_API_DRC_SCALE
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

80 #i‚de‡
FF_API_ER


81 
	#FF_API_ER
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

83 #i‚de‡
FF_API_AVCODEC_INIT


84 
	#FF_API_AVCODEC_INIT
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

86 #i‚de‡
FF_API_X264_GLOBAL_OPTS


87 
	#FF_API_X264_GLOBAL_OPTS
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

89 #i‚de‡
FF_API_MPEGVIDEO_GLOBAL_OPTS


90 
	#FF_API_MPEGVIDEO_GLOBAL_OPTS
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

92 #i‚de‡
FF_API_LAME_GLOBAL_OPTS


93 
	#FF_API_LAME_GLOBAL_OPTS
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

95 #i‚de‡
FF_API_SNOW_GLOBAL_OPTS


96 
	#FF_API_SNOW_GLOBAL_OPTS
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

98 #i‚de‡
FF_API_MJPEG_GLOBAL_OPTS


99 
	#FF_API_MJPEG_GLOBAL_OPTS
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

101 #i‚de‡
FF_API_GET_ALPHA_INFO


102 
	#FF_API_GET_ALPHA_INFO
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

104 #i‚de‡
FF_API_PARSE_FRAME


105 
	#FF_API_PARSE_FRAME
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

107 #i‚de‡
FF_API_INTERNAL_CONTEXT


108 
	#FF_API_INTERNAL_CONTEXT
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

110 #i‚de‡
FF_API_TIFFENC_COMPLEVEL


111 
	#FF_API_TIFFENC_COMPLEVEL
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

113 #i‚de‡
FF_API_DATA_POINTERS


114 
	#FF_API_DATA_POINTERS
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

116 #i‚de‡
FF_API_OLD_DECODE_AUDIO


117 
	#FF_API_OLD_DECODE_AUDIO
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

119 #i‚de‡
FF_API_AVFRAME_AGE


120 
	#FF_API_AVFRAME_AGE
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

122 #i‚de‡
FF_API_OLD_ENCODE_AUDIO


123 
	#FF_API_OLD_ENCODE_AUDIO
 (
LIBAVCODEC_VERSION_MAJOR
 < 54)

	)

	@/usr/include/libavformat/version.h

21 #i‚de‡
AVFORMAT_VERSION_H


22 
	#AVFORMAT_VERSION_H


	)

30 
	~"libavutû/avutû.h
"

32 
	#LIBAVFORMAT_VERSION_MAJOR
 53

	)

33 
	#LIBAVFORMAT_VERSION_MINOR
 21

	)

34 
	#LIBAVFORMAT_VERSION_MICRO
 1

	)

36 
	#LIBAVFORMAT_VERSION_INT
 
	`AV_VERSION_INT
(
LIBAVFORMAT_VERSION_MAJOR
, \

37 
LIBAVFORMAT_VERSION_MINOR
, \

38 
LIBAVFORMAT_VERSION_MICRO
)

	)

39 
	#LIBAVFORMAT_VERSION
 
	`AV_VERSION
(
LIBAVFORMAT_VERSION_MAJOR
, \

40 
LIBAVFORMAT_VERSION_MINOR
, \

41 
LIBAVFORMAT_VERSION_MICRO
)

	)

42 
	#LIBAVFORMAT_BUILD
 
LIBAVFORMAT_VERSION_INT


	)

44 
	#LIBAVFORMAT_IDENT
 "Lavf" 
	`AV_STRINGIFY
(
LIBAVFORMAT_VERSION
)

	)

50 #i‚de‡
FF_API_OLD_METADATA2


51 
	#FF_API_OLD_METADATA2
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

53 #i‚de‡
FF_API_OLD_AVIO


54 
	#FF_API_OLD_AVIO
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

56 #i‚de‡
FF_API_DUMP_FORMAT


57 
	#FF_API_DUMP_FORMAT
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

59 #i‚de‡
FF_API_PARSE_DATE


60 
	#FF_API_PARSE_DATE
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

62 #i‚de‡
FF_API_FIND_INFO_TAG


63 
	#FF_API_FIND_INFO_TAG
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

65 #i‚de‡
FF_API_PKT_DUMP


66 
	#FF_API_PKT_DUMP
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

68 #i‚de‡
FF_API_GUESS_IMG2_CODEC


69 
	#FF_API_GUESS_IMG2_CODEC
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

71 #i‚de‡
FF_API_SDP_CREATE


72 
	#FF_API_SDP_CREATE
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

74 #i‚de‡
FF_API_FORMAT_PARAMETERS


75 
	#FF_API_FORMAT_PARAMETERS
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

77 #i‚de‡
FF_API_FLAG_RTP_HINT


78 
	#FF_API_FLAG_RTP_HINT
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

80 #i‚de‡
FF_API_AVSTREAM_QUALITY


81 
	#FF_API_AVSTREAM_QUALITY
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

83 #i‚de‡
FF_API_LOOP_INPUT


84 
	#FF_API_LOOP_INPUT
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

86 #i‚de‡
FF_API_LOOP_OUTPUT


87 
	#FF_API_LOOP_OUTPUT
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

89 #i‚de‡
FF_API_TIMESTAMP


90 
	#FF_API_TIMESTAMP
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

92 #i‚de‡
FF_API_FILESIZE


93 
	#FF_API_FILESIZE
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

95 #i‚de‡
FF_API_MUXRATE


96 
	#FF_API_MUXRATE
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

98 #i‚de‡
FF_API_RTSP_URL_OPTIONS


99 
	#FF_API_RTSP_URL_OPTIONS
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

101 #i‚de‡
FF_API_NEW_STREAM


102 
	#FF_API_NEW_STREAM
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

104 #i‚de‡
FF_API_PRELOAD


105 
	#FF_API_PRELOAD
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

107 #i‚de‡
FF_API_STREAM_COPY


108 
	#FF_API_STREAM_COPY
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

110 #i‚de‡
FF_API_SEEK_PUBLIC


111 
	#FF_API_SEEK_PUBLIC
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

113 #i‚de‡
FF_API_REORDER_PRIVATE


114 
	#FF_API_REORDER_PRIVATE
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

116 #i‚de‡
FF_API_OLD_INTERRUPT_CB


117 
	#FF_API_OLD_INTERRUPT_CB
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

119 #i‚de‡
FF_API_SET_PTS_INFO


120 
	#FF_API_SET_PTS_INFO
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

122 #i‚de‡
FF_API_CLOSE_INPUT_FILE


123 
	#FF_API_CLOSE_INPUT_FILE
 (
LIBAVFORMAT_VERSION_MAJOR
 < 54)

	)

	@/usr/include/libavutil/audioconvert.h

22 #i‚de‡
AVUTIL_AUDIOCONVERT_H


23 
	#AVUTIL_AUDIOCONVERT_H


	)

25 
	~<°döt.h
>

41 
	#AV_CH_FRONT_LEFT
 0x00000001

	)

42 
	#AV_CH_FRONT_RIGHT
 0x00000002

	)

43 
	#AV_CH_FRONT_CENTER
 0x00000004

	)

44 
	#AV_CH_LOW_FREQUENCY
 0x00000008

	)

45 
	#AV_CH_BACK_LEFT
 0x00000010

	)

46 
	#AV_CH_BACK_RIGHT
 0x00000020

	)

47 
	#AV_CH_FRONT_LEFT_OF_CENTER
 0x00000040

	)

48 
	#AV_CH_FRONT_RIGHT_OF_CENTER
 0x00000080

	)

49 
	#AV_CH_BACK_CENTER
 0x00000100

	)

50 
	#AV_CH_SIDE_LEFT
 0x00000200

	)

51 
	#AV_CH_SIDE_RIGHT
 0x00000400

	)

52 
	#AV_CH_TOP_CENTER
 0x00000800

	)

53 
	#AV_CH_TOP_FRONT_LEFT
 0x00001000

	)

54 
	#AV_CH_TOP_FRONT_CENTER
 0x00002000

	)

55 
	#AV_CH_TOP_FRONT_RIGHT
 0x00004000

	)

56 
	#AV_CH_TOP_BACK_LEFT
 0x00008000

	)

57 
	#AV_CH_TOP_BACK_CENTER
 0x00010000

	)

58 
	#AV_CH_TOP_BACK_RIGHT
 0x00020000

	)

59 
	#AV_CH_STEREO_LEFT
 0x20000000

60 
	#AV_CH_STEREO_RIGHT
 0x40000000

61 
	#AV_CH_WIDE_LEFT
 0x0000000080000000ULL

	)

62 
	#AV_CH_WIDE_RIGHT
 0x0000000100000000ULL

	)

63 
	#AV_CH_SURROUND_DIRECT_LEFT
 0x0000000200000000ULL

	)

64 
	#AV_CH_SURROUND_DIRECT_RIGHT
 0x0000000400000000ULL

	)

69 
	#AV_CH_LAYOUT_NATIVE
 0x8000000000000000ULL

	)

76 
	#AV_CH_LAYOUT_MONO
 (
AV_CH_FRONT_CENTER
)

	)

77 
	#AV_CH_LAYOUT_STEREO
 (
AV_CH_FRONT_LEFT
|
AV_CH_FRONT_RIGHT
)

	)

78 
	#AV_CH_LAYOUT_2POINT1
 (
AV_CH_LAYOUT_STEREO
|
AV_CH_LOW_FREQUENCY
)

	)

79 
	#AV_CH_LAYOUT_2_1
 (
AV_CH_LAYOUT_STEREO
|
AV_CH_BACK_CENTER
)

	)

80 
	#AV_CH_LAYOUT_SURROUND
 (
AV_CH_LAYOUT_STEREO
|
AV_CH_FRONT_CENTER
)

	)

81 
	#AV_CH_LAYOUT_3POINT1
 (
AV_CH_LAYOUT_SURROUND
|
AV_CH_LOW_FREQUENCY
)

	)

82 
	#AV_CH_LAYOUT_4POINT0
 (
AV_CH_LAYOUT_SURROUND
|
AV_CH_BACK_CENTER
)

	)

83 
	#AV_CH_LAYOUT_4POINT1
 (
AV_CH_LAYOUT_4POINT0
|
AV_CH_LOW_FREQUENCY
)

	)

84 
	#AV_CH_LAYOUT_2_2
 (
AV_CH_LAYOUT_STEREO
|
AV_CH_SIDE_LEFT
|
AV_CH_SIDE_RIGHT
)

	)

85 
	#AV_CH_LAYOUT_QUAD
 (
AV_CH_LAYOUT_STEREO
|
AV_CH_BACK_LEFT
|
AV_CH_BACK_RIGHT
)

	)

86 
	#AV_CH_LAYOUT_5POINT0
 (
AV_CH_LAYOUT_SURROUND
|
AV_CH_SIDE_LEFT
|
AV_CH_SIDE_RIGHT
)

	)

87 
	#AV_CH_LAYOUT_5POINT1
 (
AV_CH_LAYOUT_5POINT0
|
AV_CH_LOW_FREQUENCY
)

	)

88 
	#AV_CH_LAYOUT_5POINT0_BACK
 (
AV_CH_LAYOUT_SURROUND
|
AV_CH_BACK_LEFT
|
AV_CH_BACK_RIGHT
)

	)

89 
	#AV_CH_LAYOUT_5POINT1_BACK
 (
AV_CH_LAYOUT_5POINT0_BACK
|
AV_CH_LOW_FREQUENCY
)

	)

90 
	#AV_CH_LAYOUT_6POINT0
 (
AV_CH_LAYOUT_5POINT0
|
AV_CH_BACK_CENTER
)

	)

91 
	#AV_CH_LAYOUT_6POINT0_FRONT
 (
AV_CH_LAYOUT_2_2
|
AV_CH_FRONT_LEFT_OF_CENTER
|
AV_CH_FRONT_RIGHT_OF_CENTER
)

	)

92 
	#AV_CH_LAYOUT_HEXAGONAL
 (
AV_CH_LAYOUT_5POINT0_BACK
|
AV_CH_BACK_CENTER
)

	)

93 
	#AV_CH_LAYOUT_6POINT1
 (
AV_CH_LAYOUT_5POINT1
|
AV_CH_BACK_CENTER
)

	)

94 
	#AV_CH_LAYOUT_6POINT1_BACK
 (
AV_CH_LAYOUT_5POINT1_BACK
|
AV_CH_BACK_CENTER
)

	)

95 
	#AV_CH_LAYOUT_6POINT1_FRONT
 (
AV_CH_LAYOUT_6POINT0_FRONT
|
AV_CH_LOW_FREQUENCY
)

	)

96 
	#AV_CH_LAYOUT_7POINT0
 (
AV_CH_LAYOUT_5POINT0
|
AV_CH_BACK_LEFT
|
AV_CH_BACK_RIGHT
)

	)

97 
	#AV_CH_LAYOUT_7POINT0_FRONT
 (
AV_CH_LAYOUT_5POINT0
|
AV_CH_FRONT_LEFT_OF_CENTER
|
AV_CH_FRONT_RIGHT_OF_CENTER
)

	)

98 
	#AV_CH_LAYOUT_7POINT1
 (
AV_CH_LAYOUT_5POINT1
|
AV_CH_BACK_LEFT
|
AV_CH_BACK_RIGHT
)

	)

99 
	#AV_CH_LAYOUT_7POINT1_WIDE
 (
AV_CH_LAYOUT_5POINT1
|
AV_CH_FRONT_LEFT_OF_CENTER
|
AV_CH_FRONT_RIGHT_OF_CENTER
)

	)

100 
	#AV_CH_LAYOUT_OCTAGONAL
 (
AV_CH_LAYOUT_5POINT0
|
AV_CH_BACK_LEFT
|
AV_CH_BACK_CENTER
|
AV_CH_BACK_RIGHT
)

	)

101 
	#AV_CH_LAYOUT_STEREO_DOWNMIX
 (
AV_CH_STEREO_LEFT
|
AV_CH_STEREO_RIGHT
)

	)

110 
uöt64_t
 
av_gë_ch™√l_œyout
(c⁄° *
«me
);

119 
av_gë_ch™√l_œyout_°rög
(*
buf
, 
buf_size
, 
nb_ch™√ls
, 
uöt64_t
 
ch™√l_œyout
);

124 
av_gë_ch™√l_œyout_nb_ch™√ls
(
uöt64_t
 
ch™√l_œyout
);

	@/usr/include/libavutil/avutil.h

21 #i‚de‡
AVUTIL_AVUTIL_H


22 
	#AVUTIL_AVUTIL_H


	)

120 
	#AV_STRINGIFY
(
s
Ë
	`AV_TOSTRING
(s)

	)

121 
	#AV_TOSTRING
(
s
Ë#s

	)

123 
	#AV_GLUE
(
a
, 
b
Ë®## 
	)
b

124 
	#AV_JOIN
(
a
, 
b
Ë
	`AV_GLUE
◊, b)

	)

126 
	#AV_PRAGMA
(
s
Ë
	`_Pøgma
(#s)

	)

141 
	#AV_VERSION_INT
(
a
, 
b
, 
c
Ë◊<<16 | b<<8 | c)

	)

142 
	#AV_VERSION_DOT
(
a
, 
b
, 
c
Ë®##.## b ##.## 
	)
c

143 
	#AV_VERSION
(
a
, 
b
, 
c
Ë
	`AV_VERSION_DOT
◊, b, c)

	)

156 
	#LIBAVUTIL_VERSION_MAJOR
 51

	)

157 
	#LIBAVUTIL_VERSION_MINOR
 22

	)

158 
	#LIBAVUTIL_VERSION_MICRO
 2

	)

160 
	#LIBAVUTIL_VERSION_INT
 
	`AV_VERSION_INT
(
LIBAVUTIL_VERSION_MAJOR
, \

161 
LIBAVUTIL_VERSION_MINOR
, \

162 
LIBAVUTIL_VERSION_MICRO
)

	)

163 
	#LIBAVUTIL_VERSION
 
	`AV_VERSION
(
LIBAVUTIL_VERSION_MAJOR
, \

164 
LIBAVUTIL_VERSION_MINOR
, \

165 
LIBAVUTIL_VERSION_MICRO
)

	)

166 
	#LIBAVUTIL_BUILD
 
LIBAVUTIL_VERSION_INT


	)

168 
	#LIBAVUTIL_IDENT
 "Lavu" 
	`AV_STRINGIFY
(
LIBAVUTIL_VERSION
)

	)

182 #i‚de‡
FF_API_GET_BITS_PER_SAMPLE_FMT


183 
	#FF_API_GET_BITS_PER_SAMPLE_FMT
 (
LIBAVUTIL_VERSION_MAJOR
 < 52)

	)

185 #i‚de‡
FF_API_FIND_OPT


186 
	#FF_API_FIND_OPT
 (
LIBAVUTIL_VERSION_MAJOR
 < 52)

	)

188 #i‚de‡
FF_API_AV_FIFO_PEEK


189 
	#FF_API_AV_FIFO_PEEK
 (
LIBAVUTIL_VERSION_MAJOR
 < 52)

	)

191 #i‚de‡
FF_API_OLD_AVOPTIONS


192 
	#FF_API_OLD_AVOPTIONS
 (
LIBAVUTIL_VERSION_MAJOR
 < 52)

	)

207 
avutû_vîsi⁄
();

212 c⁄° *
avutû_c⁄figuøti⁄
();

217 c⁄° *
avutû_li˚n£
();

228 
	eAVMedüTy≥
 {

229 
	mAVMEDIA_TYPE_UNKNOWN
 = -1,

230 
	mAVMEDIA_TYPE_VIDEO
,

231 
	mAVMEDIA_TYPE_AUDIO
,

232 
	mAVMEDIA_TYPE_DATA
,

233 
	mAVMEDIA_TYPE_SUBTITLE
,

234 
	mAVMEDIA_TYPE_ATTACHMENT
,

235 
	mAVMEDIA_TYPE_NB


248 
	#FF_LAMBDA_SHIFT
 7

	)

249 
	#FF_LAMBDA_SCALE
 (1<<
FF_LAMBDA_SHIFT
)

	)

250 
	#FF_QP2LAMBDA
 118

251 
	#FF_LAMBDA_MAX
 (256*128-1)

	)

253 
	#FF_QUALITY_SCALE
 
FF_LAMBDA_SCALE


254 

	)

271 
	#AV_NOPTS_VALUE
 
	`INT64_C
(0x8000000000000000)

	)

277 
	#AV_TIME_BASE
 1000000

	)

283 
	#AV_TIME_BASE_Q
 (
AVR©i⁄Æ
){1, 
AV_TIME_BASE
}

	)

295 
	eAVPi˘uªTy≥
 {

296 
	mAV_PICTURE_TYPE_I
 = 1,

297 
	mAV_PICTURE_TYPE_P
,

298 
	mAV_PICTURE_TYPE_B
,

299 
	mAV_PICTURE_TYPE_S
,

300 
	mAV_PICTURE_TYPE_SI
,

301 
	mAV_PICTURE_TYPE_SP
,

302 
	mAV_PICTURE_TYPE_BI
,

312 
av_gë_pi˘uª_ty≥_ch¨
(
AVPi˘uªTy≥
 
pi˘_ty≥
);

318 
	~"comm⁄.h
"

319 
	~"îr‹.h
"

	@/usr/include/libavutil/cpu.h

21 #i‚de‡
AVUTIL_CPU_H


22 
	#AVUTIL_CPU_H


	)

24 
	#AV_CPU_FLAG_FORCE
 0x80000000

	)

27 
	#AV_CPU_FLAG_MMX
 0x0001

28 
	#AV_CPU_FLAG_MMX2
 0x0002

29 
	#AV_CPU_FLAG_3DNOW
 0x0004

30 
	#AV_CPU_FLAG_SSE
 0x0008

31 
	#AV_CPU_FLAG_SSE2
 0x0010

32 
	#AV_CPU_FLAG_SSE2SLOW
 0x40000000

33 
	#AV_CPU_FLAG_3DNOWEXT
 0x0020

34 
	#AV_CPU_FLAG_SSE3
 0x0040

35 
	#AV_CPU_FLAG_SSE3SLOW
 0x20000000

36 
	#AV_CPU_FLAG_SSSE3
 0x0080

37 
	#AV_CPU_FLAG_ATOM
 0x10000000

38 
	#AV_CPU_FLAG_SSE4
 0x0100

39 
	#AV_CPU_FLAG_SSE42
 0x0200

40 
	#AV_CPU_FLAG_AVX
 0x4000

41 
	#AV_CPU_FLAG_XOP
 0x0400

42 
	#AV_CPU_FLAG_FMA4
 0x0800

43 
	#AV_CPU_FLAG_IWMMXT
 0x0100

44 
	#AV_CPU_FLAG_ALTIVEC
 0x0001

45 

	)

49 
av_gë_˝u_Êags
();

52 
ff_gë_˝u_Êags_¨m
();

53 
ff_gë_˝u_Êags_µc
();

54 
ff_gë_˝u_Êags_x86
();

	@/usr/include/libavutil/dict.h

25 #i‚de‡
AVUTIL_DICT_H


26 
	#AVUTIL_DICT_H


	)

61 
	#AV_DICT_MATCH_CASE
 1

	)

62 
	#AV_DICT_IGNORE_SUFFIX
 2

	)

63 
	#AV_DICT_DONT_STRDUP_KEY
 4

	)

65 
	#AV_DICT_DONT_STRDUP_VAL
 8

	)

67 
	#AV_DICT_DONT_OVERWRITE
 16

68 
	#AV_DICT_APPEND
 32

	)

72 *
	mkey
;

73 *
	mvÆue
;

74 } 
	tAVDi˘i⁄¨yE¡ry
;

76 
AVDi˘i⁄¨y
 
	tAVDi˘i⁄¨y
;

86 
AVDi˘i⁄¨yE¡ry
 *

87 
av_di˘_gë
(
AVDi˘i⁄¨y
 *
m
, c⁄° *
key
, c⁄° 
AVDi˘i⁄¨yE¡ry
 *
¥ev
, 
Êags
);

99 
av_di˘_£t
(
AVDi˘i⁄¨y
 **
pm
, c⁄° *
key
, c⁄° *
vÆue
, 
Êags
);

109 
av_di˘_c›y
(
AVDi˘i⁄¨y
 **
d°
, AVDi˘i⁄¨y *
§c
, 
Êags
);

115 
av_di˘_‰ì
(
AVDi˘i⁄¨y
 **
m
);

	@/usr/include/libavutil/log.h

21 #i‚de‡
AVUTIL_LOG_H


22 
	#AVUTIL_LOG_H


	)

24 
	~<°d¨g.h
>

25 
	~"avutû.h
"

26 
	~"©åibuãs.h
"

33 
	sAVCœss
 {

38 c⁄° * 
	m˛ass_«me
;

44 c⁄° * (*
	môem_«me
)(* 
	m˘x
);

51 c⁄° 
AVO±i⁄
 *
	m›ti⁄
;

59 
	mvîsi⁄
;

65 
	mlog_Àvñ_off£t_off£t
;

73 
	m∑ª¡_log_c⁄ãxt_off£t
;

78 * (*
	mchûd_√xt
)(*
	mobj
, *
	m¥ev
);

88 c⁄° 
	mAVCœss
* (*
	mchûd_˛ass_√xt
)(c⁄° 
AVCœss
 *
	m¥ev
);

89 } 
	tAVCœss
;

93 
	#AV_LOG_QUIET
 -8

	)

98 
	#AV_LOG_PANIC
 0

	)

105 
	#AV_LOG_FATAL
 8

	)

111 
	#AV_LOG_ERROR
 16

	)

117 
	#AV_LOG_WARNING
 24

	)

119 
	#AV_LOG_INFO
 32

	)

120 
	#AV_LOG_VERBOSE
 40

	)

125 
	#AV_LOG_DEBUG
 48

	)

141 
	$av_log
(*
av˛
, 
Àvñ
, c⁄° *
fmt
, ...Ë
	`av_¥ötf_f‹m©
(3, 4);

143 
	`av_vlog
(*
av˛
, 
Àvñ
, c⁄° *
fmt
, 
va_li°
);

144 
	`av_log_gë_Àvñ
();

145 
	`av_log_£t_Àvñ
();

146 
	`av_log_£t_ˇŒback
((*)(*, , c⁄° *, 
va_li°
));

147 
	`av_log_deÁu…_ˇŒback
(* 
±r
, 
Àvñ
, c⁄° * 
fmt
, 
va_li°
 
vl
);

148 c⁄° * 
	`av_deÁu…_ôem_«me
(* 
˘x
);

155 #ifde‡
DEBUG


156 
	#av_dlog
(
p˘x
, ...Ë
	`av_log
’˘x, 
AV_LOG_DEBUG
, 
__VA_ARGS__
)

	)

158 
	#av_dlog
(
p˘x
, ...)

	)

169 
	#AV_LOG_SKIP_REPEATED
 1

	)

170 
	`av_log_£t_Êags
(
¨g
);

	@/usr/include/libavutil/pixfmt.h

21 #i‚de‡
AVUTIL_PIXFMT_H


22 
	#AVUTIL_PIXFMT_H


	)

30 
	~"libavutû/avc⁄fig.h
"

62 
	ePixñF‹m©
 {

63 
	mPIX_FMT_NONE
= -1,

64 
	mPIX_FMT_YUV420P
,

65 
	mPIX_FMT_YUYV422
,

66 
	mPIX_FMT_RGB24
,

67 
	mPIX_FMT_BGR24
,

68 
	mPIX_FMT_YUV422P
,

69 
	mPIX_FMT_YUV444P
,

70 
	mPIX_FMT_YUV410P
,

71 
	mPIX_FMT_YUV411P
,

72 
	mPIX_FMT_GRAY8
,

73 
	mPIX_FMT_MONOWHITE
,

74 
	mPIX_FMT_MONOBLACK
,

75 
	mPIX_FMT_PAL8
,

76 
	mPIX_FMT_YUVJ420P
,

77 
	mPIX_FMT_YUVJ422P
,

78 
	mPIX_FMT_YUVJ444P
,

79 
	mPIX_FMT_XVMC_MPEG2_MC
,

80 
	mPIX_FMT_XVMC_MPEG2_IDCT
,

81 
	mPIX_FMT_UYVY422
,

82 
	mPIX_FMT_UYYVYY411
,

83 
	mPIX_FMT_BGR8
,

84 
	mPIX_FMT_BGR4
,

85 
	mPIX_FMT_BGR4_BYTE
,

86 
	mPIX_FMT_RGB8
,

87 
	mPIX_FMT_RGB4
,

88 
	mPIX_FMT_RGB4_BYTE
,

89 
	mPIX_FMT_NV12
,

90 
	mPIX_FMT_NV21
,

92 
	mPIX_FMT_ARGB
,

93 
	mPIX_FMT_RGBA
,

94 
	mPIX_FMT_ABGR
,

95 
	mPIX_FMT_BGRA
,

97 
	mPIX_FMT_GRAY16BE
,

98 
	mPIX_FMT_GRAY16LE
,

99 
	mPIX_FMT_YUV440P
,

100 
	mPIX_FMT_YUVJ440P
,

101 
	mPIX_FMT_YUVA420P
,

102 
	mPIX_FMT_VDPAU_H264
,

103 
	mPIX_FMT_VDPAU_MPEG1
,

104 
	mPIX_FMT_VDPAU_MPEG2
,

105 
	mPIX_FMT_VDPAU_WMV3
,

106 
	mPIX_FMT_VDPAU_VC1
,

107 
	mPIX_FMT_RGB48BE
,

108 
	mPIX_FMT_RGB48LE
,

110 
	mPIX_FMT_RGB565BE
,

111 
	mPIX_FMT_RGB565LE
,

112 
	mPIX_FMT_RGB555BE
,

113 
	mPIX_FMT_RGB555LE
,

115 
	mPIX_FMT_BGR565BE
,

116 
	mPIX_FMT_BGR565LE
,

117 
	mPIX_FMT_BGR555BE
,

118 
	mPIX_FMT_BGR555LE
,

120 
	mPIX_FMT_VAAPI_MOCO
,

121 
	mPIX_FMT_VAAPI_IDCT
,

122 
	mPIX_FMT_VAAPI_VLD
,

124 
	mPIX_FMT_YUV420P16LE
,

125 
	mPIX_FMT_YUV420P16BE
,

126 
	mPIX_FMT_YUV422P16LE
,

127 
	mPIX_FMT_YUV422P16BE
,

128 
	mPIX_FMT_YUV444P16LE
,

129 
	mPIX_FMT_YUV444P16BE
,

130 
	mPIX_FMT_VDPAU_MPEG4
,

131 
	mPIX_FMT_DXVA2_VLD
,

133 
	mPIX_FMT_RGB444LE
,

134 
	mPIX_FMT_RGB444BE
,

135 
	mPIX_FMT_BGR444LE
,

136 
	mPIX_FMT_BGR444BE
,

137 
	mPIX_FMT_Y400A
,

138 
	mPIX_FMT_BGR48BE
,

139 
	mPIX_FMT_BGR48LE
,

140 
	mPIX_FMT_YUV420P9BE
,

141 
	mPIX_FMT_YUV420P9LE
,

142 
	mPIX_FMT_YUV420P10BE
,

143 
	mPIX_FMT_YUV420P10LE
,

144 
	mPIX_FMT_YUV422P10BE
,

145 
	mPIX_FMT_YUV422P10LE
,

146 
	mPIX_FMT_YUV444P9BE
,

147 
	mPIX_FMT_YUV444P9LE
,

148 
	mPIX_FMT_YUV444P10BE
,

149 
	mPIX_FMT_YUV444P10LE
,

150 
	mPIX_FMT_YUV422P9BE
,

151 
	mPIX_FMT_YUV422P9LE
,

152 
	mPIX_FMT_VDA_VLD
,

153 
	mPIX_FMT_GBRP
,

154 
	mPIX_FMT_GBRP9BE
,

155 
	mPIX_FMT_GBRP9LE
,

156 
	mPIX_FMT_GBRP10BE
,

157 
	mPIX_FMT_GBRP10LE
,

158 
	mPIX_FMT_GBRP16BE
,

159 
	mPIX_FMT_GBRP16LE
,

160 
	mPIX_FMT_NB
,

163 #i‡
AV_HAVE_BIGENDIAN


164 
	#PIX_FMT_NE
(
be
, 
À
Ë
PIX_FMT_
##
	)
be

166 
	#PIX_FMT_NE
(
be
, 
À
Ë
PIX_FMT_
##
	)
le

169 
	#PIX_FMT_RGB32
 
	`PIX_FMT_NE
(
ARGB
, 
BGRA
)

	)

170 
	#PIX_FMT_RGB32_1
 
	`PIX_FMT_NE
(
RGBA
, 
ABGR
)

	)

171 
	#PIX_FMT_BGR32
 
	`PIX_FMT_NE
(
ABGR
, 
RGBA
)

	)

172 
	#PIX_FMT_BGR32_1
 
	`PIX_FMT_NE
(
BGRA
, 
ARGB
)

	)

174 
	#PIX_FMT_GRAY16
 
	`PIX_FMT_NE
(
GRAY16BE
, 
GRAY16LE
)

	)

175 
	#PIX_FMT_RGB48
 
	`PIX_FMT_NE
(
RGB48BE
, 
RGB48LE
)

	)

176 
	#PIX_FMT_RGB565
 
	`PIX_FMT_NE
(
RGB565BE
, 
RGB565LE
)

	)

177 
	#PIX_FMT_RGB555
 
	`PIX_FMT_NE
(
RGB555BE
, 
RGB555LE
)

	)

178 
	#PIX_FMT_RGB444
 
	`PIX_FMT_NE
(
RGB444BE
, 
RGB444LE
)

	)

179 
	#PIX_FMT_BGR48
 
	`PIX_FMT_NE
(
BGR48BE
, 
BGR48LE
)

	)

180 
	#PIX_FMT_BGR565
 
	`PIX_FMT_NE
(
BGR565BE
, 
BGR565LE
)

	)

181 
	#PIX_FMT_BGR555
 
	`PIX_FMT_NE
(
BGR555BE
, 
BGR555LE
)

	)

182 
	#PIX_FMT_BGR444
 
	`PIX_FMT_NE
(
BGR444BE
, 
BGR444LE
)

	)

184 
	#PIX_FMT_YUV420P9
 
	`PIX_FMT_NE
(
YUV420P9BE
 , 
YUV420P9LE
)

	)

185 
	#PIX_FMT_YUV422P9
 
	`PIX_FMT_NE
(
YUV422P9BE
 , 
YUV422P9LE
)

	)

186 
	#PIX_FMT_YUV444P9
 
	`PIX_FMT_NE
(
YUV444P9BE
 , 
YUV444P9LE
)

	)

187 
	#PIX_FMT_YUV420P10
 
	`PIX_FMT_NE
(
YUV420P10BE
, 
YUV420P10LE
)

	)

188 
	#PIX_FMT_YUV422P10
 
	`PIX_FMT_NE
(
YUV422P10BE
, 
YUV422P10LE
)

	)

189 
	#PIX_FMT_YUV444P10
 
	`PIX_FMT_NE
(
YUV444P10BE
, 
YUV444P10LE
)

	)

190 
	#PIX_FMT_YUV420P16
 
	`PIX_FMT_NE
(
YUV420P16BE
, 
YUV420P16LE
)

	)

191 
	#PIX_FMT_YUV422P16
 
	`PIX_FMT_NE
(
YUV422P16BE
, 
YUV422P16LE
)

	)

192 
	#PIX_FMT_YUV444P16
 
	`PIX_FMT_NE
(
YUV444P16BE
, 
YUV444P16LE
)

	)

194 
	#PIX_FMT_GBRP9
 
	`PIX_FMT_NE
(
GBRP9BE
 , 
GBRP9LE
)

	)

195 
	#PIX_FMT_GBRP10
 
	`PIX_FMT_NE
(
GBRP10BE
, 
GBRP10LE
)

	)

196 
	#PIX_FMT_GBRP16
 
	`PIX_FMT_NE
(
GBRP16BE
, 
GBRP16LE
)

	)

	@/usr/include/libavutil/rational.h

28 #i‚de‡
AVUTIL_RATIONAL_H


29 
	#AVUTIL_RATIONAL_H


	)

31 
	~<°döt.h
>

32 
	~<limôs.h
>

33 
	~"©åibuãs.h
"

43 
	sAVR©i⁄Æ
{

44 
	mnum
;

45 
	mdí
;

46 } 
	tAVR©i⁄Æ
;

55 
ölöe
 
	$av_cmp_q
(
AVR©i⁄Æ
 
a
, AVR©i⁄Æ 
b
){

56 c⁄° 
öt64_t
 
tmp

a
.
num
 * (öt64_t)
b
.
dí
 - b.num * (int64_t)a.den;

58 if(
tmp
Ë (—m∞^ 
a
.
dí
 ^ 
b
.den)>>63)|1;

59 if(
b
.
dí
 && 
a
.den)  0;

60 if(
a
.
num
 && 
b
.num)  (a.num>>31) - (b.num>>31);

61  
INT_MIN
;

62 
	}
}

69 
ölöe
 
	$av_q2d
(
AVR©i⁄Æ
 
a
){

70  
a
.
num
 / (Ëa.
dí
;

71 
	}
}

83 
av_ªdu˚
(*
d°_num
, *
d°_dí
, 
öt64_t
 
num
, i¡64_à
dí
, i¡64_à
max
);

91 
AVR©i⁄Æ
 
	$av_mul_q
(
AVR©i⁄Æ
 
b
, AVR©i⁄Æ 
c
Ë
av_c⁄°
;

99 
AVR©i⁄Æ
 
	$av_div_q
(
AVR©i⁄Æ
 
b
, AVR©i⁄Æ 
c
Ë
av_c⁄°
;

107 
AVR©i⁄Æ
 
	$av_add_q
(
AVR©i⁄Æ
 
b
, AVR©i⁄Æ 
c
Ë
av_c⁄°
;

115 
AVR©i⁄Æ
 
	$av_sub_q
(
AVR©i⁄Æ
 
b
, AVR©i⁄Æ 
c
Ë
av_c⁄°
;

125 
AVR©i⁄Æ
 
	$av_d2q
(
d
, 
max
Ë
av_c⁄°
;

131 
	`av_√¨î_q
(
AVR©i⁄Æ
 
q
, AVR©i⁄Æ 
q1
, AVR©i⁄Æ 
q2
);

138 
	`av_föd_√¨e°_q_idx
(
AVR©i⁄Æ
 
q
, c⁄° AVR©i⁄Æ* 
q_li°
);

	@/usr/include/libavutil/samplefmt.h

19 #i‚de‡
AVUTIL_SAMPLEFMT_H


20 
	#AVUTIL_SAMPLEFMT_H


	)

22 
	~"avutû.h
"

27 
	eAVSam∂eF‹m©
 {

28 
	mAV_SAMPLE_FMT_NONE
 = -1,

29 
	mAV_SAMPLE_FMT_U8
,

30 
	mAV_SAMPLE_FMT_S16
,

31 
	mAV_SAMPLE_FMT_S32
,

32 
	mAV_SAMPLE_FMT_FLT
,

33 
	mAV_SAMPLE_FMT_DBL
,

35 
	mAV_SAMPLE_FMT_U8P
,

36 
	mAV_SAMPLE_FMT_S16P
,

37 
	mAV_SAMPLE_FMT_S32P
,

38 
	mAV_SAMPLE_FMT_FLTP
,

39 
	mAV_SAMPLE_FMT_DBLP
,

41 
	mAV_SAMPLE_FMT_NB


48 c⁄° *
av_gë_ßm∂e_fmt_«me
(
AVSam∂eF‹m©
 
ßm∂e_fmt
);

54 
AVSam∂eF‹m©
 
av_gë_ßm∂e_fmt
(c⁄° *
«me
);

68 *
av_gë_ßm∂e_fmt_°rög
(*
buf
, 
buf_size
, 
AVSam∂eF‹m©
 
ßm∂e_fmt
);

70 #i‡
FF_API_GET_BITS_PER_SAMPLE_FMT


74 
©åibuã_dïªˇãd


75 
av_gë_bôs_≥r_ßm∂e_fmt
(
AVSam∂eF‹m©
 
ßm∂e_fmt
);

85 
av_gë_byãs_≥r_ßm∂e
(
AVSam∂eF‹m©
 
ßm∂e_fmt
);

93 
av_ßm∂e_fmt_is_∂™¨
(
AVSam∂eF‹m©
 
ßm∂e_fmt
);

105 
av_ßm∂es_gë_buf„r_size
(*
löesize
, 
nb_ch™√ls
, 
nb_ßm∂es
,

106 
AVSam∂eF‹m©
 
ßm∂e_fmt
, 
Æign
);

129 
av_ßm∂es_fûl_¨øys
(
uöt8_t
 **
audio_d©a
, *
löesize
, uöt8_à*
buf
,

130 
nb_ch™√ls
, 
nb_ßm∂es
,

131 
AVSam∂eF‹m©
 
ßm∂e_fmt
, 
Æign
);

146 
av_ßm∂es_Æloc
(
uöt8_t
 **
audio_d©a
, *
löesize
, 
nb_ch™√ls
,

147 
nb_ßm∂es
, 
AVSam∂eF‹m©
 
ßm∂e_fmt
, 
Æign
);

	@/usr/include/libio.h

29 #i‚de‡
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_c⁄fig.h
>

34 
	#_IO_pos_t
 
_G_Âos_t


	)

35 
	#_IO_Âos_t
 
_G_Âos_t


	)

36 
	#_IO_Âos64_t
 
_G_Âos64_t


	)

37 
	#_IO_size_t
 
_G_size_t


	)

38 
	#_IO_ssize_t
 
_G_ssize_t


	)

39 
	#_IO_off_t
 
_G_off_t


	)

40 
	#_IO_off64_t
 
_G_off64_t


	)

41 
	#_IO_pid_t
 
_G_pid_t


	)

42 
	#_IO_uid_t
 
_G_uid_t


	)

43 
	#_IO_ic⁄v_t
 
_G_ic⁄v_t


	)

44 
	#_IO_HAVE_SYS_WAIT
 
_G_HAVE_SYS_WAIT


	)

45 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

46 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

47 
	#_IO_va_li°
 
_G_va_li°


	)

48 
	#_IO_wöt_t
 
_G_wöt_t


	)

50 #ifde‡
_G_NEED_STDARG_H


52 
	#__√ed___va_li°


	)

53 
	~<°d¨g.h
>

54 #ifde‡
__GNUC_VA_LIST


55 #unde‡
_IO_va_li°


56 
	#_IO_va_li°
 
__gnuc_va_li°


	)

60 #i‚de‡
__P


61 #i‡
_G_HAVE_SYS_CDEFS


62 
	~<sys/cdefs.h
>

64 #ifde‡
__STDC__


65 
	#__P
(
p
Ë
	)
p

66 
	#__PMT
(
p
Ë
	)
p

68 
	#__P
(
p
Ë()

	)

69 
	#__PMT
(
p
Ë()

	)

75 #i‚de‡
_PARAMS


76 
	#_PARAMS
(
¥Ÿos
Ë
	`__P
’rŸos)

	)

79 #i‚de‡
__STDC__


81 c⁄°

	)

84 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

85 #i‚de‡
_G_HAVE_PRINTF_FP


86 
	#_IO_USE_DTOA
 1

	)

89 #i‚de‡
EOF


90 
	#EOF
 (-1)

	)

92 #i‚de‡
NULL


93 #i‡
deföed
 
__GNUG__
 && \

94 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

95 
	#NULL
 (
__nuŒ
)

	)

97 #i‡!
deföed
(
__˝lu•lus
)

98 
	#NULL
 ((*)0)

	)

100 
	#NULL
 (0)

	)

105 
	#_IOS_INPUT
 1

	)

106 
	#_IOS_OUTPUT
 2

	)

107 
	#_IOS_ATEND
 4

	)

108 
	#_IOS_APPEND
 8

	)

109 
	#_IOS_TRUNC
 16

	)

110 
	#_IOS_NOCREATE
 32

	)

111 
	#_IOS_NOREPLACE
 64

	)

112 
	#_IOS_BIN
 128

	)

120 
	#_IO_MAGIC
 0xFBAD0000

	)

121 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

122 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

123 
	#_IO_USER_BUF
 1

	)

124 
	#_IO_UNBUFFERED
 2

	)

125 
	#_IO_NO_READS
 4

	)

126 
	#_IO_NO_WRITES
 8

	)

127 
	#_IO_EOF_SEEN
 0x10

	)

128 
	#_IO_ERR_SEEN
 0x20

	)

129 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

130 
	#_IO_LINKED
 0x80

	)

131 
	#_IO_IN_BACKUP
 0x100

	)

132 
	#_IO_LINE_BUF
 0x200

	)

133 
	#_IO_TIED_PUT_GET
 0x400

	)

134 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

135 
	#_IO_IS_APPENDING
 0x1000

	)

136 
	#_IO_IS_FILEBUF
 0x2000

	)

137 
	#_IO_BAD_SEEN
 0x4000

	)

138 
	#_IO_USER_LOCK
 0x8000

	)

140 
	#_IO_FLAGS2_MMAP
 1

	)

141 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

142 #ifde‡
_LIBC


143 
	#_IO_FLAGS2_FORTIFY
 4

	)

145 
	#_IO_FLAGS2_USER_WBUF
 8

	)

146 #ifde‡
_LIBC


147 
	#_IO_FLAGS2_SCANF_STD
 16

	)

148 
	#_IO_FLAGS2_NOCLOSE
 32

	)

149 
	#_IO_FLAGS2_CLOEXEC
 64

	)

153 
	#_IO_SKIPWS
 01

	)

154 
	#_IO_LEFT
 02

	)

155 
	#_IO_RIGHT
 04

	)

156 
	#_IO_INTERNAL
 010

	)

157 
	#_IO_DEC
 020

	)

158 
	#_IO_OCT
 040

	)

159 
	#_IO_HEX
 0100

	)

160 
	#_IO_SHOWBASE
 0200

	)

161 
	#_IO_SHOWPOINT
 0400

	)

162 
	#_IO_UPPERCASE
 01000

	)

163 
	#_IO_SHOWPOS
 02000

	)

164 
	#_IO_SCIENTIFIC
 04000

	)

165 
	#_IO_FIXED
 010000

	)

166 
	#_IO_UNITBUF
 020000

	)

167 
	#_IO_STDIO
 040000

	)

168 
	#_IO_DONT_CLOSE
 0100000

	)

169 
	#_IO_BOOLALPHA
 0200000

	)

172 
_IO_jump_t
; 
	g_IO_FILE
;

175 #ifde‡
_IO_MTSAFE_IO


176 #i‡
deföed
 
__GLIBC__
 && __GLIBC__ >= 2

177 
	~<bôs/°dio-lock.h
>

182 
	t_IO_lock_t
;

188 
	s_IO_m¨kî
 {

189 
_IO_m¨kî
 *
	m_√xt
;

190 
_IO_FILE
 *
	m_sbuf
;

194 
	m_pos
;

196 
£t_°ªampos
(
°ªampos
 
•
Ë{ 
	m_•os
 = sp; }

197 
£t_off£t
(
off£t
Ë{ 
	m_pos
 = off£t; 
	m_•os
 = (
°ªampos
)(-2); }

198 
	mpublic
:

199 
°ªamm¨kî
(
°ªambuf
 *
sb
);

200 ~
°ªamm¨kî
();

201 
ßvög
(Ë{  
	m_•os
 == -2; }

202 
dñè
(
°ªamm¨kî
&);

203 
dñè
();

208 
	e__codecvt_ªsu…


210 
	m__codecvt_ok
,

211 
	m__codecvt_∑πül
,

212 
	m__codecvt_îr‹
,

213 
	m__codecvt_noc⁄v


216 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


219 
	s_IO_codecvt


221 (*
	m__codecvt_de°r
Ë(
	m_IO_codecvt
 *);

222 
__codecvt_ªsu…
 (*
__codecvt_do_out
Ë(
	m_IO_codecvt
 *,

223 
	m__mb°©e_t
 *,

224 c⁄° 
	mwch¨_t
 *,

225 c⁄° 
	mwch¨_t
 *,

226 c⁄° 
	mwch¨_t
 **, *,

228 
__codecvt_ªsu…
 (*
__codecvt_do_unshi·
Ë(
	m_IO_codecvt
 *,

229 
	m__mb°©e_t
 *, *,

231 
__codecvt_ªsu…
 (*
__codecvt_do_ö
Ë(
	m_IO_codecvt
 *,

232 
	m__mb°©e_t
 *,

234 c⁄° **, 
	mwch¨_t
 *,

235 
	mwch¨_t
 *, wchar_t **);

236 (*
	m__codecvt_do_ícodög
Ë(
	m_IO_codecvt
 *);

237 (*
	m__codecvt_do_Æways_noc⁄v
Ë(
	m_IO_codecvt
 *);

238 (*
	m__codecvt_do_Àngth
Ë(
	m_IO_codecvt
 *, 
	m__mb°©e_t
 *,

239 c⁄° *, c⁄° *, 
	m_IO_size_t
);

240 (*
	m__codecvt_do_max_Àngth
Ë(
	m_IO_codecvt
 *);

242 
_IO_ic⁄v_t
 
	m__cd_ö
;

243 
_IO_ic⁄v_t
 
	m__cd_out
;

247 
	s_IO_wide_d©a


249 
wch¨_t
 *
	m_IO_ªad_±r
;

250 
wch¨_t
 *
	m_IO_ªad_íd
;

251 
wch¨_t
 *
	m_IO_ªad_ba£
;

252 
wch¨_t
 *
	m_IO_wrôe_ba£
;

253 
wch¨_t
 *
	m_IO_wrôe_±r
;

254 
wch¨_t
 *
	m_IO_wrôe_íd
;

255 
wch¨_t
 *
	m_IO_buf_ba£
;

256 
wch¨_t
 *
	m_IO_buf_íd
;

258 
wch¨_t
 *
	m_IO_ßve_ba£
;

259 
wch¨_t
 *
	m_IO_backup_ba£
;

261 
wch¨_t
 *
	m_IO_ßve_íd
;

263 
__mb°©e_t
 
	m_IO_°©e
;

264 
__mb°©e_t
 
	m_IO_œ°_°©e
;

265 
_IO_codecvt
 
	m_codecvt
;

267 
wch¨_t
 
	m_sh‹tbuf
[1];

269 c⁄° 
_IO_jump_t
 *
	m_wide_vèbÀ
;

273 
	s_IO_FILE
 {

274 
	m_Êags
;

275 
	#_IO_fûe_Êags
 
_Êags


	)

279 * 
	m_IO_ªad_±r
;

280 * 
	m_IO_ªad_íd
;

281 * 
	m_IO_ªad_ba£
;

282 * 
	m_IO_wrôe_ba£
;

283 * 
	m_IO_wrôe_±r
;

284 * 
	m_IO_wrôe_íd
;

285 * 
	m_IO_buf_ba£
;

286 * 
	m_IO_buf_íd
;

288 *
	m_IO_ßve_ba£
;

289 *
	m_IO_backup_ba£
;

290 *
	m_IO_ßve_íd
;

292 
_IO_m¨kî
 *
	m_m¨kîs
;

294 
_IO_FILE
 *
	m_chaö
;

296 
	m_fûío
;

298 
	m_blksize
;

300 
	m_Êags2
;

302 
_IO_off_t
 
	m_ﬁd_off£t
;

304 
	#__HAVE_COLUMN


	)

306 
	m_cur_cﬁumn
;

307 sig√d 
	m_vèbÀ_off£t
;

308 
	m_sh‹tbuf
[1];

312 
_IO_lock_t
 *
	m_lock
;

313 #ifde‡
_IO_USE_OLD_IO_FILE


316 
	s_IO_FILE_com∂ëe


318 
_IO_FILE
 
	m_fûe
;

320 #i‡
deföed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

321 
_IO_off64_t
 
	m_off£t
;

322 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


324 
_IO_codecvt
 *
	m_codecvt
;

325 
_IO_wide_d©a
 *
	m_wide_d©a
;

326 
_IO_FILE
 *
	m_‰ìªs_li°
;

327 *
	m_‰ìªs_buf
;

328 
size_t
 
	m_‰ìªs_size
;

330 *
	m__∑d1
;

331 *
	m__∑d2
;

332 *
	m__∑d3
;

333 *
	m__∑d4
;

334 
size_t
 
	m__∑d5
;

336 
	m_mode
;

338 
	m_unu£d2
[15 *  (Ë- 4 *  (*Ë-  (
size_t
)];

342 #i‚de‡
__˝lu•lus


343 
_IO_FILE
 
	t_IO_FILE
;

346 
	g_IO_FILE_∂us
;

348 
_IO_FILE_∂us
 
_IO_2_1_°dö_
;

349 
_IO_FILE_∂us
 
_IO_2_1_°dout_
;

350 
_IO_FILE_∂us
 
_IO_2_1_°dîr_
;

351 #i‚de‡
_LIBC


352 
	#_IO_°dö
 ((
_IO_FILE
*)(&
_IO_2_1_°dö_
))

	)

353 
	#_IO_°dout
 ((
_IO_FILE
*)(&
_IO_2_1_°dout_
))

	)

354 
	#_IO_°dîr
 ((
_IO_FILE
*)(&
_IO_2_1_°dîr_
))

	)

356 
_IO_FILE
 *
_IO_°dö
 
©åibuã_hiddí
;

357 
_IO_FILE
 *
_IO_°dout
 
©åibuã_hiddí
;

358 
_IO_FILE
 *
_IO_°dîr
 
©åibuã_hiddí
;

366 
__ssize_t
 
	t__io_ªad_‚
 (*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__nbyãs
);

374 
__ssize_t
 
	t__io_wrôe_‚
 (*
	t__cookõ
, 
	t__c⁄°
 *
	t__buf
,

375 
	tsize_t
 
	t__n
);

383 
	t__io_£ek_‚
 (*
	t__cookõ
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

386 
	t__io_˛o£_‚
 (*
	t__cookõ
);

389 #ifde‡
_GNU_SOURCE


391 
__io_ªad_‚
 
	tcookõ_ªad_fun˘i⁄_t
;

392 
__io_wrôe_‚
 
	tcookõ_wrôe_fun˘i⁄_t
;

393 
__io_£ek_‚
 
	tcookõ_£ek_fun˘i⁄_t
;

394 
__io_˛o£_‚
 
	tcookõ_˛o£_fun˘i⁄_t
;

399 
__io_ªad_‚
 *
	mªad
;

400 
__io_wrôe_‚
 *
	mwrôe
;

401 
__io_£ek_‚
 *
	m£ek
;

402 
__io_˛o£_‚
 *
	m˛o£
;

403 } 
	t_IO_cookõ_io_fun˘i⁄s_t
;

404 
_IO_cookõ_io_fun˘i⁄s_t
 
	tcookõ_io_fun˘i⁄s_t
;

406 
	g_IO_cookõ_fûe
;

409 
_IO_cookõ_öô
 (
_IO_cookõ_fûe
 *
__cfûe
, 
__ªad_wrôe
,

410 *
__cookõ
, 
_IO_cookõ_io_fun˘i⁄s_t
 
__‚s
);

414 #ifde‡
__˝lu•lus


418 
__undîÊow
 (
_IO_FILE
 *);

419 
__uÊow
 (
_IO_FILE
 *);

420 
__ovîÊow
 (
_IO_FILE
 *, );

421 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


422 
_IO_wöt_t
 
__wundîÊow
 (
_IO_FILE
 *);

423 
_IO_wöt_t
 
__wuÊow
 (
_IO_FILE
 *);

424 
_IO_wöt_t
 
__wovîÊow
 (
_IO_FILE
 *, _IO_wint_t);

427 #i‡ 
__GNUC__
 >= 3

428 
	#_IO_BE
(
ex¥
, 
ªs
Ë
	`__buûtö_ex≥˘
 (”x¥),Ñes)

	)

430 
	#_IO_BE
(
ex¥
, 
ªs
Ë”x¥)

	)

433 
	#_IO_gëc_u∆ocked
(
_Â
) \

434 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

435 ? 
	`__uÊow
 (
_Â
Ë: *(*Ë(_Â)->
_IO_ªad_±r
++)

	)

436 
	#_IO_≥ekc_u∆ocked
(
_Â
) \

437 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

438 && 
	`__undîÊow
 (
_Â
Ë=
EOF
 ? EOF \

439 : *(*Ë(
_Â
)->
_IO_ªad_±r
)

	)

440 
	#_IO_putc_u∆ocked
(
_ch
, 
_Â
) \

441 (
	`_IO_BE
 ((
_Â
)->
_IO_wrôe_±r
 >(_Â)->
_IO_wrôe_íd
, 0) \

442 ? 
	`__ovîÊow
 (
_Â
, (Ë(
_ch
)) \

443 : (Ë(*(
_Â
)->
_IO_wrôe_±r
++ = (
_ch
)))

	)

445 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


446 
	#_IO_gëwc_u∆ocked
(
_Â
) \

447 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

448 || ((
_Â
)->
_wide_d©a
->
_IO_ªad_±r
 \

449 >(
_Â
)->
_wide_d©a
->
_IO_ªad_íd
), 0) \

450 ? 
	`__wuÊow
 (
_Â
Ë: (
_IO_wöt_t
Ë*(_Â)->
_wide_d©a
->
_IO_ªad_±r
++)

	)

451 
	#_IO_putwc_u∆ocked
(
_wch
, 
_Â
) \

452 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

453 || ((
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
 \

454 >(
_Â
)->
_wide_d©a
->
_IO_wrôe_íd
), 0) \

455 ? 
	`__wovîÊow
 (
_Â
, 
_wch
) \

456 : (
_IO_wöt_t
Ë(*(
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
++ = (
_wch
)))

	)

459 
	#_IO_„of_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_EOF_SEEN
Ë!0)

	)

460 
	#_IO_„º‹_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_ERR_SEEN
Ë!0)

	)

462 
_IO_gëc
 (
_IO_FILE
 *
__Â
);

463 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__Â
);

464 
_IO_„of
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

465 
_IO_„º‹
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

467 
_IO_≥ekc_locked
 (
_IO_FILE
 *
__Â
);

470 
	#_IO_PENDING_OUTPUT_COUNT
(
_Â
) \

471 ((
_Â
)->
_IO_wrôe_±r
 - (_Â)->
_IO_wrôe_ba£
)

	)

473 
_IO_Êockfûe
 (
_IO_FILE
 *Ë
__THROW
;

474 
_IO_fu∆ockfûe
 (
_IO_FILE
 *Ë
__THROW
;

475 
_IO_·rylockfûe
 (
_IO_FILE
 *Ë
__THROW
;

477 #ifde‡
_IO_MTSAFE_IO


478 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_locked
 (_Â)

	)

479 
	#_IO_Êockfûe
(
_Â
) \

480 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_Êockfûe
 (_Â)

	)

481 
	#_IO_fu∆ockfûe
(
_Â
) \

482 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_fu∆ockfûe
 (_Â)

	)

484 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_u∆ocked
 (_Â)

	)

485 
	#_IO_Êockfûe
(
_Â
Ë

	)

486 
	#_IO_fu∆ockfûe
(
_Â
Ë

	)

487 
	#_IO_·rylockfûe
(
_Â
Ë

	)

488 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
Ë

	)

489 
	#_IO_˛ónup_ªgi⁄_íd
(
_Doô
Ë

	)

492 
_IO_vfsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, const * __restrict,

493 
_IO_va_li°
, *
__ª°ri˘
);

494 
_IO_vÂrötf
 (
_IO_FILE
 *
__ª°ri˘
, const *__restrict,

495 
_IO_va_li°
);

496 
_IO_ssize_t
 
_IO_∑dn
 (
_IO_FILE
 *, , _IO_ssize_t);

497 
_IO_size_t
 
_IO_sgën
 (
_IO_FILE
 *, *, _IO_size_t);

499 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

500 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

502 
_IO_‰ì_backup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

504 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


505 
_IO_wöt_t
 
_IO_gëwc
 (
_IO_FILE
 *
__Â
);

506 
_IO_wöt_t
 
_IO_putwc
 (
wch¨_t
 
__wc
, 
_IO_FILE
 *
__Â
);

507 
_IO_fwide
 (
_IO_FILE
 *
__Â
, 
__mode
Ë
__THROW
;

508 #i‡
__GNUC__
 >= 2

511 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


512 
	~<shlib-com∑t.h
>

513 #i‡
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

514 
	#_IO_fwide_maybe_öcom∑tibÀ
 \

515 (
	`__buûtö_ex≥˘
 (&
_IO_°dö_u£d
 =
NULL
, 0))

	)

516 c⁄° 
_IO_°dö_u£d
;

517 
wók_exã∫
 (
_IO_°dö_u£d
);

520 #i‚de‡
_IO_fwide_maybe_öcom∑tibÀ


521 
	#_IO_fwide_maybe_öcom∑tibÀ
 (0)

	)

525 
	#_IO_fwide
(
__Â
, 
__mode
) \

526 ({ 
__ªsu…
 = (
__mode
); \

527 i‡(
__ªsu…
 < 0 && ! 
_IO_fwide_maybe_öcom∑tibÀ
) \

529 i‡((
__Â
)->
_mode
 == 0) \

531 (
__Â
)->
_mode
 = -1; \

532 
__ªsu…
 = (
__Â
)->
_mode
; \

534 i‡(
	`__buûtö_c⁄°™t_p
 (
__mode
) && (__mode) == 0) \

535 
__ªsu…
 = 
_IO_fwide_maybe_öcom∑tibÀ
 ? -1 : (
__Â
)->
_mode
; \

537 
__ªsu…
 = 
	`_IO_fwide
 (
__Â
, __result); \

538 
__ªsu…
; })

	)

541 
_IO_vfwsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, c⁄° 
wch¨_t
 * __restrict,

542 
_IO_va_li°
, *
__ª°ri˘
);

543 
_IO_vfw¥ötf
 (
_IO_FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

544 
_IO_va_li°
);

545 
_IO_ssize_t
 
_IO_w∑dn
 (
_IO_FILE
 *, 
wöt_t
, _IO_ssize_t);

546 
_IO_‰ì_wbackup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

549 #ifde‡
__LDBL_COMPAT


550 
	~<bôs/libio-ldbl.h
>

553 #ifde‡
__˝lu•lus


	@/usr/include/linux/posix_types.h

1 #i‚de‡
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<löux/°ddef.h
>

21 #unde‡
__NFDBITS


22 
	#__NFDBITS
 (8 * ())

	)

24 #unde‡
__FD_SETSIZE


25 
	#__FD_SETSIZE
 1024

	)

27 #unde‡
__FDSET_LONGS


28 
	#__FDSET_LONGS
 (
__FD_SETSIZE
/
__NFDBITS
)

	)

30 #unde‡
__FDELT


31 
	#__FDELT
(
d
Ë((dË/ 
__NFDBITS
)

	)

33 #unde‡
__FDMASK


34 
	#__FDMASK
(
d
Ë(1UL << ((dË% 
__NFDBITS
))

	)

37 
	mfds_bôs
 [
__FDSET_LONGS
];

38 } 
	t__kî√l_fd_£t
;

41 (*
	t__kî√l_sigh™dÀr_t
)();

44 
	t__kî√l_key_t
;

45 
	t__kî√l_mqd_t
;

47 
	~<asm/posix_ty≥s.h
>

	@/usr/include/pngconf.h

20 #i‚de‡
PNGCONF_H


21 
	#PNGCONF_H


	)

23 
	#PNG_1_2_X


	)

29 #ifde‡
PNG_USER_CONFIG


30 #i‚de‡
PNG_USER_PRIVATEBUILD


31 
	#PNG_USER_PRIVATEBUILD


	)

33 
	~"≤gu§.h
"

37 #ifde‡
PNG_CONFIGURE_LIBPNG


38 #ifde‡
HAVE_CONFIG_H


39 
	~"c⁄fig.h
"

64 #ifde‡
__STDC__


65 #ifde‡
SPECIALBUILD


66 #¥agm®
mesßge
("PNG_LIBPNG_SPECIALBUILD (and deprecated SPECIALBUILD)\
Çow LIBPNGÑeserved macros. Use PNG_USER_PRIVATEBUILD instead.")

70 #ifde‡
PRIVATEBUILD


71 #¥agm®
mesßge
("PRIVATEBUILD is deprecated.\
 PNG_USER_PRIVATEBUILD instead.")

73 
	#PNG_USER_PRIVATEBUILD
 
PRIVATEBUILD


	)

77 #i‚de‡
PNG_VERSION_INFO_ONLY


83 #i‡!
deföed
(
PNG_NO_WARN_UNINITIALIZED_ROW
) && \

84 !
	$deföed
(
PNG_WARN_UNINITIALIZED_ROW
)

85 
	#PNG_WARN_UNINITIALIZED_ROW
 1

	)

102 #i‚de‡
PNG_ZBUF_SIZE


103 
	#PNG_ZBUF_SIZE
 8192

	)

108 #i‚de‡
PNG_NO_READ_SUPPORTED


109 
	#PNG_READ_SUPPORTED


	)

114 #i‚de‡
PNG_NO_WRITE_SUPPORTED


115 
	#PNG_WRITE_SUPPORTED


	)

119 #ifde‡
PNG_ALLOW_BENIGN_ERRORS


120 
	#≤g_bíign_îr‹
 
≤g_w¨nög


	)

121 
	#≤g_chunk_bíign_îr‹
 
≤g_chunk_w¨nög


	)

123 #i‚de‡
PNG_BENIGN_ERRORS_SUPPORTED


124 
	#≤g_bíign_îr‹
 
≤g_îr‹


	)

125 
	#≤g_chunk_bíign_îr‹
 
≤g_chunk_îr‹


	)

130 #i‡!
	`deföed
(
PNG_NO_WARNINGS
Ë&& !deföed(
PNG_WARNINGS_SUPPORTED
)

131 
	#PNG_WARNINGS_SUPPORTED


	)

134 #i‡!
	`deföed
(
PNG_NO_ERROR_TEXT
Ë&& !deföed(
PNG_ERROR_TEXT_SUPPORTED
)

135 
	#PNG_ERROR_TEXT_SUPPORTED


	)

138 #i‡!
	`deföed
(
PNG_NO_CHECK_cHRM
Ë&& !deföed(
PNG_CHECK_cHRM_SUPPORTED
)

139 
	#PNG_CHECK_cHRM_SUPPORTED


	)

145 #i‡!
	`deföed
(
PNG_1_0_X
Ë&& !deföed(
PNG_NO_MNG_FEATURES
)

146 #i‚de‡
PNG_MNG_FEATURES_SUPPORTED


147 
	#PNG_MNG_FEATURES_SUPPORTED


	)

151 #i‚de‡
PNG_NO_FLOATING_POINT_SUPPORTED


152 #i‚de‡
PNG_FLOATING_POINT_SUPPORTED


153 
	#PNG_FLOATING_POINT_SUPPORTED


	)

165 #i‡
	`deföed
(
MAXSEG_64K
Ë&& !deföed(
PNG_MAX_MALLOC_64K
)

166 
	#PNG_MAX_MALLOC_64K


	)

202 #ifde‡
__CYGWIN__


203 #ifde‡
ALL_STATIC


204 #ifde‡
PNG_BUILD_DLL


205 #unde‡
PNG_BUILD_DLL


207 #ifde‡
PNG_USE_DLL


208 #unde‡
PNG_USE_DLL


210 #ifde‡
PNG_DLL


211 #unde‡
PNG_DLL


213 #i‚de‡
PNG_STATIC


214 
	#PNG_STATIC


	)

217 #ifde‡
PNG_BUILD_DLL


218 #ifde‡
PNG_STATIC


219 #unde‡
PNG_STATIC


221 #ifde‡
PNG_USE_DLL


222 #unde‡
PNG_USE_DLL


224 #i‚de‡
PNG_DLL


225 
	#PNG_DLL


	)

228 #ifde‡
PNG_STATIC


229 #ifde‡
PNG_USE_DLL


230 #unde‡
PNG_USE_DLL


232 #ifde‡
PNG_DLL


233 #unde‡
PNG_DLL


236 #i‚de‡
PNG_USE_DLL


237 
	#PNG_USE_DLL


	)

239 #i‚de‡
PNG_DLL


240 
	#PNG_DLL


	)

260 #i‡!
	`deföed
(
PNG_NO_STDIO
Ë&& !deföed(
PNG_STDIO_SUPPORTED
)

261 
	#PNG_STDIO_SUPPORTED


	)

264 #ifde‡
_WIN32_WCE


265 
	~<wödows.h
>

267 
	#PNG_NO_CONSOLE_IO


	)

269 
	#PNG_ABORT
(Ë
	`exô
(-1)

	)

270 #ifde‡
PNG_DEBUG


271 #unde‡
PNG_DEBUG


275 #ifde‡
PNG_BUILD_DLL


276 #i‚de‡
PNG_CONSOLE_IO_SUPPORTED


277 #i‚de‡
PNG_NO_CONSOLE_IO


278 
	#PNG_NO_CONSOLE_IO


	)

283 #ifde‡
PNG_NO_STDIO


284 #i‚de‡
PNG_NO_CONSOLE_IO


285 
	#PNG_NO_CONSOLE_IO


	)

287 #ifde‡
PNG_DEBUG


288 #i‡(
PNG_DEBUG
 > 0)

289 
	~<°dio.h
>

293 #i‚de‡
_WIN32_WCE


295 
	~<°dio.h
>

299 #i‡!(
deföed
 
PNG_NO_CONSOLE_IO
Ë&& !
	`deföed
(
PNG_CONSOLE_IO_SUPPORTED
)

300 
	#PNG_CONSOLE_IO_SUPPORTED


	)

310 #i‚de‡
PNGARG


312 #ifde‡
OF


313 
	#PNGARG
(
¨gli°
Ë
	`OF
◊rgli°)

	)

316 #ifde‡
_NO_PROTO


317 
	#PNGARG
(
¨gli°
Ë()

	)

318 #i‚de‡
PNG_TYPECAST_NULL


319 
	#PNG_TYPECAST_NULL


	)

322 
	#PNGARG
(
¨gli°
Ë
	)
arglist

334 #i‚de‡
MACOS


335 #i‡(
	`deföed
(
__MWERKS__
Ë&& deföed(
macötosh
)Ë|| deföed(
≠∂ec
) || \

336 
	`deföed
(
THINK_C
Ë|| deföed(
__SC__
Ë|| 
	$deföed
(
TARGET_OS_MAC
)

337 
	#MACOS


	)

342 #i‡!
	`deföed
(
MACOS
Ë&& !deföed(
RISCOS
Ë&& !deföed(
_WIN32_WCE
)

343 
	~<sys/ty≥s.h
>

346 #i‡!
	`deföed
(
PNG_SETJMP_NOT_SUPPORTED
Ë&& !deföed(
PNG_NO_SETJMP_SUPPORTED
)

347 
	#PNG_SETJMP_SUPPORTED


	)

350 #ifde‡
PNG_SETJMP_SUPPORTED


361 #i‚de‡
PNG_SKIP_SETJMP_CHECK


362 #ifde‡
__löux__


363 #ifde‡
_BSD_SOURCE


364 
	#PNG_SAVE_BSD_SOURCE


	)

365 #unde‡
_BSD_SOURCE


367 #ifde‡
_SETJMP_H


371 
__≤gc⁄f
.
h__
 
ö
 
lib≤g
 
Æªady
 
ö˛udes
 
£tjmp
.
h
;

372 
__d⁄t__
 
ö˛ude
 
ô
 
agaö
.;

378 
	~<£tjmp.h
>

380 #ifde‡
__löux__


381 #ifde‡
PNG_SAVE_BSD_SOURCE


382 #i‚de‡
_BSD_SOURCE


383 
	#_BSD_SOURCE


	)

385 #unde‡
PNG_SAVE_BSD_SOURCE


390 #ifde‡
BSD


391 
	~<°rögs.h
>

393 
	~<°rög.h
>

397 #ifde‡
PNG_INTERNAL


399 
	~<°dlib.h
>

408 
	#PNG_EXTERN


	)

414 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


415 #ifde‡
MACOS


420 #i‡!
	`deföed
(
__MATH_H__
Ë&& !deföed(
__MATH_H
Ë&& !deföed(
__cm©h__
)

421 
	~<Â.h
>

424 
	~<m©h.h
>

426 #i‡
	`deföed
(
_AMIGA
Ë&& deföed(
__SASC
Ë&& deföed(
_M68881
)

430 
	~<m68881.h
>

435 #i‡(
	`deföed
(
__MWERKS__
Ë&& deföed(
WIN32
)Ë|| deföed(
__STDC__
)

436 
	#PNG_ALWAYS_EXTERN


	)

440 #i‡
	`deföed
(
__TURBOC__
Ë&& deföed(
__MSDOS__
)

441 
	~<mem.h
>

442 
	~<Æloc.h
>

446 #i‡
	`deföed
(
_MSC_VER
Ë&& (deföed(
WIN32
Ë|| deföed(
_Wödows
) || \

447 
	`deföed
(
_WINDOWS
Ë|| deföed(
_WIN32
Ë|| 
	$deföed
(
__WIN32__
))

448 
	~<mÆloc.h
>

455 #i‚de‡
PNG_DITHER_RED_BITS


456 
	#PNG_DITHER_RED_BITS
 5

	)

458 #i‚de‡
PNG_DITHER_GREEN_BITS


459 
	#PNG_DITHER_GREEN_BITS
 5

	)

461 #i‚de‡
PNG_DITHER_BLUE_BITS


462 
	#PNG_DITHER_BLUE_BITS
 5

	)

472 #i‚de‡
PNG_MAX_GAMMA_8


473 
	#PNG_MAX_GAMMA_8
 11

	)

479 #i‚de‡
PNG_GAMMA_THRESHOLD


480 
	#PNG_GAMMA_THRESHOLD
 0.05

	)

490 #i‚de‡
PNG_NO_CONST


491 
	#PNG_CONST
 c⁄°

	)

493 
	#PNG_CONST


	)

529 #i‡
	`deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

530 #i‚de‡
PNG_NO_iTXt_SUPPORTED


531 
	#PNG_NO_iTXt_SUPPORTED


	)

533 #i‚de‡
PNG_NO_READ_iTXt


534 
	#PNG_NO_READ_iTXt


	)

536 #i‚de‡
PNG_NO_WRITE_iTXt


537 
	#PNG_NO_WRITE_iTXt


	)

541 #i‡!
	`deföed
(
PNG_NO_iTXt_SUPPORTED
)

542 #i‡!
	`deföed
(
PNG_READ_iTXt_SUPPORTED
Ë&& !deföed(
PNG_NO_READ_iTXt
)

543 
	#PNG_READ_iTXt


	)

545 #i‡!
	`deföed
(
PNG_WRITE_iTXt_SUPPORTED
Ë&& !deföed(
PNG_NO_WRITE_iTXt
)

546 
	#PNG_WRITE_iTXt


	)

556 #ifde‡
PNG_LEGACY_SUPPORTED


557 
	#PNG_NO_FREE_ME


	)

558 
	#PNG_NO_READ_UNKNOWN_CHUNKS


	)

559 
	#PNG_NO_WRITE_UNKNOWN_CHUNKS


	)

560 
	#PNG_NO_HANDLE_AS_UNKNOWN


	)

561 
	#PNG_NO_READ_USER_CHUNKS


	)

562 
	#PNG_NO_READ_iCCP


	)

563 
	#PNG_NO_WRITE_iCCP


	)

564 
	#PNG_NO_READ_iTXt


	)

565 
	#PNG_NO_WRITE_iTXt


	)

566 
	#PNG_NO_READ_sCAL


	)

567 
	#PNG_NO_WRITE_sCAL


	)

568 
	#PNG_NO_READ_sPLT


	)

569 
	#PNG_NO_WRITE_sPLT


	)

570 
	#PNG_NO_INFO_IMAGE


	)

571 
	#PNG_NO_READ_RGB_TO_GRAY


	)

572 
	#PNG_NO_READ_USER_TRANSFORM


	)

573 
	#PNG_NO_WRITE_USER_TRANSFORM


	)

574 
	#PNG_NO_USER_MEM


	)

575 
	#PNG_NO_READ_EMPTY_PLTE


	)

576 
	#PNG_NO_MNG_FEATURES


	)

577 
	#PNG_NO_FIXED_POINT_SUPPORTED


	)

581 #i‡!
	`deföed
(
PNG_FLOATING_POINT_SUPPORTED
) || \

582 !
	$deföed
(
PNG_NO_FIXED_POINT_SUPPORTED
)

583 
	#PNG_FIXED_POINT_SUPPORTED


	)

586 #i‚de‡
PNG_NO_FREE_ME


587 
	#PNG_FREE_ME_SUPPORTED


	)

590 #ifde‡
PNG_READ_SUPPORTED


592 #i‡!
	`deföed
(
PNG_READ_TRANSFORMS_NOT_SUPPORTED
) && \

593 !
	$deföed
(
PNG_NO_READ_TRANSFORMS
)

594 
	#PNG_READ_TRANSFORMS_SUPPORTED


	)

597 #ifde‡
PNG_READ_TRANSFORMS_SUPPORTED


598 #i‚de‡
PNG_NO_READ_EXPAND


599 
	#PNG_READ_EXPAND_SUPPORTED


	)

601 #i‚de‡
PNG_NO_READ_SHIFT


602 
	#PNG_READ_SHIFT_SUPPORTED


	)

604 #i‚de‡
PNG_NO_READ_PACK


605 
	#PNG_READ_PACK_SUPPORTED


	)

607 #i‚de‡
PNG_NO_READ_BGR


608 
	#PNG_READ_BGR_SUPPORTED


	)

610 #i‚de‡
PNG_NO_READ_SWAP


611 
	#PNG_READ_SWAP_SUPPORTED


	)

613 #i‚de‡
PNG_NO_READ_PACKSWAP


614 
	#PNG_READ_PACKSWAP_SUPPORTED


	)

616 #i‚de‡
PNG_NO_READ_INVERT


617 
	#PNG_READ_INVERT_SUPPORTED


	)

619 #i‚de‡
PNG_NO_READ_DITHER


620 
	#PNG_READ_DITHER_SUPPORTED


	)

622 #i‚de‡
PNG_NO_READ_BACKGROUND


623 
	#PNG_READ_BACKGROUND_SUPPORTED


	)

625 #i‚de‡
PNG_NO_READ_16_TO_8


626 
	#PNG_READ_16_TO_8_SUPPORTED


	)

628 #i‚de‡
PNG_NO_READ_FILLER


629 
	#PNG_READ_FILLER_SUPPORTED


	)

631 #i‚de‡
PNG_NO_READ_GAMMA


632 
	#PNG_READ_GAMMA_SUPPORTED


	)

634 #i‚de‡
PNG_NO_READ_GRAY_TO_RGB


635 
	#PNG_READ_GRAY_TO_RGB_SUPPORTED


	)

637 #i‚de‡
PNG_NO_READ_SWAP_ALPHA


638 
	#PNG_READ_SWAP_ALPHA_SUPPORTED


	)

640 #i‚de‡
PNG_NO_READ_INVERT_ALPHA


641 
	#PNG_READ_INVERT_ALPHA_SUPPORTED


	)

643 #i‚de‡
PNG_NO_READ_STRIP_ALPHA


644 
	#PNG_READ_STRIP_ALPHA_SUPPORTED


	)

646 #i‚de‡
PNG_NO_READ_USER_TRANSFORM


647 
	#PNG_READ_USER_TRANSFORM_SUPPORTED


	)

649 #i‚de‡
PNG_NO_READ_RGB_TO_GRAY


650 
	#PNG_READ_RGB_TO_GRAY_SUPPORTED


	)

655 #i‡!
	`deföed
(
PNG_NO_PROGRESSIVE_READ
) && \

656 !
	$deföed
(
PNG_PROGRESSIVE_READ_NOT_SUPPORTED
)

657 
	#PNG_PROGRESSIVE_READ_SUPPORTED


	)

660 
	#PNG_READ_INTERLACING_SUPPORTED


	)

663 #i‡!
	`deföed
(
PNG_NO_SEQUENTIAL_READ
) && \

664 !
	`deföed
(
PNG_SEQUENTIAL_READ_SUPPORTED
) && \

665 !
	$deföed
(
PNG_NO_SEQUENTIAL_READ_SUPPORTED
)

666 
	#PNG_SEQUENTIAL_READ_SUPPORTED


	)

669 
	#PNG_READ_INTERLACING_SUPPORTED


	)

671 #i‚de‡
PNG_NO_READ_COMPOSITE_NODIV


672 #i‚de‡
PNG_NO_READ_COMPOSITED_NODIV


673 
	#PNG_READ_COMPOSITE_NODIV_SUPPORTED


	)

677 #i‡
	`deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

680 #i‚de‡
PNG_NO_READ_EMPTY_PLTE


681 
	#PNG_READ_EMPTY_PLTE_SUPPORTED


	)

687 #ifde‡
PNG_WRITE_SUPPORTED


689 #i‡!
	`deföed
(
PNG_WRITE_TRANSFORMS_NOT_SUPPORTED
) && \

690 !
	$deföed
(
PNG_NO_WRITE_TRANSFORMS
)

691 
	#PNG_WRITE_TRANSFORMS_SUPPORTED


	)

694 #ifde‡
PNG_WRITE_TRANSFORMS_SUPPORTED


695 #i‚de‡
PNG_NO_WRITE_SHIFT


696 
	#PNG_WRITE_SHIFT_SUPPORTED


	)

698 #i‚de‡
PNG_NO_WRITE_PACK


699 
	#PNG_WRITE_PACK_SUPPORTED


	)

701 #i‚de‡
PNG_NO_WRITE_BGR


702 
	#PNG_WRITE_BGR_SUPPORTED


	)

704 #i‚de‡
PNG_NO_WRITE_SWAP


705 
	#PNG_WRITE_SWAP_SUPPORTED


	)

707 #i‚de‡
PNG_NO_WRITE_PACKSWAP


708 
	#PNG_WRITE_PACKSWAP_SUPPORTED


	)

710 #i‚de‡
PNG_NO_WRITE_INVERT


711 
	#PNG_WRITE_INVERT_SUPPORTED


	)

713 #i‚de‡
PNG_NO_WRITE_FILLER


714 
	#PNG_WRITE_FILLER_SUPPORTED


	)

716 #i‚de‡
PNG_NO_WRITE_SWAP_ALPHA


717 
	#PNG_WRITE_SWAP_ALPHA_SUPPORTED


	)

719 #i‚de‡
PNG_1_0_X


720 #i‚de‡
PNG_NO_WRITE_INVERT_ALPHA


721 
	#PNG_WRITE_INVERT_ALPHA_SUPPORTED


	)

724 #i‚de‡
PNG_NO_WRITE_USER_TRANSFORM


725 
	#PNG_WRITE_USER_TRANSFORM_SUPPORTED


	)

729 #i‡!
	`deföed
(
PNG_NO_WRITE_INTERLACING_SUPPORTED
) && \

730 !
	$deföed
(
PNG_WRITE_INTERLACING_SUPPORTED
)

731 
	#PNG_WRITE_INTERLACING_SUPPORTED


	)

736 #i‡!
	`deföed
(
PNG_NO_WRITE_WEIGHTED_FILTER
) && \

737 !
	`deföed
(
PNG_WRITE_WEIGHTED_FILTER
) && \

738 
	$deföed
(
PNG_FLOATING_POINT_SUPPORTED
)

739 
	#PNG_WRITE_WEIGHTED_FILTER_SUPPORTED


	)

742 #i‚de‡
PNG_NO_WRITE_FLUSH


743 
	#PNG_WRITE_FLUSH_SUPPORTED


	)

746 #i‡
	`deföed
(
PNG_1_0_X
Ë|| deföed (
PNG_1_2_X
)

748 #i‚de‡
PNG_NO_WRITE_EMPTY_PLTE


749 
	#PNG_WRITE_EMPTY_PLTE_SUPPORTED


	)

755 #i‚de‡
PNG_1_0_X


756 #i‚de‡
PNG_NO_ERROR_NUMBERS


757 
	#PNG_ERROR_NUMBERS_SUPPORTED


	)

761 #i‡
	`deföed
(
PNG_READ_USER_TRANSFORM_SUPPORTED
) || \

762 
	$deföed
(
PNG_WRITE_USER_TRANSFORM_SUPPORTED
)

763 #i‚de‡
PNG_NO_USER_TRANSFORM_PTR


764 
	#PNG_USER_TRANSFORM_PTR_SUPPORTED


	)

768 #i‚de‡
PNG_NO_STDIO


769 
	#PNG_TIME_RFC1123_SUPPORTED


	)

788 #i‡!
	`deföed
(
PNG_NO_EASY_ACCESS
Ë&& !deföed(
PNG_EASY_ACCESS_SUPPORTED
)

789 
	#PNG_EASY_ACCESS_SUPPORTED


	)

797 #i‡
	`deföed
(
PNG_READ_SUPPORTED
Ë&& !deföed(
PNG_NO_OPTIMIZED_CODE
)

798 #i‚de‡
PNG_OPTIMIZED_CODE_SUPPORTED


799 
	#PNG_OPTIMIZED_CODE_SUPPORTED


	)

803 #i‡
	`deföed
(
PNG_READ_SUPPORTED
Ë&& !deföed(
PNG_NO_ASSEMBLER_CODE
)

804 #i‚de‡
PNG_ASSEMBLER_CODE_SUPPORTED


805 
	#PNG_ASSEMBLER_CODE_SUPPORTED


	)

808 #i‡
	`deföed
(
__GNUC__
Ë&& deföed(
__x86_64__
) && (__GNUC__ < 4)

810 #i‡!
	`deföed
(
PNG_MMX_CODE_SUPPORTED
Ë&& !deföed(
PNG_NO_MMX_CODE
)

811 
	#PNG_NO_MMX_CODE


	)

815 #ifde‡
__APPLE__


816 #i‡!
	`deföed
(
PNG_MMX_CODE_SUPPORTED
Ë&& !deföed(
PNG_NO_MMX_CODE
)

817 
	#PNG_NO_MMX_CODE


	)

821 #i‡(
	`deföed
(
__MWERKS__
Ë&& ((__MWERKS__ < 0x0900Ë|| 
macötosh
))

822 #i‡!
	`deföed
(
PNG_MMX_CODE_SUPPORTED
Ë&& !deföed(
PNG_NO_MMX_CODE
)

823 
	#PNG_NO_MMX_CODE


	)

827 #i‡!
	`deföed
(
PNG_MMX_CODE_SUPPORTED
Ë&& !deföed(
PNG_NO_MMX_CODE
)

828 
	#PNG_MMX_CODE_SUPPORTED


	)

835 #i‚de‡
PNG_1_0_X


836 #i‡!
	`deföed
(
PNG_NO_USER_MEM
Ë&& !deföed(
PNG_USER_MEM_SUPPORTED
)

837 
	#PNG_USER_MEM_SUPPORTED


	)

842 #i‚de‡
PNG_1_0_X


843 #i‚de‡
PNG_SET_USER_LIMITS_SUPPORTED


844 #i‚de‡
PNG_NO_SET_USER_LIMITS


845 
	#PNG_SET_USER_LIMITS_SUPPORTED


	)

851 #i‚de‡
PNG_USER_LIMITS_SUPPORTED


852 #i‚de‡
PNG_NO_USER_LIMITS


853 
	#PNG_USER_LIMITS_SUPPORTED


	)

860 #i‚de‡
PNG_USER_WIDTH_MAX


861 
	#PNG_USER_WIDTH_MAX
 1000000L

	)

863 #i‚de‡
PNG_USER_HEIGHT_MAX


864 
	#PNG_USER_HEIGHT_MAX
 1000000L

	)

870 #i‚de‡
PNG_USER_CHUNK_CACHE_MAX


871 
	#PNG_USER_CHUNK_CACHE_MAX
 0

	)

875 #i‚de‡
PNG_USER_CHUNK_MALLOC_MAX


876 
	#PNG_USER_CHUNK_MALLOC_MAX
 0

	)

879 #i‚de‡
PNG_LITERAL_SHARP


880 
	#PNG_LITERAL_SHARP
 0x23

	)

882 #i‚de‡
PNG_LITERAL_LEFT_SQUARE_BRACKET


883 
	#PNG_LITERAL_LEFT_SQUARE_BRACKET
 0x5b

	)

885 #i‚de‡
PNG_LITERAL_RIGHT_SQUARE_BRACKET


886 
	#PNG_LITERAL_RIGHT_SQUARE_BRACKET
 0x5d

	)

890 #i‚de‡
PNG_STRING_NEWLINE


891 
	#PNG_STRING_NEWLINE
 "\n"

	)

918 #i‡!
	`deföed
(
PNG_NO_POINTER_INDEXING
) && \

919 !
	$deföed
(
PNG_POINTER_INDEXING_SUPPORTED
)

920 
	#PNG_POINTER_INDEXING_SUPPORTED


	)

935 #i‡
	`deföed
(
PNG_READ_SUPPORTED
) && \

936 !
	`deföed
(
PNG_READ_ANCILLARY_CHUNKS_NOT_SUPPORTED
) && \

937 !
	$deföed
(
PNG_NO_READ_ANCILLARY_CHUNKS
)

938 
	#PNG_READ_ANCILLARY_CHUNKS_SUPPORTED


	)

941 #i‡
	`deföed
(
PNG_WRITE_SUPPORTED
) && \

942 !
	`deföed
(
PNG_WRITE_ANCILLARY_CHUNKS_NOT_SUPPORTED
) && \

943 !
	$deföed
(
PNG_NO_WRITE_ANCILLARY_CHUNKS
)

944 
	#PNG_WRITE_ANCILLARY_CHUNKS_SUPPORTED


	)

947 #ifde‡
PNG_READ_ANCILLARY_CHUNKS_SUPPORTED


949 #ifde‡
PNG_NO_READ_TEXT


950 
	#PNG_NO_READ_iTXt


	)

951 
	#PNG_NO_READ_tEXt


	)

952 
	#PNG_NO_READ_zTXt


	)

954 #i‚de‡
PNG_NO_READ_bKGD


955 
	#PNG_READ_bKGD_SUPPORTED


	)

956 
	#PNG_bKGD_SUPPORTED


	)

958 #i‚de‡
PNG_NO_READ_cHRM


959 
	#PNG_READ_cHRM_SUPPORTED


	)

960 
	#PNG_cHRM_SUPPORTED


	)

962 #i‚de‡
PNG_NO_READ_gAMA


963 
	#PNG_READ_gAMA_SUPPORTED


	)

964 
	#PNG_gAMA_SUPPORTED


	)

966 #i‚de‡
PNG_NO_READ_hIST


967 
	#PNG_READ_hIST_SUPPORTED


	)

968 
	#PNG_hIST_SUPPORTED


	)

970 #i‚de‡
PNG_NO_READ_iCCP


971 
	#PNG_READ_iCCP_SUPPORTED


	)

972 
	#PNG_iCCP_SUPPORTED


	)

974 #i‚de‡
PNG_NO_READ_iTXt


975 #i‚de‡
PNG_READ_iTXt_SUPPORTED


976 
	#PNG_READ_iTXt_SUPPORTED


	)

978 #i‚de‡
PNG_iTXt_SUPPORTED


979 
	#PNG_iTXt_SUPPORTED


	)

982 #i‚de‡
PNG_NO_READ_oFFs


983 
	#PNG_READ_oFFs_SUPPORTED


	)

984 
	#PNG_oFFs_SUPPORTED


	)

986 #i‚de‡
PNG_NO_READ_pCAL


987 
	#PNG_READ_pCAL_SUPPORTED


	)

988 
	#PNG_pCAL_SUPPORTED


	)

990 #i‚de‡
PNG_NO_READ_sCAL


991 
	#PNG_READ_sCAL_SUPPORTED


	)

992 
	#PNG_sCAL_SUPPORTED


	)

994 #i‚de‡
PNG_NO_READ_pHYs


995 
	#PNG_READ_pHYs_SUPPORTED


	)

996 
	#PNG_pHYs_SUPPORTED


	)

998 #i‚de‡
PNG_NO_READ_sBIT


999 
	#PNG_READ_sBIT_SUPPORTED


	)

1000 
	#PNG_sBIT_SUPPORTED


	)

1002 #i‚de‡
PNG_NO_READ_sPLT


1003 
	#PNG_READ_sPLT_SUPPORTED


	)

1004 
	#PNG_sPLT_SUPPORTED


	)

1006 #i‚de‡
PNG_NO_READ_sRGB


1007 
	#PNG_READ_sRGB_SUPPORTED


	)

1008 
	#PNG_sRGB_SUPPORTED


	)

1010 #i‚de‡
PNG_NO_READ_tEXt


1011 
	#PNG_READ_tEXt_SUPPORTED


	)

1012 
	#PNG_tEXt_SUPPORTED


	)

1014 #i‚de‡
PNG_NO_READ_tIME


1015 
	#PNG_READ_tIME_SUPPORTED


	)

1016 
	#PNG_tIME_SUPPORTED


	)

1018 #i‚de‡
PNG_NO_READ_tRNS


1019 
	#PNG_READ_tRNS_SUPPORTED


	)

1020 
	#PNG_tRNS_SUPPORTED


	)

1022 #i‚de‡
PNG_NO_READ_zTXt


1023 
	#PNG_READ_zTXt_SUPPORTED


	)

1024 
	#PNG_zTXt_SUPPORTED


	)

1026 #i‚de‡
PNG_NO_READ_OPT_PLTE


1027 
	#PNG_READ_OPT_PLTE_SUPPORTED


	)

1029 #i‡
	`deföed
(
PNG_READ_iTXt_SUPPORTED
Ë|| deföed(
PNG_READ_tEXt_SUPPORTED
) || \

1030 
	$deföed
(
PNG_READ_zTXt_SUPPORTED
)

1031 
	#PNG_READ_TEXT_SUPPORTED


	)

1032 
	#PNG_TEXT_SUPPORTED


	)

1037 #i‚de‡
PNG_NO_READ_UNKNOWN_CHUNKS


1038 
	#PNG_READ_UNKNOWN_CHUNKS_SUPPORTED


	)

1039 #i‚de‡
PNG_UNKNOWN_CHUNKS_SUPPORTED


1040 
	#PNG_UNKNOWN_CHUNKS_SUPPORTED


	)

1043 #i‡!
	`deföed
(
PNG_NO_READ_USER_CHUNKS
) && \

1044 
	$deföed
(
PNG_READ_UNKNOWN_CHUNKS_SUPPORTED
)

1045 
	#PNG_READ_USER_CHUNKS_SUPPORTED


	)

1046 
	#PNG_USER_CHUNKS_SUPPORTED


	)

1047 #ifde‡
PNG_NO_READ_UNKNOWN_CHUNKS


1048 #unde‡
PNG_NO_READ_UNKNOWN_CHUNKS


1050 #ifde‡
PNG_NO_HANDLE_AS_UNKNOWN


1051 #unde‡
PNG_NO_HANDLE_AS_UNKNOWN


1055 #i‚de‡
PNG_NO_HANDLE_AS_UNKNOWN


1056 #i‚de‡
PNG_HANDLE_AS_UNKNOWN_SUPPORTED


1057 
	#PNG_HANDLE_AS_UNKNOWN_SUPPORTED


	)

1061 #ifde‡
PNG_WRITE_SUPPORTED


1062 #ifde‡
PNG_WRITE_ANCILLARY_CHUNKS_SUPPORTED


1064 #ifde‡
PNG_NO_WRITE_TEXT


1065 
	#PNG_NO_WRITE_iTXt


	)

1066 
	#PNG_NO_WRITE_tEXt


	)

1067 
	#PNG_NO_WRITE_zTXt


	)

1069 #i‚de‡
PNG_NO_WRITE_bKGD


1070 
	#PNG_WRITE_bKGD_SUPPORTED


	)

1071 #i‚de‡
PNG_bKGD_SUPPORTED


1072 
	#PNG_bKGD_SUPPORTED


	)

1075 #i‚de‡
PNG_NO_WRITE_cHRM


1076 
	#PNG_WRITE_cHRM_SUPPORTED


	)

1077 #i‚de‡
PNG_cHRM_SUPPORTED


1078 
	#PNG_cHRM_SUPPORTED


	)

1081 #i‚de‡
PNG_NO_WRITE_gAMA


1082 
	#PNG_WRITE_gAMA_SUPPORTED


	)

1083 #i‚de‡
PNG_gAMA_SUPPORTED


1084 
	#PNG_gAMA_SUPPORTED


	)

1087 #i‚de‡
PNG_NO_WRITE_hIST


1088 
	#PNG_WRITE_hIST_SUPPORTED


	)

1089 #i‚de‡
PNG_hIST_SUPPORTED


1090 
	#PNG_hIST_SUPPORTED


	)

1093 #i‚de‡
PNG_NO_WRITE_iCCP


1094 
	#PNG_WRITE_iCCP_SUPPORTED


	)

1095 #i‚de‡
PNG_iCCP_SUPPORTED


1096 
	#PNG_iCCP_SUPPORTED


	)

1099 #i‚de‡
PNG_NO_WRITE_iTXt


1100 #i‚de‡
PNG_WRITE_iTXt_SUPPORTED


1101 
	#PNG_WRITE_iTXt_SUPPORTED


	)

1103 #i‚de‡
PNG_iTXt_SUPPORTED


1104 
	#PNG_iTXt_SUPPORTED


	)

1107 #i‚de‡
PNG_NO_WRITE_oFFs


1108 
	#PNG_WRITE_oFFs_SUPPORTED


	)

1109 #i‚de‡
PNG_oFFs_SUPPORTED


1110 
	#PNG_oFFs_SUPPORTED


	)

1113 #i‚de‡
PNG_NO_WRITE_pCAL


1114 
	#PNG_WRITE_pCAL_SUPPORTED


	)

1115 #i‚de‡
PNG_pCAL_SUPPORTED


1116 
	#PNG_pCAL_SUPPORTED


	)

1119 #i‚de‡
PNG_NO_WRITE_sCAL


1120 
	#PNG_WRITE_sCAL_SUPPORTED


	)

1121 #i‚de‡
PNG_sCAL_SUPPORTED


1122 
	#PNG_sCAL_SUPPORTED


	)

1125 #i‚de‡
PNG_NO_WRITE_pHYs


1126 
	#PNG_WRITE_pHYs_SUPPORTED


	)

1127 #i‚de‡
PNG_pHYs_SUPPORTED


1128 
	#PNG_pHYs_SUPPORTED


	)

1131 #i‚de‡
PNG_NO_WRITE_sBIT


1132 
	#PNG_WRITE_sBIT_SUPPORTED


	)

1133 #i‚de‡
PNG_sBIT_SUPPORTED


1134 
	#PNG_sBIT_SUPPORTED


	)

1137 #i‚de‡
PNG_NO_WRITE_sPLT


1138 
	#PNG_WRITE_sPLT_SUPPORTED


	)

1139 #i‚de‡
PNG_sPLT_SUPPORTED


1140 
	#PNG_sPLT_SUPPORTED


	)

1143 #i‚de‡
PNG_NO_WRITE_sRGB


1144 
	#PNG_WRITE_sRGB_SUPPORTED


	)

1145 #i‚de‡
PNG_sRGB_SUPPORTED


1146 
	#PNG_sRGB_SUPPORTED


	)

1149 #i‚de‡
PNG_NO_WRITE_tEXt


1150 
	#PNG_WRITE_tEXt_SUPPORTED


	)

1151 #i‚de‡
PNG_tEXt_SUPPORTED


1152 
	#PNG_tEXt_SUPPORTED


	)

1155 #i‚de‡
PNG_NO_WRITE_tIME


1156 
	#PNG_WRITE_tIME_SUPPORTED


	)

1157 #i‚de‡
PNG_tIME_SUPPORTED


1158 
	#PNG_tIME_SUPPORTED


	)

1161 #i‚de‡
PNG_NO_WRITE_tRNS


1162 
	#PNG_WRITE_tRNS_SUPPORTED


	)

1163 #i‚de‡
PNG_tRNS_SUPPORTED


1164 
	#PNG_tRNS_SUPPORTED


	)

1167 #i‚de‡
PNG_NO_WRITE_zTXt


1168 
	#PNG_WRITE_zTXt_SUPPORTED


	)

1169 #i‚de‡
PNG_zTXt_SUPPORTED


1170 
	#PNG_zTXt_SUPPORTED


	)

1173 #i‡
	`deföed
(
PNG_WRITE_iTXt_SUPPORTED
Ë|| deföed(
PNG_WRITE_tEXt_SUPPORTED
) || \

1174 
	$deföed
(
PNG_WRITE_zTXt_SUPPORTED
)

1175 
	#PNG_WRITE_TEXT_SUPPORTED


	)

1176 #i‚de‡
PNG_TEXT_SUPPORTED


1177 
	#PNG_TEXT_SUPPORTED


	)

1181 #ifde‡
PNG_WRITE_tIME_SUPPORTED


1182 #i‚de‡
PNG_NO_CONVERT_tIME


1183 #i‚de‡
_WIN32_WCE


1185 #i‚de‡
PNG_CONVERT_tIME_SUPPORTED


1186 
	#PNG_CONVERT_tIME_SUPPORTED


	)

1194 #i‡!
	`deföed
(
PNG_NO_WRITE_FILTER
Ë&& !deföed(
PNG_WRITE_FILTER_SUPPORTED
)

1195 
	#PNG_WRITE_FILTER_SUPPORTED


	)

1198 #i‚de‡
PNG_NO_WRITE_UNKNOWN_CHUNKS


1199 
	#PNG_WRITE_UNKNOWN_CHUNKS_SUPPORTED


	)

1200 #i‚de‡
PNG_UNKNOWN_CHUNKS_SUPPORTED


1201 
	#PNG_UNKNOWN_CHUNKS_SUPPORTED


	)

1205 #i‚de‡
PNG_NO_HANDLE_AS_UNKNOWN


1206 #i‚de‡
PNG_HANDLE_AS_UNKNOWN_SUPPORTED


1207 
	#PNG_HANDLE_AS_UNKNOWN_SUPPORTED


	)

1216 #i‚de‡
PNG_NO_INFO_IMAGE


1217 
	#PNG_INFO_IMAGE_SUPPORTED


	)

1221 #ifde‡
PNG_CONVERT_tIME_SUPPORTED


1223 
	~<time.h
>

1235 
	t≤g_uöt_32
;

1236 
	t≤g_öt_32
;

1237 
	t≤g_uöt_16
;

1238 
	t≤g_öt_16
;

1239 
	t≤g_byã
;

1243 #ifde‡
PNG_SIZE_T


1244 
PNG_SIZE_T
 
	t≤g_size_t
;

1245 
	#≤g_sizeof
(
x
Ë
	`≤g_c⁄vît_size
((x))

	)

1247 
size_t
 
	t≤g_size_t
;

1248 
	#≤g_sizeof
(
x
Ë(x)

	)

1262 #ifde‡
__BORLANDC__


1263 #i‡
	`deföed
(
__LARGE__
Ë|| deföed(
__HUGE__
Ë|| deföed(
__COMPACT__
)

1264 
	#LDATA
 1

	)

1266 
	#LDATA
 0

	)

1269 #i‡!
	`deföed
(
__WIN32__
Ë&& !deföed(
__FLAT__
Ë&& !deföed(
__CYGWIN__
)

1270 
	#PNG_MAX_MALLOC_64K


	)

1271 #i‡(
LDATA
 != 1)

1272 #i‚de‡
FAR


1273 
	#FAR
 
__Ár


	)

1275 
	#USE_FAR_KEYWORD


	)

1292 #ifde‡
FAR


1293 #ifde‡
M_I86MM


1294 
	#USE_FAR_KEYWORD


	)

1295 
	#FARDATA
 
FAR


	)

1296 
	~<dos.h
>

1301 #i‚de‡
FAR


1302 
	#FAR


	)

1306 #i‚de‡
FARDATA


1307 
	#FARDATA


	)

1312 
≤g_öt_32
 
	t≤g_fixed_poöt
;

1315 
	tFAR
 * 
	t≤g_voidp
;

1316 
≤g_byã
 
	tFAR
 * 
	t≤g_byãp
;

1317 
≤g_uöt_32
 
	tFAR
 * 
	t≤g_uöt_32p
;

1318 
≤g_öt_32
 
	tFAR
 * 
	t≤g_öt_32p
;

1319 
≤g_uöt_16
 
	tFAR
 * 
	t≤g_uöt_16p
;

1320 
≤g_öt_16
 
	tFAR
 * 
	t≤g_öt_16p
;

1321 
PNG_CONST
 
	tFAR
 * 
	t≤g_c⁄°_ch¨p
;

1322 
	tFAR
 * 
	t≤g_ch¨p
;

1323 
≤g_fixed_poöt
 
	tFAR
 * 
	t≤g_fixed_poöt_p
;

1325 #i‚de‡
PNG_NO_STDIO


1326 #ifde‡
_WIN32_WCE


1327 
HANDLE
 
	t≤g_FILE_p
;

1329 
FILE
 * 
	t≤g_FILE_p
;

1333 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1334 
	tFAR
 * 
	t≤g_doubÀp
;

1338 
≤g_byã
 
	tFAR
 * FAR * 
	t≤g_byãµ
;

1339 
≤g_uöt_32
 
	tFAR
 * FAR * 
	t≤g_uöt_32µ
;

1340 
≤g_öt_32
 
	tFAR
 * FAR * 
	t≤g_öt_32µ
;

1341 
≤g_uöt_16
 
	tFAR
 * FAR * 
	t≤g_uöt_16µ
;

1342 
≤g_öt_16
 
	tFAR
 * FAR * 
	t≤g_öt_16µ
;

1343 
PNG_CONST
 
	tFAR
 * FAR * 
	t≤g_c⁄°_ch¨µ
;

1344 
	tFAR
 * FAR * 
	t≤g_ch¨µ
;

1345 
≤g_fixed_poöt
 
	tFAR
 * FAR * 
	t≤g_fixed_poöt_µ
;

1346 #ifde‡
PNG_FLOATING_POINT_SUPPORTED


1347 
	tFAR
 * FAR * 
	t≤g_doubÀµ
;

1351 
	tFAR
 * FAR * FAR * 
	t≤g_ch¨µp
;

1353 #i‡
	`deföed
(
PNG_1_0_X
Ë|| deföed(
PNG_1_2_X
)

1360 
ch¨f
 * 
	t≤g_zch¨p
;

1361 
ch¨f
 * 
	tFAR
 * 
	t≤g_zch¨µ
;

1362 
z_°ªam
 
	tFAR
 * 
	t≤g_z°ªamp
;

1383 #i‡!
	`deföed
(
PNG_DLL
Ë&& (deföed(
PNG_BUILD_DLL
Ë|| deföed(
PNG_USE_DLL
))

1384 
	#PNG_DLL


	)

1390 #ifde‡
__CYGWIN__


1391 #i‚de‡
PNG_STATIC


1392 #ifde‡
PNG_USE_GLOBAL_ARRAYS


1393 #unde‡
PNG_USE_GLOBAL_ARRAYS


1395 #i‚de‡
PNG_USE_LOCAL_ARRAYS


1396 
	#PNG_USE_LOCAL_ARRAYS


	)

1399 #i‡
	`deföed
(
PNG_USE_LOCAL_ARRAYS
Ë|| deföed(
PNG_NO_GLOBAL_ARRAYS
)

1400 #ifde‡
PNG_USE_GLOBAL_ARRAYS


1401 #unde‡
PNG_USE_GLOBAL_ARRAYS


1405 #i‡!
	`deföed
(
PNG_USE_LOCAL_ARRAYS
Ë&& !deföed(
PNG_USE_GLOBAL_ARRAYS
)

1406 
	#PNG_USE_LOCAL_ARRAYS


	)

1414 #i‡!
	`deföed
(
PNG_USE_LOCAL_ARRAYS
Ë&& !deföed(
PNG_USE_GLOBAL_ARRAYS
)

1415 #i‡
	`deföed
(
PNG_NO_GLOBAL_ARRAYS
) || \

1416 (
	`deföed
(
__GNUC__
Ë&& deföed(
PNG_DLL
)Ë|| 
	$deföed
(
_MSC_VER
)

1417 
	#PNG_USE_LOCAL_ARRAYS


	)

1419 
	#PNG_USE_GLOBAL_ARRAYS


	)

1423 #ifde‡
__CYGWIN__


1424 #unde‡
PNGAPI


1425 
	#PNGAPI
 
__cde˛


	)

1426 #unde‡
PNG_IMPEXP


1427 
	#PNG_IMPEXP


	)

1437 #i‡
	`deföed
(
__MINGW32__
Ë&& !deföed(
PNG_MODULEDEF
)

1438 #i‚de‡
PNG_NO_MODULEDEF


1439 
	#PNG_NO_MODULEDEF


	)

1443 #i‡!
	`deföed
(
PNG_IMPEXP
Ë&& deföed(
PNG_BUILD_DLL
Ë&& !deföed(
PNG_NO_MODULEDEF
)

1444 
	#PNG_IMPEXP


	)

1447 #i‡
	`deföed
(
PNG_DLL
Ë|| deföed(
_DLL
Ë|| deföed(
__DLL__
 ) || \

1448 (–
	`deföed
(
_Wödows
Ë|| deföed(
_WINDOWS
) || \

1449 
	`deföed
(
WIN32
Ë|| deföed(
_WIN32
Ë|| 
	$deföed
(
__WIN32__
) ))

1451 #i‚de‡
PNGAPI


1452 #i‡
	`deföed
(
__GNUC__
Ë|| (deföed (
_MSC_VER
) && (_MSC_VER >= 800))

1453 
	#PNGAPI
 
__cde˛


	)

1455 
	#PNGAPI
 
_cde˛


	)

1459 #i‡!
	`deföed
(
PNG_IMPEXP
Ë&& (!deföed(
PNG_DLL
) || \

1461 
	#PNG_IMPEXP


	)

1464 #i‚de‡
PNG_IMPEXP


1466 
	#PNG_EXPORT_TYPE1
(
ty≥
,
symbﬁ
Ë
PNG_IMPEXP
Åy≥ 
PNGAPI
 
	)
symbol

1467 
	#PNG_EXPORT_TYPE2
(
ty≥
,
symbﬁ
Ëty≥ 
PNG_IMPEXP
 
PNGAPI
 
	)
symbol

1470 #i‡
	`deföed
(
_MSC_VER
Ë|| deföed(
__BORLANDC__
)

1471 #i‡(
_MSC_VER
 >800Ë|| (
__BORLANDC__
 >= 0x500)

1472 
	#PNG_EXPORT
 
PNG_EXPORT_TYPE1


	)

1474 
	#PNG_EXPORT
 
PNG_EXPORT_TYPE2


	)

1475 #ifde‡
PNG_BUILD_DLL


1476 
	#PNG_IMPEXP
 
__exp‹t


	)

1478 
	#PNG_IMPEXP


	)

1481 
C
++ 
	`˛as£s
 (=
huge
) */

1485 #i‚de‡
PNG_IMPEXP


1486 #ifde‡
PNG_BUILD_DLL


1487 
	#PNG_IMPEXP
 
	`__de˛•ec
(
dŒexp‹t
)

	)

1489 
	#PNG_IMPEXP
 
	`__de˛•ec
(
dŒimp‹t
)

	)

1494 #i‡(
	`deföed
(
__IBMC__
Ë|| deföed(
__IBMCPP__
)Ë&& deföed(
__OS2__
)

1495 #i‚de‡
PNGAPI


1496 
	#PNGAPI
 
_Sy°em


	)

1504 #i‚de‡
PNGAPI


1505 
	#PNGAPI


	)

1507 #i‚de‡
PNG_IMPEXP


1508 
	#PNG_IMPEXP


	)

1511 #ifde‡
PNG_BUILDSYMS


1512 #i‚de‡
PNG_EXPORT


1513 
	#PNG_EXPORT
(
ty≥
,
symbﬁ
Ë
PNG_FUNCTION_EXPORT
 symbﬁ 
END


	)

1515 #ifde‡
PNG_USE_GLOBAL_ARRAYS


1516 #i‚de‡
PNG_EXPORT_VAR


1517 
	#PNG_EXPORT_VAR
(
ty≥
Ë
PNG_DATA_EXPORT


	)

1522 #i‚de‡
PNG_EXPORT


1523 
	#PNG_EXPORT
(
ty≥
,
symbﬁ
Ë
PNG_IMPEXP
Åy≥ 
PNGAPI
 
	)
symbol

1526 #ifde‡
PNG_USE_GLOBAL_ARRAYS


1527 #i‚de‡
PNG_EXPORT_VAR


1528 
	#PNG_EXPORT_VAR
(
ty≥
Ë
PNG_IMPEXP
 
	)
type

1532 #ifde‡
PNG_PEDANTIC_WARNINGS


1533 #i‚de‡
PNG_PEDANTIC_WARNINGS_SUPPORTED


1534 
	#PNG_PEDANTIC_WARNINGS_SUPPORTED


	)

1538 #ifde‡
PNG_PEDANTIC_WARNINGS_SUPPORTED


1544 #ifde‡
__GNUC__


1545 #i‚de‡
PNG_USE_RESULT


1546 
	#PNG_USE_RESULT
 
	`__©åibuã__
((
__w¨n_unu£d_ªsu…__
))

	)

1548 #i‚de‡
PNG_NORETURN


1549 
	#PNG_NORETURN
 
	`__©åibuã__
((
__n‹ëu∫__
))

	)

1551 #i‚de‡
PNG_ALLOCATED


1552 
	#PNG_ALLOCATED
 
	`__©åibuã__
((
__mÆloc__
))

	)

1559 #i‚de‡
PNG_DEPRECATED


1560 
	#PNG_DEPRECATED
 
	`__©åibuã__
((
__dïªˇãd__
))

	)

1562 #i‚de‡
PNG_DEPSTRUCT


1563 
	#PNG_DEPSTRUCT
 
	`__©åibuã__
((
__dïªˇãd__
))

	)

1565 #i‚de‡
PNG_PRIVATE


1567 
	#PNG_PRIVATE
 \

1568 
	`__©åibuã__
((
	`w¨nög
("Thi†fun˘i⁄ i†nŸÉxp‹ãd byÜib≤g.")))

	)

1570 
	#PNG_PRIVATE
 \

1571 
	`__©åibuã__
((
__dïªˇãd__
))

	)

1577 #i‚de‡
PNG_DEPRECATED


1578 
	#PNG_DEPRECATED


	)

1580 #i‚de‡
PNG_USE_RESULT


1581 
	#PNG_USE_RESULT


	)

1583 #i‚de‡
PNG_NORETURN


1584 
	#PNG_NORETURN


	)

1586 #i‚de‡
PNG_ALLOCATED


1587 
	#PNG_ALLOCATED


	)

1589 #i‚de‡
PNG_DEPSTRUCT


1590 
	#PNG_DEPSTRUCT


	)

1592 #i‚de‡
PNG_PRIVATE


1593 
	#PNG_PRIVATE


	)

1600 #i‚de‡
PNG_ABORT


1601 
	#PNG_ABORT
(Ë
	`ab‹t
()

	)

1604 #ifde‡
PNG_SETJMP_SUPPORTED


1605 
	#≤g_jmpbuf
(
≤g_±r
Ë(’ng_±r)->
jmpbuf
)

	)

1607 
	#≤g_jmpbuf
(
≤g_±r
) \

1608 (
LIBPNG_WAS_COMPILED_WITH__PNG_SETJMP_NOT_SUPPORTED
)

	)

1611 #ifde‡
USE_FAR_KEYWORD


1613 
	#CHECK
 1

	)

1614 
	#NOCHECK
 0

	)

1615 
	#CVT_PTR
(
±r
Ë(
	`≤g_Ár_to_√¨
(
≤g_±r
,±r,
CHECK
))

	)

1616 
	#CVT_PTR_NOCHECK
(
±r
Ë(
	`≤g_Ár_to_√¨
(
≤g_±r
,±r,
NOCHECK
))

	)

1617 
	#≤g_¢¥ötf
 
_f¢¥ötf


	)

1618 
	#≤g_°æí
 
_f°æí


	)

1619 
	#≤g_memcmp
 
_fmemcmp


	)

1620 
	#≤g_mem˝y
 
_fmem˝y


	)

1621 
	#≤g_mem£t
 
_fmem£t


	)

1623 
	#CVT_PTR
(
±r
Ë’å)

	)

1624 
	#CVT_PTR_NOCHECK
(
±r
Ë’å)

	)

1625 #i‚de‡
PNG_NO_SNPRINTF


1626 #ifde‡
_MSC_VER


1627 
	#≤g_¢¥ötf
 
_¢¥ötf


	)

1628 
	#≤g_¢¥ötf2
 
_¢¥ötf


	)

1629 
	#≤g_¢¥ötf6
 
_¢¥ötf


	)

1631 
	#≤g_¢¥ötf
 
¢¥ötf


	)

1632 
	#≤g_¢¥ötf2
 
¢¥ötf


	)

1633 
	#≤g_¢¥ötf6
 
¢¥ötf


	)

1642 
	#≤g_¢¥ötf
(
s1
,
n
,
fmt
,
x1
Ë
	`•rötf
(s1,fmt,x1)

	)

1643 
	#≤g_¢¥ötf2
(
s1
,
n
,
fmt
,
x1
,
x2
Ë
	`•rötf
(s1,fmt,x1,x2)

	)

1644 
	#≤g_¢¥ötf6
(
s1
,
n
,
fmt
,
x1
,
x2
,
x3
,
x4
,
x5
,
x6
) \

1645 
	`•rötf
(
s1
,
fmt
,
x1
,
x2
,
x3
,
x4
,
x5
,
x6
)

	)

1647 
	#≤g_°æí
 
°æí


	)

1648 
	#≤g_memcmp
 
memcmp


	)

1649 
	#≤g_mem˝y
 
mem˝y


	)

1650 
	#≤g_mem£t
 
mem£t


	)

1657 #i‡(
PNG_ZBUF_SIZE
 > 65536LË&& 
	`deföed
(
PNG_MAX_MALLOC_64K
)

1658 #unde‡
PNG_ZBUF_SIZE


1659 
	#PNG_ZBUF_SIZE
 65536L

	)

	@/usr/include/rpc/netdb.h

36 #i‚de‡
_RPC_NETDB_H


37 
	#_RPC_NETDB_H
 1

	)

39 
	~<„©uªs.h
>

41 
	#__√ed_size_t


	)

42 
	~<°ddef.h
>

44 
__BEGIN_DECLS


46 
	sΩ˚¡


48 *
	mr_«me
;

49 **
	mr_Æü£s
;

50 
	mr_numbî
;

53 
	$£åp˚¡
 (
__°ay›í
Ë
__THROW
;

54 
	$ídΩ˚¡
 (Ë
__THROW
;

55 
Ω˚¡
 *
	$gëΩcby«me
 (
__c⁄°
 *
__«me
Ë
__THROW
;

56 
Ω˚¡
 *
	$gëΩcbynumbî
 (
__numbî
Ë
__THROW
;

57 
Ω˚¡
 *
	$gëΩ˚¡
 (Ë
__THROW
;

59 #ifde‡
__USE_MISC


60 
	$gëΩcby«me_r
 (
__c⁄°
 *
__«me
, 
Ω˚¡
 *
__ªsu…_buf
,

61 *
__buf„r
, 
size_t
 
__buÊí
,

62 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

64 
	$gëΩcbynumbî_r
 (
__numbî
, 
Ω˚¡
 *
__ªsu…_buf
,

65 *
__buf„r
, 
size_t
 
__buÊí
,

66 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

68 
	$gëΩ˚¡_r
 (
Ω˚¡
 *
__ªsu…_buf
, *
__buf„r
,

69 
size_t
 
__buÊí
, 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

72 
__END_DECLS


	@/usr/include/sched.h

21 #i‚def 
_SCHED_H


22 
	#_SCHED_H
 1

	)

24 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

29 
	#__√ed_size_t


	)

30 
	~<°ddef.h
>

32 
	#__√ed_time_t


	)

33 
	#__√ed_time•ec


	)

34 
	~<time.h
>

36 #i‚de‡
__pid_t_deföed


37 
__pid_t
 
	tpid_t
;

38 
	#__pid_t_deföed


	)

43 
	~<bôs/sched.h
>

45 
	#sched_¥i‹ôy
 
__sched_¥i‹ôy


	)

48 
__BEGIN_DECLS


51 
	$sched_£ç¨am
 (
__pid_t
 
__pid
, 
__c⁄°
 
sched_∑øm
 *
__∑øm
)

52 
__THROW
;

55 
	$sched_gë∑øm
 (
__pid_t
 
__pid
, 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

58 
	$sched_£tscheduÀr
 (
__pid_t
 
__pid
, 
__pﬁicy
,

59 
__c⁄°
 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

62 
	$sched_gëscheduÀr
 (
__pid_t
 
__pid
Ë
__THROW
;

65 
	$sched_yõld
 (Ë
__THROW
;

68 
	$sched_gë_¥i‹ôy_max
 (
__Æg‹ôhm
Ë
__THROW
;

71 
	$sched_gë_¥i‹ôy_mö
 (
__Æg‹ôhm
Ë
__THROW
;

74 
	$sched_º_gë_öãrvÆ
 (
__pid_t
 
__pid
, 
time•ec
 *
__t
Ë
__THROW
;

77 #ifde‡
__USE_GNU


79 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

80 
	#CPU_SET
(
˝u
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

81 
	#CPU_CLR
(
˝u
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

82 
	#CPU_ISSET
(
˝u
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (˝u,  (
˝u_£t_t
), \

83 
˝u£ç
)

	)

84 
	#CPU_ZERO
(
˝u£ç
Ë
	`__CPU_ZERO_S
 ( (
˝u_£t_t
), cpu£ç)

	)

85 
	#CPU_COUNT
(
˝u£ç
Ë
	`__CPU_COUNT_S
 ( (
˝u_£t_t
), cpu£ç)

	)

87 
	#CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u, sësize, cpu£ç)

	)

88 
	#CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u, sësize, cpu£ç)

	)

89 
	#CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (cpu, setsize, \

90 
˝u£ç
)

	)

91 
	#CPU_ZERO_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_ZERO_S
 (£tsize, cpu£ç)

	)

92 
	#CPU_COUNT_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_COUNT_S
 (£tsize, cpu£ç)

	)

94 
	#CPU_EQUAL
(
˝u£ç1
, 
˝u£ç2
) \

95 
	`__CPU_EQUAL_S
 ( (
˝u_£t_t
), 
˝u£ç1
, 
˝u£ç2
)

	)

96 
	#CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

97 
	`__CPU_EQUAL_S
 (
£tsize
, 
˝u£ç1
, 
˝u£ç2
)

	)

99 
	#CPU_AND
(
de°£t
, 
§c£t1
, 
§c£t2
) \

100 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

101 
	#CPU_OR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

102 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

103 
	#CPU_XOR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

104 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

105 
	#CPU_AND_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

106 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

107 
	#CPU_OR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

108 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

109 
	#CPU_XOR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

110 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

112 
	#CPU_ALLOC_SIZE
(
cou¡
Ë
	`__CPU_ALLOC_SIZE
 (cou¡)

	)

113 
	#CPU_ALLOC
(
cou¡
Ë
	`__CPU_ALLOC
 (cou¡)

	)

114 
	#CPU_FREE
(
˝u£t
Ë
	`__CPU_FREE
 (˝u£t)

	)

118 
	$sched_£èfföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

119 
__c⁄°
 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

122 
	$sched_gëafföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

123 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

126 
__END_DECLS


	@/usr/include/xlocale.h

21 #i‚de‡
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__loˇÀ_°ru˘


31 
__loˇÀ_d©a
 *
	m__loˇÀs
[13];

34 c⁄° *
	m__˘y≥_b
;

35 c⁄° *
	m__˘y≥_tﬁowî
;

36 c⁄° *
	m__˘y≥_touµî
;

39 c⁄° *
	m__«mes
[13];

40 } *
	t__loˇÀ_t
;

43 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/zconf.h

8 #i‚de‡
ZCONF_H


9 
	#ZCONF_H


	)

17 #ifde‡
Z_PREFIX


20 
	#_di°_code
 
z__di°_code


	)

21 
	#_Àngth_code
 
z__Àngth_code


	)

22 
	#_å_Æign
 
z__å_Æign


	)

23 
	#_å_Êush_block
 
z__å_Êush_block


	)

24 
	#_å_öô
 
z__å_öô


	)

25 
	#_å_°‹ed_block
 
z__å_°‹ed_block


	)

26 
	#_å_èŒy
 
z__å_èŒy


	)

27 
	#adÀr32
 
z_adÀr32


	)

28 
	#adÀr32_comböe
 
z_adÀr32_comböe


	)

29 
	#com¥ess
 
z_com¥ess


	)

30 
	#com¥ess2
 
z_com¥ess2


	)

31 
	#com¥essBound
 
z_com¥essBound


	)

32 
	#¸c32
 
z_¸c32


	)

33 
	#¸c32_comböe
 
z_¸c32_comböe


	)

34 
	#deÊ©e
 
z_deÊ©e


	)

35 
	#deÊ©eBound
 
z_deÊ©eBound


	)

36 
	#deÊ©eC›y
 
z_deÊ©eC›y


	)

37 
	#deÊ©eEnd
 
z_deÊ©eEnd


	)

38 
	#deÊ©eInô2_
 
z_deÊ©eInô2_


	)

39 
	#deÊ©eInô_
 
z_deÊ©eInô_


	)

40 
	#deÊ©eP¨ams
 
z_deÊ©eP¨ams


	)

41 
	#deÊ©ePrime
 
z_deÊ©ePrime


	)

42 
	#deÊ©eRe£t
 
z_deÊ©eRe£t


	)

43 
	#deÊ©eSëDi˘i⁄¨y
 
z_deÊ©eSëDi˘i⁄¨y


	)

44 
	#deÊ©eSëHódî
 
z_deÊ©eSëHódî


	)

45 
	#deÊ©eTu√
 
z_deÊ©eTu√


	)

46 
	#deÊ©e_c›yright
 
z_deÊ©e_c›yright


	)

47 
	#gë_¸c_èbÀ
 
z_gë_¸c_èbÀ


	)

48 
	#gz˛óªº
 
z_gz˛óªº


	)

49 
	#gz˛o£
 
z_gz˛o£


	)

50 
	#gzdúe˘
 
z_gzdúe˘


	)

51 
	#gzd›í
 
z_gzd›í


	)

52 
	#gzeof
 
z_gzeof


	)

53 
	#gzîr‹
 
z_gzîr‹


	)

54 
	#gzÊush
 
z_gzÊush


	)

55 
	#gzgëc
 
z_gzgëc


	)

56 
	#gzgës
 
z_gzgës


	)

57 
	#gz›í
 
z_gz›í


	)

58 
	#gz¥ötf
 
z_gz¥ötf


	)

59 
	#gzputc
 
z_gzputc


	)

60 
	#gzputs
 
z_gzputs


	)

61 
	#gzªad
 
z_gzªad


	)

62 
	#gzªwöd
 
z_gzªwöd


	)

63 
	#gz£ek
 
z_gz£ek


	)

64 
	#gz£ç¨ams
 
z_gz£ç¨ams


	)

65 
	#gzãŒ
 
z_gzãŒ


	)

66 
	#gzungëc
 
z_gzungëc


	)

67 
	#gzwrôe
 
z_gzwrôe


	)

68 
	#öÊ©e
 
z_öÊ©e


	)

69 
	#öÊ©eBack
 
z_öÊ©eBack


	)

70 
	#öÊ©eBackEnd
 
z_öÊ©eBackEnd


	)

71 
	#öÊ©eBackInô_
 
z_öÊ©eBackInô_


	)

72 
	#öÊ©eC›y
 
z_öÊ©eC›y


	)

73 
	#öÊ©eEnd
 
z_öÊ©eEnd


	)

74 
	#öÊ©eGëHódî
 
z_öÊ©eGëHódî


	)

75 
	#öÊ©eInô2_
 
z_öÊ©eInô2_


	)

76 
	#öÊ©eInô_
 
z_öÊ©eInô_


	)

77 
	#öÊ©ePrime
 
z_öÊ©ePrime


	)

78 
	#öÊ©eRe£t
 
z_öÊ©eRe£t


	)

79 
	#öÊ©eSëDi˘i⁄¨y
 
z_öÊ©eSëDi˘i⁄¨y


	)

80 
	#öÊ©eSync
 
z_öÊ©eSync


	)

81 
	#öÊ©eSyncPoöt
 
z_öÊ©eSyncPoöt


	)

82 
	#öÊ©e_c›yright
 
z_öÊ©e_c›yright


	)

83 
	#öÊ©e_Á°
 
z_öÊ©e_Á°


	)

84 
	#öÊ©e_èbÀ
 
z_öÊ©e_èbÀ


	)

85 
	#uncom¥ess
 
z_uncom¥ess


	)

86 
	#zEº‹
 
z_zEº‹


	)

87 
	#z_îrmsg
 
z_z_îrmsg


	)

88 
	#zˇŒoc
 
z_zˇŒoc


	)

89 
	#zc‰ì
 
z_zc‰ì


	)

90 
	#zlibCompûeFœgs
 
z_zlibCompûeFœgs


	)

91 
	#zlibVîsi⁄
 
z_zlibVîsi⁄


	)

94 
	#Byã
 
z_Byã


	)

95 
	#Byãf
 
z_Byãf


	)

96 
	#Æloc_func
 
z_Æloc_func


	)

97 
	#ch¨f
 
z_ch¨f


	)

98 
	#‰ì_func
 
z_‰ì_func


	)

99 
	#gzFûe
 
z_gzFûe


	)

100 
	#gz_hódî
 
z_gz_hódî


	)

101 
	#gz_hódîp
 
z_gz_hódîp


	)

102 
	#ö_func
 
z_ö_func


	)

103 
	#ötf
 
z_ötf


	)

104 
	#out_func
 
z_out_func


	)

105 
	#uI¡
 
z_uI¡


	)

106 
	#uI¡f
 
z_uI¡f


	)

107 
	#uL⁄g
 
z_uL⁄g


	)

108 
	#uL⁄gf
 
z_uL⁄gf


	)

109 
	#voidp
 
z_voidp


	)

110 
	#voidp
 
z_voidp


	)

111 
	#voidpc
 
z_voidpc


	)

112 
	#voidpc
 
z_voidpc


	)

113 
	#voidpf
 
z_voidpf


	)

114 
	#voidpf
 
z_voidpf


	)

115 
	#z_°ªam
 
z_z_°ªam


	)

116 
	#z_°ªamp
 
z_z_°ªamp


	)

119 
	#gz_hódî_s
 
z_gz_hódî_s


	)

120 
	#öã∫Æ_°©e
 
z_öã∫Æ_°©e


	)

121 
	#z_°ªam_s
 
z_z_°ªam_s


	)

125 #i‡
deföed
(
__MSDOS__
Ë&& !deföed(
MSDOS
)

126 
	#MSDOS


	)

128 #i‡(
deföed
(
OS_2
Ë|| deföed(
__OS2__
)Ë&& !deföed(
OS2
)

129 
	#OS2


	)

131 #i‡
deföed
(
_WINDOWS
Ë&& !deföed(
WINDOWS
)

132 
	#WINDOWS


	)

134 #i‡
deföed
(
_WIN32
Ë|| deföed(
_WIN32_WCE
Ë|| deföed(
__WIN32__
)

135 #i‚de‡
WIN32


136 
	#WIN32


	)

139 #i‡(
deföed
(
MSDOS
Ë|| deföed(
OS2
Ë|| deföed(
WINDOWS
)Ë&& !deföed(
WIN32
)

140 #i‡!
deföed
(
__GNUC__
Ë&& !deföed(
__FLAT__
Ë&& !deföed(
__386__
)

141 #i‚de‡
SYS16BIT


142 
	#SYS16BIT


	)

151 #ifde‡
SYS16BIT


152 
	#MAXSEG_64K


	)

154 #ifde‡
MSDOS


155 
	#UNALIGNED_OK


	)

158 #ifde‡
__STDC_VERSION__


159 #i‚de‡
STDC


160 
	#STDC


	)

162 #i‡
__STDC_VERSION__
 >= 199901L

163 #i‚de‡
STDC99


164 
	#STDC99


	)

168 #i‡!
deföed
(
STDC
Ë&& (deföed(
__STDC__
Ë|| deföed(
__˝lu•lus
))

169 
	#STDC


	)

171 #i‡!
deföed
(
STDC
Ë&& (deföed(
__GNUC__
Ë|| deföed(
__BORLANDC__
))

172 
	#STDC


	)

174 #i‡!
deföed
(
STDC
Ë&& (deföed(
MSDOS
Ë|| deföed(
WINDOWS
Ë|| deföed(
WIN32
))

175 
	#STDC


	)

177 #i‡!
deföed
(
STDC
Ë&& (deföed(
OS2
Ë|| deföed(
__HOS_AIX__
))

178 
	#STDC


	)

181 #i‡
deföed
(
__OS400__
Ë&& !deföed(
STDC
)

182 
	#STDC


	)

185 #i‚de‡
STDC


187 c⁄°

	)

192 #i‡
deföed
(
__MWERKS__
)||deföed(
≠∂ec
)||deföed(
THINK_C
)||deföed(
__SC__
)

193 
	#NO_DUMMY_DECL


	)

197 #i‚de‡
MAX_MEM_LEVEL


198 #ifde‡
MAXSEG_64K


199 
	#MAX_MEM_LEVEL
 8

	)

201 
	#MAX_MEM_LEVEL
 9

	)

210 #i‚de‡
MAX_WBITS


211 
	#MAX_WBITS
 15

	)

229 #i‚de‡
OF


230 #ifde‡
STDC


231 
	#OF
(
¨gs
Ë
	)
args

233 
	#OF
(
¨gs
Ë()

	)

243 #ifde‡
SYS16BIT


244 #i‡
deföed
(
M_I86SM
Ë|| deföed(
M_I86MM
)

246 
	#SMALL_MEDIUM


	)

247 #ifde‡
_MSC_VER


248 
	#FAR
 
_Ár


	)

250 
	#FAR
 
Ár


	)

253 #i‡(
deföed
(
__SMALL__
Ë|| deföed(
__MEDIUM__
))

255 
	#SMALL_MEDIUM


	)

256 #ifde‡
__BORLANDC__


257 
	#FAR
 
_Ár


	)

259 
	#FAR
 
Ár


	)

264 #i‡
deföed
(
WINDOWS
Ë|| deföed(
WIN32
)

268 #ifde‡
ZLIB_DLL


269 #i‡
deföed
(
WIN32
Ë&& (!deföed(
__BORLANDC__
) || (__BORLANDC__ >= 0x500))

270 #ifde‡
ZLIB_INTERNAL


271 
	#ZEXTERN
 
	`__de˛•ec
(
dŒexp‹t
)

	)

273 
	#ZEXTERN
 
	`__de˛•ec
(
dŒimp‹t
)

	)

281 #ifde‡
ZLIB_WINAPI


282 #ifde‡
FAR


283 #unde‡
FAR


285 
	~<wödows.h
>

288 
	#ZEXPORT
 
WINAPI


	)

289 #ifde‡
WIN32


290 
	#ZEXPORTVA
 
WINAPIV


	)

292 
	#ZEXPORTVA
 
FAR
 
CDECL


	)

297 #i‡
deföed
 (
__BEOS__
)

298 #ifde‡
ZLIB_DLL


299 #ifde‡
ZLIB_INTERNAL


300 
	#ZEXPORT
 
	`__de˛•ec
(
dŒexp‹t
)

	)

301 
	#ZEXPORTVA
 
	`__de˛•ec
(
dŒexp‹t
)

	)

303 
	#ZEXPORT
 
	`__de˛•ec
(
dŒimp‹t
)

	)

304 
	#ZEXPORTVA
 
	`__de˛•ec
(
dŒimp‹t
)

	)

309 #ifde‡
HAVE_VISIBILITY_PRAGMA


310 
	#ZEXTERN
 
	`__©åibuã__
((
	`visibûôy
 ("deÁu…"))Ë

	)

313 #i‚de‡
ZEXTERN


314 
	#ZEXTERN
 

	)

316 #i‚de‡
ZEXPORT


317 
	#ZEXPORT


	)

319 #i‚de‡
ZEXPORTVA


320 
	#ZEXPORTVA


	)

323 #i‚de‡
FAR


324 
	#FAR


	)

327 #i‡!
deföed
(
__MACTYPES__
)

328 
	tByã
;

330 
	tuI¡
;

331 
	tuL⁄g
;

333 #ifde‡
SMALL_MEDIUM


335 
	#Byãf
 
Byã
 
FAR


	)

337 
Byã
 
	tFAR
 
	tByãf
;

339 
	tFAR
 
	tch¨f
;

340 
	tFAR
 
	tötf
;

341 
uI¡
 
	tFAR
 
	tuI¡f
;

342 
uL⁄g
 
	tFAR
 
	tuL⁄gf
;

344 #ifde‡
STDC


345 c⁄° *
	tvoidpc
;

346 
	tFAR
 *
	tvoidpf
;

347 *
	tvoidp
;

349 
Byã
 c⁄° *
	tvoidpc
;

350 
Byã
 
	tFAR
 *
	tvoidpf
;

351 
Byã
 *
	tvoidp
;

354 
	~"zlibdefs.h
"

356 #ifde‡
_LARGEFILE64_SOURCE


357 
	~<sys/ty≥s.h
>

360 #i‚de‡
SEEK_SET


361 
	#SEEK_SET
 0

	)

362 
	#SEEK_CUR
 1

	)

363 
	#SEEK_END
 2

	)

365 #i‚de‡
z_off_t


366 
	#z_off_t
 

	)

369 #i‡
deföed
(
__OS400__
)

370 
	#NO_v¢¥ötf


	)

373 #i‡
deföed
(
__MVS__
)

374 
	#NO_v¢¥ötf


	)

378 #i‡
deföed
(
__MVS__
)

379 #¥agm®
m≠
(
deÊ©eInô_
,"DEIN")

380 #¥agm®
m≠
(
deÊ©eInô2_
,"DEIN2")

381 #¥agm®
m≠
(
deÊ©eEnd
,"DEEND")

382 #¥agm®
m≠
(
deÊ©eBound
,"DEBND")

383 #¥agm®
m≠
(
öÊ©eInô_
,"ININ")

384 #¥agm®
m≠
(
öÊ©eInô2_
,"ININ2")

385 #¥agm®
m≠
(
öÊ©eEnd
,"INEND")

386 #¥agm®
m≠
(
öÊ©eSync
,"INSY")

387 #¥agm®
m≠
(
öÊ©eSëDi˘i⁄¨y
,"INSEDI")

388 #¥agm®
m≠
(
com¥essBound
,"CMBND")

389 #¥agm®
m≠
(
öÊ©e_èbÀ
,"INTABL")

390 #¥agm®
m≠
(
öÊ©e_Á°
,"INFA")

391 #¥agm®
m≠
(
öÊ©e_c›yright
,"INCOPY")

	@/usr/include/X11/Xmd.h

47 #i‚de‡
XMD_H


48 
	#XMD_H
 1

	)

56 #i‡
deföed
(
__sun
Ë&& deföed(
__SVR4
)

57 
	~<sys/iß_defs.h
>

60 #i‡
deföed
 (
_LP64
Ë|| deföed(
__LP64__
) || \

61 
deföed
(
__Æpha
Ë|| deföed(
__Æpha__
) || \

62 
deföed
(
__ü64__
Ë|| deföed(
ü64
) || \

63 
deföed
(
__•¨c64__
) || \

64 
deföed
(
__s390x__
) || \

65 
deföed
(
__amd64__
Ë|| deföed(
amd64
) || \

66 
	$deföed
(
__powîpc64__
)

67 
	#LONG64


	)

74 #ifde‡
WORD64


75 
	#MUSTCOPY


	)

93 
	#_SIZEOF
(
x
Ë
sz_
##
	)
x

94 
	#SIZEOF
(
x
Ë
	`_SIZEOF
(x)

	)

101 #ifde‡
WORD64


102 
	tINT64
;

103 
	tCARD64
;

104 
	#B32
 :32

	)

105 
	#B16
 :16

	)

106 #ifde‡
UNSIGNEDBITFIELDS


107 
	tINT32
;

108 
	tINT16
;

110 sig√d 
	tINT32
;

111 sig√d 
	tINT16
;

114 
	#B32


	)

115 
	#B16


	)

116 #ifde‡
LONG64


117 
	tINT64
;

118 
	tINT32
;

120 
	tINT32
;

122 
	tINT16
;

125 sig√d 
	tINT8
;

127 #ifde‡
LONG64


128 
	tCARD64
;

129 
	tCARD32
;

131 
	tCARD32
;

133 #i‡!
	`deföed
(
WORD64
Ë&& !deföed(
LONG64
)

134 
	tCARD64
;

136 
	tCARD16
;

137 
	tCARD8
;

139 
CARD32
 
	tBITS32
;

140 
CARD16
 
	tBITS16
;

142 
CARD8
 
	tBYTE
;

143 
CARD8
 
	tBOOL
;

148 #i‡
	`deföed
(
WORD64
Ë&& deföed(
UNSIGNEDBITFIELDS
)

149 
	#cvtINT8toI¡
(
vÆ
Ë(((vÆË& 0x00000080Ë? ((vÆË| 0xffffffffffffff00Ë: (vÆ))

	)

150 
	#cvtINT16toI¡
(
vÆ
Ë(((vÆË& 0x00008000Ë? ((vÆË| 0xffffffffffff0000Ë: (vÆ))

	)

151 
	#cvtINT32toI¡
(
vÆ
Ë(((vÆË& 0x80000000Ë? ((vÆË| 0xffffffff00000000Ë: (vÆ))

	)

152 
	#cvtINT8toSh‹t
(
vÆ
Ë
	`cvtINT8toI¡
(vÆ)

	)

153 
	#cvtINT16toSh‹t
(
vÆ
Ë
	`cvtINT16toI¡
(vÆ)

	)

154 
	#cvtINT32toSh‹t
(
vÆ
Ë
	`cvtINT32toI¡
(vÆ)

	)

155 
	#cvtINT8toL⁄g
(
vÆ
Ë
	`cvtINT8toI¡
(vÆ)

	)

156 
	#cvtINT16toL⁄g
(
vÆ
Ë
	`cvtINT16toI¡
(vÆ)

	)

157 
	#cvtINT32toL⁄g
(
vÆ
Ë
	`cvtINT32toI¡
(vÆ)

	)

159 
	#cvtINT8toI¡
(
vÆ
Ë(vÆ)

	)

160 
	#cvtINT16toI¡
(
vÆ
Ë(vÆ)

	)

161 
	#cvtINT32toI¡
(
vÆ
Ë(vÆ)

	)

162 
	#cvtINT8toSh‹t
(
vÆ
Ë(vÆ)

	)

163 
	#cvtINT16toSh‹t
(
vÆ
Ë(vÆ)

	)

164 
	#cvtINT32toSh‹t
(
vÆ
Ë(vÆ)

	)

165 
	#cvtINT8toL⁄g
(
vÆ
Ë(vÆ)

	)

166 
	#cvtINT16toL⁄g
(
vÆ
Ë(vÆ)

	)

167 
	#cvtINT32toL⁄g
(
vÆ
Ë(vÆ)

	)

172 #ifde‡
MUSTCOPY


176 
	#NEXTPTR
(
p
,
t
Ë(((*ËpË+ 
	`SIZEOF
—))

	)

182 
	#NEXTPTR
(
p
,
t
Ë((— *)’)Ë+ 1)

	)

	@/usr/include/X11/extensions/render.h

26 #i‚de‡
_RENDER_H_


27 
	#_RENDER_H_


	)

29 
	~<X11/Xdefs.h
>

31 
XID
 
	tGlyph
;

32 
XID
 
	tGlyphSë
;

33 
XID
 
	tPi˘uª
;

34 
XID
 
	tPi˘F‹m©
;

36 
	#RENDER_NAME
 "RENDER"

	)

37 
	#RENDER_MAJOR
 0

	)

38 
	#RENDER_MINOR
 11

	)

40 
	#X_RídîQuîyVîsi⁄
 0

	)

41 
	#X_RídîQuîyPi˘F‹m©s
 1

	)

42 
	#X_RídîQuîyPi˘IndexVÆues
 2

	)

43 
	#X_RídîQuîyDôhîs
 3

	)

44 
	#X_RídîCª©ePi˘uª
 4

	)

45 
	#X_RídîCh™gePi˘uª
 5

	)

46 
	#X_RídîSëPi˘uªClùRe˘™gÀs
 6

	)

47 
	#X_RídîFªePi˘uª
 7

	)

48 
	#X_RídîComposôe
 8

	)

49 
	#X_RídîSˇÀ
 9

	)

50 
	#X_RídîTø≥zoids
 10

	)

51 
	#X_RídîTrüngÀs
 11

	)

52 
	#X_RídîTriSåù
 12

	)

53 
	#X_RídîTriF™
 13

	)

54 
	#X_RídîCﬁ‹Tø≥zoids
 14

	)

55 
	#X_RídîCﬁ‹TrüngÀs
 15

	)

57 
	#X_RídîCª©eGlyphSë
 17

	)

58 
	#X_RídîRe„ªn˚GlyphSë
 18

	)

59 
	#X_RídîFªeGlyphSë
 19

	)

60 
	#X_RídîAddGlyphs
 20

	)

61 
	#X_RídîAddGlyphsFromPi˘uª
 21

	)

62 
	#X_RídîFªeGlyphs
 22

	)

63 
	#X_RídîComposôeGlyphs8
 23

	)

64 
	#X_RídîComposôeGlyphs16
 24

	)

65 
	#X_RídîComposôeGlyphs32
 25

	)

66 
	#X_RídîFûlRe˘™gÀs
 26

	)

68 
	#X_RídîCª©eCurs‹
 27

	)

70 
	#X_RídîSëPi˘uªTønsf‹m
 28

	)

71 
	#X_RídîQuîyFûãrs
 29

	)

72 
	#X_RídîSëPi˘uªFûãr
 30

	)

74 
	#X_RídîCª©eAnimCurs‹
 31

	)

76 
	#X_RídîAddTøps
 32

	)

78 
	#X_RídîCª©eSﬁidFûl
 33

	)

79 
	#X_RídîCª©eLöórGødõ¡
 34

	)

80 
	#X_RídîCª©eRadülGødõ¡
 35

	)

81 
	#X_RídîCª©eC⁄iˇlGødõ¡
 36

	)

82 
	#RídîNumbîReque°s
 (
X_RídîCª©eC⁄iˇlGødõ¡
+1)

	)

84 
	#BadPi˘F‹m©
 0

	)

85 
	#BadPi˘uª
 1

	)

86 
	#BadPi˘Op
 2

	)

87 
	#BadGlyphSë
 3

	)

88 
	#BadGlyph
 4

	)

89 
	#RídîNumbîEº‹s
 (
BadGlyph
+1)

	)

91 
	#Pi˘Ty≥Indexed
 0

	)

92 
	#Pi˘Ty≥Dúe˘
 1

	)

94 
	#Pi˘OpMöimum
 0

	)

95 
	#Pi˘OpCÀ¨
 0

	)

96 
	#Pi˘OpSrc
 1

	)

97 
	#Pi˘OpD°
 2

	)

98 
	#Pi˘OpOvî
 3

	)

99 
	#Pi˘OpOvîRevî£
 4

	)

100 
	#Pi˘OpIn
 5

	)

101 
	#Pi˘OpInRevî£
 6

	)

102 
	#Pi˘OpOut
 7

	)

103 
	#Pi˘OpOutRevî£
 8

	)

104 
	#Pi˘OpAt›
 9

	)

105 
	#Pi˘OpAt›Revî£
 10

	)

106 
	#Pi˘OpX‹
 11

	)

107 
	#Pi˘OpAdd
 12

	)

108 
	#Pi˘OpS©uøã
 13

	)

109 
	#Pi˘OpMaximum
 13

	)

114 
	#Pi˘OpDisjoötMöimum
 0x10

	)

115 
	#Pi˘OpDisjoötCÀ¨
 0x10

	)

116 
	#Pi˘OpDisjoötSrc
 0x11

	)

117 
	#Pi˘OpDisjoötD°
 0x12

	)

118 
	#Pi˘OpDisjoötOvî
 0x13

	)

119 
	#Pi˘OpDisjoötOvîRevî£
 0x14

	)

120 
	#Pi˘OpDisjoötIn
 0x15

	)

121 
	#Pi˘OpDisjoötInRevî£
 0x16

	)

122 
	#Pi˘OpDisjoötOut
 0x17

	)

123 
	#Pi˘OpDisjoötOutRevî£
 0x18

	)

124 
	#Pi˘OpDisjoötAt›
 0x19

	)

125 
	#Pi˘OpDisjoötAt›Revî£
 0x1a

	)

126 
	#Pi˘OpDisjoötX‹
 0x1b

	)

127 
	#Pi˘OpDisjoötMaximum
 0x1b

	)

129 
	#Pi˘OpC⁄joötMöimum
 0x20

	)

130 
	#Pi˘OpC⁄joötCÀ¨
 0x20

	)

131 
	#Pi˘OpC⁄joötSrc
 0x21

	)

132 
	#Pi˘OpC⁄joötD°
 0x22

	)

133 
	#Pi˘OpC⁄joötOvî
 0x23

	)

134 
	#Pi˘OpC⁄joötOvîRevî£
 0x24

	)

135 
	#Pi˘OpC⁄joötIn
 0x25

	)

136 
	#Pi˘OpC⁄joötInRevî£
 0x26

	)

137 
	#Pi˘OpC⁄joötOut
 0x27

	)

138 
	#Pi˘OpC⁄joötOutRevî£
 0x28

	)

139 
	#Pi˘OpC⁄joötAt›
 0x29

	)

140 
	#Pi˘OpC⁄joötAt›Revî£
 0x2a

	)

141 
	#Pi˘OpC⁄joötX‹
 0x2b

	)

142 
	#Pi˘OpC⁄joötMaximum
 0x2b

	)

147 
	#Pi˘OpBÀndMöimum
 0x30

	)

148 
	#Pi˘OpMu…ùly
 0x30

	)

149 
	#Pi˘OpS¸ìn
 0x31

	)

150 
	#Pi˘OpOvîœy
 0x32

	)

151 
	#Pi˘OpD¨kí
 0x33

	)

152 
	#Pi˘OpLighãn
 0x34

	)

153 
	#Pi˘OpCﬁ‹Dodge
 0x35

	)

154 
	#Pi˘OpCﬁ‹Bu∫
 0x36

	)

155 
	#Pi˘OpH¨dLight
 0x37

	)

156 
	#Pi˘OpSo·Light
 0x38

	)

157 
	#Pi˘OpDif„ªn˚
 0x39

	)

158 
	#Pi˘OpEx˛usi⁄
 0x3a

	)

159 
	#Pi˘OpHSLHue
 0x3b

	)

160 
	#Pi˘OpHSLS©uøti⁄
 0x3c

	)

161 
	#Pi˘OpHSLCﬁ‹
 0x3d

	)

162 
	#Pi˘OpHSLLumöosôy
 0x3e

	)

163 
	#Pi˘OpBÀndMaximum
 0x3e

	)

165 
	#PﬁyEdgeSh¨p
 0

	)

166 
	#PﬁyEdgeSmoŸh
 1

	)

168 
	#PﬁyModePªci£
 0

	)

169 
	#PﬁyModeIm¥eci£
 1

	)

171 
	#CPRïót
 (1 << 0)

	)

172 
	#CPAÕhaM≠
 (1 << 1)

	)

173 
	#CPAÕhaXOrigö
 (1 << 2)

	)

174 
	#CPAÕhaYOrigö
 (1 << 3)

	)

175 
	#CPClùXOrigö
 (1 << 4)

	)

176 
	#CPClùYOrigö
 (1 << 5)

	)

177 
	#CPClùMask
 (1 << 6)

	)

178 
	#CPGøphicsExposuª
 (1 << 7)

	)

179 
	#CPSubwödowMode
 (1 << 8)

	)

180 
	#CPPﬁyEdge
 (1 << 9)

	)

181 
	#CPPﬁyMode
 (1 << 10)

	)

182 
	#CPDôhî
 (1 << 11)

	)

183 
	#CPComp⁄ítAÕha
 (1 << 12)

	)

184 
	#CPLa°Bô
 12

	)

187 
	#FûãrNóª°
 "√¨e°"

	)

188 
	#FûãrBûöór
 "bûöór"

	)

190 
	#FûãrC⁄vﬁuti⁄
 "c⁄vﬁuti⁄"

	)

192 
	#FûãrFa°
 "Á°"

	)

193 
	#FûãrGood
 "good"

	)

194 
	#FûãrBe°
 "be°"

	)

196 
	#FûãrAlüsN⁄e
 -1

	)

199 
	#SubPixñUnknown
 0

	)

200 
	#SubPixñH‹iz⁄èlRGB
 1

	)

201 
	#SubPixñH‹iz⁄èlBGR
 2

	)

202 
	#SubPixñVîtiˇlRGB
 3

	)

203 
	#SubPixñVîtiˇlBGR
 4

	)

204 
	#SubPixñN⁄e
 5

	)

207 
	#RïótN⁄e
 0

	)

208 
	#RïótN‹mÆ
 1

	)

209 
	#RïótPad
 2

	)

210 
	#RïótReÊe˘
 3

	)

	@/usr/include/_G_config.h

4 #i‚de‡
_G_c⁄fig_h


5 
	#_G_c⁄fig_h
 1

	)

9 
	~<bôs/ty≥s.h
>

10 
	#__√ed_size_t


	)

11 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


12 
	#__√ed_wch¨_t


	)

14 
	#__√ed_NULL


	)

15 
	~<°ddef.h
>

16 
	#__√ed_mb°©e_t


	)

17 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


18 
	#__√ed_wöt_t


	)

20 
	~<wch¨.h
>

21 
	#_G_size_t
 
size_t


	)

24 
__off_t
 
	m__pos
;

25 
__mb°©e_t
 
	m__°©e
;

26 } 
	t_G_Âos_t
;

29 
__off64_t
 
	m__pos
;

30 
__mb°©e_t
 
	m__°©e
;

31 } 
	t_G_Âos64_t
;

32 
	#_G_ssize_t
 
__ssize_t


	)

33 
	#_G_off_t
 
__off_t


	)

34 
	#_G_off64_t
 
__off64_t


	)

35 
	#_G_pid_t
 
__pid_t


	)

36 
	#_G_uid_t
 
__uid_t


	)

37 
	#_G_wch¨_t
 
wch¨_t


	)

38 
	#_G_wöt_t
 
wöt_t


	)

39 
	#_G_°©64
 
°©64


	)

40 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


41 
	~<gc⁄v.h
>

44 
__gc⁄v_öfo
 
	m__cd
;

47 
__gc⁄v_öfo
 
	m__cd
;

48 
__gc⁄v_°ï_d©a
 
	m__d©a
;

49 } 
	m__comböed
;

50 } 
	t_G_ic⁄v_t
;

53 
	t_G_öt16_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__HI__
)));

54 
	t_G_öt32_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__SI__
)));

55 
	t_G_uöt16_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__HI__
)));

56 
	t_G_uöt32_t
 
	t__©åibuã__
 ((
	t__mode__
 (
	t__SI__
)));

58 
	#_G_HAVE_BOOL
 1

	)

62 
	#_G_HAVE_ATEXIT
 1

	)

63 
	#_G_HAVE_SYS_CDEFS
 1

	)

64 
	#_G_HAVE_SYS_WAIT
 1

	)

65 
	#_G_NEED_STDARG_H
 1

	)

66 
	#_G_va_li°
 
__gnuc_va_li°


	)

68 
	#_G_HAVE_PRINTF_FP
 1

	)

69 
	#_G_HAVE_MMAP
 1

	)

70 
	#_G_HAVE_MREMAP
 1

	)

71 
	#_G_HAVE_LONG_DOUBLE_IO
 1

	)

72 
	#_G_HAVE_IO_FILE_OPEN
 1

	)

73 
	#_G_HAVE_IO_GETLINE_INFO
 1

	)

75 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

77 
	#_G_OPEN64
 
__›í64


	)

78 
	#_G_LSEEK64
 
__l£ek64


	)

79 
	#_G_MMAP64
 
__mm≠64


	)

80 
	#_G_FSTAT64
(
fd
,
buf
Ë
	`__fx°©64
 (
_STAT_VER
, fd, buf)

	)

83 
	#_G_HAVE_ST_BLKSIZE
 
	`deföed
 (
_STATBUF_ST_BLKSIZE
)

	)

85 
	#_G_BUFSIZ
 8192

	)

88 
	#_G_NAMES_HAVE_UNDERSCORE
 0

	)

89 
	#_G_VTABLE_LABEL_HAS_LENGTH
 1

	)

90 
	#_G_USING_THUNKS
 1

	)

91 
	#_G_VTABLE_LABEL_PREFIX
 "__vt_"

	)

92 
	#_G_VTABLE_LABEL_PREFIX_ID
 
__vt_


	)

95 #i‡
deföed
 
__˝lu•lus
 || deföed 
__STDC__


96 
	#_G_ARGS
(
ARGLIST
Ë
	)
ARGLIST

98 
	#_G_ARGS
(
ARGLIST
Ë()

	)

	@/usr/include/error.h

20 #i‚de‡
_ERROR_H


21 
	#_ERROR_H
 1

	)

23 
	~<„©uªs.h
>

26 
__BEGIN_DECLS


32 
	$îr‹
 (
__°©us
, 
__î∫um
, 
__c⁄°
 *
__f‹m©
, ...)

33 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

35 
	$îr‹_©_löe
 (
__°©us
, 
__î∫um
, 
__c⁄°
 *
__‚ame
,

36 
__löío
, 
__c⁄°
 *
__f‹m©
, ...)

37 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 5, 6)));

42 (*
îr‹_¥öt_¥og«me
) ();

45 
îr‹_mesßge_cou¡
;

49 
îr‹_⁄e_≥r_löe
;

52 #i‡
deföed
 
__exã∫_Æways_ölöe
 && deföed 
__va_¨g_∑ck


53 
	~<bôs/îr‹.h
>

56 
__END_DECLS


	@/usr/include/libavutil/avconfig.h

2 #i‚de‡
AVUTIL_AVCONFIG_H


3 
	#AVUTIL_AVCONFIG_H


	)

4 
	#AV_HAVE_BIGENDIAN
 0

	)

5 
	#AV_HAVE_FAST_UNALIGNED
 1

	)

	@/usr/include/linux/stddef.h

1 #i‚de‡
_LINUX_STDDEF_H


2 
	#_LINUX_STDDEF_H


	)

6 #unde‡
NULL


7 #i‡
deföed
(
__˝lu•lus
)

8 
	#NULL
 0

	)

10 
	#NULL
 ((*)0)

	)

	@/usr/include/malloc.h

21 #i‚de‡
_MALLOC_H


22 
	#_MALLOC_H
 1

	)

24 
	~<„©uªs.h
>

25 
	~<°ddef.h
>

26 
	~<°dio.h
>

27 
	#__mÆloc_±r_t
 *

	)

30 
	#__mÆloc_size_t
 
size_t


	)

31 
	#__mÆloc_±rdiff_t
 
±rdiff_t


	)

33 #ifde‡
__GNUC__


35 
	#__MALLOC_P
(
¨gs
Ë¨g†
__THROW


	)

38 
	#__MALLOC_PMT
(
¨gs
Ë
	)
args

40 #ifde‡
_LIBC


41 
	#__MALLOC_HOOK_VOLATILE


	)

42 
	#__MALLOC_DEPRECATED


	)

44 
	#__MALLOC_HOOK_VOLATILE
 
__vﬁ©ûe


	)

45 
	#__MALLOC_DEPRECATED
 
__©åibuã_dïªˇãd__


	)

50 
	#__MALLOC_P
(
¨gs
Ë
	)
args

51 
	#__MALLOC_PMT
(
¨gs
Ë
	)
args

52 
	#__MALLOC_HOOK_VOLATILE


	)

53 
	#__MALLOC_DEPRECATED
 
__©åibuã_dïªˇãd__


	)

58 
__BEGIN_DECLS


61 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

64 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

65 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

72 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

73 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

76 
	$‰ì
 (*
__±r
Ë
__THROW
;

79 
	$c‰ì
 (*
__±r
Ë
__THROW
;

82 *
	$memÆign
 (
size_t
 
__Æignmít
, size_à
__size
)

83 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

86 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

90 * 
	$pvÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

94 *(*
__m‹ec‹e
Ë(
±rdiff_t
 
__size
);

97 *
	$__deÁu…_m‹ec‹e
 (
±rdiff_t
 
__size
)

98 
__THROW
 
__©åibuã_mÆloc__
;

102 
	smÆlöfo


104 
¨ía
;

105 
‹dblks
;

106 
smblks
;

107 
hblks
;

108 
hblkhd
;

109 
usmblks
;

110 
fsmblks
;

111 
u‹dblks
;

112 
f‹dblks
;

113 
kìpco°
;

117 
mÆlöfo
 
	$mÆlöfo
 (Ë
__THROW
;

120 #i‚de‡
M_MXFAST


121 
	#M_MXFAST
 1

	)

123 #i‚de‡
M_NLBLKS


124 
	#M_NLBLKS
 2

	)

126 #i‚de‡
M_GRAIN


127 
	#M_GRAIN
 3

	)

129 #i‚de‡
M_KEEP


130 
	#M_KEEP
 4

	)

134 
	#M_TRIM_THRESHOLD
 -1

	)

135 
	#M_TOP_PAD
 -2

	)

136 
	#M_MMAP_THRESHOLD
 -3

	)

137 
	#M_MMAP_MAX
 -4

	)

138 
	#M_CHECK_ACTION
 -5

	)

139 
	#M_PERTURB
 -6

	)

140 
	#M_ARENA_TEST
 -7

	)

141 
	#M_ARENA_MAX
 -8

	)

144 
	$mÆl›t
 (
__∑øm
, 
__vÆ
Ë
__THROW
;

148 
	$mÆloc_åim
 (
size_t
 
__∑d
Ë
__THROW
;

152 
size_t
 
	$mÆloc_ußbÀ_size
 (*
__±r
Ë
__THROW
;

155 
	$mÆloc_°©s
 (Ë
__THROW
;

158 
	$mÆloc_öfo
 (
__›ti⁄s
, 
FILE
 *
__Â
Ë
__THROW
;

161 *
	$mÆloc_gë_°©e
 (Ë
__THROW
;

165 
	$mÆloc_£t_°©e
 (*
__±r
Ë
__THROW
;

170 (*
__MALLOC_HOOK_VOLATILE
 
__mÆloc_öôülize_hook
) ()

171 
__MALLOC_DEPRECATED
;

173 (*
__MALLOC_HOOK_VOLATILE
 
__‰ì_hook
Ë(*
__±r
,

174 
__c⁄°
 
__mÆloc_±r_t
)

175 
__MALLOC_DEPRECATED
;

176 *(*
__MALLOC_HOOK_VOLATILE
 
__mÆloc_hook
Ë(
size_t
 
__size
,

177 
__c⁄°
 
__mÆloc_±r_t
)

178 
__MALLOC_DEPRECATED
;

179 *(*
__MALLOC_HOOK_VOLATILE
 
__ªÆloc_hook
Ë(*
__±r
,

180 
size_t
 
__size
,

181 
__c⁄°
 
__mÆloc_±r_t
)

182 
__MALLOC_DEPRECATED
;

183 *(*
__MALLOC_HOOK_VOLATILE
 
__memÆign_hook
Ë(
size_t
 
__Æignmít
,

184 
size_t
 
__size
,

185 
__c⁄°
 
__mÆloc_±r_t
)

186 
__MALLOC_DEPRECATED
;

187 (*
__MALLOC_HOOK_VOLATILE
 
__a·î_m‹ec‹e_hook
) ();

190 
	$__mÆloc_check_öô
 (Ë
__THROW
 
__MALLOC_DEPRECATED
;

193 
__END_DECLS


	@/usr/include/strings.h

20 #i‚def 
_STRINGS_H


21 
	#_STRINGS_H
 1

	)

26 #i‡!
deföed
 
_STRING_H
 || !deföed 
__USE_BSD


28 
	~<„©uªs.h
>

29 
	#__√ed_size_t


	)

30 
	~<°ddef.h
>

33 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

34 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

37 
	g__BEGIN_DECLS


39 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K8


41 
	$bcmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

42 
__THROW
 
__©åibuã_puª__
;

45 
	$bc›y
 (
__c⁄°
 *
__§c
, *
__de°
, 
size_t
 
__n
Ë
__THROW
;

48 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
;

51 #ifde‡
__CORRECT_ISO_CPP_STRINGS_H_PROTO


54 *
	`ödex
 (*
__s
, 
__c
)

55 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

56 
__c⁄°
 *
	`ödex
 (__c⁄° *
__s
, 
__c
)

57 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

59 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRING_H_PROTO


60 
__exã∫_Æways_ölöe
 *

61 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


63  
	`__buûtö_ödex
 (
__s
, 
__c
);

66 
__exã∫_Æways_ölöe
 
__c⁄°
 *

67 
	`ödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


69  
	`__buûtö_ödex
 (
__s
, 
__c
);

72 
	}
}

74 *
	$ödex
 (
__c⁄°
 *
__s
, 
__c
)

75 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

79 #ifde‡
__CORRECT_ISO_CPP_STRINGS_H_PROTO


82 *
	`rödex
 (*
__s
, 
__c
)

83 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

84 
__c⁄°
 *
	`rödex
 (__c⁄° *
__s
, 
__c
)

85 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

87 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRING_H_PROTO


88 
__exã∫_Æways_ölöe
 *

89 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


91  
	`__buûtö_rödex
 (
__s
, 
__c
);

94 
__exã∫_Æways_ölöe
 
__c⁄°
 *

95 
	`rödex
 (
__c⁄°
 *
__s
, 
__c
Ë
__THROW


97  
	`__buûtö_rödex
 (
__s
, 
__c
);

100 
	}
}

102 *
	$rödex
 (
__c⁄°
 *
__s
, 
__c
)

103 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

107 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K8
 || deföed 
__USE_XOPEN2K8XSI


110 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((const));

114 
	$°rˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
)

115 
__THROW
 
__©åibuã_puª__
;

118 
	$°∫ˇ£cmp
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
, 
size_t
 
__n
)

119 
__THROW
 
__©åibuã_puª__
;

121 #ifdef 
__USE_XOPEN2K8


125 
	~<xloˇÀ.h
>

129 
	$°rˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

130 
__loˇÀ_t
 
__loc
)

131 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

133 
	$°∫ˇ£cmp_l
 (
__c⁄°
 *
__s1
, __c⁄° *
__s2
,

134 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

135 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

138 
__END_DECLS


	@/usr/include/zlibdefs.h

6 
	~<sys/ty≥s.h
>

7 
	~<uni°d.h
>

8 #ifde‡
VMS


9 
	~<unixio.h
>

11 #i‚de‡
z_off_t


12 
	#z_off_t
 
off_t


	)

	@/usr/include/X11/Xdefs.h

28 #i‚de‡
_XDEFS_H


29 
	#_XDEFS_H


	)

31 #ifde‡
_XSERVER64


32 
	~<X11/Xmd.h
>

35 #i‚de‡
_XTYPEDEF_ATOM


36 
	#_XTYPEDEF_ATOM


	)

37 #i‚de‡
_XSERVER64


38 
	tAtom
;

40 
CARD32
 
	tAtom
;

44 #i‚de‡
Boﬁ


45 #i‚de‡
_XTYPEDEF_BOOL


46 
	#_XTYPEDEF_BOOL


	)

47 
	tBoﬁ
;

51 #i‚de‡
_XTYPEDEF_POINTER


52 
	#_XTYPEDEF_POINTER


	)

53 *
	tpoöãr
;

56 #i‚de‡
_XTYPEDEF_CLIENTPTR


57 
_Clõ¡
 *
	tClõ¡På
;

58 
	#_XTYPEDEF_CLIENTPTR


	)

61 #i‚de‡
_XTYPEDEF_XID


62 
	#_XTYPEDEF_XID


	)

63 #i‚de‡
_XSERVER64


64 
	tXID
;

66 
CARD32
 
	tXID
;

70 #i‚de‡
_XTYPEDEF_MASK


71 
	#_XTYPEDEF_MASK


	)

72 #i‚de‡
_XSERVER64


73 
	tMask
;

75 
CARD32
 
	tMask
;

79 #i‚de‡
_XTYPEDEF_FONTPTR


80 
	#_XTYPEDEF_FONTPTR


	)

81 
_F⁄t
 *
	tF⁄tPå
;

84 #i‚de‡
_XTYPEDEF_FONT


85 
	#_XTYPEDEF_FONT


	)

86 
XID
 
	tF⁄t
;

89 #i‚de‡
_XTYPEDEF_FSID


90 #i‚de‡
_XSERVER64


91 
	tFSID
;

93 
CARD32
 
	tFSID
;

97 
FSID
 
	tAccC⁄ãxt
;

101 
timevÆ
 **
	tOSTimePå
;

104 (* 
	tBlockH™dÀrProcPå
)(
	tpoöãr
 ,

105 
	tOSTimePå
 ,

106 
	tpoöãr
 );

	@/usr/include/gconv.h

23 #i‚de‡
_GCONV_H


24 
	#_GCONV_H
 1

	)

26 
	~<„©uªs.h
>

27 
	#__√ed_mb°©e_t


	)

28 
	#__√ed_wöt_t


	)

29 
	~<wch¨.h
>

30 
	#__√ed_size_t


	)

31 
	#__√ed_wch¨_t


	)

32 
	~<°ddef.h
>

35 
	#__UNKNOWN_10646_CHAR
 ((
wch¨_t
Ë0xfffd)

	)

40 
	m__GCONV_OK
 = 0,

41 
	m__GCONV_NOCONV
,

42 
	m__GCONV_NODB
,

43 
	m__GCONV_NOMEM
,

45 
	m__GCONV_EMPTY_INPUT
,

46 
	m__GCONV_FULL_OUTPUT
,

47 
	m__GCONV_ILLEGAL_INPUT
,

48 
	m__GCONV_INCOMPLETE_INPUT
,

50 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

51 
	m__GCONV_INTERNAL_ERROR


58 
	m__GCONV_IS_LAST
 = 0x0001,

59 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

60 
	m__GCONV_SWAP
 = 0x0004

65 
	g__gc⁄v_°ï
;

66 
	g__gc⁄v_°ï_d©a
;

67 
	g__gc⁄v_lﬂded_obje˘
;

68 
	g__gc⁄v_å™s_d©a
;

72 (*
	t__gc⁄v_f˘
Ë(
	t__gc⁄v_°ï
 *, 
	t__gc⁄v_°ï_d©a
 *,

73 
	t__c⁄°
 **, __const *,

74 **, 
	tsize_t
 *, , );

77 
	$wöt_t
 (*
	t__gc⁄v_btowc_f˘
Ë(
	t__gc⁄v_°ï
 *, );

80 (*
	t__gc⁄v_öô_f˘
Ë(
	t__gc⁄v_°ï
 *);

81 (*
	t__gc⁄v_íd_f˘
Ë(
	t__gc⁄v_°ï
 *);

85 (*
	t__gc⁄v_å™s_f˘
Ë(
	t__gc⁄v_°ï
 *,

86 
	t__gc⁄v_°ï_d©a
 *, *,

87 
	t__c⁄°
 *,

88 
	t__c⁄°
 **,

89 
	t__c⁄°
 *, **,

90 
	tsize_t
 *);

93 (*
	t__gc⁄v_å™s_c⁄ãxt_f˘
Ë(*, 
	t__c⁄°
 *,

94 
	t__c⁄°
 *,

98 (*
	t__gc⁄v_å™s_quîy_f˘
Ë(
	t__c⁄°
 *, __const ***,

99 
	tsize_t
 *);

102 (*
	t__gc⁄v_å™s_öô_f˘
) (**, const *);

103 (*
	t__gc⁄v_å™s_íd_f˘
) (*);

105 
	s__gc⁄v_å™s_d©a


108 
__gc⁄v_å™s_f˘
 
__å™s_f˘
;

109 
__gc⁄v_å™s_c⁄ãxt_f˘
 
__å™s_c⁄ãxt_f˘
;

110 
__gc⁄v_å™s_íd_f˘
 
__å™s_íd_f˘
;

111 *
__d©a
;

112 
__gc⁄v_å™s_d©a
 *
__√xt
;

117 
	s__gc⁄v_°ï


119 
__gc⁄v_lﬂded_obje˘
 *
__shlib_h™dÀ
;

120 
__c⁄°
 *
__mod«me
;

122 
__cou¡î
;

124 *
__‰om_«me
;

125 *
__to_«me
;

127 
__gc⁄v_f˘
 
__f˘
;

128 
__gc⁄v_btowc_f˘
 
__btowc_f˘
;

129 
__gc⁄v_öô_f˘
 
__öô_f˘
;

130 
__gc⁄v_íd_f˘
 
__íd_f˘
;

134 
__mö_√eded_‰om
;

135 
__max_√eded_‰om
;

136 
__mö_√eded_to
;

137 
__max_√eded_to
;

140 
__°©eful
;

142 *
__d©a
;

147 
	s__gc⁄v_°ï_d©a


149 *
__outbuf
;

150 *
__outbu„nd
;

154 
__Êags
;

158 
__övoˇti⁄_cou¡î
;

162 
__öã∫Æ_u£
;

164 
__mb°©e_t
 *
__°©ï
;

165 
__mb°©e_t
 
__°©e
;

169 
__gc⁄v_å™s_d©a
 *
__å™s
;

174 
	s__gc⁄v_öfo


176 
size_t
 
__n°ïs
;

177 
__gc⁄v_°ï
 *
__°ïs
;

178 
__exãnsi⁄__
 
__gc⁄v_°ï_d©a
 
__d©a
 
__Êex¨r
;

179 } *
	t__gc⁄v_t
;

	@/usr/include/wchar.h

24 #i‚de‡
_WCHAR_H


26 #i‡!
deföed
 
__√ed_mb°©e_t
 && !deföed 
__√ed_wöt_t


27 
	#_WCHAR_H
 1

	)

28 
	~<„©uªs.h
>

31 #ifde‡
_WCHAR_H


33 
	#__√ed___FILE


	)

34 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


35 
	#__√ed_FILE


	)

37 
	~<°dio.h
>

39 
	#__√ed___va_li°


	)

40 
	~<°d¨g.h
>

42 
	~<bôs/wch¨.h
>

45 
	#__√ed_size_t


	)

46 
	#__√ed_wch¨_t


	)

47 
	#__√ed_NULL


	)

49 #i‡
deföed
 
_WCHAR_H
 || deföed 
__√ed_wöt_t
 || !deföed 
__WINT_TYPE__


50 #unde‡
__√ed_wöt_t


51 
	#__√ed_wöt_t


	)

52 
	~<°ddef.h
>

56 #i‚de‡
_WINT_T


61 
	#_WINT_T


	)

62 
	twöt_t
;

66 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES
 \

67 && 
deföed
 
__WINT_TYPE__


68 
__BEGIN_NAMESPACE_STD


69 
__WINT_TYPE__
 
	twöt_t
;

70 
	g__END_NAMESPACE_STD


75 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

76 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

80 #i‡(
deföed
 
_WCHAR_H
 || deföed 
__√ed_mb°©e_t
Ë&& !deföed 
__mb°©e_t_deföed


81 
	#__mb°©e_t_deföed
 1

	)

85 
	m__cou¡
;

88 #ifde‡
__WINT_TYPE__


89 
__WINT_TYPE__
 
	m__wch
;

91 
wöt_t
 
	m__wch
;

93 
	m__wchb
[4];

94 } 
	m__vÆue
;

95 } 
	t__mb°©e_t
;

97 #unde‡
__√ed_mb°©e_t


102 #ifde‡
_WCHAR_H


104 
__BEGIN_NAMESPACE_C99


106 
__mb°©e_t
 
	tmb°©e_t
;

107 
	g__END_NAMESPACE_C99


108 #ifde‡
__USE_GNU


109 
	$__USING_NAMESPACE_C99
(
mb°©e_t
)

112 #i‚de‡
WCHAR_MIN


114 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

115 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

118 #i‚de‡
WEOF


119 
	#WEOF
 (0xffffffffu)

	)

124 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_UNIX98


125 
	~<w˘y≥.h
>

129 
__BEGIN_DECLS


131 
__BEGIN_NAMESPACE_STD


134 
tm
;

135 
__END_NAMESPACE_STD


139 
	$__USING_NAMESPACE_STD
(
tm
)

142 
__BEGIN_NAMESPACE_STD


144 
wch¨_t
 *
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

145 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

147 
wch¨_t
 *
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

149 
__THROW
;

152 
wch¨_t
 *
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

153 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

155 
wch¨_t
 *
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

156 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

157 
__THROW
;

160 
	$wcscmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
)

161 
__THROW
 
__©åibuã_puª__
;

163 
	$wc¢cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

164 
__THROW
 
__©åibuã_puª__
;

165 
__END_NAMESPACE_STD


167 #ifde‡
__USE_XOPEN2K8


169 
	$wcsˇ£cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
Ë
__THROW
;

172 
	$wc¢ˇ£cmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

173 
size_t
 
__n
Ë
__THROW
;

177 
	~<xloˇÀ.h
>

179 
	$wcsˇ£cmp_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

180 
__loˇÀ_t
 
__loc
Ë
__THROW
;

182 
	$wc¢ˇ£cmp_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

183 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

186 
__BEGIN_NAMESPACE_STD


189 
	$wcscﬁl
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
Ë
__THROW
;

193 
size_t
 
	$wcsx‰m
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

194 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

195 
__END_NAMESPACE_STD


197 #ifde‡
__USE_XOPEN2K8


203 
	$wcscﬁl_l
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
,

204 
__loˇÀ_t
 
__loc
Ë
__THROW
;

209 
size_t
 
	$wcsx‰m_l
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
,

210 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

213 
wch¨_t
 *
	$wcsdup
 (
__c⁄°
 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_mÆloc__
;

216 
__BEGIN_NAMESPACE_STD


218 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


219 "C++" 
wch¨_t
 *
	$wcschr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

220 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

221 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcschr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

222 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

224 
wch¨_t
 *
	$wcschr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

225 
__THROW
 
__©åibuã_puª__
;

228 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


229 "C++" 
wch¨_t
 *
	$wc§chr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

230 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

231 "C++" 
__c⁄°
 
wch¨_t
 *
	$wc§chr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

232 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

234 
wch¨_t
 *
	$wc§chr
 (
__c⁄°
 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

235 
__THROW
 
__©åibuã_puª__
;

237 
__END_NAMESPACE_STD


239 #ifde‡
__USE_GNU


242 
wch¨_t
 *
	$wcsch∫ul
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__wc
)

243 
__THROW
 
__©åibuã_puª__
;

246 
__BEGIN_NAMESPACE_STD


249 
size_t
 
	$wcsc•n
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ªje˘
)

250 
__THROW
 
__©åibuã_puª__
;

253 
size_t
 
	$wcs•n
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ac˚±
)

254 
__THROW
 
__©åibuã_puª__
;

256 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


257 "C++" 
wch¨_t
 *
	$wc•brk
 (
wch¨_t
 *
__wcs
, 
__c⁄°
 wch¨_à*
__ac˚±
)

258 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

259 "C++" 
__c⁄°
 
wch¨_t
 *
	$wc•brk
 (
__c⁄°
 
wch¨_t
 *
__wcs
,

260 
__c⁄°
 
wch¨_t
 *
__ac˚±
)

261 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

263 
wch¨_t
 *
	$wc•brk
 (
__c⁄°
 
wch¨_t
 *
__wcs
, __c⁄° wch¨_à*
__ac˚±
)

264 
__THROW
 
__©åibuã_puª__
;

267 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


268 "C++" 
wch¨_t
 *
	$wcs°r
 (
wch¨_t
 *
__hay°ack
, 
__c⁄°
 wch¨_à*
__√edÀ
)

269 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

270 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcs°r
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
,

271 
__c⁄°
 
wch¨_t
 *
__√edÀ
)

272 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

274 
wch¨_t
 *
	$wcs°r
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
, __c⁄° wch¨_à*
__√edÀ
)

275 
__THROW
 
__©åibuã_puª__
;

279 
wch¨_t
 *
	$wc°ok
 (
wch¨_t
 *
__ª°ri˘
 
__s
,

280 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__dñim
,

281 
wch¨_t
 **
__ª°ri˘
 
__±r
Ë
__THROW
;

284 
size_t
 
	$wc¶í
 (
__c⁄°
 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_puª__
;

285 
__END_NAMESPACE_STD


287 #ifde‡
__USE_XOPEN


289 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


290 "C++" 
wch¨_t
 *
	$wcswcs
 (
wch¨_t
 *
__hay°ack
, 
__c⁄°
 wch¨_à*
__√edÀ
)

291 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

292 "C++" 
__c⁄°
 
wch¨_t
 *
	$wcswcs
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
,

293 
__c⁄°
 
wch¨_t
 *
__√edÀ
)

294 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

296 
wch¨_t
 *
	$wcswcs
 (
__c⁄°
 
wch¨_t
 *
__hay°ack
, __c⁄° wch¨_à*
__√edÀ
)

297 
__THROW
 
__©åibuã_puª__
;

301 #ifde‡
__USE_XOPEN2K8


303 
size_t
 
	$wc¢Àn
 (
__c⁄°
 
wch¨_t
 *
__s
, 
size_t
 
__maxÀn
)

304 
__THROW
 
__©åibuã_puª__
;

308 
__BEGIN_NAMESPACE_STD


310 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


311 "C++" 
wch¨_t
 *
	$wmemchr
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

312 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

313 "C++" 
__c⁄°
 
wch¨_t
 *
	$wmemchr
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__c
,

314 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

317 
wch¨_t
 *
	$wmemchr
 (
__c⁄°
 
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

318 
__THROW
 
__©åibuã_puª__
;

322 
	$wmemcmp
 (
__c⁄°
 
wch¨_t
 *
__s1
, __c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

323 
__THROW
 
__©åibuã_puª__
;

326 
wch¨_t
 *
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

327 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

331 
wch¨_t
 *
	$wmemmove
 (
wch¨_t
 *
__s1
, 
__c⁄°
 wch¨_à*
__s2
, 
size_t
 
__n
)

332 
__THROW
;

335 
wch¨_t
 *
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
Ë
__THROW
;

336 
__END_NAMESPACE_STD


338 #ifde‡
__USE_GNU


341 
wch¨_t
 *
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

342 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

343 
__THROW
;

347 
__BEGIN_NAMESPACE_STD


350 
wöt_t
 
	$btowc
 (
__c
Ë
__THROW
;

354 
	$w˘ob
 (
wöt_t
 
__c
Ë
__THROW
;

358 
	$mbsöô
 (
__c⁄°
 
mb°©e_t
 *
__ps
Ë
__THROW
 
__©åibuã_puª__
;

362 
size_t
 
	$mbπowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

363 
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

364 
mb°©e_t
 *
__p
Ë
__THROW
;

367 
size_t
 
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wc
,

368 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

371 
size_t
 
	$__mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

372 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

373 
size_t
 
	$mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

374 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

375 
__END_NAMESPACE_STD


377 #ifde‡
__USE_EXTERN_INLINES


383 
wöt_t
 
	$__btowc_Æüs
 (
__c
Ë
	`__asm
 ("btowc");

384 
__exã∫_ölöe
 
wöt_t


385 
	`__NTH
 (
	$btowc
 (
__c
))

386 {  (
	`__buûtö_c⁄°™t_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

387 ? (
wöt_t
Ë
__c
 : 
	`__btowc_Æüs
 (__c)); 
	}
}

389 
	$__w˘ob_Æüs
 (
wöt_t
 
__c
Ë
	`__asm
 ("wctob");

390 
__exã∫_ölöe
 

391 
	`__NTH
 (
	$w˘ob
 (
wöt_t
 
__wc
))

392 {  (
	`__buûtö_c⁄°™t_p
 (
__wc
Ë&& __w¯>
L
'\0' && __wc <= L'\x7f'

393 ? (Ë
__wc
 : 
	`__w˘ob_Æüs
 (__wc)); 
	}
}

395 
__exã∫_ölöe
 
size_t


396 
__NTH
 (
	$mbæí
 (
__c⁄°
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

397 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

398 {  (
__ps
 !
NULL


399 ? 
	`mbπowc
 (
NULL
, 
__s
, 
__n
, 
__ps
Ë: 
	`__mbæí
 (__s, __n, NULL)); 
	}
}

402 
__BEGIN_NAMESPACE_STD


405 
size_t
 
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

406 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

407 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

411 
size_t
 
	$wc§tombs
 (*
__ª°ri˘
 
__d°
,

412 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

413 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

414 
__END_NAMESPACE_STD


417 #ifdef 
__USE_XOPEN2K8


420 
size_t
 
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

421 
__c⁄°
 **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

422 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

426 
size_t
 
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
,

427 
__c⁄°
 
wch¨_t
 **
__ª°ri˘
 
__§c
,

428 
size_t
 
__nwc
, size_à
__Àn
,

429 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

434 #ifde‡
__USE_XOPEN


436 
	$wcwidth
 (
wch¨_t
 
__c
Ë
__THROW
;

440 
	$wcswidth
 (
__c⁄°
 
wch¨_t
 *
__s
, 
size_t
 
__n
Ë
__THROW
;

444 
__BEGIN_NAMESPACE_STD


447 
	$wc°od
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

448 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

449 
__END_NAMESPACE_STD


451 #ifde‡
__USE_ISOC99


452 
__BEGIN_NAMESPACE_C99


454 
	$wc°of
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

455 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

456 
	$wc°ﬁd
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

457 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

458 
__END_NAMESPACE_C99


462 
__BEGIN_NAMESPACE_STD


465 
	$wc°ﬁ
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

466 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

470 
	$wc°oul
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

471 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

472 
__THROW
;

473 
__END_NAMESPACE_STD


475 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GNUC__
 && deföed 
__USE_GNU
)

476 
__BEGIN_NAMESPACE_C99


479 
__exãnsi⁄__


480 
	$wc°ﬁl
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

481 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

482 
__THROW
;

486 
__exãnsi⁄__


487 
	$wc°ouŒ
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

488 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

489 
__ba£
Ë
__THROW
;

490 
__END_NAMESPACE_C99


493 #i‡
deföed
 
__GNUC__
 && deföed 
__USE_GNU


496 
__exãnsi⁄__


497 
	$wc°oq
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

498 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

499 
__THROW
;

503 
__exãnsi⁄__


504 
	$wc°ouq
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

505 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

506 
__ba£
Ë
__THROW
;

509 #ifde‡
__USE_GNU


523 
	~<xloˇÀ.h
>

527 
	$wc°ﬁ_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

528 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

529 
__loˇÀ_t
 
__loc
Ë
__THROW
;

531 
	$wc°oul_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

532 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

533 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

535 
__exãnsi⁄__


536 
	$wc°ﬁl_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

537 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

538 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

540 
__exãnsi⁄__


541 
	$wc°ouŒ_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

542 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

543 
__ba£
, 
__loˇÀ_t
 
__loc
)

544 
__THROW
;

546 
	$wc°od_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

547 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

548 
__THROW
;

550 
	$wc°of_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

551 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

552 
__THROW
;

554 
	$wc°ﬁd_l
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

555 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

556 
__loˇÀ_t
 
__loc
Ë
__THROW
;

560 #ifde‡
__USE_XOPEN2K8


563 
wch¨_t
 *
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

564 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

568 
wch¨_t
 *
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

569 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

570 
__THROW
;

577 
__FILE
 *
	$›í_wmem°ªam
 (
wch¨_t
 **
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
;

580 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


581 
__BEGIN_NAMESPACE_STD


584 
	$fwide
 (
__FILE
 *
__Â
, 
__mode
Ë
__THROW
;

591 
	`fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

592 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

598 
	`w¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

601 
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

602 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

603 
__THROW
 ;

609 
	`vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__s
,

610 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

611 
__gnuc_va_li°
 
__¨g
)

617 
	`vw¥ötf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

618 
__gnuc_va_li°
 
__¨g
)

622 
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

623 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

624 
__gnuc_va_li°
 
__¨g
)

625 
__THROW
 ;

632 
	`fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

633 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

639 
	`wsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

642 
	$swsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

643 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

644 
__THROW
 ;

646 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

647 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

648 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

649 #ifde‡
__REDIRECT


653 
	`__REDIRECT
 (
fwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__°ªam
,

654 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

655 
__isoc99_fwsˇnf
)

657 
	`__REDIRECT
 (
wsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

658 
__isoc99_wsˇnf
)

660 
	`__REDIRECT_NTH
 (
swsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

661 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

662 ...), 
__isoc99_swsˇnf
)

665 
	`__isoc99_fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

666 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

667 
	`__isoc99_wsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

668 
	$__isoc99_swsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

669 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

670 
__THROW
;

671 
	#fwsˇnf
 
__isoc99_fwsˇnf


	)

672 
	#wsˇnf
 
__isoc99_wsˇnf


	)

673 
	#swsˇnf
 
__isoc99_swsˇnf


	)

677 
__END_NAMESPACE_STD


680 #ifde‡
__USE_ISOC99


681 
__BEGIN_NAMESPACE_C99


686 
	`vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

687 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

688 
__gnuc_va_li°
 
__¨g
)

694 
	`vwsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

695 
__gnuc_va_li°
 
__¨g
)

698 
	$vswsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

699 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

700 
__gnuc_va_li°
 
__¨g
)

701 
__THROW
 ;

703 #i‡!
deföed
 
__USE_GNU
 \

704 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

705 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

706 #ifde‡
__REDIRECT


707 
	`__REDIRECT
 (
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__s
,

708 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

709 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vfwsˇnf
)

711 
	`__REDIRECT
 (
vwsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

712 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vwsˇnf
)

714 
	`__REDIRECT_NTH
 (
vswsˇnf
, (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

715 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

716 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vswsˇnf
)

719 
	`__isoc99_vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

720 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

721 
__gnuc_va_li°
 
__¨g
);

722 
	`__isoc99_vwsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

723 
__gnuc_va_li°
 
__¨g
);

724 
	$__isoc99_vswsˇnf
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__s
,

725 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

726 
__gnuc_va_li°
 
__¨g
Ë
__THROW
;

727 
	#vfwsˇnf
 
__isoc99_vfwsˇnf


	)

728 
	#vwsˇnf
 
__isoc99_vwsˇnf


	)

729 
	#vswsˇnf
 
__isoc99_vswsˇnf


	)

733 
__END_NAMESPACE_C99


737 
__BEGIN_NAMESPACE_STD


742 
wöt_t
 
	`fgëwc
 (
__FILE
 *
__°ªam
);

743 
wöt_t
 
	`gëwc
 (
__FILE
 *
__°ªam
);

749 
wöt_t
 
	`gëwch¨
 ();

756 
wöt_t
 
	`Âutwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

757 
wöt_t
 
	`putwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

763 
wöt_t
 
	`putwch¨
 (
wch¨_t
 
__wc
);

771 
wch¨_t
 *
	`fgëws
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

772 
__FILE
 *
__ª°ri˘
 
__°ªam
);

778 
	`Âutws
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__ws
,

779 
__FILE
 *
__ª°ri˘
 
__°ªam
);

786 
wöt_t
 
	`ungëwc
 (wöt_à
__wc
, 
__FILE
 *
__°ªam
);

787 
__END_NAMESPACE_STD


790 #ifde‡
__USE_GNU


798 
wöt_t
 
	`gëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

799 
wöt_t
 
	`gëwch¨_u∆ocked
 ();

807 
wöt_t
 
	`fgëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

815 
wöt_t
 
	`Âutwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

824 
wöt_t
 
	`putwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

825 
wöt_t
 
	`putwch¨_u∆ocked
 (
wch¨_t
 
__wc
);

834 
wch¨_t
 *
	`fgëws_u∆ocked
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

835 
__FILE
 *
__ª°ri˘
 
__°ªam
);

843 
	`Âutws_u∆ocked
 (
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__ws
,

844 
__FILE
 *
__ª°ri˘
 
__°ªam
);

848 
__BEGIN_NAMESPACE_C99


852 
size_t
 
	$wcs·ime
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

853 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

854 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

855 
__END_NAMESPACE_C99


857 #ifde‡
__USE_GNU


858 
	~<xloˇÀ.h
>

862 
size_t
 
	$wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

863 
__c⁄°
 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

864 
__c⁄°
 
tm
 *
__ª°ri˘
 
__ç
,

865 
__loˇÀ_t
 
__loc
Ë
__THROW
;

874 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_GNU


875 
	#__√ed_iswxxx


	)

876 
	~<w˘y≥.h
>

880 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


881 
	~<bôs/wch¨2.h
>

884 #ifde‡
__LDBL_COMPAT


885 
	~<bôs/wch¨-ldbl.h
>

888 
__END_DECLS


896 #unde‡
__√ed_mb°©e_t


897 #unde‡
__√ed_wöt_t


	@/usr/include/wctype.h

24 #i‚de‡
_WCTYPE_H


26 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

29 #i‚de‡
__√ed_iswxxx


30 
	#_WCTYPE_H
 1

	)

33 
	#__√ed_wöt_t


	)

34 
	~<wch¨.h
>

38 #i‚de‡
WEOF


39 
	#WEOF
 (0xffffffffu)

	)

42 #unde‡
__√ed_iswxxx


47 #i‚de‡
__iswxxx_deföed


48 
	#__iswxxx_deföed
 1

	)

50 
__BEGIN_NAMESPACE_C99


53 
	tw˘y≥_t
;

54 
	g__END_NAMESPACE_C99


56 #i‚de‡
_ISwbô


61 
	~<ídün.h
>

62 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


63 
	#_ISwbô
(
bô
Ë(1 << (bô))

	)

65 
	#_ISwbô
(
bô
) \

66 ((
bô
) < 8 ? () ((1UL << (bit)) << 24) \

67 : ((
bô
) < 16 ? () ((1UL << (bit)) << 8) \

68 : ((
bô
) < 24 ? () ((1UL << (bit)) >> 8) \

69 : (Ë((1UL << (
bô
)Ë>> 24))))

	)

74 
	m__ISwuµî
 = 0,

75 
	m__ISwlowî
 = 1,

76 
	m__ISwÆpha
 = 2,

77 
	m__ISwdigô
 = 3,

78 
	m__ISwxdigô
 = 4,

79 
	m__ISw•a˚
 = 5,

80 
	m__ISw¥öt
 = 6,

81 
	m__ISwgøph
 = 7,

82 
	m__ISwbœnk
 = 8,

83 
	m__ISw˙ål
 = 9,

84 
	m__ISwpun˘
 = 10,

85 
	m__ISwÆnum
 = 11,

87 
	m_ISwuµî
 = 
_ISwbô
 (
__ISwuµî
),

88 
	m_ISwlowî
 = 
_ISwbô
 (
__ISwlowî
),

89 
	m_ISwÆpha
 = 
_ISwbô
 (
__ISwÆpha
),

90 
	m_ISwdigô
 = 
_ISwbô
 (
__ISwdigô
),

91 
	m_ISwxdigô
 = 
_ISwbô
 (
__ISwxdigô
),

92 
	m_ISw•a˚
 = 
_ISwbô
 (
__ISw•a˚
),

93 
	m_ISw¥öt
 = 
_ISwbô
 (
__ISw¥öt
),

94 
	m_ISwgøph
 = 
_ISwbô
 (
__ISwgøph
),

95 
	m_ISwbœnk
 = 
_ISwbô
 (
__ISwbœnk
),

96 
	m_ISw˙ål
 = 
_ISwbô
 (
__ISw˙ål
),

97 
	m_ISwpun˘
 = 
_ISwbô
 (
__ISwpun˘
),

98 
	m_ISwÆnum
 = 
_ISwbô
 (
__ISwÆnum
)

103 
__BEGIN_DECLS


105 
__BEGIN_NAMESPACE_C99


112 
	$iswÆnum
 (
wöt_t
 
__wc
Ë
__THROW
;

118 
	$iswÆpha
 (
wöt_t
 
__wc
Ë
__THROW
;

121 
	$isw˙ål
 (
wöt_t
 
__wc
Ë
__THROW
;

125 
	$iswdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

129 
	$iswgøph
 (
wöt_t
 
__wc
Ë
__THROW
;

134 
	$iswlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

137 
	$isw¥öt
 (
wöt_t
 
__wc
Ë
__THROW
;

142 
	$iswpun˘
 (
wöt_t
 
__wc
Ë
__THROW
;

147 
	$isw•a˚
 (
wöt_t
 
__wc
Ë
__THROW
;

152 
	$iswuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

157 
	$iswxdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

162 #ifde‡
__USE_ISOC99


163 
	$iswbœnk
 (
wöt_t
 
__wc
Ë
__THROW
;

172 
w˘y≥_t
 
	$w˘y≥
 (
__c⁄°
 *
__¥›îty
Ë
__THROW
;

176 
	$isw˘y≥
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
Ë
__THROW
;

177 
__END_NAMESPACE_C99


184 
__BEGIN_NAMESPACE_C99


187 
__c⁄°
 
	t__öt32_t
 *
	tw˘øns_t
;

188 
__END_NAMESPACE_C99


189 #ifde‡
__USE_GNU


190 
	$__USING_NAMESPACE_C99
(
w˘øns_t
)

193 
__BEGIN_NAMESPACE_C99


195 
wöt_t
 
	$towlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

198 
wöt_t
 
	$towuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

199 
__END_NAMESPACE_C99


201 
__END_DECLS


208 #ifde‡
_WCTYPE_H


214 
__BEGIN_DECLS


216 
__BEGIN_NAMESPACE_C99


219 
w˘øns_t
 
	$w˘øns
 (
__c⁄°
 *
__¥›îty
Ë
__THROW
;

222 
wöt_t
 
	$tow˘øns
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
Ë
__THROW
;

223 
__END_NAMESPACE_C99


225 #ifde‡
__USE_XOPEN2K8


227 
	~<xloˇÀ.h
>

231 
	$iswÆnum_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

237 
	$iswÆpha_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

240 
	$isw˙ål_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

244 
	$iswdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

248 
	$iswgøph_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

253 
	$iswlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

256 
	$isw¥öt_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

261 
	$iswpun˘_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

266 
	$isw•a˚_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

271 
	$iswuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

276 
	$iswxdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

281 
	$iswbœnk_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

285 
w˘y≥_t
 
	$w˘y≥_l
 (
__c⁄°
 *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

286 
__THROW
;

290 
	$isw˘y≥_l
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
, 
__loˇÀ_t
 
__loˇÀ
)

291 
__THROW
;

299 
wöt_t
 
	$towlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

302 
wöt_t
 
	$towuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

306 
w˘øns_t
 
	$w˘øns_l
 (
__c⁄°
 *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

307 
__THROW
;

310 
wöt_t
 
	$tow˘øns_l
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
,

311 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

315 
__END_DECLS


	@
1
.
1
/usr/include
436
19103
common/CDA/camBlobDataArea.h
common/CDA/closeNavDataArea.h
common/CDA/cognitiveDataArea.h
common/CDA/commonDataArea.h
common/CDA/controlDataArea.h
common/CDA/executiveDataArea.h
common/CDA/featureNavDataArea.h
common/CDA/laserDataArea.h
common/CDA/longNavDataArea.h
common/CDA/mapperDataArea.h
common/CDA/monitorDataArea.h
common/CDA/networkDataArea.h
common/CDA/numCogDataArea.h
common/CogMem/ANN.cpp
common/CogMem/ANN.h
common/CogMem/bpnn/backprop.cpp
common/CogMem/memregister.h
common/CogMem/memsegment.cpp
common/CogMem/memsegment.h
common/CogMem/parameters.h
common/configFile/configFile.cpp
common/configFile/configFile.h
common/control.h
common/irmaErrors.h
common/process.h
common/semaphores.h
init/init-cda.cpp
init/init-cda.h
processors/base/processor.h
processors/cameraBlobber/cameraBlobber.cpp
processors/cameraBlobber/cameraBlobber.h
processors/cameraBlobber/cvblobslib/Blob.cpp
processors/cameraBlobber/cvblobslib/Blob.h
processors/cameraBlobber/cvblobslib/BlobExtraction.cpp
processors/cameraBlobber/cvblobslib/BlobExtraction.h
processors/cameraBlobber/cvblobslib/BlobLibraryConfiguration.h
processors/cameraBlobber/cvblobslib/BlobResult.cpp
processors/cameraBlobber/cvblobslib/BlobResult.h
processors/closeRangeNavigator/closeRangeNavigator.cpp
processors/closeRangeNavigator/closeRangeNavigator.h
processors/closeRangeNavigator/simfuzlib.cpp
processors/closeRangeNavigator/simfuzlib.h
processors/executive/Common/AvrInfo.c
processors/executive/Common/AvrInfo.h
processors/executive/Common/BootLoader-api.c
processors/executive/Common/BootLoader-api.h
processors/executive/Common/FILE_Data.c
processors/executive/Common/FILE_Data.h
processors/executive/Common/FILE_Parser.c
processors/executive/Common/FILE_Parser.h
processors/executive/Common/SerialLog.c
processors/executive/Common/SerialLog.h
processors/executive/Common/i2c-api.c
processors/executive/Common/i2c-api.h
processors/executive/Common/i2c-dev.h
processors/executive/Common/i2c-io-api.c
processors/executive/Common/i2c-io-api.h
processors/executive/Config.h
processors/executive/Shared/AvrInfo.c
processors/executive/Shared/AvrInfo.h
processors/executive/Shared/BootLoader.h
processors/executive/Shared/Crc8.c
processors/executive/Shared/Crc8.h
processors/executive/Shared/Delay.h
processors/executive/Shared/DumpMem.c
processors/executive/Shared/DumpMem.h
processors/executive/Shared/Log.c
processors/executive/Shared/Log.h
processors/executive/Shared/Str.h
processors/executive/Shared/StrPrintf.c
processors/executive/Shared/i2c-io.h
processors/executive/Shared/i2c.h
processors/executive/Shared/lcd-api.c
processors/executive/Shared/lcd-hal.h
processors/executive/Shared/lcd-printf.c
processors/executive/Shared/lcd.h
processors/executive/arduino.cpp
processors/executive/arduino.h
processors/executive/clientdummy.cpp
processors/executive/clientdummy.h
processors/executive/driverSerial.cpp
processors/executive/driverSerial.h
processors/executive/executive.cpp
processors/executive/executive.h
processors/executive/i2c-adc.cpp
processors/executive/i2c-io.cpp
processors/executive/i2c-io_linus.h
processors/executive/msp.cpp
processors/executive/msp.h
processors/executive/robostix.cpp
processors/executive/robostix.h
processors/executive/svn-version.h
processors/executive/uart-io.cpp
processors/executive/uart-io.h
processors/featureNavigator/cameraComm.cpp
processors/featureNavigator/cameraComm.h
processors/featureNavigator/database.cpp
processors/featureNavigator/database.h
processors/featureNavigator/featureNavigator.cpp
processors/featureNavigator/featureNavigator.h
processors/featureNavigator/gisFart.cpp
processors/featureNavigator/gisFart.h
processors/featureNavigator/sql.cpp
processors/featureNavigator/sql.h
processors/laser/CImg.h
processors/laser/calculos.cpp
processors/laser/calculos.h
processors/laser/ekf.c
processors/laser/ekf.h
processors/laser/laser.c
processors/laser/laser.cpp
processors/laser/laser.h
processors/laser/laser_old.c
processors/laser/laser_old.cpp
processors/laser/matlabfile.c
processors/laser/matlabfile.h
processors/laser/polar_matching/mainpage.h
processors/laser/polar_matching/polar_matching/draw.c
processors/laser/polar_matching/polar_matching/draw.h
processors/laser/polar_matching/polar_matching/polar_match.cpp
processors/laser/polar_matching/polar_matching/polar_match.h
processors/laser/polar_matching/test/example.cpp
processors/laser/polar_matching/test/main.cpp
processors/laser/urg-0.8.18/config.h
processors/laser/urg-0.8.18/include/c/detect_os.h
processors/laser/urg-0.8.18/include/c/math_utils.h
processors/laser/urg-0.8.18/include/c/ring_buffer.h
processors/laser/urg-0.8.18/include/c/serial_ctrl.h
processors/laser/urg-0.8.18/include/c/serial_t.h
processors/laser/urg-0.8.18/include/c/serial_t_lin.h
processors/laser/urg-0.8.18/include/c/serial_t_win.h
processors/laser/urg-0.8.18/include/c/serial_utils.h
processors/laser/urg-0.8.18/include/c/urg_ctrl.h
processors/laser/urg-0.8.18/include/c/urg_delay.h
processors/laser/urg-0.8.18/include/c/urg_parameter_t.h
processors/laser/urg-0.8.18/include/c/urg_t.h
processors/laser/urg-0.8.18/include/c/urg_ticks.h
processors/laser/urg-0.8.18/include/cpp/Angle.h
processors/laser/urg-0.8.18/include/cpp/CaptureSettings.h
processors/laser/urg-0.8.18/include/cpp/ConditionVariable.h
processors/laser/urg-0.8.18/include/cpp/Connection.h
processors/laser/urg-0.8.18/include/cpp/ConnectionUtils.h
processors/laser/urg-0.8.18/include/cpp/Coordinate.h
processors/laser/urg-0.8.18/include/cpp/DetectOS.h
processors/laser/urg-0.8.18/include/cpp/DeviceIpManager.h
processors/laser/urg-0.8.18/include/cpp/DeviceServer.h
processors/laser/urg-0.8.18/include/cpp/FindComPorts.h
processors/laser/urg-0.8.18/include/cpp/IsUsbCom.h
processors/laser/urg-0.8.18/include/cpp/Lock.h
processors/laser/urg-0.8.18/include/cpp/LockGuard.h
processors/laser/urg-0.8.18/include/cpp/LogNameHolder.h
processors/laser/urg-0.8.18/include/cpp/MathUtils.h
processors/laser/urg-0.8.18/include/cpp/MonitorDataHandler.h
processors/laser/urg-0.8.18/include/cpp/MonitorEventScheduler.h
processors/laser/urg-0.8.18/include/cpp/MonitorModeManager.h
processors/laser/urg-0.8.18/include/cpp/Point.h
processors/laser/urg-0.8.18/include/cpp/Position.h
processors/laser/urg-0.8.18/include/cpp/RangeCaptureMode.h
processors/laser/urg-0.8.18/include/cpp/RangeSensor.h
processors/laser/urg-0.8.18/include/cpp/RangeSensorParameter.h
processors/laser/urg-0.8.18/include/cpp/RingBuffer.h
processors/laser/urg-0.8.18/include/cpp/Semaphore.h
processors/laser/urg-0.8.18/include/cpp/SerialDevice.h
processors/laser/urg-0.8.18/include/cpp/TcpipSocket.h
processors/laser/urg-0.8.18/include/cpp/Thread.h
processors/laser/urg-0.8.18/include/cpp/UrgCtrl.h
processors/laser/urg-0.8.18/include/cpp/UrgDevice.h
processors/laser/urg-0.8.18/include/cpp/UrgServer.h
processors/laser/urg-0.8.18/include/cpp/UrgUsbCom.h
processors/laser/urg-0.8.18/include/cpp/UrgUtils.h
processors/laser/urg-0.8.18/include/cpp/delay.h
processors/laser/urg-0.8.18/include/cpp/findUrgPorts.h
processors/laser/urg-0.8.18/include/cpp/isUsingComDriver.h
processors/laser/urg-0.8.18/include/cpp/log_printf.h
processors/laser/urg-0.8.18/include/cpp/mConnection.h
processors/laser/urg-0.8.18/include/cpp/mUrgDevice.h
processors/laser/urg-0.8.18/include/cpp/split.h
processors/laser/urg-0.8.18/include/cpp/ticks.h
processors/laser/urg-0.8.18/samples/c/capture_sample.c
processors/laser/urg-0.8.18/samples/c/convert_2d.c
processors/laser/urg-0.8.18/samples/c/gd_scan.c
processors/laser/urg-0.8.18/samples/c/get_parameters.c
processors/laser/urg-0.8.18/samples/c/get_timestamp.c
processors/laser/urg-0.8.18/samples/c/get_version_lines.c
processors/laser/urg-0.8.18/samples/c/intensity_sample.c
processors/laser/urg-0.8.18/samples/c/md_scan.c
processors/laser/urg-0.8.18/samples/c/multi_urg.c
processors/laser/urg-0.8.18/samples/c/partial_scan.c
processors/laser/urg-0.8.18/samples/cpp/acquire_data.cpp
processors/laser/urg-0.8.18/samples/cpp/connectById.cpp
processors/laser/urg-0.8.18/samples/cpp/findUrgPorts.cpp
processors/laser/urg-0.8.18/samples/cpp/gdScan.cpp
processors/laser/urg-0.8.18/samples/cpp/intensityScan.cpp
processors/laser/urg-0.8.18/samples/cpp/mdScan.cpp
processors/laser/urg-0.8.18/samples/cpp/parameterLines.cpp
processors/laser/urg-0.8.18/samples/cpp/serialId.cpp
processors/laser/urg-0.8.18/samples/cpp/thread_scan.cpp
processors/laser/urg-0.8.18/samples/cpp/versionLines.cpp
processors/laser/urg-0.8.18/samples/cpp_ethernet/captureIntensitySample.cpp
processors/laser/urg-0.8.18/samples/scip_samples/ScipUtils.cpp
processors/laser/urg-0.8.18/samples/scip_samples/ScipUtils.h
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_cr.cpp
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_gd.cpp
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_ii.cpp
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_md.cpp
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_pp.cpp
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_scip.cpp
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_ss.cpp
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_tm.cpp
processors/laser/urg-0.8.18/samples/scip_samples/scip_20_vv.cpp
processors/laser/urg-0.8.18/src/c/connection/ring_buffer.c
processors/laser/urg-0.8.18/src/c/connection/ring_buffer.h
processors/laser/urg-0.8.18/src/c/connection/serial_ctrl.c
processors/laser/urg-0.8.18/src/c/connection/serial_ctrl.h
processors/laser/urg-0.8.18/src/c/connection/serial_ctrl_lin.c
processors/laser/urg-0.8.18/src/c/connection/serial_ctrl_win.c
processors/laser/urg-0.8.18/src/c/connection/serial_errno.h
processors/laser/urg-0.8.18/src/c/connection/serial_t.h
processors/laser/urg-0.8.18/src/c/connection/serial_t_lin.h
processors/laser/urg-0.8.18/src/c/connection/serial_t_win.h
processors/laser/urg-0.8.18/src/c/connection/serial_utils.c
processors/laser/urg-0.8.18/src/c/connection/serial_utils.h
processors/laser/urg-0.8.18/src/c/system/detect_os.h
processors/laser/urg-0.8.18/src/c/system/math_utils.h
processors/laser/urg-0.8.18/src/c/system/urg_delay.c
processors/laser/urg-0.8.18/src/c/system/urg_delay.h
processors/laser/urg-0.8.18/src/c/system/urg_ticks.c
processors/laser/urg-0.8.18/src/c/system/urg_ticks.h
processors/laser/urg-0.8.18/src/c/urg/scip_handler.c
processors/laser/urg-0.8.18/src/c/urg/scip_handler.h
processors/laser/urg-0.8.18/src/c/urg/urg_ctrl.c
processors/laser/urg-0.8.18/src/c/urg/urg_ctrl.h
processors/laser/urg-0.8.18/src/c/urg/urg_errno.c
processors/laser/urg-0.8.18/src/c/urg/urg_errno.h
processors/laser/urg-0.8.18/src/c/urg/urg_parameter_t.h
processors/laser/urg-0.8.18/src/c/urg/urg_t.h
processors/laser/urg-0.8.18/src/cpp/common/RingBuffer.h
processors/laser/urg-0.8.18/src/cpp/common/split.cpp
processors/laser/urg-0.8.18/src/cpp/common/split.h
processors/laser/urg-0.8.18/src/cpp/connection/Connection.h
processors/laser/urg-0.8.18/src/cpp/connection/ConnectionUtils.cpp
processors/laser/urg-0.8.18/src/cpp/connection/ConnectionUtils.h
processors/laser/urg-0.8.18/src/cpp/connection/FindComPorts.cpp
processors/laser/urg-0.8.18/src/cpp/connection/FindComPorts.h
processors/laser/urg-0.8.18/src/cpp/connection/IsUsbCom.h
processors/laser/urg-0.8.18/src/cpp/connection/SerialDevice.cpp
processors/laser/urg-0.8.18/src/cpp/connection/SerialDevice.h
processors/laser/urg-0.8.18/src/cpp/connection/SerialDevice_lin.cpp
processors/laser/urg-0.8.18/src/cpp/connection/SerialDevice_win.cpp
processors/laser/urg-0.8.18/src/cpp/connection/TcpipSocket.h
processors/laser/urg-0.8.18/src/cpp/connection/isUsingComDriver.cpp
processors/laser/urg-0.8.18/src/cpp/connection/isUsingComDriver.h
processors/laser/urg-0.8.18/src/cpp/connection/sdl/SdlNetInit.cpp
processors/laser/urg-0.8.18/src/cpp/connection/sdl/SdlNetInit.h
processors/laser/urg-0.8.18/src/cpp/connection/sdl/SocketSet.cpp
processors/laser/urg-0.8.18/src/cpp/connection/sdl/SocketSet.h
processors/laser/urg-0.8.18/src/cpp/connection/sdl/TcpipServer.cpp
processors/laser/urg-0.8.18/src/cpp/connection/sdl/TcpipServer.h
processors/laser/urg-0.8.18/src/cpp/connection/sdl/TcpipSocket.cpp
processors/laser/urg-0.8.18/src/cpp/coordinate/Coordinate.cpp
processors/laser/urg-0.8.18/src/cpp/coordinate/Coordinate.h
processors/laser/urg-0.8.18/src/cpp/geometry/Angle.cpp
processors/laser/urg-0.8.18/src/cpp/geometry/Angle.h
processors/laser/urg-0.8.18/src/cpp/geometry/Point.h
processors/laser/urg-0.8.18/src/cpp/geometry/Position.h
processors/laser/urg-0.8.18/src/cpp/monitor/DeviceIpManager.cpp
processors/laser/urg-0.8.18/src/cpp/monitor/DeviceIpManager.h
processors/laser/urg-0.8.18/src/cpp/monitor/DeviceServer.h
processors/laser/urg-0.8.18/src/cpp/monitor/LogNameHolder.cpp
processors/laser/urg-0.8.18/src/cpp/monitor/LogNameHolder.h
processors/laser/urg-0.8.18/src/cpp/monitor/MonitorDataHandler.cpp
processors/laser/urg-0.8.18/src/cpp/monitor/MonitorDataHandler.h
processors/laser/urg-0.8.18/src/cpp/monitor/MonitorEventScheduler.cpp
processors/laser/urg-0.8.18/src/cpp/monitor/MonitorEventScheduler.h
processors/laser/urg-0.8.18/src/cpp/monitor/MonitorModeManager.cpp
processors/laser/urg-0.8.18/src/cpp/monitor/MonitorModeManager.h
processors/laser/urg-0.8.18/src/cpp/monitor/UrgServer.cpp
processors/laser/urg-0.8.18/src/cpp/monitor/UrgServer.h
processors/laser/urg-0.8.18/src/cpp/monitor/mConnection.cpp
processors/laser/urg-0.8.18/src/cpp/monitor/mConnection.h
processors/laser/urg-0.8.18/src/cpp/monitor/mUrgDevice.cpp
processors/laser/urg-0.8.18/src/cpp/monitor/mUrgDevice.h
processors/laser/urg-0.8.18/src/cpp/system/ConditionVariable.h
processors/laser/urg-0.8.18/src/cpp/system/DetectOS.h
processors/laser/urg-0.8.18/src/cpp/system/Lock.cpp
processors/laser/urg-0.8.18/src/cpp/system/Lock.h
processors/laser/urg-0.8.18/src/cpp/system/LockGuard.cpp
processors/laser/urg-0.8.18/src/cpp/system/LockGuard.h
processors/laser/urg-0.8.18/src/cpp/system/MathUtils.cpp
processors/laser/urg-0.8.18/src/cpp/system/MathUtils.h
processors/laser/urg-0.8.18/src/cpp/system/MonitorModeManager.cpp
processors/laser/urg-0.8.18/src/cpp/system/MonitorModeManager.h
processors/laser/urg-0.8.18/src/cpp/system/SdlInit.cpp
processors/laser/urg-0.8.18/src/cpp/system/SdlInit.h
processors/laser/urg-0.8.18/src/cpp/system/Semaphore.cpp
processors/laser/urg-0.8.18/src/cpp/system/Semaphore.h
processors/laser/urg-0.8.18/src/cpp/system/Thread.cpp
processors/laser/urg-0.8.18/src/cpp/system/Thread.h
processors/laser/urg-0.8.18/src/cpp/system/delay.cpp
processors/laser/urg-0.8.18/src/cpp/system/delay.h
processors/laser/urg-0.8.18/src/cpp/system/log_printf.cpp
processors/laser/urg-0.8.18/src/cpp/system/log_printf.h
processors/laser/urg-0.8.18/src/cpp/system/system_delay.cpp
processors/laser/urg-0.8.18/src/cpp/system/system_delay.h
processors/laser/urg-0.8.18/src/cpp/system/system_ticks.cpp
processors/laser/urg-0.8.18/src/cpp/system/system_ticks.h
processors/laser/urg-0.8.18/src/cpp/system/ticks.cpp
processors/laser/urg-0.8.18/src/cpp/system/ticks.h
processors/laser/urg-0.8.18/src/cpp/urg/CaptureSettings.h
processors/laser/urg-0.8.18/src/cpp/urg/RangeCaptureMode.h
processors/laser/urg-0.8.18/src/cpp/urg/RangeSensor.h
processors/laser/urg-0.8.18/src/cpp/urg/RangeSensorParameter.h
processors/laser/urg-0.8.18/src/cpp/urg/ScipHandler.cpp
processors/laser/urg-0.8.18/src/cpp/urg/ScipHandler.h
processors/laser/urg-0.8.18/src/cpp/urg/UrgCtrl.cpp
processors/laser/urg-0.8.18/src/cpp/urg/UrgCtrl.h
processors/laser/urg-0.8.18/src/cpp/urg/UrgDevice.cpp
processors/laser/urg-0.8.18/src/cpp/urg/UrgDevice.h
processors/laser/urg-0.8.18/src/cpp/urg/UrgUsbCom.cpp
processors/laser/urg-0.8.18/src/cpp/urg/UrgUsbCom.h
processors/laser/urg-0.8.18/src/cpp/urg/UrgUtils.h
processors/laser/urg-0.8.18/src/cpp/urg/findUrgPorts.cpp
processors/laser/urg-0.8.18/src/cpp/urg/findUrgPorts.h
processors/laser/view.c
processors/laser/view.h
processors/longRangeNavigator/GALRN.cpp
processors/longRangeNavigator/GALRN.h
processors/longRangeNavigator/InternalMap.cpp
processors/longRangeNavigator/InternalMap.h
processors/longRangeNavigator/MandamiFuzzyModel.cpp
processors/longRangeNavigator/MandamiFuzzyModel.h
processors/longRangeNavigator/MembershipFunctions_1D.cpp
processors/longRangeNavigator/MembershipFunctions_1D.h
processors/longRangeNavigator/Utils.cpp
processors/longRangeNavigator/Utils.h
processors/longRangeNavigator/longRangeNavigator.cpp
processors/longRangeNavigator/longRangeNavigator.h
processors/mapper/MapClass.cpp
processors/mapper/MapClass.h
processors/mapper/mapper.cpp
processors/mapper/mapper.h
processors/monitor/monitor.cpp
processors/monitor/monitor.h
processors/network/network.cpp
processors/network/network.h
processors/numCognitive/cNN.c
processors/numCognitive/cNN.h
processors/numCognitive/numCognitive.cpp
processors/numCognitive/numCognitive.h
processors/objCognitive/hitreg.cpp
processors/objCognitive/hitreg.h
processors/objCognitive/memorythread.cpp
processors/objCognitive/memorythread.h
processors/objCognitive/objCognitive.cpp
processors/objCognitive/objCognitive.h
utils/brainPeek/blobinfogui.cpp
utils/brainPeek/blobinfogui.h
utils/brainPeek/bpwidget.cpp
utils/brainPeek/bpwidget.h
utils/brainPeek/main.cpp
utils/memoryTrainer/memoryTrainer.cpp
utils/memoryTrainer/memoryTrainer.h
/usr/include/X11/Xlib.h
/usr/include/X11/Xutil.h
/usr/include/X11/extensions/XShm.h
/usr/include/X11/extensions/Xrandr.h
/usr/include/X11/keysym.h
/usr/include/arpa/inet.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/getopt.h
/usr/include/inttypes.h
/usr/include/libavcodec/avcodec.h
/usr/include/libavformat/avformat.h
/usr/include/libswscale/swscale.h
/usr/include/limits.h
/usr/include/linux/types.h
/usr/include/math.h
/usr/include/netdb.h
/usr/include/netinet/in.h
/usr/include/png.h
/usr/include/pthread.h
/usr/include/regex.h
/usr/include/setjmp.h
/usr/include/signal.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/termios.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/zlib.h
/usr/include/X11/X.h
/usr/include/X11/Xfuncproto.h
/usr/include/X11/Xosdefs.h
/usr/include/X11/extensions/Xrender.h
/usr/include/X11/extensions/randr.h
/usr/include/X11/extensions/shm.h
/usr/include/X11/keysymdef.h
/usr/include/alloca.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/libavcodec/version.h
/usr/include/libavformat/version.h
/usr/include/libavutil/audioconvert.h
/usr/include/libavutil/avutil.h
/usr/include/libavutil/cpu.h
/usr/include/libavutil/dict.h
/usr/include/libavutil/log.h
/usr/include/libavutil/pixfmt.h
/usr/include/libavutil/rational.h
/usr/include/libavutil/samplefmt.h
/usr/include/libio.h
/usr/include/linux/posix_types.h
/usr/include/pngconf.h
/usr/include/rpc/netdb.h
/usr/include/sched.h
/usr/include/xlocale.h
/usr/include/zconf.h
/usr/include/X11/Xmd.h
/usr/include/X11/extensions/render.h
/usr/include/_G_config.h
/usr/include/error.h
/usr/include/libavutil/avconfig.h
/usr/include/linux/stddef.h
/usr/include/malloc.h
/usr/include/strings.h
/usr/include/zlibdefs.h
/usr/include/X11/Xdefs.h
/usr/include/gconv.h
/usr/include/wchar.h
/usr/include/wctype.h
