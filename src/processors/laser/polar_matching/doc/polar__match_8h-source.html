<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>PolarScanMatching(PSM): polar_matching/polar_match.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>polar_matching/polar_match.h</h1><a href="polar__match_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*                                                                                                                         **************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">                          polar_match.h  - Matching laser scans in polar coord system</span>
<a name="l00003"></a>00003 <span class="comment">                             -------------------</span>
<a name="l00004"></a>00004 <span class="comment">    begin                : Tue Nov 9 2004</span>
<a name="l00005"></a>00005 <span class="comment">    version              : 0.3    </span>
<a name="l00006"></a>00006 <span class="comment">    copyright            : (C) 2004-2010 by Albert Diosi and Lindsay Kleeman</span>
<a name="l00007"></a>00007 <span class="comment">    email                : albert.diosi@gmail.com</span>
<a name="l00008"></a>00008 <span class="comment">    comments             : - range units are cm; angle units are radians or degrees</span>
<a name="l00009"></a>00009 <span class="comment">                           - the laser is on the robot's Y axis</span>
<a name="l00010"></a>00010 <span class="comment">                           - in scan projections, occluded ref scanpoints are not removed!</span>
<a name="l00011"></a>00011 <span class="comment">                           - TODO: Investigate why is checking the range difference necessary for </span>
<a name="l00012"></a>00012 <span class="comment">                            the Hokuyo UTM and not for the rest.</span>
<a name="l00013"></a>00013 <span class="comment"> ***************************************************************************/</span>
<a name="l00014"></a>00014 <span class="comment">/****************************************************************************</span>
<a name="l00015"></a>00015 <span class="comment">Copyright (c) 2004-2010, Albert Diosi and Lindsay Kleeman</span>
<a name="l00016"></a>00016 <span class="comment">All rights reserved.</span>
<a name="l00017"></a>00017 <span class="comment"></span>
<a name="l00018"></a>00018 <span class="comment">Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</span>
<a name="l00019"></a>00019 <span class="comment"></span>
<a name="l00020"></a>00020 <span class="comment">    * Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</span>
<a name="l00021"></a>00021 <span class="comment">    * Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</span>
<a name="l00022"></a>00022 <span class="comment">    * The name of the copyright holders may not be used to endorse or promote products derived from this software without specific prior written permission.</span>
<a name="l00023"></a>00023 <span class="comment"></span>
<a name="l00024"></a>00024 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00025"></a>00025 <span class="comment">****************************************************************************/</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="comment">/*</span>
<a name="l00028"></a>00028 <span class="comment">First of all you need to select the laser range finder you have by</span>
<a name="l00029"></a>00029 <span class="comment">setting "#define PM_LASER "</span>
<a name="l00030"></a>00030 <span class="comment">to PM_SICK_LMS200, PM_HOKUYO_URG_04LX. </span>
<a name="l00031"></a>00031 <span class="comment">*/</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#ifndef _POLAR_MATCH_</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="preprocessor">#define _POLAR_MATCH_</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment">//TODO: get the result generation to work again:</span>
<a name="l00039"></a>00039 <span class="comment">//#define PM_GENERATE_RESULTS //If left uncommented scanmatching results are</span>
<a name="l00040"></a>00040                      <span class="comment">//saved into the "results"directory if two required programs are present.</span>
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 <span class="comment">//----------------- L A S E R    S P E C I F I C    P A R A M E T E R S------------</span>
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="comment">// STEP 1) Define a name for your laser range finder here (if it hasn't been defined yet):</span>
<a name="l00045"></a><a class="code" href="polar__match_8h.html#1f1545ae657e3e45bd93e57f9df9a774">00045</a> <span class="preprocessor">#define PM_PSD_SCANNER      0</span>
<a name="l00046"></a><a class="code" href="polar__match_8h.html#88446d4afac7a19b554b1ef7351e00d5">00046</a> <span class="preprocessor"></span><span class="preprocessor">#define PM_HOKUYO_URG_04LX  1</span>
<a name="l00047"></a><a class="code" href="polar__match_8h.html#34dcc5c7fb9c2ee19db0e8441b353b0c">00047</a> <span class="preprocessor"></span><span class="preprocessor">#define PM_SICK_LMS200      2</span>
<a name="l00048"></a><a class="code" href="polar__match_8h.html#20c80bf5ce369e4af70df4bc86991b27">00048</a> <span class="preprocessor"></span><span class="preprocessor">#define PM_HOKUYO_UTM_30LX  3</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="comment">// STEP 2) Set the type your laser range finder here:</span>
<a name="l00051"></a>00051 <span class="comment">//  #define PM_LASER PM_SICK_LMS200</span>
<a name="l00052"></a>00052 <span class="comment">//  #define PM_LASER PM_HOKUYO_URG_04LX</span>
<a name="l00053"></a>00053 <span class="comment">//  #define PM_LASER PM_PSD_SCANNER</span>
<a name="l00054"></a><a class="code" href="polar__match_8h.html#b5589c1a2ace1e70b8e33f42111c11c0">00054</a> <span class="preprocessor">   #define PM_LASER PM_HOKUYO_UTM_30LX</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00056"></a>00056 <span class="comment">// STEP 3) Add your laser range finder's parameters here if it is a different model (use centimeters)</span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="preprocessor">#if PM_LASER ==  PM_PSD_SCANNER</span>
<a name="l00059"></a>00059 <span class="preprocessor"></span><span class="preprocessor">  #define PM_LASER_NAME       "PSD_Scanner" </span>
<a name="l00060"></a>00060 <span class="preprocessor">  #define PM_L_POINTS         200 </span>
<a name="l00061"></a>00061 <span class="preprocessor">  #define PM_FOV              360 </span>
<a name="l00062"></a>00062 <span class="preprocessor">  #define PM_MAX_RANGE        400 </span>
<a name="l00063"></a>00063 <span class="preprocessor">  #define PM_MIN_VALID_POINTS 100 </span>
<a name="l00064"></a>00064 <span class="preprocessor">  #define PM_SEARCH_WINDOW    50  </span>
<a name="l00065"></a>00065 <span class="preprocessor">  #define PM_CORRIDOR_THRESHOLD 25.0 </span>
<a name="l00066"></a>00066 <span class="preprocessor">#elif PM_LASER ==  PM_HOKUYO_URG_04LX</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span><span class="preprocessor">  #define PM_LASER_NAME       "Hokuyo URG-04LX" </span>
<a name="l00068"></a>00068 <span class="preprocessor">  #define PM_L_POINTS         682 </span>
<a name="l00069"></a>00069 <span class="preprocessor">  #define PM_FOV              240 </span>
<a name="l00070"></a>00070 <span class="preprocessor">  #define PM_MAX_RANGE        530 </span>
<a name="l00071"></a>00071 <span class="preprocessor">  #define PM_MIN_VALID_POINTS 200 </span>
<a name="l00072"></a>00072 <span class="preprocessor">  #define PM_SEARCH_WINDOW    80  </span>
<a name="l00073"></a>00073 <span class="preprocessor">  #define PM_CORRIDOR_THRESHOLD 25.0 </span>
<a name="l00074"></a>00074 <span class="preprocessor">#elif PM_LASER ==  PM_SICK_LMS200</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span><span class="preprocessor">  #define PM_LASER_NAME       "Sick LMS" </span>
<a name="l00076"></a>00076 <span class="preprocessor">  #define PM_L_POINTS         181  </span>
<a name="l00077"></a>00077 <span class="preprocessor">  #define PM_FOV              180  </span>
<a name="l00078"></a>00078 <span class="preprocessor">  #define PM_MAX_RANGE        1000 </span>
<a name="l00079"></a>00079 <span class="preprocessor">  #define PM_MIN_VALID_POINTS 40   </span>
<a name="l00080"></a>00080 <span class="preprocessor">  #define PM_SEARCH_WINDOW    20   </span>
<a name="l00081"></a>00081 <span class="preprocessor">  #define PM_CORRIDOR_THRESHOLD 25.0 </span>
<a name="l00082"></a>00082 <span class="preprocessor">#elif PM_LASER ==  PM_HOKUYO_UTM_30LX</span>
<a name="l00083"></a><a class="code" href="polar__match_8h.html#6fc025e7dda64669c01c2742b377e7bb">00083</a> <span class="preprocessor"></span><span class="preprocessor">  #define PM_LASER_NAME       "HOKUYO UTM-30LX" </span>
<a name="l00084"></a><a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261">00084</a> <span class="preprocessor">  #define PM_L_POINTS         1081  </span>
<a name="l00085"></a><a class="code" href="polar__match_8h.html#9e29b0d21c905b7aa10cebcd439f1a8b">00085</a> <span class="preprocessor">  #define PM_FOV              270  </span>
<a name="l00086"></a><a class="code" href="polar__match_8h.html#ddeab933b14db8ee4ec85c5001e9e1b6">00086</a> <span class="preprocessor">  #define PM_MAX_RANGE        700  </span>
<a name="l00087"></a><a class="code" href="polar__match_8h.html#5f67e7016ad1a22a1b3d3d4c3a2daf09">00087</a> <span class="preprocessor">  #define PM_MIN_VALID_POINTS 300   </span>
<a name="l00088"></a><a class="code" href="polar__match_8h.html#c91b4de7ae597b94bcec1c4e42e45e4a">00088</a> <span class="preprocessor">  #define PM_SEARCH_WINDOW    200   </span>
<a name="l00089"></a><a class="code" href="polar__match_8h.html#12ef0a402ef7b41d2c9fc743d6323aa2">00089</a> <span class="preprocessor">  #define PM_CORRIDOR_THRESHOLD 25.0 </span>
<a name="l00090"></a>00090 <span class="preprocessor">#endif</span>
<a name="l00091"></a>00091 <span class="preprocessor"></span>
<a name="l00092"></a>00092 <span class="comment">// STEP 4) Set the time registration delay (the time between your time stamps and the </span>
<a name="l00093"></a>00093 <span class="comment">// time the scan was taken) and the distance of your laser from the odometry center </span>
<a name="l00094"></a>00094 <span class="comment">// in the forward direction.</span>
<a name="l00095"></a><a class="code" href="polar__match_8h.html#f1bad4201ab86ef3744a85d53b2ded50">00095</a> <span class="preprocessor">#define PM_TIME_DELAY       0 </span>
<a name="l00096"></a><a class="code" href="polar__match_8h.html#cb686990f0e3ce35b264c05c9062b63a">00096</a> <span class="preprocessor">#define PM_LASER_Y          0 </span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>
<a name="l00098"></a>00098 <span class="preprocessor"></span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>
<a name="l00101"></a>00101 <span class="preprocessor"></span>
<a name="l00102"></a><a class="code" href="polar__match_8h.html#79987f669fd90361ff94eaf778709f37">00102</a> <span class="preprocessor">#define PM_MIN_RANGE        10.0f </span>
<a name="l00103"></a><a class="code" href="polar__match_8h.html#d5632a2b540e35319931ca7d0e2170a0">00103</a> <span class="preprocessor">#define PM_SEG_MAX_DIST     20.0 </span>
<a name="l00104"></a><a class="code" href="polar__match_8h.html#ee30602d40d89456b33d224ba8646f86">00104</a> <span class="preprocessor">#define PM_WEIGHTING_FACTOR 70*70 </span>
<a name="l00105"></a><a class="code" href="polar__match_8h.html#e672ca4e6355c247d2374b08c9985b0a">00105</a> <span class="preprocessor">#define PM_CHANGE_WEIGHT_ITER 10 </span>
<a name="l00106"></a>00106 <span class="preprocessor"></span>
<a name="l00107"></a><a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254">00107</a> <span class="preprocessor"></span><span class="preprocessor">#define PM_TYPE             float </span>
<a name="l00108"></a>00108 <span class="preprocessor"></span>
<a name="l00109"></a><a class="code" href="polar__match_8h.html#ac716ccdca73689fc1d4d29117c6d816">00109</a> <span class="preprocessor"></span><span class="preprocessor">#define PM_MAX_ERROR        100  </span>
<a name="l00110"></a><a class="code" href="polar__match_8h.html#9455b77f912bb1a02edd45dec9481546">00110</a> <span class="preprocessor">#define PM_STOP_COND        0.4  </span>
<a name="l00111"></a><a class="code" href="polar__match_8h.html#24a5a1c6ca5fc964a95f9c8d66321a1c">00111</a> <span class="preprocessor">#define PM_MAX_ITER         30   </span>
<a name="l00112"></a><a class="code" href="polar__match_8h.html#0989a364bb66d542863ebea24374be59">00112</a> <span class="preprocessor">#define PM_MAX_ITER_ICP     60   </span>
<a name="l00113"></a><a class="code" href="polar__match_8h.html#1e71013204bc565a4b62a6a47926c2a8">00113</a> <span class="preprocessor">#define PM_STOP_COND_ICP    0.1  </span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>
<a name="l00115"></a><a class="code" href="polar__match_8h.html#749734da50c3898c95b6570472fcdd84">00115</a> <span class="preprocessor"></span><span class="preprocessor">#define PM_MIN_STD_XY          20.0 </span>
<a name="l00116"></a><a class="code" href="polar__match_8h.html#e44b85502998a44b561543470ecd14d0">00116</a> <span class="preprocessor">#define PM_MIN_STD_ORIENTATION 4.0  </span>
<a name="l00117"></a><a class="code" href="polar__match_8h.html#127cb0f2f4998aa37f8193aa6804d58c">00117</a> <span class="preprocessor">#define PM_MATCH_ERROR_OFFSET  5.0  </span>
<a name="l00118"></a>00118 <span class="preprocessor"></span>
<a name="l00119"></a><a class="code" href="polar__match_8h.html#1b47ca281afd6f25bd2a0536090a073b">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define PM_ODO  -1 </span>
<a name="l00120"></a><a class="code" href="polar__match_8h.html#ef58bcd878269c2d222a0ecc2ec5232d">00120</a> <span class="preprocessor">#define PM_PSM   1 </span>
<a name="l00121"></a><a class="code" href="polar__match_8h.html#8d5edbed38016249ada2530b04d7db88">00121</a> <span class="preprocessor">#define PM_ICP   3 </span>
<a name="l00122"></a>00122 <span class="preprocessor"></span>
<a name="l00123"></a><a class="code" href="polar__match_8h.html#d3a56b8761c758c51c32c5b869f9c17b">00123</a> <span class="preprocessor"></span><span class="preprocessor">#define PM_TIME_FILE "results/iterations.txt" </span>
<a name="l00124"></a>00124 <span class="preprocessor"></span>
<a name="l00125"></a>00125 <span class="preprocessor"></span><span class="comment">// Description of range reading errors. Each range measurement may be tagged with one of these:</span>
<a name="l00126"></a><a class="code" href="polar__match_8h.html#57fe2d06df1606362b8af182164f1ca3">00126</a> <span class="preprocessor">#define PM_RANGE     1  </span>
<a name="l00127"></a><a class="code" href="polar__match_8h.html#9b68094f2b71d03bdfb392053de3e037">00127</a> <span class="preprocessor">#define PM_MOVING    2  </span>
<a name="l00128"></a><a class="code" href="polar__match_8h.html#9c63390241a1996a375113e70818480f">00128</a> <span class="preprocessor">#define PM_MIXED     4  </span>
<a name="l00129"></a><a class="code" href="polar__match_8h.html#514dcb3d8e039386047654eb3de7b4f8">00129</a> <span class="preprocessor">#define PM_OCCLUDED  8  </span>
<a name="l00130"></a><a class="code" href="polar__match_8h.html#7c8557515b1efc22da1f066ea3f539f1">00130</a> <span class="preprocessor">#define PM_EMPTY     16 </span>
<a name="l00131"></a>00131 <span class="preprocessor"></span>
<a name="l00132"></a>00132 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>   <a class="code" href="polar__match_8cpp.html#7adf181555b46e4183065f12259d7833" title="Contains precomputed range bearings.">pm_fi</a>[<a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261" title="Maximum number of points in a scan.">PM_L_POINTS</a>];
<a name="l00133"></a>00133 <span class="keyword">extern</span> <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>   <a class="code" href="polar__match_8cpp.html#186431107f8c86b96cf50496db0034b6" title="Contains the sinus of each bearing.">pm_si</a>[<a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261" title="Maximum number of points in a scan.">PM_L_POINTS</a>];
<a name="l00134"></a>00134 <span class="keyword">extern</span> <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>   <a class="code" href="polar__match_8cpp.html#77175495995129afb08803552007f8a4" title="Contains the cosinus of each bearing.">pm_co</a>[<a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261" title="Maximum number of points in a scan.">PM_L_POINTS</a>];
<a name="l00135"></a>00135 <span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>   <a class="code" href="polar__match_8cpp.html#de428e835e8cfeb0e14e46d7e5dc579d" title="Conversion factor for converting degrees to radians.">PM_D2R</a>; 
<a name="l00136"></a>00136 <span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>   <a class="code" href="polar__match_8cpp.html#38ae4ea2ec6736ca50b08230452430f9" title="Conversion factor for converting radians to degrees.">PM_R2D</a>; 
<a name="l00137"></a>00137 
<a name="l00147"></a><a class="code" href="structPMScan.html">00147</a> <span class="keyword">struct </span><a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a>
<a name="l00148"></a>00148 {
<a name="l00149"></a><a class="code" href="structPMScan.html#63c9643d21dcb790abd0c410e4caa451">00149</a>   <span class="keywordtype">double</span>   <a class="code" href="structPMScan.html#63c9643d21dcb790abd0c410e4caa451" title="[s] Time when scan was taken.">t</a>;    
<a name="l00150"></a><a class="code" href="structPMScan.html#062406b0c87451b9ef3782fb49a24885">00150</a>   <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>  <a class="code" href="structPMScan.html#062406b0c87451b9ef3782fb49a24885" title="[cm] Robot odometry X coordinate.">rx</a>;   
<a name="l00151"></a><a class="code" href="structPMScan.html#579f3ce07730d90ba2fd9172e52c6e9a">00151</a>   <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>  <a class="code" href="structPMScan.html#579f3ce07730d90ba2fd9172e52c6e9a" title="[cm] Robot odometry Y coordinate.">ry</a>;   
<a name="l00152"></a><a class="code" href="structPMScan.html#df52bc8071781627fd3581a0c5eae8da">00152</a>   <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>  <a class="code" href="structPMScan.html#df52bc8071781627fd3581a0c5eae8da" title="[rad] Robot orientation.">th</a>;   
<a name="l00153"></a><a class="code" href="structPMScan.html#c106ee129d6e093fe4e2d4850e1bc617">00153</a>   <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>  <a class="code" href="structPMScan.html#c106ee129d6e093fe4e2d4850e1bc617" title="[cm] Laser range readings. 0 or negative ranges denote invalid readings.">r</a>[<a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261" title="Maximum number of points in a scan.">PM_L_POINTS</a>];
<a name="l00154"></a><a class="code" href="structPMScan.html#da016fd2349c534501510be9631869c9">00154</a>   <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>  <a class="code" href="structPMScan.html#da016fd2349c534501510be9631869c9" title="[cm] Laser reading X coordinates in Cartesian coordinates.">x</a>[<a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261" title="Maximum number of points in a scan.">PM_L_POINTS</a>];
<a name="l00155"></a><a class="code" href="structPMScan.html#ccd4578e8faedefc966d0b3b9402c337">00155</a>   <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a>  <a class="code" href="structPMScan.html#ccd4578e8faedefc966d0b3b9402c337" title="[cm] Laser reading Y coordinates in Cartesian coordinates.">y</a>[<a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261" title="Maximum number of points in a scan.">PM_L_POINTS</a>];
<a name="l00156"></a><a class="code" href="structPMScan.html#1ea926d55540bea8113f054ed09f36bc">00156</a>   <span class="keywordtype">int</span>      <a class="code" href="structPMScan.html#1ea926d55540bea8113f054ed09f36bc" title="Tag describing the validity of a range measurement. 0 if OK; sources of invalidity...">bad</a>[<a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261" title="Maximum number of points in a scan.">PM_L_POINTS</a>];
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 
<a name="l00159"></a><a class="code" href="structPMScan.html#b3ac2241982230825fad8deff308acdf">00159</a>   <span class="keywordtype">int</span>      <a class="code" href="structPMScan.html#b3ac2241982230825fad8deff308acdf" title="Describes which segment the range reading belongs to.">seg</a>[<a class="code" href="polar__match_8h.html#fbd71471c9ea93ba0bdef75c051cb261" title="Maximum number of points in a scan.">PM_L_POINTS</a>];
<a name="l00160"></a>00160 };
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="keywordtype">void</span> <a class="code" href="polar__match_8cpp.html#0f7e0f3dc45ce48e996e67146dacbc6e" title="Initialises internal variables and opens a log file.">pm_init</a>(<span class="keyword">const</span>  <span class="keywordtype">char</span>* filename=NULL, FILE **fin=NULL);
<a name="l00163"></a>00163 <span class="keywordtype">int</span>  <a class="code" href="polar__match_8cpp.html#f0959739b175ea5bee403844ec8fe348" title="Reads one scan from file fin and stores it in ls.">pm_readScan</a>(FILE *fin, <a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *ls);
<a name="l00164"></a>00164 <span class="keywordtype">void</span> <a class="code" href="polar__match_8cpp.html#da0c2b85d87b32706c919c721d8a7553" title="Saves scan in a text file.">pm_save_scan</a>(<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *act,<span class="keyword">const</span> <span class="keywordtype">char</span> *filename);
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 <span class="keywordtype">void</span> <a class="code" href="polar__match_8cpp.html#748e87f2c5ded82e517d1bcd9fc7322b" title="Prepares a scan for scan matching.">pm_preprocessScan</a>(<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *ls);
<a name="l00167"></a>00167 
<a name="l00168"></a>00168 <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> <a class="code" href="polar__match_8cpp.html#a84d80a545d2ec2b25bdf2a6bfa5a862" title="Match two laser scans using polar scan matching.">pm_psm</a>( <span class="keyword">const</span> <a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *lsr,<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *lsa);
<a name="l00169"></a>00169 <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> <a class="code" href="polar__match_8cpp.html#18792f0a29282b0365341e80ceb46681" title="Matches two laser scans using the iterative closest point method.">pm_icp</a>( <span class="keyword">const</span> <a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *lsr,<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *lsa);
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 <span class="keywordtype">void</span> <a class="code" href="polar__match_8cpp.html#9b46af0b735c752883fb5ac8e16b7fa3" title="Plots scan ls at robot/laser pose x, y, th.">pm_plotScanAt</a>(<span class="keyword">const</span> <a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *ls, <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> x,<a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> y,<a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> th,<span class="keyword">const</span> <span class="keywordtype">char</span> *col, <span class="keywordtype">double</span> diameter = 2.0, <span class="keywordtype">bool</span> connect_lines = <span class="keyword">false</span>);
<a name="l00172"></a>00172 <span class="keywordtype">void</span> <a class="code" href="polar__match_8cpp.html#4802660b0964aeb03f783c2da662a1f2" title="Plots scan ls.">pm_plotScan</a>(<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *ls, <span class="keyword">const</span> <span class="keywordtype">char</span> *col,<span class="keywordtype">double</span> diameter = 2.0, <span class="keywordtype">bool</span> connect_lines = <span class="keyword">false</span>);
<a name="l00173"></a>00173 <span class="keywordtype">void</span> <a class="code" href="polar__match_8cpp.html#09ec80e246f96fea1d9384164824c8a3" title="Shows segmentation results by plotting segments with different colours.">pm_show_segmentation</a>(<span class="keyword">const</span> <a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *ls);
<a name="l00174"></a>00174 <span class="keywordtype">void</span> <a class="code" href="polar__match_8cpp.html#22eabc3feff28cd8fd8fb19571e6b675" title="Plots current and reference scan in the way scans appeared in my thesis.">pm_plotScan4Thesis</a>(<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *lsr,<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *lsa);
<a name="l00175"></a>00175 <span class="keywordtype">void</span> <a class="code" href="polar__match_8cpp.html#e604d53b9bd9dc8f25e3730f68548696" title="Generates a convergence speed plot from previously saved result.">pm_plotTime4Thesis</a>(<a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> xt, <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> yt, <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> tht,<span class="keywordtype">int</span> *iter=NULL,<span class="keywordtype">double</span> *time=NULL);
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 <span class="keywordtype">bool</span>    <a class="code" href="polar__match_8cpp.html#af222f8943373c7a4a0bbc8f69d6fd72" title="Guesses if a scan was taken on a corridor.">pm_is_corridor</a>(<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *act);
<a name="l00178"></a>00178 <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> <a class="code" href="polar__match_8cpp.html#90a35f8730af8bf63851a685506764ff" title="Calculates an error index expressing the quality of a match.">pm_error_index</a>(<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *lsr,<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *lsa);
<a name="l00179"></a>00179 <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> <a class="code" href="polar__match_8cpp.html#8a45a7dfd0a27cb37fa9defb046d0cd1" title="More quickly calculates an error index expressing the quality of a match.">pm_error_index2</a> ( <a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *ref,<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *cur, <span class="keywordtype">int</span>* associatedPoints=NULL );
<a name="l00180"></a>00180 <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> <a class="code" href="polar__match_8cpp.html#269e637afa67455e2a281485c2132cd1" title="Determines the orientation of a corridor.">pm_corridor_angle</a>(<a class="code" href="structPMScan.html" title="Structure describing a laser scan.">PMScan</a> *act);
<a name="l00181"></a>00181 <span class="keywordtype">void</span>    <a class="code" href="polar__match_8cpp.html#bc19e91958ea7d076a589667267e0df8" title="Estimates the covariance matrix of a match.">pm_cov_est</a>(<a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> err, <span class="keywordtype">double</span> *c11,<span class="keywordtype">double</span> *c12, <span class="keywordtype">double</span> *c22, <span class="keywordtype">double</span> *c33,
<a name="l00182"></a>00182                    <span class="keywordtype">bool</span> corridor=<span class="keyword">false</span>, <a class="code" href="polar__match_8h.html#d51e4b68f66ac8b34eb967900cf88254" title="The variable type used in calculations. Change it to double for higher accuracy and...">PM_TYPE</a> corr_angle=0);
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="keywordtype">void</span>  <a class="code" href="polar__match_8cpp.html#638c6a6597bfa0c9b8388d305a051b9b" title="Performs unit tests on scan matching.">pm_unit_test</a>(<span class="keywordtype">int</span> matching_alg = <a class="code" href="polar__match_8h.html#ef58bcd878269c2d222a0ecc2ec5232d" title="Polar scan matching - matching bearing association rule.">PM_PSM</a>, <span class="keywordtype">bool</span> interactive=<span class="keyword">true</span>);
<a name="l00185"></a>00185 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 21 10:19:15 2010 for PolarScanMatching(PSM) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
